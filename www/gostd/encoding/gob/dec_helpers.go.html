<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4728013">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4728072">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4728127">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4728181">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4728232">package</span>&nbsp;<span class="ident" id="4728240">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4728245">import</span>&nbsp;<span class="op" id="4728252">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4728255">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4728263">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4728273">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4728276">var</span>&nbsp;<span class="ident" id="4728280">decArrayHelper</span>&nbsp;<span class="op" id="4728295">=</span>&nbsp;<span class="keyword" id="4728297">map</span><span class="op" id="4728300">[</span><span class="ident" id="4728301">reflect</span><span class="op" id="4728308">.</span><span class="ident" id="4728309">Kind</span><span class="op" id="4728313">]</span><span class="ident" id="4728314">decHelper</span><span class="op" id="4728323">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728326">reflect</span><span class="op" id="4728333">.</span><span class="ident" id="4728334">Bool</span><span class="op" id="4728338">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728346">decBoolArray</span><span class="op" id="4728358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728361">reflect</span><span class="op" id="4728368">.</span><span class="ident" id="4728369">Complex64</span><span class="op" id="4728378">:</span>&nbsp;&nbsp;<span class="ident" id="4728381">decComplex64Array</span><span class="op" id="4728398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728401">reflect</span><span class="op" id="4728408">.</span><span class="ident" id="4728409">Complex128</span><span class="op" id="4728419">:</span>&nbsp;<span class="ident" id="4728421">decComplex128Array</span><span class="op" id="4728439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728442">reflect</span><span class="op" id="4728449">.</span><span class="ident" id="4728450">Float32</span><span class="op" id="4728457">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728462">decFloat32Array</span><span class="op" id="4728477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728480">reflect</span><span class="op" id="4728487">.</span><span class="ident" id="4728488">Float64</span><span class="op" id="4728495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728500">decFloat64Array</span><span class="op" id="4728515">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728518">reflect</span><span class="op" id="4728525">.</span><span class="ident" id="4728526">Int</span><span class="op" id="4728529">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728538">decIntArray</span><span class="op" id="4728549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728552">reflect</span><span class="op" id="4728559">.</span><span class="ident" id="4728560">Int16</span><span class="op" id="4728565">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728572">decInt16Array</span><span class="op" id="4728585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728588">reflect</span><span class="op" id="4728595">.</span><span class="ident" id="4728596">Int32</span><span class="op" id="4728601">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728608">decInt32Array</span><span class="op" id="4728621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728624">reflect</span><span class="op" id="4728631">.</span><span class="ident" id="4728632">Int64</span><span class="op" id="4728637">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728644">decInt64Array</span><span class="op" id="4728657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728660">reflect</span><span class="op" id="4728667">.</span><span class="ident" id="4728668">Int8</span><span class="op" id="4728672">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728680">decInt8Array</span><span class="op" id="4728692">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728695">reflect</span><span class="op" id="4728702">.</span><span class="ident" id="4728703">String</span><span class="op" id="4728709">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728715">decStringArray</span><span class="op" id="4728729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728732">reflect</span><span class="op" id="4728739">.</span><span class="ident" id="4728740">Uint</span><span class="op" id="4728744">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728752">decUintArray</span><span class="op" id="4728764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728767">reflect</span><span class="op" id="4728774">.</span><span class="ident" id="4728775">Uint16</span><span class="op" id="4728781">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728787">decUint16Array</span><span class="op" id="4728801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728804">reflect</span><span class="op" id="4728811">.</span><span class="ident" id="4728812">Uint32</span><span class="op" id="4728818">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728824">decUint32Array</span><span class="op" id="4728838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728841">reflect</span><span class="op" id="4728848">.</span><span class="ident" id="4728849">Uint64</span><span class="op" id="4728855">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728861">decUint64Array</span><span class="op" id="4728875">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728878">reflect</span><span class="op" id="4728885">.</span><span class="ident" id="4728886">Uintptr</span><span class="op" id="4728893">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728898">decUintptrArray</span><span class="op" id="4728913">,</span><br>
<span class="lineno"></span><span class="op" id="4728915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4728918">var</span>&nbsp;<span class="ident" id="4728922">decSliceHelper</span>&nbsp;<span class="op" id="4728937">=</span>&nbsp;<span class="keyword" id="4728939">map</span><span class="op" id="4728942">[</span><span class="ident" id="4728943">reflect</span><span class="op" id="4728950">.</span><span class="ident" id="4728951">Kind</span><span class="op" id="4728955">]</span><span class="ident" id="4728956">decHelper</span><span class="op" id="4728965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728968">reflect</span><span class="op" id="4728975">.</span><span class="ident" id="4728976">Bool</span><span class="op" id="4728980">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4728988">decBoolSlice</span><span class="op" id="4729000">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729003">reflect</span><span class="op" id="4729010">.</span><span class="ident" id="4729011">Complex64</span><span class="op" id="4729020">:</span>&nbsp;&nbsp;<span class="ident" id="4729023">decComplex64Slice</span><span class="op" id="4729040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729043">reflect</span><span class="op" id="4729050">.</span><span class="ident" id="4729051">Complex128</span><span class="op" id="4729061">:</span>&nbsp;<span class="ident" id="4729063">decComplex128Slice</span><span class="op" id="4729081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729084">reflect</span><span class="op" id="4729091">.</span><span class="ident" id="4729092">Float32</span><span class="op" id="4729099">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729104">decFloat32Slice</span><span class="op" id="4729119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729122">reflect</span><span class="op" id="4729129">.</span><span class="ident" id="4729130">Float64</span><span class="op" id="4729137">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729142">decFloat64Slice</span><span class="op" id="4729157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729160">reflect</span><span class="op" id="4729167">.</span><span class="ident" id="4729168">Int</span><span class="op" id="4729171">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729180">decIntSlice</span><span class="op" id="4729191">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729194">reflect</span><span class="op" id="4729201">.</span><span class="ident" id="4729202">Int16</span><span class="op" id="4729207">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729214">decInt16Slice</span><span class="op" id="4729227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729230">reflect</span><span class="op" id="4729237">.</span><span class="ident" id="4729238">Int32</span><span class="op" id="4729243">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729250">decInt32Slice</span><span class="op" id="4729263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729266">reflect</span><span class="op" id="4729273">.</span><span class="ident" id="4729274">Int64</span><span class="op" id="4729279">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729286">decInt64Slice</span><span class="op" id="4729299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729302">reflect</span><span class="op" id="4729309">.</span><span class="ident" id="4729310">Int8</span><span class="op" id="4729314">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729322">decInt8Slice</span><span class="op" id="4729334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729337">reflect</span><span class="op" id="4729344">.</span><span class="ident" id="4729345">String</span><span class="op" id="4729351">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729357">decStringSlice</span><span class="op" id="4729371">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729374">reflect</span><span class="op" id="4729381">.</span><span class="ident" id="4729382">Uint</span><span class="op" id="4729386">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729394">decUintSlice</span><span class="op" id="4729406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729409">reflect</span><span class="op" id="4729416">.</span><span class="ident" id="4729417">Uint16</span><span class="op" id="4729423">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729429">decUint16Slice</span><span class="op" id="4729443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729446">reflect</span><span class="op" id="4729453">.</span><span class="ident" id="4729454">Uint32</span><span class="op" id="4729460">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729466">decUint32Slice</span><span class="op" id="4729480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729483">reflect</span><span class="op" id="4729490">.</span><span class="ident" id="4729491">Uint64</span><span class="op" id="4729497">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729503">decUint64Slice</span><span class="op" id="4729517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729520">reflect</span><span class="op" id="4729527">.</span><span class="ident" id="4729528">Uintptr</span><span class="op" id="4729535">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4729540">decUintptrSlice</span><span class="op" id="4729555">,</span><br>
<span class="lineno">50</span><span class="op" id="4729557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4729560">func</span>&nbsp;<span class="ident" id="4729565">decBoolArray</span><span class="op" id="4729577">(</span><span class="ident" id="4729578">state</span>&nbsp;<span class="op" id="4729584">*</span><span class="ident" id="4729585">decoderState</span><span class="op" id="4729597">,</span>&nbsp;<span class="ident" id="4729599">v</span>&nbsp;<span class="ident" id="4729601">reflect</span><span class="op" id="4729608">.</span><span class="ident" id="4729609">Value</span><span class="op" id="4729614">,</span>&nbsp;<span class="ident" id="4729616">length</span>&nbsp;<span class="builtintype" id="4729623">int</span><span class="op" id="4729626">,</span>&nbsp;<span class="ident" id="4729628">ovfl</span>&nbsp;<span class="builtintype" id="4729633">error</span><span class="op" id="4729638">)</span>&nbsp;<span class="builtintype" id="4729640">bool</span>&nbsp;<span class="op" id="4729645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729648">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729689">if</span>&nbsp;<span class="op" id="4729692">!</span><span class="ident" id="4729693">v</span><span class="op" id="4729694">.</span><span class="ident" id="4729695">CanAddr</span><span class="op" id="4729702">(</span><span class="op" id="4729703">)</span>&nbsp;<span class="op" id="4729705">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729709">return</span>&nbsp;<span class="builtintype" id="4729716">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4729723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729726">return</span>&nbsp;<span class="ident" id="4729733">decBoolSlice</span><span class="op" id="4729745">(</span><span class="ident" id="4729746">state</span><span class="op" id="4729751">,</span>&nbsp;<span class="ident" id="4729753">v</span><span class="op" id="4729754">.</span><span class="ident" id="4729755">Slice</span><span class="op" id="4729760">(</span><span class="num" id="4729761">0</span><span class="op" id="4729762">,</span>&nbsp;<span class="ident" id="4729764">v</span><span class="op" id="4729765">.</span><span class="ident" id="4729766">Len</span><span class="op" id="4729769">(</span><span class="op" id="4729770">)</span><span class="op" id="4729771">)</span><span class="op" id="4729772">,</span>&nbsp;<span class="ident" id="4729774">length</span><span class="op" id="4729780">,</span>&nbsp;<span class="ident" id="4729782">ovfl</span><span class="op" id="4729786">)</span><br>
<span class="lineno"></span><span class="op" id="4729788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4729791">func</span>&nbsp;<span class="ident" id="4729796">decBoolSlice</span><span class="op" id="4729808">(</span><span class="ident" id="4729809">state</span>&nbsp;<span class="op" id="4729815">*</span><span class="ident" id="4729816">decoderState</span><span class="op" id="4729828">,</span>&nbsp;<span class="ident" id="4729830">v</span>&nbsp;<span class="ident" id="4729832">reflect</span><span class="op" id="4729839">.</span><span class="ident" id="4729840">Value</span><span class="op" id="4729845">,</span>&nbsp;<span class="ident" id="4729847">length</span>&nbsp;<span class="builtintype" id="4729854">int</span><span class="op" id="4729857">,</span>&nbsp;<span class="ident" id="4729859">ovfl</span>&nbsp;<span class="builtintype" id="4729864">error</span><span class="op" id="4729869">)</span>&nbsp;<span class="builtintype" id="4729871">bool</span>&nbsp;<span class="op" id="4729876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729879">slice</span><span class="op" id="4729884">,</span>&nbsp;<span class="ident" id="4729886">ok</span>&nbsp;<span class="op" id="4729889">:=</span>&nbsp;<span class="ident" id="4729892">v</span><span class="op" id="4729893">.</span><span class="ident" id="4729894">Interface</span><span class="op" id="4729903">(</span><span class="op" id="4729904">)</span><span class="op" id="4729905">.</span><span class="op" id="4729906">(</span><span class="op" id="4729907">[</span><span class="op" id="4729908">]</span><span class="builtintype" id="4729909">bool</span><span class="op" id="4729913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729916">if</span>&nbsp;<span class="op" id="4729919">!</span><span class="ident" id="4729920">ok</span>&nbsp;<span class="op" id="4729923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729927">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730002">return</span>&nbsp;<span class="builtintype" id="4730009">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730019">for</span>&nbsp;<span class="ident" id="4730023">i</span>&nbsp;<span class="op" id="4730025">:=</span>&nbsp;<span class="num" id="4730028">0</span><span class="op" id="4730029">;</span>&nbsp;<span class="ident" id="4730031">i</span>&nbsp;<span class="op" id="4730033">&lt;</span>&nbsp;<span class="ident" id="4730035">length</span><span class="op" id="4730041">;</span>&nbsp;<span class="ident" id="4730043">i</span><span class="op" id="4730044">++</span>&nbsp;<span class="op" id="4730047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730051">if</span>&nbsp;<span class="ident" id="4730054">state</span><span class="op" id="4730059">.</span><span class="ident" id="4730060">b</span><span class="op" id="4730061">.</span><span class="ident" id="4730062">Len</span><span class="op" id="4730065">(</span><span class="op" id="4730066">)</span>&nbsp;<span class="op" id="4730068">==</span>&nbsp;<span class="num" id="4730071">0</span>&nbsp;<span class="op" id="4730073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730078">errorf</span><span class="op" id="4730084">(</span><span class="string" id="4730085">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4730156">,</span>&nbsp;<span class="ident" id="4730158">length</span><span class="op" id="4730164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730168">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730172">slice</span><span class="op" id="4730177">[</span><span class="ident" id="4730178">i</span><span class="op" id="4730179">]</span>&nbsp;<span class="op" id="4730181">=</span>&nbsp;<span class="ident" id="4730183">state</span><span class="op" id="4730188">.</span><span class="ident" id="4730189">decodeUint</span><span class="op" id="4730199">(</span><span class="op" id="4730200">)</span>&nbsp;<span class="op" id="4730202">!=</span>&nbsp;<span class="num" id="4730205">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730211">return</span>&nbsp;<span class="builtintype" id="4730218">true</span><br>
<span class="lineno"></span><span class="op" id="4730223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4730226">func</span>&nbsp;<span class="ident" id="4730231">decComplex64Array</span><span class="op" id="4730248">(</span><span class="ident" id="4730249">state</span>&nbsp;<span class="op" id="4730255">*</span><span class="ident" id="4730256">decoderState</span><span class="op" id="4730268">,</span>&nbsp;<span class="ident" id="4730270">v</span>&nbsp;<span class="ident" id="4730272">reflect</span><span class="op" id="4730279">.</span><span class="ident" id="4730280">Value</span><span class="op" id="4730285">,</span>&nbsp;<span class="ident" id="4730287">length</span>&nbsp;<span class="builtintype" id="4730294">int</span><span class="op" id="4730297">,</span>&nbsp;<span class="ident" id="4730299">ovfl</span>&nbsp;<span class="builtintype" id="4730304">error</span><span class="op" id="4730309">)</span>&nbsp;<span class="builtintype" id="4730311">bool</span>&nbsp;<span class="op" id="4730316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4730319">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730360">if</span>&nbsp;<span class="op" id="4730363">!</span><span class="ident" id="4730364">v</span><span class="op" id="4730365">.</span><span class="ident" id="4730366">CanAddr</span><span class="op" id="4730373">(</span><span class="op" id="4730374">)</span>&nbsp;<span class="op" id="4730376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730380">return</span>&nbsp;<span class="builtintype" id="4730387">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730394">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730397">return</span>&nbsp;<span class="ident" id="4730404">decComplex64Slice</span><span class="op" id="4730421">(</span><span class="ident" id="4730422">state</span><span class="op" id="4730427">,</span>&nbsp;<span class="ident" id="4730429">v</span><span class="op" id="4730430">.</span><span class="ident" id="4730431">Slice</span><span class="op" id="4730436">(</span><span class="num" id="4730437">0</span><span class="op" id="4730438">,</span>&nbsp;<span class="ident" id="4730440">v</span><span class="op" id="4730441">.</span><span class="ident" id="4730442">Len</span><span class="op" id="4730445">(</span><span class="op" id="4730446">)</span><span class="op" id="4730447">)</span><span class="op" id="4730448">,</span>&nbsp;<span class="ident" id="4730450">length</span><span class="op" id="4730456">,</span>&nbsp;<span class="ident" id="4730458">ovfl</span><span class="op" id="4730462">)</span><br>
<span class="lineno"></span><span class="op" id="4730464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4730467">func</span>&nbsp;<span class="ident" id="4730472">decComplex64Slice</span><span class="op" id="4730489">(</span><span class="ident" id="4730490">state</span>&nbsp;<span class="op" id="4730496">*</span><span class="ident" id="4730497">decoderState</span><span class="op" id="4730509">,</span>&nbsp;<span class="ident" id="4730511">v</span>&nbsp;<span class="ident" id="4730513">reflect</span><span class="op" id="4730520">.</span><span class="ident" id="4730521">Value</span><span class="op" id="4730526">,</span>&nbsp;<span class="ident" id="4730528">length</span>&nbsp;<span class="builtintype" id="4730535">int</span><span class="op" id="4730538">,</span>&nbsp;<span class="ident" id="4730540">ovfl</span>&nbsp;<span class="builtintype" id="4730545">error</span><span class="op" id="4730550">)</span>&nbsp;<span class="builtintype" id="4730552">bool</span>&nbsp;<span class="op" id="4730557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730560">slice</span><span class="op" id="4730565">,</span>&nbsp;<span class="ident" id="4730567">ok</span>&nbsp;<span class="op" id="4730570">:=</span>&nbsp;<span class="ident" id="4730573">v</span><span class="op" id="4730574">.</span><span class="ident" id="4730575">Interface</span><span class="op" id="4730584">(</span><span class="op" id="4730585">)</span><span class="op" id="4730586">.</span><span class="op" id="4730587">(</span><span class="op" id="4730588">[</span><span class="op" id="4730589">]</span><span class="builtintype" id="4730590">complex64</span><span class="op" id="4730599">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730602">if</span>&nbsp;<span class="op" id="4730605">!</span><span class="ident" id="4730606">ok</span>&nbsp;<span class="op" id="4730609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4730613">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730698">return</span>&nbsp;<span class="builtintype" id="4730705">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730715">for</span>&nbsp;<span class="ident" id="4730719">i</span>&nbsp;<span class="op" id="4730721">:=</span>&nbsp;<span class="num" id="4730724">0</span><span class="op" id="4730725">;</span>&nbsp;<span class="ident" id="4730727">i</span>&nbsp;<span class="op" id="4730729">&lt;</span>&nbsp;<span class="ident" id="4730731">length</span><span class="op" id="4730737">;</span>&nbsp;<span class="ident" id="4730739">i</span><span class="op" id="4730740">++</span>&nbsp;<span class="op" id="4730743">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730747">if</span>&nbsp;<span class="ident" id="4730750">state</span><span class="op" id="4730755">.</span><span class="ident" id="4730756">b</span><span class="op" id="4730757">.</span><span class="ident" id="4730758">Len</span><span class="op" id="4730761">(</span><span class="op" id="4730762">)</span>&nbsp;<span class="op" id="4730764">==</span>&nbsp;<span class="num" id="4730767">0</span>&nbsp;<span class="op" id="4730769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730774">errorf</span><span class="op" id="4730780">(</span><span class="string" id="4730781">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4730857">,</span>&nbsp;<span class="ident" id="4730859">length</span><span class="op" id="4730865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4730873">real</span>&nbsp;<span class="op" id="4730878">:=</span>&nbsp;<span class="ident" id="4730881">float32FromBits</span><span class="op" id="4730896">(</span><span class="ident" id="4730897">state</span><span class="op" id="4730902">.</span><span class="ident" id="4730903">decodeUint</span><span class="op" id="4730913">(</span><span class="op" id="4730914">)</span><span class="op" id="4730915">,</span>&nbsp;<span class="ident" id="4730917">ovfl</span><span class="op" id="4730921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4730925">imag</span>&nbsp;<span class="op" id="4730930">:=</span>&nbsp;<span class="ident" id="4730933">float32FromBits</span><span class="op" id="4730948">(</span><span class="ident" id="4730949">state</span><span class="op" id="4730954">.</span><span class="ident" id="4730955">decodeUint</span><span class="op" id="4730965">(</span><span class="op" id="4730966">)</span><span class="op" id="4730967">,</span>&nbsp;<span class="ident" id="4730969">ovfl</span><span class="op" id="4730973">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730977">slice</span><span class="op" id="4730982">[</span><span class="ident" id="4730983">i</span><span class="op" id="4730984">]</span>&nbsp;<span class="op" id="4730986">=</span>&nbsp;<span class="builtinfunc" id="4730988">complex</span><span class="op" id="4730995">(</span><span class="builtintype" id="4730996">float32</span><span class="op" id="4731003">(</span><span class="builtinfunc" id="4731004">real</span><span class="op" id="4731008">)</span><span class="op" id="4731009">,</span>&nbsp;<span class="builtintype" id="4731011">float32</span><span class="op" id="4731018">(</span><span class="builtinfunc" id="4731019">imag</span><span class="op" id="4731023">)</span><span class="op" id="4731024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731030">return</span>&nbsp;<span class="builtintype" id="4731037">true</span><br>
<span class="lineno"></span><span class="op" id="4731042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4731045">func</span>&nbsp;<span class="ident" id="4731050">decComplex128Array</span><span class="op" id="4731068">(</span><span class="ident" id="4731069">state</span>&nbsp;<span class="op" id="4731075">*</span><span class="ident" id="4731076">decoderState</span><span class="op" id="4731088">,</span>&nbsp;<span class="ident" id="4731090">v</span>&nbsp;<span class="ident" id="4731092">reflect</span><span class="op" id="4731099">.</span><span class="ident" id="4731100">Value</span><span class="op" id="4731105">,</span>&nbsp;<span class="ident" id="4731107">length</span>&nbsp;<span class="builtintype" id="4731114">int</span><span class="op" id="4731117">,</span>&nbsp;<span class="ident" id="4731119">ovfl</span>&nbsp;<span class="builtintype" id="4731124">error</span><span class="op" id="4731129">)</span>&nbsp;<span class="builtintype" id="4731131">bool</span>&nbsp;<span class="op" id="4731136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4731139">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731180">if</span>&nbsp;<span class="op" id="4731183">!</span><span class="ident" id="4731184">v</span><span class="op" id="4731185">.</span><span class="ident" id="4731186">CanAddr</span><span class="op" id="4731193">(</span><span class="op" id="4731194">)</span>&nbsp;<span class="op" id="4731196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731200">return</span>&nbsp;<span class="builtintype" id="4731207">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731214">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731217">return</span>&nbsp;<span class="ident" id="4731224">decComplex128Slice</span><span class="op" id="4731242">(</span><span class="ident" id="4731243">state</span><span class="op" id="4731248">,</span>&nbsp;<span class="ident" id="4731250">v</span><span class="op" id="4731251">.</span><span class="ident" id="4731252">Slice</span><span class="op" id="4731257">(</span><span class="num" id="4731258">0</span><span class="op" id="4731259">,</span>&nbsp;<span class="ident" id="4731261">v</span><span class="op" id="4731262">.</span><span class="ident" id="4731263">Len</span><span class="op" id="4731266">(</span><span class="op" id="4731267">)</span><span class="op" id="4731268">)</span><span class="op" id="4731269">,</span>&nbsp;<span class="ident" id="4731271">length</span><span class="op" id="4731277">,</span>&nbsp;<span class="ident" id="4731279">ovfl</span><span class="op" id="4731283">)</span><br>
<span class="lineno"></span><span class="op" id="4731285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4731288">func</span>&nbsp;<span class="ident" id="4731293">decComplex128Slice</span><span class="op" id="4731311">(</span><span class="ident" id="4731312">state</span>&nbsp;<span class="op" id="4731318">*</span><span class="ident" id="4731319">decoderState</span><span class="op" id="4731331">,</span>&nbsp;<span class="ident" id="4731333">v</span>&nbsp;<span class="ident" id="4731335">reflect</span><span class="op" id="4731342">.</span><span class="ident" id="4731343">Value</span><span class="op" id="4731348">,</span>&nbsp;<span class="ident" id="4731350">length</span>&nbsp;<span class="builtintype" id="4731357">int</span><span class="op" id="4731360">,</span>&nbsp;<span class="ident" id="4731362">ovfl</span>&nbsp;<span class="builtintype" id="4731367">error</span><span class="op" id="4731372">)</span>&nbsp;<span class="builtintype" id="4731374">bool</span>&nbsp;<span class="op" id="4731379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731382">slice</span><span class="op" id="4731387">,</span>&nbsp;<span class="ident" id="4731389">ok</span>&nbsp;<span class="op" id="4731392">:=</span>&nbsp;<span class="ident" id="4731395">v</span><span class="op" id="4731396">.</span><span class="ident" id="4731397">Interface</span><span class="op" id="4731406">(</span><span class="op" id="4731407">)</span><span class="op" id="4731408">.</span><span class="op" id="4731409">(</span><span class="op" id="4731410">[</span><span class="op" id="4731411">]</span><span class="builtintype" id="4731412">complex128</span><span class="op" id="4731422">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731425">if</span>&nbsp;<span class="op" id="4731428">!</span><span class="ident" id="4731429">ok</span>&nbsp;<span class="op" id="4731432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4731436">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731523">return</span>&nbsp;<span class="builtintype" id="4731530">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731540">for</span>&nbsp;<span class="ident" id="4731544">i</span>&nbsp;<span class="op" id="4731546">:=</span>&nbsp;<span class="num" id="4731549">0</span><span class="op" id="4731550">;</span>&nbsp;<span class="ident" id="4731552">i</span>&nbsp;<span class="op" id="4731554">&lt;</span>&nbsp;<span class="ident" id="4731556">length</span><span class="op" id="4731562">;</span>&nbsp;<span class="ident" id="4731564">i</span><span class="op" id="4731565">++</span>&nbsp;<span class="op" id="4731568">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731572">if</span>&nbsp;<span class="ident" id="4731575">state</span><span class="op" id="4731580">.</span><span class="ident" id="4731581">b</span><span class="op" id="4731582">.</span><span class="ident" id="4731583">Len</span><span class="op" id="4731586">(</span><span class="op" id="4731587">)</span>&nbsp;<span class="op" id="4731589">==</span>&nbsp;<span class="num" id="4731592">0</span>&nbsp;<span class="op" id="4731594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731599">errorf</span><span class="op" id="4731605">(</span><span class="string" id="4731606">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4731683">,</span>&nbsp;<span class="ident" id="4731685">length</span><span class="op" id="4731691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4731699">real</span>&nbsp;<span class="op" id="4731704">:=</span>&nbsp;<span class="ident" id="4731707">float64FromBits</span><span class="op" id="4731722">(</span><span class="ident" id="4731723">state</span><span class="op" id="4731728">.</span><span class="ident" id="4731729">decodeUint</span><span class="op" id="4731739">(</span><span class="op" id="4731740">)</span><span class="op" id="4731741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4731745">imag</span>&nbsp;<span class="op" id="4731750">:=</span>&nbsp;<span class="ident" id="4731753">float64FromBits</span><span class="op" id="4731768">(</span><span class="ident" id="4731769">state</span><span class="op" id="4731774">.</span><span class="ident" id="4731775">decodeUint</span><span class="op" id="4731785">(</span><span class="op" id="4731786">)</span><span class="op" id="4731787">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731791">slice</span><span class="op" id="4731796">[</span><span class="ident" id="4731797">i</span><span class="op" id="4731798">]</span>&nbsp;<span class="op" id="4731800">=</span>&nbsp;<span class="builtinfunc" id="4731802">complex</span><span class="op" id="4731809">(</span><span class="builtinfunc" id="4731810">real</span><span class="op" id="4731814">,</span>&nbsp;<span class="builtinfunc" id="4731816">imag</span><span class="op" id="4731820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731826">return</span>&nbsp;<span class="builtintype" id="4731833">true</span><br>
<span class="lineno"></span><span class="op" id="4731838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4731841">func</span>&nbsp;<span class="ident" id="4731846">decFloat32Array</span><span class="op" id="4731861">(</span><span class="ident" id="4731862">state</span>&nbsp;<span class="op" id="4731868">*</span><span class="ident" id="4731869">decoderState</span><span class="op" id="4731881">,</span>&nbsp;<span class="ident" id="4731883">v</span>&nbsp;<span class="ident" id="4731885">reflect</span><span class="op" id="4731892">.</span><span class="ident" id="4731893">Value</span><span class="op" id="4731898">,</span>&nbsp;<span class="ident" id="4731900">length</span>&nbsp;<span class="builtintype" id="4731907">int</span><span class="op" id="4731910">,</span>&nbsp;<span class="ident" id="4731912">ovfl</span>&nbsp;<span class="builtintype" id="4731917">error</span><span class="op" id="4731922">)</span>&nbsp;<span class="builtintype" id="4731924">bool</span>&nbsp;<span class="op" id="4731929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4731932">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731973">if</span>&nbsp;<span class="op" id="4731976">!</span><span class="ident" id="4731977">v</span><span class="op" id="4731978">.</span><span class="ident" id="4731979">CanAddr</span><span class="op" id="4731986">(</span><span class="op" id="4731987">)</span>&nbsp;<span class="op" id="4731989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731993">return</span>&nbsp;<span class="builtintype" id="4732000">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732007">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732010">return</span>&nbsp;<span class="ident" id="4732017">decFloat32Slice</span><span class="op" id="4732032">(</span><span class="ident" id="4732033">state</span><span class="op" id="4732038">,</span>&nbsp;<span class="ident" id="4732040">v</span><span class="op" id="4732041">.</span><span class="ident" id="4732042">Slice</span><span class="op" id="4732047">(</span><span class="num" id="4732048">0</span><span class="op" id="4732049">,</span>&nbsp;<span class="ident" id="4732051">v</span><span class="op" id="4732052">.</span><span class="ident" id="4732053">Len</span><span class="op" id="4732056">(</span><span class="op" id="4732057">)</span><span class="op" id="4732058">)</span><span class="op" id="4732059">,</span>&nbsp;<span class="ident" id="4732061">length</span><span class="op" id="4732067">,</span>&nbsp;<span class="ident" id="4732069">ovfl</span><span class="op" id="4732073">)</span><br>
<span class="lineno"></span><span class="op" id="4732075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4732078">func</span>&nbsp;<span class="ident" id="4732083">decFloat32Slice</span><span class="op" id="4732098">(</span><span class="ident" id="4732099">state</span>&nbsp;<span class="op" id="4732105">*</span><span class="ident" id="4732106">decoderState</span><span class="op" id="4732118">,</span>&nbsp;<span class="ident" id="4732120">v</span>&nbsp;<span class="ident" id="4732122">reflect</span><span class="op" id="4732129">.</span><span class="ident" id="4732130">Value</span><span class="op" id="4732135">,</span>&nbsp;<span class="ident" id="4732137">length</span>&nbsp;<span class="builtintype" id="4732144">int</span><span class="op" id="4732147">,</span>&nbsp;<span class="ident" id="4732149">ovfl</span>&nbsp;<span class="builtintype" id="4732154">error</span><span class="op" id="4732159">)</span>&nbsp;<span class="builtintype" id="4732161">bool</span>&nbsp;<span class="op" id="4732166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732169">slice</span><span class="op" id="4732174">,</span>&nbsp;<span class="ident" id="4732176">ok</span>&nbsp;<span class="op" id="4732179">:=</span>&nbsp;<span class="ident" id="4732182">v</span><span class="op" id="4732183">.</span><span class="ident" id="4732184">Interface</span><span class="op" id="4732193">(</span><span class="op" id="4732194">)</span><span class="op" id="4732195">.</span><span class="op" id="4732196">(</span><span class="op" id="4732197">[</span><span class="op" id="4732198">]</span><span class="builtintype" id="4732199">float32</span><span class="op" id="4732206">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732209">if</span>&nbsp;<span class="op" id="4732212">!</span><span class="ident" id="4732213">ok</span>&nbsp;<span class="op" id="4732216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732220">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732301">return</span>&nbsp;<span class="builtintype" id="4732308">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732318">for</span>&nbsp;<span class="ident" id="4732322">i</span>&nbsp;<span class="op" id="4732324">:=</span>&nbsp;<span class="num" id="4732327">0</span><span class="op" id="4732328">;</span>&nbsp;<span class="ident" id="4732330">i</span>&nbsp;<span class="op" id="4732332">&lt;</span>&nbsp;<span class="ident" id="4732334">length</span><span class="op" id="4732340">;</span>&nbsp;<span class="ident" id="4732342">i</span><span class="op" id="4732343">++</span>&nbsp;<span class="op" id="4732346">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732350">if</span>&nbsp;<span class="ident" id="4732353">state</span><span class="op" id="4732358">.</span><span class="ident" id="4732359">b</span><span class="op" id="4732360">.</span><span class="ident" id="4732361">Len</span><span class="op" id="4732364">(</span><span class="op" id="4732365">)</span>&nbsp;<span class="op" id="4732367">==</span>&nbsp;<span class="num" id="4732370">0</span>&nbsp;<span class="op" id="4732372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732377">errorf</span><span class="op" id="4732383">(</span><span class="string" id="4732384">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4732458">,</span>&nbsp;<span class="ident" id="4732460">length</span><span class="op" id="4732466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732474">slice</span><span class="op" id="4732479">[</span><span class="ident" id="4732480">i</span><span class="op" id="4732481">]</span>&nbsp;<span class="op" id="4732483">=</span>&nbsp;<span class="builtintype" id="4732485">float32</span><span class="op" id="4732492">(</span><span class="ident" id="4732493">float32FromBits</span><span class="op" id="4732508">(</span><span class="ident" id="4732509">state</span><span class="op" id="4732514">.</span><span class="ident" id="4732515">decodeUint</span><span class="op" id="4732525">(</span><span class="op" id="4732526">)</span><span class="op" id="4732527">,</span>&nbsp;<span class="ident" id="4732529">ovfl</span><span class="op" id="4732533">)</span><span class="op" id="4732534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732537">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732540">return</span>&nbsp;<span class="builtintype" id="4732547">true</span><br>
<span class="lineno"></span><span class="op" id="4732552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4732555">func</span>&nbsp;<span class="ident" id="4732560">decFloat64Array</span><span class="op" id="4732575">(</span><span class="ident" id="4732576">state</span>&nbsp;<span class="op" id="4732582">*</span><span class="ident" id="4732583">decoderState</span><span class="op" id="4732595">,</span>&nbsp;<span class="ident" id="4732597">v</span>&nbsp;<span class="ident" id="4732599">reflect</span><span class="op" id="4732606">.</span><span class="ident" id="4732607">Value</span><span class="op" id="4732612">,</span>&nbsp;<span class="ident" id="4732614">length</span>&nbsp;<span class="builtintype" id="4732621">int</span><span class="op" id="4732624">,</span>&nbsp;<span class="ident" id="4732626">ovfl</span>&nbsp;<span class="builtintype" id="4732631">error</span><span class="op" id="4732636">)</span>&nbsp;<span class="builtintype" id="4732638">bool</span>&nbsp;<span class="op" id="4732643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732646">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732687">if</span>&nbsp;<span class="op" id="4732690">!</span><span class="ident" id="4732691">v</span><span class="op" id="4732692">.</span><span class="ident" id="4732693">CanAddr</span><span class="op" id="4732700">(</span><span class="op" id="4732701">)</span>&nbsp;<span class="op" id="4732703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732707">return</span>&nbsp;<span class="builtintype" id="4732714">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732724">return</span>&nbsp;<span class="ident" id="4732731">decFloat64Slice</span><span class="op" id="4732746">(</span><span class="ident" id="4732747">state</span><span class="op" id="4732752">,</span>&nbsp;<span class="ident" id="4732754">v</span><span class="op" id="4732755">.</span><span class="ident" id="4732756">Slice</span><span class="op" id="4732761">(</span><span class="num" id="4732762">0</span><span class="op" id="4732763">,</span>&nbsp;<span class="ident" id="4732765">v</span><span class="op" id="4732766">.</span><span class="ident" id="4732767">Len</span><span class="op" id="4732770">(</span><span class="op" id="4732771">)</span><span class="op" id="4732772">)</span><span class="op" id="4732773">,</span>&nbsp;<span class="ident" id="4732775">length</span><span class="op" id="4732781">,</span>&nbsp;<span class="ident" id="4732783">ovfl</span><span class="op" id="4732787">)</span><br>
<span class="lineno"></span><span class="op" id="4732789">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="4732792">func</span>&nbsp;<span class="ident" id="4732797">decFloat64Slice</span><span class="op" id="4732812">(</span><span class="ident" id="4732813">state</span>&nbsp;<span class="op" id="4732819">*</span><span class="ident" id="4732820">decoderState</span><span class="op" id="4732832">,</span>&nbsp;<span class="ident" id="4732834">v</span>&nbsp;<span class="ident" id="4732836">reflect</span><span class="op" id="4732843">.</span><span class="ident" id="4732844">Value</span><span class="op" id="4732849">,</span>&nbsp;<span class="ident" id="4732851">length</span>&nbsp;<span class="builtintype" id="4732858">int</span><span class="op" id="4732861">,</span>&nbsp;<span class="ident" id="4732863">ovfl</span>&nbsp;<span class="builtintype" id="4732868">error</span><span class="op" id="4732873">)</span>&nbsp;<span class="builtintype" id="4732875">bool</span>&nbsp;<span class="op" id="4732880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732883">slice</span><span class="op" id="4732888">,</span>&nbsp;<span class="ident" id="4732890">ok</span>&nbsp;<span class="op" id="4732893">:=</span>&nbsp;<span class="ident" id="4732896">v</span><span class="op" id="4732897">.</span><span class="ident" id="4732898">Interface</span><span class="op" id="4732907">(</span><span class="op" id="4732908">)</span><span class="op" id="4732909">.</span><span class="op" id="4732910">(</span><span class="op" id="4732911">[</span><span class="op" id="4732912">]</span><span class="builtintype" id="4732913">float64</span><span class="op" id="4732920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732923">if</span>&nbsp;<span class="op" id="4732926">!</span><span class="ident" id="4732927">ok</span>&nbsp;<span class="op" id="4732930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732934">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733015">return</span>&nbsp;<span class="builtintype" id="4733022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733032">for</span>&nbsp;<span class="ident" id="4733036">i</span>&nbsp;<span class="op" id="4733038">:=</span>&nbsp;<span class="num" id="4733041">0</span><span class="op" id="4733042">;</span>&nbsp;<span class="ident" id="4733044">i</span>&nbsp;<span class="op" id="4733046">&lt;</span>&nbsp;<span class="ident" id="4733048">length</span><span class="op" id="4733054">;</span>&nbsp;<span class="ident" id="4733056">i</span><span class="op" id="4733057">++</span>&nbsp;<span class="op" id="4733060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733064">if</span>&nbsp;<span class="ident" id="4733067">state</span><span class="op" id="4733072">.</span><span class="ident" id="4733073">b</span><span class="op" id="4733074">.</span><span class="ident" id="4733075">Len</span><span class="op" id="4733078">(</span><span class="op" id="4733079">)</span>&nbsp;<span class="op" id="4733081">==</span>&nbsp;<span class="num" id="4733084">0</span>&nbsp;<span class="op" id="4733086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733091">errorf</span><span class="op" id="4733097">(</span><span class="string" id="4733098">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4733172">,</span>&nbsp;<span class="ident" id="4733174">length</span><span class="op" id="4733180">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733188">slice</span><span class="op" id="4733193">[</span><span class="ident" id="4733194">i</span><span class="op" id="4733195">]</span>&nbsp;<span class="op" id="4733197">=</span>&nbsp;<span class="ident" id="4733199">float64FromBits</span><span class="op" id="4733214">(</span><span class="ident" id="4733215">state</span><span class="op" id="4733220">.</span><span class="ident" id="4733221">decodeUint</span><span class="op" id="4733231">(</span><span class="op" id="4733232">)</span><span class="op" id="4733233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733239">return</span>&nbsp;<span class="builtintype" id="4733246">true</span><br>
<span class="lineno"></span><span class="op" id="4733251">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="4733254">func</span>&nbsp;<span class="ident" id="4733259">decIntArray</span><span class="op" id="4733270">(</span><span class="ident" id="4733271">state</span>&nbsp;<span class="op" id="4733277">*</span><span class="ident" id="4733278">decoderState</span><span class="op" id="4733290">,</span>&nbsp;<span class="ident" id="4733292">v</span>&nbsp;<span class="ident" id="4733294">reflect</span><span class="op" id="4733301">.</span><span class="ident" id="4733302">Value</span><span class="op" id="4733307">,</span>&nbsp;<span class="ident" id="4733309">length</span>&nbsp;<span class="builtintype" id="4733316">int</span><span class="op" id="4733319">,</span>&nbsp;<span class="ident" id="4733321">ovfl</span>&nbsp;<span class="builtintype" id="4733326">error</span><span class="op" id="4733331">)</span>&nbsp;<span class="builtintype" id="4733333">bool</span>&nbsp;<span class="op" id="4733338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733341">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733382">if</span>&nbsp;<span class="op" id="4733385">!</span><span class="ident" id="4733386">v</span><span class="op" id="4733387">.</span><span class="ident" id="4733388">CanAddr</span><span class="op" id="4733395">(</span><span class="op" id="4733396">)</span>&nbsp;<span class="op" id="4733398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733402">return</span>&nbsp;<span class="builtintype" id="4733409">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733419">return</span>&nbsp;<span class="ident" id="4733426">decIntSlice</span><span class="op" id="4733437">(</span><span class="ident" id="4733438">state</span><span class="op" id="4733443">,</span>&nbsp;<span class="ident" id="4733445">v</span><span class="op" id="4733446">.</span><span class="ident" id="4733447">Slice</span><span class="op" id="4733452">(</span><span class="num" id="4733453">0</span><span class="op" id="4733454">,</span>&nbsp;<span class="ident" id="4733456">v</span><span class="op" id="4733457">.</span><span class="ident" id="4733458">Len</span><span class="op" id="4733461">(</span><span class="op" id="4733462">)</span><span class="op" id="4733463">)</span><span class="op" id="4733464">,</span>&nbsp;<span class="ident" id="4733466">length</span><span class="op" id="4733472">,</span>&nbsp;<span class="ident" id="4733474">ovfl</span><span class="op" id="4733478">)</span><br>
<span class="lineno"></span><span class="op" id="4733480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4733483">func</span>&nbsp;<span class="ident" id="4733488">decIntSlice</span><span class="op" id="4733499">(</span><span class="ident" id="4733500">state</span>&nbsp;<span class="op" id="4733506">*</span><span class="ident" id="4733507">decoderState</span><span class="op" id="4733519">,</span>&nbsp;<span class="ident" id="4733521">v</span>&nbsp;<span class="ident" id="4733523">reflect</span><span class="op" id="4733530">.</span><span class="ident" id="4733531">Value</span><span class="op" id="4733536">,</span>&nbsp;<span class="ident" id="4733538">length</span>&nbsp;<span class="builtintype" id="4733545">int</span><span class="op" id="4733548">,</span>&nbsp;<span class="ident" id="4733550">ovfl</span>&nbsp;<span class="builtintype" id="4733555">error</span><span class="op" id="4733560">)</span>&nbsp;<span class="builtintype" id="4733562">bool</span>&nbsp;<span class="op" id="4733567">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733570">slice</span><span class="op" id="4733575">,</span>&nbsp;<span class="ident" id="4733577">ok</span>&nbsp;<span class="op" id="4733580">:=</span>&nbsp;<span class="ident" id="4733583">v</span><span class="op" id="4733584">.</span><span class="ident" id="4733585">Interface</span><span class="op" id="4733594">(</span><span class="op" id="4733595">)</span><span class="op" id="4733596">.</span><span class="op" id="4733597">(</span><span class="op" id="4733598">[</span><span class="op" id="4733599">]</span><span class="builtintype" id="4733600">int</span><span class="op" id="4733603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733606">if</span>&nbsp;<span class="op" id="4733609">!</span><span class="ident" id="4733610">ok</span>&nbsp;<span class="op" id="4733613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733617">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733690">return</span>&nbsp;<span class="builtintype" id="4733697">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733704">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733707">for</span>&nbsp;<span class="ident" id="4733711">i</span>&nbsp;<span class="op" id="4733713">:=</span>&nbsp;<span class="num" id="4733716">0</span><span class="op" id="4733717">;</span>&nbsp;<span class="ident" id="4733719">i</span>&nbsp;<span class="op" id="4733721">&lt;</span>&nbsp;<span class="ident" id="4733723">length</span><span class="op" id="4733729">;</span>&nbsp;<span class="ident" id="4733731">i</span><span class="op" id="4733732">++</span>&nbsp;<span class="op" id="4733735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733739">if</span>&nbsp;<span class="ident" id="4733742">state</span><span class="op" id="4733747">.</span><span class="ident" id="4733748">b</span><span class="op" id="4733749">.</span><span class="ident" id="4733750">Len</span><span class="op" id="4733753">(</span><span class="op" id="4733754">)</span>&nbsp;<span class="op" id="4733756">==</span>&nbsp;<span class="num" id="4733759">0</span>&nbsp;<span class="op" id="4733761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733766">errorf</span><span class="op" id="4733772">(</span><span class="string" id="4733773">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4733843">,</span>&nbsp;<span class="ident" id="4733845">length</span><span class="op" id="4733851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733859">x</span>&nbsp;<span class="op" id="4733861">:=</span>&nbsp;<span class="ident" id="4733864">state</span><span class="op" id="4733869">.</span><span class="ident" id="4733870">decodeInt</span><span class="op" id="4733879">(</span><span class="op" id="4733880">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733884">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733907">if</span>&nbsp;<span class="ident" id="4733910">x</span>&nbsp;<span class="op" id="4733912">&lt;</span>&nbsp;<span class="op" id="4733914">^</span><span class="ident" id="4733915">int64</span><span class="op" id="4733920">(</span><span class="op" id="4733921">^</span><span class="builtintype" id="4733922">uint</span><span class="op" id="4733926">(</span><span class="num" id="4733927">0</span><span class="op" id="4733928">)</span><span class="op" id="4733929">&gt;&gt;</span><span class="num" id="4733931">1</span><span class="op" id="4733932">)</span>&nbsp;<span class="op" id="4733934">||</span>&nbsp;<span class="ident" id="4733937">int64</span><span class="op" id="4733942">(</span><span class="op" id="4733943">^</span><span class="builtintype" id="4733944">uint</span><span class="op" id="4733948">(</span><span class="num" id="4733949">0</span><span class="op" id="4733950">)</span><span class="op" id="4733951">&gt;&gt;</span><span class="num" id="4733953">1</span><span class="op" id="4733954">)</span>&nbsp;<span class="op" id="4733956">&lt;</span>&nbsp;<span class="ident" id="4733958">x</span>&nbsp;<span class="op" id="4733960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733965">error_</span><span class="op" id="4733971">(</span><span class="ident" id="4733972">ovfl</span><span class="op" id="4733976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733984">slice</span><span class="op" id="4733989">[</span><span class="ident" id="4733990">i</span><span class="op" id="4733991">]</span>&nbsp;<span class="op" id="4733993">=</span>&nbsp;<span class="builtintype" id="4733995">int</span><span class="op" id="4733998">(</span><span class="ident" id="4733999">x</span><span class="op" id="4734000">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734006">return</span>&nbsp;<span class="builtintype" id="4734013">true</span><br>
<span class="lineno"></span><span class="op" id="4734018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4734021">func</span>&nbsp;<span class="ident" id="4734026">decInt16Array</span><span class="op" id="4734039">(</span><span class="ident" id="4734040">state</span>&nbsp;<span class="op" id="4734046">*</span><span class="ident" id="4734047">decoderState</span><span class="op" id="4734059">,</span>&nbsp;<span class="ident" id="4734061">v</span>&nbsp;<span class="ident" id="4734063">reflect</span><span class="op" id="4734070">.</span><span class="ident" id="4734071">Value</span><span class="op" id="4734076">,</span>&nbsp;<span class="ident" id="4734078">length</span>&nbsp;<span class="builtintype" id="4734085">int</span><span class="op" id="4734088">,</span>&nbsp;<span class="ident" id="4734090">ovfl</span>&nbsp;<span class="builtintype" id="4734095">error</span><span class="op" id="4734100">)</span>&nbsp;<span class="builtintype" id="4734102">bool</span>&nbsp;<span class="op" id="4734107">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734110">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734151">if</span>&nbsp;<span class="op" id="4734154">!</span><span class="ident" id="4734155">v</span><span class="op" id="4734156">.</span><span class="ident" id="4734157">CanAddr</span><span class="op" id="4734164">(</span><span class="op" id="4734165">)</span>&nbsp;<span class="op" id="4734167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734171">return</span>&nbsp;<span class="builtintype" id="4734178">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734188">return</span>&nbsp;<span class="ident" id="4734195">decInt16Slice</span><span class="op" id="4734208">(</span><span class="ident" id="4734209">state</span><span class="op" id="4734214">,</span>&nbsp;<span class="ident" id="4734216">v</span><span class="op" id="4734217">.</span><span class="ident" id="4734218">Slice</span><span class="op" id="4734223">(</span><span class="num" id="4734224">0</span><span class="op" id="4734225">,</span>&nbsp;<span class="ident" id="4734227">v</span><span class="op" id="4734228">.</span><span class="ident" id="4734229">Len</span><span class="op" id="4734232">(</span><span class="op" id="4734233">)</span><span class="op" id="4734234">)</span><span class="op" id="4734235">,</span>&nbsp;<span class="ident" id="4734237">length</span><span class="op" id="4734243">,</span>&nbsp;<span class="ident" id="4734245">ovfl</span><span class="op" id="4734249">)</span><br>
<span class="lineno">205</span><span class="op" id="4734251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4734254">func</span>&nbsp;<span class="ident" id="4734259">decInt16Slice</span><span class="op" id="4734272">(</span><span class="ident" id="4734273">state</span>&nbsp;<span class="op" id="4734279">*</span><span class="ident" id="4734280">decoderState</span><span class="op" id="4734292">,</span>&nbsp;<span class="ident" id="4734294">v</span>&nbsp;<span class="ident" id="4734296">reflect</span><span class="op" id="4734303">.</span><span class="ident" id="4734304">Value</span><span class="op" id="4734309">,</span>&nbsp;<span class="ident" id="4734311">length</span>&nbsp;<span class="builtintype" id="4734318">int</span><span class="op" id="4734321">,</span>&nbsp;<span class="ident" id="4734323">ovfl</span>&nbsp;<span class="builtintype" id="4734328">error</span><span class="op" id="4734333">)</span>&nbsp;<span class="builtintype" id="4734335">bool</span>&nbsp;<span class="op" id="4734340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734343">slice</span><span class="op" id="4734348">,</span>&nbsp;<span class="ident" id="4734350">ok</span>&nbsp;<span class="op" id="4734353">:=</span>&nbsp;<span class="ident" id="4734356">v</span><span class="op" id="4734357">.</span><span class="ident" id="4734358">Interface</span><span class="op" id="4734367">(</span><span class="op" id="4734368">)</span><span class="op" id="4734369">.</span><span class="op" id="4734370">(</span><span class="op" id="4734371">[</span><span class="op" id="4734372">]</span><span class="builtintype" id="4734373">int16</span><span class="op" id="4734378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734381">if</span>&nbsp;<span class="op" id="4734384">!</span><span class="ident" id="4734385">ok</span>&nbsp;<span class="op" id="4734388">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734392">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734469">return</span>&nbsp;<span class="builtintype" id="4734476">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734486">for</span>&nbsp;<span class="ident" id="4734490">i</span>&nbsp;<span class="op" id="4734492">:=</span>&nbsp;<span class="num" id="4734495">0</span><span class="op" id="4734496">;</span>&nbsp;<span class="ident" id="4734498">i</span>&nbsp;<span class="op" id="4734500">&lt;</span>&nbsp;<span class="ident" id="4734502">length</span><span class="op" id="4734508">;</span>&nbsp;<span class="ident" id="4734510">i</span><span class="op" id="4734511">++</span>&nbsp;<span class="op" id="4734514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734518">if</span>&nbsp;<span class="ident" id="4734521">state</span><span class="op" id="4734526">.</span><span class="ident" id="4734527">b</span><span class="op" id="4734528">.</span><span class="ident" id="4734529">Len</span><span class="op" id="4734532">(</span><span class="op" id="4734533">)</span>&nbsp;<span class="op" id="4734535">==</span>&nbsp;<span class="num" id="4734538">0</span>&nbsp;<span class="op" id="4734540">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734545">errorf</span><span class="op" id="4734551">(</span><span class="string" id="4734552">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4734624">,</span>&nbsp;<span class="ident" id="4734626">length</span><span class="op" id="4734632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734640">x</span>&nbsp;<span class="op" id="4734642">:=</span>&nbsp;<span class="ident" id="4734645">state</span><span class="op" id="4734650">.</span><span class="ident" id="4734651">decodeInt</span><span class="op" id="4734660">(</span><span class="op" id="4734661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734665">if</span>&nbsp;<span class="ident" id="4734668">x</span>&nbsp;<span class="op" id="4734670">&lt;</span>&nbsp;<span class="ident" id="4734672">math</span><span class="op" id="4734676">.</span><span class="ident" id="4734677">MinInt16</span>&nbsp;<span class="op" id="4734686">||</span>&nbsp;<span class="ident" id="4734689">math</span><span class="op" id="4734693">.</span><span class="ident" id="4734694">MaxInt16</span>&nbsp;<span class="op" id="4734703">&lt;</span>&nbsp;<span class="ident" id="4734705">x</span>&nbsp;<span class="op" id="4734707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734712">error_</span><span class="op" id="4734718">(</span><span class="ident" id="4734719">ovfl</span><span class="op" id="4734723">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734731">slice</span><span class="op" id="4734736">[</span><span class="ident" id="4734737">i</span><span class="op" id="4734738">]</span>&nbsp;<span class="op" id="4734740">=</span>&nbsp;<span class="builtintype" id="4734742">int16</span><span class="op" id="4734747">(</span><span class="ident" id="4734748">x</span><span class="op" id="4734749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734755">return</span>&nbsp;<span class="builtintype" id="4734762">true</span><br>
<span class="lineno"></span><span class="op" id="4734767">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="4734770">func</span>&nbsp;<span class="ident" id="4734775">decInt32Array</span><span class="op" id="4734788">(</span><span class="ident" id="4734789">state</span>&nbsp;<span class="op" id="4734795">*</span><span class="ident" id="4734796">decoderState</span><span class="op" id="4734808">,</span>&nbsp;<span class="ident" id="4734810">v</span>&nbsp;<span class="ident" id="4734812">reflect</span><span class="op" id="4734819">.</span><span class="ident" id="4734820">Value</span><span class="op" id="4734825">,</span>&nbsp;<span class="ident" id="4734827">length</span>&nbsp;<span class="builtintype" id="4734834">int</span><span class="op" id="4734837">,</span>&nbsp;<span class="ident" id="4734839">ovfl</span>&nbsp;<span class="builtintype" id="4734844">error</span><span class="op" id="4734849">)</span>&nbsp;<span class="builtintype" id="4734851">bool</span>&nbsp;<span class="op" id="4734856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734859">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734900">if</span>&nbsp;<span class="op" id="4734903">!</span><span class="ident" id="4734904">v</span><span class="op" id="4734905">.</span><span class="ident" id="4734906">CanAddr</span><span class="op" id="4734913">(</span><span class="op" id="4734914">)</span>&nbsp;<span class="op" id="4734916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734920">return</span>&nbsp;<span class="builtintype" id="4734927">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734937">return</span>&nbsp;<span class="ident" id="4734944">decInt32Slice</span><span class="op" id="4734957">(</span><span class="ident" id="4734958">state</span><span class="op" id="4734963">,</span>&nbsp;<span class="ident" id="4734965">v</span><span class="op" id="4734966">.</span><span class="ident" id="4734967">Slice</span><span class="op" id="4734972">(</span><span class="num" id="4734973">0</span><span class="op" id="4734974">,</span>&nbsp;<span class="ident" id="4734976">v</span><span class="op" id="4734977">.</span><span class="ident" id="4734978">Len</span><span class="op" id="4734981">(</span><span class="op" id="4734982">)</span><span class="op" id="4734983">)</span><span class="op" id="4734984">,</span>&nbsp;<span class="ident" id="4734986">length</span><span class="op" id="4734992">,</span>&nbsp;<span class="ident" id="4734994">ovfl</span><span class="op" id="4734998">)</span><br>
<span class="lineno"></span><span class="op" id="4735000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4735003">func</span>&nbsp;<span class="ident" id="4735008">decInt32Slice</span><span class="op" id="4735021">(</span><span class="ident" id="4735022">state</span>&nbsp;<span class="op" id="4735028">*</span><span class="ident" id="4735029">decoderState</span><span class="op" id="4735041">,</span>&nbsp;<span class="ident" id="4735043">v</span>&nbsp;<span class="ident" id="4735045">reflect</span><span class="op" id="4735052">.</span><span class="ident" id="4735053">Value</span><span class="op" id="4735058">,</span>&nbsp;<span class="ident" id="4735060">length</span>&nbsp;<span class="builtintype" id="4735067">int</span><span class="op" id="4735070">,</span>&nbsp;<span class="ident" id="4735072">ovfl</span>&nbsp;<span class="builtintype" id="4735077">error</span><span class="op" id="4735082">)</span>&nbsp;<span class="builtintype" id="4735084">bool</span>&nbsp;<span class="op" id="4735089">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735092">slice</span><span class="op" id="4735097">,</span>&nbsp;<span class="ident" id="4735099">ok</span>&nbsp;<span class="op" id="4735102">:=</span>&nbsp;<span class="ident" id="4735105">v</span><span class="op" id="4735106">.</span><span class="ident" id="4735107">Interface</span><span class="op" id="4735116">(</span><span class="op" id="4735117">)</span><span class="op" id="4735118">.</span><span class="op" id="4735119">(</span><span class="op" id="4735120">[</span><span class="op" id="4735121">]</span><span class="builtintype" id="4735122">int32</span><span class="op" id="4735127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735130">if</span>&nbsp;<span class="op" id="4735133">!</span><span class="ident" id="4735134">ok</span>&nbsp;<span class="op" id="4735137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735141">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735218">return</span>&nbsp;<span class="builtintype" id="4735225">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735232">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735235">for</span>&nbsp;<span class="ident" id="4735239">i</span>&nbsp;<span class="op" id="4735241">:=</span>&nbsp;<span class="num" id="4735244">0</span><span class="op" id="4735245">;</span>&nbsp;<span class="ident" id="4735247">i</span>&nbsp;<span class="op" id="4735249">&lt;</span>&nbsp;<span class="ident" id="4735251">length</span><span class="op" id="4735257">;</span>&nbsp;<span class="ident" id="4735259">i</span><span class="op" id="4735260">++</span>&nbsp;<span class="op" id="4735263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735267">if</span>&nbsp;<span class="ident" id="4735270">state</span><span class="op" id="4735275">.</span><span class="ident" id="4735276">b</span><span class="op" id="4735277">.</span><span class="ident" id="4735278">Len</span><span class="op" id="4735281">(</span><span class="op" id="4735282">)</span>&nbsp;<span class="op" id="4735284">==</span>&nbsp;<span class="num" id="4735287">0</span>&nbsp;<span class="op" id="4735289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735294">errorf</span><span class="op" id="4735300">(</span><span class="string" id="4735301">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4735373">,</span>&nbsp;<span class="ident" id="4735375">length</span><span class="op" id="4735381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735389">x</span>&nbsp;<span class="op" id="4735391">:=</span>&nbsp;<span class="ident" id="4735394">state</span><span class="op" id="4735399">.</span><span class="ident" id="4735400">decodeInt</span><span class="op" id="4735409">(</span><span class="op" id="4735410">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735414">if</span>&nbsp;<span class="ident" id="4735417">x</span>&nbsp;<span class="op" id="4735419">&lt;</span>&nbsp;<span class="ident" id="4735421">math</span><span class="op" id="4735425">.</span><span class="ident" id="4735426">MinInt32</span>&nbsp;<span class="op" id="4735435">||</span>&nbsp;<span class="ident" id="4735438">math</span><span class="op" id="4735442">.</span><span class="ident" id="4735443">MaxInt32</span>&nbsp;<span class="op" id="4735452">&lt;</span>&nbsp;<span class="ident" id="4735454">x</span>&nbsp;<span class="op" id="4735456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735461">error_</span><span class="op" id="4735467">(</span><span class="ident" id="4735468">ovfl</span><span class="op" id="4735472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735480">slice</span><span class="op" id="4735485">[</span><span class="ident" id="4735486">i</span><span class="op" id="4735487">]</span>&nbsp;<span class="op" id="4735489">=</span>&nbsp;<span class="builtintype" id="4735491">int32</span><span class="op" id="4735496">(</span><span class="ident" id="4735497">x</span><span class="op" id="4735498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735501">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735504">return</span>&nbsp;<span class="builtintype" id="4735511">true</span><br>
<span class="lineno"></span><span class="op" id="4735516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4735519">func</span>&nbsp;<span class="ident" id="4735524">decInt64Array</span><span class="op" id="4735537">(</span><span class="ident" id="4735538">state</span>&nbsp;<span class="op" id="4735544">*</span><span class="ident" id="4735545">decoderState</span><span class="op" id="4735557">,</span>&nbsp;<span class="ident" id="4735559">v</span>&nbsp;<span class="ident" id="4735561">reflect</span><span class="op" id="4735568">.</span><span class="ident" id="4735569">Value</span><span class="op" id="4735574">,</span>&nbsp;<span class="ident" id="4735576">length</span>&nbsp;<span class="builtintype" id="4735583">int</span><span class="op" id="4735586">,</span>&nbsp;<span class="ident" id="4735588">ovfl</span>&nbsp;<span class="builtintype" id="4735593">error</span><span class="op" id="4735598">)</span>&nbsp;<span class="builtintype" id="4735600">bool</span>&nbsp;<span class="op" id="4735605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735608">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735649">if</span>&nbsp;<span class="op" id="4735652">!</span><span class="ident" id="4735653">v</span><span class="op" id="4735654">.</span><span class="ident" id="4735655">CanAddr</span><span class="op" id="4735662">(</span><span class="op" id="4735663">)</span>&nbsp;<span class="op" id="4735665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735669">return</span>&nbsp;<span class="builtintype" id="4735676">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735686">return</span>&nbsp;<span class="ident" id="4735693">decInt64Slice</span><span class="op" id="4735706">(</span><span class="ident" id="4735707">state</span><span class="op" id="4735712">,</span>&nbsp;<span class="ident" id="4735714">v</span><span class="op" id="4735715">.</span><span class="ident" id="4735716">Slice</span><span class="op" id="4735721">(</span><span class="num" id="4735722">0</span><span class="op" id="4735723">,</span>&nbsp;<span class="ident" id="4735725">v</span><span class="op" id="4735726">.</span><span class="ident" id="4735727">Len</span><span class="op" id="4735730">(</span><span class="op" id="4735731">)</span><span class="op" id="4735732">)</span><span class="op" id="4735733">,</span>&nbsp;<span class="ident" id="4735735">length</span><span class="op" id="4735741">,</span>&nbsp;<span class="ident" id="4735743">ovfl</span><span class="op" id="4735747">)</span><br>
<span class="lineno"></span><span class="op" id="4735749">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4735752">func</span>&nbsp;<span class="ident" id="4735757">decInt64Slice</span><span class="op" id="4735770">(</span><span class="ident" id="4735771">state</span>&nbsp;<span class="op" id="4735777">*</span><span class="ident" id="4735778">decoderState</span><span class="op" id="4735790">,</span>&nbsp;<span class="ident" id="4735792">v</span>&nbsp;<span class="ident" id="4735794">reflect</span><span class="op" id="4735801">.</span><span class="ident" id="4735802">Value</span><span class="op" id="4735807">,</span>&nbsp;<span class="ident" id="4735809">length</span>&nbsp;<span class="builtintype" id="4735816">int</span><span class="op" id="4735819">,</span>&nbsp;<span class="ident" id="4735821">ovfl</span>&nbsp;<span class="builtintype" id="4735826">error</span><span class="op" id="4735831">)</span>&nbsp;<span class="builtintype" id="4735833">bool</span>&nbsp;<span class="op" id="4735838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735841">slice</span><span class="op" id="4735846">,</span>&nbsp;<span class="ident" id="4735848">ok</span>&nbsp;<span class="op" id="4735851">:=</span>&nbsp;<span class="ident" id="4735854">v</span><span class="op" id="4735855">.</span><span class="ident" id="4735856">Interface</span><span class="op" id="4735865">(</span><span class="op" id="4735866">)</span><span class="op" id="4735867">.</span><span class="op" id="4735868">(</span><span class="op" id="4735869">[</span><span class="op" id="4735870">]</span><span class="ident" id="4735871">int64</span><span class="op" id="4735876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735879">if</span>&nbsp;<span class="op" id="4735882">!</span><span class="ident" id="4735883">ok</span>&nbsp;<span class="op" id="4735886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735890">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735967">return</span>&nbsp;<span class="builtintype" id="4735974">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735984">for</span>&nbsp;<span class="ident" id="4735988">i</span>&nbsp;<span class="op" id="4735990">:=</span>&nbsp;<span class="num" id="4735993">0</span><span class="op" id="4735994">;</span>&nbsp;<span class="ident" id="4735996">i</span>&nbsp;<span class="op" id="4735998">&lt;</span>&nbsp;<span class="ident" id="4736000">length</span><span class="op" id="4736006">;</span>&nbsp;<span class="ident" id="4736008">i</span><span class="op" id="4736009">++</span>&nbsp;<span class="op" id="4736012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736016">if</span>&nbsp;<span class="ident" id="4736019">state</span><span class="op" id="4736024">.</span><span class="ident" id="4736025">b</span><span class="op" id="4736026">.</span><span class="ident" id="4736027">Len</span><span class="op" id="4736030">(</span><span class="op" id="4736031">)</span>&nbsp;<span class="op" id="4736033">==</span>&nbsp;<span class="num" id="4736036">0</span>&nbsp;<span class="op" id="4736038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736043">errorf</span><span class="op" id="4736049">(</span><span class="string" id="4736050">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4736122">,</span>&nbsp;<span class="ident" id="4736124">length</span><span class="op" id="4736130">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736138">slice</span><span class="op" id="4736143">[</span><span class="ident" id="4736144">i</span><span class="op" id="4736145">]</span>&nbsp;<span class="op" id="4736147">=</span>&nbsp;<span class="ident" id="4736149">state</span><span class="op" id="4736154">.</span><span class="ident" id="4736155">decodeInt</span><span class="op" id="4736164">(</span><span class="op" id="4736165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736171">return</span>&nbsp;<span class="builtintype" id="4736178">true</span><br>
<span class="lineno"></span><span class="op" id="4736183">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4736186">func</span>&nbsp;<span class="ident" id="4736191">decInt8Array</span><span class="op" id="4736203">(</span><span class="ident" id="4736204">state</span>&nbsp;<span class="op" id="4736210">*</span><span class="ident" id="4736211">decoderState</span><span class="op" id="4736223">,</span>&nbsp;<span class="ident" id="4736225">v</span>&nbsp;<span class="ident" id="4736227">reflect</span><span class="op" id="4736234">.</span><span class="ident" id="4736235">Value</span><span class="op" id="4736240">,</span>&nbsp;<span class="ident" id="4736242">length</span>&nbsp;<span class="builtintype" id="4736249">int</span><span class="op" id="4736252">,</span>&nbsp;<span class="ident" id="4736254">ovfl</span>&nbsp;<span class="builtintype" id="4736259">error</span><span class="op" id="4736264">)</span>&nbsp;<span class="builtintype" id="4736266">bool</span>&nbsp;<span class="op" id="4736271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4736274">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736315">if</span>&nbsp;<span class="op" id="4736318">!</span><span class="ident" id="4736319">v</span><span class="op" id="4736320">.</span><span class="ident" id="4736321">CanAddr</span><span class="op" id="4736328">(</span><span class="op" id="4736329">)</span>&nbsp;<span class="op" id="4736331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736335">return</span>&nbsp;<span class="builtintype" id="4736342">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736352">return</span>&nbsp;<span class="ident" id="4736359">decInt8Slice</span><span class="op" id="4736371">(</span><span class="ident" id="4736372">state</span><span class="op" id="4736377">,</span>&nbsp;<span class="ident" id="4736379">v</span><span class="op" id="4736380">.</span><span class="ident" id="4736381">Slice</span><span class="op" id="4736386">(</span><span class="num" id="4736387">0</span><span class="op" id="4736388">,</span>&nbsp;<span class="ident" id="4736390">v</span><span class="op" id="4736391">.</span><span class="ident" id="4736392">Len</span><span class="op" id="4736395">(</span><span class="op" id="4736396">)</span><span class="op" id="4736397">)</span><span class="op" id="4736398">,</span>&nbsp;<span class="ident" id="4736400">length</span><span class="op" id="4736406">,</span>&nbsp;<span class="ident" id="4736408">ovfl</span><span class="op" id="4736412">)</span><br>
<span class="lineno"></span><span class="op" id="4736414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4736417">func</span>&nbsp;<span class="ident" id="4736422">decInt8Slice</span><span class="op" id="4736434">(</span><span class="ident" id="4736435">state</span>&nbsp;<span class="op" id="4736441">*</span><span class="ident" id="4736442">decoderState</span><span class="op" id="4736454">,</span>&nbsp;<span class="ident" id="4736456">v</span>&nbsp;<span class="ident" id="4736458">reflect</span><span class="op" id="4736465">.</span><span class="ident" id="4736466">Value</span><span class="op" id="4736471">,</span>&nbsp;<span class="ident" id="4736473">length</span>&nbsp;<span class="builtintype" id="4736480">int</span><span class="op" id="4736483">,</span>&nbsp;<span class="ident" id="4736485">ovfl</span>&nbsp;<span class="builtintype" id="4736490">error</span><span class="op" id="4736495">)</span>&nbsp;<span class="builtintype" id="4736497">bool</span>&nbsp;<span class="op" id="4736502">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736505">slice</span><span class="op" id="4736510">,</span>&nbsp;<span class="ident" id="4736512">ok</span>&nbsp;<span class="op" id="4736515">:=</span>&nbsp;<span class="ident" id="4736518">v</span><span class="op" id="4736519">.</span><span class="ident" id="4736520">Interface</span><span class="op" id="4736529">(</span><span class="op" id="4736530">)</span><span class="op" id="4736531">.</span><span class="op" id="4736532">(</span><span class="op" id="4736533">[</span><span class="op" id="4736534">]</span><span class="builtintype" id="4736535">int8</span><span class="op" id="4736539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736542">if</span>&nbsp;<span class="op" id="4736545">!</span><span class="ident" id="4736546">ok</span>&nbsp;<span class="op" id="4736549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4736553">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736628">return</span>&nbsp;<span class="builtintype" id="4736635">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736642">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736645">for</span>&nbsp;<span class="ident" id="4736649">i</span>&nbsp;<span class="op" id="4736651">:=</span>&nbsp;<span class="num" id="4736654">0</span><span class="op" id="4736655">;</span>&nbsp;<span class="ident" id="4736657">i</span>&nbsp;<span class="op" id="4736659">&lt;</span>&nbsp;<span class="ident" id="4736661">length</span><span class="op" id="4736667">;</span>&nbsp;<span class="ident" id="4736669">i</span><span class="op" id="4736670">++</span>&nbsp;<span class="op" id="4736673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736677">if</span>&nbsp;<span class="ident" id="4736680">state</span><span class="op" id="4736685">.</span><span class="ident" id="4736686">b</span><span class="op" id="4736687">.</span><span class="ident" id="4736688">Len</span><span class="op" id="4736691">(</span><span class="op" id="4736692">)</span>&nbsp;<span class="op" id="4736694">==</span>&nbsp;<span class="num" id="4736697">0</span>&nbsp;<span class="op" id="4736699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736704">errorf</span><span class="op" id="4736710">(</span><span class="string" id="4736711">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4736782">,</span>&nbsp;<span class="ident" id="4736784">length</span><span class="op" id="4736790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736798">x</span>&nbsp;<span class="op" id="4736800">:=</span>&nbsp;<span class="ident" id="4736803">state</span><span class="op" id="4736808">.</span><span class="ident" id="4736809">decodeInt</span><span class="op" id="4736818">(</span><span class="op" id="4736819">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736823">if</span>&nbsp;<span class="ident" id="4736826">x</span>&nbsp;<span class="op" id="4736828">&lt;</span>&nbsp;<span class="ident" id="4736830">math</span><span class="op" id="4736834">.</span><span class="ident" id="4736835">MinInt8</span>&nbsp;<span class="op" id="4736843">||</span>&nbsp;<span class="ident" id="4736846">math</span><span class="op" id="4736850">.</span><span class="ident" id="4736851">MaxInt8</span>&nbsp;<span class="op" id="4736859">&lt;</span>&nbsp;<span class="ident" id="4736861">x</span>&nbsp;<span class="op" id="4736863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736868">error_</span><span class="op" id="4736874">(</span><span class="ident" id="4736875">ovfl</span><span class="op" id="4736879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736887">slice</span><span class="op" id="4736892">[</span><span class="ident" id="4736893">i</span><span class="op" id="4736894">]</span>&nbsp;<span class="op" id="4736896">=</span>&nbsp;<span class="builtintype" id="4736898">int8</span><span class="op" id="4736902">(</span><span class="ident" id="4736903">x</span><span class="op" id="4736904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736907">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736910">return</span>&nbsp;<span class="builtintype" id="4736917">true</span><br>
<span class="lineno"></span><span class="op" id="4736922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4736925">func</span>&nbsp;<span class="ident" id="4736930">decStringArray</span><span class="op" id="4736944">(</span><span class="ident" id="4736945">state</span>&nbsp;<span class="op" id="4736951">*</span><span class="ident" id="4736952">decoderState</span><span class="op" id="4736964">,</span>&nbsp;<span class="ident" id="4736966">v</span>&nbsp;<span class="ident" id="4736968">reflect</span><span class="op" id="4736975">.</span><span class="ident" id="4736976">Value</span><span class="op" id="4736981">,</span>&nbsp;<span class="ident" id="4736983">length</span>&nbsp;<span class="builtintype" id="4736990">int</span><span class="op" id="4736993">,</span>&nbsp;<span class="ident" id="4736995">ovfl</span>&nbsp;<span class="builtintype" id="4737000">error</span><span class="op" id="4737005">)</span>&nbsp;<span class="builtintype" id="4737007">bool</span>&nbsp;<span class="op" id="4737012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737015">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737056">if</span>&nbsp;<span class="op" id="4737059">!</span><span class="ident" id="4737060">v</span><span class="op" id="4737061">.</span><span class="ident" id="4737062">CanAddr</span><span class="op" id="4737069">(</span><span class="op" id="4737070">)</span>&nbsp;<span class="op" id="4737072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737076">return</span>&nbsp;<span class="builtintype" id="4737083">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737093">return</span>&nbsp;<span class="ident" id="4737100">decStringSlice</span><span class="op" id="4737114">(</span><span class="ident" id="4737115">state</span><span class="op" id="4737120">,</span>&nbsp;<span class="ident" id="4737122">v</span><span class="op" id="4737123">.</span><span class="ident" id="4737124">Slice</span><span class="op" id="4737129">(</span><span class="num" id="4737130">0</span><span class="op" id="4737131">,</span>&nbsp;<span class="ident" id="4737133">v</span><span class="op" id="4737134">.</span><span class="ident" id="4737135">Len</span><span class="op" id="4737138">(</span><span class="op" id="4737139">)</span><span class="op" id="4737140">)</span><span class="op" id="4737141">,</span>&nbsp;<span class="ident" id="4737143">length</span><span class="op" id="4737149">,</span>&nbsp;<span class="ident" id="4737151">ovfl</span><span class="op" id="4737155">)</span><br>
<span class="lineno"></span><span class="op" id="4737157">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4737160">func</span>&nbsp;<span class="ident" id="4737165">decStringSlice</span><span class="op" id="4737179">(</span><span class="ident" id="4737180">state</span>&nbsp;<span class="op" id="4737186">*</span><span class="ident" id="4737187">decoderState</span><span class="op" id="4737199">,</span>&nbsp;<span class="ident" id="4737201">v</span>&nbsp;<span class="ident" id="4737203">reflect</span><span class="op" id="4737210">.</span><span class="ident" id="4737211">Value</span><span class="op" id="4737216">,</span>&nbsp;<span class="ident" id="4737218">length</span>&nbsp;<span class="builtintype" id="4737225">int</span><span class="op" id="4737228">,</span>&nbsp;<span class="ident" id="4737230">ovfl</span>&nbsp;<span class="builtintype" id="4737235">error</span><span class="op" id="4737240">)</span>&nbsp;<span class="builtintype" id="4737242">bool</span>&nbsp;<span class="op" id="4737247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737250">slice</span><span class="op" id="4737255">,</span>&nbsp;<span class="ident" id="4737257">ok</span>&nbsp;<span class="op" id="4737260">:=</span>&nbsp;<span class="ident" id="4737263">v</span><span class="op" id="4737264">.</span><span class="ident" id="4737265">Interface</span><span class="op" id="4737274">(</span><span class="op" id="4737275">)</span><span class="op" id="4737276">.</span><span class="op" id="4737277">(</span><span class="op" id="4737278">[</span><span class="op" id="4737279">]</span><span class="builtintype" id="4737280">string</span><span class="op" id="4737286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737289">if</span>&nbsp;<span class="op" id="4737292">!</span><span class="ident" id="4737293">ok</span>&nbsp;<span class="op" id="4737296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737300">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737379">return</span>&nbsp;<span class="builtintype" id="4737386">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737396">for</span>&nbsp;<span class="ident" id="4737400">i</span>&nbsp;<span class="op" id="4737402">:=</span>&nbsp;<span class="num" id="4737405">0</span><span class="op" id="4737406">;</span>&nbsp;<span class="ident" id="4737408">i</span>&nbsp;<span class="op" id="4737410">&lt;</span>&nbsp;<span class="ident" id="4737412">length</span><span class="op" id="4737418">;</span>&nbsp;<span class="ident" id="4737420">i</span><span class="op" id="4737421">++</span>&nbsp;<span class="op" id="4737424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737428">if</span>&nbsp;<span class="ident" id="4737431">state</span><span class="op" id="4737436">.</span><span class="ident" id="4737437">b</span><span class="op" id="4737438">.</span><span class="ident" id="4737439">Len</span><span class="op" id="4737442">(</span><span class="op" id="4737443">)</span>&nbsp;<span class="op" id="4737445">==</span>&nbsp;<span class="num" id="4737448">0</span>&nbsp;<span class="op" id="4737450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737455">errorf</span><span class="op" id="4737461">(</span><span class="string" id="4737462">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4737535">,</span>&nbsp;<span class="ident" id="4737537">length</span><span class="op" id="4737543">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737551">u</span>&nbsp;<span class="op" id="4737553">:=</span>&nbsp;<span class="ident" id="4737556">state</span><span class="op" id="4737561">.</span><span class="ident" id="4737562">decodeUint</span><span class="op" id="4737572">(</span><span class="op" id="4737573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737577">n</span>&nbsp;<span class="op" id="4737579">:=</span>&nbsp;<span class="builtintype" id="4737582">int</span><span class="op" id="4737585">(</span><span class="ident" id="4737586">u</span><span class="op" id="4737587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737591">if</span>&nbsp;<span class="ident" id="4737594">n</span>&nbsp;<span class="op" id="4737596">&lt;</span>&nbsp;<span class="num" id="4737598">0</span>&nbsp;<span class="op" id="4737600">||</span>&nbsp;<span class="ident" id="4737603">uint64</span><span class="op" id="4737609">(</span><span class="ident" id="4737610">n</span><span class="op" id="4737611">)</span>&nbsp;<span class="op" id="4737613">!=</span>&nbsp;<span class="ident" id="4737616">u</span>&nbsp;<span class="op" id="4737618">||</span>&nbsp;<span class="ident" id="4737621">n</span>&nbsp;<span class="op" id="4737623">&gt;</span>&nbsp;<span class="ident" id="4737625">state</span><span class="op" id="4737630">.</span><span class="ident" id="4737631">b</span><span class="op" id="4737632">.</span><span class="ident" id="4737633">Len</span><span class="op" id="4737636">(</span><span class="op" id="4737637">)</span>&nbsp;<span class="op" id="4737639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737644">errorf</span><span class="op" id="4737650">(</span><span class="string" id="4737651">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="4737699">,</span>&nbsp;<span class="ident" id="4737701">u</span><span class="op" id="4737702">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737710">if</span>&nbsp;<span class="ident" id="4737713">n</span>&nbsp;<span class="op" id="4737715">&gt;</span>&nbsp;<span class="ident" id="4737717">state</span><span class="op" id="4737722">.</span><span class="ident" id="4737723">b</span><span class="op" id="4737724">.</span><span class="ident" id="4737725">Len</span><span class="op" id="4737728">(</span><span class="op" id="4737729">)</span>&nbsp;<span class="op" id="4737731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737736">errorf</span><span class="op" id="4737742">(</span><span class="string" id="4737743">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="4737780">,</span>&nbsp;<span class="ident" id="4737782">n</span><span class="op" id="4737783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737791">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737811">data</span>&nbsp;<span class="op" id="4737816">:=</span>&nbsp;<span class="builtinfunc" id="4737819">make</span><span class="op" id="4737823">(</span><span class="op" id="4737824">[</span><span class="op" id="4737825">]</span><span class="builtintype" id="4737826">byte</span><span class="op" id="4737830">,</span>&nbsp;<span class="ident" id="4737832">n</span><span class="op" id="4737833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737837">if</span>&nbsp;<span class="ident" id="4737840">_</span><span class="op" id="4737841">,</span>&nbsp;<span class="ident" id="4737843">err</span>&nbsp;<span class="op" id="4737847">:=</span>&nbsp;<span class="ident" id="4737850">state</span><span class="op" id="4737855">.</span><span class="ident" id="4737856">b</span><span class="op" id="4737857">.</span><span class="ident" id="4737858">Read</span><span class="op" id="4737862">(</span><span class="ident" id="4737863">data</span><span class="op" id="4737867">)</span><span class="op" id="4737868">;</span>&nbsp;<span class="ident" id="4737870">err</span>&nbsp;<span class="op" id="4737874">!=</span>&nbsp;<span class="ident" id="4737877">nil</span>&nbsp;<span class="op" id="4737881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737886">errorf</span><span class="op" id="4737892">(</span><span class="string" id="4737893">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="4737920">,</span>&nbsp;<span class="ident" id="4737922">err</span><span class="op" id="4737925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737933">slice</span><span class="op" id="4737938">[</span><span class="ident" id="4737939">i</span><span class="op" id="4737940">]</span>&nbsp;<span class="op" id="4737942">=</span>&nbsp;<span class="builtintype" id="4737944">string</span><span class="op" id="4737950">(</span><span class="ident" id="4737951">data</span><span class="op" id="4737955">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737961">return</span>&nbsp;<span class="builtintype" id="4737968">true</span><br>
<span class="lineno"></span><span class="op" id="4737973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4737976">func</span>&nbsp;<span class="ident" id="4737981">decUintArray</span><span class="op" id="4737993">(</span><span class="ident" id="4737994">state</span>&nbsp;<span class="op" id="4738000">*</span><span class="ident" id="4738001">decoderState</span><span class="op" id="4738013">,</span>&nbsp;<span class="ident" id="4738015">v</span>&nbsp;<span class="ident" id="4738017">reflect</span><span class="op" id="4738024">.</span><span class="ident" id="4738025">Value</span><span class="op" id="4738030">,</span>&nbsp;<span class="ident" id="4738032">length</span>&nbsp;<span class="builtintype" id="4738039">int</span><span class="op" id="4738042">,</span>&nbsp;<span class="ident" id="4738044">ovfl</span>&nbsp;<span class="builtintype" id="4738049">error</span><span class="op" id="4738054">)</span>&nbsp;<span class="builtintype" id="4738056">bool</span>&nbsp;<span class="op" id="4738061">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4738064">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738105">if</span>&nbsp;<span class="op" id="4738108">!</span><span class="ident" id="4738109">v</span><span class="op" id="4738110">.</span><span class="ident" id="4738111">CanAddr</span><span class="op" id="4738118">(</span><span class="op" id="4738119">)</span>&nbsp;<span class="op" id="4738121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738125">return</span>&nbsp;<span class="builtintype" id="4738132">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738142">return</span>&nbsp;<span class="ident" id="4738149">decUintSlice</span><span class="op" id="4738161">(</span><span class="ident" id="4738162">state</span><span class="op" id="4738167">,</span>&nbsp;<span class="ident" id="4738169">v</span><span class="op" id="4738170">.</span><span class="ident" id="4738171">Slice</span><span class="op" id="4738176">(</span><span class="num" id="4738177">0</span><span class="op" id="4738178">,</span>&nbsp;<span class="ident" id="4738180">v</span><span class="op" id="4738181">.</span><span class="ident" id="4738182">Len</span><span class="op" id="4738185">(</span><span class="op" id="4738186">)</span><span class="op" id="4738187">)</span><span class="op" id="4738188">,</span>&nbsp;<span class="ident" id="4738190">length</span><span class="op" id="4738196">,</span>&nbsp;<span class="ident" id="4738198">ovfl</span><span class="op" id="4738202">)</span><br>
<span class="lineno">345</span><span class="op" id="4738204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4738207">func</span>&nbsp;<span class="ident" id="4738212">decUintSlice</span><span class="op" id="4738224">(</span><span class="ident" id="4738225">state</span>&nbsp;<span class="op" id="4738231">*</span><span class="ident" id="4738232">decoderState</span><span class="op" id="4738244">,</span>&nbsp;<span class="ident" id="4738246">v</span>&nbsp;<span class="ident" id="4738248">reflect</span><span class="op" id="4738255">.</span><span class="ident" id="4738256">Value</span><span class="op" id="4738261">,</span>&nbsp;<span class="ident" id="4738263">length</span>&nbsp;<span class="builtintype" id="4738270">int</span><span class="op" id="4738273">,</span>&nbsp;<span class="ident" id="4738275">ovfl</span>&nbsp;<span class="builtintype" id="4738280">error</span><span class="op" id="4738285">)</span>&nbsp;<span class="builtintype" id="4738287">bool</span>&nbsp;<span class="op" id="4738292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738295">slice</span><span class="op" id="4738300">,</span>&nbsp;<span class="ident" id="4738302">ok</span>&nbsp;<span class="op" id="4738305">:=</span>&nbsp;<span class="ident" id="4738308">v</span><span class="op" id="4738309">.</span><span class="ident" id="4738310">Interface</span><span class="op" id="4738319">(</span><span class="op" id="4738320">)</span><span class="op" id="4738321">.</span><span class="op" id="4738322">(</span><span class="op" id="4738323">[</span><span class="op" id="4738324">]</span><span class="builtintype" id="4738325">uint</span><span class="op" id="4738329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738332">if</span>&nbsp;<span class="op" id="4738335">!</span><span class="ident" id="4738336">ok</span>&nbsp;<span class="op" id="4738339">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4738343">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738418">return</span>&nbsp;<span class="builtintype" id="4738425">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738435">for</span>&nbsp;<span class="ident" id="4738439">i</span>&nbsp;<span class="op" id="4738441">:=</span>&nbsp;<span class="num" id="4738444">0</span><span class="op" id="4738445">;</span>&nbsp;<span class="ident" id="4738447">i</span>&nbsp;<span class="op" id="4738449">&lt;</span>&nbsp;<span class="ident" id="4738451">length</span><span class="op" id="4738457">;</span>&nbsp;<span class="ident" id="4738459">i</span><span class="op" id="4738460">++</span>&nbsp;<span class="op" id="4738463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738467">if</span>&nbsp;<span class="ident" id="4738470">state</span><span class="op" id="4738475">.</span><span class="ident" id="4738476">b</span><span class="op" id="4738477">.</span><span class="ident" id="4738478">Len</span><span class="op" id="4738481">(</span><span class="op" id="4738482">)</span>&nbsp;<span class="op" id="4738484">==</span>&nbsp;<span class="num" id="4738487">0</span>&nbsp;<span class="op" id="4738489">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738494">errorf</span><span class="op" id="4738500">(</span><span class="string" id="4738501">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4738572">,</span>&nbsp;<span class="ident" id="4738574">length</span><span class="op" id="4738580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738588">x</span>&nbsp;<span class="op" id="4738590">:=</span>&nbsp;<span class="ident" id="4738593">state</span><span class="op" id="4738598">.</span><span class="ident" id="4738599">decodeUint</span><span class="op" id="4738609">(</span><span class="op" id="4738610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4738614">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738669">slice</span><span class="op" id="4738674">[</span><span class="ident" id="4738675">i</span><span class="op" id="4738676">]</span>&nbsp;<span class="op" id="4738678">=</span>&nbsp;<span class="builtintype" id="4738680">uint</span><span class="op" id="4738684">(</span><span class="ident" id="4738685">x</span><span class="op" id="4738686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738692">return</span>&nbsp;<span class="builtintype" id="4738699">true</span><br>
<span class="lineno"></span><span class="op" id="4738704">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="4738707">func</span>&nbsp;<span class="ident" id="4738712">decUint16Array</span><span class="op" id="4738726">(</span><span class="ident" id="4738727">state</span>&nbsp;<span class="op" id="4738733">*</span><span class="ident" id="4738734">decoderState</span><span class="op" id="4738746">,</span>&nbsp;<span class="ident" id="4738748">v</span>&nbsp;<span class="ident" id="4738750">reflect</span><span class="op" id="4738757">.</span><span class="ident" id="4738758">Value</span><span class="op" id="4738763">,</span>&nbsp;<span class="ident" id="4738765">length</span>&nbsp;<span class="builtintype" id="4738772">int</span><span class="op" id="4738775">,</span>&nbsp;<span class="ident" id="4738777">ovfl</span>&nbsp;<span class="builtintype" id="4738782">error</span><span class="op" id="4738787">)</span>&nbsp;<span class="builtintype" id="4738789">bool</span>&nbsp;<span class="op" id="4738794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4738797">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738838">if</span>&nbsp;<span class="op" id="4738841">!</span><span class="ident" id="4738842">v</span><span class="op" id="4738843">.</span><span class="ident" id="4738844">CanAddr</span><span class="op" id="4738851">(</span><span class="op" id="4738852">)</span>&nbsp;<span class="op" id="4738854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738858">return</span>&nbsp;<span class="builtintype" id="4738865">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738875">return</span>&nbsp;<span class="ident" id="4738882">decUint16Slice</span><span class="op" id="4738896">(</span><span class="ident" id="4738897">state</span><span class="op" id="4738902">,</span>&nbsp;<span class="ident" id="4738904">v</span><span class="op" id="4738905">.</span><span class="ident" id="4738906">Slice</span><span class="op" id="4738911">(</span><span class="num" id="4738912">0</span><span class="op" id="4738913">,</span>&nbsp;<span class="ident" id="4738915">v</span><span class="op" id="4738916">.</span><span class="ident" id="4738917">Len</span><span class="op" id="4738920">(</span><span class="op" id="4738921">)</span><span class="op" id="4738922">)</span><span class="op" id="4738923">,</span>&nbsp;<span class="ident" id="4738925">length</span><span class="op" id="4738931">,</span>&nbsp;<span class="ident" id="4738933">ovfl</span><span class="op" id="4738937">)</span><br>
<span class="lineno"></span><span class="op" id="4738939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4738942">func</span>&nbsp;<span class="ident" id="4738947">decUint16Slice</span><span class="op" id="4738961">(</span><span class="ident" id="4738962">state</span>&nbsp;<span class="op" id="4738968">*</span><span class="ident" id="4738969">decoderState</span><span class="op" id="4738981">,</span>&nbsp;<span class="ident" id="4738983">v</span>&nbsp;<span class="ident" id="4738985">reflect</span><span class="op" id="4738992">.</span><span class="ident" id="4738993">Value</span><span class="op" id="4738998">,</span>&nbsp;<span class="ident" id="4739000">length</span>&nbsp;<span class="builtintype" id="4739007">int</span><span class="op" id="4739010">,</span>&nbsp;<span class="ident" id="4739012">ovfl</span>&nbsp;<span class="builtintype" id="4739017">error</span><span class="op" id="4739022">)</span>&nbsp;<span class="builtintype" id="4739024">bool</span>&nbsp;<span class="op" id="4739029">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739032">slice</span><span class="op" id="4739037">,</span>&nbsp;<span class="ident" id="4739039">ok</span>&nbsp;<span class="op" id="4739042">:=</span>&nbsp;<span class="ident" id="4739045">v</span><span class="op" id="4739046">.</span><span class="ident" id="4739047">Interface</span><span class="op" id="4739056">(</span><span class="op" id="4739057">)</span><span class="op" id="4739058">.</span><span class="op" id="4739059">(</span><span class="op" id="4739060">[</span><span class="op" id="4739061">]</span><span class="builtintype" id="4739062">uint16</span><span class="op" id="4739068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739071">if</span>&nbsp;<span class="op" id="4739074">!</span><span class="ident" id="4739075">ok</span>&nbsp;<span class="op" id="4739078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4739082">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739161">return</span>&nbsp;<span class="builtintype" id="4739168">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739175">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739178">for</span>&nbsp;<span class="ident" id="4739182">i</span>&nbsp;<span class="op" id="4739184">:=</span>&nbsp;<span class="num" id="4739187">0</span><span class="op" id="4739188">;</span>&nbsp;<span class="ident" id="4739190">i</span>&nbsp;<span class="op" id="4739192">&lt;</span>&nbsp;<span class="ident" id="4739194">length</span><span class="op" id="4739200">;</span>&nbsp;<span class="ident" id="4739202">i</span><span class="op" id="4739203">++</span>&nbsp;<span class="op" id="4739206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739210">if</span>&nbsp;<span class="ident" id="4739213">state</span><span class="op" id="4739218">.</span><span class="ident" id="4739219">b</span><span class="op" id="4739220">.</span><span class="ident" id="4739221">Len</span><span class="op" id="4739224">(</span><span class="op" id="4739225">)</span>&nbsp;<span class="op" id="4739227">==</span>&nbsp;<span class="num" id="4739230">0</span>&nbsp;<span class="op" id="4739232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739237">errorf</span><span class="op" id="4739243">(</span><span class="string" id="4739244">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4739317">,</span>&nbsp;<span class="ident" id="4739319">length</span><span class="op" id="4739325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739333">x</span>&nbsp;<span class="op" id="4739335">:=</span>&nbsp;<span class="ident" id="4739338">state</span><span class="op" id="4739343">.</span><span class="ident" id="4739344">decodeUint</span><span class="op" id="4739354">(</span><span class="op" id="4739355">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739359">if</span>&nbsp;<span class="ident" id="4739362">math</span><span class="op" id="4739366">.</span><span class="ident" id="4739367">MaxUint16</span>&nbsp;<span class="op" id="4739377">&lt;</span>&nbsp;<span class="ident" id="4739379">x</span>&nbsp;<span class="op" id="4739381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739386">error_</span><span class="op" id="4739392">(</span><span class="ident" id="4739393">ovfl</span><span class="op" id="4739397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739405">slice</span><span class="op" id="4739410">[</span><span class="ident" id="4739411">i</span><span class="op" id="4739412">]</span>&nbsp;<span class="op" id="4739414">=</span>&nbsp;<span class="builtintype" id="4739416">uint16</span><span class="op" id="4739422">(</span><span class="ident" id="4739423">x</span><span class="op" id="4739424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739427">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739430">return</span>&nbsp;<span class="builtintype" id="4739437">true</span><br>
<span class="lineno"></span><span class="op" id="4739442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4739445">func</span>&nbsp;<span class="ident" id="4739450">decUint32Array</span><span class="op" id="4739464">(</span><span class="ident" id="4739465">state</span>&nbsp;<span class="op" id="4739471">*</span><span class="ident" id="4739472">decoderState</span><span class="op" id="4739484">,</span>&nbsp;<span class="ident" id="4739486">v</span>&nbsp;<span class="ident" id="4739488">reflect</span><span class="op" id="4739495">.</span><span class="ident" id="4739496">Value</span><span class="op" id="4739501">,</span>&nbsp;<span class="ident" id="4739503">length</span>&nbsp;<span class="builtintype" id="4739510">int</span><span class="op" id="4739513">,</span>&nbsp;<span class="ident" id="4739515">ovfl</span>&nbsp;<span class="builtintype" id="4739520">error</span><span class="op" id="4739525">)</span>&nbsp;<span class="builtintype" id="4739527">bool</span>&nbsp;<span class="op" id="4739532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4739535">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739576">if</span>&nbsp;<span class="op" id="4739579">!</span><span class="ident" id="4739580">v</span><span class="op" id="4739581">.</span><span class="ident" id="4739582">CanAddr</span><span class="op" id="4739589">(</span><span class="op" id="4739590">)</span>&nbsp;<span class="op" id="4739592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739596">return</span>&nbsp;<span class="builtintype" id="4739603">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739613">return</span>&nbsp;<span class="ident" id="4739620">decUint32Slice</span><span class="op" id="4739634">(</span><span class="ident" id="4739635">state</span><span class="op" id="4739640">,</span>&nbsp;<span class="ident" id="4739642">v</span><span class="op" id="4739643">.</span><span class="ident" id="4739644">Slice</span><span class="op" id="4739649">(</span><span class="num" id="4739650">0</span><span class="op" id="4739651">,</span>&nbsp;<span class="ident" id="4739653">v</span><span class="op" id="4739654">.</span><span class="ident" id="4739655">Len</span><span class="op" id="4739658">(</span><span class="op" id="4739659">)</span><span class="op" id="4739660">)</span><span class="op" id="4739661">,</span>&nbsp;<span class="ident" id="4739663">length</span><span class="op" id="4739669">,</span>&nbsp;<span class="ident" id="4739671">ovfl</span><span class="op" id="4739675">)</span><br>
<span class="lineno"></span><span class="op" id="4739677">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="4739680">func</span>&nbsp;<span class="ident" id="4739685">decUint32Slice</span><span class="op" id="4739699">(</span><span class="ident" id="4739700">state</span>&nbsp;<span class="op" id="4739706">*</span><span class="ident" id="4739707">decoderState</span><span class="op" id="4739719">,</span>&nbsp;<span class="ident" id="4739721">v</span>&nbsp;<span class="ident" id="4739723">reflect</span><span class="op" id="4739730">.</span><span class="ident" id="4739731">Value</span><span class="op" id="4739736">,</span>&nbsp;<span class="ident" id="4739738">length</span>&nbsp;<span class="builtintype" id="4739745">int</span><span class="op" id="4739748">,</span>&nbsp;<span class="ident" id="4739750">ovfl</span>&nbsp;<span class="builtintype" id="4739755">error</span><span class="op" id="4739760">)</span>&nbsp;<span class="builtintype" id="4739762">bool</span>&nbsp;<span class="op" id="4739767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739770">slice</span><span class="op" id="4739775">,</span>&nbsp;<span class="ident" id="4739777">ok</span>&nbsp;<span class="op" id="4739780">:=</span>&nbsp;<span class="ident" id="4739783">v</span><span class="op" id="4739784">.</span><span class="ident" id="4739785">Interface</span><span class="op" id="4739794">(</span><span class="op" id="4739795">)</span><span class="op" id="4739796">.</span><span class="op" id="4739797">(</span><span class="op" id="4739798">[</span><span class="op" id="4739799">]</span><span class="builtintype" id="4739800">uint32</span><span class="op" id="4739806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739809">if</span>&nbsp;<span class="op" id="4739812">!</span><span class="ident" id="4739813">ok</span>&nbsp;<span class="op" id="4739816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4739820">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739899">return</span>&nbsp;<span class="builtintype" id="4739906">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739916">for</span>&nbsp;<span class="ident" id="4739920">i</span>&nbsp;<span class="op" id="4739922">:=</span>&nbsp;<span class="num" id="4739925">0</span><span class="op" id="4739926">;</span>&nbsp;<span class="ident" id="4739928">i</span>&nbsp;<span class="op" id="4739930">&lt;</span>&nbsp;<span class="ident" id="4739932">length</span><span class="op" id="4739938">;</span>&nbsp;<span class="ident" id="4739940">i</span><span class="op" id="4739941">++</span>&nbsp;<span class="op" id="4739944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739948">if</span>&nbsp;<span class="ident" id="4739951">state</span><span class="op" id="4739956">.</span><span class="ident" id="4739957">b</span><span class="op" id="4739958">.</span><span class="ident" id="4739959">Len</span><span class="op" id="4739962">(</span><span class="op" id="4739963">)</span>&nbsp;<span class="op" id="4739965">==</span>&nbsp;<span class="num" id="4739968">0</span>&nbsp;<span class="op" id="4739970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739975">errorf</span><span class="op" id="4739981">(</span><span class="string" id="4739982">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4740055">,</span>&nbsp;<span class="ident" id="4740057">length</span><span class="op" id="4740063">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740071">x</span>&nbsp;<span class="op" id="4740073">:=</span>&nbsp;<span class="ident" id="4740076">state</span><span class="op" id="4740081">.</span><span class="ident" id="4740082">decodeUint</span><span class="op" id="4740092">(</span><span class="op" id="4740093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740097">if</span>&nbsp;<span class="ident" id="4740100">math</span><span class="op" id="4740104">.</span><span class="ident" id="4740105">MaxUint32</span>&nbsp;<span class="op" id="4740115">&lt;</span>&nbsp;<span class="ident" id="4740117">x</span>&nbsp;<span class="op" id="4740119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740124">error_</span><span class="op" id="4740130">(</span><span class="ident" id="4740131">ovfl</span><span class="op" id="4740135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740139">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740143">slice</span><span class="op" id="4740148">[</span><span class="ident" id="4740149">i</span><span class="op" id="4740150">]</span>&nbsp;<span class="op" id="4740152">=</span>&nbsp;<span class="builtintype" id="4740154">uint32</span><span class="op" id="4740160">(</span><span class="ident" id="4740161">x</span><span class="op" id="4740162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740168">return</span>&nbsp;<span class="builtintype" id="4740175">true</span><br>
<span class="lineno"></span><span class="op" id="4740180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="4740183">func</span>&nbsp;<span class="ident" id="4740188">decUint64Array</span><span class="op" id="4740202">(</span><span class="ident" id="4740203">state</span>&nbsp;<span class="op" id="4740209">*</span><span class="ident" id="4740210">decoderState</span><span class="op" id="4740222">,</span>&nbsp;<span class="ident" id="4740224">v</span>&nbsp;<span class="ident" id="4740226">reflect</span><span class="op" id="4740233">.</span><span class="ident" id="4740234">Value</span><span class="op" id="4740239">,</span>&nbsp;<span class="ident" id="4740241">length</span>&nbsp;<span class="builtintype" id="4740248">int</span><span class="op" id="4740251">,</span>&nbsp;<span class="ident" id="4740253">ovfl</span>&nbsp;<span class="builtintype" id="4740258">error</span><span class="op" id="4740263">)</span>&nbsp;<span class="builtintype" id="4740265">bool</span>&nbsp;<span class="op" id="4740270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4740273">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740314">if</span>&nbsp;<span class="op" id="4740317">!</span><span class="ident" id="4740318">v</span><span class="op" id="4740319">.</span><span class="ident" id="4740320">CanAddr</span><span class="op" id="4740327">(</span><span class="op" id="4740328">)</span>&nbsp;<span class="op" id="4740330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740334">return</span>&nbsp;<span class="builtintype" id="4740341">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740348">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740351">return</span>&nbsp;<span class="ident" id="4740358">decUint64Slice</span><span class="op" id="4740372">(</span><span class="ident" id="4740373">state</span><span class="op" id="4740378">,</span>&nbsp;<span class="ident" id="4740380">v</span><span class="op" id="4740381">.</span><span class="ident" id="4740382">Slice</span><span class="op" id="4740387">(</span><span class="num" id="4740388">0</span><span class="op" id="4740389">,</span>&nbsp;<span class="ident" id="4740391">v</span><span class="op" id="4740392">.</span><span class="ident" id="4740393">Len</span><span class="op" id="4740396">(</span><span class="op" id="4740397">)</span><span class="op" id="4740398">)</span><span class="op" id="4740399">,</span>&nbsp;<span class="ident" id="4740401">length</span><span class="op" id="4740407">,</span>&nbsp;<span class="ident" id="4740409">ovfl</span><span class="op" id="4740413">)</span><br>
<span class="lineno"></span><span class="op" id="4740415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4740418">func</span>&nbsp;<span class="ident" id="4740423">decUint64Slice</span><span class="op" id="4740437">(</span><span class="ident" id="4740438">state</span>&nbsp;<span class="op" id="4740444">*</span><span class="ident" id="4740445">decoderState</span><span class="op" id="4740457">,</span>&nbsp;<span class="ident" id="4740459">v</span>&nbsp;<span class="ident" id="4740461">reflect</span><span class="op" id="4740468">.</span><span class="ident" id="4740469">Value</span><span class="op" id="4740474">,</span>&nbsp;<span class="ident" id="4740476">length</span>&nbsp;<span class="builtintype" id="4740483">int</span><span class="op" id="4740486">,</span>&nbsp;<span class="ident" id="4740488">ovfl</span>&nbsp;<span class="builtintype" id="4740493">error</span><span class="op" id="4740498">)</span>&nbsp;<span class="builtintype" id="4740500">bool</span>&nbsp;<span class="op" id="4740505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740508">slice</span><span class="op" id="4740513">,</span>&nbsp;<span class="ident" id="4740515">ok</span>&nbsp;<span class="op" id="4740518">:=</span>&nbsp;<span class="ident" id="4740521">v</span><span class="op" id="4740522">.</span><span class="ident" id="4740523">Interface</span><span class="op" id="4740532">(</span><span class="op" id="4740533">)</span><span class="op" id="4740534">.</span><span class="op" id="4740535">(</span><span class="op" id="4740536">[</span><span class="op" id="4740537">]</span><span class="ident" id="4740538">uint64</span><span class="op" id="4740544">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740547">if</span>&nbsp;<span class="op" id="4740550">!</span><span class="ident" id="4740551">ok</span>&nbsp;<span class="op" id="4740554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4740558">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740637">return</span>&nbsp;<span class="builtintype" id="4740644">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740654">for</span>&nbsp;<span class="ident" id="4740658">i</span>&nbsp;<span class="op" id="4740660">:=</span>&nbsp;<span class="num" id="4740663">0</span><span class="op" id="4740664">;</span>&nbsp;<span class="ident" id="4740666">i</span>&nbsp;<span class="op" id="4740668">&lt;</span>&nbsp;<span class="ident" id="4740670">length</span><span class="op" id="4740676">;</span>&nbsp;<span class="ident" id="4740678">i</span><span class="op" id="4740679">++</span>&nbsp;<span class="op" id="4740682">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740686">if</span>&nbsp;<span class="ident" id="4740689">state</span><span class="op" id="4740694">.</span><span class="ident" id="4740695">b</span><span class="op" id="4740696">.</span><span class="ident" id="4740697">Len</span><span class="op" id="4740700">(</span><span class="op" id="4740701">)</span>&nbsp;<span class="op" id="4740703">==</span>&nbsp;<span class="num" id="4740706">0</span>&nbsp;<span class="op" id="4740708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740713">errorf</span><span class="op" id="4740719">(</span><span class="string" id="4740720">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4740793">,</span>&nbsp;<span class="ident" id="4740795">length</span><span class="op" id="4740801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740809">slice</span><span class="op" id="4740814">[</span><span class="ident" id="4740815">i</span><span class="op" id="4740816">]</span>&nbsp;<span class="op" id="4740818">=</span>&nbsp;<span class="ident" id="4740820">state</span><span class="op" id="4740825">.</span><span class="ident" id="4740826">decodeUint</span><span class="op" id="4740836">(</span><span class="op" id="4740837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740840">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740843">return</span>&nbsp;<span class="builtintype" id="4740850">true</span><br>
<span class="lineno"></span><span class="op" id="4740855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4740858">func</span>&nbsp;<span class="ident" id="4740863">decUintptrArray</span><span class="op" id="4740878">(</span><span class="ident" id="4740879">state</span>&nbsp;<span class="op" id="4740885">*</span><span class="ident" id="4740886">decoderState</span><span class="op" id="4740898">,</span>&nbsp;<span class="ident" id="4740900">v</span>&nbsp;<span class="ident" id="4740902">reflect</span><span class="op" id="4740909">.</span><span class="ident" id="4740910">Value</span><span class="op" id="4740915">,</span>&nbsp;<span class="ident" id="4740917">length</span>&nbsp;<span class="builtintype" id="4740924">int</span><span class="op" id="4740927">,</span>&nbsp;<span class="ident" id="4740929">ovfl</span>&nbsp;<span class="builtintype" id="4740934">error</span><span class="op" id="4740939">)</span>&nbsp;<span class="builtintype" id="4740941">bool</span>&nbsp;<span class="op" id="4740946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4740949">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740990">if</span>&nbsp;<span class="op" id="4740993">!</span><span class="ident" id="4740994">v</span><span class="op" id="4740995">.</span><span class="ident" id="4740996">CanAddr</span><span class="op" id="4741003">(</span><span class="op" id="4741004">)</span>&nbsp;<span class="op" id="4741006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741010">return</span>&nbsp;<span class="builtintype" id="4741017">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741027">return</span>&nbsp;<span class="ident" id="4741034">decUintptrSlice</span><span class="op" id="4741049">(</span><span class="ident" id="4741050">state</span><span class="op" id="4741055">,</span>&nbsp;<span class="ident" id="4741057">v</span><span class="op" id="4741058">.</span><span class="ident" id="4741059">Slice</span><span class="op" id="4741064">(</span><span class="num" id="4741065">0</span><span class="op" id="4741066">,</span>&nbsp;<span class="ident" id="4741068">v</span><span class="op" id="4741069">.</span><span class="ident" id="4741070">Len</span><span class="op" id="4741073">(</span><span class="op" id="4741074">)</span><span class="op" id="4741075">)</span><span class="op" id="4741076">,</span>&nbsp;<span class="ident" id="4741078">length</span><span class="op" id="4741084">,</span>&nbsp;<span class="ident" id="4741086">ovfl</span><span class="op" id="4741090">)</span><br>
<span class="lineno"></span><span class="op" id="4741092">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="4741095">func</span>&nbsp;<span class="ident" id="4741100">decUintptrSlice</span><span class="op" id="4741115">(</span><span class="ident" id="4741116">state</span>&nbsp;<span class="op" id="4741122">*</span><span class="ident" id="4741123">decoderState</span><span class="op" id="4741135">,</span>&nbsp;<span class="ident" id="4741137">v</span>&nbsp;<span class="ident" id="4741139">reflect</span><span class="op" id="4741146">.</span><span class="ident" id="4741147">Value</span><span class="op" id="4741152">,</span>&nbsp;<span class="ident" id="4741154">length</span>&nbsp;<span class="builtintype" id="4741161">int</span><span class="op" id="4741164">,</span>&nbsp;<span class="ident" id="4741166">ovfl</span>&nbsp;<span class="builtintype" id="4741171">error</span><span class="op" id="4741176">)</span>&nbsp;<span class="builtintype" id="4741178">bool</span>&nbsp;<span class="op" id="4741183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741186">slice</span><span class="op" id="4741191">,</span>&nbsp;<span class="ident" id="4741193">ok</span>&nbsp;<span class="op" id="4741196">:=</span>&nbsp;<span class="ident" id="4741199">v</span><span class="op" id="4741200">.</span><span class="ident" id="4741201">Interface</span><span class="op" id="4741210">(</span><span class="op" id="4741211">)</span><span class="op" id="4741212">.</span><span class="op" id="4741213">(</span><span class="op" id="4741214">[</span><span class="op" id="4741215">]</span><span class="builtintype" id="4741216">uintptr</span><span class="op" id="4741223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741226">if</span>&nbsp;<span class="op" id="4741229">!</span><span class="ident" id="4741230">ok</span>&nbsp;<span class="op" id="4741233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4741237">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741318">return</span>&nbsp;<span class="builtintype" id="4741325">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741335">for</span>&nbsp;<span class="ident" id="4741339">i</span>&nbsp;<span class="op" id="4741341">:=</span>&nbsp;<span class="num" id="4741344">0</span><span class="op" id="4741345">;</span>&nbsp;<span class="ident" id="4741347">i</span>&nbsp;<span class="op" id="4741349">&lt;</span>&nbsp;<span class="ident" id="4741351">length</span><span class="op" id="4741357">;</span>&nbsp;<span class="ident" id="4741359">i</span><span class="op" id="4741360">++</span>&nbsp;<span class="op" id="4741363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741367">if</span>&nbsp;<span class="ident" id="4741370">state</span><span class="op" id="4741375">.</span><span class="ident" id="4741376">b</span><span class="op" id="4741377">.</span><span class="ident" id="4741378">Len</span><span class="op" id="4741381">(</span><span class="op" id="4741382">)</span>&nbsp;<span class="op" id="4741384">==</span>&nbsp;<span class="num" id="4741387">0</span>&nbsp;<span class="op" id="4741389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741394">errorf</span><span class="op" id="4741400">(</span><span class="string" id="4741401">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4741475">,</span>&nbsp;<span class="ident" id="4741477">length</span><span class="op" id="4741483">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741491">x</span>&nbsp;<span class="op" id="4741493">:=</span>&nbsp;<span class="ident" id="4741496">state</span><span class="op" id="4741501">.</span><span class="ident" id="4741502">decodeUint</span><span class="op" id="4741512">(</span><span class="op" id="4741513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741517">if</span>&nbsp;<span class="ident" id="4741520">uint64</span><span class="op" id="4741526">(</span><span class="op" id="4741527">^</span><span class="builtintype" id="4741528">uintptr</span><span class="op" id="4741535">(</span><span class="num" id="4741536">0</span><span class="op" id="4741537">)</span><span class="op" id="4741538">)</span>&nbsp;<span class="op" id="4741540">&lt;</span>&nbsp;<span class="ident" id="4741542">x</span>&nbsp;<span class="op" id="4741544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741549">error_</span><span class="op" id="4741555">(</span><span class="ident" id="4741556">ovfl</span><span class="op" id="4741560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741564">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741568">slice</span><span class="op" id="4741573">[</span><span class="ident" id="4741574">i</span><span class="op" id="4741575">]</span>&nbsp;<span class="op" id="4741577">=</span>&nbsp;<span class="builtintype" id="4741579">uintptr</span><span class="op" id="4741586">(</span><span class="ident" id="4741587">x</span><span class="op" id="4741588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741594">return</span>&nbsp;<span class="builtintype" id="4741601">true</span><br>
<span class="lineno"></span><span class="op" id="4741606">}</span>
</div>
</body>
</html>
