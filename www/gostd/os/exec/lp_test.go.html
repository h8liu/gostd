<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6791582">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6791637">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6791691">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6791742">package</span>&nbsp;<span class="ident" id="6791750">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6791756">import</span>&nbsp;<span class="op" id="6791763">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6791766">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6791776">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6791779">var</span>&nbsp;<span class="ident" id="6791783">nonExistentPaths</span>&nbsp;<span class="op" id="6791800">=</span>&nbsp;<span class="op" id="6791802">[</span><span class="op" id="6791803">]</span><span class="builtintype" id="6791804">string</span><span class="op" id="6791810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6791813">&#34;some-non-existent-path&#34;</span><span class="op" id="6791837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6791840">&#34;non-existent-path/slashed&#34;</span><span class="op" id="6791867">,</span><br>
<span class="lineno"></span><span class="op" id="6791869">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6791872">func</span>&nbsp;<span class="ident" id="6791877">TestLookPathNotFound</span><span class="op" id="6791897">(</span><span class="ident" id="6791898">t</span>&nbsp;<span class="op" id="6791900">*</span><span class="ident" id="6791901">testing</span><span class="op" id="6791908">.</span><span class="ident" id="6791909">T</span><span class="op" id="6791910">)</span>&nbsp;<span class="op" id="6791912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6791915">for</span>&nbsp;<span class="ident" id="6791919">_</span><span class="op" id="6791920">,</span>&nbsp;<span class="ident" id="6791922">name</span>&nbsp;<span class="op" id="6791927">:=</span>&nbsp;<span class="keyword" id="6791930">range</span>&nbsp;<span class="ident" id="6791936">nonExistentPaths</span>&nbsp;<span class="op" id="6791953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6791957">path</span><span class="op" id="6791961">,</span>&nbsp;<span class="ident" id="6791963">err</span>&nbsp;<span class="op" id="6791967">:=</span>&nbsp;<span class="ident" id="6791970">LookPath</span><span class="op" id="6791978">(</span><span class="ident" id="6791979">name</span><span class="op" id="6791983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6791987">if</span>&nbsp;<span class="ident" id="6791990">err</span>&nbsp;<span class="op" id="6791994">==</span>&nbsp;<span class="ident" id="6791997">nil</span>&nbsp;<span class="op" id="6792001">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792006">t</span><span class="op" id="6792007">.</span><span class="ident" id="6792008">Fatalf</span><span class="op" id="6792014">(</span><span class="string" id="6792015">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="6792043">,</span>&nbsp;<span class="ident" id="6792045">name</span><span class="op" id="6792049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6792053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6792057">if</span>&nbsp;<span class="ident" id="6792060">path</span>&nbsp;<span class="op" id="6792065">!=</span>&nbsp;<span class="string" id="6792068">&#34;&#34;</span>&nbsp;<span class="op" id="6792071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792076">t</span><span class="op" id="6792077">.</span><span class="ident" id="6792078">Fatalf</span><span class="op" id="6792084">(</span><span class="string" id="6792085">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="6792122">,</span>&nbsp;<span class="ident" id="6792124">path</span><span class="op" id="6792128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6792132">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792136">perr</span><span class="op" id="6792140">,</span>&nbsp;<span class="ident" id="6792142">ok</span>&nbsp;<span class="op" id="6792145">:=</span>&nbsp;<span class="ident" id="6792148">err</span><span class="op" id="6792151">.</span><span class="op" id="6792152">(</span><span class="op" id="6792153">*</span><span class="ident" id="6792154">Error</span><span class="op" id="6792159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6792163">if</span>&nbsp;<span class="op" id="6792166">!</span><span class="ident" id="6792167">ok</span>&nbsp;<span class="op" id="6792170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792175">t</span><span class="op" id="6792176">.</span><span class="ident" id="6792177">Fatal</span><span class="op" id="6792182">(</span><span class="string" id="6792183">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="6792220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6792224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6792228">if</span>&nbsp;<span class="ident" id="6792231">perr</span><span class="op" id="6792235">.</span><span class="ident" id="6792236">Name</span>&nbsp;<span class="op" id="6792241">!=</span>&nbsp;<span class="ident" id="6792244">name</span>&nbsp;<span class="op" id="6792249">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792254">t</span><span class="op" id="6792255">.</span><span class="ident" id="6792256">Fatalf</span><span class="op" id="6792262">(</span><span class="string" id="6792263">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6792291">,</span>&nbsp;<span class="ident" id="6792293">name</span><span class="op" id="6792297">,</span>&nbsp;<span class="ident" id="6792299">perr</span><span class="op" id="6792303">.</span><span class="ident" id="6792304">Name</span><span class="op" id="6792308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6792312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6792315">}</span><br>
<span class="lineno"></span><span class="op" id="6792317">}</span>
</div>
</body>
</html>
