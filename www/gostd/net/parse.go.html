<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html" class="current">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3820981">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3821036">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3821090">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3821141">//&nbsp;Simple&nbsp;file&nbsp;i/o&nbsp;and&nbsp;string&nbsp;manipulation,&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="3821194">//&nbsp;depending&nbsp;on&nbsp;strconv&nbsp;and&nbsp;bufio&nbsp;and&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3821242">package</span>&nbsp;<span class="ident" id="3821250">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3821255">import</span>&nbsp;<span class="op" id="3821262">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3821265">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3821271">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3821276">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3821279">type</span>&nbsp;<span class="ident" id="3821284">file</span>&nbsp;<span class="keyword" id="3821289">struct</span>&nbsp;<span class="op" id="3821296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821299">file</span>&nbsp;&nbsp;<span class="op" id="3821305">*</span><span class="ident" id="3821306">os</span><span class="op" id="3821308">.</span><span class="ident" id="3821309">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821315">data</span>&nbsp;&nbsp;<span class="op" id="3821321">[</span><span class="op" id="3821322">]</span><span class="builtintype" id="3821323">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821329">atEOF</span>&nbsp;<span class="builtintype" id="3821335">bool</span><br>
<span class="lineno"></span><span class="op" id="3821340">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3821343">func</span>&nbsp;<span class="op" id="3821348">(</span><span class="ident" id="3821349">f</span>&nbsp;<span class="op" id="3821351">*</span><span class="ident" id="3821352">file</span><span class="op" id="3821356">)</span>&nbsp;<span class="builtinfunc" id="3821358">close</span><span class="op" id="3821363">(</span><span class="op" id="3821364">)</span>&nbsp;<span class="op" id="3821366">{</span>&nbsp;<span class="ident" id="3821368">f</span><span class="op" id="3821369">.</span><span class="ident" id="3821370">file</span><span class="op" id="3821374">.</span><span class="ident" id="3821375">Close</span><span class="op" id="3821380">(</span><span class="op" id="3821381">)</span>&nbsp;<span class="op" id="3821383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3821386">func</span>&nbsp;<span class="op" id="3821391">(</span><span class="ident" id="3821392">f</span>&nbsp;<span class="op" id="3821394">*</span><span class="ident" id="3821395">file</span><span class="op" id="3821399">)</span>&nbsp;<span class="ident" id="3821401">getLineFromData</span><span class="op" id="3821416">(</span><span class="op" id="3821417">)</span>&nbsp;<span class="op" id="3821419">(</span><span class="ident" id="3821420">s</span>&nbsp;<span class="builtintype" id="3821422">string</span><span class="op" id="3821428">,</span>&nbsp;<span class="ident" id="3821430">ok</span>&nbsp;<span class="builtintype" id="3821433">bool</span><span class="op" id="3821437">)</span>&nbsp;<span class="op" id="3821439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821442">data</span>&nbsp;<span class="op" id="3821447">:=</span>&nbsp;<span class="ident" id="3821450">f</span><span class="op" id="3821451">.</span><span class="ident" id="3821452">data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821458">i</span>&nbsp;<span class="op" id="3821460">:=</span>&nbsp;<span class="num" id="3821463">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821466">for</span>&nbsp;<span class="ident" id="3821470">i</span>&nbsp;<span class="op" id="3821472">=</span>&nbsp;<span class="num" id="3821474">0</span><span class="op" id="3821475">;</span>&nbsp;<span class="ident" id="3821477">i</span>&nbsp;<span class="op" id="3821479">&lt;</span>&nbsp;<span class="builtinfunc" id="3821481">len</span><span class="op" id="3821484">(</span><span class="ident" id="3821485">data</span><span class="op" id="3821489">)</span><span class="op" id="3821490">;</span>&nbsp;<span class="ident" id="3821492">i</span><span class="op" id="3821493">++</span>&nbsp;<span class="op" id="3821496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821500">if</span>&nbsp;<span class="ident" id="3821503">data</span><span class="op" id="3821507">[</span><span class="ident" id="3821508">i</span><span class="op" id="3821509">]</span>&nbsp;<span class="op" id="3821511">==</span>&nbsp;<span class="string" id="3821514">&#39;\n&#39;</span>&nbsp;<span class="op" id="3821519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821524">s</span>&nbsp;<span class="op" id="3821526">=</span>&nbsp;<span class="builtintype" id="3821528">string</span><span class="op" id="3821534">(</span><span class="ident" id="3821535">data</span><span class="op" id="3821539">[</span><span class="num" id="3821540">0</span><span class="op" id="3821541">:</span><span class="ident" id="3821542">i</span><span class="op" id="3821543">]</span><span class="op" id="3821544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821549">ok</span>&nbsp;<span class="op" id="3821552">=</span>&nbsp;<span class="builtintype" id="3821554">true</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3821562">//&nbsp;move&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821578">i</span><span class="op" id="3821579">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821585">n</span>&nbsp;<span class="op" id="3821587">:=</span>&nbsp;<span class="builtinfunc" id="3821590">len</span><span class="op" id="3821593">(</span><span class="ident" id="3821594">data</span><span class="op" id="3821598">)</span>&nbsp;<span class="op" id="3821600">-</span>&nbsp;<span class="ident" id="3821602">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3821607">copy</span><span class="op" id="3821611">(</span><span class="ident" id="3821612">data</span><span class="op" id="3821616">[</span><span class="num" id="3821617">0</span><span class="op" id="3821618">:</span><span class="op" id="3821619">]</span><span class="op" id="3821620">,</span>&nbsp;<span class="ident" id="3821622">data</span><span class="op" id="3821626">[</span><span class="ident" id="3821627">i</span><span class="op" id="3821628">:</span><span class="op" id="3821629">]</span><span class="op" id="3821630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821635">f</span><span class="op" id="3821636">.</span><span class="ident" id="3821637">data</span>&nbsp;<span class="op" id="3821642">=</span>&nbsp;<span class="ident" id="3821644">data</span><span class="op" id="3821648">[</span><span class="num" id="3821649">0</span><span class="op" id="3821650">:</span><span class="ident" id="3821651">n</span><span class="op" id="3821652">]</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821657">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3821666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3821669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821672">if</span>&nbsp;<span class="ident" id="3821675">f</span><span class="op" id="3821676">.</span><span class="ident" id="3821677">atEOF</span>&nbsp;<span class="op" id="3821683">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3821686">len</span><span class="op" id="3821689">(</span><span class="ident" id="3821690">f</span><span class="op" id="3821691">.</span><span class="ident" id="3821692">data</span><span class="op" id="3821696">)</span>&nbsp;<span class="op" id="3821698">&gt;</span>&nbsp;<span class="num" id="3821700">0</span>&nbsp;<span class="op" id="3821702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3821706">//&nbsp;EOF,&nbsp;return&nbsp;all&nbsp;we&nbsp;have</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821735">s</span>&nbsp;<span class="op" id="3821737">=</span>&nbsp;<span class="builtintype" id="3821739">string</span><span class="op" id="3821745">(</span><span class="ident" id="3821746">data</span><span class="op" id="3821750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821754">f</span><span class="op" id="3821755">.</span><span class="ident" id="3821756">data</span>&nbsp;<span class="op" id="3821761">=</span>&nbsp;<span class="ident" id="3821763">f</span><span class="op" id="3821764">.</span><span class="ident" id="3821765">data</span><span class="op" id="3821769">[</span><span class="num" id="3821770">0</span><span class="op" id="3821771">:</span><span class="num" id="3821772">0</span><span class="op" id="3821773">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821777">ok</span>&nbsp;<span class="op" id="3821780">=</span>&nbsp;<span class="builtintype" id="3821782">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3821788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821791">return</span><br>
<span class="lineno">45</span><span class="op" id="3821798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3821801">func</span>&nbsp;<span class="op" id="3821806">(</span><span class="ident" id="3821807">f</span>&nbsp;<span class="op" id="3821809">*</span><span class="ident" id="3821810">file</span><span class="op" id="3821814">)</span>&nbsp;<span class="ident" id="3821816">readLine</span><span class="op" id="3821824">(</span><span class="op" id="3821825">)</span>&nbsp;<span class="op" id="3821827">(</span><span class="ident" id="3821828">s</span>&nbsp;<span class="builtintype" id="3821830">string</span><span class="op" id="3821836">,</span>&nbsp;<span class="ident" id="3821838">ok</span>&nbsp;<span class="builtintype" id="3821841">bool</span><span class="op" id="3821845">)</span>&nbsp;<span class="op" id="3821847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821850">if</span>&nbsp;<span class="ident" id="3821853">s</span><span class="op" id="3821854">,</span>&nbsp;<span class="ident" id="3821856">ok</span>&nbsp;<span class="op" id="3821859">=</span>&nbsp;<span class="ident" id="3821861">f</span><span class="op" id="3821862">.</span><span class="ident" id="3821863">getLineFromData</span><span class="op" id="3821878">(</span><span class="op" id="3821879">)</span><span class="op" id="3821880">;</span>&nbsp;<span class="ident" id="3821882">ok</span>&nbsp;<span class="op" id="3821885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821889">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3821897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3821900">if</span>&nbsp;<span class="builtinfunc" id="3821903">len</span><span class="op" id="3821906">(</span><span class="ident" id="3821907">f</span><span class="op" id="3821908">.</span><span class="ident" id="3821909">data</span><span class="op" id="3821913">)</span>&nbsp;<span class="op" id="3821915">&lt;</span>&nbsp;<span class="builtinfunc" id="3821917">cap</span><span class="op" id="3821920">(</span><span class="ident" id="3821921">f</span><span class="op" id="3821922">.</span><span class="ident" id="3821923">data</span><span class="op" id="3821927">)</span>&nbsp;<span class="op" id="3821929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821933">ln</span>&nbsp;<span class="op" id="3821936">:=</span>&nbsp;<span class="builtinfunc" id="3821939">len</span><span class="op" id="3821942">(</span><span class="ident" id="3821943">f</span><span class="op" id="3821944">.</span><span class="ident" id="3821945">data</span><span class="op" id="3821949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3821953">n</span><span class="op" id="3821954">,</span>&nbsp;<span class="ident" id="3821956">err</span>&nbsp;<span class="op" id="3821960">:=</span>&nbsp;<span class="ident" id="3821963">io</span><span class="op" id="3821965">.</span><span class="ident" id="3821966">ReadFull</span><span class="op" id="3821974">(</span><span class="ident" id="3821975">f</span><span class="op" id="3821976">.</span><span class="ident" id="3821977">file</span><span class="op" id="3821981">,</span>&nbsp;<span class="ident" id="3821983">f</span><span class="op" id="3821984">.</span><span class="ident" id="3821985">data</span><span class="op" id="3821989">[</span><span class="ident" id="3821990">ln</span><span class="op" id="3821992">:</span><span class="builtinfunc" id="3821993">cap</span><span class="op" id="3821996">(</span><span class="ident" id="3821997">f</span><span class="op" id="3821998">.</span><span class="ident" id="3821999">data</span><span class="op" id="3822003">)</span><span class="op" id="3822004">]</span><span class="op" id="3822005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822009">if</span>&nbsp;<span class="ident" id="3822012">n</span>&nbsp;<span class="op" id="3822014">&gt;=</span>&nbsp;<span class="num" id="3822017">0</span>&nbsp;<span class="op" id="3822019">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822024">f</span><span class="op" id="3822025">.</span><span class="ident" id="3822026">data</span>&nbsp;<span class="op" id="3822031">=</span>&nbsp;<span class="ident" id="3822033">f</span><span class="op" id="3822034">.</span><span class="ident" id="3822035">data</span><span class="op" id="3822039">[</span><span class="num" id="3822040">0</span>&nbsp;<span class="op" id="3822042">:</span>&nbsp;<span class="ident" id="3822044">ln</span><span class="op" id="3822046">+</span><span class="ident" id="3822047">n</span><span class="op" id="3822048">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822056">if</span>&nbsp;<span class="ident" id="3822059">err</span>&nbsp;<span class="op" id="3822063">==</span>&nbsp;<span class="ident" id="3822066">io</span><span class="op" id="3822068">.</span><span class="ident" id="3822069">EOF</span>&nbsp;<span class="op" id="3822073">||</span>&nbsp;<span class="ident" id="3822076">err</span>&nbsp;<span class="op" id="3822080">==</span>&nbsp;<span class="ident" id="3822083">io</span><span class="op" id="3822085">.</span><span class="ident" id="3822086">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="3822103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822108">f</span><span class="op" id="3822109">.</span><span class="ident" id="3822110">atEOF</span>&nbsp;<span class="op" id="3822116">=</span>&nbsp;<span class="builtintype" id="3822118">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822125">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822131">s</span><span class="op" id="3822132">,</span>&nbsp;<span class="ident" id="3822134">ok</span>&nbsp;<span class="op" id="3822137">=</span>&nbsp;<span class="ident" id="3822139">f</span><span class="op" id="3822140">.</span><span class="ident" id="3822141">getLineFromData</span><span class="op" id="3822156">(</span><span class="op" id="3822157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822160">return</span><br>
<span class="lineno"></span><span class="op" id="3822167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3822170">func</span>&nbsp;<span class="ident" id="3822175">open</span><span class="op" id="3822179">(</span><span class="ident" id="3822180">name</span>&nbsp;<span class="builtintype" id="3822185">string</span><span class="op" id="3822191">)</span>&nbsp;<span class="op" id="3822193">(</span><span class="op" id="3822194">*</span><span class="ident" id="3822195">file</span><span class="op" id="3822199">,</span>&nbsp;<span class="builtintype" id="3822201">error</span><span class="op" id="3822206">)</span>&nbsp;<span class="op" id="3822208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822211">fd</span><span class="op" id="3822213">,</span>&nbsp;<span class="ident" id="3822215">err</span>&nbsp;<span class="op" id="3822219">:=</span>&nbsp;<span class="ident" id="3822222">os</span><span class="op" id="3822224">.</span><span class="ident" id="3822225">Open</span><span class="op" id="3822229">(</span><span class="ident" id="3822230">name</span><span class="op" id="3822234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822237">if</span>&nbsp;<span class="ident" id="3822240">err</span>&nbsp;<span class="op" id="3822244">!=</span>&nbsp;<span class="builtintype" id="3822247">nil</span>&nbsp;<span class="op" id="3822251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822255">return</span>&nbsp;<span class="builtintype" id="3822262">nil</span><span class="op" id="3822265">,</span>&nbsp;<span class="ident" id="3822267">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822272">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822275">return</span>&nbsp;<span class="op" id="3822282">&amp;</span><span class="ident" id="3822283">file</span><span class="op" id="3822287">{</span><span class="ident" id="3822288">fd</span><span class="op" id="3822290">,</span>&nbsp;<span class="builtinfunc" id="3822292">make</span><span class="op" id="3822296">(</span><span class="op" id="3822297">[</span><span class="op" id="3822298">]</span><span class="builtintype" id="3822299">byte</span><span class="op" id="3822303">,</span>&nbsp;<span class="num" id="3822305">0</span><span class="op" id="3822306">,</span>&nbsp;<span class="ident" id="3822308">os</span><span class="op" id="3822310">.</span><span class="ident" id="3822311">Getpagesize</span><span class="op" id="3822322">(</span><span class="op" id="3822323">)</span><span class="op" id="3822324">)</span><span class="op" id="3822325">,</span>&nbsp;<span class="builtintype" id="3822327">false</span><span class="op" id="3822332">}</span><span class="op" id="3822333">,</span>&nbsp;<span class="builtintype" id="3822335">nil</span><br>
<span class="lineno"></span><span class="op" id="3822339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3822342">func</span>&nbsp;<span class="ident" id="3822347">byteIndex</span><span class="op" id="3822356">(</span><span class="ident" id="3822357">s</span>&nbsp;<span class="builtintype" id="3822359">string</span><span class="op" id="3822365">,</span>&nbsp;<span class="ident" id="3822367">c</span>&nbsp;<span class="builtintype" id="3822369">byte</span><span class="op" id="3822373">)</span>&nbsp;<span class="builtintype" id="3822375">int</span>&nbsp;<span class="op" id="3822379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822382">for</span>&nbsp;<span class="ident" id="3822386">i</span>&nbsp;<span class="op" id="3822388">:=</span>&nbsp;<span class="num" id="3822391">0</span><span class="op" id="3822392">;</span>&nbsp;<span class="ident" id="3822394">i</span>&nbsp;<span class="op" id="3822396">&lt;</span>&nbsp;<span class="builtinfunc" id="3822398">len</span><span class="op" id="3822401">(</span><span class="ident" id="3822402">s</span><span class="op" id="3822403">)</span><span class="op" id="3822404">;</span>&nbsp;<span class="ident" id="3822406">i</span><span class="op" id="3822407">++</span>&nbsp;<span class="op" id="3822410">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822414">if</span>&nbsp;<span class="ident" id="3822417">s</span><span class="op" id="3822418">[</span><span class="ident" id="3822419">i</span><span class="op" id="3822420">]</span>&nbsp;<span class="op" id="3822422">==</span>&nbsp;<span class="ident" id="3822425">c</span>&nbsp;<span class="op" id="3822427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822432">return</span>&nbsp;<span class="ident" id="3822439">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822449">return</span>&nbsp;<span class="op" id="3822456">-</span><span class="num" id="3822457">1</span><br>
<span class="lineno">80</span><span class="op" id="3822459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3822462">//&nbsp;Count&nbsp;occurrences&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3822507">func</span>&nbsp;<span class="ident" id="3822512">countAnyByte</span><span class="op" id="3822524">(</span><span class="ident" id="3822525">s</span>&nbsp;<span class="builtintype" id="3822527">string</span><span class="op" id="3822533">,</span>&nbsp;<span class="ident" id="3822535">t</span>&nbsp;<span class="builtintype" id="3822537">string</span><span class="op" id="3822543">)</span>&nbsp;<span class="builtintype" id="3822545">int</span>&nbsp;<span class="op" id="3822549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822552">n</span>&nbsp;<span class="op" id="3822554">:=</span>&nbsp;<span class="num" id="3822557">0</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822560">for</span>&nbsp;<span class="ident" id="3822564">i</span>&nbsp;<span class="op" id="3822566">:=</span>&nbsp;<span class="num" id="3822569">0</span><span class="op" id="3822570">;</span>&nbsp;<span class="ident" id="3822572">i</span>&nbsp;<span class="op" id="3822574">&lt;</span>&nbsp;<span class="builtinfunc" id="3822576">len</span><span class="op" id="3822579">(</span><span class="ident" id="3822580">s</span><span class="op" id="3822581">)</span><span class="op" id="3822582">;</span>&nbsp;<span class="ident" id="3822584">i</span><span class="op" id="3822585">++</span>&nbsp;<span class="op" id="3822588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822592">if</span>&nbsp;<span class="ident" id="3822595">byteIndex</span><span class="op" id="3822604">(</span><span class="ident" id="3822605">t</span><span class="op" id="3822606">,</span>&nbsp;<span class="ident" id="3822608">s</span><span class="op" id="3822609">[</span><span class="ident" id="3822610">i</span><span class="op" id="3822611">]</span><span class="op" id="3822612">)</span>&nbsp;<span class="op" id="3822614">&gt;=</span>&nbsp;<span class="num" id="3822617">0</span>&nbsp;<span class="op" id="3822619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822624">n</span><span class="op" id="3822625">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822633">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822636">return</span>&nbsp;<span class="ident" id="3822643">n</span><br>
<span class="lineno"></span><span class="op" id="3822645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3822648">//&nbsp;Split&nbsp;s&nbsp;at&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3822678">func</span>&nbsp;<span class="ident" id="3822683">splitAtBytes</span><span class="op" id="3822695">(</span><span class="ident" id="3822696">s</span>&nbsp;<span class="builtintype" id="3822698">string</span><span class="op" id="3822704">,</span>&nbsp;<span class="ident" id="3822706">t</span>&nbsp;<span class="builtintype" id="3822708">string</span><span class="op" id="3822714">)</span>&nbsp;<span class="op" id="3822716">[</span><span class="op" id="3822717">]</span><span class="builtintype" id="3822718">string</span>&nbsp;<span class="op" id="3822725">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822728">a</span>&nbsp;<span class="op" id="3822730">:=</span>&nbsp;<span class="builtinfunc" id="3822733">make</span><span class="op" id="3822737">(</span><span class="op" id="3822738">[</span><span class="op" id="3822739">]</span><span class="builtintype" id="3822740">string</span><span class="op" id="3822746">,</span>&nbsp;<span class="num" id="3822748">1</span><span class="op" id="3822749">+</span><span class="ident" id="3822750">countAnyByte</span><span class="op" id="3822762">(</span><span class="ident" id="3822763">s</span><span class="op" id="3822764">,</span>&nbsp;<span class="ident" id="3822766">t</span><span class="op" id="3822767">)</span><span class="op" id="3822768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822771">n</span>&nbsp;<span class="op" id="3822773">:=</span>&nbsp;<span class="num" id="3822776">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822779">last</span>&nbsp;<span class="op" id="3822784">:=</span>&nbsp;<span class="num" id="3822787">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822790">for</span>&nbsp;<span class="ident" id="3822794">i</span>&nbsp;<span class="op" id="3822796">:=</span>&nbsp;<span class="num" id="3822799">0</span><span class="op" id="3822800">;</span>&nbsp;<span class="ident" id="3822802">i</span>&nbsp;<span class="op" id="3822804">&lt;</span>&nbsp;<span class="builtinfunc" id="3822806">len</span><span class="op" id="3822809">(</span><span class="ident" id="3822810">s</span><span class="op" id="3822811">)</span><span class="op" id="3822812">;</span>&nbsp;<span class="ident" id="3822814">i</span><span class="op" id="3822815">++</span>&nbsp;<span class="op" id="3822818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822822">if</span>&nbsp;<span class="ident" id="3822825">byteIndex</span><span class="op" id="3822834">(</span><span class="ident" id="3822835">t</span><span class="op" id="3822836">,</span>&nbsp;<span class="ident" id="3822838">s</span><span class="op" id="3822839">[</span><span class="ident" id="3822840">i</span><span class="op" id="3822841">]</span><span class="op" id="3822842">)</span>&nbsp;<span class="op" id="3822844">&gt;=</span>&nbsp;<span class="num" id="3822847">0</span>&nbsp;<span class="op" id="3822849">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822854">if</span>&nbsp;<span class="ident" id="3822857">last</span>&nbsp;<span class="op" id="3822862">&lt;</span>&nbsp;<span class="ident" id="3822864">i</span>&nbsp;<span class="op" id="3822866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822872">a</span><span class="op" id="3822873">[</span><span class="ident" id="3822874">n</span><span class="op" id="3822875">]</span>&nbsp;<span class="op" id="3822877">=</span>&nbsp;<span class="builtintype" id="3822879">string</span><span class="op" id="3822885">(</span><span class="ident" id="3822886">s</span><span class="op" id="3822887">[</span><span class="ident" id="3822888">last</span><span class="op" id="3822892">:</span><span class="ident" id="3822893">i</span><span class="op" id="3822894">]</span><span class="op" id="3822895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822901">n</span><span class="op" id="3822902">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822913">last</span>&nbsp;<span class="op" id="3822918">=</span>&nbsp;<span class="ident" id="3822920">i</span>&nbsp;<span class="op" id="3822922">+</span>&nbsp;<span class="num" id="3822924">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822934">if</span>&nbsp;<span class="ident" id="3822937">last</span>&nbsp;<span class="op" id="3822942">&lt;</span>&nbsp;<span class="builtinfunc" id="3822944">len</span><span class="op" id="3822947">(</span><span class="ident" id="3822948">s</span><span class="op" id="3822949">)</span>&nbsp;<span class="op" id="3822951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822955">a</span><span class="op" id="3822956">[</span><span class="ident" id="3822957">n</span><span class="op" id="3822958">]</span>&nbsp;<span class="op" id="3822960">=</span>&nbsp;<span class="builtintype" id="3822962">string</span><span class="op" id="3822968">(</span><span class="ident" id="3822969">s</span><span class="op" id="3822970">[</span><span class="ident" id="3822971">last</span><span class="op" id="3822975">:</span><span class="op" id="3822976">]</span><span class="op" id="3822977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3822981">n</span><span class="op" id="3822982">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3822986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3822989">return</span>&nbsp;<span class="ident" id="3822996">a</span><span class="op" id="3822997">[</span><span class="num" id="3822998">0</span><span class="op" id="3822999">:</span><span class="ident" id="3823000">n</span><span class="op" id="3823001">]</span><br>
<span class="lineno"></span><span class="op" id="3823003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3823006">func</span>&nbsp;<span class="ident" id="3823011">getFields</span><span class="op" id="3823020">(</span><span class="ident" id="3823021">s</span>&nbsp;<span class="builtintype" id="3823023">string</span><span class="op" id="3823029">)</span>&nbsp;<span class="op" id="3823031">[</span><span class="op" id="3823032">]</span><span class="builtintype" id="3823033">string</span>&nbsp;<span class="op" id="3823040">{</span>&nbsp;<span class="keyword" id="3823042">return</span>&nbsp;<span class="ident" id="3823049">splitAtBytes</span><span class="op" id="3823061">(</span><span class="ident" id="3823062">s</span><span class="op" id="3823063">,</span>&nbsp;<span class="string" id="3823065">&#34;&nbsp;\r\t\n&#34;</span><span class="op" id="3823074">)</span>&nbsp;<span class="op" id="3823076">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3823079">//&nbsp;Bigger&nbsp;than&nbsp;we&nbsp;need,&nbsp;not&nbsp;too&nbsp;big&nbsp;to&nbsp;worry&nbsp;about&nbsp;overflow</span><br>
<span class="lineno"></span><span class="keyword" id="3823139">const</span>&nbsp;<span class="ident" id="3823145">big</span>&nbsp;<span class="op" id="3823149">=</span>&nbsp;<span class="num" id="3823151">0xFFFFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3823161">//&nbsp;Decimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno">120</span><span class="comment" id="3823203">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3823243">func</span>&nbsp;<span class="ident" id="3823248">dtoi</span><span class="op" id="3823252">(</span><span class="ident" id="3823253">s</span>&nbsp;<span class="builtintype" id="3823255">string</span><span class="op" id="3823261">,</span>&nbsp;<span class="ident" id="3823263">i0</span>&nbsp;<span class="builtintype" id="3823266">int</span><span class="op" id="3823269">)</span>&nbsp;<span class="op" id="3823271">(</span><span class="ident" id="3823272">n</span>&nbsp;<span class="builtintype" id="3823274">int</span><span class="op" id="3823277">,</span>&nbsp;<span class="ident" id="3823279">i</span>&nbsp;<span class="builtintype" id="3823281">int</span><span class="op" id="3823284">,</span>&nbsp;<span class="ident" id="3823286">ok</span>&nbsp;<span class="builtintype" id="3823289">bool</span><span class="op" id="3823293">)</span>&nbsp;<span class="op" id="3823295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823298">n</span>&nbsp;<span class="op" id="3823300">=</span>&nbsp;<span class="num" id="3823302">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823305">for</span>&nbsp;<span class="ident" id="3823309">i</span>&nbsp;<span class="op" id="3823311">=</span>&nbsp;<span class="ident" id="3823313">i0</span><span class="op" id="3823315">;</span>&nbsp;<span class="ident" id="3823317">i</span>&nbsp;<span class="op" id="3823319">&lt;</span>&nbsp;<span class="builtinfunc" id="3823321">len</span><span class="op" id="3823324">(</span><span class="ident" id="3823325">s</span><span class="op" id="3823326">)</span>&nbsp;<span class="op" id="3823328">&amp;&amp;</span>&nbsp;<span class="string" id="3823331">&#39;0&#39;</span>&nbsp;<span class="op" id="3823335">&lt;=</span>&nbsp;<span class="ident" id="3823338">s</span><span class="op" id="3823339">[</span><span class="ident" id="3823340">i</span><span class="op" id="3823341">]</span>&nbsp;<span class="op" id="3823343">&amp;&amp;</span>&nbsp;<span class="ident" id="3823346">s</span><span class="op" id="3823347">[</span><span class="ident" id="3823348">i</span><span class="op" id="3823349">]</span>&nbsp;<span class="op" id="3823351">&lt;=</span>&nbsp;<span class="string" id="3823354">&#39;9&#39;</span><span class="op" id="3823357">;</span>&nbsp;<span class="ident" id="3823359">i</span><span class="op" id="3823360">++</span>&nbsp;<span class="op" id="3823363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823367">n</span>&nbsp;<span class="op" id="3823369">=</span>&nbsp;<span class="ident" id="3823371">n</span><span class="op" id="3823372">*</span><span class="num" id="3823373">10</span>&nbsp;<span class="op" id="3823376">+</span>&nbsp;<span class="builtintype" id="3823378">int</span><span class="op" id="3823381">(</span><span class="ident" id="3823382">s</span><span class="op" id="3823383">[</span><span class="ident" id="3823384">i</span><span class="op" id="3823385">]</span><span class="op" id="3823386">-</span><span class="string" id="3823387">&#39;0&#39;</span><span class="op" id="3823390">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823394">if</span>&nbsp;<span class="ident" id="3823397">n</span>&nbsp;<span class="op" id="3823399">&gt;=</span>&nbsp;<span class="ident" id="3823402">big</span>&nbsp;<span class="op" id="3823406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823411">return</span>&nbsp;<span class="num" id="3823418">0</span><span class="op" id="3823419">,</span>&nbsp;<span class="ident" id="3823421">i</span><span class="op" id="3823422">,</span>&nbsp;<span class="builtintype" id="3823424">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823438">if</span>&nbsp;<span class="ident" id="3823441">i</span>&nbsp;<span class="op" id="3823443">==</span>&nbsp;<span class="ident" id="3823446">i0</span>&nbsp;<span class="op" id="3823449">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823453">return</span>&nbsp;<span class="num" id="3823460">0</span><span class="op" id="3823461">,</span>&nbsp;<span class="ident" id="3823463">i</span><span class="op" id="3823464">,</span>&nbsp;<span class="builtintype" id="3823466">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823476">return</span>&nbsp;<span class="ident" id="3823483">n</span><span class="op" id="3823484">,</span>&nbsp;<span class="ident" id="3823486">i</span><span class="op" id="3823487">,</span>&nbsp;<span class="builtintype" id="3823489">true</span><br>
<span class="lineno"></span><span class="op" id="3823494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="3823497">//&nbsp;Hexadecimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno"></span><span class="comment" id="3823543">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3823583">func</span>&nbsp;<span class="ident" id="3823588">xtoi</span><span class="op" id="3823592">(</span><span class="ident" id="3823593">s</span>&nbsp;<span class="builtintype" id="3823595">string</span><span class="op" id="3823601">,</span>&nbsp;<span class="ident" id="3823603">i0</span>&nbsp;<span class="builtintype" id="3823606">int</span><span class="op" id="3823609">)</span>&nbsp;<span class="op" id="3823611">(</span><span class="ident" id="3823612">n</span>&nbsp;<span class="builtintype" id="3823614">int</span><span class="op" id="3823617">,</span>&nbsp;<span class="ident" id="3823619">i</span>&nbsp;<span class="builtintype" id="3823621">int</span><span class="op" id="3823624">,</span>&nbsp;<span class="ident" id="3823626">ok</span>&nbsp;<span class="builtintype" id="3823629">bool</span><span class="op" id="3823633">)</span>&nbsp;<span class="op" id="3823635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823638">n</span>&nbsp;<span class="op" id="3823640">=</span>&nbsp;<span class="num" id="3823642">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823645">for</span>&nbsp;<span class="ident" id="3823649">i</span>&nbsp;<span class="op" id="3823651">=</span>&nbsp;<span class="ident" id="3823653">i0</span><span class="op" id="3823655">;</span>&nbsp;<span class="ident" id="3823657">i</span>&nbsp;<span class="op" id="3823659">&lt;</span>&nbsp;<span class="builtinfunc" id="3823661">len</span><span class="op" id="3823664">(</span><span class="ident" id="3823665">s</span><span class="op" id="3823666">)</span><span class="op" id="3823667">;</span>&nbsp;<span class="ident" id="3823669">i</span><span class="op" id="3823670">++</span>&nbsp;<span class="op" id="3823673">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823677">if</span>&nbsp;<span class="string" id="3823680">&#39;0&#39;</span>&nbsp;<span class="op" id="3823684">&lt;=</span>&nbsp;<span class="ident" id="3823687">s</span><span class="op" id="3823688">[</span><span class="ident" id="3823689">i</span><span class="op" id="3823690">]</span>&nbsp;<span class="op" id="3823692">&amp;&amp;</span>&nbsp;<span class="ident" id="3823695">s</span><span class="op" id="3823696">[</span><span class="ident" id="3823697">i</span><span class="op" id="3823698">]</span>&nbsp;<span class="op" id="3823700">&lt;=</span>&nbsp;<span class="string" id="3823703">&#39;9&#39;</span>&nbsp;<span class="op" id="3823707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823712">n</span>&nbsp;<span class="op" id="3823714">*=</span>&nbsp;<span class="num" id="3823717">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823723">n</span>&nbsp;<span class="op" id="3823725">+=</span>&nbsp;<span class="builtintype" id="3823728">int</span><span class="op" id="3823731">(</span><span class="ident" id="3823732">s</span><span class="op" id="3823733">[</span><span class="ident" id="3823734">i</span><span class="op" id="3823735">]</span>&nbsp;<span class="op" id="3823737">-</span>&nbsp;<span class="string" id="3823739">&#39;0&#39;</span><span class="op" id="3823742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823746">}</span>&nbsp;<span class="keyword" id="3823748">else</span>&nbsp;<span class="keyword" id="3823753">if</span>&nbsp;<span class="string" id="3823756">&#39;a&#39;</span>&nbsp;<span class="op" id="3823760">&lt;=</span>&nbsp;<span class="ident" id="3823763">s</span><span class="op" id="3823764">[</span><span class="ident" id="3823765">i</span><span class="op" id="3823766">]</span>&nbsp;<span class="op" id="3823768">&amp;&amp;</span>&nbsp;<span class="ident" id="3823771">s</span><span class="op" id="3823772">[</span><span class="ident" id="3823773">i</span><span class="op" id="3823774">]</span>&nbsp;<span class="op" id="3823776">&lt;=</span>&nbsp;<span class="string" id="3823779">&#39;f&#39;</span>&nbsp;<span class="op" id="3823783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823788">n</span>&nbsp;<span class="op" id="3823790">*=</span>&nbsp;<span class="num" id="3823793">16</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823799">n</span>&nbsp;<span class="op" id="3823801">+=</span>&nbsp;<span class="builtintype" id="3823804">int</span><span class="op" id="3823807">(</span><span class="ident" id="3823808">s</span><span class="op" id="3823809">[</span><span class="ident" id="3823810">i</span><span class="op" id="3823811">]</span><span class="op" id="3823812">-</span><span class="string" id="3823813">&#39;a&#39;</span><span class="op" id="3823816">)</span>&nbsp;<span class="op" id="3823818">+</span>&nbsp;<span class="num" id="3823820">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823825">}</span>&nbsp;<span class="keyword" id="3823827">else</span>&nbsp;<span class="keyword" id="3823832">if</span>&nbsp;<span class="string" id="3823835">&#39;A&#39;</span>&nbsp;<span class="op" id="3823839">&lt;=</span>&nbsp;<span class="ident" id="3823842">s</span><span class="op" id="3823843">[</span><span class="ident" id="3823844">i</span><span class="op" id="3823845">]</span>&nbsp;<span class="op" id="3823847">&amp;&amp;</span>&nbsp;<span class="ident" id="3823850">s</span><span class="op" id="3823851">[</span><span class="ident" id="3823852">i</span><span class="op" id="3823853">]</span>&nbsp;<span class="op" id="3823855">&lt;=</span>&nbsp;<span class="string" id="3823858">&#39;F&#39;</span>&nbsp;<span class="op" id="3823862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823867">n</span>&nbsp;<span class="op" id="3823869">*=</span>&nbsp;<span class="num" id="3823872">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3823878">n</span>&nbsp;<span class="op" id="3823880">+=</span>&nbsp;<span class="builtintype" id="3823883">int</span><span class="op" id="3823886">(</span><span class="ident" id="3823887">s</span><span class="op" id="3823888">[</span><span class="ident" id="3823889">i</span><span class="op" id="3823890">]</span><span class="op" id="3823891">-</span><span class="string" id="3823892">&#39;A&#39;</span><span class="op" id="3823895">)</span>&nbsp;<span class="op" id="3823897">+</span>&nbsp;<span class="num" id="3823899">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823904">}</span>&nbsp;<span class="keyword" id="3823906">else</span>&nbsp;<span class="op" id="3823911">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823916">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823928">if</span>&nbsp;<span class="ident" id="3823931">n</span>&nbsp;<span class="op" id="3823933">&gt;=</span>&nbsp;<span class="ident" id="3823936">big</span>&nbsp;<span class="op" id="3823940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823945">return</span>&nbsp;<span class="num" id="3823952">0</span><span class="op" id="3823953">,</span>&nbsp;<span class="ident" id="3823955">i</span><span class="op" id="3823956">,</span>&nbsp;<span class="builtintype" id="3823958">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823966">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3823969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823972">if</span>&nbsp;<span class="ident" id="3823975">i</span>&nbsp;<span class="op" id="3823977">==</span>&nbsp;<span class="ident" id="3823980">i0</span>&nbsp;<span class="op" id="3823983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3823987">return</span>&nbsp;<span class="num" id="3823994">0</span><span class="op" id="3823995">,</span>&nbsp;<span class="ident" id="3823997">i</span><span class="op" id="3823998">,</span>&nbsp;<span class="builtintype" id="3824000">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824010">return</span>&nbsp;<span class="ident" id="3824017">n</span><span class="op" id="3824018">,</span>&nbsp;<span class="ident" id="3824020">i</span><span class="op" id="3824021">,</span>&nbsp;<span class="builtintype" id="3824023">true</span><br>
<span class="lineno">160</span><span class="op" id="3824028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3824031">//&nbsp;xtoi2&nbsp;converts&nbsp;the&nbsp;next&nbsp;two&nbsp;hex&nbsp;digits&nbsp;of&nbsp;s&nbsp;into&nbsp;a&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="3824091">//&nbsp;If&nbsp;s&nbsp;is&nbsp;longer&nbsp;than&nbsp;2&nbsp;bytes&nbsp;then&nbsp;the&nbsp;third&nbsp;byte&nbsp;must&nbsp;be&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="3824153">//&nbsp;If&nbsp;the&nbsp;first&nbsp;two&nbsp;bytes&nbsp;of&nbsp;s&nbsp;are&nbsp;not&nbsp;hex&nbsp;digits&nbsp;or&nbsp;the&nbsp;third&nbsp;byte</span><br>
<span class="lineno">165</span><span class="comment" id="3824221">//&nbsp;does&nbsp;not&nbsp;match&nbsp;e,&nbsp;false&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="3824261">func</span>&nbsp;<span class="ident" id="3824266">xtoi2</span><span class="op" id="3824271">(</span><span class="ident" id="3824272">s</span>&nbsp;<span class="builtintype" id="3824274">string</span><span class="op" id="3824280">,</span>&nbsp;<span class="ident" id="3824282">e</span>&nbsp;<span class="builtintype" id="3824284">byte</span><span class="op" id="3824288">)</span>&nbsp;<span class="op" id="3824290">(</span><span class="builtintype" id="3824291">byte</span><span class="op" id="3824295">,</span>&nbsp;<span class="builtintype" id="3824297">bool</span><span class="op" id="3824301">)</span>&nbsp;<span class="op" id="3824303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824306">if</span>&nbsp;<span class="builtinfunc" id="3824309">len</span><span class="op" id="3824312">(</span><span class="ident" id="3824313">s</span><span class="op" id="3824314">)</span>&nbsp;<span class="op" id="3824316">&gt;</span>&nbsp;<span class="num" id="3824318">2</span>&nbsp;<span class="op" id="3824320">&amp;&amp;</span>&nbsp;<span class="ident" id="3824323">s</span><span class="op" id="3824324">[</span><span class="num" id="3824325">2</span><span class="op" id="3824326">]</span>&nbsp;<span class="op" id="3824328">!=</span>&nbsp;<span class="ident" id="3824331">e</span>&nbsp;<span class="op" id="3824333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824337">return</span>&nbsp;<span class="num" id="3824344">0</span><span class="op" id="3824345">,</span>&nbsp;<span class="builtintype" id="3824347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824354">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824357">n</span><span class="op" id="3824358">,</span>&nbsp;<span class="ident" id="3824360">ei</span><span class="op" id="3824362">,</span>&nbsp;<span class="ident" id="3824364">ok</span>&nbsp;<span class="op" id="3824367">:=</span>&nbsp;<span class="ident" id="3824370">xtoi</span><span class="op" id="3824374">(</span><span class="ident" id="3824375">s</span><span class="op" id="3824376">[</span><span class="op" id="3824377">:</span><span class="num" id="3824378">2</span><span class="op" id="3824379">]</span><span class="op" id="3824380">,</span>&nbsp;<span class="num" id="3824382">0</span><span class="op" id="3824383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824386">return</span>&nbsp;<span class="builtintype" id="3824393">byte</span><span class="op" id="3824397">(</span><span class="ident" id="3824398">n</span><span class="op" id="3824399">)</span><span class="op" id="3824400">,</span>&nbsp;<span class="ident" id="3824402">ok</span>&nbsp;<span class="op" id="3824405">&amp;&amp;</span>&nbsp;<span class="ident" id="3824408">ei</span>&nbsp;<span class="op" id="3824411">==</span>&nbsp;<span class="num" id="3824414">2</span><br>
<span class="lineno"></span><span class="op" id="3824416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3824419">//&nbsp;Integer&nbsp;to&nbsp;decimal.</span><br>
<span class="lineno">175</span><span class="keyword" id="3824442">func</span>&nbsp;<span class="ident" id="3824447">itoa</span><span class="op" id="3824451">(</span><span class="ident" id="3824452">i</span>&nbsp;<span class="builtintype" id="3824454">int</span><span class="op" id="3824457">)</span>&nbsp;<span class="builtintype" id="3824459">string</span>&nbsp;<span class="op" id="3824466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824469">var</span>&nbsp;<span class="ident" id="3824473">buf</span>&nbsp;<span class="op" id="3824477">[</span><span class="num" id="3824478">30</span><span class="op" id="3824480">]</span><span class="builtintype" id="3824481">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824487">n</span>&nbsp;<span class="op" id="3824489">:=</span>&nbsp;<span class="builtinfunc" id="3824492">len</span><span class="op" id="3824495">(</span><span class="ident" id="3824496">buf</span><span class="op" id="3824499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824502">neg</span>&nbsp;<span class="op" id="3824506">:=</span>&nbsp;<span class="builtintype" id="3824509">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824516">if</span>&nbsp;<span class="ident" id="3824519">i</span>&nbsp;<span class="op" id="3824521">&lt;</span>&nbsp;<span class="num" id="3824523">0</span>&nbsp;<span class="op" id="3824525">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824529">i</span>&nbsp;<span class="op" id="3824531">=</span>&nbsp;<span class="op" id="3824533">-</span><span class="ident" id="3824534">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824538">neg</span>&nbsp;<span class="op" id="3824542">=</span>&nbsp;<span class="builtintype" id="3824544">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824553">ui</span>&nbsp;<span class="op" id="3824556">:=</span>&nbsp;<span class="builtintype" id="3824559">uint</span><span class="op" id="3824563">(</span><span class="ident" id="3824564">i</span><span class="op" id="3824565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824568">for</span>&nbsp;<span class="ident" id="3824572">ui</span>&nbsp;<span class="op" id="3824575">&gt;</span>&nbsp;<span class="num" id="3824577">0</span>&nbsp;<span class="op" id="3824579">||</span>&nbsp;<span class="ident" id="3824582">n</span>&nbsp;<span class="op" id="3824584">==</span>&nbsp;<span class="builtinfunc" id="3824587">len</span><span class="op" id="3824590">(</span><span class="ident" id="3824591">buf</span><span class="op" id="3824594">)</span>&nbsp;<span class="op" id="3824596">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824600">n</span><span class="op" id="3824601">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824606">buf</span><span class="op" id="3824609">[</span><span class="ident" id="3824610">n</span><span class="op" id="3824611">]</span>&nbsp;<span class="op" id="3824613">=</span>&nbsp;<span class="builtintype" id="3824615">byte</span><span class="op" id="3824619">(</span><span class="string" id="3824620">&#39;0&#39;</span>&nbsp;<span class="op" id="3824624">+</span>&nbsp;<span class="ident" id="3824626">ui</span><span class="op" id="3824628">%</span><span class="num" id="3824629">10</span><span class="op" id="3824631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824635">ui</span>&nbsp;<span class="op" id="3824638">/=</span>&nbsp;<span class="num" id="3824641">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824648">if</span>&nbsp;<span class="ident" id="3824651">neg</span>&nbsp;<span class="op" id="3824655">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824659">n</span><span class="op" id="3824660">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824665">buf</span><span class="op" id="3824668">[</span><span class="ident" id="3824669">n</span><span class="op" id="3824670">]</span>&nbsp;<span class="op" id="3824672">=</span>&nbsp;<span class="string" id="3824674">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824682">return</span>&nbsp;<span class="builtintype" id="3824689">string</span><span class="op" id="3824695">(</span><span class="ident" id="3824696">buf</span><span class="op" id="3824699">[</span><span class="ident" id="3824700">n</span><span class="op" id="3824701">:</span><span class="op" id="3824702">]</span><span class="op" id="3824703">)</span><br>
<span class="lineno"></span><span class="op" id="3824705">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3824708">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3824740">func</span>&nbsp;<span class="ident" id="3824745">itod</span><span class="op" id="3824749">(</span><span class="ident" id="3824750">i</span>&nbsp;<span class="builtintype" id="3824752">uint</span><span class="op" id="3824756">)</span>&nbsp;<span class="builtintype" id="3824758">string</span>&nbsp;<span class="op" id="3824765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824768">if</span>&nbsp;<span class="ident" id="3824771">i</span>&nbsp;<span class="op" id="3824773">==</span>&nbsp;<span class="num" id="3824776">0</span>&nbsp;<span class="op" id="3824778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824782">return</span>&nbsp;<span class="string" id="3824789">&#34;0&#34;</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3824798">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824837">var</span>&nbsp;<span class="ident" id="3824841">b</span>&nbsp;<span class="op" id="3824843">[</span><span class="num" id="3824844">32</span><span class="op" id="3824846">]</span><span class="builtintype" id="3824847">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824853">bp</span>&nbsp;<span class="op" id="3824856">:=</span>&nbsp;<span class="builtinfunc" id="3824859">len</span><span class="op" id="3824862">(</span><span class="ident" id="3824863">b</span><span class="op" id="3824864">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824867">for</span>&nbsp;<span class="op" id="3824871">;</span>&nbsp;<span class="ident" id="3824873">i</span>&nbsp;<span class="op" id="3824875">&gt;</span>&nbsp;<span class="num" id="3824877">0</span><span class="op" id="3824878">;</span>&nbsp;<span class="ident" id="3824880">i</span>&nbsp;<span class="op" id="3824882">/=</span>&nbsp;<span class="num" id="3824885">10</span>&nbsp;<span class="op" id="3824888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824892">bp</span><span class="op" id="3824894">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3824899">b</span><span class="op" id="3824900">[</span><span class="ident" id="3824901">bp</span><span class="op" id="3824903">]</span>&nbsp;<span class="op" id="3824905">=</span>&nbsp;<span class="builtintype" id="3824907">byte</span><span class="op" id="3824911">(</span><span class="ident" id="3824912">i</span><span class="op" id="3824913">%</span><span class="num" id="3824914">10</span><span class="op" id="3824916">)</span>&nbsp;<span class="op" id="3824918">+</span>&nbsp;<span class="string" id="3824920">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3824925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3824929">return</span>&nbsp;<span class="builtintype" id="3824936">string</span><span class="op" id="3824942">(</span><span class="ident" id="3824943">b</span><span class="op" id="3824944">[</span><span class="ident" id="3824945">bp</span><span class="op" id="3824947">:</span><span class="op" id="3824948">]</span><span class="op" id="3824949">)</span><br>
<span class="lineno"></span><span class="op" id="3824951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3824954">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;a&nbsp;hexadecimal&nbsp;string.&nbsp;Leading&nbsp;zeros&nbsp;are&nbsp;not&nbsp;printed.</span><br>
<span class="lineno"></span><span class="keyword" id="3825023">func</span>&nbsp;<span class="ident" id="3825028">appendHex</span><span class="op" id="3825037">(</span><span class="ident" id="3825038">dst</span>&nbsp;<span class="op" id="3825042">[</span><span class="op" id="3825043">]</span><span class="builtintype" id="3825044">byte</span><span class="op" id="3825048">,</span>&nbsp;<span class="ident" id="3825050">i</span>&nbsp;<span class="builtintype" id="3825052">uint32</span><span class="op" id="3825058">)</span>&nbsp;<span class="op" id="3825060">[</span><span class="op" id="3825061">]</span><span class="builtintype" id="3825062">byte</span>&nbsp;<span class="op" id="3825067">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825070">if</span>&nbsp;<span class="ident" id="3825073">i</span>&nbsp;<span class="op" id="3825075">==</span>&nbsp;<span class="num" id="3825078">0</span>&nbsp;<span class="op" id="3825080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825084">return</span>&nbsp;<span class="builtinfunc" id="3825091">append</span><span class="op" id="3825097">(</span><span class="ident" id="3825098">dst</span><span class="op" id="3825101">,</span>&nbsp;<span class="string" id="3825103">&#39;0&#39;</span><span class="op" id="3825106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825112">for</span>&nbsp;<span class="ident" id="3825116">j</span>&nbsp;<span class="op" id="3825118">:=</span>&nbsp;<span class="num" id="3825121">7</span><span class="op" id="3825122">;</span>&nbsp;<span class="ident" id="3825124">j</span>&nbsp;<span class="op" id="3825126">&gt;=</span>&nbsp;<span class="num" id="3825129">0</span><span class="op" id="3825130">;</span>&nbsp;<span class="ident" id="3825132">j</span><span class="op" id="3825133">--</span>&nbsp;<span class="op" id="3825136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3825140">v</span>&nbsp;<span class="op" id="3825142">:=</span>&nbsp;<span class="ident" id="3825145">i</span>&nbsp;<span class="op" id="3825147">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3825150">uint</span><span class="op" id="3825154">(</span><span class="ident" id="3825155">j</span><span class="op" id="3825156">*</span><span class="num" id="3825157">4</span><span class="op" id="3825158">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825162">if</span>&nbsp;<span class="ident" id="3825165">v</span>&nbsp;<span class="op" id="3825167">&gt;</span>&nbsp;<span class="num" id="3825169">0</span>&nbsp;<span class="op" id="3825171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3825176">dst</span>&nbsp;<span class="op" id="3825180">=</span>&nbsp;<span class="builtinfunc" id="3825182">append</span><span class="op" id="3825188">(</span><span class="ident" id="3825189">dst</span><span class="op" id="3825192">,</span>&nbsp;<span class="ident" id="3825194">hexDigit</span><span class="op" id="3825202">[</span><span class="ident" id="3825203">v</span><span class="op" id="3825204">&amp;</span><span class="num" id="3825205">0xf</span><span class="op" id="3825208">]</span><span class="op" id="3825209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825219">return</span>&nbsp;<span class="ident" id="3825226">dst</span><br>
<span class="lineno">225</span><span class="op" id="3825230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3825233">//&nbsp;Number&nbsp;of&nbsp;occurrences&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3825269">func</span>&nbsp;<span class="ident" id="3825274">count</span><span class="op" id="3825279">(</span><span class="ident" id="3825280">s</span>&nbsp;<span class="builtintype" id="3825282">string</span><span class="op" id="3825288">,</span>&nbsp;<span class="ident" id="3825290">b</span>&nbsp;<span class="builtintype" id="3825292">byte</span><span class="op" id="3825296">)</span>&nbsp;<span class="builtintype" id="3825298">int</span>&nbsp;<span class="op" id="3825302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3825305">n</span>&nbsp;<span class="op" id="3825307">:=</span>&nbsp;<span class="num" id="3825310">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825313">for</span>&nbsp;<span class="ident" id="3825317">i</span>&nbsp;<span class="op" id="3825319">:=</span>&nbsp;<span class="num" id="3825322">0</span><span class="op" id="3825323">;</span>&nbsp;<span class="ident" id="3825325">i</span>&nbsp;<span class="op" id="3825327">&lt;</span>&nbsp;<span class="builtinfunc" id="3825329">len</span><span class="op" id="3825332">(</span><span class="ident" id="3825333">s</span><span class="op" id="3825334">)</span><span class="op" id="3825335">;</span>&nbsp;<span class="ident" id="3825337">i</span><span class="op" id="3825338">++</span>&nbsp;<span class="op" id="3825341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825345">if</span>&nbsp;<span class="ident" id="3825348">s</span><span class="op" id="3825349">[</span><span class="ident" id="3825350">i</span><span class="op" id="3825351">]</span>&nbsp;<span class="op" id="3825353">==</span>&nbsp;<span class="ident" id="3825356">b</span>&nbsp;<span class="op" id="3825358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3825363">n</span><span class="op" id="3825364">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825372">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825375">return</span>&nbsp;<span class="ident" id="3825382">n</span><br>
<span class="lineno"></span><span class="op" id="3825384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3825387">//&nbsp;Index&nbsp;of&nbsp;rightmost&nbsp;occurrence&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3825431">func</span>&nbsp;<span class="ident" id="3825436">last</span><span class="op" id="3825440">(</span><span class="ident" id="3825441">s</span>&nbsp;<span class="builtintype" id="3825443">string</span><span class="op" id="3825449">,</span>&nbsp;<span class="ident" id="3825451">b</span>&nbsp;<span class="builtintype" id="3825453">byte</span><span class="op" id="3825457">)</span>&nbsp;<span class="builtintype" id="3825459">int</span>&nbsp;<span class="op" id="3825463">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3825466">i</span>&nbsp;<span class="op" id="3825468">:=</span>&nbsp;<span class="builtinfunc" id="3825471">len</span><span class="op" id="3825474">(</span><span class="ident" id="3825475">s</span><span class="op" id="3825476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825479">for</span>&nbsp;<span class="ident" id="3825483">i</span><span class="op" id="3825484">--</span><span class="op" id="3825486">;</span>&nbsp;<span class="ident" id="3825488">i</span>&nbsp;<span class="op" id="3825490">&gt;=</span>&nbsp;<span class="num" id="3825493">0</span><span class="op" id="3825494">;</span>&nbsp;<span class="ident" id="3825496">i</span><span class="op" id="3825497">--</span>&nbsp;<span class="op" id="3825500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825504">if</span>&nbsp;<span class="ident" id="3825507">s</span><span class="op" id="3825508">[</span><span class="ident" id="3825509">i</span><span class="op" id="3825510">]</span>&nbsp;<span class="op" id="3825512">==</span>&nbsp;<span class="ident" id="3825515">b</span>&nbsp;<span class="op" id="3825517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825522">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825530">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3825533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3825536">return</span>&nbsp;<span class="ident" id="3825543">i</span><br>
<span class="lineno"></span><span class="op" id="3825545">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
