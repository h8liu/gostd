<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7427115">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7427170">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7427224">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7427275">package</span>&nbsp;<span class="ident" id="7427283">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7427289">import</span>&nbsp;<span class="op" id="7427296">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7427299">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7427309">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7427312">var</span>&nbsp;<span class="ident" id="7427316">ParseRangeTests</span>&nbsp;<span class="op" id="7427332">=</span>&nbsp;<span class="op" id="7427334">[</span><span class="op" id="7427335">]</span><span class="keyword" id="7427336">struct</span>&nbsp;<span class="op" id="7427343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427346">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7427353">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427361">length</span>&nbsp;<span class="ident" id="7427368">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427375">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427382">[</span><span class="op" id="7427383">]</span><span class="ident" id="7427384"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><br>
<span class="lineno">15</span><span class="op" id="7427394">}</span><span class="op" id="7427395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427398">{</span><span class="string" id="7427399">&#34;&#34;</span><span class="op" id="7427401">,</span>&nbsp;<span class="num" id="7427403">0</span><span class="op" id="7427404">,</span>&nbsp;<span class="ident" id="7427406">nil</span><span class="op" id="7427409">}</span><span class="op" id="7427410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427413">{</span><span class="string" id="7427414">&#34;&#34;</span><span class="op" id="7427416">,</span>&nbsp;<span class="num" id="7427418">1000</span><span class="op" id="7427422">,</span>&nbsp;<span class="ident" id="7427424">nil</span><span class="op" id="7427427">}</span><span class="op" id="7427428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427431">{</span><span class="string" id="7427432">&#34;foo&#34;</span><span class="op" id="7427437">,</span>&nbsp;<span class="num" id="7427439">0</span><span class="op" id="7427440">,</span>&nbsp;<span class="ident" id="7427442">nil</span><span class="op" id="7427445">}</span><span class="op" id="7427446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427449">{</span><span class="string" id="7427450">&#34;bytes=&#34;</span><span class="op" id="7427458">,</span>&nbsp;<span class="num" id="7427460">0</span><span class="op" id="7427461">,</span>&nbsp;<span class="ident" id="7427463">nil</span><span class="op" id="7427466">}</span><span class="op" id="7427467">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427470">{</span><span class="string" id="7427471">&#34;bytes=7&#34;</span><span class="op" id="7427480">,</span>&nbsp;<span class="num" id="7427482">10</span><span class="op" id="7427484">,</span>&nbsp;<span class="ident" id="7427486">nil</span><span class="op" id="7427489">}</span><span class="op" id="7427490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427493">{</span><span class="string" id="7427494">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="7427505">,</span>&nbsp;<span class="num" id="7427507">10</span><span class="op" id="7427509">,</span>&nbsp;<span class="ident" id="7427511">nil</span><span class="op" id="7427514">}</span><span class="op" id="7427515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427518">{</span><span class="string" id="7427519">&#34;bytes=1-&#34;</span><span class="op" id="7427529">,</span>&nbsp;<span class="num" id="7427531">0</span><span class="op" id="7427532">,</span>&nbsp;<span class="ident" id="7427534">nil</span><span class="op" id="7427537">}</span><span class="op" id="7427538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427541">{</span><span class="string" id="7427542">&#34;bytes=5-4&#34;</span><span class="op" id="7427553">,</span>&nbsp;<span class="num" id="7427555">10</span><span class="op" id="7427557">,</span>&nbsp;<span class="ident" id="7427559">nil</span><span class="op" id="7427562">}</span><span class="op" id="7427563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427566">{</span><span class="string" id="7427567">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="7427582">,</span>&nbsp;<span class="num" id="7427584">10</span><span class="op" id="7427586">,</span>&nbsp;<span class="ident" id="7427588">nil</span><span class="op" id="7427591">}</span><span class="op" id="7427592">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427595">{</span><span class="string" id="7427596">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="7427611">,</span>&nbsp;<span class="num" id="7427613">10</span><span class="op" id="7427615">,</span>&nbsp;<span class="ident" id="7427617">nil</span><span class="op" id="7427620">}</span><span class="op" id="7427621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427624">{</span><span class="string" id="7427625">&#34;bytes=--5,4--3&#34;</span><span class="op" id="7427641">,</span>&nbsp;<span class="num" id="7427643">10</span><span class="op" id="7427645">,</span>&nbsp;<span class="ident" id="7427647">nil</span><span class="op" id="7427650">}</span><span class="op" id="7427651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427654">{</span><span class="string" id="7427655">&#34;bytes=A-&#34;</span><span class="op" id="7427665">,</span>&nbsp;<span class="num" id="7427667">10</span><span class="op" id="7427669">,</span>&nbsp;<span class="ident" id="7427671">nil</span><span class="op" id="7427674">}</span><span class="op" id="7427675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427678">{</span><span class="string" id="7427679">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="7427690">,</span>&nbsp;<span class="num" id="7427692">10</span><span class="op" id="7427694">,</span>&nbsp;<span class="ident" id="7427696">nil</span><span class="op" id="7427699">}</span><span class="op" id="7427700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427703">{</span><span class="string" id="7427704">&#34;bytes=A-Z&#34;</span><span class="op" id="7427715">,</span>&nbsp;<span class="num" id="7427717">10</span><span class="op" id="7427719">,</span>&nbsp;<span class="ident" id="7427721">nil</span><span class="op" id="7427724">}</span><span class="op" id="7427725">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427728">{</span><span class="string" id="7427729">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="7427740">,</span>&nbsp;<span class="num" id="7427742">10</span><span class="op" id="7427744">,</span>&nbsp;<span class="ident" id="7427746">nil</span><span class="op" id="7427749">}</span><span class="op" id="7427750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427753">{</span><span class="string" id="7427754">&#34;bytes=5-Z&#34;</span><span class="op" id="7427765">,</span>&nbsp;<span class="num" id="7427767">10</span><span class="op" id="7427769">,</span>&nbsp;<span class="ident" id="7427771">nil</span><span class="op" id="7427774">}</span><span class="op" id="7427775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427778">{</span><span class="string" id="7427779">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="7427803">,</span>&nbsp;<span class="num" id="7427805">10</span><span class="op" id="7427807">,</span>&nbsp;<span class="ident" id="7427809">nil</span><span class="op" id="7427812">}</span><span class="op" id="7427813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427816">{</span><span class="string" id="7427817">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="7427834">,</span>&nbsp;<span class="num" id="7427836">10</span><span class="op" id="7427838">,</span>&nbsp;<span class="ident" id="7427840">nil</span><span class="op" id="7427843">}</span><span class="op" id="7427844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427847">{</span><span class="string" id="7427848">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7427865">,</span>&nbsp;<span class="num" id="7427867">10</span><span class="op" id="7427869">,</span>&nbsp;<span class="ident" id="7427871">nil</span><span class="op" id="7427874">}</span><span class="op" id="7427875">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427878">{</span><span class="string" id="7427879">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7427896">,</span>&nbsp;<span class="num" id="7427898">10</span><span class="op" id="7427900">,</span>&nbsp;<span class="ident" id="7427902">nil</span><span class="op" id="7427905">}</span><span class="op" id="7427906">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427910">{</span><span class="string" id="7427911">&#34;bytes=0-9&#34;</span><span class="op" id="7427922">,</span>&nbsp;<span class="num" id="7427924">10</span><span class="op" id="7427926">,</span>&nbsp;<span class="op" id="7427928">[</span><span class="op" id="7427929">]</span><span class="ident" id="7427930"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7427939">{</span><span class="op" id="7427940">{</span><span class="num" id="7427941">0</span><span class="op" id="7427942">,</span>&nbsp;<span class="num" id="7427944">10</span><span class="op" id="7427946">}</span><span class="op" id="7427947">}</span><span class="op" id="7427948">}</span><span class="op" id="7427949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427952">{</span><span class="string" id="7427953">&#34;bytes=0-&#34;</span><span class="op" id="7427963">,</span>&nbsp;<span class="num" id="7427965">10</span><span class="op" id="7427967">,</span>&nbsp;<span class="op" id="7427969">[</span><span class="op" id="7427970">]</span><span class="ident" id="7427971"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7427980">{</span><span class="op" id="7427981">{</span><span class="num" id="7427982">0</span><span class="op" id="7427983">,</span>&nbsp;<span class="num" id="7427985">10</span><span class="op" id="7427987">}</span><span class="op" id="7427988">}</span><span class="op" id="7427989">}</span><span class="op" id="7427990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427993">{</span><span class="string" id="7427994">&#34;bytes=5-&#34;</span><span class="op" id="7428004">,</span>&nbsp;<span class="num" id="7428006">10</span><span class="op" id="7428008">,</span>&nbsp;<span class="op" id="7428010">[</span><span class="op" id="7428011">]</span><span class="ident" id="7428012"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428021">{</span><span class="op" id="7428022">{</span><span class="num" id="7428023">5</span><span class="op" id="7428024">,</span>&nbsp;<span class="num" id="7428026">5</span><span class="op" id="7428027">}</span><span class="op" id="7428028">}</span><span class="op" id="7428029">}</span><span class="op" id="7428030">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428033">{</span><span class="string" id="7428034">&#34;bytes=0-20&#34;</span><span class="op" id="7428046">,</span>&nbsp;<span class="num" id="7428048">10</span><span class="op" id="7428050">,</span>&nbsp;<span class="op" id="7428052">[</span><span class="op" id="7428053">]</span><span class="ident" id="7428054"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428063">{</span><span class="op" id="7428064">{</span><span class="num" id="7428065">0</span><span class="op" id="7428066">,</span>&nbsp;<span class="num" id="7428068">10</span><span class="op" id="7428070">}</span><span class="op" id="7428071">}</span><span class="op" id="7428072">}</span><span class="op" id="7428073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428076">{</span><span class="string" id="7428077">&#34;bytes=15-,0-5&#34;</span><span class="op" id="7428092">,</span>&nbsp;<span class="num" id="7428094">10</span><span class="op" id="7428096">,</span>&nbsp;<span class="ident" id="7428098">nil</span><span class="op" id="7428101">}</span><span class="op" id="7428102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428105">{</span><span class="string" id="7428106">&#34;bytes=1-2,5-&#34;</span><span class="op" id="7428120">,</span>&nbsp;<span class="num" id="7428122">10</span><span class="op" id="7428124">,</span>&nbsp;<span class="op" id="7428126">[</span><span class="op" id="7428127">]</span><span class="ident" id="7428128"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428137">{</span><span class="op" id="7428138">{</span><span class="num" id="7428139">1</span><span class="op" id="7428140">,</span>&nbsp;<span class="num" id="7428142">2</span><span class="op" id="7428143">}</span><span class="op" id="7428144">,</span>&nbsp;<span class="op" id="7428146">{</span><span class="num" id="7428147">5</span><span class="op" id="7428148">,</span>&nbsp;<span class="num" id="7428150">5</span><span class="op" id="7428151">}</span><span class="op" id="7428152">}</span><span class="op" id="7428153">}</span><span class="op" id="7428154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428157">{</span><span class="string" id="7428158">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="7428173">,</span>&nbsp;<span class="num" id="7428175">11</span><span class="op" id="7428177">,</span>&nbsp;<span class="op" id="7428179">[</span><span class="op" id="7428180">]</span><span class="ident" id="7428181"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428190">{</span><span class="op" id="7428191">{</span><span class="num" id="7428192">9</span><span class="op" id="7428193">,</span>&nbsp;<span class="num" id="7428195">2</span><span class="op" id="7428196">}</span><span class="op" id="7428197">,</span>&nbsp;<span class="op" id="7428199">{</span><span class="num" id="7428200">7</span><span class="op" id="7428201">,</span>&nbsp;<span class="num" id="7428203">4</span><span class="op" id="7428204">}</span><span class="op" id="7428205">}</span><span class="op" id="7428206">}</span><span class="op" id="7428207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428210">{</span><span class="string" id="7428211">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="7428231">,</span>&nbsp;<span class="num" id="7428233">11</span><span class="op" id="7428235">,</span>&nbsp;<span class="op" id="7428237">[</span><span class="op" id="7428238">]</span><span class="ident" id="7428239"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428248">{</span><span class="op" id="7428249">{</span><span class="num" id="7428250">0</span><span class="op" id="7428251">,</span>&nbsp;<span class="num" id="7428253">1</span><span class="op" id="7428254">}</span><span class="op" id="7428255">,</span>&nbsp;<span class="op" id="7428257">{</span><span class="num" id="7428258">2</span><span class="op" id="7428259">,</span>&nbsp;<span class="num" id="7428261">1</span><span class="op" id="7428262">}</span><span class="op" id="7428263">,</span>&nbsp;<span class="op" id="7428265">{</span><span class="num" id="7428266">7</span><span class="op" id="7428267">,</span>&nbsp;<span class="num" id="7428269">4</span><span class="op" id="7428270">}</span><span class="op" id="7428271">}</span><span class="op" id="7428272">}</span><span class="op" id="7428273">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428276">{</span><span class="string" id="7428277">&#34;bytes=-5&#34;</span><span class="op" id="7428287">,</span>&nbsp;<span class="num" id="7428289">10</span><span class="op" id="7428291">,</span>&nbsp;<span class="op" id="7428293">[</span><span class="op" id="7428294">]</span><span class="ident" id="7428295"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428304">{</span><span class="op" id="7428305">{</span><span class="num" id="7428306">5</span><span class="op" id="7428307">,</span>&nbsp;<span class="num" id="7428309">5</span><span class="op" id="7428310">}</span><span class="op" id="7428311">}</span><span class="op" id="7428312">}</span><span class="op" id="7428313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428316">{</span><span class="string" id="7428317">&#34;bytes=-15&#34;</span><span class="op" id="7428328">,</span>&nbsp;<span class="num" id="7428330">10</span><span class="op" id="7428332">,</span>&nbsp;<span class="op" id="7428334">[</span><span class="op" id="7428335">]</span><span class="ident" id="7428336"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428345">{</span><span class="op" id="7428346">{</span><span class="num" id="7428347">0</span><span class="op" id="7428348">,</span>&nbsp;<span class="num" id="7428350">10</span><span class="op" id="7428352">}</span><span class="op" id="7428353">}</span><span class="op" id="7428354">}</span><span class="op" id="7428355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428358">{</span><span class="string" id="7428359">&#34;bytes=0-499&#34;</span><span class="op" id="7428372">,</span>&nbsp;<span class="num" id="7428374">10000</span><span class="op" id="7428379">,</span>&nbsp;<span class="op" id="7428381">[</span><span class="op" id="7428382">]</span><span class="ident" id="7428383"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428392">{</span><span class="op" id="7428393">{</span><span class="num" id="7428394">0</span><span class="op" id="7428395">,</span>&nbsp;<span class="num" id="7428397">500</span><span class="op" id="7428400">}</span><span class="op" id="7428401">}</span><span class="op" id="7428402">}</span><span class="op" id="7428403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428406">{</span><span class="string" id="7428407">&#34;bytes=500-999&#34;</span><span class="op" id="7428422">,</span>&nbsp;<span class="num" id="7428424">10000</span><span class="op" id="7428429">,</span>&nbsp;<span class="op" id="7428431">[</span><span class="op" id="7428432">]</span><span class="ident" id="7428433"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428442">{</span><span class="op" id="7428443">{</span><span class="num" id="7428444">500</span><span class="op" id="7428447">,</span>&nbsp;<span class="num" id="7428449">500</span><span class="op" id="7428452">}</span><span class="op" id="7428453">}</span><span class="op" id="7428454">}</span><span class="op" id="7428455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428458">{</span><span class="string" id="7428459">&#34;bytes=-500&#34;</span><span class="op" id="7428471">,</span>&nbsp;<span class="num" id="7428473">10000</span><span class="op" id="7428478">,</span>&nbsp;<span class="op" id="7428480">[</span><span class="op" id="7428481">]</span><span class="ident" id="7428482"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428491">{</span><span class="op" id="7428492">{</span><span class="num" id="7428493">9500</span><span class="op" id="7428497">,</span>&nbsp;<span class="num" id="7428499">500</span><span class="op" id="7428502">}</span><span class="op" id="7428503">}</span><span class="op" id="7428504">}</span><span class="op" id="7428505">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428508">{</span><span class="string" id="7428509">&#34;bytes=9500-&#34;</span><span class="op" id="7428522">,</span>&nbsp;<span class="num" id="7428524">10000</span><span class="op" id="7428529">,</span>&nbsp;<span class="op" id="7428531">[</span><span class="op" id="7428532">]</span><span class="ident" id="7428533"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428542">{</span><span class="op" id="7428543">{</span><span class="num" id="7428544">9500</span><span class="op" id="7428548">,</span>&nbsp;<span class="num" id="7428550">500</span><span class="op" id="7428553">}</span><span class="op" id="7428554">}</span><span class="op" id="7428555">}</span><span class="op" id="7428556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428559">{</span><span class="string" id="7428560">&#34;bytes=0-0,-1&#34;</span><span class="op" id="7428574">,</span>&nbsp;<span class="num" id="7428576">10000</span><span class="op" id="7428581">,</span>&nbsp;<span class="op" id="7428583">[</span><span class="op" id="7428584">]</span><span class="ident" id="7428585"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428594">{</span><span class="op" id="7428595">{</span><span class="num" id="7428596">0</span><span class="op" id="7428597">,</span>&nbsp;<span class="num" id="7428599">1</span><span class="op" id="7428600">}</span><span class="op" id="7428601">,</span>&nbsp;<span class="op" id="7428603">{</span><span class="num" id="7428604">9999</span><span class="op" id="7428608">,</span>&nbsp;<span class="num" id="7428610">1</span><span class="op" id="7428611">}</span><span class="op" id="7428612">}</span><span class="op" id="7428613">}</span><span class="op" id="7428614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428617">{</span><span class="string" id="7428618">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="7428641">,</span>&nbsp;<span class="num" id="7428643">10000</span><span class="op" id="7428648">,</span>&nbsp;<span class="op" id="7428650">[</span><span class="op" id="7428651">]</span><span class="ident" id="7428652"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428661">{</span><span class="op" id="7428662">{</span><span class="num" id="7428663">500</span><span class="op" id="7428666">,</span>&nbsp;<span class="num" id="7428668">101</span><span class="op" id="7428671">}</span><span class="op" id="7428672">,</span>&nbsp;<span class="op" id="7428674">{</span><span class="num" id="7428675">601</span><span class="op" id="7428678">,</span>&nbsp;<span class="num" id="7428680">399</span><span class="op" id="7428683">}</span><span class="op" id="7428684">}</span><span class="op" id="7428685">}</span><span class="op" id="7428686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428689">{</span><span class="string" id="7428690">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="7428713">,</span>&nbsp;<span class="num" id="7428715">10000</span><span class="op" id="7428720">,</span>&nbsp;<span class="op" id="7428722">[</span><span class="op" id="7428723">]</span><span class="ident" id="7428724"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428733">{</span><span class="op" id="7428734">{</span><span class="num" id="7428735">500</span><span class="op" id="7428738">,</span>&nbsp;<span class="num" id="7428740">201</span><span class="op" id="7428743">}</span><span class="op" id="7428744">,</span>&nbsp;<span class="op" id="7428746">{</span><span class="num" id="7428747">601</span><span class="op" id="7428750">,</span>&nbsp;<span class="num" id="7428752">399</span><span class="op" id="7428755">}</span><span class="op" id="7428756">}</span><span class="op" id="7428757">}</span><span class="op" id="7428758">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7428762">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428787">{</span><span class="string" id="7428788">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="7428825">,</span>&nbsp;<span class="num" id="7428827">11</span><span class="op" id="7428829">,</span>&nbsp;<span class="op" id="7428831">[</span><span class="op" id="7428832">]</span><span class="ident" id="7428833"><a href="/net/http/fs.go.html#3778652">httpRange</a></span><span class="op" id="7428842">{</span><span class="op" id="7428843">{</span><span class="num" id="7428844">1</span><span class="op" id="7428845">,</span>&nbsp;<span class="num" id="7428847">2</span><span class="op" id="7428848">}</span><span class="op" id="7428849">,</span>&nbsp;<span class="op" id="7428851">{</span><span class="num" id="7428852">4</span><span class="op" id="7428853">,</span>&nbsp;<span class="num" id="7428855">2</span><span class="op" id="7428856">}</span><span class="op" id="7428857">,</span>&nbsp;<span class="op" id="7428859">{</span><span class="num" id="7428860">7</span><span class="op" id="7428861">,</span>&nbsp;<span class="num" id="7428863">2</span><span class="op" id="7428864">}</span><span class="op" id="7428865">}</span><span class="op" id="7428866">}</span><span class="op" id="7428867">,</span><br>
<span class="lineno"></span><span class="op" id="7428869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7428872">func</span>&nbsp;<span class="ident" id="7428877">TestParseRange</span><span class="op" id="7428891">(</span><span class="ident" id="7428892">t</span>&nbsp;<span class="op" id="7428894">*</span><span class="ident" id="7428895"><a href="/net/http/range_test.go.html#7427299">testing</a></span><span class="op" id="7428902">.</span><span class="ident" id="7428903">T</span><span class="op" id="7428904">)</span>&nbsp;<span class="op" id="7428906">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428909">for</span>&nbsp;<span class="ident" id="7428913">_</span><span class="op" id="7428914">,</span>&nbsp;<span class="ident" id="7428916">test</span>&nbsp;<span class="op" id="7428921">:=</span>&nbsp;<span class="keyword" id="7428924">range</span>&nbsp;<span class="ident" id="7428930"><a href="/net/http/range_test.go.html#7427316">ParseRangeTests</a></span>&nbsp;<span class="op" id="7428946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428950">r</span>&nbsp;<span class="op" id="7428952">:=</span>&nbsp;<span class="ident" id="7428955"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7428959">.</span><span class="ident" id="7428960">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428964">ranges</span><span class="op" id="7428970">,</span>&nbsp;<span class="ident" id="7428972">err</span>&nbsp;<span class="op" id="7428976">:=</span>&nbsp;<span class="ident" id="7428979"><a href="/net/http/fs.go.html#3779087">parseRange</a></span><span class="op" id="7428989">(</span><span class="ident" id="7428990"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7428994">.</span><span class="ident" id="7428995">s</span><span class="op" id="7428996">,</span>&nbsp;<span class="ident" id="7428998"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7429002">.</span><span class="ident" id="7429003">length</span><span class="op" id="7429009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429013">if</span>&nbsp;<span class="ident" id="7429016"><a href="/net/http/range_test.go.html#7428972">err</a></span>&nbsp;<span class="op" id="7429020">!=</span>&nbsp;<span class="ident" id="7429023">nil</span>&nbsp;<span class="op" id="7429027">&amp;&amp;</span>&nbsp;<span class="ident" id="7429030"><a href="/net/http/range_test.go.html#7428950">r</a></span>&nbsp;<span class="op" id="7429032">!=</span>&nbsp;<span class="ident" id="7429035">nil</span>&nbsp;<span class="op" id="7429039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429044"><a href="/net/http/range_test.go.html#7428892">t</a></span><span class="op" id="7429045">.</span><span class="ident" id="7429046">Errorf</span><span class="op" id="7429052">(</span><span class="string" id="7429053">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7429087">,</span>&nbsp;<span class="ident" id="7429089"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7429093">.</span><span class="ident" id="7429094">s</span><span class="op" id="7429095">,</span>&nbsp;<span class="ident" id="7429097"><a href="/net/http/range_test.go.html#7428972">err</a></span><span class="op" id="7429100">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429108">if</span>&nbsp;<span class="builtinfunc" id="7429111">len</span><span class="op" id="7429114">(</span><span class="ident" id="7429115"><a href="/net/http/range_test.go.html#7428964">ranges</a></span><span class="op" id="7429121">)</span>&nbsp;<span class="op" id="7429123">!=</span>&nbsp;<span class="builtinfunc" id="7429126">len</span><span class="op" id="7429129">(</span><span class="ident" id="7429130"><a href="/net/http/range_test.go.html#7428950">r</a></span><span class="op" id="7429131">)</span>&nbsp;<span class="op" id="7429133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429138"><a href="/net/http/range_test.go.html#7428892">t</a></span><span class="op" id="7429139">.</span><span class="ident" id="7429140">Errorf</span><span class="op" id="7429146">(</span><span class="string" id="7429147">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7429182">,</span>&nbsp;<span class="ident" id="7429184"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7429188">.</span><span class="ident" id="7429189">s</span><span class="op" id="7429190">,</span>&nbsp;<span class="builtinfunc" id="7429192">len</span><span class="op" id="7429195">(</span><span class="ident" id="7429196"><a href="/net/http/range_test.go.html#7428964">ranges</a></span><span class="op" id="7429202">)</span><span class="op" id="7429203">,</span>&nbsp;<span class="builtinfunc" id="7429205">len</span><span class="op" id="7429208">(</span><span class="ident" id="7429209"><a href="/net/http/range_test.go.html#7428950">r</a></span><span class="op" id="7429210">)</span><span class="op" id="7429211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429216">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429227">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429231">for</span>&nbsp;<span class="ident" id="7429235">i</span>&nbsp;<span class="op" id="7429237">:=</span>&nbsp;<span class="keyword" id="7429240">range</span>&nbsp;<span class="ident" id="7429246"><a href="/net/http/range_test.go.html#7428950">r</a></span>&nbsp;<span class="op" id="7429248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429253">if</span>&nbsp;<span class="ident" id="7429256"><a href="/net/http/range_test.go.html#7428964">ranges</a></span><span class="op" id="7429262">[</span><span class="ident" id="7429263"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429264">]</span><span class="op" id="7429265">.</span><span class="ident" id="7429266">start</span>&nbsp;<span class="op" id="7429272">!=</span>&nbsp;<span class="ident" id="7429275"><a href="/net/http/range_test.go.html#7428950">r</a></span><span class="op" id="7429276">[</span><span class="ident" id="7429277"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429278">]</span><span class="op" id="7429279">.</span><span class="ident" id="7429280">start</span>&nbsp;<span class="op" id="7429286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429292"><a href="/net/http/range_test.go.html#7428892">t</a></span><span class="op" id="7429293">.</span><span class="ident" id="7429294">Errorf</span><span class="op" id="7429300">(</span><span class="string" id="7429301">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7429341">,</span>&nbsp;<span class="ident" id="7429343"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7429347">.</span><span class="ident" id="7429348">s</span><span class="op" id="7429349">,</span>&nbsp;<span class="ident" id="7429351"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429352">,</span>&nbsp;<span class="ident" id="7429354"><a href="/net/http/range_test.go.html#7428964">ranges</a></span><span class="op" id="7429360">[</span><span class="ident" id="7429361"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429362">]</span><span class="op" id="7429363">.</span><span class="ident" id="7429364">start</span><span class="op" id="7429369">,</span>&nbsp;<span class="ident" id="7429371"><a href="/net/http/range_test.go.html#7428950">r</a></span><span class="op" id="7429372">[</span><span class="ident" id="7429373"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429374">]</span><span class="op" id="7429375">.</span><span class="ident" id="7429376">start</span><span class="op" id="7429381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429391">if</span>&nbsp;<span class="ident" id="7429394"><a href="/net/http/range_test.go.html#7428964">ranges</a></span><span class="op" id="7429400">[</span><span class="ident" id="7429401"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429402">]</span><span class="op" id="7429403">.</span><span class="ident" id="7429404">length</span>&nbsp;<span class="op" id="7429411">!=</span>&nbsp;<span class="ident" id="7429414"><a href="/net/http/range_test.go.html#7428950">r</a></span><span class="op" id="7429415">[</span><span class="ident" id="7429416"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429417">]</span><span class="op" id="7429418">.</span><span class="ident" id="7429419">length</span>&nbsp;<span class="op" id="7429426">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429432"><a href="/net/http/range_test.go.html#7428892">t</a></span><span class="op" id="7429433">.</span><span class="ident" id="7429434">Errorf</span><span class="op" id="7429440">(</span><span class="string" id="7429441">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7429482">,</span>&nbsp;<span class="ident" id="7429484"><a href="/net/http/range_test.go.html#7428916">test</a></span><span class="op" id="7429488">.</span><span class="ident" id="7429489">s</span><span class="op" id="7429490">,</span>&nbsp;<span class="ident" id="7429492"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429493">,</span>&nbsp;<span class="ident" id="7429495"><a href="/net/http/range_test.go.html#7428964">ranges</a></span><span class="op" id="7429501">[</span><span class="ident" id="7429502"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429503">]</span><span class="op" id="7429504">.</span><span class="ident" id="7429505">length</span><span class="op" id="7429511">,</span>&nbsp;<span class="ident" id="7429513"><a href="/net/http/range_test.go.html#7428950">r</a></span><span class="op" id="7429514">[</span><span class="ident" id="7429515"><a href="/net/http/range_test.go.html#7429235">i</a></span><span class="op" id="7429516">]</span><span class="op" id="7429517">.</span><span class="ident" id="7429518">length</span><span class="op" id="7429524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429536">}</span><br>
<span class="lineno"></span><span class="op" id="7429538">}</span>
</div>
</body>
</html>
