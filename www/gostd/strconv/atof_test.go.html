<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1021743">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1021798">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1021852">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1021903">package</span>&nbsp;<span class="ident" id="1021911">strconv_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1021925">import</span>&nbsp;<span class="op" id="1021932">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1021935">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1021943">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1021956">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1021967">.</span>&nbsp;<span class="string" id="1021969">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1021980">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1021991">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1022002">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="1022009">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1022012">type</span>&nbsp;<span class="ident" id="1022017">atofTest</span>&nbsp;<span class="keyword" id="1022026">struct</span>&nbsp;<span class="op" id="1022033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1022036">in</span>&nbsp;&nbsp;<span class="builtintype" id="1022040">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1022048">out</span>&nbsp;<span class="builtintype" id="1022052">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1022060">err</span>&nbsp;<span class="builtintype" id="1022064">error</span><br>
<span class="lineno"></span><span class="op" id="1022070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1022073">var</span>&nbsp;<span class="ident" id="1022077">atoftests</span>&nbsp;<span class="op" id="1022087">=</span>&nbsp;<span class="op" id="1022089">[</span><span class="op" id="1022090">]</span><span class="ident" id="1022091">atofTest</span><span class="op" id="1022099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022102">{</span><span class="string" id="1022103">&#34;&#34;</span><span class="op" id="1022105">,</span>&nbsp;<span class="string" id="1022107">&#34;0&#34;</span><span class="op" id="1022110">,</span>&nbsp;<span class="ident" id="1022112">ErrSyntax</span><span class="op" id="1022121">}</span><span class="op" id="1022122">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022125">{</span><span class="string" id="1022126">&#34;1&#34;</span><span class="op" id="1022129">,</span>&nbsp;<span class="string" id="1022131">&#34;1&#34;</span><span class="op" id="1022134">,</span>&nbsp;<span class="ident" id="1022136">nil</span><span class="op" id="1022139">}</span><span class="op" id="1022140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022143">{</span><span class="string" id="1022144">&#34;+1&#34;</span><span class="op" id="1022148">,</span>&nbsp;<span class="string" id="1022150">&#34;1&#34;</span><span class="op" id="1022153">,</span>&nbsp;<span class="ident" id="1022155">nil</span><span class="op" id="1022158">}</span><span class="op" id="1022159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022162">{</span><span class="string" id="1022163">&#34;1x&#34;</span><span class="op" id="1022167">,</span>&nbsp;<span class="string" id="1022169">&#34;0&#34;</span><span class="op" id="1022172">,</span>&nbsp;<span class="ident" id="1022174">ErrSyntax</span><span class="op" id="1022183">}</span><span class="op" id="1022184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022187">{</span><span class="string" id="1022188">&#34;1.1.&#34;</span><span class="op" id="1022194">,</span>&nbsp;<span class="string" id="1022196">&#34;0&#34;</span><span class="op" id="1022199">,</span>&nbsp;<span class="ident" id="1022201">ErrSyntax</span><span class="op" id="1022210">}</span><span class="op" id="1022211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022214">{</span><span class="string" id="1022215">&#34;1e23&#34;</span><span class="op" id="1022221">,</span>&nbsp;<span class="string" id="1022223">&#34;1e+23&#34;</span><span class="op" id="1022230">,</span>&nbsp;<span class="ident" id="1022232">nil</span><span class="op" id="1022235">}</span><span class="op" id="1022236">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022239">{</span><span class="string" id="1022240">&#34;1E23&#34;</span><span class="op" id="1022246">,</span>&nbsp;<span class="string" id="1022248">&#34;1e+23&#34;</span><span class="op" id="1022255">,</span>&nbsp;<span class="ident" id="1022257">nil</span><span class="op" id="1022260">}</span><span class="op" id="1022261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022264">{</span><span class="string" id="1022265">&#34;100000000000000000000000&#34;</span><span class="op" id="1022291">,</span>&nbsp;<span class="string" id="1022293">&#34;1e+23&#34;</span><span class="op" id="1022300">,</span>&nbsp;<span class="ident" id="1022302">nil</span><span class="op" id="1022305">}</span><span class="op" id="1022306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022309">{</span><span class="string" id="1022310">&#34;1e-100&#34;</span><span class="op" id="1022318">,</span>&nbsp;<span class="string" id="1022320">&#34;1e-100&#34;</span><span class="op" id="1022328">,</span>&nbsp;<span class="ident" id="1022330">nil</span><span class="op" id="1022333">}</span><span class="op" id="1022334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022337">{</span><span class="string" id="1022338">&#34;123456700&#34;</span><span class="op" id="1022349">,</span>&nbsp;<span class="string" id="1022351">&#34;1.234567e+08&#34;</span><span class="op" id="1022365">,</span>&nbsp;<span class="ident" id="1022367">nil</span><span class="op" id="1022370">}</span><span class="op" id="1022371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022374">{</span><span class="string" id="1022375">&#34;99999999999999974834176&#34;</span><span class="op" id="1022400">,</span>&nbsp;<span class="string" id="1022402">&#34;9.999999999999997e+22&#34;</span><span class="op" id="1022425">,</span>&nbsp;<span class="ident" id="1022427">nil</span><span class="op" id="1022430">}</span><span class="op" id="1022431">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022434">{</span><span class="string" id="1022435">&#34;100000000000000000000001&#34;</span><span class="op" id="1022461">,</span>&nbsp;<span class="string" id="1022463">&#34;1.0000000000000001e+23&#34;</span><span class="op" id="1022487">,</span>&nbsp;<span class="ident" id="1022489">nil</span><span class="op" id="1022492">}</span><span class="op" id="1022493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022496">{</span><span class="string" id="1022497">&#34;100000000000000008388608&#34;</span><span class="op" id="1022523">,</span>&nbsp;<span class="string" id="1022525">&#34;1.0000000000000001e+23&#34;</span><span class="op" id="1022549">,</span>&nbsp;<span class="ident" id="1022551">nil</span><span class="op" id="1022554">}</span><span class="op" id="1022555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022558">{</span><span class="string" id="1022559">&#34;100000000000000016777215&#34;</span><span class="op" id="1022585">,</span>&nbsp;<span class="string" id="1022587">&#34;1.0000000000000001e+23&#34;</span><span class="op" id="1022611">,</span>&nbsp;<span class="ident" id="1022613">nil</span><span class="op" id="1022616">}</span><span class="op" id="1022617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022620">{</span><span class="string" id="1022621">&#34;100000000000000016777216&#34;</span><span class="op" id="1022647">,</span>&nbsp;<span class="string" id="1022649">&#34;1.0000000000000003e+23&#34;</span><span class="op" id="1022673">,</span>&nbsp;<span class="ident" id="1022675">nil</span><span class="op" id="1022678">}</span><span class="op" id="1022679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022682">{</span><span class="string" id="1022683">&#34;-1&#34;</span><span class="op" id="1022687">,</span>&nbsp;<span class="string" id="1022689">&#34;-1&#34;</span><span class="op" id="1022693">,</span>&nbsp;<span class="ident" id="1022695">nil</span><span class="op" id="1022698">}</span><span class="op" id="1022699">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022702">{</span><span class="string" id="1022703">&#34;-0.1&#34;</span><span class="op" id="1022709">,</span>&nbsp;<span class="string" id="1022711">&#34;-0.1&#34;</span><span class="op" id="1022717">,</span>&nbsp;<span class="ident" id="1022719">nil</span><span class="op" id="1022722">}</span><span class="op" id="1022723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022726">{</span><span class="string" id="1022727">&#34;-0&#34;</span><span class="op" id="1022731">,</span>&nbsp;<span class="string" id="1022733">&#34;-0&#34;</span><span class="op" id="1022737">,</span>&nbsp;<span class="ident" id="1022739">nil</span><span class="op" id="1022742">}</span><span class="op" id="1022743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022746">{</span><span class="string" id="1022747">&#34;1e-20&#34;</span><span class="op" id="1022754">,</span>&nbsp;<span class="string" id="1022756">&#34;1e-20&#34;</span><span class="op" id="1022763">,</span>&nbsp;<span class="ident" id="1022765">nil</span><span class="op" id="1022768">}</span><span class="op" id="1022769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022772">{</span><span class="string" id="1022773">&#34;625e-3&#34;</span><span class="op" id="1022781">,</span>&nbsp;<span class="string" id="1022783">&#34;0.625&#34;</span><span class="op" id="1022790">,</span>&nbsp;<span class="ident" id="1022792">nil</span><span class="op" id="1022795">}</span><span class="op" id="1022796">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1022800">//&nbsp;NaNs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022809">{</span><span class="string" id="1022810">&#34;nan&#34;</span><span class="op" id="1022815">,</span>&nbsp;<span class="string" id="1022817">&#34;NaN&#34;</span><span class="op" id="1022822">,</span>&nbsp;<span class="ident" id="1022824">nil</span><span class="op" id="1022827">}</span><span class="op" id="1022828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022831">{</span><span class="string" id="1022832">&#34;NaN&#34;</span><span class="op" id="1022837">,</span>&nbsp;<span class="string" id="1022839">&#34;NaN&#34;</span><span class="op" id="1022844">,</span>&nbsp;<span class="ident" id="1022846">nil</span><span class="op" id="1022849">}</span><span class="op" id="1022850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022853">{</span><span class="string" id="1022854">&#34;NAN&#34;</span><span class="op" id="1022859">,</span>&nbsp;<span class="string" id="1022861">&#34;NaN&#34;</span><span class="op" id="1022866">,</span>&nbsp;<span class="ident" id="1022868">nil</span><span class="op" id="1022871">}</span><span class="op" id="1022872">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1022876">//&nbsp;Infs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022885">{</span><span class="string" id="1022886">&#34;inf&#34;</span><span class="op" id="1022891">,</span>&nbsp;<span class="string" id="1022893">&#34;+Inf&#34;</span><span class="op" id="1022899">,</span>&nbsp;<span class="ident" id="1022901">nil</span><span class="op" id="1022904">}</span><span class="op" id="1022905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022908">{</span><span class="string" id="1022909">&#34;-Inf&#34;</span><span class="op" id="1022915">,</span>&nbsp;<span class="string" id="1022917">&#34;-Inf&#34;</span><span class="op" id="1022923">,</span>&nbsp;<span class="ident" id="1022925">nil</span><span class="op" id="1022928">}</span><span class="op" id="1022929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022932">{</span><span class="string" id="1022933">&#34;+INF&#34;</span><span class="op" id="1022939">,</span>&nbsp;<span class="string" id="1022941">&#34;+Inf&#34;</span><span class="op" id="1022947">,</span>&nbsp;<span class="ident" id="1022949">nil</span><span class="op" id="1022952">}</span><span class="op" id="1022953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022956">{</span><span class="string" id="1022957">&#34;-Infinity&#34;</span><span class="op" id="1022968">,</span>&nbsp;<span class="string" id="1022970">&#34;-Inf&#34;</span><span class="op" id="1022976">,</span>&nbsp;<span class="ident" id="1022978">nil</span><span class="op" id="1022981">}</span><span class="op" id="1022982">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1022985">{</span><span class="string" id="1022986">&#34;+INFINITY&#34;</span><span class="op" id="1022997">,</span>&nbsp;<span class="string" id="1022999">&#34;+Inf&#34;</span><span class="op" id="1023005">,</span>&nbsp;<span class="ident" id="1023007">nil</span><span class="op" id="1023010">}</span><span class="op" id="1023011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023014">{</span><span class="string" id="1023015">&#34;Infinity&#34;</span><span class="op" id="1023025">,</span>&nbsp;<span class="string" id="1023027">&#34;+Inf&#34;</span><span class="op" id="1023033">,</span>&nbsp;<span class="ident" id="1023035">nil</span><span class="op" id="1023038">}</span><span class="op" id="1023039">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023043">//&nbsp;largest&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023063">{</span><span class="string" id="1023064">&#34;1.7976931348623157e308&#34;</span><span class="op" id="1023088">,</span>&nbsp;<span class="string" id="1023090">&#34;1.7976931348623157e+308&#34;</span><span class="op" id="1023115">,</span>&nbsp;<span class="ident" id="1023117">nil</span><span class="op" id="1023120">}</span><span class="op" id="1023121">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023124">{</span><span class="string" id="1023125">&#34;-1.7976931348623157e308&#34;</span><span class="op" id="1023150">,</span>&nbsp;<span class="string" id="1023152">&#34;-1.7976931348623157e+308&#34;</span><span class="op" id="1023178">,</span>&nbsp;<span class="ident" id="1023180">nil</span><span class="op" id="1023183">}</span><span class="op" id="1023184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023187">//&nbsp;next&nbsp;float64&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023216">{</span><span class="string" id="1023217">&#34;1.7976931348623159e308&#34;</span><span class="op" id="1023241">,</span>&nbsp;<span class="string" id="1023243">&#34;+Inf&#34;</span><span class="op" id="1023249">,</span>&nbsp;<span class="ident" id="1023251">ErrRange</span><span class="op" id="1023259">}</span><span class="op" id="1023260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023263">{</span><span class="string" id="1023264">&#34;-1.7976931348623159e308&#34;</span><span class="op" id="1023289">,</span>&nbsp;<span class="string" id="1023291">&#34;-Inf&#34;</span><span class="op" id="1023297">,</span>&nbsp;<span class="ident" id="1023299">ErrRange</span><span class="op" id="1023307">}</span><span class="op" id="1023308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023311">//&nbsp;the&nbsp;border&nbsp;is&nbsp;...158079</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023339">//&nbsp;borderline&nbsp;-&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023361">{</span><span class="string" id="1023362">&#34;1.7976931348623158e308&#34;</span><span class="op" id="1023386">,</span>&nbsp;<span class="string" id="1023388">&#34;1.7976931348623157e+308&#34;</span><span class="op" id="1023413">,</span>&nbsp;<span class="ident" id="1023415">nil</span><span class="op" id="1023418">}</span><span class="op" id="1023419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023422">{</span><span class="string" id="1023423">&#34;-1.7976931348623158e308&#34;</span><span class="op" id="1023448">,</span>&nbsp;<span class="string" id="1023450">&#34;-1.7976931348623157e+308&#34;</span><span class="op" id="1023476">,</span>&nbsp;<span class="ident" id="1023478">nil</span><span class="op" id="1023481">}</span><span class="op" id="1023482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023485">//&nbsp;borderline&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023512">{</span><span class="string" id="1023513">&#34;1.797693134862315808e308&#34;</span><span class="op" id="1023539">,</span>&nbsp;<span class="string" id="1023541">&#34;+Inf&#34;</span><span class="op" id="1023547">,</span>&nbsp;<span class="ident" id="1023549">ErrRange</span><span class="op" id="1023557">}</span><span class="op" id="1023558">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023561">{</span><span class="string" id="1023562">&#34;-1.797693134862315808e308&#34;</span><span class="op" id="1023589">,</span>&nbsp;<span class="string" id="1023591">&#34;-Inf&#34;</span><span class="op" id="1023597">,</span>&nbsp;<span class="ident" id="1023599">ErrRange</span><span class="op" id="1023607">}</span><span class="op" id="1023608">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023612">//&nbsp;a&nbsp;little&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023635">{</span><span class="string" id="1023636">&#34;1e308&#34;</span><span class="op" id="1023643">,</span>&nbsp;<span class="string" id="1023645">&#34;1e+308&#34;</span><span class="op" id="1023653">,</span>&nbsp;<span class="ident" id="1023655">nil</span><span class="op" id="1023658">}</span><span class="op" id="1023659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023662">{</span><span class="string" id="1023663">&#34;2e308&#34;</span><span class="op" id="1023670">,</span>&nbsp;<span class="string" id="1023672">&#34;+Inf&#34;</span><span class="op" id="1023678">,</span>&nbsp;<span class="ident" id="1023680">ErrRange</span><span class="op" id="1023688">}</span><span class="op" id="1023689">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023692">{</span><span class="string" id="1023693">&#34;1e309&#34;</span><span class="op" id="1023700">,</span>&nbsp;<span class="string" id="1023702">&#34;+Inf&#34;</span><span class="op" id="1023708">,</span>&nbsp;<span class="ident" id="1023710">ErrRange</span><span class="op" id="1023718">}</span><span class="op" id="1023719">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023723">//&nbsp;way&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023741">{</span><span class="string" id="1023742">&#34;1e310&#34;</span><span class="op" id="1023749">,</span>&nbsp;<span class="string" id="1023751">&#34;+Inf&#34;</span><span class="op" id="1023757">,</span>&nbsp;<span class="ident" id="1023759">ErrRange</span><span class="op" id="1023767">}</span><span class="op" id="1023768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023771">{</span><span class="string" id="1023772">&#34;-1e310&#34;</span><span class="op" id="1023780">,</span>&nbsp;<span class="string" id="1023782">&#34;-Inf&#34;</span><span class="op" id="1023788">,</span>&nbsp;<span class="ident" id="1023790">ErrRange</span><span class="op" id="1023798">}</span><span class="op" id="1023799">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023802">{</span><span class="string" id="1023803">&#34;1e400&#34;</span><span class="op" id="1023810">,</span>&nbsp;<span class="string" id="1023812">&#34;+Inf&#34;</span><span class="op" id="1023818">,</span>&nbsp;<span class="ident" id="1023820">ErrRange</span><span class="op" id="1023828">}</span><span class="op" id="1023829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023832">{</span><span class="string" id="1023833">&#34;-1e400&#34;</span><span class="op" id="1023841">,</span>&nbsp;<span class="string" id="1023843">&#34;-Inf&#34;</span><span class="op" id="1023849">,</span>&nbsp;<span class="ident" id="1023851">ErrRange</span><span class="op" id="1023859">}</span><span class="op" id="1023860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023863">{</span><span class="string" id="1023864">&#34;1e400000&#34;</span><span class="op" id="1023874">,</span>&nbsp;<span class="string" id="1023876">&#34;+Inf&#34;</span><span class="op" id="1023882">,</span>&nbsp;<span class="ident" id="1023884">ErrRange</span><span class="op" id="1023892">}</span><span class="op" id="1023893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023896">{</span><span class="string" id="1023897">&#34;-1e400000&#34;</span><span class="op" id="1023908">,</span>&nbsp;<span class="string" id="1023910">&#34;-Inf&#34;</span><span class="op" id="1023916">,</span>&nbsp;<span class="ident" id="1023918">ErrRange</span><span class="op" id="1023926">}</span><span class="op" id="1023927">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1023931">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023948">{</span><span class="string" id="1023949">&#34;1e-305&#34;</span><span class="op" id="1023957">,</span>&nbsp;<span class="string" id="1023959">&#34;1e-305&#34;</span><span class="op" id="1023967">,</span>&nbsp;<span class="ident" id="1023969">nil</span><span class="op" id="1023972">}</span><span class="op" id="1023973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1023976">{</span><span class="string" id="1023977">&#34;1e-306&#34;</span><span class="op" id="1023985">,</span>&nbsp;<span class="string" id="1023987">&#34;1e-306&#34;</span><span class="op" id="1023995">,</span>&nbsp;<span class="ident" id="1023997">nil</span><span class="op" id="1024000">}</span><span class="op" id="1024001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024004">{</span><span class="string" id="1024005">&#34;1e-307&#34;</span><span class="op" id="1024013">,</span>&nbsp;<span class="string" id="1024015">&#34;1e-307&#34;</span><span class="op" id="1024023">,</span>&nbsp;<span class="ident" id="1024025">nil</span><span class="op" id="1024028">}</span><span class="op" id="1024029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024032">{</span><span class="string" id="1024033">&#34;1e-308&#34;</span><span class="op" id="1024041">,</span>&nbsp;<span class="string" id="1024043">&#34;1e-308&#34;</span><span class="op" id="1024051">,</span>&nbsp;<span class="ident" id="1024053">nil</span><span class="op" id="1024056">}</span><span class="op" id="1024057">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024060">{</span><span class="string" id="1024061">&#34;1e-309&#34;</span><span class="op" id="1024069">,</span>&nbsp;<span class="string" id="1024071">&#34;1e-309&#34;</span><span class="op" id="1024079">,</span>&nbsp;<span class="ident" id="1024081">nil</span><span class="op" id="1024084">}</span><span class="op" id="1024085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024088">{</span><span class="string" id="1024089">&#34;1e-310&#34;</span><span class="op" id="1024097">,</span>&nbsp;<span class="string" id="1024099">&#34;1e-310&#34;</span><span class="op" id="1024107">,</span>&nbsp;<span class="ident" id="1024109">nil</span><span class="op" id="1024112">}</span><span class="op" id="1024113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024116">{</span><span class="string" id="1024117">&#34;1e-322&#34;</span><span class="op" id="1024125">,</span>&nbsp;<span class="string" id="1024127">&#34;1e-322&#34;</span><span class="op" id="1024135">,</span>&nbsp;<span class="ident" id="1024137">nil</span><span class="op" id="1024140">}</span><span class="op" id="1024141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024144">//&nbsp;smallest&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024166">{</span><span class="string" id="1024167">&#34;5e-324&#34;</span><span class="op" id="1024175">,</span>&nbsp;<span class="string" id="1024177">&#34;5e-324&#34;</span><span class="op" id="1024185">,</span>&nbsp;<span class="ident" id="1024187">nil</span><span class="op" id="1024190">}</span><span class="op" id="1024191">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024194">{</span><span class="string" id="1024195">&#34;4e-324&#34;</span><span class="op" id="1024203">,</span>&nbsp;<span class="string" id="1024205">&#34;5e-324&#34;</span><span class="op" id="1024213">,</span>&nbsp;<span class="ident" id="1024215">nil</span><span class="op" id="1024218">}</span><span class="op" id="1024219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024222">{</span><span class="string" id="1024223">&#34;3e-324&#34;</span><span class="op" id="1024231">,</span>&nbsp;<span class="string" id="1024233">&#34;5e-324&#34;</span><span class="op" id="1024241">,</span>&nbsp;<span class="ident" id="1024243">nil</span><span class="op" id="1024246">}</span><span class="op" id="1024247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024250">//&nbsp;too&nbsp;small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024264">{</span><span class="string" id="1024265">&#34;2e-324&#34;</span><span class="op" id="1024273">,</span>&nbsp;<span class="string" id="1024275">&#34;0&#34;</span><span class="op" id="1024278">,</span>&nbsp;<span class="ident" id="1024280">nil</span><span class="op" id="1024283">}</span><span class="op" id="1024284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024287">//&nbsp;way&nbsp;too&nbsp;small</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024305">{</span><span class="string" id="1024306">&#34;1e-350&#34;</span><span class="op" id="1024314">,</span>&nbsp;<span class="string" id="1024316">&#34;0&#34;</span><span class="op" id="1024319">,</span>&nbsp;<span class="ident" id="1024321">nil</span><span class="op" id="1024324">}</span><span class="op" id="1024325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024328">{</span><span class="string" id="1024329">&#34;1e-400000&#34;</span><span class="op" id="1024340">,</span>&nbsp;<span class="string" id="1024342">&#34;0&#34;</span><span class="op" id="1024345">,</span>&nbsp;<span class="ident" id="1024347">nil</span><span class="op" id="1024350">}</span><span class="op" id="1024351">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024355">//&nbsp;try&nbsp;to&nbsp;overflow&nbsp;exponent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024384">{</span><span class="string" id="1024385">&#34;1e-4294967296&#34;</span><span class="op" id="1024400">,</span>&nbsp;<span class="string" id="1024402">&#34;0&#34;</span><span class="op" id="1024405">,</span>&nbsp;<span class="ident" id="1024407">nil</span><span class="op" id="1024410">}</span><span class="op" id="1024411">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024414">{</span><span class="string" id="1024415">&#34;1e+4294967296&#34;</span><span class="op" id="1024430">,</span>&nbsp;<span class="string" id="1024432">&#34;+Inf&#34;</span><span class="op" id="1024438">,</span>&nbsp;<span class="ident" id="1024440">ErrRange</span><span class="op" id="1024448">}</span><span class="op" id="1024449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024452">{</span><span class="string" id="1024453">&#34;1e-18446744073709551616&#34;</span><span class="op" id="1024478">,</span>&nbsp;<span class="string" id="1024480">&#34;0&#34;</span><span class="op" id="1024483">,</span>&nbsp;<span class="ident" id="1024485">nil</span><span class="op" id="1024488">}</span><span class="op" id="1024489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024492">{</span><span class="string" id="1024493">&#34;1e+18446744073709551616&#34;</span><span class="op" id="1024518">,</span>&nbsp;<span class="string" id="1024520">&#34;+Inf&#34;</span><span class="op" id="1024526">,</span>&nbsp;<span class="ident" id="1024528">ErrRange</span><span class="op" id="1024536">}</span><span class="op" id="1024537">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024541">//&nbsp;Parse&nbsp;errors</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024558">{</span><span class="string" id="1024559">&#34;1e&#34;</span><span class="op" id="1024563">,</span>&nbsp;<span class="string" id="1024565">&#34;0&#34;</span><span class="op" id="1024568">,</span>&nbsp;<span class="ident" id="1024570">ErrSyntax</span><span class="op" id="1024579">}</span><span class="op" id="1024580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024583">{</span><span class="string" id="1024584">&#34;1e-&#34;</span><span class="op" id="1024589">,</span>&nbsp;<span class="string" id="1024591">&#34;0&#34;</span><span class="op" id="1024594">,</span>&nbsp;<span class="ident" id="1024596">ErrSyntax</span><span class="op" id="1024605">}</span><span class="op" id="1024606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024609">{</span><span class="string" id="1024610">&#34;.e-1&#34;</span><span class="op" id="1024616">,</span>&nbsp;<span class="string" id="1024618">&#34;0&#34;</span><span class="op" id="1024621">,</span>&nbsp;<span class="ident" id="1024623">ErrSyntax</span><span class="op" id="1024632">}</span><span class="op" id="1024633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024636">{</span><span class="string" id="1024637">&#34;1\x00.2&#34;</span><span class="op" id="1024646">,</span>&nbsp;<span class="string" id="1024648">&#34;0&#34;</span><span class="op" id="1024651">,</span>&nbsp;<span class="ident" id="1024653">ErrSyntax</span><span class="op" id="1024662">}</span><span class="op" id="1024663">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024667">//&nbsp;http://www.exploringbinary.com/java-hangs-when-converting-2-2250738585072012e-308/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024754">{</span><span class="string" id="1024755">&#34;2.2250738585072012e-308&#34;</span><span class="op" id="1024780">,</span>&nbsp;<span class="string" id="1024782">&#34;2.2250738585072014e-308&#34;</span><span class="op" id="1024807">,</span>&nbsp;<span class="ident" id="1024809">nil</span><span class="op" id="1024812">}</span><span class="op" id="1024813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024816">//&nbsp;http://www.exploringbinary.com/php-hangs-on-numeric-value-2-2250738585072011e-308/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1024903">{</span><span class="string" id="1024904">&#34;2.2250738585072011e-308&#34;</span><span class="op" id="1024929">,</span>&nbsp;<span class="string" id="1024931">&#34;2.225073858507201e-308&#34;</span><span class="op" id="1024955">,</span>&nbsp;<span class="ident" id="1024957">nil</span><span class="op" id="1024960">}</span><span class="op" id="1024961">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1024965">//&nbsp;A&nbsp;very&nbsp;large&nbsp;number&nbsp;(initially&nbsp;wrongly&nbsp;parsed&nbsp;by&nbsp;the&nbsp;fast&nbsp;algorithm).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025039">{</span><span class="string" id="1025040">&#34;4.630813248087435e+307&#34;</span><span class="op" id="1025064">,</span>&nbsp;<span class="string" id="1025066">&#34;4.630813248087435e+307&#34;</span><span class="op" id="1025090">,</span>&nbsp;<span class="ident" id="1025092">nil</span><span class="op" id="1025095">}</span><span class="op" id="1025096">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025100">//&nbsp;A&nbsp;different&nbsp;kind&nbsp;of&nbsp;very&nbsp;large&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025143">{</span><span class="string" id="1025144">&#34;22.222222222222222&#34;</span><span class="op" id="1025164">,</span>&nbsp;<span class="string" id="1025166">&#34;22.22222222222222&#34;</span><span class="op" id="1025185">,</span>&nbsp;<span class="ident" id="1025187">nil</span><span class="op" id="1025190">}</span><span class="op" id="1025191">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025194">{</span><span class="string" id="1025195">&#34;2.&#34;</span>&nbsp;<span class="op" id="1025200">+</span>&nbsp;<span class="ident" id="1025202">strings</span><span class="op" id="1025209">.</span><span class="ident" id="1025210">Repeat</span><span class="op" id="1025216">(</span><span class="string" id="1025217">&#34;2&#34;</span><span class="op" id="1025220">,</span>&nbsp;<span class="num" id="1025222">4000</span><span class="op" id="1025226">)</span>&nbsp;<span class="op" id="1025228">+</span>&nbsp;<span class="string" id="1025230">&#34;e+1&#34;</span><span class="op" id="1025235">,</span>&nbsp;<span class="string" id="1025237">&#34;22.22222222222222&#34;</span><span class="op" id="1025256">,</span>&nbsp;<span class="ident" id="1025258">nil</span><span class="op" id="1025261">}</span><span class="op" id="1025262">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025266">//&nbsp;Exactly&nbsp;halfway&nbsp;between&nbsp;1&nbsp;and&nbsp;math.Nextafter(1,&nbsp;2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025322">//&nbsp;Round&nbsp;to&nbsp;even&nbsp;(down).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025348">{</span><span class="string" id="1025349">&#34;1.00000000000000011102230246251565404236316680908203125&#34;</span><span class="op" id="1025406">,</span>&nbsp;<span class="string" id="1025408">&#34;1&#34;</span><span class="op" id="1025411">,</span>&nbsp;<span class="ident" id="1025413">nil</span><span class="op" id="1025416">}</span><span class="op" id="1025417">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025420">//&nbsp;Slightly&nbsp;lower;&nbsp;still&nbsp;round&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025458">{</span><span class="string" id="1025459">&#34;1.00000000000000011102230246251565404236316680908203124&#34;</span><span class="op" id="1025516">,</span>&nbsp;<span class="string" id="1025518">&#34;1&#34;</span><span class="op" id="1025521">,</span>&nbsp;<span class="ident" id="1025523">nil</span><span class="op" id="1025526">}</span><span class="op" id="1025527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025530">//&nbsp;Slightly&nbsp;higher;&nbsp;round&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025561">{</span><span class="string" id="1025562">&#34;1.00000000000000011102230246251565404236316680908203126&#34;</span><span class="op" id="1025619">,</span>&nbsp;<span class="string" id="1025621">&#34;1.0000000000000002&#34;</span><span class="op" id="1025641">,</span>&nbsp;<span class="ident" id="1025643">nil</span><span class="op" id="1025646">}</span><span class="op" id="1025647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025650">//&nbsp;Slightly&nbsp;higher,&nbsp;but&nbsp;you&nbsp;have&nbsp;to&nbsp;read&nbsp;all&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025716">{</span><span class="string" id="1025717">&#34;1.00000000000000011102230246251565404236316680908203125&#34;</span>&nbsp;<span class="op" id="1025775">+</span>&nbsp;<span class="ident" id="1025777">strings</span><span class="op" id="1025784">.</span><span class="ident" id="1025785">Repeat</span><span class="op" id="1025791">(</span><span class="string" id="1025792">&#34;0&#34;</span><span class="op" id="1025795">,</span>&nbsp;<span class="num" id="1025797">10000</span><span class="op" id="1025802">)</span>&nbsp;<span class="op" id="1025804">+</span>&nbsp;<span class="string" id="1025806">&#34;1&#34;</span><span class="op" id="1025809">,</span>&nbsp;<span class="string" id="1025811">&#34;1.0000000000000002&#34;</span><span class="op" id="1025831">,</span>&nbsp;<span class="ident" id="1025833">nil</span><span class="op" id="1025836">}</span><span class="op" id="1025837">,</span><br>
<span class="lineno"></span><span class="op" id="1025839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1025842">var</span>&nbsp;<span class="ident" id="1025846">atof32tests</span>&nbsp;<span class="op" id="1025858">=</span>&nbsp;<span class="op" id="1025860">[</span><span class="op" id="1025861">]</span><span class="ident" id="1025862">atofTest</span><span class="op" id="1025870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025873">//&nbsp;Exactly&nbsp;halfway&nbsp;between&nbsp;1&nbsp;and&nbsp;the&nbsp;next&nbsp;float32.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025925">//&nbsp;Round&nbsp;to&nbsp;even&nbsp;(down).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1025951">{</span><span class="string" id="1025952">&#34;1.000000059604644775390625&#34;</span><span class="op" id="1025980">,</span>&nbsp;<span class="string" id="1025982">&#34;1&#34;</span><span class="op" id="1025985">,</span>&nbsp;<span class="ident" id="1025987">nil</span><span class="op" id="1025990">}</span><span class="op" id="1025991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1025994">//&nbsp;Slightly&nbsp;lower.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026014">{</span><span class="string" id="1026015">&#34;1.000000059604644775390624&#34;</span><span class="op" id="1026043">,</span>&nbsp;<span class="string" id="1026045">&#34;1&#34;</span><span class="op" id="1026048">,</span>&nbsp;<span class="ident" id="1026050">nil</span><span class="op" id="1026053">}</span><span class="op" id="1026054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026057">//&nbsp;Slightly&nbsp;higher.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026078">{</span><span class="string" id="1026079">&#34;1.000000059604644775390626&#34;</span><span class="op" id="1026107">,</span>&nbsp;<span class="string" id="1026109">&#34;1.0000001&#34;</span><span class="op" id="1026120">,</span>&nbsp;<span class="ident" id="1026122">nil</span><span class="op" id="1026125">}</span><span class="op" id="1026126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026129">//&nbsp;Slightly&nbsp;higher,&nbsp;but&nbsp;you&nbsp;have&nbsp;to&nbsp;read&nbsp;all&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026195">{</span><span class="string" id="1026196">&#34;1.000000059604644775390625&#34;</span>&nbsp;<span class="op" id="1026225">+</span>&nbsp;<span class="ident" id="1026227">strings</span><span class="op" id="1026234">.</span><span class="ident" id="1026235">Repeat</span><span class="op" id="1026241">(</span><span class="string" id="1026242">&#34;0&#34;</span><span class="op" id="1026245">,</span>&nbsp;<span class="num" id="1026247">10000</span><span class="op" id="1026252">)</span>&nbsp;<span class="op" id="1026254">+</span>&nbsp;<span class="string" id="1026256">&#34;1&#34;</span><span class="op" id="1026259">,</span>&nbsp;<span class="string" id="1026261">&#34;1.0000001&#34;</span><span class="op" id="1026272">,</span>&nbsp;<span class="ident" id="1026274">nil</span><span class="op" id="1026277">}</span><span class="op" id="1026278">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026282">//&nbsp;largest&nbsp;float32:&nbsp;(1&lt;&lt;128)&nbsp;*&nbsp;(1&nbsp;-&nbsp;2^-24)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026326">{</span><span class="string" id="1026327">&#34;340282346638528859811704183484516925440&#34;</span><span class="op" id="1026368">,</span>&nbsp;<span class="string" id="1026370">&#34;3.4028235e+38&#34;</span><span class="op" id="1026385">,</span>&nbsp;<span class="ident" id="1026387">nil</span><span class="op" id="1026390">}</span><span class="op" id="1026391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026394">{</span><span class="string" id="1026395">&#34;-340282346638528859811704183484516925440&#34;</span><span class="op" id="1026437">,</span>&nbsp;<span class="string" id="1026439">&#34;-3.4028235e+38&#34;</span><span class="op" id="1026455">,</span>&nbsp;<span class="ident" id="1026457">nil</span><span class="op" id="1026460">}</span><span class="op" id="1026461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026464">//&nbsp;next&nbsp;float32&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026493">{</span><span class="string" id="1026494">&#34;3.4028236e38&#34;</span><span class="op" id="1026508">,</span>&nbsp;<span class="string" id="1026510">&#34;+Inf&#34;</span><span class="op" id="1026516">,</span>&nbsp;<span class="ident" id="1026518">ErrRange</span><span class="op" id="1026526">}</span><span class="op" id="1026527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026530">{</span><span class="string" id="1026531">&#34;-3.4028236e38&#34;</span><span class="op" id="1026546">,</span>&nbsp;<span class="string" id="1026548">&#34;-Inf&#34;</span><span class="op" id="1026554">,</span>&nbsp;<span class="ident" id="1026556">ErrRange</span><span class="op" id="1026564">}</span><span class="op" id="1026565">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026568">//&nbsp;the&nbsp;border&nbsp;is&nbsp;3.40282356779...e+38</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026607">//&nbsp;borderline&nbsp;-&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026629">{</span><span class="string" id="1026630">&#34;3.402823567e38&#34;</span><span class="op" id="1026646">,</span>&nbsp;<span class="string" id="1026648">&#34;3.4028235e+38&#34;</span><span class="op" id="1026663">,</span>&nbsp;<span class="ident" id="1026665">nil</span><span class="op" id="1026668">}</span><span class="op" id="1026669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026672">{</span><span class="string" id="1026673">&#34;-3.402823567e38&#34;</span><span class="op" id="1026690">,</span>&nbsp;<span class="string" id="1026692">&#34;-3.4028235e+38&#34;</span><span class="op" id="1026708">,</span>&nbsp;<span class="ident" id="1026710">nil</span><span class="op" id="1026713">}</span><span class="op" id="1026714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026717">//&nbsp;borderline&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026744">{</span><span class="string" id="1026745">&#34;3.4028235678e38&#34;</span><span class="op" id="1026762">,</span>&nbsp;<span class="string" id="1026764">&#34;+Inf&#34;</span><span class="op" id="1026770">,</span>&nbsp;<span class="ident" id="1026772">ErrRange</span><span class="op" id="1026780">}</span><span class="op" id="1026781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026784">{</span><span class="string" id="1026785">&#34;-3.4028235678e38&#34;</span><span class="op" id="1026803">,</span>&nbsp;<span class="string" id="1026805">&#34;-Inf&#34;</span><span class="op" id="1026811">,</span>&nbsp;<span class="ident" id="1026813">ErrRange</span><span class="op" id="1026821">}</span><span class="op" id="1026822">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1026826">//&nbsp;Denormals:&nbsp;less&nbsp;than&nbsp;2^-126</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026858">{</span><span class="string" id="1026859">&#34;1e-38&#34;</span><span class="op" id="1026866">,</span>&nbsp;<span class="string" id="1026868">&#34;1e-38&#34;</span><span class="op" id="1026875">,</span>&nbsp;<span class="ident" id="1026877">nil</span><span class="op" id="1026880">}</span><span class="op" id="1026881">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026884">{</span><span class="string" id="1026885">&#34;1e-39&#34;</span><span class="op" id="1026892">,</span>&nbsp;<span class="string" id="1026894">&#34;1e-39&#34;</span><span class="op" id="1026901">,</span>&nbsp;<span class="ident" id="1026903">nil</span><span class="op" id="1026906">}</span><span class="op" id="1026907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026910">{</span><span class="string" id="1026911">&#34;1e-40&#34;</span><span class="op" id="1026918">,</span>&nbsp;<span class="string" id="1026920">&#34;1e-40&#34;</span><span class="op" id="1026927">,</span>&nbsp;<span class="ident" id="1026929">nil</span><span class="op" id="1026932">}</span><span class="op" id="1026933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026936">{</span><span class="string" id="1026937">&#34;1e-41&#34;</span><span class="op" id="1026944">,</span>&nbsp;<span class="string" id="1026946">&#34;1e-41&#34;</span><span class="op" id="1026953">,</span>&nbsp;<span class="ident" id="1026955">nil</span><span class="op" id="1026958">}</span><span class="op" id="1026959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026962">{</span><span class="string" id="1026963">&#34;1e-42&#34;</span><span class="op" id="1026970">,</span>&nbsp;<span class="string" id="1026972">&#34;1e-42&#34;</span><span class="op" id="1026979">,</span>&nbsp;<span class="ident" id="1026981">nil</span><span class="op" id="1026984">}</span><span class="op" id="1026985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1026988">{</span><span class="string" id="1026989">&#34;1e-43&#34;</span><span class="op" id="1026996">,</span>&nbsp;<span class="string" id="1026998">&#34;1e-43&#34;</span><span class="op" id="1027005">,</span>&nbsp;<span class="ident" id="1027007">nil</span><span class="op" id="1027010">}</span><span class="op" id="1027011">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1027014">{</span><span class="string" id="1027015">&#34;1e-44&#34;</span><span class="op" id="1027022">,</span>&nbsp;<span class="string" id="1027024">&#34;1e-44&#34;</span><span class="op" id="1027031">,</span>&nbsp;<span class="ident" id="1027033">nil</span><span class="op" id="1027036">}</span><span class="op" id="1027037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1027040">{</span><span class="string" id="1027041">&#34;6e-45&#34;</span><span class="op" id="1027048">,</span>&nbsp;<span class="string" id="1027050">&#34;6e-45&#34;</span><span class="op" id="1027057">,</span>&nbsp;<span class="ident" id="1027059">nil</span><span class="op" id="1027062">}</span><span class="op" id="1027063">,</span>&nbsp;<span class="comment" id="1027065">//&nbsp;4p-149&nbsp;=&nbsp;5.6e-45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1027086">{</span><span class="string" id="1027087">&#34;5e-45&#34;</span><span class="op" id="1027094">,</span>&nbsp;<span class="string" id="1027096">&#34;6e-45&#34;</span><span class="op" id="1027103">,</span>&nbsp;<span class="ident" id="1027105">nil</span><span class="op" id="1027108">}</span><span class="op" id="1027109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027112">//&nbsp;Smallest&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1027134">{</span><span class="string" id="1027135">&#34;1e-45&#34;</span><span class="op" id="1027142">,</span>&nbsp;<span class="string" id="1027144">&#34;1e-45&#34;</span><span class="op" id="1027151">,</span>&nbsp;<span class="ident" id="1027153">nil</span><span class="op" id="1027156">}</span><span class="op" id="1027157">,</span>&nbsp;<span class="comment" id="1027159">//&nbsp;1p-149&nbsp;=&nbsp;1.4e-45</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1027180">{</span><span class="string" id="1027181">&#34;2e-45&#34;</span><span class="op" id="1027188">,</span>&nbsp;<span class="string" id="1027190">&#34;1e-45&#34;</span><span class="op" id="1027197">,</span>&nbsp;<span class="ident" id="1027199">nil</span><span class="op" id="1027202">}</span><span class="op" id="1027203">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027207">//&nbsp;2^92&nbsp;=&nbsp;8388608p+69&nbsp;=&nbsp;4951760157141521099596496896&nbsp;(4.9517602e27)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027276">//&nbsp;is&nbsp;an&nbsp;exact&nbsp;power&nbsp;of&nbsp;two&nbsp;that&nbsp;needs&nbsp;8&nbsp;decimal&nbsp;digits&nbsp;to&nbsp;be&nbsp;correctly</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027349">//&nbsp;parsed&nbsp;back.</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027366">//&nbsp;The&nbsp;float32&nbsp;before&nbsp;is&nbsp;16777215p+68&nbsp;=&nbsp;4.95175986e+27</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027422">//&nbsp;The&nbsp;halfway&nbsp;is&nbsp;4.951760009.&nbsp;A&nbsp;bad&nbsp;algorithm&nbsp;that&nbsp;thinks&nbsp;the&nbsp;previous</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027495">//&nbsp;float32&nbsp;is&nbsp;8388607p+69&nbsp;will&nbsp;shorten&nbsp;incorrectly&nbsp;to&nbsp;4.95176e+27.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1027563">{</span><span class="string" id="1027564">&#34;4951760157141521099596496896&#34;</span><span class="op" id="1027594">,</span>&nbsp;<span class="string" id="1027596">&#34;4.9517602e+27&#34;</span><span class="op" id="1027611">,</span>&nbsp;<span class="ident" id="1027613">nil</span><span class="op" id="1027616">}</span><span class="op" id="1027617">,</span><br>
<span class="lineno"></span><span class="op" id="1027619">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="1027622">type</span>&nbsp;<span class="ident" id="1027627">atofSimpleTest</span>&nbsp;<span class="keyword" id="1027642">struct</span>&nbsp;<span class="op" id="1027649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027652">x</span>&nbsp;<span class="builtintype" id="1027654">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027663">s</span>&nbsp;<span class="builtintype" id="1027665">string</span><br>
<span class="lineno"></span><span class="op" id="1027672">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="keyword" id="1027675">var</span>&nbsp;<span class="op" id="1027679">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027682">atofRandomTests</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1027705">[</span><span class="op" id="1027706">]</span><span class="ident" id="1027707">atofSimpleTest</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027723">benchmarksRandomBits</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1027746">[</span><span class="num" id="1027747">1024</span><span class="op" id="1027751">]</span><span class="builtintype" id="1027752">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027760">benchmarksRandomNormal</span>&nbsp;<span class="op" id="1027783">[</span><span class="num" id="1027784">1024</span><span class="op" id="1027788">]</span><span class="builtintype" id="1027789">string</span><br>
<span class="lineno">195</span><span class="op" id="1027796">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1027799">func</span>&nbsp;<span class="ident" id="1027804">init</span><span class="op" id="1027808">(</span><span class="op" id="1027809">)</span>&nbsp;<span class="op" id="1027811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027814">//&nbsp;The&nbsp;atof&nbsp;routines&nbsp;return&nbsp;NumErrors&nbsp;wrapping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1027862">//&nbsp;the&nbsp;error&nbsp;and&nbsp;the&nbsp;string.&nbsp;&nbsp;Convert&nbsp;the&nbsp;table&nbsp;above.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1027918">for</span>&nbsp;<span class="ident" id="1027922">i</span>&nbsp;<span class="op" id="1027924">:=</span>&nbsp;<span class="keyword" id="1027927">range</span>&nbsp;<span class="ident" id="1027933">atoftests</span>&nbsp;<span class="op" id="1027943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027947">test</span>&nbsp;<span class="op" id="1027952">:=</span>&nbsp;<span class="op" id="1027955">&amp;</span><span class="ident" id="1027956">atoftests</span><span class="op" id="1027965">[</span><span class="ident" id="1027966">i</span><span class="op" id="1027967">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1027971">if</span>&nbsp;<span class="ident" id="1027974">test</span><span class="op" id="1027978">.</span><span class="ident" id="1027979">err</span>&nbsp;<span class="op" id="1027983">!=</span>&nbsp;<span class="ident" id="1027986">nil</span>&nbsp;<span class="op" id="1027990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1027995">test</span><span class="op" id="1027999">.</span><span class="ident" id="1028000">err</span>&nbsp;<span class="op" id="1028004">=</span>&nbsp;<span class="op" id="1028006">&amp;</span><span class="ident" id="1028007">NumError</span><span class="op" id="1028015">{</span><span class="string" id="1028016">&#34;ParseFloat&#34;</span><span class="op" id="1028028">,</span>&nbsp;<span class="ident" id="1028030">test</span><span class="op" id="1028034">.</span><span class="ident" id="1028035">in</span><span class="op" id="1028037">,</span>&nbsp;<span class="ident" id="1028039">test</span><span class="op" id="1028043">.</span><span class="ident" id="1028044">err</span><span class="op" id="1028047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028051">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1028057">for</span>&nbsp;<span class="ident" id="1028061">i</span>&nbsp;<span class="op" id="1028063">:=</span>&nbsp;<span class="keyword" id="1028066">range</span>&nbsp;<span class="ident" id="1028072">atof32tests</span>&nbsp;<span class="op" id="1028084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028088">test</span>&nbsp;<span class="op" id="1028093">:=</span>&nbsp;<span class="op" id="1028096">&amp;</span><span class="ident" id="1028097">atof32tests</span><span class="op" id="1028108">[</span><span class="ident" id="1028109">i</span><span class="op" id="1028110">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1028114">if</span>&nbsp;<span class="ident" id="1028117">test</span><span class="op" id="1028121">.</span><span class="ident" id="1028122">err</span>&nbsp;<span class="op" id="1028126">!=</span>&nbsp;<span class="ident" id="1028129">nil</span>&nbsp;<span class="op" id="1028133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028138">test</span><span class="op" id="1028142">.</span><span class="ident" id="1028143">err</span>&nbsp;<span class="op" id="1028147">=</span>&nbsp;<span class="op" id="1028149">&amp;</span><span class="ident" id="1028150">NumError</span><span class="op" id="1028158">{</span><span class="string" id="1028159">&#34;ParseFloat&#34;</span><span class="op" id="1028171">,</span>&nbsp;<span class="ident" id="1028173">test</span><span class="op" id="1028177">.</span><span class="ident" id="1028178">in</span><span class="op" id="1028180">,</span>&nbsp;<span class="ident" id="1028182">test</span><span class="op" id="1028186">.</span><span class="ident" id="1028187">err</span><span class="op" id="1028190">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1028201">//&nbsp;Generate&nbsp;random&nbsp;inputs&nbsp;for&nbsp;tests&nbsp;and&nbsp;benchmarks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028253">rand</span><span class="op" id="1028257">.</span><span class="ident" id="1028258">Seed</span><span class="op" id="1028262">(</span><span class="ident" id="1028263">time</span><span class="op" id="1028267">.</span><span class="ident" id="1028268">Now</span><span class="op" id="1028271">(</span><span class="op" id="1028272">)</span><span class="op" id="1028273">.</span><span class="ident" id="1028274">UnixNano</span><span class="op" id="1028282">(</span><span class="op" id="1028283">)</span><span class="op" id="1028284">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1028287">if</span>&nbsp;<span class="ident" id="1028290">testing</span><span class="op" id="1028297">.</span><span class="ident" id="1028298">Short</span><span class="op" id="1028303">(</span><span class="op" id="1028304">)</span>&nbsp;<span class="op" id="1028306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028310">atofRandomTests</span>&nbsp;<span class="op" id="1028326">=</span>&nbsp;<span class="builtinfunc" id="1028328">make</span><span class="op" id="1028332">(</span><span class="op" id="1028333">[</span><span class="op" id="1028334">]</span><span class="ident" id="1028335">atofSimpleTest</span><span class="op" id="1028349">,</span>&nbsp;<span class="num" id="1028351">100</span><span class="op" id="1028354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028357">}</span>&nbsp;<span class="keyword" id="1028359">else</span>&nbsp;<span class="op" id="1028364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028368">atofRandomTests</span>&nbsp;<span class="op" id="1028384">=</span>&nbsp;<span class="builtinfunc" id="1028386">make</span><span class="op" id="1028390">(</span><span class="op" id="1028391">[</span><span class="op" id="1028392">]</span><span class="ident" id="1028393">atofSimpleTest</span><span class="op" id="1028407">,</span>&nbsp;<span class="num" id="1028409">10000</span><span class="op" id="1028414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028417">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1028420">for</span>&nbsp;<span class="ident" id="1028424">i</span>&nbsp;<span class="op" id="1028426">:=</span>&nbsp;<span class="keyword" id="1028429">range</span>&nbsp;<span class="ident" id="1028435">atofRandomTests</span>&nbsp;<span class="op" id="1028451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028455">n</span>&nbsp;<span class="op" id="1028457">:=</span>&nbsp;<span class="ident" id="1028460">uint64</span><span class="op" id="1028466">(</span><span class="ident" id="1028467">rand</span><span class="op" id="1028471">.</span><span class="ident" id="1028472">Uint32</span><span class="op" id="1028478">(</span><span class="op" id="1028479">)</span><span class="op" id="1028480">)</span><span class="op" id="1028481">&lt;&lt;</span><span class="num" id="1028483">32</span>&nbsp;<span class="op" id="1028486">|</span>&nbsp;<span class="ident" id="1028488">uint64</span><span class="op" id="1028494">(</span><span class="ident" id="1028495">rand</span><span class="op" id="1028499">.</span><span class="ident" id="1028500">Uint32</span><span class="op" id="1028506">(</span><span class="op" id="1028507">)</span><span class="op" id="1028508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028512">x</span>&nbsp;<span class="op" id="1028514">:=</span>&nbsp;<span class="ident" id="1028517">math</span><span class="op" id="1028521">.</span><span class="ident" id="1028522">Float64frombits</span><span class="op" id="1028537">(</span><span class="ident" id="1028538">n</span><span class="op" id="1028539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028543">s</span>&nbsp;<span class="op" id="1028545">:=</span>&nbsp;<span class="ident" id="1028548">FormatFloat</span><span class="op" id="1028559">(</span><span class="ident" id="1028560">x</span><span class="op" id="1028561">,</span>&nbsp;<span class="string" id="1028563">&#39;g&#39;</span><span class="op" id="1028566">,</span>&nbsp;<span class="op" id="1028568">-</span><span class="num" id="1028569">1</span><span class="op" id="1028570">,</span>&nbsp;<span class="num" id="1028572">64</span><span class="op" id="1028574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028578">atofRandomTests</span><span class="op" id="1028593">[</span><span class="ident" id="1028594">i</span><span class="op" id="1028595">]</span>&nbsp;<span class="op" id="1028597">=</span>&nbsp;<span class="ident" id="1028599">atofSimpleTest</span><span class="op" id="1028613">{</span><span class="ident" id="1028614">x</span><span class="op" id="1028615">,</span>&nbsp;<span class="ident" id="1028617">s</span><span class="op" id="1028618">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1028625">for</span>&nbsp;<span class="ident" id="1028629">i</span>&nbsp;<span class="op" id="1028631">:=</span>&nbsp;<span class="keyword" id="1028634">range</span>&nbsp;<span class="ident" id="1028640">benchmarksRandomBits</span>&nbsp;<span class="op" id="1028661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028665">bits</span>&nbsp;<span class="op" id="1028670">:=</span>&nbsp;<span class="ident" id="1028673">uint64</span><span class="op" id="1028679">(</span><span class="ident" id="1028680">rand</span><span class="op" id="1028684">.</span><span class="ident" id="1028685">Uint32</span><span class="op" id="1028691">(</span><span class="op" id="1028692">)</span><span class="op" id="1028693">)</span><span class="op" id="1028694">&lt;&lt;</span><span class="num" id="1028696">32</span>&nbsp;<span class="op" id="1028699">|</span>&nbsp;<span class="ident" id="1028701">uint64</span><span class="op" id="1028707">(</span><span class="ident" id="1028708">rand</span><span class="op" id="1028712">.</span><span class="ident" id="1028713">Uint32</span><span class="op" id="1028719">(</span><span class="op" id="1028720">)</span><span class="op" id="1028721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028725">x</span>&nbsp;<span class="op" id="1028727">:=</span>&nbsp;<span class="ident" id="1028730">math</span><span class="op" id="1028734">.</span><span class="ident" id="1028735">Float64frombits</span><span class="op" id="1028750">(</span><span class="ident" id="1028751">bits</span><span class="op" id="1028755">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028759">benchmarksRandomBits</span><span class="op" id="1028779">[</span><span class="ident" id="1028780">i</span><span class="op" id="1028781">]</span>&nbsp;<span class="op" id="1028783">=</span>&nbsp;<span class="ident" id="1028785">FormatFloat</span><span class="op" id="1028796">(</span><span class="ident" id="1028797">x</span><span class="op" id="1028798">,</span>&nbsp;<span class="string" id="1028800">&#39;g&#39;</span><span class="op" id="1028803">,</span>&nbsp;<span class="op" id="1028805">-</span><span class="num" id="1028806">1</span><span class="op" id="1028807">,</span>&nbsp;<span class="num" id="1028809">64</span><span class="op" id="1028811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1028818">for</span>&nbsp;<span class="ident" id="1028822">i</span>&nbsp;<span class="op" id="1028824">:=</span>&nbsp;<span class="keyword" id="1028827">range</span>&nbsp;<span class="ident" id="1028833">benchmarksRandomNormal</span>&nbsp;<span class="op" id="1028856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028860">x</span>&nbsp;<span class="op" id="1028862">:=</span>&nbsp;<span class="ident" id="1028865">rand</span><span class="op" id="1028869">.</span><span class="ident" id="1028870">NormFloat64</span><span class="op" id="1028881">(</span><span class="op" id="1028882">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028886">benchmarksRandomNormal</span><span class="op" id="1028908">[</span><span class="ident" id="1028909">i</span><span class="op" id="1028910">]</span>&nbsp;<span class="op" id="1028912">=</span>&nbsp;<span class="ident" id="1028914">FormatFloat</span><span class="op" id="1028925">(</span><span class="ident" id="1028926">x</span><span class="op" id="1028927">,</span>&nbsp;<span class="string" id="1028929">&#39;g&#39;</span><span class="op" id="1028932">,</span>&nbsp;<span class="op" id="1028934">-</span><span class="num" id="1028935">1</span><span class="op" id="1028936">,</span>&nbsp;<span class="num" id="1028938">64</span><span class="op" id="1028940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1028943">}</span><br>
<span class="lineno"></span><span class="op" id="1028945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1028948">func</span>&nbsp;<span class="ident" id="1028953">testAtof</span><span class="op" id="1028961">(</span><span class="ident" id="1028962">t</span>&nbsp;<span class="op" id="1028964">*</span><span class="ident" id="1028965">testing</span><span class="op" id="1028972">.</span><span class="ident" id="1028973">T</span><span class="op" id="1028974">,</span>&nbsp;<span class="ident" id="1028976">opt</span>&nbsp;<span class="builtintype" id="1028980">bool</span><span class="op" id="1028984">)</span>&nbsp;<span class="op" id="1028986">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1028989">oldopt</span>&nbsp;<span class="op" id="1028996">:=</span>&nbsp;<span class="ident" id="1028999">SetOptimize</span><span class="op" id="1029010">(</span><span class="ident" id="1029011">opt</span><span class="op" id="1029014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029017">for</span>&nbsp;<span class="ident" id="1029021">i</span>&nbsp;<span class="op" id="1029023">:=</span>&nbsp;<span class="num" id="1029026">0</span><span class="op" id="1029027">;</span>&nbsp;<span class="ident" id="1029029">i</span>&nbsp;<span class="op" id="1029031">&lt;</span>&nbsp;<span class="builtinfunc" id="1029033">len</span><span class="op" id="1029036">(</span><span class="ident" id="1029037">atoftests</span><span class="op" id="1029046">)</span><span class="op" id="1029047">;</span>&nbsp;<span class="ident" id="1029049">i</span><span class="op" id="1029050">++</span>&nbsp;<span class="op" id="1029053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029057">test</span>&nbsp;<span class="op" id="1029062">:=</span>&nbsp;<span class="op" id="1029065">&amp;</span><span class="ident" id="1029066">atoftests</span><span class="op" id="1029075">[</span><span class="ident" id="1029076">i</span><span class="op" id="1029077">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029081">out</span><span class="op" id="1029084">,</span>&nbsp;<span class="ident" id="1029086">err</span>&nbsp;<span class="op" id="1029090">:=</span>&nbsp;<span class="ident" id="1029093">ParseFloat</span><span class="op" id="1029103">(</span><span class="ident" id="1029104">test</span><span class="op" id="1029108">.</span><span class="ident" id="1029109">in</span><span class="op" id="1029111">,</span>&nbsp;<span class="num" id="1029113">64</span><span class="op" id="1029115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029119">outs</span>&nbsp;<span class="op" id="1029124">:=</span>&nbsp;<span class="ident" id="1029127">FormatFloat</span><span class="op" id="1029138">(</span><span class="ident" id="1029139">out</span><span class="op" id="1029142">,</span>&nbsp;<span class="string" id="1029144">&#39;g&#39;</span><span class="op" id="1029147">,</span>&nbsp;<span class="op" id="1029149">-</span><span class="num" id="1029150">1</span><span class="op" id="1029151">,</span>&nbsp;<span class="num" id="1029153">64</span><span class="op" id="1029155">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029159">if</span>&nbsp;<span class="ident" id="1029162">outs</span>&nbsp;<span class="op" id="1029167">!=</span>&nbsp;<span class="ident" id="1029170">test</span><span class="op" id="1029174">.</span><span class="ident" id="1029175">out</span>&nbsp;<span class="op" id="1029179">||</span>&nbsp;<span class="op" id="1029182">!</span><span class="ident" id="1029183">reflect</span><span class="op" id="1029190">.</span><span class="ident" id="1029191">DeepEqual</span><span class="op" id="1029200">(</span><span class="ident" id="1029201">err</span><span class="op" id="1029204">,</span>&nbsp;<span class="ident" id="1029206">test</span><span class="op" id="1029210">.</span><span class="ident" id="1029211">err</span><span class="op" id="1029214">)</span>&nbsp;<span class="op" id="1029216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029221">t</span><span class="op" id="1029222">.</span><span class="ident" id="1029223">Errorf</span><span class="op" id="1029229">(</span><span class="string" id="1029230">&#34;ParseFloat(%v,&nbsp;64)&nbsp;=&nbsp;%v,&nbsp;%v&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="1029271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029277">test</span><span class="op" id="1029281">.</span><span class="ident" id="1029282">in</span><span class="op" id="1029284">,</span>&nbsp;<span class="ident" id="1029286">out</span><span class="op" id="1029289">,</span>&nbsp;<span class="ident" id="1029291">err</span><span class="op" id="1029294">,</span>&nbsp;<span class="ident" id="1029296">test</span><span class="op" id="1029300">.</span><span class="ident" id="1029301">out</span><span class="op" id="1029304">,</span>&nbsp;<span class="ident" id="1029306">test</span><span class="op" id="1029310">.</span><span class="ident" id="1029311">err</span><span class="op" id="1029314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1029318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029323">if</span>&nbsp;<span class="builtintype" id="1029326">float64</span><span class="op" id="1029333">(</span><span class="builtintype" id="1029334">float32</span><span class="op" id="1029341">(</span><span class="ident" id="1029342">out</span><span class="op" id="1029345">)</span><span class="op" id="1029346">)</span>&nbsp;<span class="op" id="1029348">==</span>&nbsp;<span class="ident" id="1029351">out</span>&nbsp;<span class="op" id="1029355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029360">out</span><span class="op" id="1029363">,</span>&nbsp;<span class="ident" id="1029365">err</span>&nbsp;<span class="op" id="1029369">:=</span>&nbsp;<span class="ident" id="1029372">ParseFloat</span><span class="op" id="1029382">(</span><span class="ident" id="1029383">test</span><span class="op" id="1029387">.</span><span class="ident" id="1029388">in</span><span class="op" id="1029390">,</span>&nbsp;<span class="num" id="1029392">32</span><span class="op" id="1029394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029399">out32</span>&nbsp;<span class="op" id="1029405">:=</span>&nbsp;<span class="builtintype" id="1029408">float32</span><span class="op" id="1029415">(</span><span class="ident" id="1029416">out</span><span class="op" id="1029419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029424">if</span>&nbsp;<span class="builtintype" id="1029427">float64</span><span class="op" id="1029434">(</span><span class="ident" id="1029435">out32</span><span class="op" id="1029440">)</span>&nbsp;<span class="op" id="1029442">!=</span>&nbsp;<span class="ident" id="1029445">out</span>&nbsp;<span class="op" id="1029449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029455">t</span><span class="op" id="1029456">.</span><span class="ident" id="1029457">Errorf</span><span class="op" id="1029463">(</span><span class="string" id="1029464">&#34;ParseFloat(%v,&nbsp;32)&nbsp;=&nbsp;%v,&nbsp;not&nbsp;a&nbsp;float32&nbsp;(closest&nbsp;is&nbsp;%v)&#34;</span><span class="op" id="1029520">,</span>&nbsp;<span class="ident" id="1029522">test</span><span class="op" id="1029526">.</span><span class="ident" id="1029527">in</span><span class="op" id="1029529">,</span>&nbsp;<span class="ident" id="1029531">out</span><span class="op" id="1029534">,</span>&nbsp;<span class="builtintype" id="1029536">float64</span><span class="op" id="1029543">(</span><span class="ident" id="1029544">out32</span><span class="op" id="1029549">)</span><span class="op" id="1029550">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029556">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1029568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029573">outs</span>&nbsp;<span class="op" id="1029578">:=</span>&nbsp;<span class="ident" id="1029581">FormatFloat</span><span class="op" id="1029592">(</span><span class="builtintype" id="1029593">float64</span><span class="op" id="1029600">(</span><span class="ident" id="1029601">out32</span><span class="op" id="1029606">)</span><span class="op" id="1029607">,</span>&nbsp;<span class="string" id="1029609">&#39;g&#39;</span><span class="op" id="1029612">,</span>&nbsp;<span class="op" id="1029614">-</span><span class="num" id="1029615">1</span><span class="op" id="1029616">,</span>&nbsp;<span class="num" id="1029618">32</span><span class="op" id="1029620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029625">if</span>&nbsp;<span class="ident" id="1029628">outs</span>&nbsp;<span class="op" id="1029633">!=</span>&nbsp;<span class="ident" id="1029636">test</span><span class="op" id="1029640">.</span><span class="ident" id="1029641">out</span>&nbsp;<span class="op" id="1029645">||</span>&nbsp;<span class="op" id="1029648">!</span><span class="ident" id="1029649">reflect</span><span class="op" id="1029656">.</span><span class="ident" id="1029657">DeepEqual</span><span class="op" id="1029666">(</span><span class="ident" id="1029667">err</span><span class="op" id="1029670">,</span>&nbsp;<span class="ident" id="1029672">test</span><span class="op" id="1029676">.</span><span class="ident" id="1029677">err</span><span class="op" id="1029680">)</span>&nbsp;<span class="op" id="1029682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029688">t</span><span class="op" id="1029689">.</span><span class="ident" id="1029690">Errorf</span><span class="op" id="1029696">(</span><span class="string" id="1029697">&#34;ParseFloat(%v,&nbsp;32)&nbsp;=&nbsp;%v,&nbsp;%v&nbsp;want&nbsp;%v,&nbsp;%v&nbsp;&nbsp;#&nbsp;%v&#34;</span><span class="op" id="1029744">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029751">test</span><span class="op" id="1029755">.</span><span class="ident" id="1029756">in</span><span class="op" id="1029758">,</span>&nbsp;<span class="ident" id="1029760">out32</span><span class="op" id="1029765">,</span>&nbsp;<span class="ident" id="1029767">err</span><span class="op" id="1029770">,</span>&nbsp;<span class="ident" id="1029772">test</span><span class="op" id="1029776">.</span><span class="ident" id="1029777">out</span><span class="op" id="1029780">,</span>&nbsp;<span class="ident" id="1029782">test</span><span class="op" id="1029786">.</span><span class="ident" id="1029787">err</span><span class="op" id="1029790">,</span>&nbsp;<span class="ident" id="1029792">out</span><span class="op" id="1029795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1029800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1029804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1029807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029810">for</span>&nbsp;<span class="ident" id="1029814">_</span><span class="op" id="1029815">,</span>&nbsp;<span class="ident" id="1029817">test</span>&nbsp;<span class="op" id="1029822">:=</span>&nbsp;<span class="keyword" id="1029825">range</span>&nbsp;<span class="ident" id="1029831">atof32tests</span>&nbsp;<span class="op" id="1029843">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029847">out</span><span class="op" id="1029850">,</span>&nbsp;<span class="ident" id="1029852">err</span>&nbsp;<span class="op" id="1029856">:=</span>&nbsp;<span class="ident" id="1029859">ParseFloat</span><span class="op" id="1029869">(</span><span class="ident" id="1029870">test</span><span class="op" id="1029874">.</span><span class="ident" id="1029875">in</span><span class="op" id="1029877">,</span>&nbsp;<span class="num" id="1029879">32</span><span class="op" id="1029881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029885">out32</span>&nbsp;<span class="op" id="1029891">:=</span>&nbsp;<span class="builtintype" id="1029894">float32</span><span class="op" id="1029901">(</span><span class="ident" id="1029902">out</span><span class="op" id="1029905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1029909">if</span>&nbsp;<span class="builtintype" id="1029912">float64</span><span class="op" id="1029919">(</span><span class="ident" id="1029920">out32</span><span class="op" id="1029925">)</span>&nbsp;<span class="op" id="1029927">!=</span>&nbsp;<span class="ident" id="1029930">out</span>&nbsp;<span class="op" id="1029934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1029939">t</span><span class="op" id="1029940">.</span><span class="ident" id="1029941">Errorf</span><span class="op" id="1029947">(</span><span class="string" id="1029948">&#34;ParseFloat(%v,&nbsp;32)&nbsp;=&nbsp;%v,&nbsp;not&nbsp;a&nbsp;float32&nbsp;(closest&nbsp;is&nbsp;%v)&#34;</span><span class="op" id="1030004">,</span>&nbsp;<span class="ident" id="1030006">test</span><span class="op" id="1030010">.</span><span class="ident" id="1030011">in</span><span class="op" id="1030013">,</span>&nbsp;<span class="ident" id="1030015">out</span><span class="op" id="1030018">,</span>&nbsp;<span class="builtintype" id="1030020">float64</span><span class="op" id="1030027">(</span><span class="ident" id="1030028">out32</span><span class="op" id="1030033">)</span><span class="op" id="1030034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030039">continue</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1030050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030054">outs</span>&nbsp;<span class="op" id="1030059">:=</span>&nbsp;<span class="ident" id="1030062">FormatFloat</span><span class="op" id="1030073">(</span><span class="builtintype" id="1030074">float64</span><span class="op" id="1030081">(</span><span class="ident" id="1030082">out32</span><span class="op" id="1030087">)</span><span class="op" id="1030088">,</span>&nbsp;<span class="string" id="1030090">&#39;g&#39;</span><span class="op" id="1030093">,</span>&nbsp;<span class="op" id="1030095">-</span><span class="num" id="1030096">1</span><span class="op" id="1030097">,</span>&nbsp;<span class="num" id="1030099">32</span><span class="op" id="1030101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030105">if</span>&nbsp;<span class="ident" id="1030108">outs</span>&nbsp;<span class="op" id="1030113">!=</span>&nbsp;<span class="ident" id="1030116">test</span><span class="op" id="1030120">.</span><span class="ident" id="1030121">out</span>&nbsp;<span class="op" id="1030125">||</span>&nbsp;<span class="op" id="1030128">!</span><span class="ident" id="1030129">reflect</span><span class="op" id="1030136">.</span><span class="ident" id="1030137">DeepEqual</span><span class="op" id="1030146">(</span><span class="ident" id="1030147">err</span><span class="op" id="1030150">,</span>&nbsp;<span class="ident" id="1030152">test</span><span class="op" id="1030156">.</span><span class="ident" id="1030157">err</span><span class="op" id="1030160">)</span>&nbsp;<span class="op" id="1030162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030167">t</span><span class="op" id="1030168">.</span><span class="ident" id="1030169">Errorf</span><span class="op" id="1030175">(</span><span class="string" id="1030176">&#34;ParseFloat(%v,&nbsp;32)&nbsp;=&nbsp;%v,&nbsp;%v&nbsp;want&nbsp;%v,&nbsp;%v&nbsp;&nbsp;#&nbsp;%v&#34;</span><span class="op" id="1030223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030229">test</span><span class="op" id="1030233">.</span><span class="ident" id="1030234">in</span><span class="op" id="1030236">,</span>&nbsp;<span class="ident" id="1030238">out32</span><span class="op" id="1030243">,</span>&nbsp;<span class="ident" id="1030245">err</span><span class="op" id="1030248">,</span>&nbsp;<span class="ident" id="1030250">test</span><span class="op" id="1030254">.</span><span class="ident" id="1030255">out</span><span class="op" id="1030258">,</span>&nbsp;<span class="ident" id="1030260">test</span><span class="op" id="1030264">.</span><span class="ident" id="1030265">err</span><span class="op" id="1030268">,</span>&nbsp;<span class="ident" id="1030270">out</span><span class="op" id="1030273">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1030277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1030280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030283">SetOptimize</span><span class="op" id="1030294">(</span><span class="ident" id="1030295">oldopt</span><span class="op" id="1030301">)</span><br>
<span class="lineno"></span><span class="op" id="1030303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1030306">func</span>&nbsp;<span class="ident" id="1030311">TestAtof</span><span class="op" id="1030319">(</span><span class="ident" id="1030320">t</span>&nbsp;<span class="op" id="1030322">*</span><span class="ident" id="1030323">testing</span><span class="op" id="1030330">.</span><span class="ident" id="1030331">T</span><span class="op" id="1030332">)</span>&nbsp;<span class="op" id="1030334">{</span>&nbsp;<span class="ident" id="1030336">testAtof</span><span class="op" id="1030344">(</span><span class="ident" id="1030345">t</span><span class="op" id="1030346">,</span>&nbsp;<span class="builtintype" id="1030348">true</span><span class="op" id="1030352">)</span>&nbsp;<span class="op" id="1030354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1030357">func</span>&nbsp;<span class="ident" id="1030362">TestAtofSlow</span><span class="op" id="1030374">(</span><span class="ident" id="1030375">t</span>&nbsp;<span class="op" id="1030377">*</span><span class="ident" id="1030378">testing</span><span class="op" id="1030385">.</span><span class="ident" id="1030386">T</span><span class="op" id="1030387">)</span>&nbsp;<span class="op" id="1030389">{</span>&nbsp;<span class="ident" id="1030391">testAtof</span><span class="op" id="1030399">(</span><span class="ident" id="1030400">t</span><span class="op" id="1030401">,</span>&nbsp;<span class="builtintype" id="1030403">false</span><span class="op" id="1030408">)</span>&nbsp;<span class="op" id="1030410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1030413">func</span>&nbsp;<span class="ident" id="1030418">TestAtofRandom</span><span class="op" id="1030432">(</span><span class="ident" id="1030433">t</span>&nbsp;<span class="op" id="1030435">*</span><span class="ident" id="1030436">testing</span><span class="op" id="1030443">.</span><span class="ident" id="1030444">T</span><span class="op" id="1030445">)</span>&nbsp;<span class="op" id="1030447">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030450">for</span>&nbsp;<span class="ident" id="1030454">_</span><span class="op" id="1030455">,</span>&nbsp;<span class="ident" id="1030457">test</span>&nbsp;<span class="op" id="1030462">:=</span>&nbsp;<span class="keyword" id="1030465">range</span>&nbsp;<span class="ident" id="1030471">atofRandomTests</span>&nbsp;<span class="op" id="1030487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030491">x</span><span class="op" id="1030492">,</span>&nbsp;<span class="ident" id="1030494">_</span>&nbsp;<span class="op" id="1030496">:=</span>&nbsp;<span class="ident" id="1030499">ParseFloat</span><span class="op" id="1030509">(</span><span class="ident" id="1030510">test</span><span class="op" id="1030514">.</span><span class="ident" id="1030515">s</span><span class="op" id="1030516">,</span>&nbsp;<span class="num" id="1030518">64</span><span class="op" id="1030520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030524">switch</span>&nbsp;<span class="op" id="1030531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030535">default</span><span class="op" id="1030542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030547">t</span><span class="op" id="1030548">.</span><span class="ident" id="1030549">Errorf</span><span class="op" id="1030555">(</span><span class="string" id="1030556">&#34;number&nbsp;%s&nbsp;badly&nbsp;parsed&nbsp;as&nbsp;%b&nbsp;(expected&nbsp;%b)&#34;</span><span class="op" id="1030600">,</span>&nbsp;<span class="ident" id="1030602">test</span><span class="op" id="1030606">.</span><span class="ident" id="1030607">s</span><span class="op" id="1030608">,</span>&nbsp;<span class="ident" id="1030610">x</span><span class="op" id="1030611">,</span>&nbsp;<span class="ident" id="1030613">test</span><span class="op" id="1030617">.</span><span class="ident" id="1030618">x</span><span class="op" id="1030619">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030623">case</span>&nbsp;<span class="ident" id="1030628">x</span>&nbsp;<span class="op" id="1030630">==</span>&nbsp;<span class="ident" id="1030633">test</span><span class="op" id="1030637">.</span><span class="ident" id="1030638">x</span><span class="op" id="1030639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1030643">case</span>&nbsp;<span class="ident" id="1030648">math</span><span class="op" id="1030652">.</span><span class="ident" id="1030653">IsNaN</span><span class="op" id="1030658">(</span><span class="ident" id="1030659">test</span><span class="op" id="1030663">.</span><span class="ident" id="1030664">x</span><span class="op" id="1030665">)</span>&nbsp;<span class="op" id="1030667">&amp;&amp;</span>&nbsp;<span class="ident" id="1030670">math</span><span class="op" id="1030674">.</span><span class="ident" id="1030675">IsNaN</span><span class="op" id="1030680">(</span><span class="ident" id="1030681">x</span><span class="op" id="1030682">)</span><span class="op" id="1030683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1030687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1030690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030693">t</span><span class="op" id="1030694">.</span><span class="ident" id="1030695">Logf</span><span class="op" id="1030699">(</span><span class="string" id="1030700">&#34;tested&nbsp;%d&nbsp;random&nbsp;numbers&#34;</span><span class="op" id="1030726">,</span>&nbsp;<span class="builtinfunc" id="1030728">len</span><span class="op" id="1030731">(</span><span class="ident" id="1030732">atofRandomTests</span><span class="op" id="1030747">)</span><span class="op" id="1030748">)</span><br>
<span class="lineno">295</span><span class="op" id="1030750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1030753">var</span>&nbsp;<span class="ident" id="1030757">roundTripCases</span>&nbsp;<span class="op" id="1030772">=</span>&nbsp;<span class="op" id="1030774">[</span><span class="op" id="1030775">]</span><span class="keyword" id="1030776">struct</span>&nbsp;<span class="op" id="1030783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030786">f</span>&nbsp;<span class="builtintype" id="1030788">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1030797">s</span>&nbsp;<span class="builtintype" id="1030799">string</span><br>
<span class="lineno">300</span><span class="op" id="1030806">}</span><span class="op" id="1030807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1030810">//&nbsp;Issue&nbsp;2917.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1030826">//&nbsp;This&nbsp;test&nbsp;will&nbsp;break&nbsp;the&nbsp;optimized&nbsp;conversion&nbsp;if&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1030883">//&nbsp;FPU&nbsp;is&nbsp;using&nbsp;80-bit&nbsp;registers&nbsp;instead&nbsp;of&nbsp;64-bit&nbsp;registers,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1030946">//&nbsp;usually&nbsp;because&nbsp;the&nbsp;operating&nbsp;system&nbsp;initialized&nbsp;the</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1031003">//&nbsp;thread&nbsp;with&nbsp;80-bit&nbsp;precision&nbsp;and&nbsp;the&nbsp;Go&nbsp;runtime&nbsp;didn&#39;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1031062">//&nbsp;fix&nbsp;the&nbsp;FP&nbsp;control&nbsp;word.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031091">{</span><span class="num" id="1031092">8865794286000691</span>&nbsp;<span class="op" id="1031109">&lt;&lt;</span>&nbsp;<span class="num" id="1031112">39</span><span class="op" id="1031114">,</span>&nbsp;<span class="string" id="1031116">&#34;4.87402195346389e+27&#34;</span><span class="op" id="1031138">}</span><span class="op" id="1031139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031142">{</span><span class="num" id="1031143">8865794286000692</span>&nbsp;<span class="op" id="1031160">&lt;&lt;</span>&nbsp;<span class="num" id="1031163">39</span><span class="op" id="1031165">,</span>&nbsp;<span class="string" id="1031167">&#34;4.8740219534638903e+27&#34;</span><span class="op" id="1031191">}</span><span class="op" id="1031192">,</span><br>
<span class="lineno"></span><span class="op" id="1031194">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="1031197">func</span>&nbsp;<span class="ident" id="1031202">TestRoundTrip</span><span class="op" id="1031215">(</span><span class="ident" id="1031216">t</span>&nbsp;<span class="op" id="1031218">*</span><span class="ident" id="1031219">testing</span><span class="op" id="1031226">.</span><span class="ident" id="1031227">T</span><span class="op" id="1031228">)</span>&nbsp;<span class="op" id="1031230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1031233">for</span>&nbsp;<span class="ident" id="1031237">_</span><span class="op" id="1031238">,</span>&nbsp;<span class="ident" id="1031240">tt</span>&nbsp;<span class="op" id="1031243">:=</span>&nbsp;<span class="keyword" id="1031246">range</span>&nbsp;<span class="ident" id="1031252">roundTripCases</span>&nbsp;<span class="op" id="1031267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031271">old</span>&nbsp;<span class="op" id="1031275">:=</span>&nbsp;<span class="ident" id="1031278">SetOptimize</span><span class="op" id="1031289">(</span><span class="builtintype" id="1031290">false</span><span class="op" id="1031295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031299">s</span>&nbsp;<span class="op" id="1031301">:=</span>&nbsp;<span class="ident" id="1031304">FormatFloat</span><span class="op" id="1031315">(</span><span class="ident" id="1031316">tt</span><span class="op" id="1031318">.</span><span class="ident" id="1031319">f</span><span class="op" id="1031320">,</span>&nbsp;<span class="string" id="1031322">&#39;g&#39;</span><span class="op" id="1031325">,</span>&nbsp;<span class="op" id="1031327">-</span><span class="num" id="1031328">1</span><span class="op" id="1031329">,</span>&nbsp;<span class="num" id="1031331">64</span><span class="op" id="1031333">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1031337">if</span>&nbsp;<span class="ident" id="1031340">s</span>&nbsp;<span class="op" id="1031342">!=</span>&nbsp;<span class="ident" id="1031345">tt</span><span class="op" id="1031347">.</span><span class="ident" id="1031348">s</span>&nbsp;<span class="op" id="1031350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031355">t</span><span class="op" id="1031356">.</span><span class="ident" id="1031357">Errorf</span><span class="op" id="1031363">(</span><span class="string" id="1031364">&#34;no-opt&nbsp;FormatFloat(%b)&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="1031402">,</span>&nbsp;<span class="ident" id="1031404">tt</span><span class="op" id="1031406">.</span><span class="ident" id="1031407">f</span><span class="op" id="1031408">,</span>&nbsp;<span class="ident" id="1031410">s</span><span class="op" id="1031411">,</span>&nbsp;<span class="ident" id="1031413">tt</span><span class="op" id="1031415">.</span><span class="ident" id="1031416">s</span><span class="op" id="1031417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031425">f</span><span class="op" id="1031426">,</span>&nbsp;<span class="ident" id="1031428">err</span>&nbsp;<span class="op" id="1031432">:=</span>&nbsp;<span class="ident" id="1031435">ParseFloat</span><span class="op" id="1031445">(</span><span class="ident" id="1031446">tt</span><span class="op" id="1031448">.</span><span class="ident" id="1031449">s</span><span class="op" id="1031450">,</span>&nbsp;<span class="num" id="1031452">64</span><span class="op" id="1031454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1031458">if</span>&nbsp;<span class="ident" id="1031461">f</span>&nbsp;<span class="op" id="1031463">!=</span>&nbsp;<span class="ident" id="1031466">tt</span><span class="op" id="1031468">.</span><span class="ident" id="1031469">f</span>&nbsp;<span class="op" id="1031471">||</span>&nbsp;<span class="ident" id="1031474">err</span>&nbsp;<span class="op" id="1031478">!=</span>&nbsp;<span class="ident" id="1031481">nil</span>&nbsp;<span class="op" id="1031485">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031490">t</span><span class="op" id="1031491">.</span><span class="ident" id="1031492">Errorf</span><span class="op" id="1031498">(</span><span class="string" id="1031499">&#34;no-opt&nbsp;ParseFloat(%s)&nbsp;=&nbsp;%b,&nbsp;%v&nbsp;want&nbsp;%b,&nbsp;nil&#34;</span><span class="op" id="1031544">,</span>&nbsp;<span class="ident" id="1031546">tt</span><span class="op" id="1031548">.</span><span class="ident" id="1031549">s</span><span class="op" id="1031550">,</span>&nbsp;<span class="ident" id="1031552">f</span><span class="op" id="1031553">,</span>&nbsp;<span class="ident" id="1031555">err</span><span class="op" id="1031558">,</span>&nbsp;<span class="ident" id="1031560">tt</span><span class="op" id="1031562">.</span><span class="ident" id="1031563">f</span><span class="op" id="1031564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031572">SetOptimize</span><span class="op" id="1031583">(</span><span class="builtintype" id="1031584">true</span><span class="op" id="1031588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031592">s</span>&nbsp;<span class="op" id="1031594">=</span>&nbsp;<span class="ident" id="1031596">FormatFloat</span><span class="op" id="1031607">(</span><span class="ident" id="1031608">tt</span><span class="op" id="1031610">.</span><span class="ident" id="1031611">f</span><span class="op" id="1031612">,</span>&nbsp;<span class="string" id="1031614">&#39;g&#39;</span><span class="op" id="1031617">,</span>&nbsp;<span class="op" id="1031619">-</span><span class="num" id="1031620">1</span><span class="op" id="1031621">,</span>&nbsp;<span class="num" id="1031623">64</span><span class="op" id="1031625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1031629">if</span>&nbsp;<span class="ident" id="1031632">s</span>&nbsp;<span class="op" id="1031634">!=</span>&nbsp;<span class="ident" id="1031637">tt</span><span class="op" id="1031639">.</span><span class="ident" id="1031640">s</span>&nbsp;<span class="op" id="1031642">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031647">t</span><span class="op" id="1031648">.</span><span class="ident" id="1031649">Errorf</span><span class="op" id="1031655">(</span><span class="string" id="1031656">&#34;opt&nbsp;FormatFloat(%b)&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="1031691">,</span>&nbsp;<span class="ident" id="1031693">tt</span><span class="op" id="1031695">.</span><span class="ident" id="1031696">f</span><span class="op" id="1031697">,</span>&nbsp;<span class="ident" id="1031699">s</span><span class="op" id="1031700">,</span>&nbsp;<span class="ident" id="1031702">tt</span><span class="op" id="1031704">.</span><span class="ident" id="1031705">s</span><span class="op" id="1031706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031714">f</span><span class="op" id="1031715">,</span>&nbsp;<span class="ident" id="1031717">err</span>&nbsp;<span class="op" id="1031721">=</span>&nbsp;<span class="ident" id="1031723">ParseFloat</span><span class="op" id="1031733">(</span><span class="ident" id="1031734">tt</span><span class="op" id="1031736">.</span><span class="ident" id="1031737">s</span><span class="op" id="1031738">,</span>&nbsp;<span class="num" id="1031740">64</span><span class="op" id="1031742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1031746">if</span>&nbsp;<span class="ident" id="1031749">f</span>&nbsp;<span class="op" id="1031751">!=</span>&nbsp;<span class="ident" id="1031754">tt</span><span class="op" id="1031756">.</span><span class="ident" id="1031757">f</span>&nbsp;<span class="op" id="1031759">||</span>&nbsp;<span class="ident" id="1031762">err</span>&nbsp;<span class="op" id="1031766">!=</span>&nbsp;<span class="ident" id="1031769">nil</span>&nbsp;<span class="op" id="1031773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031778">t</span><span class="op" id="1031779">.</span><span class="ident" id="1031780">Errorf</span><span class="op" id="1031786">(</span><span class="string" id="1031787">&#34;opt&nbsp;ParseFloat(%s)&nbsp;=&nbsp;%b,&nbsp;%v&nbsp;want&nbsp;%b,&nbsp;nil&#34;</span><span class="op" id="1031829">,</span>&nbsp;<span class="ident" id="1031831">tt</span><span class="op" id="1031833">.</span><span class="ident" id="1031834">s</span><span class="op" id="1031835">,</span>&nbsp;<span class="ident" id="1031837">f</span><span class="op" id="1031838">,</span>&nbsp;<span class="ident" id="1031840">err</span><span class="op" id="1031843">,</span>&nbsp;<span class="ident" id="1031845">tt</span><span class="op" id="1031847">.</span><span class="ident" id="1031848">f</span><span class="op" id="1031849">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031857">SetOptimize</span><span class="op" id="1031868">(</span><span class="ident" id="1031869">old</span><span class="op" id="1031872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1031875">}</span><br>
<span class="lineno"></span><span class="op" id="1031877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="comment" id="1031880">//&nbsp;TestRoundTrip32&nbsp;tries&nbsp;a&nbsp;fraction&nbsp;of&nbsp;all&nbsp;finite&nbsp;positive&nbsp;float32&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="1031955">func</span>&nbsp;<span class="ident" id="1031960">TestRoundTrip32</span><span class="op" id="1031975">(</span><span class="ident" id="1031976">t</span>&nbsp;<span class="op" id="1031978">*</span><span class="ident" id="1031979">testing</span><span class="op" id="1031986">.</span><span class="ident" id="1031987">T</span><span class="op" id="1031988">)</span>&nbsp;<span class="op" id="1031990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1031993">step</span>&nbsp;<span class="op" id="1031998">:=</span>&nbsp;<span class="builtintype" id="1032001">uint32</span><span class="op" id="1032007">(</span><span class="num" id="1032008">997</span><span class="op" id="1032011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032014">if</span>&nbsp;<span class="ident" id="1032017">testing</span><span class="op" id="1032024">.</span><span class="ident" id="1032025">Short</span><span class="op" id="1032030">(</span><span class="op" id="1032031">)</span>&nbsp;<span class="op" id="1032033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032037">step</span>&nbsp;<span class="op" id="1032042">=</span>&nbsp;<span class="num" id="1032044">99991</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032054">count</span>&nbsp;<span class="op" id="1032060">:=</span>&nbsp;<span class="num" id="1032063">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032066">for</span>&nbsp;<span class="ident" id="1032070">i</span>&nbsp;<span class="op" id="1032072">:=</span>&nbsp;<span class="builtintype" id="1032075">uint32</span><span class="op" id="1032081">(</span><span class="num" id="1032082">0</span><span class="op" id="1032083">)</span><span class="op" id="1032084">;</span>&nbsp;<span class="ident" id="1032086">i</span>&nbsp;<span class="op" id="1032088">&lt;</span>&nbsp;<span class="num" id="1032090">0xff</span><span class="op" id="1032094">&lt;&lt;</span><span class="num" id="1032096">23</span><span class="op" id="1032098">;</span>&nbsp;<span class="ident" id="1032100">i</span>&nbsp;<span class="op" id="1032102">+=</span>&nbsp;<span class="ident" id="1032105">step</span>&nbsp;<span class="op" id="1032110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032114">f</span>&nbsp;<span class="op" id="1032116">:=</span>&nbsp;<span class="ident" id="1032119">math</span><span class="op" id="1032123">.</span><span class="ident" id="1032124">Float32frombits</span><span class="op" id="1032139">(</span><span class="ident" id="1032140">i</span><span class="op" id="1032141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032145">if</span>&nbsp;<span class="ident" id="1032148">i</span><span class="op" id="1032149">&amp;</span><span class="num" id="1032150">1</span>&nbsp;<span class="op" id="1032152">==</span>&nbsp;<span class="num" id="1032155">1</span>&nbsp;<span class="op" id="1032157">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032162">f</span>&nbsp;<span class="op" id="1032164">=</span>&nbsp;<span class="op" id="1032166">-</span><span class="ident" id="1032167">f</span>&nbsp;<span class="comment" id="1032169">//&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032187">s</span>&nbsp;<span class="op" id="1032189">:=</span>&nbsp;<span class="ident" id="1032192">FormatFloat</span><span class="op" id="1032203">(</span><span class="builtintype" id="1032204">float64</span><span class="op" id="1032211">(</span><span class="ident" id="1032212">f</span><span class="op" id="1032213">)</span><span class="op" id="1032214">,</span>&nbsp;<span class="string" id="1032216">&#39;g&#39;</span><span class="op" id="1032219">,</span>&nbsp;<span class="op" id="1032221">-</span><span class="num" id="1032222">1</span><span class="op" id="1032223">,</span>&nbsp;<span class="num" id="1032225">32</span><span class="op" id="1032227">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032232">parsed</span><span class="op" id="1032238">,</span>&nbsp;<span class="ident" id="1032240">err</span>&nbsp;<span class="op" id="1032244">:=</span>&nbsp;<span class="ident" id="1032247">ParseFloat</span><span class="op" id="1032257">(</span><span class="ident" id="1032258">s</span><span class="op" id="1032259">,</span>&nbsp;<span class="num" id="1032261">32</span><span class="op" id="1032263">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032267">parsed32</span>&nbsp;<span class="op" id="1032276">:=</span>&nbsp;<span class="builtintype" id="1032279">float32</span><span class="op" id="1032286">(</span><span class="ident" id="1032287">parsed</span><span class="op" id="1032293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032297">switch</span>&nbsp;<span class="op" id="1032304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032308">case</span>&nbsp;<span class="ident" id="1032313">err</span>&nbsp;<span class="op" id="1032317">!=</span>&nbsp;<span class="ident" id="1032320">nil</span><span class="op" id="1032323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032328">t</span><span class="op" id="1032329">.</span><span class="ident" id="1032330">Errorf</span><span class="op" id="1032336">(</span><span class="string" id="1032337">&#34;ParseFloat(%q,&nbsp;32)&nbsp;gave&nbsp;error&nbsp;%s&#34;</span><span class="op" id="1032371">,</span>&nbsp;<span class="ident" id="1032373">s</span><span class="op" id="1032374">,</span>&nbsp;<span class="ident" id="1032376">err</span><span class="op" id="1032379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032383">case</span>&nbsp;<span class="builtintype" id="1032388">float64</span><span class="op" id="1032395">(</span><span class="ident" id="1032396">parsed32</span><span class="op" id="1032404">)</span>&nbsp;<span class="op" id="1032406">!=</span>&nbsp;<span class="ident" id="1032409">parsed</span><span class="op" id="1032415">:</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032420">t</span><span class="op" id="1032421">.</span><span class="ident" id="1032422">Errorf</span><span class="op" id="1032428">(</span><span class="string" id="1032429">&#34;ParseFloat(%q,&nbsp;32)&nbsp;=&nbsp;%v,&nbsp;not&nbsp;a&nbsp;float32&nbsp;(nearest&nbsp;is&nbsp;%v)&#34;</span><span class="op" id="1032485">,</span>&nbsp;<span class="ident" id="1032487">s</span><span class="op" id="1032488">,</span>&nbsp;<span class="ident" id="1032490">parsed</span><span class="op" id="1032496">,</span>&nbsp;<span class="ident" id="1032498">parsed32</span><span class="op" id="1032506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032510">case</span>&nbsp;<span class="ident" id="1032515">parsed32</span>&nbsp;<span class="op" id="1032524">!=</span>&nbsp;<span class="ident" id="1032527">f</span><span class="op" id="1032528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032533">t</span><span class="op" id="1032534">.</span><span class="ident" id="1032535">Errorf</span><span class="op" id="1032541">(</span><span class="string" id="1032542">&#34;ParseFloat(%q,&nbsp;32)&nbsp;=&nbsp;%b&nbsp;(expected&nbsp;%b)&#34;</span><span class="op" id="1032581">,</span>&nbsp;<span class="ident" id="1032583">s</span><span class="op" id="1032584">,</span>&nbsp;<span class="ident" id="1032586">parsed32</span><span class="op" id="1032594">,</span>&nbsp;<span class="ident" id="1032596">f</span><span class="op" id="1032597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032605">count</span><span class="op" id="1032610">++</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032617">t</span><span class="op" id="1032618">.</span><span class="ident" id="1032619">Logf</span><span class="op" id="1032623">(</span><span class="string" id="1032624">&#34;tested&nbsp;%d&nbsp;float32&#39;s&#34;</span><span class="op" id="1032645">,</span>&nbsp;<span class="ident" id="1032647">count</span><span class="op" id="1032652">)</span><br>
<span class="lineno"></span><span class="op" id="1032654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1032657">func</span>&nbsp;<span class="ident" id="1032662">BenchmarkAtof64Decimal</span><span class="op" id="1032684">(</span><span class="ident" id="1032685">b</span>&nbsp;<span class="op" id="1032687">*</span><span class="ident" id="1032688">testing</span><span class="op" id="1032695">.</span><span class="ident" id="1032696">B</span><span class="op" id="1032697">)</span>&nbsp;<span class="op" id="1032699">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032702">for</span>&nbsp;<span class="ident" id="1032706">i</span>&nbsp;<span class="op" id="1032708">:=</span>&nbsp;<span class="num" id="1032711">0</span><span class="op" id="1032712">;</span>&nbsp;<span class="ident" id="1032714">i</span>&nbsp;<span class="op" id="1032716">&lt;</span>&nbsp;<span class="ident" id="1032718">b</span><span class="op" id="1032719">.</span><span class="ident" id="1032720">N</span><span class="op" id="1032721">;</span>&nbsp;<span class="ident" id="1032723">i</span><span class="op" id="1032724">++</span>&nbsp;<span class="op" id="1032727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032731">ParseFloat</span><span class="op" id="1032741">(</span><span class="string" id="1032742">&#34;33909&#34;</span><span class="op" id="1032749">,</span>&nbsp;<span class="num" id="1032751">64</span><span class="op" id="1032753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032756">}</span><br>
<span class="lineno"></span><span class="op" id="1032758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="1032761">func</span>&nbsp;<span class="ident" id="1032766">BenchmarkAtof64Float</span><span class="op" id="1032786">(</span><span class="ident" id="1032787">b</span>&nbsp;<span class="op" id="1032789">*</span><span class="ident" id="1032790">testing</span><span class="op" id="1032797">.</span><span class="ident" id="1032798">B</span><span class="op" id="1032799">)</span>&nbsp;<span class="op" id="1032801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032804">for</span>&nbsp;<span class="ident" id="1032808">i</span>&nbsp;<span class="op" id="1032810">:=</span>&nbsp;<span class="num" id="1032813">0</span><span class="op" id="1032814">;</span>&nbsp;<span class="ident" id="1032816">i</span>&nbsp;<span class="op" id="1032818">&lt;</span>&nbsp;<span class="ident" id="1032820">b</span><span class="op" id="1032821">.</span><span class="ident" id="1032822">N</span><span class="op" id="1032823">;</span>&nbsp;<span class="ident" id="1032825">i</span><span class="op" id="1032826">++</span>&nbsp;<span class="op" id="1032829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032833">ParseFloat</span><span class="op" id="1032843">(</span><span class="string" id="1032844">&#34;339.7784&#34;</span><span class="op" id="1032854">,</span>&nbsp;<span class="num" id="1032856">64</span><span class="op" id="1032858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032861">}</span><br>
<span class="lineno"></span><span class="op" id="1032863">}</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span><span class="keyword" id="1032866">func</span>&nbsp;<span class="ident" id="1032871">BenchmarkAtof64FloatExp</span><span class="op" id="1032894">(</span><span class="ident" id="1032895">b</span>&nbsp;<span class="op" id="1032897">*</span><span class="ident" id="1032898">testing</span><span class="op" id="1032905">.</span><span class="ident" id="1032906">B</span><span class="op" id="1032907">)</span>&nbsp;<span class="op" id="1032909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1032912">for</span>&nbsp;<span class="ident" id="1032916">i</span>&nbsp;<span class="op" id="1032918">:=</span>&nbsp;<span class="num" id="1032921">0</span><span class="op" id="1032922">;</span>&nbsp;<span class="ident" id="1032924">i</span>&nbsp;<span class="op" id="1032926">&lt;</span>&nbsp;<span class="ident" id="1032928">b</span><span class="op" id="1032929">.</span><span class="ident" id="1032930">N</span><span class="op" id="1032931">;</span>&nbsp;<span class="ident" id="1032933">i</span><span class="op" id="1032934">++</span>&nbsp;<span class="op" id="1032937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1032941">ParseFloat</span><span class="op" id="1032951">(</span><span class="string" id="1032952">&#34;-5.09e75&#34;</span><span class="op" id="1032962">,</span>&nbsp;<span class="num" id="1032964">64</span><span class="op" id="1032966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1032969">}</span><br>
<span class="lineno">380</span><span class="op" id="1032971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1032974">func</span>&nbsp;<span class="ident" id="1032979">BenchmarkAtof64Big</span><span class="op" id="1032997">(</span><span class="ident" id="1032998">b</span>&nbsp;<span class="op" id="1033000">*</span><span class="ident" id="1033001">testing</span><span class="op" id="1033008">.</span><span class="ident" id="1033009">B</span><span class="op" id="1033010">)</span>&nbsp;<span class="op" id="1033012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033015">for</span>&nbsp;<span class="ident" id="1033019">i</span>&nbsp;<span class="op" id="1033021">:=</span>&nbsp;<span class="num" id="1033024">0</span><span class="op" id="1033025">;</span>&nbsp;<span class="ident" id="1033027">i</span>&nbsp;<span class="op" id="1033029">&lt;</span>&nbsp;<span class="ident" id="1033031">b</span><span class="op" id="1033032">.</span><span class="ident" id="1033033">N</span><span class="op" id="1033034">;</span>&nbsp;<span class="ident" id="1033036">i</span><span class="op" id="1033037">++</span>&nbsp;<span class="op" id="1033040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033044">ParseFloat</span><span class="op" id="1033054">(</span><span class="string" id="1033055">&#34;123456789123456789123456789&#34;</span><span class="op" id="1033084">,</span>&nbsp;<span class="num" id="1033086">64</span><span class="op" id="1033088">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033091">}</span><br>
<span class="lineno"></span><span class="op" id="1033093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1033096">func</span>&nbsp;<span class="ident" id="1033101">BenchmarkAtof64RandomBits</span><span class="op" id="1033126">(</span><span class="ident" id="1033127">b</span>&nbsp;<span class="op" id="1033129">*</span><span class="ident" id="1033130">testing</span><span class="op" id="1033137">.</span><span class="ident" id="1033138">B</span><span class="op" id="1033139">)</span>&nbsp;<span class="op" id="1033141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033144">for</span>&nbsp;<span class="ident" id="1033148">i</span>&nbsp;<span class="op" id="1033150">:=</span>&nbsp;<span class="num" id="1033153">0</span><span class="op" id="1033154">;</span>&nbsp;<span class="ident" id="1033156">i</span>&nbsp;<span class="op" id="1033158">&lt;</span>&nbsp;<span class="ident" id="1033160">b</span><span class="op" id="1033161">.</span><span class="ident" id="1033162">N</span><span class="op" id="1033163">;</span>&nbsp;<span class="ident" id="1033165">i</span><span class="op" id="1033166">++</span>&nbsp;<span class="op" id="1033169">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033173">ParseFloat</span><span class="op" id="1033183">(</span><span class="ident" id="1033184">benchmarksRandomBits</span><span class="op" id="1033204">[</span><span class="ident" id="1033205">i</span><span class="op" id="1033206">%</span><span class="num" id="1033207">1024</span><span class="op" id="1033211">]</span><span class="op" id="1033212">,</span>&nbsp;<span class="num" id="1033214">64</span><span class="op" id="1033216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033219">}</span><br>
<span class="lineno"></span><span class="op" id="1033221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1033224">func</span>&nbsp;<span class="ident" id="1033229">BenchmarkAtof64RandomFloats</span><span class="op" id="1033256">(</span><span class="ident" id="1033257">b</span>&nbsp;<span class="op" id="1033259">*</span><span class="ident" id="1033260">testing</span><span class="op" id="1033267">.</span><span class="ident" id="1033268">B</span><span class="op" id="1033269">)</span>&nbsp;<span class="op" id="1033271">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033274">for</span>&nbsp;<span class="ident" id="1033278">i</span>&nbsp;<span class="op" id="1033280">:=</span>&nbsp;<span class="num" id="1033283">0</span><span class="op" id="1033284">;</span>&nbsp;<span class="ident" id="1033286">i</span>&nbsp;<span class="op" id="1033288">&lt;</span>&nbsp;<span class="ident" id="1033290">b</span><span class="op" id="1033291">.</span><span class="ident" id="1033292">N</span><span class="op" id="1033293">;</span>&nbsp;<span class="ident" id="1033295">i</span><span class="op" id="1033296">++</span>&nbsp;<span class="op" id="1033299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033303">ParseFloat</span><span class="op" id="1033313">(</span><span class="ident" id="1033314">benchmarksRandomNormal</span><span class="op" id="1033336">[</span><span class="ident" id="1033337">i</span><span class="op" id="1033338">%</span><span class="num" id="1033339">1024</span><span class="op" id="1033343">]</span><span class="op" id="1033344">,</span>&nbsp;<span class="num" id="1033346">64</span><span class="op" id="1033348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033351">}</span><br>
<span class="lineno"></span><span class="op" id="1033353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span><span class="keyword" id="1033356">func</span>&nbsp;<span class="ident" id="1033361">BenchmarkAtof32Decimal</span><span class="op" id="1033383">(</span><span class="ident" id="1033384">b</span>&nbsp;<span class="op" id="1033386">*</span><span class="ident" id="1033387">testing</span><span class="op" id="1033394">.</span><span class="ident" id="1033395">B</span><span class="op" id="1033396">)</span>&nbsp;<span class="op" id="1033398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033401">for</span>&nbsp;<span class="ident" id="1033405">i</span>&nbsp;<span class="op" id="1033407">:=</span>&nbsp;<span class="num" id="1033410">0</span><span class="op" id="1033411">;</span>&nbsp;<span class="ident" id="1033413">i</span>&nbsp;<span class="op" id="1033415">&lt;</span>&nbsp;<span class="ident" id="1033417">b</span><span class="op" id="1033418">.</span><span class="ident" id="1033419">N</span><span class="op" id="1033420">;</span>&nbsp;<span class="ident" id="1033422">i</span><span class="op" id="1033423">++</span>&nbsp;<span class="op" id="1033426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033430">ParseFloat</span><span class="op" id="1033440">(</span><span class="string" id="1033441">&#34;33909&#34;</span><span class="op" id="1033448">,</span>&nbsp;<span class="num" id="1033450">32</span><span class="op" id="1033452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033455">}</span><br>
<span class="lineno"></span><span class="op" id="1033457">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="1033460">func</span>&nbsp;<span class="ident" id="1033465">BenchmarkAtof32Float</span><span class="op" id="1033485">(</span><span class="ident" id="1033486">b</span>&nbsp;<span class="op" id="1033488">*</span><span class="ident" id="1033489">testing</span><span class="op" id="1033496">.</span><span class="ident" id="1033497">B</span><span class="op" id="1033498">)</span>&nbsp;<span class="op" id="1033500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033503">for</span>&nbsp;<span class="ident" id="1033507">i</span>&nbsp;<span class="op" id="1033509">:=</span>&nbsp;<span class="num" id="1033512">0</span><span class="op" id="1033513">;</span>&nbsp;<span class="ident" id="1033515">i</span>&nbsp;<span class="op" id="1033517">&lt;</span>&nbsp;<span class="ident" id="1033519">b</span><span class="op" id="1033520">.</span><span class="ident" id="1033521">N</span><span class="op" id="1033522">;</span>&nbsp;<span class="ident" id="1033524">i</span><span class="op" id="1033525">++</span>&nbsp;<span class="op" id="1033528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033532">ParseFloat</span><span class="op" id="1033542">(</span><span class="string" id="1033543">&#34;339.778&#34;</span><span class="op" id="1033552">,</span>&nbsp;<span class="num" id="1033554">32</span><span class="op" id="1033556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033559">}</span><br>
<span class="lineno">410</span><span class="op" id="1033561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1033564">func</span>&nbsp;<span class="ident" id="1033569">BenchmarkAtof32FloatExp</span><span class="op" id="1033592">(</span><span class="ident" id="1033593">b</span>&nbsp;<span class="op" id="1033595">*</span><span class="ident" id="1033596">testing</span><span class="op" id="1033603">.</span><span class="ident" id="1033604">B</span><span class="op" id="1033605">)</span>&nbsp;<span class="op" id="1033607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033610">for</span>&nbsp;<span class="ident" id="1033614">i</span>&nbsp;<span class="op" id="1033616">:=</span>&nbsp;<span class="num" id="1033619">0</span><span class="op" id="1033620">;</span>&nbsp;<span class="ident" id="1033622">i</span>&nbsp;<span class="op" id="1033624">&lt;</span>&nbsp;<span class="ident" id="1033626">b</span><span class="op" id="1033627">.</span><span class="ident" id="1033628">N</span><span class="op" id="1033629">;</span>&nbsp;<span class="ident" id="1033631">i</span><span class="op" id="1033632">++</span>&nbsp;<span class="op" id="1033635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033639">ParseFloat</span><span class="op" id="1033649">(</span><span class="string" id="1033650">&#34;12.3456e32&#34;</span><span class="op" id="1033662">,</span>&nbsp;<span class="num" id="1033664">32</span><span class="op" id="1033666">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033669">}</span><br>
<span class="lineno"></span><span class="op" id="1033671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1033674">var</span>&nbsp;<span class="ident" id="1033678">float32strings</span>&nbsp;<span class="op" id="1033693">[</span><span class="num" id="1033694">4096</span><span class="op" id="1033698">]</span><span class="builtintype" id="1033699">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="1033707">func</span>&nbsp;<span class="ident" id="1033712">BenchmarkAtof32Random</span><span class="op" id="1033733">(</span><span class="ident" id="1033734">b</span>&nbsp;<span class="op" id="1033736">*</span><span class="ident" id="1033737">testing</span><span class="op" id="1033744">.</span><span class="ident" id="1033745">B</span><span class="op" id="1033746">)</span>&nbsp;<span class="op" id="1033748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033751">n</span>&nbsp;<span class="op" id="1033753">:=</span>&nbsp;<span class="builtintype" id="1033756">uint32</span><span class="op" id="1033762">(</span><span class="num" id="1033763">997</span><span class="op" id="1033766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033769">for</span>&nbsp;<span class="ident" id="1033773">i</span>&nbsp;<span class="op" id="1033775">:=</span>&nbsp;<span class="keyword" id="1033778">range</span>&nbsp;<span class="ident" id="1033784">float32strings</span>&nbsp;<span class="op" id="1033799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033803">n</span>&nbsp;<span class="op" id="1033805">=</span>&nbsp;<span class="op" id="1033807">(</span><span class="num" id="1033808">99991</span><span class="op" id="1033813">*</span><span class="ident" id="1033814">n</span>&nbsp;<span class="op" id="1033816">+</span>&nbsp;<span class="num" id="1033818">42</span><span class="op" id="1033820">)</span>&nbsp;<span class="op" id="1033822">%</span>&nbsp;<span class="op" id="1033824">(</span><span class="num" id="1033825">0xff</span>&nbsp;<span class="op" id="1033830">&lt;&lt;</span>&nbsp;<span class="num" id="1033833">23</span><span class="op" id="1033835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033839">float32strings</span><span class="op" id="1033853">[</span><span class="ident" id="1033854">i</span><span class="op" id="1033855">]</span>&nbsp;<span class="op" id="1033857">=</span>&nbsp;<span class="ident" id="1033859">FormatFloat</span><span class="op" id="1033870">(</span><span class="builtintype" id="1033871">float64</span><span class="op" id="1033878">(</span><span class="ident" id="1033879">math</span><span class="op" id="1033883">.</span><span class="ident" id="1033884">Float32frombits</span><span class="op" id="1033899">(</span><span class="ident" id="1033900">n</span><span class="op" id="1033901">)</span><span class="op" id="1033902">)</span><span class="op" id="1033903">,</span>&nbsp;<span class="string" id="1033905">&#39;g&#39;</span><span class="op" id="1033908">,</span>&nbsp;<span class="op" id="1033910">-</span><span class="num" id="1033911">1</span><span class="op" id="1033912">,</span>&nbsp;<span class="num" id="1033914">32</span><span class="op" id="1033916">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1033919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033922">b</span><span class="op" id="1033923">.</span><span class="ident" id="1033924">ResetTimer</span><span class="op" id="1033934">(</span><span class="op" id="1033935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1033938">for</span>&nbsp;<span class="ident" id="1033942">i</span>&nbsp;<span class="op" id="1033944">:=</span>&nbsp;<span class="num" id="1033947">0</span><span class="op" id="1033948">;</span>&nbsp;<span class="ident" id="1033950">i</span>&nbsp;<span class="op" id="1033952">&lt;</span>&nbsp;<span class="ident" id="1033954">b</span><span class="op" id="1033955">.</span><span class="ident" id="1033956">N</span><span class="op" id="1033957">;</span>&nbsp;<span class="ident" id="1033959">i</span><span class="op" id="1033960">++</span>&nbsp;<span class="op" id="1033963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1033967">ParseFloat</span><span class="op" id="1033977">(</span><span class="ident" id="1033978">float32strings</span><span class="op" id="1033992">[</span><span class="ident" id="1033993">i</span><span class="op" id="1033994">%</span><span class="num" id="1033995">4096</span><span class="op" id="1033999">]</span><span class="op" id="1034000">,</span>&nbsp;<span class="num" id="1034002">32</span><span class="op" id="1034004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1034007">}</span><br>
<span class="lineno">430</span><span class="op" id="1034009">}</span>
</div>
</body>
</html>
