<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7748024">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7748080">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7748134">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7748185">package</span>&nbsp;<span class="ident" id="7748193">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7748201">import</span>&nbsp;<span class="op" id="7748208">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7748211">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7748220">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7748227">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7748238">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7748248">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7748251">type</span>&nbsp;<span class="ident" id="7748256">parseTest</span>&nbsp;<span class="keyword" id="7748266">struct</span>&nbsp;<span class="op" id="7748273">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7748276">Regexp</span>&nbsp;<span class="builtintype" id="7748283">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7748291">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7748298">string</span><br>
<span class="lineno"></span><span class="op" id="7748305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7748308">var</span>&nbsp;<span class="ident" id="7748312">parseTests</span>&nbsp;<span class="op" id="7748323">=</span>&nbsp;<span class="op" id="7748325">[</span><span class="op" id="7748326">]</span><span class="ident" id="7748327">parseTest</span><span class="op" id="7748336">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7748339">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748354">{</span><span class="string" id="7748355">`a`</span><span class="op" id="7748358">,</span>&nbsp;<span class="string" id="7748360">`lit{a}`</span><span class="op" id="7748368">}</span><span class="op" id="7748369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748372">{</span><span class="string" id="7748373">`a.`</span><span class="op" id="7748377">,</span>&nbsp;<span class="string" id="7748379">`cat{lit{a}dot{}}`</span><span class="op" id="7748397">}</span><span class="op" id="7748398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748401">{</span><span class="string" id="7748402">`a.b`</span><span class="op" id="7748407">,</span>&nbsp;<span class="string" id="7748409">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7748433">}</span><span class="op" id="7748434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748437">{</span><span class="string" id="7748438">`ab`</span><span class="op" id="7748442">,</span>&nbsp;<span class="string" id="7748444">`str{ab}`</span><span class="op" id="7748453">}</span><span class="op" id="7748454">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748457">{</span><span class="string" id="7748458">`a.b.c`</span><span class="op" id="7748465">,</span>&nbsp;<span class="string" id="7748467">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7748502">}</span><span class="op" id="7748503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748506">{</span><span class="string" id="7748507">`abc`</span><span class="op" id="7748512">,</span>&nbsp;<span class="string" id="7748514">`str{abc}`</span><span class="op" id="7748524">}</span><span class="op" id="7748525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748528">{</span><span class="string" id="7748529">`a|^`</span><span class="op" id="7748534">,</span>&nbsp;<span class="string" id="7748536">`alt{lit{a}bol{}}`</span><span class="op" id="7748554">}</span><span class="op" id="7748555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748558">{</span><span class="string" id="7748559">`a|b`</span><span class="op" id="7748564">,</span>&nbsp;<span class="string" id="7748566">`cc{0x61-0x62}`</span><span class="op" id="7748581">}</span><span class="op" id="7748582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748585">{</span><span class="string" id="7748586">`(a)`</span><span class="op" id="7748591">,</span>&nbsp;<span class="string" id="7748593">`cap{lit{a}}`</span><span class="op" id="7748606">}</span><span class="op" id="7748607">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748610">{</span><span class="string" id="7748611">`(a)|b`</span><span class="op" id="7748618">,</span>&nbsp;<span class="string" id="7748620">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7748644">}</span><span class="op" id="7748645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748648">{</span><span class="string" id="7748649">`a*`</span><span class="op" id="7748653">,</span>&nbsp;<span class="string" id="7748655">`star{lit{a}}`</span><span class="op" id="7748669">}</span><span class="op" id="7748670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748673">{</span><span class="string" id="7748674">`a+`</span><span class="op" id="7748678">,</span>&nbsp;<span class="string" id="7748680">`plus{lit{a}}`</span><span class="op" id="7748694">}</span><span class="op" id="7748695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748698">{</span><span class="string" id="7748699">`a?`</span><span class="op" id="7748703">,</span>&nbsp;<span class="string" id="7748705">`que{lit{a}}`</span><span class="op" id="7748718">}</span><span class="op" id="7748719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748722">{</span><span class="string" id="7748723">`a{2}`</span><span class="op" id="7748729">,</span>&nbsp;<span class="string" id="7748731">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7748748">}</span><span class="op" id="7748749">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748752">{</span><span class="string" id="7748753">`a{2,3}`</span><span class="op" id="7748761">,</span>&nbsp;<span class="string" id="7748763">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7748780">}</span><span class="op" id="7748781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748784">{</span><span class="string" id="7748785">`a{2,}`</span><span class="op" id="7748792">,</span>&nbsp;<span class="string" id="7748794">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7748812">}</span><span class="op" id="7748813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748816">{</span><span class="string" id="7748817">`a*?`</span><span class="op" id="7748822">,</span>&nbsp;<span class="string" id="7748824">`nstar{lit{a}}`</span><span class="op" id="7748839">}</span><span class="op" id="7748840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748843">{</span><span class="string" id="7748844">`a+?`</span><span class="op" id="7748849">,</span>&nbsp;<span class="string" id="7748851">`nplus{lit{a}}`</span><span class="op" id="7748866">}</span><span class="op" id="7748867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748870">{</span><span class="string" id="7748871">`a??`</span><span class="op" id="7748876">,</span>&nbsp;<span class="string" id="7748878">`nque{lit{a}}`</span><span class="op" id="7748892">}</span><span class="op" id="7748893">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748896">{</span><span class="string" id="7748897">`a{2}?`</span><span class="op" id="7748904">,</span>&nbsp;<span class="string" id="7748906">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7748924">}</span><span class="op" id="7748925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748928">{</span><span class="string" id="7748929">`a{2,3}?`</span><span class="op" id="7748938">,</span>&nbsp;<span class="string" id="7748940">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7748958">}</span><span class="op" id="7748959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7748962">{</span><span class="string" id="7748963">`a{2,}?`</span><span class="op" id="7748971">,</span>&nbsp;<span class="string" id="7748973">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7748992">}</span><span class="op" id="7748993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7748996">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749039">{</span><span class="string" id="7749040">`x{1001`</span><span class="op" id="7749048">,</span>&nbsp;<span class="string" id="7749050">`str{x{1001}`</span><span class="op" id="7749063">}</span><span class="op" id="7749064">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749067">{</span><span class="string" id="7749068">`x{9876543210`</span><span class="op" id="7749082">,</span>&nbsp;<span class="string" id="7749084">`str{x{9876543210}`</span><span class="op" id="7749103">}</span><span class="op" id="7749104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749107">{</span><span class="string" id="7749108">`x{9876543210,`</span><span class="op" id="7749123">,</span>&nbsp;<span class="string" id="7749125">`str{x{9876543210,}`</span><span class="op" id="7749145">}</span><span class="op" id="7749146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749149">{</span><span class="string" id="7749150">`x{2,1`</span><span class="op" id="7749157">,</span>&nbsp;<span class="string" id="7749159">`str{x{2,1}`</span><span class="op" id="7749171">}</span><span class="op" id="7749172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749175">{</span><span class="string" id="7749176">`x{1,9876543210`</span><span class="op" id="7749192">,</span>&nbsp;<span class="string" id="7749194">`str{x{1,9876543210}`</span><span class="op" id="7749215">}</span><span class="op" id="7749216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749219">{</span><span class="string" id="7749220">``</span><span class="op" id="7749222">,</span>&nbsp;<span class="string" id="7749224">`emp{}`</span><span class="op" id="7749231">}</span><span class="op" id="7749232">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749235">{</span><span class="string" id="7749236">`|`</span><span class="op" id="7749239">,</span>&nbsp;<span class="string" id="7749241">`emp{}`</span><span class="op" id="7749248">}</span><span class="op" id="7749249">,</span>&nbsp;<span class="comment" id="7749251">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749288">{</span><span class="string" id="7749289">`|x|`</span><span class="op" id="7749294">,</span>&nbsp;<span class="string" id="7749296">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7749319">}</span><span class="op" id="7749320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749323">{</span><span class="string" id="7749324">`.`</span><span class="op" id="7749327">,</span>&nbsp;<span class="string" id="7749329">`dot{}`</span><span class="op" id="7749336">}</span><span class="op" id="7749337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749340">{</span><span class="string" id="7749341">`^`</span><span class="op" id="7749344">,</span>&nbsp;<span class="string" id="7749346">`bol{}`</span><span class="op" id="7749353">}</span><span class="op" id="7749354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749357">{</span><span class="string" id="7749358">`$`</span><span class="op" id="7749361">,</span>&nbsp;<span class="string" id="7749363">`eol{}`</span><span class="op" id="7749370">}</span><span class="op" id="7749371">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749374">{</span><span class="string" id="7749375">`\|`</span><span class="op" id="7749379">,</span>&nbsp;<span class="string" id="7749381">`lit{|}`</span><span class="op" id="7749389">}</span><span class="op" id="7749390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749393">{</span><span class="string" id="7749394">`\(`</span><span class="op" id="7749398">,</span>&nbsp;<span class="string" id="7749400">`lit{(}`</span><span class="op" id="7749408">}</span><span class="op" id="7749409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749412">{</span><span class="string" id="7749413">`\)`</span><span class="op" id="7749417">,</span>&nbsp;<span class="string" id="7749419">`lit{)}`</span><span class="op" id="7749427">}</span><span class="op" id="7749428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749431">{</span><span class="string" id="7749432">`\*`</span><span class="op" id="7749436">,</span>&nbsp;<span class="string" id="7749438">`lit{*}`</span><span class="op" id="7749446">}</span><span class="op" id="7749447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749450">{</span><span class="string" id="7749451">`\+`</span><span class="op" id="7749455">,</span>&nbsp;<span class="string" id="7749457">`lit{+}`</span><span class="op" id="7749465">}</span><span class="op" id="7749466">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749469">{</span><span class="string" id="7749470">`\?`</span><span class="op" id="7749474">,</span>&nbsp;<span class="string" id="7749476">`lit{?}`</span><span class="op" id="7749484">}</span><span class="op" id="7749485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749488">{</span><span class="string" id="7749489">`{`</span><span class="op" id="7749492">,</span>&nbsp;<span class="string" id="7749494">`lit{{}`</span><span class="op" id="7749502">}</span><span class="op" id="7749503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749506">{</span><span class="string" id="7749507">`}`</span><span class="op" id="7749510">,</span>&nbsp;<span class="string" id="7749512">`lit{}}`</span><span class="op" id="7749520">}</span><span class="op" id="7749521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749524">{</span><span class="string" id="7749525">`\.`</span><span class="op" id="7749529">,</span>&nbsp;<span class="string" id="7749531">`lit{.}`</span><span class="op" id="7749539">}</span><span class="op" id="7749540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749543">{</span><span class="string" id="7749544">`\^`</span><span class="op" id="7749548">,</span>&nbsp;<span class="string" id="7749550">`lit{^}`</span><span class="op" id="7749558">}</span><span class="op" id="7749559">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749562">{</span><span class="string" id="7749563">`\$`</span><span class="op" id="7749567">,</span>&nbsp;<span class="string" id="7749569">`lit{$}`</span><span class="op" id="7749577">}</span><span class="op" id="7749578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749581">{</span><span class="string" id="7749582">`\\`</span><span class="op" id="7749586">,</span>&nbsp;<span class="string" id="7749588">`lit{\}`</span><span class="op" id="7749596">}</span><span class="op" id="7749597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749600">{</span><span class="string" id="7749601">`[ace]`</span><span class="op" id="7749608">,</span>&nbsp;<span class="string" id="7749610">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7749630">}</span><span class="op" id="7749631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749634">{</span><span class="string" id="7749635">`[abc]`</span><span class="op" id="7749642">,</span>&nbsp;<span class="string" id="7749644">`cc{0x61-0x63}`</span><span class="op" id="7749659">}</span><span class="op" id="7749660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749663">{</span><span class="string" id="7749664">`[a-z]`</span><span class="op" id="7749671">,</span>&nbsp;<span class="string" id="7749673">`cc{0x61-0x7a}`</span><span class="op" id="7749688">}</span><span class="op" id="7749689">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749692">{</span><span class="string" id="7749693">`[a]`</span><span class="op" id="7749698">,</span>&nbsp;<span class="string" id="7749700">`lit{a}`</span><span class="op" id="7749708">}</span><span class="op" id="7749709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749712">{</span><span class="string" id="7749713">`\-`</span><span class="op" id="7749717">,</span>&nbsp;<span class="string" id="7749719">`lit{-}`</span><span class="op" id="7749727">}</span><span class="op" id="7749728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749731">{</span><span class="string" id="7749732">`-`</span><span class="op" id="7749735">,</span>&nbsp;<span class="string" id="7749737">`lit{-}`</span><span class="op" id="7749745">}</span><span class="op" id="7749746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749749">{</span><span class="string" id="7749750">`\_`</span><span class="op" id="7749754">,</span>&nbsp;<span class="string" id="7749756">`lit{_}`</span><span class="op" id="7749764">}</span><span class="op" id="7749765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749768">{</span><span class="string" id="7749769">`abc`</span><span class="op" id="7749774">,</span>&nbsp;<span class="string" id="7749776">`str{abc}`</span><span class="op" id="7749786">}</span><span class="op" id="7749787">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749790">{</span><span class="string" id="7749791">`abc|def`</span><span class="op" id="7749800">,</span>&nbsp;<span class="string" id="7749802">`alt{str{abc}str{def}}`</span><span class="op" id="7749825">}</span><span class="op" id="7749826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749829">{</span><span class="string" id="7749830">`abc|def|ghi`</span><span class="op" id="7749843">,</span>&nbsp;<span class="string" id="7749845">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7749876">}</span><span class="op" id="7749877">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7749881">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749911">{</span><span class="string" id="7749912">`[[:lower:]]`</span><span class="op" id="7749925">,</span>&nbsp;<span class="string" id="7749927">`cc{0x61-0x7a}`</span><span class="op" id="7749942">}</span><span class="op" id="7749943">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749946">{</span><span class="string" id="7749947">`[a-z]`</span><span class="op" id="7749954">,</span>&nbsp;<span class="string" id="7749956">`cc{0x61-0x7a}`</span><span class="op" id="7749971">}</span><span class="op" id="7749972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7749975">{</span><span class="string" id="7749976">`[^[:lower:]]`</span><span class="op" id="7749990">,</span>&nbsp;<span class="string" id="7749992">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7750020">}</span><span class="op" id="7750021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750024">{</span><span class="string" id="7750025">`[[:^lower:]]`</span><span class="op" id="7750039">,</span>&nbsp;<span class="string" id="7750041">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7750069">}</span><span class="op" id="7750070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750073">{</span><span class="string" id="7750074">`(?i)[[:lower:]]`</span><span class="op" id="7750091">,</span>&nbsp;<span class="string" id="7750093">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7750131">}</span><span class="op" id="7750132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750135">{</span><span class="string" id="7750136">`(?i)[a-z]`</span><span class="op" id="7750147">,</span>&nbsp;<span class="string" id="7750149">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7750187">}</span><span class="op" id="7750188">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750191">{</span><span class="string" id="7750192">`(?i)[^[:lower:]]`</span><span class="op" id="7750210">,</span>&nbsp;<span class="string" id="7750212">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7750276">}</span><span class="op" id="7750277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750280">{</span><span class="string" id="7750281">`(?i)[[:^lower:]]`</span><span class="op" id="7750299">,</span>&nbsp;<span class="string" id="7750301">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7750365">}</span><span class="op" id="7750366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750369">{</span><span class="string" id="7750370">`\d`</span><span class="op" id="7750374">,</span>&nbsp;<span class="string" id="7750376">`cc{0x30-0x39}`</span><span class="op" id="7750391">}</span><span class="op" id="7750392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750395">{</span><span class="string" id="7750396">`\D`</span><span class="op" id="7750400">,</span>&nbsp;<span class="string" id="7750402">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7750430">}</span><span class="op" id="7750431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750434">{</span><span class="string" id="7750435">`\s`</span><span class="op" id="7750439">,</span>&nbsp;<span class="string" id="7750441">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7750467">}</span><span class="op" id="7750468">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750471">{</span><span class="string" id="7750472">`\S`</span><span class="op" id="7750476">,</span>&nbsp;<span class="string" id="7750478">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7750518">}</span><span class="op" id="7750519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750522">{</span><span class="string" id="7750523">`\w`</span><span class="op" id="7750527">,</span>&nbsp;<span class="string" id="7750529">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7750569">}</span><span class="op" id="7750570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750573">{</span><span class="string" id="7750574">`\W`</span><span class="op" id="7750578">,</span>&nbsp;<span class="string" id="7750580">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7750633">}</span><span class="op" id="7750634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750637">{</span><span class="string" id="7750638">`(?i)\w`</span><span class="op" id="7750646">,</span>&nbsp;<span class="string" id="7750648">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7750701">}</span><span class="op" id="7750702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750705">{</span><span class="string" id="7750706">`(?i)\W`</span><span class="op" id="7750714">,</span>&nbsp;<span class="string" id="7750716">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7750795">}</span><span class="op" id="7750796">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750799">{</span><span class="string" id="7750800">`[^\\]`</span><span class="op" id="7750807">,</span>&nbsp;<span class="string" id="7750809">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7750837">}</span><span class="op" id="7750838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7750841">//&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7750885">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750932">{</span><span class="string" id="7750933">`\p{Braille}`</span><span class="op" id="7750946">,</span>&nbsp;<span class="string" id="7750948">`cc{0x2800-0x28ff}`</span><span class="op" id="7750967">}</span><span class="op" id="7750968">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7750971">{</span><span class="string" id="7750972">`\P{Braille}`</span><span class="op" id="7750985">,</span>&nbsp;<span class="string" id="7750987">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7751019">}</span><span class="op" id="7751020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751023">{</span><span class="string" id="7751024">`\p{^Braille}`</span><span class="op" id="7751038">,</span>&nbsp;<span class="string" id="7751040">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7751072">}</span><span class="op" id="7751073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751076">{</span><span class="string" id="7751077">`\P{^Braille}`</span><span class="op" id="7751091">,</span>&nbsp;<span class="string" id="7751093">`cc{0x2800-0x28ff}`</span><span class="op" id="7751112">}</span><span class="op" id="7751113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751116">{</span><span class="string" id="7751117">`\pZ`</span><span class="op" id="7751122">,</span>&nbsp;<span class="string" id="7751124">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7751195">}</span><span class="op" id="7751196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751199">{</span><span class="string" id="7751200">`[\p{Braille}]`</span><span class="op" id="7751215">,</span>&nbsp;<span class="string" id="7751217">`cc{0x2800-0x28ff}`</span><span class="op" id="7751236">}</span><span class="op" id="7751237">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751240">{</span><span class="string" id="7751241">`[\P{Braille}]`</span><span class="op" id="7751256">,</span>&nbsp;<span class="string" id="7751258">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7751290">}</span><span class="op" id="7751291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751294">{</span><span class="string" id="7751295">`[\p{^Braille}]`</span><span class="op" id="7751311">,</span>&nbsp;<span class="string" id="7751313">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7751345">}</span><span class="op" id="7751346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751349">{</span><span class="string" id="7751350">`[\P{^Braille}]`</span><span class="op" id="7751366">,</span>&nbsp;<span class="string" id="7751368">`cc{0x2800-0x28ff}`</span><span class="op" id="7751387">}</span><span class="op" id="7751388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751391">{</span><span class="string" id="7751392">`[\pZ]`</span><span class="op" id="7751399">,</span>&nbsp;<span class="string" id="7751401">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7751472">}</span><span class="op" id="7751473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751476">{</span><span class="string" id="7751477">`\p{Lu}`</span><span class="op" id="7751485">,</span>&nbsp;<span class="ident" id="7751487">mkCharClass</span><span class="op" id="7751498">(</span><span class="ident" id="7751499">unicode</span><span class="op" id="7751506">.</span><span class="ident" id="7751507">IsUpper</span><span class="op" id="7751514">)</span><span class="op" id="7751515">}</span><span class="op" id="7751516">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751519">{</span><span class="string" id="7751520">`[\p{Lu}]`</span><span class="op" id="7751530">,</span>&nbsp;<span class="ident" id="7751532">mkCharClass</span><span class="op" id="7751543">(</span><span class="ident" id="7751544">unicode</span><span class="op" id="7751551">.</span><span class="ident" id="7751552">IsUpper</span><span class="op" id="7751559">)</span><span class="op" id="7751560">}</span><span class="op" id="7751561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751564">{</span><span class="string" id="7751565">`(?i)[\p{Lu}]`</span><span class="op" id="7751579">,</span>&nbsp;<span class="ident" id="7751581">mkCharClass</span><span class="op" id="7751592">(</span><span class="ident" id="7751593">isUpperFold</span><span class="op" id="7751604">)</span><span class="op" id="7751605">}</span><span class="op" id="7751606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751609">{</span><span class="string" id="7751610">`\p{Any}`</span><span class="op" id="7751619">,</span>&nbsp;<span class="string" id="7751621">`dot{}`</span><span class="op" id="7751628">}</span><span class="op" id="7751629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751632">{</span><span class="string" id="7751633">`\p{^Any}`</span><span class="op" id="7751643">,</span>&nbsp;<span class="string" id="7751645">`cc{}`</span><span class="op" id="7751651">}</span><span class="op" id="7751652">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7751656">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751672">{</span><span class="string" id="7751673">`[\012-\234]\141`</span><span class="op" id="7751690">,</span>&nbsp;<span class="string" id="7751692">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7751717">}</span><span class="op" id="7751718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751721">{</span><span class="string" id="7751722">`[\x{41}-\x7a]\x61`</span><span class="op" id="7751741">,</span>&nbsp;<span class="string" id="7751743">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7751769">}</span><span class="op" id="7751770">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7751774">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751816">{</span><span class="string" id="7751817">`a{,2}`</span><span class="op" id="7751824">,</span>&nbsp;<span class="string" id="7751826">`str{a{,2}}`</span><span class="op" id="7751838">}</span><span class="op" id="7751839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751842">{</span><span class="string" id="7751843">`\.\^\$\\`</span><span class="op" id="7751853">,</span>&nbsp;<span class="string" id="7751855">`str{.^$\}`</span><span class="op" id="7751866">}</span><span class="op" id="7751867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751870">{</span><span class="string" id="7751871">`[a-zABC]`</span><span class="op" id="7751881">,</span>&nbsp;<span class="string" id="7751883">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7751908">}</span><span class="op" id="7751909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751912">{</span><span class="string" id="7751913">`[^a]`</span><span class="op" id="7751919">,</span>&nbsp;<span class="string" id="7751921">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7751949">}</span><span class="op" id="7751950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7751953">{</span><span class="string" id="7751954">`[α-ε☺]`</span><span class="op" id="7751966">,</span>&nbsp;<span class="string" id="7751968">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7751992">}</span><span class="op" id="7751993">,</span>&nbsp;<span class="comment" id="7751995">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752005">{</span><span class="string" id="7752006">`a*{`</span><span class="op" id="7752011">,</span>&nbsp;<span class="string" id="7752013">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7752038">}</span><span class="op" id="7752039">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7752043">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752064">{</span><span class="string" id="7752065">`(?:ab)*`</span><span class="op" id="7752074">,</span>&nbsp;<span class="string" id="7752076">`star{str{ab}}`</span><span class="op" id="7752091">}</span><span class="op" id="7752092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752095">{</span><span class="string" id="7752096">`(ab)*`</span><span class="op" id="7752103">,</span>&nbsp;<span class="string" id="7752105">`star{cap{str{ab}}}`</span><span class="op" id="7752125">}</span><span class="op" id="7752126">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752129">{</span><span class="string" id="7752130">`ab|cd`</span><span class="op" id="7752137">,</span>&nbsp;<span class="string" id="7752139">`alt{str{ab}str{cd}}`</span><span class="op" id="7752160">}</span><span class="op" id="7752161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752164">{</span><span class="string" id="7752165">`a(b|c)d`</span><span class="op" id="7752174">,</span>&nbsp;<span class="string" id="7752176">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7752213">}</span><span class="op" id="7752214">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7752218">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752239">{</span><span class="string" id="7752240">`(?:a)`</span><span class="op" id="7752247">,</span>&nbsp;<span class="string" id="7752249">`lit{a}`</span><span class="op" id="7752257">}</span><span class="op" id="7752258">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752261">{</span><span class="string" id="7752262">`(?:ab)(?:cd)`</span><span class="op" id="7752276">,</span>&nbsp;<span class="string" id="7752278">`str{abcd}`</span><span class="op" id="7752289">}</span><span class="op" id="7752290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752293">{</span><span class="string" id="7752294">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7752312">,</span>&nbsp;<span class="string" id="7752314">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7752369">}</span><span class="op" id="7752370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752373">{</span><span class="string" id="7752374">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7752395">,</span>&nbsp;<span class="string" id="7752397">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7752452">}</span><span class="op" id="7752453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752456">{</span><span class="string" id="7752457">`(?:a|b)|(?:c|d)`</span><span class="op" id="7752474">,</span>&nbsp;<span class="string" id="7752476">`cc{0x61-0x64}`</span><span class="op" id="7752491">}</span><span class="op" id="7752492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752495">{</span><span class="string" id="7752496">`a|.`</span><span class="op" id="7752501">,</span>&nbsp;<span class="string" id="7752503">`dot{}`</span><span class="op" id="7752510">}</span><span class="op" id="7752511">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752514">{</span><span class="string" id="7752515">`.|a`</span><span class="op" id="7752520">,</span>&nbsp;<span class="string" id="7752522">`dot{}`</span><span class="op" id="7752529">}</span><span class="op" id="7752530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752533">{</span><span class="string" id="7752534">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7752561">,</span>&nbsp;<span class="string" id="7752563">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7752613">}</span><span class="op" id="7752614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752617">{</span><span class="string" id="7752618">`(?:[abc]|A|Z)`</span><span class="op" id="7752633">,</span>&nbsp;<span class="string" id="7752635">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7752660">}</span><span class="op" id="7752661">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7752665">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752695">{</span><span class="string" id="7752696">`\Q+|*?{[\E`</span><span class="op" id="7752708">,</span>&nbsp;<span class="string" id="7752710">`str{+|*?{[}`</span><span class="op" id="7752723">}</span><span class="op" id="7752724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752727">{</span><span class="string" id="7752728">`\Q+\E+`</span><span class="op" id="7752736">,</span>&nbsp;<span class="string" id="7752738">`plus{lit{+}}`</span><span class="op" id="7752752">}</span><span class="op" id="7752753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752756">{</span><span class="string" id="7752757">`\Q\\E`</span><span class="op" id="7752764">,</span>&nbsp;<span class="string" id="7752766">`lit{\}`</span><span class="op" id="7752774">}</span><span class="op" id="7752775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752778">{</span><span class="string" id="7752779">`\Q\\\E`</span><span class="op" id="7752787">,</span>&nbsp;<span class="string" id="7752789">`str{\\}`</span><span class="op" id="7752798">}</span><span class="op" id="7752799">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7752803">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752827">{</span><span class="string" id="7752828">`(?m)^`</span><span class="op" id="7752835">,</span>&nbsp;<span class="string" id="7752837">`bol{}`</span><span class="op" id="7752844">}</span><span class="op" id="7752845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752848">{</span><span class="string" id="7752849">`(?m)$`</span><span class="op" id="7752856">,</span>&nbsp;<span class="string" id="7752858">`eol{}`</span><span class="op" id="7752865">}</span><span class="op" id="7752866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752869">{</span><span class="string" id="7752870">`(?-m)^`</span><span class="op" id="7752878">,</span>&nbsp;<span class="string" id="7752880">`bot{}`</span><span class="op" id="7752887">}</span><span class="op" id="7752888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752891">{</span><span class="string" id="7752892">`(?-m)$`</span><span class="op" id="7752900">,</span>&nbsp;<span class="string" id="7752902">`eot{}`</span><span class="op" id="7752909">}</span><span class="op" id="7752910">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752913">{</span><span class="string" id="7752914">`(?m)\A`</span><span class="op" id="7752922">,</span>&nbsp;<span class="string" id="7752924">`bot{}`</span><span class="op" id="7752931">}</span><span class="op" id="7752932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752935">{</span><span class="string" id="7752936">`(?m)\z`</span><span class="op" id="7752944">,</span>&nbsp;<span class="string" id="7752946">`eot{\z}`</span><span class="op" id="7752955">}</span><span class="op" id="7752956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752959">{</span><span class="string" id="7752960">`(?-m)\A`</span><span class="op" id="7752969">,</span>&nbsp;<span class="string" id="7752971">`bot{}`</span><span class="op" id="7752978">}</span><span class="op" id="7752979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7752982">{</span><span class="string" id="7752983">`(?-m)\z`</span><span class="op" id="7752992">,</span>&nbsp;<span class="string" id="7752994">`eot{\z}`</span><span class="op" id="7753003">}</span><span class="op" id="7753004">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7753008">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753032">{</span><span class="string" id="7753033">`(?P&lt;name&gt;a)`</span><span class="op" id="7753046">,</span>&nbsp;<span class="string" id="7753048">`cap{name:lit{a}}`</span><span class="op" id="7753066">}</span><span class="op" id="7753067">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7753071">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753096">{</span><span class="string" id="7753097">`[Aa]`</span><span class="op" id="7753103">,</span>&nbsp;<span class="string" id="7753105">`litfold{A}`</span><span class="op" id="7753117">}</span><span class="op" id="7753118">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753121">{</span><span class="string" id="7753122">`[\x{100}\x{101}]`</span><span class="op" id="7753140">,</span>&nbsp;<span class="string" id="7753142">`litfold{Ā}`</span><span class="op" id="7753155">}</span><span class="op" id="7753156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753159">{</span><span class="string" id="7753160">`[Δδ]`</span><span class="op" id="7753168">,</span>&nbsp;<span class="string" id="7753170">`litfold{Δ}`</span><span class="op" id="7753183">}</span><span class="op" id="7753184">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7753188">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753200">{</span><span class="string" id="7753201">`abcde`</span><span class="op" id="7753208">,</span>&nbsp;<span class="string" id="7753210">`str{abcde}`</span><span class="op" id="7753222">}</span><span class="op" id="7753223">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753226">{</span><span class="string" id="7753227">`[Aa][Bb]cd`</span><span class="op" id="7753239">,</span>&nbsp;<span class="string" id="7753241">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7753266">}</span><span class="op" id="7753267">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7753271">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753286">{</span><span class="string" id="7753287">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7753308">,</span>&nbsp;<span class="string" id="7753310">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7753389">}</span><span class="op" id="7753390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753393">{</span><span class="string" id="7753394">`ax+y|ax+z|ay+w`</span><span class="op" id="7753410">,</span>&nbsp;<span class="string" id="7753412">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7753483">}</span><span class="op" id="7753484">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7753488">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753503">{</span><span class="string" id="7753504">`(?:.)`</span><span class="op" id="7753511">,</span>&nbsp;<span class="string" id="7753513">`dot{}`</span><span class="op" id="7753520">}</span><span class="op" id="7753521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753524">{</span><span class="string" id="7753525">`(?:x|(?:xa))`</span><span class="op" id="7753539">,</span>&nbsp;<span class="string" id="7753541">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7753570">}</span><span class="op" id="7753571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753574">{</span><span class="string" id="7753575">`(?:.|(?:.a))`</span><span class="op" id="7753589">,</span>&nbsp;<span class="string" id="7753591">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7753619">}</span><span class="op" id="7753620">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753623">{</span><span class="string" id="7753624">`(?:A(?:A|a))`</span><span class="op" id="7753638">,</span>&nbsp;<span class="string" id="7753640">`cat{lit{A}litfold{A}}`</span><span class="op" id="7753663">}</span><span class="op" id="7753664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753667">{</span><span class="string" id="7753668">`(?:A|a)`</span><span class="op" id="7753677">,</span>&nbsp;<span class="string" id="7753679">`litfold{A}`</span><span class="op" id="7753691">}</span><span class="op" id="7753692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753695">{</span><span class="string" id="7753696">`A|(?:A|a)`</span><span class="op" id="7753707">,</span>&nbsp;<span class="string" id="7753709">`litfold{A}`</span><span class="op" id="7753721">}</span><span class="op" id="7753722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753725">{</span><span class="string" id="7753726">`(?s).`</span><span class="op" id="7753733">,</span>&nbsp;<span class="string" id="7753735">`dot{}`</span><span class="op" id="7753742">}</span><span class="op" id="7753743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753746">{</span><span class="string" id="7753747">`(?-s).`</span><span class="op" id="7753755">,</span>&nbsp;<span class="string" id="7753757">`dnl{}`</span><span class="op" id="7753764">}</span><span class="op" id="7753765">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753768">{</span><span class="string" id="7753769">`(?:(?:^).)`</span><span class="op" id="7753781">,</span>&nbsp;<span class="string" id="7753783">`cat{bol{}dot{}}`</span><span class="op" id="7753800">}</span><span class="op" id="7753801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753804">{</span><span class="string" id="7753805">`(?-s)(?:(?:^).)`</span><span class="op" id="7753822">,</span>&nbsp;<span class="string" id="7753824">`cat{bol{}dnl{}}`</span><span class="op" id="7753841">}</span><span class="op" id="7753842">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7753846">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753867">{</span><span class="string" id="7753868">`abc|abd`</span><span class="op" id="7753877">,</span>&nbsp;<span class="string" id="7753879">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7753906">}</span><span class="op" id="7753907">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753910">{</span><span class="string" id="7753911">`a(?:b)c|abd`</span><span class="op" id="7753924">,</span>&nbsp;<span class="string" id="7753926">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7753953">}</span><span class="op" id="7753954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7753957">{</span><span class="string" id="7753958">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7753979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7753983">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7754037">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754042">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7754070">}</span><span class="op" id="7754071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754074">{</span><span class="string" id="7754075">`abc|x|abd`</span><span class="op" id="7754086">,</span>&nbsp;<span class="string" id="7754088">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7754117">}</span><span class="op" id="7754118">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754121">{</span><span class="string" id="7754122">`(?i)abc|ABD`</span><span class="op" id="7754135">,</span>&nbsp;<span class="string" id="7754137">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7754178">}</span><span class="op" id="7754179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754182">{</span><span class="string" id="7754183">`[ab]c|[ab]d`</span><span class="op" id="7754196">,</span>&nbsp;<span class="string" id="7754198">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7754231">}</span><span class="op" id="7754232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754235">{</span><span class="string" id="7754236">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7754259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754263">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7754302">}</span><span class="op" id="7754303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754306">{</span><span class="string" id="7754307">`x{2}|x{2}[0-9]`</span><span class="op" id="7754323">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754327">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7754372">}</span><span class="op" id="7754373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754376">{</span><span class="string" id="7754377">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7754395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754399">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7754456">}</span><span class="op" id="7754457">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7754461">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754484">{</span><span class="string" id="7754485">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7754535">,</span>&nbsp;<span class="string" id="7754537">``</span><span class="op" id="7754539">}</span><span class="op" id="7754540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754543">{</span><span class="string" id="7754544">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7754597">,</span>&nbsp;<span class="string" id="7754599">``</span><span class="op" id="7754601">}</span><span class="op" id="7754602">,</span><br>
<span class="lineno"></span><span class="op" id="7754604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7754607">const</span>&nbsp;<span class="ident" id="7754613">testFlags</span>&nbsp;<span class="op" id="7754623">=</span>&nbsp;<span class="ident" id="7754625">MatchNL</span>&nbsp;<span class="op" id="7754633">|</span>&nbsp;<span class="ident" id="7754635">PerlX</span>&nbsp;<span class="op" id="7754641">|</span>&nbsp;<span class="ident" id="7754643">UnicodeGroups</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7754658">func</span>&nbsp;<span class="ident" id="7754663">TestParseSimple</span><span class="op" id="7754678">(</span><span class="ident" id="7754679">t</span>&nbsp;<span class="op" id="7754681">*</span><span class="ident" id="7754682">testing</span><span class="op" id="7754689">.</span><span class="ident" id="7754690">T</span><span class="op" id="7754691">)</span>&nbsp;<span class="op" id="7754693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754696">testParseDump</span><span class="op" id="7754709">(</span><span class="ident" id="7754710">t</span><span class="op" id="7754711">,</span>&nbsp;<span class="ident" id="7754713">parseTests</span><span class="op" id="7754723">,</span>&nbsp;<span class="ident" id="7754725">testFlags</span><span class="op" id="7754734">)</span><br>
<span class="lineno"></span><span class="op" id="7754736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7754739">var</span>&nbsp;<span class="ident" id="7754743">foldcaseTests</span>&nbsp;<span class="op" id="7754757">=</span>&nbsp;<span class="op" id="7754759">[</span><span class="op" id="7754760">]</span><span class="ident" id="7754761">parseTest</span><span class="op" id="7754770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754773">{</span><span class="string" id="7754774">`AbCdE`</span><span class="op" id="7754781">,</span>&nbsp;<span class="string" id="7754783">`strfold{ABCDE}`</span><span class="op" id="7754799">}</span><span class="op" id="7754800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754803">{</span><span class="string" id="7754804">`[Aa]`</span><span class="op" id="7754810">,</span>&nbsp;<span class="string" id="7754812">`litfold{A}`</span><span class="op" id="7754824">}</span><span class="op" id="7754825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754828">{</span><span class="string" id="7754829">`a`</span><span class="op" id="7754832">,</span>&nbsp;<span class="string" id="7754834">`litfold{A}`</span><span class="op" id="7754846">}</span><span class="op" id="7754847">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7754851">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7754920">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754968">{</span><span class="string" id="7754969">`A[F-g]`</span><span class="op" id="7754977">,</span>&nbsp;<span class="string" id="7754979">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7755022">}</span><span class="op" id="7755023">,</span>&nbsp;<span class="comment" id="7755025">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755042">{</span><span class="string" id="7755043">`[[:upper:]]`</span><span class="op" id="7755056">,</span>&nbsp;<span class="string" id="7755058">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7755096">}</span><span class="op" id="7755097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755100">{</span><span class="string" id="7755101">`[[:lower:]]`</span><span class="op" id="7755114">,</span>&nbsp;<span class="string" id="7755116">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7755154">}</span><span class="op" id="7755155">,</span><br>
<span class="lineno">225</span><span class="op" id="7755157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7755160">func</span>&nbsp;<span class="ident" id="7755165">TestParseFoldCase</span><span class="op" id="7755182">(</span><span class="ident" id="7755183">t</span>&nbsp;<span class="op" id="7755185">*</span><span class="ident" id="7755186">testing</span><span class="op" id="7755193">.</span><span class="ident" id="7755194">T</span><span class="op" id="7755195">)</span>&nbsp;<span class="op" id="7755197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755200">testParseDump</span><span class="op" id="7755213">(</span><span class="ident" id="7755214">t</span><span class="op" id="7755215">,</span>&nbsp;<span class="ident" id="7755217">foldcaseTests</span><span class="op" id="7755230">,</span>&nbsp;<span class="ident" id="7755232">FoldCase</span><span class="op" id="7755240">)</span><br>
<span class="lineno"></span><span class="op" id="7755242">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7755245">var</span>&nbsp;<span class="ident" id="7755249">literalTests</span>&nbsp;<span class="op" id="7755262">=</span>&nbsp;<span class="op" id="7755264">[</span><span class="op" id="7755265">]</span><span class="ident" id="7755266">parseTest</span><span class="op" id="7755275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755278">{</span><span class="string" id="7755279">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7755301">,</span>&nbsp;<span class="string" id="7755303">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7755330">}</span><span class="op" id="7755331">,</span><br>
<span class="lineno"></span><span class="op" id="7755333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7755336">func</span>&nbsp;<span class="ident" id="7755341">TestParseLiteral</span><span class="op" id="7755357">(</span><span class="ident" id="7755358">t</span>&nbsp;<span class="op" id="7755360">*</span><span class="ident" id="7755361">testing</span><span class="op" id="7755368">.</span><span class="ident" id="7755369">T</span><span class="op" id="7755370">)</span>&nbsp;<span class="op" id="7755372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755375">testParseDump</span><span class="op" id="7755388">(</span><span class="ident" id="7755389">t</span><span class="op" id="7755390">,</span>&nbsp;<span class="ident" id="7755392">literalTests</span><span class="op" id="7755404">,</span>&nbsp;<span class="ident" id="7755406">Literal</span><span class="op" id="7755413">)</span><br>
<span class="lineno"></span><span class="op" id="7755415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7755418">var</span>&nbsp;<span class="ident" id="7755422">matchnlTests</span>&nbsp;<span class="op" id="7755435">=</span>&nbsp;<span class="op" id="7755437">[</span><span class="op" id="7755438">]</span><span class="ident" id="7755439">parseTest</span><span class="op" id="7755448">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755451">{</span><span class="string" id="7755452">`.`</span><span class="op" id="7755455">,</span>&nbsp;<span class="string" id="7755457">`dot{}`</span><span class="op" id="7755464">}</span><span class="op" id="7755465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755468">{</span><span class="string" id="7755469">&#34;\n&#34;</span><span class="op" id="7755473">,</span>&nbsp;<span class="string" id="7755475">&#34;lit{\n}&#34;</span><span class="op" id="7755484">}</span><span class="op" id="7755485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755488">{</span><span class="string" id="7755489">`[^a]`</span><span class="op" id="7755495">,</span>&nbsp;<span class="string" id="7755497">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7755525">}</span><span class="op" id="7755526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755529">{</span><span class="string" id="7755530">`[a\n]`</span><span class="op" id="7755537">,</span>&nbsp;<span class="string" id="7755539">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7755553">}</span><span class="op" id="7755554">,</span><br>
<span class="lineno"></span><span class="op" id="7755556">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7755559">func</span>&nbsp;<span class="ident" id="7755564">TestParseMatchNL</span><span class="op" id="7755580">(</span><span class="ident" id="7755581">t</span>&nbsp;<span class="op" id="7755583">*</span><span class="ident" id="7755584">testing</span><span class="op" id="7755591">.</span><span class="ident" id="7755592">T</span><span class="op" id="7755593">)</span>&nbsp;<span class="op" id="7755595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755598">testParseDump</span><span class="op" id="7755611">(</span><span class="ident" id="7755612">t</span><span class="op" id="7755613">,</span>&nbsp;<span class="ident" id="7755615">matchnlTests</span><span class="op" id="7755627">,</span>&nbsp;<span class="ident" id="7755629">MatchNL</span><span class="op" id="7755636">)</span><br>
<span class="lineno"></span><span class="op" id="7755638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7755641">var</span>&nbsp;<span class="ident" id="7755645">nomatchnlTests</span>&nbsp;<span class="op" id="7755660">=</span>&nbsp;<span class="op" id="7755662">[</span><span class="op" id="7755663">]</span><span class="ident" id="7755664">parseTest</span><span class="op" id="7755673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755676">{</span><span class="string" id="7755677">`.`</span><span class="op" id="7755680">,</span>&nbsp;<span class="string" id="7755682">`dnl{}`</span><span class="op" id="7755689">}</span><span class="op" id="7755690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755693">{</span><span class="string" id="7755694">&#34;\n&#34;</span><span class="op" id="7755698">,</span>&nbsp;<span class="string" id="7755700">&#34;lit{\n}&#34;</span><span class="op" id="7755709">}</span><span class="op" id="7755710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755713">{</span><span class="string" id="7755714">`[^a]`</span><span class="op" id="7755720">,</span>&nbsp;<span class="string" id="7755722">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7755758">}</span><span class="op" id="7755759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755762">{</span><span class="string" id="7755763">`[a\n]`</span><span class="op" id="7755770">,</span>&nbsp;<span class="string" id="7755772">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7755786">}</span><span class="op" id="7755787">,</span><br>
<span class="lineno">255</span><span class="op" id="7755789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7755792">func</span>&nbsp;<span class="ident" id="7755797">TestParseNoMatchNL</span><span class="op" id="7755815">(</span><span class="ident" id="7755816">t</span>&nbsp;<span class="op" id="7755818">*</span><span class="ident" id="7755819">testing</span><span class="op" id="7755826">.</span><span class="ident" id="7755827">T</span><span class="op" id="7755828">)</span>&nbsp;<span class="op" id="7755830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755833">testParseDump</span><span class="op" id="7755846">(</span><span class="ident" id="7755847">t</span><span class="op" id="7755848">,</span>&nbsp;<span class="ident" id="7755850">nomatchnlTests</span><span class="op" id="7755864">,</span>&nbsp;<span class="num" id="7755866">0</span><span class="op" id="7755867">)</span><br>
<span class="lineno"></span><span class="op" id="7755869">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7755872">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7755895">func</span>&nbsp;<span class="ident" id="7755900">testParseDump</span><span class="op" id="7755913">(</span><span class="ident" id="7755914">t</span>&nbsp;<span class="op" id="7755916">*</span><span class="ident" id="7755917">testing</span><span class="op" id="7755924">.</span><span class="ident" id="7755925">T</span><span class="op" id="7755926">,</span>&nbsp;<span class="ident" id="7755928">tests</span>&nbsp;<span class="op" id="7755934">[</span><span class="op" id="7755935">]</span><span class="ident" id="7755936">parseTest</span><span class="op" id="7755945">,</span>&nbsp;<span class="ident" id="7755947">flags</span>&nbsp;<span class="ident" id="7755953">Flags</span><span class="op" id="7755958">)</span>&nbsp;<span class="op" id="7755960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7755963">for</span>&nbsp;<span class="ident" id="7755967">_</span><span class="op" id="7755968">,</span>&nbsp;<span class="ident" id="7755970">tt</span>&nbsp;<span class="op" id="7755973">:=</span>&nbsp;<span class="keyword" id="7755976">range</span>&nbsp;<span class="ident" id="7755982">tests</span>&nbsp;<span class="op" id="7755988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755992">re</span><span class="op" id="7755994">,</span>&nbsp;<span class="ident" id="7755996">err</span>&nbsp;<span class="op" id="7756000">:=</span>&nbsp;<span class="ident" id="7756003">Parse</span><span class="op" id="7756008">(</span><span class="ident" id="7756009">tt</span><span class="op" id="7756011">.</span><span class="ident" id="7756012">Regexp</span><span class="op" id="7756018">,</span>&nbsp;<span class="ident" id="7756020">flags</span><span class="op" id="7756025">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756029">if</span>&nbsp;<span class="ident" id="7756032">err</span>&nbsp;<span class="op" id="7756036">!=</span>&nbsp;<span class="builtintype" id="7756039">nil</span>&nbsp;<span class="op" id="7756043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756048">t</span><span class="op" id="7756049">.</span><span class="ident" id="7756050">Errorf</span><span class="op" id="7756056">(</span><span class="string" id="7756057">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7756073">,</span>&nbsp;<span class="ident" id="7756075">tt</span><span class="op" id="7756077">.</span><span class="ident" id="7756078">Regexp</span><span class="op" id="7756084">,</span>&nbsp;<span class="ident" id="7756086">err</span><span class="op" id="7756089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756094">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7756105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756109">if</span>&nbsp;<span class="ident" id="7756112">tt</span><span class="op" id="7756114">.</span><span class="ident" id="7756115">Dump</span>&nbsp;<span class="op" id="7756120">==</span>&nbsp;<span class="string" id="7756123">&#34;&#34;</span>&nbsp;<span class="op" id="7756126">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7756131">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756174">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7756185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756189">d</span>&nbsp;<span class="op" id="7756191">:=</span>&nbsp;<span class="ident" id="7756194">dump</span><span class="op" id="7756198">(</span><span class="ident" id="7756199">re</span><span class="op" id="7756201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756205">if</span>&nbsp;<span class="ident" id="7756208">d</span>&nbsp;<span class="op" id="7756210">!=</span>&nbsp;<span class="ident" id="7756213">tt</span><span class="op" id="7756215">.</span><span class="ident" id="7756216">Dump</span>&nbsp;<span class="op" id="7756221">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756226">t</span><span class="op" id="7756227">.</span><span class="ident" id="7756228">Errorf</span><span class="op" id="7756234">(</span><span class="string" id="7756235">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7756269">,</span>&nbsp;<span class="ident" id="7756271">tt</span><span class="op" id="7756273">.</span><span class="ident" id="7756274">Regexp</span><span class="op" id="7756280">,</span>&nbsp;<span class="ident" id="7756282">d</span><span class="op" id="7756283">,</span>&nbsp;<span class="ident" id="7756285">tt</span><span class="op" id="7756287">.</span><span class="ident" id="7756288">Dump</span><span class="op" id="7756292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7756296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7756299">}</span><br>
<span class="lineno"></span><span class="op" id="7756301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7756304">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7756365">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7756394">func</span>&nbsp;<span class="ident" id="7756399">dump</span><span class="op" id="7756403">(</span><span class="ident" id="7756404">re</span>&nbsp;<span class="op" id="7756407">*</span><span class="ident" id="7756408">Regexp</span><span class="op" id="7756414">)</span>&nbsp;<span class="builtintype" id="7756416">string</span>&nbsp;<span class="op" id="7756423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756426">var</span>&nbsp;<span class="ident" id="7756430">b</span>&nbsp;<span class="ident" id="7756432">bytes</span><span class="op" id="7756437">.</span><span class="ident" id="7756438">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756446">dumpRegexp</span><span class="op" id="7756456">(</span><span class="op" id="7756457">&amp;</span><span class="ident" id="7756458">b</span><span class="op" id="7756459">,</span>&nbsp;<span class="ident" id="7756461">re</span><span class="op" id="7756463">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7756466">return</span>&nbsp;<span class="ident" id="7756473">b</span><span class="op" id="7756474">.</span><span class="ident" id="7756475">String</span><span class="op" id="7756481">(</span><span class="op" id="7756482">)</span><br>
<span class="lineno"></span><span class="op" id="7756484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7756487">var</span>&nbsp;<span class="ident" id="7756491">opNames</span>&nbsp;<span class="op" id="7756499">=</span>&nbsp;<span class="op" id="7756501">[</span><span class="op" id="7756502">]</span><span class="builtintype" id="7756503">string</span><span class="op" id="7756509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756512">OpNoMatch</span><span class="op" id="7756521">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756530">&#34;no&#34;</span><span class="op" id="7756534">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756537">OpEmptyMatch</span><span class="op" id="7756549">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756555">&#34;emp&#34;</span><span class="op" id="7756560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756563">OpLiteral</span><span class="op" id="7756572">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756581">&#34;lit&#34;</span><span class="op" id="7756586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756589">OpCharClass</span><span class="op" id="7756600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756607">&#34;cc&#34;</span><span class="op" id="7756611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756614">OpAnyCharNotNL</span><span class="op" id="7756628">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7756632">&#34;dnl&#34;</span><span class="op" id="7756637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756640">OpAnyChar</span><span class="op" id="7756649">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756658">&#34;dot&#34;</span><span class="op" id="7756663">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756666">OpBeginLine</span><span class="op" id="7756677">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756684">&#34;bol&#34;</span><span class="op" id="7756689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756692">OpEndLine</span><span class="op" id="7756701">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756710">&#34;eol&#34;</span><span class="op" id="7756715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756718">OpBeginText</span><span class="op" id="7756729">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756736">&#34;bot&#34;</span><span class="op" id="7756741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756744">OpEndText</span><span class="op" id="7756753">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756762">&#34;eot&#34;</span><span class="op" id="7756767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756770">OpWordBoundary</span><span class="op" id="7756784">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7756788">&#34;wb&#34;</span><span class="op" id="7756792">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756795">OpNoWordBoundary</span><span class="op" id="7756811">:</span>&nbsp;<span class="string" id="7756813">&#34;nwb&#34;</span><span class="op" id="7756818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756821">OpCapture</span><span class="op" id="7756830">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756839">&#34;cap&#34;</span><span class="op" id="7756844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756847">OpStar</span><span class="op" id="7756853">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756865">&#34;star&#34;</span><span class="op" id="7756871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756874">OpPlus</span><span class="op" id="7756880">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756892">&#34;plus&#34;</span><span class="op" id="7756898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756901">OpQuest</span><span class="op" id="7756908">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756919">&#34;que&#34;</span><span class="op" id="7756924">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756927">OpRepeat</span><span class="op" id="7756935">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756945">&#34;rep&#34;</span><span class="op" id="7756950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756953">OpConcat</span><span class="op" id="7756961">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756971">&#34;cat&#34;</span><span class="op" id="7756976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7756979">OpAlternate</span><span class="op" id="7756990">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7756997">&#34;alt&#34;</span><span class="op" id="7757002">,</span><br>
<span class="lineno"></span><span class="op" id="7757004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7757007">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7757083">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7757159">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7757197">func</span>&nbsp;<span class="ident" id="7757202">dumpRegexp</span><span class="op" id="7757212">(</span><span class="ident" id="7757213">b</span>&nbsp;<span class="op" id="7757215">*</span><span class="ident" id="7757216">bytes</span><span class="op" id="7757221">.</span><span class="ident" id="7757222">Buffer</span><span class="op" id="7757228">,</span>&nbsp;<span class="ident" id="7757230">re</span>&nbsp;<span class="op" id="7757233">*</span><span class="ident" id="7757234">Regexp</span><span class="op" id="7757240">)</span>&nbsp;<span class="op" id="7757242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757245">if</span>&nbsp;<span class="builtintype" id="7757248">int</span><span class="op" id="7757251">(</span><span class="ident" id="7757252">re</span><span class="op" id="7757254">.</span><span class="ident" id="7757255">Op</span><span class="op" id="7757257">)</span>&nbsp;<span class="op" id="7757259">&gt;=</span>&nbsp;<span class="builtinfunc" id="7757262">len</span><span class="op" id="7757265">(</span><span class="ident" id="7757266">opNames</span><span class="op" id="7757273">)</span>&nbsp;<span class="op" id="7757275">||</span>&nbsp;<span class="ident" id="7757278">opNames</span><span class="op" id="7757285">[</span><span class="ident" id="7757286">re</span><span class="op" id="7757288">.</span><span class="ident" id="7757289">Op</span><span class="op" id="7757291">]</span>&nbsp;<span class="op" id="7757293">==</span>&nbsp;<span class="string" id="7757296">&#34;&#34;</span>&nbsp;<span class="op" id="7757299">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757303">fmt</span><span class="op" id="7757306">.</span><span class="ident" id="7757307">Fprintf</span><span class="op" id="7757314">(</span><span class="ident" id="7757315">b</span><span class="op" id="7757316">,</span>&nbsp;<span class="string" id="7757318">&#34;op%d&#34;</span><span class="op" id="7757324">,</span>&nbsp;<span class="ident" id="7757326">re</span><span class="op" id="7757328">.</span><span class="ident" id="7757329">Op</span><span class="op" id="7757331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757334">}</span>&nbsp;<span class="keyword" id="7757336">else</span>&nbsp;<span class="op" id="7757341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757345">switch</span>&nbsp;<span class="ident" id="7757352">re</span><span class="op" id="7757354">.</span><span class="ident" id="7757355">Op</span>&nbsp;<span class="op" id="7757358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757362">default</span><span class="op" id="7757369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757374">b</span><span class="op" id="7757375">.</span><span class="ident" id="7757376">WriteString</span><span class="op" id="7757387">(</span><span class="ident" id="7757388">opNames</span><span class="op" id="7757395">[</span><span class="ident" id="7757396">re</span><span class="op" id="7757398">.</span><span class="ident" id="7757399">Op</span><span class="op" id="7757401">]</span><span class="op" id="7757402">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757406">case</span>&nbsp;<span class="ident" id="7757411">OpStar</span><span class="op" id="7757417">,</span>&nbsp;<span class="ident" id="7757419">OpPlus</span><span class="op" id="7757425">,</span>&nbsp;<span class="ident" id="7757427">OpQuest</span><span class="op" id="7757434">,</span>&nbsp;<span class="ident" id="7757436">OpRepeat</span><span class="op" id="7757444">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757449">if</span>&nbsp;<span class="ident" id="7757452">re</span><span class="op" id="7757454">.</span><span class="ident" id="7757455">Flags</span><span class="op" id="7757460">&amp;</span><span class="ident" id="7757461">NonGreedy</span>&nbsp;<span class="op" id="7757471">!=</span>&nbsp;<span class="num" id="7757474">0</span>&nbsp;<span class="op" id="7757476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757482">b</span><span class="op" id="7757483">.</span><span class="ident" id="7757484">WriteByte</span><span class="op" id="7757493">(</span><span class="string" id="7757494">&#39;n&#39;</span><span class="op" id="7757497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757507">b</span><span class="op" id="7757508">.</span><span class="ident" id="7757509">WriteString</span><span class="op" id="7757520">(</span><span class="ident" id="7757521">opNames</span><span class="op" id="7757528">[</span><span class="ident" id="7757529">re</span><span class="op" id="7757531">.</span><span class="ident" id="7757532">Op</span><span class="op" id="7757534">]</span><span class="op" id="7757535">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757539">case</span>&nbsp;<span class="ident" id="7757544">OpLiteral</span><span class="op" id="7757553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757558">if</span>&nbsp;<span class="builtinfunc" id="7757561">len</span><span class="op" id="7757564">(</span><span class="ident" id="7757565">re</span><span class="op" id="7757567">.</span><span class="ident" id="7757568">Rune</span><span class="op" id="7757572">)</span>&nbsp;<span class="op" id="7757574">&gt;</span>&nbsp;<span class="num" id="7757576">1</span>&nbsp;<span class="op" id="7757578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757584">b</span><span class="op" id="7757585">.</span><span class="ident" id="7757586">WriteString</span><span class="op" id="7757597">(</span><span class="string" id="7757598">&#34;str&#34;</span><span class="op" id="7757603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757608">}</span>&nbsp;<span class="keyword" id="7757610">else</span>&nbsp;<span class="op" id="7757615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757621">b</span><span class="op" id="7757622">.</span><span class="ident" id="7757623">WriteString</span><span class="op" id="7757634">(</span><span class="string" id="7757635">&#34;lit&#34;</span><span class="op" id="7757640">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757650">if</span>&nbsp;<span class="ident" id="7757653">re</span><span class="op" id="7757655">.</span><span class="ident" id="7757656">Flags</span><span class="op" id="7757661">&amp;</span><span class="ident" id="7757662">FoldCase</span>&nbsp;<span class="op" id="7757671">!=</span>&nbsp;<span class="num" id="7757674">0</span>&nbsp;<span class="op" id="7757676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757682">for</span>&nbsp;<span class="ident" id="7757686">_</span><span class="op" id="7757687">,</span>&nbsp;<span class="ident" id="7757689">r</span>&nbsp;<span class="op" id="7757691">:=</span>&nbsp;<span class="keyword" id="7757694">range</span>&nbsp;<span class="ident" id="7757700">re</span><span class="op" id="7757702">.</span><span class="ident" id="7757703">Rune</span>&nbsp;<span class="op" id="7757708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757715">if</span>&nbsp;<span class="ident" id="7757718">unicode</span><span class="op" id="7757725">.</span><span class="ident" id="7757726">SimpleFold</span><span class="op" id="7757736">(</span><span class="ident" id="7757737">r</span><span class="op" id="7757738">)</span>&nbsp;<span class="op" id="7757740">!=</span>&nbsp;<span class="ident" id="7757743">r</span>&nbsp;<span class="op" id="7757745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757753">b</span><span class="op" id="7757754">.</span><span class="ident" id="7757755">WriteString</span><span class="op" id="7757766">(</span><span class="string" id="7757767">&#34;fold&#34;</span><span class="op" id="7757773">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757781">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757807">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757813">b</span><span class="op" id="7757814">.</span><span class="ident" id="7757815">WriteByte</span><span class="op" id="7757824">(</span><span class="string" id="7757825">&#39;{&#39;</span><span class="op" id="7757828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757831">switch</span>&nbsp;<span class="ident" id="7757838">re</span><span class="op" id="7757840">.</span><span class="ident" id="7757841">Op</span>&nbsp;<span class="op" id="7757844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757847">case</span>&nbsp;<span class="ident" id="7757852">OpEndText</span><span class="op" id="7757861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757865">if</span>&nbsp;<span class="ident" id="7757868">re</span><span class="op" id="7757870">.</span><span class="ident" id="7757871">Flags</span><span class="op" id="7757876">&amp;</span><span class="ident" id="7757877">WasDollar</span>&nbsp;<span class="op" id="7757887">==</span>&nbsp;<span class="num" id="7757890">0</span>&nbsp;<span class="op" id="7757892">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757897">b</span><span class="op" id="7757898">.</span><span class="ident" id="7757899">WriteString</span><span class="op" id="7757910">(</span><span class="string" id="7757911">`\z`</span><span class="op" id="7757915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757922">case</span>&nbsp;<span class="ident" id="7757927">OpLiteral</span><span class="op" id="7757936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757940">for</span>&nbsp;<span class="ident" id="7757944">_</span><span class="op" id="7757945">,</span>&nbsp;<span class="ident" id="7757947">r</span>&nbsp;<span class="op" id="7757949">:=</span>&nbsp;<span class="keyword" id="7757952">range</span>&nbsp;<span class="ident" id="7757958">re</span><span class="op" id="7757960">.</span><span class="ident" id="7757961">Rune</span>&nbsp;<span class="op" id="7757966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7757971">b</span><span class="op" id="7757972">.</span><span class="ident" id="7757973">WriteRune</span><span class="op" id="7757982">(</span><span class="ident" id="7757983">r</span><span class="op" id="7757984">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7757988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7757991">case</span>&nbsp;<span class="ident" id="7757996">OpConcat</span><span class="op" id="7758004">,</span>&nbsp;<span class="ident" id="7758006">OpAlternate</span><span class="op" id="7758017">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758021">for</span>&nbsp;<span class="ident" id="7758025">_</span><span class="op" id="7758026">,</span>&nbsp;<span class="ident" id="7758028">sub</span>&nbsp;<span class="op" id="7758032">:=</span>&nbsp;<span class="keyword" id="7758035">range</span>&nbsp;<span class="ident" id="7758041">re</span><span class="op" id="7758043">.</span><span class="ident" id="7758044">Sub</span>&nbsp;<span class="op" id="7758048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758053">dumpRegexp</span><span class="op" id="7758063">(</span><span class="ident" id="7758064">b</span><span class="op" id="7758065">,</span>&nbsp;<span class="ident" id="7758067">sub</span><span class="op" id="7758070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758074">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758077">case</span>&nbsp;<span class="ident" id="7758082">OpStar</span><span class="op" id="7758088">,</span>&nbsp;<span class="ident" id="7758090">OpPlus</span><span class="op" id="7758096">,</span>&nbsp;<span class="ident" id="7758098">OpQuest</span><span class="op" id="7758105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758109">dumpRegexp</span><span class="op" id="7758119">(</span><span class="ident" id="7758120">b</span><span class="op" id="7758121">,</span>&nbsp;<span class="ident" id="7758123">re</span><span class="op" id="7758125">.</span><span class="ident" id="7758126">Sub</span><span class="op" id="7758129">[</span><span class="num" id="7758130">0</span><span class="op" id="7758131">]</span><span class="op" id="7758132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758135">case</span>&nbsp;<span class="ident" id="7758140">OpRepeat</span><span class="op" id="7758148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758152">fmt</span><span class="op" id="7758155">.</span><span class="ident" id="7758156">Fprintf</span><span class="op" id="7758163">(</span><span class="ident" id="7758164">b</span><span class="op" id="7758165">,</span>&nbsp;<span class="string" id="7758167">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7758175">,</span>&nbsp;<span class="ident" id="7758177">re</span><span class="op" id="7758179">.</span><span class="ident" id="7758180">Min</span><span class="op" id="7758183">,</span>&nbsp;<span class="ident" id="7758185">re</span><span class="op" id="7758187">.</span><span class="ident" id="7758188">Max</span><span class="op" id="7758191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758195">dumpRegexp</span><span class="op" id="7758205">(</span><span class="ident" id="7758206">b</span><span class="op" id="7758207">,</span>&nbsp;<span class="ident" id="7758209">re</span><span class="op" id="7758211">.</span><span class="ident" id="7758212">Sub</span><span class="op" id="7758215">[</span><span class="num" id="7758216">0</span><span class="op" id="7758217">]</span><span class="op" id="7758218">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758221">case</span>&nbsp;<span class="ident" id="7758226">OpCapture</span><span class="op" id="7758235">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758239">if</span>&nbsp;<span class="ident" id="7758242">re</span><span class="op" id="7758244">.</span><span class="ident" id="7758245">Name</span>&nbsp;<span class="op" id="7758250">!=</span>&nbsp;<span class="string" id="7758253">&#34;&#34;</span>&nbsp;<span class="op" id="7758256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758261">b</span><span class="op" id="7758262">.</span><span class="ident" id="7758263">WriteString</span><span class="op" id="7758274">(</span><span class="ident" id="7758275">re</span><span class="op" id="7758277">.</span><span class="ident" id="7758278">Name</span><span class="op" id="7758282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758287">b</span><span class="op" id="7758288">.</span><span class="ident" id="7758289">WriteByte</span><span class="op" id="7758298">(</span><span class="string" id="7758299">&#39;:&#39;</span><span class="op" id="7758302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758306">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758310">dumpRegexp</span><span class="op" id="7758320">(</span><span class="ident" id="7758321">b</span><span class="op" id="7758322">,</span>&nbsp;<span class="ident" id="7758324">re</span><span class="op" id="7758326">.</span><span class="ident" id="7758327">Sub</span><span class="op" id="7758330">[</span><span class="num" id="7758331">0</span><span class="op" id="7758332">]</span><span class="op" id="7758333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758336">case</span>&nbsp;<span class="ident" id="7758341">OpCharClass</span><span class="op" id="7758352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758356">sep</span>&nbsp;<span class="op" id="7758360">:=</span>&nbsp;<span class="string" id="7758363">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758368">for</span>&nbsp;<span class="ident" id="7758372">i</span>&nbsp;<span class="op" id="7758374">:=</span>&nbsp;<span class="num" id="7758377">0</span><span class="op" id="7758378">;</span>&nbsp;<span class="ident" id="7758380">i</span>&nbsp;<span class="op" id="7758382">&lt;</span>&nbsp;<span class="builtinfunc" id="7758384">len</span><span class="op" id="7758387">(</span><span class="ident" id="7758388">re</span><span class="op" id="7758390">.</span><span class="ident" id="7758391">Rune</span><span class="op" id="7758395">)</span><span class="op" id="7758396">;</span>&nbsp;<span class="ident" id="7758398">i</span>&nbsp;<span class="op" id="7758400">+=</span>&nbsp;<span class="num" id="7758403">2</span>&nbsp;<span class="op" id="7758405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758410">b</span><span class="op" id="7758411">.</span><span class="ident" id="7758412">WriteString</span><span class="op" id="7758423">(</span><span class="ident" id="7758424">sep</span><span class="op" id="7758427">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758432">sep</span>&nbsp;<span class="op" id="7758436">=</span>&nbsp;<span class="string" id="7758438">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758445">lo</span><span class="op" id="7758447">,</span>&nbsp;<span class="ident" id="7758449">hi</span>&nbsp;<span class="op" id="7758452">:=</span>&nbsp;<span class="ident" id="7758455">re</span><span class="op" id="7758457">.</span><span class="ident" id="7758458">Rune</span><span class="op" id="7758462">[</span><span class="ident" id="7758463">i</span><span class="op" id="7758464">]</span><span class="op" id="7758465">,</span>&nbsp;<span class="ident" id="7758467">re</span><span class="op" id="7758469">.</span><span class="ident" id="7758470">Rune</span><span class="op" id="7758474">[</span><span class="ident" id="7758475">i</span><span class="op" id="7758476">+</span><span class="num" id="7758477">1</span><span class="op" id="7758478">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758483">if</span>&nbsp;<span class="ident" id="7758486">lo</span>&nbsp;<span class="op" id="7758489">==</span>&nbsp;<span class="ident" id="7758492">hi</span>&nbsp;<span class="op" id="7758495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758501">fmt</span><span class="op" id="7758504">.</span><span class="ident" id="7758505">Fprintf</span><span class="op" id="7758512">(</span><span class="ident" id="7758513">b</span><span class="op" id="7758514">,</span>&nbsp;<span class="string" id="7758516">&#34;%#x&#34;</span><span class="op" id="7758521">,</span>&nbsp;<span class="ident" id="7758523">lo</span><span class="op" id="7758525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758530">}</span>&nbsp;<span class="keyword" id="7758532">else</span>&nbsp;<span class="op" id="7758537">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758543">fmt</span><span class="op" id="7758546">.</span><span class="ident" id="7758547">Fprintf</span><span class="op" id="7758554">(</span><span class="ident" id="7758555">b</span><span class="op" id="7758556">,</span>&nbsp;<span class="string" id="7758558">&#34;%#x-%#x&#34;</span><span class="op" id="7758567">,</span>&nbsp;<span class="ident" id="7758569">lo</span><span class="op" id="7758571">,</span>&nbsp;<span class="ident" id="7758573">hi</span><span class="op" id="7758575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758590">b</span><span class="op" id="7758591">.</span><span class="ident" id="7758592">WriteByte</span><span class="op" id="7758601">(</span><span class="string" id="7758602">&#39;}&#39;</span><span class="op" id="7758605">)</span><br>
<span class="lineno">380</span><span class="op" id="7758607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7758610">func</span>&nbsp;<span class="ident" id="7758615">mkCharClass</span><span class="op" id="7758626">(</span><span class="ident" id="7758627">f</span>&nbsp;<span class="keyword" id="7758629">func</span><span class="op" id="7758633">(</span><span class="builtintype" id="7758634">rune</span><span class="op" id="7758638">)</span>&nbsp;<span class="builtintype" id="7758640">bool</span><span class="op" id="7758644">)</span>&nbsp;<span class="builtintype" id="7758646">string</span>&nbsp;<span class="op" id="7758653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758656">re</span>&nbsp;<span class="op" id="7758659">:=</span>&nbsp;<span class="op" id="7758662">&amp;</span><span class="ident" id="7758663">Regexp</span><span class="op" id="7758669">{</span><span class="ident" id="7758670">Op</span><span class="op" id="7758672">:</span>&nbsp;<span class="ident" id="7758674">OpCharClass</span><span class="op" id="7758685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758688">lo</span>&nbsp;<span class="op" id="7758691">:=</span>&nbsp;<span class="builtintype" id="7758694">rune</span><span class="op" id="7758698">(</span><span class="op" id="7758699">-</span><span class="num" id="7758700">1</span><span class="op" id="7758701">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758704">for</span>&nbsp;<span class="ident" id="7758708">i</span>&nbsp;<span class="op" id="7758710">:=</span>&nbsp;<span class="builtintype" id="7758713">rune</span><span class="op" id="7758717">(</span><span class="num" id="7758718">0</span><span class="op" id="7758719">)</span><span class="op" id="7758720">;</span>&nbsp;<span class="ident" id="7758722">i</span>&nbsp;<span class="op" id="7758724">&lt;=</span>&nbsp;<span class="ident" id="7758727">unicode</span><span class="op" id="7758734">.</span><span class="ident" id="7758735">MaxRune</span><span class="op" id="7758742">;</span>&nbsp;<span class="ident" id="7758744">i</span><span class="op" id="7758745">++</span>&nbsp;<span class="op" id="7758748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758752">if</span>&nbsp;<span class="ident" id="7758755">f</span><span class="op" id="7758756">(</span><span class="ident" id="7758757">i</span><span class="op" id="7758758">)</span>&nbsp;<span class="op" id="7758760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758765">if</span>&nbsp;<span class="ident" id="7758768">lo</span>&nbsp;<span class="op" id="7758771">&lt;</span>&nbsp;<span class="num" id="7758773">0</span>&nbsp;<span class="op" id="7758775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758781">lo</span>&nbsp;<span class="op" id="7758784">=</span>&nbsp;<span class="ident" id="7758786">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758791">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758795">}</span>&nbsp;<span class="keyword" id="7758797">else</span>&nbsp;<span class="op" id="7758802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758807">if</span>&nbsp;<span class="ident" id="7758810">lo</span>&nbsp;<span class="op" id="7758813">&gt;=</span>&nbsp;<span class="num" id="7758816">0</span>&nbsp;<span class="op" id="7758818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758824">re</span><span class="op" id="7758826">.</span><span class="ident" id="7758827">Rune</span>&nbsp;<span class="op" id="7758832">=</span>&nbsp;<span class="builtinfunc" id="7758834">append</span><span class="op" id="7758840">(</span><span class="ident" id="7758841">re</span><span class="op" id="7758843">.</span><span class="ident" id="7758844">Rune</span><span class="op" id="7758848">,</span>&nbsp;<span class="ident" id="7758850">lo</span><span class="op" id="7758852">,</span>&nbsp;<span class="ident" id="7758854">i</span><span class="op" id="7758855">-</span><span class="num" id="7758856">1</span><span class="op" id="7758857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758863">lo</span>&nbsp;<span class="op" id="7758866">=</span>&nbsp;<span class="op" id="7758868">-</span><span class="num" id="7758869">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758874">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758884">if</span>&nbsp;<span class="ident" id="7758887">lo</span>&nbsp;<span class="op" id="7758890">&gt;=</span>&nbsp;<span class="num" id="7758893">0</span>&nbsp;<span class="op" id="7758895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7758899">re</span><span class="op" id="7758901">.</span><span class="ident" id="7758902">Rune</span>&nbsp;<span class="op" id="7758907">=</span>&nbsp;<span class="builtinfunc" id="7758909">append</span><span class="op" id="7758915">(</span><span class="ident" id="7758916">re</span><span class="op" id="7758918">.</span><span class="ident" id="7758919">Rune</span><span class="op" id="7758923">,</span>&nbsp;<span class="ident" id="7758925">lo</span><span class="op" id="7758927">,</span>&nbsp;<span class="ident" id="7758929">unicode</span><span class="op" id="7758936">.</span><span class="ident" id="7758937">MaxRune</span><span class="op" id="7758944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7758947">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7758950">return</span>&nbsp;<span class="ident" id="7758957">dump</span><span class="op" id="7758961">(</span><span class="ident" id="7758962">re</span><span class="op" id="7758964">)</span><br>
<span class="lineno"></span><span class="op" id="7758966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7758969">func</span>&nbsp;<span class="ident" id="7758974">isUpperFold</span><span class="op" id="7758985">(</span><span class="ident" id="7758986">r</span>&nbsp;<span class="builtintype" id="7758988">rune</span><span class="op" id="7758992">)</span>&nbsp;<span class="builtintype" id="7758994">bool</span>&nbsp;<span class="op" id="7758999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759002">if</span>&nbsp;<span class="ident" id="7759005">unicode</span><span class="op" id="7759012">.</span><span class="ident" id="7759013">IsUpper</span><span class="op" id="7759020">(</span><span class="ident" id="7759021">r</span><span class="op" id="7759022">)</span>&nbsp;<span class="op" id="7759024">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759028">return</span>&nbsp;<span class="builtintype" id="7759035">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759044">c</span>&nbsp;<span class="op" id="7759046">:=</span>&nbsp;<span class="ident" id="7759049">unicode</span><span class="op" id="7759056">.</span><span class="ident" id="7759057">SimpleFold</span><span class="op" id="7759067">(</span><span class="ident" id="7759068">r</span><span class="op" id="7759069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759072">for</span>&nbsp;<span class="ident" id="7759076">c</span>&nbsp;<span class="op" id="7759078">!=</span>&nbsp;<span class="ident" id="7759081">r</span>&nbsp;<span class="op" id="7759083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759087">if</span>&nbsp;<span class="ident" id="7759090">unicode</span><span class="op" id="7759097">.</span><span class="ident" id="7759098">IsUpper</span><span class="op" id="7759105">(</span><span class="ident" id="7759106">c</span><span class="op" id="7759107">)</span>&nbsp;<span class="op" id="7759109">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759114">return</span>&nbsp;<span class="builtintype" id="7759121">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759132">c</span>&nbsp;<span class="op" id="7759134">=</span>&nbsp;<span class="ident" id="7759136">unicode</span><span class="op" id="7759143">.</span><span class="ident" id="7759144">SimpleFold</span><span class="op" id="7759154">(</span><span class="ident" id="7759155">c</span><span class="op" id="7759156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759162">return</span>&nbsp;<span class="builtintype" id="7759169">false</span><br>
<span class="lineno">415</span><span class="op" id="7759175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759178">func</span>&nbsp;<span class="ident" id="7759183">TestFoldConstants</span><span class="op" id="7759200">(</span><span class="ident" id="7759201">t</span>&nbsp;<span class="op" id="7759203">*</span><span class="ident" id="7759204">testing</span><span class="op" id="7759211">.</span><span class="ident" id="7759212">T</span><span class="op" id="7759213">)</span>&nbsp;<span class="op" id="7759215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759218">last</span>&nbsp;<span class="op" id="7759223">:=</span>&nbsp;<span class="builtintype" id="7759226">rune</span><span class="op" id="7759230">(</span><span class="op" id="7759231">-</span><span class="num" id="7759232">1</span><span class="op" id="7759233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759236">for</span>&nbsp;<span class="ident" id="7759240">i</span>&nbsp;<span class="op" id="7759242">:=</span>&nbsp;<span class="builtintype" id="7759245">rune</span><span class="op" id="7759249">(</span><span class="num" id="7759250">0</span><span class="op" id="7759251">)</span><span class="op" id="7759252">;</span>&nbsp;<span class="ident" id="7759254">i</span>&nbsp;<span class="op" id="7759256">&lt;=</span>&nbsp;<span class="ident" id="7759259">unicode</span><span class="op" id="7759266">.</span><span class="ident" id="7759267">MaxRune</span><span class="op" id="7759274">;</span>&nbsp;<span class="ident" id="7759276">i</span><span class="op" id="7759277">++</span>&nbsp;<span class="op" id="7759280">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759284">if</span>&nbsp;<span class="ident" id="7759287">unicode</span><span class="op" id="7759294">.</span><span class="ident" id="7759295">SimpleFold</span><span class="op" id="7759305">(</span><span class="ident" id="7759306">i</span><span class="op" id="7759307">)</span>&nbsp;<span class="op" id="7759309">==</span>&nbsp;<span class="ident" id="7759312">i</span>&nbsp;<span class="op" id="7759314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759319">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759334">if</span>&nbsp;<span class="ident" id="7759337">last</span>&nbsp;<span class="op" id="7759342">==</span>&nbsp;<span class="op" id="7759345">-</span><span class="num" id="7759346">1</span>&nbsp;<span class="op" id="7759348">&amp;&amp;</span>&nbsp;<span class="ident" id="7759351">minFold</span>&nbsp;<span class="op" id="7759359">!=</span>&nbsp;<span class="ident" id="7759362">i</span>&nbsp;<span class="op" id="7759364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759369">t</span><span class="op" id="7759370">.</span><span class="ident" id="7759371">Errorf</span><span class="op" id="7759377">(</span><span class="string" id="7759378">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7759405">,</span>&nbsp;<span class="ident" id="7759407">minFold</span><span class="op" id="7759414">,</span>&nbsp;<span class="ident" id="7759416">i</span><span class="op" id="7759417">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759425">last</span>&nbsp;<span class="op" id="7759430">=</span>&nbsp;<span class="ident" id="7759432">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759438">if</span>&nbsp;<span class="ident" id="7759441">maxFold</span>&nbsp;<span class="op" id="7759449">!=</span>&nbsp;<span class="ident" id="7759452">last</span>&nbsp;<span class="op" id="7759457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759461">t</span><span class="op" id="7759462">.</span><span class="ident" id="7759463">Errorf</span><span class="op" id="7759469">(</span><span class="string" id="7759470">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7759497">,</span>&nbsp;<span class="ident" id="7759499">maxFold</span><span class="op" id="7759506">,</span>&nbsp;<span class="ident" id="7759508">last</span><span class="op" id="7759512">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759515">}</span><br>
<span class="lineno"></span><span class="op" id="7759517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759520">func</span>&nbsp;<span class="ident" id="7759525">TestAppendRangeCollapse</span><span class="op" id="7759548">(</span><span class="ident" id="7759549">t</span>&nbsp;<span class="op" id="7759551">*</span><span class="ident" id="7759552">testing</span><span class="op" id="7759559">.</span><span class="ident" id="7759560">T</span><span class="op" id="7759561">)</span>&nbsp;<span class="op" id="7759563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7759566">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7759621">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7759683">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7759721">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759766">var</span>&nbsp;<span class="ident" id="7759770">r</span>&nbsp;<span class="op" id="7759772">[</span><span class="op" id="7759773">]</span><span class="builtintype" id="7759774">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759780">for</span>&nbsp;<span class="ident" id="7759784">i</span>&nbsp;<span class="op" id="7759786">:=</span>&nbsp;<span class="builtintype" id="7759789">rune</span><span class="op" id="7759793">(</span><span class="string" id="7759794">&#39;A&#39;</span><span class="op" id="7759797">)</span><span class="op" id="7759798">;</span>&nbsp;<span class="ident" id="7759800">i</span>&nbsp;<span class="op" id="7759802">&lt;=</span>&nbsp;<span class="string" id="7759805">&#39;Z&#39;</span><span class="op" id="7759808">;</span>&nbsp;<span class="ident" id="7759810">i</span><span class="op" id="7759811">++</span>&nbsp;<span class="op" id="7759814">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759818">r</span>&nbsp;<span class="op" id="7759820">=</span>&nbsp;<span class="ident" id="7759822">appendRange</span><span class="op" id="7759833">(</span><span class="ident" id="7759834">r</span><span class="op" id="7759835">,</span>&nbsp;<span class="ident" id="7759837">i</span><span class="op" id="7759838">,</span>&nbsp;<span class="ident" id="7759840">i</span><span class="op" id="7759841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759845">r</span>&nbsp;<span class="op" id="7759847">=</span>&nbsp;<span class="ident" id="7759849">appendRange</span><span class="op" id="7759860">(</span><span class="ident" id="7759861">r</span><span class="op" id="7759862">,</span>&nbsp;<span class="ident" id="7759864">i</span><span class="op" id="7759865">+</span><span class="string" id="7759866">&#39;a&#39;</span><span class="op" id="7759869">-</span><span class="string" id="7759870">&#39;A&#39;</span><span class="op" id="7759873">,</span>&nbsp;<span class="ident" id="7759875">i</span><span class="op" id="7759876">+</span><span class="string" id="7759877">&#39;a&#39;</span><span class="op" id="7759880">-</span><span class="string" id="7759881">&#39;A&#39;</span><span class="op" id="7759884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7759890">if</span>&nbsp;<span class="builtintype" id="7759893">string</span><span class="op" id="7759899">(</span><span class="ident" id="7759900">r</span><span class="op" id="7759901">)</span>&nbsp;<span class="op" id="7759903">!=</span>&nbsp;<span class="string" id="7759906">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7759913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7759917">t</span><span class="op" id="7759918">.</span><span class="ident" id="7759919">Errorf</span><span class="op" id="7759925">(</span><span class="string" id="7759926">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7759974">,</span>&nbsp;<span class="builtintype" id="7759976">string</span><span class="op" id="7759982">(</span><span class="ident" id="7759983">r</span><span class="op" id="7759984">)</span><span class="op" id="7759985">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7759988">}</span><br>
<span class="lineno"></span><span class="op" id="7759990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7759993">var</span>&nbsp;<span class="ident" id="7759997">invalidRegexps</span>&nbsp;<span class="op" id="7760012">=</span>&nbsp;<span class="op" id="7760014">[</span><span class="op" id="7760015">]</span><span class="builtintype" id="7760016">string</span><span class="op" id="7760022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760025">`(`</span><span class="op" id="7760028">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760031">`)`</span><span class="op" id="7760034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760037">`(a`</span><span class="op" id="7760041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760044">`a)`</span><span class="op" id="7760048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760051">`(a))`</span><span class="op" id="7760057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760060">`(a|b|`</span><span class="op" id="7760067">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760070">`a|b|)`</span><span class="op" id="7760077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760080">`(a|b|))`</span><span class="op" id="7760089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760092">`(a|b`</span><span class="op" id="7760098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760101">`a|b)`</span><span class="op" id="7760107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760110">`(a|b))`</span><span class="op" id="7760118">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760121">`[a-z`</span><span class="op" id="7760127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760130">`([a-z)`</span><span class="op" id="7760138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760141">`[a-z)`</span><span class="op" id="7760148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760151">`([a-z]))`</span><span class="op" id="7760161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760164">`x{1001}`</span><span class="op" id="7760173">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760176">`x{9876543210}`</span><span class="op" id="7760191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760194">`x{2,1}`</span><span class="op" id="7760202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760205">`x{1,9876543210}`</span><span class="op" id="7760222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760225">&#34;\xff&#34;</span><span class="op" id="7760231">,</span>&nbsp;<span class="comment" id="7760233">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760251">&#34;[\xff]&#34;</span><span class="op" id="7760259">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760262">&#34;[\\\xff]&#34;</span><span class="op" id="7760272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760275">&#34;\\\xff&#34;</span><span class="op" id="7760283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760286">`(?P&lt;name&gt;a`</span><span class="op" id="7760298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760301">`(?P&lt;name&gt;`</span><span class="op" id="7760312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760315">`(?P&lt;name`</span><span class="op" id="7760325">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760328">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7760340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760343">`(?P&lt;&gt;a)`</span><span class="op" id="7760352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760355">`[a-Z]`</span><span class="op" id="7760362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760365">`(?i)[a-Z]`</span><span class="op" id="7760376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760379">`a{100000}`</span><span class="op" id="7760390">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760393">`a{100000,}`</span><span class="op" id="7760405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760408">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7760461">,</span><br>
<span class="lineno"></span><span class="op" id="7760463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7760466">var</span>&nbsp;<span class="ident" id="7760470">onlyPerl</span>&nbsp;<span class="op" id="7760479">=</span>&nbsp;<span class="op" id="7760481">[</span><span class="op" id="7760482">]</span><span class="builtintype" id="7760483">string</span><span class="op" id="7760489">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760492">`[a-b-c]`</span><span class="op" id="7760501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760504">`\Qabc\E`</span><span class="op" id="7760513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760516">`\Q*+?{[\E`</span><span class="op" id="7760527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760530">`\Q\\E`</span><span class="op" id="7760537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760540">`\Q\\\E`</span><span class="op" id="7760548">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760551">`\Q\\\\E`</span><span class="op" id="7760560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760563">`\Q\\\\\E`</span><span class="op" id="7760573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760576">`(?:a)`</span><span class="op" id="7760583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760586">`(?P&lt;name&gt;a)`</span><span class="op" id="7760599">,</span><br>
<span class="lineno"></span><span class="op" id="7760601">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7760604">var</span>&nbsp;<span class="ident" id="7760608">onlyPOSIX</span>&nbsp;<span class="op" id="7760618">=</span>&nbsp;<span class="op" id="7760620">[</span><span class="op" id="7760621">]</span><span class="builtintype" id="7760622">string</span><span class="op" id="7760628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760631">&#34;a++&#34;</span><span class="op" id="7760636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760639">&#34;a**&#34;</span><span class="op" id="7760644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760647">&#34;a?*&#34;</span><span class="op" id="7760652">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760655">&#34;a+*&#34;</span><span class="op" id="7760660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760663">&#34;a{1}*&#34;</span><span class="op" id="7760670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7760673">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7760686">,</span><br>
<span class="lineno"></span><span class="op" id="7760688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7760691">func</span>&nbsp;<span class="ident" id="7760696">TestParseInvalidRegexps</span><span class="op" id="7760719">(</span><span class="ident" id="7760720">t</span>&nbsp;<span class="op" id="7760722">*</span><span class="ident" id="7760723">testing</span><span class="op" id="7760730">.</span><span class="ident" id="7760731">T</span><span class="op" id="7760732">)</span>&nbsp;<span class="op" id="7760734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7760737">for</span>&nbsp;<span class="ident" id="7760741">_</span><span class="op" id="7760742">,</span>&nbsp;<span class="ident" id="7760744">regexp</span>&nbsp;<span class="op" id="7760751">:=</span>&nbsp;<span class="keyword" id="7760754">range</span>&nbsp;<span class="ident" id="7760760">invalidRegexps</span>&nbsp;<span class="op" id="7760775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7760779">if</span>&nbsp;<span class="ident" id="7760782">re</span><span class="op" id="7760784">,</span>&nbsp;<span class="ident" id="7760786">err</span>&nbsp;<span class="op" id="7760790">:=</span>&nbsp;<span class="ident" id="7760793">Parse</span><span class="op" id="7760798">(</span><span class="ident" id="7760799">regexp</span><span class="op" id="7760805">,</span>&nbsp;<span class="ident" id="7760807">Perl</span><span class="op" id="7760811">)</span><span class="op" id="7760812">;</span>&nbsp;<span class="ident" id="7760814">err</span>&nbsp;<span class="op" id="7760818">==</span>&nbsp;<span class="builtintype" id="7760821">nil</span>&nbsp;<span class="op" id="7760825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7760830">t</span><span class="op" id="7760831">.</span><span class="ident" id="7760832">Errorf</span><span class="op" id="7760838">(</span><span class="string" id="7760839">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7760882">,</span>&nbsp;<span class="ident" id="7760884">regexp</span><span class="op" id="7760890">,</span>&nbsp;<span class="ident" id="7760892">dump</span><span class="op" id="7760896">(</span><span class="ident" id="7760897">re</span><span class="op" id="7760899">)</span><span class="op" id="7760900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7760904">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7760908">if</span>&nbsp;<span class="ident" id="7760911">re</span><span class="op" id="7760913">,</span>&nbsp;<span class="ident" id="7760915">err</span>&nbsp;<span class="op" id="7760919">:=</span>&nbsp;<span class="ident" id="7760922">Parse</span><span class="op" id="7760927">(</span><span class="ident" id="7760928">regexp</span><span class="op" id="7760934">,</span>&nbsp;<span class="ident" id="7760936">POSIX</span><span class="op" id="7760941">)</span><span class="op" id="7760942">;</span>&nbsp;<span class="ident" id="7760944">err</span>&nbsp;<span class="op" id="7760948">==</span>&nbsp;<span class="builtintype" id="7760951">nil</span>&nbsp;<span class="op" id="7760955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7760960">t</span><span class="op" id="7760961">.</span><span class="ident" id="7760962">Errorf</span><span class="op" id="7760968">(</span><span class="string" id="7760969">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7761013">,</span>&nbsp;<span class="ident" id="7761015">regexp</span><span class="op" id="7761021">,</span>&nbsp;<span class="ident" id="7761023">dump</span><span class="op" id="7761027">(</span><span class="ident" id="7761028">re</span><span class="op" id="7761030">)</span><span class="op" id="7761031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761041">for</span>&nbsp;<span class="ident" id="7761045">_</span><span class="op" id="7761046">,</span>&nbsp;<span class="ident" id="7761048">regexp</span>&nbsp;<span class="op" id="7761055">:=</span>&nbsp;<span class="keyword" id="7761058">range</span>&nbsp;<span class="ident" id="7761064">onlyPerl</span>&nbsp;<span class="op" id="7761073">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761077">if</span>&nbsp;<span class="ident" id="7761080">_</span><span class="op" id="7761081">,</span>&nbsp;<span class="ident" id="7761083">err</span>&nbsp;<span class="op" id="7761087">:=</span>&nbsp;<span class="ident" id="7761090">Parse</span><span class="op" id="7761095">(</span><span class="ident" id="7761096">regexp</span><span class="op" id="7761102">,</span>&nbsp;<span class="ident" id="7761104">Perl</span><span class="op" id="7761108">)</span><span class="op" id="7761109">;</span>&nbsp;<span class="ident" id="7761111">err</span>&nbsp;<span class="op" id="7761115">!=</span>&nbsp;<span class="builtintype" id="7761118">nil</span>&nbsp;<span class="op" id="7761122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761127">t</span><span class="op" id="7761128">.</span><span class="ident" id="7761129">Errorf</span><span class="op" id="7761135">(</span><span class="string" id="7761136">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7761158">,</span>&nbsp;<span class="ident" id="7761160">regexp</span><span class="op" id="7761166">,</span>&nbsp;<span class="ident" id="7761168">err</span><span class="op" id="7761171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761179">if</span>&nbsp;<span class="ident" id="7761182">re</span><span class="op" id="7761184">,</span>&nbsp;<span class="ident" id="7761186">err</span>&nbsp;<span class="op" id="7761190">:=</span>&nbsp;<span class="ident" id="7761193">Parse</span><span class="op" id="7761198">(</span><span class="ident" id="7761199">regexp</span><span class="op" id="7761205">,</span>&nbsp;<span class="ident" id="7761207">POSIX</span><span class="op" id="7761212">)</span><span class="op" id="7761213">;</span>&nbsp;<span class="ident" id="7761215">err</span>&nbsp;<span class="op" id="7761219">==</span>&nbsp;<span class="builtintype" id="7761222">nil</span>&nbsp;<span class="op" id="7761226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761231">t</span><span class="op" id="7761232">.</span><span class="ident" id="7761233">Errorf</span><span class="op" id="7761239">(</span><span class="string" id="7761240">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7761284">,</span>&nbsp;<span class="ident" id="7761286">regexp</span><span class="op" id="7761292">,</span>&nbsp;<span class="ident" id="7761294">dump</span><span class="op" id="7761298">(</span><span class="ident" id="7761299">re</span><span class="op" id="7761301">)</span><span class="op" id="7761302">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761312">for</span>&nbsp;<span class="ident" id="7761316">_</span><span class="op" id="7761317">,</span>&nbsp;<span class="ident" id="7761319">regexp</span>&nbsp;<span class="op" id="7761326">:=</span>&nbsp;<span class="keyword" id="7761329">range</span>&nbsp;<span class="ident" id="7761335">onlyPOSIX</span>&nbsp;<span class="op" id="7761345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761349">if</span>&nbsp;<span class="ident" id="7761352">re</span><span class="op" id="7761354">,</span>&nbsp;<span class="ident" id="7761356">err</span>&nbsp;<span class="op" id="7761360">:=</span>&nbsp;<span class="ident" id="7761363">Parse</span><span class="op" id="7761368">(</span><span class="ident" id="7761369">regexp</span><span class="op" id="7761375">,</span>&nbsp;<span class="ident" id="7761377">Perl</span><span class="op" id="7761381">)</span><span class="op" id="7761382">;</span>&nbsp;<span class="ident" id="7761384">err</span>&nbsp;<span class="op" id="7761388">==</span>&nbsp;<span class="builtintype" id="7761391">nil</span>&nbsp;<span class="op" id="7761395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761400">t</span><span class="op" id="7761401">.</span><span class="ident" id="7761402">Errorf</span><span class="op" id="7761408">(</span><span class="string" id="7761409">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7761452">,</span>&nbsp;<span class="ident" id="7761454">regexp</span><span class="op" id="7761460">,</span>&nbsp;<span class="ident" id="7761462">dump</span><span class="op" id="7761466">(</span><span class="ident" id="7761467">re</span><span class="op" id="7761469">)</span><span class="op" id="7761470">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761478">if</span>&nbsp;<span class="ident" id="7761481">_</span><span class="op" id="7761482">,</span>&nbsp;<span class="ident" id="7761484">err</span>&nbsp;<span class="op" id="7761488">:=</span>&nbsp;<span class="ident" id="7761491">Parse</span><span class="op" id="7761496">(</span><span class="ident" id="7761497">regexp</span><span class="op" id="7761503">,</span>&nbsp;<span class="ident" id="7761505">POSIX</span><span class="op" id="7761510">)</span><span class="op" id="7761511">;</span>&nbsp;<span class="ident" id="7761513">err</span>&nbsp;<span class="op" id="7761517">!=</span>&nbsp;<span class="builtintype" id="7761520">nil</span>&nbsp;<span class="op" id="7761524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761529">t</span><span class="op" id="7761530">.</span><span class="ident" id="7761531">Errorf</span><span class="op" id="7761537">(</span><span class="string" id="7761538">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7761561">,</span>&nbsp;<span class="ident" id="7761563">regexp</span><span class="op" id="7761569">,</span>&nbsp;<span class="ident" id="7761571">err</span><span class="op" id="7761574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761581">}</span><br>
<span class="lineno">530</span><span class="op" id="7761583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7761586">func</span>&nbsp;<span class="ident" id="7761591">TestToStringEquivalentParse</span><span class="op" id="7761618">(</span><span class="ident" id="7761619">t</span>&nbsp;<span class="op" id="7761621">*</span><span class="ident" id="7761622">testing</span><span class="op" id="7761629">.</span><span class="ident" id="7761630">T</span><span class="op" id="7761631">)</span>&nbsp;<span class="op" id="7761633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761636">for</span>&nbsp;<span class="ident" id="7761640">_</span><span class="op" id="7761641">,</span>&nbsp;<span class="ident" id="7761643">tt</span>&nbsp;<span class="op" id="7761646">:=</span>&nbsp;<span class="keyword" id="7761649">range</span>&nbsp;<span class="ident" id="7761655">parseTests</span>&nbsp;<span class="op" id="7761666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761670">re</span><span class="op" id="7761672">,</span>&nbsp;<span class="ident" id="7761674">err</span>&nbsp;<span class="op" id="7761678">:=</span>&nbsp;<span class="ident" id="7761681">Parse</span><span class="op" id="7761686">(</span><span class="ident" id="7761687">tt</span><span class="op" id="7761689">.</span><span class="ident" id="7761690">Regexp</span><span class="op" id="7761696">,</span>&nbsp;<span class="ident" id="7761698">testFlags</span><span class="op" id="7761707">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761711">if</span>&nbsp;<span class="ident" id="7761714">err</span>&nbsp;<span class="op" id="7761718">!=</span>&nbsp;<span class="builtintype" id="7761721">nil</span>&nbsp;<span class="op" id="7761725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761730">t</span><span class="op" id="7761731">.</span><span class="ident" id="7761732">Errorf</span><span class="op" id="7761738">(</span><span class="string" id="7761739">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7761755">,</span>&nbsp;<span class="ident" id="7761757">tt</span><span class="op" id="7761759">.</span><span class="ident" id="7761760">Regexp</span><span class="op" id="7761766">,</span>&nbsp;<span class="ident" id="7761768">err</span><span class="op" id="7761771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761776">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761791">if</span>&nbsp;<span class="ident" id="7761794">tt</span><span class="op" id="7761796">.</span><span class="ident" id="7761797">Dump</span>&nbsp;<span class="op" id="7761802">==</span>&nbsp;<span class="string" id="7761805">&#34;&#34;</span>&nbsp;<span class="op" id="7761808">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7761813">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761856">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761871">d</span>&nbsp;<span class="op" id="7761873">:=</span>&nbsp;<span class="ident" id="7761876">dump</span><span class="op" id="7761880">(</span><span class="ident" id="7761881">re</span><span class="op" id="7761883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761887">if</span>&nbsp;<span class="ident" id="7761890">d</span>&nbsp;<span class="op" id="7761892">!=</span>&nbsp;<span class="ident" id="7761895">tt</span><span class="op" id="7761897">.</span><span class="ident" id="7761898">Dump</span>&nbsp;<span class="op" id="7761903">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761908">t</span><span class="op" id="7761909">.</span><span class="ident" id="7761910">Errorf</span><span class="op" id="7761916">(</span><span class="string" id="7761917">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7761951">,</span>&nbsp;<span class="ident" id="7761953">tt</span><span class="op" id="7761955">.</span><span class="ident" id="7761956">Regexp</span><span class="op" id="7761962">,</span>&nbsp;<span class="ident" id="7761964">d</span><span class="op" id="7761965">,</span>&nbsp;<span class="ident" id="7761967">tt</span><span class="op" id="7761969">.</span><span class="ident" id="7761970">Dump</span><span class="op" id="7761974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7761979">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7761990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7761995">s</span>&nbsp;<span class="op" id="7761997">:=</span>&nbsp;<span class="ident" id="7762000">re</span><span class="op" id="7762002">.</span><span class="ident" id="7762003">String</span><span class="op" id="7762009">(</span><span class="op" id="7762010">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7762014">if</span>&nbsp;<span class="ident" id="7762017">s</span>&nbsp;<span class="op" id="7762019">!=</span>&nbsp;<span class="ident" id="7762022">tt</span><span class="op" id="7762024">.</span><span class="ident" id="7762025">Regexp</span>&nbsp;<span class="op" id="7762032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7762037">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7762090">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7762138">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7762198">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7762249">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7762305">nre</span><span class="op" id="7762308">,</span>&nbsp;<span class="ident" id="7762310">err</span>&nbsp;<span class="op" id="7762314">:=</span>&nbsp;<span class="ident" id="7762317">Parse</span><span class="op" id="7762322">(</span><span class="ident" id="7762323">s</span><span class="op" id="7762324">,</span>&nbsp;<span class="ident" id="7762326">testFlags</span><span class="op" id="7762335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7762340">if</span>&nbsp;<span class="ident" id="7762343">err</span>&nbsp;<span class="op" id="7762347">!=</span>&nbsp;<span class="builtintype" id="7762350">nil</span>&nbsp;<span class="op" id="7762354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7762360">t</span><span class="op" id="7762361">.</span><span class="ident" id="7762362">Errorf</span><span class="op" id="7762368">(</span><span class="string" id="7762369">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7762400">,</span>&nbsp;<span class="ident" id="7762402">tt</span><span class="op" id="7762404">.</span><span class="ident" id="7762405">Regexp</span><span class="op" id="7762411">,</span>&nbsp;<span class="ident" id="7762413">s</span><span class="op" id="7762414">,</span>&nbsp;<span class="ident" id="7762416">err</span><span class="op" id="7762419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7762425">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7762437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7762442">nd</span>&nbsp;<span class="op" id="7762445">:=</span>&nbsp;<span class="ident" id="7762448">dump</span><span class="op" id="7762452">(</span><span class="ident" id="7762453">nre</span><span class="op" id="7762456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7762461">if</span>&nbsp;<span class="ident" id="7762464">d</span>&nbsp;<span class="op" id="7762466">!=</span>&nbsp;<span class="ident" id="7762469">nd</span>&nbsp;<span class="op" id="7762472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7762478">t</span><span class="op" id="7762479">.</span><span class="ident" id="7762480">Errorf</span><span class="op" id="7762486">(</span><span class="string" id="7762487">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7762518">,</span>&nbsp;<span class="ident" id="7762520">tt</span><span class="op" id="7762522">.</span><span class="ident" id="7762523">Regexp</span><span class="op" id="7762529">,</span>&nbsp;<span class="ident" id="7762531">s</span><span class="op" id="7762532">,</span>&nbsp;<span class="ident" id="7762534">d</span><span class="op" id="7762535">,</span>&nbsp;<span class="ident" id="7762537">nd</span><span class="op" id="7762539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7762544">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7762550">ns</span>&nbsp;<span class="op" id="7762553">:=</span>&nbsp;<span class="ident" id="7762556">nre</span><span class="op" id="7762559">.</span><span class="ident" id="7762560">String</span><span class="op" id="7762566">(</span><span class="op" id="7762567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7762572">if</span>&nbsp;<span class="ident" id="7762575">s</span>&nbsp;<span class="op" id="7762577">!=</span>&nbsp;<span class="ident" id="7762580">ns</span>&nbsp;<span class="op" id="7762583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7762589">t</span><span class="op" id="7762590">.</span><span class="ident" id="7762591">Errorf</span><span class="op" id="7762597">(</span><span class="string" id="7762598">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7762624">,</span>&nbsp;<span class="ident" id="7762626">tt</span><span class="op" id="7762628">.</span><span class="ident" id="7762629">Regexp</span><span class="op" id="7762635">,</span>&nbsp;<span class="ident" id="7762637">s</span><span class="op" id="7762638">,</span>&nbsp;<span class="ident" id="7762640">ns</span><span class="op" id="7762642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7762647">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7762651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7762654">}</span><br>
<span class="lineno"></span><span class="op" id="7762656">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
