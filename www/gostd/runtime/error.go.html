<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1479853">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1479908">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1479962">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1480013">package</span>&nbsp;<span class="ident" id="1480021">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1480030">import</span>&nbsp;<span class="string" id="1480037">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1480047">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1480099">type</span>&nbsp;<span class="ident" id="1480104">Error</span>&nbsp;<span class="keyword" id="1480110">interface</span>&nbsp;<span class="op" id="1480120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1480123">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480131">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480172">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480221">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480266">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480317">RuntimeError</span><span class="op" id="1480329">(</span><span class="op" id="1480330">)</span><br>
<span class="lineno"></span><span class="op" id="1480332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1480335">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1480393">type</span>&nbsp;<span class="ident" id="1480398">TypeAssertionError</span>&nbsp;<span class="keyword" id="1480417">struct</span>&nbsp;<span class="op" id="1480424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480427">interfaceString</span>&nbsp;<span class="builtintype" id="1480443">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480451">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1480467">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480475">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1480491">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480499">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1480515">string</span>&nbsp;<span class="comment" id="1480522">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1480579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1480582">func</span>&nbsp;<span class="op" id="1480587">(</span><span class="op" id="1480588">*</span><span class="ident" id="1480589">TypeAssertionError</span><span class="op" id="1480607">)</span>&nbsp;<span class="ident" id="1480609">RuntimeError</span><span class="op" id="1480621">(</span><span class="op" id="1480622">)</span>&nbsp;<span class="op" id="1480624">{</span><span class="op" id="1480625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1480628">func</span>&nbsp;<span class="op" id="1480633">(</span><span class="ident" id="1480634">e</span>&nbsp;<span class="op" id="1480636">*</span><span class="ident" id="1480637">TypeAssertionError</span><span class="op" id="1480655">)</span>&nbsp;<span class="ident" id="1480657">Error</span><span class="op" id="1480662">(</span><span class="op" id="1480663">)</span>&nbsp;<span class="builtintype" id="1480665">string</span>&nbsp;<span class="op" id="1480672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480675">inter</span>&nbsp;<span class="op" id="1480681">:=</span>&nbsp;<span class="ident" id="1480684">e</span><span class="op" id="1480685">.</span><span class="ident" id="1480686">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480703">if</span>&nbsp;<span class="ident" id="1480706">inter</span>&nbsp;<span class="op" id="1480712">==</span>&nbsp;<span class="string" id="1480715">&#34;&#34;</span>&nbsp;<span class="op" id="1480718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480722">inter</span>&nbsp;<span class="op" id="1480728">=</span>&nbsp;<span class="string" id="1480730">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480743">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480746">if</span>&nbsp;<span class="ident" id="1480749">e</span><span class="op" id="1480750">.</span><span class="ident" id="1480751">concreteString</span>&nbsp;<span class="op" id="1480766">==</span>&nbsp;<span class="string" id="1480769">&#34;&#34;</span>&nbsp;<span class="op" id="1480772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480776">return</span>&nbsp;<span class="string" id="1480783">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1480808">+</span>&nbsp;<span class="ident" id="1480810">inter</span>&nbsp;<span class="op" id="1480816">+</span>&nbsp;<span class="string" id="1480818">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1480834">+</span>&nbsp;<span class="ident" id="1480836">e</span><span class="op" id="1480837">.</span><span class="ident" id="1480838">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480857">if</span>&nbsp;<span class="ident" id="1480860">e</span><span class="op" id="1480861">.</span><span class="ident" id="1480862">missingMethod</span>&nbsp;<span class="op" id="1480876">==</span>&nbsp;<span class="string" id="1480879">&#34;&#34;</span>&nbsp;<span class="op" id="1480882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480886">return</span>&nbsp;<span class="string" id="1480893">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1480918">+</span>&nbsp;<span class="ident" id="1480920">inter</span>&nbsp;<span class="op" id="1480926">+</span>&nbsp;<span class="string" id="1480928">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1480935">+</span>&nbsp;<span class="ident" id="1480937">e</span><span class="op" id="1480938">.</span><span class="ident" id="1480939">concreteString</span>&nbsp;<span class="op" id="1480954">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1480959">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1480968">+</span>&nbsp;<span class="ident" id="1480970">e</span><span class="op" id="1480971">.</span><span class="ident" id="1480972">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480991">return</span>&nbsp;<span class="string" id="1480998">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1481023">+</span>&nbsp;<span class="ident" id="1481025">e</span><span class="op" id="1481026">.</span><span class="ident" id="1481027">concreteString</span>&nbsp;<span class="op" id="1481042">+</span>&nbsp;<span class="string" id="1481044">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1481055">+</span>&nbsp;<span class="ident" id="1481057">e</span><span class="op" id="1481058">.</span><span class="ident" id="1481059">assertedString</span>&nbsp;<span class="op" id="1481074">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1481078">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1481098">+</span>&nbsp;<span class="ident" id="1481100">e</span><span class="op" id="1481101">.</span><span class="ident" id="1481102">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1481116">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1481119">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1481142">func</span>&nbsp;<span class="ident" id="1481147">newTypeAssertionError</span><span class="op" id="1481168">(</span><span class="ident" id="1481169">ps1</span><span class="op" id="1481172">,</span>&nbsp;<span class="ident" id="1481174">ps2</span><span class="op" id="1481177">,</span>&nbsp;<span class="ident" id="1481179">ps3</span>&nbsp;<span class="op" id="1481183">*</span><span class="builtintype" id="1481184">string</span><span class="op" id="1481190">,</span>&nbsp;<span class="ident" id="1481192">pmeth</span>&nbsp;<span class="op" id="1481198">*</span><span class="builtintype" id="1481199">string</span><span class="op" id="1481205">,</span>&nbsp;<span class="ident" id="1481207">ret</span>&nbsp;<span class="op" id="1481211">*</span><span class="keyword" id="1481212">interface</span><span class="op" id="1481221">{</span><span class="op" id="1481222">}</span><span class="op" id="1481223">)</span>&nbsp;<span class="op" id="1481225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481228">var</span>&nbsp;<span class="ident" id="1481232">s1</span><span class="op" id="1481234">,</span>&nbsp;<span class="ident" id="1481236">s2</span><span class="op" id="1481238">,</span>&nbsp;<span class="ident" id="1481240">s3</span><span class="op" id="1481242">,</span>&nbsp;<span class="ident" id="1481244">meth</span>&nbsp;<span class="builtintype" id="1481249">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481258">if</span>&nbsp;<span class="ident" id="1481261">ps1</span>&nbsp;<span class="op" id="1481265">!=</span>&nbsp;<span class="ident" id="1481268">nil</span>&nbsp;<span class="op" id="1481272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481276">s1</span>&nbsp;<span class="op" id="1481279">=</span>&nbsp;<span class="op" id="1481281">*</span><span class="ident" id="1481282">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481290">if</span>&nbsp;<span class="ident" id="1481293">ps2</span>&nbsp;<span class="op" id="1481297">!=</span>&nbsp;<span class="ident" id="1481300">nil</span>&nbsp;<span class="op" id="1481304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481308">s2</span>&nbsp;<span class="op" id="1481311">=</span>&nbsp;<span class="op" id="1481313">*</span><span class="ident" id="1481314">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481322">if</span>&nbsp;<span class="ident" id="1481325">ps3</span>&nbsp;<span class="op" id="1481329">!=</span>&nbsp;<span class="ident" id="1481332">nil</span>&nbsp;<span class="op" id="1481336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481340">s3</span>&nbsp;<span class="op" id="1481343">=</span>&nbsp;<span class="op" id="1481345">*</span><span class="ident" id="1481346">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481354">if</span>&nbsp;<span class="ident" id="1481357">pmeth</span>&nbsp;<span class="op" id="1481363">!=</span>&nbsp;<span class="ident" id="1481366">nil</span>&nbsp;<span class="op" id="1481370">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481374">meth</span>&nbsp;<span class="op" id="1481379">=</span>&nbsp;<span class="op" id="1481381">*</span><span class="ident" id="1481382">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481392">*</span><span class="ident" id="1481393">ret</span>&nbsp;<span class="op" id="1481397">=</span>&nbsp;<span class="op" id="1481399">&amp;</span><span class="ident" id="1481400">TypeAssertionError</span><span class="op" id="1481418">{</span><span class="ident" id="1481419">s1</span><span class="op" id="1481421">,</span>&nbsp;<span class="ident" id="1481423">s2</span><span class="op" id="1481425">,</span>&nbsp;<span class="ident" id="1481427">s3</span><span class="op" id="1481429">,</span>&nbsp;<span class="ident" id="1481431">meth</span><span class="op" id="1481435">}</span><br>
<span class="lineno"></span><span class="op" id="1481437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1481440">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1481515">type</span>&nbsp;<span class="ident" id="1481520">errorString</span>&nbsp;<span class="builtintype" id="1481532">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1481540">func</span>&nbsp;<span class="op" id="1481545">(</span><span class="ident" id="1481546">e</span>&nbsp;<span class="ident" id="1481548">errorString</span><span class="op" id="1481559">)</span>&nbsp;<span class="ident" id="1481561">RuntimeError</span><span class="op" id="1481573">(</span><span class="op" id="1481574">)</span>&nbsp;<span class="op" id="1481576">{</span><span class="op" id="1481577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1481580">func</span>&nbsp;<span class="op" id="1481585">(</span><span class="ident" id="1481586">e</span>&nbsp;<span class="ident" id="1481588">errorString</span><span class="op" id="1481599">)</span>&nbsp;<span class="ident" id="1481601">Error</span><span class="op" id="1481606">(</span><span class="op" id="1481607">)</span>&nbsp;<span class="builtintype" id="1481609">string</span>&nbsp;<span class="op" id="1481616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481619">return</span>&nbsp;<span class="string" id="1481626">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1481644">+</span>&nbsp;<span class="builtintype" id="1481646">string</span><span class="op" id="1481652">(</span><span class="ident" id="1481653">e</span><span class="op" id="1481654">)</span><br>
<span class="lineno"></span><span class="op" id="1481656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1481659">type</span>&nbsp;<span class="ident" id="1481664">stringer</span>&nbsp;<span class="keyword" id="1481673">interface</span>&nbsp;<span class="op" id="1481683">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481686">String</span><span class="op" id="1481692">(</span><span class="op" id="1481693">)</span>&nbsp;<span class="builtintype" id="1481695">string</span><br>
<span class="lineno"></span><span class="op" id="1481702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1481705">func</span>&nbsp;<span class="ident" id="1481710">typestring</span><span class="op" id="1481720">(</span><span class="ident" id="1481721">x</span>&nbsp;<span class="keyword" id="1481723">interface</span><span class="op" id="1481732">{</span><span class="op" id="1481733">}</span><span class="op" id="1481734">)</span>&nbsp;<span class="builtintype" id="1481736">string</span>&nbsp;<span class="op" id="1481743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481746">e</span>&nbsp;<span class="op" id="1481748">:=</span>&nbsp;<span class="op" id="1481751">(</span><span class="op" id="1481752">*</span><span class="ident" id="1481753">eface</span><span class="op" id="1481758">)</span><span class="op" id="1481759">(</span><span class="ident" id="1481760">unsafe</span><span class="op" id="1481766">.</span><span class="ident" id="1481767">Pointer</span><span class="op" id="1481774">(</span><span class="op" id="1481775">&amp;</span><span class="ident" id="1481776">x</span><span class="op" id="1481777">)</span><span class="op" id="1481778">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481781">return</span>&nbsp;<span class="op" id="1481788">*</span><span class="ident" id="1481789">e</span><span class="op" id="1481790">.</span><span class="ident" id="1481791">_type</span><span class="op" id="1481796">.</span><span class="ident" id="1481797">_string</span><br>
<span class="lineno"></span><span class="op" id="1481805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1481808">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1481831">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1481870">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1481932">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1482008">func</span>&nbsp;<span class="ident" id="1482013">printany</span><span class="op" id="1482021">(</span><span class="ident" id="1482022">i</span>&nbsp;<span class="keyword" id="1482024">interface</span><span class="op" id="1482033">{</span><span class="op" id="1482034">}</span><span class="op" id="1482035">)</span>&nbsp;<span class="op" id="1482037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482040">switch</span>&nbsp;<span class="ident" id="1482047">v</span>&nbsp;<span class="op" id="1482049">:=</span>&nbsp;<span class="ident" id="1482052">i</span><span class="op" id="1482053">.</span><span class="op" id="1482054">(</span><span class="keyword" id="1482055">type</span><span class="op" id="1482059">)</span>&nbsp;<span class="op" id="1482061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482064">case</span>&nbsp;<span class="ident" id="1482069">nil</span><span class="op" id="1482072">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482076">print</span><span class="op" id="1482081">(</span><span class="string" id="1482082">&#34;nil&#34;</span><span class="op" id="1482087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482090">case</span>&nbsp;<span class="ident" id="1482095">stringer</span><span class="op" id="1482103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482107">print</span><span class="op" id="1482112">(</span><span class="ident" id="1482113">v</span><span class="op" id="1482114">.</span><span class="ident" id="1482115">String</span><span class="op" id="1482121">(</span><span class="op" id="1482122">)</span><span class="op" id="1482123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482126">case</span>&nbsp;<span class="builtintype" id="1482131">error</span><span class="op" id="1482136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482140">print</span><span class="op" id="1482145">(</span><span class="ident" id="1482146">v</span><span class="op" id="1482147">.</span><span class="ident" id="1482148">Error</span><span class="op" id="1482153">(</span><span class="op" id="1482154">)</span><span class="op" id="1482155">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482158">case</span>&nbsp;<span class="builtintype" id="1482163">int</span><span class="op" id="1482166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482170">print</span><span class="op" id="1482175">(</span><span class="ident" id="1482176">v</span><span class="op" id="1482177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482180">case</span>&nbsp;<span class="builtintype" id="1482185">string</span><span class="op" id="1482191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482195">print</span><span class="op" id="1482200">(</span><span class="ident" id="1482201">v</span><span class="op" id="1482202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482205">default</span><span class="op" id="1482212">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482216">print</span><span class="op" id="1482221">(</span><span class="string" id="1482222">&#34;(&#34;</span><span class="op" id="1482225">,</span>&nbsp;<span class="ident" id="1482227">typestring</span><span class="op" id="1482237">(</span><span class="ident" id="1482238">i</span><span class="op" id="1482239">)</span><span class="op" id="1482240">,</span>&nbsp;<span class="string" id="1482242">&#34;)&nbsp;&#34;</span><span class="op" id="1482246">,</span>&nbsp;<span class="ident" id="1482248">i</span><span class="op" id="1482249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482252">}</span><br>
<span class="lineno"></span><span class="op" id="1482254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1482257">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1482287">func</span>&nbsp;<span class="ident" id="1482292">panicwrap</span><span class="op" id="1482301">(</span><span class="ident" id="1482302">pkg</span><span class="op" id="1482305">,</span>&nbsp;<span class="ident" id="1482307">typ</span><span class="op" id="1482310">,</span>&nbsp;<span class="ident" id="1482312">meth</span>&nbsp;<span class="builtintype" id="1482317">string</span><span class="op" id="1482323">)</span>&nbsp;<span class="op" id="1482325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1482328">panic</span><span class="op" id="1482333">(</span><span class="string" id="1482334">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1482350">+</span>&nbsp;<span class="ident" id="1482352">pkg</span>&nbsp;<span class="op" id="1482356">+</span>&nbsp;<span class="string" id="1482358">&#34;.&#34;</span>&nbsp;<span class="op" id="1482362">+</span>&nbsp;<span class="ident" id="1482364">typ</span>&nbsp;<span class="op" id="1482368">+</span>&nbsp;<span class="string" id="1482370">&#34;.&#34;</span>&nbsp;<span class="op" id="1482374">+</span>&nbsp;<span class="ident" id="1482376">meth</span>&nbsp;<span class="op" id="1482381">+</span>&nbsp;<span class="string" id="1482383">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1482405">+</span>&nbsp;<span class="ident" id="1482407">typ</span>&nbsp;<span class="op" id="1482411">+</span>&nbsp;<span class="string" id="1482413">&#34;&nbsp;pointer&#34;</span><span class="op" id="1482423">)</span><br>
<span class="lineno"></span><span class="op" id="1482425">}</span>
</div>
</body>
</html>
