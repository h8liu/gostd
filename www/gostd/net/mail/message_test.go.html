<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/mail</h2>
<ul>
<li><a href="/gostd/net/mail/message.go.html">message.go</a></li>
<li><a href="/gostd/net/mail/message_test.go.html">message_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7238605">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7238660">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7238714">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7238765">package</span>&nbsp;<span class="ident" id="7238773">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7238779">import</span>&nbsp;<span class="op" id="7238786">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7238789">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7238798">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7238811">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7238822">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7238833">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7238844">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7238851">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7238854">var</span>&nbsp;<span class="ident" id="7238858">parseTests</span>&nbsp;<span class="op" id="7238869">=</span>&nbsp;<span class="op" id="7238871">[</span><span class="op" id="7238872">]</span><span class="keyword" id="7238873">struct</span>&nbsp;<span class="op" id="7238880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7238883">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7238890">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7238898">header</span>&nbsp;<span class="ident" id="7238905">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7238913">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7238920">string</span><br>
<span class="lineno">20</span><span class="op" id="7238927">}</span><span class="op" id="7238928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7238931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7238935">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7238965">in</span><span class="op" id="7238967">:</span>&nbsp;<span class="string" id="7238969">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="7239195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239199">header</span><span class="op" id="7239205">:</span>&nbsp;<span class="ident" id="7239207">Header</span><span class="op" id="7239213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7239218">&#34;From&#34;</span><span class="op" id="7239224">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7239232">[</span><span class="op" id="7239233">]</span><span class="builtintype" id="7239234">string</span><span class="op" id="7239240">{</span><span class="string" id="7239241">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="7239274">}</span><span class="op" id="7239275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7239280">&#34;To&#34;</span><span class="op" id="7239284">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7239294">[</span><span class="op" id="7239295">]</span><span class="builtintype" id="7239296">string</span><span class="op" id="7239302">{</span><span class="string" id="7239303">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="7239334">}</span><span class="op" id="7239335">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7239340">&#34;Subject&#34;</span><span class="op" id="7239349">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7239354">[</span><span class="op" id="7239355">]</span><span class="builtintype" id="7239356">string</span><span class="op" id="7239362">{</span><span class="string" id="7239363">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="7239377">}</span><span class="op" id="7239378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7239383">&#34;Date&#34;</span><span class="op" id="7239389">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7239397">[</span><span class="op" id="7239398">]</span><span class="builtintype" id="7239399">string</span><span class="op" id="7239405">{</span><span class="string" id="7239406">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7239439">}</span><span class="op" id="7239440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7239445">&#34;Message-Id&#34;</span><span class="op" id="7239457">:</span>&nbsp;<span class="op" id="7239459">[</span><span class="op" id="7239460">]</span><span class="builtintype" id="7239461">string</span><span class="op" id="7239467">{</span><span class="string" id="7239468">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="7239498">}</span><span class="op" id="7239499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7239503">}</span><span class="op" id="7239504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239508">body</span><span class="op" id="7239512">:</span>&nbsp;<span class="string" id="7239514">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="7239570">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7239573">}</span><span class="op" id="7239574">,</span><br>
<span class="lineno"></span><span class="op" id="7239576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7239579">func</span>&nbsp;<span class="ident" id="7239584">TestParsing</span><span class="op" id="7239595">(</span><span class="ident" id="7239596">t</span>&nbsp;<span class="op" id="7239598">*</span><span class="ident" id="7239599">testing</span><span class="op" id="7239606">.</span><span class="ident" id="7239607">T</span><span class="op" id="7239608">)</span>&nbsp;<span class="op" id="7239610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7239613">for</span>&nbsp;<span class="ident" id="7239617">i</span><span class="op" id="7239618">,</span>&nbsp;<span class="ident" id="7239620">test</span>&nbsp;<span class="op" id="7239625">:=</span>&nbsp;<span class="keyword" id="7239628">range</span>&nbsp;<span class="ident" id="7239634">parseTests</span>&nbsp;<span class="op" id="7239645">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239649">msg</span><span class="op" id="7239652">,</span>&nbsp;<span class="ident" id="7239654">err</span>&nbsp;<span class="op" id="7239658">:=</span>&nbsp;<span class="ident" id="7239661">ReadMessage</span><span class="op" id="7239672">(</span><span class="ident" id="7239673">bytes</span><span class="op" id="7239678">.</span><span class="ident" id="7239679">NewBuffer</span><span class="op" id="7239688">(</span><span class="op" id="7239689">[</span><span class="op" id="7239690">]</span><span class="builtintype" id="7239691">byte</span><span class="op" id="7239695">(</span><span class="ident" id="7239696">test</span><span class="op" id="7239700">.</span><span class="ident" id="7239701">in</span><span class="op" id="7239703">)</span><span class="op" id="7239704">)</span><span class="op" id="7239705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7239709">if</span>&nbsp;<span class="ident" id="7239712">err</span>&nbsp;<span class="op" id="7239716">!=</span>&nbsp;<span class="ident" id="7239719">nil</span>&nbsp;<span class="op" id="7239723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239728">t</span><span class="op" id="7239729">.</span><span class="ident" id="7239730">Errorf</span><span class="op" id="7239736">(</span><span class="string" id="7239737">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="7239775">,</span>&nbsp;<span class="ident" id="7239777">i</span><span class="op" id="7239778">,</span>&nbsp;<span class="ident" id="7239780">err</span><span class="op" id="7239783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7239788">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7239799">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7239803">if</span>&nbsp;<span class="op" id="7239806">!</span><span class="ident" id="7239807">headerEq</span><span class="op" id="7239815">(</span><span class="ident" id="7239816">msg</span><span class="op" id="7239819">.</span><span class="ident" id="7239820">Header</span><span class="op" id="7239826">,</span>&nbsp;<span class="ident" id="7239828">test</span><span class="op" id="7239832">.</span><span class="ident" id="7239833">header</span><span class="op" id="7239839">)</span>&nbsp;<span class="op" id="7239841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239846">t</span><span class="op" id="7239847">.</span><span class="ident" id="7239848">Errorf</span><span class="op" id="7239854">(</span><span class="string" id="7239855">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7239924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239930">i</span><span class="op" id="7239931">,</span>&nbsp;<span class="ident" id="7239933">msg</span><span class="op" id="7239936">.</span><span class="ident" id="7239937">Header</span><span class="op" id="7239943">,</span>&nbsp;<span class="ident" id="7239945">test</span><span class="op" id="7239949">.</span><span class="ident" id="7239950">header</span><span class="op" id="7239956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7239960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7239964">body</span><span class="op" id="7239968">,</span>&nbsp;<span class="ident" id="7239970">err</span>&nbsp;<span class="op" id="7239974">:=</span>&nbsp;<span class="ident" id="7239977">ioutil</span><span class="op" id="7239983">.</span><span class="ident" id="7239984">ReadAll</span><span class="op" id="7239991">(</span><span class="ident" id="7239992">msg</span><span class="op" id="7239995">.</span><span class="ident" id="7239996">Body</span><span class="op" id="7240000">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240004">if</span>&nbsp;<span class="ident" id="7240007">err</span>&nbsp;<span class="op" id="7240011">!=</span>&nbsp;<span class="ident" id="7240014">nil</span>&nbsp;<span class="op" id="7240018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240023">t</span><span class="op" id="7240024">.</span><span class="ident" id="7240025">Errorf</span><span class="op" id="7240031">(</span><span class="string" id="7240032">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7240067">,</span>&nbsp;<span class="ident" id="7240069">i</span><span class="op" id="7240070">,</span>&nbsp;<span class="ident" id="7240072">err</span><span class="op" id="7240075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240080">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240095">bodyStr</span>&nbsp;<span class="op" id="7240103">:=</span>&nbsp;<span class="builtintype" id="7240106">string</span><span class="op" id="7240112">(</span><span class="ident" id="7240113">body</span><span class="op" id="7240117">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240121">if</span>&nbsp;<span class="ident" id="7240124">bodyStr</span>&nbsp;<span class="op" id="7240132">!=</span>&nbsp;<span class="ident" id="7240135">test</span><span class="op" id="7240139">.</span><span class="ident" id="7240140">body</span>&nbsp;<span class="op" id="7240145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240150">t</span><span class="op" id="7240151">.</span><span class="ident" id="7240152">Errorf</span><span class="op" id="7240158">(</span><span class="string" id="7240159">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7240226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240232">i</span><span class="op" id="7240233">,</span>&nbsp;<span class="ident" id="7240235">bodyStr</span><span class="op" id="7240242">,</span>&nbsp;<span class="ident" id="7240244">test</span><span class="op" id="7240248">.</span><span class="ident" id="7240249">body</span><span class="op" id="7240253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240260">}</span><br>
<span class="lineno">65</span><span class="op" id="7240262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7240265">func</span>&nbsp;<span class="ident" id="7240270">headerEq</span><span class="op" id="7240278">(</span><span class="ident" id="7240279">a</span><span class="op" id="7240280">,</span>&nbsp;<span class="ident" id="7240282">b</span>&nbsp;<span class="ident" id="7240284">Header</span><span class="op" id="7240290">)</span>&nbsp;<span class="builtintype" id="7240292">bool</span>&nbsp;<span class="op" id="7240297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240300">if</span>&nbsp;<span class="builtinfunc" id="7240303">len</span><span class="op" id="7240306">(</span><span class="ident" id="7240307">a</span><span class="op" id="7240308">)</span>&nbsp;<span class="op" id="7240310">!=</span>&nbsp;<span class="builtinfunc" id="7240313">len</span><span class="op" id="7240316">(</span><span class="ident" id="7240317">b</span><span class="op" id="7240318">)</span>&nbsp;<span class="op" id="7240320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240324">return</span>&nbsp;<span class="builtintype" id="7240331">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240341">for</span>&nbsp;<span class="ident" id="7240345">k</span><span class="op" id="7240346">,</span>&nbsp;<span class="ident" id="7240348">as</span>&nbsp;<span class="op" id="7240351">:=</span>&nbsp;<span class="keyword" id="7240354">range</span>&nbsp;<span class="ident" id="7240360">a</span>&nbsp;<span class="op" id="7240362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240366">bs</span><span class="op" id="7240368">,</span>&nbsp;<span class="ident" id="7240370">ok</span>&nbsp;<span class="op" id="7240373">:=</span>&nbsp;<span class="ident" id="7240376">b</span><span class="op" id="7240377">[</span><span class="ident" id="7240378">k</span><span class="op" id="7240379">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240383">if</span>&nbsp;<span class="op" id="7240386">!</span><span class="ident" id="7240387">ok</span>&nbsp;<span class="op" id="7240390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240395">return</span>&nbsp;<span class="builtintype" id="7240402">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240414">if</span>&nbsp;<span class="op" id="7240417">!</span><span class="ident" id="7240418">reflect</span><span class="op" id="7240425">.</span><span class="ident" id="7240426">DeepEqual</span><span class="op" id="7240435">(</span><span class="ident" id="7240436">as</span><span class="op" id="7240438">,</span>&nbsp;<span class="ident" id="7240440">bs</span><span class="op" id="7240442">)</span>&nbsp;<span class="op" id="7240444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240449">return</span>&nbsp;<span class="builtintype" id="7240456">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240467">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7240470">return</span>&nbsp;<span class="builtintype" id="7240477">true</span><br>
<span class="lineno"></span><span class="op" id="7240482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7240485">func</span>&nbsp;<span class="ident" id="7240490">TestDateParsing</span><span class="op" id="7240505">(</span><span class="ident" id="7240506">t</span>&nbsp;<span class="op" id="7240508">*</span><span class="ident" id="7240509">testing</span><span class="op" id="7240516">.</span><span class="ident" id="7240517">T</span><span class="op" id="7240518">)</span>&nbsp;<span class="op" id="7240520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240523">tests</span>&nbsp;<span class="op" id="7240529">:=</span>&nbsp;<span class="op" id="7240532">[</span><span class="op" id="7240533">]</span><span class="keyword" id="7240534">struct</span>&nbsp;<span class="op" id="7240541">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240545">dateStr</span>&nbsp;<span class="builtintype" id="7240553">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240562">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7240570">time</span><span class="op" id="7240574">.</span><span class="ident" id="7240575">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240581">}</span><span class="op" id="7240582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7240586">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240616">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7240621">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7240654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240659">time</span><span class="op" id="7240663">.</span><span class="ident" id="7240664">Date</span><span class="op" id="7240668">(</span><span class="num" id="7240669">1997</span><span class="op" id="7240673">,</span>&nbsp;<span class="num" id="7240675">11</span><span class="op" id="7240677">,</span>&nbsp;<span class="num" id="7240679">21</span><span class="op" id="7240681">,</span>&nbsp;<span class="num" id="7240683">9</span><span class="op" id="7240684">,</span>&nbsp;<span class="num" id="7240686">55</span><span class="op" id="7240688">,</span>&nbsp;<span class="num" id="7240690">6</span><span class="op" id="7240691">,</span>&nbsp;<span class="num" id="7240693">0</span><span class="op" id="7240694">,</span>&nbsp;<span class="ident" id="7240696">time</span><span class="op" id="7240700">.</span><span class="ident" id="7240701">FixedZone</span><span class="op" id="7240710">(</span><span class="string" id="7240711">&#34;&#34;</span><span class="op" id="7240713">,</span>&nbsp;<span class="op" id="7240715">-</span><span class="num" id="7240716">6</span><span class="op" id="7240717">*</span><span class="num" id="7240718">60</span><span class="op" id="7240720">*</span><span class="num" id="7240721">60</span><span class="op" id="7240723">)</span><span class="op" id="7240724">)</span><span class="op" id="7240725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240729">}</span><span class="op" id="7240730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7240734">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7240763">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7240788">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="7240812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240817">time</span><span class="op" id="7240821">.</span><span class="ident" id="7240822">Date</span><span class="op" id="7240826">(</span><span class="num" id="7240827">1997</span><span class="op" id="7240831">,</span>&nbsp;<span class="num" id="7240833">11</span><span class="op" id="7240835">,</span>&nbsp;<span class="num" id="7240837">21</span><span class="op" id="7240839">,</span>&nbsp;<span class="num" id="7240841">9</span><span class="op" id="7240842">,</span>&nbsp;<span class="num" id="7240844">55</span><span class="op" id="7240846">,</span>&nbsp;<span class="num" id="7240848">6</span><span class="op" id="7240849">,</span>&nbsp;<span class="num" id="7240851">0</span><span class="op" id="7240852">,</span>&nbsp;<span class="ident" id="7240854">time</span><span class="op" id="7240858">.</span><span class="ident" id="7240859">FixedZone</span><span class="op" id="7240868">(</span><span class="string" id="7240869">&#34;GMT&#34;</span><span class="op" id="7240874">,</span>&nbsp;<span class="num" id="7240876">0</span><span class="op" id="7240877">)</span><span class="op" id="7240878">)</span><span class="op" id="7240879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240883">}</span><span class="op" id="7240884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7240888">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7240942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7240947">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="7240986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7240991">time</span><span class="op" id="7240995">.</span><span class="ident" id="7240996">Date</span><span class="op" id="7241000">(</span><span class="num" id="7241001">1997</span><span class="op" id="7241005">,</span>&nbsp;<span class="num" id="7241007">11</span><span class="op" id="7241009">,</span>&nbsp;<span class="num" id="7241011">21</span><span class="op" id="7241013">,</span>&nbsp;<span class="num" id="7241015">9</span><span class="op" id="7241016">,</span>&nbsp;<span class="num" id="7241018">55</span><span class="op" id="7241020">,</span>&nbsp;<span class="num" id="7241022">6</span><span class="op" id="7241023">,</span>&nbsp;<span class="num" id="7241025">0</span><span class="op" id="7241026">,</span>&nbsp;<span class="ident" id="7241028">time</span><span class="op" id="7241032">.</span><span class="ident" id="7241033">FixedZone</span><span class="op" id="7241042">(</span><span class="string" id="7241043">&#34;&#34;</span><span class="op" id="7241045">,</span>&nbsp;<span class="op" id="7241047">-</span><span class="num" id="7241048">6</span><span class="op" id="7241049">*</span><span class="num" id="7241050">60</span><span class="op" id="7241052">*</span><span class="num" id="7241053">60</span><span class="op" id="7241055">)</span><span class="op" id="7241056">)</span><span class="op" id="7241057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241061">}</span><span class="op" id="7241062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241065">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7241068">for</span>&nbsp;<span class="ident" id="7241072">_</span><span class="op" id="7241073">,</span>&nbsp;<span class="ident" id="7241075">test</span>&nbsp;<span class="op" id="7241080">:=</span>&nbsp;<span class="keyword" id="7241083">range</span>&nbsp;<span class="ident" id="7241089">tests</span>&nbsp;<span class="op" id="7241095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241099">hdr</span>&nbsp;<span class="op" id="7241103">:=</span>&nbsp;<span class="ident" id="7241106">Header</span><span class="op" id="7241112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7241117">&#34;Date&#34;</span><span class="op" id="7241123">:</span>&nbsp;<span class="op" id="7241125">[</span><span class="op" id="7241126">]</span><span class="builtintype" id="7241127">string</span><span class="op" id="7241133">{</span><span class="ident" id="7241134">test</span><span class="op" id="7241138">.</span><span class="ident" id="7241139">dateStr</span><span class="op" id="7241146">}</span><span class="op" id="7241147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241155">date</span><span class="op" id="7241159">,</span>&nbsp;<span class="ident" id="7241161">err</span>&nbsp;<span class="op" id="7241165">:=</span>&nbsp;<span class="ident" id="7241168">hdr</span><span class="op" id="7241171">.</span><span class="ident" id="7241172">Date</span><span class="op" id="7241176">(</span><span class="op" id="7241177">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7241181">if</span>&nbsp;<span class="ident" id="7241184">err</span>&nbsp;<span class="op" id="7241188">!=</span>&nbsp;<span class="ident" id="7241191">nil</span>&nbsp;<span class="op" id="7241195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241200">t</span><span class="op" id="7241201">.</span><span class="ident" id="7241202">Errorf</span><span class="op" id="7241208">(</span><span class="string" id="7241209">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7241232">,</span>&nbsp;<span class="ident" id="7241234">test</span><span class="op" id="7241238">.</span><span class="ident" id="7241239">dateStr</span><span class="op" id="7241246">,</span>&nbsp;<span class="ident" id="7241248">err</span><span class="op" id="7241251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7241256">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7241271">if</span>&nbsp;<span class="op" id="7241274">!</span><span class="ident" id="7241275">date</span><span class="op" id="7241279">.</span><span class="ident" id="7241280">Equal</span><span class="op" id="7241285">(</span><span class="ident" id="7241286">test</span><span class="op" id="7241290">.</span><span class="ident" id="7241291">exp</span><span class="op" id="7241294">)</span>&nbsp;<span class="op" id="7241296">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241301">t</span><span class="op" id="7241302">.</span><span class="ident" id="7241303">Errorf</span><span class="op" id="7241309">(</span><span class="string" id="7241310">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7241342">,</span>&nbsp;<span class="ident" id="7241344">test</span><span class="op" id="7241348">.</span><span class="ident" id="7241349">dateStr</span><span class="op" id="7241356">,</span>&nbsp;<span class="ident" id="7241358">date</span><span class="op" id="7241362">,</span>&nbsp;<span class="ident" id="7241364">test</span><span class="op" id="7241368">.</span><span class="ident" id="7241369">exp</span><span class="op" id="7241372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241379">}</span><br>
<span class="lineno"></span><span class="op" id="7241381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7241384">func</span>&nbsp;<span class="ident" id="7241389">TestAddressParsingError</span><span class="op" id="7241412">(</span><span class="ident" id="7241413">t</span>&nbsp;<span class="op" id="7241415">*</span><span class="ident" id="7241416">testing</span><span class="op" id="7241423">.</span><span class="ident" id="7241424">T</span><span class="op" id="7241425">)</span>&nbsp;<span class="op" id="7241427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7241430">const</span>&nbsp;<span class="ident" id="7241436">txt</span>&nbsp;<span class="op" id="7241440">=</span>&nbsp;<span class="string" id="7241442">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241502">_</span><span class="op" id="7241503">,</span>&nbsp;<span class="ident" id="7241505">err</span>&nbsp;<span class="op" id="7241509">:=</span>&nbsp;<span class="ident" id="7241512">ParseAddress</span><span class="op" id="7241524">(</span><span class="ident" id="7241525">txt</span><span class="op" id="7241528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7241531">if</span>&nbsp;<span class="ident" id="7241534">err</span>&nbsp;<span class="op" id="7241538">==</span>&nbsp;<span class="ident" id="7241541">nil</span>&nbsp;<span class="op" id="7241545">||</span>&nbsp;<span class="op" id="7241548">!</span><span class="ident" id="7241549">strings</span><span class="op" id="7241556">.</span><span class="ident" id="7241557">Contains</span><span class="op" id="7241565">(</span><span class="ident" id="7241566">err</span><span class="op" id="7241569">.</span><span class="ident" id="7241570">Error</span><span class="op" id="7241575">(</span><span class="op" id="7241576">)</span><span class="op" id="7241577">,</span>&nbsp;<span class="string" id="7241579">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="7241602">)</span>&nbsp;<span class="op" id="7241604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241608">t</span><span class="op" id="7241609">.</span><span class="ident" id="7241610">Errorf</span><span class="op" id="7241616">(</span><span class="string" id="7241617">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="7241682">,</span>&nbsp;<span class="ident" id="7241684">txt</span><span class="op" id="7241687">,</span>&nbsp;<span class="ident" id="7241689">err</span><span class="op" id="7241692">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241695">}</span><br>
<span class="lineno"></span><span class="op" id="7241697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7241700">func</span>&nbsp;<span class="ident" id="7241705">TestAddressParsing</span><span class="op" id="7241723">(</span><span class="ident" id="7241724">t</span>&nbsp;<span class="op" id="7241726">*</span><span class="ident" id="7241727">testing</span><span class="op" id="7241734">.</span><span class="ident" id="7241735">T</span><span class="op" id="7241736">)</span>&nbsp;<span class="op" id="7241738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241741">tests</span>&nbsp;<span class="op" id="7241747">:=</span>&nbsp;<span class="op" id="7241750">[</span><span class="op" id="7241751">]</span><span class="keyword" id="7241752">struct</span>&nbsp;<span class="op" id="7241759">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241763">addrsStr</span>&nbsp;<span class="builtintype" id="7241772">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241781">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7241790">[</span><span class="op" id="7241791">]</span><span class="op" id="7241792">*</span><span class="ident" id="7241793">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241802">}</span><span class="op" id="7241803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7241807">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241825">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7241830">`jdoe@machine.example`</span><span class="op" id="7241852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241857">[</span><span class="op" id="7241858">]</span><span class="op" id="7241859">*</span><span class="ident" id="7241860">Address</span><span class="op" id="7241867">{</span><span class="op" id="7241868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7241874">Address</span><span class="op" id="7241881">:</span>&nbsp;<span class="string" id="7241883">&#34;jdoe@machine.example&#34;</span><span class="op" id="7241905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241910">}</span><span class="op" id="7241911">}</span><span class="op" id="7241912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241916">}</span><span class="op" id="7241917">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7241921">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7241956">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="7241989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7241994">[</span><span class="op" id="7241995">]</span><span class="op" id="7241996">*</span><span class="ident" id="7241997">Address</span><span class="op" id="7242004">{</span><span class="op" id="7242005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242011">Name</span><span class="op" id="7242015">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242020">&#34;John&nbsp;Doe&#34;</span><span class="op" id="7242030">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242036">Address</span><span class="op" id="7242043">:</span>&nbsp;<span class="string" id="7242045">&#34;jdoe@machine.example&#34;</span><span class="op" id="7242067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242072">}</span><span class="op" id="7242073">}</span><span class="op" id="7242074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242078">}</span><span class="op" id="7242079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7242083">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242113">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7242118">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="7242163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242168">[</span><span class="op" id="7242169">]</span><span class="op" id="7242170">*</span><span class="ident" id="7242171">Address</span><span class="op" id="7242178">{</span><span class="op" id="7242179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242185">Name</span><span class="op" id="7242189">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242194">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="7242209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242215">Address</span><span class="op" id="7242222">:</span>&nbsp;<span class="string" id="7242224">&#34;john.q.public@example.com&#34;</span><span class="op" id="7242251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242256">}</span><span class="op" id="7242257">}</span><span class="op" id="7242258">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242262">}</span><span class="op" id="7242263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7242272">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="7242335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242340">[</span><span class="op" id="7242341">]</span><span class="op" id="7242342">*</span><span class="ident" id="7242343">Address</span><span class="op" id="7242350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242356">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242363">Name</span><span class="op" id="7242367">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242372">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="7242384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242391">Address</span><span class="op" id="7242398">:</span>&nbsp;<span class="string" id="7242400">&#34;mary@x.test&#34;</span><span class="op" id="7242413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242419">}</span><span class="op" id="7242420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242433">Address</span><span class="op" id="7242440">:</span>&nbsp;<span class="string" id="7242442">&#34;jdoe@example.org&#34;</span><span class="op" id="7242460">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242466">}</span><span class="op" id="7242467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242480">Name</span><span class="op" id="7242484">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242489">&#34;Who?&#34;</span><span class="op" id="7242495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242502">Address</span><span class="op" id="7242509">:</span>&nbsp;<span class="string" id="7242511">&#34;one@y.test&#34;</span><span class="op" id="7242523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242529">}</span><span class="op" id="7242530">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242535">}</span><span class="op" id="7242536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242540">}</span><span class="op" id="7242541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7242550">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="7242615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242620">[</span><span class="op" id="7242621">]</span><span class="op" id="7242622">*</span><span class="ident" id="7242623">Address</span><span class="op" id="7242630">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242643">Address</span><span class="op" id="7242650">:</span>&nbsp;<span class="string" id="7242652">&#34;boss@nil.test&#34;</span><span class="op" id="7242667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242673">}</span><span class="op" id="7242674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242687">Name</span><span class="op" id="7242691">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242696">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="7242714">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242721">Address</span><span class="op" id="7242728">:</span>&nbsp;<span class="string" id="7242730">&#34;sysservices@example.net&#34;</span><span class="op" id="7242755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242761">}</span><span class="op" id="7242762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242767">}</span><span class="op" id="7242768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242772">}</span><span class="op" id="7242773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7242777">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7242807">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7242846">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7242897">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7242946">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242951">[</span><span class="op" id="7242952">]</span><span class="op" id="7242953">*</span><span class="ident" id="7242954">Address</span><span class="op" id="7242961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7242967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7242974">Name</span><span class="op" id="7242978">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242983">`Jörg&nbsp;Doe`</span><span class="op" id="7242994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243001">Address</span><span class="op" id="7243008">:</span>&nbsp;<span class="string" id="7243010">&#34;joerg@example.com&#34;</span><span class="op" id="7243029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243035">}</span><span class="op" id="7243036">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243041">}</span><span class="op" id="7243042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243046">}</span><span class="op" id="7243047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7243051">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7243116">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7243163">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243168">[</span><span class="op" id="7243169">]</span><span class="op" id="7243170">*</span><span class="ident" id="7243171">Address</span><span class="op" id="7243178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243191">Name</span><span class="op" id="7243195">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7243200">`Jorg&nbsp;Doe`</span><span class="op" id="7243210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243217">Address</span><span class="op" id="7243224">:</span>&nbsp;<span class="string" id="7243226">&#34;joerg@example.com&#34;</span><span class="op" id="7243245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243251">}</span><span class="op" id="7243252">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243257">}</span><span class="op" id="7243258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243262">}</span><span class="op" id="7243263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7243267">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7243313">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7243360">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243365">[</span><span class="op" id="7243366">]</span><span class="op" id="7243367">*</span><span class="ident" id="7243368">Address</span><span class="op" id="7243375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243388">Name</span><span class="op" id="7243392">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7243397">`Jörg&nbsp;Doe`</span><span class="op" id="7243408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243415">Address</span><span class="op" id="7243422">:</span>&nbsp;<span class="string" id="7243424">&#34;joerg@example.com&#34;</span><span class="op" id="7243443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243449">}</span><span class="op" id="7243450">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243455">}</span><span class="op" id="7243456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243460">}</span><span class="op" id="7243461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7243465">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7243496">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="7243552">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243557">[</span><span class="op" id="7243558">]</span><span class="op" id="7243559">*</span><span class="ident" id="7243560">Address</span><span class="op" id="7243567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243580">Name</span><span class="op" id="7243584">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7243589">`André&nbsp;Pirard`</span><span class="op" id="7243604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243611">Address</span><span class="op" id="7243618">:</span>&nbsp;<span class="string" id="7243620">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="7243642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243648">}</span><span class="op" id="7243649">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243654">}</span><span class="op" id="7243655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243659">}</span><span class="op" id="7243660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7243664">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7243733">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7243780">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243785">[</span><span class="op" id="7243786">]</span><span class="op" id="7243787">*</span><span class="ident" id="7243788">Address</span><span class="op" id="7243795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243808">Name</span><span class="op" id="7243812">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7243817">`Jörg`</span><span class="op" id="7243824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7243831">Address</span><span class="op" id="7243838">:</span>&nbsp;<span class="string" id="7243840">&#34;joerg@example.com&#34;</span><span class="op" id="7243859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243865">}</span><span class="op" id="7243866">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243871">}</span><span class="op" id="7243872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243876">}</span><span class="op" id="7243877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7243881">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7243945">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7243987">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7243992">[</span><span class="op" id="7243993">]</span><span class="op" id="7243994">*</span><span class="ident" id="7243995">Address</span><span class="op" id="7244002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244015">Name</span><span class="op" id="7244019">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7244024">`Jörg`</span><span class="op" id="7244031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244038">Address</span><span class="op" id="7244045">:</span>&nbsp;<span class="string" id="7244047">&#34;joerg@example.com&#34;</span><span class="op" id="7244066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244072">}</span><span class="op" id="7244073">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244078">}</span><span class="op" id="7244079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244083">}</span><span class="op" id="7244084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7244088">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7244146">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="7244177">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244182">[</span><span class="op" id="7244183">]</span><span class="op" id="7244184">*</span><span class="ident" id="7244185">Address</span><span class="op" id="7244192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244205">Name</span><span class="op" id="7244209">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7244214">`Asem&nbsp;H.`</span><span class="op" id="7244223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244230">Address</span><span class="op" id="7244237">:</span>&nbsp;<span class="string" id="7244239">&#34;noreply@example.com&#34;</span><span class="op" id="7244260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244266">}</span><span class="op" id="7244267">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244272">}</span><span class="op" id="7244273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244277">}</span><span class="op" id="7244278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244284">for</span>&nbsp;<span class="ident" id="7244288">_</span><span class="op" id="7244289">,</span>&nbsp;<span class="ident" id="7244291">test</span>&nbsp;<span class="op" id="7244296">:=</span>&nbsp;<span class="keyword" id="7244299">range</span>&nbsp;<span class="ident" id="7244305">tests</span>&nbsp;<span class="op" id="7244311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244315">if</span>&nbsp;<span class="builtinfunc" id="7244318">len</span><span class="op" id="7244321">(</span><span class="ident" id="7244322">test</span><span class="op" id="7244326">.</span><span class="ident" id="7244327">exp</span><span class="op" id="7244330">)</span>&nbsp;<span class="op" id="7244332">==</span>&nbsp;<span class="num" id="7244335">1</span>&nbsp;<span class="op" id="7244337">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244342">addr</span><span class="op" id="7244346">,</span>&nbsp;<span class="ident" id="7244348">err</span>&nbsp;<span class="op" id="7244352">:=</span>&nbsp;<span class="ident" id="7244355">ParseAddress</span><span class="op" id="7244367">(</span><span class="ident" id="7244368">test</span><span class="op" id="7244372">.</span><span class="ident" id="7244373">addrsStr</span><span class="op" id="7244381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244386">if</span>&nbsp;<span class="ident" id="7244389">err</span>&nbsp;<span class="op" id="7244393">!=</span>&nbsp;<span class="ident" id="7244396">nil</span>&nbsp;<span class="op" id="7244400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244406">t</span><span class="op" id="7244407">.</span><span class="ident" id="7244408">Errorf</span><span class="op" id="7244414">(</span><span class="string" id="7244415">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7244447">,</span>&nbsp;<span class="ident" id="7244449">test</span><span class="op" id="7244453">.</span><span class="ident" id="7244454">addrsStr</span><span class="op" id="7244462">,</span>&nbsp;<span class="ident" id="7244464">err</span><span class="op" id="7244467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244473">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244485">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244490">if</span>&nbsp;<span class="op" id="7244493">!</span><span class="ident" id="7244494">reflect</span><span class="op" id="7244501">.</span><span class="ident" id="7244502">DeepEqual</span><span class="op" id="7244511">(</span><span class="op" id="7244512">[</span><span class="op" id="7244513">]</span><span class="op" id="7244514">*</span><span class="ident" id="7244515">Address</span><span class="op" id="7244522">{</span><span class="ident" id="7244523">addr</span><span class="op" id="7244527">}</span><span class="op" id="7244528">,</span>&nbsp;<span class="ident" id="7244530">test</span><span class="op" id="7244534">.</span><span class="ident" id="7244535">exp</span><span class="op" id="7244538">)</span>&nbsp;<span class="op" id="7244540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244546">t</span><span class="op" id="7244547">.</span><span class="ident" id="7244548">Errorf</span><span class="op" id="7244554">(</span><span class="string" id="7244555">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7244596">,</span>&nbsp;<span class="ident" id="7244598">test</span><span class="op" id="7244602">.</span><span class="ident" id="7244603">addrsStr</span><span class="op" id="7244611">,</span>&nbsp;<span class="ident" id="7244613">addr</span><span class="op" id="7244617">,</span>&nbsp;<span class="ident" id="7244619">test</span><span class="op" id="7244623">.</span><span class="ident" id="7244624">exp</span><span class="op" id="7244627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244636">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244641">addrs</span><span class="op" id="7244646">,</span>&nbsp;<span class="ident" id="7244648">err</span>&nbsp;<span class="op" id="7244652">:=</span>&nbsp;<span class="ident" id="7244655">ParseAddressList</span><span class="op" id="7244671">(</span><span class="ident" id="7244672">test</span><span class="op" id="7244676">.</span><span class="ident" id="7244677">addrsStr</span><span class="op" id="7244685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244689">if</span>&nbsp;<span class="ident" id="7244692">err</span>&nbsp;<span class="op" id="7244696">!=</span>&nbsp;<span class="ident" id="7244699">nil</span>&nbsp;<span class="op" id="7244703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244708">t</span><span class="op" id="7244709">.</span><span class="ident" id="7244710">Errorf</span><span class="op" id="7244716">(</span><span class="string" id="7244717">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7244747">,</span>&nbsp;<span class="ident" id="7244749">test</span><span class="op" id="7244753">.</span><span class="ident" id="7244754">addrsStr</span><span class="op" id="7244762">,</span>&nbsp;<span class="ident" id="7244764">err</span><span class="op" id="7244767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244772">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244783">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7244787">if</span>&nbsp;<span class="op" id="7244790">!</span><span class="ident" id="7244791">reflect</span><span class="op" id="7244798">.</span><span class="ident" id="7244799">DeepEqual</span><span class="op" id="7244808">(</span><span class="ident" id="7244809">addrs</span><span class="op" id="7244814">,</span>&nbsp;<span class="ident" id="7244816">test</span><span class="op" id="7244820">.</span><span class="ident" id="7244821">exp</span><span class="op" id="7244824">)</span>&nbsp;<span class="op" id="7244826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244831">t</span><span class="op" id="7244832">.</span><span class="ident" id="7244833">Errorf</span><span class="op" id="7244839">(</span><span class="string" id="7244840">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7244879">,</span>&nbsp;<span class="ident" id="7244881">test</span><span class="op" id="7244885">.</span><span class="ident" id="7244886">addrsStr</span><span class="op" id="7244894">,</span>&nbsp;<span class="ident" id="7244896">addrs</span><span class="op" id="7244901">,</span>&nbsp;<span class="ident" id="7244903">test</span><span class="op" id="7244907">.</span><span class="ident" id="7244908">exp</span><span class="op" id="7244911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7244918">}</span><br>
<span class="lineno"></span><span class="op" id="7244920">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7244923">func</span>&nbsp;<span class="ident" id="7244928">TestAddressFormatting</span><span class="op" id="7244949">(</span><span class="ident" id="7244950">t</span>&nbsp;<span class="op" id="7244952">*</span><span class="ident" id="7244953">testing</span><span class="op" id="7244960">.</span><span class="ident" id="7244961">T</span><span class="op" id="7244962">)</span>&nbsp;<span class="op" id="7244964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244967">tests</span>&nbsp;<span class="op" id="7244973">:=</span>&nbsp;<span class="op" id="7244976">[</span><span class="op" id="7244977">]</span><span class="keyword" id="7244978">struct</span>&nbsp;<span class="op" id="7244985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7244989">addr</span>&nbsp;<span class="op" id="7244994">*</span><span class="ident" id="7244995">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7245005">exp</span>&nbsp;&nbsp;<span class="builtintype" id="7245010">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245018">}</span><span class="op" id="7245019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245028">&amp;</span><span class="ident" id="7245029">Address</span><span class="op" id="7245036">{</span><span class="ident" id="7245037">Address</span><span class="op" id="7245044">:</span>&nbsp;<span class="string" id="7245046">&#34;bob@example.com&#34;</span><span class="op" id="7245063">}</span><span class="op" id="7245064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7245069">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="7245088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245092">}</span><span class="op" id="7245093">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245102">&amp;</span><span class="ident" id="7245103">Address</span><span class="op" id="7245110">{</span><span class="ident" id="7245111">Name</span><span class="op" id="7245115">:</span>&nbsp;<span class="string" id="7245117">&#34;Bob&#34;</span><span class="op" id="7245122">,</span>&nbsp;<span class="ident" id="7245124">Address</span><span class="op" id="7245131">:</span>&nbsp;<span class="string" id="7245133">&#34;bob@example.com&#34;</span><span class="op" id="7245150">}</span><span class="op" id="7245151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7245156">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7245181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245185">}</span><span class="op" id="7245186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245190">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7245195">//&nbsp;note&nbsp;the&nbsp;ö&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245232">&amp;</span><span class="ident" id="7245233">Address</span><span class="op" id="7245240">{</span><span class="ident" id="7245241">Name</span><span class="op" id="7245245">:</span>&nbsp;<span class="string" id="7245247">&#34;Böb&#34;</span><span class="op" id="7245253">,</span>&nbsp;<span class="ident" id="7245255">Address</span><span class="op" id="7245262">:</span>&nbsp;<span class="string" id="7245264">&#34;bob@example.com&#34;</span><span class="op" id="7245281">}</span><span class="op" id="7245282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7245287">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7245327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245331">}</span><span class="op" id="7245332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245336">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245341">&amp;</span><span class="ident" id="7245342">Address</span><span class="op" id="7245349">{</span><span class="ident" id="7245350">Name</span><span class="op" id="7245354">:</span>&nbsp;<span class="string" id="7245356">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="7245366">,</span>&nbsp;<span class="ident" id="7245368">Address</span><span class="op" id="7245375">:</span>&nbsp;<span class="string" id="7245377">&#34;bob@example.com&#34;</span><span class="op" id="7245394">}</span><span class="op" id="7245395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7245400">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7245430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245434">}</span><span class="op" id="7245435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245444">&amp;</span><span class="ident" id="7245445">Address</span><span class="op" id="7245452">{</span><span class="ident" id="7245453">Name</span><span class="op" id="7245457">:</span>&nbsp;<span class="string" id="7245459">&#34;Böb&nbsp;Jacöb&#34;</span><span class="op" id="7245472">,</span>&nbsp;<span class="ident" id="7245474">Address</span><span class="op" id="7245481">:</span>&nbsp;<span class="string" id="7245483">&#34;bob@example.com&#34;</span><span class="op" id="7245500">}</span><span class="op" id="7245501">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7245506">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7245557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245561">}</span><span class="op" id="7245562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7245568">for</span>&nbsp;<span class="ident" id="7245572">_</span><span class="op" id="7245573">,</span>&nbsp;<span class="ident" id="7245575">test</span>&nbsp;<span class="op" id="7245580">:=</span>&nbsp;<span class="keyword" id="7245583">range</span>&nbsp;<span class="ident" id="7245589">tests</span>&nbsp;<span class="op" id="7245595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7245599">s</span>&nbsp;<span class="op" id="7245601">:=</span>&nbsp;<span class="ident" id="7245604">test</span><span class="op" id="7245608">.</span><span class="ident" id="7245609">addr</span><span class="op" id="7245613">.</span><span class="ident" id="7245614">String</span><span class="op" id="7245620">(</span><span class="op" id="7245621">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7245625">if</span>&nbsp;<span class="ident" id="7245628">s</span>&nbsp;<span class="op" id="7245630">!=</span>&nbsp;<span class="ident" id="7245633">test</span><span class="op" id="7245637">.</span><span class="ident" id="7245638">exp</span>&nbsp;<span class="op" id="7245642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7245647">t</span><span class="op" id="7245648">.</span><span class="ident" id="7245649">Errorf</span><span class="op" id="7245655">(</span><span class="string" id="7245656">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7245691">,</span>&nbsp;<span class="op" id="7245693">*</span><span class="ident" id="7245694">test</span><span class="op" id="7245698">.</span><span class="ident" id="7245699">addr</span><span class="op" id="7245703">,</span>&nbsp;<span class="ident" id="7245705">s</span><span class="op" id="7245706">,</span>&nbsp;<span class="ident" id="7245708">test</span><span class="op" id="7245712">.</span><span class="ident" id="7245713">exp</span><span class="op" id="7245716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7245723">}</span><br>
<span class="lineno"></span><span class="op" id="7245725">}</span>
</div>
</body>
</html>
