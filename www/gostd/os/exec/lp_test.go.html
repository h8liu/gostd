<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html" class="current">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7187814">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7187869">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7187923">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7187974">package</span>&nbsp;<span class="ident" id="7187982">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7187988">import</span>&nbsp;<span class="op" id="7187995">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7187998">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7188008">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7188011">var</span>&nbsp;<span class="ident" id="7188015">nonExistentPaths</span>&nbsp;<span class="op" id="7188032">=</span>&nbsp;<span class="op" id="7188034">[</span><span class="op" id="7188035">]</span><span class="builtintype" id="7188036">string</span><span class="op" id="7188042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7188045">&#34;some-non-existent-path&#34;</span><span class="op" id="7188069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7188072">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7188099">,</span><br>
<span class="lineno"></span><span class="op" id="7188101">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7188104">func</span>&nbsp;<span class="ident" id="7188109">TestLookPathNotFound</span><span class="op" id="7188129">(</span><span class="ident" id="7188130">t</span>&nbsp;<span class="op" id="7188132">*</span><span class="ident" id="7188133">testing</span><span class="op" id="7188140">.</span><span class="ident" id="7188141">T</span><span class="op" id="7188142">)</span>&nbsp;<span class="op" id="7188144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7188147">for</span>&nbsp;<span class="ident" id="7188151">_</span><span class="op" id="7188152">,</span>&nbsp;<span class="ident" id="7188154">name</span>&nbsp;<span class="op" id="7188159">:=</span>&nbsp;<span class="keyword" id="7188162">range</span>&nbsp;<span class="ident" id="7188168">nonExistentPaths</span>&nbsp;<span class="op" id="7188185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188189">path</span><span class="op" id="7188193">,</span>&nbsp;<span class="ident" id="7188195">err</span>&nbsp;<span class="op" id="7188199">:=</span>&nbsp;<span class="ident" id="7188202">LookPath</span><span class="op" id="7188210">(</span><span class="ident" id="7188211">name</span><span class="op" id="7188215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7188219">if</span>&nbsp;<span class="ident" id="7188222">err</span>&nbsp;<span class="op" id="7188226">==</span>&nbsp;<span class="builtintype" id="7188229">nil</span>&nbsp;<span class="op" id="7188233">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188238">t</span><span class="op" id="7188239">.</span><span class="ident" id="7188240">Fatalf</span><span class="op" id="7188246">(</span><span class="string" id="7188247">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7188275">,</span>&nbsp;<span class="ident" id="7188277">name</span><span class="op" id="7188281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7188289">if</span>&nbsp;<span class="ident" id="7188292">path</span>&nbsp;<span class="op" id="7188297">!=</span>&nbsp;<span class="string" id="7188300">&#34;&#34;</span>&nbsp;<span class="op" id="7188303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188308">t</span><span class="op" id="7188309">.</span><span class="ident" id="7188310">Fatalf</span><span class="op" id="7188316">(</span><span class="string" id="7188317">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7188354">,</span>&nbsp;<span class="ident" id="7188356">path</span><span class="op" id="7188360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188364">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188368">perr</span><span class="op" id="7188372">,</span>&nbsp;<span class="ident" id="7188374">ok</span>&nbsp;<span class="op" id="7188377">:=</span>&nbsp;<span class="ident" id="7188380">err</span><span class="op" id="7188383">.</span><span class="op" id="7188384">(</span><span class="op" id="7188385">*</span><span class="ident" id="7188386">Error</span><span class="op" id="7188391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7188395">if</span>&nbsp;<span class="op" id="7188398">!</span><span class="ident" id="7188399">ok</span>&nbsp;<span class="op" id="7188402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188407">t</span><span class="op" id="7188408">.</span><span class="ident" id="7188409">Fatal</span><span class="op" id="7188414">(</span><span class="string" id="7188415">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7188452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7188460">if</span>&nbsp;<span class="ident" id="7188463">perr</span><span class="op" id="7188467">.</span><span class="ident" id="7188468">Name</span>&nbsp;<span class="op" id="7188473">!=</span>&nbsp;<span class="ident" id="7188476">name</span>&nbsp;<span class="op" id="7188481">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188486">t</span><span class="op" id="7188487">.</span><span class="ident" id="7188488">Fatalf</span><span class="op" id="7188494">(</span><span class="string" id="7188495">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7188523">,</span>&nbsp;<span class="ident" id="7188525">name</span><span class="op" id="7188529">,</span>&nbsp;<span class="ident" id="7188531">perr</span><span class="op" id="7188535">.</span><span class="ident" id="7188536">Name</span><span class="op" id="7188540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188547">}</span><br>
<span class="lineno"></span><span class="op" id="7188549">}</span>
</div>
</body>
</html>
