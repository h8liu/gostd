<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html" class="current">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7798608">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7798663">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7798717">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7798768">package</span>&nbsp;<span class="ident" id="7798776">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798782">import</span>&nbsp;<span class="op" id="7798789">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7798792">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7798803">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7798813">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7798816">type</span>&nbsp;<span class="ident" id="7798821">PathTest</span>&nbsp;<span class="keyword" id="7798830">struct</span>&nbsp;<span class="op" id="7798837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7798840">path</span><span class="op" id="7798844">,</span>&nbsp;<span class="ident" id="7798846">result</span>&nbsp;<span class="builtintype" id="7798853">string</span><br>
<span class="lineno"></span><span class="op" id="7798860">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7798863">var</span>&nbsp;<span class="ident" id="7798867">cleantests</span>&nbsp;<span class="op" id="7798878">=</span>&nbsp;<span class="op" id="7798880">[</span><span class="op" id="7798881">]</span><span class="ident" id="7798882">PathTest</span><span class="op" id="7798890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7798893">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798911">{</span><span class="string" id="7798912">&#34;&#34;</span><span class="op" id="7798914">,</span>&nbsp;<span class="string" id="7798916">&#34;.&#34;</span><span class="op" id="7798919">}</span><span class="op" id="7798920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798923">{</span><span class="string" id="7798924">&#34;abc&#34;</span><span class="op" id="7798929">,</span>&nbsp;<span class="string" id="7798931">&#34;abc&#34;</span><span class="op" id="7798936">}</span><span class="op" id="7798937">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798940">{</span><span class="string" id="7798941">&#34;abc/def&#34;</span><span class="op" id="7798950">,</span>&nbsp;<span class="string" id="7798952">&#34;abc/def&#34;</span><span class="op" id="7798961">}</span><span class="op" id="7798962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798965">{</span><span class="string" id="7798966">&#34;a/b/c&#34;</span><span class="op" id="7798973">,</span>&nbsp;<span class="string" id="7798975">&#34;a/b/c&#34;</span><span class="op" id="7798982">}</span><span class="op" id="7798983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798986">{</span><span class="string" id="7798987">&#34;.&#34;</span><span class="op" id="7798990">,</span>&nbsp;<span class="string" id="7798992">&#34;.&#34;</span><span class="op" id="7798995">}</span><span class="op" id="7798996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7798999">{</span><span class="string" id="7799000">&#34;..&#34;</span><span class="op" id="7799004">,</span>&nbsp;<span class="string" id="7799006">&#34;..&#34;</span><span class="op" id="7799010">}</span><span class="op" id="7799011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799014">{</span><span class="string" id="7799015">&#34;../..&#34;</span><span class="op" id="7799022">,</span>&nbsp;<span class="string" id="7799024">&#34;../..&#34;</span><span class="op" id="7799031">}</span><span class="op" id="7799032">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799035">{</span><span class="string" id="7799036">&#34;../../abc&#34;</span><span class="op" id="7799047">,</span>&nbsp;<span class="string" id="7799049">&#34;../../abc&#34;</span><span class="op" id="7799060">}</span><span class="op" id="7799061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799064">{</span><span class="string" id="7799065">&#34;/abc&#34;</span><span class="op" id="7799071">,</span>&nbsp;<span class="string" id="7799073">&#34;/abc&#34;</span><span class="op" id="7799079">}</span><span class="op" id="7799080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799083">{</span><span class="string" id="7799084">&#34;/&#34;</span><span class="op" id="7799087">,</span>&nbsp;<span class="string" id="7799089">&#34;/&#34;</span><span class="op" id="7799092">}</span><span class="op" id="7799093">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799097">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799123">{</span><span class="string" id="7799124">&#34;abc/&#34;</span><span class="op" id="7799130">,</span>&nbsp;<span class="string" id="7799132">&#34;abc&#34;</span><span class="op" id="7799137">}</span><span class="op" id="7799138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799141">{</span><span class="string" id="7799142">&#34;abc/def/&#34;</span><span class="op" id="7799152">,</span>&nbsp;<span class="string" id="7799154">&#34;abc/def&#34;</span><span class="op" id="7799163">}</span><span class="op" id="7799164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799167">{</span><span class="string" id="7799168">&#34;a/b/c/&#34;</span><span class="op" id="7799176">,</span>&nbsp;<span class="string" id="7799178">&#34;a/b/c&#34;</span><span class="op" id="7799185">}</span><span class="op" id="7799186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799189">{</span><span class="string" id="7799190">&#34;./&#34;</span><span class="op" id="7799194">,</span>&nbsp;<span class="string" id="7799196">&#34;.&#34;</span><span class="op" id="7799199">}</span><span class="op" id="7799200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799203">{</span><span class="string" id="7799204">&#34;../&#34;</span><span class="op" id="7799209">,</span>&nbsp;<span class="string" id="7799211">&#34;..&#34;</span><span class="op" id="7799215">}</span><span class="op" id="7799216">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799219">{</span><span class="string" id="7799220">&#34;../../&#34;</span><span class="op" id="7799228">,</span>&nbsp;<span class="string" id="7799230">&#34;../..&#34;</span><span class="op" id="7799237">}</span><span class="op" id="7799238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799241">{</span><span class="string" id="7799242">&#34;/abc/&#34;</span><span class="op" id="7799249">,</span>&nbsp;<span class="string" id="7799251">&#34;/abc&#34;</span><span class="op" id="7799257">}</span><span class="op" id="7799258">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799262">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799287">{</span><span class="string" id="7799288">&#34;abc//def//ghi&#34;</span><span class="op" id="7799303">,</span>&nbsp;<span class="string" id="7799305">&#34;abc/def/ghi&#34;</span><span class="op" id="7799318">}</span><span class="op" id="7799319">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799322">{</span><span class="string" id="7799323">&#34;//abc&#34;</span><span class="op" id="7799330">,</span>&nbsp;<span class="string" id="7799332">&#34;/abc&#34;</span><span class="op" id="7799338">}</span><span class="op" id="7799339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799342">{</span><span class="string" id="7799343">&#34;///abc&#34;</span><span class="op" id="7799351">,</span>&nbsp;<span class="string" id="7799353">&#34;/abc&#34;</span><span class="op" id="7799359">}</span><span class="op" id="7799360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799363">{</span><span class="string" id="7799364">&#34;//abc//&#34;</span><span class="op" id="7799373">,</span>&nbsp;<span class="string" id="7799375">&#34;/abc&#34;</span><span class="op" id="7799381">}</span><span class="op" id="7799382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799385">{</span><span class="string" id="7799386">&#34;abc//&#34;</span><span class="op" id="7799393">,</span>&nbsp;<span class="string" id="7799395">&#34;abc&#34;</span><span class="op" id="7799400">}</span><span class="op" id="7799401">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799405">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799427">{</span><span class="string" id="7799428">&#34;abc/./def&#34;</span><span class="op" id="7799439">,</span>&nbsp;<span class="string" id="7799441">&#34;abc/def&#34;</span><span class="op" id="7799450">}</span><span class="op" id="7799451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799454">{</span><span class="string" id="7799455">&#34;/./abc/def&#34;</span><span class="op" id="7799467">,</span>&nbsp;<span class="string" id="7799469">&#34;/abc/def&#34;</span><span class="op" id="7799479">}</span><span class="op" id="7799480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799483">{</span><span class="string" id="7799484">&#34;abc/.&#34;</span><span class="op" id="7799491">,</span>&nbsp;<span class="string" id="7799493">&#34;abc&#34;</span><span class="op" id="7799498">}</span><span class="op" id="7799499">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799503">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799526">{</span><span class="string" id="7799527">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="7799547">,</span>&nbsp;<span class="string" id="7799549">&#34;abc/def/jkl&#34;</span><span class="op" id="7799562">}</span><span class="op" id="7799563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799566">{</span><span class="string" id="7799567">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="7799590">,</span>&nbsp;<span class="string" id="7799592">&#34;abc/jkl&#34;</span><span class="op" id="7799601">}</span><span class="op" id="7799602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799605">{</span><span class="string" id="7799606">&#34;abc/def/..&#34;</span><span class="op" id="7799618">,</span>&nbsp;<span class="string" id="7799620">&#34;abc&#34;</span><span class="op" id="7799625">}</span><span class="op" id="7799626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799629">{</span><span class="string" id="7799630">&#34;abc/def/../..&#34;</span><span class="op" id="7799645">,</span>&nbsp;<span class="string" id="7799647">&#34;.&#34;</span><span class="op" id="7799650">}</span><span class="op" id="7799651">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799654">{</span><span class="string" id="7799655">&#34;/abc/def/../..&#34;</span><span class="op" id="7799671">,</span>&nbsp;<span class="string" id="7799673">&#34;/&#34;</span><span class="op" id="7799676">}</span><span class="op" id="7799677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799680">{</span><span class="string" id="7799681">&#34;abc/def/../../..&#34;</span><span class="op" id="7799699">,</span>&nbsp;<span class="string" id="7799701">&#34;..&#34;</span><span class="op" id="7799705">}</span><span class="op" id="7799706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799709">{</span><span class="string" id="7799710">&#34;/abc/def/../../..&#34;</span><span class="op" id="7799729">,</span>&nbsp;<span class="string" id="7799731">&#34;/&#34;</span><span class="op" id="7799734">}</span><span class="op" id="7799735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799738">{</span><span class="string" id="7799739">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="7799778">,</span>&nbsp;<span class="string" id="7799780">&#34;../../mno&#34;</span><span class="op" id="7799791">}</span><span class="op" id="7799792">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7799796">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799813">{</span><span class="string" id="7799814">&#34;abc/./../def&#34;</span><span class="op" id="7799828">,</span>&nbsp;<span class="string" id="7799830">&#34;def&#34;</span><span class="op" id="7799835">}</span><span class="op" id="7799836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799839">{</span><span class="string" id="7799840">&#34;abc//./../def&#34;</span><span class="op" id="7799855">,</span>&nbsp;<span class="string" id="7799857">&#34;def&#34;</span><span class="op" id="7799862">}</span><span class="op" id="7799863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7799866">{</span><span class="string" id="7799867">&#34;abc/../../././../def&#34;</span><span class="op" id="7799889">,</span>&nbsp;<span class="string" id="7799891">&#34;../../def&#34;</span><span class="op" id="7799902">}</span><span class="op" id="7799903">,</span><br>
<span class="lineno"></span><span class="op" id="7799905">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7799908">func</span>&nbsp;<span class="ident" id="7799913">TestClean</span><span class="op" id="7799922">(</span><span class="ident" id="7799923">t</span>&nbsp;<span class="op" id="7799925">*</span><span class="ident" id="7799926">testing</span><span class="op" id="7799933">.</span><span class="ident" id="7799934">T</span><span class="op" id="7799935">)</span>&nbsp;<span class="op" id="7799937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799940">for</span>&nbsp;<span class="ident" id="7799944">_</span><span class="op" id="7799945">,</span>&nbsp;<span class="ident" id="7799947">test</span>&nbsp;<span class="op" id="7799952">:=</span>&nbsp;<span class="keyword" id="7799955">range</span>&nbsp;<span class="ident" id="7799961">cleantests</span>&nbsp;<span class="op" id="7799972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7799976">if</span>&nbsp;<span class="ident" id="7799979">s</span>&nbsp;<span class="op" id="7799981">:=</span>&nbsp;<span class="ident" id="7799984">Clean</span><span class="op" id="7799989">(</span><span class="ident" id="7799990">test</span><span class="op" id="7799994">.</span><span class="ident" id="7799995">path</span><span class="op" id="7799999">)</span><span class="op" id="7800000">;</span>&nbsp;<span class="ident" id="7800002">s</span>&nbsp;<span class="op" id="7800004">!=</span>&nbsp;<span class="ident" id="7800007">test</span><span class="op" id="7800011">.</span><span class="ident" id="7800012">result</span>&nbsp;<span class="op" id="7800019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800024">t</span><span class="op" id="7800025">.</span><span class="ident" id="7800026">Errorf</span><span class="op" id="7800032">(</span><span class="string" id="7800033">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7800058">,</span>&nbsp;<span class="ident" id="7800060">test</span><span class="op" id="7800064">.</span><span class="ident" id="7800065">path</span><span class="op" id="7800069">,</span>&nbsp;<span class="ident" id="7800071">s</span><span class="op" id="7800072">,</span>&nbsp;<span class="ident" id="7800074">test</span><span class="op" id="7800078">.</span><span class="ident" id="7800079">result</span><span class="op" id="7800085">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800093">if</span>&nbsp;<span class="ident" id="7800096">s</span>&nbsp;<span class="op" id="7800098">:=</span>&nbsp;<span class="ident" id="7800101">Clean</span><span class="op" id="7800106">(</span><span class="ident" id="7800107">test</span><span class="op" id="7800111">.</span><span class="ident" id="7800112">result</span><span class="op" id="7800118">)</span><span class="op" id="7800119">;</span>&nbsp;<span class="ident" id="7800121">s</span>&nbsp;<span class="op" id="7800123">!=</span>&nbsp;<span class="ident" id="7800126">test</span><span class="op" id="7800130">.</span><span class="ident" id="7800131">result</span>&nbsp;<span class="op" id="7800138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800143">t</span><span class="op" id="7800144">.</span><span class="ident" id="7800145">Errorf</span><span class="op" id="7800151">(</span><span class="string" id="7800152">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7800177">,</span>&nbsp;<span class="ident" id="7800179">test</span><span class="op" id="7800183">.</span><span class="ident" id="7800184">result</span><span class="op" id="7800190">,</span>&nbsp;<span class="ident" id="7800192">s</span><span class="op" id="7800193">,</span>&nbsp;<span class="ident" id="7800195">test</span><span class="op" id="7800199">.</span><span class="ident" id="7800200">result</span><span class="op" id="7800206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800213">}</span><br>
<span class="lineno">75</span><span class="op" id="7800215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7800218">func</span>&nbsp;<span class="ident" id="7800223">TestCleanMallocs</span><span class="op" id="7800239">(</span><span class="ident" id="7800240">t</span>&nbsp;<span class="op" id="7800242">*</span><span class="ident" id="7800243">testing</span><span class="op" id="7800250">.</span><span class="ident" id="7800251">T</span><span class="op" id="7800252">)</span>&nbsp;<span class="op" id="7800254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800257">if</span>&nbsp;<span class="ident" id="7800260">testing</span><span class="op" id="7800267">.</span><span class="ident" id="7800268">Short</span><span class="op" id="7800273">(</span><span class="op" id="7800274">)</span>&nbsp;<span class="op" id="7800276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800280">t</span><span class="op" id="7800281">.</span><span class="ident" id="7800282">Skip</span><span class="op" id="7800286">(</span><span class="string" id="7800287">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7800324">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800330">if</span>&nbsp;<span class="ident" id="7800333">runtime</span><span class="op" id="7800340">.</span><span class="ident" id="7800341">GOMAXPROCS</span><span class="op" id="7800351">(</span><span class="num" id="7800352">0</span><span class="op" id="7800353">)</span>&nbsp;<span class="op" id="7800355">&gt;</span>&nbsp;<span class="num" id="7800357">1</span>&nbsp;<span class="op" id="7800359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800363">t</span><span class="op" id="7800364">.</span><span class="ident" id="7800365">Log</span><span class="op" id="7800368">(</span><span class="string" id="7800369">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="7800413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800417">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800425">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800429">for</span>&nbsp;<span class="ident" id="7800433">_</span><span class="op" id="7800434">,</span>&nbsp;<span class="ident" id="7800436">test</span>&nbsp;<span class="op" id="7800441">:=</span>&nbsp;<span class="keyword" id="7800444">range</span>&nbsp;<span class="ident" id="7800450">cleantests</span>&nbsp;<span class="op" id="7800461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800465">allocs</span>&nbsp;<span class="op" id="7800472">:=</span>&nbsp;<span class="ident" id="7800475">testing</span><span class="op" id="7800482">.</span><span class="ident" id="7800483">AllocsPerRun</span><span class="op" id="7800495">(</span><span class="num" id="7800496">100</span><span class="op" id="7800499">,</span>&nbsp;<span class="keyword" id="7800501">func</span><span class="op" id="7800505">(</span><span class="op" id="7800506">)</span>&nbsp;<span class="op" id="7800508">{</span>&nbsp;<span class="ident" id="7800510">Clean</span><span class="op" id="7800515">(</span><span class="ident" id="7800516">test</span><span class="op" id="7800520">.</span><span class="ident" id="7800521">result</span><span class="op" id="7800527">)</span>&nbsp;<span class="op" id="7800529">}</span><span class="op" id="7800530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800534">if</span>&nbsp;<span class="ident" id="7800537">allocs</span>&nbsp;<span class="op" id="7800544">&gt;</span>&nbsp;<span class="num" id="7800546">0</span>&nbsp;<span class="op" id="7800548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800553">t</span><span class="op" id="7800554">.</span><span class="ident" id="7800555">Errorf</span><span class="op" id="7800561">(</span><span class="string" id="7800562">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="7800595">,</span>&nbsp;<span class="ident" id="7800597">test</span><span class="op" id="7800601">.</span><span class="ident" id="7800602">result</span><span class="op" id="7800608">,</span>&nbsp;<span class="ident" id="7800610">allocs</span><span class="op" id="7800616">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800623">}</span><br>
<span class="lineno"></span><span class="op" id="7800625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7800628">type</span>&nbsp;<span class="ident" id="7800633">SplitTest</span>&nbsp;<span class="keyword" id="7800643">struct</span>&nbsp;<span class="op" id="7800650">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800653">path</span><span class="op" id="7800657">,</span>&nbsp;<span class="ident" id="7800659">dir</span><span class="op" id="7800662">,</span>&nbsp;<span class="ident" id="7800664">file</span>&nbsp;<span class="builtintype" id="7800669">string</span><br>
<span class="lineno"></span><span class="op" id="7800676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7800679">var</span>&nbsp;<span class="ident" id="7800683">splittests</span>&nbsp;<span class="op" id="7800694">=</span>&nbsp;<span class="op" id="7800696">[</span><span class="op" id="7800697">]</span><span class="ident" id="7800698">SplitTest</span><span class="op" id="7800707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800710">{</span><span class="string" id="7800711">&#34;a/b&#34;</span><span class="op" id="7800716">,</span>&nbsp;<span class="string" id="7800718">&#34;a/&#34;</span><span class="op" id="7800722">,</span>&nbsp;<span class="string" id="7800724">&#34;b&#34;</span><span class="op" id="7800727">}</span><span class="op" id="7800728">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800731">{</span><span class="string" id="7800732">&#34;a/b/&#34;</span><span class="op" id="7800738">,</span>&nbsp;<span class="string" id="7800740">&#34;a/b/&#34;</span><span class="op" id="7800746">,</span>&nbsp;<span class="string" id="7800748">&#34;&#34;</span><span class="op" id="7800750">}</span><span class="op" id="7800751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800754">{</span><span class="string" id="7800755">&#34;a/&#34;</span><span class="op" id="7800759">,</span>&nbsp;<span class="string" id="7800761">&#34;a/&#34;</span><span class="op" id="7800765">,</span>&nbsp;<span class="string" id="7800767">&#34;&#34;</span><span class="op" id="7800769">}</span><span class="op" id="7800770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800773">{</span><span class="string" id="7800774">&#34;a&#34;</span><span class="op" id="7800777">,</span>&nbsp;<span class="string" id="7800779">&#34;&#34;</span><span class="op" id="7800781">,</span>&nbsp;<span class="string" id="7800783">&#34;a&#34;</span><span class="op" id="7800786">}</span><span class="op" id="7800787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7800790">{</span><span class="string" id="7800791">&#34;/&#34;</span><span class="op" id="7800794">,</span>&nbsp;<span class="string" id="7800796">&#34;/&#34;</span><span class="op" id="7800799">,</span>&nbsp;<span class="string" id="7800801">&#34;&#34;</span><span class="op" id="7800803">}</span><span class="op" id="7800804">,</span><br>
<span class="lineno"></span><span class="op" id="7800806">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="7800809">func</span>&nbsp;<span class="ident" id="7800814">TestSplit</span><span class="op" id="7800823">(</span><span class="ident" id="7800824">t</span>&nbsp;<span class="op" id="7800826">*</span><span class="ident" id="7800827">testing</span><span class="op" id="7800834">.</span><span class="ident" id="7800835">T</span><span class="op" id="7800836">)</span>&nbsp;<span class="op" id="7800838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800841">for</span>&nbsp;<span class="ident" id="7800845">_</span><span class="op" id="7800846">,</span>&nbsp;<span class="ident" id="7800848">test</span>&nbsp;<span class="op" id="7800853">:=</span>&nbsp;<span class="keyword" id="7800856">range</span>&nbsp;<span class="ident" id="7800862">splittests</span>&nbsp;<span class="op" id="7800873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7800877">if</span>&nbsp;<span class="ident" id="7800880">d</span><span class="op" id="7800881">,</span>&nbsp;<span class="ident" id="7800883">f</span>&nbsp;<span class="op" id="7800885">:=</span>&nbsp;<span class="ident" id="7800888">Split</span><span class="op" id="7800893">(</span><span class="ident" id="7800894">test</span><span class="op" id="7800898">.</span><span class="ident" id="7800899">path</span><span class="op" id="7800903">)</span><span class="op" id="7800904">;</span>&nbsp;<span class="ident" id="7800906">d</span>&nbsp;<span class="op" id="7800908">!=</span>&nbsp;<span class="ident" id="7800911">test</span><span class="op" id="7800915">.</span><span class="ident" id="7800916">dir</span>&nbsp;<span class="op" id="7800920">||</span>&nbsp;<span class="ident" id="7800923">f</span>&nbsp;<span class="op" id="7800925">!=</span>&nbsp;<span class="ident" id="7800928">test</span><span class="op" id="7800932">.</span><span class="ident" id="7800933">file</span>&nbsp;<span class="op" id="7800938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7800943">t</span><span class="op" id="7800944">.</span><span class="ident" id="7800945">Errorf</span><span class="op" id="7800951">(</span><span class="string" id="7800952">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="7800985">,</span>&nbsp;<span class="ident" id="7800987">test</span><span class="op" id="7800991">.</span><span class="ident" id="7800992">path</span><span class="op" id="7800996">,</span>&nbsp;<span class="ident" id="7800998">d</span><span class="op" id="7800999">,</span>&nbsp;<span class="ident" id="7801001">f</span><span class="op" id="7801002">,</span>&nbsp;<span class="ident" id="7801004">test</span><span class="op" id="7801008">.</span><span class="ident" id="7801009">dir</span><span class="op" id="7801012">,</span>&nbsp;<span class="ident" id="7801014">test</span><span class="op" id="7801018">.</span><span class="ident" id="7801019">file</span><span class="op" id="7801023">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801030">}</span><br>
<span class="lineno"></span><span class="op" id="7801032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7801035">type</span>&nbsp;<span class="ident" id="7801040">JoinTest</span>&nbsp;<span class="keyword" id="7801049">struct</span>&nbsp;<span class="op" id="7801056">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801059">elem</span>&nbsp;<span class="op" id="7801064">[</span><span class="op" id="7801065">]</span><span class="builtintype" id="7801066">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801074">path</span>&nbsp;<span class="builtintype" id="7801079">string</span><br>
<span class="lineno"></span><span class="op" id="7801086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7801089">var</span>&nbsp;<span class="ident" id="7801093">jointests</span>&nbsp;<span class="op" id="7801103">=</span>&nbsp;<span class="op" id="7801105">[</span><span class="op" id="7801106">]</span><span class="ident" id="7801107">JoinTest</span><span class="op" id="7801115">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801118">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801138">{</span><span class="op" id="7801139">[</span><span class="op" id="7801140">]</span><span class="builtintype" id="7801141">string</span><span class="op" id="7801147">{</span><span class="op" id="7801148">}</span><span class="op" id="7801149">,</span>&nbsp;<span class="string" id="7801151">&#34;&#34;</span><span class="op" id="7801153">}</span><span class="op" id="7801154">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801158">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801176">{</span><span class="op" id="7801177">[</span><span class="op" id="7801178">]</span><span class="builtintype" id="7801179">string</span><span class="op" id="7801185">{</span><span class="string" id="7801186">&#34;&#34;</span><span class="op" id="7801188">}</span><span class="op" id="7801189">,</span>&nbsp;<span class="string" id="7801191">&#34;&#34;</span><span class="op" id="7801193">}</span><span class="op" id="7801194">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801197">{</span><span class="op" id="7801198">[</span><span class="op" id="7801199">]</span><span class="builtintype" id="7801200">string</span><span class="op" id="7801206">{</span><span class="string" id="7801207">&#34;a&#34;</span><span class="op" id="7801210">}</span><span class="op" id="7801211">,</span>&nbsp;<span class="string" id="7801213">&#34;a&#34;</span><span class="op" id="7801216">}</span><span class="op" id="7801217">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7801221">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801240">{</span><span class="op" id="7801241">[</span><span class="op" id="7801242">]</span><span class="builtintype" id="7801243">string</span><span class="op" id="7801249">{</span><span class="string" id="7801250">&#34;a&#34;</span><span class="op" id="7801253">,</span>&nbsp;<span class="string" id="7801255">&#34;b&#34;</span><span class="op" id="7801258">}</span><span class="op" id="7801259">,</span>&nbsp;<span class="string" id="7801261">&#34;a/b&#34;</span><span class="op" id="7801266">}</span><span class="op" id="7801267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801270">{</span><span class="op" id="7801271">[</span><span class="op" id="7801272">]</span><span class="builtintype" id="7801273">string</span><span class="op" id="7801279">{</span><span class="string" id="7801280">&#34;a&#34;</span><span class="op" id="7801283">,</span>&nbsp;<span class="string" id="7801285">&#34;&#34;</span><span class="op" id="7801287">}</span><span class="op" id="7801288">,</span>&nbsp;<span class="string" id="7801290">&#34;a&#34;</span><span class="op" id="7801293">}</span><span class="op" id="7801294">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801297">{</span><span class="op" id="7801298">[</span><span class="op" id="7801299">]</span><span class="builtintype" id="7801300">string</span><span class="op" id="7801306">{</span><span class="string" id="7801307">&#34;&#34;</span><span class="op" id="7801309">,</span>&nbsp;<span class="string" id="7801311">&#34;b&#34;</span><span class="op" id="7801314">}</span><span class="op" id="7801315">,</span>&nbsp;<span class="string" id="7801317">&#34;b&#34;</span><span class="op" id="7801320">}</span><span class="op" id="7801321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801324">{</span><span class="op" id="7801325">[</span><span class="op" id="7801326">]</span><span class="builtintype" id="7801327">string</span><span class="op" id="7801333">{</span><span class="string" id="7801334">&#34;/&#34;</span><span class="op" id="7801337">,</span>&nbsp;<span class="string" id="7801339">&#34;a&#34;</span><span class="op" id="7801342">}</span><span class="op" id="7801343">,</span>&nbsp;<span class="string" id="7801345">&#34;/a&#34;</span><span class="op" id="7801349">}</span><span class="op" id="7801350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801353">{</span><span class="op" id="7801354">[</span><span class="op" id="7801355">]</span><span class="builtintype" id="7801356">string</span><span class="op" id="7801362">{</span><span class="string" id="7801363">&#34;/&#34;</span><span class="op" id="7801366">,</span>&nbsp;<span class="string" id="7801368">&#34;&#34;</span><span class="op" id="7801370">}</span><span class="op" id="7801371">,</span>&nbsp;<span class="string" id="7801373">&#34;/&#34;</span><span class="op" id="7801376">}</span><span class="op" id="7801377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801380">{</span><span class="op" id="7801381">[</span><span class="op" id="7801382">]</span><span class="builtintype" id="7801383">string</span><span class="op" id="7801389">{</span><span class="string" id="7801390">&#34;a/&#34;</span><span class="op" id="7801394">,</span>&nbsp;<span class="string" id="7801396">&#34;b&#34;</span><span class="op" id="7801399">}</span><span class="op" id="7801400">,</span>&nbsp;<span class="string" id="7801402">&#34;a/b&#34;</span><span class="op" id="7801407">}</span><span class="op" id="7801408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801411">{</span><span class="op" id="7801412">[</span><span class="op" id="7801413">]</span><span class="builtintype" id="7801414">string</span><span class="op" id="7801420">{</span><span class="string" id="7801421">&#34;a/&#34;</span><span class="op" id="7801425">,</span>&nbsp;<span class="string" id="7801427">&#34;&#34;</span><span class="op" id="7801429">}</span><span class="op" id="7801430">,</span>&nbsp;<span class="string" id="7801432">&#34;a&#34;</span><span class="op" id="7801435">}</span><span class="op" id="7801436">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801439">{</span><span class="op" id="7801440">[</span><span class="op" id="7801441">]</span><span class="builtintype" id="7801442">string</span><span class="op" id="7801448">{</span><span class="string" id="7801449">&#34;&#34;</span><span class="op" id="7801451">,</span>&nbsp;<span class="string" id="7801453">&#34;&#34;</span><span class="op" id="7801455">}</span><span class="op" id="7801456">,</span>&nbsp;<span class="string" id="7801458">&#34;&#34;</span><span class="op" id="7801460">}</span><span class="op" id="7801461">,</span><br>
<span class="lineno"></span><span class="op" id="7801463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7801466">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="7801514">func</span>&nbsp;<span class="ident" id="7801519">join</span><span class="op" id="7801523">(</span><span class="ident" id="7801524">elem</span>&nbsp;<span class="op" id="7801529">[</span><span class="op" id="7801530">]</span><span class="builtintype" id="7801531">string</span><span class="op" id="7801537">,</span>&nbsp;<span class="ident" id="7801539">args</span>&nbsp;<span class="op" id="7801544">...</span><span class="builtintype" id="7801547">string</span><span class="op" id="7801553">)</span>&nbsp;<span class="builtintype" id="7801555">string</span>&nbsp;<span class="op" id="7801562">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801565">args</span>&nbsp;<span class="op" id="7801570">=</span>&nbsp;<span class="ident" id="7801572">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801578">return</span>&nbsp;<span class="ident" id="7801585">Join</span><span class="op" id="7801589">(</span><span class="ident" id="7801590">args</span><span class="op" id="7801594">...</span><span class="op" id="7801597">)</span><br>
<span class="lineno"></span><span class="op" id="7801599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7801602">func</span>&nbsp;<span class="ident" id="7801607">TestJoin</span><span class="op" id="7801615">(</span><span class="ident" id="7801616">t</span>&nbsp;<span class="op" id="7801618">*</span><span class="ident" id="7801619">testing</span><span class="op" id="7801626">.</span><span class="ident" id="7801627">T</span><span class="op" id="7801628">)</span>&nbsp;<span class="op" id="7801630">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801633">for</span>&nbsp;<span class="ident" id="7801637">_</span><span class="op" id="7801638">,</span>&nbsp;<span class="ident" id="7801640">test</span>&nbsp;<span class="op" id="7801645">:=</span>&nbsp;<span class="keyword" id="7801648">range</span>&nbsp;<span class="ident" id="7801654">jointests</span>&nbsp;<span class="op" id="7801664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801668">if</span>&nbsp;<span class="ident" id="7801671">p</span>&nbsp;<span class="op" id="7801673">:=</span>&nbsp;<span class="ident" id="7801676">join</span><span class="op" id="7801680">(</span><span class="ident" id="7801681">test</span><span class="op" id="7801685">.</span><span class="ident" id="7801686">elem</span><span class="op" id="7801690">)</span><span class="op" id="7801691">;</span>&nbsp;<span class="ident" id="7801693">p</span>&nbsp;<span class="op" id="7801695">!=</span>&nbsp;<span class="ident" id="7801698">test</span><span class="op" id="7801702">.</span><span class="ident" id="7801703">path</span>&nbsp;<span class="op" id="7801708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801713">t</span><span class="op" id="7801714">.</span><span class="ident" id="7801715">Errorf</span><span class="op" id="7801721">(</span><span class="string" id="7801722">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7801746">,</span>&nbsp;<span class="ident" id="7801748">test</span><span class="op" id="7801752">.</span><span class="ident" id="7801753">elem</span><span class="op" id="7801757">,</span>&nbsp;<span class="ident" id="7801759">p</span><span class="op" id="7801760">,</span>&nbsp;<span class="ident" id="7801762">test</span><span class="op" id="7801766">.</span><span class="ident" id="7801767">path</span><span class="op" id="7801771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801778">}</span><br>
<span class="lineno">150</span><span class="op" id="7801780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7801783">type</span>&nbsp;<span class="ident" id="7801788">ExtTest</span>&nbsp;<span class="keyword" id="7801796">struct</span>&nbsp;<span class="op" id="7801803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7801806">path</span><span class="op" id="7801810">,</span>&nbsp;<span class="ident" id="7801812">ext</span>&nbsp;<span class="builtintype" id="7801816">string</span><br>
<span class="lineno"></span><span class="op" id="7801823">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7801826">var</span>&nbsp;<span class="ident" id="7801830">exttests</span>&nbsp;<span class="op" id="7801839">=</span>&nbsp;<span class="op" id="7801841">[</span><span class="op" id="7801842">]</span><span class="ident" id="7801843">ExtTest</span><span class="op" id="7801850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801853">{</span><span class="string" id="7801854">&#34;path.go&#34;</span><span class="op" id="7801863">,</span>&nbsp;<span class="string" id="7801865">&#34;.go&#34;</span><span class="op" id="7801870">}</span><span class="op" id="7801871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801874">{</span><span class="string" id="7801875">&#34;path.pb.go&#34;</span><span class="op" id="7801887">,</span>&nbsp;<span class="string" id="7801889">&#34;.go&#34;</span><span class="op" id="7801894">}</span><span class="op" id="7801895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801898">{</span><span class="string" id="7801899">&#34;a.dir/b&#34;</span><span class="op" id="7801908">,</span>&nbsp;<span class="string" id="7801910">&#34;&#34;</span><span class="op" id="7801912">}</span><span class="op" id="7801913">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801916">{</span><span class="string" id="7801917">&#34;a.dir/b.go&#34;</span><span class="op" id="7801929">,</span>&nbsp;<span class="string" id="7801931">&#34;.go&#34;</span><span class="op" id="7801936">}</span><span class="op" id="7801937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7801940">{</span><span class="string" id="7801941">&#34;a.dir/&#34;</span><span class="op" id="7801949">,</span>&nbsp;<span class="string" id="7801951">&#34;&#34;</span><span class="op" id="7801953">}</span><span class="op" id="7801954">,</span><br>
<span class="lineno"></span><span class="op" id="7801956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7801959">func</span>&nbsp;<span class="ident" id="7801964">TestExt</span><span class="op" id="7801971">(</span><span class="ident" id="7801972">t</span>&nbsp;<span class="op" id="7801974">*</span><span class="ident" id="7801975">testing</span><span class="op" id="7801982">.</span><span class="ident" id="7801983">T</span><span class="op" id="7801984">)</span>&nbsp;<span class="op" id="7801986">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7801989">for</span>&nbsp;<span class="ident" id="7801993">_</span><span class="op" id="7801994">,</span>&nbsp;<span class="ident" id="7801996">test</span>&nbsp;<span class="op" id="7802001">:=</span>&nbsp;<span class="keyword" id="7802004">range</span>&nbsp;<span class="ident" id="7802010">exttests</span>&nbsp;<span class="op" id="7802019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802023">if</span>&nbsp;<span class="ident" id="7802026">x</span>&nbsp;<span class="op" id="7802028">:=</span>&nbsp;<span class="ident" id="7802031">Ext</span><span class="op" id="7802034">(</span><span class="ident" id="7802035">test</span><span class="op" id="7802039">.</span><span class="ident" id="7802040">path</span><span class="op" id="7802044">)</span><span class="op" id="7802045">;</span>&nbsp;<span class="ident" id="7802047">x</span>&nbsp;<span class="op" id="7802049">!=</span>&nbsp;<span class="ident" id="7802052">test</span><span class="op" id="7802056">.</span><span class="ident" id="7802057">ext</span>&nbsp;<span class="op" id="7802061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802066">t</span><span class="op" id="7802067">.</span><span class="ident" id="7802068">Errorf</span><span class="op" id="7802074">(</span><span class="string" id="7802075">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7802098">,</span>&nbsp;<span class="ident" id="7802100">test</span><span class="op" id="7802104">.</span><span class="ident" id="7802105">path</span><span class="op" id="7802109">,</span>&nbsp;<span class="ident" id="7802111">x</span><span class="op" id="7802112">,</span>&nbsp;<span class="ident" id="7802114">test</span><span class="op" id="7802118">.</span><span class="ident" id="7802119">ext</span><span class="op" id="7802122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802129">}</span><br>
<span class="lineno">170</span><span class="op" id="7802131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7802134">var</span>&nbsp;<span class="ident" id="7802138">basetests</span>&nbsp;<span class="op" id="7802148">=</span>&nbsp;<span class="op" id="7802150">[</span><span class="op" id="7802151">]</span><span class="ident" id="7802152">PathTest</span><span class="op" id="7802160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7802163">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802181">{</span><span class="string" id="7802182">&#34;&#34;</span><span class="op" id="7802184">,</span>&nbsp;<span class="string" id="7802186">&#34;.&#34;</span><span class="op" id="7802189">}</span><span class="op" id="7802190">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802193">{</span><span class="string" id="7802194">&#34;.&#34;</span><span class="op" id="7802197">,</span>&nbsp;<span class="string" id="7802199">&#34;.&#34;</span><span class="op" id="7802202">}</span><span class="op" id="7802203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802206">{</span><span class="string" id="7802207">&#34;/.&#34;</span><span class="op" id="7802211">,</span>&nbsp;<span class="string" id="7802213">&#34;.&#34;</span><span class="op" id="7802216">}</span><span class="op" id="7802217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802220">{</span><span class="string" id="7802221">&#34;/&#34;</span><span class="op" id="7802224">,</span>&nbsp;<span class="string" id="7802226">&#34;/&#34;</span><span class="op" id="7802229">}</span><span class="op" id="7802230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802233">{</span><span class="string" id="7802234">&#34;////&#34;</span><span class="op" id="7802240">,</span>&nbsp;<span class="string" id="7802242">&#34;/&#34;</span><span class="op" id="7802245">}</span><span class="op" id="7802246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802249">{</span><span class="string" id="7802250">&#34;x/&#34;</span><span class="op" id="7802254">,</span>&nbsp;<span class="string" id="7802256">&#34;x&#34;</span><span class="op" id="7802259">}</span><span class="op" id="7802260">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802263">{</span><span class="string" id="7802264">&#34;abc&#34;</span><span class="op" id="7802269">,</span>&nbsp;<span class="string" id="7802271">&#34;abc&#34;</span><span class="op" id="7802276">}</span><span class="op" id="7802277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802280">{</span><span class="string" id="7802281">&#34;abc/def&#34;</span><span class="op" id="7802290">,</span>&nbsp;<span class="string" id="7802292">&#34;def&#34;</span><span class="op" id="7802297">}</span><span class="op" id="7802298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802301">{</span><span class="string" id="7802302">&#34;a/b/.x&#34;</span><span class="op" id="7802310">,</span>&nbsp;<span class="string" id="7802312">&#34;.x&#34;</span><span class="op" id="7802316">}</span><span class="op" id="7802317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802320">{</span><span class="string" id="7802321">&#34;a/b/c.&#34;</span><span class="op" id="7802329">,</span>&nbsp;<span class="string" id="7802331">&#34;c.&#34;</span><span class="op" id="7802335">}</span><span class="op" id="7802336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802339">{</span><span class="string" id="7802340">&#34;a/b/c.x&#34;</span><span class="op" id="7802349">,</span>&nbsp;<span class="string" id="7802351">&#34;c.x&#34;</span><span class="op" id="7802356">}</span><span class="op" id="7802357">,</span><br>
<span class="lineno">185</span><span class="op" id="7802359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7802362">func</span>&nbsp;<span class="ident" id="7802367">TestBase</span><span class="op" id="7802375">(</span><span class="ident" id="7802376">t</span>&nbsp;<span class="op" id="7802378">*</span><span class="ident" id="7802379">testing</span><span class="op" id="7802386">.</span><span class="ident" id="7802387">T</span><span class="op" id="7802388">)</span>&nbsp;<span class="op" id="7802390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802393">for</span>&nbsp;<span class="ident" id="7802397">_</span><span class="op" id="7802398">,</span>&nbsp;<span class="ident" id="7802400">test</span>&nbsp;<span class="op" id="7802405">:=</span>&nbsp;<span class="keyword" id="7802408">range</span>&nbsp;<span class="ident" id="7802414">basetests</span>&nbsp;<span class="op" id="7802424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802428">if</span>&nbsp;<span class="ident" id="7802431">s</span>&nbsp;<span class="op" id="7802433">:=</span>&nbsp;<span class="ident" id="7802436">Base</span><span class="op" id="7802440">(</span><span class="ident" id="7802441">test</span><span class="op" id="7802445">.</span><span class="ident" id="7802446">path</span><span class="op" id="7802450">)</span><span class="op" id="7802451">;</span>&nbsp;<span class="ident" id="7802453">s</span>&nbsp;<span class="op" id="7802455">!=</span>&nbsp;<span class="ident" id="7802458">test</span><span class="op" id="7802462">.</span><span class="ident" id="7802463">result</span>&nbsp;<span class="op" id="7802470">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802475">t</span><span class="op" id="7802476">.</span><span class="ident" id="7802477">Errorf</span><span class="op" id="7802483">(</span><span class="string" id="7802484">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7802508">,</span>&nbsp;<span class="ident" id="7802510">test</span><span class="op" id="7802514">.</span><span class="ident" id="7802515">path</span><span class="op" id="7802519">,</span>&nbsp;<span class="ident" id="7802521">s</span><span class="op" id="7802522">,</span>&nbsp;<span class="ident" id="7802524">test</span><span class="op" id="7802528">.</span><span class="ident" id="7802529">result</span><span class="op" id="7802535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802542">}</span><br>
<span class="lineno"></span><span class="op" id="7802544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7802547">var</span>&nbsp;<span class="ident" id="7802551">dirtests</span>&nbsp;<span class="op" id="7802560">=</span>&nbsp;<span class="op" id="7802562">[</span><span class="op" id="7802563">]</span><span class="ident" id="7802564">PathTest</span><span class="op" id="7802572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802575">{</span><span class="string" id="7802576">&#34;&#34;</span><span class="op" id="7802578">,</span>&nbsp;<span class="string" id="7802580">&#34;.&#34;</span><span class="op" id="7802583">}</span><span class="op" id="7802584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802587">{</span><span class="string" id="7802588">&#34;.&#34;</span><span class="op" id="7802591">,</span>&nbsp;<span class="string" id="7802593">&#34;.&#34;</span><span class="op" id="7802596">}</span><span class="op" id="7802597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802600">{</span><span class="string" id="7802601">&#34;/.&#34;</span><span class="op" id="7802605">,</span>&nbsp;<span class="string" id="7802607">&#34;/&#34;</span><span class="op" id="7802610">}</span><span class="op" id="7802611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802614">{</span><span class="string" id="7802615">&#34;/&#34;</span><span class="op" id="7802618">,</span>&nbsp;<span class="string" id="7802620">&#34;/&#34;</span><span class="op" id="7802623">}</span><span class="op" id="7802624">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802627">{</span><span class="string" id="7802628">&#34;////&#34;</span><span class="op" id="7802634">,</span>&nbsp;<span class="string" id="7802636">&#34;/&#34;</span><span class="op" id="7802639">}</span><span class="op" id="7802640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802643">{</span><span class="string" id="7802644">&#34;/foo&#34;</span><span class="op" id="7802650">,</span>&nbsp;<span class="string" id="7802652">&#34;/&#34;</span><span class="op" id="7802655">}</span><span class="op" id="7802656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802659">{</span><span class="string" id="7802660">&#34;x/&#34;</span><span class="op" id="7802664">,</span>&nbsp;<span class="string" id="7802666">&#34;x&#34;</span><span class="op" id="7802669">}</span><span class="op" id="7802670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802673">{</span><span class="string" id="7802674">&#34;abc&#34;</span><span class="op" id="7802679">,</span>&nbsp;<span class="string" id="7802681">&#34;.&#34;</span><span class="op" id="7802684">}</span><span class="op" id="7802685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802688">{</span><span class="string" id="7802689">&#34;abc/def&#34;</span><span class="op" id="7802698">,</span>&nbsp;<span class="string" id="7802700">&#34;abc&#34;</span><span class="op" id="7802705">}</span><span class="op" id="7802706">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802709">{</span><span class="string" id="7802710">&#34;abc////def&#34;</span><span class="op" id="7802722">,</span>&nbsp;<span class="string" id="7802724">&#34;abc&#34;</span><span class="op" id="7802729">}</span><span class="op" id="7802730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802733">{</span><span class="string" id="7802734">&#34;a/b/.x&#34;</span><span class="op" id="7802742">,</span>&nbsp;<span class="string" id="7802744">&#34;a/b&#34;</span><span class="op" id="7802749">}</span><span class="op" id="7802750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802753">{</span><span class="string" id="7802754">&#34;a/b/c.&#34;</span><span class="op" id="7802762">,</span>&nbsp;<span class="string" id="7802764">&#34;a/b&#34;</span><span class="op" id="7802769">}</span><span class="op" id="7802770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802773">{</span><span class="string" id="7802774">&#34;a/b/c.x&#34;</span><span class="op" id="7802783">,</span>&nbsp;<span class="string" id="7802785">&#34;a/b&#34;</span><span class="op" id="7802790">}</span><span class="op" id="7802791">,</span><br>
<span class="lineno"></span><span class="op" id="7802793">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7802796">func</span>&nbsp;<span class="ident" id="7802801">TestDir</span><span class="op" id="7802808">(</span><span class="ident" id="7802809">t</span>&nbsp;<span class="op" id="7802811">*</span><span class="ident" id="7802812">testing</span><span class="op" id="7802819">.</span><span class="ident" id="7802820">T</span><span class="op" id="7802821">)</span>&nbsp;<span class="op" id="7802823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802826">for</span>&nbsp;<span class="ident" id="7802830">_</span><span class="op" id="7802831">,</span>&nbsp;<span class="ident" id="7802833">test</span>&nbsp;<span class="op" id="7802838">:=</span>&nbsp;<span class="keyword" id="7802841">range</span>&nbsp;<span class="ident" id="7802847">dirtests</span>&nbsp;<span class="op" id="7802856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7802860">if</span>&nbsp;<span class="ident" id="7802863">s</span>&nbsp;<span class="op" id="7802865">:=</span>&nbsp;<span class="ident" id="7802868">Dir</span><span class="op" id="7802871">(</span><span class="ident" id="7802872">test</span><span class="op" id="7802876">.</span><span class="ident" id="7802877">path</span><span class="op" id="7802881">)</span><span class="op" id="7802882">;</span>&nbsp;<span class="ident" id="7802884">s</span>&nbsp;<span class="op" id="7802886">!=</span>&nbsp;<span class="ident" id="7802889">test</span><span class="op" id="7802893">.</span><span class="ident" id="7802894">result</span>&nbsp;<span class="op" id="7802901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7802906">t</span><span class="op" id="7802907">.</span><span class="ident" id="7802908">Errorf</span><span class="op" id="7802914">(</span><span class="string" id="7802915">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7802938">,</span>&nbsp;<span class="ident" id="7802940">test</span><span class="op" id="7802944">.</span><span class="ident" id="7802945">path</span><span class="op" id="7802949">,</span>&nbsp;<span class="ident" id="7802951">s</span><span class="op" id="7802952">,</span>&nbsp;<span class="ident" id="7802954">test</span><span class="op" id="7802958">.</span><span class="ident" id="7802959">result</span><span class="op" id="7802965">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7802972">}</span><br>
<span class="lineno"></span><span class="op" id="7802974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7802977">type</span>&nbsp;<span class="ident" id="7802982">IsAbsTest</span>&nbsp;<span class="keyword" id="7802992">struct</span>&nbsp;<span class="op" id="7802999">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803002">path</span>&nbsp;&nbsp;<span class="builtintype" id="7803008">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803016">isAbs</span>&nbsp;<span class="builtintype" id="7803022">bool</span><br>
<span class="lineno"></span><span class="op" id="7803027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7803030">var</span>&nbsp;<span class="ident" id="7803034">isAbsTests</span>&nbsp;<span class="op" id="7803045">=</span>&nbsp;<span class="op" id="7803047">[</span><span class="op" id="7803048">]</span><span class="ident" id="7803049">IsAbsTest</span><span class="op" id="7803058">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803061">{</span><span class="string" id="7803062">&#34;&#34;</span><span class="op" id="7803064">,</span>&nbsp;<span class="builtintype" id="7803066">false</span><span class="op" id="7803071">}</span><span class="op" id="7803072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803075">{</span><span class="string" id="7803076">&#34;/&#34;</span><span class="op" id="7803079">,</span>&nbsp;<span class="builtintype" id="7803081">true</span><span class="op" id="7803085">}</span><span class="op" id="7803086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803089">{</span><span class="string" id="7803090">&#34;/usr/bin/gcc&#34;</span><span class="op" id="7803104">,</span>&nbsp;<span class="builtintype" id="7803106">true</span><span class="op" id="7803110">}</span><span class="op" id="7803111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803114">{</span><span class="string" id="7803115">&#34;..&#34;</span><span class="op" id="7803119">,</span>&nbsp;<span class="builtintype" id="7803121">false</span><span class="op" id="7803126">}</span><span class="op" id="7803127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803130">{</span><span class="string" id="7803131">&#34;/a/../bb&#34;</span><span class="op" id="7803141">,</span>&nbsp;<span class="builtintype" id="7803143">true</span><span class="op" id="7803147">}</span><span class="op" id="7803148">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803151">{</span><span class="string" id="7803152">&#34;.&#34;</span><span class="op" id="7803155">,</span>&nbsp;<span class="builtintype" id="7803157">false</span><span class="op" id="7803162">}</span><span class="op" id="7803163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803166">{</span><span class="string" id="7803167">&#34;./&#34;</span><span class="op" id="7803171">,</span>&nbsp;<span class="builtintype" id="7803173">false</span><span class="op" id="7803178">}</span><span class="op" id="7803179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803182">{</span><span class="string" id="7803183">&#34;lala&#34;</span><span class="op" id="7803189">,</span>&nbsp;<span class="builtintype" id="7803191">false</span><span class="op" id="7803196">}</span><span class="op" id="7803197">,</span><br>
<span class="lineno"></span><span class="op" id="7803199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7803202">func</span>&nbsp;<span class="ident" id="7803207">TestIsAbs</span><span class="op" id="7803216">(</span><span class="ident" id="7803217">t</span>&nbsp;<span class="op" id="7803219">*</span><span class="ident" id="7803220">testing</span><span class="op" id="7803227">.</span><span class="ident" id="7803228">T</span><span class="op" id="7803229">)</span>&nbsp;<span class="op" id="7803231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7803234">for</span>&nbsp;<span class="ident" id="7803238">_</span><span class="op" id="7803239">,</span>&nbsp;<span class="ident" id="7803241">test</span>&nbsp;<span class="op" id="7803246">:=</span>&nbsp;<span class="keyword" id="7803249">range</span>&nbsp;<span class="ident" id="7803255">isAbsTests</span>&nbsp;<span class="op" id="7803266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7803270">if</span>&nbsp;<span class="ident" id="7803273">r</span>&nbsp;<span class="op" id="7803275">:=</span>&nbsp;<span class="ident" id="7803278">IsAbs</span><span class="op" id="7803283">(</span><span class="ident" id="7803284">test</span><span class="op" id="7803288">.</span><span class="ident" id="7803289">path</span><span class="op" id="7803293">)</span><span class="op" id="7803294">;</span>&nbsp;<span class="ident" id="7803296">r</span>&nbsp;<span class="op" id="7803298">!=</span>&nbsp;<span class="ident" id="7803301">test</span><span class="op" id="7803305">.</span><span class="ident" id="7803306">isAbs</span>&nbsp;<span class="op" id="7803312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7803317">t</span><span class="op" id="7803318">.</span><span class="ident" id="7803319">Errorf</span><span class="op" id="7803325">(</span><span class="string" id="7803326">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7803351">,</span>&nbsp;<span class="ident" id="7803353">test</span><span class="op" id="7803357">.</span><span class="ident" id="7803358">path</span><span class="op" id="7803362">,</span>&nbsp;<span class="ident" id="7803364">r</span><span class="op" id="7803365">,</span>&nbsp;<span class="ident" id="7803367">test</span><span class="op" id="7803371">.</span><span class="ident" id="7803372">isAbs</span><span class="op" id="7803377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803381">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7803384">}</span><br>
<span class="lineno"></span><span class="op" id="7803386">}</span>
</div>
</body>
</html>
