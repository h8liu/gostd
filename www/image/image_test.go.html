<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7162058">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7162113">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7162167">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7162218">package</span>&nbsp;<span class="ident" id="7162226">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7162233">import</span>&nbsp;<span class="op" id="7162240">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7162243">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7162258">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7162268">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7162271">type</span>&nbsp;<span class="ident" id="7162276">image</span>&nbsp;<span class="keyword" id="7162282">interface</span>&nbsp;<span class="op" id="7162292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162295">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162302">Opaque</span><span class="op" id="7162308">(</span><span class="op" id="7162309">)</span>&nbsp;<span class="builtintype" id="7162311">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162317">Set</span><span class="op" id="7162320">(</span><span class="builtintype" id="7162321">int</span><span class="op" id="7162324">,</span>&nbsp;<span class="builtintype" id="7162326">int</span><span class="op" id="7162329">,</span>&nbsp;<span class="ident" id="7162331">color</span><span class="op" id="7162336">.</span><span class="ident" id="7162337">Color</span><span class="op" id="7162342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162345">SubImage</span><span class="op" id="7162353">(</span><span class="ident" id="7162354">Rectangle</span><span class="op" id="7162363">)</span>&nbsp;<span class="ident" id="7162365">Image</span><br>
<span class="lineno"></span><span class="op" id="7162371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7162374">func</span>&nbsp;<span class="ident" id="7162379">cmp</span><span class="op" id="7162382">(</span><span class="ident" id="7162383">t</span>&nbsp;<span class="op" id="7162385">*</span><span class="ident" id="7162386">testing</span><span class="op" id="7162393">.</span><span class="ident" id="7162394">T</span><span class="op" id="7162395">,</span>&nbsp;<span class="ident" id="7162397">cm</span>&nbsp;<span class="ident" id="7162400">color</span><span class="op" id="7162405">.</span><span class="ident" id="7162406">Model</span><span class="op" id="7162411">,</span>&nbsp;<span class="ident" id="7162413">c0</span><span class="op" id="7162415">,</span>&nbsp;<span class="ident" id="7162417">c1</span>&nbsp;<span class="ident" id="7162420">color</span><span class="op" id="7162425">.</span><span class="ident" id="7162426">Color</span><span class="op" id="7162431">)</span>&nbsp;<span class="builtintype" id="7162433">bool</span>&nbsp;<span class="op" id="7162438">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162441">r0</span><span class="op" id="7162443">,</span>&nbsp;<span class="ident" id="7162445">g0</span><span class="op" id="7162447">,</span>&nbsp;<span class="ident" id="7162449">b0</span><span class="op" id="7162451">,</span>&nbsp;<span class="ident" id="7162453">a0</span>&nbsp;<span class="op" id="7162456">:=</span>&nbsp;<span class="ident" id="7162459">cm</span><span class="op" id="7162461">.</span><span class="ident" id="7162462">Convert</span><span class="op" id="7162469">(</span><span class="ident" id="7162470">c0</span><span class="op" id="7162472">)</span><span class="op" id="7162473">.</span><span class="ident" id="7162474">RGBA</span><span class="op" id="7162478">(</span><span class="op" id="7162479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162482">r1</span><span class="op" id="7162484">,</span>&nbsp;<span class="ident" id="7162486">g1</span><span class="op" id="7162488">,</span>&nbsp;<span class="ident" id="7162490">b1</span><span class="op" id="7162492">,</span>&nbsp;<span class="ident" id="7162494">a1</span>&nbsp;<span class="op" id="7162497">:=</span>&nbsp;<span class="ident" id="7162500">cm</span><span class="op" id="7162502">.</span><span class="ident" id="7162503">Convert</span><span class="op" id="7162510">(</span><span class="ident" id="7162511">c1</span><span class="op" id="7162513">)</span><span class="op" id="7162514">.</span><span class="ident" id="7162515">RGBA</span><span class="op" id="7162519">(</span><span class="op" id="7162520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7162523">return</span>&nbsp;<span class="ident" id="7162530">r0</span>&nbsp;<span class="op" id="7162533">==</span>&nbsp;<span class="ident" id="7162536">r1</span>&nbsp;<span class="op" id="7162539">&amp;&amp;</span>&nbsp;<span class="ident" id="7162542">g0</span>&nbsp;<span class="op" id="7162545">==</span>&nbsp;<span class="ident" id="7162548">g1</span>&nbsp;<span class="op" id="7162551">&amp;&amp;</span>&nbsp;<span class="ident" id="7162554">b0</span>&nbsp;<span class="op" id="7162557">==</span>&nbsp;<span class="ident" id="7162560">b1</span>&nbsp;<span class="op" id="7162563">&amp;&amp;</span>&nbsp;<span class="ident" id="7162566">a0</span>&nbsp;<span class="op" id="7162569">==</span>&nbsp;<span class="ident" id="7162572">a1</span><br>
<span class="lineno"></span><span class="op" id="7162575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7162578">func</span>&nbsp;<span class="ident" id="7162583">TestImage</span><span class="op" id="7162592">(</span><span class="ident" id="7162593">t</span>&nbsp;<span class="op" id="7162595">*</span><span class="ident" id="7162596">testing</span><span class="op" id="7162603">.</span><span class="ident" id="7162604">T</span><span class="op" id="7162605">)</span>&nbsp;<span class="op" id="7162607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162610">testImage</span>&nbsp;<span class="op" id="7162620">:=</span>&nbsp;<span class="op" id="7162623">[</span><span class="op" id="7162624">]</span><span class="ident" id="7162625">image</span><span class="op" id="7162630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162634">NewRGBA</span><span class="op" id="7162641">(</span><span class="ident" id="7162642">Rect</span><span class="op" id="7162646">(</span><span class="num" id="7162647">0</span><span class="op" id="7162648">,</span>&nbsp;<span class="num" id="7162650">0</span><span class="op" id="7162651">,</span>&nbsp;<span class="num" id="7162653">10</span><span class="op" id="7162655">,</span>&nbsp;<span class="num" id="7162657">10</span><span class="op" id="7162659">)</span><span class="op" id="7162660">)</span><span class="op" id="7162661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162665">NewRGBA64</span><span class="op" id="7162674">(</span><span class="ident" id="7162675">Rect</span><span class="op" id="7162679">(</span><span class="num" id="7162680">0</span><span class="op" id="7162681">,</span>&nbsp;<span class="num" id="7162683">0</span><span class="op" id="7162684">,</span>&nbsp;<span class="num" id="7162686">10</span><span class="op" id="7162688">,</span>&nbsp;<span class="num" id="7162690">10</span><span class="op" id="7162692">)</span><span class="op" id="7162693">)</span><span class="op" id="7162694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162698">NewNRGBA</span><span class="op" id="7162706">(</span><span class="ident" id="7162707">Rect</span><span class="op" id="7162711">(</span><span class="num" id="7162712">0</span><span class="op" id="7162713">,</span>&nbsp;<span class="num" id="7162715">0</span><span class="op" id="7162716">,</span>&nbsp;<span class="num" id="7162718">10</span><span class="op" id="7162720">,</span>&nbsp;<span class="num" id="7162722">10</span><span class="op" id="7162724">)</span><span class="op" id="7162725">)</span><span class="op" id="7162726">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162730">NewNRGBA64</span><span class="op" id="7162740">(</span><span class="ident" id="7162741">Rect</span><span class="op" id="7162745">(</span><span class="num" id="7162746">0</span><span class="op" id="7162747">,</span>&nbsp;<span class="num" id="7162749">0</span><span class="op" id="7162750">,</span>&nbsp;<span class="num" id="7162752">10</span><span class="op" id="7162754">,</span>&nbsp;<span class="num" id="7162756">10</span><span class="op" id="7162758">)</span><span class="op" id="7162759">)</span><span class="op" id="7162760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162764">NewAlpha</span><span class="op" id="7162772">(</span><span class="ident" id="7162773">Rect</span><span class="op" id="7162777">(</span><span class="num" id="7162778">0</span><span class="op" id="7162779">,</span>&nbsp;<span class="num" id="7162781">0</span><span class="op" id="7162782">,</span>&nbsp;<span class="num" id="7162784">10</span><span class="op" id="7162786">,</span>&nbsp;<span class="num" id="7162788">10</span><span class="op" id="7162790">)</span><span class="op" id="7162791">)</span><span class="op" id="7162792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162796">NewAlpha16</span><span class="op" id="7162806">(</span><span class="ident" id="7162807">Rect</span><span class="op" id="7162811">(</span><span class="num" id="7162812">0</span><span class="op" id="7162813">,</span>&nbsp;<span class="num" id="7162815">0</span><span class="op" id="7162816">,</span>&nbsp;<span class="num" id="7162818">10</span><span class="op" id="7162820">,</span>&nbsp;<span class="num" id="7162822">10</span><span class="op" id="7162824">)</span><span class="op" id="7162825">)</span><span class="op" id="7162826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162830">NewGray</span><span class="op" id="7162837">(</span><span class="ident" id="7162838">Rect</span><span class="op" id="7162842">(</span><span class="num" id="7162843">0</span><span class="op" id="7162844">,</span>&nbsp;<span class="num" id="7162846">0</span><span class="op" id="7162847">,</span>&nbsp;<span class="num" id="7162849">10</span><span class="op" id="7162851">,</span>&nbsp;<span class="num" id="7162853">10</span><span class="op" id="7162855">)</span><span class="op" id="7162856">)</span><span class="op" id="7162857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162861">NewGray16</span><span class="op" id="7162870">(</span><span class="ident" id="7162871">Rect</span><span class="op" id="7162875">(</span><span class="num" id="7162876">0</span><span class="op" id="7162877">,</span>&nbsp;<span class="num" id="7162879">0</span><span class="op" id="7162880">,</span>&nbsp;<span class="num" id="7162882">10</span><span class="op" id="7162884">,</span>&nbsp;<span class="num" id="7162886">10</span><span class="op" id="7162888">)</span><span class="op" id="7162889">)</span><span class="op" id="7162890">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162894">NewPaletted</span><span class="op" id="7162905">(</span><span class="ident" id="7162906">Rect</span><span class="op" id="7162910">(</span><span class="num" id="7162911">0</span><span class="op" id="7162912">,</span>&nbsp;<span class="num" id="7162914">0</span><span class="op" id="7162915">,</span>&nbsp;<span class="num" id="7162917">10</span><span class="op" id="7162919">,</span>&nbsp;<span class="num" id="7162921">10</span><span class="op" id="7162923">)</span><span class="op" id="7162924">,</span>&nbsp;<span class="ident" id="7162926">color</span><span class="op" id="7162931">.</span><span class="ident" id="7162932">Palette</span><span class="op" id="7162939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162944">Transparent</span><span class="op" id="7162955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7162960">Opaque</span><span class="op" id="7162966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7162970">}</span><span class="op" id="7162971">)</span><span class="op" id="7162972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7162975">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7162978">for</span>&nbsp;<span class="ident" id="7162982">_</span><span class="op" id="7162983">,</span>&nbsp;<span class="ident" id="7162985">m</span>&nbsp;<span class="op" id="7162987">:=</span>&nbsp;<span class="keyword" id="7162990">range</span>&nbsp;<span class="ident" id="7162996">testImage</span>&nbsp;<span class="op" id="7163006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163010">if</span>&nbsp;<span class="op" id="7163013">!</span><span class="ident" id="7163014">Rect</span><span class="op" id="7163018">(</span><span class="num" id="7163019">0</span><span class="op" id="7163020">,</span>&nbsp;<span class="num" id="7163022">0</span><span class="op" id="7163023">,</span>&nbsp;<span class="num" id="7163025">10</span><span class="op" id="7163027">,</span>&nbsp;<span class="num" id="7163029">10</span><span class="op" id="7163031">)</span><span class="op" id="7163032">.</span><span class="ident" id="7163033">Eq</span><span class="op" id="7163035">(</span><span class="ident" id="7163036">m</span><span class="op" id="7163037">.</span><span class="ident" id="7163038">Bounds</span><span class="op" id="7163044">(</span><span class="op" id="7163045">)</span><span class="op" id="7163046">)</span>&nbsp;<span class="op" id="7163048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163053">t</span><span class="op" id="7163054">.</span><span class="ident" id="7163055">Errorf</span><span class="op" id="7163061">(</span><span class="string" id="7163062">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7163090">,</span>&nbsp;<span class="ident" id="7163092">m</span><span class="op" id="7163093">,</span>&nbsp;<span class="ident" id="7163095">Rect</span><span class="op" id="7163099">(</span><span class="num" id="7163100">0</span><span class="op" id="7163101">,</span>&nbsp;<span class="num" id="7163103">0</span><span class="op" id="7163104">,</span>&nbsp;<span class="num" id="7163106">10</span><span class="op" id="7163108">,</span>&nbsp;<span class="num" id="7163110">10</span><span class="op" id="7163112">)</span><span class="op" id="7163113">,</span>&nbsp;<span class="ident" id="7163115">m</span><span class="op" id="7163116">.</span><span class="ident" id="7163117">Bounds</span><span class="op" id="7163123">(</span><span class="op" id="7163124">)</span><span class="op" id="7163125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163130">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7163141">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163145">if</span>&nbsp;<span class="op" id="7163148">!</span><span class="ident" id="7163149">cmp</span><span class="op" id="7163152">(</span><span class="ident" id="7163153">t</span><span class="op" id="7163154">,</span>&nbsp;<span class="ident" id="7163156">m</span><span class="op" id="7163157">.</span><span class="ident" id="7163158">ColorModel</span><span class="op" id="7163168">(</span><span class="op" id="7163169">)</span><span class="op" id="7163170">,</span>&nbsp;<span class="ident" id="7163172">Transparent</span><span class="op" id="7163183">,</span>&nbsp;<span class="ident" id="7163185">m</span><span class="op" id="7163186">.</span><span class="ident" id="7163187">At</span><span class="op" id="7163189">(</span><span class="num" id="7163190">6</span><span class="op" id="7163191">,</span>&nbsp;<span class="num" id="7163193">3</span><span class="op" id="7163194">)</span><span class="op" id="7163195">)</span>&nbsp;<span class="op" id="7163197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163202">t</span><span class="op" id="7163203">.</span><span class="ident" id="7163204">Errorf</span><span class="op" id="7163210">(</span><span class="string" id="7163211">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7163253">,</span>&nbsp;<span class="ident" id="7163255">m</span><span class="op" id="7163256">,</span>&nbsp;<span class="ident" id="7163258">m</span><span class="op" id="7163259">.</span><span class="ident" id="7163260">At</span><span class="op" id="7163262">(</span><span class="num" id="7163263">6</span><span class="op" id="7163264">,</span>&nbsp;<span class="num" id="7163266">3</span><span class="op" id="7163267">)</span><span class="op" id="7163268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163273">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7163284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163288">m</span><span class="op" id="7163289">.</span><span class="ident" id="7163290">Set</span><span class="op" id="7163293">(</span><span class="num" id="7163294">6</span><span class="op" id="7163295">,</span>&nbsp;<span class="num" id="7163297">3</span><span class="op" id="7163298">,</span>&nbsp;<span class="ident" id="7163300">Opaque</span><span class="op" id="7163306">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163310">if</span>&nbsp;<span class="op" id="7163313">!</span><span class="ident" id="7163314">cmp</span><span class="op" id="7163317">(</span><span class="ident" id="7163318">t</span><span class="op" id="7163319">,</span>&nbsp;<span class="ident" id="7163321">m</span><span class="op" id="7163322">.</span><span class="ident" id="7163323">ColorModel</span><span class="op" id="7163333">(</span><span class="op" id="7163334">)</span><span class="op" id="7163335">,</span>&nbsp;<span class="ident" id="7163337">Opaque</span><span class="op" id="7163343">,</span>&nbsp;<span class="ident" id="7163345">m</span><span class="op" id="7163346">.</span><span class="ident" id="7163347">At</span><span class="op" id="7163349">(</span><span class="num" id="7163350">6</span><span class="op" id="7163351">,</span>&nbsp;<span class="num" id="7163353">3</span><span class="op" id="7163354">)</span><span class="op" id="7163355">)</span>&nbsp;<span class="op" id="7163357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163362">t</span><span class="op" id="7163363">.</span><span class="ident" id="7163364">Errorf</span><span class="op" id="7163370">(</span><span class="string" id="7163371">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7163417">,</span>&nbsp;<span class="ident" id="7163419">m</span><span class="op" id="7163420">,</span>&nbsp;<span class="ident" id="7163422">m</span><span class="op" id="7163423">.</span><span class="ident" id="7163424">At</span><span class="op" id="7163426">(</span><span class="num" id="7163427">6</span><span class="op" id="7163428">,</span>&nbsp;<span class="num" id="7163430">3</span><span class="op" id="7163431">)</span><span class="op" id="7163432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163437">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7163448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163452">if</span>&nbsp;<span class="op" id="7163455">!</span><span class="ident" id="7163456">m</span><span class="op" id="7163457">.</span><span class="ident" id="7163458">SubImage</span><span class="op" id="7163466">(</span><span class="ident" id="7163467">Rect</span><span class="op" id="7163471">(</span><span class="num" id="7163472">6</span><span class="op" id="7163473">,</span>&nbsp;<span class="num" id="7163475">3</span><span class="op" id="7163476">,</span>&nbsp;<span class="num" id="7163478">7</span><span class="op" id="7163479">,</span>&nbsp;<span class="num" id="7163481">4</span><span class="op" id="7163482">)</span><span class="op" id="7163483">)</span><span class="op" id="7163484">.</span><span class="op" id="7163485">(</span><span class="ident" id="7163486">image</span><span class="op" id="7163491">)</span><span class="op" id="7163492">.</span><span class="ident" id="7163493">Opaque</span><span class="op" id="7163499">(</span><span class="op" id="7163500">)</span>&nbsp;<span class="op" id="7163502">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163507">t</span><span class="op" id="7163508">.</span><span class="ident" id="7163509">Errorf</span><span class="op" id="7163515">(</span><span class="string" id="7163516">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="7163546">,</span>&nbsp;<span class="ident" id="7163548">m</span><span class="op" id="7163549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163554">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7163565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163569">m</span>&nbsp;<span class="op" id="7163571">=</span>&nbsp;<span class="ident" id="7163573">m</span><span class="op" id="7163574">.</span><span class="ident" id="7163575">SubImage</span><span class="op" id="7163583">(</span><span class="ident" id="7163584">Rect</span><span class="op" id="7163588">(</span><span class="num" id="7163589">3</span><span class="op" id="7163590">,</span>&nbsp;<span class="num" id="7163592">2</span><span class="op" id="7163593">,</span>&nbsp;<span class="num" id="7163595">9</span><span class="op" id="7163596">,</span>&nbsp;<span class="num" id="7163598">8</span><span class="op" id="7163599">)</span><span class="op" id="7163600">)</span><span class="op" id="7163601">.</span><span class="op" id="7163602">(</span><span class="ident" id="7163603">image</span><span class="op" id="7163608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163612">if</span>&nbsp;<span class="op" id="7163615">!</span><span class="ident" id="7163616">Rect</span><span class="op" id="7163620">(</span><span class="num" id="7163621">3</span><span class="op" id="7163622">,</span>&nbsp;<span class="num" id="7163624">2</span><span class="op" id="7163625">,</span>&nbsp;<span class="num" id="7163627">9</span><span class="op" id="7163628">,</span>&nbsp;<span class="num" id="7163630">8</span><span class="op" id="7163631">)</span><span class="op" id="7163632">.</span><span class="ident" id="7163633">Eq</span><span class="op" id="7163635">(</span><span class="ident" id="7163636">m</span><span class="op" id="7163637">.</span><span class="ident" id="7163638">Bounds</span><span class="op" id="7163644">(</span><span class="op" id="7163645">)</span><span class="op" id="7163646">)</span>&nbsp;<span class="op" id="7163648">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163653">t</span><span class="op" id="7163654">.</span><span class="ident" id="7163655">Errorf</span><span class="op" id="7163661">(</span><span class="string" id="7163662">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7163700">,</span>&nbsp;<span class="ident" id="7163702">m</span><span class="op" id="7163703">,</span>&nbsp;<span class="ident" id="7163705">Rect</span><span class="op" id="7163709">(</span><span class="num" id="7163710">3</span><span class="op" id="7163711">,</span>&nbsp;<span class="num" id="7163713">2</span><span class="op" id="7163714">,</span>&nbsp;<span class="num" id="7163716">9</span><span class="op" id="7163717">,</span>&nbsp;<span class="num" id="7163719">8</span><span class="op" id="7163720">)</span><span class="op" id="7163721">,</span>&nbsp;<span class="ident" id="7163723">m</span><span class="op" id="7163724">.</span><span class="ident" id="7163725">Bounds</span><span class="op" id="7163731">(</span><span class="op" id="7163732">)</span><span class="op" id="7163733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163738">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7163749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163753">if</span>&nbsp;<span class="op" id="7163756">!</span><span class="ident" id="7163757">cmp</span><span class="op" id="7163760">(</span><span class="ident" id="7163761">t</span><span class="op" id="7163762">,</span>&nbsp;<span class="ident" id="7163764">m</span><span class="op" id="7163765">.</span><span class="ident" id="7163766">ColorModel</span><span class="op" id="7163776">(</span><span class="op" id="7163777">)</span><span class="op" id="7163778">,</span>&nbsp;<span class="ident" id="7163780">Opaque</span><span class="op" id="7163786">,</span>&nbsp;<span class="ident" id="7163788">m</span><span class="op" id="7163789">.</span><span class="ident" id="7163790">At</span><span class="op" id="7163792">(</span><span class="num" id="7163793">6</span><span class="op" id="7163794">,</span>&nbsp;<span class="num" id="7163796">3</span><span class="op" id="7163797">)</span><span class="op" id="7163798">)</span>&nbsp;<span class="op" id="7163800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163805">t</span><span class="op" id="7163806">.</span><span class="ident" id="7163807">Errorf</span><span class="op" id="7163813">(</span><span class="string" id="7163814">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7163870">,</span>&nbsp;<span class="ident" id="7163872">m</span><span class="op" id="7163873">,</span>&nbsp;<span class="ident" id="7163875">m</span><span class="op" id="7163876">.</span><span class="ident" id="7163877">At</span><span class="op" id="7163879">(</span><span class="num" id="7163880">6</span><span class="op" id="7163881">,</span>&nbsp;<span class="num" id="7163883">3</span><span class="op" id="7163884">)</span><span class="op" id="7163885">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163890">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7163901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7163905">if</span>&nbsp;<span class="op" id="7163908">!</span><span class="ident" id="7163909">cmp</span><span class="op" id="7163912">(</span><span class="ident" id="7163913">t</span><span class="op" id="7163914">,</span>&nbsp;<span class="ident" id="7163916">m</span><span class="op" id="7163917">.</span><span class="ident" id="7163918">ColorModel</span><span class="op" id="7163928">(</span><span class="op" id="7163929">)</span><span class="op" id="7163930">,</span>&nbsp;<span class="ident" id="7163932">Transparent</span><span class="op" id="7163943">,</span>&nbsp;<span class="ident" id="7163945">m</span><span class="op" id="7163946">.</span><span class="ident" id="7163947">At</span><span class="op" id="7163949">(</span><span class="num" id="7163950">3</span><span class="op" id="7163951">,</span>&nbsp;<span class="num" id="7163953">3</span><span class="op" id="7163954">)</span><span class="op" id="7163955">)</span>&nbsp;<span class="op" id="7163957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7163962">t</span><span class="op" id="7163963">.</span><span class="ident" id="7163964">Errorf</span><span class="op" id="7163970">(</span><span class="string" id="7163971">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7164023">,</span>&nbsp;<span class="ident" id="7164025">m</span><span class="op" id="7164026">,</span>&nbsp;<span class="ident" id="7164028">m</span><span class="op" id="7164029">.</span><span class="ident" id="7164030">At</span><span class="op" id="7164032">(</span><span class="num" id="7164033">3</span><span class="op" id="7164034">,</span>&nbsp;<span class="num" id="7164036">3</span><span class="op" id="7164037">)</span><span class="op" id="7164038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7164043">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7164054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164058">m</span><span class="op" id="7164059">.</span><span class="ident" id="7164060">Set</span><span class="op" id="7164063">(</span><span class="num" id="7164064">3</span><span class="op" id="7164065">,</span>&nbsp;<span class="num" id="7164067">3</span><span class="op" id="7164068">,</span>&nbsp;<span class="ident" id="7164070">Opaque</span><span class="op" id="7164076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7164080">if</span>&nbsp;<span class="op" id="7164083">!</span><span class="ident" id="7164084">cmp</span><span class="op" id="7164087">(</span><span class="ident" id="7164088">t</span><span class="op" id="7164089">,</span>&nbsp;<span class="ident" id="7164091">m</span><span class="op" id="7164092">.</span><span class="ident" id="7164093">ColorModel</span><span class="op" id="7164103">(</span><span class="op" id="7164104">)</span><span class="op" id="7164105">,</span>&nbsp;<span class="ident" id="7164107">Opaque</span><span class="op" id="7164113">,</span>&nbsp;<span class="ident" id="7164115">m</span><span class="op" id="7164116">.</span><span class="ident" id="7164117">At</span><span class="op" id="7164119">(</span><span class="num" id="7164120">3</span><span class="op" id="7164121">,</span>&nbsp;<span class="num" id="7164123">3</span><span class="op" id="7164124">)</span><span class="op" id="7164125">)</span>&nbsp;<span class="op" id="7164127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164132">t</span><span class="op" id="7164133">.</span><span class="ident" id="7164134">Errorf</span><span class="op" id="7164140">(</span><span class="string" id="7164141">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7164197">,</span>&nbsp;<span class="ident" id="7164199">m</span><span class="op" id="7164200">,</span>&nbsp;<span class="ident" id="7164202">m</span><span class="op" id="7164203">.</span><span class="ident" id="7164204">At</span><span class="op" id="7164206">(</span><span class="num" id="7164207">3</span><span class="op" id="7164208">,</span>&nbsp;<span class="num" id="7164210">3</span><span class="op" id="7164211">)</span><span class="op" id="7164212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7164217">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7164228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7164232">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164310">m</span><span class="op" id="7164311">.</span><span class="ident" id="7164312">SubImage</span><span class="op" id="7164320">(</span><span class="ident" id="7164321">Rect</span><span class="op" id="7164325">(</span><span class="num" id="7164326">0</span><span class="op" id="7164327">,</span>&nbsp;<span class="num" id="7164329">0</span><span class="op" id="7164330">,</span>&nbsp;<span class="num" id="7164332">0</span><span class="op" id="7164333">,</span>&nbsp;<span class="num" id="7164335">0</span><span class="op" id="7164336">)</span><span class="op" id="7164337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164341">m</span><span class="op" id="7164342">.</span><span class="ident" id="7164343">SubImage</span><span class="op" id="7164351">(</span><span class="ident" id="7164352">Rect</span><span class="op" id="7164356">(</span><span class="num" id="7164357">10</span><span class="op" id="7164359">,</span>&nbsp;<span class="num" id="7164361">0</span><span class="op" id="7164362">,</span>&nbsp;<span class="num" id="7164364">10</span><span class="op" id="7164366">,</span>&nbsp;<span class="num" id="7164368">0</span><span class="op" id="7164369">)</span><span class="op" id="7164370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164374">m</span><span class="op" id="7164375">.</span><span class="ident" id="7164376">SubImage</span><span class="op" id="7164384">(</span><span class="ident" id="7164385">Rect</span><span class="op" id="7164389">(</span><span class="num" id="7164390">0</span><span class="op" id="7164391">,</span>&nbsp;<span class="num" id="7164393">10</span><span class="op" id="7164395">,</span>&nbsp;<span class="num" id="7164397">0</span><span class="op" id="7164398">,</span>&nbsp;<span class="num" id="7164400">10</span><span class="op" id="7164402">)</span><span class="op" id="7164403">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164407">m</span><span class="op" id="7164408">.</span><span class="ident" id="7164409">SubImage</span><span class="op" id="7164417">(</span><span class="ident" id="7164418">Rect</span><span class="op" id="7164422">(</span><span class="num" id="7164423">10</span><span class="op" id="7164425">,</span>&nbsp;<span class="num" id="7164427">10</span><span class="op" id="7164429">,</span>&nbsp;<span class="num" id="7164431">10</span><span class="op" id="7164433">,</span>&nbsp;<span class="num" id="7164435">10</span><span class="op" id="7164437">)</span><span class="op" id="7164438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7164441">}</span><br>
<span class="lineno"></span><span class="op" id="7164443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7164446">func</span>&nbsp;<span class="ident" id="7164451">Test16BitsPerColorChannel</span><span class="op" id="7164476">(</span><span class="ident" id="7164477">t</span>&nbsp;<span class="op" id="7164479">*</span><span class="ident" id="7164480">testing</span><span class="op" id="7164487">.</span><span class="ident" id="7164488">T</span><span class="op" id="7164489">)</span>&nbsp;<span class="op" id="7164491">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164494">testColorModel</span>&nbsp;<span class="op" id="7164509">:=</span>&nbsp;<span class="op" id="7164512">[</span><span class="op" id="7164513">]</span><span class="ident" id="7164514">color</span><span class="op" id="7164519">.</span><span class="ident" id="7164520">Model</span><span class="op" id="7164525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164529">color</span><span class="op" id="7164534">.</span><span class="ident" id="7164535">RGBA64Model</span><span class="op" id="7164546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164550">color</span><span class="op" id="7164555">.</span><span class="ident" id="7164556">NRGBA64Model</span><span class="op" id="7164568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164572">color</span><span class="op" id="7164577">.</span><span class="ident" id="7164578">Alpha16Model</span><span class="op" id="7164590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164594">color</span><span class="op" id="7164599">.</span><span class="ident" id="7164600">Gray16Model</span><span class="op" id="7164611">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7164614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7164617">for</span>&nbsp;<span class="ident" id="7164621">_</span><span class="op" id="7164622">,</span>&nbsp;<span class="ident" id="7164624">cm</span>&nbsp;<span class="op" id="7164627">:=</span>&nbsp;<span class="keyword" id="7164630">range</span>&nbsp;<span class="ident" id="7164636">testColorModel</span>&nbsp;<span class="op" id="7164651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164655">c</span>&nbsp;<span class="op" id="7164657">:=</span>&nbsp;<span class="ident" id="7164660">cm</span><span class="op" id="7164662">.</span><span class="ident" id="7164663">Convert</span><span class="op" id="7164670">(</span><span class="ident" id="7164671">color</span><span class="op" id="7164676">.</span><span class="ident" id="7164677">RGBA64</span><span class="op" id="7164683">{</span><span class="num" id="7164684">0x1234</span><span class="op" id="7164690">,</span>&nbsp;<span class="num" id="7164692">0x1234</span><span class="op" id="7164698">,</span>&nbsp;<span class="num" id="7164700">0x1234</span><span class="op" id="7164706">,</span>&nbsp;<span class="num" id="7164708">0x1234</span><span class="op" id="7164714">}</span><span class="op" id="7164715">)</span>&nbsp;<span class="comment" id="7164717">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164743">r</span><span class="op" id="7164744">,</span>&nbsp;<span class="ident" id="7164746">_</span><span class="op" id="7164747">,</span>&nbsp;<span class="ident" id="7164749">_</span><span class="op" id="7164750">,</span>&nbsp;<span class="ident" id="7164752">_</span>&nbsp;<span class="op" id="7164754">:=</span>&nbsp;<span class="ident" id="7164757">c</span><span class="op" id="7164758">.</span><span class="ident" id="7164759">RGBA</span><span class="op" id="7164763">(</span><span class="op" id="7164764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7164768">if</span>&nbsp;<span class="ident" id="7164771">r</span>&nbsp;<span class="op" id="7164773">!=</span>&nbsp;<span class="num" id="7164776">0x1234</span>&nbsp;<span class="op" id="7164783">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164788">t</span><span class="op" id="7164789">.</span><span class="ident" id="7164790">Errorf</span><span class="op" id="7164796">(</span><span class="string" id="7164797">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7164835">,</span>&nbsp;<span class="ident" id="7164837">c</span><span class="op" id="7164838">,</span>&nbsp;<span class="num" id="7164840">0x1234</span><span class="op" id="7164846">,</span>&nbsp;<span class="ident" id="7164848">r</span><span class="op" id="7164849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7164854">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7164865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7164868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164871">testImage</span>&nbsp;<span class="op" id="7164881">:=</span>&nbsp;<span class="op" id="7164884">[</span><span class="op" id="7164885">]</span><span class="ident" id="7164886">image</span><span class="op" id="7164891">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164895">NewRGBA64</span><span class="op" id="7164904">(</span><span class="ident" id="7164905">Rect</span><span class="op" id="7164909">(</span><span class="num" id="7164910">0</span><span class="op" id="7164911">,</span>&nbsp;<span class="num" id="7164913">0</span><span class="op" id="7164914">,</span>&nbsp;<span class="num" id="7164916">10</span><span class="op" id="7164918">,</span>&nbsp;<span class="num" id="7164920">10</span><span class="op" id="7164922">)</span><span class="op" id="7164923">)</span><span class="op" id="7164924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164928">NewNRGBA64</span><span class="op" id="7164938">(</span><span class="ident" id="7164939">Rect</span><span class="op" id="7164943">(</span><span class="num" id="7164944">0</span><span class="op" id="7164945">,</span>&nbsp;<span class="num" id="7164947">0</span><span class="op" id="7164948">,</span>&nbsp;<span class="num" id="7164950">10</span><span class="op" id="7164952">,</span>&nbsp;<span class="num" id="7164954">10</span><span class="op" id="7164956">)</span><span class="op" id="7164957">)</span><span class="op" id="7164958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164962">NewAlpha16</span><span class="op" id="7164972">(</span><span class="ident" id="7164973">Rect</span><span class="op" id="7164977">(</span><span class="num" id="7164978">0</span><span class="op" id="7164979">,</span>&nbsp;<span class="num" id="7164981">0</span><span class="op" id="7164982">,</span>&nbsp;<span class="num" id="7164984">10</span><span class="op" id="7164986">,</span>&nbsp;<span class="num" id="7164988">10</span><span class="op" id="7164990">)</span><span class="op" id="7164991">)</span><span class="op" id="7164992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7164996">NewGray16</span><span class="op" id="7165005">(</span><span class="ident" id="7165006">Rect</span><span class="op" id="7165010">(</span><span class="num" id="7165011">0</span><span class="op" id="7165012">,</span>&nbsp;<span class="num" id="7165014">0</span><span class="op" id="7165015">,</span>&nbsp;<span class="num" id="7165017">10</span><span class="op" id="7165019">,</span>&nbsp;<span class="num" id="7165021">10</span><span class="op" id="7165023">)</span><span class="op" id="7165024">)</span><span class="op" id="7165025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7165028">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7165031">for</span>&nbsp;<span class="ident" id="7165035">_</span><span class="op" id="7165036">,</span>&nbsp;<span class="ident" id="7165038">m</span>&nbsp;<span class="op" id="7165040">:=</span>&nbsp;<span class="keyword" id="7165043">range</span>&nbsp;<span class="ident" id="7165049">testImage</span>&nbsp;<span class="op" id="7165059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165063">m</span><span class="op" id="7165064">.</span><span class="ident" id="7165065">Set</span><span class="op" id="7165068">(</span><span class="num" id="7165069">1</span><span class="op" id="7165070">,</span>&nbsp;<span class="num" id="7165072">2</span><span class="op" id="7165073">,</span>&nbsp;<span class="ident" id="7165075">color</span><span class="op" id="7165080">.</span><span class="ident" id="7165081">NRGBA64</span><span class="op" id="7165088">{</span><span class="num" id="7165089">0xffff</span><span class="op" id="7165095">,</span>&nbsp;<span class="num" id="7165097">0xffff</span><span class="op" id="7165103">,</span>&nbsp;<span class="num" id="7165105">0xffff</span><span class="op" id="7165111">,</span>&nbsp;<span class="num" id="7165113">0x1357</span><span class="op" id="7165119">}</span><span class="op" id="7165120">)</span>&nbsp;<span class="comment" id="7165122">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165152">r</span><span class="op" id="7165153">,</span>&nbsp;<span class="ident" id="7165155">_</span><span class="op" id="7165156">,</span>&nbsp;<span class="ident" id="7165158">_</span><span class="op" id="7165159">,</span>&nbsp;<span class="ident" id="7165161">_</span>&nbsp;<span class="op" id="7165163">:=</span>&nbsp;<span class="ident" id="7165166">m</span><span class="op" id="7165167">.</span><span class="ident" id="7165168">At</span><span class="op" id="7165170">(</span><span class="num" id="7165171">1</span><span class="op" id="7165172">,</span>&nbsp;<span class="num" id="7165174">2</span><span class="op" id="7165175">)</span><span class="op" id="7165176">.</span><span class="ident" id="7165177">RGBA</span><span class="op" id="7165181">(</span><span class="op" id="7165182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7165186">if</span>&nbsp;<span class="ident" id="7165189">r</span>&nbsp;<span class="op" id="7165191">!=</span>&nbsp;<span class="num" id="7165194">0x1357</span>&nbsp;<span class="op" id="7165201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165206">t</span><span class="op" id="7165207">.</span><span class="ident" id="7165208">Errorf</span><span class="op" id="7165214">(</span><span class="string" id="7165215">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7165253">,</span>&nbsp;<span class="ident" id="7165255">m</span><span class="op" id="7165256">,</span>&nbsp;<span class="num" id="7165258">0x1357</span><span class="op" id="7165264">,</span>&nbsp;<span class="ident" id="7165266">r</span><span class="op" id="7165267">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7165272">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7165283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7165286">}</span><br>
<span class="lineno"></span><span class="op" id="7165288">}</span>
</div>
</body>
</html>
