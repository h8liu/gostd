<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7746986">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7747041">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7747095">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7747146">package</span>&nbsp;<span class="ident" id="7747154">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7747159">import</span>&nbsp;<span class="op" id="7747166">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7747169">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7747178">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7747188">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7747198">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7747201">var</span>&nbsp;<span class="ident" id="7747205">writeTests</span>&nbsp;<span class="op" id="7747216">=</span>&nbsp;<span class="op" id="7747218">[</span><span class="op" id="7747219">]</span><span class="keyword" id="7747220">struct</span>&nbsp;<span class="op" id="7747227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7747230">Input</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7747238">[</span><span class="op" id="7747239">]</span><span class="op" id="7747240">[</span><span class="op" id="7747241">]</span><span class="builtintype" id="7747242">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7747250">Output</span>&nbsp;&nbsp;<span class="builtintype" id="7747258">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7747266">UseCRLF</span>&nbsp;<span class="builtintype" id="7747274">bool</span><br>
<span class="lineno"></span><span class="op" id="7747279">}</span><span class="op" id="7747280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747283">{</span><span class="ident" id="7747284">Input</span><span class="op" id="7747289">:</span>&nbsp;<span class="op" id="7747291">[</span><span class="op" id="7747292">]</span><span class="op" id="7747293">[</span><span class="op" id="7747294">]</span><span class="builtintype" id="7747295">string</span><span class="op" id="7747301">{</span><span class="op" id="7747302">{</span><span class="string" id="7747303">&#34;abc&#34;</span><span class="op" id="7747308">}</span><span class="op" id="7747309">}</span><span class="op" id="7747310">,</span>&nbsp;<span class="ident" id="7747312">Output</span><span class="op" id="7747318">:</span>&nbsp;<span class="string" id="7747320">&#34;abc\n&#34;</span><span class="op" id="7747327">}</span><span class="op" id="7747328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747331">{</span><span class="ident" id="7747332">Input</span><span class="op" id="7747337">:</span>&nbsp;<span class="op" id="7747339">[</span><span class="op" id="7747340">]</span><span class="op" id="7747341">[</span><span class="op" id="7747342">]</span><span class="builtintype" id="7747343">string</span><span class="op" id="7747349">{</span><span class="op" id="7747350">{</span><span class="string" id="7747351">&#34;abc&#34;</span><span class="op" id="7747356">}</span><span class="op" id="7747357">}</span><span class="op" id="7747358">,</span>&nbsp;<span class="ident" id="7747360">Output</span><span class="op" id="7747366">:</span>&nbsp;<span class="string" id="7747368">&#34;abc\r\n&#34;</span><span class="op" id="7747377">,</span>&nbsp;<span class="ident" id="7747379">UseCRLF</span><span class="op" id="7747386">:</span>&nbsp;<span class="builtintype" id="7747388">true</span><span class="op" id="7747392">}</span><span class="op" id="7747393">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747396">{</span><span class="ident" id="7747397">Input</span><span class="op" id="7747402">:</span>&nbsp;<span class="op" id="7747404">[</span><span class="op" id="7747405">]</span><span class="op" id="7747406">[</span><span class="op" id="7747407">]</span><span class="builtintype" id="7747408">string</span><span class="op" id="7747414">{</span><span class="op" id="7747415">{</span><span class="string" id="7747416">`&#34;abc&#34;`</span><span class="op" id="7747423">}</span><span class="op" id="7747424">}</span><span class="op" id="7747425">,</span>&nbsp;<span class="ident" id="7747427">Output</span><span class="op" id="7747433">:</span>&nbsp;<span class="string" id="7747435">`&#34;&#34;&#34;abc&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7747447">+</span>&nbsp;<span class="string" id="7747449">&#34;\n&#34;</span><span class="op" id="7747453">}</span><span class="op" id="7747454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747457">{</span><span class="ident" id="7747458">Input</span><span class="op" id="7747463">:</span>&nbsp;<span class="op" id="7747465">[</span><span class="op" id="7747466">]</span><span class="op" id="7747467">[</span><span class="op" id="7747468">]</span><span class="builtintype" id="7747469">string</span><span class="op" id="7747475">{</span><span class="op" id="7747476">{</span><span class="string" id="7747477">`a&#34;b`</span><span class="op" id="7747482">}</span><span class="op" id="7747483">}</span><span class="op" id="7747484">,</span>&nbsp;<span class="ident" id="7747486">Output</span><span class="op" id="7747492">:</span>&nbsp;<span class="string" id="7747494">`&#34;a&#34;&#34;b&#34;`</span>&nbsp;<span class="op" id="7747503">+</span>&nbsp;<span class="string" id="7747505">&#34;\n&#34;</span><span class="op" id="7747509">}</span><span class="op" id="7747510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747513">{</span><span class="ident" id="7747514">Input</span><span class="op" id="7747519">:</span>&nbsp;<span class="op" id="7747521">[</span><span class="op" id="7747522">]</span><span class="op" id="7747523">[</span><span class="op" id="7747524">]</span><span class="builtintype" id="7747525">string</span><span class="op" id="7747531">{</span><span class="op" id="7747532">{</span><span class="string" id="7747533">`&#34;a&#34;b&#34;`</span><span class="op" id="7747540">}</span><span class="op" id="7747541">}</span><span class="op" id="7747542">,</span>&nbsp;<span class="ident" id="7747544">Output</span><span class="op" id="7747550">:</span>&nbsp;<span class="string" id="7747552">`&#34;&#34;&#34;a&#34;&#34;b&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7747565">+</span>&nbsp;<span class="string" id="7747567">&#34;\n&#34;</span><span class="op" id="7747571">}</span><span class="op" id="7747572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747575">{</span><span class="ident" id="7747576">Input</span><span class="op" id="7747581">:</span>&nbsp;<span class="op" id="7747583">[</span><span class="op" id="7747584">]</span><span class="op" id="7747585">[</span><span class="op" id="7747586">]</span><span class="builtintype" id="7747587">string</span><span class="op" id="7747593">{</span><span class="op" id="7747594">{</span><span class="string" id="7747595">&#34;&nbsp;abc&#34;</span><span class="op" id="7747601">}</span><span class="op" id="7747602">}</span><span class="op" id="7747603">,</span>&nbsp;<span class="ident" id="7747605">Output</span><span class="op" id="7747611">:</span>&nbsp;<span class="string" id="7747613">`&#34;&nbsp;abc&#34;`</span>&nbsp;<span class="op" id="7747622">+</span>&nbsp;<span class="string" id="7747624">&#34;\n&#34;</span><span class="op" id="7747628">}</span><span class="op" id="7747629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747632">{</span><span class="ident" id="7747633">Input</span><span class="op" id="7747638">:</span>&nbsp;<span class="op" id="7747640">[</span><span class="op" id="7747641">]</span><span class="op" id="7747642">[</span><span class="op" id="7747643">]</span><span class="builtintype" id="7747644">string</span><span class="op" id="7747650">{</span><span class="op" id="7747651">{</span><span class="string" id="7747652">&#34;abc,def&#34;</span><span class="op" id="7747661">}</span><span class="op" id="7747662">}</span><span class="op" id="7747663">,</span>&nbsp;<span class="ident" id="7747665">Output</span><span class="op" id="7747671">:</span>&nbsp;<span class="string" id="7747673">`&#34;abc,def&#34;`</span>&nbsp;<span class="op" id="7747685">+</span>&nbsp;<span class="string" id="7747687">&#34;\n&#34;</span><span class="op" id="7747691">}</span><span class="op" id="7747692">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747695">{</span><span class="ident" id="7747696">Input</span><span class="op" id="7747701">:</span>&nbsp;<span class="op" id="7747703">[</span><span class="op" id="7747704">]</span><span class="op" id="7747705">[</span><span class="op" id="7747706">]</span><span class="builtintype" id="7747707">string</span><span class="op" id="7747713">{</span><span class="op" id="7747714">{</span><span class="string" id="7747715">&#34;abc&#34;</span><span class="op" id="7747720">,</span>&nbsp;<span class="string" id="7747722">&#34;def&#34;</span><span class="op" id="7747727">}</span><span class="op" id="7747728">}</span><span class="op" id="7747729">,</span>&nbsp;<span class="ident" id="7747731">Output</span><span class="op" id="7747737">:</span>&nbsp;<span class="string" id="7747739">&#34;abc,def\n&#34;</span><span class="op" id="7747750">}</span><span class="op" id="7747751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747754">{</span><span class="ident" id="7747755">Input</span><span class="op" id="7747760">:</span>&nbsp;<span class="op" id="7747762">[</span><span class="op" id="7747763">]</span><span class="op" id="7747764">[</span><span class="op" id="7747765">]</span><span class="builtintype" id="7747766">string</span><span class="op" id="7747772">{</span><span class="op" id="7747773">{</span><span class="string" id="7747774">&#34;abc&#34;</span><span class="op" id="7747779">}</span><span class="op" id="7747780">,</span>&nbsp;<span class="op" id="7747782">{</span><span class="string" id="7747783">&#34;def&#34;</span><span class="op" id="7747788">}</span><span class="op" id="7747789">}</span><span class="op" id="7747790">,</span>&nbsp;<span class="ident" id="7747792">Output</span><span class="op" id="7747798">:</span>&nbsp;<span class="string" id="7747800">&#34;abc\ndef\n&#34;</span><span class="op" id="7747812">}</span><span class="op" id="7747813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747816">{</span><span class="ident" id="7747817">Input</span><span class="op" id="7747822">:</span>&nbsp;<span class="op" id="7747824">[</span><span class="op" id="7747825">]</span><span class="op" id="7747826">[</span><span class="op" id="7747827">]</span><span class="builtintype" id="7747828">string</span><span class="op" id="7747834">{</span><span class="op" id="7747835">{</span><span class="string" id="7747836">&#34;abc\ndef&#34;</span><span class="op" id="7747846">}</span><span class="op" id="7747847">}</span><span class="op" id="7747848">,</span>&nbsp;<span class="ident" id="7747850">Output</span><span class="op" id="7747856">:</span>&nbsp;<span class="string" id="7747858">&#34;\&#34;abc\ndef\&#34;\n&#34;</span><span class="op" id="7747874">}</span><span class="op" id="7747875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747878">{</span><span class="ident" id="7747879">Input</span><span class="op" id="7747884">:</span>&nbsp;<span class="op" id="7747886">[</span><span class="op" id="7747887">]</span><span class="op" id="7747888">[</span><span class="op" id="7747889">]</span><span class="builtintype" id="7747890">string</span><span class="op" id="7747896">{</span><span class="op" id="7747897">{</span><span class="string" id="7747898">&#34;abc\ndef&#34;</span><span class="op" id="7747908">}</span><span class="op" id="7747909">}</span><span class="op" id="7747910">,</span>&nbsp;<span class="ident" id="7747912">Output</span><span class="op" id="7747918">:</span>&nbsp;<span class="string" id="7747920">&#34;\&#34;abc\r\ndef\&#34;\r\n&#34;</span><span class="op" id="7747940">,</span>&nbsp;<span class="ident" id="7747942">UseCRLF</span><span class="op" id="7747949">:</span>&nbsp;<span class="builtintype" id="7747951">true</span><span class="op" id="7747955">}</span><span class="op" id="7747956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7747959">{</span><span class="ident" id="7747960">Input</span><span class="op" id="7747965">:</span>&nbsp;<span class="op" id="7747967">[</span><span class="op" id="7747968">]</span><span class="op" id="7747969">[</span><span class="op" id="7747970">]</span><span class="builtintype" id="7747971">string</span><span class="op" id="7747977">{</span><span class="op" id="7747978">{</span><span class="string" id="7747979">&#34;abc\rdef&#34;</span><span class="op" id="7747989">}</span><span class="op" id="7747990">}</span><span class="op" id="7747991">,</span>&nbsp;<span class="ident" id="7747993">Output</span><span class="op" id="7747999">:</span>&nbsp;<span class="string" id="7748001">&#34;\&#34;abcdef\&#34;\r\n&#34;</span><span class="op" id="7748017">,</span>&nbsp;<span class="ident" id="7748019">UseCRLF</span><span class="op" id="7748026">:</span>&nbsp;<span class="builtintype" id="7748028">true</span><span class="op" id="7748032">}</span><span class="op" id="7748033">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748036">{</span><span class="ident" id="7748037">Input</span><span class="op" id="7748042">:</span>&nbsp;<span class="op" id="7748044">[</span><span class="op" id="7748045">]</span><span class="op" id="7748046">[</span><span class="op" id="7748047">]</span><span class="builtintype" id="7748048">string</span><span class="op" id="7748054">{</span><span class="op" id="7748055">{</span><span class="string" id="7748056">&#34;abc\rdef&#34;</span><span class="op" id="7748066">}</span><span class="op" id="7748067">}</span><span class="op" id="7748068">,</span>&nbsp;<span class="ident" id="7748070">Output</span><span class="op" id="7748076">:</span>&nbsp;<span class="string" id="7748078">&#34;\&#34;abc\rdef\&#34;\n&#34;</span><span class="op" id="7748094">,</span>&nbsp;<span class="ident" id="7748096">UseCRLF</span><span class="op" id="7748103">:</span>&nbsp;<span class="builtintype" id="7748105">false</span><span class="op" id="7748110">}</span><span class="op" id="7748111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748114">{</span><span class="ident" id="7748115">Input</span><span class="op" id="7748120">:</span>&nbsp;<span class="op" id="7748122">[</span><span class="op" id="7748123">]</span><span class="op" id="7748124">[</span><span class="op" id="7748125">]</span><span class="builtintype" id="7748126">string</span><span class="op" id="7748132">{</span><span class="op" id="7748133">{</span><span class="string" id="7748134">&#34;&#34;</span><span class="op" id="7748136">}</span><span class="op" id="7748137">}</span><span class="op" id="7748138">,</span>&nbsp;<span class="ident" id="7748140">Output</span><span class="op" id="7748146">:</span>&nbsp;<span class="string" id="7748148">&#34;\n&#34;</span><span class="op" id="7748152">}</span><span class="op" id="7748153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748156">{</span><span class="ident" id="7748157">Input</span><span class="op" id="7748162">:</span>&nbsp;<span class="op" id="7748164">[</span><span class="op" id="7748165">]</span><span class="op" id="7748166">[</span><span class="op" id="7748167">]</span><span class="builtintype" id="7748168">string</span><span class="op" id="7748174">{</span><span class="op" id="7748175">{</span><span class="string" id="7748176">&#34;&#34;</span><span class="op" id="7748178">,</span>&nbsp;<span class="string" id="7748180">&#34;&#34;</span><span class="op" id="7748182">}</span><span class="op" id="7748183">}</span><span class="op" id="7748184">,</span>&nbsp;<span class="ident" id="7748186">Output</span><span class="op" id="7748192">:</span>&nbsp;<span class="string" id="7748194">&#34;,\n&#34;</span><span class="op" id="7748199">}</span><span class="op" id="7748200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748203">{</span><span class="ident" id="7748204">Input</span><span class="op" id="7748209">:</span>&nbsp;<span class="op" id="7748211">[</span><span class="op" id="7748212">]</span><span class="op" id="7748213">[</span><span class="op" id="7748214">]</span><span class="builtintype" id="7748215">string</span><span class="op" id="7748221">{</span><span class="op" id="7748222">{</span><span class="string" id="7748223">&#34;&#34;</span><span class="op" id="7748225">,</span>&nbsp;<span class="string" id="7748227">&#34;&#34;</span><span class="op" id="7748229">,</span>&nbsp;<span class="string" id="7748231">&#34;&#34;</span><span class="op" id="7748233">}</span><span class="op" id="7748234">}</span><span class="op" id="7748235">,</span>&nbsp;<span class="ident" id="7748237">Output</span><span class="op" id="7748243">:</span>&nbsp;<span class="string" id="7748245">&#34;,,\n&#34;</span><span class="op" id="7748251">}</span><span class="op" id="7748252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748255">{</span><span class="ident" id="7748256">Input</span><span class="op" id="7748261">:</span>&nbsp;<span class="op" id="7748263">[</span><span class="op" id="7748264">]</span><span class="op" id="7748265">[</span><span class="op" id="7748266">]</span><span class="builtintype" id="7748267">string</span><span class="op" id="7748273">{</span><span class="op" id="7748274">{</span><span class="string" id="7748275">&#34;&#34;</span><span class="op" id="7748277">,</span>&nbsp;<span class="string" id="7748279">&#34;&#34;</span><span class="op" id="7748281">,</span>&nbsp;<span class="string" id="7748283">&#34;a&#34;</span><span class="op" id="7748286">}</span><span class="op" id="7748287">}</span><span class="op" id="7748288">,</span>&nbsp;<span class="ident" id="7748290">Output</span><span class="op" id="7748296">:</span>&nbsp;<span class="string" id="7748298">&#34;,,a\n&#34;</span><span class="op" id="7748305">}</span><span class="op" id="7748306">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748309">{</span><span class="ident" id="7748310">Input</span><span class="op" id="7748315">:</span>&nbsp;<span class="op" id="7748317">[</span><span class="op" id="7748318">]</span><span class="op" id="7748319">[</span><span class="op" id="7748320">]</span><span class="builtintype" id="7748321">string</span><span class="op" id="7748327">{</span><span class="op" id="7748328">{</span><span class="string" id="7748329">&#34;&#34;</span><span class="op" id="7748331">,</span>&nbsp;<span class="string" id="7748333">&#34;a&#34;</span><span class="op" id="7748336">,</span>&nbsp;<span class="string" id="7748338">&#34;&#34;</span><span class="op" id="7748340">}</span><span class="op" id="7748341">}</span><span class="op" id="7748342">,</span>&nbsp;<span class="ident" id="7748344">Output</span><span class="op" id="7748350">:</span>&nbsp;<span class="string" id="7748352">&#34;,a,\n&#34;</span><span class="op" id="7748359">}</span><span class="op" id="7748360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748363">{</span><span class="ident" id="7748364">Input</span><span class="op" id="7748369">:</span>&nbsp;<span class="op" id="7748371">[</span><span class="op" id="7748372">]</span><span class="op" id="7748373">[</span><span class="op" id="7748374">]</span><span class="builtintype" id="7748375">string</span><span class="op" id="7748381">{</span><span class="op" id="7748382">{</span><span class="string" id="7748383">&#34;&#34;</span><span class="op" id="7748385">,</span>&nbsp;<span class="string" id="7748387">&#34;a&#34;</span><span class="op" id="7748390">,</span>&nbsp;<span class="string" id="7748392">&#34;a&#34;</span><span class="op" id="7748395">}</span><span class="op" id="7748396">}</span><span class="op" id="7748397">,</span>&nbsp;<span class="ident" id="7748399">Output</span><span class="op" id="7748405">:</span>&nbsp;<span class="string" id="7748407">&#34;,a,a\n&#34;</span><span class="op" id="7748415">}</span><span class="op" id="7748416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748419">{</span><span class="ident" id="7748420">Input</span><span class="op" id="7748425">:</span>&nbsp;<span class="op" id="7748427">[</span><span class="op" id="7748428">]</span><span class="op" id="7748429">[</span><span class="op" id="7748430">]</span><span class="builtintype" id="7748431">string</span><span class="op" id="7748437">{</span><span class="op" id="7748438">{</span><span class="string" id="7748439">&#34;a&#34;</span><span class="op" id="7748442">,</span>&nbsp;<span class="string" id="7748444">&#34;&#34;</span><span class="op" id="7748446">,</span>&nbsp;<span class="string" id="7748448">&#34;&#34;</span><span class="op" id="7748450">}</span><span class="op" id="7748451">}</span><span class="op" id="7748452">,</span>&nbsp;<span class="ident" id="7748454">Output</span><span class="op" id="7748460">:</span>&nbsp;<span class="string" id="7748462">&#34;a,,\n&#34;</span><span class="op" id="7748469">}</span><span class="op" id="7748470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748473">{</span><span class="ident" id="7748474">Input</span><span class="op" id="7748479">:</span>&nbsp;<span class="op" id="7748481">[</span><span class="op" id="7748482">]</span><span class="op" id="7748483">[</span><span class="op" id="7748484">]</span><span class="builtintype" id="7748485">string</span><span class="op" id="7748491">{</span><span class="op" id="7748492">{</span><span class="string" id="7748493">&#34;a&#34;</span><span class="op" id="7748496">,</span>&nbsp;<span class="string" id="7748498">&#34;&#34;</span><span class="op" id="7748500">,</span>&nbsp;<span class="string" id="7748502">&#34;a&#34;</span><span class="op" id="7748505">}</span><span class="op" id="7748506">}</span><span class="op" id="7748507">,</span>&nbsp;<span class="ident" id="7748509">Output</span><span class="op" id="7748515">:</span>&nbsp;<span class="string" id="7748517">&#34;a,,a\n&#34;</span><span class="op" id="7748525">}</span><span class="op" id="7748526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748529">{</span><span class="ident" id="7748530">Input</span><span class="op" id="7748535">:</span>&nbsp;<span class="op" id="7748537">[</span><span class="op" id="7748538">]</span><span class="op" id="7748539">[</span><span class="op" id="7748540">]</span><span class="builtintype" id="7748541">string</span><span class="op" id="7748547">{</span><span class="op" id="7748548">{</span><span class="string" id="7748549">&#34;a&#34;</span><span class="op" id="7748552">,</span>&nbsp;<span class="string" id="7748554">&#34;a&#34;</span><span class="op" id="7748557">,</span>&nbsp;<span class="string" id="7748559">&#34;&#34;</span><span class="op" id="7748561">}</span><span class="op" id="7748562">}</span><span class="op" id="7748563">,</span>&nbsp;<span class="ident" id="7748565">Output</span><span class="op" id="7748571">:</span>&nbsp;<span class="string" id="7748573">&#34;a,a,\n&#34;</span><span class="op" id="7748581">}</span><span class="op" id="7748582">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748585">{</span><span class="ident" id="7748586">Input</span><span class="op" id="7748591">:</span>&nbsp;<span class="op" id="7748593">[</span><span class="op" id="7748594">]</span><span class="op" id="7748595">[</span><span class="op" id="7748596">]</span><span class="builtintype" id="7748597">string</span><span class="op" id="7748603">{</span><span class="op" id="7748604">{</span><span class="string" id="7748605">&#34;a&#34;</span><span class="op" id="7748608">,</span>&nbsp;<span class="string" id="7748610">&#34;a&#34;</span><span class="op" id="7748613">,</span>&nbsp;<span class="string" id="7748615">&#34;a&#34;</span><span class="op" id="7748618">}</span><span class="op" id="7748619">}</span><span class="op" id="7748620">,</span>&nbsp;<span class="ident" id="7748622">Output</span><span class="op" id="7748628">:</span>&nbsp;<span class="string" id="7748630">&#34;a,a,a\n&#34;</span><span class="op" id="7748639">}</span><span class="op" id="7748640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748643">{</span><span class="ident" id="7748644">Input</span><span class="op" id="7748649">:</span>&nbsp;<span class="op" id="7748651">[</span><span class="op" id="7748652">]</span><span class="op" id="7748653">[</span><span class="op" id="7748654">]</span><span class="builtintype" id="7748655">string</span><span class="op" id="7748661">{</span><span class="op" id="7748662">{</span><span class="string" id="7748663">`\.`</span><span class="op" id="7748667">}</span><span class="op" id="7748668">}</span><span class="op" id="7748669">,</span>&nbsp;<span class="ident" id="7748671">Output</span><span class="op" id="7748677">:</span>&nbsp;<span class="string" id="7748679">&#34;\&#34;\\.\&#34;\n&#34;</span><span class="op" id="7748690">}</span><span class="op" id="7748691">,</span><br>
<span class="lineno"></span><span class="op" id="7748693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7748696">func</span>&nbsp;<span class="ident" id="7748701">TestWrite</span><span class="op" id="7748710">(</span><span class="ident" id="7748711">t</span>&nbsp;<span class="op" id="7748713">*</span><span class="ident" id="7748714">testing</span><span class="op" id="7748721">.</span><span class="ident" id="7748722">T</span><span class="op" id="7748723">)</span>&nbsp;<span class="op" id="7748725">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7748728">for</span>&nbsp;<span class="ident" id="7748732">n</span><span class="op" id="7748733">,</span>&nbsp;<span class="ident" id="7748735">tt</span>&nbsp;<span class="op" id="7748738">:=</span>&nbsp;<span class="keyword" id="7748741">range</span>&nbsp;<span class="ident" id="7748747">writeTests</span>&nbsp;<span class="op" id="7748758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748762">b</span>&nbsp;<span class="op" id="7748764">:=</span>&nbsp;<span class="op" id="7748767">&amp;</span><span class="ident" id="7748768">bytes</span><span class="op" id="7748773">.</span><span class="ident" id="7748774">Buffer</span><span class="op" id="7748780">{</span><span class="op" id="7748781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748785">f</span>&nbsp;<span class="op" id="7748787">:=</span>&nbsp;<span class="ident" id="7748790">NewWriter</span><span class="op" id="7748799">(</span><span class="ident" id="7748800">b</span><span class="op" id="7748801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748805">f</span><span class="op" id="7748806">.</span><span class="ident" id="7748807">UseCRLF</span>&nbsp;<span class="op" id="7748815">=</span>&nbsp;<span class="ident" id="7748817">tt</span><span class="op" id="7748819">.</span><span class="ident" id="7748820">UseCRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748830">err</span>&nbsp;<span class="op" id="7748834">:=</span>&nbsp;<span class="ident" id="7748837">f</span><span class="op" id="7748838">.</span><span class="ident" id="7748839">WriteAll</span><span class="op" id="7748847">(</span><span class="ident" id="7748848">tt</span><span class="op" id="7748850">.</span><span class="ident" id="7748851">Input</span><span class="op" id="7748856">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7748860">if</span>&nbsp;<span class="ident" id="7748863">err</span>&nbsp;<span class="op" id="7748867">!=</span>&nbsp;<span class="ident" id="7748870">nil</span>&nbsp;<span class="op" id="7748874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748879">t</span><span class="op" id="7748880">.</span><span class="ident" id="7748881">Errorf</span><span class="op" id="7748887">(</span><span class="string" id="7748888">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7748912">,</span>&nbsp;<span class="ident" id="7748914">err</span><span class="op" id="7748917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7748921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748925">out</span>&nbsp;<span class="op" id="7748929">:=</span>&nbsp;<span class="ident" id="7748932">b</span><span class="op" id="7748933">.</span><span class="ident" id="7748934">String</span><span class="op" id="7748940">(</span><span class="op" id="7748941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7748945">if</span>&nbsp;<span class="ident" id="7748948">out</span>&nbsp;<span class="op" id="7748952">!=</span>&nbsp;<span class="ident" id="7748955">tt</span><span class="op" id="7748957">.</span><span class="ident" id="7748958">Output</span>&nbsp;<span class="op" id="7748965">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7748970">t</span><span class="op" id="7748971">.</span><span class="ident" id="7748972">Errorf</span><span class="op" id="7748978">(</span><span class="string" id="7748979">&#34;#%d:&nbsp;out=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7749000">,</span>&nbsp;<span class="ident" id="7749002">n</span><span class="op" id="7749003">,</span>&nbsp;<span class="ident" id="7749005">out</span><span class="op" id="7749008">,</span>&nbsp;<span class="ident" id="7749010">tt</span><span class="op" id="7749012">.</span><span class="ident" id="7749013">Output</span><span class="op" id="7749019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749026">}</span><br>
<span class="lineno"></span><span class="op" id="7749028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7749031">type</span>&nbsp;<span class="ident" id="7749036">errorWriter</span>&nbsp;<span class="keyword" id="7749048">struct</span><span class="op" id="7749054">{</span><span class="op" id="7749055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7749058">func</span>&nbsp;<span class="op" id="7749063">(</span><span class="ident" id="7749064">e</span>&nbsp;<span class="ident" id="7749066">errorWriter</span><span class="op" id="7749077">)</span>&nbsp;<span class="ident" id="7749079">Write</span><span class="op" id="7749084">(</span><span class="ident" id="7749085">b</span>&nbsp;<span class="op" id="7749087">[</span><span class="op" id="7749088">]</span><span class="builtintype" id="7749089">byte</span><span class="op" id="7749093">)</span>&nbsp;<span class="op" id="7749095">(</span><span class="builtintype" id="7749096">int</span><span class="op" id="7749099">,</span>&nbsp;<span class="builtintype" id="7749101">error</span><span class="op" id="7749106">)</span>&nbsp;<span class="op" id="7749108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7749111">return</span>&nbsp;<span class="num" id="7749118">0</span><span class="op" id="7749119">,</span>&nbsp;<span class="ident" id="7749121">errors</span><span class="op" id="7749127">.</span><span class="ident" id="7749128">New</span><span class="op" id="7749131">(</span><span class="string" id="7749132">&#34;Test&#34;</span><span class="op" id="7749138">)</span><br>
<span class="lineno"></span><span class="op" id="7749140">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7749143">func</span>&nbsp;<span class="ident" id="7749148">TestError</span><span class="op" id="7749157">(</span><span class="ident" id="7749158">t</span>&nbsp;<span class="op" id="7749160">*</span><span class="ident" id="7749161">testing</span><span class="op" id="7749168">.</span><span class="ident" id="7749169">T</span><span class="op" id="7749170">)</span>&nbsp;<span class="op" id="7749172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749175">b</span>&nbsp;<span class="op" id="7749177">:=</span>&nbsp;<span class="op" id="7749180">&amp;</span><span class="ident" id="7749181">bytes</span><span class="op" id="7749186">.</span><span class="ident" id="7749187">Buffer</span><span class="op" id="7749193">{</span><span class="op" id="7749194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749197">f</span>&nbsp;<span class="op" id="7749199">:=</span>&nbsp;<span class="ident" id="7749202">NewWriter</span><span class="op" id="7749211">(</span><span class="ident" id="7749212">b</span><span class="op" id="7749213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749216">f</span><span class="op" id="7749217">.</span><span class="ident" id="7749218">Write</span><span class="op" id="7749223">(</span><span class="op" id="7749224">[</span><span class="op" id="7749225">]</span><span class="builtintype" id="7749226">string</span><span class="op" id="7749232">{</span><span class="string" id="7749233">&#34;abc&#34;</span><span class="op" id="7749238">}</span><span class="op" id="7749239">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749242">f</span><span class="op" id="7749243">.</span><span class="ident" id="7749244">Flush</span><span class="op" id="7749249">(</span><span class="op" id="7749250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749253">err</span>&nbsp;<span class="op" id="7749257">:=</span>&nbsp;<span class="ident" id="7749260">f</span><span class="op" id="7749261">.</span><span class="ident" id="7749262">Error</span><span class="op" id="7749267">(</span><span class="op" id="7749268">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7749272">if</span>&nbsp;<span class="ident" id="7749275">err</span>&nbsp;<span class="op" id="7749279">!=</span>&nbsp;<span class="ident" id="7749282">nil</span>&nbsp;<span class="op" id="7749286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749290">t</span><span class="op" id="7749291">.</span><span class="ident" id="7749292">Errorf</span><span class="op" id="7749298">(</span><span class="string" id="7749299">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7749323">,</span>&nbsp;<span class="ident" id="7749325">err</span><span class="op" id="7749328">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749335">f</span>&nbsp;<span class="op" id="7749337">=</span>&nbsp;<span class="ident" id="7749339">NewWriter</span><span class="op" id="7749348">(</span><span class="ident" id="7749349">errorWriter</span><span class="op" id="7749360">{</span><span class="op" id="7749361">}</span><span class="op" id="7749362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749365">f</span><span class="op" id="7749366">.</span><span class="ident" id="7749367">Write</span><span class="op" id="7749372">(</span><span class="op" id="7749373">[</span><span class="op" id="7749374">]</span><span class="builtintype" id="7749375">string</span><span class="op" id="7749381">{</span><span class="string" id="7749382">&#34;abc&#34;</span><span class="op" id="7749387">}</span><span class="op" id="7749388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749391">f</span><span class="op" id="7749392">.</span><span class="ident" id="7749393">Flush</span><span class="op" id="7749398">(</span><span class="op" id="7749399">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749402">err</span>&nbsp;<span class="op" id="7749406">=</span>&nbsp;<span class="ident" id="7749408">f</span><span class="op" id="7749409">.</span><span class="ident" id="7749410">Error</span><span class="op" id="7749415">(</span><span class="op" id="7749416">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7749420">if</span>&nbsp;<span class="ident" id="7749423">err</span>&nbsp;<span class="op" id="7749427">==</span>&nbsp;<span class="ident" id="7749430">nil</span>&nbsp;<span class="op" id="7749434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7749438">t</span><span class="op" id="7749439">.</span><span class="ident" id="7749440">Error</span><span class="op" id="7749445">(</span><span class="string" id="7749446">&#34;Error&nbsp;should&nbsp;not&nbsp;be&nbsp;nil&#34;</span><span class="op" id="7749471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7749474">}</span><br>
<span class="lineno">85</span><span class="op" id="7749476">}</span>
</div>
</body>
</html>
