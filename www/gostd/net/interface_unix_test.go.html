<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html" class="current">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7536011">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7536067">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7536121">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7536172">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7536229">package</span>&nbsp;<span class="ident" id="7536237">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7536242">import</span>&nbsp;<span class="op" id="7536249">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7536252">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7536258">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7536269">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7536280">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7536291">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="7536298">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7536301">type</span>&nbsp;<span class="ident" id="7536306">testInterface</span>&nbsp;<span class="keyword" id="7536320">struct</span>&nbsp;<span class="op" id="7536327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536330">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7536343">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536351">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7536364">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536372">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7536385">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536393">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7536406">[</span><span class="op" id="7536407">]</span><span class="op" id="7536408">*</span><span class="ident" id="7536409">exec</span><span class="op" id="7536413">.</span><span class="ident" id="7536414">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536419">teardownCmds</span>&nbsp;<span class="op" id="7536432">[</span><span class="op" id="7536433">]</span><span class="op" id="7536434">*</span><span class="ident" id="7536435">exec</span><span class="op" id="7536439">.</span><span class="ident" id="7536440">Cmd</span><br>
<span class="lineno"></span><span class="op" id="7536444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7536447">func</span>&nbsp;<span class="op" id="7536452">(</span><span class="ident" id="7536453">ti</span>&nbsp;<span class="op" id="7536456">*</span><span class="ident" id="7536457">testInterface</span><span class="op" id="7536470">)</span>&nbsp;<span class="ident" id="7536472">setup</span><span class="op" id="7536477">(</span><span class="op" id="7536478">)</span>&nbsp;<span class="builtintype" id="7536480">error</span>&nbsp;<span class="op" id="7536486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536489">for</span>&nbsp;<span class="ident" id="7536493">_</span><span class="op" id="7536494">,</span>&nbsp;<span class="ident" id="7536496">cmd</span>&nbsp;<span class="op" id="7536500">:=</span>&nbsp;<span class="keyword" id="7536503">range</span>&nbsp;<span class="ident" id="7536509">ti</span><span class="op" id="7536511">.</span><span class="ident" id="7536512">setupCmds</span>&nbsp;<span class="op" id="7536522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536526">if</span>&nbsp;<span class="ident" id="7536529">err</span>&nbsp;<span class="op" id="7536533">:=</span>&nbsp;<span class="ident" id="7536536">cmd</span><span class="op" id="7536539">.</span><span class="ident" id="7536540">Run</span><span class="op" id="7536543">(</span><span class="op" id="7536544">)</span><span class="op" id="7536545">;</span>&nbsp;<span class="ident" id="7536547">err</span>&nbsp;<span class="op" id="7536551">!=</span>&nbsp;<span class="ident" id="7536554">nil</span>&nbsp;<span class="op" id="7536558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536563">return</span>&nbsp;<span class="ident" id="7536570">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536576">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536582">return</span>&nbsp;<span class="ident" id="7536589">nil</span><br>
<span class="lineno"></span><span class="op" id="7536593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7536596">func</span>&nbsp;<span class="op" id="7536601">(</span><span class="ident" id="7536602">ti</span>&nbsp;<span class="op" id="7536605">*</span><span class="ident" id="7536606">testInterface</span><span class="op" id="7536619">)</span>&nbsp;<span class="ident" id="7536621">teardown</span><span class="op" id="7536629">(</span><span class="op" id="7536630">)</span>&nbsp;<span class="builtintype" id="7536632">error</span>&nbsp;<span class="op" id="7536638">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536641">for</span>&nbsp;<span class="ident" id="7536645">_</span><span class="op" id="7536646">,</span>&nbsp;<span class="ident" id="7536648">cmd</span>&nbsp;<span class="op" id="7536652">:=</span>&nbsp;<span class="keyword" id="7536655">range</span>&nbsp;<span class="ident" id="7536661">ti</span><span class="op" id="7536663">.</span><span class="ident" id="7536664">teardownCmds</span>&nbsp;<span class="op" id="7536677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536681">if</span>&nbsp;<span class="ident" id="7536684">err</span>&nbsp;<span class="op" id="7536688">:=</span>&nbsp;<span class="ident" id="7536691">cmd</span><span class="op" id="7536694">.</span><span class="ident" id="7536695">Run</span><span class="op" id="7536698">(</span><span class="op" id="7536699">)</span><span class="op" id="7536700">;</span>&nbsp;<span class="ident" id="7536702">err</span>&nbsp;<span class="op" id="7536706">!=</span>&nbsp;<span class="ident" id="7536709">nil</span>&nbsp;<span class="op" id="7536713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536718">return</span>&nbsp;<span class="ident" id="7536725">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536734">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536737">return</span>&nbsp;<span class="ident" id="7536744">nil</span><br>
<span class="lineno"></span><span class="op" id="7536748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7536751">func</span>&nbsp;<span class="ident" id="7536756">TestPointToPointInterface</span><span class="op" id="7536781">(</span><span class="ident" id="7536782">t</span>&nbsp;<span class="op" id="7536784">*</span><span class="ident" id="7536785">testing</span><span class="op" id="7536792">.</span><span class="ident" id="7536793">T</span><span class="op" id="7536794">)</span>&nbsp;<span class="op" id="7536796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536799">if</span>&nbsp;<span class="ident" id="7536802">testing</span><span class="op" id="7536809">.</span><span class="ident" id="7536810">Short</span><span class="op" id="7536815">(</span><span class="op" id="7536816">)</span>&nbsp;<span class="op" id="7536818">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536822">t</span><span class="op" id="7536823">.</span><span class="ident" id="7536824">Skip</span><span class="op" id="7536828">(</span><span class="string" id="7536829">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7536858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536864">switch</span>&nbsp;<span class="op" id="7536871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536874">case</span>&nbsp;<span class="ident" id="7536879">runtime</span><span class="op" id="7536886">.</span><span class="ident" id="7536887">GOOS</span>&nbsp;<span class="op" id="7536892">==</span>&nbsp;<span class="string" id="7536895">&#34;darwin&#34;</span><span class="op" id="7536903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536907">t</span><span class="op" id="7536908">.</span><span class="ident" id="7536909">Skipf</span><span class="op" id="7536914">(</span><span class="string" id="7536915">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7536941">,</span>&nbsp;<span class="ident" id="7536943">runtime</span><span class="op" id="7536950">.</span><span class="ident" id="7536951">GOOS</span><span class="op" id="7536955">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536961">if</span>&nbsp;<span class="ident" id="7536964">os</span><span class="op" id="7536966">.</span><span class="ident" id="7536967">Getuid</span><span class="op" id="7536973">(</span><span class="op" id="7536974">)</span>&nbsp;<span class="op" id="7536976">!=</span>&nbsp;<span class="num" id="7536979">0</span>&nbsp;<span class="op" id="7536981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536985">t</span><span class="op" id="7536986">.</span><span class="ident" id="7536987">Skip</span><span class="op" id="7536991">(</span><span class="string" id="7536992">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7537021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537028">local</span><span class="op" id="7537033">,</span>&nbsp;<span class="ident" id="7537035">remote</span>&nbsp;<span class="op" id="7537042">:=</span>&nbsp;<span class="string" id="7537045">&#34;169.254.0.1&#34;</span><span class="op" id="7537058">,</span>&nbsp;<span class="string" id="7537060">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537077">ip</span>&nbsp;<span class="op" id="7537080">:=</span>&nbsp;<span class="ident" id="7537083">ParseIP</span><span class="op" id="7537090">(</span><span class="ident" id="7537091">remote</span><span class="op" id="7537097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537100">for</span>&nbsp;<span class="ident" id="7537104">i</span>&nbsp;<span class="op" id="7537106">:=</span>&nbsp;<span class="num" id="7537109">0</span><span class="op" id="7537110">;</span>&nbsp;<span class="ident" id="7537112">i</span>&nbsp;<span class="op" id="7537114">&lt;</span>&nbsp;<span class="num" id="7537116">3</span><span class="op" id="7537117">;</span>&nbsp;<span class="ident" id="7537119">i</span><span class="op" id="7537120">++</span>&nbsp;<span class="op" id="7537123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537127">ti</span>&nbsp;<span class="op" id="7537130">:=</span>&nbsp;<span class="op" id="7537133">&amp;</span><span class="ident" id="7537134">testInterface</span><span class="op" id="7537147">{</span><span class="op" id="7537148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537152">if</span>&nbsp;<span class="ident" id="7537155">err</span>&nbsp;<span class="op" id="7537159">:=</span>&nbsp;<span class="ident" id="7537162">ti</span><span class="op" id="7537164">.</span><span class="ident" id="7537165">setPointToPoint</span><span class="op" id="7537180">(</span><span class="num" id="7537181">5963</span><span class="op" id="7537185">+</span><span class="ident" id="7537186">i</span><span class="op" id="7537187">,</span>&nbsp;<span class="ident" id="7537189">local</span><span class="op" id="7537194">,</span>&nbsp;<span class="ident" id="7537196">remote</span><span class="op" id="7537202">)</span><span class="op" id="7537203">;</span>&nbsp;<span class="ident" id="7537205">err</span>&nbsp;<span class="op" id="7537209">!=</span>&nbsp;<span class="ident" id="7537212">nil</span>&nbsp;<span class="op" id="7537216">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537221">t</span><span class="op" id="7537222">.</span><span class="ident" id="7537223">Skipf</span><span class="op" id="7537228">(</span><span class="string" id="7537229">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7537265">,</span>&nbsp;<span class="ident" id="7537267">err</span><span class="op" id="7537270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537278">if</span>&nbsp;<span class="ident" id="7537281">err</span>&nbsp;<span class="op" id="7537285">:=</span>&nbsp;<span class="ident" id="7537288">ti</span><span class="op" id="7537290">.</span><span class="ident" id="7537291">setup</span><span class="op" id="7537296">(</span><span class="op" id="7537297">)</span><span class="op" id="7537298">;</span>&nbsp;<span class="ident" id="7537300">err</span>&nbsp;<span class="op" id="7537304">!=</span>&nbsp;<span class="ident" id="7537307">nil</span>&nbsp;<span class="op" id="7537311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537316">t</span><span class="op" id="7537317">.</span><span class="ident" id="7537318">Fatalf</span><span class="op" id="7537324">(</span><span class="string" id="7537325">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7537357">,</span>&nbsp;<span class="ident" id="7537359">err</span><span class="op" id="7537362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537366">}</span>&nbsp;<span class="keyword" id="7537368">else</span>&nbsp;<span class="op" id="7537373">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537378">time</span><span class="op" id="7537382">.</span><span class="ident" id="7537383">Sleep</span><span class="op" id="7537388">(</span><span class="num" id="7537389">3</span>&nbsp;<span class="op" id="7537391">*</span>&nbsp;<span class="ident" id="7537393">time</span><span class="op" id="7537397">.</span><span class="ident" id="7537398">Millisecond</span><span class="op" id="7537409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537417">ift</span><span class="op" id="7537420">,</span>&nbsp;<span class="ident" id="7537422">err</span>&nbsp;<span class="op" id="7537426">:=</span>&nbsp;<span class="ident" id="7537429">Interfaces</span><span class="op" id="7537439">(</span><span class="op" id="7537440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537444">if</span>&nbsp;<span class="ident" id="7537447">err</span>&nbsp;<span class="op" id="7537451">!=</span>&nbsp;<span class="ident" id="7537454">nil</span>&nbsp;<span class="op" id="7537458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537463">ti</span><span class="op" id="7537465">.</span><span class="ident" id="7537466">teardown</span><span class="op" id="7537474">(</span><span class="op" id="7537475">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537480">t</span><span class="op" id="7537481">.</span><span class="ident" id="7537482">Fatalf</span><span class="op" id="7537488">(</span><span class="string" id="7537489">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7537512">,</span>&nbsp;<span class="ident" id="7537514">err</span><span class="op" id="7537517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537525">for</span>&nbsp;<span class="ident" id="7537529">_</span><span class="op" id="7537530">,</span>&nbsp;<span class="ident" id="7537532">ifi</span>&nbsp;<span class="op" id="7537536">:=</span>&nbsp;<span class="keyword" id="7537539">range</span>&nbsp;<span class="ident" id="7537545">ift</span>&nbsp;<span class="op" id="7537549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537554">if</span>&nbsp;<span class="ident" id="7537557">ti</span><span class="op" id="7537559">.</span><span class="ident" id="7537560">name</span>&nbsp;<span class="op" id="7537565">==</span>&nbsp;<span class="ident" id="7537568">ifi</span><span class="op" id="7537571">.</span><span class="ident" id="7537572">Name</span>&nbsp;<span class="op" id="7537577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537583">ifat</span><span class="op" id="7537587">,</span>&nbsp;<span class="ident" id="7537589">err</span>&nbsp;<span class="op" id="7537593">:=</span>&nbsp;<span class="ident" id="7537596">ifi</span><span class="op" id="7537599">.</span><span class="ident" id="7537600">Addrs</span><span class="op" id="7537605">(</span><span class="op" id="7537606">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537612">if</span>&nbsp;<span class="ident" id="7537615">err</span>&nbsp;<span class="op" id="7537619">!=</span>&nbsp;<span class="ident" id="7537622">nil</span>&nbsp;<span class="op" id="7537626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537633">ti</span><span class="op" id="7537635">.</span><span class="ident" id="7537636">teardown</span><span class="op" id="7537644">(</span><span class="op" id="7537645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537652">t</span><span class="op" id="7537653">.</span><span class="ident" id="7537654">Fatalf</span><span class="op" id="7537660">(</span><span class="string" id="7537661">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7537689">,</span>&nbsp;<span class="ident" id="7537691">err</span><span class="op" id="7537694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537706">for</span>&nbsp;<span class="ident" id="7537710">_</span><span class="op" id="7537711">,</span>&nbsp;<span class="ident" id="7537713">ifa</span>&nbsp;<span class="op" id="7537717">:=</span>&nbsp;<span class="keyword" id="7537720">range</span>&nbsp;<span class="ident" id="7537726">ifat</span>&nbsp;<span class="op" id="7537731">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537738">if</span>&nbsp;<span class="ident" id="7537741">ip</span><span class="op" id="7537743">.</span><span class="ident" id="7537744">Equal</span><span class="op" id="7537749">(</span><span class="ident" id="7537750">ifa</span><span class="op" id="7537753">.</span><span class="op" id="7537754">(</span><span class="op" id="7537755">*</span><span class="ident" id="7537756">IPNet</span><span class="op" id="7537761">)</span><span class="op" id="7537762">.</span><span class="ident" id="7537763">IP</span><span class="op" id="7537765">)</span>&nbsp;<span class="op" id="7537767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537775">ti</span><span class="op" id="7537777">.</span><span class="ident" id="7537778">teardown</span><span class="op" id="7537786">(</span><span class="op" id="7537787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537795">t</span><span class="op" id="7537796">.</span><span class="ident" id="7537797">Fatalf</span><span class="op" id="7537803">(</span><span class="string" id="7537804">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7537821">,</span>&nbsp;<span class="ident" id="7537823">ip</span><span class="op" id="7537825">,</span>&nbsp;<span class="ident" id="7537827">local</span><span class="op" id="7537832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537845">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537858">if</span>&nbsp;<span class="ident" id="7537861">err</span>&nbsp;<span class="op" id="7537865">:=</span>&nbsp;<span class="ident" id="7537868">ti</span><span class="op" id="7537870">.</span><span class="ident" id="7537871">teardown</span><span class="op" id="7537879">(</span><span class="op" id="7537880">)</span><span class="op" id="7537881">;</span>&nbsp;<span class="ident" id="7537883">err</span>&nbsp;<span class="op" id="7537887">!=</span>&nbsp;<span class="ident" id="7537890">nil</span>&nbsp;<span class="op" id="7537894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537899">t</span><span class="op" id="7537900">.</span><span class="ident" id="7537901">Fatalf</span><span class="op" id="7537907">(</span><span class="string" id="7537908">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7537943">,</span>&nbsp;<span class="ident" id="7537945">err</span><span class="op" id="7537948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537952">}</span>&nbsp;<span class="keyword" id="7537954">else</span>&nbsp;<span class="op" id="7537959">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537964">time</span><span class="op" id="7537968">.</span><span class="ident" id="7537969">Sleep</span><span class="op" id="7537974">(</span><span class="num" id="7537975">3</span>&nbsp;<span class="op" id="7537977">*</span>&nbsp;<span class="ident" id="7537979">time</span><span class="op" id="7537983">.</span><span class="ident" id="7537984">Millisecond</span><span class="op" id="7537995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538002">}</span><br>
<span class="lineno"></span><span class="op" id="7538004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7538007">func</span>&nbsp;<span class="ident" id="7538012">TestInterfaceArrivalAndDeparture</span><span class="op" id="7538044">(</span><span class="ident" id="7538045">t</span>&nbsp;<span class="op" id="7538047">*</span><span class="ident" id="7538048">testing</span><span class="op" id="7538055">.</span><span class="ident" id="7538056">T</span><span class="op" id="7538057">)</span>&nbsp;<span class="op" id="7538059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538062">if</span>&nbsp;<span class="ident" id="7538065">testing</span><span class="op" id="7538072">.</span><span class="ident" id="7538073">Short</span><span class="op" id="7538078">(</span><span class="op" id="7538079">)</span>&nbsp;<span class="op" id="7538081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538085">t</span><span class="op" id="7538086">.</span><span class="ident" id="7538087">Skip</span><span class="op" id="7538091">(</span><span class="string" id="7538092">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7538121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538127">if</span>&nbsp;<span class="ident" id="7538130">os</span><span class="op" id="7538132">.</span><span class="ident" id="7538133">Getuid</span><span class="op" id="7538139">(</span><span class="op" id="7538140">)</span>&nbsp;<span class="op" id="7538142">!=</span>&nbsp;<span class="num" id="7538145">0</span>&nbsp;<span class="op" id="7538147">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538151">t</span><span class="op" id="7538152">.</span><span class="ident" id="7538153">Skip</span><span class="op" id="7538157">(</span><span class="string" id="7538158">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="7538187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538194">for</span>&nbsp;<span class="ident" id="7538198">i</span>&nbsp;<span class="op" id="7538200">:=</span>&nbsp;<span class="num" id="7538203">0</span><span class="op" id="7538204">;</span>&nbsp;<span class="ident" id="7538206">i</span>&nbsp;<span class="op" id="7538208">&lt;</span>&nbsp;<span class="num" id="7538210">3</span><span class="op" id="7538211">;</span>&nbsp;<span class="ident" id="7538213">i</span><span class="op" id="7538214">++</span>&nbsp;<span class="op" id="7538217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538221">ift1</span><span class="op" id="7538225">,</span>&nbsp;<span class="ident" id="7538227">err</span>&nbsp;<span class="op" id="7538231">:=</span>&nbsp;<span class="ident" id="7538234">Interfaces</span><span class="op" id="7538244">(</span><span class="op" id="7538245">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538249">if</span>&nbsp;<span class="ident" id="7538252">err</span>&nbsp;<span class="op" id="7538256">!=</span>&nbsp;<span class="ident" id="7538259">nil</span>&nbsp;<span class="op" id="7538263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538268">t</span><span class="op" id="7538269">.</span><span class="ident" id="7538270">Fatalf</span><span class="op" id="7538276">(</span><span class="string" id="7538277">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7538300">,</span>&nbsp;<span class="ident" id="7538302">err</span><span class="op" id="7538305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538313">ti</span>&nbsp;<span class="op" id="7538316">:=</span>&nbsp;<span class="op" id="7538319">&amp;</span><span class="ident" id="7538320">testInterface</span><span class="op" id="7538333">{</span><span class="op" id="7538334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538338">if</span>&nbsp;<span class="ident" id="7538341">err</span>&nbsp;<span class="op" id="7538345">:=</span>&nbsp;<span class="ident" id="7538348">ti</span><span class="op" id="7538350">.</span><span class="ident" id="7538351">setBroadcast</span><span class="op" id="7538363">(</span><span class="num" id="7538364">5682</span>&nbsp;<span class="op" id="7538369">+</span>&nbsp;<span class="ident" id="7538371">i</span><span class="op" id="7538372">)</span><span class="op" id="7538373">;</span>&nbsp;<span class="ident" id="7538375">err</span>&nbsp;<span class="op" id="7538379">!=</span>&nbsp;<span class="ident" id="7538382">nil</span>&nbsp;<span class="op" id="7538386">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538391">t</span><span class="op" id="7538392">.</span><span class="ident" id="7538393">Skipf</span><span class="op" id="7538398">(</span><span class="string" id="7538399">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="7538435">,</span>&nbsp;<span class="ident" id="7538437">err</span><span class="op" id="7538440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538448">if</span>&nbsp;<span class="ident" id="7538451">err</span>&nbsp;<span class="op" id="7538455">:=</span>&nbsp;<span class="ident" id="7538458">ti</span><span class="op" id="7538460">.</span><span class="ident" id="7538461">setup</span><span class="op" id="7538466">(</span><span class="op" id="7538467">)</span><span class="op" id="7538468">;</span>&nbsp;<span class="ident" id="7538470">err</span>&nbsp;<span class="op" id="7538474">!=</span>&nbsp;<span class="ident" id="7538477">nil</span>&nbsp;<span class="op" id="7538481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538486">t</span><span class="op" id="7538487">.</span><span class="ident" id="7538488">Fatalf</span><span class="op" id="7538494">(</span><span class="string" id="7538495">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7538527">,</span>&nbsp;<span class="ident" id="7538529">err</span><span class="op" id="7538532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538536">}</span>&nbsp;<span class="keyword" id="7538538">else</span>&nbsp;<span class="op" id="7538543">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538548">time</span><span class="op" id="7538552">.</span><span class="ident" id="7538553">Sleep</span><span class="op" id="7538558">(</span><span class="num" id="7538559">3</span>&nbsp;<span class="op" id="7538561">*</span>&nbsp;<span class="ident" id="7538563">time</span><span class="op" id="7538567">.</span><span class="ident" id="7538568">Millisecond</span><span class="op" id="7538579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538587">ift2</span><span class="op" id="7538591">,</span>&nbsp;<span class="ident" id="7538593">err</span>&nbsp;<span class="op" id="7538597">:=</span>&nbsp;<span class="ident" id="7538600">Interfaces</span><span class="op" id="7538610">(</span><span class="op" id="7538611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538615">if</span>&nbsp;<span class="ident" id="7538618">err</span>&nbsp;<span class="op" id="7538622">!=</span>&nbsp;<span class="ident" id="7538625">nil</span>&nbsp;<span class="op" id="7538629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538634">ti</span><span class="op" id="7538636">.</span><span class="ident" id="7538637">teardown</span><span class="op" id="7538645">(</span><span class="op" id="7538646">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538651">t</span><span class="op" id="7538652">.</span><span class="ident" id="7538653">Fatalf</span><span class="op" id="7538659">(</span><span class="string" id="7538660">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7538683">,</span>&nbsp;<span class="ident" id="7538685">err</span><span class="op" id="7538688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538696">if</span>&nbsp;<span class="builtinfunc" id="7538699">len</span><span class="op" id="7538702">(</span><span class="ident" id="7538703">ift2</span><span class="op" id="7538707">)</span>&nbsp;<span class="op" id="7538709">&lt;=</span>&nbsp;<span class="builtinfunc" id="7538712">len</span><span class="op" id="7538715">(</span><span class="ident" id="7538716">ift1</span><span class="op" id="7538720">)</span>&nbsp;<span class="op" id="7538722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538727">for</span>&nbsp;<span class="ident" id="7538731">_</span><span class="op" id="7538732">,</span>&nbsp;<span class="ident" id="7538734">ifi</span>&nbsp;<span class="op" id="7538738">:=</span>&nbsp;<span class="keyword" id="7538741">range</span>&nbsp;<span class="ident" id="7538747">ift1</span>&nbsp;<span class="op" id="7538752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538758">t</span><span class="op" id="7538759">.</span><span class="ident" id="7538760">Logf</span><span class="op" id="7538764">(</span><span class="string" id="7538765">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7538777">,</span>&nbsp;<span class="ident" id="7538779">ifi</span><span class="op" id="7538782">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538792">for</span>&nbsp;<span class="ident" id="7538796">_</span><span class="op" id="7538797">,</span>&nbsp;<span class="ident" id="7538799">ifi</span>&nbsp;<span class="op" id="7538803">:=</span>&nbsp;<span class="keyword" id="7538806">range</span>&nbsp;<span class="ident" id="7538812">ift2</span>&nbsp;<span class="op" id="7538817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538823">t</span><span class="op" id="7538824">.</span><span class="ident" id="7538825">Logf</span><span class="op" id="7538829">(</span><span class="string" id="7538830">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7538841">,</span>&nbsp;<span class="ident" id="7538843">ifi</span><span class="op" id="7538846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538856">ti</span><span class="op" id="7538858">.</span><span class="ident" id="7538859">teardown</span><span class="op" id="7538867">(</span><span class="op" id="7538868">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538873">t</span><span class="op" id="7538874">.</span><span class="ident" id="7538875">Fatalf</span><span class="op" id="7538881">(</span><span class="string" id="7538882">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="7538902">,</span>&nbsp;<span class="builtinfunc" id="7538904">len</span><span class="op" id="7538907">(</span><span class="ident" id="7538908">ift2</span><span class="op" id="7538912">)</span><span class="op" id="7538913">,</span>&nbsp;<span class="builtinfunc" id="7538915">len</span><span class="op" id="7538918">(</span><span class="ident" id="7538919">ift1</span><span class="op" id="7538923">)</span><span class="op" id="7538924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7538928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7538932">if</span>&nbsp;<span class="ident" id="7538935">err</span>&nbsp;<span class="op" id="7538939">:=</span>&nbsp;<span class="ident" id="7538942">ti</span><span class="op" id="7538944">.</span><span class="ident" id="7538945">teardown</span><span class="op" id="7538953">(</span><span class="op" id="7538954">)</span><span class="op" id="7538955">;</span>&nbsp;<span class="ident" id="7538957">err</span>&nbsp;<span class="op" id="7538961">!=</span>&nbsp;<span class="ident" id="7538964">nil</span>&nbsp;<span class="op" id="7538968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538973">t</span><span class="op" id="7538974">.</span><span class="ident" id="7538975">Fatalf</span><span class="op" id="7538981">(</span><span class="string" id="7538982">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7539017">,</span>&nbsp;<span class="ident" id="7539019">err</span><span class="op" id="7539022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539026">}</span>&nbsp;<span class="keyword" id="7539028">else</span>&nbsp;<span class="op" id="7539033">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539038">time</span><span class="op" id="7539042">.</span><span class="ident" id="7539043">Sleep</span><span class="op" id="7539048">(</span><span class="num" id="7539049">3</span>&nbsp;<span class="op" id="7539051">*</span>&nbsp;<span class="ident" id="7539053">time</span><span class="op" id="7539057">.</span><span class="ident" id="7539058">Millisecond</span><span class="op" id="7539069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539077">ift3</span><span class="op" id="7539081">,</span>&nbsp;<span class="ident" id="7539083">err</span>&nbsp;<span class="op" id="7539087">:=</span>&nbsp;<span class="ident" id="7539090">Interfaces</span><span class="op" id="7539100">(</span><span class="op" id="7539101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539105">if</span>&nbsp;<span class="ident" id="7539108">err</span>&nbsp;<span class="op" id="7539112">!=</span>&nbsp;<span class="ident" id="7539115">nil</span>&nbsp;<span class="op" id="7539119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539124">t</span><span class="op" id="7539125">.</span><span class="ident" id="7539126">Fatalf</span><span class="op" id="7539132">(</span><span class="string" id="7539133">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7539156">,</span>&nbsp;<span class="ident" id="7539158">err</span><span class="op" id="7539161">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539169">if</span>&nbsp;<span class="builtinfunc" id="7539172">len</span><span class="op" id="7539175">(</span><span class="ident" id="7539176">ift3</span><span class="op" id="7539180">)</span>&nbsp;<span class="op" id="7539182">&gt;=</span>&nbsp;<span class="builtinfunc" id="7539185">len</span><span class="op" id="7539188">(</span><span class="ident" id="7539189">ift2</span><span class="op" id="7539193">)</span>&nbsp;<span class="op" id="7539195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539200">for</span>&nbsp;<span class="ident" id="7539204">_</span><span class="op" id="7539205">,</span>&nbsp;<span class="ident" id="7539207">ifi</span>&nbsp;<span class="op" id="7539211">:=</span>&nbsp;<span class="keyword" id="7539214">range</span>&nbsp;<span class="ident" id="7539220">ift2</span>&nbsp;<span class="op" id="7539225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539231">t</span><span class="op" id="7539232">.</span><span class="ident" id="7539233">Logf</span><span class="op" id="7539237">(</span><span class="string" id="7539238">&#34;before:&nbsp;%v&#34;</span><span class="op" id="7539250">,</span>&nbsp;<span class="ident" id="7539252">ifi</span><span class="op" id="7539255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539260">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539265">for</span>&nbsp;<span class="ident" id="7539269">_</span><span class="op" id="7539270">,</span>&nbsp;<span class="ident" id="7539272">ifi</span>&nbsp;<span class="op" id="7539276">:=</span>&nbsp;<span class="keyword" id="7539279">range</span>&nbsp;<span class="ident" id="7539285">ift3</span>&nbsp;<span class="op" id="7539290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539296">t</span><span class="op" id="7539297">.</span><span class="ident" id="7539298">Logf</span><span class="op" id="7539302">(</span><span class="string" id="7539303">&#34;after:&nbsp;%v&#34;</span><span class="op" id="7539314">,</span>&nbsp;<span class="ident" id="7539316">ifi</span><span class="op" id="7539319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539329">t</span><span class="op" id="7539330">.</span><span class="ident" id="7539331">Fatalf</span><span class="op" id="7539337">(</span><span class="string" id="7539338">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="7539358">,</span>&nbsp;<span class="builtinfunc" id="7539360">len</span><span class="op" id="7539363">(</span><span class="ident" id="7539364">ift3</span><span class="op" id="7539368">)</span><span class="op" id="7539369">,</span>&nbsp;<span class="builtinfunc" id="7539371">len</span><span class="op" id="7539374">(</span><span class="ident" id="7539375">ift2</span><span class="op" id="7539379">)</span><span class="op" id="7539380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539384">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539387">}</span><br>
<span class="lineno"></span><span class="op" id="7539389">}</span>
</div>
</body>
</html>
