<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7417794">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7417849">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7417903">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7417954">package</span>&nbsp;<span class="ident" id="7417962">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417968">import</span>&nbsp;<span class="op" id="7417975">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7417978">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7417991">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7417997">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7418014">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7418024">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7418027">func</span>&nbsp;<span class="ident" id="7418032">checker</span><span class="op" id="7418039">(</span><span class="ident" id="7418040">t</span>&nbsp;<span class="op" id="7418042">*</span><span class="ident" id="7418043"><a href="/net/http/filetransport_test.go.html#7418014">testing</a></span><span class="op" id="7418050">.</span><span class="ident" id="7418051">T</span><span class="op" id="7418052">)</span>&nbsp;<span class="keyword" id="7418054">func</span><span class="op" id="7418058">(</span><span class="builtintype" id="7418059">string</span><span class="op" id="7418065">,</span>&nbsp;<span class="builtintype" id="7418067">error</span><span class="op" id="7418072">)</span>&nbsp;<span class="op" id="7418074">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418077">return</span>&nbsp;<span class="keyword" id="7418084">func</span><span class="op" id="7418088">(</span><span class="ident" id="7418089">call</span>&nbsp;<span class="builtintype" id="7418094">string</span><span class="op" id="7418100">,</span>&nbsp;<span class="ident" id="7418102">err</span>&nbsp;<span class="builtintype" id="7418106">error</span><span class="op" id="7418111">)</span>&nbsp;<span class="op" id="7418113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418117">if</span>&nbsp;<span class="ident" id="7418120"><a href="/net/http/filetransport_test.go.html#7418102">err</a></span>&nbsp;<span class="op" id="7418124">==</span>&nbsp;<span class="ident" id="7418127">nil</span>&nbsp;<span class="op" id="7418131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418136">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418149"><a href="/net/http/filetransport_test.go.html#7418040">t</a></span><span class="op" id="7418150">.</span><span class="ident" id="7418151">Fatalf</span><span class="op" id="7418157">(</span><span class="string" id="7418158">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="7418166">,</span>&nbsp;<span class="ident" id="7418168"><a href="/net/http/filetransport_test.go.html#7418089">call</a></span><span class="op" id="7418172">,</span>&nbsp;<span class="ident" id="7418174"><a href="/net/http/filetransport_test.go.html#7418102">err</a></span><span class="op" id="7418177">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418180">}</span><br>
<span class="lineno"></span><span class="op" id="7418182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7418185">func</span>&nbsp;<span class="ident" id="7418190">TestFileTransport</span><span class="op" id="7418207">(</span><span class="ident" id="7418208">t</span>&nbsp;<span class="op" id="7418210">*</span><span class="ident" id="7418211"><a href="/net/http/filetransport_test.go.html#7418014">testing</a></span><span class="op" id="7418218">.</span><span class="ident" id="7418219">T</span><span class="op" id="7418220">)</span>&nbsp;<span class="op" id="7418222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418225">check</span>&nbsp;<span class="op" id="7418231">:=</span>&nbsp;<span class="ident" id="7418234"><a href="/net/http/filetransport_test.go.html#7418032">checker</a></span><span class="op" id="7418241">(</span><span class="ident" id="7418242"><a href="/net/http/filetransport_test.go.html#7418208">t</a></span><span class="op" id="7418243">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418247">dname</span><span class="op" id="7418252">,</span>&nbsp;<span class="ident" id="7418254">err</span>&nbsp;<span class="op" id="7418258">:=</span>&nbsp;<span class="ident" id="7418261"><a href="/net/http/filetransport_test.go.html#7417978">ioutil</a></span><span class="op" id="7418267">.</span><span class="ident" id="7418268">TempDir</span><span class="op" id="7418275">(</span><span class="string" id="7418276">&#34;&#34;</span><span class="op" id="7418278">,</span>&nbsp;<span class="string" id="7418280">&#34;&#34;</span><span class="op" id="7418282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418285"><a href="/net/http/filetransport_test.go.html#7418225">check</a></span><span class="op" id="7418290">(</span><span class="string" id="7418291">&#34;TempDir&#34;</span><span class="op" id="7418300">,</span>&nbsp;<span class="ident" id="7418302"><a href="/net/http/filetransport_test.go.html#7418254">err</a></span><span class="op" id="7418305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418308">fname</span>&nbsp;<span class="op" id="7418314">:=</span>&nbsp;<span class="ident" id="7418317"><a href="/net/http/filetransport_test.go.html#7417997">filepath</a></span><span class="op" id="7418325">.</span><span class="ident" id="7418326">Join</span><span class="op" id="7418330">(</span><span class="ident" id="7418331"><a href="/net/http/filetransport_test.go.html#7418247">dname</a></span><span class="op" id="7418336">,</span>&nbsp;<span class="string" id="7418338">&#34;foo.txt&#34;</span><span class="op" id="7418347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418350"><a href="/net/http/filetransport_test.go.html#7418254">err</a></span>&nbsp;<span class="op" id="7418354">=</span>&nbsp;<span class="ident" id="7418356"><a href="/net/http/filetransport_test.go.html#7417978">ioutil</a></span><span class="op" id="7418362">.</span><span class="ident" id="7418363">WriteFile</span><span class="op" id="7418372">(</span><span class="ident" id="7418373"><a href="/net/http/filetransport_test.go.html#7418308">fname</a></span><span class="op" id="7418378">,</span>&nbsp;<span class="op" id="7418380">[</span><span class="op" id="7418381">]</span><span class="builtintype" id="7418382">byte</span><span class="op" id="7418386">(</span><span class="string" id="7418387">&#34;Bar&#34;</span><span class="op" id="7418392">)</span><span class="op" id="7418393">,</span>&nbsp;<span class="num" id="7418395">0644</span><span class="op" id="7418399">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418402"><a href="/net/http/filetransport_test.go.html#7418225">check</a></span><span class="op" id="7418407">(</span><span class="string" id="7418408">&#34;WriteFile&#34;</span><span class="op" id="7418419">,</span>&nbsp;<span class="ident" id="7418421"><a href="/net/http/filetransport_test.go.html#7418254">err</a></span><span class="op" id="7418424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418427">defer</span>&nbsp;<span class="ident" id="7418433"><a href="/net/http/filetransport_test.go.html#7417991">os</a></span><span class="op" id="7418435">.</span><span class="ident" id="7418436">Remove</span><span class="op" id="7418442">(</span><span class="ident" id="7418443"><a href="/net/http/filetransport_test.go.html#7418247">dname</a></span><span class="op" id="7418448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418451">defer</span>&nbsp;<span class="ident" id="7418457"><a href="/net/http/filetransport_test.go.html#7417991">os</a></span><span class="op" id="7418459">.</span><span class="ident" id="7418460">Remove</span><span class="op" id="7418466">(</span><span class="ident" id="7418467"><a href="/net/http/filetransport_test.go.html#7418308">fname</a></span><span class="op" id="7418472">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418476">tr</span>&nbsp;<span class="op" id="7418479">:=</span>&nbsp;<span class="op" id="7418482">&amp;</span><span class="ident" id="7418483"><a href="/net/http/transport.go.html#3916265">Transport</a></span><span class="op" id="7418492">{</span><span class="op" id="7418493">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418496"><a href="/net/http/filetransport_test.go.html#7418476">tr</a></span><span class="op" id="7418498">.</span><span class="ident" id="7418499">RegisterProtocol</span><span class="op" id="7418515">(</span><span class="string" id="7418516">&#34;file&#34;</span><span class="op" id="7418522">,</span>&nbsp;<span class="ident" id="7418524"><a href="/net/http/filetransport.go.html#3762938">NewFileTransport</a></span><span class="op" id="7418540">(</span><span class="ident" id="7418541"><a href="/net/http/fs.go.html#3765805">Dir</a></span><span class="op" id="7418544">(</span><span class="ident" id="7418545"><a href="/net/http/filetransport_test.go.html#7418247">dname</a></span><span class="op" id="7418550">)</span><span class="op" id="7418551">)</span><span class="op" id="7418552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418555">c</span>&nbsp;<span class="op" id="7418557">:=</span>&nbsp;<span class="op" id="7418560">&amp;</span><span class="ident" id="7418561"><a href="/net/http/client.go.html#3736246">Client</a></span><span class="op" id="7418567">{</span><span class="ident" id="7418568">Transport</span><span class="op" id="7418577">:</span>&nbsp;<span class="ident" id="7418579"><a href="/net/http/filetransport_test.go.html#7418476">tr</a></span><span class="op" id="7418581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418585">fooURLs</span>&nbsp;<span class="op" id="7418593">:=</span>&nbsp;<span class="op" id="7418596">[</span><span class="op" id="7418597">]</span><span class="builtintype" id="7418598">string</span><span class="op" id="7418604">{</span><span class="string" id="7418605">&#34;file:///foo.txt&#34;</span><span class="op" id="7418622">,</span>&nbsp;<span class="string" id="7418624">&#34;file://../foo.txt&#34;</span><span class="op" id="7418643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418646">for</span>&nbsp;<span class="ident" id="7418650">_</span><span class="op" id="7418651">,</span>&nbsp;<span class="ident" id="7418653">urlstr</span>&nbsp;<span class="op" id="7418660">:=</span>&nbsp;<span class="keyword" id="7418663">range</span>&nbsp;<span class="ident" id="7418669"><a href="/net/http/filetransport_test.go.html#7418585">fooURLs</a></span>&nbsp;<span class="op" id="7418677">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418681">res</span><span class="op" id="7418684">,</span>&nbsp;<span class="ident" id="7418686">err</span>&nbsp;<span class="op" id="7418690">:=</span>&nbsp;<span class="ident" id="7418693"><a href="/net/http/filetransport_test.go.html#7418555">c</a></span><span class="op" id="7418694">.</span><span class="ident" id="7418695">Get</span><span class="op" id="7418698">(</span><span class="ident" id="7418699"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7418705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418709"><a href="/net/http/filetransport_test.go.html#7418225">check</a></span><span class="op" id="7418714">(</span><span class="string" id="7418715">&#34;Get&nbsp;&#34;</span><span class="op" id="7418721">+</span><span class="ident" id="7418722"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7418728">,</span>&nbsp;<span class="ident" id="7418730"><a href="/net/http/filetransport_test.go.html#7418686">err</a></span><span class="op" id="7418733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418737">if</span>&nbsp;<span class="ident" id="7418740"><a href="/net/http/filetransport_test.go.html#7418681">res</a></span><span class="op" id="7418743">.</span><span class="ident" id="7418744">StatusCode</span>&nbsp;<span class="op" id="7418755">!=</span>&nbsp;<span class="num" id="7418758">200</span>&nbsp;<span class="op" id="7418762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418767"><a href="/net/http/filetransport_test.go.html#7418208">t</a></span><span class="op" id="7418768">.</span><span class="ident" id="7418769">Errorf</span><span class="op" id="7418775">(</span><span class="string" id="7418776">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="7418811">,</span>&nbsp;<span class="ident" id="7418813"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7418819">,</span>&nbsp;<span class="ident" id="7418821"><a href="/net/http/filetransport_test.go.html#7418681">res</a></span><span class="op" id="7418824">.</span><span class="ident" id="7418825">StatusCode</span><span class="op" id="7418835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418839">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418843">if</span>&nbsp;<span class="ident" id="7418846"><a href="/net/http/filetransport_test.go.html#7418681">res</a></span><span class="op" id="7418849">.</span><span class="ident" id="7418850">ContentLength</span>&nbsp;<span class="op" id="7418864">!=</span>&nbsp;<span class="op" id="7418867">-</span><span class="num" id="7418868">1</span>&nbsp;<span class="op" id="7418870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418875"><a href="/net/http/filetransport_test.go.html#7418208">t</a></span><span class="op" id="7418876">.</span><span class="ident" id="7418877">Errorf</span><span class="op" id="7418883">(</span><span class="string" id="7418884">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="7418921">,</span>&nbsp;<span class="ident" id="7418923"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7418929">,</span>&nbsp;<span class="ident" id="7418931"><a href="/net/http/filetransport_test.go.html#7418681">res</a></span><span class="op" id="7418934">.</span><span class="ident" id="7418935">ContentLength</span><span class="op" id="7418948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7418956">if</span>&nbsp;<span class="ident" id="7418959"><a href="/net/http/filetransport_test.go.html#7418681">res</a></span><span class="op" id="7418962">.</span><span class="ident" id="7418963">Body</span>&nbsp;<span class="op" id="7418968">==</span>&nbsp;<span class="ident" id="7418971">nil</span>&nbsp;<span class="op" id="7418975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7418980"><a href="/net/http/filetransport_test.go.html#7418208">t</a></span><span class="op" id="7418981">.</span><span class="ident" id="7418982">Fatalf</span><span class="op" id="7418988">(</span><span class="string" id="7418989">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="7419007">,</span>&nbsp;<span class="ident" id="7419009"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7419015">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419023">slurp</span><span class="op" id="7419028">,</span>&nbsp;<span class="ident" id="7419030"><a href="/net/http/filetransport_test.go.html#7418686">err</a></span>&nbsp;<span class="op" id="7419034">:=</span>&nbsp;<span class="ident" id="7419037"><a href="/net/http/filetransport_test.go.html#7417978">ioutil</a></span><span class="op" id="7419043">.</span><span class="ident" id="7419044">ReadAll</span><span class="op" id="7419051">(</span><span class="ident" id="7419052"><a href="/net/http/filetransport_test.go.html#7418681">res</a></span><span class="op" id="7419055">.</span><span class="ident" id="7419056">Body</span><span class="op" id="7419060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419064"><a href="/net/http/filetransport_test.go.html#7418225">check</a></span><span class="op" id="7419069">(</span><span class="string" id="7419070">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="7419080">+</span><span class="ident" id="7419081"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7419087">,</span>&nbsp;<span class="ident" id="7419089"><a href="/net/http/filetransport_test.go.html#7418686">err</a></span><span class="op" id="7419092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7419096">if</span>&nbsp;<span class="builtintype" id="7419099">string</span><span class="op" id="7419105">(</span><span class="ident" id="7419106"><a href="/net/http/filetransport_test.go.html#7419023">slurp</a></span><span class="op" id="7419111">)</span>&nbsp;<span class="op" id="7419113">!=</span>&nbsp;<span class="string" id="7419116">&#34;Bar&#34;</span>&nbsp;<span class="op" id="7419122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419127"><a href="/net/http/filetransport_test.go.html#7418208">t</a></span><span class="op" id="7419128">.</span><span class="ident" id="7419129">Errorf</span><span class="op" id="7419135">(</span><span class="string" id="7419136">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7419169">,</span>&nbsp;<span class="ident" id="7419171"><a href="/net/http/filetransport_test.go.html#7418653">urlstr</a></span><span class="op" id="7419177">,</span>&nbsp;<span class="builtintype" id="7419179">string</span><span class="op" id="7419185">(</span><span class="ident" id="7419186"><a href="/net/http/filetransport_test.go.html#7419023">slurp</a></span><span class="op" id="7419191">)</span><span class="op" id="7419192">,</span>&nbsp;<span class="string" id="7419194">&#34;Bar&#34;</span><span class="op" id="7419199">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7419210">const</span>&nbsp;<span class="ident" id="7419216">badURL</span>&nbsp;<span class="op" id="7419223">=</span>&nbsp;<span class="string" id="7419225">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419251">res</span><span class="op" id="7419254">,</span>&nbsp;<span class="ident" id="7419256"><a href="/net/http/filetransport_test.go.html#7418254">err</a></span>&nbsp;<span class="op" id="7419260">:=</span>&nbsp;<span class="ident" id="7419263"><a href="/net/http/filetransport_test.go.html#7418555">c</a></span><span class="op" id="7419264">.</span><span class="ident" id="7419265">Get</span><span class="op" id="7419268">(</span><span class="ident" id="7419269"><a href="/net/http/filetransport_test.go.html#7419216">badURL</a></span><span class="op" id="7419275">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419278"><a href="/net/http/filetransport_test.go.html#7418225">check</a></span><span class="op" id="7419283">(</span><span class="string" id="7419284">&#34;Get&nbsp;&#34;</span><span class="op" id="7419290">+</span><span class="ident" id="7419291"><a href="/net/http/filetransport_test.go.html#7419216">badURL</a></span><span class="op" id="7419297">,</span>&nbsp;<span class="ident" id="7419299"><a href="/net/http/filetransport_test.go.html#7418254">err</a></span><span class="op" id="7419302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7419305">if</span>&nbsp;<span class="ident" id="7419308"><a href="/net/http/filetransport_test.go.html#7419251">res</a></span><span class="op" id="7419311">.</span><span class="ident" id="7419312">StatusCode</span>&nbsp;<span class="op" id="7419323">!=</span>&nbsp;<span class="num" id="7419326">404</span>&nbsp;<span class="op" id="7419330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419334"><a href="/net/http/filetransport_test.go.html#7418208">t</a></span><span class="op" id="7419335">.</span><span class="ident" id="7419336">Errorf</span><span class="op" id="7419342">(</span><span class="string" id="7419343">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="7419378">,</span>&nbsp;<span class="ident" id="7419380"><a href="/net/http/filetransport_test.go.html#7419216">badURL</a></span><span class="op" id="7419386">,</span>&nbsp;<span class="ident" id="7419388"><a href="/net/http/filetransport_test.go.html#7419251">res</a></span><span class="op" id="7419391">.</span><span class="ident" id="7419392">StatusCode</span><span class="op" id="7419402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7419408"><a href="/net/http/filetransport_test.go.html#7419251">res</a></span><span class="op" id="7419411">.</span><span class="ident" id="7419412">Body</span><span class="op" id="7419416">.</span><span class="ident" id="7419417">Close</span><span class="op" id="7419422">(</span><span class="op" id="7419423">)</span><br>
<span class="lineno">65</span><span class="op" id="7419425">}</span>
</div>
</body>
</html>
