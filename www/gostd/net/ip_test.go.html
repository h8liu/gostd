<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8226802">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8226857">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8226911">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8226962">package</span>&nbsp;<span class="ident" id="8226970">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8226975">import</span>&nbsp;<span class="op" id="8226982">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8226985">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8226996">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8227007">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8227017">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8227020">var</span>&nbsp;<span class="ident" id="8227024">parseIPTests</span>&nbsp;<span class="op" id="8227037">=</span>&nbsp;<span class="op" id="8227039">[</span><span class="op" id="8227040">]</span><span class="keyword" id="8227041">struct</span>&nbsp;<span class="op" id="8227048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227051">in</span>&nbsp;&nbsp;<span class="builtintype" id="8227055">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227063">out</span>&nbsp;<span class="ident" id="8227067">IP</span><br>
<span class="lineno"></span><span class="op" id="8227070">}</span><span class="op" id="8227071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227074">{</span><span class="string" id="8227075">&#34;127.0.1.2&#34;</span><span class="op" id="8227086">,</span>&nbsp;<span class="ident" id="8227088">IPv4</span><span class="op" id="8227092">(</span><span class="num" id="8227093">127</span><span class="op" id="8227096">,</span>&nbsp;<span class="num" id="8227098">0</span><span class="op" id="8227099">,</span>&nbsp;<span class="num" id="8227101">1</span><span class="op" id="8227102">,</span>&nbsp;<span class="num" id="8227104">2</span><span class="op" id="8227105">)</span><span class="op" id="8227106">}</span><span class="op" id="8227107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227110">{</span><span class="string" id="8227111">&#34;127.0.0.1&#34;</span><span class="op" id="8227122">,</span>&nbsp;<span class="ident" id="8227124">IPv4</span><span class="op" id="8227128">(</span><span class="num" id="8227129">127</span><span class="op" id="8227132">,</span>&nbsp;<span class="num" id="8227134">0</span><span class="op" id="8227135">,</span>&nbsp;<span class="num" id="8227137">0</span><span class="op" id="8227138">,</span>&nbsp;<span class="num" id="8227140">1</span><span class="op" id="8227141">)</span><span class="op" id="8227142">}</span><span class="op" id="8227143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227146">{</span><span class="string" id="8227147">&#34;127.0.0.256&#34;</span><span class="op" id="8227160">,</span>&nbsp;<span class="ident" id="8227162">nil</span><span class="op" id="8227165">}</span><span class="op" id="8227166">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227169">{</span><span class="string" id="8227170">&#34;abc&#34;</span><span class="op" id="8227175">,</span>&nbsp;<span class="ident" id="8227177">nil</span><span class="op" id="8227180">}</span><span class="op" id="8227181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227184">{</span><span class="string" id="8227185">&#34;123:&#34;</span><span class="op" id="8227191">,</span>&nbsp;<span class="ident" id="8227193">nil</span><span class="op" id="8227196">}</span><span class="op" id="8227197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227200">{</span><span class="string" id="8227201">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="8227219">,</span>&nbsp;<span class="ident" id="8227221">IPv4</span><span class="op" id="8227225">(</span><span class="num" id="8227226">127</span><span class="op" id="8227229">,</span>&nbsp;<span class="num" id="8227231">0</span><span class="op" id="8227232">,</span>&nbsp;<span class="num" id="8227234">0</span><span class="op" id="8227235">,</span>&nbsp;<span class="num" id="8227237">1</span><span class="op" id="8227238">)</span><span class="op" id="8227239">}</span><span class="op" id="8227240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227243">{</span><span class="string" id="8227244">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="8227266">,</span>&nbsp;<span class="ident" id="8227268">IP</span><span class="op" id="8227270">{</span><span class="num" id="8227271">0x20</span><span class="op" id="8227275">,</span>&nbsp;<span class="num" id="8227277">0x01</span><span class="op" id="8227281">,</span>&nbsp;<span class="num" id="8227283">0x48</span><span class="op" id="8227287">,</span>&nbsp;<span class="num" id="8227289">0x60</span><span class="op" id="8227293">,</span>&nbsp;<span class="num" id="8227295">0</span><span class="op" id="8227296">,</span>&nbsp;<span class="num" id="8227298">0</span><span class="op" id="8227299">,</span>&nbsp;<span class="num" id="8227301">0x20</span><span class="op" id="8227305">,</span>&nbsp;<span class="num" id="8227307">0x01</span><span class="op" id="8227311">,</span>&nbsp;<span class="num" id="8227313">0</span><span class="op" id="8227314">,</span>&nbsp;<span class="num" id="8227316">0</span><span class="op" id="8227317">,</span>&nbsp;<span class="num" id="8227319">0</span><span class="op" id="8227320">,</span>&nbsp;<span class="num" id="8227322">0</span><span class="op" id="8227323">,</span>&nbsp;<span class="num" id="8227325">0</span><span class="op" id="8227326">,</span>&nbsp;<span class="num" id="8227328">0</span><span class="op" id="8227329">,</span>&nbsp;<span class="num" id="8227331">0x00</span><span class="op" id="8227335">,</span>&nbsp;<span class="num" id="8227337">0x68</span><span class="op" id="8227341">}</span><span class="op" id="8227342">}</span><span class="op" id="8227343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227346">{</span><span class="string" id="8227347">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="8227365">,</span>&nbsp;<span class="ident" id="8227367">IPv4</span><span class="op" id="8227371">(</span><span class="num" id="8227372">74</span><span class="op" id="8227374">,</span>&nbsp;<span class="num" id="8227376">125</span><span class="op" id="8227379">,</span>&nbsp;<span class="num" id="8227381">19</span><span class="op" id="8227383">,</span>&nbsp;<span class="num" id="8227385">99</span><span class="op" id="8227387">)</span><span class="op" id="8227388">}</span><span class="op" id="8227389">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227392">{</span><span class="string" id="8227393">&#34;fe80::1%lo0&#34;</span><span class="op" id="8227406">,</span>&nbsp;<span class="ident" id="8227408">nil</span><span class="op" id="8227411">}</span><span class="op" id="8227412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227415">{</span><span class="string" id="8227416">&#34;fe80::1%911&#34;</span><span class="op" id="8227429">,</span>&nbsp;<span class="ident" id="8227431">nil</span><span class="op" id="8227434">}</span><span class="op" id="8227435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227438">{</span><span class="string" id="8227439">&#34;&#34;</span><span class="op" id="8227441">,</span>&nbsp;<span class="ident" id="8227443">nil</span><span class="op" id="8227446">}</span><span class="op" id="8227447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227450">{</span><span class="string" id="8227451">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="8227477">,</span>&nbsp;<span class="ident" id="8227479">nil</span><span class="op" id="8227482">}</span><span class="op" id="8227483">,</span>&nbsp;<span class="comment" id="8227485">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="8227499">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="8227502">func</span>&nbsp;<span class="ident" id="8227507">TestParseIP</span><span class="op" id="8227518">(</span><span class="ident" id="8227519">t</span>&nbsp;<span class="op" id="8227521">*</span><span class="ident" id="8227522">testing</span><span class="op" id="8227529">.</span><span class="ident" id="8227530">T</span><span class="op" id="8227531">)</span>&nbsp;<span class="op" id="8227533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227536">for</span>&nbsp;<span class="ident" id="8227540">_</span><span class="op" id="8227541">,</span>&nbsp;<span class="ident" id="8227543">tt</span>&nbsp;<span class="op" id="8227546">:=</span>&nbsp;<span class="keyword" id="8227549">range</span>&nbsp;<span class="ident" id="8227555">parseIPTests</span>&nbsp;<span class="op" id="8227568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227572">if</span>&nbsp;<span class="ident" id="8227575">out</span>&nbsp;<span class="op" id="8227579">:=</span>&nbsp;<span class="ident" id="8227582">ParseIP</span><span class="op" id="8227589">(</span><span class="ident" id="8227590">tt</span><span class="op" id="8227592">.</span><span class="ident" id="8227593">in</span><span class="op" id="8227595">)</span><span class="op" id="8227596">;</span>&nbsp;<span class="op" id="8227598">!</span><span class="ident" id="8227599">reflect</span><span class="op" id="8227606">.</span><span class="ident" id="8227607">DeepEqual</span><span class="op" id="8227616">(</span><span class="ident" id="8227617">out</span><span class="op" id="8227620">,</span>&nbsp;<span class="ident" id="8227622">tt</span><span class="op" id="8227624">.</span><span class="ident" id="8227625">out</span><span class="op" id="8227628">)</span>&nbsp;<span class="op" id="8227630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227635">t</span><span class="op" id="8227636">.</span><span class="ident" id="8227637">Errorf</span><span class="op" id="8227643">(</span><span class="string" id="8227644">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8227671">,</span>&nbsp;<span class="ident" id="8227673">tt</span><span class="op" id="8227675">.</span><span class="ident" id="8227676">in</span><span class="op" id="8227678">,</span>&nbsp;<span class="ident" id="8227680">out</span><span class="op" id="8227683">,</span>&nbsp;<span class="ident" id="8227685">tt</span><span class="op" id="8227687">.</span><span class="ident" id="8227688">out</span><span class="op" id="8227691">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227699">if</span>&nbsp;<span class="ident" id="8227702">tt</span><span class="op" id="8227704">.</span><span class="ident" id="8227705">in</span>&nbsp;<span class="op" id="8227708">==</span>&nbsp;<span class="string" id="8227711">&#34;&#34;</span>&nbsp;<span class="op" id="8227714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227719">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227761">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227772">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227776">var</span>&nbsp;<span class="ident" id="8227780">out</span>&nbsp;<span class="ident" id="8227784">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227789">if</span>&nbsp;<span class="ident" id="8227792">err</span>&nbsp;<span class="op" id="8227796">:=</span>&nbsp;<span class="ident" id="8227799">out</span><span class="op" id="8227802">.</span><span class="ident" id="8227803">UnmarshalText</span><span class="op" id="8227816">(</span><span class="op" id="8227817">[</span><span class="op" id="8227818">]</span><span class="builtintype" id="8227819">byte</span><span class="op" id="8227823">(</span><span class="ident" id="8227824">tt</span><span class="op" id="8227826">.</span><span class="ident" id="8227827">in</span><span class="op" id="8227829">)</span><span class="op" id="8227830">)</span><span class="op" id="8227831">;</span>&nbsp;<span class="op" id="8227833">!</span><span class="ident" id="8227834">reflect</span><span class="op" id="8227841">.</span><span class="ident" id="8227842">DeepEqual</span><span class="op" id="8227851">(</span><span class="ident" id="8227852">out</span><span class="op" id="8227855">,</span>&nbsp;<span class="ident" id="8227857">tt</span><span class="op" id="8227859">.</span><span class="ident" id="8227860">out</span><span class="op" id="8227863">)</span>&nbsp;<span class="op" id="8227865">||</span>&nbsp;<span class="op" id="8227868">(</span><span class="ident" id="8227869">tt</span><span class="op" id="8227871">.</span><span class="ident" id="8227872">out</span>&nbsp;<span class="op" id="8227876">==</span>&nbsp;<span class="ident" id="8227879">nil</span><span class="op" id="8227882">)</span>&nbsp;<span class="op" id="8227884">!=</span>&nbsp;<span class="op" id="8227887">(</span><span class="ident" id="8227888">err</span>&nbsp;<span class="op" id="8227892">!=</span>&nbsp;<span class="ident" id="8227895">nil</span><span class="op" id="8227898">)</span>&nbsp;<span class="op" id="8227900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227905">t</span><span class="op" id="8227906">.</span><span class="ident" id="8227907">Errorf</span><span class="op" id="8227913">(</span><span class="string" id="8227914">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8227954">,</span>&nbsp;<span class="ident" id="8227956">tt</span><span class="op" id="8227958">.</span><span class="ident" id="8227959">in</span><span class="op" id="8227961">,</span>&nbsp;<span class="ident" id="8227963">out</span><span class="op" id="8227966">,</span>&nbsp;<span class="ident" id="8227968">err</span><span class="op" id="8227971">,</span>&nbsp;<span class="ident" id="8227973">tt</span><span class="op" id="8227975">.</span><span class="ident" id="8227976">out</span><span class="op" id="8227979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227986">}</span><br>
<span class="lineno">45</span><span class="op" id="8227988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8227991">func</span>&nbsp;<span class="ident" id="8227996">BenchmarkParseIP</span><span class="op" id="8228012">(</span><span class="ident" id="8228013">b</span>&nbsp;<span class="op" id="8228015">*</span><span class="ident" id="8228016">testing</span><span class="op" id="8228023">.</span><span class="ident" id="8228024">B</span><span class="op" id="8228025">)</span>&nbsp;<span class="op" id="8228027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228030">for</span>&nbsp;<span class="ident" id="8228034">i</span>&nbsp;<span class="op" id="8228036">:=</span>&nbsp;<span class="num" id="8228039">0</span><span class="op" id="8228040">;</span>&nbsp;<span class="ident" id="8228042">i</span>&nbsp;<span class="op" id="8228044">&lt;</span>&nbsp;<span class="ident" id="8228046">b</span><span class="op" id="8228047">.</span><span class="ident" id="8228048">N</span><span class="op" id="8228049">;</span>&nbsp;<span class="ident" id="8228051">i</span><span class="op" id="8228052">++</span>&nbsp;<span class="op" id="8228055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228059">for</span>&nbsp;<span class="ident" id="8228063">_</span><span class="op" id="8228064">,</span>&nbsp;<span class="ident" id="8228066">tt</span>&nbsp;<span class="op" id="8228069">:=</span>&nbsp;<span class="keyword" id="8228072">range</span>&nbsp;<span class="ident" id="8228078">parseIPTests</span>&nbsp;<span class="op" id="8228091">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228096">ParseIP</span><span class="op" id="8228103">(</span><span class="ident" id="8228104">tt</span><span class="op" id="8228106">.</span><span class="ident" id="8228107">in</span><span class="op" id="8228109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228116">}</span><br>
<span class="lineno"></span><span class="op" id="8228118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="8228121">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="8228135">func</span>&nbsp;<span class="ident" id="8228140">TestMarshalEmptyIP</span><span class="op" id="8228158">(</span><span class="ident" id="8228159">t</span>&nbsp;<span class="op" id="8228161">*</span><span class="ident" id="8228162">testing</span><span class="op" id="8228169">.</span><span class="ident" id="8228170">T</span><span class="op" id="8228171">)</span>&nbsp;<span class="op" id="8228173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228176">for</span>&nbsp;<span class="ident" id="8228180">_</span><span class="op" id="8228181">,</span>&nbsp;<span class="ident" id="8228183">in</span>&nbsp;<span class="op" id="8228186">:=</span>&nbsp;<span class="keyword" id="8228189">range</span>&nbsp;<span class="op" id="8228195">[</span><span class="op" id="8228196">]</span><span class="op" id="8228197">[</span><span class="op" id="8228198">]</span><span class="builtintype" id="8228199">byte</span><span class="op" id="8228203">{</span><span class="ident" id="8228204">nil</span><span class="op" id="8228207">,</span>&nbsp;<span class="op" id="8228209">[</span><span class="op" id="8228210">]</span><span class="builtintype" id="8228211">byte</span><span class="op" id="8228215">(</span><span class="string" id="8228216">&#34;&#34;</span><span class="op" id="8228218">)</span><span class="op" id="8228219">}</span>&nbsp;<span class="op" id="8228221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228225">var</span>&nbsp;<span class="ident" id="8228229">out</span>&nbsp;<span class="op" id="8228233">=</span>&nbsp;<span class="ident" id="8228235">IP</span><span class="op" id="8228237">{</span><span class="num" id="8228238">1</span><span class="op" id="8228239">,</span>&nbsp;<span class="num" id="8228241">2</span><span class="op" id="8228242">,</span>&nbsp;<span class="num" id="8228244">3</span><span class="op" id="8228245">,</span>&nbsp;<span class="num" id="8228247">4</span><span class="op" id="8228248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228252">if</span>&nbsp;<span class="ident" id="8228255">err</span>&nbsp;<span class="op" id="8228259">:=</span>&nbsp;<span class="ident" id="8228262">out</span><span class="op" id="8228265">.</span><span class="ident" id="8228266">UnmarshalText</span><span class="op" id="8228279">(</span><span class="ident" id="8228280">in</span><span class="op" id="8228282">)</span><span class="op" id="8228283">;</span>&nbsp;<span class="ident" id="8228285">err</span>&nbsp;<span class="op" id="8228289">!=</span>&nbsp;<span class="ident" id="8228292">nil</span>&nbsp;<span class="op" id="8228296">||</span>&nbsp;<span class="ident" id="8228299">out</span>&nbsp;<span class="op" id="8228303">!=</span>&nbsp;<span class="ident" id="8228306">nil</span>&nbsp;<span class="op" id="8228310">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228315">t</span><span class="op" id="8228316">.</span><span class="ident" id="8228317">Errorf</span><span class="op" id="8228323">(</span><span class="string" id="8228324">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="8228367">,</span>&nbsp;<span class="ident" id="8228369">in</span><span class="op" id="8228371">,</span>&nbsp;<span class="ident" id="8228373">out</span><span class="op" id="8228376">,</span>&nbsp;<span class="ident" id="8228378">err</span><span class="op" id="8228381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228391">var</span>&nbsp;<span class="ident" id="8228395">ip</span>&nbsp;<span class="ident" id="8228398">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228402">got</span><span class="op" id="8228405">,</span>&nbsp;<span class="ident" id="8228407">err</span>&nbsp;<span class="op" id="8228411">:=</span>&nbsp;<span class="ident" id="8228414">ip</span><span class="op" id="8228416">.</span><span class="ident" id="8228417">MarshalText</span><span class="op" id="8228428">(</span><span class="op" id="8228429">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228432">if</span>&nbsp;<span class="ident" id="8228435">err</span>&nbsp;<span class="op" id="8228439">!=</span>&nbsp;<span class="ident" id="8228442">nil</span>&nbsp;<span class="op" id="8228446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228450">t</span><span class="op" id="8228451">.</span><span class="ident" id="8228452">Fatal</span><span class="op" id="8228457">(</span><span class="ident" id="8228458">err</span><span class="op" id="8228461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228467">if</span>&nbsp;<span class="op" id="8228470">!</span><span class="ident" id="8228471">reflect</span><span class="op" id="8228478">.</span><span class="ident" id="8228479">DeepEqual</span><span class="op" id="8228488">(</span><span class="ident" id="8228489">got</span><span class="op" id="8228492">,</span>&nbsp;<span class="op" id="8228494">[</span><span class="op" id="8228495">]</span><span class="builtintype" id="8228496">byte</span><span class="op" id="8228500">(</span><span class="string" id="8228501">&#34;&#34;</span><span class="op" id="8228503">)</span><span class="op" id="8228504">)</span>&nbsp;<span class="op" id="8228506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228510">t</span><span class="op" id="8228511">.</span><span class="ident" id="8228512">Errorf</span><span class="op" id="8228518">(</span><span class="string" id="8228519">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="8228545">,</span>&nbsp;<span class="ident" id="8228547">got</span><span class="op" id="8228550">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228553">}</span><br>
<span class="lineno"></span><span class="op" id="8228555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8228558">var</span>&nbsp;<span class="ident" id="8228562">ipStringTests</span>&nbsp;<span class="op" id="8228576">=</span>&nbsp;<span class="op" id="8228578">[</span><span class="op" id="8228579">]</span><span class="keyword" id="8228580">struct</span>&nbsp;<span class="op" id="8228587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228590">in</span>&nbsp;&nbsp;<span class="ident" id="8228594">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228598">out</span>&nbsp;<span class="builtintype" id="8228602">string</span>&nbsp;<span class="comment" id="8228609">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="8228625">}</span><span class="op" id="8228626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228629">{</span><span class="ident" id="8228630">IP</span><span class="op" id="8228632">{</span><span class="num" id="8228633">0x20</span><span class="op" id="8228637">,</span>&nbsp;<span class="num" id="8228639">0x1</span><span class="op" id="8228642">,</span>&nbsp;<span class="num" id="8228644">0xd</span><span class="op" id="8228647">,</span>&nbsp;<span class="num" id="8228649">0xb8</span><span class="op" id="8228653">,</span>&nbsp;<span class="num" id="8228655">0</span><span class="op" id="8228656">,</span>&nbsp;<span class="num" id="8228658">0</span><span class="op" id="8228659">,</span>&nbsp;<span class="num" id="8228661">0</span><span class="op" id="8228662">,</span>&nbsp;<span class="num" id="8228664">0</span><span class="op" id="8228665">,</span>&nbsp;<span class="num" id="8228667">0</span><span class="op" id="8228668">,</span>&nbsp;<span class="num" id="8228670">0</span><span class="op" id="8228671">,</span>&nbsp;<span class="num" id="8228673">0x1</span><span class="op" id="8228676">,</span>&nbsp;<span class="num" id="8228678">0x23</span><span class="op" id="8228682">,</span>&nbsp;<span class="num" id="8228684">0</span><span class="op" id="8228685">,</span>&nbsp;<span class="num" id="8228687">0x12</span><span class="op" id="8228691">,</span>&nbsp;<span class="num" id="8228693">0</span><span class="op" id="8228694">,</span>&nbsp;<span class="num" id="8228696">0x1</span><span class="op" id="8228699">}</span><span class="op" id="8228700">,</span>&nbsp;<span class="string" id="8228702">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="8228722">}</span><span class="op" id="8228723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228726">{</span><span class="ident" id="8228727">IP</span><span class="op" id="8228729">{</span><span class="num" id="8228730">0x20</span><span class="op" id="8228734">,</span>&nbsp;<span class="num" id="8228736">0x1</span><span class="op" id="8228739">,</span>&nbsp;<span class="num" id="8228741">0xd</span><span class="op" id="8228744">,</span>&nbsp;<span class="num" id="8228746">0xb8</span><span class="op" id="8228750">,</span>&nbsp;<span class="num" id="8228752">0</span><span class="op" id="8228753">,</span>&nbsp;<span class="num" id="8228755">0</span><span class="op" id="8228756">,</span>&nbsp;<span class="num" id="8228758">0</span><span class="op" id="8228759">,</span>&nbsp;<span class="num" id="8228761">0</span><span class="op" id="8228762">,</span>&nbsp;<span class="num" id="8228764">0</span><span class="op" id="8228765">,</span>&nbsp;<span class="num" id="8228767">0</span><span class="op" id="8228768">,</span>&nbsp;<span class="num" id="8228770">0</span><span class="op" id="8228771">,</span>&nbsp;<span class="num" id="8228773">0</span><span class="op" id="8228774">,</span>&nbsp;<span class="num" id="8228776">0</span><span class="op" id="8228777">,</span>&nbsp;<span class="num" id="8228779">0</span><span class="op" id="8228780">,</span>&nbsp;<span class="num" id="8228782">0</span><span class="op" id="8228783">,</span>&nbsp;<span class="num" id="8228785">0x1</span><span class="op" id="8228788">}</span><span class="op" id="8228789">,</span>&nbsp;<span class="string" id="8228791">&#34;2001:db8::1&#34;</span><span class="op" id="8228804">}</span><span class="op" id="8228805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228808">{</span><span class="ident" id="8228809">IP</span><span class="op" id="8228811">{</span><span class="num" id="8228812">0x20</span><span class="op" id="8228816">,</span>&nbsp;<span class="num" id="8228818">0x1</span><span class="op" id="8228821">,</span>&nbsp;<span class="num" id="8228823">0xd</span><span class="op" id="8228826">,</span>&nbsp;<span class="num" id="8228828">0xb8</span><span class="op" id="8228832">,</span>&nbsp;<span class="num" id="8228834">0</span><span class="op" id="8228835">,</span>&nbsp;<span class="num" id="8228837">0</span><span class="op" id="8228838">,</span>&nbsp;<span class="num" id="8228840">0</span><span class="op" id="8228841">,</span>&nbsp;<span class="num" id="8228843">0x1</span><span class="op" id="8228846">,</span>&nbsp;<span class="num" id="8228848">0</span><span class="op" id="8228849">,</span>&nbsp;<span class="num" id="8228851">0</span><span class="op" id="8228852">,</span>&nbsp;<span class="num" id="8228854">0</span><span class="op" id="8228855">,</span>&nbsp;<span class="num" id="8228857">0x1</span><span class="op" id="8228860">,</span>&nbsp;<span class="num" id="8228862">0</span><span class="op" id="8228863">,</span>&nbsp;<span class="num" id="8228865">0</span><span class="op" id="8228866">,</span>&nbsp;<span class="num" id="8228868">0</span><span class="op" id="8228869">,</span>&nbsp;<span class="num" id="8228871">0x1</span><span class="op" id="8228874">}</span><span class="op" id="8228875">,</span>&nbsp;<span class="string" id="8228877">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="8228899">}</span><span class="op" id="8228900">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228903">{</span><span class="ident" id="8228904">IP</span><span class="op" id="8228906">{</span><span class="num" id="8228907">0x20</span><span class="op" id="8228911">,</span>&nbsp;<span class="num" id="8228913">0x1</span><span class="op" id="8228916">,</span>&nbsp;<span class="num" id="8228918">0xd</span><span class="op" id="8228921">,</span>&nbsp;<span class="num" id="8228923">0xb8</span><span class="op" id="8228927">,</span>&nbsp;<span class="num" id="8228929">0</span><span class="op" id="8228930">,</span>&nbsp;<span class="num" id="8228932">0x1</span><span class="op" id="8228935">,</span>&nbsp;<span class="num" id="8228937">0</span><span class="op" id="8228938">,</span>&nbsp;<span class="num" id="8228940">0</span><span class="op" id="8228941">,</span>&nbsp;<span class="num" id="8228943">0</span><span class="op" id="8228944">,</span>&nbsp;<span class="num" id="8228946">0x1</span><span class="op" id="8228949">,</span>&nbsp;<span class="num" id="8228951">0</span><span class="op" id="8228952">,</span>&nbsp;<span class="num" id="8228954">0</span><span class="op" id="8228955">,</span>&nbsp;<span class="num" id="8228957">0</span><span class="op" id="8228958">,</span>&nbsp;<span class="num" id="8228960">0x1</span><span class="op" id="8228963">,</span>&nbsp;<span class="num" id="8228965">0</span><span class="op" id="8228966">,</span>&nbsp;<span class="num" id="8228968">0</span><span class="op" id="8228969">}</span><span class="op" id="8228970">,</span>&nbsp;<span class="string" id="8228972">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="8228994">}</span><span class="op" id="8228995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228998">{</span><span class="ident" id="8228999">IP</span><span class="op" id="8229001">{</span><span class="num" id="8229002">0x20</span><span class="op" id="8229006">,</span>&nbsp;<span class="num" id="8229008">0x1</span><span class="op" id="8229011">,</span>&nbsp;<span class="num" id="8229013">0</span><span class="op" id="8229014">,</span>&nbsp;<span class="num" id="8229016">0</span><span class="op" id="8229017">,</span>&nbsp;<span class="num" id="8229019">0</span><span class="op" id="8229020">,</span>&nbsp;<span class="num" id="8229022">0</span><span class="op" id="8229023">,</span>&nbsp;<span class="num" id="8229025">0</span><span class="op" id="8229026">,</span>&nbsp;<span class="num" id="8229028">0</span><span class="op" id="8229029">,</span>&nbsp;<span class="num" id="8229031">0</span><span class="op" id="8229032">,</span>&nbsp;<span class="num" id="8229034">0x1</span><span class="op" id="8229037">,</span>&nbsp;<span class="num" id="8229039">0</span><span class="op" id="8229040">,</span>&nbsp;<span class="num" id="8229042">0</span><span class="op" id="8229043">,</span>&nbsp;<span class="num" id="8229045">0</span><span class="op" id="8229046">,</span>&nbsp;<span class="num" id="8229048">0</span><span class="op" id="8229049">,</span>&nbsp;<span class="num" id="8229051">0</span><span class="op" id="8229052">,</span>&nbsp;<span class="num" id="8229054">0x1</span><span class="op" id="8229057">}</span><span class="op" id="8229058">,</span>&nbsp;<span class="string" id="8229060">&#34;2001::1:0:0:1&#34;</span><span class="op" id="8229075">}</span><span class="op" id="8229076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229079">{</span><span class="ident" id="8229080">IP</span><span class="op" id="8229082">{</span><span class="num" id="8229083">0x20</span><span class="op" id="8229087">,</span>&nbsp;<span class="num" id="8229089">0x1</span><span class="op" id="8229092">,</span>&nbsp;<span class="num" id="8229094">0xd</span><span class="op" id="8229097">,</span>&nbsp;<span class="num" id="8229099">0xb8</span><span class="op" id="8229103">,</span>&nbsp;<span class="num" id="8229105">0</span><span class="op" id="8229106">,</span>&nbsp;<span class="num" id="8229108">0</span><span class="op" id="8229109">,</span>&nbsp;<span class="num" id="8229111">0</span><span class="op" id="8229112">,</span>&nbsp;<span class="num" id="8229114">0</span><span class="op" id="8229115">,</span>&nbsp;<span class="num" id="8229117">0</span><span class="op" id="8229118">,</span>&nbsp;<span class="num" id="8229120">0x1</span><span class="op" id="8229123">,</span>&nbsp;<span class="num" id="8229125">0</span><span class="op" id="8229126">,</span>&nbsp;<span class="num" id="8229128">0</span><span class="op" id="8229129">,</span>&nbsp;<span class="num" id="8229131">0</span><span class="op" id="8229132">,</span>&nbsp;<span class="num" id="8229134">0</span><span class="op" id="8229135">,</span>&nbsp;<span class="num" id="8229137">0</span><span class="op" id="8229138">,</span>&nbsp;<span class="num" id="8229140">0</span><span class="op" id="8229141">}</span><span class="op" id="8229142">,</span>&nbsp;<span class="string" id="8229144">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="8229162">}</span><span class="op" id="8229163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229166">{</span><span class="ident" id="8229167">IP</span><span class="op" id="8229169">{</span><span class="num" id="8229170">0x20</span><span class="op" id="8229174">,</span>&nbsp;<span class="num" id="8229176">0x1</span><span class="op" id="8229179">,</span>&nbsp;<span class="num" id="8229181">0xd</span><span class="op" id="8229184">,</span>&nbsp;<span class="num" id="8229186">0xb8</span><span class="op" id="8229190">,</span>&nbsp;<span class="num" id="8229192">0</span><span class="op" id="8229193">,</span>&nbsp;<span class="num" id="8229195">0</span><span class="op" id="8229196">,</span>&nbsp;<span class="num" id="8229198">0</span><span class="op" id="8229199">,</span>&nbsp;<span class="num" id="8229201">0</span><span class="op" id="8229202">,</span>&nbsp;<span class="num" id="8229204">0</span><span class="op" id="8229205">,</span>&nbsp;<span class="num" id="8229207">0x1</span><span class="op" id="8229210">,</span>&nbsp;<span class="num" id="8229212">0</span><span class="op" id="8229213">,</span>&nbsp;<span class="num" id="8229215">0</span><span class="op" id="8229216">,</span>&nbsp;<span class="num" id="8229218">0</span><span class="op" id="8229219">,</span>&nbsp;<span class="num" id="8229221">0</span><span class="op" id="8229222">,</span>&nbsp;<span class="num" id="8229224">0</span><span class="op" id="8229225">,</span>&nbsp;<span class="num" id="8229227">0x1</span><span class="op" id="8229230">}</span><span class="op" id="8229231">,</span>&nbsp;<span class="string" id="8229233">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="8229252">}</span><span class="op" id="8229253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229256">{</span><span class="ident" id="8229257">IP</span><span class="op" id="8229259">{</span><span class="num" id="8229260">0x20</span><span class="op" id="8229264">,</span>&nbsp;<span class="num" id="8229266">0x1</span><span class="op" id="8229269">,</span>&nbsp;<span class="num" id="8229271">0xD</span><span class="op" id="8229274">,</span>&nbsp;<span class="num" id="8229276">0xB8</span><span class="op" id="8229280">,</span>&nbsp;<span class="num" id="8229282">0</span><span class="op" id="8229283">,</span>&nbsp;<span class="num" id="8229285">0</span><span class="op" id="8229286">,</span>&nbsp;<span class="num" id="8229288">0</span><span class="op" id="8229289">,</span>&nbsp;<span class="num" id="8229291">0</span><span class="op" id="8229292">,</span>&nbsp;<span class="num" id="8229294">0</span><span class="op" id="8229295">,</span>&nbsp;<span class="num" id="8229297">0xA</span><span class="op" id="8229300">,</span>&nbsp;<span class="num" id="8229302">0</span><span class="op" id="8229303">,</span>&nbsp;<span class="num" id="8229305">0xB</span><span class="op" id="8229308">,</span>&nbsp;<span class="num" id="8229310">0</span><span class="op" id="8229311">,</span>&nbsp;<span class="num" id="8229313">0xC</span><span class="op" id="8229316">,</span>&nbsp;<span class="num" id="8229318">0</span><span class="op" id="8229319">,</span>&nbsp;<span class="num" id="8229321">0xD</span><span class="op" id="8229324">}</span><span class="op" id="8229325">,</span>&nbsp;<span class="string" id="8229327">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="8229346">}</span><span class="op" id="8229347">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229350">{</span><span class="ident" id="8229351">IPv4</span><span class="op" id="8229355">(</span><span class="num" id="8229356">192</span><span class="op" id="8229359">,</span>&nbsp;<span class="num" id="8229361">168</span><span class="op" id="8229364">,</span>&nbsp;<span class="num" id="8229366">0</span><span class="op" id="8229367">,</span>&nbsp;<span class="num" id="8229369">1</span><span class="op" id="8229370">)</span><span class="op" id="8229371">,</span>&nbsp;<span class="string" id="8229373">&#34;192.168.0.1&#34;</span><span class="op" id="8229386">}</span><span class="op" id="8229387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229390">{</span><span class="ident" id="8229391">nil</span><span class="op" id="8229394">,</span>&nbsp;<span class="string" id="8229396">&#34;&#34;</span><span class="op" id="8229398">}</span><span class="op" id="8229399">,</span><br>
<span class="lineno"></span><span class="op" id="8229401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8229404">func</span>&nbsp;<span class="ident" id="8229409">TestIPString</span><span class="op" id="8229421">(</span><span class="ident" id="8229422">t</span>&nbsp;<span class="op" id="8229424">*</span><span class="ident" id="8229425">testing</span><span class="op" id="8229432">.</span><span class="ident" id="8229433">T</span><span class="op" id="8229434">)</span>&nbsp;<span class="op" id="8229436">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229439">for</span>&nbsp;<span class="ident" id="8229443">_</span><span class="op" id="8229444">,</span>&nbsp;<span class="ident" id="8229446">tt</span>&nbsp;<span class="op" id="8229449">:=</span>&nbsp;<span class="keyword" id="8229452">range</span>&nbsp;<span class="ident" id="8229458">ipStringTests</span>&nbsp;<span class="op" id="8229472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229476">if</span>&nbsp;<span class="ident" id="8229479">tt</span><span class="op" id="8229481">.</span><span class="ident" id="8229482">in</span>&nbsp;<span class="op" id="8229485">!=</span>&nbsp;<span class="ident" id="8229488">nil</span>&nbsp;<span class="op" id="8229492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229497">if</span>&nbsp;<span class="ident" id="8229500">out</span>&nbsp;<span class="op" id="8229504">:=</span>&nbsp;<span class="ident" id="8229507">tt</span><span class="op" id="8229509">.</span><span class="ident" id="8229510">in</span><span class="op" id="8229512">.</span><span class="ident" id="8229513">String</span><span class="op" id="8229519">(</span><span class="op" id="8229520">)</span><span class="op" id="8229521">;</span>&nbsp;<span class="ident" id="8229523">out</span>&nbsp;<span class="op" id="8229527">!=</span>&nbsp;<span class="ident" id="8229530">tt</span><span class="op" id="8229532">.</span><span class="ident" id="8229533">out</span>&nbsp;<span class="op" id="8229537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229543">t</span><span class="op" id="8229544">.</span><span class="ident" id="8229545">Errorf</span><span class="op" id="8229551">(</span><span class="string" id="8229552">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8229581">,</span>&nbsp;<span class="ident" id="8229583">tt</span><span class="op" id="8229585">.</span><span class="ident" id="8229586">in</span><span class="op" id="8229588">,</span>&nbsp;<span class="ident" id="8229590">out</span><span class="op" id="8229593">,</span>&nbsp;<span class="ident" id="8229595">tt</span><span class="op" id="8229597">.</span><span class="ident" id="8229598">out</span><span class="op" id="8229601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229606">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229614">if</span>&nbsp;<span class="ident" id="8229617">out</span><span class="op" id="8229620">,</span>&nbsp;<span class="ident" id="8229622">err</span>&nbsp;<span class="op" id="8229626">:=</span>&nbsp;<span class="ident" id="8229629">tt</span><span class="op" id="8229631">.</span><span class="ident" id="8229632">in</span><span class="op" id="8229634">.</span><span class="ident" id="8229635">MarshalText</span><span class="op" id="8229646">(</span><span class="op" id="8229647">)</span><span class="op" id="8229648">;</span>&nbsp;<span class="builtintype" id="8229650">string</span><span class="op" id="8229656">(</span><span class="ident" id="8229657">out</span><span class="op" id="8229660">)</span>&nbsp;<span class="op" id="8229662">!=</span>&nbsp;<span class="ident" id="8229665">tt</span><span class="op" id="8229667">.</span><span class="ident" id="8229668">out</span>&nbsp;<span class="op" id="8229672">||</span>&nbsp;<span class="ident" id="8229675">err</span>&nbsp;<span class="op" id="8229679">!=</span>&nbsp;<span class="ident" id="8229682">nil</span>&nbsp;<span class="op" id="8229686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229691">t</span><span class="op" id="8229692">.</span><span class="ident" id="8229693">Errorf</span><span class="op" id="8229699">(</span><span class="string" id="8229700">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="8229743">,</span>&nbsp;<span class="ident" id="8229745">tt</span><span class="op" id="8229747">.</span><span class="ident" id="8229748">in</span><span class="op" id="8229750">,</span>&nbsp;<span class="ident" id="8229752">out</span><span class="op" id="8229755">,</span>&nbsp;<span class="ident" id="8229757">err</span><span class="op" id="8229760">,</span>&nbsp;<span class="ident" id="8229762">tt</span><span class="op" id="8229764">.</span><span class="ident" id="8229765">out</span><span class="op" id="8229768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229775">}</span><br>
<span class="lineno">100</span><span class="op" id="8229777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8229780">func</span>&nbsp;<span class="ident" id="8229785">BenchmarkIPString</span><span class="op" id="8229802">(</span><span class="ident" id="8229803">b</span>&nbsp;<span class="op" id="8229805">*</span><span class="ident" id="8229806">testing</span><span class="op" id="8229813">.</span><span class="ident" id="8229814">B</span><span class="op" id="8229815">)</span>&nbsp;<span class="op" id="8229817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229820">for</span>&nbsp;<span class="ident" id="8229824">i</span>&nbsp;<span class="op" id="8229826">:=</span>&nbsp;<span class="num" id="8229829">0</span><span class="op" id="8229830">;</span>&nbsp;<span class="ident" id="8229832">i</span>&nbsp;<span class="op" id="8229834">&lt;</span>&nbsp;<span class="ident" id="8229836">b</span><span class="op" id="8229837">.</span><span class="ident" id="8229838">N</span><span class="op" id="8229839">;</span>&nbsp;<span class="ident" id="8229841">i</span><span class="op" id="8229842">++</span>&nbsp;<span class="op" id="8229845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229849">for</span>&nbsp;<span class="ident" id="8229853">_</span><span class="op" id="8229854">,</span>&nbsp;<span class="ident" id="8229856">tt</span>&nbsp;<span class="op" id="8229859">:=</span>&nbsp;<span class="keyword" id="8229862">range</span>&nbsp;<span class="ident" id="8229868">ipStringTests</span>&nbsp;<span class="op" id="8229882">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229887">if</span>&nbsp;<span class="ident" id="8229890">tt</span><span class="op" id="8229892">.</span><span class="ident" id="8229893">in</span>&nbsp;<span class="op" id="8229896">!=</span>&nbsp;<span class="ident" id="8229899">nil</span>&nbsp;<span class="op" id="8229903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229909">tt</span><span class="op" id="8229911">.</span><span class="ident" id="8229912">in</span><span class="op" id="8229914">.</span><span class="ident" id="8229915">String</span><span class="op" id="8229921">(</span><span class="op" id="8229922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229934">}</span><br>
<span class="lineno">110</span><span class="op" id="8229936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8229939">var</span>&nbsp;<span class="ident" id="8229943">ipMaskTests</span>&nbsp;<span class="op" id="8229955">=</span>&nbsp;<span class="op" id="8229957">[</span><span class="op" id="8229958">]</span><span class="keyword" id="8229959">struct</span>&nbsp;<span class="op" id="8229966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229969">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8229974">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229978">mask</span>&nbsp;<span class="ident" id="8229983">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229991">out</span>&nbsp;&nbsp;<span class="ident" id="8229996">IP</span><br>
<span class="lineno"></span><span class="op" id="8229999">}</span><span class="op" id="8230000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230003">{</span><span class="ident" id="8230004">IPv4</span><span class="op" id="8230008">(</span><span class="num" id="8230009">192</span><span class="op" id="8230012">,</span>&nbsp;<span class="num" id="8230014">168</span><span class="op" id="8230017">,</span>&nbsp;<span class="num" id="8230019">1</span><span class="op" id="8230020">,</span>&nbsp;<span class="num" id="8230022">127</span><span class="op" id="8230025">)</span><span class="op" id="8230026">,</span>&nbsp;<span class="ident" id="8230028">IPv4Mask</span><span class="op" id="8230036">(</span><span class="num" id="8230037">255</span><span class="op" id="8230040">,</span>&nbsp;<span class="num" id="8230042">255</span><span class="op" id="8230045">,</span>&nbsp;<span class="num" id="8230047">255</span><span class="op" id="8230050">,</span>&nbsp;<span class="num" id="8230052">128</span><span class="op" id="8230055">)</span><span class="op" id="8230056">,</span>&nbsp;<span class="ident" id="8230058">IPv4</span><span class="op" id="8230062">(</span><span class="num" id="8230063">192</span><span class="op" id="8230066">,</span>&nbsp;<span class="num" id="8230068">168</span><span class="op" id="8230071">,</span>&nbsp;<span class="num" id="8230073">1</span><span class="op" id="8230074">,</span>&nbsp;<span class="num" id="8230076">0</span><span class="op" id="8230077">)</span><span class="op" id="8230078">}</span><span class="op" id="8230079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230082">{</span><span class="ident" id="8230083">IPv4</span><span class="op" id="8230087">(</span><span class="num" id="8230088">192</span><span class="op" id="8230091">,</span>&nbsp;<span class="num" id="8230093">168</span><span class="op" id="8230096">,</span>&nbsp;<span class="num" id="8230098">1</span><span class="op" id="8230099">,</span>&nbsp;<span class="num" id="8230101">127</span><span class="op" id="8230104">)</span><span class="op" id="8230105">,</span>&nbsp;<span class="ident" id="8230107">IPMask</span><span class="op" id="8230113">(</span><span class="ident" id="8230114">ParseIP</span><span class="op" id="8230121">(</span><span class="string" id="8230122">&#34;255.255.255.192&#34;</span><span class="op" id="8230139">)</span><span class="op" id="8230140">)</span><span class="op" id="8230141">,</span>&nbsp;<span class="ident" id="8230143">IPv4</span><span class="op" id="8230147">(</span><span class="num" id="8230148">192</span><span class="op" id="8230151">,</span>&nbsp;<span class="num" id="8230153">168</span><span class="op" id="8230156">,</span>&nbsp;<span class="num" id="8230158">1</span><span class="op" id="8230159">,</span>&nbsp;<span class="num" id="8230161">64</span><span class="op" id="8230163">)</span><span class="op" id="8230164">}</span><span class="op" id="8230165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230168">{</span><span class="ident" id="8230169">IPv4</span><span class="op" id="8230173">(</span><span class="num" id="8230174">192</span><span class="op" id="8230177">,</span>&nbsp;<span class="num" id="8230179">168</span><span class="op" id="8230182">,</span>&nbsp;<span class="num" id="8230184">1</span><span class="op" id="8230185">,</span>&nbsp;<span class="num" id="8230187">127</span><span class="op" id="8230190">)</span><span class="op" id="8230191">,</span>&nbsp;<span class="ident" id="8230193">IPMask</span><span class="op" id="8230199">(</span><span class="ident" id="8230200">ParseIP</span><span class="op" id="8230207">(</span><span class="string" id="8230208">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="8230249">)</span><span class="op" id="8230250">)</span><span class="op" id="8230251">,</span>&nbsp;<span class="ident" id="8230253">IPv4</span><span class="op" id="8230257">(</span><span class="num" id="8230258">192</span><span class="op" id="8230261">,</span>&nbsp;<span class="num" id="8230263">168</span><span class="op" id="8230266">,</span>&nbsp;<span class="num" id="8230268">1</span><span class="op" id="8230269">,</span>&nbsp;<span class="num" id="8230271">96</span><span class="op" id="8230273">)</span><span class="op" id="8230274">}</span><span class="op" id="8230275">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230278">{</span><span class="ident" id="8230279">IPv4</span><span class="op" id="8230283">(</span><span class="num" id="8230284">192</span><span class="op" id="8230287">,</span>&nbsp;<span class="num" id="8230289">168</span><span class="op" id="8230292">,</span>&nbsp;<span class="num" id="8230294">1</span><span class="op" id="8230295">,</span>&nbsp;<span class="num" id="8230297">127</span><span class="op" id="8230300">)</span><span class="op" id="8230301">,</span>&nbsp;<span class="ident" id="8230303">IPv4Mask</span><span class="op" id="8230311">(</span><span class="num" id="8230312">255</span><span class="op" id="8230315">,</span>&nbsp;<span class="num" id="8230317">0</span><span class="op" id="8230318">,</span>&nbsp;<span class="num" id="8230320">255</span><span class="op" id="8230323">,</span>&nbsp;<span class="num" id="8230325">0</span><span class="op" id="8230326">)</span><span class="op" id="8230327">,</span>&nbsp;<span class="ident" id="8230329">IPv4</span><span class="op" id="8230333">(</span><span class="num" id="8230334">192</span><span class="op" id="8230337">,</span>&nbsp;<span class="num" id="8230339">0</span><span class="op" id="8230340">,</span>&nbsp;<span class="num" id="8230342">1</span><span class="op" id="8230343">,</span>&nbsp;<span class="num" id="8230345">0</span><span class="op" id="8230346">)</span><span class="op" id="8230347">}</span><span class="op" id="8230348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230351">{</span><span class="ident" id="8230352">ParseIP</span><span class="op" id="8230359">(</span><span class="string" id="8230360">&#34;2001:db8::1&#34;</span><span class="op" id="8230373">)</span><span class="op" id="8230374">,</span>&nbsp;<span class="ident" id="8230376">IPMask</span><span class="op" id="8230382">(</span><span class="ident" id="8230383">ParseIP</span><span class="op" id="8230390">(</span><span class="string" id="8230391">&#34;ffff:ff80::&#34;</span><span class="op" id="8230404">)</span><span class="op" id="8230405">)</span><span class="op" id="8230406">,</span>&nbsp;<span class="ident" id="8230408">ParseIP</span><span class="op" id="8230415">(</span><span class="string" id="8230416">&#34;2001:d80::&#34;</span><span class="op" id="8230428">)</span><span class="op" id="8230429">}</span><span class="op" id="8230430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230433">{</span><span class="ident" id="8230434">ParseIP</span><span class="op" id="8230441">(</span><span class="string" id="8230442">&#34;2001:db8::1&#34;</span><span class="op" id="8230455">)</span><span class="op" id="8230456">,</span>&nbsp;<span class="ident" id="8230458">IPMask</span><span class="op" id="8230464">(</span><span class="ident" id="8230465">ParseIP</span><span class="op" id="8230472">(</span><span class="string" id="8230473">&#34;f0f0:0f0f::&#34;</span><span class="op" id="8230486">)</span><span class="op" id="8230487">)</span><span class="op" id="8230488">,</span>&nbsp;<span class="ident" id="8230490">ParseIP</span><span class="op" id="8230497">(</span><span class="string" id="8230498">&#34;2000:d08::&#34;</span><span class="op" id="8230510">)</span><span class="op" id="8230511">}</span><span class="op" id="8230512">,</span><br>
<span class="lineno"></span><span class="op" id="8230514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="8230517">func</span>&nbsp;<span class="ident" id="8230522">TestIPMask</span><span class="op" id="8230532">(</span><span class="ident" id="8230533">t</span>&nbsp;<span class="op" id="8230535">*</span><span class="ident" id="8230536">testing</span><span class="op" id="8230543">.</span><span class="ident" id="8230544">T</span><span class="op" id="8230545">)</span>&nbsp;<span class="op" id="8230547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230550">for</span>&nbsp;<span class="ident" id="8230554">_</span><span class="op" id="8230555">,</span>&nbsp;<span class="ident" id="8230557">tt</span>&nbsp;<span class="op" id="8230560">:=</span>&nbsp;<span class="keyword" id="8230563">range</span>&nbsp;<span class="ident" id="8230569">ipMaskTests</span>&nbsp;<span class="op" id="8230581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230585">if</span>&nbsp;<span class="ident" id="8230588">out</span>&nbsp;<span class="op" id="8230592">:=</span>&nbsp;<span class="ident" id="8230595">tt</span><span class="op" id="8230597">.</span><span class="ident" id="8230598">in</span><span class="op" id="8230600">.</span><span class="ident" id="8230601">Mask</span><span class="op" id="8230605">(</span><span class="ident" id="8230606">tt</span><span class="op" id="8230608">.</span><span class="ident" id="8230609">mask</span><span class="op" id="8230613">)</span><span class="op" id="8230614">;</span>&nbsp;<span class="ident" id="8230616">out</span>&nbsp;<span class="op" id="8230620">==</span>&nbsp;<span class="ident" id="8230623">nil</span>&nbsp;<span class="op" id="8230627">||</span>&nbsp;<span class="op" id="8230630">!</span><span class="ident" id="8230631">tt</span><span class="op" id="8230633">.</span><span class="ident" id="8230634">out</span><span class="op" id="8230637">.</span><span class="ident" id="8230638">Equal</span><span class="op" id="8230643">(</span><span class="ident" id="8230644">out</span><span class="op" id="8230647">)</span>&nbsp;<span class="op" id="8230649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230654">t</span><span class="op" id="8230655">.</span><span class="ident" id="8230656">Errorf</span><span class="op" id="8230662">(</span><span class="string" id="8230663">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8230694">,</span>&nbsp;<span class="ident" id="8230696">tt</span><span class="op" id="8230698">.</span><span class="ident" id="8230699">in</span><span class="op" id="8230701">,</span>&nbsp;<span class="ident" id="8230703">tt</span><span class="op" id="8230705">.</span><span class="ident" id="8230706">mask</span><span class="op" id="8230710">,</span>&nbsp;<span class="ident" id="8230712">out</span><span class="op" id="8230715">,</span>&nbsp;<span class="ident" id="8230717">tt</span><span class="op" id="8230719">.</span><span class="ident" id="8230720">out</span><span class="op" id="8230723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230727">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230730">}</span><br>
<span class="lineno"></span><span class="op" id="8230732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8230735">var</span>&nbsp;<span class="ident" id="8230739">ipMaskStringTests</span>&nbsp;<span class="op" id="8230757">=</span>&nbsp;<span class="op" id="8230759">[</span><span class="op" id="8230760">]</span><span class="keyword" id="8230761">struct</span>&nbsp;<span class="op" id="8230768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230771">in</span>&nbsp;&nbsp;<span class="ident" id="8230775">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230783">out</span>&nbsp;<span class="builtintype" id="8230787">string</span><br>
<span class="lineno"></span><span class="op" id="8230794">}</span><span class="op" id="8230795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230798">{</span><span class="ident" id="8230799">IPv4Mask</span><span class="op" id="8230807">(</span><span class="num" id="8230808">255</span><span class="op" id="8230811">,</span>&nbsp;<span class="num" id="8230813">255</span><span class="op" id="8230816">,</span>&nbsp;<span class="num" id="8230818">255</span><span class="op" id="8230821">,</span>&nbsp;<span class="num" id="8230823">240</span><span class="op" id="8230826">)</span><span class="op" id="8230827">,</span>&nbsp;<span class="string" id="8230829">&#34;fffffff0&#34;</span><span class="op" id="8230839">}</span><span class="op" id="8230840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230843">{</span><span class="ident" id="8230844">IPv4Mask</span><span class="op" id="8230852">(</span><span class="num" id="8230853">255</span><span class="op" id="8230856">,</span>&nbsp;<span class="num" id="8230858">0</span><span class="op" id="8230859">,</span>&nbsp;<span class="num" id="8230861">128</span><span class="op" id="8230864">,</span>&nbsp;<span class="num" id="8230866">0</span><span class="op" id="8230867">)</span><span class="op" id="8230868">,</span>&nbsp;<span class="string" id="8230870">&#34;ff008000&#34;</span><span class="op" id="8230880">}</span><span class="op" id="8230881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230884">{</span><span class="ident" id="8230885">IPMask</span><span class="op" id="8230891">(</span><span class="ident" id="8230892">ParseIP</span><span class="op" id="8230899">(</span><span class="string" id="8230900">&#34;ffff:ff80::&#34;</span><span class="op" id="8230913">)</span><span class="op" id="8230914">)</span><span class="op" id="8230915">,</span>&nbsp;<span class="string" id="8230917">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="8230951">}</span><span class="op" id="8230952">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230955">{</span><span class="ident" id="8230956">IPMask</span><span class="op" id="8230962">(</span><span class="ident" id="8230963">ParseIP</span><span class="op" id="8230970">(</span><span class="string" id="8230971">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="8230990">)</span><span class="op" id="8230991">)</span><span class="op" id="8230992">,</span>&nbsp;<span class="string" id="8230994">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="8231028">}</span><span class="op" id="8231029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231032">{</span><span class="ident" id="8231033">nil</span><span class="op" id="8231036">,</span>&nbsp;<span class="string" id="8231038">&#34;&lt;nil&gt;&#34;</span><span class="op" id="8231045">}</span><span class="op" id="8231046">,</span><br>
<span class="lineno"></span><span class="op" id="8231048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231051">func</span>&nbsp;<span class="ident" id="8231056">TestIPMaskString</span><span class="op" id="8231072">(</span><span class="ident" id="8231073">t</span>&nbsp;<span class="op" id="8231075">*</span><span class="ident" id="8231076">testing</span><span class="op" id="8231083">.</span><span class="ident" id="8231084">T</span><span class="op" id="8231085">)</span>&nbsp;<span class="op" id="8231087">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231090">for</span>&nbsp;<span class="ident" id="8231094">_</span><span class="op" id="8231095">,</span>&nbsp;<span class="ident" id="8231097">tt</span>&nbsp;<span class="op" id="8231100">:=</span>&nbsp;<span class="keyword" id="8231103">range</span>&nbsp;<span class="ident" id="8231109">ipMaskStringTests</span>&nbsp;<span class="op" id="8231127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231131">if</span>&nbsp;<span class="ident" id="8231134">out</span>&nbsp;<span class="op" id="8231138">:=</span>&nbsp;<span class="ident" id="8231141">tt</span><span class="op" id="8231143">.</span><span class="ident" id="8231144">in</span><span class="op" id="8231146">.</span><span class="ident" id="8231147">String</span><span class="op" id="8231153">(</span><span class="op" id="8231154">)</span><span class="op" id="8231155">;</span>&nbsp;<span class="ident" id="8231157">out</span>&nbsp;<span class="op" id="8231161">!=</span>&nbsp;<span class="ident" id="8231164">tt</span><span class="op" id="8231166">.</span><span class="ident" id="8231167">out</span>&nbsp;<span class="op" id="8231171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231176">t</span><span class="op" id="8231177">.</span><span class="ident" id="8231178">Errorf</span><span class="op" id="8231184">(</span><span class="string" id="8231185">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8231218">,</span>&nbsp;<span class="ident" id="8231220">tt</span><span class="op" id="8231222">.</span><span class="ident" id="8231223">in</span><span class="op" id="8231225">,</span>&nbsp;<span class="ident" id="8231227">out</span><span class="op" id="8231230">,</span>&nbsp;<span class="ident" id="8231232">tt</span><span class="op" id="8231234">.</span><span class="ident" id="8231235">out</span><span class="op" id="8231238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231245">}</span><br>
<span class="lineno">150</span><span class="op" id="8231247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231250">func</span>&nbsp;<span class="ident" id="8231255">BenchmarkIPMaskString</span><span class="op" id="8231276">(</span><span class="ident" id="8231277">b</span>&nbsp;<span class="op" id="8231279">*</span><span class="ident" id="8231280">testing</span><span class="op" id="8231287">.</span><span class="ident" id="8231288">B</span><span class="op" id="8231289">)</span>&nbsp;<span class="op" id="8231291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231294">for</span>&nbsp;<span class="ident" id="8231298">i</span>&nbsp;<span class="op" id="8231300">:=</span>&nbsp;<span class="num" id="8231303">0</span><span class="op" id="8231304">;</span>&nbsp;<span class="ident" id="8231306">i</span>&nbsp;<span class="op" id="8231308">&lt;</span>&nbsp;<span class="ident" id="8231310">b</span><span class="op" id="8231311">.</span><span class="ident" id="8231312">N</span><span class="op" id="8231313">;</span>&nbsp;<span class="ident" id="8231315">i</span><span class="op" id="8231316">++</span>&nbsp;<span class="op" id="8231319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231323">for</span>&nbsp;<span class="ident" id="8231327">_</span><span class="op" id="8231328">,</span>&nbsp;<span class="ident" id="8231330">tt</span>&nbsp;<span class="op" id="8231333">:=</span>&nbsp;<span class="keyword" id="8231336">range</span>&nbsp;<span class="ident" id="8231342">ipMaskStringTests</span>&nbsp;<span class="op" id="8231360">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231365">tt</span><span class="op" id="8231367">.</span><span class="ident" id="8231368">in</span><span class="op" id="8231370">.</span><span class="ident" id="8231371">String</span><span class="op" id="8231377">(</span><span class="op" id="8231378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231385">}</span><br>
<span class="lineno"></span><span class="op" id="8231387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8231390">var</span>&nbsp;<span class="ident" id="8231394">parseCIDRTests</span>&nbsp;<span class="op" id="8231409">=</span>&nbsp;<span class="op" id="8231411">[</span><span class="op" id="8231412">]</span><span class="keyword" id="8231413">struct</span>&nbsp;<span class="op" id="8231420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231423">in</span>&nbsp;&nbsp;<span class="builtintype" id="8231427">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231435">ip</span>&nbsp;&nbsp;<span class="ident" id="8231439">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231443">net</span>&nbsp;<span class="op" id="8231447">*</span><span class="ident" id="8231448">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231455">err</span>&nbsp;<span class="builtintype" id="8231459">error</span><br>
<span class="lineno">165</span><span class="op" id="8231465">}</span><span class="op" id="8231466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231469">{</span><span class="string" id="8231470">&#34;135.104.0.0/32&#34;</span><span class="op" id="8231486">,</span>&nbsp;<span class="ident" id="8231488">IPv4</span><span class="op" id="8231492">(</span><span class="num" id="8231493">135</span><span class="op" id="8231496">,</span>&nbsp;<span class="num" id="8231498">104</span><span class="op" id="8231501">,</span>&nbsp;<span class="num" id="8231503">0</span><span class="op" id="8231504">,</span>&nbsp;<span class="num" id="8231506">0</span><span class="op" id="8231507">)</span><span class="op" id="8231508">,</span>&nbsp;<span class="op" id="8231510">&amp;</span><span class="ident" id="8231511">IPNet</span><span class="op" id="8231516">{</span><span class="ident" id="8231517">IP</span><span class="op" id="8231519">:</span>&nbsp;<span class="ident" id="8231521">IPv4</span><span class="op" id="8231525">(</span><span class="num" id="8231526">135</span><span class="op" id="8231529">,</span>&nbsp;<span class="num" id="8231531">104</span><span class="op" id="8231534">,</span>&nbsp;<span class="num" id="8231536">0</span><span class="op" id="8231537">,</span>&nbsp;<span class="num" id="8231539">0</span><span class="op" id="8231540">)</span><span class="op" id="8231541">,</span>&nbsp;<span class="ident" id="8231543">Mask</span><span class="op" id="8231547">:</span>&nbsp;<span class="ident" id="8231549">IPv4Mask</span><span class="op" id="8231557">(</span><span class="num" id="8231558">255</span><span class="op" id="8231561">,</span>&nbsp;<span class="num" id="8231563">255</span><span class="op" id="8231566">,</span>&nbsp;<span class="num" id="8231568">255</span><span class="op" id="8231571">,</span>&nbsp;<span class="num" id="8231573">255</span><span class="op" id="8231576">)</span><span class="op" id="8231577">}</span><span class="op" id="8231578">,</span>&nbsp;<span class="ident" id="8231580">nil</span><span class="op" id="8231583">}</span><span class="op" id="8231584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231587">{</span><span class="string" id="8231588">&#34;0.0.0.0/24&#34;</span><span class="op" id="8231600">,</span>&nbsp;<span class="ident" id="8231602">IPv4</span><span class="op" id="8231606">(</span><span class="num" id="8231607">0</span><span class="op" id="8231608">,</span>&nbsp;<span class="num" id="8231610">0</span><span class="op" id="8231611">,</span>&nbsp;<span class="num" id="8231613">0</span><span class="op" id="8231614">,</span>&nbsp;<span class="num" id="8231616">0</span><span class="op" id="8231617">)</span><span class="op" id="8231618">,</span>&nbsp;<span class="op" id="8231620">&amp;</span><span class="ident" id="8231621">IPNet</span><span class="op" id="8231626">{</span><span class="ident" id="8231627">IP</span><span class="op" id="8231629">:</span>&nbsp;<span class="ident" id="8231631">IPv4</span><span class="op" id="8231635">(</span><span class="num" id="8231636">0</span><span class="op" id="8231637">,</span>&nbsp;<span class="num" id="8231639">0</span><span class="op" id="8231640">,</span>&nbsp;<span class="num" id="8231642">0</span><span class="op" id="8231643">,</span>&nbsp;<span class="num" id="8231645">0</span><span class="op" id="8231646">)</span><span class="op" id="8231647">,</span>&nbsp;<span class="ident" id="8231649">Mask</span><span class="op" id="8231653">:</span>&nbsp;<span class="ident" id="8231655">IPv4Mask</span><span class="op" id="8231663">(</span><span class="num" id="8231664">255</span><span class="op" id="8231667">,</span>&nbsp;<span class="num" id="8231669">255</span><span class="op" id="8231672">,</span>&nbsp;<span class="num" id="8231674">255</span><span class="op" id="8231677">,</span>&nbsp;<span class="num" id="8231679">0</span><span class="op" id="8231680">)</span><span class="op" id="8231681">}</span><span class="op" id="8231682">,</span>&nbsp;<span class="ident" id="8231684">nil</span><span class="op" id="8231687">}</span><span class="op" id="8231688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231691">{</span><span class="string" id="8231692">&#34;135.104.0.0/24&#34;</span><span class="op" id="8231708">,</span>&nbsp;<span class="ident" id="8231710">IPv4</span><span class="op" id="8231714">(</span><span class="num" id="8231715">135</span><span class="op" id="8231718">,</span>&nbsp;<span class="num" id="8231720">104</span><span class="op" id="8231723">,</span>&nbsp;<span class="num" id="8231725">0</span><span class="op" id="8231726">,</span>&nbsp;<span class="num" id="8231728">0</span><span class="op" id="8231729">)</span><span class="op" id="8231730">,</span>&nbsp;<span class="op" id="8231732">&amp;</span><span class="ident" id="8231733">IPNet</span><span class="op" id="8231738">{</span><span class="ident" id="8231739">IP</span><span class="op" id="8231741">:</span>&nbsp;<span class="ident" id="8231743">IPv4</span><span class="op" id="8231747">(</span><span class="num" id="8231748">135</span><span class="op" id="8231751">,</span>&nbsp;<span class="num" id="8231753">104</span><span class="op" id="8231756">,</span>&nbsp;<span class="num" id="8231758">0</span><span class="op" id="8231759">,</span>&nbsp;<span class="num" id="8231761">0</span><span class="op" id="8231762">)</span><span class="op" id="8231763">,</span>&nbsp;<span class="ident" id="8231765">Mask</span><span class="op" id="8231769">:</span>&nbsp;<span class="ident" id="8231771">IPv4Mask</span><span class="op" id="8231779">(</span><span class="num" id="8231780">255</span><span class="op" id="8231783">,</span>&nbsp;<span class="num" id="8231785">255</span><span class="op" id="8231788">,</span>&nbsp;<span class="num" id="8231790">255</span><span class="op" id="8231793">,</span>&nbsp;<span class="num" id="8231795">0</span><span class="op" id="8231796">)</span><span class="op" id="8231797">}</span><span class="op" id="8231798">,</span>&nbsp;<span class="ident" id="8231800">nil</span><span class="op" id="8231803">}</span><span class="op" id="8231804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231807">{</span><span class="string" id="8231808">&#34;135.104.0.1/32&#34;</span><span class="op" id="8231824">,</span>&nbsp;<span class="ident" id="8231826">IPv4</span><span class="op" id="8231830">(</span><span class="num" id="8231831">135</span><span class="op" id="8231834">,</span>&nbsp;<span class="num" id="8231836">104</span><span class="op" id="8231839">,</span>&nbsp;<span class="num" id="8231841">0</span><span class="op" id="8231842">,</span>&nbsp;<span class="num" id="8231844">1</span><span class="op" id="8231845">)</span><span class="op" id="8231846">,</span>&nbsp;<span class="op" id="8231848">&amp;</span><span class="ident" id="8231849">IPNet</span><span class="op" id="8231854">{</span><span class="ident" id="8231855">IP</span><span class="op" id="8231857">:</span>&nbsp;<span class="ident" id="8231859">IPv4</span><span class="op" id="8231863">(</span><span class="num" id="8231864">135</span><span class="op" id="8231867">,</span>&nbsp;<span class="num" id="8231869">104</span><span class="op" id="8231872">,</span>&nbsp;<span class="num" id="8231874">0</span><span class="op" id="8231875">,</span>&nbsp;<span class="num" id="8231877">1</span><span class="op" id="8231878">)</span><span class="op" id="8231879">,</span>&nbsp;<span class="ident" id="8231881">Mask</span><span class="op" id="8231885">:</span>&nbsp;<span class="ident" id="8231887">IPv4Mask</span><span class="op" id="8231895">(</span><span class="num" id="8231896">255</span><span class="op" id="8231899">,</span>&nbsp;<span class="num" id="8231901">255</span><span class="op" id="8231904">,</span>&nbsp;<span class="num" id="8231906">255</span><span class="op" id="8231909">,</span>&nbsp;<span class="num" id="8231911">255</span><span class="op" id="8231914">)</span><span class="op" id="8231915">}</span><span class="op" id="8231916">,</span>&nbsp;<span class="ident" id="8231918">nil</span><span class="op" id="8231921">}</span><span class="op" id="8231922">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231925">{</span><span class="string" id="8231926">&#34;135.104.0.1/24&#34;</span><span class="op" id="8231942">,</span>&nbsp;<span class="ident" id="8231944">IPv4</span><span class="op" id="8231948">(</span><span class="num" id="8231949">135</span><span class="op" id="8231952">,</span>&nbsp;<span class="num" id="8231954">104</span><span class="op" id="8231957">,</span>&nbsp;<span class="num" id="8231959">0</span><span class="op" id="8231960">,</span>&nbsp;<span class="num" id="8231962">1</span><span class="op" id="8231963">)</span><span class="op" id="8231964">,</span>&nbsp;<span class="op" id="8231966">&amp;</span><span class="ident" id="8231967">IPNet</span><span class="op" id="8231972">{</span><span class="ident" id="8231973">IP</span><span class="op" id="8231975">:</span>&nbsp;<span class="ident" id="8231977">IPv4</span><span class="op" id="8231981">(</span><span class="num" id="8231982">135</span><span class="op" id="8231985">,</span>&nbsp;<span class="num" id="8231987">104</span><span class="op" id="8231990">,</span>&nbsp;<span class="num" id="8231992">0</span><span class="op" id="8231993">,</span>&nbsp;<span class="num" id="8231995">0</span><span class="op" id="8231996">)</span><span class="op" id="8231997">,</span>&nbsp;<span class="ident" id="8231999">Mask</span><span class="op" id="8232003">:</span>&nbsp;<span class="ident" id="8232005">IPv4Mask</span><span class="op" id="8232013">(</span><span class="num" id="8232014">255</span><span class="op" id="8232017">,</span>&nbsp;<span class="num" id="8232019">255</span><span class="op" id="8232022">,</span>&nbsp;<span class="num" id="8232024">255</span><span class="op" id="8232027">,</span>&nbsp;<span class="num" id="8232029">0</span><span class="op" id="8232030">)</span><span class="op" id="8232031">}</span><span class="op" id="8232032">,</span>&nbsp;<span class="ident" id="8232034">nil</span><span class="op" id="8232037">}</span><span class="op" id="8232038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232041">{</span><span class="string" id="8232042">&#34;::1/128&#34;</span><span class="op" id="8232051">,</span>&nbsp;<span class="ident" id="8232053">ParseIP</span><span class="op" id="8232060">(</span><span class="string" id="8232061">&#34;::1&#34;</span><span class="op" id="8232066">)</span><span class="op" id="8232067">,</span>&nbsp;<span class="op" id="8232069">&amp;</span><span class="ident" id="8232070">IPNet</span><span class="op" id="8232075">{</span><span class="ident" id="8232076">IP</span><span class="op" id="8232078">:</span>&nbsp;<span class="ident" id="8232080">ParseIP</span><span class="op" id="8232087">(</span><span class="string" id="8232088">&#34;::1&#34;</span><span class="op" id="8232093">)</span><span class="op" id="8232094">,</span>&nbsp;<span class="ident" id="8232096">Mask</span><span class="op" id="8232100">:</span>&nbsp;<span class="ident" id="8232102">IPMask</span><span class="op" id="8232108">(</span><span class="ident" id="8232109">ParseIP</span><span class="op" id="8232116">(</span><span class="string" id="8232117">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="8232158">)</span><span class="op" id="8232159">)</span><span class="op" id="8232160">}</span><span class="op" id="8232161">,</span>&nbsp;<span class="ident" id="8232163">nil</span><span class="op" id="8232166">}</span><span class="op" id="8232167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232170">{</span><span class="string" id="8232171">&#34;abcd:2345::/127&#34;</span><span class="op" id="8232188">,</span>&nbsp;<span class="ident" id="8232190">ParseIP</span><span class="op" id="8232197">(</span><span class="string" id="8232198">&#34;abcd:2345::&#34;</span><span class="op" id="8232211">)</span><span class="op" id="8232212">,</span>&nbsp;<span class="op" id="8232214">&amp;</span><span class="ident" id="8232215">IPNet</span><span class="op" id="8232220">{</span><span class="ident" id="8232221">IP</span><span class="op" id="8232223">:</span>&nbsp;<span class="ident" id="8232225">ParseIP</span><span class="op" id="8232232">(</span><span class="string" id="8232233">&#34;abcd:2345::&#34;</span><span class="op" id="8232246">)</span><span class="op" id="8232247">,</span>&nbsp;<span class="ident" id="8232249">Mask</span><span class="op" id="8232253">:</span>&nbsp;<span class="ident" id="8232255">IPMask</span><span class="op" id="8232261">(</span><span class="ident" id="8232262">ParseIP</span><span class="op" id="8232269">(</span><span class="string" id="8232270">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="8232311">)</span><span class="op" id="8232312">)</span><span class="op" id="8232313">}</span><span class="op" id="8232314">,</span>&nbsp;<span class="ident" id="8232316">nil</span><span class="op" id="8232319">}</span><span class="op" id="8232320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232323">{</span><span class="string" id="8232324">&#34;abcd:2345::/65&#34;</span><span class="op" id="8232340">,</span>&nbsp;<span class="ident" id="8232342">ParseIP</span><span class="op" id="8232349">(</span><span class="string" id="8232350">&#34;abcd:2345::&#34;</span><span class="op" id="8232363">)</span><span class="op" id="8232364">,</span>&nbsp;<span class="op" id="8232366">&amp;</span><span class="ident" id="8232367">IPNet</span><span class="op" id="8232372">{</span><span class="ident" id="8232373">IP</span><span class="op" id="8232375">:</span>&nbsp;<span class="ident" id="8232377">ParseIP</span><span class="op" id="8232384">(</span><span class="string" id="8232385">&#34;abcd:2345::&#34;</span><span class="op" id="8232398">)</span><span class="op" id="8232399">,</span>&nbsp;<span class="ident" id="8232401">Mask</span><span class="op" id="8232405">:</span>&nbsp;<span class="ident" id="8232407">IPMask</span><span class="op" id="8232413">(</span><span class="ident" id="8232414">ParseIP</span><span class="op" id="8232421">(</span><span class="string" id="8232422">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="8232450">)</span><span class="op" id="8232451">)</span><span class="op" id="8232452">}</span><span class="op" id="8232453">,</span>&nbsp;<span class="ident" id="8232455">nil</span><span class="op" id="8232458">}</span><span class="op" id="8232459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232462">{</span><span class="string" id="8232463">&#34;abcd:2345::/64&#34;</span><span class="op" id="8232479">,</span>&nbsp;<span class="ident" id="8232481">ParseIP</span><span class="op" id="8232488">(</span><span class="string" id="8232489">&#34;abcd:2345::&#34;</span><span class="op" id="8232502">)</span><span class="op" id="8232503">,</span>&nbsp;<span class="op" id="8232505">&amp;</span><span class="ident" id="8232506">IPNet</span><span class="op" id="8232511">{</span><span class="ident" id="8232512">IP</span><span class="op" id="8232514">:</span>&nbsp;<span class="ident" id="8232516">ParseIP</span><span class="op" id="8232523">(</span><span class="string" id="8232524">&#34;abcd:2345::&#34;</span><span class="op" id="8232537">)</span><span class="op" id="8232538">,</span>&nbsp;<span class="ident" id="8232540">Mask</span><span class="op" id="8232544">:</span>&nbsp;<span class="ident" id="8232546">IPMask</span><span class="op" id="8232552">(</span><span class="ident" id="8232553">ParseIP</span><span class="op" id="8232560">(</span><span class="string" id="8232561">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="8232584">)</span><span class="op" id="8232585">)</span><span class="op" id="8232586">}</span><span class="op" id="8232587">,</span>&nbsp;<span class="ident" id="8232589">nil</span><span class="op" id="8232592">}</span><span class="op" id="8232593">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232596">{</span><span class="string" id="8232597">&#34;abcd:2345::/63&#34;</span><span class="op" id="8232613">,</span>&nbsp;<span class="ident" id="8232615">ParseIP</span><span class="op" id="8232622">(</span><span class="string" id="8232623">&#34;abcd:2345::&#34;</span><span class="op" id="8232636">)</span><span class="op" id="8232637">,</span>&nbsp;<span class="op" id="8232639">&amp;</span><span class="ident" id="8232640">IPNet</span><span class="op" id="8232645">{</span><span class="ident" id="8232646">IP</span><span class="op" id="8232648">:</span>&nbsp;<span class="ident" id="8232650">ParseIP</span><span class="op" id="8232657">(</span><span class="string" id="8232658">&#34;abcd:2345::&#34;</span><span class="op" id="8232671">)</span><span class="op" id="8232672">,</span>&nbsp;<span class="ident" id="8232674">Mask</span><span class="op" id="8232678">:</span>&nbsp;<span class="ident" id="8232680">IPMask</span><span class="op" id="8232686">(</span><span class="ident" id="8232687">ParseIP</span><span class="op" id="8232694">(</span><span class="string" id="8232695">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="8232718">)</span><span class="op" id="8232719">)</span><span class="op" id="8232720">}</span><span class="op" id="8232721">,</span>&nbsp;<span class="ident" id="8232723">nil</span><span class="op" id="8232726">}</span><span class="op" id="8232727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232730">{</span><span class="string" id="8232731">&#34;abcd:2345::/33&#34;</span><span class="op" id="8232747">,</span>&nbsp;<span class="ident" id="8232749">ParseIP</span><span class="op" id="8232756">(</span><span class="string" id="8232757">&#34;abcd:2345::&#34;</span><span class="op" id="8232770">)</span><span class="op" id="8232771">,</span>&nbsp;<span class="op" id="8232773">&amp;</span><span class="ident" id="8232774">IPNet</span><span class="op" id="8232779">{</span><span class="ident" id="8232780">IP</span><span class="op" id="8232782">:</span>&nbsp;<span class="ident" id="8232784">ParseIP</span><span class="op" id="8232791">(</span><span class="string" id="8232792">&#34;abcd:2345::&#34;</span><span class="op" id="8232805">)</span><span class="op" id="8232806">,</span>&nbsp;<span class="ident" id="8232808">Mask</span><span class="op" id="8232812">:</span>&nbsp;<span class="ident" id="8232814">IPMask</span><span class="op" id="8232820">(</span><span class="ident" id="8232821">ParseIP</span><span class="op" id="8232828">(</span><span class="string" id="8232829">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="8232847">)</span><span class="op" id="8232848">)</span><span class="op" id="8232849">}</span><span class="op" id="8232850">,</span>&nbsp;<span class="ident" id="8232852">nil</span><span class="op" id="8232855">}</span><span class="op" id="8232856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232859">{</span><span class="string" id="8232860">&#34;abcd:2345::/32&#34;</span><span class="op" id="8232876">,</span>&nbsp;<span class="ident" id="8232878">ParseIP</span><span class="op" id="8232885">(</span><span class="string" id="8232886">&#34;abcd:2345::&#34;</span><span class="op" id="8232899">)</span><span class="op" id="8232900">,</span>&nbsp;<span class="op" id="8232902">&amp;</span><span class="ident" id="8232903">IPNet</span><span class="op" id="8232908">{</span><span class="ident" id="8232909">IP</span><span class="op" id="8232911">:</span>&nbsp;<span class="ident" id="8232913">ParseIP</span><span class="op" id="8232920">(</span><span class="string" id="8232921">&#34;abcd:2345::&#34;</span><span class="op" id="8232934">)</span><span class="op" id="8232935">,</span>&nbsp;<span class="ident" id="8232937">Mask</span><span class="op" id="8232941">:</span>&nbsp;<span class="ident" id="8232943">IPMask</span><span class="op" id="8232949">(</span><span class="ident" id="8232950">ParseIP</span><span class="op" id="8232957">(</span><span class="string" id="8232958">&#34;ffff:ffff::&#34;</span><span class="op" id="8232971">)</span><span class="op" id="8232972">)</span><span class="op" id="8232973">}</span><span class="op" id="8232974">,</span>&nbsp;<span class="ident" id="8232976">nil</span><span class="op" id="8232979">}</span><span class="op" id="8232980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232983">{</span><span class="string" id="8232984">&#34;abcd:2344::/31&#34;</span><span class="op" id="8233000">,</span>&nbsp;<span class="ident" id="8233002">ParseIP</span><span class="op" id="8233009">(</span><span class="string" id="8233010">&#34;abcd:2344::&#34;</span><span class="op" id="8233023">)</span><span class="op" id="8233024">,</span>&nbsp;<span class="op" id="8233026">&amp;</span><span class="ident" id="8233027">IPNet</span><span class="op" id="8233032">{</span><span class="ident" id="8233033">IP</span><span class="op" id="8233035">:</span>&nbsp;<span class="ident" id="8233037">ParseIP</span><span class="op" id="8233044">(</span><span class="string" id="8233045">&#34;abcd:2344::&#34;</span><span class="op" id="8233058">)</span><span class="op" id="8233059">,</span>&nbsp;<span class="ident" id="8233061">Mask</span><span class="op" id="8233065">:</span>&nbsp;<span class="ident" id="8233067">IPMask</span><span class="op" id="8233073">(</span><span class="ident" id="8233074">ParseIP</span><span class="op" id="8233081">(</span><span class="string" id="8233082">&#34;ffff:fffe::&#34;</span><span class="op" id="8233095">)</span><span class="op" id="8233096">)</span><span class="op" id="8233097">}</span><span class="op" id="8233098">,</span>&nbsp;<span class="ident" id="8233100">nil</span><span class="op" id="8233103">}</span><span class="op" id="8233104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233107">{</span><span class="string" id="8233108">&#34;abcd:2300::/24&#34;</span><span class="op" id="8233124">,</span>&nbsp;<span class="ident" id="8233126">ParseIP</span><span class="op" id="8233133">(</span><span class="string" id="8233134">&#34;abcd:2300::&#34;</span><span class="op" id="8233147">)</span><span class="op" id="8233148">,</span>&nbsp;<span class="op" id="8233150">&amp;</span><span class="ident" id="8233151">IPNet</span><span class="op" id="8233156">{</span><span class="ident" id="8233157">IP</span><span class="op" id="8233159">:</span>&nbsp;<span class="ident" id="8233161">ParseIP</span><span class="op" id="8233168">(</span><span class="string" id="8233169">&#34;abcd:2300::&#34;</span><span class="op" id="8233182">)</span><span class="op" id="8233183">,</span>&nbsp;<span class="ident" id="8233185">Mask</span><span class="op" id="8233189">:</span>&nbsp;<span class="ident" id="8233191">IPMask</span><span class="op" id="8233197">(</span><span class="ident" id="8233198">ParseIP</span><span class="op" id="8233205">(</span><span class="string" id="8233206">&#34;ffff:ff00::&#34;</span><span class="op" id="8233219">)</span><span class="op" id="8233220">)</span><span class="op" id="8233221">}</span><span class="op" id="8233222">,</span>&nbsp;<span class="ident" id="8233224">nil</span><span class="op" id="8233227">}</span><span class="op" id="8233228">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233231">{</span><span class="string" id="8233232">&#34;abcd:2345::/24&#34;</span><span class="op" id="8233248">,</span>&nbsp;<span class="ident" id="8233250">ParseIP</span><span class="op" id="8233257">(</span><span class="string" id="8233258">&#34;abcd:2345::&#34;</span><span class="op" id="8233271">)</span><span class="op" id="8233272">,</span>&nbsp;<span class="op" id="8233274">&amp;</span><span class="ident" id="8233275">IPNet</span><span class="op" id="8233280">{</span><span class="ident" id="8233281">IP</span><span class="op" id="8233283">:</span>&nbsp;<span class="ident" id="8233285">ParseIP</span><span class="op" id="8233292">(</span><span class="string" id="8233293">&#34;abcd:2300::&#34;</span><span class="op" id="8233306">)</span><span class="op" id="8233307">,</span>&nbsp;<span class="ident" id="8233309">Mask</span><span class="op" id="8233313">:</span>&nbsp;<span class="ident" id="8233315">IPMask</span><span class="op" id="8233321">(</span><span class="ident" id="8233322">ParseIP</span><span class="op" id="8233329">(</span><span class="string" id="8233330">&#34;ffff:ff00::&#34;</span><span class="op" id="8233343">)</span><span class="op" id="8233344">)</span><span class="op" id="8233345">}</span><span class="op" id="8233346">,</span>&nbsp;<span class="ident" id="8233348">nil</span><span class="op" id="8233351">}</span><span class="op" id="8233352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233355">{</span><span class="string" id="8233356">&#34;2001:DB8::/48&#34;</span><span class="op" id="8233371">,</span>&nbsp;<span class="ident" id="8233373">ParseIP</span><span class="op" id="8233380">(</span><span class="string" id="8233381">&#34;2001:DB8::&#34;</span><span class="op" id="8233393">)</span><span class="op" id="8233394">,</span>&nbsp;<span class="op" id="8233396">&amp;</span><span class="ident" id="8233397">IPNet</span><span class="op" id="8233402">{</span><span class="ident" id="8233403">IP</span><span class="op" id="8233405">:</span>&nbsp;<span class="ident" id="8233407">ParseIP</span><span class="op" id="8233414">(</span><span class="string" id="8233415">&#34;2001:DB8::&#34;</span><span class="op" id="8233427">)</span><span class="op" id="8233428">,</span>&nbsp;<span class="ident" id="8233430">Mask</span><span class="op" id="8233434">:</span>&nbsp;<span class="ident" id="8233436">IPMask</span><span class="op" id="8233442">(</span><span class="ident" id="8233443">ParseIP</span><span class="op" id="8233450">(</span><span class="string" id="8233451">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="8233469">)</span><span class="op" id="8233470">)</span><span class="op" id="8233471">}</span><span class="op" id="8233472">,</span>&nbsp;<span class="ident" id="8233474">nil</span><span class="op" id="8233477">}</span><span class="op" id="8233478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233481">{</span><span class="string" id="8233482">&#34;2001:DB8::1/48&#34;</span><span class="op" id="8233498">,</span>&nbsp;<span class="ident" id="8233500">ParseIP</span><span class="op" id="8233507">(</span><span class="string" id="8233508">&#34;2001:DB8::1&#34;</span><span class="op" id="8233521">)</span><span class="op" id="8233522">,</span>&nbsp;<span class="op" id="8233524">&amp;</span><span class="ident" id="8233525">IPNet</span><span class="op" id="8233530">{</span><span class="ident" id="8233531">IP</span><span class="op" id="8233533">:</span>&nbsp;<span class="ident" id="8233535">ParseIP</span><span class="op" id="8233542">(</span><span class="string" id="8233543">&#34;2001:DB8::&#34;</span><span class="op" id="8233555">)</span><span class="op" id="8233556">,</span>&nbsp;<span class="ident" id="8233558">Mask</span><span class="op" id="8233562">:</span>&nbsp;<span class="ident" id="8233564">IPMask</span><span class="op" id="8233570">(</span><span class="ident" id="8233571">ParseIP</span><span class="op" id="8233578">(</span><span class="string" id="8233579">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="8233597">)</span><span class="op" id="8233598">)</span><span class="op" id="8233599">}</span><span class="op" id="8233600">,</span>&nbsp;<span class="ident" id="8233602">nil</span><span class="op" id="8233605">}</span><span class="op" id="8233606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233609">{</span><span class="string" id="8233610">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="8233637">,</span>&nbsp;<span class="ident" id="8233639">nil</span><span class="op" id="8233642">,</span>&nbsp;<span class="ident" id="8233644">nil</span><span class="op" id="8233647">,</span>&nbsp;<span class="op" id="8233649">&amp;</span><span class="ident" id="8233650">ParseError</span><span class="op" id="8233660">{</span><span class="string" id="8233661">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8233675">,</span>&nbsp;<span class="string" id="8233677">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="8233704">}</span><span class="op" id="8233705">}</span><span class="op" id="8233706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233709">{</span><span class="string" id="8233710">&#34;192.168.1.1/35&#34;</span><span class="op" id="8233726">,</span>&nbsp;<span class="ident" id="8233728">nil</span><span class="op" id="8233731">,</span>&nbsp;<span class="ident" id="8233733">nil</span><span class="op" id="8233736">,</span>&nbsp;<span class="op" id="8233738">&amp;</span><span class="ident" id="8233739">ParseError</span><span class="op" id="8233749">{</span><span class="string" id="8233750">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8233764">,</span>&nbsp;<span class="string" id="8233766">&#34;192.168.1.1/35&#34;</span><span class="op" id="8233782">}</span><span class="op" id="8233783">}</span><span class="op" id="8233784">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233787">{</span><span class="string" id="8233788">&#34;2001:db8::1/-1&#34;</span><span class="op" id="8233804">,</span>&nbsp;<span class="ident" id="8233806">nil</span><span class="op" id="8233809">,</span>&nbsp;<span class="ident" id="8233811">nil</span><span class="op" id="8233814">,</span>&nbsp;<span class="op" id="8233816">&amp;</span><span class="ident" id="8233817">ParseError</span><span class="op" id="8233827">{</span><span class="string" id="8233828">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8233842">,</span>&nbsp;<span class="string" id="8233844">&#34;2001:db8::1/-1&#34;</span><span class="op" id="8233860">}</span><span class="op" id="8233861">}</span><span class="op" id="8233862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233865">{</span><span class="string" id="8233866">&#34;&#34;</span><span class="op" id="8233868">,</span>&nbsp;<span class="ident" id="8233870">nil</span><span class="op" id="8233873">,</span>&nbsp;<span class="ident" id="8233875">nil</span><span class="op" id="8233878">,</span>&nbsp;<span class="op" id="8233880">&amp;</span><span class="ident" id="8233881">ParseError</span><span class="op" id="8233891">{</span><span class="string" id="8233892">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8233906">,</span>&nbsp;<span class="string" id="8233908">&#34;&#34;</span><span class="op" id="8233910">}</span><span class="op" id="8233911">}</span><span class="op" id="8233912">,</span><br>
<span class="lineno"></span><span class="op" id="8233914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233917">func</span>&nbsp;<span class="ident" id="8233922">TestParseCIDR</span><span class="op" id="8233935">(</span><span class="ident" id="8233936">t</span>&nbsp;<span class="op" id="8233938">*</span><span class="ident" id="8233939">testing</span><span class="op" id="8233946">.</span><span class="ident" id="8233947">T</span><span class="op" id="8233948">)</span>&nbsp;<span class="op" id="8233950">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233953">for</span>&nbsp;<span class="ident" id="8233957">_</span><span class="op" id="8233958">,</span>&nbsp;<span class="ident" id="8233960">tt</span>&nbsp;<span class="op" id="8233963">:=</span>&nbsp;<span class="keyword" id="8233966">range</span>&nbsp;<span class="ident" id="8233972">parseCIDRTests</span>&nbsp;<span class="op" id="8233987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233991">ip</span><span class="op" id="8233993">,</span>&nbsp;<span class="ident" id="8233995">net</span><span class="op" id="8233998">,</span>&nbsp;<span class="ident" id="8234000">err</span>&nbsp;<span class="op" id="8234004">:=</span>&nbsp;<span class="ident" id="8234007">ParseCIDR</span><span class="op" id="8234016">(</span><span class="ident" id="8234017">tt</span><span class="op" id="8234019">.</span><span class="ident" id="8234020">in</span><span class="op" id="8234022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8234026">if</span>&nbsp;<span class="op" id="8234029">!</span><span class="ident" id="8234030">reflect</span><span class="op" id="8234037">.</span><span class="ident" id="8234038">DeepEqual</span><span class="op" id="8234047">(</span><span class="ident" id="8234048">err</span><span class="op" id="8234051">,</span>&nbsp;<span class="ident" id="8234053">tt</span><span class="op" id="8234055">.</span><span class="ident" id="8234056">err</span><span class="op" id="8234059">)</span>&nbsp;<span class="op" id="8234061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234066">t</span><span class="op" id="8234067">.</span><span class="ident" id="8234068">Errorf</span><span class="op" id="8234074">(</span><span class="string" id="8234075">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8234112">,</span>&nbsp;<span class="ident" id="8234114">tt</span><span class="op" id="8234116">.</span><span class="ident" id="8234117">in</span><span class="op" id="8234119">,</span>&nbsp;<span class="ident" id="8234121">ip</span><span class="op" id="8234123">,</span>&nbsp;<span class="ident" id="8234125">net</span><span class="op" id="8234128">,</span>&nbsp;<span class="ident" id="8234130">tt</span><span class="op" id="8234132">.</span><span class="ident" id="8234133">ip</span><span class="op" id="8234135">,</span>&nbsp;<span class="ident" id="8234137">tt</span><span class="op" id="8234139">.</span><span class="ident" id="8234140">net</span><span class="op" id="8234143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234147">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8234151">if</span>&nbsp;<span class="ident" id="8234154">err</span>&nbsp;<span class="op" id="8234158">==</span>&nbsp;<span class="ident" id="8234161">nil</span>&nbsp;<span class="op" id="8234165">&amp;&amp;</span>&nbsp;<span class="op" id="8234168">(</span><span class="op" id="8234169">!</span><span class="ident" id="8234170">tt</span><span class="op" id="8234172">.</span><span class="ident" id="8234173">ip</span><span class="op" id="8234175">.</span><span class="ident" id="8234176">Equal</span><span class="op" id="8234181">(</span><span class="ident" id="8234182">ip</span><span class="op" id="8234184">)</span>&nbsp;<span class="op" id="8234186">||</span>&nbsp;<span class="op" id="8234189">!</span><span class="ident" id="8234190">tt</span><span class="op" id="8234192">.</span><span class="ident" id="8234193">net</span><span class="op" id="8234196">.</span><span class="ident" id="8234197">IP</span><span class="op" id="8234199">.</span><span class="ident" id="8234200">Equal</span><span class="op" id="8234205">(</span><span class="ident" id="8234206">net</span><span class="op" id="8234209">.</span><span class="ident" id="8234210">IP</span><span class="op" id="8234212">)</span>&nbsp;<span class="op" id="8234214">||</span>&nbsp;<span class="op" id="8234217">!</span><span class="ident" id="8234218">reflect</span><span class="op" id="8234225">.</span><span class="ident" id="8234226">DeepEqual</span><span class="op" id="8234235">(</span><span class="ident" id="8234236">net</span><span class="op" id="8234239">.</span><span class="ident" id="8234240">Mask</span><span class="op" id="8234244">,</span>&nbsp;<span class="ident" id="8234246">tt</span><span class="op" id="8234248">.</span><span class="ident" id="8234249">net</span><span class="op" id="8234252">.</span><span class="ident" id="8234253">Mask</span><span class="op" id="8234257">)</span><span class="op" id="8234258">)</span>&nbsp;<span class="op" id="8234260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234265">t</span><span class="op" id="8234266">.</span><span class="ident" id="8234267">Errorf</span><span class="op" id="8234273">(</span><span class="string" id="8234274">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="8234323">,</span>&nbsp;<span class="ident" id="8234325">tt</span><span class="op" id="8234327">.</span><span class="ident" id="8234328">in</span><span class="op" id="8234330">,</span>&nbsp;<span class="ident" id="8234332">ip</span><span class="op" id="8234334">,</span>&nbsp;<span class="ident" id="8234336">net</span><span class="op" id="8234339">.</span><span class="ident" id="8234340">IP</span><span class="op" id="8234342">,</span>&nbsp;<span class="ident" id="8234344">net</span><span class="op" id="8234347">.</span><span class="ident" id="8234348">Mask</span><span class="op" id="8234352">,</span>&nbsp;<span class="ident" id="8234354">tt</span><span class="op" id="8234356">.</span><span class="ident" id="8234357">ip</span><span class="op" id="8234359">,</span>&nbsp;<span class="ident" id="8234361">tt</span><span class="op" id="8234363">.</span><span class="ident" id="8234364">net</span><span class="op" id="8234367">.</span><span class="ident" id="8234368">IP</span><span class="op" id="8234370">,</span>&nbsp;<span class="ident" id="8234372">tt</span><span class="op" id="8234374">.</span><span class="ident" id="8234375">net</span><span class="op" id="8234378">.</span><span class="ident" id="8234379">Mask</span><span class="op" id="8234383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234390">}</span><br>
<span class="lineno"></span><span class="op" id="8234392">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8234395">var</span>&nbsp;<span class="ident" id="8234399">ipNetContainsTests</span>&nbsp;<span class="op" id="8234418">=</span>&nbsp;<span class="op" id="8234420">[</span><span class="op" id="8234421">]</span><span class="keyword" id="8234422">struct</span>&nbsp;<span class="op" id="8234429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234432">ip</span>&nbsp;&nbsp;<span class="ident" id="8234436">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234440">net</span>&nbsp;<span class="op" id="8234444">*</span><span class="ident" id="8234445">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234452">ok</span>&nbsp;&nbsp;<span class="builtintype" id="8234456">bool</span><br>
<span class="lineno">205</span><span class="op" id="8234461">}</span><span class="op" id="8234462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234465">{</span><span class="ident" id="8234466">IPv4</span><span class="op" id="8234470">(</span><span class="num" id="8234471">172</span><span class="op" id="8234474">,</span>&nbsp;<span class="num" id="8234476">16</span><span class="op" id="8234478">,</span>&nbsp;<span class="num" id="8234480">1</span><span class="op" id="8234481">,</span>&nbsp;<span class="num" id="8234483">1</span><span class="op" id="8234484">)</span><span class="op" id="8234485">,</span>&nbsp;<span class="op" id="8234487">&amp;</span><span class="ident" id="8234488">IPNet</span><span class="op" id="8234493">{</span><span class="ident" id="8234494">IP</span><span class="op" id="8234496">:</span>&nbsp;<span class="ident" id="8234498">IPv4</span><span class="op" id="8234502">(</span><span class="num" id="8234503">172</span><span class="op" id="8234506">,</span>&nbsp;<span class="num" id="8234508">16</span><span class="op" id="8234510">,</span>&nbsp;<span class="num" id="8234512">0</span><span class="op" id="8234513">,</span>&nbsp;<span class="num" id="8234515">0</span><span class="op" id="8234516">)</span><span class="op" id="8234517">,</span>&nbsp;<span class="ident" id="8234519">Mask</span><span class="op" id="8234523">:</span>&nbsp;<span class="ident" id="8234525">CIDRMask</span><span class="op" id="8234533">(</span><span class="num" id="8234534">12</span><span class="op" id="8234536">,</span>&nbsp;<span class="num" id="8234538">32</span><span class="op" id="8234540">)</span><span class="op" id="8234541">}</span><span class="op" id="8234542">,</span>&nbsp;<span class="builtintype" id="8234544">true</span><span class="op" id="8234548">}</span><span class="op" id="8234549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234552">{</span><span class="ident" id="8234553">IPv4</span><span class="op" id="8234557">(</span><span class="num" id="8234558">172</span><span class="op" id="8234561">,</span>&nbsp;<span class="num" id="8234563">24</span><span class="op" id="8234565">,</span>&nbsp;<span class="num" id="8234567">0</span><span class="op" id="8234568">,</span>&nbsp;<span class="num" id="8234570">1</span><span class="op" id="8234571">)</span><span class="op" id="8234572">,</span>&nbsp;<span class="op" id="8234574">&amp;</span><span class="ident" id="8234575">IPNet</span><span class="op" id="8234580">{</span><span class="ident" id="8234581">IP</span><span class="op" id="8234583">:</span>&nbsp;<span class="ident" id="8234585">IPv4</span><span class="op" id="8234589">(</span><span class="num" id="8234590">172</span><span class="op" id="8234593">,</span>&nbsp;<span class="num" id="8234595">16</span><span class="op" id="8234597">,</span>&nbsp;<span class="num" id="8234599">0</span><span class="op" id="8234600">,</span>&nbsp;<span class="num" id="8234602">0</span><span class="op" id="8234603">)</span><span class="op" id="8234604">,</span>&nbsp;<span class="ident" id="8234606">Mask</span><span class="op" id="8234610">:</span>&nbsp;<span class="ident" id="8234612">CIDRMask</span><span class="op" id="8234620">(</span><span class="num" id="8234621">13</span><span class="op" id="8234623">,</span>&nbsp;<span class="num" id="8234625">32</span><span class="op" id="8234627">)</span><span class="op" id="8234628">}</span><span class="op" id="8234629">,</span>&nbsp;<span class="builtintype" id="8234631">false</span><span class="op" id="8234636">}</span><span class="op" id="8234637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234640">{</span><span class="ident" id="8234641">IPv4</span><span class="op" id="8234645">(</span><span class="num" id="8234646">192</span><span class="op" id="8234649">,</span>&nbsp;<span class="num" id="8234651">168</span><span class="op" id="8234654">,</span>&nbsp;<span class="num" id="8234656">0</span><span class="op" id="8234657">,</span>&nbsp;<span class="num" id="8234659">3</span><span class="op" id="8234660">)</span><span class="op" id="8234661">,</span>&nbsp;<span class="op" id="8234663">&amp;</span><span class="ident" id="8234664">IPNet</span><span class="op" id="8234669">{</span><span class="ident" id="8234670">IP</span><span class="op" id="8234672">:</span>&nbsp;<span class="ident" id="8234674">IPv4</span><span class="op" id="8234678">(</span><span class="num" id="8234679">192</span><span class="op" id="8234682">,</span>&nbsp;<span class="num" id="8234684">168</span><span class="op" id="8234687">,</span>&nbsp;<span class="num" id="8234689">0</span><span class="op" id="8234690">,</span>&nbsp;<span class="num" id="8234692">0</span><span class="op" id="8234693">)</span><span class="op" id="8234694">,</span>&nbsp;<span class="ident" id="8234696">Mask</span><span class="op" id="8234700">:</span>&nbsp;<span class="ident" id="8234702">IPv4Mask</span><span class="op" id="8234710">(</span><span class="num" id="8234711">0</span><span class="op" id="8234712">,</span>&nbsp;<span class="num" id="8234714">0</span><span class="op" id="8234715">,</span>&nbsp;<span class="num" id="8234717">255</span><span class="op" id="8234720">,</span>&nbsp;<span class="num" id="8234722">252</span><span class="op" id="8234725">)</span><span class="op" id="8234726">}</span><span class="op" id="8234727">,</span>&nbsp;<span class="builtintype" id="8234729">true</span><span class="op" id="8234733">}</span><span class="op" id="8234734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234737">{</span><span class="ident" id="8234738">IPv4</span><span class="op" id="8234742">(</span><span class="num" id="8234743">192</span><span class="op" id="8234746">,</span>&nbsp;<span class="num" id="8234748">168</span><span class="op" id="8234751">,</span>&nbsp;<span class="num" id="8234753">0</span><span class="op" id="8234754">,</span>&nbsp;<span class="num" id="8234756">4</span><span class="op" id="8234757">)</span><span class="op" id="8234758">,</span>&nbsp;<span class="op" id="8234760">&amp;</span><span class="ident" id="8234761">IPNet</span><span class="op" id="8234766">{</span><span class="ident" id="8234767">IP</span><span class="op" id="8234769">:</span>&nbsp;<span class="ident" id="8234771">IPv4</span><span class="op" id="8234775">(</span><span class="num" id="8234776">192</span><span class="op" id="8234779">,</span>&nbsp;<span class="num" id="8234781">168</span><span class="op" id="8234784">,</span>&nbsp;<span class="num" id="8234786">0</span><span class="op" id="8234787">,</span>&nbsp;<span class="num" id="8234789">0</span><span class="op" id="8234790">)</span><span class="op" id="8234791">,</span>&nbsp;<span class="ident" id="8234793">Mask</span><span class="op" id="8234797">:</span>&nbsp;<span class="ident" id="8234799">IPv4Mask</span><span class="op" id="8234807">(</span><span class="num" id="8234808">0</span><span class="op" id="8234809">,</span>&nbsp;<span class="num" id="8234811">255</span><span class="op" id="8234814">,</span>&nbsp;<span class="num" id="8234816">0</span><span class="op" id="8234817">,</span>&nbsp;<span class="num" id="8234819">252</span><span class="op" id="8234822">)</span><span class="op" id="8234823">}</span><span class="op" id="8234824">,</span>&nbsp;<span class="builtintype" id="8234826">false</span><span class="op" id="8234831">}</span><span class="op" id="8234832">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234835">{</span><span class="ident" id="8234836">ParseIP</span><span class="op" id="8234843">(</span><span class="string" id="8234844">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8234861">)</span><span class="op" id="8234862">,</span>&nbsp;<span class="op" id="8234864">&amp;</span><span class="ident" id="8234865">IPNet</span><span class="op" id="8234870">{</span><span class="ident" id="8234871">IP</span><span class="op" id="8234873">:</span>&nbsp;<span class="ident" id="8234875">ParseIP</span><span class="op" id="8234882">(</span><span class="string" id="8234883">&#34;2001:db8:1::&#34;</span><span class="op" id="8234897">)</span><span class="op" id="8234898">,</span>&nbsp;<span class="ident" id="8234900">Mask</span><span class="op" id="8234904">:</span>&nbsp;<span class="ident" id="8234906">CIDRMask</span><span class="op" id="8234914">(</span><span class="num" id="8234915">47</span><span class="op" id="8234917">,</span>&nbsp;<span class="num" id="8234919">128</span><span class="op" id="8234922">)</span><span class="op" id="8234923">}</span><span class="op" id="8234924">,</span>&nbsp;<span class="builtintype" id="8234926">true</span><span class="op" id="8234930">}</span><span class="op" id="8234931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234934">{</span><span class="ident" id="8234935">ParseIP</span><span class="op" id="8234942">(</span><span class="string" id="8234943">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8234960">)</span><span class="op" id="8234961">,</span>&nbsp;<span class="op" id="8234963">&amp;</span><span class="ident" id="8234964">IPNet</span><span class="op" id="8234969">{</span><span class="ident" id="8234970">IP</span><span class="op" id="8234972">:</span>&nbsp;<span class="ident" id="8234974">ParseIP</span><span class="op" id="8234981">(</span><span class="string" id="8234982">&#34;2001:db8:2::&#34;</span><span class="op" id="8234996">)</span><span class="op" id="8234997">,</span>&nbsp;<span class="ident" id="8234999">Mask</span><span class="op" id="8235003">:</span>&nbsp;<span class="ident" id="8235005">CIDRMask</span><span class="op" id="8235013">(</span><span class="num" id="8235014">47</span><span class="op" id="8235016">,</span>&nbsp;<span class="num" id="8235018">128</span><span class="op" id="8235021">)</span><span class="op" id="8235022">}</span><span class="op" id="8235023">,</span>&nbsp;<span class="builtintype" id="8235025">false</span><span class="op" id="8235030">}</span><span class="op" id="8235031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235034">{</span><span class="ident" id="8235035">ParseIP</span><span class="op" id="8235042">(</span><span class="string" id="8235043">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8235060">)</span><span class="op" id="8235061">,</span>&nbsp;<span class="op" id="8235063">&amp;</span><span class="ident" id="8235064">IPNet</span><span class="op" id="8235069">{</span><span class="ident" id="8235070">IP</span><span class="op" id="8235072">:</span>&nbsp;<span class="ident" id="8235074">ParseIP</span><span class="op" id="8235081">(</span><span class="string" id="8235082">&#34;2001:db8:1::&#34;</span><span class="op" id="8235096">)</span><span class="op" id="8235097">,</span>&nbsp;<span class="ident" id="8235099">Mask</span><span class="op" id="8235103">:</span>&nbsp;<span class="ident" id="8235105">IPMask</span><span class="op" id="8235111">(</span><span class="ident" id="8235112">ParseIP</span><span class="op" id="8235119">(</span><span class="string" id="8235120">&#34;ffff:0:ffff::&#34;</span><span class="op" id="8235135">)</span><span class="op" id="8235136">)</span><span class="op" id="8235137">}</span><span class="op" id="8235138">,</span>&nbsp;<span class="builtintype" id="8235140">true</span><span class="op" id="8235144">}</span><span class="op" id="8235145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235148">{</span><span class="ident" id="8235149">ParseIP</span><span class="op" id="8235156">(</span><span class="string" id="8235157">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8235174">)</span><span class="op" id="8235175">,</span>&nbsp;<span class="op" id="8235177">&amp;</span><span class="ident" id="8235178">IPNet</span><span class="op" id="8235183">{</span><span class="ident" id="8235184">IP</span><span class="op" id="8235186">:</span>&nbsp;<span class="ident" id="8235188">ParseIP</span><span class="op" id="8235195">(</span><span class="string" id="8235196">&#34;2001:db8:1::&#34;</span><span class="op" id="8235210">)</span><span class="op" id="8235211">,</span>&nbsp;<span class="ident" id="8235213">Mask</span><span class="op" id="8235217">:</span>&nbsp;<span class="ident" id="8235219">IPMask</span><span class="op" id="8235225">(</span><span class="ident" id="8235226">ParseIP</span><span class="op" id="8235233">(</span><span class="string" id="8235234">&#34;0:0:0:ffff::&#34;</span><span class="op" id="8235248">)</span><span class="op" id="8235249">)</span><span class="op" id="8235250">}</span><span class="op" id="8235251">,</span>&nbsp;<span class="builtintype" id="8235253">false</span><span class="op" id="8235258">}</span><span class="op" id="8235259">,</span><br>
<span class="lineno"></span><span class="op" id="8235261">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="8235264">func</span>&nbsp;<span class="ident" id="8235269">TestIPNetContains</span><span class="op" id="8235286">(</span><span class="ident" id="8235287">t</span>&nbsp;<span class="op" id="8235289">*</span><span class="ident" id="8235290">testing</span><span class="op" id="8235297">.</span><span class="ident" id="8235298">T</span><span class="op" id="8235299">)</span>&nbsp;<span class="op" id="8235301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235304">for</span>&nbsp;<span class="ident" id="8235308">_</span><span class="op" id="8235309">,</span>&nbsp;<span class="ident" id="8235311">tt</span>&nbsp;<span class="op" id="8235314">:=</span>&nbsp;<span class="keyword" id="8235317">range</span>&nbsp;<span class="ident" id="8235323">ipNetContainsTests</span>&nbsp;<span class="op" id="8235342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235346">if</span>&nbsp;<span class="ident" id="8235349">ok</span>&nbsp;<span class="op" id="8235352">:=</span>&nbsp;<span class="ident" id="8235355">tt</span><span class="op" id="8235357">.</span><span class="ident" id="8235358">net</span><span class="op" id="8235361">.</span><span class="ident" id="8235362">Contains</span><span class="op" id="8235370">(</span><span class="ident" id="8235371">tt</span><span class="op" id="8235373">.</span><span class="ident" id="8235374">ip</span><span class="op" id="8235376">)</span><span class="op" id="8235377">;</span>&nbsp;<span class="ident" id="8235379">ok</span>&nbsp;<span class="op" id="8235382">!=</span>&nbsp;<span class="ident" id="8235385">tt</span><span class="op" id="8235387">.</span><span class="ident" id="8235388">ok</span>&nbsp;<span class="op" id="8235391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235396">t</span><span class="op" id="8235397">.</span><span class="ident" id="8235398">Errorf</span><span class="op" id="8235404">(</span><span class="string" id="8235405">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8235443">,</span>&nbsp;<span class="ident" id="8235445">tt</span><span class="op" id="8235447">.</span><span class="ident" id="8235448">net</span><span class="op" id="8235451">,</span>&nbsp;<span class="ident" id="8235453">tt</span><span class="op" id="8235455">.</span><span class="ident" id="8235456">ip</span><span class="op" id="8235458">,</span>&nbsp;<span class="ident" id="8235460">ok</span><span class="op" id="8235462">,</span>&nbsp;<span class="ident" id="8235464">tt</span><span class="op" id="8235466">.</span><span class="ident" id="8235467">ok</span><span class="op" id="8235469">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235476">}</span><br>
<span class="lineno"></span><span class="op" id="8235478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8235481">var</span>&nbsp;<span class="ident" id="8235485">ipNetStringTests</span>&nbsp;<span class="op" id="8235502">=</span>&nbsp;<span class="op" id="8235504">[</span><span class="op" id="8235505">]</span><span class="keyword" id="8235506">struct</span>&nbsp;<span class="op" id="8235513">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235516">in</span>&nbsp;&nbsp;<span class="op" id="8235520">*</span><span class="ident" id="8235521">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235528">out</span>&nbsp;<span class="builtintype" id="8235532">string</span><br>
<span class="lineno"></span><span class="op" id="8235539">}</span><span class="op" id="8235540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235543">{</span><span class="op" id="8235544">&amp;</span><span class="ident" id="8235545">IPNet</span><span class="op" id="8235550">{</span><span class="ident" id="8235551">IP</span><span class="op" id="8235553">:</span>&nbsp;<span class="ident" id="8235555">IPv4</span><span class="op" id="8235559">(</span><span class="num" id="8235560">192</span><span class="op" id="8235563">,</span>&nbsp;<span class="num" id="8235565">168</span><span class="op" id="8235568">,</span>&nbsp;<span class="num" id="8235570">1</span><span class="op" id="8235571">,</span>&nbsp;<span class="num" id="8235573">0</span><span class="op" id="8235574">)</span><span class="op" id="8235575">,</span>&nbsp;<span class="ident" id="8235577">Mask</span><span class="op" id="8235581">:</span>&nbsp;<span class="ident" id="8235583">CIDRMask</span><span class="op" id="8235591">(</span><span class="num" id="8235592">26</span><span class="op" id="8235594">,</span>&nbsp;<span class="num" id="8235596">32</span><span class="op" id="8235598">)</span><span class="op" id="8235599">}</span><span class="op" id="8235600">,</span>&nbsp;<span class="string" id="8235602">&#34;192.168.1.0/26&#34;</span><span class="op" id="8235618">}</span><span class="op" id="8235619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235622">{</span><span class="op" id="8235623">&amp;</span><span class="ident" id="8235624">IPNet</span><span class="op" id="8235629">{</span><span class="ident" id="8235630">IP</span><span class="op" id="8235632">:</span>&nbsp;<span class="ident" id="8235634">IPv4</span><span class="op" id="8235638">(</span><span class="num" id="8235639">192</span><span class="op" id="8235642">,</span>&nbsp;<span class="num" id="8235644">168</span><span class="op" id="8235647">,</span>&nbsp;<span class="num" id="8235649">1</span><span class="op" id="8235650">,</span>&nbsp;<span class="num" id="8235652">0</span><span class="op" id="8235653">)</span><span class="op" id="8235654">,</span>&nbsp;<span class="ident" id="8235656">Mask</span><span class="op" id="8235660">:</span>&nbsp;<span class="ident" id="8235662">IPv4Mask</span><span class="op" id="8235670">(</span><span class="num" id="8235671">255</span><span class="op" id="8235674">,</span>&nbsp;<span class="num" id="8235676">0</span><span class="op" id="8235677">,</span>&nbsp;<span class="num" id="8235679">255</span><span class="op" id="8235682">,</span>&nbsp;<span class="num" id="8235684">0</span><span class="op" id="8235685">)</span><span class="op" id="8235686">}</span><span class="op" id="8235687">,</span>&nbsp;<span class="string" id="8235689">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="8235711">}</span><span class="op" id="8235712">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235715">{</span><span class="op" id="8235716">&amp;</span><span class="ident" id="8235717">IPNet</span><span class="op" id="8235722">{</span><span class="ident" id="8235723">IP</span><span class="op" id="8235725">:</span>&nbsp;<span class="ident" id="8235727">ParseIP</span><span class="op" id="8235734">(</span><span class="string" id="8235735">&#34;2001:db8::&#34;</span><span class="op" id="8235747">)</span><span class="op" id="8235748">,</span>&nbsp;<span class="ident" id="8235750">Mask</span><span class="op" id="8235754">:</span>&nbsp;<span class="ident" id="8235756">CIDRMask</span><span class="op" id="8235764">(</span><span class="num" id="8235765">55</span><span class="op" id="8235767">,</span>&nbsp;<span class="num" id="8235769">128</span><span class="op" id="8235772">)</span><span class="op" id="8235773">}</span><span class="op" id="8235774">,</span>&nbsp;<span class="string" id="8235776">&#34;2001:db8::/55&#34;</span><span class="op" id="8235791">}</span><span class="op" id="8235792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235795">{</span><span class="op" id="8235796">&amp;</span><span class="ident" id="8235797">IPNet</span><span class="op" id="8235802">{</span><span class="ident" id="8235803">IP</span><span class="op" id="8235805">:</span>&nbsp;<span class="ident" id="8235807">ParseIP</span><span class="op" id="8235814">(</span><span class="string" id="8235815">&#34;2001:db8::&#34;</span><span class="op" id="8235827">)</span><span class="op" id="8235828">,</span>&nbsp;<span class="ident" id="8235830">Mask</span><span class="op" id="8235834">:</span>&nbsp;<span class="ident" id="8235836">IPMask</span><span class="op" id="8235842">(</span><span class="ident" id="8235843">ParseIP</span><span class="op" id="8235850">(</span><span class="string" id="8235851">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="8235871">)</span><span class="op" id="8235872">)</span><span class="op" id="8235873">}</span><span class="op" id="8235874">,</span>&nbsp;<span class="string" id="8235876">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="8235921">}</span><span class="op" id="8235922">,</span><br>
<span class="lineno"></span><span class="op" id="8235924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8235927">func</span>&nbsp;<span class="ident" id="8235932">TestIPNetString</span><span class="op" id="8235947">(</span><span class="ident" id="8235948">t</span>&nbsp;<span class="op" id="8235950">*</span><span class="ident" id="8235951">testing</span><span class="op" id="8235958">.</span><span class="ident" id="8235959">T</span><span class="op" id="8235960">)</span>&nbsp;<span class="op" id="8235962">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235965">for</span>&nbsp;<span class="ident" id="8235969">_</span><span class="op" id="8235970">,</span>&nbsp;<span class="ident" id="8235972">tt</span>&nbsp;<span class="op" id="8235975">:=</span>&nbsp;<span class="keyword" id="8235978">range</span>&nbsp;<span class="ident" id="8235984">ipNetStringTests</span>&nbsp;<span class="op" id="8236001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236005">if</span>&nbsp;<span class="ident" id="8236008">out</span>&nbsp;<span class="op" id="8236012">:=</span>&nbsp;<span class="ident" id="8236015">tt</span><span class="op" id="8236017">.</span><span class="ident" id="8236018">in</span><span class="op" id="8236020">.</span><span class="ident" id="8236021">String</span><span class="op" id="8236027">(</span><span class="op" id="8236028">)</span><span class="op" id="8236029">;</span>&nbsp;<span class="ident" id="8236031">out</span>&nbsp;<span class="op" id="8236035">!=</span>&nbsp;<span class="ident" id="8236038">tt</span><span class="op" id="8236040">.</span><span class="ident" id="8236041">out</span>&nbsp;<span class="op" id="8236045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236050">t</span><span class="op" id="8236051">.</span><span class="ident" id="8236052">Errorf</span><span class="op" id="8236058">(</span><span class="string" id="8236059">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8236091">,</span>&nbsp;<span class="ident" id="8236093">tt</span><span class="op" id="8236095">.</span><span class="ident" id="8236096">in</span><span class="op" id="8236098">,</span>&nbsp;<span class="ident" id="8236100">out</span><span class="op" id="8236103">,</span>&nbsp;<span class="ident" id="8236105">tt</span><span class="op" id="8236107">.</span><span class="ident" id="8236108">out</span><span class="op" id="8236111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236118">}</span><br>
<span class="lineno">240</span><span class="op" id="8236120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8236123">var</span>&nbsp;<span class="ident" id="8236127">cidrMaskTests</span>&nbsp;<span class="op" id="8236141">=</span>&nbsp;<span class="op" id="8236143">[</span><span class="op" id="8236144">]</span><span class="keyword" id="8236145">struct</span>&nbsp;<span class="op" id="8236152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236155">ones</span>&nbsp;<span class="builtintype" id="8236160">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236165">bits</span>&nbsp;<span class="builtintype" id="8236170">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236175">out</span>&nbsp;&nbsp;<span class="ident" id="8236180">IPMask</span><br>
<span class="lineno"></span><span class="op" id="8236187">}</span><span class="op" id="8236188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236191">{</span><span class="num" id="8236192">0</span><span class="op" id="8236193">,</span>&nbsp;<span class="num" id="8236195">32</span><span class="op" id="8236197">,</span>&nbsp;<span class="ident" id="8236199">IPv4Mask</span><span class="op" id="8236207">(</span><span class="num" id="8236208">0</span><span class="op" id="8236209">,</span>&nbsp;<span class="num" id="8236211">0</span><span class="op" id="8236212">,</span>&nbsp;<span class="num" id="8236214">0</span><span class="op" id="8236215">,</span>&nbsp;<span class="num" id="8236217">0</span><span class="op" id="8236218">)</span><span class="op" id="8236219">}</span><span class="op" id="8236220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236223">{</span><span class="num" id="8236224">12</span><span class="op" id="8236226">,</span>&nbsp;<span class="num" id="8236228">32</span><span class="op" id="8236230">,</span>&nbsp;<span class="ident" id="8236232">IPv4Mask</span><span class="op" id="8236240">(</span><span class="num" id="8236241">255</span><span class="op" id="8236244">,</span>&nbsp;<span class="num" id="8236246">240</span><span class="op" id="8236249">,</span>&nbsp;<span class="num" id="8236251">0</span><span class="op" id="8236252">,</span>&nbsp;<span class="num" id="8236254">0</span><span class="op" id="8236255">)</span><span class="op" id="8236256">}</span><span class="op" id="8236257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236260">{</span><span class="num" id="8236261">24</span><span class="op" id="8236263">,</span>&nbsp;<span class="num" id="8236265">32</span><span class="op" id="8236267">,</span>&nbsp;<span class="ident" id="8236269">IPv4Mask</span><span class="op" id="8236277">(</span><span class="num" id="8236278">255</span><span class="op" id="8236281">,</span>&nbsp;<span class="num" id="8236283">255</span><span class="op" id="8236286">,</span>&nbsp;<span class="num" id="8236288">255</span><span class="op" id="8236291">,</span>&nbsp;<span class="num" id="8236293">0</span><span class="op" id="8236294">)</span><span class="op" id="8236295">}</span><span class="op" id="8236296">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236299">{</span><span class="num" id="8236300">32</span><span class="op" id="8236302">,</span>&nbsp;<span class="num" id="8236304">32</span><span class="op" id="8236306">,</span>&nbsp;<span class="ident" id="8236308">IPv4Mask</span><span class="op" id="8236316">(</span><span class="num" id="8236317">255</span><span class="op" id="8236320">,</span>&nbsp;<span class="num" id="8236322">255</span><span class="op" id="8236325">,</span>&nbsp;<span class="num" id="8236327">255</span><span class="op" id="8236330">,</span>&nbsp;<span class="num" id="8236332">255</span><span class="op" id="8236335">)</span><span class="op" id="8236336">}</span><span class="op" id="8236337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236340">{</span><span class="num" id="8236341">0</span><span class="op" id="8236342">,</span>&nbsp;<span class="num" id="8236344">128</span><span class="op" id="8236347">,</span>&nbsp;<span class="ident" id="8236349">IPMask</span><span class="op" id="8236355">{</span><span class="num" id="8236356">0</span><span class="op" id="8236357">,</span>&nbsp;<span class="num" id="8236359">0</span><span class="op" id="8236360">,</span>&nbsp;<span class="num" id="8236362">0</span><span class="op" id="8236363">,</span>&nbsp;<span class="num" id="8236365">0</span><span class="op" id="8236366">,</span>&nbsp;<span class="num" id="8236368">0</span><span class="op" id="8236369">,</span>&nbsp;<span class="num" id="8236371">0</span><span class="op" id="8236372">,</span>&nbsp;<span class="num" id="8236374">0</span><span class="op" id="8236375">,</span>&nbsp;<span class="num" id="8236377">0</span><span class="op" id="8236378">,</span>&nbsp;<span class="num" id="8236380">0</span><span class="op" id="8236381">,</span>&nbsp;<span class="num" id="8236383">0</span><span class="op" id="8236384">,</span>&nbsp;<span class="num" id="8236386">0</span><span class="op" id="8236387">,</span>&nbsp;<span class="num" id="8236389">0</span><span class="op" id="8236390">,</span>&nbsp;<span class="num" id="8236392">0</span><span class="op" id="8236393">,</span>&nbsp;<span class="num" id="8236395">0</span><span class="op" id="8236396">,</span>&nbsp;<span class="num" id="8236398">0</span><span class="op" id="8236399">,</span>&nbsp;<span class="num" id="8236401">0</span><span class="op" id="8236402">}</span><span class="op" id="8236403">}</span><span class="op" id="8236404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236407">{</span><span class="num" id="8236408">4</span><span class="op" id="8236409">,</span>&nbsp;<span class="num" id="8236411">128</span><span class="op" id="8236414">,</span>&nbsp;<span class="ident" id="8236416">IPMask</span><span class="op" id="8236422">{</span><span class="num" id="8236423">0xf0</span><span class="op" id="8236427">,</span>&nbsp;<span class="num" id="8236429">0</span><span class="op" id="8236430">,</span>&nbsp;<span class="num" id="8236432">0</span><span class="op" id="8236433">,</span>&nbsp;<span class="num" id="8236435">0</span><span class="op" id="8236436">,</span>&nbsp;<span class="num" id="8236438">0</span><span class="op" id="8236439">,</span>&nbsp;<span class="num" id="8236441">0</span><span class="op" id="8236442">,</span>&nbsp;<span class="num" id="8236444">0</span><span class="op" id="8236445">,</span>&nbsp;<span class="num" id="8236447">0</span><span class="op" id="8236448">,</span>&nbsp;<span class="num" id="8236450">0</span><span class="op" id="8236451">,</span>&nbsp;<span class="num" id="8236453">0</span><span class="op" id="8236454">,</span>&nbsp;<span class="num" id="8236456">0</span><span class="op" id="8236457">,</span>&nbsp;<span class="num" id="8236459">0</span><span class="op" id="8236460">,</span>&nbsp;<span class="num" id="8236462">0</span><span class="op" id="8236463">,</span>&nbsp;<span class="num" id="8236465">0</span><span class="op" id="8236466">,</span>&nbsp;<span class="num" id="8236468">0</span><span class="op" id="8236469">,</span>&nbsp;<span class="num" id="8236471">0</span><span class="op" id="8236472">}</span><span class="op" id="8236473">}</span><span class="op" id="8236474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236477">{</span><span class="num" id="8236478">48</span><span class="op" id="8236480">,</span>&nbsp;<span class="num" id="8236482">128</span><span class="op" id="8236485">,</span>&nbsp;<span class="ident" id="8236487">IPMask</span><span class="op" id="8236493">{</span><span class="num" id="8236494">0xff</span><span class="op" id="8236498">,</span>&nbsp;<span class="num" id="8236500">0xff</span><span class="op" id="8236504">,</span>&nbsp;<span class="num" id="8236506">0xff</span><span class="op" id="8236510">,</span>&nbsp;<span class="num" id="8236512">0xff</span><span class="op" id="8236516">,</span>&nbsp;<span class="num" id="8236518">0xff</span><span class="op" id="8236522">,</span>&nbsp;<span class="num" id="8236524">0xff</span><span class="op" id="8236528">,</span>&nbsp;<span class="num" id="8236530">0</span><span class="op" id="8236531">,</span>&nbsp;<span class="num" id="8236533">0</span><span class="op" id="8236534">,</span>&nbsp;<span class="num" id="8236536">0</span><span class="op" id="8236537">,</span>&nbsp;<span class="num" id="8236539">0</span><span class="op" id="8236540">,</span>&nbsp;<span class="num" id="8236542">0</span><span class="op" id="8236543">,</span>&nbsp;<span class="num" id="8236545">0</span><span class="op" id="8236546">,</span>&nbsp;<span class="num" id="8236548">0</span><span class="op" id="8236549">,</span>&nbsp;<span class="num" id="8236551">0</span><span class="op" id="8236552">,</span>&nbsp;<span class="num" id="8236554">0</span><span class="op" id="8236555">,</span>&nbsp;<span class="num" id="8236557">0</span><span class="op" id="8236558">}</span><span class="op" id="8236559">}</span><span class="op" id="8236560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236563">{</span><span class="num" id="8236564">128</span><span class="op" id="8236567">,</span>&nbsp;<span class="num" id="8236569">128</span><span class="op" id="8236572">,</span>&nbsp;<span class="ident" id="8236574">IPMask</span><span class="op" id="8236580">{</span><span class="num" id="8236581">0xff</span><span class="op" id="8236585">,</span>&nbsp;<span class="num" id="8236587">0xff</span><span class="op" id="8236591">,</span>&nbsp;<span class="num" id="8236593">0xff</span><span class="op" id="8236597">,</span>&nbsp;<span class="num" id="8236599">0xff</span><span class="op" id="8236603">,</span>&nbsp;<span class="num" id="8236605">0xff</span><span class="op" id="8236609">,</span>&nbsp;<span class="num" id="8236611">0xff</span><span class="op" id="8236615">,</span>&nbsp;<span class="num" id="8236617">0xff</span><span class="op" id="8236621">,</span>&nbsp;<span class="num" id="8236623">0xff</span><span class="op" id="8236627">,</span>&nbsp;<span class="num" id="8236629">0xff</span><span class="op" id="8236633">,</span>&nbsp;<span class="num" id="8236635">0xff</span><span class="op" id="8236639">,</span>&nbsp;<span class="num" id="8236641">0xff</span><span class="op" id="8236645">,</span>&nbsp;<span class="num" id="8236647">0xff</span><span class="op" id="8236651">,</span>&nbsp;<span class="num" id="8236653">0xff</span><span class="op" id="8236657">,</span>&nbsp;<span class="num" id="8236659">0xff</span><span class="op" id="8236663">,</span>&nbsp;<span class="num" id="8236665">0xff</span><span class="op" id="8236669">,</span>&nbsp;<span class="num" id="8236671">0xff</span><span class="op" id="8236675">}</span><span class="op" id="8236676">}</span><span class="op" id="8236677">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236680">{</span><span class="num" id="8236681">33</span><span class="op" id="8236683">,</span>&nbsp;<span class="num" id="8236685">32</span><span class="op" id="8236687">,</span>&nbsp;<span class="ident" id="8236689">nil</span><span class="op" id="8236692">}</span><span class="op" id="8236693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236696">{</span><span class="num" id="8236697">32</span><span class="op" id="8236699">,</span>&nbsp;<span class="num" id="8236701">33</span><span class="op" id="8236703">,</span>&nbsp;<span class="ident" id="8236705">nil</span><span class="op" id="8236708">}</span><span class="op" id="8236709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236712">{</span><span class="op" id="8236713">-</span><span class="num" id="8236714">1</span><span class="op" id="8236715">,</span>&nbsp;<span class="num" id="8236717">128</span><span class="op" id="8236720">,</span>&nbsp;<span class="ident" id="8236722">nil</span><span class="op" id="8236725">}</span><span class="op" id="8236726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236729">{</span><span class="num" id="8236730">128</span><span class="op" id="8236733">,</span>&nbsp;<span class="op" id="8236735">-</span><span class="num" id="8236736">1</span><span class="op" id="8236737">,</span>&nbsp;<span class="ident" id="8236739">nil</span><span class="op" id="8236742">}</span><span class="op" id="8236743">,</span><br>
<span class="lineno"></span><span class="op" id="8236745">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="8236748">func</span>&nbsp;<span class="ident" id="8236753">TestCIDRMask</span><span class="op" id="8236765">(</span><span class="ident" id="8236766">t</span>&nbsp;<span class="op" id="8236768">*</span><span class="ident" id="8236769">testing</span><span class="op" id="8236776">.</span><span class="ident" id="8236777">T</span><span class="op" id="8236778">)</span>&nbsp;<span class="op" id="8236780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236783">for</span>&nbsp;<span class="ident" id="8236787">_</span><span class="op" id="8236788">,</span>&nbsp;<span class="ident" id="8236790">tt</span>&nbsp;<span class="op" id="8236793">:=</span>&nbsp;<span class="keyword" id="8236796">range</span>&nbsp;<span class="ident" id="8236802">cidrMaskTests</span>&nbsp;<span class="op" id="8236816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236820">if</span>&nbsp;<span class="ident" id="8236823">out</span>&nbsp;<span class="op" id="8236827">:=</span>&nbsp;<span class="ident" id="8236830">CIDRMask</span><span class="op" id="8236838">(</span><span class="ident" id="8236839">tt</span><span class="op" id="8236841">.</span><span class="ident" id="8236842">ones</span><span class="op" id="8236846">,</span>&nbsp;<span class="ident" id="8236848">tt</span><span class="op" id="8236850">.</span><span class="ident" id="8236851">bits</span><span class="op" id="8236855">)</span><span class="op" id="8236856">;</span>&nbsp;<span class="op" id="8236858">!</span><span class="ident" id="8236859">reflect</span><span class="op" id="8236866">.</span><span class="ident" id="8236867">DeepEqual</span><span class="op" id="8236876">(</span><span class="ident" id="8236877">out</span><span class="op" id="8236880">,</span>&nbsp;<span class="ident" id="8236882">tt</span><span class="op" id="8236884">.</span><span class="ident" id="8236885">out</span><span class="op" id="8236888">)</span>&nbsp;<span class="op" id="8236890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236895">t</span><span class="op" id="8236896">.</span><span class="ident" id="8236897">Errorf</span><span class="op" id="8236903">(</span><span class="string" id="8236904">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8236936">,</span>&nbsp;<span class="ident" id="8236938">tt</span><span class="op" id="8236940">.</span><span class="ident" id="8236941">ones</span><span class="op" id="8236945">,</span>&nbsp;<span class="ident" id="8236947">tt</span><span class="op" id="8236949">.</span><span class="ident" id="8236950">bits</span><span class="op" id="8236954">,</span>&nbsp;<span class="ident" id="8236956">out</span><span class="op" id="8236959">,</span>&nbsp;<span class="ident" id="8236961">tt</span><span class="op" id="8236963">.</span><span class="ident" id="8236964">out</span><span class="op" id="8236967">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236974">}</span><br>
<span class="lineno"></span><span class="op" id="8236976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8236979">var</span>&nbsp;<span class="op" id="8236983">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236986">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237001">=</span>&nbsp;<span class="ident" id="8237003">IP</span><span class="op" id="8237005">{</span><span class="num" id="8237006">192</span><span class="op" id="8237009">,</span>&nbsp;<span class="num" id="8237011">168</span><span class="op" id="8237014">,</span>&nbsp;<span class="num" id="8237016">0</span><span class="op" id="8237017">,</span>&nbsp;<span class="num" id="8237019">1</span><span class="op" id="8237020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237023">v4mappedv6addr</span>&nbsp;<span class="op" id="8237038">=</span>&nbsp;<span class="ident" id="8237040">IP</span><span class="op" id="8237042">{</span><span class="num" id="8237043">0</span><span class="op" id="8237044">,</span>&nbsp;<span class="num" id="8237046">0</span><span class="op" id="8237047">,</span>&nbsp;<span class="num" id="8237049">0</span><span class="op" id="8237050">,</span>&nbsp;<span class="num" id="8237052">0</span><span class="op" id="8237053">,</span>&nbsp;<span class="num" id="8237055">0</span><span class="op" id="8237056">,</span>&nbsp;<span class="num" id="8237058">0</span><span class="op" id="8237059">,</span>&nbsp;<span class="num" id="8237061">0</span><span class="op" id="8237062">,</span>&nbsp;<span class="num" id="8237064">0</span><span class="op" id="8237065">,</span>&nbsp;<span class="num" id="8237067">0</span><span class="op" id="8237068">,</span>&nbsp;<span class="num" id="8237070">0</span><span class="op" id="8237071">,</span>&nbsp;<span class="num" id="8237073">0xff</span><span class="op" id="8237077">,</span>&nbsp;<span class="num" id="8237079">0xff</span><span class="op" id="8237083">,</span>&nbsp;<span class="num" id="8237085">192</span><span class="op" id="8237088">,</span>&nbsp;<span class="num" id="8237090">168</span><span class="op" id="8237093">,</span>&nbsp;<span class="num" id="8237095">0</span><span class="op" id="8237096">,</span>&nbsp;<span class="num" id="8237098">1</span><span class="op" id="8237099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237102">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237117">=</span>&nbsp;<span class="ident" id="8237119">IP</span><span class="op" id="8237121">{</span><span class="num" id="8237122">0x20</span><span class="op" id="8237126">,</span>&nbsp;<span class="num" id="8237128">0x1</span><span class="op" id="8237131">,</span>&nbsp;<span class="num" id="8237133">0xd</span><span class="op" id="8237136">,</span>&nbsp;<span class="num" id="8237138">0xb8</span><span class="op" id="8237142">,</span>&nbsp;<span class="num" id="8237144">0</span><span class="op" id="8237145">,</span>&nbsp;<span class="num" id="8237147">0</span><span class="op" id="8237148">,</span>&nbsp;<span class="num" id="8237150">0</span><span class="op" id="8237151">,</span>&nbsp;<span class="num" id="8237153">0</span><span class="op" id="8237154">,</span>&nbsp;<span class="num" id="8237156">0</span><span class="op" id="8237157">,</span>&nbsp;<span class="num" id="8237159">0</span><span class="op" id="8237160">,</span>&nbsp;<span class="num" id="8237162">0x1</span><span class="op" id="8237165">,</span>&nbsp;<span class="num" id="8237167">0x23</span><span class="op" id="8237171">,</span>&nbsp;<span class="num" id="8237173">0</span><span class="op" id="8237174">,</span>&nbsp;<span class="num" id="8237176">0x12</span><span class="op" id="8237180">,</span>&nbsp;<span class="num" id="8237182">0</span><span class="op" id="8237183">,</span>&nbsp;<span class="num" id="8237185">0x1</span><span class="op" id="8237188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237191">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237206">=</span>&nbsp;<span class="ident" id="8237208">IPMask</span><span class="op" id="8237214">{</span><span class="num" id="8237215">255</span><span class="op" id="8237218">,</span>&nbsp;<span class="num" id="8237220">255</span><span class="op" id="8237223">,</span>&nbsp;<span class="num" id="8237225">255</span><span class="op" id="8237228">,</span>&nbsp;<span class="num" id="8237230">0</span><span class="op" id="8237231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237234">v4mappedv6mask</span>&nbsp;<span class="op" id="8237249">=</span>&nbsp;<span class="ident" id="8237251">IPMask</span><span class="op" id="8237257">{</span><span class="num" id="8237258">0xff</span><span class="op" id="8237262">,</span>&nbsp;<span class="num" id="8237264">0xff</span><span class="op" id="8237268">,</span>&nbsp;<span class="num" id="8237270">0xff</span><span class="op" id="8237274">,</span>&nbsp;<span class="num" id="8237276">0xff</span><span class="op" id="8237280">,</span>&nbsp;<span class="num" id="8237282">0xff</span><span class="op" id="8237286">,</span>&nbsp;<span class="num" id="8237288">0xff</span><span class="op" id="8237292">,</span>&nbsp;<span class="num" id="8237294">0xff</span><span class="op" id="8237298">,</span>&nbsp;<span class="num" id="8237300">0xff</span><span class="op" id="8237304">,</span>&nbsp;<span class="num" id="8237306">0xff</span><span class="op" id="8237310">,</span>&nbsp;<span class="num" id="8237312">0xff</span><span class="op" id="8237316">,</span>&nbsp;<span class="num" id="8237318">0xff</span><span class="op" id="8237322">,</span>&nbsp;<span class="num" id="8237324">0xff</span><span class="op" id="8237328">,</span>&nbsp;<span class="num" id="8237330">255</span><span class="op" id="8237333">,</span>&nbsp;<span class="num" id="8237335">255</span><span class="op" id="8237338">,</span>&nbsp;<span class="num" id="8237340">255</span><span class="op" id="8237343">,</span>&nbsp;<span class="num" id="8237345">0</span><span class="op" id="8237346">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237349">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237364">=</span>&nbsp;<span class="ident" id="8237366">IPMask</span><span class="op" id="8237372">{</span><span class="num" id="8237373">0xff</span><span class="op" id="8237377">,</span>&nbsp;<span class="num" id="8237379">0xff</span><span class="op" id="8237383">,</span>&nbsp;<span class="num" id="8237385">0xff</span><span class="op" id="8237389">,</span>&nbsp;<span class="num" id="8237391">0xff</span><span class="op" id="8237395">,</span>&nbsp;<span class="num" id="8237397">0xff</span><span class="op" id="8237401">,</span>&nbsp;<span class="num" id="8237403">0xff</span><span class="op" id="8237407">,</span>&nbsp;<span class="num" id="8237409">0xff</span><span class="op" id="8237413">,</span>&nbsp;<span class="num" id="8237415">0xff</span><span class="op" id="8237419">,</span>&nbsp;<span class="num" id="8237421">0</span><span class="op" id="8237422">,</span>&nbsp;<span class="num" id="8237424">0</span><span class="op" id="8237425">,</span>&nbsp;<span class="num" id="8237427">0</span><span class="op" id="8237428">,</span>&nbsp;<span class="num" id="8237430">0</span><span class="op" id="8237431">,</span>&nbsp;<span class="num" id="8237433">0</span><span class="op" id="8237434">,</span>&nbsp;<span class="num" id="8237436">0</span><span class="op" id="8237437">,</span>&nbsp;<span class="num" id="8237439">0</span><span class="op" id="8237440">,</span>&nbsp;<span class="num" id="8237442">0</span><span class="op" id="8237443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237446">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237461">=</span>&nbsp;<span class="ident" id="8237463">IP</span><span class="op" id="8237465">{</span><span class="num" id="8237466">192</span><span class="op" id="8237469">,</span>&nbsp;<span class="num" id="8237471">168</span><span class="op" id="8237474">,</span>&nbsp;<span class="num" id="8237476">0</span><span class="op" id="8237477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237480">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237495">=</span>&nbsp;<span class="ident" id="8237497">IPMask</span><span class="op" id="8237503">{</span><span class="num" id="8237504">255</span><span class="op" id="8237507">,</span>&nbsp;<span class="num" id="8237509">255</span><span class="op" id="8237512">,</span>&nbsp;<span class="num" id="8237514">0</span><span class="op" id="8237515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237518">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237533">=</span>&nbsp;<span class="ident" id="8237535">IPMask</span><span class="op" id="8237541">{</span><span class="num" id="8237542">0</span><span class="op" id="8237543">,</span>&nbsp;<span class="num" id="8237545">0</span><span class="op" id="8237546">,</span>&nbsp;<span class="num" id="8237548">0</span><span class="op" id="8237549">,</span>&nbsp;<span class="num" id="8237551">0</span><span class="op" id="8237552">}</span><br>
<span class="lineno"></span><span class="op" id="8237554">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="8237557">var</span>&nbsp;<span class="ident" id="8237561">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="8237587">=</span>&nbsp;<span class="op" id="8237589">[</span><span class="op" id="8237590">]</span><span class="keyword" id="8237591">struct</span>&nbsp;<span class="op" id="8237598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237601">in</span>&nbsp;&nbsp;<span class="ident" id="8237605">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237612">out</span>&nbsp;<span class="ident" id="8237616">IPNet</span><br>
<span class="lineno"></span><span class="op" id="8237622">}</span><span class="op" id="8237623">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237626">{</span><span class="ident" id="8237627">IPNet</span><span class="op" id="8237632">{</span><span class="ident" id="8237633">IP</span><span class="op" id="8237635">:</span>&nbsp;<span class="ident" id="8237637">v4addr</span><span class="op" id="8237643">,</span>&nbsp;<span class="ident" id="8237645">Mask</span><span class="op" id="8237649">:</span>&nbsp;<span class="ident" id="8237651">v4mask</span><span class="op" id="8237657">}</span><span class="op" id="8237658">,</span>&nbsp;<span class="ident" id="8237660">IPNet</span><span class="op" id="8237665">{</span><span class="ident" id="8237666">IP</span><span class="op" id="8237668">:</span>&nbsp;<span class="ident" id="8237670">v4addr</span><span class="op" id="8237676">,</span>&nbsp;<span class="ident" id="8237678">Mask</span><span class="op" id="8237682">:</span>&nbsp;<span class="ident" id="8237684">v4mask</span><span class="op" id="8237690">}</span><span class="op" id="8237691">}</span><span class="op" id="8237692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237695">{</span><span class="ident" id="8237696">IPNet</span><span class="op" id="8237701">{</span><span class="ident" id="8237702">IP</span><span class="op" id="8237704">:</span>&nbsp;<span class="ident" id="8237706">v4addr</span><span class="op" id="8237712">,</span>&nbsp;<span class="ident" id="8237714">Mask</span><span class="op" id="8237718">:</span>&nbsp;<span class="ident" id="8237720">v4mappedv6mask</span><span class="op" id="8237734">}</span><span class="op" id="8237735">,</span>&nbsp;<span class="ident" id="8237737">IPNet</span><span class="op" id="8237742">{</span><span class="ident" id="8237743">IP</span><span class="op" id="8237745">:</span>&nbsp;<span class="ident" id="8237747">v4addr</span><span class="op" id="8237753">,</span>&nbsp;<span class="ident" id="8237755">Mask</span><span class="op" id="8237759">:</span>&nbsp;<span class="ident" id="8237761">v4mask</span><span class="op" id="8237767">}</span><span class="op" id="8237768">}</span><span class="op" id="8237769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237772">{</span><span class="ident" id="8237773">IPNet</span><span class="op" id="8237778">{</span><span class="ident" id="8237779">IP</span><span class="op" id="8237781">:</span>&nbsp;<span class="ident" id="8237783">v4mappedv6addr</span><span class="op" id="8237797">,</span>&nbsp;<span class="ident" id="8237799">Mask</span><span class="op" id="8237803">:</span>&nbsp;<span class="ident" id="8237805">v4mappedv6mask</span><span class="op" id="8237819">}</span><span class="op" id="8237820">,</span>&nbsp;<span class="ident" id="8237822">IPNet</span><span class="op" id="8237827">{</span><span class="ident" id="8237828">IP</span><span class="op" id="8237830">:</span>&nbsp;<span class="ident" id="8237832">v4addr</span><span class="op" id="8237838">,</span>&nbsp;<span class="ident" id="8237840">Mask</span><span class="op" id="8237844">:</span>&nbsp;<span class="ident" id="8237846">v4mask</span><span class="op" id="8237852">}</span><span class="op" id="8237853">}</span><span class="op" id="8237854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237857">{</span><span class="ident" id="8237858">IPNet</span><span class="op" id="8237863">{</span><span class="ident" id="8237864">IP</span><span class="op" id="8237866">:</span>&nbsp;<span class="ident" id="8237868">v4mappedv6addr</span><span class="op" id="8237882">,</span>&nbsp;<span class="ident" id="8237884">Mask</span><span class="op" id="8237888">:</span>&nbsp;<span class="ident" id="8237890">v6mask</span><span class="op" id="8237896">}</span><span class="op" id="8237897">,</span>&nbsp;<span class="ident" id="8237899">IPNet</span><span class="op" id="8237904">{</span><span class="ident" id="8237905">IP</span><span class="op" id="8237907">:</span>&nbsp;<span class="ident" id="8237909">v4addr</span><span class="op" id="8237915">,</span>&nbsp;<span class="ident" id="8237917">Mask</span><span class="op" id="8237921">:</span>&nbsp;<span class="ident" id="8237923">v4maskzero</span><span class="op" id="8237933">}</span><span class="op" id="8237934">}</span><span class="op" id="8237935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237938">{</span><span class="ident" id="8237939">IPNet</span><span class="op" id="8237944">{</span><span class="ident" id="8237945">IP</span><span class="op" id="8237947">:</span>&nbsp;<span class="ident" id="8237949">v4addr</span><span class="op" id="8237955">,</span>&nbsp;<span class="ident" id="8237957">Mask</span><span class="op" id="8237961">:</span>&nbsp;<span class="ident" id="8237963">v6mask</span><span class="op" id="8237969">}</span><span class="op" id="8237970">,</span>&nbsp;<span class="ident" id="8237972">IPNet</span><span class="op" id="8237977">{</span><span class="ident" id="8237978">IP</span><span class="op" id="8237980">:</span>&nbsp;<span class="ident" id="8237982">v4addr</span><span class="op" id="8237988">,</span>&nbsp;<span class="ident" id="8237990">Mask</span><span class="op" id="8237994">:</span>&nbsp;<span class="ident" id="8237996">v4maskzero</span><span class="op" id="8238006">}</span><span class="op" id="8238007">}</span><span class="op" id="8238008">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238011">{</span><span class="ident" id="8238012">IPNet</span><span class="op" id="8238017">{</span><span class="ident" id="8238018">IP</span><span class="op" id="8238020">:</span>&nbsp;<span class="ident" id="8238022">v6addr</span><span class="op" id="8238028">,</span>&nbsp;<span class="ident" id="8238030">Mask</span><span class="op" id="8238034">:</span>&nbsp;<span class="ident" id="8238036">v6mask</span><span class="op" id="8238042">}</span><span class="op" id="8238043">,</span>&nbsp;<span class="ident" id="8238045">IPNet</span><span class="op" id="8238050">{</span><span class="ident" id="8238051">IP</span><span class="op" id="8238053">:</span>&nbsp;<span class="ident" id="8238055">v6addr</span><span class="op" id="8238061">,</span>&nbsp;<span class="ident" id="8238063">Mask</span><span class="op" id="8238067">:</span>&nbsp;<span class="ident" id="8238069">v6mask</span><span class="op" id="8238075">}</span><span class="op" id="8238076">}</span><span class="op" id="8238077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238080">{</span><span class="ident" id="8238081">IPNet</span><span class="op" id="8238086">{</span><span class="ident" id="8238087">IP</span><span class="op" id="8238089">:</span>&nbsp;<span class="ident" id="8238091">v6addr</span><span class="op" id="8238097">,</span>&nbsp;<span class="ident" id="8238099">Mask</span><span class="op" id="8238103">:</span>&nbsp;<span class="ident" id="8238105">v4mappedv6mask</span><span class="op" id="8238119">}</span><span class="op" id="8238120">,</span>&nbsp;<span class="ident" id="8238122">IPNet</span><span class="op" id="8238127">{</span><span class="ident" id="8238128">IP</span><span class="op" id="8238130">:</span>&nbsp;<span class="ident" id="8238132">v6addr</span><span class="op" id="8238138">,</span>&nbsp;<span class="ident" id="8238140">Mask</span><span class="op" id="8238144">:</span>&nbsp;<span class="ident" id="8238146">v4mappedv6mask</span><span class="op" id="8238160">}</span><span class="op" id="8238161">}</span><span class="op" id="8238162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238165">{</span><span class="ident" id="8238166">in</span><span class="op" id="8238168">:</span>&nbsp;<span class="ident" id="8238170">IPNet</span><span class="op" id="8238175">{</span><span class="ident" id="8238176">IP</span><span class="op" id="8238178">:</span>&nbsp;<span class="ident" id="8238180">v6addr</span><span class="op" id="8238186">,</span>&nbsp;<span class="ident" id="8238188">Mask</span><span class="op" id="8238192">:</span>&nbsp;<span class="ident" id="8238194">v4mask</span><span class="op" id="8238200">}</span><span class="op" id="8238201">}</span><span class="op" id="8238202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238205">{</span><span class="ident" id="8238206">in</span><span class="op" id="8238208">:</span>&nbsp;<span class="ident" id="8238210">IPNet</span><span class="op" id="8238215">{</span><span class="ident" id="8238216">IP</span><span class="op" id="8238218">:</span>&nbsp;<span class="ident" id="8238220">v4addr</span><span class="op" id="8238226">,</span>&nbsp;<span class="ident" id="8238228">Mask</span><span class="op" id="8238232">:</span>&nbsp;<span class="ident" id="8238234">badmask</span><span class="op" id="8238241">}</span><span class="op" id="8238242">}</span><span class="op" id="8238243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238246">{</span><span class="ident" id="8238247">in</span><span class="op" id="8238249">:</span>&nbsp;<span class="ident" id="8238251">IPNet</span><span class="op" id="8238256">{</span><span class="ident" id="8238257">IP</span><span class="op" id="8238259">:</span>&nbsp;<span class="ident" id="8238261">v4mappedv6addr</span><span class="op" id="8238275">,</span>&nbsp;<span class="ident" id="8238277">Mask</span><span class="op" id="8238281">:</span>&nbsp;<span class="ident" id="8238283">badmask</span><span class="op" id="8238290">}</span><span class="op" id="8238291">}</span><span class="op" id="8238292">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238295">{</span><span class="ident" id="8238296">in</span><span class="op" id="8238298">:</span>&nbsp;<span class="ident" id="8238300">IPNet</span><span class="op" id="8238305">{</span><span class="ident" id="8238306">IP</span><span class="op" id="8238308">:</span>&nbsp;<span class="ident" id="8238310">v6addr</span><span class="op" id="8238316">,</span>&nbsp;<span class="ident" id="8238318">Mask</span><span class="op" id="8238322">:</span>&nbsp;<span class="ident" id="8238324">badmask</span><span class="op" id="8238331">}</span><span class="op" id="8238332">}</span><span class="op" id="8238333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238336">{</span><span class="ident" id="8238337">in</span><span class="op" id="8238339">:</span>&nbsp;<span class="ident" id="8238341">IPNet</span><span class="op" id="8238346">{</span><span class="ident" id="8238347">IP</span><span class="op" id="8238349">:</span>&nbsp;<span class="ident" id="8238351">badaddr</span><span class="op" id="8238358">,</span>&nbsp;<span class="ident" id="8238360">Mask</span><span class="op" id="8238364">:</span>&nbsp;<span class="ident" id="8238366">v4mask</span><span class="op" id="8238372">}</span><span class="op" id="8238373">}</span><span class="op" id="8238374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238377">{</span><span class="ident" id="8238378">in</span><span class="op" id="8238380">:</span>&nbsp;<span class="ident" id="8238382">IPNet</span><span class="op" id="8238387">{</span><span class="ident" id="8238388">IP</span><span class="op" id="8238390">:</span>&nbsp;<span class="ident" id="8238392">badaddr</span><span class="op" id="8238399">,</span>&nbsp;<span class="ident" id="8238401">Mask</span><span class="op" id="8238405">:</span>&nbsp;<span class="ident" id="8238407">v4mappedv6mask</span><span class="op" id="8238421">}</span><span class="op" id="8238422">}</span><span class="op" id="8238423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238426">{</span><span class="ident" id="8238427">in</span><span class="op" id="8238429">:</span>&nbsp;<span class="ident" id="8238431">IPNet</span><span class="op" id="8238436">{</span><span class="ident" id="8238437">IP</span><span class="op" id="8238439">:</span>&nbsp;<span class="ident" id="8238441">badaddr</span><span class="op" id="8238448">,</span>&nbsp;<span class="ident" id="8238450">Mask</span><span class="op" id="8238454">:</span>&nbsp;<span class="ident" id="8238456">v6mask</span><span class="op" id="8238462">}</span><span class="op" id="8238463">}</span><span class="op" id="8238464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238467">{</span><span class="ident" id="8238468">in</span><span class="op" id="8238470">:</span>&nbsp;<span class="ident" id="8238472">IPNet</span><span class="op" id="8238477">{</span><span class="ident" id="8238478">IP</span><span class="op" id="8238480">:</span>&nbsp;<span class="ident" id="8238482">badaddr</span><span class="op" id="8238489">,</span>&nbsp;<span class="ident" id="8238491">Mask</span><span class="op" id="8238495">:</span>&nbsp;<span class="ident" id="8238497">badmask</span><span class="op" id="8238504">}</span><span class="op" id="8238505">}</span><span class="op" id="8238506">,</span><br>
<span class="lineno">300</span><span class="op" id="8238508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8238511">func</span>&nbsp;<span class="ident" id="8238516">TestNetworkNumberAndMask</span><span class="op" id="8238540">(</span><span class="ident" id="8238541">t</span>&nbsp;<span class="op" id="8238543">*</span><span class="ident" id="8238544">testing</span><span class="op" id="8238551">.</span><span class="ident" id="8238552">T</span><span class="op" id="8238553">)</span>&nbsp;<span class="op" id="8238555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238558">for</span>&nbsp;<span class="ident" id="8238562">_</span><span class="op" id="8238563">,</span>&nbsp;<span class="ident" id="8238565">tt</span>&nbsp;<span class="op" id="8238568">:=</span>&nbsp;<span class="keyword" id="8238571">range</span>&nbsp;<span class="ident" id="8238577">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="8238603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238607">ip</span><span class="op" id="8238609">,</span>&nbsp;<span class="ident" id="8238611">m</span>&nbsp;<span class="op" id="8238613">:=</span>&nbsp;<span class="ident" id="8238616">networkNumberAndMask</span><span class="op" id="8238636">(</span><span class="op" id="8238637">&amp;</span><span class="ident" id="8238638">tt</span><span class="op" id="8238640">.</span><span class="ident" id="8238641">in</span><span class="op" id="8238643">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238647">out</span>&nbsp;<span class="op" id="8238651">:=</span>&nbsp;<span class="op" id="8238654">&amp;</span><span class="ident" id="8238655">IPNet</span><span class="op" id="8238660">{</span><span class="ident" id="8238661">IP</span><span class="op" id="8238663">:</span>&nbsp;<span class="ident" id="8238665">ip</span><span class="op" id="8238667">,</span>&nbsp;<span class="ident" id="8238669">Mask</span><span class="op" id="8238673">:</span>&nbsp;<span class="ident" id="8238675">m</span><span class="op" id="8238676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238680">if</span>&nbsp;<span class="op" id="8238683">!</span><span class="ident" id="8238684">reflect</span><span class="op" id="8238691">.</span><span class="ident" id="8238692">DeepEqual</span><span class="op" id="8238701">(</span><span class="op" id="8238702">&amp;</span><span class="ident" id="8238703">tt</span><span class="op" id="8238705">.</span><span class="ident" id="8238706">out</span><span class="op" id="8238709">,</span>&nbsp;<span class="ident" id="8238711">out</span><span class="op" id="8238714">)</span>&nbsp;<span class="op" id="8238716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238721">t</span><span class="op" id="8238722">.</span><span class="ident" id="8238723">Errorf</span><span class="op" id="8238729">(</span><span class="string" id="8238730">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8238770">,</span>&nbsp;<span class="ident" id="8238772">tt</span><span class="op" id="8238774">.</span><span class="ident" id="8238775">in</span><span class="op" id="8238777">,</span>&nbsp;<span class="ident" id="8238779">out</span><span class="op" id="8238782">,</span>&nbsp;<span class="op" id="8238784">&amp;</span><span class="ident" id="8238785">tt</span><span class="op" id="8238787">.</span><span class="ident" id="8238788">out</span><span class="op" id="8238791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238798">}</span><br>
<span class="lineno">310</span><span class="op" id="8238800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8238803">var</span>&nbsp;<span class="ident" id="8238807">splitJoinTests</span>&nbsp;<span class="op" id="8238822">=</span>&nbsp;<span class="op" id="8238824">[</span><span class="op" id="8238825">]</span><span class="keyword" id="8238826">struct</span>&nbsp;<span class="op" id="8238833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238836">host</span>&nbsp;<span class="builtintype" id="8238841">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238849">port</span>&nbsp;<span class="builtintype" id="8238854">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238862">join</span>&nbsp;<span class="builtintype" id="8238867">string</span><br>
<span class="lineno"></span><span class="op" id="8238874">}</span><span class="op" id="8238875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238878">{</span><span class="string" id="8238879">&#34;www.google.com&#34;</span><span class="op" id="8238895">,</span>&nbsp;<span class="string" id="8238897">&#34;80&#34;</span><span class="op" id="8238901">,</span>&nbsp;<span class="string" id="8238903">&#34;www.google.com:80&#34;</span><span class="op" id="8238922">}</span><span class="op" id="8238923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238926">{</span><span class="string" id="8238927">&#34;127.0.0.1&#34;</span><span class="op" id="8238938">,</span>&nbsp;<span class="string" id="8238940">&#34;1234&#34;</span><span class="op" id="8238946">,</span>&nbsp;<span class="string" id="8238948">&#34;127.0.0.1:1234&#34;</span><span class="op" id="8238964">}</span><span class="op" id="8238965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238968">{</span><span class="string" id="8238969">&#34;::1&#34;</span><span class="op" id="8238974">,</span>&nbsp;<span class="string" id="8238976">&#34;80&#34;</span><span class="op" id="8238980">,</span>&nbsp;<span class="string" id="8238982">&#34;[::1]:80&#34;</span><span class="op" id="8238992">}</span><span class="op" id="8238993">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238996">{</span><span class="string" id="8238997">&#34;fe80::1%lo0&#34;</span><span class="op" id="8239010">,</span>&nbsp;<span class="string" id="8239012">&#34;80&#34;</span><span class="op" id="8239016">,</span>&nbsp;<span class="string" id="8239018">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="8239036">}</span><span class="op" id="8239037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239040">{</span><span class="string" id="8239041">&#34;localhost%lo0&#34;</span><span class="op" id="8239056">,</span>&nbsp;<span class="string" id="8239058">&#34;80&#34;</span><span class="op" id="8239062">,</span>&nbsp;<span class="string" id="8239064">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="8239084">}</span><span class="op" id="8239085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239088">{</span><span class="string" id="8239089">&#34;&#34;</span><span class="op" id="8239091">,</span>&nbsp;<span class="string" id="8239093">&#34;0&#34;</span><span class="op" id="8239096">,</span>&nbsp;<span class="string" id="8239098">&#34;:0&#34;</span><span class="op" id="8239102">}</span><span class="op" id="8239103">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239107">{</span><span class="string" id="8239108">&#34;google.com&#34;</span><span class="op" id="8239120">,</span>&nbsp;<span class="string" id="8239122">&#34;https%foo&#34;</span><span class="op" id="8239133">,</span>&nbsp;<span class="string" id="8239135">&#34;google.com:https%foo&#34;</span><span class="op" id="8239157">}</span><span class="op" id="8239158">,</span>&nbsp;<span class="comment" id="8239160">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239180">{</span><span class="string" id="8239181">&#34;127.0.0.1&#34;</span><span class="op" id="8239192">,</span>&nbsp;<span class="string" id="8239194">&#34;&#34;</span><span class="op" id="8239196">,</span>&nbsp;<span class="string" id="8239198">&#34;127.0.0.1:&#34;</span><span class="op" id="8239210">}</span><span class="op" id="8239211">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8239233">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239254">{</span><span class="string" id="8239255">&#34;www.google.com&#34;</span><span class="op" id="8239271">,</span>&nbsp;<span class="string" id="8239273">&#34;&#34;</span><span class="op" id="8239275">,</span>&nbsp;<span class="string" id="8239277">&#34;www.google.com:&#34;</span><span class="op" id="8239294">}</span><span class="op" id="8239295">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8239307">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="8239327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8239330">var</span>&nbsp;<span class="ident" id="8239334">splitFailureTests</span>&nbsp;<span class="op" id="8239352">=</span>&nbsp;<span class="op" id="8239354">[</span><span class="op" id="8239355">]</span><span class="keyword" id="8239356">struct</span>&nbsp;<span class="op" id="8239363">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239366">hostPort</span>&nbsp;<span class="builtintype" id="8239375">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239383">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8239392">string</span><br>
<span class="lineno"></span><span class="op" id="8239399">}</span><span class="op" id="8239400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239403">{</span><span class="string" id="8239404">&#34;www.google.com&#34;</span><span class="op" id="8239420">,</span>&nbsp;<span class="string" id="8239422">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239447">}</span><span class="op" id="8239448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239451">{</span><span class="string" id="8239452">&#34;127.0.0.1&#34;</span><span class="op" id="8239463">,</span>&nbsp;<span class="string" id="8239465">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239490">}</span><span class="op" id="8239491">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239494">{</span><span class="string" id="8239495">&#34;[::1]&#34;</span><span class="op" id="8239502">,</span>&nbsp;<span class="string" id="8239504">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239529">}</span><span class="op" id="8239530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239533">{</span><span class="string" id="8239534">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="8239549">,</span>&nbsp;<span class="string" id="8239551">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239576">}</span><span class="op" id="8239577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239580">{</span><span class="string" id="8239581">&#34;[localhost%lo0]&#34;</span><span class="op" id="8239598">,</span>&nbsp;<span class="string" id="8239600">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239625">}</span><span class="op" id="8239626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239629">{</span><span class="string" id="8239630">&#34;localhost%lo0&#34;</span><span class="op" id="8239645">,</span>&nbsp;<span class="string" id="8239647">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239672">}</span><span class="op" id="8239673">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239677">{</span><span class="string" id="8239678">&#34;::1&#34;</span><span class="op" id="8239683">,</span>&nbsp;<span class="string" id="8239685">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239713">}</span><span class="op" id="8239714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239717">{</span><span class="string" id="8239718">&#34;fe80::1%lo0&#34;</span><span class="op" id="8239731">,</span>&nbsp;<span class="string" id="8239733">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239761">}</span><span class="op" id="8239762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239765">{</span><span class="string" id="8239766">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="8239782">,</span>&nbsp;<span class="string" id="8239784">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239812">}</span><span class="op" id="8239813">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239817">{</span><span class="string" id="8239818">&#34;localhost%lo0:80&#34;</span><span class="op" id="8239836">,</span>&nbsp;<span class="string" id="8239838">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239867">}</span><span class="op" id="8239868">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8239872">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239915">{</span><span class="string" id="8239916">&#34;[foo:bar]&#34;</span><span class="op" id="8239927">,</span>&nbsp;<span class="string" id="8239929">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8239954">}</span><span class="op" id="8239955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239958">{</span><span class="string" id="8239959">&#34;[foo:bar]baz&#34;</span><span class="op" id="8239973">,</span>&nbsp;<span class="string" id="8239975">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8240000">}</span><span class="op" id="8240001">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240004">{</span><span class="string" id="8240005">&#34;[foo]bar:baz&#34;</span><span class="op" id="8240019">,</span>&nbsp;<span class="string" id="8240021">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8240046">}</span><span class="op" id="8240047">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240051">{</span><span class="string" id="8240052">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="8240069">,</span>&nbsp;<span class="string" id="8240071">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8240099">}</span><span class="op" id="8240100">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240104">{</span><span class="string" id="8240105">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="8240121">,</span>&nbsp;<span class="string" id="8240123">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8240150">}</span><span class="op" id="8240151">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240154">{</span><span class="string" id="8240155">&#34;foo[bar]:baz&#34;</span><span class="op" id="8240169">,</span>&nbsp;<span class="string" id="8240171">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8240198">}</span><span class="op" id="8240199">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240203">{</span><span class="string" id="8240204">&#34;foo]bar:baz&#34;</span><span class="op" id="8240217">,</span>&nbsp;<span class="string" id="8240219">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8240246">}</span><span class="op" id="8240247">,</span><br>
<span class="lineno"></span><span class="op" id="8240249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8240252">func</span>&nbsp;<span class="ident" id="8240257">TestSplitHostPort</span><span class="op" id="8240274">(</span><span class="ident" id="8240275">t</span>&nbsp;<span class="op" id="8240277">*</span><span class="ident" id="8240278">testing</span><span class="op" id="8240285">.</span><span class="ident" id="8240286">T</span><span class="op" id="8240287">)</span>&nbsp;<span class="op" id="8240289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240292">for</span>&nbsp;<span class="ident" id="8240296">_</span><span class="op" id="8240297">,</span>&nbsp;<span class="ident" id="8240299">tt</span>&nbsp;<span class="op" id="8240302">:=</span>&nbsp;<span class="keyword" id="8240305">range</span>&nbsp;<span class="ident" id="8240311">splitJoinTests</span>&nbsp;<span class="op" id="8240326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240330">if</span>&nbsp;<span class="ident" id="8240333">host</span><span class="op" id="8240337">,</span>&nbsp;<span class="ident" id="8240339">port</span><span class="op" id="8240343">,</span>&nbsp;<span class="ident" id="8240345">err</span>&nbsp;<span class="op" id="8240349">:=</span>&nbsp;<span class="ident" id="8240352">SplitHostPort</span><span class="op" id="8240365">(</span><span class="ident" id="8240366">tt</span><span class="op" id="8240368">.</span><span class="ident" id="8240369">join</span><span class="op" id="8240373">)</span><span class="op" id="8240374">;</span>&nbsp;<span class="ident" id="8240376">host</span>&nbsp;<span class="op" id="8240381">!=</span>&nbsp;<span class="ident" id="8240384">tt</span><span class="op" id="8240386">.</span><span class="ident" id="8240387">host</span>&nbsp;<span class="op" id="8240392">||</span>&nbsp;<span class="ident" id="8240395">port</span>&nbsp;<span class="op" id="8240400">!=</span>&nbsp;<span class="ident" id="8240403">tt</span><span class="op" id="8240405">.</span><span class="ident" id="8240406">port</span>&nbsp;<span class="op" id="8240411">||</span>&nbsp;<span class="ident" id="8240414">err</span>&nbsp;<span class="op" id="8240418">!=</span>&nbsp;<span class="ident" id="8240421">nil</span>&nbsp;<span class="op" id="8240425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240430">t</span><span class="op" id="8240431">.</span><span class="ident" id="8240432">Errorf</span><span class="op" id="8240438">(</span><span class="string" id="8240439">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="8240489">,</span>&nbsp;<span class="ident" id="8240491">tt</span><span class="op" id="8240493">.</span><span class="ident" id="8240494">join</span><span class="op" id="8240498">,</span>&nbsp;<span class="ident" id="8240500">host</span><span class="op" id="8240504">,</span>&nbsp;<span class="ident" id="8240506">port</span><span class="op" id="8240510">,</span>&nbsp;<span class="ident" id="8240512">err</span><span class="op" id="8240515">,</span>&nbsp;<span class="ident" id="8240517">tt</span><span class="op" id="8240519">.</span><span class="ident" id="8240520">host</span><span class="op" id="8240524">,</span>&nbsp;<span class="ident" id="8240526">tt</span><span class="op" id="8240528">.</span><span class="ident" id="8240529">port</span><span class="op" id="8240533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240537">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240543">for</span>&nbsp;<span class="ident" id="8240547">_</span><span class="op" id="8240548">,</span>&nbsp;<span class="ident" id="8240550">tt</span>&nbsp;<span class="op" id="8240553">:=</span>&nbsp;<span class="keyword" id="8240556">range</span>&nbsp;<span class="ident" id="8240562">splitFailureTests</span>&nbsp;<span class="op" id="8240580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240584">if</span>&nbsp;<span class="ident" id="8240587">_</span><span class="op" id="8240588">,</span>&nbsp;<span class="ident" id="8240590">_</span><span class="op" id="8240591">,</span>&nbsp;<span class="ident" id="8240593">err</span>&nbsp;<span class="op" id="8240597">:=</span>&nbsp;<span class="ident" id="8240600">SplitHostPort</span><span class="op" id="8240613">(</span><span class="ident" id="8240614">tt</span><span class="op" id="8240616">.</span><span class="ident" id="8240617">hostPort</span><span class="op" id="8240625">)</span><span class="op" id="8240626">;</span>&nbsp;<span class="ident" id="8240628">err</span>&nbsp;<span class="op" id="8240632">==</span>&nbsp;<span class="ident" id="8240635">nil</span>&nbsp;<span class="op" id="8240639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240644">t</span><span class="op" id="8240645">.</span><span class="ident" id="8240646">Errorf</span><span class="op" id="8240652">(</span><span class="string" id="8240653">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8240691">,</span>&nbsp;<span class="ident" id="8240693">tt</span><span class="op" id="8240695">.</span><span class="ident" id="8240696">hostPort</span><span class="op" id="8240704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240708">}</span>&nbsp;<span class="keyword" id="8240710">else</span>&nbsp;<span class="op" id="8240715">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240720">e</span>&nbsp;<span class="op" id="8240722">:=</span>&nbsp;<span class="ident" id="8240725">err</span><span class="op" id="8240728">.</span><span class="op" id="8240729">(</span><span class="op" id="8240730">*</span><span class="ident" id="8240731">AddrError</span><span class="op" id="8240740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240745">if</span>&nbsp;<span class="ident" id="8240748">e</span><span class="op" id="8240749">.</span><span class="ident" id="8240750">Err</span>&nbsp;<span class="op" id="8240754">!=</span>&nbsp;<span class="ident" id="8240757">tt</span><span class="op" id="8240759">.</span><span class="ident" id="8240760">err</span>&nbsp;<span class="op" id="8240764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240770">t</span><span class="op" id="8240771">.</span><span class="ident" id="8240772">Errorf</span><span class="op" id="8240778">(</span><span class="string" id="8240779">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8240818">,</span>&nbsp;<span class="ident" id="8240820">tt</span><span class="op" id="8240822">.</span><span class="ident" id="8240823">hostPort</span><span class="op" id="8240831">,</span>&nbsp;<span class="ident" id="8240833">e</span><span class="op" id="8240834">.</span><span class="ident" id="8240835">Err</span><span class="op" id="8240838">,</span>&nbsp;<span class="ident" id="8240840">tt</span><span class="op" id="8240842">.</span><span class="ident" id="8240843">err</span><span class="op" id="8240846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240855">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240858">}</span><br>
<span class="lineno"></span><span class="op" id="8240860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240863">func</span>&nbsp;<span class="ident" id="8240868">TestJoinHostPort</span><span class="op" id="8240884">(</span><span class="ident" id="8240885">t</span>&nbsp;<span class="op" id="8240887">*</span><span class="ident" id="8240888">testing</span><span class="op" id="8240895">.</span><span class="ident" id="8240896">T</span><span class="op" id="8240897">)</span>&nbsp;<span class="op" id="8240899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240902">for</span>&nbsp;<span class="ident" id="8240906">_</span><span class="op" id="8240907">,</span>&nbsp;<span class="ident" id="8240909">tt</span>&nbsp;<span class="op" id="8240912">:=</span>&nbsp;<span class="keyword" id="8240915">range</span>&nbsp;<span class="ident" id="8240921">splitJoinTests</span>&nbsp;<span class="op" id="8240936">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240940">if</span>&nbsp;<span class="ident" id="8240943">join</span>&nbsp;<span class="op" id="8240948">:=</span>&nbsp;<span class="ident" id="8240951">JoinHostPort</span><span class="op" id="8240963">(</span><span class="ident" id="8240964">tt</span><span class="op" id="8240966">.</span><span class="ident" id="8240967">host</span><span class="op" id="8240971">,</span>&nbsp;<span class="ident" id="8240973">tt</span><span class="op" id="8240975">.</span><span class="ident" id="8240976">port</span><span class="op" id="8240980">)</span><span class="op" id="8240981">;</span>&nbsp;<span class="ident" id="8240983">join</span>&nbsp;<span class="op" id="8240988">!=</span>&nbsp;<span class="ident" id="8240991">tt</span><span class="op" id="8240993">.</span><span class="ident" id="8240994">join</span>&nbsp;<span class="op" id="8240999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241004">t</span><span class="op" id="8241005">.</span><span class="ident" id="8241006">Errorf</span><span class="op" id="8241012">(</span><span class="string" id="8241013">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8241049">,</span>&nbsp;<span class="ident" id="8241051">tt</span><span class="op" id="8241053">.</span><span class="ident" id="8241054">host</span><span class="op" id="8241058">,</span>&nbsp;<span class="ident" id="8241060">tt</span><span class="op" id="8241062">.</span><span class="ident" id="8241063">port</span><span class="op" id="8241067">,</span>&nbsp;<span class="ident" id="8241069">join</span><span class="op" id="8241073">,</span>&nbsp;<span class="ident" id="8241075">tt</span><span class="op" id="8241077">.</span><span class="ident" id="8241078">join</span><span class="op" id="8241082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241089">}</span><br>
<span class="lineno"></span><span class="op" id="8241091">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="8241094">var</span>&nbsp;<span class="ident" id="8241098">ipAddrFamilyTests</span>&nbsp;<span class="op" id="8241116">=</span>&nbsp;<span class="op" id="8241118">[</span><span class="op" id="8241119">]</span><span class="keyword" id="8241120">struct</span>&nbsp;<span class="op" id="8241127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241130">in</span>&nbsp;&nbsp;<span class="ident" id="8241134">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241138">af4</span>&nbsp;<span class="builtintype" id="8241142">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241148">af6</span>&nbsp;<span class="builtintype" id="8241152">bool</span><br>
<span class="lineno">390</span><span class="op" id="8241157">}</span><span class="op" id="8241158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241161">{</span><span class="ident" id="8241162">IPv4bcast</span><span class="op" id="8241171">,</span>&nbsp;<span class="builtintype" id="8241173">true</span><span class="op" id="8241177">,</span>&nbsp;<span class="builtintype" id="8241179">false</span><span class="op" id="8241184">}</span><span class="op" id="8241185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241188">{</span><span class="ident" id="8241189">IPv4allsys</span><span class="op" id="8241199">,</span>&nbsp;<span class="builtintype" id="8241201">true</span><span class="op" id="8241205">,</span>&nbsp;<span class="builtintype" id="8241207">false</span><span class="op" id="8241212">}</span><span class="op" id="8241213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241216">{</span><span class="ident" id="8241217">IPv4allrouter</span><span class="op" id="8241230">,</span>&nbsp;<span class="builtintype" id="8241232">true</span><span class="op" id="8241236">,</span>&nbsp;<span class="builtintype" id="8241238">false</span><span class="op" id="8241243">}</span><span class="op" id="8241244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241247">{</span><span class="ident" id="8241248">IPv4zero</span><span class="op" id="8241256">,</span>&nbsp;<span class="builtintype" id="8241258">true</span><span class="op" id="8241262">,</span>&nbsp;<span class="builtintype" id="8241264">false</span><span class="op" id="8241269">}</span><span class="op" id="8241270">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241273">{</span><span class="ident" id="8241274">IPv4</span><span class="op" id="8241278">(</span><span class="num" id="8241279">224</span><span class="op" id="8241282">,</span>&nbsp;<span class="num" id="8241284">0</span><span class="op" id="8241285">,</span>&nbsp;<span class="num" id="8241287">0</span><span class="op" id="8241288">,</span>&nbsp;<span class="num" id="8241290">1</span><span class="op" id="8241291">)</span><span class="op" id="8241292">,</span>&nbsp;<span class="builtintype" id="8241294">true</span><span class="op" id="8241298">,</span>&nbsp;<span class="builtintype" id="8241300">false</span><span class="op" id="8241305">}</span><span class="op" id="8241306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241309">{</span><span class="ident" id="8241310">IPv4</span><span class="op" id="8241314">(</span><span class="num" id="8241315">127</span><span class="op" id="8241318">,</span>&nbsp;<span class="num" id="8241320">0</span><span class="op" id="8241321">,</span>&nbsp;<span class="num" id="8241323">0</span><span class="op" id="8241324">,</span>&nbsp;<span class="num" id="8241326">1</span><span class="op" id="8241327">)</span><span class="op" id="8241328">,</span>&nbsp;<span class="builtintype" id="8241330">true</span><span class="op" id="8241334">,</span>&nbsp;<span class="builtintype" id="8241336">false</span><span class="op" id="8241341">}</span><span class="op" id="8241342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241345">{</span><span class="ident" id="8241346">IPv4</span><span class="op" id="8241350">(</span><span class="num" id="8241351">240</span><span class="op" id="8241354">,</span>&nbsp;<span class="num" id="8241356">0</span><span class="op" id="8241357">,</span>&nbsp;<span class="num" id="8241359">0</span><span class="op" id="8241360">,</span>&nbsp;<span class="num" id="8241362">1</span><span class="op" id="8241363">)</span><span class="op" id="8241364">,</span>&nbsp;<span class="builtintype" id="8241366">true</span><span class="op" id="8241370">,</span>&nbsp;<span class="builtintype" id="8241372">false</span><span class="op" id="8241377">}</span><span class="op" id="8241378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241381">{</span><span class="ident" id="8241382">IPv6unspecified</span><span class="op" id="8241397">,</span>&nbsp;<span class="builtintype" id="8241399">false</span><span class="op" id="8241404">,</span>&nbsp;<span class="builtintype" id="8241406">true</span><span class="op" id="8241410">}</span><span class="op" id="8241411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241414">{</span><span class="ident" id="8241415">IPv6loopback</span><span class="op" id="8241427">,</span>&nbsp;<span class="builtintype" id="8241429">false</span><span class="op" id="8241434">,</span>&nbsp;<span class="builtintype" id="8241436">true</span><span class="op" id="8241440">}</span><span class="op" id="8241441">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241444">{</span><span class="ident" id="8241445">IPv6interfacelocalallnodes</span><span class="op" id="8241471">,</span>&nbsp;<span class="builtintype" id="8241473">false</span><span class="op" id="8241478">,</span>&nbsp;<span class="builtintype" id="8241480">true</span><span class="op" id="8241484">}</span><span class="op" id="8241485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241488">{</span><span class="ident" id="8241489">IPv6linklocalallnodes</span><span class="op" id="8241510">,</span>&nbsp;<span class="builtintype" id="8241512">false</span><span class="op" id="8241517">,</span>&nbsp;<span class="builtintype" id="8241519">true</span><span class="op" id="8241523">}</span><span class="op" id="8241524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241527">{</span><span class="ident" id="8241528">IPv6linklocalallrouters</span><span class="op" id="8241551">,</span>&nbsp;<span class="builtintype" id="8241553">false</span><span class="op" id="8241558">,</span>&nbsp;<span class="builtintype" id="8241560">true</span><span class="op" id="8241564">}</span><span class="op" id="8241565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241568">{</span><span class="ident" id="8241569">ParseIP</span><span class="op" id="8241576">(</span><span class="string" id="8241577">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="8241592">)</span><span class="op" id="8241593">,</span>&nbsp;<span class="builtintype" id="8241595">false</span><span class="op" id="8241600">,</span>&nbsp;<span class="builtintype" id="8241602">true</span><span class="op" id="8241606">}</span><span class="op" id="8241607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241610">{</span><span class="ident" id="8241611">ParseIP</span><span class="op" id="8241618">(</span><span class="string" id="8241619">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="8241634">)</span><span class="op" id="8241635">,</span>&nbsp;<span class="builtintype" id="8241637">false</span><span class="op" id="8241642">,</span>&nbsp;<span class="builtintype" id="8241644">true</span><span class="op" id="8241648">}</span><span class="op" id="8241649">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241652">{</span><span class="ident" id="8241653">ParseIP</span><span class="op" id="8241660">(</span><span class="string" id="8241661">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="8241681">)</span><span class="op" id="8241682">,</span>&nbsp;<span class="builtintype" id="8241684">false</span><span class="op" id="8241689">,</span>&nbsp;<span class="builtintype" id="8241691">true</span><span class="op" id="8241695">}</span><span class="op" id="8241696">,</span><br>
<span class="lineno"></span><span class="op" id="8241698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241701">func</span>&nbsp;<span class="ident" id="8241706">TestIPAddrFamily</span><span class="op" id="8241722">(</span><span class="ident" id="8241723">t</span>&nbsp;<span class="op" id="8241725">*</span><span class="ident" id="8241726">testing</span><span class="op" id="8241733">.</span><span class="ident" id="8241734">T</span><span class="op" id="8241735">)</span>&nbsp;<span class="op" id="8241737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241740">for</span>&nbsp;<span class="ident" id="8241744">_</span><span class="op" id="8241745">,</span>&nbsp;<span class="ident" id="8241747">tt</span>&nbsp;<span class="op" id="8241750">:=</span>&nbsp;<span class="keyword" id="8241753">range</span>&nbsp;<span class="ident" id="8241759">ipAddrFamilyTests</span>&nbsp;<span class="op" id="8241777">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241781">if</span>&nbsp;<span class="ident" id="8241784">af</span>&nbsp;<span class="op" id="8241787">:=</span>&nbsp;<span class="ident" id="8241790">tt</span><span class="op" id="8241792">.</span><span class="ident" id="8241793">in</span><span class="op" id="8241795">.</span><span class="ident" id="8241796">To4</span><span class="op" id="8241799">(</span><span class="op" id="8241800">)</span>&nbsp;<span class="op" id="8241802">!=</span>&nbsp;<span class="ident" id="8241805">nil</span><span class="op" id="8241808">;</span>&nbsp;<span class="ident" id="8241810">af</span>&nbsp;<span class="op" id="8241813">!=</span>&nbsp;<span class="ident" id="8241816">tt</span><span class="op" id="8241818">.</span><span class="ident" id="8241819">af4</span>&nbsp;<span class="op" id="8241823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241828">t</span><span class="op" id="8241829">.</span><span class="ident" id="8241830">Errorf</span><span class="op" id="8241836">(</span><span class="string" id="8241837">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8241889">,</span>&nbsp;<span class="ident" id="8241891">tt</span><span class="op" id="8241893">.</span><span class="ident" id="8241894">in</span><span class="op" id="8241896">,</span>&nbsp;<span class="ident" id="8241898">af</span><span class="op" id="8241900">,</span>&nbsp;<span class="ident" id="8241902">tt</span><span class="op" id="8241904">.</span><span class="ident" id="8241905">af4</span><span class="op" id="8241908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241916">if</span>&nbsp;<span class="ident" id="8241919">af</span>&nbsp;<span class="op" id="8241922">:=</span>&nbsp;<span class="builtinfunc" id="8241925">len</span><span class="op" id="8241928">(</span><span class="ident" id="8241929">tt</span><span class="op" id="8241931">.</span><span class="ident" id="8241932">in</span><span class="op" id="8241934">)</span>&nbsp;<span class="op" id="8241936">==</span>&nbsp;<span class="ident" id="8241939">IPv6len</span>&nbsp;<span class="op" id="8241947">&amp;&amp;</span>&nbsp;<span class="ident" id="8241950">tt</span><span class="op" id="8241952">.</span><span class="ident" id="8241953">in</span><span class="op" id="8241955">.</span><span class="ident" id="8241956">To4</span><span class="op" id="8241959">(</span><span class="op" id="8241960">)</span>&nbsp;<span class="op" id="8241962">==</span>&nbsp;<span class="ident" id="8241965">nil</span><span class="op" id="8241968">;</span>&nbsp;<span class="ident" id="8241970">af</span>&nbsp;<span class="op" id="8241973">!=</span>&nbsp;<span class="ident" id="8241976">tt</span><span class="op" id="8241978">.</span><span class="ident" id="8241979">af6</span>&nbsp;<span class="op" id="8241983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241988">t</span><span class="op" id="8241989">.</span><span class="ident" id="8241990">Errorf</span><span class="op" id="8241996">(</span><span class="string" id="8241997">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8242049">,</span>&nbsp;<span class="ident" id="8242051">tt</span><span class="op" id="8242053">.</span><span class="ident" id="8242054">in</span><span class="op" id="8242056">,</span>&nbsp;<span class="ident" id="8242058">af</span><span class="op" id="8242060">,</span>&nbsp;<span class="ident" id="8242062">tt</span><span class="op" id="8242064">.</span><span class="ident" id="8242065">af6</span><span class="op" id="8242068">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242075">}</span><br>
<span class="lineno"></span><span class="op" id="8242077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8242080">var</span>&nbsp;<span class="ident" id="8242084">ipAddrScopeTests</span>&nbsp;<span class="op" id="8242101">=</span>&nbsp;<span class="op" id="8242103">[</span><span class="op" id="8242104">]</span><span class="keyword" id="8242105">struct</span>&nbsp;<span class="op" id="8242112">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242115">scope</span>&nbsp;<span class="keyword" id="8242121">func</span><span class="op" id="8242125">(</span><span class="ident" id="8242126">IP</span><span class="op" id="8242128">)</span>&nbsp;<span class="builtintype" id="8242130">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242136">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8242142">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242146">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8242152">bool</span><br>
<span class="lineno"></span><span class="op" id="8242157">}</span><span class="op" id="8242158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242161">{</span><span class="ident" id="8242162">IP</span><span class="op" id="8242164">.</span><span class="ident" id="8242165">IsUnspecified</span><span class="op" id="8242178">,</span>&nbsp;<span class="ident" id="8242180">IPv4zero</span><span class="op" id="8242188">,</span>&nbsp;<span class="builtintype" id="8242190">true</span><span class="op" id="8242194">}</span><span class="op" id="8242195">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242198">{</span><span class="ident" id="8242199">IP</span><span class="op" id="8242201">.</span><span class="ident" id="8242202">IsUnspecified</span><span class="op" id="8242215">,</span>&nbsp;<span class="ident" id="8242217">IPv4</span><span class="op" id="8242221">(</span><span class="num" id="8242222">127</span><span class="op" id="8242225">,</span>&nbsp;<span class="num" id="8242227">0</span><span class="op" id="8242228">,</span>&nbsp;<span class="num" id="8242230">0</span><span class="op" id="8242231">,</span>&nbsp;<span class="num" id="8242233">1</span><span class="op" id="8242234">)</span><span class="op" id="8242235">,</span>&nbsp;<span class="builtintype" id="8242237">false</span><span class="op" id="8242242">}</span><span class="op" id="8242243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242246">{</span><span class="ident" id="8242247">IP</span><span class="op" id="8242249">.</span><span class="ident" id="8242250">IsUnspecified</span><span class="op" id="8242263">,</span>&nbsp;<span class="ident" id="8242265">IPv6unspecified</span><span class="op" id="8242280">,</span>&nbsp;<span class="builtintype" id="8242282">true</span><span class="op" id="8242286">}</span><span class="op" id="8242287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242290">{</span><span class="ident" id="8242291">IP</span><span class="op" id="8242293">.</span><span class="ident" id="8242294">IsUnspecified</span><span class="op" id="8242307">,</span>&nbsp;<span class="ident" id="8242309">IPv6interfacelocalallnodes</span><span class="op" id="8242335">,</span>&nbsp;<span class="builtintype" id="8242337">false</span><span class="op" id="8242342">}</span><span class="op" id="8242343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242346">{</span><span class="ident" id="8242347">IP</span><span class="op" id="8242349">.</span><span class="ident" id="8242350">IsLoopback</span><span class="op" id="8242360">,</span>&nbsp;<span class="ident" id="8242362">IPv4</span><span class="op" id="8242366">(</span><span class="num" id="8242367">127</span><span class="op" id="8242370">,</span>&nbsp;<span class="num" id="8242372">0</span><span class="op" id="8242373">,</span>&nbsp;<span class="num" id="8242375">0</span><span class="op" id="8242376">,</span>&nbsp;<span class="num" id="8242378">1</span><span class="op" id="8242379">)</span><span class="op" id="8242380">,</span>&nbsp;<span class="builtintype" id="8242382">true</span><span class="op" id="8242386">}</span><span class="op" id="8242387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242390">{</span><span class="ident" id="8242391">IP</span><span class="op" id="8242393">.</span><span class="ident" id="8242394">IsLoopback</span><span class="op" id="8242404">,</span>&nbsp;<span class="ident" id="8242406">IPv4</span><span class="op" id="8242410">(</span><span class="num" id="8242411">127</span><span class="op" id="8242414">,</span>&nbsp;<span class="num" id="8242416">255</span><span class="op" id="8242419">,</span>&nbsp;<span class="num" id="8242421">255</span><span class="op" id="8242424">,</span>&nbsp;<span class="num" id="8242426">254</span><span class="op" id="8242429">)</span><span class="op" id="8242430">,</span>&nbsp;<span class="builtintype" id="8242432">true</span><span class="op" id="8242436">}</span><span class="op" id="8242437">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242440">{</span><span class="ident" id="8242441">IP</span><span class="op" id="8242443">.</span><span class="ident" id="8242444">IsLoopback</span><span class="op" id="8242454">,</span>&nbsp;<span class="ident" id="8242456">IPv4</span><span class="op" id="8242460">(</span><span class="num" id="8242461">128</span><span class="op" id="8242464">,</span>&nbsp;<span class="num" id="8242466">1</span><span class="op" id="8242467">,</span>&nbsp;<span class="num" id="8242469">2</span><span class="op" id="8242470">,</span>&nbsp;<span class="num" id="8242472">3</span><span class="op" id="8242473">)</span><span class="op" id="8242474">,</span>&nbsp;<span class="builtintype" id="8242476">false</span><span class="op" id="8242481">}</span><span class="op" id="8242482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242485">{</span><span class="ident" id="8242486">IP</span><span class="op" id="8242488">.</span><span class="ident" id="8242489">IsLoopback</span><span class="op" id="8242499">,</span>&nbsp;<span class="ident" id="8242501">IPv6loopback</span><span class="op" id="8242513">,</span>&nbsp;<span class="builtintype" id="8242515">true</span><span class="op" id="8242519">}</span><span class="op" id="8242520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242523">{</span><span class="ident" id="8242524">IP</span><span class="op" id="8242526">.</span><span class="ident" id="8242527">IsLoopback</span><span class="op" id="8242537">,</span>&nbsp;<span class="ident" id="8242539">IPv6linklocalallrouters</span><span class="op" id="8242562">,</span>&nbsp;<span class="builtintype" id="8242564">false</span><span class="op" id="8242569">}</span><span class="op" id="8242570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242573">{</span><span class="ident" id="8242574">IP</span><span class="op" id="8242576">.</span><span class="ident" id="8242577">IsMulticast</span><span class="op" id="8242588">,</span>&nbsp;<span class="ident" id="8242590">IPv4</span><span class="op" id="8242594">(</span><span class="num" id="8242595">224</span><span class="op" id="8242598">,</span>&nbsp;<span class="num" id="8242600">0</span><span class="op" id="8242601">,</span>&nbsp;<span class="num" id="8242603">0</span><span class="op" id="8242604">,</span>&nbsp;<span class="num" id="8242606">0</span><span class="op" id="8242607">)</span><span class="op" id="8242608">,</span>&nbsp;<span class="builtintype" id="8242610">true</span><span class="op" id="8242614">}</span><span class="op" id="8242615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242618">{</span><span class="ident" id="8242619">IP</span><span class="op" id="8242621">.</span><span class="ident" id="8242622">IsMulticast</span><span class="op" id="8242633">,</span>&nbsp;<span class="ident" id="8242635">IPv4</span><span class="op" id="8242639">(</span><span class="num" id="8242640">239</span><span class="op" id="8242643">,</span>&nbsp;<span class="num" id="8242645">0</span><span class="op" id="8242646">,</span>&nbsp;<span class="num" id="8242648">0</span><span class="op" id="8242649">,</span>&nbsp;<span class="num" id="8242651">0</span><span class="op" id="8242652">)</span><span class="op" id="8242653">,</span>&nbsp;<span class="builtintype" id="8242655">true</span><span class="op" id="8242659">}</span><span class="op" id="8242660">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242663">{</span><span class="ident" id="8242664">IP</span><span class="op" id="8242666">.</span><span class="ident" id="8242667">IsMulticast</span><span class="op" id="8242678">,</span>&nbsp;<span class="ident" id="8242680">IPv4</span><span class="op" id="8242684">(</span><span class="num" id="8242685">240</span><span class="op" id="8242688">,</span>&nbsp;<span class="num" id="8242690">0</span><span class="op" id="8242691">,</span>&nbsp;<span class="num" id="8242693">0</span><span class="op" id="8242694">,</span>&nbsp;<span class="num" id="8242696">0</span><span class="op" id="8242697">)</span><span class="op" id="8242698">,</span>&nbsp;<span class="builtintype" id="8242700">false</span><span class="op" id="8242705">}</span><span class="op" id="8242706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242709">{</span><span class="ident" id="8242710">IP</span><span class="op" id="8242712">.</span><span class="ident" id="8242713">IsMulticast</span><span class="op" id="8242724">,</span>&nbsp;<span class="ident" id="8242726">IPv6linklocalallnodes</span><span class="op" id="8242747">,</span>&nbsp;<span class="builtintype" id="8242749">true</span><span class="op" id="8242753">}</span><span class="op" id="8242754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242757">{</span><span class="ident" id="8242758">IP</span><span class="op" id="8242760">.</span><span class="ident" id="8242761">IsMulticast</span><span class="op" id="8242772">,</span>&nbsp;<span class="ident" id="8242774">IP</span><span class="op" id="8242776">{</span><span class="num" id="8242777">0xff</span><span class="op" id="8242781">,</span>&nbsp;<span class="num" id="8242783">0x05</span><span class="op" id="8242787">,</span>&nbsp;<span class="num" id="8242789">0</span><span class="op" id="8242790">,</span>&nbsp;<span class="num" id="8242792">0</span><span class="op" id="8242793">,</span>&nbsp;<span class="num" id="8242795">0</span><span class="op" id="8242796">,</span>&nbsp;<span class="num" id="8242798">0</span><span class="op" id="8242799">,</span>&nbsp;<span class="num" id="8242801">0</span><span class="op" id="8242802">,</span>&nbsp;<span class="num" id="8242804">0</span><span class="op" id="8242805">,</span>&nbsp;<span class="num" id="8242807">0</span><span class="op" id="8242808">,</span>&nbsp;<span class="num" id="8242810">0</span><span class="op" id="8242811">,</span>&nbsp;<span class="num" id="8242813">0</span><span class="op" id="8242814">,</span>&nbsp;<span class="num" id="8242816">0</span><span class="op" id="8242817">,</span>&nbsp;<span class="num" id="8242819">0</span><span class="op" id="8242820">,</span>&nbsp;<span class="num" id="8242822">0</span><span class="op" id="8242823">,</span>&nbsp;<span class="num" id="8242825">0</span><span class="op" id="8242826">,</span>&nbsp;<span class="num" id="8242828">0</span><span class="op" id="8242829">}</span><span class="op" id="8242830">,</span>&nbsp;<span class="builtintype" id="8242832">true</span><span class="op" id="8242836">}</span><span class="op" id="8242837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242840">{</span><span class="ident" id="8242841">IP</span><span class="op" id="8242843">.</span><span class="ident" id="8242844">IsMulticast</span><span class="op" id="8242855">,</span>&nbsp;<span class="ident" id="8242857">IP</span><span class="op" id="8242859">{</span><span class="num" id="8242860">0xfe</span><span class="op" id="8242864">,</span>&nbsp;<span class="num" id="8242866">0x80</span><span class="op" id="8242870">,</span>&nbsp;<span class="num" id="8242872">0</span><span class="op" id="8242873">,</span>&nbsp;<span class="num" id="8242875">0</span><span class="op" id="8242876">,</span>&nbsp;<span class="num" id="8242878">0</span><span class="op" id="8242879">,</span>&nbsp;<span class="num" id="8242881">0</span><span class="op" id="8242882">,</span>&nbsp;<span class="num" id="8242884">0</span><span class="op" id="8242885">,</span>&nbsp;<span class="num" id="8242887">0</span><span class="op" id="8242888">,</span>&nbsp;<span class="num" id="8242890">0</span><span class="op" id="8242891">,</span>&nbsp;<span class="num" id="8242893">0</span><span class="op" id="8242894">,</span>&nbsp;<span class="num" id="8242896">0</span><span class="op" id="8242897">,</span>&nbsp;<span class="num" id="8242899">0</span><span class="op" id="8242900">,</span>&nbsp;<span class="num" id="8242902">0</span><span class="op" id="8242903">,</span>&nbsp;<span class="num" id="8242905">0</span><span class="op" id="8242906">,</span>&nbsp;<span class="num" id="8242908">0</span><span class="op" id="8242909">,</span>&nbsp;<span class="num" id="8242911">0</span><span class="op" id="8242912">}</span><span class="op" id="8242913">,</span>&nbsp;<span class="builtintype" id="8242915">false</span><span class="op" id="8242920">}</span><span class="op" id="8242921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242924">{</span><span class="ident" id="8242925">IP</span><span class="op" id="8242927">.</span><span class="ident" id="8242928">IsLinkLocalMulticast</span><span class="op" id="8242948">,</span>&nbsp;<span class="ident" id="8242950">IPv4</span><span class="op" id="8242954">(</span><span class="num" id="8242955">224</span><span class="op" id="8242958">,</span>&nbsp;<span class="num" id="8242960">0</span><span class="op" id="8242961">,</span>&nbsp;<span class="num" id="8242963">0</span><span class="op" id="8242964">,</span>&nbsp;<span class="num" id="8242966">0</span><span class="op" id="8242967">)</span><span class="op" id="8242968">,</span>&nbsp;<span class="builtintype" id="8242970">true</span><span class="op" id="8242974">}</span><span class="op" id="8242975">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242978">{</span><span class="ident" id="8242979">IP</span><span class="op" id="8242981">.</span><span class="ident" id="8242982">IsLinkLocalMulticast</span><span class="op" id="8243002">,</span>&nbsp;<span class="ident" id="8243004">IPv4</span><span class="op" id="8243008">(</span><span class="num" id="8243009">239</span><span class="op" id="8243012">,</span>&nbsp;<span class="num" id="8243014">0</span><span class="op" id="8243015">,</span>&nbsp;<span class="num" id="8243017">0</span><span class="op" id="8243018">,</span>&nbsp;<span class="num" id="8243020">0</span><span class="op" id="8243021">)</span><span class="op" id="8243022">,</span>&nbsp;<span class="builtintype" id="8243024">false</span><span class="op" id="8243029">}</span><span class="op" id="8243030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243033">{</span><span class="ident" id="8243034">IP</span><span class="op" id="8243036">.</span><span class="ident" id="8243037">IsLinkLocalMulticast</span><span class="op" id="8243057">,</span>&nbsp;<span class="ident" id="8243059">IPv6linklocalallrouters</span><span class="op" id="8243082">,</span>&nbsp;<span class="builtintype" id="8243084">true</span><span class="op" id="8243088">}</span><span class="op" id="8243089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243092">{</span><span class="ident" id="8243093">IP</span><span class="op" id="8243095">.</span><span class="ident" id="8243096">IsLinkLocalMulticast</span><span class="op" id="8243116">,</span>&nbsp;<span class="ident" id="8243118">IP</span><span class="op" id="8243120">{</span><span class="num" id="8243121">0xff</span><span class="op" id="8243125">,</span>&nbsp;<span class="num" id="8243127">0x05</span><span class="op" id="8243131">,</span>&nbsp;<span class="num" id="8243133">0</span><span class="op" id="8243134">,</span>&nbsp;<span class="num" id="8243136">0</span><span class="op" id="8243137">,</span>&nbsp;<span class="num" id="8243139">0</span><span class="op" id="8243140">,</span>&nbsp;<span class="num" id="8243142">0</span><span class="op" id="8243143">,</span>&nbsp;<span class="num" id="8243145">0</span><span class="op" id="8243146">,</span>&nbsp;<span class="num" id="8243148">0</span><span class="op" id="8243149">,</span>&nbsp;<span class="num" id="8243151">0</span><span class="op" id="8243152">,</span>&nbsp;<span class="num" id="8243154">0</span><span class="op" id="8243155">,</span>&nbsp;<span class="num" id="8243157">0</span><span class="op" id="8243158">,</span>&nbsp;<span class="num" id="8243160">0</span><span class="op" id="8243161">,</span>&nbsp;<span class="num" id="8243163">0</span><span class="op" id="8243164">,</span>&nbsp;<span class="num" id="8243166">0</span><span class="op" id="8243167">,</span>&nbsp;<span class="num" id="8243169">0</span><span class="op" id="8243170">,</span>&nbsp;<span class="num" id="8243172">0</span><span class="op" id="8243173">}</span><span class="op" id="8243174">,</span>&nbsp;<span class="builtintype" id="8243176">false</span><span class="op" id="8243181">}</span><span class="op" id="8243182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243185">{</span><span class="ident" id="8243186">IP</span><span class="op" id="8243188">.</span><span class="ident" id="8243189">IsLinkLocalUnicast</span><span class="op" id="8243207">,</span>&nbsp;<span class="ident" id="8243209">IPv4</span><span class="op" id="8243213">(</span><span class="num" id="8243214">169</span><span class="op" id="8243217">,</span>&nbsp;<span class="num" id="8243219">254</span><span class="op" id="8243222">,</span>&nbsp;<span class="num" id="8243224">0</span><span class="op" id="8243225">,</span>&nbsp;<span class="num" id="8243227">0</span><span class="op" id="8243228">)</span><span class="op" id="8243229">,</span>&nbsp;<span class="builtintype" id="8243231">true</span><span class="op" id="8243235">}</span><span class="op" id="8243236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243239">{</span><span class="ident" id="8243240">IP</span><span class="op" id="8243242">.</span><span class="ident" id="8243243">IsLinkLocalUnicast</span><span class="op" id="8243261">,</span>&nbsp;<span class="ident" id="8243263">IPv4</span><span class="op" id="8243267">(</span><span class="num" id="8243268">169</span><span class="op" id="8243271">,</span>&nbsp;<span class="num" id="8243273">255</span><span class="op" id="8243276">,</span>&nbsp;<span class="num" id="8243278">0</span><span class="op" id="8243279">,</span>&nbsp;<span class="num" id="8243281">0</span><span class="op" id="8243282">)</span><span class="op" id="8243283">,</span>&nbsp;<span class="builtintype" id="8243285">false</span><span class="op" id="8243290">}</span><span class="op" id="8243291">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243294">{</span><span class="ident" id="8243295">IP</span><span class="op" id="8243297">.</span><span class="ident" id="8243298">IsLinkLocalUnicast</span><span class="op" id="8243316">,</span>&nbsp;<span class="ident" id="8243318">IP</span><span class="op" id="8243320">{</span><span class="num" id="8243321">0xfe</span><span class="op" id="8243325">,</span>&nbsp;<span class="num" id="8243327">0x80</span><span class="op" id="8243331">,</span>&nbsp;<span class="num" id="8243333">0</span><span class="op" id="8243334">,</span>&nbsp;<span class="num" id="8243336">0</span><span class="op" id="8243337">,</span>&nbsp;<span class="num" id="8243339">0</span><span class="op" id="8243340">,</span>&nbsp;<span class="num" id="8243342">0</span><span class="op" id="8243343">,</span>&nbsp;<span class="num" id="8243345">0</span><span class="op" id="8243346">,</span>&nbsp;<span class="num" id="8243348">0</span><span class="op" id="8243349">,</span>&nbsp;<span class="num" id="8243351">0</span><span class="op" id="8243352">,</span>&nbsp;<span class="num" id="8243354">0</span><span class="op" id="8243355">,</span>&nbsp;<span class="num" id="8243357">0</span><span class="op" id="8243358">,</span>&nbsp;<span class="num" id="8243360">0</span><span class="op" id="8243361">,</span>&nbsp;<span class="num" id="8243363">0</span><span class="op" id="8243364">,</span>&nbsp;<span class="num" id="8243366">0</span><span class="op" id="8243367">,</span>&nbsp;<span class="num" id="8243369">0</span><span class="op" id="8243370">,</span>&nbsp;<span class="num" id="8243372">0</span><span class="op" id="8243373">}</span><span class="op" id="8243374">,</span>&nbsp;<span class="builtintype" id="8243376">true</span><span class="op" id="8243380">}</span><span class="op" id="8243381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243384">{</span><span class="ident" id="8243385">IP</span><span class="op" id="8243387">.</span><span class="ident" id="8243388">IsLinkLocalUnicast</span><span class="op" id="8243406">,</span>&nbsp;<span class="ident" id="8243408">IP</span><span class="op" id="8243410">{</span><span class="num" id="8243411">0xfe</span><span class="op" id="8243415">,</span>&nbsp;<span class="num" id="8243417">0xc0</span><span class="op" id="8243421">,</span>&nbsp;<span class="num" id="8243423">0</span><span class="op" id="8243424">,</span>&nbsp;<span class="num" id="8243426">0</span><span class="op" id="8243427">,</span>&nbsp;<span class="num" id="8243429">0</span><span class="op" id="8243430">,</span>&nbsp;<span class="num" id="8243432">0</span><span class="op" id="8243433">,</span>&nbsp;<span class="num" id="8243435">0</span><span class="op" id="8243436">,</span>&nbsp;<span class="num" id="8243438">0</span><span class="op" id="8243439">,</span>&nbsp;<span class="num" id="8243441">0</span><span class="op" id="8243442">,</span>&nbsp;<span class="num" id="8243444">0</span><span class="op" id="8243445">,</span>&nbsp;<span class="num" id="8243447">0</span><span class="op" id="8243448">,</span>&nbsp;<span class="num" id="8243450">0</span><span class="op" id="8243451">,</span>&nbsp;<span class="num" id="8243453">0</span><span class="op" id="8243454">,</span>&nbsp;<span class="num" id="8243456">0</span><span class="op" id="8243457">,</span>&nbsp;<span class="num" id="8243459">0</span><span class="op" id="8243460">,</span>&nbsp;<span class="num" id="8243462">0</span><span class="op" id="8243463">}</span><span class="op" id="8243464">,</span>&nbsp;<span class="builtintype" id="8243466">false</span><span class="op" id="8243471">}</span><span class="op" id="8243472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243475">{</span><span class="ident" id="8243476">IP</span><span class="op" id="8243478">.</span><span class="ident" id="8243479">IsGlobalUnicast</span><span class="op" id="8243494">,</span>&nbsp;<span class="ident" id="8243496">IPv4</span><span class="op" id="8243500">(</span><span class="num" id="8243501">240</span><span class="op" id="8243504">,</span>&nbsp;<span class="num" id="8243506">0</span><span class="op" id="8243507">,</span>&nbsp;<span class="num" id="8243509">0</span><span class="op" id="8243510">,</span>&nbsp;<span class="num" id="8243512">0</span><span class="op" id="8243513">)</span><span class="op" id="8243514">,</span>&nbsp;<span class="builtintype" id="8243516">true</span><span class="op" id="8243520">}</span><span class="op" id="8243521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243524">{</span><span class="ident" id="8243525">IP</span><span class="op" id="8243527">.</span><span class="ident" id="8243528">IsGlobalUnicast</span><span class="op" id="8243543">,</span>&nbsp;<span class="ident" id="8243545">IPv4</span><span class="op" id="8243549">(</span><span class="num" id="8243550">232</span><span class="op" id="8243553">,</span>&nbsp;<span class="num" id="8243555">0</span><span class="op" id="8243556">,</span>&nbsp;<span class="num" id="8243558">0</span><span class="op" id="8243559">,</span>&nbsp;<span class="num" id="8243561">0</span><span class="op" id="8243562">)</span><span class="op" id="8243563">,</span>&nbsp;<span class="builtintype" id="8243565">false</span><span class="op" id="8243570">}</span><span class="op" id="8243571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243574">{</span><span class="ident" id="8243575">IP</span><span class="op" id="8243577">.</span><span class="ident" id="8243578">IsGlobalUnicast</span><span class="op" id="8243593">,</span>&nbsp;<span class="ident" id="8243595">IPv4</span><span class="op" id="8243599">(</span><span class="num" id="8243600">169</span><span class="op" id="8243603">,</span>&nbsp;<span class="num" id="8243605">254</span><span class="op" id="8243608">,</span>&nbsp;<span class="num" id="8243610">0</span><span class="op" id="8243611">,</span>&nbsp;<span class="num" id="8243613">0</span><span class="op" id="8243614">)</span><span class="op" id="8243615">,</span>&nbsp;<span class="builtintype" id="8243617">false</span><span class="op" id="8243622">}</span><span class="op" id="8243623">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243626">{</span><span class="ident" id="8243627">IP</span><span class="op" id="8243629">.</span><span class="ident" id="8243630">IsGlobalUnicast</span><span class="op" id="8243645">,</span>&nbsp;<span class="ident" id="8243647">IP</span><span class="op" id="8243649">{</span><span class="num" id="8243650">0x20</span><span class="op" id="8243654">,</span>&nbsp;<span class="num" id="8243656">0x1</span><span class="op" id="8243659">,</span>&nbsp;<span class="num" id="8243661">0xd</span><span class="op" id="8243664">,</span>&nbsp;<span class="num" id="8243666">0xb8</span><span class="op" id="8243670">,</span>&nbsp;<span class="num" id="8243672">0</span><span class="op" id="8243673">,</span>&nbsp;<span class="num" id="8243675">0</span><span class="op" id="8243676">,</span>&nbsp;<span class="num" id="8243678">0</span><span class="op" id="8243679">,</span>&nbsp;<span class="num" id="8243681">0</span><span class="op" id="8243682">,</span>&nbsp;<span class="num" id="8243684">0</span><span class="op" id="8243685">,</span>&nbsp;<span class="num" id="8243687">0</span><span class="op" id="8243688">,</span>&nbsp;<span class="num" id="8243690">0x1</span><span class="op" id="8243693">,</span>&nbsp;<span class="num" id="8243695">0x23</span><span class="op" id="8243699">,</span>&nbsp;<span class="num" id="8243701">0</span><span class="op" id="8243702">,</span>&nbsp;<span class="num" id="8243704">0x12</span><span class="op" id="8243708">,</span>&nbsp;<span class="num" id="8243710">0</span><span class="op" id="8243711">,</span>&nbsp;<span class="num" id="8243713">0x1</span><span class="op" id="8243716">}</span><span class="op" id="8243717">,</span>&nbsp;<span class="builtintype" id="8243719">true</span><span class="op" id="8243723">}</span><span class="op" id="8243724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243727">{</span><span class="ident" id="8243728">IP</span><span class="op" id="8243730">.</span><span class="ident" id="8243731">IsGlobalUnicast</span><span class="op" id="8243746">,</span>&nbsp;<span class="ident" id="8243748">IP</span><span class="op" id="8243750">{</span><span class="num" id="8243751">0xfe</span><span class="op" id="8243755">,</span>&nbsp;<span class="num" id="8243757">0x80</span><span class="op" id="8243761">,</span>&nbsp;<span class="num" id="8243763">0</span><span class="op" id="8243764">,</span>&nbsp;<span class="num" id="8243766">0</span><span class="op" id="8243767">,</span>&nbsp;<span class="num" id="8243769">0</span><span class="op" id="8243770">,</span>&nbsp;<span class="num" id="8243772">0</span><span class="op" id="8243773">,</span>&nbsp;<span class="num" id="8243775">0</span><span class="op" id="8243776">,</span>&nbsp;<span class="num" id="8243778">0</span><span class="op" id="8243779">,</span>&nbsp;<span class="num" id="8243781">0</span><span class="op" id="8243782">,</span>&nbsp;<span class="num" id="8243784">0</span><span class="op" id="8243785">,</span>&nbsp;<span class="num" id="8243787">0</span><span class="op" id="8243788">,</span>&nbsp;<span class="num" id="8243790">0</span><span class="op" id="8243791">,</span>&nbsp;<span class="num" id="8243793">0</span><span class="op" id="8243794">,</span>&nbsp;<span class="num" id="8243796">0</span><span class="op" id="8243797">,</span>&nbsp;<span class="num" id="8243799">0</span><span class="op" id="8243800">,</span>&nbsp;<span class="num" id="8243802">0</span><span class="op" id="8243803">}</span><span class="op" id="8243804">,</span>&nbsp;<span class="builtintype" id="8243806">false</span><span class="op" id="8243811">}</span><span class="op" id="8243812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243815">{</span><span class="ident" id="8243816">IP</span><span class="op" id="8243818">.</span><span class="ident" id="8243819">IsGlobalUnicast</span><span class="op" id="8243834">,</span>&nbsp;<span class="ident" id="8243836">IP</span><span class="op" id="8243838">{</span><span class="num" id="8243839">0xff</span><span class="op" id="8243843">,</span>&nbsp;<span class="num" id="8243845">0x05</span><span class="op" id="8243849">,</span>&nbsp;<span class="num" id="8243851">0</span><span class="op" id="8243852">,</span>&nbsp;<span class="num" id="8243854">0</span><span class="op" id="8243855">,</span>&nbsp;<span class="num" id="8243857">0</span><span class="op" id="8243858">,</span>&nbsp;<span class="num" id="8243860">0</span><span class="op" id="8243861">,</span>&nbsp;<span class="num" id="8243863">0</span><span class="op" id="8243864">,</span>&nbsp;<span class="num" id="8243866">0</span><span class="op" id="8243867">,</span>&nbsp;<span class="num" id="8243869">0</span><span class="op" id="8243870">,</span>&nbsp;<span class="num" id="8243872">0</span><span class="op" id="8243873">,</span>&nbsp;<span class="num" id="8243875">0</span><span class="op" id="8243876">,</span>&nbsp;<span class="num" id="8243878">0</span><span class="op" id="8243879">,</span>&nbsp;<span class="num" id="8243881">0</span><span class="op" id="8243882">,</span>&nbsp;<span class="num" id="8243884">0</span><span class="op" id="8243885">,</span>&nbsp;<span class="num" id="8243887">0</span><span class="op" id="8243888">,</span>&nbsp;<span class="num" id="8243890">0</span><span class="op" id="8243891">}</span><span class="op" id="8243892">,</span>&nbsp;<span class="builtintype" id="8243894">false</span><span class="op" id="8243899">}</span><span class="op" id="8243900">,</span><br>
<span class="lineno"></span><span class="op" id="8243902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="8243905">func</span>&nbsp;<span class="ident" id="8243910">name</span><span class="op" id="8243914">(</span><span class="ident" id="8243915">f</span>&nbsp;<span class="keyword" id="8243917">interface</span><span class="op" id="8243926">{</span><span class="op" id="8243927">}</span><span class="op" id="8243928">)</span>&nbsp;<span class="builtintype" id="8243930">string</span>&nbsp;<span class="op" id="8243937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243940">return</span>&nbsp;<span class="ident" id="8243947">runtime</span><span class="op" id="8243954">.</span><span class="ident" id="8243955">FuncForPC</span><span class="op" id="8243964">(</span><span class="ident" id="8243965">reflect</span><span class="op" id="8243972">.</span><span class="ident" id="8243973">ValueOf</span><span class="op" id="8243980">(</span><span class="ident" id="8243981">f</span><span class="op" id="8243982">)</span><span class="op" id="8243983">.</span><span class="ident" id="8243984">Pointer</span><span class="op" id="8243991">(</span><span class="op" id="8243992">)</span><span class="op" id="8243993">)</span><span class="op" id="8243994">.</span><span class="ident" id="8243995">Name</span><span class="op" id="8243999">(</span><span class="op" id="8244000">)</span><br>
<span class="lineno"></span><span class="op" id="8244002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244005">func</span>&nbsp;<span class="ident" id="8244010">TestIPAddrScope</span><span class="op" id="8244025">(</span><span class="ident" id="8244026">t</span>&nbsp;<span class="op" id="8244028">*</span><span class="ident" id="8244029">testing</span><span class="op" id="8244036">.</span><span class="ident" id="8244037">T</span><span class="op" id="8244038">)</span>&nbsp;<span class="op" id="8244040">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244043">for</span>&nbsp;<span class="ident" id="8244047">_</span><span class="op" id="8244048">,</span>&nbsp;<span class="ident" id="8244050">tt</span>&nbsp;<span class="op" id="8244053">:=</span>&nbsp;<span class="keyword" id="8244056">range</span>&nbsp;<span class="ident" id="8244062">ipAddrScopeTests</span>&nbsp;<span class="op" id="8244079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244083">if</span>&nbsp;<span class="ident" id="8244086">ok</span>&nbsp;<span class="op" id="8244089">:=</span>&nbsp;<span class="ident" id="8244092">tt</span><span class="op" id="8244094">.</span><span class="ident" id="8244095">scope</span><span class="op" id="8244100">(</span><span class="ident" id="8244101">tt</span><span class="op" id="8244103">.</span><span class="ident" id="8244104">in</span><span class="op" id="8244106">)</span><span class="op" id="8244107">;</span>&nbsp;<span class="ident" id="8244109">ok</span>&nbsp;<span class="op" id="8244112">!=</span>&nbsp;<span class="ident" id="8244115">tt</span><span class="op" id="8244117">.</span><span class="ident" id="8244118">ok</span>&nbsp;<span class="op" id="8244121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244126">t</span><span class="op" id="8244127">.</span><span class="ident" id="8244128">Errorf</span><span class="op" id="8244134">(</span><span class="string" id="8244135">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8244157">,</span>&nbsp;<span class="ident" id="8244159">name</span><span class="op" id="8244163">(</span><span class="ident" id="8244164">tt</span><span class="op" id="8244166">.</span><span class="ident" id="8244167">scope</span><span class="op" id="8244172">)</span><span class="op" id="8244173">,</span>&nbsp;<span class="ident" id="8244175">tt</span><span class="op" id="8244177">.</span><span class="ident" id="8244178">in</span><span class="op" id="8244180">,</span>&nbsp;<span class="ident" id="8244182">ok</span><span class="op" id="8244184">,</span>&nbsp;<span class="ident" id="8244186">tt</span><span class="op" id="8244188">.</span><span class="ident" id="8244189">ok</span><span class="op" id="8244191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244198">}</span><br>
<span class="lineno">465</span><span class="op" id="8244200">}</span>
</div>
</body>
</html>
