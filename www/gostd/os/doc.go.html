<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html" class="current">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2479775">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2479830">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2479884">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2479935">package</span>&nbsp;<span class="ident" id="2479943">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2479947">import</span>&nbsp;<span class="string" id="2479954">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2479962">//&nbsp;FindProcess&nbsp;looks&nbsp;for&nbsp;a&nbsp;running&nbsp;process&nbsp;by&nbsp;its&nbsp;pid.</span><br>
<span class="lineno">10</span><span class="comment" id="2480017">//&nbsp;The&nbsp;Process&nbsp;it&nbsp;returns&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;obtain&nbsp;information</span><br>
<span class="lineno"></span><span class="comment" id="2480077">//&nbsp;about&nbsp;the&nbsp;underlying&nbsp;operating&nbsp;system&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2480127">func</span>&nbsp;<span class="ident" id="2480132">FindProcess</span><span class="op" id="2480143">(</span><span class="ident" id="2480144">pid</span>&nbsp;<span class="builtintype" id="2480148">int</span><span class="op" id="2480151">)</span>&nbsp;<span class="op" id="2480153">(</span><span class="ident" id="2480154">p</span>&nbsp;<span class="op" id="2480156">*</span><span class="ident" id="2480157">Process</span><span class="op" id="2480164">,</span>&nbsp;<span class="ident" id="2480166">err</span>&nbsp;<span class="builtintype" id="2480170">error</span><span class="op" id="2480175">)</span>&nbsp;<span class="op" id="2480177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2480180">return</span>&nbsp;<span class="ident" id="2480187">findProcess</span><span class="op" id="2480198">(</span><span class="ident" id="2480199">pid</span><span class="op" id="2480202">)</span><br>
<span class="lineno"></span><span class="op" id="2480204">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2480207">//&nbsp;StartProcess&nbsp;starts&nbsp;a&nbsp;new&nbsp;process&nbsp;with&nbsp;the&nbsp;program,&nbsp;arguments&nbsp;and&nbsp;attributes</span><br>
<span class="lineno"></span><span class="comment" id="2480287">//&nbsp;specified&nbsp;by&nbsp;name,&nbsp;argv&nbsp;and&nbsp;attr.</span><br>
<span class="lineno"></span><span class="comment" id="2480324">//</span><br>
<span class="lineno"></span><span class="comment" id="2480327">//&nbsp;StartProcess&nbsp;is&nbsp;a&nbsp;low-level&nbsp;interface.&nbsp;The&nbsp;os/exec&nbsp;package&nbsp;provides</span><br>
<span class="lineno">20</span><span class="comment" id="2480398">//&nbsp;higher-level&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="comment" id="2480426">//</span><br>
<span class="lineno"></span><span class="comment" id="2480429">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2480485">func</span>&nbsp;<span class="ident" id="2480490">StartProcess</span><span class="op" id="2480502">(</span><span class="ident" id="2480503">name</span>&nbsp;<span class="builtintype" id="2480508">string</span><span class="op" id="2480514">,</span>&nbsp;<span class="ident" id="2480516">argv</span>&nbsp;<span class="op" id="2480521">[</span><span class="op" id="2480522">]</span><span class="builtintype" id="2480523">string</span><span class="op" id="2480529">,</span>&nbsp;<span class="ident" id="2480531">attr</span>&nbsp;<span class="op" id="2480536">*</span><span class="ident" id="2480537">ProcAttr</span><span class="op" id="2480545">)</span>&nbsp;<span class="op" id="2480547">(</span><span class="op" id="2480548">*</span><span class="ident" id="2480549">Process</span><span class="op" id="2480556">,</span>&nbsp;<span class="builtintype" id="2480558">error</span><span class="op" id="2480563">)</span>&nbsp;<span class="op" id="2480565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2480568">return</span>&nbsp;<span class="ident" id="2480575">startProcess</span><span class="op" id="2480587">(</span><span class="ident" id="2480588">name</span><span class="op" id="2480592">,</span>&nbsp;<span class="ident" id="2480594">argv</span><span class="op" id="2480598">,</span>&nbsp;<span class="ident" id="2480600">attr</span><span class="op" id="2480604">)</span><br>
<span class="lineno">25</span><span class="op" id="2480606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2480609">//&nbsp;Release&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process&nbsp;p,</span><br>
<span class="lineno"></span><span class="comment" id="2480674">//&nbsp;rendering&nbsp;it&nbsp;unusable&nbsp;in&nbsp;the&nbsp;future.</span><br>
<span class="lineno"></span><span class="comment" id="2480714">//&nbsp;Release&nbsp;only&nbsp;needs&nbsp;to&nbsp;be&nbsp;called&nbsp;if&nbsp;Wait&nbsp;is&nbsp;not.</span><br>
<span class="lineno">30</span><span class="keyword" id="2480765">func</span>&nbsp;<span class="op" id="2480770">(</span><span class="ident" id="2480771">p</span>&nbsp;<span class="op" id="2480773">*</span><span class="ident" id="2480774">Process</span><span class="op" id="2480781">)</span>&nbsp;<span class="ident" id="2480783">Release</span><span class="op" id="2480790">(</span><span class="op" id="2480791">)</span>&nbsp;<span class="builtintype" id="2480793">error</span>&nbsp;<span class="op" id="2480799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2480802">return</span>&nbsp;<span class="ident" id="2480809">p</span><span class="op" id="2480810">.</span><span class="ident" id="2480811">release</span><span class="op" id="2480818">(</span><span class="op" id="2480819">)</span><br>
<span class="lineno"></span><span class="op" id="2480821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2480824">//&nbsp;Kill&nbsp;causes&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit&nbsp;immediately.</span><br>
<span class="lineno">35</span><span class="keyword" id="2480872">func</span>&nbsp;<span class="op" id="2480877">(</span><span class="ident" id="2480878">p</span>&nbsp;<span class="op" id="2480880">*</span><span class="ident" id="2480881">Process</span><span class="op" id="2480888">)</span>&nbsp;<span class="ident" id="2480890">Kill</span><span class="op" id="2480894">(</span><span class="op" id="2480895">)</span>&nbsp;<span class="builtintype" id="2480897">error</span>&nbsp;<span class="op" id="2480903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2480906">return</span>&nbsp;<span class="ident" id="2480913">p</span><span class="op" id="2480914">.</span><span class="ident" id="2480915">kill</span><span class="op" id="2480919">(</span><span class="op" id="2480920">)</span><br>
<span class="lineno"></span><span class="op" id="2480922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2480925">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit,&nbsp;and&nbsp;then&nbsp;returns&nbsp;a</span><br>
<span class="lineno">40</span><span class="comment" id="2480983">//&nbsp;ProcessState&nbsp;describing&nbsp;its&nbsp;status&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2481043">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2481103">//&nbsp;On&nbsp;most&nbsp;operating&nbsp;systems,&nbsp;the&nbsp;Process&nbsp;must&nbsp;be&nbsp;a&nbsp;child</span><br>
<span class="lineno"></span><span class="comment" id="2481161">//&nbsp;of&nbsp;the&nbsp;current&nbsp;process&nbsp;or&nbsp;an&nbsp;error&nbsp;will&nbsp;be&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="2481217">func</span>&nbsp;<span class="op" id="2481222">(</span><span class="ident" id="2481223">p</span>&nbsp;<span class="op" id="2481225">*</span><span class="ident" id="2481226">Process</span><span class="op" id="2481233">)</span>&nbsp;<span class="ident" id="2481235">Wait</span><span class="op" id="2481239">(</span><span class="op" id="2481240">)</span>&nbsp;<span class="op" id="2481242">(</span><span class="op" id="2481243">*</span><span class="ident" id="2481244">ProcessState</span><span class="op" id="2481256">,</span>&nbsp;<span class="builtintype" id="2481258">error</span><span class="op" id="2481263">)</span>&nbsp;<span class="op" id="2481265">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2481268">return</span>&nbsp;<span class="ident" id="2481275">p</span><span class="op" id="2481276">.</span><span class="ident" id="2481277">wait</span><span class="op" id="2481281">(</span><span class="op" id="2481282">)</span><br>
<span class="lineno"></span><span class="op" id="2481284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2481287">//&nbsp;Signal&nbsp;sends&nbsp;a&nbsp;signal&nbsp;to&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2481328">//&nbsp;Sending&nbsp;Interrupt&nbsp;on&nbsp;Windows&nbsp;is&nbsp;not&nbsp;implemented.</span><br>
<span class="lineno">50</span><span class="keyword" id="2481380">func</span>&nbsp;<span class="op" id="2481385">(</span><span class="ident" id="2481386">p</span>&nbsp;<span class="op" id="2481388">*</span><span class="ident" id="2481389">Process</span><span class="op" id="2481396">)</span>&nbsp;<span class="ident" id="2481398">Signal</span><span class="op" id="2481404">(</span><span class="ident" id="2481405">sig</span>&nbsp;<span class="ident" id="2481409">Signal</span><span class="op" id="2481415">)</span>&nbsp;<span class="builtintype" id="2481417">error</span>&nbsp;<span class="op" id="2481423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2481426">return</span>&nbsp;<span class="ident" id="2481433">p</span><span class="op" id="2481434">.</span><span class="ident" id="2481435">signal</span><span class="op" id="2481441">(</span><span class="ident" id="2481442">sig</span><span class="op" id="2481445">)</span><br>
<span class="lineno"></span><span class="op" id="2481447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2481450">//&nbsp;UserTime&nbsp;returns&nbsp;the&nbsp;user&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">55</span><span class="keyword" id="2481528">func</span>&nbsp;<span class="op" id="2481533">(</span><span class="ident" id="2481534">p</span>&nbsp;<span class="op" id="2481536">*</span><span class="ident" id="2481537">ProcessState</span><span class="op" id="2481549">)</span>&nbsp;<span class="ident" id="2481551">UserTime</span><span class="op" id="2481559">(</span><span class="op" id="2481560">)</span>&nbsp;<span class="ident" id="2481562">time</span><span class="op" id="2481566">.</span><span class="ident" id="2481567">Duration</span>&nbsp;<span class="op" id="2481576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2481579">return</span>&nbsp;<span class="ident" id="2481586">p</span><span class="op" id="2481587">.</span><span class="ident" id="2481588">userTime</span><span class="op" id="2481596">(</span><span class="op" id="2481597">)</span><br>
<span class="lineno"></span><span class="op" id="2481599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2481602">//&nbsp;SystemTime&nbsp;returns&nbsp;the&nbsp;system&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">60</span><span class="keyword" id="2481684">func</span>&nbsp;<span class="op" id="2481689">(</span><span class="ident" id="2481690">p</span>&nbsp;<span class="op" id="2481692">*</span><span class="ident" id="2481693">ProcessState</span><span class="op" id="2481705">)</span>&nbsp;<span class="ident" id="2481707">SystemTime</span><span class="op" id="2481717">(</span><span class="op" id="2481718">)</span>&nbsp;<span class="ident" id="2481720">time</span><span class="op" id="2481724">.</span><span class="ident" id="2481725">Duration</span>&nbsp;<span class="op" id="2481734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2481737">return</span>&nbsp;<span class="ident" id="2481744">p</span><span class="op" id="2481745">.</span><span class="ident" id="2481746">systemTime</span><span class="op" id="2481756">(</span><span class="op" id="2481757">)</span><br>
<span class="lineno"></span><span class="op" id="2481759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2481762">//&nbsp;Exited&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;has&nbsp;exited.</span><br>
<span class="lineno">65</span><span class="keyword" id="2481812">func</span>&nbsp;<span class="op" id="2481817">(</span><span class="ident" id="2481818">p</span>&nbsp;<span class="op" id="2481820">*</span><span class="ident" id="2481821">ProcessState</span><span class="op" id="2481833">)</span>&nbsp;<span class="ident" id="2481835">Exited</span><span class="op" id="2481841">(</span><span class="op" id="2481842">)</span>&nbsp;<span class="builtintype" id="2481844">bool</span>&nbsp;<span class="op" id="2481849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2481852">return</span>&nbsp;<span class="ident" id="2481859">p</span><span class="op" id="2481860">.</span><span class="ident" id="2481861">exited</span><span class="op" id="2481867">(</span><span class="op" id="2481868">)</span><br>
<span class="lineno"></span><span class="op" id="2481870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2481873">//&nbsp;Success&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;exited&nbsp;successfully,</span><br>
<span class="lineno">70</span><span class="comment" id="2481933">//&nbsp;such&nbsp;as&nbsp;with&nbsp;exit&nbsp;status&nbsp;0&nbsp;on&nbsp;Unix.</span><br>
<span class="lineno"></span><span class="keyword" id="2481972">func</span>&nbsp;<span class="op" id="2481977">(</span><span class="ident" id="2481978">p</span>&nbsp;<span class="op" id="2481980">*</span><span class="ident" id="2481981">ProcessState</span><span class="op" id="2481993">)</span>&nbsp;<span class="ident" id="2481995">Success</span><span class="op" id="2482002">(</span><span class="op" id="2482003">)</span>&nbsp;<span class="builtintype" id="2482005">bool</span>&nbsp;<span class="op" id="2482010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2482013">return</span>&nbsp;<span class="ident" id="2482020">p</span><span class="op" id="2482021">.</span><span class="ident" id="2482022">success</span><span class="op" id="2482029">(</span><span class="op" id="2482030">)</span><br>
<span class="lineno"></span><span class="op" id="2482032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2482035">//&nbsp;Sys&nbsp;returns&nbsp;system-dependent&nbsp;exit&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2482090">//&nbsp;the&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2482148">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;syscall.WaitStatus&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno"></span><span class="keyword" id="2482217">func</span>&nbsp;<span class="op" id="2482222">(</span><span class="ident" id="2482223">p</span>&nbsp;<span class="op" id="2482225">*</span><span class="ident" id="2482226">ProcessState</span><span class="op" id="2482238">)</span>&nbsp;<span class="ident" id="2482240">Sys</span><span class="op" id="2482243">(</span><span class="op" id="2482244">)</span>&nbsp;<span class="keyword" id="2482246">interface</span><span class="op" id="2482255">{</span><span class="op" id="2482256">}</span>&nbsp;<span class="op" id="2482258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2482261">return</span>&nbsp;<span class="ident" id="2482268">p</span><span class="op" id="2482269">.</span><span class="ident" id="2482270">sys</span><span class="op" id="2482273">(</span><span class="op" id="2482274">)</span><br>
<span class="lineno">80</span><span class="op" id="2482276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2482279">//&nbsp;SysUsage&nbsp;returns&nbsp;system-dependent&nbsp;resource&nbsp;usage&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2482349">//&nbsp;the&nbsp;exited&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2482414">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;*syscall.Rusage&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno">85</span><span class="comment" id="2482480">//&nbsp;(On&nbsp;Unix,&nbsp;*syscall.Rusage&nbsp;matches&nbsp;struct&nbsp;rusage&nbsp;as&nbsp;defined&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2482549">//&nbsp;getrusage(2)&nbsp;manual&nbsp;page.)</span><br>
<span class="lineno"></span><span class="keyword" id="2482579">func</span>&nbsp;<span class="op" id="2482584">(</span><span class="ident" id="2482585">p</span>&nbsp;<span class="op" id="2482587">*</span><span class="ident" id="2482588">ProcessState</span><span class="op" id="2482600">)</span>&nbsp;<span class="ident" id="2482602">SysUsage</span><span class="op" id="2482610">(</span><span class="op" id="2482611">)</span>&nbsp;<span class="keyword" id="2482613">interface</span><span class="op" id="2482622">{</span><span class="op" id="2482623">}</span>&nbsp;<span class="op" id="2482625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2482628">return</span>&nbsp;<span class="ident" id="2482635">p</span><span class="op" id="2482636">.</span><span class="ident" id="2482637">sysUsage</span><span class="op" id="2482645">(</span><span class="op" id="2482646">)</span><br>
<span class="lineno"></span><span class="op" id="2482648">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2482651">//&nbsp;Hostname&nbsp;returns&nbsp;the&nbsp;host&nbsp;name&nbsp;reported&nbsp;by&nbsp;the&nbsp;kernel.</span><br>
<span class="lineno"></span><span class="keyword" id="2482709">func</span>&nbsp;<span class="ident" id="2482714">Hostname</span><span class="op" id="2482722">(</span><span class="op" id="2482723">)</span>&nbsp;<span class="op" id="2482725">(</span><span class="ident" id="2482726">name</span>&nbsp;<span class="builtintype" id="2482731">string</span><span class="op" id="2482737">,</span>&nbsp;<span class="ident" id="2482739">err</span>&nbsp;<span class="builtintype" id="2482743">error</span><span class="op" id="2482748">)</span>&nbsp;<span class="op" id="2482750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2482753">return</span>&nbsp;<span class="ident" id="2482760">hostname</span><span class="op" id="2482768">(</span><span class="op" id="2482769">)</span><br>
<span class="lineno"></span><span class="op" id="2482771">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="2482774">//&nbsp;Readdir&nbsp;reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;associated&nbsp;with&nbsp;file&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2482846">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;up&nbsp;to&nbsp;n&nbsp;FileInfo&nbsp;values,&nbsp;as&nbsp;would&nbsp;be&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2482914">//&nbsp;by&nbsp;Lstat,&nbsp;in&nbsp;directory&nbsp;order.&nbsp;Subsequent&nbsp;calls&nbsp;on&nbsp;the&nbsp;same&nbsp;file&nbsp;will&nbsp;yield</span><br>
<span class="lineno"></span><span class="comment" id="2482992">//&nbsp;further&nbsp;FileInfos.</span><br>
<span class="lineno">100</span><span class="comment" id="2483014">//</span><br>
<span class="lineno"></span><span class="comment" id="2483017">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;FileInfo&nbsp;structures.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2483094">//&nbsp;Readdir&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2483160">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2483227">//</span><br>
<span class="lineno">105</span><span class="comment" id="2483230">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;all&nbsp;the&nbsp;FileInfo&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2483299">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdir&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2483363">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2483431">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2483493">//&nbsp;directory,&nbsp;Readdir&nbsp;returns&nbsp;the&nbsp;FileInfo&nbsp;read&nbsp;until&nbsp;that&nbsp;point</span><br>
<span class="lineno">110</span><span class="comment" id="2483558">//&nbsp;and&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2483582">func</span>&nbsp;<span class="op" id="2483587">(</span><span class="ident" id="2483588">f</span>&nbsp;<span class="op" id="2483590">*</span><span class="ident" id="2483591">File</span><span class="op" id="2483595">)</span>&nbsp;<span class="ident" id="2483597">Readdir</span><span class="op" id="2483604">(</span><span class="ident" id="2483605">n</span>&nbsp;<span class="builtintype" id="2483607">int</span><span class="op" id="2483610">)</span>&nbsp;<span class="op" id="2483612">(</span><span class="ident" id="2483613">fi</span>&nbsp;<span class="op" id="2483616">[</span><span class="op" id="2483617">]</span><span class="ident" id="2483618">FileInfo</span><span class="op" id="2483626">,</span>&nbsp;<span class="ident" id="2483628">err</span>&nbsp;<span class="builtintype" id="2483632">error</span><span class="op" id="2483637">)</span>&nbsp;<span class="op" id="2483639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2483642">if</span>&nbsp;<span class="ident" id="2483645">f</span>&nbsp;<span class="op" id="2483647">==</span>&nbsp;<span class="ident" id="2483650">nil</span>&nbsp;<span class="op" id="2483654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2483658">return</span>&nbsp;<span class="ident" id="2483665">nil</span><span class="op" id="2483668">,</span>&nbsp;<span class="ident" id="2483670">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2483682">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2483685">return</span>&nbsp;<span class="ident" id="2483692">f</span><span class="op" id="2483693">.</span><span class="ident" id="2483694">readdir</span><span class="op" id="2483701">(</span><span class="ident" id="2483702">n</span><span class="op" id="2483703">)</span><br>
<span class="lineno"></span><span class="op" id="2483705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2483708">//&nbsp;Readdirnames&nbsp;reads&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="2483781">//</span><br>
<span class="lineno">120</span><span class="comment" id="2483784">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;names.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2483852">//&nbsp;Readdirnames&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2483923">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2483990">//</span><br>
<span class="lineno"></span><span class="comment" id="2483993">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;all&nbsp;the&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno">125</span><span class="comment" id="2484064">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdirnames&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2484133">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2484201">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2484263">//&nbsp;directory,&nbsp;Readdirnames&nbsp;returns&nbsp;the&nbsp;names&nbsp;read&nbsp;until&nbsp;that&nbsp;point&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2484334">//&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno">130</span><span class="keyword" id="2484354">func</span>&nbsp;<span class="op" id="2484359">(</span><span class="ident" id="2484360">f</span>&nbsp;<span class="op" id="2484362">*</span><span class="ident" id="2484363">File</span><span class="op" id="2484367">)</span>&nbsp;<span class="ident" id="2484369">Readdirnames</span><span class="op" id="2484381">(</span><span class="ident" id="2484382">n</span>&nbsp;<span class="builtintype" id="2484384">int</span><span class="op" id="2484387">)</span>&nbsp;<span class="op" id="2484389">(</span><span class="ident" id="2484390">names</span>&nbsp;<span class="op" id="2484396">[</span><span class="op" id="2484397">]</span><span class="builtintype" id="2484398">string</span><span class="op" id="2484404">,</span>&nbsp;<span class="ident" id="2484406">err</span>&nbsp;<span class="builtintype" id="2484410">error</span><span class="op" id="2484415">)</span>&nbsp;<span class="op" id="2484417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2484420">if</span>&nbsp;<span class="ident" id="2484423">f</span>&nbsp;<span class="op" id="2484425">==</span>&nbsp;<span class="ident" id="2484428">nil</span>&nbsp;<span class="op" id="2484432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2484436">return</span>&nbsp;<span class="ident" id="2484443">nil</span><span class="op" id="2484446">,</span>&nbsp;<span class="ident" id="2484448">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2484460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2484463">return</span>&nbsp;<span class="ident" id="2484470">f</span><span class="op" id="2484471">.</span><span class="ident" id="2484472">readdirnames</span><span class="op" id="2484484">(</span><span class="ident" id="2484485">n</span><span class="op" id="2484486">)</span><br>
<span class="lineno">135</span><span class="op" id="2484488">}</span>
</div>
</body>
</html>
