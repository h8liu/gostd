<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6732775">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6732831">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6732885">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6732936">package</span>&nbsp;<span class="ident" id="6732944">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732954">import</span>&nbsp;<span class="op" id="6732961">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732964">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6732975">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6732985">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732988">type</span>&nbsp;<span class="ident" id="6732993">fileTest</span>&nbsp;<span class="keyword" id="6733002">struct</span>&nbsp;<span class="op" id="6733009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733012">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6733021">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733029">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733038">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733050">sections</span>&nbsp;<span class="op" id="6733059">[</span><span class="op" id="6733060">]</span><span class="op" id="6733061">*</span><span class="ident" id="6733062">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="6733076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733079">var</span>&nbsp;<span class="ident" id="6733083">fileTests</span>&nbsp;<span class="op" id="6733093">=</span>&nbsp;<span class="op" id="6733095">[</span><span class="op" id="6733096">]</span><span class="ident" id="6733097">fileTest</span><span class="op" id="6733105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733108">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6733112">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="6733137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733141">FileHeader</span><span class="op" id="6733151">{</span><span class="ident" id="6733152">Magic386</span><span class="op" id="6733160">,</span>&nbsp;<span class="num" id="6733162">0x324</span><span class="op" id="6733167">,</span>&nbsp;<span class="num" id="6733169">0x14</span><span class="op" id="6733173">,</span>&nbsp;<span class="num" id="6733175">4</span><span class="op" id="6733176">,</span>&nbsp;<span class="num" id="6733178">0x1000</span><span class="op" id="6733184">,</span>&nbsp;<span class="num" id="6733186">32</span><span class="op" id="6733188">}</span><span class="op" id="6733189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733193">[</span><span class="op" id="6733194">]</span><span class="op" id="6733195">*</span><span class="ident" id="6733196">SectionHeader</span><span class="op" id="6733209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733214">{</span><span class="string" id="6733215">&#34;text&#34;</span><span class="op" id="6733221">,</span>&nbsp;<span class="num" id="6733223">0x4c5f</span><span class="op" id="6733229">,</span>&nbsp;<span class="num" id="6733231">0x20</span><span class="op" id="6733235">}</span><span class="op" id="6733236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733241">{</span><span class="string" id="6733242">&#34;data&#34;</span><span class="op" id="6733248">,</span>&nbsp;<span class="num" id="6733250">0x94c</span><span class="op" id="6733255">,</span>&nbsp;<span class="num" id="6733257">0x4c7f</span><span class="op" id="6733263">}</span><span class="op" id="6733264">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733269">{</span><span class="string" id="6733270">&#34;syms&#34;</span><span class="op" id="6733276">,</span>&nbsp;<span class="num" id="6733278">0x2c2b</span><span class="op" id="6733284">,</span>&nbsp;<span class="num" id="6733286">0x55cb</span><span class="op" id="6733292">}</span><span class="op" id="6733293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733298">{</span><span class="string" id="6733299">&#34;spsz&#34;</span><span class="op" id="6733305">,</span>&nbsp;<span class="num" id="6733307">0x0</span><span class="op" id="6733310">,</span>&nbsp;<span class="num" id="6733312">0x81f6</span><span class="op" id="6733318">}</span><span class="op" id="6733319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733324">{</span><span class="string" id="6733325">&#34;pcsz&#34;</span><span class="op" id="6733331">,</span>&nbsp;<span class="num" id="6733333">0xf7a</span><span class="op" id="6733338">,</span>&nbsp;<span class="num" id="6733340">0x81f6</span><span class="op" id="6733346">}</span><span class="op" id="6733347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733351">}</span><span class="op" id="6733352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733355">}</span><span class="op" id="6733356">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6733363">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="6733390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733394">FileHeader</span><span class="op" id="6733404">{</span><span class="ident" id="6733405">MagicAMD64</span><span class="op" id="6733415">,</span>&nbsp;<span class="num" id="6733417">0x618</span><span class="op" id="6733422">,</span>&nbsp;<span class="num" id="6733424">0x13</span><span class="op" id="6733428">,</span>&nbsp;<span class="num" id="6733430">8</span><span class="op" id="6733431">,</span>&nbsp;<span class="num" id="6733433">0x200000</span><span class="op" id="6733441">,</span>&nbsp;<span class="num" id="6733443">40</span><span class="op" id="6733445">}</span><span class="op" id="6733446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733450">[</span><span class="op" id="6733451">]</span><span class="op" id="6733452">*</span><span class="ident" id="6733453">SectionHeader</span><span class="op" id="6733466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733471">{</span><span class="string" id="6733472">&#34;text&#34;</span><span class="op" id="6733478">,</span>&nbsp;<span class="num" id="6733480">0x4213</span><span class="op" id="6733486">,</span>&nbsp;<span class="num" id="6733488">0x28</span><span class="op" id="6733492">}</span><span class="op" id="6733493">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733498">{</span><span class="string" id="6733499">&#34;data&#34;</span><span class="op" id="6733505">,</span>&nbsp;<span class="num" id="6733507">0xa80</span><span class="op" id="6733512">,</span>&nbsp;<span class="num" id="6733514">0x423b</span><span class="op" id="6733520">}</span><span class="op" id="6733521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733526">{</span><span class="string" id="6733527">&#34;syms&#34;</span><span class="op" id="6733533">,</span>&nbsp;<span class="num" id="6733535">0x2c8c</span><span class="op" id="6733541">,</span>&nbsp;<span class="num" id="6733543">0x4cbb</span><span class="op" id="6733549">}</span><span class="op" id="6733550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733555">{</span><span class="string" id="6733556">&#34;spsz&#34;</span><span class="op" id="6733562">,</span>&nbsp;<span class="num" id="6733564">0x0</span><span class="op" id="6733567">,</span>&nbsp;<span class="num" id="6733569">0x7947</span><span class="op" id="6733575">}</span><span class="op" id="6733576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733581">{</span><span class="string" id="6733582">&#34;pcsz&#34;</span><span class="op" id="6733588">,</span>&nbsp;<span class="num" id="6733590">0xca0</span><span class="op" id="6733595">,</span>&nbsp;<span class="num" id="6733597">0x7947</span><span class="op" id="6733603">}</span><span class="op" id="6733604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733608">}</span><span class="op" id="6733609">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733612">}</span><span class="op" id="6733613">,</span><br>
<span class="lineno"></span><span class="op" id="6733615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733618">func</span>&nbsp;<span class="ident" id="6733623">TestOpen</span><span class="op" id="6733631">(</span><span class="ident" id="6733632">t</span>&nbsp;<span class="op" id="6733634">*</span><span class="ident" id="6733635">testing</span><span class="op" id="6733642">.</span><span class="ident" id="6733643">T</span><span class="op" id="6733644">)</span>&nbsp;<span class="op" id="6733646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733649">for</span>&nbsp;<span class="ident" id="6733653">i</span>&nbsp;<span class="op" id="6733655">:=</span>&nbsp;<span class="keyword" id="6733658">range</span>&nbsp;<span class="ident" id="6733664">fileTests</span>&nbsp;<span class="op" id="6733674">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733678">tt</span>&nbsp;<span class="op" id="6733681">:=</span>&nbsp;<span class="op" id="6733684">&amp;</span><span class="ident" id="6733685">fileTests</span><span class="op" id="6733694">[</span><span class="ident" id="6733695">i</span><span class="op" id="6733696">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733701">f</span><span class="op" id="6733702">,</span>&nbsp;<span class="ident" id="6733704">err</span>&nbsp;<span class="op" id="6733708">:=</span>&nbsp;<span class="ident" id="6733711">Open</span><span class="op" id="6733715">(</span><span class="ident" id="6733716">tt</span><span class="op" id="6733718">.</span><span class="ident" id="6733719">file</span><span class="op" id="6733723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733727">if</span>&nbsp;<span class="ident" id="6733730">err</span>&nbsp;<span class="op" id="6733734">!=</span>&nbsp;<span class="ident" id="6733737">nil</span>&nbsp;<span class="op" id="6733741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733746">t</span><span class="op" id="6733747">.</span><span class="ident" id="6733748">Error</span><span class="op" id="6733753">(</span><span class="ident" id="6733754">err</span><span class="op" id="6733757">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733762">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733777">if</span>&nbsp;<span class="op" id="6733780">!</span><span class="ident" id="6733781">reflect</span><span class="op" id="6733788">.</span><span class="ident" id="6733789">DeepEqual</span><span class="op" id="6733798">(</span><span class="ident" id="6733799">f</span><span class="op" id="6733800">.</span><span class="ident" id="6733801">FileHeader</span><span class="op" id="6733811">,</span>&nbsp;<span class="ident" id="6733813">tt</span><span class="op" id="6733815">.</span><span class="ident" id="6733816">hdr</span><span class="op" id="6733819">)</span>&nbsp;<span class="op" id="6733821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6733826">t</span><span class="op" id="6733827">.</span><span class="ident" id="6733828">Errorf</span><span class="op" id="6733834">(</span><span class="string" id="6733835">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6733871">,</span>&nbsp;<span class="ident" id="6733873">tt</span><span class="op" id="6733875">.</span><span class="ident" id="6733876">file</span><span class="op" id="6733880">,</span>&nbsp;<span class="ident" id="6733882">f</span><span class="op" id="6733883">.</span><span class="ident" id="6733884">FileHeader</span><span class="op" id="6733894">,</span>&nbsp;<span class="ident" id="6733896">tt</span><span class="op" id="6733898">.</span><span class="ident" id="6733899">hdr</span><span class="op" id="6733902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733907">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733923">for</span>&nbsp;<span class="ident" id="6733927">i</span><span class="op" id="6733928">,</span>&nbsp;<span class="ident" id="6733930">sh</span>&nbsp;<span class="op" id="6733933">:=</span>&nbsp;<span class="keyword" id="6733936">range</span>&nbsp;<span class="ident" id="6733942">f</span><span class="op" id="6733943">.</span><span class="ident" id="6733944">Sections</span>&nbsp;<span class="op" id="6733953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733958">if</span>&nbsp;<span class="ident" id="6733961">i</span>&nbsp;<span class="op" id="6733963">&gt;=</span>&nbsp;<span class="builtinfunc" id="6733966">len</span><span class="op" id="6733969">(</span><span class="ident" id="6733970">tt</span><span class="op" id="6733972">.</span><span class="ident" id="6733973">sections</span><span class="op" id="6733981">)</span>&nbsp;<span class="op" id="6733983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6733989">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6733998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734003">have</span>&nbsp;<span class="op" id="6734008">:=</span>&nbsp;<span class="op" id="6734011">&amp;</span><span class="ident" id="6734012">sh</span><span class="op" id="6734014">.</span><span class="ident" id="6734015">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734032">want</span>&nbsp;<span class="op" id="6734037">:=</span>&nbsp;<span class="ident" id="6734040">tt</span><span class="op" id="6734042">.</span><span class="ident" id="6734043">sections</span><span class="op" id="6734051">[</span><span class="ident" id="6734052">i</span><span class="op" id="6734053">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734058">if</span>&nbsp;<span class="op" id="6734061">!</span><span class="ident" id="6734062">reflect</span><span class="op" id="6734069">.</span><span class="ident" id="6734070">DeepEqual</span><span class="op" id="6734079">(</span><span class="ident" id="6734080">have</span><span class="op" id="6734084">,</span>&nbsp;<span class="ident" id="6734086">want</span><span class="op" id="6734090">)</span>&nbsp;<span class="op" id="6734092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734098">t</span><span class="op" id="6734099">.</span><span class="ident" id="6734100">Errorf</span><span class="op" id="6734106">(</span><span class="string" id="6734107">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6734155">,</span>&nbsp;<span class="ident" id="6734157">tt</span><span class="op" id="6734159">.</span><span class="ident" id="6734160">file</span><span class="op" id="6734164">,</span>&nbsp;<span class="ident" id="6734166">i</span><span class="op" id="6734167">,</span>&nbsp;<span class="ident" id="6734169">have</span><span class="op" id="6734173">,</span>&nbsp;<span class="ident" id="6734175">want</span><span class="op" id="6734179">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734192">tn</span>&nbsp;<span class="op" id="6734195">:=</span>&nbsp;<span class="builtinfunc" id="6734198">len</span><span class="op" id="6734201">(</span><span class="ident" id="6734202">tt</span><span class="op" id="6734204">.</span><span class="ident" id="6734205">sections</span><span class="op" id="6734213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734217">fn</span>&nbsp;<span class="op" id="6734220">:=</span>&nbsp;<span class="builtinfunc" id="6734223">len</span><span class="op" id="6734226">(</span><span class="ident" id="6734227">f</span><span class="op" id="6734228">.</span><span class="ident" id="6734229">Sections</span><span class="op" id="6734237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734241">if</span>&nbsp;<span class="ident" id="6734244">tn</span>&nbsp;<span class="op" id="6734247">!=</span>&nbsp;<span class="ident" id="6734250">fn</span>&nbsp;<span class="op" id="6734253">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734258">t</span><span class="op" id="6734259">.</span><span class="ident" id="6734260">Errorf</span><span class="op" id="6734266">(</span><span class="string" id="6734267">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6734305">,</span>&nbsp;<span class="ident" id="6734307">tt</span><span class="op" id="6734309">.</span><span class="ident" id="6734310">file</span><span class="op" id="6734314">,</span>&nbsp;<span class="ident" id="6734316">fn</span><span class="op" id="6734318">,</span>&nbsp;<span class="ident" id="6734320">tn</span><span class="op" id="6734322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734329">}</span><br>
<span class="lineno"></span><span class="op" id="6734331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="6734334">func</span>&nbsp;<span class="ident" id="6734339">TestOpenFailure</span><span class="op" id="6734354">(</span><span class="ident" id="6734355">t</span>&nbsp;<span class="op" id="6734357">*</span><span class="ident" id="6734358">testing</span><span class="op" id="6734365">.</span><span class="ident" id="6734366">T</span><span class="op" id="6734367">)</span>&nbsp;<span class="op" id="6734369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734372">filename</span>&nbsp;<span class="op" id="6734381">:=</span>&nbsp;<span class="string" id="6734384">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6734397">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734425">_</span><span class="op" id="6734426">,</span>&nbsp;<span class="ident" id="6734428">err</span>&nbsp;<span class="op" id="6734432">:=</span>&nbsp;<span class="ident" id="6734435">Open</span><span class="op" id="6734439">(</span><span class="ident" id="6734440">filename</span><span class="op" id="6734448">)</span>&nbsp;<span class="comment" id="6734450">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6734466">if</span>&nbsp;<span class="ident" id="6734469">err</span>&nbsp;<span class="op" id="6734473">==</span>&nbsp;<span class="ident" id="6734476">nil</span>&nbsp;<span class="op" id="6734480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6734484">t</span><span class="op" id="6734485">.</span><span class="ident" id="6734486">Errorf</span><span class="op" id="6734492">(</span><span class="string" id="6734493">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="6734526">,</span>&nbsp;<span class="ident" id="6734528">filename</span><span class="op" id="6734536">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6734539">}</span><br>
<span class="lineno"></span><span class="op" id="6734541">}</span>
</div>
</body>
</html>
