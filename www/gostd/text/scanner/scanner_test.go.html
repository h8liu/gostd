<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7938898">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7938953">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7939007">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7939058">package</span>&nbsp;<span class="ident" id="7939066">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7939075">import</span>&nbsp;<span class="op" id="7939082">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7939085">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7939094">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7939101">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7939107">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7939118">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7939129">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7939144">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7939147">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="7939222">type</span>&nbsp;<span class="ident" id="7939227">StringReader</span>&nbsp;<span class="keyword" id="7939240">struct</span>&nbsp;<span class="op" id="7939247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939250">data</span>&nbsp;<span class="op" id="7939255">[</span><span class="op" id="7939256">]</span><span class="builtintype" id="7939257">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939265">step</span>&nbsp;<span class="builtintype" id="7939270">int</span><br>
<span class="lineno">20</span><span class="op" id="7939274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7939277">func</span>&nbsp;<span class="op" id="7939282">(</span><span class="ident" id="7939283">r</span>&nbsp;<span class="op" id="7939285">*</span><span class="ident" id="7939286">StringReader</span><span class="op" id="7939298">)</span>&nbsp;<span class="ident" id="7939300">Read</span><span class="op" id="7939304">(</span><span class="ident" id="7939305">p</span>&nbsp;<span class="op" id="7939307">[</span><span class="op" id="7939308">]</span><span class="builtintype" id="7939309">byte</span><span class="op" id="7939313">)</span>&nbsp;<span class="op" id="7939315">(</span><span class="ident" id="7939316">n</span>&nbsp;<span class="builtintype" id="7939318">int</span><span class="op" id="7939321">,</span>&nbsp;<span class="ident" id="7939323">err</span>&nbsp;<span class="builtintype" id="7939327">error</span><span class="op" id="7939332">)</span>&nbsp;<span class="op" id="7939334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7939337">if</span>&nbsp;<span class="ident" id="7939340">r</span><span class="op" id="7939341">.</span><span class="ident" id="7939342">step</span>&nbsp;<span class="op" id="7939347">&lt;</span>&nbsp;<span class="builtinfunc" id="7939349">len</span><span class="op" id="7939352">(</span><span class="ident" id="7939353">r</span><span class="op" id="7939354">.</span><span class="ident" id="7939355">data</span><span class="op" id="7939359">)</span>&nbsp;<span class="op" id="7939361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939365">s</span>&nbsp;<span class="op" id="7939367">:=</span>&nbsp;<span class="ident" id="7939370">r</span><span class="op" id="7939371">.</span><span class="ident" id="7939372">data</span><span class="op" id="7939376">[</span><span class="ident" id="7939377">r</span><span class="op" id="7939378">.</span><span class="ident" id="7939379">step</span><span class="op" id="7939383">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939387">n</span>&nbsp;<span class="op" id="7939389">=</span>&nbsp;<span class="builtinfunc" id="7939391">copy</span><span class="op" id="7939395">(</span><span class="ident" id="7939396">p</span><span class="op" id="7939397">,</span>&nbsp;<span class="ident" id="7939399">s</span><span class="op" id="7939400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939404">r</span><span class="op" id="7939405">.</span><span class="ident" id="7939406">step</span><span class="op" id="7939410">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939414">}</span>&nbsp;<span class="keyword" id="7939416">else</span>&nbsp;<span class="op" id="7939421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939425">err</span>&nbsp;<span class="op" id="7939429">=</span>&nbsp;<span class="ident" id="7939431">io</span><span class="op" id="7939433">.</span><span class="ident" id="7939434">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939439">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7939442">return</span><br>
<span class="lineno"></span><span class="op" id="7939449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7939452">func</span>&nbsp;<span class="ident" id="7939457">readRuneSegments</span><span class="op" id="7939473">(</span><span class="ident" id="7939474">t</span>&nbsp;<span class="op" id="7939476">*</span><span class="ident" id="7939477">testing</span><span class="op" id="7939484">.</span><span class="ident" id="7939485">T</span><span class="op" id="7939486">,</span>&nbsp;<span class="ident" id="7939488">segments</span>&nbsp;<span class="op" id="7939497">[</span><span class="op" id="7939498">]</span><span class="builtintype" id="7939499">string</span><span class="op" id="7939505">)</span>&nbsp;<span class="op" id="7939507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939510">got</span>&nbsp;<span class="op" id="7939514">:=</span>&nbsp;<span class="string" id="7939517">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939521">want</span>&nbsp;<span class="op" id="7939526">:=</span>&nbsp;<span class="ident" id="7939529">strings</span><span class="op" id="7939536">.</span><span class="ident" id="7939537">Join</span><span class="op" id="7939541">(</span><span class="ident" id="7939542">segments</span><span class="op" id="7939550">,</span>&nbsp;<span class="string" id="7939552">&#34;&#34;</span><span class="op" id="7939554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939557">s</span>&nbsp;<span class="op" id="7939559">:=</span>&nbsp;<span class="builtinfunc" id="7939562">new</span><span class="op" id="7939565">(</span><span class="ident" id="7939566">Scanner</span><span class="op" id="7939573">)</span><span class="op" id="7939574">.</span><span class="ident" id="7939575">Init</span><span class="op" id="7939579">(</span><span class="op" id="7939580">&amp;</span><span class="ident" id="7939581">StringReader</span><span class="op" id="7939593">{</span><span class="ident" id="7939594">data</span><span class="op" id="7939598">:</span>&nbsp;<span class="ident" id="7939600">segments</span><span class="op" id="7939608">}</span><span class="op" id="7939609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7939612">for</span>&nbsp;<span class="op" id="7939616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939620">ch</span>&nbsp;<span class="op" id="7939623">:=</span>&nbsp;<span class="ident" id="7939626">s</span><span class="op" id="7939627">.</span><span class="ident" id="7939628">Next</span><span class="op" id="7939632">(</span><span class="op" id="7939633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7939637">if</span>&nbsp;<span class="ident" id="7939640">ch</span>&nbsp;<span class="op" id="7939643">==</span>&nbsp;<span class="ident" id="7939646">EOF</span>&nbsp;<span class="op" id="7939650">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7939655">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939667">got</span>&nbsp;<span class="op" id="7939671">+=</span>&nbsp;<span class="builtintype" id="7939674">string</span><span class="op" id="7939680">(</span><span class="ident" id="7939681">ch</span><span class="op" id="7939683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7939689">if</span>&nbsp;<span class="ident" id="7939692">got</span>&nbsp;<span class="op" id="7939696">!=</span>&nbsp;<span class="ident" id="7939699">want</span>&nbsp;<span class="op" id="7939704">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7939708">t</span><span class="op" id="7939709">.</span><span class="ident" id="7939710">Errorf</span><span class="op" id="7939716">(</span><span class="string" id="7939717">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="7939745">,</span>&nbsp;<span class="ident" id="7939747">segments</span><span class="op" id="7939755">,</span>&nbsp;<span class="ident" id="7939757">got</span><span class="op" id="7939760">,</span>&nbsp;<span class="ident" id="7939762">want</span><span class="op" id="7939766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939769">}</span><br>
<span class="lineno"></span><span class="op" id="7939771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7939774">var</span>&nbsp;<span class="ident" id="7939778">segmentList</span>&nbsp;<span class="op" id="7939790">=</span>&nbsp;<span class="op" id="7939792">[</span><span class="op" id="7939793">]</span><span class="op" id="7939794">[</span><span class="op" id="7939795">]</span><span class="builtintype" id="7939796">string</span><span class="op" id="7939802">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939805">{</span><span class="op" id="7939806">}</span><span class="op" id="7939807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939810">{</span><span class="string" id="7939811">&#34;&#34;</span><span class="op" id="7939813">}</span><span class="op" id="7939814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939817">{</span><span class="string" id="7939818">&#34;日&#34;</span><span class="op" id="7939823">,</span>&nbsp;<span class="string" id="7939825">&#34;本語&#34;</span><span class="op" id="7939833">}</span><span class="op" id="7939834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939837">{</span><span class="string" id="7939838">&#34;\u65e5&#34;</span><span class="op" id="7939846">,</span>&nbsp;<span class="string" id="7939848">&#34;\u672c&#34;</span><span class="op" id="7939856">,</span>&nbsp;<span class="string" id="7939858">&#34;\u8a9e&#34;</span><span class="op" id="7939866">}</span><span class="op" id="7939867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939870">{</span><span class="string" id="7939871">&#34;\U000065e5&#34;</span><span class="op" id="7939883">,</span>&nbsp;<span class="string" id="7939885">&#34;&nbsp;&#34;</span><span class="op" id="7939888">,</span>&nbsp;<span class="string" id="7939890">&#34;\U0000672c&#34;</span><span class="op" id="7939902">,</span>&nbsp;<span class="string" id="7939904">&#34;\U00008a9e&#34;</span><span class="op" id="7939916">}</span><span class="op" id="7939917">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939920">{</span><span class="string" id="7939921">&#34;\xe6&#34;</span><span class="op" id="7939927">,</span>&nbsp;<span class="string" id="7939929">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="7939943">,</span>&nbsp;<span class="string" id="7939945">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="7939967">}</span><span class="op" id="7939968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7939971">{</span><span class="string" id="7939972">&#34;Hello&#34;</span><span class="op" id="7939979">,</span>&nbsp;<span class="string" id="7939981">&#34;,&nbsp;&#34;</span><span class="op" id="7939985">,</span>&nbsp;<span class="string" id="7939987">&#34;World&#34;</span><span class="op" id="7939994">,</span>&nbsp;<span class="string" id="7939996">&#34;!&#34;</span><span class="op" id="7939999">}</span><span class="op" id="7940000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940003">{</span><span class="string" id="7940004">&#34;Hello&#34;</span><span class="op" id="7940011">,</span>&nbsp;<span class="string" id="7940013">&#34;,&nbsp;&#34;</span><span class="op" id="7940017">,</span>&nbsp;<span class="string" id="7940019">&#34;&#34;</span><span class="op" id="7940021">,</span>&nbsp;<span class="string" id="7940023">&#34;World&#34;</span><span class="op" id="7940030">,</span>&nbsp;<span class="string" id="7940032">&#34;!&#34;</span><span class="op" id="7940035">}</span><span class="op" id="7940036">,</span><br>
<span class="lineno"></span><span class="op" id="7940038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7940041">func</span>&nbsp;<span class="ident" id="7940046">TestNext</span><span class="op" id="7940054">(</span><span class="ident" id="7940055">t</span>&nbsp;<span class="op" id="7940057">*</span><span class="ident" id="7940058">testing</span><span class="op" id="7940065">.</span><span class="ident" id="7940066">T</span><span class="op" id="7940067">)</span>&nbsp;<span class="op" id="7940069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7940072">for</span>&nbsp;<span class="ident" id="7940076">_</span><span class="op" id="7940077">,</span>&nbsp;<span class="ident" id="7940079">s</span>&nbsp;<span class="op" id="7940081">:=</span>&nbsp;<span class="keyword" id="7940084">range</span>&nbsp;<span class="ident" id="7940090">segmentList</span>&nbsp;<span class="op" id="7940102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7940106">readRuneSegments</span><span class="op" id="7940122">(</span><span class="ident" id="7940123">t</span><span class="op" id="7940124">,</span>&nbsp;<span class="ident" id="7940126">s</span><span class="op" id="7940127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940130">}</span><br>
<span class="lineno"></span><span class="op" id="7940132">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7940135">type</span>&nbsp;<span class="ident" id="7940140">token</span>&nbsp;<span class="keyword" id="7940146">struct</span>&nbsp;<span class="op" id="7940153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7940156">tok</span>&nbsp;&nbsp;<span class="builtintype" id="7940161">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7940167">text</span>&nbsp;<span class="builtintype" id="7940172">string</span><br>
<span class="lineno"></span><span class="op" id="7940179">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7940182">var</span>&nbsp;<span class="ident" id="7940186">f100</span>&nbsp;<span class="op" id="7940191">=</span>&nbsp;<span class="string" id="7940193">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7940297">var</span>&nbsp;<span class="ident" id="7940301">tokenList</span>&nbsp;<span class="op" id="7940311">=</span>&nbsp;<span class="op" id="7940313">[</span><span class="op" id="7940314">]</span><span class="ident" id="7940315">token</span><span class="op" id="7940320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940323">{</span><span class="ident" id="7940324">Comment</span><span class="op" id="7940331">,</span>&nbsp;<span class="string" id="7940333">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="7940351">}</span><span class="op" id="7940352">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940355">{</span><span class="ident" id="7940356">Comment</span><span class="op" id="7940363">,</span>&nbsp;<span class="string" id="7940365">&#34;//&#34;</span><span class="op" id="7940369">}</span><span class="op" id="7940370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940373">{</span><span class="ident" id="7940374">Comment</span><span class="op" id="7940381">,</span>&nbsp;<span class="string" id="7940383">&#34;////&#34;</span><span class="op" id="7940389">}</span><span class="op" id="7940390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940393">{</span><span class="ident" id="7940394">Comment</span><span class="op" id="7940401">,</span>&nbsp;<span class="string" id="7940403">&#34;//&nbsp;comment&#34;</span><span class="op" id="7940415">}</span><span class="op" id="7940416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940419">{</span><span class="ident" id="7940420">Comment</span><span class="op" id="7940427">,</span>&nbsp;<span class="string" id="7940429">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7940447">}</span><span class="op" id="7940448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940451">{</span><span class="ident" id="7940452">Comment</span><span class="op" id="7940459">,</span>&nbsp;<span class="string" id="7940461">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="7940479">}</span><span class="op" id="7940480">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940483">{</span><span class="ident" id="7940484">Comment</span><span class="op" id="7940491">,</span>&nbsp;<span class="string" id="7940493">&#34;//&#34;</span>&nbsp;<span class="op" id="7940498">+</span>&nbsp;<span class="ident" id="7940500">f100</span><span class="op" id="7940504">}</span><span class="op" id="7940505">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940509">{</span><span class="ident" id="7940510">Comment</span><span class="op" id="7940517">,</span>&nbsp;<span class="string" id="7940519">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="7940540">}</span><span class="op" id="7940541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940544">{</span><span class="ident" id="7940545">Comment</span><span class="op" id="7940552">,</span>&nbsp;<span class="string" id="7940554">&#34;/**/&#34;</span><span class="op" id="7940560">}</span><span class="op" id="7940561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940564">{</span><span class="ident" id="7940565">Comment</span><span class="op" id="7940572">,</span>&nbsp;<span class="string" id="7940574">&#34;/***/&#34;</span><span class="op" id="7940581">}</span><span class="op" id="7940582">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940585">{</span><span class="ident" id="7940586">Comment</span><span class="op" id="7940593">,</span>&nbsp;<span class="string" id="7940595">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7940610">}</span><span class="op" id="7940611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940614">{</span><span class="ident" id="7940615">Comment</span><span class="op" id="7940622">,</span>&nbsp;<span class="string" id="7940624">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7940642">}</span><span class="op" id="7940643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940646">{</span><span class="ident" id="7940647">Comment</span><span class="op" id="7940654">,</span>&nbsp;<span class="string" id="7940656">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7940674">}</span><span class="op" id="7940675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940678">{</span><span class="ident" id="7940679">Comment</span><span class="op" id="7940686">,</span>&nbsp;<span class="string" id="7940688">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="7940706">}</span><span class="op" id="7940707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940710">{</span><span class="ident" id="7940711">Comment</span><span class="op" id="7940718">,</span>&nbsp;<span class="string" id="7940720">&#34;/*&#34;</span>&nbsp;<span class="op" id="7940725">+</span>&nbsp;<span class="ident" id="7940727">f100</span>&nbsp;<span class="op" id="7940732">+</span>&nbsp;<span class="string" id="7940734">&#34;*/&#34;</span><span class="op" id="7940738">}</span><span class="op" id="7940739">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940743">{</span><span class="ident" id="7940744">Comment</span><span class="op" id="7940751">,</span>&nbsp;<span class="string" id="7940753">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="7940769">}</span><span class="op" id="7940770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940773">{</span><span class="ident" id="7940774">Ident</span><span class="op" id="7940779">,</span>&nbsp;<span class="string" id="7940781">&#34;a&#34;</span><span class="op" id="7940784">}</span><span class="op" id="7940785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940788">{</span><span class="ident" id="7940789">Ident</span><span class="op" id="7940794">,</span>&nbsp;<span class="string" id="7940796">&#34;a0&#34;</span><span class="op" id="7940800">}</span><span class="op" id="7940801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940804">{</span><span class="ident" id="7940805">Ident</span><span class="op" id="7940810">,</span>&nbsp;<span class="string" id="7940812">&#34;foobar&#34;</span><span class="op" id="7940820">}</span><span class="op" id="7940821">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940824">{</span><span class="ident" id="7940825">Ident</span><span class="op" id="7940830">,</span>&nbsp;<span class="string" id="7940832">&#34;abc123&#34;</span><span class="op" id="7940840">}</span><span class="op" id="7940841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940844">{</span><span class="ident" id="7940845">Ident</span><span class="op" id="7940850">,</span>&nbsp;<span class="string" id="7940852">&#34;LGTM&#34;</span><span class="op" id="7940858">}</span><span class="op" id="7940859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940862">{</span><span class="ident" id="7940863">Ident</span><span class="op" id="7940868">,</span>&nbsp;<span class="string" id="7940870">&#34;_&#34;</span><span class="op" id="7940873">}</span><span class="op" id="7940874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940877">{</span><span class="ident" id="7940878">Ident</span><span class="op" id="7940883">,</span>&nbsp;<span class="string" id="7940885">&#34;_abc123&#34;</span><span class="op" id="7940894">}</span><span class="op" id="7940895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940898">{</span><span class="ident" id="7940899">Ident</span><span class="op" id="7940904">,</span>&nbsp;<span class="string" id="7940906">&#34;abc123_&#34;</span><span class="op" id="7940915">}</span><span class="op" id="7940916">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940919">{</span><span class="ident" id="7940920">Ident</span><span class="op" id="7940925">,</span>&nbsp;<span class="string" id="7940927">&#34;_abc_123_&#34;</span><span class="op" id="7940938">}</span><span class="op" id="7940939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940942">{</span><span class="ident" id="7940943">Ident</span><span class="op" id="7940948">,</span>&nbsp;<span class="string" id="7940950">&#34;_äöü&#34;</span><span class="op" id="7940959">}</span><span class="op" id="7940960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940963">{</span><span class="ident" id="7940964">Ident</span><span class="op" id="7940969">,</span>&nbsp;<span class="string" id="7940971">&#34;_本&#34;</span><span class="op" id="7940977">}</span><span class="op" id="7940978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7940981">{</span><span class="ident" id="7940982">Ident</span><span class="op" id="7940987">,</span>&nbsp;<span class="string" id="7940989">&#34;äöü&#34;</span><span class="op" id="7940997">}</span><span class="op" id="7940998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941001">{</span><span class="ident" id="7941002">Ident</span><span class="op" id="7941007">,</span>&nbsp;<span class="string" id="7941009">&#34;本&#34;</span><span class="op" id="7941014">}</span><span class="op" id="7941015">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941018">{</span><span class="ident" id="7941019">Ident</span><span class="op" id="7941024">,</span>&nbsp;<span class="string" id="7941026">&#34;a۰۱۸&#34;</span><span class="op" id="7941035">}</span><span class="op" id="7941036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941039">{</span><span class="ident" id="7941040">Ident</span><span class="op" id="7941045">,</span>&nbsp;<span class="string" id="7941047">&#34;foo६४&#34;</span><span class="op" id="7941058">}</span><span class="op" id="7941059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941062">{</span><span class="ident" id="7941063">Ident</span><span class="op" id="7941068">,</span>&nbsp;<span class="string" id="7941070">&#34;bar９８７６&#34;</span><span class="op" id="7941087">}</span><span class="op" id="7941088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941091">{</span><span class="ident" id="7941092">Ident</span><span class="op" id="7941097">,</span>&nbsp;<span class="ident" id="7941099">f100</span><span class="op" id="7941103">}</span><span class="op" id="7941104">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941108">{</span><span class="ident" id="7941109">Comment</span><span class="op" id="7941116">,</span>&nbsp;<span class="string" id="7941118">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="7941135">}</span><span class="op" id="7941136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941139">{</span><span class="ident" id="7941140">Int</span><span class="op" id="7941143">,</span>&nbsp;<span class="string" id="7941145">&#34;0&#34;</span><span class="op" id="7941148">}</span><span class="op" id="7941149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941152">{</span><span class="ident" id="7941153">Int</span><span class="op" id="7941156">,</span>&nbsp;<span class="string" id="7941158">&#34;1&#34;</span><span class="op" id="7941161">}</span><span class="op" id="7941162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941165">{</span><span class="ident" id="7941166">Int</span><span class="op" id="7941169">,</span>&nbsp;<span class="string" id="7941171">&#34;9&#34;</span><span class="op" id="7941174">}</span><span class="op" id="7941175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941178">{</span><span class="ident" id="7941179">Int</span><span class="op" id="7941182">,</span>&nbsp;<span class="string" id="7941184">&#34;42&#34;</span><span class="op" id="7941188">}</span><span class="op" id="7941189">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941192">{</span><span class="ident" id="7941193">Int</span><span class="op" id="7941196">,</span>&nbsp;<span class="string" id="7941198">&#34;1234567890&#34;</span><span class="op" id="7941210">}</span><span class="op" id="7941211">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941215">{</span><span class="ident" id="7941216">Comment</span><span class="op" id="7941223">,</span>&nbsp;<span class="string" id="7941225">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="7941240">}</span><span class="op" id="7941241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941244">{</span><span class="ident" id="7941245">Int</span><span class="op" id="7941248">,</span>&nbsp;<span class="string" id="7941250">&#34;00&#34;</span><span class="op" id="7941254">}</span><span class="op" id="7941255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941258">{</span><span class="ident" id="7941259">Int</span><span class="op" id="7941262">,</span>&nbsp;<span class="string" id="7941264">&#34;01&#34;</span><span class="op" id="7941268">}</span><span class="op" id="7941269">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941272">{</span><span class="ident" id="7941273">Int</span><span class="op" id="7941276">,</span>&nbsp;<span class="string" id="7941278">&#34;07&#34;</span><span class="op" id="7941282">}</span><span class="op" id="7941283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941286">{</span><span class="ident" id="7941287">Int</span><span class="op" id="7941290">,</span>&nbsp;<span class="string" id="7941292">&#34;042&#34;</span><span class="op" id="7941297">}</span><span class="op" id="7941298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941301">{</span><span class="ident" id="7941302">Int</span><span class="op" id="7941305">,</span>&nbsp;<span class="string" id="7941307">&#34;01234567&#34;</span><span class="op" id="7941317">}</span><span class="op" id="7941318">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941322">{</span><span class="ident" id="7941323">Comment</span><span class="op" id="7941330">,</span>&nbsp;<span class="string" id="7941332">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="7941353">}</span><span class="op" id="7941354">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941357">{</span><span class="ident" id="7941358">Int</span><span class="op" id="7941361">,</span>&nbsp;<span class="string" id="7941363">&#34;0x0&#34;</span><span class="op" id="7941368">}</span><span class="op" id="7941369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941372">{</span><span class="ident" id="7941373">Int</span><span class="op" id="7941376">,</span>&nbsp;<span class="string" id="7941378">&#34;0x1&#34;</span><span class="op" id="7941383">}</span><span class="op" id="7941384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941387">{</span><span class="ident" id="7941388">Int</span><span class="op" id="7941391">,</span>&nbsp;<span class="string" id="7941393">&#34;0xf&#34;</span><span class="op" id="7941398">}</span><span class="op" id="7941399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941402">{</span><span class="ident" id="7941403">Int</span><span class="op" id="7941406">,</span>&nbsp;<span class="string" id="7941408">&#34;0x42&#34;</span><span class="op" id="7941414">}</span><span class="op" id="7941415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941418">{</span><span class="ident" id="7941419">Int</span><span class="op" id="7941422">,</span>&nbsp;<span class="string" id="7941424">&#34;0x123456789abcDEF&#34;</span><span class="op" id="7941443">}</span><span class="op" id="7941444">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941447">{</span><span class="ident" id="7941448">Int</span><span class="op" id="7941451">,</span>&nbsp;<span class="string" id="7941453">&#34;0x&#34;</span>&nbsp;<span class="op" id="7941458">+</span>&nbsp;<span class="ident" id="7941460">f100</span><span class="op" id="7941464">}</span><span class="op" id="7941465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941468">{</span><span class="ident" id="7941469">Int</span><span class="op" id="7941472">,</span>&nbsp;<span class="string" id="7941474">&#34;0X0&#34;</span><span class="op" id="7941479">}</span><span class="op" id="7941480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941483">{</span><span class="ident" id="7941484">Int</span><span class="op" id="7941487">,</span>&nbsp;<span class="string" id="7941489">&#34;0X1&#34;</span><span class="op" id="7941494">}</span><span class="op" id="7941495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941498">{</span><span class="ident" id="7941499">Int</span><span class="op" id="7941502">,</span>&nbsp;<span class="string" id="7941504">&#34;0XF&#34;</span><span class="op" id="7941509">}</span><span class="op" id="7941510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941513">{</span><span class="ident" id="7941514">Int</span><span class="op" id="7941517">,</span>&nbsp;<span class="string" id="7941519">&#34;0X42&#34;</span><span class="op" id="7941525">}</span><span class="op" id="7941526">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941529">{</span><span class="ident" id="7941530">Int</span><span class="op" id="7941533">,</span>&nbsp;<span class="string" id="7941535">&#34;0X123456789abcDEF&#34;</span><span class="op" id="7941554">}</span><span class="op" id="7941555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941558">{</span><span class="ident" id="7941559">Int</span><span class="op" id="7941562">,</span>&nbsp;<span class="string" id="7941564">&#34;0X&#34;</span>&nbsp;<span class="op" id="7941569">+</span>&nbsp;<span class="ident" id="7941571">f100</span><span class="op" id="7941575">}</span><span class="op" id="7941576">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941580">{</span><span class="ident" id="7941581">Comment</span><span class="op" id="7941588">,</span>&nbsp;<span class="string" id="7941590">&#34;//&nbsp;floats&#34;</span><span class="op" id="7941601">}</span><span class="op" id="7941602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941605">{</span><span class="ident" id="7941606">Float</span><span class="op" id="7941611">,</span>&nbsp;<span class="string" id="7941613">&#34;0.&#34;</span><span class="op" id="7941617">}</span><span class="op" id="7941618">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941621">{</span><span class="ident" id="7941622">Float</span><span class="op" id="7941627">,</span>&nbsp;<span class="string" id="7941629">&#34;1.&#34;</span><span class="op" id="7941633">}</span><span class="op" id="7941634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941637">{</span><span class="ident" id="7941638">Float</span><span class="op" id="7941643">,</span>&nbsp;<span class="string" id="7941645">&#34;42.&#34;</span><span class="op" id="7941650">}</span><span class="op" id="7941651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941654">{</span><span class="ident" id="7941655">Float</span><span class="op" id="7941660">,</span>&nbsp;<span class="string" id="7941662">&#34;01234567890.&#34;</span><span class="op" id="7941676">}</span><span class="op" id="7941677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941680">{</span><span class="ident" id="7941681">Float</span><span class="op" id="7941686">,</span>&nbsp;<span class="string" id="7941688">&#34;.0&#34;</span><span class="op" id="7941692">}</span><span class="op" id="7941693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941696">{</span><span class="ident" id="7941697">Float</span><span class="op" id="7941702">,</span>&nbsp;<span class="string" id="7941704">&#34;.1&#34;</span><span class="op" id="7941708">}</span><span class="op" id="7941709">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941712">{</span><span class="ident" id="7941713">Float</span><span class="op" id="7941718">,</span>&nbsp;<span class="string" id="7941720">&#34;.42&#34;</span><span class="op" id="7941725">}</span><span class="op" id="7941726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941729">{</span><span class="ident" id="7941730">Float</span><span class="op" id="7941735">,</span>&nbsp;<span class="string" id="7941737">&#34;.0123456789&#34;</span><span class="op" id="7941750">}</span><span class="op" id="7941751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941754">{</span><span class="ident" id="7941755">Float</span><span class="op" id="7941760">,</span>&nbsp;<span class="string" id="7941762">&#34;0.0&#34;</span><span class="op" id="7941767">}</span><span class="op" id="7941768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941771">{</span><span class="ident" id="7941772">Float</span><span class="op" id="7941777">,</span>&nbsp;<span class="string" id="7941779">&#34;1.0&#34;</span><span class="op" id="7941784">}</span><span class="op" id="7941785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941788">{</span><span class="ident" id="7941789">Float</span><span class="op" id="7941794">,</span>&nbsp;<span class="string" id="7941796">&#34;42.0&#34;</span><span class="op" id="7941802">}</span><span class="op" id="7941803">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941806">{</span><span class="ident" id="7941807">Float</span><span class="op" id="7941812">,</span>&nbsp;<span class="string" id="7941814">&#34;01234567890.0&#34;</span><span class="op" id="7941829">}</span><span class="op" id="7941830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941833">{</span><span class="ident" id="7941834">Float</span><span class="op" id="7941839">,</span>&nbsp;<span class="string" id="7941841">&#34;0e0&#34;</span><span class="op" id="7941846">}</span><span class="op" id="7941847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941850">{</span><span class="ident" id="7941851">Float</span><span class="op" id="7941856">,</span>&nbsp;<span class="string" id="7941858">&#34;1e0&#34;</span><span class="op" id="7941863">}</span><span class="op" id="7941864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941867">{</span><span class="ident" id="7941868">Float</span><span class="op" id="7941873">,</span>&nbsp;<span class="string" id="7941875">&#34;42e0&#34;</span><span class="op" id="7941881">}</span><span class="op" id="7941882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941885">{</span><span class="ident" id="7941886">Float</span><span class="op" id="7941891">,</span>&nbsp;<span class="string" id="7941893">&#34;01234567890e0&#34;</span><span class="op" id="7941908">}</span><span class="op" id="7941909">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941912">{</span><span class="ident" id="7941913">Float</span><span class="op" id="7941918">,</span>&nbsp;<span class="string" id="7941920">&#34;0E0&#34;</span><span class="op" id="7941925">}</span><span class="op" id="7941926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941929">{</span><span class="ident" id="7941930">Float</span><span class="op" id="7941935">,</span>&nbsp;<span class="string" id="7941937">&#34;1E0&#34;</span><span class="op" id="7941942">}</span><span class="op" id="7941943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941946">{</span><span class="ident" id="7941947">Float</span><span class="op" id="7941952">,</span>&nbsp;<span class="string" id="7941954">&#34;42E0&#34;</span><span class="op" id="7941960">}</span><span class="op" id="7941961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941964">{</span><span class="ident" id="7941965">Float</span><span class="op" id="7941970">,</span>&nbsp;<span class="string" id="7941972">&#34;01234567890E0&#34;</span><span class="op" id="7941987">}</span><span class="op" id="7941988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7941991">{</span><span class="ident" id="7941992">Float</span><span class="op" id="7941997">,</span>&nbsp;<span class="string" id="7941999">&#34;0e+10&#34;</span><span class="op" id="7942006">}</span><span class="op" id="7942007">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942010">{</span><span class="ident" id="7942011">Float</span><span class="op" id="7942016">,</span>&nbsp;<span class="string" id="7942018">&#34;1e-10&#34;</span><span class="op" id="7942025">}</span><span class="op" id="7942026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942029">{</span><span class="ident" id="7942030">Float</span><span class="op" id="7942035">,</span>&nbsp;<span class="string" id="7942037">&#34;42e+10&#34;</span><span class="op" id="7942045">}</span><span class="op" id="7942046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942049">{</span><span class="ident" id="7942050">Float</span><span class="op" id="7942055">,</span>&nbsp;<span class="string" id="7942057">&#34;01234567890e-10&#34;</span><span class="op" id="7942074">}</span><span class="op" id="7942075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942078">{</span><span class="ident" id="7942079">Float</span><span class="op" id="7942084">,</span>&nbsp;<span class="string" id="7942086">&#34;0E+10&#34;</span><span class="op" id="7942093">}</span><span class="op" id="7942094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942097">{</span><span class="ident" id="7942098">Float</span><span class="op" id="7942103">,</span>&nbsp;<span class="string" id="7942105">&#34;1E-10&#34;</span><span class="op" id="7942112">}</span><span class="op" id="7942113">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942116">{</span><span class="ident" id="7942117">Float</span><span class="op" id="7942122">,</span>&nbsp;<span class="string" id="7942124">&#34;42E+10&#34;</span><span class="op" id="7942132">}</span><span class="op" id="7942133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942136">{</span><span class="ident" id="7942137">Float</span><span class="op" id="7942142">,</span>&nbsp;<span class="string" id="7942144">&#34;01234567890E-10&#34;</span><span class="op" id="7942161">}</span><span class="op" id="7942162">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942166">{</span><span class="ident" id="7942167">Comment</span><span class="op" id="7942174">,</span>&nbsp;<span class="string" id="7942176">&#34;//&nbsp;chars&#34;</span><span class="op" id="7942186">}</span><span class="op" id="7942187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942190">{</span><span class="ident" id="7942191">Char</span><span class="op" id="7942195">,</span>&nbsp;<span class="string" id="7942197">`&#39;&nbsp;&#39;`</span><span class="op" id="7942202">}</span><span class="op" id="7942203">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942206">{</span><span class="ident" id="7942207">Char</span><span class="op" id="7942211">,</span>&nbsp;<span class="string" id="7942213">`&#39;a&#39;`</span><span class="op" id="7942218">}</span><span class="op" id="7942219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942222">{</span><span class="ident" id="7942223">Char</span><span class="op" id="7942227">,</span>&nbsp;<span class="string" id="7942229">`&#39;本&#39;`</span><span class="op" id="7942236">}</span><span class="op" id="7942237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942240">{</span><span class="ident" id="7942241">Char</span><span class="op" id="7942245">,</span>&nbsp;<span class="string" id="7942247">`&#39;\a&#39;`</span><span class="op" id="7942253">}</span><span class="op" id="7942254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942257">{</span><span class="ident" id="7942258">Char</span><span class="op" id="7942262">,</span>&nbsp;<span class="string" id="7942264">`&#39;\b&#39;`</span><span class="op" id="7942270">}</span><span class="op" id="7942271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942274">{</span><span class="ident" id="7942275">Char</span><span class="op" id="7942279">,</span>&nbsp;<span class="string" id="7942281">`&#39;\f&#39;`</span><span class="op" id="7942287">}</span><span class="op" id="7942288">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942291">{</span><span class="ident" id="7942292">Char</span><span class="op" id="7942296">,</span>&nbsp;<span class="string" id="7942298">`&#39;\n&#39;`</span><span class="op" id="7942304">}</span><span class="op" id="7942305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942308">{</span><span class="ident" id="7942309">Char</span><span class="op" id="7942313">,</span>&nbsp;<span class="string" id="7942315">`&#39;\r&#39;`</span><span class="op" id="7942321">}</span><span class="op" id="7942322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942325">{</span><span class="ident" id="7942326">Char</span><span class="op" id="7942330">,</span>&nbsp;<span class="string" id="7942332">`&#39;\t&#39;`</span><span class="op" id="7942338">}</span><span class="op" id="7942339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942342">{</span><span class="ident" id="7942343">Char</span><span class="op" id="7942347">,</span>&nbsp;<span class="string" id="7942349">`&#39;\v&#39;`</span><span class="op" id="7942355">}</span><span class="op" id="7942356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942359">{</span><span class="ident" id="7942360">Char</span><span class="op" id="7942364">,</span>&nbsp;<span class="string" id="7942366">`&#39;\&#39;&#39;`</span><span class="op" id="7942372">}</span><span class="op" id="7942373">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942376">{</span><span class="ident" id="7942377">Char</span><span class="op" id="7942381">,</span>&nbsp;<span class="string" id="7942383">`&#39;\000&#39;`</span><span class="op" id="7942391">}</span><span class="op" id="7942392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942395">{</span><span class="ident" id="7942396">Char</span><span class="op" id="7942400">,</span>&nbsp;<span class="string" id="7942402">`&#39;\777&#39;`</span><span class="op" id="7942410">}</span><span class="op" id="7942411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942414">{</span><span class="ident" id="7942415">Char</span><span class="op" id="7942419">,</span>&nbsp;<span class="string" id="7942421">`&#39;\x00&#39;`</span><span class="op" id="7942429">}</span><span class="op" id="7942430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942433">{</span><span class="ident" id="7942434">Char</span><span class="op" id="7942438">,</span>&nbsp;<span class="string" id="7942440">`&#39;\xff&#39;`</span><span class="op" id="7942448">}</span><span class="op" id="7942449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942452">{</span><span class="ident" id="7942453">Char</span><span class="op" id="7942457">,</span>&nbsp;<span class="string" id="7942459">`&#39;\u0000&#39;`</span><span class="op" id="7942469">}</span><span class="op" id="7942470">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942473">{</span><span class="ident" id="7942474">Char</span><span class="op" id="7942478">,</span>&nbsp;<span class="string" id="7942480">`&#39;\ufA16&#39;`</span><span class="op" id="7942490">}</span><span class="op" id="7942491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942494">{</span><span class="ident" id="7942495">Char</span><span class="op" id="7942499">,</span>&nbsp;<span class="string" id="7942501">`&#39;\U00000000&#39;`</span><span class="op" id="7942515">}</span><span class="op" id="7942516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942519">{</span><span class="ident" id="7942520">Char</span><span class="op" id="7942524">,</span>&nbsp;<span class="string" id="7942526">`&#39;\U0000ffAB&#39;`</span><span class="op" id="7942540">}</span><span class="op" id="7942541">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942545">{</span><span class="ident" id="7942546">Comment</span><span class="op" id="7942553">,</span>&nbsp;<span class="string" id="7942555">&#34;//&nbsp;strings&#34;</span><span class="op" id="7942567">}</span><span class="op" id="7942568">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942571">{</span><span class="ident" id="7942572">String</span><span class="op" id="7942578">,</span>&nbsp;<span class="string" id="7942580">`&#34;&nbsp;&#34;`</span><span class="op" id="7942585">}</span><span class="op" id="7942586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942589">{</span><span class="ident" id="7942590">String</span><span class="op" id="7942596">,</span>&nbsp;<span class="string" id="7942598">`&#34;a&#34;`</span><span class="op" id="7942603">}</span><span class="op" id="7942604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942607">{</span><span class="ident" id="7942608">String</span><span class="op" id="7942614">,</span>&nbsp;<span class="string" id="7942616">`&#34;本&#34;`</span><span class="op" id="7942623">}</span><span class="op" id="7942624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942627">{</span><span class="ident" id="7942628">String</span><span class="op" id="7942634">,</span>&nbsp;<span class="string" id="7942636">`&#34;\a&#34;`</span><span class="op" id="7942642">}</span><span class="op" id="7942643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942646">{</span><span class="ident" id="7942647">String</span><span class="op" id="7942653">,</span>&nbsp;<span class="string" id="7942655">`&#34;\b&#34;`</span><span class="op" id="7942661">}</span><span class="op" id="7942662">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942665">{</span><span class="ident" id="7942666">String</span><span class="op" id="7942672">,</span>&nbsp;<span class="string" id="7942674">`&#34;\f&#34;`</span><span class="op" id="7942680">}</span><span class="op" id="7942681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942684">{</span><span class="ident" id="7942685">String</span><span class="op" id="7942691">,</span>&nbsp;<span class="string" id="7942693">`&#34;\n&#34;`</span><span class="op" id="7942699">}</span><span class="op" id="7942700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942703">{</span><span class="ident" id="7942704">String</span><span class="op" id="7942710">,</span>&nbsp;<span class="string" id="7942712">`&#34;\r&#34;`</span><span class="op" id="7942718">}</span><span class="op" id="7942719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942722">{</span><span class="ident" id="7942723">String</span><span class="op" id="7942729">,</span>&nbsp;<span class="string" id="7942731">`&#34;\t&#34;`</span><span class="op" id="7942737">}</span><span class="op" id="7942738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942741">{</span><span class="ident" id="7942742">String</span><span class="op" id="7942748">,</span>&nbsp;<span class="string" id="7942750">`&#34;\v&#34;`</span><span class="op" id="7942756">}</span><span class="op" id="7942757">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942760">{</span><span class="ident" id="7942761">String</span><span class="op" id="7942767">,</span>&nbsp;<span class="string" id="7942769">`&#34;\&#34;&#34;`</span><span class="op" id="7942775">}</span><span class="op" id="7942776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942779">{</span><span class="ident" id="7942780">String</span><span class="op" id="7942786">,</span>&nbsp;<span class="string" id="7942788">`&#34;\000&#34;`</span><span class="op" id="7942796">}</span><span class="op" id="7942797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942800">{</span><span class="ident" id="7942801">String</span><span class="op" id="7942807">,</span>&nbsp;<span class="string" id="7942809">`&#34;\777&#34;`</span><span class="op" id="7942817">}</span><span class="op" id="7942818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942821">{</span><span class="ident" id="7942822">String</span><span class="op" id="7942828">,</span>&nbsp;<span class="string" id="7942830">`&#34;\x00&#34;`</span><span class="op" id="7942838">}</span><span class="op" id="7942839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942842">{</span><span class="ident" id="7942843">String</span><span class="op" id="7942849">,</span>&nbsp;<span class="string" id="7942851">`&#34;\xff&#34;`</span><span class="op" id="7942859">}</span><span class="op" id="7942860">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942863">{</span><span class="ident" id="7942864">String</span><span class="op" id="7942870">,</span>&nbsp;<span class="string" id="7942872">`&#34;\u0000&#34;`</span><span class="op" id="7942882">}</span><span class="op" id="7942883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942886">{</span><span class="ident" id="7942887">String</span><span class="op" id="7942893">,</span>&nbsp;<span class="string" id="7942895">`&#34;\ufA16&#34;`</span><span class="op" id="7942905">}</span><span class="op" id="7942906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942909">{</span><span class="ident" id="7942910">String</span><span class="op" id="7942916">,</span>&nbsp;<span class="string" id="7942918">`&#34;\U00000000&#34;`</span><span class="op" id="7942932">}</span><span class="op" id="7942933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942936">{</span><span class="ident" id="7942937">String</span><span class="op" id="7942943">,</span>&nbsp;<span class="string" id="7942945">`&#34;\U0000ffAB&#34;`</span><span class="op" id="7942959">}</span><span class="op" id="7942960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942963">{</span><span class="ident" id="7942964">String</span><span class="op" id="7942970">,</span>&nbsp;<span class="string" id="7942972">`&#34;`</span>&nbsp;<span class="op" id="7942976">+</span>&nbsp;<span class="ident" id="7942978">f100</span>&nbsp;<span class="op" id="7942983">+</span>&nbsp;<span class="string" id="7942985">`&#34;`</span><span class="op" id="7942988">}</span><span class="op" id="7942989">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7942993">{</span><span class="ident" id="7942994">Comment</span><span class="op" id="7943001">,</span>&nbsp;<span class="string" id="7943003">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="7943019">}</span><span class="op" id="7943020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943023">{</span><span class="ident" id="7943024">String</span><span class="op" id="7943030">,</span>&nbsp;<span class="string" id="7943032">&#34;``&#34;</span><span class="op" id="7943036">}</span><span class="op" id="7943037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943040">{</span><span class="ident" id="7943041">String</span><span class="op" id="7943047">,</span>&nbsp;<span class="string" id="7943049">&#34;`\\`&#34;</span><span class="op" id="7943055">}</span><span class="op" id="7943056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943059">{</span><span class="ident" id="7943060">String</span><span class="op" id="7943066">,</span>&nbsp;<span class="string" id="7943068">&#34;`&#34;</span>&nbsp;<span class="op" id="7943072">+</span>&nbsp;<span class="string" id="7943074">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="7943097">+</span>&nbsp;<span class="string" id="7943099">&#34;`&#34;</span><span class="op" id="7943102">}</span><span class="op" id="7943103">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943106">{</span><span class="ident" id="7943107">String</span><span class="op" id="7943113">,</span>&nbsp;<span class="string" id="7943115">&#34;`&#34;</span>&nbsp;<span class="op" id="7943119">+</span>&nbsp;<span class="ident" id="7943121">f100</span>&nbsp;<span class="op" id="7943126">+</span>&nbsp;<span class="string" id="7943128">&#34;`&#34;</span><span class="op" id="7943131">}</span><span class="op" id="7943132">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943136">{</span><span class="ident" id="7943137">Comment</span><span class="op" id="7943144">,</span>&nbsp;<span class="string" id="7943146">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="7943172">}</span><span class="op" id="7943173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7943176">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943209">{</span><span class="string" id="7943210">&#39;\x01&#39;</span><span class="op" id="7943216">,</span>&nbsp;<span class="string" id="7943218">&#34;\x01&#34;</span><span class="op" id="7943224">}</span><span class="op" id="7943225">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943228">{</span><span class="string" id="7943229">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7943233">-</span>&nbsp;<span class="num" id="7943235">1</span><span class="op" id="7943236">,</span>&nbsp;<span class="builtintype" id="7943238">string</span><span class="op" id="7943244">(</span><span class="string" id="7943245">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7943249">-</span>&nbsp;<span class="num" id="7943251">1</span><span class="op" id="7943252">)</span><span class="op" id="7943253">}</span><span class="op" id="7943254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943257">{</span><span class="string" id="7943258">&#39;+&#39;</span><span class="op" id="7943261">,</span>&nbsp;<span class="string" id="7943263">&#34;+&#34;</span><span class="op" id="7943266">}</span><span class="op" id="7943267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943270">{</span><span class="string" id="7943271">&#39;/&#39;</span><span class="op" id="7943274">,</span>&nbsp;<span class="string" id="7943276">&#34;/&#34;</span><span class="op" id="7943279">}</span><span class="op" id="7943280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943283">{</span><span class="string" id="7943284">&#39;.&#39;</span><span class="op" id="7943287">,</span>&nbsp;<span class="string" id="7943289">&#34;.&#34;</span><span class="op" id="7943292">}</span><span class="op" id="7943293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943296">{</span><span class="string" id="7943297">&#39;~&#39;</span><span class="op" id="7943300">,</span>&nbsp;<span class="string" id="7943302">&#34;~&#34;</span><span class="op" id="7943305">}</span><span class="op" id="7943306">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943309">{</span><span class="string" id="7943310">&#39;(&#39;</span><span class="op" id="7943313">,</span>&nbsp;<span class="string" id="7943315">&#34;(&#34;</span><span class="op" id="7943318">}</span><span class="op" id="7943319">,</span><br>
<span class="lineno"></span><span class="op" id="7943321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7943324">func</span>&nbsp;<span class="ident" id="7943329">makeSource</span><span class="op" id="7943339">(</span><span class="ident" id="7943340">pattern</span>&nbsp;<span class="builtintype" id="7943348">string</span><span class="op" id="7943354">)</span>&nbsp;<span class="op" id="7943356">*</span><span class="ident" id="7943357">bytes</span><span class="op" id="7943362">.</span><span class="ident" id="7943363">Buffer</span>&nbsp;<span class="op" id="7943370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943373">var</span>&nbsp;<span class="ident" id="7943377">buf</span>&nbsp;<span class="ident" id="7943381">bytes</span><span class="op" id="7943386">.</span><span class="ident" id="7943387">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943395">for</span>&nbsp;<span class="ident" id="7943399">_</span><span class="op" id="7943400">,</span>&nbsp;<span class="ident" id="7943402">k</span>&nbsp;<span class="op" id="7943404">:=</span>&nbsp;<span class="keyword" id="7943407">range</span>&nbsp;<span class="ident" id="7943413">tokenList</span>&nbsp;<span class="op" id="7943423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943427">fmt</span><span class="op" id="7943430">.</span><span class="ident" id="7943431">Fprintf</span><span class="op" id="7943438">(</span><span class="op" id="7943439">&amp;</span><span class="ident" id="7943440">buf</span><span class="op" id="7943443">,</span>&nbsp;<span class="ident" id="7943445">pattern</span><span class="op" id="7943452">,</span>&nbsp;<span class="ident" id="7943454">k</span><span class="op" id="7943455">.</span><span class="ident" id="7943456">text</span><span class="op" id="7943460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943466">return</span>&nbsp;<span class="op" id="7943473">&amp;</span><span class="ident" id="7943474">buf</span><br>
<span class="lineno"></span><span class="op" id="7943478">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="7943481">func</span>&nbsp;<span class="ident" id="7943486">checkTok</span><span class="op" id="7943494">(</span><span class="ident" id="7943495">t</span>&nbsp;<span class="op" id="7943497">*</span><span class="ident" id="7943498">testing</span><span class="op" id="7943505">.</span><span class="ident" id="7943506">T</span><span class="op" id="7943507">,</span>&nbsp;<span class="ident" id="7943509">s</span>&nbsp;<span class="op" id="7943511">*</span><span class="ident" id="7943512">Scanner</span><span class="op" id="7943519">,</span>&nbsp;<span class="ident" id="7943521">line</span>&nbsp;<span class="builtintype" id="7943526">int</span><span class="op" id="7943529">,</span>&nbsp;<span class="ident" id="7943531">got</span><span class="op" id="7943534">,</span>&nbsp;<span class="ident" id="7943536">want</span>&nbsp;<span class="builtintype" id="7943541">rune</span><span class="op" id="7943545">,</span>&nbsp;<span class="ident" id="7943547">text</span>&nbsp;<span class="builtintype" id="7943552">string</span><span class="op" id="7943558">)</span>&nbsp;<span class="op" id="7943560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943563">if</span>&nbsp;<span class="ident" id="7943566">got</span>&nbsp;<span class="op" id="7943570">!=</span>&nbsp;<span class="ident" id="7943573">want</span>&nbsp;<span class="op" id="7943578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943582">t</span><span class="op" id="7943583">.</span><span class="ident" id="7943584">Fatalf</span><span class="op" id="7943590">(</span><span class="string" id="7943591">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7943617">,</span>&nbsp;<span class="ident" id="7943619">TokenString</span><span class="op" id="7943630">(</span><span class="ident" id="7943631">got</span><span class="op" id="7943634">)</span><span class="op" id="7943635">,</span>&nbsp;<span class="ident" id="7943637">TokenString</span><span class="op" id="7943648">(</span><span class="ident" id="7943649">want</span><span class="op" id="7943653">)</span><span class="op" id="7943654">,</span>&nbsp;<span class="ident" id="7943656">text</span><span class="op" id="7943660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943663">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943666">if</span>&nbsp;<span class="ident" id="7943669">s</span><span class="op" id="7943670">.</span><span class="ident" id="7943671">Line</span>&nbsp;<span class="op" id="7943676">!=</span>&nbsp;<span class="ident" id="7943679">line</span>&nbsp;<span class="op" id="7943684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943688">t</span><span class="op" id="7943689">.</span><span class="ident" id="7943690">Errorf</span><span class="op" id="7943696">(</span><span class="string" id="7943697">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7943724">,</span>&nbsp;<span class="ident" id="7943726">s</span><span class="op" id="7943727">.</span><span class="ident" id="7943728">Line</span><span class="op" id="7943732">,</span>&nbsp;<span class="ident" id="7943734">line</span><span class="op" id="7943738">,</span>&nbsp;<span class="ident" id="7943740">text</span><span class="op" id="7943744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943750">stext</span>&nbsp;<span class="op" id="7943756">:=</span>&nbsp;<span class="ident" id="7943759">s</span><span class="op" id="7943760">.</span><span class="ident" id="7943761">TokenText</span><span class="op" id="7943770">(</span><span class="op" id="7943771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943774">if</span>&nbsp;<span class="ident" id="7943777">stext</span>&nbsp;<span class="op" id="7943783">!=</span>&nbsp;<span class="ident" id="7943786">text</span>&nbsp;<span class="op" id="7943791">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943795">t</span><span class="op" id="7943796">.</span><span class="ident" id="7943797">Errorf</span><span class="op" id="7943803">(</span><span class="string" id="7943804">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7943824">,</span>&nbsp;<span class="ident" id="7943826">stext</span><span class="op" id="7943831">,</span>&nbsp;<span class="ident" id="7943833">text</span><span class="op" id="7943837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7943840">}</span>&nbsp;<span class="keyword" id="7943842">else</span>&nbsp;<span class="op" id="7943847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7943851">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943894">stext</span>&nbsp;<span class="op" id="7943900">=</span>&nbsp;<span class="ident" id="7943902">s</span><span class="op" id="7943903">.</span><span class="ident" id="7943904">TokenText</span><span class="op" id="7943913">(</span><span class="op" id="7943914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7943918">if</span>&nbsp;<span class="ident" id="7943921">stext</span>&nbsp;<span class="op" id="7943927">!=</span>&nbsp;<span class="ident" id="7943930">text</span>&nbsp;<span class="op" id="7943935">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7943940">t</span><span class="op" id="7943941">.</span><span class="ident" id="7943942">Errorf</span><span class="op" id="7943948">(</span><span class="string" id="7943949">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="7943989">,</span>&nbsp;<span class="ident" id="7943991">stext</span><span class="op" id="7943996">,</span>&nbsp;<span class="ident" id="7943998">text</span><span class="op" id="7944002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944009">}</span><br>
<span class="lineno"></span><span class="op" id="7944011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7944014">func</span>&nbsp;<span class="ident" id="7944019">countNewlines</span><span class="op" id="7944032">(</span><span class="ident" id="7944033">s</span>&nbsp;<span class="builtintype" id="7944035">string</span><span class="op" id="7944041">)</span>&nbsp;<span class="builtintype" id="7944043">int</span>&nbsp;<span class="op" id="7944047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944050">n</span>&nbsp;<span class="op" id="7944052">:=</span>&nbsp;<span class="num" id="7944055">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944058">for</span>&nbsp;<span class="ident" id="7944062">_</span><span class="op" id="7944063">,</span>&nbsp;<span class="ident" id="7944065">ch</span>&nbsp;<span class="op" id="7944068">:=</span>&nbsp;<span class="keyword" id="7944071">range</span>&nbsp;<span class="ident" id="7944077">s</span>&nbsp;<span class="op" id="7944079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944083">if</span>&nbsp;<span class="ident" id="7944086">ch</span>&nbsp;<span class="op" id="7944089">==</span>&nbsp;<span class="string" id="7944092">&#39;\n&#39;</span>&nbsp;<span class="op" id="7944097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944102">n</span><span class="op" id="7944103">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944114">return</span>&nbsp;<span class="ident" id="7944121">n</span><br>
<span class="lineno"></span><span class="op" id="7944123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="7944126">func</span>&nbsp;<span class="ident" id="7944131">testScan</span><span class="op" id="7944139">(</span><span class="ident" id="7944140">t</span>&nbsp;<span class="op" id="7944142">*</span><span class="ident" id="7944143">testing</span><span class="op" id="7944150">.</span><span class="ident" id="7944151">T</span><span class="op" id="7944152">,</span>&nbsp;<span class="ident" id="7944154">mode</span>&nbsp;<span class="builtintype" id="7944159">uint</span><span class="op" id="7944163">)</span>&nbsp;<span class="op" id="7944165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944168">s</span>&nbsp;<span class="op" id="7944170">:=</span>&nbsp;<span class="builtinfunc" id="7944173">new</span><span class="op" id="7944176">(</span><span class="ident" id="7944177">Scanner</span><span class="op" id="7944184">)</span><span class="op" id="7944185">.</span><span class="ident" id="7944186">Init</span><span class="op" id="7944190">(</span><span class="ident" id="7944191">makeSource</span><span class="op" id="7944201">(</span><span class="string" id="7944202">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="7944211">)</span><span class="op" id="7944212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944215">s</span><span class="op" id="7944216">.</span><span class="ident" id="7944217">Mode</span>&nbsp;<span class="op" id="7944222">=</span>&nbsp;<span class="ident" id="7944224">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944230">tok</span>&nbsp;<span class="op" id="7944234">:=</span>&nbsp;<span class="ident" id="7944237">s</span><span class="op" id="7944238">.</span><span class="ident" id="7944239">Scan</span><span class="op" id="7944243">(</span><span class="op" id="7944244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944247">line</span>&nbsp;<span class="op" id="7944252">:=</span>&nbsp;<span class="num" id="7944255">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944258">for</span>&nbsp;<span class="ident" id="7944262">_</span><span class="op" id="7944263">,</span>&nbsp;<span class="ident" id="7944265">k</span>&nbsp;<span class="op" id="7944267">:=</span>&nbsp;<span class="keyword" id="7944270">range</span>&nbsp;<span class="ident" id="7944276">tokenList</span>&nbsp;<span class="op" id="7944286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944290">if</span>&nbsp;<span class="ident" id="7944293">mode</span><span class="op" id="7944297">&amp;</span><span class="ident" id="7944298">SkipComments</span>&nbsp;<span class="op" id="7944311">==</span>&nbsp;<span class="num" id="7944314">0</span>&nbsp;<span class="op" id="7944316">||</span>&nbsp;<span class="ident" id="7944319">k</span><span class="op" id="7944320">.</span><span class="ident" id="7944321">tok</span>&nbsp;<span class="op" id="7944325">!=</span>&nbsp;<span class="ident" id="7944328">Comment</span>&nbsp;<span class="op" id="7944336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944341">checkTok</span><span class="op" id="7944349">(</span><span class="ident" id="7944350">t</span><span class="op" id="7944351">,</span>&nbsp;<span class="ident" id="7944353">s</span><span class="op" id="7944354">,</span>&nbsp;<span class="ident" id="7944356">line</span><span class="op" id="7944360">,</span>&nbsp;<span class="ident" id="7944362">tok</span><span class="op" id="7944365">,</span>&nbsp;<span class="ident" id="7944367">k</span><span class="op" id="7944368">.</span><span class="ident" id="7944369">tok</span><span class="op" id="7944372">,</span>&nbsp;<span class="ident" id="7944374">k</span><span class="op" id="7944375">.</span><span class="ident" id="7944376">text</span><span class="op" id="7944380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944385">tok</span>&nbsp;<span class="op" id="7944389">=</span>&nbsp;<span class="ident" id="7944391">s</span><span class="op" id="7944392">.</span><span class="ident" id="7944393">Scan</span><span class="op" id="7944397">(</span><span class="op" id="7944398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944402">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944406">line</span>&nbsp;<span class="op" id="7944411">+=</span>&nbsp;<span class="ident" id="7944414">countNewlines</span><span class="op" id="7944427">(</span><span class="ident" id="7944428">k</span><span class="op" id="7944429">.</span><span class="ident" id="7944430">text</span><span class="op" id="7944434">)</span>&nbsp;<span class="op" id="7944436">+</span>&nbsp;<span class="num" id="7944438">1</span>&nbsp;<span class="comment" id="7944440">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944475">checkTok</span><span class="op" id="7944483">(</span><span class="ident" id="7944484">t</span><span class="op" id="7944485">,</span>&nbsp;<span class="ident" id="7944487">s</span><span class="op" id="7944488">,</span>&nbsp;<span class="ident" id="7944490">line</span><span class="op" id="7944494">,</span>&nbsp;<span class="ident" id="7944496">tok</span><span class="op" id="7944499">,</span>&nbsp;<span class="ident" id="7944501">EOF</span><span class="op" id="7944504">,</span>&nbsp;<span class="string" id="7944506">&#34;&#34;</span><span class="op" id="7944508">)</span><br>
<span class="lineno"></span><span class="op" id="7944510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="7944513">func</span>&nbsp;<span class="ident" id="7944518">TestScan</span><span class="op" id="7944526">(</span><span class="ident" id="7944527">t</span>&nbsp;<span class="op" id="7944529">*</span><span class="ident" id="7944530">testing</span><span class="op" id="7944537">.</span><span class="ident" id="7944538">T</span><span class="op" id="7944539">)</span>&nbsp;<span class="op" id="7944541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944544">testScan</span><span class="op" id="7944552">(</span><span class="ident" id="7944553">t</span><span class="op" id="7944554">,</span>&nbsp;<span class="ident" id="7944556">GoTokens</span><span class="op" id="7944564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944567">testScan</span><span class="op" id="7944575">(</span><span class="ident" id="7944576">t</span><span class="op" id="7944577">,</span>&nbsp;<span class="ident" id="7944579">GoTokens</span><span class="op" id="7944587">&amp;^</span><span class="ident" id="7944589">SkipComments</span><span class="op" id="7944601">)</span><br>
<span class="lineno"></span><span class="op" id="7944603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="7944606">func</span>&nbsp;<span class="ident" id="7944611">TestPosition</span><span class="op" id="7944623">(</span><span class="ident" id="7944624">t</span>&nbsp;<span class="op" id="7944626">*</span><span class="ident" id="7944627">testing</span><span class="op" id="7944634">.</span><span class="ident" id="7944635">T</span><span class="op" id="7944636">)</span>&nbsp;<span class="op" id="7944638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944641">src</span>&nbsp;<span class="op" id="7944645">:=</span>&nbsp;<span class="ident" id="7944648">makeSource</span><span class="op" id="7944658">(</span><span class="string" id="7944659">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="7944673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944676">s</span>&nbsp;<span class="op" id="7944678">:=</span>&nbsp;<span class="builtinfunc" id="7944681">new</span><span class="op" id="7944684">(</span><span class="ident" id="7944685">Scanner</span><span class="op" id="7944692">)</span><span class="op" id="7944693">.</span><span class="ident" id="7944694">Init</span><span class="op" id="7944698">(</span><span class="ident" id="7944699">src</span><span class="op" id="7944702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944705">s</span><span class="op" id="7944706">.</span><span class="ident" id="7944707">Mode</span>&nbsp;<span class="op" id="7944712">=</span>&nbsp;<span class="ident" id="7944714">GoTokens</span>&nbsp;<span class="op" id="7944723">&amp;^</span>&nbsp;<span class="ident" id="7944726">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944740">s</span><span class="op" id="7944741">.</span><span class="ident" id="7944742">Scan</span><span class="op" id="7944746">(</span><span class="op" id="7944747">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944750">pos</span>&nbsp;<span class="op" id="7944754">:=</span>&nbsp;<span class="ident" id="7944757">Position</span><span class="op" id="7944765">{</span><span class="string" id="7944766">&#34;&#34;</span><span class="op" id="7944768">,</span>&nbsp;<span class="num" id="7944770">4</span><span class="op" id="7944771">,</span>&nbsp;<span class="num" id="7944773">1</span><span class="op" id="7944774">,</span>&nbsp;<span class="num" id="7944776">5</span><span class="op" id="7944777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944780">for</span>&nbsp;<span class="ident" id="7944784">_</span><span class="op" id="7944785">,</span>&nbsp;<span class="ident" id="7944787">k</span>&nbsp;<span class="op" id="7944789">:=</span>&nbsp;<span class="keyword" id="7944792">range</span>&nbsp;<span class="ident" id="7944798">tokenList</span>&nbsp;<span class="op" id="7944808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944812">if</span>&nbsp;<span class="ident" id="7944815">s</span><span class="op" id="7944816">.</span><span class="ident" id="7944817">Offset</span>&nbsp;<span class="op" id="7944824">!=</span>&nbsp;<span class="ident" id="7944827">pos</span><span class="op" id="7944830">.</span><span class="ident" id="7944831">Offset</span>&nbsp;<span class="op" id="7944838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944843">t</span><span class="op" id="7944844">.</span><span class="ident" id="7944845">Errorf</span><span class="op" id="7944851">(</span><span class="string" id="7944852">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7944881">,</span>&nbsp;<span class="ident" id="7944883">s</span><span class="op" id="7944884">.</span><span class="ident" id="7944885">Offset</span><span class="op" id="7944891">,</span>&nbsp;<span class="ident" id="7944893">pos</span><span class="op" id="7944896">.</span><span class="ident" id="7944897">Offset</span><span class="op" id="7944903">,</span>&nbsp;<span class="ident" id="7944905">k</span><span class="op" id="7944906">.</span><span class="ident" id="7944907">text</span><span class="op" id="7944911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7944915">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7944919">if</span>&nbsp;<span class="ident" id="7944922">s</span><span class="op" id="7944923">.</span><span class="ident" id="7944924">Line</span>&nbsp;<span class="op" id="7944929">!=</span>&nbsp;<span class="ident" id="7944932">pos</span><span class="op" id="7944935">.</span><span class="ident" id="7944936">Line</span>&nbsp;<span class="op" id="7944941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7944946">t</span><span class="op" id="7944947">.</span><span class="ident" id="7944948">Errorf</span><span class="op" id="7944954">(</span><span class="string" id="7944955">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7944982">,</span>&nbsp;<span class="ident" id="7944984">s</span><span class="op" id="7944985">.</span><span class="ident" id="7944986">Line</span><span class="op" id="7944990">,</span>&nbsp;<span class="ident" id="7944992">pos</span><span class="op" id="7944995">.</span><span class="ident" id="7944996">Line</span><span class="op" id="7945000">,</span>&nbsp;<span class="ident" id="7945002">k</span><span class="op" id="7945003">.</span><span class="ident" id="7945004">text</span><span class="op" id="7945008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945016">if</span>&nbsp;<span class="ident" id="7945019">s</span><span class="op" id="7945020">.</span><span class="ident" id="7945021">Column</span>&nbsp;<span class="op" id="7945028">!=</span>&nbsp;<span class="ident" id="7945031">pos</span><span class="op" id="7945034">.</span><span class="ident" id="7945035">Column</span>&nbsp;<span class="op" id="7945042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945047">t</span><span class="op" id="7945048">.</span><span class="ident" id="7945049">Errorf</span><span class="op" id="7945055">(</span><span class="string" id="7945056">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7945085">,</span>&nbsp;<span class="ident" id="7945087">s</span><span class="op" id="7945088">.</span><span class="ident" id="7945089">Column</span><span class="op" id="7945095">,</span>&nbsp;<span class="ident" id="7945097">pos</span><span class="op" id="7945100">.</span><span class="ident" id="7945101">Column</span><span class="op" id="7945107">,</span>&nbsp;<span class="ident" id="7945109">k</span><span class="op" id="7945110">.</span><span class="ident" id="7945111">text</span><span class="op" id="7945115">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945123">pos</span><span class="op" id="7945126">.</span><span class="ident" id="7945127">Offset</span>&nbsp;<span class="op" id="7945134">+=</span>&nbsp;<span class="num" id="7945137">4</span>&nbsp;<span class="op" id="7945139">+</span>&nbsp;<span class="builtinfunc" id="7945141">len</span><span class="op" id="7945144">(</span><span class="ident" id="7945145">k</span><span class="op" id="7945146">.</span><span class="ident" id="7945147">text</span><span class="op" id="7945151">)</span>&nbsp;<span class="op" id="7945153">+</span>&nbsp;<span class="num" id="7945155">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7945161">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945197">pos</span><span class="op" id="7945200">.</span><span class="ident" id="7945201">Line</span>&nbsp;<span class="op" id="7945206">+=</span>&nbsp;<span class="ident" id="7945209">countNewlines</span><span class="op" id="7945222">(</span><span class="ident" id="7945223">k</span><span class="op" id="7945224">.</span><span class="ident" id="7945225">text</span><span class="op" id="7945229">)</span>&nbsp;<span class="op" id="7945231">+</span>&nbsp;<span class="num" id="7945233">1</span>&nbsp;<span class="comment" id="7945235">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945268">s</span><span class="op" id="7945269">.</span><span class="ident" id="7945270">Scan</span><span class="op" id="7945274">(</span><span class="op" id="7945275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945278">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7945281">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945351">if</span>&nbsp;<span class="ident" id="7945354">s</span><span class="op" id="7945355">.</span><span class="ident" id="7945356">ErrorCount</span>&nbsp;<span class="op" id="7945367">!=</span>&nbsp;<span class="num" id="7945370">0</span>&nbsp;<span class="op" id="7945372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945376">t</span><span class="op" id="7945377">.</span><span class="ident" id="7945378">Errorf</span><span class="op" id="7945384">(</span><span class="string" id="7945385">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7945396">,</span>&nbsp;<span class="ident" id="7945398">s</span><span class="op" id="7945399">.</span><span class="ident" id="7945400">ErrorCount</span><span class="op" id="7945410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945413">}</span><br>
<span class="lineno"></span><span class="op" id="7945415">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="7945418">func</span>&nbsp;<span class="ident" id="7945423">TestScanZeroMode</span><span class="op" id="7945439">(</span><span class="ident" id="7945440">t</span>&nbsp;<span class="op" id="7945442">*</span><span class="ident" id="7945443">testing</span><span class="op" id="7945450">.</span><span class="ident" id="7945451">T</span><span class="op" id="7945452">)</span>&nbsp;<span class="op" id="7945454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945457">src</span>&nbsp;<span class="op" id="7945461">:=</span>&nbsp;<span class="ident" id="7945464">makeSource</span><span class="op" id="7945474">(</span><span class="string" id="7945475">&#34;%s\n&#34;</span><span class="op" id="7945481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945484">str</span>&nbsp;<span class="op" id="7945488">:=</span>&nbsp;<span class="ident" id="7945491">src</span><span class="op" id="7945494">.</span><span class="ident" id="7945495">String</span><span class="op" id="7945501">(</span><span class="op" id="7945502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945505">s</span>&nbsp;<span class="op" id="7945507">:=</span>&nbsp;<span class="builtinfunc" id="7945510">new</span><span class="op" id="7945513">(</span><span class="ident" id="7945514">Scanner</span><span class="op" id="7945521">)</span><span class="op" id="7945522">.</span><span class="ident" id="7945523">Init</span><span class="op" id="7945527">(</span><span class="ident" id="7945528">src</span><span class="op" id="7945531">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945534">s</span><span class="op" id="7945535">.</span><span class="ident" id="7945536">Mode</span>&nbsp;<span class="op" id="7945541">=</span>&nbsp;<span class="num" id="7945543">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7945551">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945589">s</span><span class="op" id="7945590">.</span><span class="ident" id="7945591">Whitespace</span>&nbsp;<span class="op" id="7945602">=</span>&nbsp;<span class="num" id="7945604">0</span>&nbsp;<span class="comment" id="7945606">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945636">tok</span>&nbsp;<span class="op" id="7945640">:=</span>&nbsp;<span class="ident" id="7945643">s</span><span class="op" id="7945644">.</span><span class="ident" id="7945645">Scan</span><span class="op" id="7945649">(</span><span class="op" id="7945650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945653">for</span>&nbsp;<span class="ident" id="7945657">i</span><span class="op" id="7945658">,</span>&nbsp;<span class="ident" id="7945660">ch</span>&nbsp;<span class="op" id="7945663">:=</span>&nbsp;<span class="keyword" id="7945666">range</span>&nbsp;<span class="ident" id="7945672">str</span>&nbsp;<span class="op" id="7945676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945680">if</span>&nbsp;<span class="ident" id="7945683">tok</span>&nbsp;<span class="op" id="7945687">!=</span>&nbsp;<span class="ident" id="7945690">ch</span>&nbsp;<span class="op" id="7945693">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945698">t</span><span class="op" id="7945699">.</span><span class="ident" id="7945700">Fatalf</span><span class="op" id="7945706">(</span><span class="string" id="7945707">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7945730">,</span>&nbsp;<span class="ident" id="7945732">i</span><span class="op" id="7945733">,</span>&nbsp;<span class="ident" id="7945735">TokenString</span><span class="op" id="7945746">(</span><span class="ident" id="7945747">tok</span><span class="op" id="7945750">)</span><span class="op" id="7945751">,</span>&nbsp;<span class="ident" id="7945753">TokenString</span><span class="op" id="7945764">(</span><span class="ident" id="7945765">ch</span><span class="op" id="7945767">)</span><span class="op" id="7945768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945776">tok</span>&nbsp;<span class="op" id="7945780">=</span>&nbsp;<span class="ident" id="7945782">s</span><span class="op" id="7945783">.</span><span class="ident" id="7945784">Scan</span><span class="op" id="7945788">(</span><span class="op" id="7945789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945795">if</span>&nbsp;<span class="ident" id="7945798">tok</span>&nbsp;<span class="op" id="7945802">!=</span>&nbsp;<span class="ident" id="7945805">EOF</span>&nbsp;<span class="op" id="7945809">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945813">t</span><span class="op" id="7945814">.</span><span class="ident" id="7945815">Fatalf</span><span class="op" id="7945821">(</span><span class="string" id="7945822">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7945842">,</span>&nbsp;<span class="ident" id="7945844">TokenString</span><span class="op" id="7945855">(</span><span class="ident" id="7945856">tok</span><span class="op" id="7945859">)</span><span class="op" id="7945860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7945866">if</span>&nbsp;<span class="ident" id="7945869">s</span><span class="op" id="7945870">.</span><span class="ident" id="7945871">ErrorCount</span>&nbsp;<span class="op" id="7945882">!=</span>&nbsp;<span class="num" id="7945885">0</span>&nbsp;<span class="op" id="7945887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945891">t</span><span class="op" id="7945892">.</span><span class="ident" id="7945893">Errorf</span><span class="op" id="7945899">(</span><span class="string" id="7945900">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7945911">,</span>&nbsp;<span class="ident" id="7945913">s</span><span class="op" id="7945914">.</span><span class="ident" id="7945915">ErrorCount</span><span class="op" id="7945925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7945928">}</span><br>
<span class="lineno">330</span><span class="op" id="7945930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7945933">func</span>&nbsp;<span class="ident" id="7945938">testScanSelectedMode</span><span class="op" id="7945958">(</span><span class="ident" id="7945959">t</span>&nbsp;<span class="op" id="7945961">*</span><span class="ident" id="7945962">testing</span><span class="op" id="7945969">.</span><span class="ident" id="7945970">T</span><span class="op" id="7945971">,</span>&nbsp;<span class="ident" id="7945973">mode</span>&nbsp;<span class="builtintype" id="7945978">uint</span><span class="op" id="7945982">,</span>&nbsp;<span class="ident" id="7945984">class</span>&nbsp;<span class="builtintype" id="7945990">rune</span><span class="op" id="7945994">)</span>&nbsp;<span class="op" id="7945996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7945999">src</span>&nbsp;<span class="op" id="7946003">:=</span>&nbsp;<span class="ident" id="7946006">makeSource</span><span class="op" id="7946016">(</span><span class="string" id="7946017">&#34;%s\n&#34;</span><span class="op" id="7946023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946026">s</span>&nbsp;<span class="op" id="7946028">:=</span>&nbsp;<span class="builtinfunc" id="7946031">new</span><span class="op" id="7946034">(</span><span class="ident" id="7946035">Scanner</span><span class="op" id="7946042">)</span><span class="op" id="7946043">.</span><span class="ident" id="7946044">Init</span><span class="op" id="7946048">(</span><span class="ident" id="7946049">src</span><span class="op" id="7946052">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946055">s</span><span class="op" id="7946056">.</span><span class="ident" id="7946057">Mode</span>&nbsp;<span class="op" id="7946062">=</span>&nbsp;<span class="ident" id="7946064">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946070">tok</span>&nbsp;<span class="op" id="7946074">:=</span>&nbsp;<span class="ident" id="7946077">s</span><span class="op" id="7946078">.</span><span class="ident" id="7946079">Scan</span><span class="op" id="7946083">(</span><span class="op" id="7946084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7946087">for</span>&nbsp;<span class="ident" id="7946091">tok</span>&nbsp;<span class="op" id="7946095">!=</span>&nbsp;<span class="ident" id="7946098">EOF</span>&nbsp;<span class="op" id="7946102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7946106">if</span>&nbsp;<span class="ident" id="7946109">tok</span>&nbsp;<span class="op" id="7946113">&lt;</span>&nbsp;<span class="num" id="7946115">0</span>&nbsp;<span class="op" id="7946117">&amp;&amp;</span>&nbsp;<span class="ident" id="7946120">tok</span>&nbsp;<span class="op" id="7946124">!=</span>&nbsp;<span class="ident" id="7946127">class</span>&nbsp;<span class="op" id="7946133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946138">t</span><span class="op" id="7946139">.</span><span class="ident" id="7946140">Fatalf</span><span class="op" id="7946146">(</span><span class="string" id="7946147">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7946166">,</span>&nbsp;<span class="ident" id="7946168">TokenString</span><span class="op" id="7946179">(</span><span class="ident" id="7946180">tok</span><span class="op" id="7946183">)</span><span class="op" id="7946184">,</span>&nbsp;<span class="ident" id="7946186">TokenString</span><span class="op" id="7946197">(</span><span class="ident" id="7946198">class</span><span class="op" id="7946203">)</span><span class="op" id="7946204">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7946208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946212">tok</span>&nbsp;<span class="op" id="7946216">=</span>&nbsp;<span class="ident" id="7946218">s</span><span class="op" id="7946219">.</span><span class="ident" id="7946220">Scan</span><span class="op" id="7946224">(</span><span class="op" id="7946225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7946228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7946231">if</span>&nbsp;<span class="ident" id="7946234">s</span><span class="op" id="7946235">.</span><span class="ident" id="7946236">ErrorCount</span>&nbsp;<span class="op" id="7946247">!=</span>&nbsp;<span class="num" id="7946250">0</span>&nbsp;<span class="op" id="7946252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946256">t</span><span class="op" id="7946257">.</span><span class="ident" id="7946258">Errorf</span><span class="op" id="7946264">(</span><span class="string" id="7946265">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7946276">,</span>&nbsp;<span class="ident" id="7946278">s</span><span class="op" id="7946279">.</span><span class="ident" id="7946280">ErrorCount</span><span class="op" id="7946290">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7946293">}</span><br>
<span class="lineno"></span><span class="op" id="7946295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7946298">func</span>&nbsp;<span class="ident" id="7946303">TestScanSelectedMask</span><span class="op" id="7946323">(</span><span class="ident" id="7946324">t</span>&nbsp;<span class="op" id="7946326">*</span><span class="ident" id="7946327">testing</span><span class="op" id="7946334">.</span><span class="ident" id="7946335">T</span><span class="op" id="7946336">)</span>&nbsp;<span class="op" id="7946338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946341">testScanSelectedMode</span><span class="op" id="7946361">(</span><span class="ident" id="7946362">t</span><span class="op" id="7946363">,</span>&nbsp;<span class="num" id="7946365">0</span><span class="op" id="7946366">,</span>&nbsp;<span class="num" id="7946368">0</span><span class="op" id="7946369">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946372">testScanSelectedMode</span><span class="op" id="7946392">(</span><span class="ident" id="7946393">t</span><span class="op" id="7946394">,</span>&nbsp;<span class="ident" id="7946396">ScanIdents</span><span class="op" id="7946406">,</span>&nbsp;<span class="ident" id="7946408">Ident</span><span class="op" id="7946413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7946416">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7946476">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7946536">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946588">testScanSelectedMode</span><span class="op" id="7946608">(</span><span class="ident" id="7946609">t</span><span class="op" id="7946610">,</span>&nbsp;<span class="ident" id="7946612">ScanChars</span><span class="op" id="7946621">,</span>&nbsp;<span class="ident" id="7946623">Char</span><span class="op" id="7946627">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946630">testScanSelectedMode</span><span class="op" id="7946650">(</span><span class="ident" id="7946651">t</span><span class="op" id="7946652">,</span>&nbsp;<span class="ident" id="7946654">ScanStrings</span><span class="op" id="7946665">,</span>&nbsp;<span class="ident" id="7946667">String</span><span class="op" id="7946673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946676">testScanSelectedMode</span><span class="op" id="7946696">(</span><span class="ident" id="7946697">t</span><span class="op" id="7946698">,</span>&nbsp;<span class="ident" id="7946700">SkipComments</span><span class="op" id="7946712">,</span>&nbsp;<span class="num" id="7946714">0</span><span class="op" id="7946715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946718">testScanSelectedMode</span><span class="op" id="7946738">(</span><span class="ident" id="7946739">t</span><span class="op" id="7946740">,</span>&nbsp;<span class="ident" id="7946742">ScanComments</span><span class="op" id="7946754">,</span>&nbsp;<span class="ident" id="7946756">Comment</span><span class="op" id="7946763">)</span><br>
<span class="lineno"></span><span class="op" id="7946765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7946768">func</span>&nbsp;<span class="ident" id="7946773">TestScanCustomIdent</span><span class="op" id="7946792">(</span><span class="ident" id="7946793">t</span>&nbsp;<span class="op" id="7946795">*</span><span class="ident" id="7946796">testing</span><span class="op" id="7946803">.</span><span class="ident" id="7946804">T</span><span class="op" id="7946805">)</span>&nbsp;<span class="op" id="7946807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7946810">const</span>&nbsp;<span class="ident" id="7946816">src</span>&nbsp;<span class="op" id="7946820">=</span>&nbsp;<span class="string" id="7946822">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946850">s</span>&nbsp;<span class="op" id="7946852">:=</span>&nbsp;<span class="builtinfunc" id="7946855">new</span><span class="op" id="7946858">(</span><span class="ident" id="7946859">Scanner</span><span class="op" id="7946866">)</span><span class="op" id="7946867">.</span><span class="ident" id="7946868">Init</span><span class="op" id="7946872">(</span><span class="ident" id="7946873">strings</span><span class="op" id="7946880">.</span><span class="ident" id="7946881">NewReader</span><span class="op" id="7946890">(</span><span class="ident" id="7946891">src</span><span class="op" id="7946894">)</span><span class="op" id="7946895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7946898">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7946936">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7946961">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7946992">s</span><span class="op" id="7946993">.</span><span class="ident" id="7946994">IsIdentRune</span>&nbsp;<span class="op" id="7947006">=</span>&nbsp;<span class="keyword" id="7947008">func</span><span class="op" id="7947012">(</span><span class="ident" id="7947013">ch</span>&nbsp;<span class="builtintype" id="7947016">rune</span><span class="op" id="7947020">,</span>&nbsp;<span class="ident" id="7947022">i</span>&nbsp;<span class="builtintype" id="7947024">int</span><span class="op" id="7947027">)</span>&nbsp;<span class="builtintype" id="7947029">bool</span>&nbsp;<span class="op" id="7947034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7947038">return</span>&nbsp;<span class="ident" id="7947045">i</span>&nbsp;<span class="op" id="7947047">==</span>&nbsp;<span class="num" id="7947050">0</span>&nbsp;<span class="op" id="7947052">&amp;&amp;</span>&nbsp;<span class="op" id="7947055">(</span><span class="ident" id="7947056">ch</span>&nbsp;<span class="op" id="7947059">==</span>&nbsp;<span class="string" id="7947062">&#39;a&#39;</span>&nbsp;<span class="op" id="7947066">||</span>&nbsp;<span class="ident" id="7947069">ch</span>&nbsp;<span class="op" id="7947072">==</span>&nbsp;<span class="string" id="7947075">&#39;b&#39;</span><span class="op" id="7947078">)</span>&nbsp;<span class="op" id="7947080">||</span>&nbsp;<span class="num" id="7947083">0</span>&nbsp;<span class="op" id="7947085">&lt;</span>&nbsp;<span class="ident" id="7947087">i</span>&nbsp;<span class="op" id="7947089">&amp;&amp;</span>&nbsp;<span class="ident" id="7947092">i</span>&nbsp;<span class="op" id="7947094">&lt;</span>&nbsp;<span class="num" id="7947096">4</span>&nbsp;<span class="op" id="7947098">&amp;&amp;</span>&nbsp;<span class="string" id="7947101">&#39;0&#39;</span>&nbsp;<span class="op" id="7947105">&lt;=</span>&nbsp;<span class="ident" id="7947108">ch</span>&nbsp;<span class="op" id="7947111">&amp;&amp;</span>&nbsp;<span class="ident" id="7947114">ch</span>&nbsp;<span class="op" id="7947117">&lt;=</span>&nbsp;<span class="string" id="7947120">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7947125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947128">checkTok</span><span class="op" id="7947136">(</span><span class="ident" id="7947137">t</span><span class="op" id="7947138">,</span>&nbsp;<span class="ident" id="7947140">s</span><span class="op" id="7947141">,</span>&nbsp;<span class="num" id="7947143">1</span><span class="op" id="7947144">,</span>&nbsp;<span class="ident" id="7947146">s</span><span class="op" id="7947147">.</span><span class="ident" id="7947148">Scan</span><span class="op" id="7947152">(</span><span class="op" id="7947153">)</span><span class="op" id="7947154">,</span>&nbsp;<span class="string" id="7947156">&#39;f&#39;</span><span class="op" id="7947159">,</span>&nbsp;<span class="string" id="7947161">&#34;f&#34;</span><span class="op" id="7947164">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947167">checkTok</span><span class="op" id="7947175">(</span><span class="ident" id="7947176">t</span><span class="op" id="7947177">,</span>&nbsp;<span class="ident" id="7947179">s</span><span class="op" id="7947180">,</span>&nbsp;<span class="num" id="7947182">1</span><span class="op" id="7947183">,</span>&nbsp;<span class="ident" id="7947185">s</span><span class="op" id="7947186">.</span><span class="ident" id="7947187">Scan</span><span class="op" id="7947191">(</span><span class="op" id="7947192">)</span><span class="op" id="7947193">,</span>&nbsp;<span class="ident" id="7947195">Ident</span><span class="op" id="7947200">,</span>&nbsp;<span class="string" id="7947202">&#34;a&#34;</span><span class="op" id="7947205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947208">checkTok</span><span class="op" id="7947216">(</span><span class="ident" id="7947217">t</span><span class="op" id="7947218">,</span>&nbsp;<span class="ident" id="7947220">s</span><span class="op" id="7947221">,</span>&nbsp;<span class="num" id="7947223">1</span><span class="op" id="7947224">,</span>&nbsp;<span class="ident" id="7947226">s</span><span class="op" id="7947227">.</span><span class="ident" id="7947228">Scan</span><span class="op" id="7947232">(</span><span class="op" id="7947233">)</span><span class="op" id="7947234">,</span>&nbsp;<span class="ident" id="7947236">Ident</span><span class="op" id="7947241">,</span>&nbsp;<span class="string" id="7947243">&#34;a&#34;</span><span class="op" id="7947246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947249">checkTok</span><span class="op" id="7947257">(</span><span class="ident" id="7947258">t</span><span class="op" id="7947259">,</span>&nbsp;<span class="ident" id="7947261">s</span><span class="op" id="7947262">,</span>&nbsp;<span class="num" id="7947264">1</span><span class="op" id="7947265">,</span>&nbsp;<span class="ident" id="7947267">s</span><span class="op" id="7947268">.</span><span class="ident" id="7947269">Scan</span><span class="op" id="7947273">(</span><span class="op" id="7947274">)</span><span class="op" id="7947275">,</span>&nbsp;<span class="ident" id="7947277">Ident</span><span class="op" id="7947282">,</span>&nbsp;<span class="string" id="7947284">&#34;b123&#34;</span><span class="op" id="7947290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947293">checkTok</span><span class="op" id="7947301">(</span><span class="ident" id="7947302">t</span><span class="op" id="7947303">,</span>&nbsp;<span class="ident" id="7947305">s</span><span class="op" id="7947306">,</span>&nbsp;<span class="num" id="7947308">1</span><span class="op" id="7947309">,</span>&nbsp;<span class="ident" id="7947311">s</span><span class="op" id="7947312">.</span><span class="ident" id="7947313">Scan</span><span class="op" id="7947317">(</span><span class="op" id="7947318">)</span><span class="op" id="7947319">,</span>&nbsp;<span class="ident" id="7947321">Int</span><span class="op" id="7947324">,</span>&nbsp;<span class="string" id="7947326">&#34;45&#34;</span><span class="op" id="7947330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947333">checkTok</span><span class="op" id="7947341">(</span><span class="ident" id="7947342">t</span><span class="op" id="7947343">,</span>&nbsp;<span class="ident" id="7947345">s</span><span class="op" id="7947346">,</span>&nbsp;<span class="num" id="7947348">1</span><span class="op" id="7947349">,</span>&nbsp;<span class="ident" id="7947351">s</span><span class="op" id="7947352">.</span><span class="ident" id="7947353">Scan</span><span class="op" id="7947357">(</span><span class="op" id="7947358">)</span><span class="op" id="7947359">,</span>&nbsp;<span class="ident" id="7947361">Ident</span><span class="op" id="7947366">,</span>&nbsp;<span class="string" id="7947368">&#34;a12&#34;</span><span class="op" id="7947373">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947376">checkTok</span><span class="op" id="7947384">(</span><span class="ident" id="7947385">t</span><span class="op" id="7947386">,</span>&nbsp;<span class="ident" id="7947388">s</span><span class="op" id="7947389">,</span>&nbsp;<span class="num" id="7947391">1</span><span class="op" id="7947392">,</span>&nbsp;<span class="ident" id="7947394">s</span><span class="op" id="7947395">.</span><span class="ident" id="7947396">Scan</span><span class="op" id="7947400">(</span><span class="op" id="7947401">)</span><span class="op" id="7947402">,</span>&nbsp;<span class="ident" id="7947404">Ident</span><span class="op" id="7947409">,</span>&nbsp;<span class="string" id="7947411">&#34;b123&#34;</span><span class="op" id="7947417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947420">checkTok</span><span class="op" id="7947428">(</span><span class="ident" id="7947429">t</span><span class="op" id="7947430">,</span>&nbsp;<span class="ident" id="7947432">s</span><span class="op" id="7947433">,</span>&nbsp;<span class="num" id="7947435">1</span><span class="op" id="7947436">,</span>&nbsp;<span class="ident" id="7947438">s</span><span class="op" id="7947439">.</span><span class="ident" id="7947440">Scan</span><span class="op" id="7947444">(</span><span class="op" id="7947445">)</span><span class="op" id="7947446">,</span>&nbsp;<span class="ident" id="7947448">Ident</span><span class="op" id="7947453">,</span>&nbsp;<span class="string" id="7947455">&#34;a12&#34;</span><span class="op" id="7947460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947463">checkTok</span><span class="op" id="7947471">(</span><span class="ident" id="7947472">t</span><span class="op" id="7947473">,</span>&nbsp;<span class="ident" id="7947475">s</span><span class="op" id="7947476">,</span>&nbsp;<span class="num" id="7947478">1</span><span class="op" id="7947479">,</span>&nbsp;<span class="ident" id="7947481">s</span><span class="op" id="7947482">.</span><span class="ident" id="7947483">Scan</span><span class="op" id="7947487">(</span><span class="op" id="7947488">)</span><span class="op" id="7947489">,</span>&nbsp;<span class="ident" id="7947491">Int</span><span class="op" id="7947494">,</span>&nbsp;<span class="string" id="7947496">&#34;3&#34;</span><span class="op" id="7947499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947502">checkTok</span><span class="op" id="7947510">(</span><span class="ident" id="7947511">t</span><span class="op" id="7947512">,</span>&nbsp;<span class="ident" id="7947514">s</span><span class="op" id="7947515">,</span>&nbsp;<span class="num" id="7947517">1</span><span class="op" id="7947518">,</span>&nbsp;<span class="ident" id="7947520">s</span><span class="op" id="7947521">.</span><span class="ident" id="7947522">Scan</span><span class="op" id="7947526">(</span><span class="op" id="7947527">)</span><span class="op" id="7947528">,</span>&nbsp;<span class="ident" id="7947530">Ident</span><span class="op" id="7947535">,</span>&nbsp;<span class="string" id="7947537">&#34;b&#34;</span><span class="op" id="7947540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947543">checkTok</span><span class="op" id="7947551">(</span><span class="ident" id="7947552">t</span><span class="op" id="7947553">,</span>&nbsp;<span class="ident" id="7947555">s</span><span class="op" id="7947556">,</span>&nbsp;<span class="num" id="7947558">1</span><span class="op" id="7947559">,</span>&nbsp;<span class="ident" id="7947561">s</span><span class="op" id="7947562">.</span><span class="ident" id="7947563">Scan</span><span class="op" id="7947567">(</span><span class="op" id="7947568">)</span><span class="op" id="7947569">,</span>&nbsp;<span class="ident" id="7947571">EOF</span><span class="op" id="7947574">,</span>&nbsp;<span class="string" id="7947576">&#34;&#34;</span><span class="op" id="7947578">)</span><br>
<span class="lineno">380</span><span class="op" id="7947580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7947583">func</span>&nbsp;<span class="ident" id="7947588">TestScanNext</span><span class="op" id="7947600">(</span><span class="ident" id="7947601">t</span>&nbsp;<span class="op" id="7947603">*</span><span class="ident" id="7947604">testing</span><span class="op" id="7947611">.</span><span class="ident" id="7947612">T</span><span class="op" id="7947613">)</span>&nbsp;<span class="op" id="7947615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7947618">const</span>&nbsp;<span class="ident" id="7947624">BOM</span>&nbsp;<span class="op" id="7947628">=</span>&nbsp;<span class="string" id="7947630">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947640">BOMs</span>&nbsp;<span class="op" id="7947645">:=</span>&nbsp;<span class="builtintype" id="7947648">string</span><span class="op" id="7947654">(</span><span class="ident" id="7947655">BOM</span><span class="op" id="7947658">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947661">s</span>&nbsp;<span class="op" id="7947663">:=</span>&nbsp;<span class="builtinfunc" id="7947666">new</span><span class="op" id="7947669">(</span><span class="ident" id="7947670">Scanner</span><span class="op" id="7947677">)</span><span class="op" id="7947678">.</span><span class="ident" id="7947679">Init</span><span class="op" id="7947683">(</span><span class="ident" id="7947684">strings</span><span class="op" id="7947691">.</span><span class="ident" id="7947692">NewReader</span><span class="op" id="7947701">(</span><span class="ident" id="7947702">BOMs</span>&nbsp;<span class="op" id="7947707">+</span>&nbsp;<span class="string" id="7947709">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="7947730">+</span>&nbsp;<span class="ident" id="7947732">BOMs</span>&nbsp;<span class="op" id="7947737">+</span>&nbsp;<span class="string" id="7947739">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="7947764">+</span>&nbsp;<span class="ident" id="7947766">BOMs</span>&nbsp;<span class="op" id="7947771">+</span>&nbsp;<span class="string" id="7947773">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="7947804">)</span><span class="op" id="7947805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947808">checkTok</span><span class="op" id="7947816">(</span><span class="ident" id="7947817">t</span><span class="op" id="7947818">,</span>&nbsp;<span class="ident" id="7947820">s</span><span class="op" id="7947821">,</span>&nbsp;<span class="num" id="7947823">1</span><span class="op" id="7947824">,</span>&nbsp;<span class="ident" id="7947826">s</span><span class="op" id="7947827">.</span><span class="ident" id="7947828">Scan</span><span class="op" id="7947832">(</span><span class="op" id="7947833">)</span><span class="op" id="7947834">,</span>&nbsp;<span class="ident" id="7947836">Ident</span><span class="op" id="7947841">,</span>&nbsp;<span class="string" id="7947843">&#34;if&#34;</span><span class="op" id="7947847">)</span>&nbsp;<span class="comment" id="7947849">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947878">checkTok</span><span class="op" id="7947886">(</span><span class="ident" id="7947887">t</span><span class="op" id="7947888">,</span>&nbsp;<span class="ident" id="7947890">s</span><span class="op" id="7947891">,</span>&nbsp;<span class="num" id="7947893">1</span><span class="op" id="7947894">,</span>&nbsp;<span class="ident" id="7947896">s</span><span class="op" id="7947897">.</span><span class="ident" id="7947898">Scan</span><span class="op" id="7947902">(</span><span class="op" id="7947903">)</span><span class="op" id="7947904">,</span>&nbsp;<span class="ident" id="7947906">Ident</span><span class="op" id="7947911">,</span>&nbsp;<span class="string" id="7947913">&#34;a&#34;</span><span class="op" id="7947916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947919">checkTok</span><span class="op" id="7947927">(</span><span class="ident" id="7947928">t</span><span class="op" id="7947929">,</span>&nbsp;<span class="ident" id="7947931">s</span><span class="op" id="7947932">,</span>&nbsp;<span class="num" id="7947934">1</span><span class="op" id="7947935">,</span>&nbsp;<span class="ident" id="7947937">s</span><span class="op" id="7947938">.</span><span class="ident" id="7947939">Scan</span><span class="op" id="7947943">(</span><span class="op" id="7947944">)</span><span class="op" id="7947945">,</span>&nbsp;<span class="string" id="7947947">&#39;=&#39;</span><span class="op" id="7947950">,</span>&nbsp;<span class="string" id="7947952">&#34;=&#34;</span><span class="op" id="7947955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947958">checkTok</span><span class="op" id="7947966">(</span><span class="ident" id="7947967">t</span><span class="op" id="7947968">,</span>&nbsp;<span class="ident" id="7947970">s</span><span class="op" id="7947971">,</span>&nbsp;<span class="num" id="7947973">0</span><span class="op" id="7947974">,</span>&nbsp;<span class="ident" id="7947976">s</span><span class="op" id="7947977">.</span><span class="ident" id="7947978">Next</span><span class="op" id="7947982">(</span><span class="op" id="7947983">)</span><span class="op" id="7947984">,</span>&nbsp;<span class="string" id="7947986">&#39;=&#39;</span><span class="op" id="7947989">,</span>&nbsp;<span class="string" id="7947991">&#34;&#34;</span><span class="op" id="7947993">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7947996">checkTok</span><span class="op" id="7948004">(</span><span class="ident" id="7948005">t</span><span class="op" id="7948006">,</span>&nbsp;<span class="ident" id="7948008">s</span><span class="op" id="7948009">,</span>&nbsp;<span class="num" id="7948011">0</span><span class="op" id="7948012">,</span>&nbsp;<span class="ident" id="7948014">s</span><span class="op" id="7948015">.</span><span class="ident" id="7948016">Next</span><span class="op" id="7948020">(</span><span class="op" id="7948021">)</span><span class="op" id="7948022">,</span>&nbsp;<span class="string" id="7948024">&#39;&nbsp;&#39;</span><span class="op" id="7948027">,</span>&nbsp;<span class="string" id="7948029">&#34;&#34;</span><span class="op" id="7948031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948034">checkTok</span><span class="op" id="7948042">(</span><span class="ident" id="7948043">t</span><span class="op" id="7948044">,</span>&nbsp;<span class="ident" id="7948046">s</span><span class="op" id="7948047">,</span>&nbsp;<span class="num" id="7948049">0</span><span class="op" id="7948050">,</span>&nbsp;<span class="ident" id="7948052">s</span><span class="op" id="7948053">.</span><span class="ident" id="7948054">Next</span><span class="op" id="7948058">(</span><span class="op" id="7948059">)</span><span class="op" id="7948060">,</span>&nbsp;<span class="string" id="7948062">&#39;b&#39;</span><span class="op" id="7948065">,</span>&nbsp;<span class="string" id="7948067">&#34;&#34;</span><span class="op" id="7948069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948072">checkTok</span><span class="op" id="7948080">(</span><span class="ident" id="7948081">t</span><span class="op" id="7948082">,</span>&nbsp;<span class="ident" id="7948084">s</span><span class="op" id="7948085">,</span>&nbsp;<span class="num" id="7948087">1</span><span class="op" id="7948088">,</span>&nbsp;<span class="ident" id="7948090">s</span><span class="op" id="7948091">.</span><span class="ident" id="7948092">Scan</span><span class="op" id="7948096">(</span><span class="op" id="7948097">)</span><span class="op" id="7948098">,</span>&nbsp;<span class="ident" id="7948100">Ident</span><span class="op" id="7948105">,</span>&nbsp;<span class="string" id="7948107">&#34;cd&#34;</span><span class="op" id="7948111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948114">checkTok</span><span class="op" id="7948122">(</span><span class="ident" id="7948123">t</span><span class="op" id="7948124">,</span>&nbsp;<span class="ident" id="7948126">s</span><span class="op" id="7948127">,</span>&nbsp;<span class="num" id="7948129">1</span><span class="op" id="7948130">,</span>&nbsp;<span class="ident" id="7948132">s</span><span class="op" id="7948133">.</span><span class="ident" id="7948134">Scan</span><span class="op" id="7948138">(</span><span class="op" id="7948139">)</span><span class="op" id="7948140">,</span>&nbsp;<span class="string" id="7948142">&#39;{&#39;</span><span class="op" id="7948145">,</span>&nbsp;<span class="string" id="7948147">&#34;{&#34;</span><span class="op" id="7948150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948153">checkTok</span><span class="op" id="7948161">(</span><span class="ident" id="7948162">t</span><span class="op" id="7948163">,</span>&nbsp;<span class="ident" id="7948165">s</span><span class="op" id="7948166">,</span>&nbsp;<span class="num" id="7948168">2</span><span class="op" id="7948169">,</span>&nbsp;<span class="ident" id="7948171">s</span><span class="op" id="7948172">.</span><span class="ident" id="7948173">Scan</span><span class="op" id="7948177">(</span><span class="op" id="7948178">)</span><span class="op" id="7948179">,</span>&nbsp;<span class="ident" id="7948181">Ident</span><span class="op" id="7948186">,</span>&nbsp;<span class="string" id="7948188">&#34;a&#34;</span><span class="op" id="7948191">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948194">checkTok</span><span class="op" id="7948202">(</span><span class="ident" id="7948203">t</span><span class="op" id="7948204">,</span>&nbsp;<span class="ident" id="7948206">s</span><span class="op" id="7948207">,</span>&nbsp;<span class="num" id="7948209">2</span><span class="op" id="7948210">,</span>&nbsp;<span class="ident" id="7948212">s</span><span class="op" id="7948213">.</span><span class="ident" id="7948214">Scan</span><span class="op" id="7948218">(</span><span class="op" id="7948219">)</span><span class="op" id="7948220">,</span>&nbsp;<span class="string" id="7948222">&#39;+&#39;</span><span class="op" id="7948225">,</span>&nbsp;<span class="string" id="7948227">&#34;+&#34;</span><span class="op" id="7948230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948233">checkTok</span><span class="op" id="7948241">(</span><span class="ident" id="7948242">t</span><span class="op" id="7948243">,</span>&nbsp;<span class="ident" id="7948245">s</span><span class="op" id="7948246">,</span>&nbsp;<span class="num" id="7948248">0</span><span class="op" id="7948249">,</span>&nbsp;<span class="ident" id="7948251">s</span><span class="op" id="7948252">.</span><span class="ident" id="7948253">Next</span><span class="op" id="7948257">(</span><span class="op" id="7948258">)</span><span class="op" id="7948259">,</span>&nbsp;<span class="string" id="7948261">&#39;=&#39;</span><span class="op" id="7948264">,</span>&nbsp;<span class="string" id="7948266">&#34;&#34;</span><span class="op" id="7948268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948271">checkTok</span><span class="op" id="7948279">(</span><span class="ident" id="7948280">t</span><span class="op" id="7948281">,</span>&nbsp;<span class="ident" id="7948283">s</span><span class="op" id="7948284">,</span>&nbsp;<span class="num" id="7948286">2</span><span class="op" id="7948287">,</span>&nbsp;<span class="ident" id="7948289">s</span><span class="op" id="7948290">.</span><span class="ident" id="7948291">Scan</span><span class="op" id="7948295">(</span><span class="op" id="7948296">)</span><span class="op" id="7948297">,</span>&nbsp;<span class="ident" id="7948299">Ident</span><span class="op" id="7948304">,</span>&nbsp;<span class="string" id="7948306">&#34;c&#34;</span><span class="op" id="7948309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948312">checkTok</span><span class="op" id="7948320">(</span><span class="ident" id="7948321">t</span><span class="op" id="7948322">,</span>&nbsp;<span class="ident" id="7948324">s</span><span class="op" id="7948325">,</span>&nbsp;<span class="num" id="7948327">3</span><span class="op" id="7948328">,</span>&nbsp;<span class="ident" id="7948330">s</span><span class="op" id="7948331">.</span><span class="ident" id="7948332">Scan</span><span class="op" id="7948336">(</span><span class="op" id="7948337">)</span><span class="op" id="7948338">,</span>&nbsp;<span class="string" id="7948340">&#39;}&#39;</span><span class="op" id="7948343">,</span>&nbsp;<span class="string" id="7948345">&#34;}&#34;</span><span class="op" id="7948348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948351">checkTok</span><span class="op" id="7948359">(</span><span class="ident" id="7948360">t</span><span class="op" id="7948361">,</span>&nbsp;<span class="ident" id="7948363">s</span><span class="op" id="7948364">,</span>&nbsp;<span class="num" id="7948366">3</span><span class="op" id="7948367">,</span>&nbsp;<span class="ident" id="7948369">s</span><span class="op" id="7948370">.</span><span class="ident" id="7948371">Scan</span><span class="op" id="7948375">(</span><span class="op" id="7948376">)</span><span class="op" id="7948377">,</span>&nbsp;<span class="ident" id="7948379">BOM</span><span class="op" id="7948382">,</span>&nbsp;<span class="ident" id="7948384">BOMs</span><span class="op" id="7948388">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948391">checkTok</span><span class="op" id="7948399">(</span><span class="ident" id="7948400">t</span><span class="op" id="7948401">,</span>&nbsp;<span class="ident" id="7948403">s</span><span class="op" id="7948404">,</span>&nbsp;<span class="num" id="7948406">3</span><span class="op" id="7948407">,</span>&nbsp;<span class="ident" id="7948409">s</span><span class="op" id="7948410">.</span><span class="ident" id="7948411">Scan</span><span class="op" id="7948415">(</span><span class="op" id="7948416">)</span><span class="op" id="7948417">,</span>&nbsp;<span class="op" id="7948419">-</span><span class="num" id="7948420">1</span><span class="op" id="7948421">,</span>&nbsp;<span class="string" id="7948423">&#34;&#34;</span><span class="op" id="7948425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948428">if</span>&nbsp;<span class="ident" id="7948431">s</span><span class="op" id="7948432">.</span><span class="ident" id="7948433">ErrorCount</span>&nbsp;<span class="op" id="7948444">!=</span>&nbsp;<span class="num" id="7948447">0</span>&nbsp;<span class="op" id="7948449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948453">t</span><span class="op" id="7948454">.</span><span class="ident" id="7948455">Errorf</span><span class="op" id="7948461">(</span><span class="string" id="7948462">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7948473">,</span>&nbsp;<span class="ident" id="7948475">s</span><span class="op" id="7948476">.</span><span class="ident" id="7948477">ErrorCount</span><span class="op" id="7948487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948490">}</span><br>
<span class="lineno"></span><span class="op" id="7948492">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="7948495">func</span>&nbsp;<span class="ident" id="7948500">TestScanWhitespace</span><span class="op" id="7948518">(</span><span class="ident" id="7948519">t</span>&nbsp;<span class="op" id="7948521">*</span><span class="ident" id="7948522">testing</span><span class="op" id="7948529">.</span><span class="ident" id="7948530">T</span><span class="op" id="7948531">)</span>&nbsp;<span class="op" id="7948533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948536">var</span>&nbsp;<span class="ident" id="7948540">buf</span>&nbsp;<span class="ident" id="7948544">bytes</span><span class="op" id="7948549">.</span><span class="ident" id="7948550">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948558">var</span>&nbsp;<span class="ident" id="7948562">ws</span>&nbsp;<span class="ident" id="7948565">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7948573">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948618">for</span>&nbsp;<span class="ident" id="7948622">ch</span>&nbsp;<span class="op" id="7948625">:=</span>&nbsp;<span class="builtintype" id="7948628">byte</span><span class="op" id="7948632">(</span><span class="num" id="7948633">1</span><span class="op" id="7948634">)</span><span class="op" id="7948635">;</span>&nbsp;<span class="ident" id="7948637">ch</span>&nbsp;<span class="op" id="7948640">&lt;</span>&nbsp;<span class="string" id="7948642">&#39;&nbsp;&#39;</span><span class="op" id="7948645">;</span>&nbsp;<span class="ident" id="7948647">ch</span><span class="op" id="7948649">++</span>&nbsp;<span class="op" id="7948652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948656">buf</span><span class="op" id="7948659">.</span><span class="ident" id="7948660">WriteByte</span><span class="op" id="7948669">(</span><span class="ident" id="7948670">ch</span><span class="op" id="7948672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948676">ws</span>&nbsp;<span class="op" id="7948679">|=</span>&nbsp;<span class="num" id="7948682">1</span>&nbsp;<span class="op" id="7948684">&lt;&lt;</span>&nbsp;<span class="ident" id="7948687">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948694">const</span>&nbsp;<span class="ident" id="7948700">orig</span>&nbsp;<span class="op" id="7948705">=</span>&nbsp;<span class="string" id="7948707">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948712">buf</span><span class="op" id="7948715">.</span><span class="ident" id="7948716">WriteByte</span><span class="op" id="7948725">(</span><span class="ident" id="7948726">orig</span><span class="op" id="7948730">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948734">s</span>&nbsp;<span class="op" id="7948736">:=</span>&nbsp;<span class="builtinfunc" id="7948739">new</span><span class="op" id="7948742">(</span><span class="ident" id="7948743">Scanner</span><span class="op" id="7948750">)</span><span class="op" id="7948751">.</span><span class="ident" id="7948752">Init</span><span class="op" id="7948756">(</span><span class="op" id="7948757">&amp;</span><span class="ident" id="7948758">buf</span><span class="op" id="7948761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948764">s</span><span class="op" id="7948765">.</span><span class="ident" id="7948766">Mode</span>&nbsp;<span class="op" id="7948771">=</span>&nbsp;<span class="num" id="7948773">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948776">s</span><span class="op" id="7948777">.</span><span class="ident" id="7948778">Whitespace</span>&nbsp;<span class="op" id="7948789">=</span>&nbsp;<span class="ident" id="7948791">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948795">tok</span>&nbsp;<span class="op" id="7948799">:=</span>&nbsp;<span class="ident" id="7948802">s</span><span class="op" id="7948803">.</span><span class="ident" id="7948804">Scan</span><span class="op" id="7948808">(</span><span class="op" id="7948809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7948812">if</span>&nbsp;<span class="ident" id="7948815">tok</span>&nbsp;<span class="op" id="7948819">!=</span>&nbsp;<span class="ident" id="7948822">orig</span>&nbsp;<span class="op" id="7948827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948831">t</span><span class="op" id="7948832">.</span><span class="ident" id="7948833">Errorf</span><span class="op" id="7948839">(</span><span class="string" id="7948840">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7948859">,</span>&nbsp;<span class="ident" id="7948861">TokenString</span><span class="op" id="7948872">(</span><span class="ident" id="7948873">tok</span><span class="op" id="7948876">)</span><span class="op" id="7948877">,</span>&nbsp;<span class="ident" id="7948879">TokenString</span><span class="op" id="7948890">(</span><span class="ident" id="7948891">orig</span><span class="op" id="7948895">)</span><span class="op" id="7948896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7948899">}</span><br>
<span class="lineno"></span><span class="op" id="7948901">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="7948904">func</span>&nbsp;<span class="ident" id="7948909">testError</span><span class="op" id="7948918">(</span><span class="ident" id="7948919">t</span>&nbsp;<span class="op" id="7948921">*</span><span class="ident" id="7948922">testing</span><span class="op" id="7948929">.</span><span class="ident" id="7948930">T</span><span class="op" id="7948931">,</span>&nbsp;<span class="ident" id="7948933">src</span><span class="op" id="7948936">,</span>&nbsp;<span class="ident" id="7948938">pos</span><span class="op" id="7948941">,</span>&nbsp;<span class="ident" id="7948943">msg</span>&nbsp;<span class="builtintype" id="7948947">string</span><span class="op" id="7948953">,</span>&nbsp;<span class="ident" id="7948955">tok</span>&nbsp;<span class="builtintype" id="7948959">rune</span><span class="op" id="7948963">)</span>&nbsp;<span class="op" id="7948965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7948968">s</span>&nbsp;<span class="op" id="7948970">:=</span>&nbsp;<span class="builtinfunc" id="7948973">new</span><span class="op" id="7948976">(</span><span class="ident" id="7948977">Scanner</span><span class="op" id="7948984">)</span><span class="op" id="7948985">.</span><span class="ident" id="7948986">Init</span><span class="op" id="7948990">(</span><span class="ident" id="7948991">strings</span><span class="op" id="7948998">.</span><span class="ident" id="7948999">NewReader</span><span class="op" id="7949008">(</span><span class="ident" id="7949009">src</span><span class="op" id="7949012">)</span><span class="op" id="7949013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949016">errorCalled</span>&nbsp;<span class="op" id="7949028">:=</span>&nbsp;<span class="builtintype" id="7949031">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949038">s</span><span class="op" id="7949039">.</span><span class="ident" id="7949040">Error</span>&nbsp;<span class="op" id="7949046">=</span>&nbsp;<span class="keyword" id="7949048">func</span><span class="op" id="7949052">(</span><span class="ident" id="7949053">s</span>&nbsp;<span class="op" id="7949055">*</span><span class="ident" id="7949056">Scanner</span><span class="op" id="7949063">,</span>&nbsp;<span class="ident" id="7949065">m</span>&nbsp;<span class="builtintype" id="7949067">string</span><span class="op" id="7949073">)</span>&nbsp;<span class="op" id="7949075">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949079">if</span>&nbsp;<span class="op" id="7949082">!</span><span class="ident" id="7949083">errorCalled</span>&nbsp;<span class="op" id="7949095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7949100">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949131">if</span>&nbsp;<span class="ident" id="7949134">p</span>&nbsp;<span class="op" id="7949136">:=</span>&nbsp;<span class="ident" id="7949139">s</span><span class="op" id="7949140">.</span><span class="ident" id="7949141">Pos</span><span class="op" id="7949144">(</span><span class="op" id="7949145">)</span><span class="op" id="7949146">.</span><span class="ident" id="7949147">String</span><span class="op" id="7949153">(</span><span class="op" id="7949154">)</span><span class="op" id="7949155">;</span>&nbsp;<span class="ident" id="7949157">p</span>&nbsp;<span class="op" id="7949159">!=</span>&nbsp;<span class="ident" id="7949162">pos</span>&nbsp;<span class="op" id="7949166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949172">t</span><span class="op" id="7949173">.</span><span class="ident" id="7949174">Errorf</span><span class="op" id="7949180">(</span><span class="string" id="7949181">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7949207">,</span>&nbsp;<span class="ident" id="7949209">p</span><span class="op" id="7949210">,</span>&nbsp;<span class="ident" id="7949212">pos</span><span class="op" id="7949215">,</span>&nbsp;<span class="ident" id="7949217">src</span><span class="op" id="7949220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949225">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949230">if</span>&nbsp;<span class="ident" id="7949233">m</span>&nbsp;<span class="op" id="7949235">!=</span>&nbsp;<span class="ident" id="7949238">msg</span>&nbsp;<span class="op" id="7949242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949248">t</span><span class="op" id="7949249">.</span><span class="ident" id="7949250">Errorf</span><span class="op" id="7949256">(</span><span class="string" id="7949257">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7949283">,</span>&nbsp;<span class="ident" id="7949285">m</span><span class="op" id="7949286">,</span>&nbsp;<span class="ident" id="7949288">msg</span><span class="op" id="7949291">,</span>&nbsp;<span class="ident" id="7949293">src</span><span class="op" id="7949296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949306">errorCalled</span>&nbsp;<span class="op" id="7949318">=</span>&nbsp;<span class="builtintype" id="7949320">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949327">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949333">tk</span>&nbsp;<span class="op" id="7949336">:=</span>&nbsp;<span class="ident" id="7949339">s</span><span class="op" id="7949340">.</span><span class="ident" id="7949341">Scan</span><span class="op" id="7949345">(</span><span class="op" id="7949346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949349">if</span>&nbsp;<span class="ident" id="7949352">tk</span>&nbsp;<span class="op" id="7949355">!=</span>&nbsp;<span class="ident" id="7949358">tok</span>&nbsp;<span class="op" id="7949362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949366">t</span><span class="op" id="7949367">.</span><span class="ident" id="7949368">Errorf</span><span class="op" id="7949374">(</span><span class="string" id="7949375">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7949401">,</span>&nbsp;<span class="ident" id="7949403">TokenString</span><span class="op" id="7949414">(</span><span class="ident" id="7949415">tk</span><span class="op" id="7949417">)</span><span class="op" id="7949418">,</span>&nbsp;<span class="ident" id="7949420">TokenString</span><span class="op" id="7949431">(</span><span class="ident" id="7949432">tok</span><span class="op" id="7949435">)</span><span class="op" id="7949436">,</span>&nbsp;<span class="ident" id="7949438">src</span><span class="op" id="7949441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949444">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949447">if</span>&nbsp;<span class="op" id="7949450">!</span><span class="ident" id="7949451">errorCalled</span>&nbsp;<span class="op" id="7949463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949467">t</span><span class="op" id="7949468">.</span><span class="ident" id="7949469">Errorf</span><span class="op" id="7949475">(</span><span class="string" id="7949476">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7949509">,</span>&nbsp;<span class="ident" id="7949511">src</span><span class="op" id="7949514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7949520">if</span>&nbsp;<span class="ident" id="7949523">s</span><span class="op" id="7949524">.</span><span class="ident" id="7949525">ErrorCount</span>&nbsp;<span class="op" id="7949536">==</span>&nbsp;<span class="num" id="7949539">0</span>&nbsp;<span class="op" id="7949541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949545">t</span><span class="op" id="7949546">.</span><span class="ident" id="7949547">Errorf</span><span class="op" id="7949553">(</span><span class="string" id="7949554">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7949583">,</span>&nbsp;<span class="ident" id="7949585">s</span><span class="op" id="7949586">.</span><span class="ident" id="7949587">ErrorCount</span><span class="op" id="7949597">,</span>&nbsp;<span class="ident" id="7949599">src</span><span class="op" id="7949602">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7949605">}</span><br>
<span class="lineno"></span><span class="op" id="7949607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7949610">func</span>&nbsp;<span class="ident" id="7949615">TestError</span><span class="op" id="7949624">(</span><span class="ident" id="7949625">t</span>&nbsp;<span class="op" id="7949627">*</span><span class="ident" id="7949628">testing</span><span class="op" id="7949635">.</span><span class="ident" id="7949636">T</span><span class="op" id="7949637">)</span>&nbsp;<span class="op" id="7949639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949642">testError</span><span class="op" id="7949651">(</span><span class="ident" id="7949652">t</span><span class="op" id="7949653">,</span>&nbsp;<span class="string" id="7949655">&#34;\x00&#34;</span><span class="op" id="7949661">,</span>&nbsp;<span class="string" id="7949663">&#34;1:1&#34;</span><span class="op" id="7949668">,</span>&nbsp;<span class="string" id="7949670">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7949693">,</span>&nbsp;<span class="num" id="7949695">0</span><span class="op" id="7949696">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949699">testError</span><span class="op" id="7949708">(</span><span class="ident" id="7949709">t</span><span class="op" id="7949710">,</span>&nbsp;<span class="string" id="7949712">&#34;\x80&#34;</span><span class="op" id="7949718">,</span>&nbsp;<span class="string" id="7949720">&#34;1:1&#34;</span><span class="op" id="7949725">,</span>&nbsp;<span class="string" id="7949727">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7949751">,</span>&nbsp;<span class="ident" id="7949753">utf8</span><span class="op" id="7949757">.</span><span class="ident" id="7949758">RuneError</span><span class="op" id="7949767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949770">testError</span><span class="op" id="7949779">(</span><span class="ident" id="7949780">t</span><span class="op" id="7949781">,</span>&nbsp;<span class="string" id="7949783">&#34;\xff&#34;</span><span class="op" id="7949789">,</span>&nbsp;<span class="string" id="7949791">&#34;1:1&#34;</span><span class="op" id="7949796">,</span>&nbsp;<span class="string" id="7949798">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7949822">,</span>&nbsp;<span class="ident" id="7949824">utf8</span><span class="op" id="7949828">.</span><span class="ident" id="7949829">RuneError</span><span class="op" id="7949838">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949842">testError</span><span class="op" id="7949851">(</span><span class="ident" id="7949852">t</span><span class="op" id="7949853">,</span>&nbsp;<span class="string" id="7949855">&#34;a\x00&#34;</span><span class="op" id="7949862">,</span>&nbsp;<span class="string" id="7949864">&#34;1:2&#34;</span><span class="op" id="7949869">,</span>&nbsp;<span class="string" id="7949871">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7949894">,</span>&nbsp;<span class="ident" id="7949896">Ident</span><span class="op" id="7949901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949904">testError</span><span class="op" id="7949913">(</span><span class="ident" id="7949914">t</span><span class="op" id="7949915">,</span>&nbsp;<span class="string" id="7949917">&#34;ab\x80&#34;</span><span class="op" id="7949925">,</span>&nbsp;<span class="string" id="7949927">&#34;1:3&#34;</span><span class="op" id="7949932">,</span>&nbsp;<span class="string" id="7949934">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7949958">,</span>&nbsp;<span class="ident" id="7949960">Ident</span><span class="op" id="7949965">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7949968">testError</span><span class="op" id="7949977">(</span><span class="ident" id="7949978">t</span><span class="op" id="7949979">,</span>&nbsp;<span class="string" id="7949981">&#34;abc\xff&#34;</span><span class="op" id="7949990">,</span>&nbsp;<span class="string" id="7949992">&#34;1:4&#34;</span><span class="op" id="7949997">,</span>&nbsp;<span class="string" id="7949999">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7950023">,</span>&nbsp;<span class="ident" id="7950025">Ident</span><span class="op" id="7950030">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950034">testError</span><span class="op" id="7950043">(</span><span class="ident" id="7950044">t</span><span class="op" id="7950045">,</span>&nbsp;<span class="string" id="7950047">`&#34;a`</span><span class="op" id="7950051">+</span><span class="string" id="7950052">&#34;\x00&#34;</span><span class="op" id="7950058">,</span>&nbsp;<span class="string" id="7950060">&#34;1:3&#34;</span><span class="op" id="7950065">,</span>&nbsp;<span class="string" id="7950067">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7950090">,</span>&nbsp;<span class="ident" id="7950092">String</span><span class="op" id="7950098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950101">testError</span><span class="op" id="7950110">(</span><span class="ident" id="7950111">t</span><span class="op" id="7950112">,</span>&nbsp;<span class="string" id="7950114">`&#34;ab`</span><span class="op" id="7950119">+</span><span class="string" id="7950120">&#34;\x80&#34;</span><span class="op" id="7950126">,</span>&nbsp;<span class="string" id="7950128">&#34;1:4&#34;</span><span class="op" id="7950133">,</span>&nbsp;<span class="string" id="7950135">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7950159">,</span>&nbsp;<span class="ident" id="7950161">String</span><span class="op" id="7950167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950170">testError</span><span class="op" id="7950179">(</span><span class="ident" id="7950180">t</span><span class="op" id="7950181">,</span>&nbsp;<span class="string" id="7950183">`&#34;abc`</span><span class="op" id="7950189">+</span><span class="string" id="7950190">&#34;\xff&#34;</span><span class="op" id="7950196">,</span>&nbsp;<span class="string" id="7950198">&#34;1:5&#34;</span><span class="op" id="7950203">,</span>&nbsp;<span class="string" id="7950205">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7950229">,</span>&nbsp;<span class="ident" id="7950231">String</span><span class="op" id="7950237">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950241">testError</span><span class="op" id="7950250">(</span><span class="ident" id="7950251">t</span><span class="op" id="7950252">,</span>&nbsp;<span class="string" id="7950254">&#34;`a&#34;</span><span class="op" id="7950258">+</span><span class="string" id="7950259">&#34;\x00&#34;</span><span class="op" id="7950265">,</span>&nbsp;<span class="string" id="7950267">&#34;1:3&#34;</span><span class="op" id="7950272">,</span>&nbsp;<span class="string" id="7950274">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7950297">,</span>&nbsp;<span class="ident" id="7950299">String</span><span class="op" id="7950305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950308">testError</span><span class="op" id="7950317">(</span><span class="ident" id="7950318">t</span><span class="op" id="7950319">,</span>&nbsp;<span class="string" id="7950321">&#34;`ab&#34;</span><span class="op" id="7950326">+</span><span class="string" id="7950327">&#34;\x80&#34;</span><span class="op" id="7950333">,</span>&nbsp;<span class="string" id="7950335">&#34;1:4&#34;</span><span class="op" id="7950340">,</span>&nbsp;<span class="string" id="7950342">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7950366">,</span>&nbsp;<span class="ident" id="7950368">String</span><span class="op" id="7950374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950377">testError</span><span class="op" id="7950386">(</span><span class="ident" id="7950387">t</span><span class="op" id="7950388">,</span>&nbsp;<span class="string" id="7950390">&#34;`abc&#34;</span><span class="op" id="7950396">+</span><span class="string" id="7950397">&#34;\xff&#34;</span><span class="op" id="7950403">,</span>&nbsp;<span class="string" id="7950405">&#34;1:5&#34;</span><span class="op" id="7950410">,</span>&nbsp;<span class="string" id="7950412">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7950436">,</span>&nbsp;<span class="ident" id="7950438">String</span><span class="op" id="7950444">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950448">testError</span><span class="op" id="7950457">(</span><span class="ident" id="7950458">t</span><span class="op" id="7950459">,</span>&nbsp;<span class="string" id="7950461">`&#39;\&#34;&#39;`</span><span class="op" id="7950467">,</span>&nbsp;<span class="string" id="7950469">&#34;1:3&#34;</span><span class="op" id="7950474">,</span>&nbsp;<span class="string" id="7950476">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7950497">,</span>&nbsp;<span class="ident" id="7950499">Char</span><span class="op" id="7950503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950506">testError</span><span class="op" id="7950515">(</span><span class="ident" id="7950516">t</span><span class="op" id="7950517">,</span>&nbsp;<span class="string" id="7950519">`&#34;\&#39;&#34;`</span><span class="op" id="7950525">,</span>&nbsp;<span class="string" id="7950527">&#34;1:3&#34;</span><span class="op" id="7950532">,</span>&nbsp;<span class="string" id="7950534">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7950555">,</span>&nbsp;<span class="ident" id="7950557">String</span><span class="op" id="7950563">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950567">testError</span><span class="op" id="7950576">(</span><span class="ident" id="7950577">t</span><span class="op" id="7950578">,</span>&nbsp;<span class="string" id="7950580">`01238`</span><span class="op" id="7950587">,</span>&nbsp;<span class="string" id="7950589">&#34;1:6&#34;</span><span class="op" id="7950594">,</span>&nbsp;<span class="string" id="7950596">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7950618">,</span>&nbsp;<span class="ident" id="7950620">Int</span><span class="op" id="7950623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950626">testError</span><span class="op" id="7950635">(</span><span class="ident" id="7950636">t</span><span class="op" id="7950637">,</span>&nbsp;<span class="string" id="7950639">`01238123`</span><span class="op" id="7950649">,</span>&nbsp;<span class="string" id="7950651">&#34;1:9&#34;</span><span class="op" id="7950656">,</span>&nbsp;<span class="string" id="7950658">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7950680">,</span>&nbsp;<span class="ident" id="7950682">Int</span><span class="op" id="7950685">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950688">testError</span><span class="op" id="7950697">(</span><span class="ident" id="7950698">t</span><span class="op" id="7950699">,</span>&nbsp;<span class="string" id="7950701">`0x`</span><span class="op" id="7950705">,</span>&nbsp;<span class="string" id="7950707">&#34;1:3&#34;</span><span class="op" id="7950712">,</span>&nbsp;<span class="string" id="7950714">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7950742">,</span>&nbsp;<span class="ident" id="7950744">Int</span><span class="op" id="7950747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950750">testError</span><span class="op" id="7950759">(</span><span class="ident" id="7950760">t</span><span class="op" id="7950761">,</span>&nbsp;<span class="string" id="7950763">`0xg`</span><span class="op" id="7950768">,</span>&nbsp;<span class="string" id="7950770">&#34;1:3&#34;</span><span class="op" id="7950775">,</span>&nbsp;<span class="string" id="7950777">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7950805">,</span>&nbsp;<span class="ident" id="7950807">Int</span><span class="op" id="7950810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950813">testError</span><span class="op" id="7950822">(</span><span class="ident" id="7950823">t</span><span class="op" id="7950824">,</span>&nbsp;<span class="string" id="7950826">`&#39;aa&#39;`</span><span class="op" id="7950832">,</span>&nbsp;<span class="string" id="7950834">&#34;1:4&#34;</span><span class="op" id="7950839">,</span>&nbsp;<span class="string" id="7950841">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="7950863">,</span>&nbsp;<span class="ident" id="7950865">Char</span><span class="op" id="7950869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950873">testError</span><span class="op" id="7950882">(</span><span class="ident" id="7950883">t</span><span class="op" id="7950884">,</span>&nbsp;<span class="string" id="7950886">`&#39;`</span><span class="op" id="7950889">,</span>&nbsp;<span class="string" id="7950891">&#34;1:2&#34;</span><span class="op" id="7950896">,</span>&nbsp;<span class="string" id="7950898">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7950922">,</span>&nbsp;<span class="ident" id="7950924">Char</span><span class="op" id="7950928">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950931">testError</span><span class="op" id="7950940">(</span><span class="ident" id="7950941">t</span><span class="op" id="7950942">,</span>&nbsp;<span class="string" id="7950944">`&#39;`</span><span class="op" id="7950947">+</span><span class="string" id="7950948">&#34;\n&#34;</span><span class="op" id="7950952">,</span>&nbsp;<span class="string" id="7950954">&#34;1:2&#34;</span><span class="op" id="7950959">,</span>&nbsp;<span class="string" id="7950961">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7950985">,</span>&nbsp;<span class="ident" id="7950987">Char</span><span class="op" id="7950991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7950994">testError</span><span class="op" id="7951003">(</span><span class="ident" id="7951004">t</span><span class="op" id="7951005">,</span>&nbsp;<span class="string" id="7951007">`&#34;abc`</span><span class="op" id="7951013">,</span>&nbsp;<span class="string" id="7951015">&#34;1:5&#34;</span><span class="op" id="7951020">,</span>&nbsp;<span class="string" id="7951022">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7951046">,</span>&nbsp;<span class="ident" id="7951048">String</span><span class="op" id="7951054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951057">testError</span><span class="op" id="7951066">(</span><span class="ident" id="7951067">t</span><span class="op" id="7951068">,</span>&nbsp;<span class="string" id="7951070">`&#34;abc`</span><span class="op" id="7951076">+</span><span class="string" id="7951077">&#34;\n&#34;</span><span class="op" id="7951081">,</span>&nbsp;<span class="string" id="7951083">&#34;1:5&#34;</span><span class="op" id="7951088">,</span>&nbsp;<span class="string" id="7951090">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7951114">,</span>&nbsp;<span class="ident" id="7951116">String</span><span class="op" id="7951122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951125">testError</span><span class="op" id="7951134">(</span><span class="ident" id="7951135">t</span><span class="op" id="7951136">,</span>&nbsp;<span class="string" id="7951138">&#34;`abc\n&#34;</span><span class="op" id="7951146">,</span>&nbsp;<span class="string" id="7951148">&#34;2:1&#34;</span><span class="op" id="7951153">,</span>&nbsp;<span class="string" id="7951155">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7951179">,</span>&nbsp;<span class="ident" id="7951181">String</span><span class="op" id="7951187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951190">testError</span><span class="op" id="7951199">(</span><span class="ident" id="7951200">t</span><span class="op" id="7951201">,</span>&nbsp;<span class="string" id="7951203">`/*/`</span><span class="op" id="7951208">,</span>&nbsp;<span class="string" id="7951210">&#34;1:4&#34;</span><span class="op" id="7951215">,</span>&nbsp;<span class="string" id="7951217">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7951241">,</span>&nbsp;<span class="ident" id="7951243">EOF</span><span class="op" id="7951246">)</span><br>
<span class="lineno">485</span><span class="op" id="7951248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7951251">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="7951309">type</span>&nbsp;<span class="ident" id="7951314">errReader</span>&nbsp;<span class="keyword" id="7951324">struct</span><span class="op" id="7951330">{</span><span class="op" id="7951331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="7951334">func</span>&nbsp;<span class="op" id="7951339">(</span><span class="ident" id="7951340">errReader</span><span class="op" id="7951349">)</span>&nbsp;<span class="ident" id="7951351">Read</span><span class="op" id="7951355">(</span><span class="ident" id="7951356">b</span>&nbsp;<span class="op" id="7951358">[</span><span class="op" id="7951359">]</span><span class="builtintype" id="7951360">byte</span><span class="op" id="7951364">)</span>&nbsp;<span class="op" id="7951366">(</span><span class="builtintype" id="7951367">int</span><span class="op" id="7951370">,</span>&nbsp;<span class="builtintype" id="7951372">error</span><span class="op" id="7951377">)</span>&nbsp;<span class="op" id="7951379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951382">return</span>&nbsp;<span class="num" id="7951389">0</span><span class="op" id="7951390">,</span>&nbsp;<span class="ident" id="7951392">io</span><span class="op" id="7951394">.</span><span class="ident" id="7951395">ErrNoProgress</span>&nbsp;<span class="comment" id="7951409">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="7951442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951445">func</span>&nbsp;<span class="ident" id="7951450">TestIOError</span><span class="op" id="7951461">(</span><span class="ident" id="7951462">t</span>&nbsp;<span class="op" id="7951464">*</span><span class="ident" id="7951465">testing</span><span class="op" id="7951472">.</span><span class="ident" id="7951473">T</span><span class="op" id="7951474">)</span>&nbsp;<span class="op" id="7951476">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951479">s</span>&nbsp;<span class="op" id="7951481">:=</span>&nbsp;<span class="builtinfunc" id="7951484">new</span><span class="op" id="7951487">(</span><span class="ident" id="7951488">Scanner</span><span class="op" id="7951495">)</span><span class="op" id="7951496">.</span><span class="ident" id="7951497">Init</span><span class="op" id="7951501">(</span><span class="ident" id="7951502">errReader</span><span class="op" id="7951511">{</span><span class="op" id="7951512">}</span><span class="op" id="7951513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951516">errorCalled</span>&nbsp;<span class="op" id="7951528">:=</span>&nbsp;<span class="builtintype" id="7951531">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951538">s</span><span class="op" id="7951539">.</span><span class="ident" id="7951540">Error</span>&nbsp;<span class="op" id="7951546">=</span>&nbsp;<span class="keyword" id="7951548">func</span><span class="op" id="7951552">(</span><span class="ident" id="7951553">s</span>&nbsp;<span class="op" id="7951555">*</span><span class="ident" id="7951556">Scanner</span><span class="op" id="7951563">,</span>&nbsp;<span class="ident" id="7951565">msg</span>&nbsp;<span class="builtintype" id="7951569">string</span><span class="op" id="7951575">)</span>&nbsp;<span class="op" id="7951577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951581">if</span>&nbsp;<span class="op" id="7951584">!</span><span class="ident" id="7951585">errorCalled</span>&nbsp;<span class="op" id="7951597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951602">if</span>&nbsp;<span class="ident" id="7951605">want</span>&nbsp;<span class="op" id="7951610">:=</span>&nbsp;<span class="ident" id="7951613">io</span><span class="op" id="7951615">.</span><span class="ident" id="7951616">ErrNoProgress</span><span class="op" id="7951629">.</span><span class="ident" id="7951630">Error</span><span class="op" id="7951635">(</span><span class="op" id="7951636">)</span><span class="op" id="7951637">;</span>&nbsp;<span class="ident" id="7951639">msg</span>&nbsp;<span class="op" id="7951643">!=</span>&nbsp;<span class="ident" id="7951646">want</span>&nbsp;<span class="op" id="7951651">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951657">t</span><span class="op" id="7951658">.</span><span class="ident" id="7951659">Errorf</span><span class="op" id="7951665">(</span><span class="string" id="7951666">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7951685">,</span>&nbsp;<span class="ident" id="7951687">msg</span><span class="op" id="7951690">,</span>&nbsp;<span class="ident" id="7951692">want</span><span class="op" id="7951696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951706">errorCalled</span>&nbsp;<span class="op" id="7951718">=</span>&nbsp;<span class="builtintype" id="7951720">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951730">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951733">tok</span>&nbsp;<span class="op" id="7951737">:=</span>&nbsp;<span class="ident" id="7951740">s</span><span class="op" id="7951741">.</span><span class="ident" id="7951742">Scan</span><span class="op" id="7951746">(</span><span class="op" id="7951747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951750">if</span>&nbsp;<span class="ident" id="7951753">tok</span>&nbsp;<span class="op" id="7951757">!=</span>&nbsp;<span class="ident" id="7951760">EOF</span>&nbsp;<span class="op" id="7951764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951768">t</span><span class="op" id="7951769">.</span><span class="ident" id="7951770">Errorf</span><span class="op" id="7951776">(</span><span class="string" id="7951777">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7951797">,</span>&nbsp;<span class="ident" id="7951799">TokenString</span><span class="op" id="7951810">(</span><span class="ident" id="7951811">tok</span><span class="op" id="7951814">)</span><span class="op" id="7951815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951821">if</span>&nbsp;<span class="op" id="7951824">!</span><span class="ident" id="7951825">errorCalled</span>&nbsp;<span class="op" id="7951837">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951841">t</span><span class="op" id="7951842">.</span><span class="ident" id="7951843">Errorf</span><span class="op" id="7951849">(</span><span class="string" id="7951850">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="7951876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951879">}</span><br>
<span class="lineno"></span><span class="op" id="7951881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951884">func</span>&nbsp;<span class="ident" id="7951889">checkPos</span><span class="op" id="7951897">(</span><span class="ident" id="7951898">t</span>&nbsp;<span class="op" id="7951900">*</span><span class="ident" id="7951901">testing</span><span class="op" id="7951908">.</span><span class="ident" id="7951909">T</span><span class="op" id="7951910">,</span>&nbsp;<span class="ident" id="7951912">got</span><span class="op" id="7951915">,</span>&nbsp;<span class="ident" id="7951917">want</span>&nbsp;<span class="ident" id="7951922">Position</span><span class="op" id="7951930">)</span>&nbsp;<span class="op" id="7951932">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951935">if</span>&nbsp;<span class="ident" id="7951938">got</span><span class="op" id="7951941">.</span><span class="ident" id="7951942">Offset</span>&nbsp;<span class="op" id="7951949">!=</span>&nbsp;<span class="ident" id="7951952">want</span><span class="op" id="7951956">.</span><span class="ident" id="7951957">Offset</span>&nbsp;<span class="op" id="7951964">||</span>&nbsp;<span class="ident" id="7951967">got</span><span class="op" id="7951970">.</span><span class="ident" id="7951971">Line</span>&nbsp;<span class="op" id="7951976">!=</span>&nbsp;<span class="ident" id="7951979">want</span><span class="op" id="7951983">.</span><span class="ident" id="7951984">Line</span>&nbsp;<span class="op" id="7951989">||</span>&nbsp;<span class="ident" id="7951992">got</span><span class="op" id="7951995">.</span><span class="ident" id="7951996">Column</span>&nbsp;<span class="op" id="7952003">!=</span>&nbsp;<span class="ident" id="7952006">want</span><span class="op" id="7952010">.</span><span class="ident" id="7952011">Column</span>&nbsp;<span class="op" id="7952018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952022">t</span><span class="op" id="7952023">.</span><span class="ident" id="7952024">Errorf</span><span class="op" id="7952030">(</span><span class="string" id="7952031">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7952087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952092">got</span><span class="op" id="7952095">.</span><span class="ident" id="7952096">Offset</span><span class="op" id="7952102">,</span>&nbsp;<span class="ident" id="7952104">got</span><span class="op" id="7952107">.</span><span class="ident" id="7952108">Line</span><span class="op" id="7952112">,</span>&nbsp;<span class="ident" id="7952114">got</span><span class="op" id="7952117">.</span><span class="ident" id="7952118">Column</span><span class="op" id="7952124">,</span>&nbsp;<span class="ident" id="7952126">want</span><span class="op" id="7952130">.</span><span class="ident" id="7952131">Offset</span><span class="op" id="7952137">,</span>&nbsp;<span class="ident" id="7952139">want</span><span class="op" id="7952143">.</span><span class="ident" id="7952144">Line</span><span class="op" id="7952148">,</span>&nbsp;<span class="ident" id="7952150">want</span><span class="op" id="7952154">.</span><span class="ident" id="7952155">Column</span><span class="op" id="7952161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952164">}</span><br>
<span class="lineno"></span><span class="op" id="7952166">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="7952169">func</span>&nbsp;<span class="ident" id="7952174">checkNextPos</span><span class="op" id="7952186">(</span><span class="ident" id="7952187">t</span>&nbsp;<span class="op" id="7952189">*</span><span class="ident" id="7952190">testing</span><span class="op" id="7952197">.</span><span class="ident" id="7952198">T</span><span class="op" id="7952199">,</span>&nbsp;<span class="ident" id="7952201">s</span>&nbsp;<span class="op" id="7952203">*</span><span class="ident" id="7952204">Scanner</span><span class="op" id="7952211">,</span>&nbsp;<span class="ident" id="7952213">offset</span><span class="op" id="7952219">,</span>&nbsp;<span class="ident" id="7952221">line</span><span class="op" id="7952225">,</span>&nbsp;<span class="ident" id="7952227">column</span>&nbsp;<span class="builtintype" id="7952234">int</span><span class="op" id="7952237">,</span>&nbsp;<span class="ident" id="7952239">char</span>&nbsp;<span class="builtintype" id="7952244">rune</span><span class="op" id="7952248">)</span>&nbsp;<span class="op" id="7952250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7952253">if</span>&nbsp;<span class="ident" id="7952256">ch</span>&nbsp;<span class="op" id="7952259">:=</span>&nbsp;<span class="ident" id="7952262">s</span><span class="op" id="7952263">.</span><span class="ident" id="7952264">Next</span><span class="op" id="7952268">(</span><span class="op" id="7952269">)</span><span class="op" id="7952270">;</span>&nbsp;<span class="ident" id="7952272">ch</span>&nbsp;<span class="op" id="7952275">!=</span>&nbsp;<span class="ident" id="7952278">char</span>&nbsp;<span class="op" id="7952283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952287">t</span><span class="op" id="7952288">.</span><span class="ident" id="7952289">Errorf</span><span class="op" id="7952295">(</span><span class="string" id="7952296">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7952314">,</span>&nbsp;<span class="ident" id="7952316">TokenString</span><span class="op" id="7952327">(</span><span class="ident" id="7952328">ch</span><span class="op" id="7952330">)</span><span class="op" id="7952331">,</span>&nbsp;<span class="ident" id="7952333">TokenString</span><span class="op" id="7952344">(</span><span class="ident" id="7952345">char</span><span class="op" id="7952349">)</span><span class="op" id="7952350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952353">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952356">want</span>&nbsp;<span class="op" id="7952361">:=</span>&nbsp;<span class="ident" id="7952364">Position</span><span class="op" id="7952372">{</span><span class="ident" id="7952373">Offset</span><span class="op" id="7952379">:</span>&nbsp;<span class="ident" id="7952381">offset</span><span class="op" id="7952387">,</span>&nbsp;<span class="ident" id="7952389">Line</span><span class="op" id="7952393">:</span>&nbsp;<span class="ident" id="7952395">line</span><span class="op" id="7952399">,</span>&nbsp;<span class="ident" id="7952401">Column</span><span class="op" id="7952407">:</span>&nbsp;<span class="ident" id="7952409">column</span><span class="op" id="7952415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952418">checkPos</span><span class="op" id="7952426">(</span><span class="ident" id="7952427">t</span><span class="op" id="7952428">,</span>&nbsp;<span class="ident" id="7952430">s</span><span class="op" id="7952431">.</span><span class="ident" id="7952432">Pos</span><span class="op" id="7952435">(</span><span class="op" id="7952436">)</span><span class="op" id="7952437">,</span>&nbsp;<span class="ident" id="7952439">want</span><span class="op" id="7952443">)</span><br>
<span class="lineno"></span><span class="op" id="7952445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7952448">func</span>&nbsp;<span class="ident" id="7952453">checkScanPos</span><span class="op" id="7952465">(</span><span class="ident" id="7952466">t</span>&nbsp;<span class="op" id="7952468">*</span><span class="ident" id="7952469">testing</span><span class="op" id="7952476">.</span><span class="ident" id="7952477">T</span><span class="op" id="7952478">,</span>&nbsp;<span class="ident" id="7952480">s</span>&nbsp;<span class="op" id="7952482">*</span><span class="ident" id="7952483">Scanner</span><span class="op" id="7952490">,</span>&nbsp;<span class="ident" id="7952492">offset</span><span class="op" id="7952498">,</span>&nbsp;<span class="ident" id="7952500">line</span><span class="op" id="7952504">,</span>&nbsp;<span class="ident" id="7952506">column</span>&nbsp;<span class="builtintype" id="7952513">int</span><span class="op" id="7952516">,</span>&nbsp;<span class="ident" id="7952518">char</span>&nbsp;<span class="builtintype" id="7952523">rune</span><span class="op" id="7952527">)</span>&nbsp;<span class="op" id="7952529">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952532">want</span>&nbsp;<span class="op" id="7952537">:=</span>&nbsp;<span class="ident" id="7952540">Position</span><span class="op" id="7952548">{</span><span class="ident" id="7952549">Offset</span><span class="op" id="7952555">:</span>&nbsp;<span class="ident" id="7952557">offset</span><span class="op" id="7952563">,</span>&nbsp;<span class="ident" id="7952565">Line</span><span class="op" id="7952569">:</span>&nbsp;<span class="ident" id="7952571">line</span><span class="op" id="7952575">,</span>&nbsp;<span class="ident" id="7952577">Column</span><span class="op" id="7952583">:</span>&nbsp;<span class="ident" id="7952585">column</span><span class="op" id="7952591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952594">checkPos</span><span class="op" id="7952602">(</span><span class="ident" id="7952603">t</span><span class="op" id="7952604">,</span>&nbsp;<span class="ident" id="7952606">s</span><span class="op" id="7952607">.</span><span class="ident" id="7952608">Pos</span><span class="op" id="7952611">(</span><span class="op" id="7952612">)</span><span class="op" id="7952613">,</span>&nbsp;<span class="ident" id="7952615">want</span><span class="op" id="7952619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7952622">if</span>&nbsp;<span class="ident" id="7952625">ch</span>&nbsp;<span class="op" id="7952628">:=</span>&nbsp;<span class="ident" id="7952631">s</span><span class="op" id="7952632">.</span><span class="ident" id="7952633">Scan</span><span class="op" id="7952637">(</span><span class="op" id="7952638">)</span><span class="op" id="7952639">;</span>&nbsp;<span class="ident" id="7952641">ch</span>&nbsp;<span class="op" id="7952644">!=</span>&nbsp;<span class="ident" id="7952647">char</span>&nbsp;<span class="op" id="7952652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952656">t</span><span class="op" id="7952657">.</span><span class="ident" id="7952658">Errorf</span><span class="op" id="7952664">(</span><span class="string" id="7952665">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7952683">,</span>&nbsp;<span class="ident" id="7952685">TokenString</span><span class="op" id="7952696">(</span><span class="ident" id="7952697">ch</span><span class="op" id="7952699">)</span><span class="op" id="7952700">,</span>&nbsp;<span class="ident" id="7952702">TokenString</span><span class="op" id="7952713">(</span><span class="ident" id="7952714">char</span><span class="op" id="7952718">)</span><span class="op" id="7952719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7952723">if</span>&nbsp;<span class="builtintype" id="7952726">string</span><span class="op" id="7952732">(</span><span class="ident" id="7952733">ch</span><span class="op" id="7952735">)</span>&nbsp;<span class="op" id="7952737">!=</span>&nbsp;<span class="ident" id="7952740">s</span><span class="op" id="7952741">.</span><span class="ident" id="7952742">TokenText</span><span class="op" id="7952751">(</span><span class="op" id="7952752">)</span>&nbsp;<span class="op" id="7952754">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952759">t</span><span class="op" id="7952760">.</span><span class="ident" id="7952761">Errorf</span><span class="op" id="7952767">(</span><span class="string" id="7952768">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7952787">,</span>&nbsp;<span class="ident" id="7952789">s</span><span class="op" id="7952790">.</span><span class="ident" id="7952791">TokenText</span><span class="op" id="7952800">(</span><span class="op" id="7952801">)</span><span class="op" id="7952802">,</span>&nbsp;<span class="builtintype" id="7952804">string</span><span class="op" id="7952810">(</span><span class="ident" id="7952811">ch</span><span class="op" id="7952813">)</span><span class="op" id="7952814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952824">checkPos</span><span class="op" id="7952832">(</span><span class="ident" id="7952833">t</span><span class="op" id="7952834">,</span>&nbsp;<span class="ident" id="7952836">s</span><span class="op" id="7952837">.</span><span class="ident" id="7952838">Position</span><span class="op" id="7952846">,</span>&nbsp;<span class="ident" id="7952848">want</span><span class="op" id="7952852">)</span><br>
<span class="lineno"></span><span class="op" id="7952854">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="7952857">func</span>&nbsp;<span class="ident" id="7952862">TestPos</span><span class="op" id="7952869">(</span><span class="ident" id="7952870">t</span>&nbsp;<span class="op" id="7952872">*</span><span class="ident" id="7952873">testing</span><span class="op" id="7952880">.</span><span class="ident" id="7952881">T</span><span class="op" id="7952882">)</span>&nbsp;<span class="op" id="7952884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7952887">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952917">s</span>&nbsp;<span class="op" id="7952919">:=</span>&nbsp;<span class="builtinfunc" id="7952922">new</span><span class="op" id="7952925">(</span><span class="ident" id="7952926">Scanner</span><span class="op" id="7952933">)</span><span class="op" id="7952934">.</span><span class="ident" id="7952935">Init</span><span class="op" id="7952939">(</span><span class="ident" id="7952940">strings</span><span class="op" id="7952947">.</span><span class="ident" id="7952948">NewReader</span><span class="op" id="7952957">(</span><span class="string" id="7952958">&#34;&#34;</span><span class="op" id="7952960">)</span><span class="op" id="7952961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952964">checkPos</span><span class="op" id="7952972">(</span><span class="ident" id="7952973">t</span><span class="op" id="7952974">,</span>&nbsp;<span class="ident" id="7952976">s</span><span class="op" id="7952977">.</span><span class="ident" id="7952978">Pos</span><span class="op" id="7952981">(</span><span class="op" id="7952982">)</span><span class="op" id="7952983">,</span>&nbsp;<span class="ident" id="7952985">Position</span><span class="op" id="7952993">{</span><span class="ident" id="7952994">Offset</span><span class="op" id="7953000">:</span>&nbsp;<span class="num" id="7953002">0</span><span class="op" id="7953003">,</span>&nbsp;<span class="ident" id="7953005">Line</span><span class="op" id="7953009">:</span>&nbsp;<span class="num" id="7953011">1</span><span class="op" id="7953012">,</span>&nbsp;<span class="ident" id="7953014">Column</span><span class="op" id="7953020">:</span>&nbsp;<span class="num" id="7953022">1</span><span class="op" id="7953023">}</span><span class="op" id="7953024">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953027">s</span><span class="op" id="7953028">.</span><span class="ident" id="7953029">Peek</span><span class="op" id="7953033">(</span><span class="op" id="7953034">)</span>&nbsp;<span class="comment" id="7953036">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953073">checkPos</span><span class="op" id="7953081">(</span><span class="ident" id="7953082">t</span><span class="op" id="7953083">,</span>&nbsp;<span class="ident" id="7953085">s</span><span class="op" id="7953086">.</span><span class="ident" id="7953087">Pos</span><span class="op" id="7953090">(</span><span class="op" id="7953091">)</span><span class="op" id="7953092">,</span>&nbsp;<span class="ident" id="7953094">Position</span><span class="op" id="7953102">{</span><span class="ident" id="7953103">Offset</span><span class="op" id="7953109">:</span>&nbsp;<span class="num" id="7953111">0</span><span class="op" id="7953112">,</span>&nbsp;<span class="ident" id="7953114">Line</span><span class="op" id="7953118">:</span>&nbsp;<span class="num" id="7953120">1</span><span class="op" id="7953121">,</span>&nbsp;<span class="ident" id="7953123">Column</span><span class="op" id="7953129">:</span>&nbsp;<span class="num" id="7953131">1</span><span class="op" id="7953132">}</span><span class="op" id="7953133">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7953137">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953181">s</span>&nbsp;<span class="op" id="7953183">=</span>&nbsp;<span class="builtinfunc" id="7953185">new</span><span class="op" id="7953188">(</span><span class="ident" id="7953189">Scanner</span><span class="op" id="7953196">)</span><span class="op" id="7953197">.</span><span class="ident" id="7953198">Init</span><span class="op" id="7953202">(</span><span class="ident" id="7953203">strings</span><span class="op" id="7953210">.</span><span class="ident" id="7953211">NewReader</span><span class="op" id="7953220">(</span><span class="string" id="7953221">&#34;\n&#34;</span><span class="op" id="7953225">)</span><span class="op" id="7953226">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953229">checkPos</span><span class="op" id="7953237">(</span><span class="ident" id="7953238">t</span><span class="op" id="7953239">,</span>&nbsp;<span class="ident" id="7953241">s</span><span class="op" id="7953242">.</span><span class="ident" id="7953243">Pos</span><span class="op" id="7953246">(</span><span class="op" id="7953247">)</span><span class="op" id="7953248">,</span>&nbsp;<span class="ident" id="7953250">Position</span><span class="op" id="7953258">{</span><span class="ident" id="7953259">Offset</span><span class="op" id="7953265">:</span>&nbsp;<span class="num" id="7953267">0</span><span class="op" id="7953268">,</span>&nbsp;<span class="ident" id="7953270">Line</span><span class="op" id="7953274">:</span>&nbsp;<span class="num" id="7953276">1</span><span class="op" id="7953277">,</span>&nbsp;<span class="ident" id="7953279">Column</span><span class="op" id="7953285">:</span>&nbsp;<span class="num" id="7953287">1</span><span class="op" id="7953288">}</span><span class="op" id="7953289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953292">checkNextPos</span><span class="op" id="7953304">(</span><span class="ident" id="7953305">t</span><span class="op" id="7953306">,</span>&nbsp;<span class="ident" id="7953308">s</span><span class="op" id="7953309">,</span>&nbsp;<span class="num" id="7953311">1</span><span class="op" id="7953312">,</span>&nbsp;<span class="num" id="7953314">2</span><span class="op" id="7953315">,</span>&nbsp;<span class="num" id="7953317">1</span><span class="op" id="7953318">,</span>&nbsp;<span class="string" id="7953320">&#39;\n&#39;</span><span class="op" id="7953324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7953327">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953365">for</span>&nbsp;<span class="ident" id="7953369">i</span>&nbsp;<span class="op" id="7953371">:=</span>&nbsp;<span class="num" id="7953374">10</span><span class="op" id="7953376">;</span>&nbsp;<span class="ident" id="7953378">i</span>&nbsp;<span class="op" id="7953380">&gt;</span>&nbsp;<span class="num" id="7953382">0</span><span class="op" id="7953383">;</span>&nbsp;<span class="ident" id="7953385">i</span><span class="op" id="7953386">--</span>&nbsp;<span class="op" id="7953389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953393">checkScanPos</span><span class="op" id="7953405">(</span><span class="ident" id="7953406">t</span><span class="op" id="7953407">,</span>&nbsp;<span class="ident" id="7953409">s</span><span class="op" id="7953410">,</span>&nbsp;<span class="num" id="7953412">1</span><span class="op" id="7953413">,</span>&nbsp;<span class="num" id="7953415">2</span><span class="op" id="7953416">,</span>&nbsp;<span class="num" id="7953418">1</span><span class="op" id="7953419">,</span>&nbsp;<span class="ident" id="7953421">EOF</span><span class="op" id="7953424">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953430">if</span>&nbsp;<span class="ident" id="7953433">s</span><span class="op" id="7953434">.</span><span class="ident" id="7953435">ErrorCount</span>&nbsp;<span class="op" id="7953446">!=</span>&nbsp;<span class="num" id="7953449">0</span>&nbsp;<span class="op" id="7953451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953455">t</span><span class="op" id="7953456">.</span><span class="ident" id="7953457">Errorf</span><span class="op" id="7953463">(</span><span class="string" id="7953464">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7953475">,</span>&nbsp;<span class="ident" id="7953477">s</span><span class="op" id="7953478">.</span><span class="ident" id="7953479">ErrorCount</span><span class="op" id="7953489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7953496">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953549">s</span>&nbsp;<span class="op" id="7953551">=</span>&nbsp;<span class="builtinfunc" id="7953553">new</span><span class="op" id="7953556">(</span><span class="ident" id="7953557">Scanner</span><span class="op" id="7953564">)</span><span class="op" id="7953565">.</span><span class="ident" id="7953566">Init</span><span class="op" id="7953570">(</span><span class="ident" id="7953571">strings</span><span class="op" id="7953578">.</span><span class="ident" id="7953579">NewReader</span><span class="op" id="7953588">(</span><span class="string" id="7953589">&#34;本&#34;</span><span class="op" id="7953594">)</span><span class="op" id="7953595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953598">checkPos</span><span class="op" id="7953606">(</span><span class="ident" id="7953607">t</span><span class="op" id="7953608">,</span>&nbsp;<span class="ident" id="7953610">s</span><span class="op" id="7953611">.</span><span class="ident" id="7953612">Pos</span><span class="op" id="7953615">(</span><span class="op" id="7953616">)</span><span class="op" id="7953617">,</span>&nbsp;<span class="ident" id="7953619">Position</span><span class="op" id="7953627">{</span><span class="ident" id="7953628">Offset</span><span class="op" id="7953634">:</span>&nbsp;<span class="num" id="7953636">0</span><span class="op" id="7953637">,</span>&nbsp;<span class="ident" id="7953639">Line</span><span class="op" id="7953643">:</span>&nbsp;<span class="num" id="7953645">1</span><span class="op" id="7953646">,</span>&nbsp;<span class="ident" id="7953648">Column</span><span class="op" id="7953654">:</span>&nbsp;<span class="num" id="7953656">1</span><span class="op" id="7953657">}</span><span class="op" id="7953658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953661">checkNextPos</span><span class="op" id="7953673">(</span><span class="ident" id="7953674">t</span><span class="op" id="7953675">,</span>&nbsp;<span class="ident" id="7953677">s</span><span class="op" id="7953678">,</span>&nbsp;<span class="num" id="7953680">3</span><span class="op" id="7953681">,</span>&nbsp;<span class="num" id="7953683">1</span><span class="op" id="7953684">,</span>&nbsp;<span class="num" id="7953686">2</span><span class="op" id="7953687">,</span>&nbsp;<span class="string" id="7953689">&#39;本&#39;</span><span class="op" id="7953694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7953697">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953735">for</span>&nbsp;<span class="ident" id="7953739">i</span>&nbsp;<span class="op" id="7953741">:=</span>&nbsp;<span class="num" id="7953744">10</span><span class="op" id="7953746">;</span>&nbsp;<span class="ident" id="7953748">i</span>&nbsp;<span class="op" id="7953750">&gt;</span>&nbsp;<span class="num" id="7953752">0</span><span class="op" id="7953753">;</span>&nbsp;<span class="ident" id="7953755">i</span><span class="op" id="7953756">--</span>&nbsp;<span class="op" id="7953759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953763">checkScanPos</span><span class="op" id="7953775">(</span><span class="ident" id="7953776">t</span><span class="op" id="7953777">,</span>&nbsp;<span class="ident" id="7953779">s</span><span class="op" id="7953780">,</span>&nbsp;<span class="num" id="7953782">3</span><span class="op" id="7953783">,</span>&nbsp;<span class="num" id="7953785">1</span><span class="op" id="7953786">,</span>&nbsp;<span class="num" id="7953788">2</span><span class="op" id="7953789">,</span>&nbsp;<span class="ident" id="7953791">EOF</span><span class="op" id="7953794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953800">if</span>&nbsp;<span class="ident" id="7953803">s</span><span class="op" id="7953804">.</span><span class="ident" id="7953805">ErrorCount</span>&nbsp;<span class="op" id="7953816">!=</span>&nbsp;<span class="num" id="7953819">0</span>&nbsp;<span class="op" id="7953821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953825">t</span><span class="op" id="7953826">.</span><span class="ident" id="7953827">Errorf</span><span class="op" id="7953833">(</span><span class="string" id="7953834">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7953845">,</span>&nbsp;<span class="ident" id="7953847">s</span><span class="op" id="7953848">.</span><span class="ident" id="7953849">ErrorCount</span><span class="op" id="7953859">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7953866">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953899">s</span>&nbsp;<span class="op" id="7953901">=</span>&nbsp;<span class="builtinfunc" id="7953903">new</span><span class="op" id="7953906">(</span><span class="ident" id="7953907">Scanner</span><span class="op" id="7953914">)</span><span class="op" id="7953915">.</span><span class="ident" id="7953916">Init</span><span class="op" id="7953920">(</span><span class="ident" id="7953921">strings</span><span class="op" id="7953928">.</span><span class="ident" id="7953929">NewReader</span><span class="op" id="7953938">(</span><span class="string" id="7953939">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="7953966">)</span><span class="op" id="7953967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953970">checkNextPos</span><span class="op" id="7953982">(</span><span class="ident" id="7953983">t</span><span class="op" id="7953984">,</span>&nbsp;<span class="ident" id="7953986">s</span><span class="op" id="7953987">,</span>&nbsp;<span class="num" id="7953989">1</span><span class="op" id="7953990">,</span>&nbsp;<span class="num" id="7953992">1</span><span class="op" id="7953993">,</span>&nbsp;<span class="num" id="7953995">2</span><span class="op" id="7953996">,</span>&nbsp;<span class="string" id="7953998">&#39;&nbsp;&#39;</span><span class="op" id="7954001">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954004">s</span><span class="op" id="7954005">.</span><span class="ident" id="7954006">Peek</span><span class="op" id="7954010">(</span><span class="op" id="7954011">)</span>&nbsp;<span class="comment" id="7954013">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954050">checkNextPos</span><span class="op" id="7954062">(</span><span class="ident" id="7954063">t</span><span class="op" id="7954064">,</span>&nbsp;<span class="ident" id="7954066">s</span><span class="op" id="7954067">,</span>&nbsp;<span class="num" id="7954069">2</span><span class="op" id="7954070">,</span>&nbsp;<span class="num" id="7954072">1</span><span class="op" id="7954073">,</span>&nbsp;<span class="num" id="7954075">3</span><span class="op" id="7954076">,</span>&nbsp;<span class="string" id="7954078">&#39;&nbsp;&#39;</span><span class="op" id="7954081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954084">checkNextPos</span><span class="op" id="7954096">(</span><span class="ident" id="7954097">t</span><span class="op" id="7954098">,</span>&nbsp;<span class="ident" id="7954100">s</span><span class="op" id="7954101">,</span>&nbsp;<span class="num" id="7954103">3</span><span class="op" id="7954104">,</span>&nbsp;<span class="num" id="7954106">1</span><span class="op" id="7954107">,</span>&nbsp;<span class="num" id="7954109">4</span><span class="op" id="7954110">,</span>&nbsp;<span class="string" id="7954112">&#39;f&#39;</span><span class="op" id="7954115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954118">checkNextPos</span><span class="op" id="7954130">(</span><span class="ident" id="7954131">t</span><span class="op" id="7954132">,</span>&nbsp;<span class="ident" id="7954134">s</span><span class="op" id="7954135">,</span>&nbsp;<span class="num" id="7954137">4</span><span class="op" id="7954138">,</span>&nbsp;<span class="num" id="7954140">1</span><span class="op" id="7954141">,</span>&nbsp;<span class="num" id="7954143">5</span><span class="op" id="7954144">,</span>&nbsp;<span class="string" id="7954146">&#39;o&#39;</span><span class="op" id="7954149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954152">checkNextPos</span><span class="op" id="7954164">(</span><span class="ident" id="7954165">t</span><span class="op" id="7954166">,</span>&nbsp;<span class="ident" id="7954168">s</span><span class="op" id="7954169">,</span>&nbsp;<span class="num" id="7954171">5</span><span class="op" id="7954172">,</span>&nbsp;<span class="num" id="7954174">1</span><span class="op" id="7954175">,</span>&nbsp;<span class="num" id="7954177">6</span><span class="op" id="7954178">,</span>&nbsp;<span class="string" id="7954180">&#39;o&#39;</span><span class="op" id="7954183">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954186">checkNextPos</span><span class="op" id="7954198">(</span><span class="ident" id="7954199">t</span><span class="op" id="7954200">,</span>&nbsp;<span class="ident" id="7954202">s</span><span class="op" id="7954203">,</span>&nbsp;<span class="num" id="7954205">8</span><span class="op" id="7954206">,</span>&nbsp;<span class="num" id="7954208">1</span><span class="op" id="7954209">,</span>&nbsp;<span class="num" id="7954211">7</span><span class="op" id="7954212">,</span>&nbsp;<span class="string" id="7954214">&#39;६&#39;</span><span class="op" id="7954219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954222">checkNextPos</span><span class="op" id="7954234">(</span><span class="ident" id="7954235">t</span><span class="op" id="7954236">,</span>&nbsp;<span class="ident" id="7954238">s</span><span class="op" id="7954239">,</span>&nbsp;<span class="num" id="7954241">11</span><span class="op" id="7954243">,</span>&nbsp;<span class="num" id="7954245">1</span><span class="op" id="7954246">,</span>&nbsp;<span class="num" id="7954248">8</span><span class="op" id="7954249">,</span>&nbsp;<span class="string" id="7954251">&#39;४&#39;</span><span class="op" id="7954256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954259">checkNextPos</span><span class="op" id="7954271">(</span><span class="ident" id="7954272">t</span><span class="op" id="7954273">,</span>&nbsp;<span class="ident" id="7954275">s</span><span class="op" id="7954276">,</span>&nbsp;<span class="num" id="7954278">12</span><span class="op" id="7954280">,</span>&nbsp;<span class="num" id="7954282">1</span><span class="op" id="7954283">,</span>&nbsp;<span class="num" id="7954285">9</span><span class="op" id="7954286">,</span>&nbsp;<span class="string" id="7954288">&#39;&nbsp;&#39;</span><span class="op" id="7954291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954294">checkNextPos</span><span class="op" id="7954306">(</span><span class="ident" id="7954307">t</span><span class="op" id="7954308">,</span>&nbsp;<span class="ident" id="7954310">s</span><span class="op" id="7954311">,</span>&nbsp;<span class="num" id="7954313">13</span><span class="op" id="7954315">,</span>&nbsp;<span class="num" id="7954317">1</span><span class="op" id="7954318">,</span>&nbsp;<span class="num" id="7954320">10</span><span class="op" id="7954322">,</span>&nbsp;<span class="string" id="7954324">&#39;&nbsp;&#39;</span><span class="op" id="7954327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954330">checkNextPos</span><span class="op" id="7954342">(</span><span class="ident" id="7954343">t</span><span class="op" id="7954344">,</span>&nbsp;<span class="ident" id="7954346">s</span><span class="op" id="7954347">,</span>&nbsp;<span class="num" id="7954349">14</span><span class="op" id="7954351">,</span>&nbsp;<span class="num" id="7954353">2</span><span class="op" id="7954354">,</span>&nbsp;<span class="num" id="7954356">1</span><span class="op" id="7954357">,</span>&nbsp;<span class="string" id="7954359">&#39;\n&#39;</span><span class="op" id="7954363">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954366">checkNextPos</span><span class="op" id="7954378">(</span><span class="ident" id="7954379">t</span><span class="op" id="7954380">,</span>&nbsp;<span class="ident" id="7954382">s</span><span class="op" id="7954383">,</span>&nbsp;<span class="num" id="7954385">15</span><span class="op" id="7954387">,</span>&nbsp;<span class="num" id="7954389">3</span><span class="op" id="7954390">,</span>&nbsp;<span class="num" id="7954392">1</span><span class="op" id="7954393">,</span>&nbsp;<span class="string" id="7954395">&#39;\n&#39;</span><span class="op" id="7954399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954402">checkNextPos</span><span class="op" id="7954414">(</span><span class="ident" id="7954415">t</span><span class="op" id="7954416">,</span>&nbsp;<span class="ident" id="7954418">s</span><span class="op" id="7954419">,</span>&nbsp;<span class="num" id="7954421">18</span><span class="op" id="7954423">,</span>&nbsp;<span class="num" id="7954425">3</span><span class="op" id="7954426">,</span>&nbsp;<span class="num" id="7954428">2</span><span class="op" id="7954429">,</span>&nbsp;<span class="string" id="7954431">&#39;本&#39;</span><span class="op" id="7954436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954439">checkNextPos</span><span class="op" id="7954451">(</span><span class="ident" id="7954452">t</span><span class="op" id="7954453">,</span>&nbsp;<span class="ident" id="7954455">s</span><span class="op" id="7954456">,</span>&nbsp;<span class="num" id="7954458">21</span><span class="op" id="7954460">,</span>&nbsp;<span class="num" id="7954462">3</span><span class="op" id="7954463">,</span>&nbsp;<span class="num" id="7954465">3</span><span class="op" id="7954466">,</span>&nbsp;<span class="string" id="7954468">&#39;語&#39;</span><span class="op" id="7954473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954476">checkNextPos</span><span class="op" id="7954488">(</span><span class="ident" id="7954489">t</span><span class="op" id="7954490">,</span>&nbsp;<span class="ident" id="7954492">s</span><span class="op" id="7954493">,</span>&nbsp;<span class="num" id="7954495">22</span><span class="op" id="7954497">,</span>&nbsp;<span class="num" id="7954499">4</span><span class="op" id="7954500">,</span>&nbsp;<span class="num" id="7954502">1</span><span class="op" id="7954503">,</span>&nbsp;<span class="string" id="7954505">&#39;\n&#39;</span><span class="op" id="7954509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7954512">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954550">for</span>&nbsp;<span class="ident" id="7954554">i</span>&nbsp;<span class="op" id="7954556">:=</span>&nbsp;<span class="num" id="7954559">10</span><span class="op" id="7954561">;</span>&nbsp;<span class="ident" id="7954563">i</span>&nbsp;<span class="op" id="7954565">&gt;</span>&nbsp;<span class="num" id="7954567">0</span><span class="op" id="7954568">;</span>&nbsp;<span class="ident" id="7954570">i</span><span class="op" id="7954571">--</span>&nbsp;<span class="op" id="7954574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954578">checkScanPos</span><span class="op" id="7954590">(</span><span class="ident" id="7954591">t</span><span class="op" id="7954592">,</span>&nbsp;<span class="ident" id="7954594">s</span><span class="op" id="7954595">,</span>&nbsp;<span class="num" id="7954597">22</span><span class="op" id="7954599">,</span>&nbsp;<span class="num" id="7954601">4</span><span class="op" id="7954602">,</span>&nbsp;<span class="num" id="7954604">1</span><span class="op" id="7954605">,</span>&nbsp;<span class="ident" id="7954607">EOF</span><span class="op" id="7954610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954616">if</span>&nbsp;<span class="ident" id="7954619">s</span><span class="op" id="7954620">.</span><span class="ident" id="7954621">ErrorCount</span>&nbsp;<span class="op" id="7954632">!=</span>&nbsp;<span class="num" id="7954635">0</span>&nbsp;<span class="op" id="7954637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954641">t</span><span class="op" id="7954642">.</span><span class="ident" id="7954643">Errorf</span><span class="op" id="7954649">(</span><span class="string" id="7954650">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7954661">,</span>&nbsp;<span class="ident" id="7954663">s</span><span class="op" id="7954664">.</span><span class="ident" id="7954665">ErrorCount</span><span class="op" id="7954675">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7954682">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954715">s</span>&nbsp;<span class="op" id="7954717">=</span>&nbsp;<span class="builtinfunc" id="7954719">new</span><span class="op" id="7954722">(</span><span class="ident" id="7954723">Scanner</span><span class="op" id="7954730">)</span><span class="op" id="7954731">.</span><span class="ident" id="7954732">Init</span><span class="op" id="7954736">(</span><span class="ident" id="7954737">strings</span><span class="op" id="7954744">.</span><span class="ident" id="7954745">NewReader</span><span class="op" id="7954754">(</span><span class="string" id="7954755">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="7954773">)</span><span class="op" id="7954774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954777">s</span><span class="op" id="7954778">.</span><span class="ident" id="7954779">Mode</span>&nbsp;<span class="op" id="7954784">=</span>&nbsp;<span class="num" id="7954786">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954789">s</span><span class="op" id="7954790">.</span><span class="ident" id="7954791">Whitespace</span>&nbsp;<span class="op" id="7954802">=</span>&nbsp;<span class="num" id="7954804">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954807">checkScanPos</span><span class="op" id="7954819">(</span><span class="ident" id="7954820">t</span><span class="op" id="7954821">,</span>&nbsp;<span class="ident" id="7954823">s</span><span class="op" id="7954824">,</span>&nbsp;<span class="num" id="7954826">0</span><span class="op" id="7954827">,</span>&nbsp;<span class="num" id="7954829">1</span><span class="op" id="7954830">,</span>&nbsp;<span class="num" id="7954832">1</span><span class="op" id="7954833">,</span>&nbsp;<span class="string" id="7954835">&#39;a&#39;</span><span class="op" id="7954838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954841">s</span><span class="op" id="7954842">.</span><span class="ident" id="7954843">Peek</span><span class="op" id="7954847">(</span><span class="op" id="7954848">)</span>&nbsp;<span class="comment" id="7954850">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954887">checkScanPos</span><span class="op" id="7954899">(</span><span class="ident" id="7954900">t</span><span class="op" id="7954901">,</span>&nbsp;<span class="ident" id="7954903">s</span><span class="op" id="7954904">,</span>&nbsp;<span class="num" id="7954906">1</span><span class="op" id="7954907">,</span>&nbsp;<span class="num" id="7954909">1</span><span class="op" id="7954910">,</span>&nbsp;<span class="num" id="7954912">2</span><span class="op" id="7954913">,</span>&nbsp;<span class="string" id="7954915">&#39;b&#39;</span><span class="op" id="7954918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954921">checkScanPos</span><span class="op" id="7954933">(</span><span class="ident" id="7954934">t</span><span class="op" id="7954935">,</span>&nbsp;<span class="ident" id="7954937">s</span><span class="op" id="7954938">,</span>&nbsp;<span class="num" id="7954940">2</span><span class="op" id="7954941">,</span>&nbsp;<span class="num" id="7954943">1</span><span class="op" id="7954944">,</span>&nbsp;<span class="num" id="7954946">3</span><span class="op" id="7954947">,</span>&nbsp;<span class="string" id="7954949">&#39;c&#39;</span><span class="op" id="7954952">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954955">checkScanPos</span><span class="op" id="7954967">(</span><span class="ident" id="7954968">t</span><span class="op" id="7954969">,</span>&nbsp;<span class="ident" id="7954971">s</span><span class="op" id="7954972">,</span>&nbsp;<span class="num" id="7954974">3</span><span class="op" id="7954975">,</span>&nbsp;<span class="num" id="7954977">1</span><span class="op" id="7954978">,</span>&nbsp;<span class="num" id="7954980">4</span><span class="op" id="7954981">,</span>&nbsp;<span class="string" id="7954983">&#39;\n&#39;</span><span class="op" id="7954987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954990">checkScanPos</span><span class="op" id="7955002">(</span><span class="ident" id="7955003">t</span><span class="op" id="7955004">,</span>&nbsp;<span class="ident" id="7955006">s</span><span class="op" id="7955007">,</span>&nbsp;<span class="num" id="7955009">4</span><span class="op" id="7955010">,</span>&nbsp;<span class="num" id="7955012">2</span><span class="op" id="7955013">,</span>&nbsp;<span class="num" id="7955015">1</span><span class="op" id="7955016">,</span>&nbsp;<span class="string" id="7955018">&#39;本&#39;</span><span class="op" id="7955023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955026">checkScanPos</span><span class="op" id="7955038">(</span><span class="ident" id="7955039">t</span><span class="op" id="7955040">,</span>&nbsp;<span class="ident" id="7955042">s</span><span class="op" id="7955043">,</span>&nbsp;<span class="num" id="7955045">7</span><span class="op" id="7955046">,</span>&nbsp;<span class="num" id="7955048">2</span><span class="op" id="7955049">,</span>&nbsp;<span class="num" id="7955051">2</span><span class="op" id="7955052">,</span>&nbsp;<span class="string" id="7955054">&#39;語&#39;</span><span class="op" id="7955059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955062">checkScanPos</span><span class="op" id="7955074">(</span><span class="ident" id="7955075">t</span><span class="op" id="7955076">,</span>&nbsp;<span class="ident" id="7955078">s</span><span class="op" id="7955079">,</span>&nbsp;<span class="num" id="7955081">10</span><span class="op" id="7955083">,</span>&nbsp;<span class="num" id="7955085">2</span><span class="op" id="7955086">,</span>&nbsp;<span class="num" id="7955088">3</span><span class="op" id="7955089">,</span>&nbsp;<span class="string" id="7955091">&#39;\n&#39;</span><span class="op" id="7955095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955098">checkScanPos</span><span class="op" id="7955110">(</span><span class="ident" id="7955111">t</span><span class="op" id="7955112">,</span>&nbsp;<span class="ident" id="7955114">s</span><span class="op" id="7955115">,</span>&nbsp;<span class="num" id="7955117">11</span><span class="op" id="7955119">,</span>&nbsp;<span class="num" id="7955121">3</span><span class="op" id="7955122">,</span>&nbsp;<span class="num" id="7955124">1</span><span class="op" id="7955125">,</span>&nbsp;<span class="string" id="7955127">&#39;\n&#39;</span><span class="op" id="7955131">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955134">checkScanPos</span><span class="op" id="7955146">(</span><span class="ident" id="7955147">t</span><span class="op" id="7955148">,</span>&nbsp;<span class="ident" id="7955150">s</span><span class="op" id="7955151">,</span>&nbsp;<span class="num" id="7955153">12</span><span class="op" id="7955155">,</span>&nbsp;<span class="num" id="7955157">4</span><span class="op" id="7955158">,</span>&nbsp;<span class="num" id="7955160">1</span><span class="op" id="7955161">,</span>&nbsp;<span class="string" id="7955163">&#39;x&#39;</span><span class="op" id="7955166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7955169">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955207">for</span>&nbsp;<span class="ident" id="7955211">i</span>&nbsp;<span class="op" id="7955213">:=</span>&nbsp;<span class="num" id="7955216">10</span><span class="op" id="7955218">;</span>&nbsp;<span class="ident" id="7955220">i</span>&nbsp;<span class="op" id="7955222">&gt;</span>&nbsp;<span class="num" id="7955224">0</span><span class="op" id="7955225">;</span>&nbsp;<span class="ident" id="7955227">i</span><span class="op" id="7955228">--</span>&nbsp;<span class="op" id="7955231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955235">checkScanPos</span><span class="op" id="7955247">(</span><span class="ident" id="7955248">t</span><span class="op" id="7955249">,</span>&nbsp;<span class="ident" id="7955251">s</span><span class="op" id="7955252">,</span>&nbsp;<span class="num" id="7955254">13</span><span class="op" id="7955256">,</span>&nbsp;<span class="num" id="7955258">4</span><span class="op" id="7955259">,</span>&nbsp;<span class="num" id="7955261">2</span><span class="op" id="7955262">,</span>&nbsp;<span class="ident" id="7955264">EOF</span><span class="op" id="7955267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955270">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955273">if</span>&nbsp;<span class="ident" id="7955276">s</span><span class="op" id="7955277">.</span><span class="ident" id="7955278">ErrorCount</span>&nbsp;<span class="op" id="7955289">!=</span>&nbsp;<span class="num" id="7955292">0</span>&nbsp;<span class="op" id="7955294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955298">t</span><span class="op" id="7955299">.</span><span class="ident" id="7955300">Errorf</span><span class="op" id="7955306">(</span><span class="string" id="7955307">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7955318">,</span>&nbsp;<span class="ident" id="7955320">s</span><span class="op" id="7955321">.</span><span class="ident" id="7955322">ErrorCount</span><span class="op" id="7955332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955335">}</span><br>
<span class="lineno"></span><span class="op" id="7955337">}</span>
</div>
</body>
</html>
