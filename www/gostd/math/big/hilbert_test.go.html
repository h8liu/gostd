<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7157936">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7157991">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7158045">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7158096">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7158161">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7158220">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7158278">package</span>&nbsp;<span class="ident" id="7158286">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7158291">import</span>&nbsp;<span class="op" id="7158298">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7158301">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7158308">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7158318">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7158321">type</span>&nbsp;<span class="ident" id="7158326">matrix</span>&nbsp;<span class="keyword" id="7158333">struct</span>&nbsp;<span class="op" id="7158340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158343">n</span><span class="op" id="7158344">,</span>&nbsp;<span class="ident" id="7158346">m</span>&nbsp;<span class="builtintype" id="7158348">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158353">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158358">[</span><span class="op" id="7158359">]</span><span class="op" id="7158360">*</span><span class="ident" id="7158361">Rat</span><br>
<span class="lineno"></span><span class="op" id="7158365">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7158368">func</span>&nbsp;<span class="op" id="7158373">(</span><span class="ident" id="7158374">a</span>&nbsp;<span class="op" id="7158376">*</span><span class="ident" id="7158377">matrix</span><span class="op" id="7158383">)</span>&nbsp;<span class="ident" id="7158385">at</span><span class="op" id="7158387">(</span><span class="ident" id="7158388">i</span><span class="op" id="7158389">,</span>&nbsp;<span class="ident" id="7158391">j</span>&nbsp;<span class="builtintype" id="7158393">int</span><span class="op" id="7158396">)</span>&nbsp;<span class="op" id="7158398">*</span><span class="ident" id="7158399">Rat</span>&nbsp;<span class="op" id="7158403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158406">if</span>&nbsp;<span class="op" id="7158409">!</span><span class="op" id="7158410">(</span><span class="num" id="7158411">0</span>&nbsp;<span class="op" id="7158413">&lt;=</span>&nbsp;<span class="ident" id="7158416">i</span>&nbsp;<span class="op" id="7158418">&amp;&amp;</span>&nbsp;<span class="ident" id="7158421">i</span>&nbsp;<span class="op" id="7158423">&lt;</span>&nbsp;<span class="ident" id="7158425">a</span><span class="op" id="7158426">.</span><span class="ident" id="7158427">n</span>&nbsp;<span class="op" id="7158429">&amp;&amp;</span>&nbsp;<span class="num" id="7158432">0</span>&nbsp;<span class="op" id="7158434">&lt;=</span>&nbsp;<span class="ident" id="7158437">j</span>&nbsp;<span class="op" id="7158439">&amp;&amp;</span>&nbsp;<span class="ident" id="7158442">j</span>&nbsp;<span class="op" id="7158444">&lt;</span>&nbsp;<span class="ident" id="7158446">a</span><span class="op" id="7158447">.</span><span class="ident" id="7158448">m</span><span class="op" id="7158449">)</span>&nbsp;<span class="op" id="7158451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7158455">panic</span><span class="op" id="7158460">(</span><span class="string" id="7158461">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7158481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158484">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158487">return</span>&nbsp;<span class="ident" id="7158494">a</span><span class="op" id="7158495">.</span><span class="ident" id="7158496">a</span><span class="op" id="7158497">[</span><span class="ident" id="7158498">i</span><span class="op" id="7158499">*</span><span class="ident" id="7158500">a</span><span class="op" id="7158501">.</span><span class="ident" id="7158502">m</span><span class="op" id="7158503">+</span><span class="ident" id="7158504">j</span><span class="op" id="7158505">]</span><br>
<span class="lineno"></span><span class="op" id="7158507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7158510">func</span>&nbsp;<span class="op" id="7158515">(</span><span class="ident" id="7158516">a</span>&nbsp;<span class="op" id="7158518">*</span><span class="ident" id="7158519">matrix</span><span class="op" id="7158525">)</span>&nbsp;<span class="ident" id="7158527">set</span><span class="op" id="7158530">(</span><span class="ident" id="7158531">i</span><span class="op" id="7158532">,</span>&nbsp;<span class="ident" id="7158534">j</span>&nbsp;<span class="builtintype" id="7158536">int</span><span class="op" id="7158539">,</span>&nbsp;<span class="ident" id="7158541">x</span>&nbsp;<span class="op" id="7158543">*</span><span class="ident" id="7158544">Rat</span><span class="op" id="7158547">)</span>&nbsp;<span class="op" id="7158549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158552">if</span>&nbsp;<span class="op" id="7158555">!</span><span class="op" id="7158556">(</span><span class="num" id="7158557">0</span>&nbsp;<span class="op" id="7158559">&lt;=</span>&nbsp;<span class="ident" id="7158562">i</span>&nbsp;<span class="op" id="7158564">&amp;&amp;</span>&nbsp;<span class="ident" id="7158567">i</span>&nbsp;<span class="op" id="7158569">&lt;</span>&nbsp;<span class="ident" id="7158571">a</span><span class="op" id="7158572">.</span><span class="ident" id="7158573">n</span>&nbsp;<span class="op" id="7158575">&amp;&amp;</span>&nbsp;<span class="num" id="7158578">0</span>&nbsp;<span class="op" id="7158580">&lt;=</span>&nbsp;<span class="ident" id="7158583">j</span>&nbsp;<span class="op" id="7158585">&amp;&amp;</span>&nbsp;<span class="ident" id="7158588">j</span>&nbsp;<span class="op" id="7158590">&lt;</span>&nbsp;<span class="ident" id="7158592">a</span><span class="op" id="7158593">.</span><span class="ident" id="7158594">m</span><span class="op" id="7158595">)</span>&nbsp;<span class="op" id="7158597">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7158601">panic</span><span class="op" id="7158606">(</span><span class="string" id="7158607">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7158627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158633">a</span><span class="op" id="7158634">.</span><span class="ident" id="7158635">a</span><span class="op" id="7158636">[</span><span class="ident" id="7158637">i</span><span class="op" id="7158638">*</span><span class="ident" id="7158639">a</span><span class="op" id="7158640">.</span><span class="ident" id="7158641">m</span><span class="op" id="7158642">+</span><span class="ident" id="7158643">j</span><span class="op" id="7158644">]</span>&nbsp;<span class="op" id="7158646">=</span>&nbsp;<span class="ident" id="7158648">x</span><br>
<span class="lineno"></span><span class="op" id="7158650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7158653">func</span>&nbsp;<span class="ident" id="7158658">newMatrix</span><span class="op" id="7158667">(</span><span class="ident" id="7158668">n</span><span class="op" id="7158669">,</span>&nbsp;<span class="ident" id="7158671">m</span>&nbsp;<span class="builtintype" id="7158673">int</span><span class="op" id="7158676">)</span>&nbsp;<span class="op" id="7158678">*</span><span class="ident" id="7158679">matrix</span>&nbsp;<span class="op" id="7158686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158689">if</span>&nbsp;<span class="op" id="7158692">!</span><span class="op" id="7158693">(</span><span class="num" id="7158694">0</span>&nbsp;<span class="op" id="7158696">&lt;=</span>&nbsp;<span class="ident" id="7158699">n</span>&nbsp;<span class="op" id="7158701">&amp;&amp;</span>&nbsp;<span class="num" id="7158704">0</span>&nbsp;<span class="op" id="7158706">&lt;=</span>&nbsp;<span class="ident" id="7158709">m</span><span class="op" id="7158710">)</span>&nbsp;<span class="op" id="7158712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7158716">panic</span><span class="op" id="7158721">(</span><span class="string" id="7158722">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7158738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158744">a</span>&nbsp;<span class="op" id="7158746">:=</span>&nbsp;<span class="builtinfunc" id="7158749">new</span><span class="op" id="7158752">(</span><span class="ident" id="7158753">matrix</span><span class="op" id="7158759">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158762">a</span><span class="op" id="7158763">.</span><span class="ident" id="7158764">n</span>&nbsp;<span class="op" id="7158766">=</span>&nbsp;<span class="ident" id="7158768">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158771">a</span><span class="op" id="7158772">.</span><span class="ident" id="7158773">m</span>&nbsp;<span class="op" id="7158775">=</span>&nbsp;<span class="ident" id="7158777">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158780">a</span><span class="op" id="7158781">.</span><span class="ident" id="7158782">a</span>&nbsp;<span class="op" id="7158784">=</span>&nbsp;<span class="builtinfunc" id="7158786">make</span><span class="op" id="7158790">(</span><span class="op" id="7158791">[</span><span class="op" id="7158792">]</span><span class="op" id="7158793">*</span><span class="ident" id="7158794">Rat</span><span class="op" id="7158797">,</span>&nbsp;<span class="ident" id="7158799">n</span><span class="op" id="7158800">*</span><span class="ident" id="7158801">m</span><span class="op" id="7158802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158805">return</span>&nbsp;<span class="ident" id="7158812">a</span><br>
<span class="lineno"></span><span class="op" id="7158814">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7158817">func</span>&nbsp;<span class="ident" id="7158822">newUnit</span><span class="op" id="7158829">(</span><span class="ident" id="7158830">n</span>&nbsp;<span class="builtintype" id="7158832">int</span><span class="op" id="7158835">)</span>&nbsp;<span class="op" id="7158837">*</span><span class="ident" id="7158838">matrix</span>&nbsp;<span class="op" id="7158845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158848">a</span>&nbsp;<span class="op" id="7158850">:=</span>&nbsp;<span class="ident" id="7158853">newMatrix</span><span class="op" id="7158862">(</span><span class="ident" id="7158863">n</span><span class="op" id="7158864">,</span>&nbsp;<span class="ident" id="7158866">n</span><span class="op" id="7158867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158870">for</span>&nbsp;<span class="ident" id="7158874">i</span>&nbsp;<span class="op" id="7158876">:=</span>&nbsp;<span class="num" id="7158879">0</span><span class="op" id="7158880">;</span>&nbsp;<span class="ident" id="7158882">i</span>&nbsp;<span class="op" id="7158884">&lt;</span>&nbsp;<span class="ident" id="7158886">n</span><span class="op" id="7158887">;</span>&nbsp;<span class="ident" id="7158889">i</span><span class="op" id="7158890">++</span>&nbsp;<span class="op" id="7158893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158897">for</span>&nbsp;<span class="ident" id="7158901">j</span>&nbsp;<span class="op" id="7158903">:=</span>&nbsp;<span class="num" id="7158906">0</span><span class="op" id="7158907">;</span>&nbsp;<span class="ident" id="7158909">j</span>&nbsp;<span class="op" id="7158911">&lt;</span>&nbsp;<span class="ident" id="7158913">n</span><span class="op" id="7158914">;</span>&nbsp;<span class="ident" id="7158916">j</span><span class="op" id="7158917">++</span>&nbsp;<span class="op" id="7158920">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158925">x</span>&nbsp;<span class="op" id="7158927">:=</span>&nbsp;<span class="ident" id="7158930">NewRat</span><span class="op" id="7158936">(</span><span class="num" id="7158937">0</span><span class="op" id="7158938">,</span>&nbsp;<span class="num" id="7158940">1</span><span class="op" id="7158941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7158946">if</span>&nbsp;<span class="ident" id="7158949">i</span>&nbsp;<span class="op" id="7158951">==</span>&nbsp;<span class="ident" id="7158954">j</span>&nbsp;<span class="op" id="7158956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158962">x</span><span class="op" id="7158963">.</span><span class="ident" id="7158964">SetInt64</span><span class="op" id="7158972">(</span><span class="num" id="7158973">1</span><span class="op" id="7158974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7158979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7158984">a</span><span class="op" id="7158985">.</span><span class="ident" id="7158986">set</span><span class="op" id="7158989">(</span><span class="ident" id="7158990">i</span><span class="op" id="7158991">,</span>&nbsp;<span class="ident" id="7158993">j</span><span class="op" id="7158994">,</span>&nbsp;<span class="ident" id="7158996">x</span><span class="op" id="7158997">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159007">return</span>&nbsp;<span class="ident" id="7159014">a</span><br>
<span class="lineno"></span><span class="op" id="7159016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7159019">func</span>&nbsp;<span class="ident" id="7159024">newHilbert</span><span class="op" id="7159034">(</span><span class="ident" id="7159035">n</span>&nbsp;<span class="builtintype" id="7159037">int</span><span class="op" id="7159040">)</span>&nbsp;<span class="op" id="7159042">*</span><span class="ident" id="7159043">matrix</span>&nbsp;<span class="op" id="7159050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159053">a</span>&nbsp;<span class="op" id="7159055">:=</span>&nbsp;<span class="ident" id="7159058">newMatrix</span><span class="op" id="7159067">(</span><span class="ident" id="7159068">n</span><span class="op" id="7159069">,</span>&nbsp;<span class="ident" id="7159071">n</span><span class="op" id="7159072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159075">for</span>&nbsp;<span class="ident" id="7159079">i</span>&nbsp;<span class="op" id="7159081">:=</span>&nbsp;<span class="num" id="7159084">0</span><span class="op" id="7159085">;</span>&nbsp;<span class="ident" id="7159087">i</span>&nbsp;<span class="op" id="7159089">&lt;</span>&nbsp;<span class="ident" id="7159091">n</span><span class="op" id="7159092">;</span>&nbsp;<span class="ident" id="7159094">i</span><span class="op" id="7159095">++</span>&nbsp;<span class="op" id="7159098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159102">for</span>&nbsp;<span class="ident" id="7159106">j</span>&nbsp;<span class="op" id="7159108">:=</span>&nbsp;<span class="num" id="7159111">0</span><span class="op" id="7159112">;</span>&nbsp;<span class="ident" id="7159114">j</span>&nbsp;<span class="op" id="7159116">&lt;</span>&nbsp;<span class="ident" id="7159118">n</span><span class="op" id="7159119">;</span>&nbsp;<span class="ident" id="7159121">j</span><span class="op" id="7159122">++</span>&nbsp;<span class="op" id="7159125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159130">a</span><span class="op" id="7159131">.</span><span class="ident" id="7159132">set</span><span class="op" id="7159135">(</span><span class="ident" id="7159136">i</span><span class="op" id="7159137">,</span>&nbsp;<span class="ident" id="7159139">j</span><span class="op" id="7159140">,</span>&nbsp;<span class="ident" id="7159142">NewRat</span><span class="op" id="7159148">(</span><span class="num" id="7159149">1</span><span class="op" id="7159150">,</span>&nbsp;<span class="ident" id="7159152">int64</span><span class="op" id="7159157">(</span><span class="ident" id="7159158">i</span><span class="op" id="7159159">+</span><span class="ident" id="7159160">j</span><span class="op" id="7159161">+</span><span class="num" id="7159162">1</span><span class="op" id="7159163">)</span><span class="op" id="7159164">)</span><span class="op" id="7159165">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159175">return</span>&nbsp;<span class="ident" id="7159182">a</span><br>
<span class="lineno"></span><span class="op" id="7159184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7159187">func</span>&nbsp;<span class="ident" id="7159192">newInverseHilbert</span><span class="op" id="7159209">(</span><span class="ident" id="7159210">n</span>&nbsp;<span class="builtintype" id="7159212">int</span><span class="op" id="7159215">)</span>&nbsp;<span class="op" id="7159217">*</span><span class="ident" id="7159218">matrix</span>&nbsp;<span class="op" id="7159225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159228">a</span>&nbsp;<span class="op" id="7159230">:=</span>&nbsp;<span class="ident" id="7159233">newMatrix</span><span class="op" id="7159242">(</span><span class="ident" id="7159243">n</span><span class="op" id="7159244">,</span>&nbsp;<span class="ident" id="7159246">n</span><span class="op" id="7159247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159250">for</span>&nbsp;<span class="ident" id="7159254">i</span>&nbsp;<span class="op" id="7159256">:=</span>&nbsp;<span class="num" id="7159259">0</span><span class="op" id="7159260">;</span>&nbsp;<span class="ident" id="7159262">i</span>&nbsp;<span class="op" id="7159264">&lt;</span>&nbsp;<span class="ident" id="7159266">n</span><span class="op" id="7159267">;</span>&nbsp;<span class="ident" id="7159269">i</span><span class="op" id="7159270">++</span>&nbsp;<span class="op" id="7159273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159277">for</span>&nbsp;<span class="ident" id="7159281">j</span>&nbsp;<span class="op" id="7159283">:=</span>&nbsp;<span class="num" id="7159286">0</span><span class="op" id="7159287">;</span>&nbsp;<span class="ident" id="7159289">j</span>&nbsp;<span class="op" id="7159291">&lt;</span>&nbsp;<span class="ident" id="7159293">n</span><span class="op" id="7159294">;</span>&nbsp;<span class="ident" id="7159296">j</span><span class="op" id="7159297">++</span>&nbsp;<span class="op" id="7159300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159305">x1</span>&nbsp;<span class="op" id="7159308">:=</span>&nbsp;<span class="builtinfunc" id="7159311">new</span><span class="op" id="7159314">(</span><span class="ident" id="7159315">Rat</span><span class="op" id="7159318">)</span><span class="op" id="7159319">.</span><span class="ident" id="7159320">SetInt64</span><span class="op" id="7159328">(</span><span class="ident" id="7159329">int64</span><span class="op" id="7159334">(</span><span class="ident" id="7159335">i</span>&nbsp;<span class="op" id="7159337">+</span>&nbsp;<span class="ident" id="7159339">j</span>&nbsp;<span class="op" id="7159341">+</span>&nbsp;<span class="num" id="7159343">1</span><span class="op" id="7159344">)</span><span class="op" id="7159345">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159350">x2</span>&nbsp;<span class="op" id="7159353">:=</span>&nbsp;<span class="builtinfunc" id="7159356">new</span><span class="op" id="7159359">(</span><span class="ident" id="7159360">Rat</span><span class="op" id="7159363">)</span><span class="op" id="7159364">.</span><span class="ident" id="7159365">SetInt</span><span class="op" id="7159371">(</span><span class="builtinfunc" id="7159372">new</span><span class="op" id="7159375">(</span><span class="ident" id="7159376">Int</span><span class="op" id="7159379">)</span><span class="op" id="7159380">.</span><span class="ident" id="7159381">Binomial</span><span class="op" id="7159389">(</span><span class="ident" id="7159390">int64</span><span class="op" id="7159395">(</span><span class="ident" id="7159396">n</span><span class="op" id="7159397">+</span><span class="ident" id="7159398">i</span><span class="op" id="7159399">)</span><span class="op" id="7159400">,</span>&nbsp;<span class="ident" id="7159402">int64</span><span class="op" id="7159407">(</span><span class="ident" id="7159408">n</span><span class="op" id="7159409">-</span><span class="ident" id="7159410">j</span><span class="op" id="7159411">-</span><span class="num" id="7159412">1</span><span class="op" id="7159413">)</span><span class="op" id="7159414">)</span><span class="op" id="7159415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159420">x3</span>&nbsp;<span class="op" id="7159423">:=</span>&nbsp;<span class="builtinfunc" id="7159426">new</span><span class="op" id="7159429">(</span><span class="ident" id="7159430">Rat</span><span class="op" id="7159433">)</span><span class="op" id="7159434">.</span><span class="ident" id="7159435">SetInt</span><span class="op" id="7159441">(</span><span class="builtinfunc" id="7159442">new</span><span class="op" id="7159445">(</span><span class="ident" id="7159446">Int</span><span class="op" id="7159449">)</span><span class="op" id="7159450">.</span><span class="ident" id="7159451">Binomial</span><span class="op" id="7159459">(</span><span class="ident" id="7159460">int64</span><span class="op" id="7159465">(</span><span class="ident" id="7159466">n</span><span class="op" id="7159467">+</span><span class="ident" id="7159468">j</span><span class="op" id="7159469">)</span><span class="op" id="7159470">,</span>&nbsp;<span class="ident" id="7159472">int64</span><span class="op" id="7159477">(</span><span class="ident" id="7159478">n</span><span class="op" id="7159479">-</span><span class="ident" id="7159480">i</span><span class="op" id="7159481">-</span><span class="num" id="7159482">1</span><span class="op" id="7159483">)</span><span class="op" id="7159484">)</span><span class="op" id="7159485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159490">x4</span>&nbsp;<span class="op" id="7159493">:=</span>&nbsp;<span class="builtinfunc" id="7159496">new</span><span class="op" id="7159499">(</span><span class="ident" id="7159500">Rat</span><span class="op" id="7159503">)</span><span class="op" id="7159504">.</span><span class="ident" id="7159505">SetInt</span><span class="op" id="7159511">(</span><span class="builtinfunc" id="7159512">new</span><span class="op" id="7159515">(</span><span class="ident" id="7159516">Int</span><span class="op" id="7159519">)</span><span class="op" id="7159520">.</span><span class="ident" id="7159521">Binomial</span><span class="op" id="7159529">(</span><span class="ident" id="7159530">int64</span><span class="op" id="7159535">(</span><span class="ident" id="7159536">i</span><span class="op" id="7159537">+</span><span class="ident" id="7159538">j</span><span class="op" id="7159539">)</span><span class="op" id="7159540">,</span>&nbsp;<span class="ident" id="7159542">int64</span><span class="op" id="7159547">(</span><span class="ident" id="7159548">i</span><span class="op" id="7159549">)</span><span class="op" id="7159550">)</span><span class="op" id="7159551">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159557">x1</span><span class="op" id="7159559">.</span><span class="ident" id="7159560">Mul</span><span class="op" id="7159563">(</span><span class="ident" id="7159564">x1</span><span class="op" id="7159566">,</span>&nbsp;<span class="ident" id="7159568">x2</span><span class="op" id="7159570">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159575">x1</span><span class="op" id="7159577">.</span><span class="ident" id="7159578">Mul</span><span class="op" id="7159581">(</span><span class="ident" id="7159582">x1</span><span class="op" id="7159584">,</span>&nbsp;<span class="ident" id="7159586">x3</span><span class="op" id="7159588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159593">x1</span><span class="op" id="7159595">.</span><span class="ident" id="7159596">Mul</span><span class="op" id="7159599">(</span><span class="ident" id="7159600">x1</span><span class="op" id="7159602">,</span>&nbsp;<span class="ident" id="7159604">x4</span><span class="op" id="7159606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159611">x1</span><span class="op" id="7159613">.</span><span class="ident" id="7159614">Mul</span><span class="op" id="7159617">(</span><span class="ident" id="7159618">x1</span><span class="op" id="7159620">,</span>&nbsp;<span class="ident" id="7159622">x4</span><span class="op" id="7159624">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159630">if</span>&nbsp;<span class="op" id="7159633">(</span><span class="ident" id="7159634">i</span><span class="op" id="7159635">+</span><span class="ident" id="7159636">j</span><span class="op" id="7159637">)</span><span class="op" id="7159638">&amp;</span><span class="num" id="7159639">1</span>&nbsp;<span class="op" id="7159641">!=</span>&nbsp;<span class="num" id="7159644">0</span>&nbsp;<span class="op" id="7159646">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159652">x1</span><span class="op" id="7159654">.</span><span class="ident" id="7159655">Neg</span><span class="op" id="7159658">(</span><span class="ident" id="7159659">x1</span><span class="op" id="7159661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159672">a</span><span class="op" id="7159673">.</span><span class="ident" id="7159674">set</span><span class="op" id="7159677">(</span><span class="ident" id="7159678">i</span><span class="op" id="7159679">,</span>&nbsp;<span class="ident" id="7159681">j</span><span class="op" id="7159682">,</span>&nbsp;<span class="ident" id="7159684">x1</span><span class="op" id="7159686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159690">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159696">return</span>&nbsp;<span class="ident" id="7159703">a</span><br>
<span class="lineno"></span><span class="op" id="7159705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7159708">func</span>&nbsp;<span class="op" id="7159713">(</span><span class="ident" id="7159714">a</span>&nbsp;<span class="op" id="7159716">*</span><span class="ident" id="7159717">matrix</span><span class="op" id="7159723">)</span>&nbsp;<span class="ident" id="7159725">mul</span><span class="op" id="7159728">(</span><span class="ident" id="7159729">b</span>&nbsp;<span class="op" id="7159731">*</span><span class="ident" id="7159732">matrix</span><span class="op" id="7159738">)</span>&nbsp;<span class="op" id="7159740">*</span><span class="ident" id="7159741">matrix</span>&nbsp;<span class="op" id="7159748">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159751">if</span>&nbsp;<span class="ident" id="7159754">a</span><span class="op" id="7159755">.</span><span class="ident" id="7159756">m</span>&nbsp;<span class="op" id="7159758">!=</span>&nbsp;<span class="ident" id="7159761">b</span><span class="op" id="7159762">.</span><span class="ident" id="7159763">n</span>&nbsp;<span class="op" id="7159765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7159769">panic</span><span class="op" id="7159774">(</span><span class="string" id="7159775">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7159800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159806">c</span>&nbsp;<span class="op" id="7159808">:=</span>&nbsp;<span class="ident" id="7159811">newMatrix</span><span class="op" id="7159820">(</span><span class="ident" id="7159821">a</span><span class="op" id="7159822">.</span><span class="ident" id="7159823">n</span><span class="op" id="7159824">,</span>&nbsp;<span class="ident" id="7159826">b</span><span class="op" id="7159827">.</span><span class="ident" id="7159828">m</span><span class="op" id="7159829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159832">for</span>&nbsp;<span class="ident" id="7159836">i</span>&nbsp;<span class="op" id="7159838">:=</span>&nbsp;<span class="num" id="7159841">0</span><span class="op" id="7159842">;</span>&nbsp;<span class="ident" id="7159844">i</span>&nbsp;<span class="op" id="7159846">&lt;</span>&nbsp;<span class="ident" id="7159848">c</span><span class="op" id="7159849">.</span><span class="ident" id="7159850">n</span><span class="op" id="7159851">;</span>&nbsp;<span class="ident" id="7159853">i</span><span class="op" id="7159854">++</span>&nbsp;<span class="op" id="7159857">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159861">for</span>&nbsp;<span class="ident" id="7159865">j</span>&nbsp;<span class="op" id="7159867">:=</span>&nbsp;<span class="num" id="7159870">0</span><span class="op" id="7159871">;</span>&nbsp;<span class="ident" id="7159873">j</span>&nbsp;<span class="op" id="7159875">&lt;</span>&nbsp;<span class="ident" id="7159877">c</span><span class="op" id="7159878">.</span><span class="ident" id="7159879">m</span><span class="op" id="7159880">;</span>&nbsp;<span class="ident" id="7159882">j</span><span class="op" id="7159883">++</span>&nbsp;<span class="op" id="7159886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159891">x</span>&nbsp;<span class="op" id="7159893">:=</span>&nbsp;<span class="ident" id="7159896">NewRat</span><span class="op" id="7159902">(</span><span class="num" id="7159903">0</span><span class="op" id="7159904">,</span>&nbsp;<span class="num" id="7159906">1</span><span class="op" id="7159907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7159912">for</span>&nbsp;<span class="ident" id="7159916">k</span>&nbsp;<span class="op" id="7159918">:=</span>&nbsp;<span class="num" id="7159921">0</span><span class="op" id="7159922">;</span>&nbsp;<span class="ident" id="7159924">k</span>&nbsp;<span class="op" id="7159926">&lt;</span>&nbsp;<span class="ident" id="7159928">a</span><span class="op" id="7159929">.</span><span class="ident" id="7159930">m</span><span class="op" id="7159931">;</span>&nbsp;<span class="ident" id="7159933">k</span><span class="op" id="7159934">++</span>&nbsp;<span class="op" id="7159937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159943">x</span><span class="op" id="7159944">.</span><span class="ident" id="7159945">Add</span><span class="op" id="7159948">(</span><span class="ident" id="7159949">x</span><span class="op" id="7159950">,</span>&nbsp;<span class="builtinfunc" id="7159952">new</span><span class="op" id="7159955">(</span><span class="ident" id="7159956">Rat</span><span class="op" id="7159959">)</span><span class="op" id="7159960">.</span><span class="ident" id="7159961">Mul</span><span class="op" id="7159964">(</span><span class="ident" id="7159965">a</span><span class="op" id="7159966">.</span><span class="ident" id="7159967">at</span><span class="op" id="7159969">(</span><span class="ident" id="7159970">i</span><span class="op" id="7159971">,</span>&nbsp;<span class="ident" id="7159973">k</span><span class="op" id="7159974">)</span><span class="op" id="7159975">,</span>&nbsp;<span class="ident" id="7159977">b</span><span class="op" id="7159978">.</span><span class="ident" id="7159979">at</span><span class="op" id="7159981">(</span><span class="ident" id="7159982">k</span><span class="op" id="7159983">,</span>&nbsp;<span class="ident" id="7159985">j</span><span class="op" id="7159986">)</span><span class="op" id="7159987">)</span><span class="op" id="7159988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7159993">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7159998">c</span><span class="op" id="7159999">.</span><span class="ident" id="7160000">set</span><span class="op" id="7160003">(</span><span class="ident" id="7160004">i</span><span class="op" id="7160005">,</span>&nbsp;<span class="ident" id="7160007">j</span><span class="op" id="7160008">,</span>&nbsp;<span class="ident" id="7160010">x</span><span class="op" id="7160011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160021">return</span>&nbsp;<span class="ident" id="7160028">c</span><br>
<span class="lineno"></span><span class="op" id="7160030">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7160033">func</span>&nbsp;<span class="op" id="7160038">(</span><span class="ident" id="7160039">a</span>&nbsp;<span class="op" id="7160041">*</span><span class="ident" id="7160042">matrix</span><span class="op" id="7160048">)</span>&nbsp;<span class="ident" id="7160050">eql</span><span class="op" id="7160053">(</span><span class="ident" id="7160054">b</span>&nbsp;<span class="op" id="7160056">*</span><span class="ident" id="7160057">matrix</span><span class="op" id="7160063">)</span>&nbsp;<span class="builtintype" id="7160065">bool</span>&nbsp;<span class="op" id="7160070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160073">if</span>&nbsp;<span class="ident" id="7160076">a</span><span class="op" id="7160077">.</span><span class="ident" id="7160078">n</span>&nbsp;<span class="op" id="7160080">!=</span>&nbsp;<span class="ident" id="7160083">b</span><span class="op" id="7160084">.</span><span class="ident" id="7160085">n</span>&nbsp;<span class="op" id="7160087">||</span>&nbsp;<span class="ident" id="7160090">a</span><span class="op" id="7160091">.</span><span class="ident" id="7160092">m</span>&nbsp;<span class="op" id="7160094">!=</span>&nbsp;<span class="ident" id="7160097">b</span><span class="op" id="7160098">.</span><span class="ident" id="7160099">m</span>&nbsp;<span class="op" id="7160101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160105">return</span>&nbsp;<span class="builtintype" id="7160112">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160119">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160122">for</span>&nbsp;<span class="ident" id="7160126">i</span>&nbsp;<span class="op" id="7160128">:=</span>&nbsp;<span class="num" id="7160131">0</span><span class="op" id="7160132">;</span>&nbsp;<span class="ident" id="7160134">i</span>&nbsp;<span class="op" id="7160136">&lt;</span>&nbsp;<span class="ident" id="7160138">a</span><span class="op" id="7160139">.</span><span class="ident" id="7160140">n</span><span class="op" id="7160141">;</span>&nbsp;<span class="ident" id="7160143">i</span><span class="op" id="7160144">++</span>&nbsp;<span class="op" id="7160147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160151">for</span>&nbsp;<span class="ident" id="7160155">j</span>&nbsp;<span class="op" id="7160157">:=</span>&nbsp;<span class="num" id="7160160">0</span><span class="op" id="7160161">;</span>&nbsp;<span class="ident" id="7160163">j</span>&nbsp;<span class="op" id="7160165">&lt;</span>&nbsp;<span class="ident" id="7160167">a</span><span class="op" id="7160168">.</span><span class="ident" id="7160169">m</span><span class="op" id="7160170">;</span>&nbsp;<span class="ident" id="7160172">j</span><span class="op" id="7160173">++</span>&nbsp;<span class="op" id="7160176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160181">if</span>&nbsp;<span class="ident" id="7160184">a</span><span class="op" id="7160185">.</span><span class="ident" id="7160186">at</span><span class="op" id="7160188">(</span><span class="ident" id="7160189">i</span><span class="op" id="7160190">,</span>&nbsp;<span class="ident" id="7160192">j</span><span class="op" id="7160193">)</span><span class="op" id="7160194">.</span><span class="ident" id="7160195">Cmp</span><span class="op" id="7160198">(</span><span class="ident" id="7160199">b</span><span class="op" id="7160200">.</span><span class="ident" id="7160201">at</span><span class="op" id="7160203">(</span><span class="ident" id="7160204">i</span><span class="op" id="7160205">,</span>&nbsp;<span class="ident" id="7160207">j</span><span class="op" id="7160208">)</span><span class="op" id="7160209">)</span>&nbsp;<span class="op" id="7160211">!=</span>&nbsp;<span class="num" id="7160214">0</span>&nbsp;<span class="op" id="7160216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160222">return</span>&nbsp;<span class="builtintype" id="7160229">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160238">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160248">return</span>&nbsp;<span class="builtintype" id="7160255">true</span><br>
<span class="lineno"></span><span class="op" id="7160260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7160263">func</span>&nbsp;<span class="op" id="7160268">(</span><span class="ident" id="7160269">a</span>&nbsp;<span class="op" id="7160271">*</span><span class="ident" id="7160272">matrix</span><span class="op" id="7160278">)</span>&nbsp;<span class="ident" id="7160280">String</span><span class="op" id="7160286">(</span><span class="op" id="7160287">)</span>&nbsp;<span class="builtintype" id="7160289">string</span>&nbsp;<span class="op" id="7160296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160299">s</span>&nbsp;<span class="op" id="7160301">:=</span>&nbsp;<span class="string" id="7160304">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160308">for</span>&nbsp;<span class="ident" id="7160312">i</span>&nbsp;<span class="op" id="7160314">:=</span>&nbsp;<span class="num" id="7160317">0</span><span class="op" id="7160318">;</span>&nbsp;<span class="ident" id="7160320">i</span>&nbsp;<span class="op" id="7160322">&lt;</span>&nbsp;<span class="ident" id="7160324">a</span><span class="op" id="7160325">.</span><span class="ident" id="7160326">n</span><span class="op" id="7160327">;</span>&nbsp;<span class="ident" id="7160329">i</span><span class="op" id="7160330">++</span>&nbsp;<span class="op" id="7160333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160337">for</span>&nbsp;<span class="ident" id="7160341">j</span>&nbsp;<span class="op" id="7160343">:=</span>&nbsp;<span class="num" id="7160346">0</span><span class="op" id="7160347">;</span>&nbsp;<span class="ident" id="7160349">j</span>&nbsp;<span class="op" id="7160351">&lt;</span>&nbsp;<span class="ident" id="7160353">a</span><span class="op" id="7160354">.</span><span class="ident" id="7160355">m</span><span class="op" id="7160356">;</span>&nbsp;<span class="ident" id="7160358">j</span><span class="op" id="7160359">++</span>&nbsp;<span class="op" id="7160362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160367">s</span>&nbsp;<span class="op" id="7160369">+=</span>&nbsp;<span class="ident" id="7160372">fmt</span><span class="op" id="7160375">.</span><span class="ident" id="7160376">Sprintf</span><span class="op" id="7160383">(</span><span class="string" id="7160384">&#34;\t%s&#34;</span><span class="op" id="7160390">,</span>&nbsp;<span class="ident" id="7160392">a</span><span class="op" id="7160393">.</span><span class="ident" id="7160394">at</span><span class="op" id="7160396">(</span><span class="ident" id="7160397">i</span><span class="op" id="7160398">,</span>&nbsp;<span class="ident" id="7160400">j</span><span class="op" id="7160401">)</span><span class="op" id="7160402">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160410">s</span>&nbsp;<span class="op" id="7160412">+=</span>&nbsp;<span class="string" id="7160415">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160424">return</span>&nbsp;<span class="ident" id="7160431">s</span><br>
<span class="lineno"></span><span class="op" id="7160433">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7160436">func</span>&nbsp;<span class="ident" id="7160441">doHilbert</span><span class="op" id="7160450">(</span><span class="ident" id="7160451">t</span>&nbsp;<span class="op" id="7160453">*</span><span class="ident" id="7160454">testing</span><span class="op" id="7160461">.</span><span class="ident" id="7160462">T</span><span class="op" id="7160463">,</span>&nbsp;<span class="ident" id="7160465">n</span>&nbsp;<span class="builtintype" id="7160467">int</span><span class="op" id="7160470">)</span>&nbsp;<span class="op" id="7160472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160475">a</span>&nbsp;<span class="op" id="7160477">:=</span>&nbsp;<span class="ident" id="7160480">newHilbert</span><span class="op" id="7160490">(</span><span class="ident" id="7160491">n</span><span class="op" id="7160492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160495">b</span>&nbsp;<span class="op" id="7160497">:=</span>&nbsp;<span class="ident" id="7160500">newInverseHilbert</span><span class="op" id="7160517">(</span><span class="ident" id="7160518">n</span><span class="op" id="7160519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160522">I</span>&nbsp;<span class="op" id="7160524">:=</span>&nbsp;<span class="ident" id="7160527">newUnit</span><span class="op" id="7160534">(</span><span class="ident" id="7160535">n</span><span class="op" id="7160536">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160539">ab</span>&nbsp;<span class="op" id="7160542">:=</span>&nbsp;<span class="ident" id="7160545">a</span><span class="op" id="7160546">.</span><span class="ident" id="7160547">mul</span><span class="op" id="7160550">(</span><span class="ident" id="7160551">b</span><span class="op" id="7160552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160555">if</span>&nbsp;<span class="op" id="7160558">!</span><span class="ident" id="7160559">ab</span><span class="op" id="7160561">.</span><span class="ident" id="7160562">eql</span><span class="op" id="7160565">(</span><span class="ident" id="7160566">I</span><span class="op" id="7160567">)</span>&nbsp;<span class="op" id="7160569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160573">if</span>&nbsp;<span class="ident" id="7160576">t</span>&nbsp;<span class="op" id="7160578">==</span>&nbsp;<span class="ident" id="7160581">nil</span>&nbsp;<span class="op" id="7160585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7160590">panic</span><span class="op" id="7160595">(</span><span class="string" id="7160596">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7160612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160616">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160620">t</span><span class="op" id="7160621">.</span><span class="ident" id="7160622">Errorf</span><span class="op" id="7160628">(</span><span class="string" id="7160629">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7160641">,</span>&nbsp;<span class="ident" id="7160643">a</span><span class="op" id="7160644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160648">t</span><span class="op" id="7160649">.</span><span class="ident" id="7160650">Errorf</span><span class="op" id="7160656">(</span><span class="string" id="7160657">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7160669">,</span>&nbsp;<span class="ident" id="7160671">b</span><span class="op" id="7160672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160676">t</span><span class="op" id="7160677">.</span><span class="ident" id="7160678">Errorf</span><span class="op" id="7160684">(</span><span class="string" id="7160685">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7160697">,</span>&nbsp;<span class="ident" id="7160699">ab</span><span class="op" id="7160701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160705">t</span><span class="op" id="7160706">.</span><span class="ident" id="7160707">Errorf</span><span class="op" id="7160713">(</span><span class="string" id="7160714">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7160726">,</span>&nbsp;<span class="ident" id="7160728">I</span><span class="op" id="7160729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160732">}</span><br>
<span class="lineno">150</span><span class="op" id="7160734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7160737">func</span>&nbsp;<span class="ident" id="7160742">TestHilbert</span><span class="op" id="7160753">(</span><span class="ident" id="7160754">t</span>&nbsp;<span class="op" id="7160756">*</span><span class="ident" id="7160757">testing</span><span class="op" id="7160764">.</span><span class="ident" id="7160765">T</span><span class="op" id="7160766">)</span>&nbsp;<span class="op" id="7160768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160771">doHilbert</span><span class="op" id="7160780">(</span><span class="ident" id="7160781">t</span><span class="op" id="7160782">,</span>&nbsp;<span class="num" id="7160784">10</span><span class="op" id="7160786">)</span><br>
<span class="lineno"></span><span class="op" id="7160788">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7160791">func</span>&nbsp;<span class="ident" id="7160796">BenchmarkHilbert</span><span class="op" id="7160812">(</span><span class="ident" id="7160813">b</span>&nbsp;<span class="op" id="7160815">*</span><span class="ident" id="7160816">testing</span><span class="op" id="7160823">.</span><span class="ident" id="7160824">B</span><span class="op" id="7160825">)</span>&nbsp;<span class="op" id="7160827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7160830">for</span>&nbsp;<span class="ident" id="7160834">i</span>&nbsp;<span class="op" id="7160836">:=</span>&nbsp;<span class="num" id="7160839">0</span><span class="op" id="7160840">;</span>&nbsp;<span class="ident" id="7160842">i</span>&nbsp;<span class="op" id="7160844">&lt;</span>&nbsp;<span class="ident" id="7160846">b</span><span class="op" id="7160847">.</span><span class="ident" id="7160848">N</span><span class="op" id="7160849">;</span>&nbsp;<span class="ident" id="7160851">i</span><span class="op" id="7160852">++</span>&nbsp;<span class="op" id="7160855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7160859">doHilbert</span><span class="op" id="7160868">(</span><span class="ident" id="7160869">nil</span><span class="op" id="7160872">,</span>&nbsp;<span class="num" id="7160874">10</span><span class="op" id="7160876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7160879">}</span><br>
<span class="lineno">160</span><span class="op" id="7160881">}</span>
</div>
</body>
</html>
