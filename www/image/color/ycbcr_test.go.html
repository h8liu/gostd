<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8524580">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8524635">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8524689">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8524740">package</span>&nbsp;<span class="ident" id="8524748">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8524755">import</span>&nbsp;<span class="op" id="8524762">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8524765">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8524775">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8524778">func</span>&nbsp;<span class="ident" id="8524783">delta</span><span class="op" id="8524788">(</span><span class="ident" id="8524789">x</span><span class="op" id="8524790">,</span>&nbsp;<span class="ident" id="8524792">y</span>&nbsp;<span class="builtintype" id="8524794">uint8</span><span class="op" id="8524799">)</span>&nbsp;<span class="builtintype" id="8524801">uint8</span>&nbsp;<span class="op" id="8524807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8524810">if</span>&nbsp;<span class="ident" id="8524813"><a href="/image/color/ycbcr_test.go.html#8524789">x</a></span>&nbsp;<span class="op" id="8524815">&gt;=</span>&nbsp;<span class="ident" id="8524818"><a href="/image/color/ycbcr_test.go.html#8524792">y</a></span>&nbsp;<span class="op" id="8524820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8524824">return</span>&nbsp;<span class="ident" id="8524831"><a href="/image/color/ycbcr_test.go.html#8524789">x</a></span>&nbsp;<span class="op" id="8524833">-</span>&nbsp;<span class="ident" id="8524835"><a href="/image/color/ycbcr_test.go.html#8524792">y</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8524838">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8524841">return</span>&nbsp;<span class="ident" id="8524848"><a href="/image/color/ycbcr_test.go.html#8524792">y</a></span>&nbsp;<span class="op" id="8524850">-</span>&nbsp;<span class="ident" id="8524852"><a href="/image/color/ycbcr_test.go.html#8524789">x</a></span><br>
<span class="lineno"></span><span class="op" id="8524854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8524857">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;subset&nbsp;of&nbsp;RGB&nbsp;space&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;YCbCr&nbsp;and&nbsp;back&nbsp;to&nbsp;within</span><br>
<span class="lineno"></span><span class="comment" id="8524937">//&nbsp;1/256&nbsp;tolerance.</span><br>
<span class="lineno">20</span><span class="keyword" id="8524957">func</span>&nbsp;<span class="ident" id="8524962">TestRoundtrip</span><span class="op" id="8524975">(</span><span class="ident" id="8524976">t</span>&nbsp;<span class="op" id="8524978">*</span><span class="ident" id="8524979"><a href="/image/color/ycbcr_test.go.html#8524765">testing</a></span><span class="op" id="8524986">.</span><span class="ident" id="8524987">T</span><span class="op" id="8524988">)</span>&nbsp;<span class="op" id="8524990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8524993">for</span>&nbsp;<span class="ident" id="8524997">r</span>&nbsp;<span class="op" id="8524999">:=</span>&nbsp;<span class="num" id="8525002">0</span><span class="op" id="8525003">;</span>&nbsp;<span class="ident" id="8525005"><a href="/image/color/ycbcr_test.go.html#8524997">r</a></span>&nbsp;<span class="op" id="8525007">&lt;</span>&nbsp;<span class="num" id="8525009">255</span><span class="op" id="8525012">;</span>&nbsp;<span class="ident" id="8525014"><a href="/image/color/ycbcr_test.go.html#8524997">r</a></span>&nbsp;<span class="op" id="8525016">+=</span>&nbsp;<span class="num" id="8525019">7</span>&nbsp;<span class="op" id="8525021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8525025">for</span>&nbsp;<span class="ident" id="8525029">g</span>&nbsp;<span class="op" id="8525031">:=</span>&nbsp;<span class="num" id="8525034">0</span><span class="op" id="8525035">;</span>&nbsp;<span class="ident" id="8525037"><a href="/image/color/ycbcr_test.go.html#8525029">g</a></span>&nbsp;<span class="op" id="8525039">&lt;</span>&nbsp;<span class="num" id="8525041">255</span><span class="op" id="8525044">;</span>&nbsp;<span class="ident" id="8525046"><a href="/image/color/ycbcr_test.go.html#8525029">g</a></span>&nbsp;<span class="op" id="8525048">+=</span>&nbsp;<span class="num" id="8525051">5</span>&nbsp;<span class="op" id="8525053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8525058">for</span>&nbsp;<span class="ident" id="8525062">b</span>&nbsp;<span class="op" id="8525064">:=</span>&nbsp;<span class="num" id="8525067">0</span><span class="op" id="8525068">;</span>&nbsp;<span class="ident" id="8525070"><a href="/image/color/ycbcr_test.go.html#8525062">b</a></span>&nbsp;<span class="op" id="8525072">&lt;</span>&nbsp;<span class="num" id="8525074">255</span><span class="op" id="8525077">;</span>&nbsp;<span class="ident" id="8525079"><a href="/image/color/ycbcr_test.go.html#8525062">b</a></span>&nbsp;<span class="op" id="8525081">+=</span>&nbsp;<span class="num" id="8525084">3</span>&nbsp;<span class="op" id="8525086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8525092">r0</span><span class="op" id="8525094">,</span>&nbsp;<span class="ident" id="8525096">g0</span><span class="op" id="8525098">,</span>&nbsp;<span class="ident" id="8525100">b0</span>&nbsp;<span class="op" id="8525103">:=</span>&nbsp;<span class="builtintype" id="8525106">uint8</span><span class="op" id="8525111">(</span><span class="ident" id="8525112"><a href="/image/color/ycbcr_test.go.html#8524997">r</a></span><span class="op" id="8525113">)</span><span class="op" id="8525114">,</span>&nbsp;<span class="builtintype" id="8525116">uint8</span><span class="op" id="8525121">(</span><span class="ident" id="8525122"><a href="/image/color/ycbcr_test.go.html#8525029">g</a></span><span class="op" id="8525123">)</span><span class="op" id="8525124">,</span>&nbsp;<span class="builtintype" id="8525126">uint8</span><span class="op" id="8525131">(</span><span class="ident" id="8525132"><a href="/image/color/ycbcr_test.go.html#8525062">b</a></span><span class="op" id="8525133">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8525139">y</span><span class="op" id="8525140">,</span>&nbsp;<span class="ident" id="8525142">cb</span><span class="op" id="8525144">,</span>&nbsp;<span class="ident" id="8525146">cr</span>&nbsp;<span class="op" id="8525149">:=</span>&nbsp;<span class="ident" id="8525152"><a href="/image/color/ycbcr.go.html#3291040">RGBToYCbCr</a></span><span class="op" id="8525162">(</span><span class="ident" id="8525163"><a href="/image/color/ycbcr_test.go.html#8525092">r0</a></span><span class="op" id="8525165">,</span>&nbsp;<span class="ident" id="8525167"><a href="/image/color/ycbcr_test.go.html#8525096">g0</a></span><span class="op" id="8525169">,</span>&nbsp;<span class="ident" id="8525171"><a href="/image/color/ycbcr_test.go.html#8525100">b0</a></span><span class="op" id="8525173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8525179">r1</span><span class="op" id="8525181">,</span>&nbsp;<span class="ident" id="8525183">g1</span><span class="op" id="8525185">,</span>&nbsp;<span class="ident" id="8525187">b1</span>&nbsp;<span class="op" id="8525190">:=</span>&nbsp;<span class="ident" id="8525193"><a href="/image/color/ycbcr.go.html#3291811">YCbCrToRGB</a></span><span class="op" id="8525203">(</span><span class="ident" id="8525204"><a href="/image/color/ycbcr_test.go.html#8525139">y</a></span><span class="op" id="8525205">,</span>&nbsp;<span class="ident" id="8525207"><a href="/image/color/ycbcr_test.go.html#8525142">cb</a></span><span class="op" id="8525209">,</span>&nbsp;<span class="ident" id="8525211"><a href="/image/color/ycbcr_test.go.html#8525146">cr</a></span><span class="op" id="8525213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8525219">if</span>&nbsp;<span class="ident" id="8525222"><a href="/image/color/ycbcr_test.go.html#8524783">delta</a></span><span class="op" id="8525227">(</span><span class="ident" id="8525228"><a href="/image/color/ycbcr_test.go.html#8525092">r0</a></span><span class="op" id="8525230">,</span>&nbsp;<span class="ident" id="8525232"><a href="/image/color/ycbcr_test.go.html#8525179">r1</a></span><span class="op" id="8525234">)</span>&nbsp;<span class="op" id="8525236">&gt;</span>&nbsp;<span class="num" id="8525238">1</span>&nbsp;<span class="op" id="8525240">||</span>&nbsp;<span class="ident" id="8525243"><a href="/image/color/ycbcr_test.go.html#8524783">delta</a></span><span class="op" id="8525248">(</span><span class="ident" id="8525249"><a href="/image/color/ycbcr_test.go.html#8525096">g0</a></span><span class="op" id="8525251">,</span>&nbsp;<span class="ident" id="8525253"><a href="/image/color/ycbcr_test.go.html#8525183">g1</a></span><span class="op" id="8525255">)</span>&nbsp;<span class="op" id="8525257">&gt;</span>&nbsp;<span class="num" id="8525259">1</span>&nbsp;<span class="op" id="8525261">||</span>&nbsp;<span class="ident" id="8525264"><a href="/image/color/ycbcr_test.go.html#8524783">delta</a></span><span class="op" id="8525269">(</span><span class="ident" id="8525270"><a href="/image/color/ycbcr_test.go.html#8525100">b0</a></span><span class="op" id="8525272">,</span>&nbsp;<span class="ident" id="8525274"><a href="/image/color/ycbcr_test.go.html#8525187">b1</a></span><span class="op" id="8525276">)</span>&nbsp;<span class="op" id="8525278">&gt;</span>&nbsp;<span class="num" id="8525280">1</span>&nbsp;<span class="op" id="8525282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8525289"><a href="/image/color/ycbcr_test.go.html#8524976">t</a></span><span class="op" id="8525290">.</span><span class="ident" id="8525291">Fatalf</span><span class="op" id="8525297">(</span><span class="string" id="8525298">&#34;r0,&nbsp;g0,&nbsp;b0&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&nbsp;&nbsp;&nbsp;r1,&nbsp;g1,&nbsp;b1&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8525349">,</span>&nbsp;<span class="ident" id="8525351"><a href="/image/color/ycbcr_test.go.html#8525092">r0</a></span><span class="op" id="8525353">,</span>&nbsp;<span class="ident" id="8525355"><a href="/image/color/ycbcr_test.go.html#8525096">g0</a></span><span class="op" id="8525357">,</span>&nbsp;<span class="ident" id="8525359"><a href="/image/color/ycbcr_test.go.html#8525100">b0</a></span><span class="op" id="8525361">,</span>&nbsp;<span class="ident" id="8525363"><a href="/image/color/ycbcr_test.go.html#8525179">r1</a></span><span class="op" id="8525365">,</span>&nbsp;<span class="ident" id="8525367"><a href="/image/color/ycbcr_test.go.html#8525183">g1</a></span><span class="op" id="8525369">,</span>&nbsp;<span class="ident" id="8525371"><a href="/image/color/ycbcr_test.go.html#8525187">b1</a></span><span class="op" id="8525373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8525379">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8525384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8525388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8525391">}</span><br>
<span class="lineno"></span><span class="op" id="8525393">}</span>
</div>
</body>
</html>
