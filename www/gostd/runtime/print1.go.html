<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1586101">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1586156">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1586210">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1586261">package</span>&nbsp;<span class="ident" id="1586269">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1586278">import</span>&nbsp;<span class="string" id="1586285">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1586295">//&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;that&nbsp;a&nbsp;print&nbsp;of&nbsp;a&nbsp;value&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno">10</span><span class="comment" id="1586354">//&nbsp;should&nbsp;use&nbsp;printhex&nbsp;instead&nbsp;of&nbsp;printuint&nbsp;(decimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1586409">type</span>&nbsp;<span class="ident" id="1586414">hex</span>&nbsp;<span class="ident" id="1586418">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1586426">func</span>&nbsp;<span class="ident" id="1586431">bytes</span><span class="op" id="1586436">(</span><span class="ident" id="1586437">s</span>&nbsp;<span class="builtintype" id="1586439">string</span><span class="op" id="1586445">)</span>&nbsp;<span class="op" id="1586447">(</span><span class="ident" id="1586448">ret</span>&nbsp;<span class="op" id="1586452">[</span><span class="op" id="1586453">]</span><span class="builtintype" id="1586454">byte</span><span class="op" id="1586458">)</span>&nbsp;<span class="op" id="1586460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1586463">rp</span>&nbsp;<span class="op" id="1586466">:=</span>&nbsp;<span class="op" id="1586469">(</span><span class="op" id="1586470">*</span><span class="ident" id="1586471">slice</span><span class="op" id="1586476">)</span><span class="op" id="1586477">(</span><span class="ident" id="1586478">unsafe</span><span class="op" id="1586484">.</span><span class="ident" id="1586485">Pointer</span><span class="op" id="1586492">(</span><span class="op" id="1586493">&amp;</span><span class="ident" id="1586494">ret</span><span class="op" id="1586497">)</span><span class="op" id="1586498">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1586501">sp</span>&nbsp;<span class="op" id="1586504">:=</span>&nbsp;<span class="op" id="1586507">(</span><span class="op" id="1586508">*</span><span class="ident" id="1586509">_string</span><span class="op" id="1586516">)</span><span class="op" id="1586517">(</span><span class="ident" id="1586518">noescape</span><span class="op" id="1586526">(</span><span class="ident" id="1586527">unsafe</span><span class="op" id="1586533">.</span><span class="ident" id="1586534">Pointer</span><span class="op" id="1586541">(</span><span class="op" id="1586542">&amp;</span><span class="ident" id="1586543">s</span><span class="op" id="1586544">)</span><span class="op" id="1586545">)</span><span class="op" id="1586546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1586549">rp</span><span class="op" id="1586551">.</span><span class="ident" id="1586552">array</span>&nbsp;<span class="op" id="1586558">=</span>&nbsp;<span class="ident" id="1586560">sp</span><span class="op" id="1586562">.</span><span class="ident" id="1586563">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1586568">rp</span><span class="op" id="1586570">.</span><span class="builtinfunc" id="1586571">len</span>&nbsp;<span class="op" id="1586575">=</span>&nbsp;<span class="builtintype" id="1586577">uint</span><span class="op" id="1586581">(</span><span class="ident" id="1586582">sp</span><span class="op" id="1586584">.</span><span class="builtinfunc" id="1586585">len</span><span class="op" id="1586588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1586591">rp</span><span class="op" id="1586593">.</span><span class="builtinfunc" id="1586594">cap</span>&nbsp;<span class="op" id="1586598">=</span>&nbsp;<span class="builtintype" id="1586600">uint</span><span class="op" id="1586604">(</span><span class="ident" id="1586605">sp</span><span class="op" id="1586607">.</span><span class="builtinfunc" id="1586608">len</span><span class="op" id="1586611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1586614">return</span><br>
<span class="lineno">20</span><span class="op" id="1586621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1586624">//&nbsp;printf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1586703">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1586774">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno">25</span><span class="comment" id="1586818">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1586831">func</span>&nbsp;<span class="ident" id="1586836">printf</span><span class="op" id="1586842">(</span><span class="ident" id="1586843">s</span>&nbsp;<span class="op" id="1586845">*</span><span class="builtintype" id="1586846">byte</span><span class="op" id="1586850">)</span>&nbsp;<span class="op" id="1586852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1586855">vprintf</span><span class="op" id="1586862">(</span><span class="ident" id="1586863">gostringnocopy</span><span class="op" id="1586877">(</span><span class="ident" id="1586878">s</span><span class="op" id="1586879">)</span><span class="op" id="1586880">,</span>&nbsp;<span class="ident" id="1586882">add</span><span class="op" id="1586885">(</span><span class="ident" id="1586886">unsafe</span><span class="op" id="1586892">.</span><span class="ident" id="1586893">Pointer</span><span class="op" id="1586900">(</span><span class="op" id="1586901">&amp;</span><span class="ident" id="1586902">s</span><span class="op" id="1586903">)</span><span class="op" id="1586904">,</span>&nbsp;<span class="ident" id="1586906">unsafe</span><span class="op" id="1586912">.</span><span class="ident" id="1586913">Sizeof</span><span class="op" id="1586919">(</span><span class="ident" id="1586920">s</span><span class="op" id="1586921">)</span><span class="op" id="1586922">)</span><span class="op" id="1586923">)</span><br>
<span class="lineno"></span><span class="op" id="1586925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1586928">//&nbsp;sprintf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1587008">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1587079">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno"></span><span class="comment" id="1587123">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1587136">func</span>&nbsp;<span class="ident" id="1587141">snprintf</span><span class="op" id="1587149">(</span><span class="ident" id="1587150">dst</span>&nbsp;<span class="op" id="1587154">*</span><span class="builtintype" id="1587155">byte</span><span class="op" id="1587159">,</span>&nbsp;<span class="ident" id="1587161">n</span>&nbsp;<span class="builtintype" id="1587163">int32</span><span class="op" id="1587168">,</span>&nbsp;<span class="ident" id="1587170">s</span>&nbsp;<span class="op" id="1587172">*</span><span class="builtintype" id="1587173">byte</span><span class="op" id="1587177">)</span>&nbsp;<span class="op" id="1587179">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587182">buf</span>&nbsp;<span class="op" id="1587186">:=</span>&nbsp;<span class="op" id="1587189">(</span><span class="op" id="1587190">*</span><span class="op" id="1587191">[</span><span class="num" id="1587192">1</span>&nbsp;<span class="op" id="1587194">&lt;&lt;</span>&nbsp;<span class="num" id="1587197">30</span><span class="op" id="1587199">]</span><span class="builtintype" id="1587200">byte</span><span class="op" id="1587204">)</span><span class="op" id="1587205">(</span><span class="ident" id="1587206">unsafe</span><span class="op" id="1587212">.</span><span class="ident" id="1587213">Pointer</span><span class="op" id="1587220">(</span><span class="ident" id="1587221">dst</span><span class="op" id="1587224">)</span><span class="op" id="1587225">)</span><span class="op" id="1587226">[</span><span class="num" id="1587227">0</span><span class="op" id="1587228">:</span><span class="ident" id="1587229">n</span><span class="op" id="1587230">:</span><span class="ident" id="1587231">n</span><span class="op" id="1587232">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587236">gp</span>&nbsp;<span class="op" id="1587239">:=</span>&nbsp;<span class="ident" id="1587242">getg</span><span class="op" id="1587246">(</span><span class="op" id="1587247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587250">gp</span><span class="op" id="1587252">.</span><span class="ident" id="1587253">writebuf</span>&nbsp;<span class="op" id="1587262">=</span>&nbsp;<span class="ident" id="1587264">buf</span><span class="op" id="1587267">[</span><span class="num" id="1587268">0</span><span class="op" id="1587269">:</span><span class="num" id="1587270">0</span>&nbsp;<span class="op" id="1587272">:</span>&nbsp;<span class="ident" id="1587274">n</span><span class="op" id="1587275">-</span><span class="num" id="1587276">1</span><span class="op" id="1587277">]</span>&nbsp;<span class="comment" id="1587279">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;NUL,&nbsp;this&nbsp;is&nbsp;called&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587325">vprintf</span><span class="op" id="1587332">(</span><span class="ident" id="1587333">gostringnocopy</span><span class="op" id="1587347">(</span><span class="ident" id="1587348">s</span><span class="op" id="1587349">)</span><span class="op" id="1587350">,</span>&nbsp;<span class="ident" id="1587352">add</span><span class="op" id="1587355">(</span><span class="ident" id="1587356">unsafe</span><span class="op" id="1587362">.</span><span class="ident" id="1587363">Pointer</span><span class="op" id="1587370">(</span><span class="op" id="1587371">&amp;</span><span class="ident" id="1587372">s</span><span class="op" id="1587373">)</span><span class="op" id="1587374">,</span>&nbsp;<span class="ident" id="1587376">unsafe</span><span class="op" id="1587382">.</span><span class="ident" id="1587383">Sizeof</span><span class="op" id="1587389">(</span><span class="ident" id="1587390">s</span><span class="op" id="1587391">)</span><span class="op" id="1587392">)</span><span class="op" id="1587393">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587396">buf</span><span class="op" id="1587399">[</span><span class="builtinfunc" id="1587400">len</span><span class="op" id="1587403">(</span><span class="ident" id="1587404">gp</span><span class="op" id="1587406">.</span><span class="ident" id="1587407">writebuf</span><span class="op" id="1587415">)</span><span class="op" id="1587416">]</span>&nbsp;<span class="op" id="1587418">=</span>&nbsp;<span class="string" id="1587420">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587428">gp</span><span class="op" id="1587430">.</span><span class="ident" id="1587431">writebuf</span>&nbsp;<span class="op" id="1587440">=</span>&nbsp;<span class="ident" id="1587442">nil</span><br>
<span class="lineno"></span><span class="op" id="1587446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1587449">//var&nbsp;debuglock&nbsp;mutex</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1587472">//&nbsp;write&nbsp;to&nbsp;goroutine-local&nbsp;buffer&nbsp;if&nbsp;diverting&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="1587528">//&nbsp;or&nbsp;else&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1587555">func</span>&nbsp;<span class="ident" id="1587560">gwrite</span><span class="op" id="1587566">(</span><span class="ident" id="1587567">b</span>&nbsp;<span class="op" id="1587569">[</span><span class="op" id="1587570">]</span><span class="builtintype" id="1587571">byte</span><span class="op" id="1587575">)</span>&nbsp;<span class="op" id="1587577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587580">if</span>&nbsp;<span class="builtinfunc" id="1587583">len</span><span class="op" id="1587586">(</span><span class="ident" id="1587587">b</span><span class="op" id="1587588">)</span>&nbsp;<span class="op" id="1587590">==</span>&nbsp;<span class="num" id="1587593">0</span>&nbsp;<span class="op" id="1587595">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587599">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1587607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587610">gp</span>&nbsp;<span class="op" id="1587613">:=</span>&nbsp;<span class="ident" id="1587616">getg</span><span class="op" id="1587620">(</span><span class="op" id="1587621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587624">if</span>&nbsp;<span class="ident" id="1587627">gp</span>&nbsp;<span class="op" id="1587630">==</span>&nbsp;<span class="ident" id="1587633">nil</span>&nbsp;<span class="op" id="1587637">||</span>&nbsp;<span class="ident" id="1587640">gp</span><span class="op" id="1587642">.</span><span class="ident" id="1587643">writebuf</span>&nbsp;<span class="op" id="1587652">==</span>&nbsp;<span class="ident" id="1587655">nil</span>&nbsp;<span class="op" id="1587659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587663">write</span><span class="op" id="1587668">(</span><span class="num" id="1587669">2</span><span class="op" id="1587670">,</span>&nbsp;<span class="ident" id="1587672">unsafe</span><span class="op" id="1587678">.</span><span class="ident" id="1587679">Pointer</span><span class="op" id="1587686">(</span><span class="op" id="1587687">&amp;</span><span class="ident" id="1587688">b</span><span class="op" id="1587689">[</span><span class="num" id="1587690">0</span><span class="op" id="1587691">]</span><span class="op" id="1587692">)</span><span class="op" id="1587693">,</span>&nbsp;<span class="builtintype" id="1587695">int32</span><span class="op" id="1587700">(</span><span class="builtinfunc" id="1587701">len</span><span class="op" id="1587704">(</span><span class="ident" id="1587705">b</span><span class="op" id="1587706">)</span><span class="op" id="1587707">)</span><span class="op" id="1587708">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587712">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1587720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587724">n</span>&nbsp;<span class="op" id="1587726">:=</span>&nbsp;<span class="builtinfunc" id="1587729">copy</span><span class="op" id="1587733">(</span><span class="ident" id="1587734">gp</span><span class="op" id="1587736">.</span><span class="ident" id="1587737">writebuf</span><span class="op" id="1587745">[</span><span class="builtinfunc" id="1587746">len</span><span class="op" id="1587749">(</span><span class="ident" id="1587750">gp</span><span class="op" id="1587752">.</span><span class="ident" id="1587753">writebuf</span><span class="op" id="1587761">)</span><span class="op" id="1587762">:</span><span class="builtinfunc" id="1587763">cap</span><span class="op" id="1587766">(</span><span class="ident" id="1587767">gp</span><span class="op" id="1587769">.</span><span class="ident" id="1587770">writebuf</span><span class="op" id="1587778">)</span><span class="op" id="1587779">]</span><span class="op" id="1587780">,</span>&nbsp;<span class="ident" id="1587782">b</span><span class="op" id="1587783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587786">gp</span><span class="op" id="1587788">.</span><span class="ident" id="1587789">writebuf</span>&nbsp;<span class="op" id="1587798">=</span>&nbsp;<span class="ident" id="1587800">gp</span><span class="op" id="1587802">.</span><span class="ident" id="1587803">writebuf</span><span class="op" id="1587811">[</span><span class="op" id="1587812">:</span><span class="builtinfunc" id="1587813">len</span><span class="op" id="1587816">(</span><span class="ident" id="1587817">gp</span><span class="op" id="1587819">.</span><span class="ident" id="1587820">writebuf</span><span class="op" id="1587828">)</span><span class="op" id="1587829">+</span><span class="ident" id="1587830">n</span><span class="op" id="1587831">]</span><br>
<span class="lineno">60</span><span class="op" id="1587833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1587836">func</span>&nbsp;<span class="ident" id="1587841">prints</span><span class="op" id="1587847">(</span><span class="ident" id="1587848">s</span>&nbsp;<span class="op" id="1587850">*</span><span class="builtintype" id="1587851">byte</span><span class="op" id="1587855">)</span>&nbsp;<span class="op" id="1587857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587860">b</span>&nbsp;<span class="op" id="1587862">:=</span>&nbsp;<span class="op" id="1587865">(</span><span class="op" id="1587866">*</span><span class="op" id="1587867">[</span><span class="num" id="1587868">1</span>&nbsp;<span class="op" id="1587870">&lt;&lt;</span>&nbsp;<span class="num" id="1587873">30</span><span class="op" id="1587875">]</span><span class="builtintype" id="1587876">byte</span><span class="op" id="1587880">)</span><span class="op" id="1587881">(</span><span class="ident" id="1587882">unsafe</span><span class="op" id="1587888">.</span><span class="ident" id="1587889">Pointer</span><span class="op" id="1587896">(</span><span class="ident" id="1587897">s</span><span class="op" id="1587898">)</span><span class="op" id="1587899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587902">for</span>&nbsp;<span class="ident" id="1587906">i</span>&nbsp;<span class="op" id="1587908">:=</span>&nbsp;<span class="num" id="1587911">0</span><span class="op" id="1587912">;</span>&nbsp;<span class="op" id="1587914">;</span>&nbsp;<span class="ident" id="1587916">i</span><span class="op" id="1587917">++</span>&nbsp;<span class="op" id="1587920">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587924">if</span>&nbsp;<span class="ident" id="1587927">b</span><span class="op" id="1587928">[</span><span class="ident" id="1587929">i</span><span class="op" id="1587930">]</span>&nbsp;<span class="op" id="1587932">==</span>&nbsp;<span class="num" id="1587935">0</span>&nbsp;<span class="op" id="1587937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1587942">gwrite</span><span class="op" id="1587948">(</span><span class="ident" id="1587949">b</span><span class="op" id="1587950">[</span><span class="op" id="1587951">:</span><span class="ident" id="1587952">i</span><span class="op" id="1587953">]</span><span class="op" id="1587954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1587959">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1587968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1587971">}</span><br>
<span class="lineno">70</span><span class="op" id="1587973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1587976">func</span>&nbsp;<span class="ident" id="1587981">printsp</span><span class="op" id="1587988">(</span><span class="op" id="1587989">)</span>&nbsp;<span class="op" id="1587991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1587994">print</span><span class="op" id="1587999">(</span><span class="string" id="1588000">&#34;&nbsp;&#34;</span><span class="op" id="1588003">)</span><br>
<span class="lineno"></span><span class="op" id="1588005">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="1588008">func</span>&nbsp;<span class="ident" id="1588013">printnl</span><span class="op" id="1588020">(</span><span class="op" id="1588021">)</span>&nbsp;<span class="op" id="1588023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1588026">print</span><span class="op" id="1588031">(</span><span class="string" id="1588032">&#34;\n&#34;</span><span class="op" id="1588036">)</span><br>
<span class="lineno"></span><span class="op" id="1588038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="1588041">//&nbsp;Very&nbsp;simple&nbsp;printf.&nbsp;&nbsp;Only&nbsp;for&nbsp;debugging&nbsp;prints.</span><br>
<span class="lineno"></span><span class="comment" id="1588092">//&nbsp;Do&nbsp;not&nbsp;add&nbsp;to&nbsp;this&nbsp;without&nbsp;checking&nbsp;with&nbsp;Rob.</span><br>
<span class="lineno"></span><span class="keyword" id="1588141">func</span>&nbsp;<span class="ident" id="1588146">vprintf</span><span class="op" id="1588153">(</span><span class="ident" id="1588154">str</span>&nbsp;<span class="builtintype" id="1588158">string</span><span class="op" id="1588164">,</span>&nbsp;<span class="ident" id="1588166">arg</span>&nbsp;<span class="ident" id="1588170">unsafe</span><span class="op" id="1588176">.</span><span class="ident" id="1588177">Pointer</span><span class="op" id="1588184">)</span>&nbsp;<span class="op" id="1588186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588189">//lock(&amp;debuglock);</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588211">s</span>&nbsp;<span class="op" id="1588213">:=</span>&nbsp;<span class="ident" id="1588216">bytes</span><span class="op" id="1588221">(</span><span class="ident" id="1588222">str</span><span class="op" id="1588225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588228">start</span>&nbsp;<span class="op" id="1588234">:=</span>&nbsp;<span class="num" id="1588237">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588240">i</span>&nbsp;<span class="op" id="1588242">:=</span>&nbsp;<span class="num" id="1588245">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588248">for</span>&nbsp;<span class="op" id="1588252">;</span>&nbsp;<span class="ident" id="1588254">i</span>&nbsp;<span class="op" id="1588256">&lt;</span>&nbsp;<span class="builtinfunc" id="1588258">len</span><span class="op" id="1588261">(</span><span class="ident" id="1588262">s</span><span class="op" id="1588263">)</span><span class="op" id="1588264">;</span>&nbsp;<span class="ident" id="1588266">i</span><span class="op" id="1588267">++</span>&nbsp;<span class="op" id="1588270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588274">if</span>&nbsp;<span class="ident" id="1588277">s</span><span class="op" id="1588278">[</span><span class="ident" id="1588279">i</span><span class="op" id="1588280">]</span>&nbsp;<span class="op" id="1588282">!=</span>&nbsp;<span class="string" id="1588285">&#39;%&#39;</span>&nbsp;<span class="op" id="1588289">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588294">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1588305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588309">if</span>&nbsp;<span class="ident" id="1588312">i</span>&nbsp;<span class="op" id="1588314">&gt;</span>&nbsp;<span class="ident" id="1588316">start</span>&nbsp;<span class="op" id="1588322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588327">gwrite</span><span class="op" id="1588333">(</span><span class="ident" id="1588334">s</span><span class="op" id="1588335">[</span><span class="ident" id="1588336">start</span><span class="op" id="1588341">:</span><span class="ident" id="1588342">i</span><span class="op" id="1588343">]</span><span class="op" id="1588344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1588348">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588352">if</span>&nbsp;<span class="ident" id="1588355">i</span><span class="op" id="1588356">++</span><span class="op" id="1588358">;</span>&nbsp;<span class="ident" id="1588360">i</span>&nbsp;<span class="op" id="1588362">&gt;=</span>&nbsp;<span class="builtinfunc" id="1588365">len</span><span class="op" id="1588368">(</span><span class="ident" id="1588369">s</span><span class="op" id="1588370">)</span>&nbsp;<span class="op" id="1588372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588377">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1588385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588389">var</span>&nbsp;<span class="ident" id="1588393">siz</span>&nbsp;<span class="builtintype" id="1588397">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588407">switch</span>&nbsp;<span class="ident" id="1588414">s</span><span class="op" id="1588415">[</span><span class="ident" id="1588416">i</span><span class="op" id="1588417">]</span>&nbsp;<span class="op" id="1588419">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588423">case</span>&nbsp;<span class="string" id="1588428">&#39;t&#39;</span><span class="op" id="1588431">,</span>&nbsp;<span class="string" id="1588433">&#39;c&#39;</span><span class="op" id="1588436">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588441">siz</span>&nbsp;<span class="op" id="1588445">=</span>&nbsp;<span class="num" id="1588447">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588451">case</span>&nbsp;<span class="string" id="1588456">&#39;d&#39;</span><span class="op" id="1588459">,</span>&nbsp;<span class="string" id="1588461">&#39;x&#39;</span><span class="op" id="1588464">:</span>&nbsp;<span class="comment" id="1588466">//&nbsp;32-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588479">arg</span>&nbsp;<span class="op" id="1588483">=</span>&nbsp;<span class="ident" id="1588485">roundup</span><span class="op" id="1588492">(</span><span class="ident" id="1588493">arg</span><span class="op" id="1588496">,</span>&nbsp;<span class="num" id="1588498">4</span><span class="op" id="1588499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588504">siz</span>&nbsp;<span class="op" id="1588508">=</span>&nbsp;<span class="num" id="1588510">4</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588514">case</span>&nbsp;<span class="string" id="1588519">&#39;D&#39;</span><span class="op" id="1588522">,</span>&nbsp;<span class="string" id="1588524">&#39;U&#39;</span><span class="op" id="1588527">,</span>&nbsp;<span class="string" id="1588529">&#39;X&#39;</span><span class="op" id="1588532">,</span>&nbsp;<span class="string" id="1588534">&#39;f&#39;</span><span class="op" id="1588537">:</span>&nbsp;<span class="comment" id="1588539">//&nbsp;64-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588552">arg</span>&nbsp;<span class="op" id="1588556">=</span>&nbsp;<span class="ident" id="1588558">roundup</span><span class="op" id="1588565">(</span><span class="ident" id="1588566">arg</span><span class="op" id="1588569">,</span>&nbsp;<span class="ident" id="1588571">unsafe</span><span class="op" id="1588577">.</span><span class="ident" id="1588578">Sizeof</span><span class="op" id="1588584">(</span><span class="ident" id="1588585">uintreg</span><span class="op" id="1588592">(</span><span class="num" id="1588593">0</span><span class="op" id="1588594">)</span><span class="op" id="1588595">)</span><span class="op" id="1588596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588601">siz</span>&nbsp;<span class="op" id="1588605">=</span>&nbsp;<span class="num" id="1588607">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588611">case</span>&nbsp;<span class="string" id="1588616">&#39;C&#39;</span><span class="op" id="1588619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588624">arg</span>&nbsp;<span class="op" id="1588628">=</span>&nbsp;<span class="ident" id="1588630">roundup</span><span class="op" id="1588637">(</span><span class="ident" id="1588638">arg</span><span class="op" id="1588641">,</span>&nbsp;<span class="ident" id="1588643">unsafe</span><span class="op" id="1588649">.</span><span class="ident" id="1588650">Sizeof</span><span class="op" id="1588656">(</span><span class="ident" id="1588657">uintreg</span><span class="op" id="1588664">(</span><span class="num" id="1588665">0</span><span class="op" id="1588666">)</span><span class="op" id="1588667">)</span><span class="op" id="1588668">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588673">siz</span>&nbsp;<span class="op" id="1588677">=</span>&nbsp;<span class="num" id="1588679">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588684">case</span>&nbsp;<span class="string" id="1588689">&#39;p&#39;</span><span class="op" id="1588692">,</span>&nbsp;<span class="string" id="1588694">&#39;s&#39;</span><span class="op" id="1588697">:</span>&nbsp;<span class="comment" id="1588699">//&nbsp;pointer-sized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588719">arg</span>&nbsp;<span class="op" id="1588723">=</span>&nbsp;<span class="ident" id="1588725">roundup</span><span class="op" id="1588732">(</span><span class="ident" id="1588733">arg</span><span class="op" id="1588736">,</span>&nbsp;<span class="ident" id="1588738">unsafe</span><span class="op" id="1588744">.</span><span class="ident" id="1588745">Sizeof</span><span class="op" id="1588751">(</span><span class="builtintype" id="1588752">uintptr</span><span class="op" id="1588759">(</span><span class="num" id="1588760">0</span><span class="op" id="1588761">)</span><span class="op" id="1588762">)</span><span class="op" id="1588763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588768">siz</span>&nbsp;<span class="op" id="1588772">=</span>&nbsp;<span class="ident" id="1588774">unsafe</span><span class="op" id="1588780">.</span><span class="ident" id="1588781">Sizeof</span><span class="op" id="1588787">(</span><span class="builtintype" id="1588788">uintptr</span><span class="op" id="1588795">(</span><span class="num" id="1588796">0</span><span class="op" id="1588797">)</span><span class="op" id="1588798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588802">case</span>&nbsp;<span class="string" id="1588807">&#39;S&#39;</span><span class="op" id="1588810">:</span>&nbsp;<span class="comment" id="1588812">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588845">arg</span>&nbsp;<span class="op" id="1588849">=</span>&nbsp;<span class="ident" id="1588851">roundup</span><span class="op" id="1588858">(</span><span class="ident" id="1588859">arg</span><span class="op" id="1588862">,</span>&nbsp;<span class="ident" id="1588864">unsafe</span><span class="op" id="1588870">.</span><span class="ident" id="1588871">Sizeof</span><span class="op" id="1588877">(</span><span class="builtintype" id="1588878">uintptr</span><span class="op" id="1588885">(</span><span class="num" id="1588886">0</span><span class="op" id="1588887">)</span><span class="op" id="1588888">)</span><span class="op" id="1588889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588894">siz</span>&nbsp;<span class="op" id="1588898">=</span>&nbsp;<span class="ident" id="1588900">unsafe</span><span class="op" id="1588906">.</span><span class="ident" id="1588907">Sizeof</span><span class="op" id="1588913">(</span><span class="builtintype" id="1588914">string</span><span class="op" id="1588920">(</span><span class="string" id="1588921">&#34;&#34;</span><span class="op" id="1588923">)</span><span class="op" id="1588924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588928">case</span>&nbsp;<span class="string" id="1588933">&#39;a&#39;</span><span class="op" id="1588936">:</span>&nbsp;<span class="comment" id="1588938">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588971">arg</span>&nbsp;<span class="op" id="1588975">=</span>&nbsp;<span class="ident" id="1588977">roundup</span><span class="op" id="1588984">(</span><span class="ident" id="1588985">arg</span><span class="op" id="1588988">,</span>&nbsp;<span class="ident" id="1588990">unsafe</span><span class="op" id="1588996">.</span><span class="ident" id="1588997">Sizeof</span><span class="op" id="1589003">(</span><span class="builtintype" id="1589004">uintptr</span><span class="op" id="1589011">(</span><span class="num" id="1589012">0</span><span class="op" id="1589013">)</span><span class="op" id="1589014">)</span><span class="op" id="1589015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589020">siz</span>&nbsp;<span class="op" id="1589024">=</span>&nbsp;<span class="ident" id="1589026">unsafe</span><span class="op" id="1589032">.</span><span class="ident" id="1589033">Sizeof</span><span class="op" id="1589039">(</span><span class="op" id="1589040">[</span><span class="op" id="1589041">]</span><span class="builtintype" id="1589042">byte</span><span class="op" id="1589046">{</span><span class="op" id="1589047">}</span><span class="op" id="1589048">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589052">case</span>&nbsp;<span class="string" id="1589057">&#39;i&#39;</span><span class="op" id="1589060">,</span>&nbsp;<span class="string" id="1589062">&#39;e&#39;</span><span class="op" id="1589065">:</span>&nbsp;<span class="comment" id="1589067">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589100">arg</span>&nbsp;<span class="op" id="1589104">=</span>&nbsp;<span class="ident" id="1589106">roundup</span><span class="op" id="1589113">(</span><span class="ident" id="1589114">arg</span><span class="op" id="1589117">,</span>&nbsp;<span class="ident" id="1589119">unsafe</span><span class="op" id="1589125">.</span><span class="ident" id="1589126">Sizeof</span><span class="op" id="1589132">(</span><span class="builtintype" id="1589133">uintptr</span><span class="op" id="1589140">(</span><span class="num" id="1589141">0</span><span class="op" id="1589142">)</span><span class="op" id="1589143">)</span><span class="op" id="1589144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589149">siz</span>&nbsp;<span class="op" id="1589153">=</span>&nbsp;<span class="ident" id="1589155">unsafe</span><span class="op" id="1589161">.</span><span class="ident" id="1589162">Sizeof</span><span class="op" id="1589168">(</span><span class="keyword" id="1589169">interface</span><span class="op" id="1589178">{</span><span class="op" id="1589179">}</span><span class="op" id="1589180">(</span><span class="ident" id="1589181">nil</span><span class="op" id="1589184">)</span><span class="op" id="1589185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589193">switch</span>&nbsp;<span class="ident" id="1589200">s</span><span class="op" id="1589201">[</span><span class="ident" id="1589202">i</span><span class="op" id="1589203">]</span>&nbsp;<span class="op" id="1589205">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589209">case</span>&nbsp;<span class="string" id="1589214">&#39;a&#39;</span><span class="op" id="1589217">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589222">printslice</span><span class="op" id="1589232">(</span><span class="op" id="1589233">*</span><span class="op" id="1589234">(</span><span class="op" id="1589235">*</span><span class="op" id="1589236">[</span><span class="op" id="1589237">]</span><span class="builtintype" id="1589238">byte</span><span class="op" id="1589242">)</span><span class="op" id="1589243">(</span><span class="ident" id="1589244">arg</span><span class="op" id="1589247">)</span><span class="op" id="1589248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589252">case</span>&nbsp;<span class="string" id="1589257">&#39;c&#39;</span><span class="op" id="1589260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589265">printbyte</span><span class="op" id="1589274">(</span><span class="op" id="1589275">*</span><span class="op" id="1589276">(</span><span class="op" id="1589277">*</span><span class="builtintype" id="1589278">byte</span><span class="op" id="1589282">)</span><span class="op" id="1589283">(</span><span class="ident" id="1589284">arg</span><span class="op" id="1589287">)</span><span class="op" id="1589288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589292">case</span>&nbsp;<span class="string" id="1589297">&#39;d&#39;</span><span class="op" id="1589300">:</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589305">printint</span><span class="op" id="1589313">(</span><span class="ident" id="1589314">int64</span><span class="op" id="1589319">(</span><span class="op" id="1589320">*</span><span class="op" id="1589321">(</span><span class="op" id="1589322">*</span><span class="builtintype" id="1589323">int32</span><span class="op" id="1589328">)</span><span class="op" id="1589329">(</span><span class="ident" id="1589330">arg</span><span class="op" id="1589333">)</span><span class="op" id="1589334">)</span><span class="op" id="1589335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589339">case</span>&nbsp;<span class="string" id="1589344">&#39;D&#39;</span><span class="op" id="1589347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589352">printint</span><span class="op" id="1589360">(</span><span class="ident" id="1589361">int64</span><span class="op" id="1589366">(</span><span class="op" id="1589367">*</span><span class="op" id="1589368">(</span><span class="op" id="1589369">*</span><span class="ident" id="1589370">int64</span><span class="op" id="1589375">)</span><span class="op" id="1589376">(</span><span class="ident" id="1589377">arg</span><span class="op" id="1589380">)</span><span class="op" id="1589381">)</span><span class="op" id="1589382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589386">case</span>&nbsp;<span class="string" id="1589391">&#39;e&#39;</span><span class="op" id="1589394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589399">printeface</span><span class="op" id="1589409">(</span><span class="op" id="1589410">*</span><span class="op" id="1589411">(</span><span class="op" id="1589412">*</span><span class="keyword" id="1589413">interface</span><span class="op" id="1589422">{</span><span class="op" id="1589423">}</span><span class="op" id="1589424">)</span><span class="op" id="1589425">(</span><span class="ident" id="1589426">arg</span><span class="op" id="1589429">)</span><span class="op" id="1589430">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589434">case</span>&nbsp;<span class="string" id="1589439">&#39;f&#39;</span><span class="op" id="1589442">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589447">printfloat</span><span class="op" id="1589457">(</span><span class="op" id="1589458">*</span><span class="op" id="1589459">(</span><span class="op" id="1589460">*</span><span class="builtintype" id="1589461">float64</span><span class="op" id="1589468">)</span><span class="op" id="1589469">(</span><span class="ident" id="1589470">arg</span><span class="op" id="1589473">)</span><span class="op" id="1589474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589478">case</span>&nbsp;<span class="string" id="1589483">&#39;C&#39;</span><span class="op" id="1589486">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589491">printcomplex</span><span class="op" id="1589503">(</span><span class="op" id="1589504">*</span><span class="op" id="1589505">(</span><span class="op" id="1589506">*</span><span class="builtintype" id="1589507">complex128</span><span class="op" id="1589517">)</span><span class="op" id="1589518">(</span><span class="ident" id="1589519">arg</span><span class="op" id="1589522">)</span><span class="op" id="1589523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589527">case</span>&nbsp;<span class="string" id="1589532">&#39;i&#39;</span><span class="op" id="1589535">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589540">printiface</span><span class="op" id="1589550">(</span><span class="op" id="1589551">*</span><span class="op" id="1589552">(</span><span class="op" id="1589553">*</span><span class="ident" id="1589554">fInterface</span><span class="op" id="1589564">)</span><span class="op" id="1589565">(</span><span class="ident" id="1589566">arg</span><span class="op" id="1589569">)</span><span class="op" id="1589570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589574">case</span>&nbsp;<span class="string" id="1589579">&#39;p&#39;</span><span class="op" id="1589582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589587">printpointer</span><span class="op" id="1589599">(</span><span class="op" id="1589600">*</span><span class="op" id="1589601">(</span><span class="op" id="1589602">*</span><span class="ident" id="1589603">unsafe</span><span class="op" id="1589609">.</span><span class="ident" id="1589610">Pointer</span><span class="op" id="1589617">)</span><span class="op" id="1589618">(</span><span class="ident" id="1589619">arg</span><span class="op" id="1589622">)</span><span class="op" id="1589623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589627">case</span>&nbsp;<span class="string" id="1589632">&#39;s&#39;</span><span class="op" id="1589635">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589640">prints</span><span class="op" id="1589646">(</span><span class="op" id="1589647">*</span><span class="op" id="1589648">(</span><span class="op" id="1589649">*</span><span class="op" id="1589650">*</span><span class="builtintype" id="1589651">byte</span><span class="op" id="1589655">)</span><span class="op" id="1589656">(</span><span class="ident" id="1589657">arg</span><span class="op" id="1589660">)</span><span class="op" id="1589661">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589665">case</span>&nbsp;<span class="string" id="1589670">&#39;S&#39;</span><span class="op" id="1589673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589678">printstring</span><span class="op" id="1589689">(</span><span class="op" id="1589690">*</span><span class="op" id="1589691">(</span><span class="op" id="1589692">*</span><span class="builtintype" id="1589693">string</span><span class="op" id="1589699">)</span><span class="op" id="1589700">(</span><span class="ident" id="1589701">arg</span><span class="op" id="1589704">)</span><span class="op" id="1589705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589709">case</span>&nbsp;<span class="string" id="1589714">&#39;t&#39;</span><span class="op" id="1589717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589722">printbool</span><span class="op" id="1589731">(</span><span class="op" id="1589732">*</span><span class="op" id="1589733">(</span><span class="op" id="1589734">*</span><span class="builtintype" id="1589735">bool</span><span class="op" id="1589739">)</span><span class="op" id="1589740">(</span><span class="ident" id="1589741">arg</span><span class="op" id="1589744">)</span><span class="op" id="1589745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589749">case</span>&nbsp;<span class="string" id="1589754">&#39;U&#39;</span><span class="op" id="1589757">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589762">printuint</span><span class="op" id="1589771">(</span><span class="op" id="1589772">*</span><span class="op" id="1589773">(</span><span class="op" id="1589774">*</span><span class="ident" id="1589775">uint64</span><span class="op" id="1589781">)</span><span class="op" id="1589782">(</span><span class="ident" id="1589783">arg</span><span class="op" id="1589786">)</span><span class="op" id="1589787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589791">case</span>&nbsp;<span class="string" id="1589796">&#39;x&#39;</span><span class="op" id="1589799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589804">printhex</span><span class="op" id="1589812">(</span><span class="ident" id="1589813">uint64</span><span class="op" id="1589819">(</span><span class="op" id="1589820">*</span><span class="op" id="1589821">(</span><span class="op" id="1589822">*</span><span class="builtintype" id="1589823">uint32</span><span class="op" id="1589829">)</span><span class="op" id="1589830">(</span><span class="ident" id="1589831">arg</span><span class="op" id="1589834">)</span><span class="op" id="1589835">)</span><span class="op" id="1589836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589840">case</span>&nbsp;<span class="string" id="1589845">&#39;X&#39;</span><span class="op" id="1589848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589853">printhex</span><span class="op" id="1589861">(</span><span class="op" id="1589862">*</span><span class="op" id="1589863">(</span><span class="op" id="1589864">*</span><span class="ident" id="1589865">uint64</span><span class="op" id="1589871">)</span><span class="op" id="1589872">(</span><span class="ident" id="1589873">arg</span><span class="op" id="1589876">)</span><span class="op" id="1589877">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589885">arg</span>&nbsp;<span class="op" id="1589889">=</span>&nbsp;<span class="ident" id="1589891">add</span><span class="op" id="1589894">(</span><span class="ident" id="1589895">arg</span><span class="op" id="1589898">,</span>&nbsp;<span class="ident" id="1589900">siz</span><span class="op" id="1589903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589907">start</span>&nbsp;<span class="op" id="1589913">=</span>&nbsp;<span class="ident" id="1589915">i</span>&nbsp;<span class="op" id="1589917">+</span>&nbsp;<span class="num" id="1589919">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589925">if</span>&nbsp;<span class="ident" id="1589928">start</span>&nbsp;<span class="op" id="1589934">&lt;</span>&nbsp;<span class="ident" id="1589936">i</span>&nbsp;<span class="op" id="1589938">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589942">gwrite</span><span class="op" id="1589948">(</span><span class="ident" id="1589949">s</span><span class="op" id="1589950">[</span><span class="ident" id="1589951">start</span><span class="op" id="1589956">:</span><span class="ident" id="1589957">i</span><span class="op" id="1589958">]</span><span class="op" id="1589959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1589966">//unlock(&amp;debuglock);</span><br>
<span class="lineno"></span><span class="op" id="1589988">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1589991">func</span>&nbsp;<span class="ident" id="1589996">printpc</span><span class="op" id="1590003">(</span><span class="ident" id="1590004">p</span>&nbsp;<span class="ident" id="1590006">unsafe</span><span class="op" id="1590012">.</span><span class="ident" id="1590013">Pointer</span><span class="op" id="1590020">)</span>&nbsp;<span class="op" id="1590022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1590025">print</span><span class="op" id="1590030">(</span><span class="string" id="1590031">&#34;PC=&#34;</span><span class="op" id="1590036">,</span>&nbsp;<span class="ident" id="1590038">hex</span><span class="op" id="1590041">(</span><span class="builtintype" id="1590042">uintptr</span><span class="op" id="1590049">(</span><span class="ident" id="1590050">p</span><span class="op" id="1590051">)</span><span class="op" id="1590052">)</span><span class="op" id="1590053">)</span><br>
<span class="lineno"></span><span class="op" id="1590055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="1590058">func</span>&nbsp;<span class="ident" id="1590063">printbool</span><span class="op" id="1590072">(</span><span class="ident" id="1590073">v</span>&nbsp;<span class="builtintype" id="1590075">bool</span><span class="op" id="1590079">)</span>&nbsp;<span class="op" id="1590081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590084">if</span>&nbsp;<span class="ident" id="1590087">v</span>&nbsp;<span class="op" id="1590089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1590093">print</span><span class="op" id="1590098">(</span><span class="string" id="1590099">&#34;true&#34;</span><span class="op" id="1590105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590108">}</span>&nbsp;<span class="keyword" id="1590110">else</span>&nbsp;<span class="op" id="1590115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1590119">print</span><span class="op" id="1590124">(</span><span class="string" id="1590125">&#34;false&#34;</span><span class="op" id="1590132">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590135">}</span><br>
<span class="lineno"></span><span class="op" id="1590137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1590140">func</span>&nbsp;<span class="ident" id="1590145">printbyte</span><span class="op" id="1590154">(</span><span class="ident" id="1590155">c</span>&nbsp;<span class="builtintype" id="1590157">byte</span><span class="op" id="1590161">)</span>&nbsp;<span class="op" id="1590163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590166">gwrite</span><span class="op" id="1590172">(</span><span class="op" id="1590173">(</span><span class="op" id="1590174">*</span><span class="op" id="1590175">[</span><span class="num" id="1590176">1</span><span class="op" id="1590177">]</span><span class="builtintype" id="1590178">byte</span><span class="op" id="1590182">)</span><span class="op" id="1590183">(</span><span class="ident" id="1590184">unsafe</span><span class="op" id="1590190">.</span><span class="ident" id="1590191">Pointer</span><span class="op" id="1590198">(</span><span class="op" id="1590199">&amp;</span><span class="ident" id="1590200">c</span><span class="op" id="1590201">)</span><span class="op" id="1590202">)</span><span class="op" id="1590203">[</span><span class="op" id="1590204">:</span><span class="op" id="1590205">]</span><span class="op" id="1590206">)</span><br>
<span class="lineno">180</span><span class="op" id="1590208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1590211">func</span>&nbsp;<span class="ident" id="1590216">printfloat</span><span class="op" id="1590226">(</span><span class="ident" id="1590227">v</span>&nbsp;<span class="builtintype" id="1590229">float64</span><span class="op" id="1590236">)</span>&nbsp;<span class="op" id="1590238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590241">switch</span>&nbsp;<span class="op" id="1590248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590251">case</span>&nbsp;<span class="ident" id="1590256">v</span>&nbsp;<span class="op" id="1590258">!=</span>&nbsp;<span class="ident" id="1590261">v</span><span class="op" id="1590262">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1590266">print</span><span class="op" id="1590271">(</span><span class="string" id="1590272">&#34;NaN&#34;</span><span class="op" id="1590277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590281">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590289">case</span>&nbsp;<span class="ident" id="1590294">v</span><span class="op" id="1590295">+</span><span class="ident" id="1590296">v</span>&nbsp;<span class="op" id="1590298">==</span>&nbsp;<span class="ident" id="1590301">v</span>&nbsp;<span class="op" id="1590303">&amp;&amp;</span>&nbsp;<span class="ident" id="1590306">v</span>&nbsp;<span class="op" id="1590308">&gt;</span>&nbsp;<span class="num" id="1590310">0</span><span class="op" id="1590311">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1590315">print</span><span class="op" id="1590320">(</span><span class="string" id="1590321">&#34;+Inf&#34;</span><span class="op" id="1590327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590331">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590339">case</span>&nbsp;<span class="ident" id="1590344">v</span><span class="op" id="1590345">+</span><span class="ident" id="1590346">v</span>&nbsp;<span class="op" id="1590348">==</span>&nbsp;<span class="ident" id="1590351">v</span>&nbsp;<span class="op" id="1590353">&amp;&amp;</span>&nbsp;<span class="ident" id="1590356">v</span>&nbsp;<span class="op" id="1590358">&lt;</span>&nbsp;<span class="num" id="1590360">0</span><span class="op" id="1590361">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1590365">print</span><span class="op" id="1590370">(</span><span class="string" id="1590371">&#34;-Inf&#34;</span><span class="op" id="1590377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590381">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590393">const</span>&nbsp;<span class="ident" id="1590399">n</span>&nbsp;<span class="op" id="1590401">=</span>&nbsp;<span class="num" id="1590403">7</span>&nbsp;<span class="comment" id="1590405">//&nbsp;digits&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590424">var</span>&nbsp;<span class="ident" id="1590428">buf</span>&nbsp;<span class="op" id="1590432">[</span><span class="ident" id="1590433">n</span>&nbsp;<span class="op" id="1590435">+</span>&nbsp;<span class="num" id="1590437">7</span><span class="op" id="1590438">]</span><span class="builtintype" id="1590439">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590445">buf</span><span class="op" id="1590448">[</span><span class="num" id="1590449">0</span><span class="op" id="1590450">]</span>&nbsp;<span class="op" id="1590452">=</span>&nbsp;<span class="string" id="1590454">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590459">e</span>&nbsp;<span class="op" id="1590461">:=</span>&nbsp;<span class="num" id="1590464">0</span>&nbsp;<span class="comment" id="1590466">//&nbsp;exp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590474">if</span>&nbsp;<span class="ident" id="1590477">v</span>&nbsp;<span class="op" id="1590479">==</span>&nbsp;<span class="num" id="1590482">0</span>&nbsp;<span class="op" id="1590484">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590488">if</span>&nbsp;<span class="num" id="1590491">1</span><span class="op" id="1590492">/</span><span class="ident" id="1590493">v</span>&nbsp;<span class="op" id="1590495">&lt;</span>&nbsp;<span class="num" id="1590497">0</span>&nbsp;<span class="op" id="1590499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590504">buf</span><span class="op" id="1590507">[</span><span class="num" id="1590508">0</span><span class="op" id="1590509">]</span>&nbsp;<span class="op" id="1590511">=</span>&nbsp;<span class="string" id="1590513">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590522">}</span>&nbsp;<span class="keyword" id="1590524">else</span>&nbsp;<span class="op" id="1590529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590533">if</span>&nbsp;<span class="ident" id="1590536">v</span>&nbsp;<span class="op" id="1590538">&lt;</span>&nbsp;<span class="num" id="1590540">0</span>&nbsp;<span class="op" id="1590542">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590547">v</span>&nbsp;<span class="op" id="1590549">=</span>&nbsp;<span class="op" id="1590551">-</span><span class="ident" id="1590552">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590557">buf</span><span class="op" id="1590560">[</span><span class="num" id="1590561">0</span><span class="op" id="1590562">]</span>&nbsp;<span class="op" id="1590564">=</span>&nbsp;<span class="string" id="1590566">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1590577">//&nbsp;normalize</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590592">for</span>&nbsp;<span class="ident" id="1590596">v</span>&nbsp;<span class="op" id="1590598">&gt;=</span>&nbsp;<span class="num" id="1590601">10</span>&nbsp;<span class="op" id="1590604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590609">e</span><span class="op" id="1590610">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590616">v</span>&nbsp;<span class="op" id="1590618">/=</span>&nbsp;<span class="num" id="1590621">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590630">for</span>&nbsp;<span class="ident" id="1590634">v</span>&nbsp;<span class="op" id="1590636">&lt;</span>&nbsp;<span class="num" id="1590638">1</span>&nbsp;<span class="op" id="1590640">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590645">e</span><span class="op" id="1590646">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590652">v</span>&nbsp;<span class="op" id="1590654">*=</span>&nbsp;<span class="num" id="1590657">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1590667">//&nbsp;round</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590678">h</span>&nbsp;<span class="op" id="1590680">:=</span>&nbsp;<span class="num" id="1590683">5.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590689">for</span>&nbsp;<span class="ident" id="1590693">i</span>&nbsp;<span class="op" id="1590695">:=</span>&nbsp;<span class="num" id="1590698">0</span><span class="op" id="1590699">;</span>&nbsp;<span class="ident" id="1590701">i</span>&nbsp;<span class="op" id="1590703">&lt;</span>&nbsp;<span class="ident" id="1590705">n</span><span class="op" id="1590706">;</span>&nbsp;<span class="ident" id="1590708">i</span><span class="op" id="1590709">++</span>&nbsp;<span class="op" id="1590712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590717">h</span>&nbsp;<span class="op" id="1590719">/=</span>&nbsp;<span class="num" id="1590722">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590731">v</span>&nbsp;<span class="op" id="1590733">+=</span>&nbsp;<span class="ident" id="1590736">h</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590740">if</span>&nbsp;<span class="ident" id="1590743">v</span>&nbsp;<span class="op" id="1590745">&gt;=</span>&nbsp;<span class="num" id="1590748">10</span>&nbsp;<span class="op" id="1590751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590756">e</span><span class="op" id="1590757">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590763">v</span>&nbsp;<span class="op" id="1590765">/=</span>&nbsp;<span class="num" id="1590768">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590776">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1590780">//&nbsp;format&nbsp;+d.dddd+edd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590803">for</span>&nbsp;<span class="ident" id="1590807">i</span>&nbsp;<span class="op" id="1590809">:=</span>&nbsp;<span class="num" id="1590812">0</span><span class="op" id="1590813">;</span>&nbsp;<span class="ident" id="1590815">i</span>&nbsp;<span class="op" id="1590817">&lt;</span>&nbsp;<span class="ident" id="1590819">n</span><span class="op" id="1590820">;</span>&nbsp;<span class="ident" id="1590822">i</span><span class="op" id="1590823">++</span>&nbsp;<span class="op" id="1590826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590830">s</span>&nbsp;<span class="op" id="1590832">:=</span>&nbsp;<span class="builtintype" id="1590835">int</span><span class="op" id="1590838">(</span><span class="ident" id="1590839">v</span><span class="op" id="1590840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590844">buf</span><span class="op" id="1590847">[</span><span class="ident" id="1590848">i</span><span class="op" id="1590849">+</span><span class="num" id="1590850">2</span><span class="op" id="1590851">]</span>&nbsp;<span class="op" id="1590853">=</span>&nbsp;<span class="builtintype" id="1590855">byte</span><span class="op" id="1590859">(</span><span class="ident" id="1590860">s</span>&nbsp;<span class="op" id="1590862">+</span>&nbsp;<span class="string" id="1590864">&#39;0&#39;</span><span class="op" id="1590867">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590871">v</span>&nbsp;<span class="op" id="1590873">-=</span>&nbsp;<span class="builtintype" id="1590876">float64</span><span class="op" id="1590883">(</span><span class="ident" id="1590884">s</span><span class="op" id="1590885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590889">v</span>&nbsp;<span class="op" id="1590891">*=</span>&nbsp;<span class="num" id="1590894">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1590898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590901">buf</span><span class="op" id="1590904">[</span><span class="num" id="1590905">1</span><span class="op" id="1590906">]</span>&nbsp;<span class="op" id="1590908">=</span>&nbsp;<span class="ident" id="1590910">buf</span><span class="op" id="1590913">[</span><span class="num" id="1590914">2</span><span class="op" id="1590915">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590918">buf</span><span class="op" id="1590921">[</span><span class="num" id="1590922">2</span><span class="op" id="1590923">]</span>&nbsp;<span class="op" id="1590925">=</span>&nbsp;<span class="string" id="1590927">&#39;.&#39;</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590933">buf</span><span class="op" id="1590936">[</span><span class="ident" id="1590937">n</span><span class="op" id="1590938">+</span><span class="num" id="1590939">2</span><span class="op" id="1590940">]</span>&nbsp;<span class="op" id="1590942">=</span>&nbsp;<span class="string" id="1590944">&#39;e&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590949">buf</span><span class="op" id="1590952">[</span><span class="ident" id="1590953">n</span><span class="op" id="1590954">+</span><span class="num" id="1590955">3</span><span class="op" id="1590956">]</span>&nbsp;<span class="op" id="1590958">=</span>&nbsp;<span class="string" id="1590960">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590965">if</span>&nbsp;<span class="ident" id="1590968">e</span>&nbsp;<span class="op" id="1590970">&lt;</span>&nbsp;<span class="num" id="1590972">0</span>&nbsp;<span class="op" id="1590974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590978">e</span>&nbsp;<span class="op" id="1590980">=</span>&nbsp;<span class="op" id="1590982">-</span><span class="ident" id="1590983">e</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590987">buf</span><span class="op" id="1590990">[</span><span class="ident" id="1590991">n</span><span class="op" id="1590992">+</span><span class="num" id="1590993">3</span><span class="op" id="1590994">]</span>&nbsp;<span class="op" id="1590996">=</span>&nbsp;<span class="string" id="1590998">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591007">buf</span><span class="op" id="1591010">[</span><span class="ident" id="1591011">n</span><span class="op" id="1591012">+</span><span class="num" id="1591013">4</span><span class="op" id="1591014">]</span>&nbsp;<span class="op" id="1591016">=</span>&nbsp;<span class="builtintype" id="1591018">byte</span><span class="op" id="1591022">(</span><span class="ident" id="1591023">e</span><span class="op" id="1591024">/</span><span class="num" id="1591025">100</span><span class="op" id="1591028">)</span>&nbsp;<span class="op" id="1591030">+</span>&nbsp;<span class="string" id="1591032">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591037">buf</span><span class="op" id="1591040">[</span><span class="ident" id="1591041">n</span><span class="op" id="1591042">+</span><span class="num" id="1591043">5</span><span class="op" id="1591044">]</span>&nbsp;<span class="op" id="1591046">=</span>&nbsp;<span class="builtintype" id="1591048">byte</span><span class="op" id="1591052">(</span><span class="ident" id="1591053">e</span><span class="op" id="1591054">/</span><span class="num" id="1591055">10</span><span class="op" id="1591057">)</span><span class="op" id="1591058">%</span><span class="num" id="1591059">10</span>&nbsp;<span class="op" id="1591062">+</span>&nbsp;<span class="string" id="1591064">&#39;0&#39;</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591069">buf</span><span class="op" id="1591072">[</span><span class="ident" id="1591073">n</span><span class="op" id="1591074">+</span><span class="num" id="1591075">6</span><span class="op" id="1591076">]</span>&nbsp;<span class="op" id="1591078">=</span>&nbsp;<span class="builtintype" id="1591080">byte</span><span class="op" id="1591084">(</span><span class="ident" id="1591085">e</span><span class="op" id="1591086">%</span><span class="num" id="1591087">10</span><span class="op" id="1591089">)</span>&nbsp;<span class="op" id="1591091">+</span>&nbsp;<span class="string" id="1591093">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591098">gwrite</span><span class="op" id="1591104">(</span><span class="ident" id="1591105">buf</span><span class="op" id="1591108">[</span><span class="op" id="1591109">:</span><span class="op" id="1591110">]</span><span class="op" id="1591111">)</span><br>
<span class="lineno"></span><span class="op" id="1591113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1591116">func</span>&nbsp;<span class="ident" id="1591121">printcomplex</span><span class="op" id="1591133">(</span><span class="ident" id="1591134">c</span>&nbsp;<span class="builtintype" id="1591136">complex128</span><span class="op" id="1591146">)</span>&nbsp;<span class="op" id="1591148">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1591151">print</span><span class="op" id="1591156">(</span><span class="string" id="1591157">&#34;(&#34;</span><span class="op" id="1591160">,</span>&nbsp;<span class="builtinfunc" id="1591162">real</span><span class="op" id="1591166">(</span><span class="ident" id="1591167">c</span><span class="op" id="1591168">)</span><span class="op" id="1591169">,</span>&nbsp;<span class="builtinfunc" id="1591171">imag</span><span class="op" id="1591175">(</span><span class="ident" id="1591176">c</span><span class="op" id="1591177">)</span><span class="op" id="1591178">,</span>&nbsp;<span class="string" id="1591180">&#34;i)&#34;</span><span class="op" id="1591184">)</span><br>
<span class="lineno"></span><span class="op" id="1591186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1591189">func</span>&nbsp;<span class="ident" id="1591194">printuint</span><span class="op" id="1591203">(</span><span class="ident" id="1591204">v</span>&nbsp;<span class="ident" id="1591206">uint64</span><span class="op" id="1591212">)</span>&nbsp;<span class="op" id="1591214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591217">var</span>&nbsp;<span class="ident" id="1591221">buf</span>&nbsp;<span class="op" id="1591225">[</span><span class="num" id="1591226">100</span><span class="op" id="1591229">]</span><span class="builtintype" id="1591230">byte</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591236">i</span>&nbsp;<span class="op" id="1591238">:=</span>&nbsp;<span class="builtinfunc" id="1591241">len</span><span class="op" id="1591244">(</span><span class="ident" id="1591245">buf</span><span class="op" id="1591248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591251">for</span>&nbsp;<span class="ident" id="1591255">i</span><span class="op" id="1591256">--</span><span class="op" id="1591258">;</span>&nbsp;<span class="ident" id="1591260">i</span>&nbsp;<span class="op" id="1591262">&gt;</span>&nbsp;<span class="num" id="1591264">0</span><span class="op" id="1591265">;</span>&nbsp;<span class="ident" id="1591267">i</span><span class="op" id="1591268">--</span>&nbsp;<span class="op" id="1591271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591275">buf</span><span class="op" id="1591278">[</span><span class="ident" id="1591279">i</span><span class="op" id="1591280">]</span>&nbsp;<span class="op" id="1591282">=</span>&nbsp;<span class="builtintype" id="1591284">byte</span><span class="op" id="1591288">(</span><span class="ident" id="1591289">v</span><span class="op" id="1591290">%</span><span class="num" id="1591291">10</span>&nbsp;<span class="op" id="1591294">+</span>&nbsp;<span class="string" id="1591296">&#39;0&#39;</span><span class="op" id="1591299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591303">if</span>&nbsp;<span class="ident" id="1591306">v</span>&nbsp;<span class="op" id="1591308">&lt;</span>&nbsp;<span class="num" id="1591310">10</span>&nbsp;<span class="op" id="1591313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591318">break</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591330">v</span>&nbsp;<span class="op" id="1591332">/=</span>&nbsp;<span class="num" id="1591335">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591342">gwrite</span><span class="op" id="1591348">(</span><span class="ident" id="1591349">buf</span><span class="op" id="1591352">[</span><span class="ident" id="1591353">i</span><span class="op" id="1591354">:</span><span class="op" id="1591355">]</span><span class="op" id="1591356">)</span><br>
<span class="lineno"></span><span class="op" id="1591358">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1591361">func</span>&nbsp;<span class="ident" id="1591366">printint</span><span class="op" id="1591374">(</span><span class="ident" id="1591375">v</span>&nbsp;<span class="ident" id="1591377">int64</span><span class="op" id="1591382">)</span>&nbsp;<span class="op" id="1591384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591387">if</span>&nbsp;<span class="ident" id="1591390">v</span>&nbsp;<span class="op" id="1591392">&lt;</span>&nbsp;<span class="num" id="1591394">0</span>&nbsp;<span class="op" id="1591396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1591400">print</span><span class="op" id="1591405">(</span><span class="string" id="1591406">&#34;-&#34;</span><span class="op" id="1591409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591413">v</span>&nbsp;<span class="op" id="1591415">=</span>&nbsp;<span class="op" id="1591417">-</span><span class="ident" id="1591418">v</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591424">printuint</span><span class="op" id="1591433">(</span><span class="ident" id="1591434">uint64</span><span class="op" id="1591440">(</span><span class="ident" id="1591441">v</span><span class="op" id="1591442">)</span><span class="op" id="1591443">)</span><br>
<span class="lineno"></span><span class="op" id="1591445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1591448">func</span>&nbsp;<span class="ident" id="1591453">printhex</span><span class="op" id="1591461">(</span><span class="ident" id="1591462">v</span>&nbsp;<span class="ident" id="1591464">uint64</span><span class="op" id="1591470">)</span>&nbsp;<span class="op" id="1591472">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591475">const</span>&nbsp;<span class="ident" id="1591481">dig</span>&nbsp;<span class="op" id="1591485">=</span>&nbsp;<span class="string" id="1591487">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591507">var</span>&nbsp;<span class="ident" id="1591511">buf</span>&nbsp;<span class="op" id="1591515">[</span><span class="num" id="1591516">100</span><span class="op" id="1591519">]</span><span class="builtintype" id="1591520">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591526">i</span>&nbsp;<span class="op" id="1591528">:=</span>&nbsp;<span class="builtinfunc" id="1591531">len</span><span class="op" id="1591534">(</span><span class="ident" id="1591535">buf</span><span class="op" id="1591538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591541">for</span>&nbsp;<span class="ident" id="1591545">i</span><span class="op" id="1591546">--</span><span class="op" id="1591548">;</span>&nbsp;<span class="ident" id="1591550">i</span>&nbsp;<span class="op" id="1591552">&gt;</span>&nbsp;<span class="num" id="1591554">0</span><span class="op" id="1591555">;</span>&nbsp;<span class="ident" id="1591557">i</span><span class="op" id="1591558">--</span>&nbsp;<span class="op" id="1591561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591565">buf</span><span class="op" id="1591568">[</span><span class="ident" id="1591569">i</span><span class="op" id="1591570">]</span>&nbsp;<span class="op" id="1591572">=</span>&nbsp;<span class="ident" id="1591574">dig</span><span class="op" id="1591577">[</span><span class="ident" id="1591578">v</span><span class="op" id="1591579">%</span><span class="num" id="1591580">16</span><span class="op" id="1591582">]</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591586">if</span>&nbsp;<span class="ident" id="1591589">v</span>&nbsp;<span class="op" id="1591591">&lt;</span>&nbsp;<span class="num" id="1591593">16</span>&nbsp;<span class="op" id="1591596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591601">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591613">v</span>&nbsp;<span class="op" id="1591615">/=</span>&nbsp;<span class="num" id="1591618">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591622">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591625">i</span><span class="op" id="1591626">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591630">buf</span><span class="op" id="1591633">[</span><span class="ident" id="1591634">i</span><span class="op" id="1591635">]</span>&nbsp;<span class="op" id="1591637">=</span>&nbsp;<span class="string" id="1591639">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591644">i</span><span class="op" id="1591645">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591649">buf</span><span class="op" id="1591652">[</span><span class="ident" id="1591653">i</span><span class="op" id="1591654">]</span>&nbsp;<span class="op" id="1591656">=</span>&nbsp;<span class="string" id="1591658">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591663">gwrite</span><span class="op" id="1591669">(</span><span class="ident" id="1591670">buf</span><span class="op" id="1591673">[</span><span class="ident" id="1591674">i</span><span class="op" id="1591675">:</span><span class="op" id="1591676">]</span><span class="op" id="1591677">)</span><br>
<span class="lineno">295</span><span class="op" id="1591679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1591682">func</span>&nbsp;<span class="ident" id="1591687">printpointer</span><span class="op" id="1591699">(</span><span class="ident" id="1591700">p</span>&nbsp;<span class="ident" id="1591702">unsafe</span><span class="op" id="1591708">.</span><span class="ident" id="1591709">Pointer</span><span class="op" id="1591716">)</span>&nbsp;<span class="op" id="1591718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591721">printhex</span><span class="op" id="1591729">(</span><span class="ident" id="1591730">uint64</span><span class="op" id="1591736">(</span><span class="builtintype" id="1591737">uintptr</span><span class="op" id="1591744">(</span><span class="ident" id="1591745">p</span><span class="op" id="1591746">)</span><span class="op" id="1591747">)</span><span class="op" id="1591748">)</span><br>
<span class="lineno"></span><span class="op" id="1591750">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1591753">func</span>&nbsp;<span class="ident" id="1591758">printstring</span><span class="op" id="1591769">(</span><span class="ident" id="1591770">s</span>&nbsp;<span class="builtintype" id="1591772">string</span><span class="op" id="1591778">)</span>&nbsp;<span class="op" id="1591780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591783">if</span>&nbsp;<span class="builtintype" id="1591786">uintptr</span><span class="op" id="1591793">(</span><span class="builtinfunc" id="1591794">len</span><span class="op" id="1591797">(</span><span class="ident" id="1591798">s</span><span class="op" id="1591799">)</span><span class="op" id="1591800">)</span>&nbsp;<span class="op" id="1591802">&gt;</span>&nbsp;<span class="ident" id="1591804">maxstring</span>&nbsp;<span class="op" id="1591814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591818">gwrite</span><span class="op" id="1591824">(</span><span class="ident" id="1591825">bytes</span><span class="op" id="1591830">(</span><span class="string" id="1591831">&#34;[string&nbsp;too&nbsp;long]&#34;</span><span class="op" id="1591850">)</span><span class="op" id="1591851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591855">return</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591866">gwrite</span><span class="op" id="1591872">(</span><span class="ident" id="1591873">bytes</span><span class="op" id="1591878">(</span><span class="ident" id="1591879">s</span><span class="op" id="1591880">)</span><span class="op" id="1591881">)</span><br>
<span class="lineno"></span><span class="op" id="1591883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1591886">func</span>&nbsp;<span class="ident" id="1591891">printslice</span><span class="op" id="1591901">(</span><span class="ident" id="1591902">s</span>&nbsp;<span class="op" id="1591904">[</span><span class="op" id="1591905">]</span><span class="builtintype" id="1591906">byte</span><span class="op" id="1591910">)</span>&nbsp;<span class="op" id="1591912">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591915">sp</span>&nbsp;<span class="op" id="1591918">:=</span>&nbsp;<span class="op" id="1591921">(</span><span class="op" id="1591922">*</span><span class="ident" id="1591923">slice</span><span class="op" id="1591928">)</span><span class="op" id="1591929">(</span><span class="ident" id="1591930">unsafe</span><span class="op" id="1591936">.</span><span class="ident" id="1591937">Pointer</span><span class="op" id="1591944">(</span><span class="op" id="1591945">&amp;</span><span class="ident" id="1591946">s</span><span class="op" id="1591947">)</span><span class="op" id="1591948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1591951">print</span><span class="op" id="1591956">(</span><span class="string" id="1591957">&#34;[&#34;</span><span class="op" id="1591960">,</span>&nbsp;<span class="builtinfunc" id="1591962">len</span><span class="op" id="1591965">(</span><span class="ident" id="1591966">s</span><span class="op" id="1591967">)</span><span class="op" id="1591968">,</span>&nbsp;<span class="string" id="1591970">&#34;/&#34;</span><span class="op" id="1591973">,</span>&nbsp;<span class="builtinfunc" id="1591975">cap</span><span class="op" id="1591978">(</span><span class="ident" id="1591979">s</span><span class="op" id="1591980">)</span><span class="op" id="1591981">,</span>&nbsp;<span class="string" id="1591983">&#34;]&#34;</span><span class="op" id="1591986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591989">printpointer</span><span class="op" id="1592001">(</span><span class="ident" id="1592002">unsafe</span><span class="op" id="1592008">.</span><span class="ident" id="1592009">Pointer</span><span class="op" id="1592016">(</span><span class="ident" id="1592017">sp</span><span class="op" id="1592019">.</span><span class="ident" id="1592020">array</span><span class="op" id="1592025">)</span><span class="op" id="1592026">)</span><br>
<span class="lineno"></span><span class="op" id="1592028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1592031">func</span>&nbsp;<span class="ident" id="1592036">printeface</span><span class="op" id="1592046">(</span><span class="ident" id="1592047">e</span>&nbsp;<span class="keyword" id="1592049">interface</span><span class="op" id="1592058">{</span><span class="op" id="1592059">}</span><span class="op" id="1592060">)</span>&nbsp;<span class="op" id="1592062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592065">ep</span>&nbsp;<span class="op" id="1592068">:=</span>&nbsp;<span class="op" id="1592071">(</span><span class="op" id="1592072">*</span><span class="ident" id="1592073">eface</span><span class="op" id="1592078">)</span><span class="op" id="1592079">(</span><span class="ident" id="1592080">unsafe</span><span class="op" id="1592086">.</span><span class="ident" id="1592087">Pointer</span><span class="op" id="1592094">(</span><span class="op" id="1592095">&amp;</span><span class="ident" id="1592096">e</span><span class="op" id="1592097">)</span><span class="op" id="1592098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1592101">print</span><span class="op" id="1592106">(</span><span class="string" id="1592107">&#34;(&#34;</span><span class="op" id="1592110">,</span>&nbsp;<span class="ident" id="1592112">ep</span><span class="op" id="1592114">.</span><span class="ident" id="1592115">_type</span><span class="op" id="1592120">,</span>&nbsp;<span class="string" id="1592122">&#34;,&#34;</span><span class="op" id="1592125">,</span>&nbsp;<span class="ident" id="1592127">ep</span><span class="op" id="1592129">.</span><span class="ident" id="1592130">data</span><span class="op" id="1592134">,</span>&nbsp;<span class="string" id="1592136">&#34;)&#34;</span><span class="op" id="1592139">)</span><br>
<span class="lineno"></span><span class="op" id="1592141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1592144">func</span>&nbsp;<span class="ident" id="1592149">printiface</span><span class="op" id="1592159">(</span><span class="ident" id="1592160">i</span>&nbsp;<span class="ident" id="1592162">fInterface</span><span class="op" id="1592172">)</span>&nbsp;<span class="op" id="1592174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592177">ip</span>&nbsp;<span class="op" id="1592180">:=</span>&nbsp;<span class="op" id="1592183">(</span><span class="op" id="1592184">*</span><span class="ident" id="1592185">iface</span><span class="op" id="1592190">)</span><span class="op" id="1592191">(</span><span class="ident" id="1592192">unsafe</span><span class="op" id="1592198">.</span><span class="ident" id="1592199">Pointer</span><span class="op" id="1592206">(</span><span class="op" id="1592207">&amp;</span><span class="ident" id="1592208">i</span><span class="op" id="1592209">)</span><span class="op" id="1592210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1592213">print</span><span class="op" id="1592218">(</span><span class="string" id="1592219">&#34;(&#34;</span><span class="op" id="1592222">,</span>&nbsp;<span class="ident" id="1592224">ip</span><span class="op" id="1592226">.</span><span class="ident" id="1592227">tab</span><span class="op" id="1592230">,</span>&nbsp;<span class="string" id="1592232">&#34;,&#34;</span><span class="op" id="1592235">,</span>&nbsp;<span class="ident" id="1592237">ip</span><span class="op" id="1592239">.</span><span class="ident" id="1592240">data</span><span class="op" id="1592244">,</span>&nbsp;<span class="string" id="1592246">&#34;)&#34;</span><span class="op" id="1592249">)</span><br>
<span class="lineno"></span><span class="op" id="1592251">}</span>
</div>
</body>
</html>
