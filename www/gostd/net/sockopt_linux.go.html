<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html" class="current">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3366684">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3366740">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3366794">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3366845">package</span>&nbsp;<span class="ident" id="3366853">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3366858">import</span>&nbsp;<span class="op" id="3366865">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3366868">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3366874">&#34;syscall&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3366884">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3366887">func</span>&nbsp;<span class="ident" id="3366892">setDefaultSockopts</span><span class="op" id="3366910">(</span><span class="ident" id="3366911">s</span><span class="op" id="3366912">,</span>&nbsp;<span class="ident" id="3366914">family</span><span class="op" id="3366920">,</span>&nbsp;<span class="ident" id="3366922">sotype</span>&nbsp;<span class="builtintype" id="3366929">int</span><span class="op" id="3366932">,</span>&nbsp;<span class="ident" id="3366934">ipv6only</span>&nbsp;<span class="builtintype" id="3366943">bool</span><span class="op" id="3366947">)</span>&nbsp;<span class="builtintype" id="3366949">error</span>&nbsp;<span class="op" id="3366955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3366958">if</span>&nbsp;<span class="ident" id="3366961"><a href="/gostd/net/sockopt_linux.go.html#3366914">family</a></span>&nbsp;<span class="op" id="3366968">==</span>&nbsp;<span class="ident" id="3366971"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3366978">.</span><span class="ident" id="3366979"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551284">AF_INET6</a></span>&nbsp;<span class="op" id="3366988">&amp;&amp;</span>&nbsp;<span class="ident" id="3366991"><a href="/gostd/net/sockopt_linux.go.html#3366922">sotype</a></span>&nbsp;<span class="op" id="3366998">!=</span>&nbsp;<span class="ident" id="3367001"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367008">.</span><span class="ident" id="3367009"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2591910">SOCK_RAW</a></span>&nbsp;<span class="op" id="3367018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367022">//&nbsp;Allow&nbsp;both&nbsp;IP&nbsp;versions&nbsp;even&nbsp;if&nbsp;the&nbsp;OS&nbsp;default</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367073">//&nbsp;is&nbsp;otherwise.&nbsp;&nbsp;Note&nbsp;that&nbsp;some&nbsp;operating&nbsp;systems</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367126">//&nbsp;never&nbsp;admit&nbsp;this&nbsp;option.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3367156"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367163">.</span><span class="ident" id="3367164"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3367177">(</span><span class="ident" id="3367178"><a href="/gostd/net/sockopt_linux.go.html#3366911">s</a></span><span class="op" id="3367179">,</span>&nbsp;<span class="ident" id="3367181"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367188">.</span><span class="ident" id="3367189"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2566248">IPPROTO_IPV6</a></span><span class="op" id="3367201">,</span>&nbsp;<span class="ident" id="3367203"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367210">.</span><span class="ident" id="3367211"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2568689">IPV6_V6ONLY</a></span><span class="op" id="3367222">,</span>&nbsp;<span class="ident" id="3367224"><a href="/gostd/net/sockopt_posix.go.html#3368157">boolint</a></span><span class="op" id="3367231">(</span><span class="ident" id="3367232"><a href="/gostd/net/sockopt_linux.go.html#3366934">ipv6only</a></span><span class="op" id="3367240">)</span><span class="op" id="3367241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3367244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367247">//&nbsp;Allow&nbsp;broadcast.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3367268">return</span>&nbsp;<span class="ident" id="3367275"><a href="/gostd/net/sockopt_linux.go.html#3366868">os</a></span><span class="op" id="3367277">.</span><span class="ident" id="3367278"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3367293">(</span><span class="string" id="3367294">&#34;setsockopt&#34;</span><span class="op" id="3367306">,</span>&nbsp;<span class="ident" id="3367308"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367315">.</span><span class="ident" id="3367316"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3367329">(</span><span class="ident" id="3367330"><a href="/gostd/net/sockopt_linux.go.html#3366911">s</a></span><span class="op" id="3367331">,</span>&nbsp;<span class="ident" id="3367333"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367340">.</span><span class="ident" id="3367341"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3367351">,</span>&nbsp;<span class="ident" id="3367353"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367360">.</span><span class="ident" id="3367361"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592729">SO_BROADCAST</a></span><span class="op" id="3367373">,</span>&nbsp;<span class="num" id="3367375">1</span><span class="op" id="3367376">)</span><span class="op" id="3367377">)</span><br>
<span class="lineno"></span><span class="op" id="3367379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3367382">func</span>&nbsp;<span class="ident" id="3367387">setDefaultListenerSockopts</span><span class="op" id="3367413">(</span><span class="ident" id="3367414">s</span>&nbsp;<span class="builtintype" id="3367416">int</span><span class="op" id="3367419">)</span>&nbsp;<span class="builtintype" id="3367421">error</span>&nbsp;<span class="op" id="3367427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367430">//&nbsp;Allow&nbsp;reuse&nbsp;of&nbsp;recently-used&nbsp;addresses.</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3367474">return</span>&nbsp;<span class="ident" id="3367481"><a href="/gostd/net/sockopt_linux.go.html#3366868">os</a></span><span class="op" id="3367483">.</span><span class="ident" id="3367484"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3367499">(</span><span class="string" id="3367500">&#34;setsockopt&#34;</span><span class="op" id="3367512">,</span>&nbsp;<span class="ident" id="3367514"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367521">.</span><span class="ident" id="3367522"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3367535">(</span><span class="ident" id="3367536"><a href="/gostd/net/sockopt_linux.go.html#3367414">s</a></span><span class="op" id="3367537">,</span>&nbsp;<span class="ident" id="3367539"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367546">.</span><span class="ident" id="3367547"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3367557">,</span>&nbsp;<span class="ident" id="3367559"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367566">.</span><span class="ident" id="3367567"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2593661">SO_REUSEADDR</a></span><span class="op" id="3367579">,</span>&nbsp;<span class="num" id="3367581">1</span><span class="op" id="3367582">)</span><span class="op" id="3367583">)</span><br>
<span class="lineno"></span><span class="op" id="3367585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3367588">func</span>&nbsp;<span class="ident" id="3367593">setDefaultMulticastSockopts</span><span class="op" id="3367620">(</span><span class="ident" id="3367621">s</span>&nbsp;<span class="builtintype" id="3367623">int</span><span class="op" id="3367626">)</span>&nbsp;<span class="builtintype" id="3367628">error</span>&nbsp;<span class="op" id="3367634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367637">//&nbsp;Allow&nbsp;multicast&nbsp;UDP&nbsp;and&nbsp;raw&nbsp;IP&nbsp;datagram&nbsp;sockets&nbsp;to&nbsp;listen</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3367699">//&nbsp;concurrently&nbsp;across&nbsp;multiple&nbsp;listeners.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3367743">return</span>&nbsp;<span class="ident" id="3367750"><a href="/gostd/net/sockopt_linux.go.html#3366868">os</a></span><span class="op" id="3367752">.</span><span class="ident" id="3367753"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3367768">(</span><span class="string" id="3367769">&#34;setsockopt&#34;</span><span class="op" id="3367781">,</span>&nbsp;<span class="ident" id="3367783"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367790">.</span><span class="ident" id="3367791"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3367804">(</span><span class="ident" id="3367805"><a href="/gostd/net/sockopt_linux.go.html#3367621">s</a></span><span class="op" id="3367806">,</span>&nbsp;<span class="ident" id="3367808"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367815">.</span><span class="ident" id="3367816"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3367826">,</span>&nbsp;<span class="ident" id="3367828"><a href="/gostd/net/sockopt_linux.go.html#3366874">syscall</a></span><span class="op" id="3367835">.</span><span class="ident" id="3367836"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2593661">SO_REUSEADDR</a></span><span class="op" id="3367848">,</span>&nbsp;<span class="num" id="3367850">1</span><span class="op" id="3367851">)</span><span class="op" id="3367852">)</span><br>
<span class="lineno"></span><span class="op" id="3367854">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
