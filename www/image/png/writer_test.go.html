<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7669470">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7669525">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7669579">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7669630">package</span>&nbsp;<span class="ident" id="7669638">png</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7669643">import</span>&nbsp;<span class="op" id="7669650">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669653">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669662">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669669">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669678">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669693">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669706">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7669716">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7669719">func</span>&nbsp;<span class="ident" id="7669724">diff</span><span class="op" id="7669728">(</span><span class="ident" id="7669729">m0</span><span class="op" id="7669731">,</span>&nbsp;<span class="ident" id="7669733">m1</span>&nbsp;<span class="ident" id="7669736"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7669741">.</span><span class="ident" id="7669742">Image</span><span class="op" id="7669747">)</span>&nbsp;<span class="builtintype" id="7669749">error</span>&nbsp;<span class="op" id="7669755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669758">b0</span><span class="op" id="7669760">,</span>&nbsp;<span class="ident" id="7669762">b1</span>&nbsp;<span class="op" id="7669765">:=</span>&nbsp;<span class="ident" id="7669768"><a href="/image/png/writer_test.go.html#7669729">m0</a></span><span class="op" id="7669770">.</span><span class="ident" id="7669771">Bounds</span><span class="op" id="7669777">(</span><span class="op" id="7669778">)</span><span class="op" id="7669779">,</span>&nbsp;<span class="ident" id="7669781"><a href="/image/png/writer_test.go.html#7669733">m1</a></span><span class="op" id="7669783">.</span><span class="ident" id="7669784">Bounds</span><span class="op" id="7669790">(</span><span class="op" id="7669791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669794">if</span>&nbsp;<span class="op" id="7669797">!</span><span class="ident" id="7669798"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669800">.</span><span class="ident" id="7669801">Size</span><span class="op" id="7669805">(</span><span class="op" id="7669806">)</span><span class="op" id="7669807">.</span><span class="ident" id="7669808">Eq</span><span class="op" id="7669810">(</span><span class="ident" id="7669811"><a href="/image/png/writer_test.go.html#7669762">b1</a></span><span class="op" id="7669813">.</span><span class="ident" id="7669814">Size</span><span class="op" id="7669818">(</span><span class="op" id="7669819">)</span><span class="op" id="7669820">)</span>&nbsp;<span class="op" id="7669822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669826">return</span>&nbsp;<span class="ident" id="7669833"><a href="/image/png/writer_test.go.html#7669662">fmt</a></span><span class="op" id="7669836">.</span><span class="ident" id="7669837">Errorf</span><span class="op" id="7669843">(</span><span class="string" id="7669844">&#34;dimensions&nbsp;differ:&nbsp;%v&nbsp;vs&nbsp;%v&#34;</span><span class="op" id="7669873">,</span>&nbsp;<span class="ident" id="7669875"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669877">,</span>&nbsp;<span class="ident" id="7669879"><a href="/image/png/writer_test.go.html#7669762">b1</a></span><span class="op" id="7669881">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669887">dx</span>&nbsp;<span class="op" id="7669890">:=</span>&nbsp;<span class="ident" id="7669893"><a href="/image/png/writer_test.go.html#7669762">b1</a></span><span class="op" id="7669895">.</span><span class="ident" id="7669896">Min</span><span class="op" id="7669899">.</span><span class="ident" id="7669900">X</span>&nbsp;<span class="op" id="7669902">-</span>&nbsp;<span class="ident" id="7669904"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669906">.</span><span class="ident" id="7669907">Min</span><span class="op" id="7669910">.</span><span class="ident" id="7669911">X</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669914">dy</span>&nbsp;<span class="op" id="7669917">:=</span>&nbsp;<span class="ident" id="7669920"><a href="/image/png/writer_test.go.html#7669762">b1</a></span><span class="op" id="7669922">.</span><span class="ident" id="7669923">Min</span><span class="op" id="7669926">.</span><span class="ident" id="7669927">Y</span>&nbsp;<span class="op" id="7669929">-</span>&nbsp;<span class="ident" id="7669931"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669933">.</span><span class="ident" id="7669934">Min</span><span class="op" id="7669937">.</span><span class="ident" id="7669938">Y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669941">for</span>&nbsp;<span class="ident" id="7669945">y</span>&nbsp;<span class="op" id="7669947">:=</span>&nbsp;<span class="ident" id="7669950"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669952">.</span><span class="ident" id="7669953">Min</span><span class="op" id="7669956">.</span><span class="ident" id="7669957">Y</span><span class="op" id="7669958">;</span>&nbsp;<span class="ident" id="7669960"><a href="/image/png/writer_test.go.html#7669945">y</a></span>&nbsp;<span class="op" id="7669962">&lt;</span>&nbsp;<span class="ident" id="7669964"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669966">.</span><span class="ident" id="7669967">Max</span><span class="op" id="7669970">.</span><span class="ident" id="7669971">Y</span><span class="op" id="7669972">;</span>&nbsp;<span class="ident" id="7669974"><a href="/image/png/writer_test.go.html#7669945">y</a></span><span class="op" id="7669975">++</span>&nbsp;<span class="op" id="7669978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669982">for</span>&nbsp;<span class="ident" id="7669986">x</span>&nbsp;<span class="op" id="7669988">:=</span>&nbsp;<span class="ident" id="7669991"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7669993">.</span><span class="ident" id="7669994">Min</span><span class="op" id="7669997">.</span><span class="ident" id="7669998">X</span><span class="op" id="7669999">;</span>&nbsp;<span class="ident" id="7670001"><a href="/image/png/writer_test.go.html#7669986">x</a></span>&nbsp;<span class="op" id="7670003">&lt;</span>&nbsp;<span class="ident" id="7670005"><a href="/image/png/writer_test.go.html#7669758">b0</a></span><span class="op" id="7670007">.</span><span class="ident" id="7670008">Max</span><span class="op" id="7670011">.</span><span class="ident" id="7670012">X</span><span class="op" id="7670013">;</span>&nbsp;<span class="ident" id="7670015"><a href="/image/png/writer_test.go.html#7669986">x</a></span><span class="op" id="7670016">++</span>&nbsp;<span class="op" id="7670019">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670024">c0</span>&nbsp;<span class="op" id="7670027">:=</span>&nbsp;<span class="ident" id="7670030"><a href="/image/png/writer_test.go.html#7669729">m0</a></span><span class="op" id="7670032">.</span><span class="ident" id="7670033">At</span><span class="op" id="7670035">(</span><span class="ident" id="7670036"><a href="/image/png/writer_test.go.html#7669986">x</a></span><span class="op" id="7670037">,</span>&nbsp;<span class="ident" id="7670039"><a href="/image/png/writer_test.go.html#7669945">y</a></span><span class="op" id="7670040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670045">c1</span>&nbsp;<span class="op" id="7670048">:=</span>&nbsp;<span class="ident" id="7670051"><a href="/image/png/writer_test.go.html#7669733">m1</a></span><span class="op" id="7670053">.</span><span class="ident" id="7670054">At</span><span class="op" id="7670056">(</span><span class="ident" id="7670057"><a href="/image/png/writer_test.go.html#7669986">x</a></span><span class="op" id="7670058">+</span><span class="ident" id="7670059"><a href="/image/png/writer_test.go.html#7669887">dx</a></span><span class="op" id="7670061">,</span>&nbsp;<span class="ident" id="7670063"><a href="/image/png/writer_test.go.html#7669945">y</a></span><span class="op" id="7670064">+</span><span class="ident" id="7670065"><a href="/image/png/writer_test.go.html#7669914">dy</a></span><span class="op" id="7670067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670072">r0</span><span class="op" id="7670074">,</span>&nbsp;<span class="ident" id="7670076">g0</span><span class="op" id="7670078">,</span>&nbsp;<span class="ident" id="7670080">b0</span><span class="op" id="7670082">,</span>&nbsp;<span class="ident" id="7670084">a0</span>&nbsp;<span class="op" id="7670087">:=</span>&nbsp;<span class="ident" id="7670090"><a href="/image/png/writer_test.go.html#7670024">c0</a></span><span class="op" id="7670092">.</span><span class="ident" id="7670093">RGBA</span><span class="op" id="7670097">(</span><span class="op" id="7670098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670103">r1</span><span class="op" id="7670105">,</span>&nbsp;<span class="ident" id="7670107">g1</span><span class="op" id="7670109">,</span>&nbsp;<span class="ident" id="7670111">b1</span><span class="op" id="7670113">,</span>&nbsp;<span class="ident" id="7670115">a1</span>&nbsp;<span class="op" id="7670118">:=</span>&nbsp;<span class="ident" id="7670121"><a href="/image/png/writer_test.go.html#7670045">c1</a></span><span class="op" id="7670123">.</span><span class="ident" id="7670124">RGBA</span><span class="op" id="7670128">(</span><span class="op" id="7670129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670134">if</span>&nbsp;<span class="ident" id="7670137"><a href="/image/png/writer_test.go.html#7670072">r0</a></span>&nbsp;<span class="op" id="7670140">!=</span>&nbsp;<span class="ident" id="7670143"><a href="/image/png/writer_test.go.html#7670103">r1</a></span>&nbsp;<span class="op" id="7670146">||</span>&nbsp;<span class="ident" id="7670149"><a href="/image/png/writer_test.go.html#7670076">g0</a></span>&nbsp;<span class="op" id="7670152">!=</span>&nbsp;<span class="ident" id="7670155"><a href="/image/png/writer_test.go.html#7670107">g1</a></span>&nbsp;<span class="op" id="7670158">||</span>&nbsp;<span class="ident" id="7670161"><a href="/image/png/writer_test.go.html#7670080">b0</a></span>&nbsp;<span class="op" id="7670164">!=</span>&nbsp;<span class="ident" id="7670167"><a href="/image/png/writer_test.go.html#7670111">b1</a></span>&nbsp;<span class="op" id="7670170">||</span>&nbsp;<span class="ident" id="7670173"><a href="/image/png/writer_test.go.html#7670084">a0</a></span>&nbsp;<span class="op" id="7670176">!=</span>&nbsp;<span class="ident" id="7670179"><a href="/image/png/writer_test.go.html#7670115">a1</a></span>&nbsp;<span class="op" id="7670182">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670188">return</span>&nbsp;<span class="ident" id="7670195"><a href="/image/png/writer_test.go.html#7669662">fmt</a></span><span class="op" id="7670198">.</span><span class="ident" id="7670199">Errorf</span><span class="op" id="7670205">(</span><span class="string" id="7670206">&#34;colors&nbsp;differ&nbsp;at&nbsp;(%d,&nbsp;%d):&nbsp;%v&nbsp;vs&nbsp;%v&#34;</span><span class="op" id="7670243">,</span>&nbsp;<span class="ident" id="7670245"><a href="/image/png/writer_test.go.html#7669986">x</a></span><span class="op" id="7670246">,</span>&nbsp;<span class="ident" id="7670248"><a href="/image/png/writer_test.go.html#7669945">y</a></span><span class="op" id="7670249">,</span>&nbsp;<span class="ident" id="7670251"><a href="/image/png/writer_test.go.html#7670024">c0</a></span><span class="op" id="7670253">,</span>&nbsp;<span class="ident" id="7670255"><a href="/image/png/writer_test.go.html#7670045">c1</a></span><span class="op" id="7670257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670272">return</span>&nbsp;<span class="ident" id="7670279">nil</span><br>
<span class="lineno">35</span><span class="op" id="7670283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7670286">func</span>&nbsp;<span class="ident" id="7670291">encodeDecode</span><span class="op" id="7670303">(</span><span class="ident" id="7670304">m</span>&nbsp;<span class="ident" id="7670306"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7670311">.</span><span class="ident" id="7670312">Image</span><span class="op" id="7670317">)</span>&nbsp;<span class="op" id="7670319">(</span><span class="ident" id="7670320"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7670325">.</span><span class="ident" id="7670326">Image</span><span class="op" id="7670331">,</span>&nbsp;<span class="builtintype" id="7670333">error</span><span class="op" id="7670338">)</span>&nbsp;<span class="op" id="7670340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670343">var</span>&nbsp;<span class="ident" id="7670347">b</span>&nbsp;<span class="ident" id="7670349"><a href="/image/png/writer_test.go.html#7669653">bytes</a></span><span class="op" id="7670354">.</span><span class="ident" id="7670355">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670363">err</span>&nbsp;<span class="op" id="7670367">:=</span>&nbsp;<span class="ident" id="7670370"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7670376">(</span><span class="op" id="7670377">&amp;</span><span class="ident" id="7670378"><a href="/image/png/writer_test.go.html#7670347">b</a></span><span class="op" id="7670379">,</span>&nbsp;<span class="ident" id="7670381"><a href="/image/png/writer_test.go.html#7670304">m</a></span><span class="op" id="7670382">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670385">if</span>&nbsp;<span class="ident" id="7670388"><a href="/image/png/writer_test.go.html#7670363">err</a></span>&nbsp;<span class="op" id="7670392">!=</span>&nbsp;<span class="ident" id="7670395">nil</span>&nbsp;<span class="op" id="7670399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670403">return</span>&nbsp;<span class="ident" id="7670410">nil</span><span class="op" id="7670413">,</span>&nbsp;<span class="ident" id="7670415"><a href="/image/png/writer_test.go.html#7670363">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670423">return</span>&nbsp;<span class="ident" id="7670430"><a href="/image/png/reader.go.html#5596746">Decode</a></span><span class="op" id="7670436">(</span><span class="op" id="7670437">&amp;</span><span class="ident" id="7670438"><a href="/image/png/writer_test.go.html#7670347">b</a></span><span class="op" id="7670439">)</span><br>
<span class="lineno"></span><span class="op" id="7670441">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7670444">func</span>&nbsp;<span class="ident" id="7670449">TestWriter</span><span class="op" id="7670459">(</span><span class="ident" id="7670460">t</span>&nbsp;<span class="op" id="7670462">*</span><span class="ident" id="7670463"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7670470">.</span><span class="ident" id="7670471">T</span><span class="op" id="7670472">)</span>&nbsp;<span class="op" id="7670474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7670477">//&nbsp;The&nbsp;filenames&nbsp;variable&nbsp;is&nbsp;declared&nbsp;in&nbsp;reader_test.go.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670535">names</span>&nbsp;<span class="op" id="7670541">:=</span>&nbsp;<span class="ident" id="7670544"><a href="/image/png/reader_test.go.html#7661313">filenames</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670555">if</span>&nbsp;<span class="ident" id="7670558"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7670565">.</span><span class="ident" id="7670566">Short</span><span class="op" id="7670571">(</span><span class="op" id="7670572">)</span>&nbsp;<span class="op" id="7670574">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670578"><a href="/image/png/writer_test.go.html#7670535">names</a></span>&nbsp;<span class="op" id="7670584">=</span>&nbsp;<span class="ident" id="7670586"><a href="/image/png/reader_test.go.html#7661727">filenamesShort</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670605">for</span>&nbsp;<span class="ident" id="7670609">_</span><span class="op" id="7670610">,</span>&nbsp;<span class="ident" id="7670612">fn</span>&nbsp;<span class="op" id="7670615">:=</span>&nbsp;<span class="keyword" id="7670618">range</span>&nbsp;<span class="ident" id="7670624"><a href="/image/png/writer_test.go.html#7670535">names</a></span>&nbsp;<span class="op" id="7670630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670634">qfn</span>&nbsp;<span class="op" id="7670638">:=</span>&nbsp;<span class="string" id="7670641">&#34;testdata/pngsuite/&#34;</span>&nbsp;<span class="op" id="7670662">+</span>&nbsp;<span class="ident" id="7670664"><a href="/image/png/writer_test.go.html#7670612">fn</a></span>&nbsp;<span class="op" id="7670667">+</span>&nbsp;<span class="string" id="7670669">&#34;.png&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7670678">//&nbsp;Read&nbsp;the&nbsp;image.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670699">m0</span><span class="op" id="7670701">,</span>&nbsp;<span class="ident" id="7670703">err</span>&nbsp;<span class="op" id="7670707">:=</span>&nbsp;<span class="ident" id="7670710"><a href="/image/png/reader_test.go.html#7661804">readPNG</a></span><span class="op" id="7670717">(</span><span class="ident" id="7670718"><a href="/image/png/writer_test.go.html#7670634">qfn</a></span><span class="op" id="7670721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670725">if</span>&nbsp;<span class="ident" id="7670728"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7670732">!=</span>&nbsp;<span class="ident" id="7670735">nil</span>&nbsp;<span class="op" id="7670739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670744"><a href="/image/png/writer_test.go.html#7670460">t</a></span><span class="op" id="7670745">.</span><span class="ident" id="7670746">Error</span><span class="op" id="7670751">(</span><span class="ident" id="7670752"><a href="/image/png/writer_test.go.html#7670612">fn</a></span><span class="op" id="7670754">,</span>&nbsp;<span class="ident" id="7670756"><a href="/image/png/writer_test.go.html#7670703">err</a></span><span class="op" id="7670759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670764">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670775">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7670779">//&nbsp;Read&nbsp;the&nbsp;image&nbsp;again,&nbsp;encode&nbsp;it,&nbsp;and&nbsp;decode&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670832">m1</span><span class="op" id="7670834">,</span>&nbsp;<span class="ident" id="7670836"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7670840">:=</span>&nbsp;<span class="ident" id="7670843"><a href="/image/png/reader_test.go.html#7661804">readPNG</a></span><span class="op" id="7670850">(</span><span class="ident" id="7670851"><a href="/image/png/writer_test.go.html#7670634">qfn</a></span><span class="op" id="7670854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670858">if</span>&nbsp;<span class="ident" id="7670861"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7670865">!=</span>&nbsp;<span class="ident" id="7670868">nil</span>&nbsp;<span class="op" id="7670872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670877"><a href="/image/png/writer_test.go.html#7670460">t</a></span><span class="op" id="7670878">.</span><span class="ident" id="7670879">Error</span><span class="op" id="7670884">(</span><span class="ident" id="7670885"><a href="/image/png/writer_test.go.html#7670612">fn</a></span><span class="op" id="7670887">,</span>&nbsp;<span class="ident" id="7670889"><a href="/image/png/writer_test.go.html#7670703">err</a></span><span class="op" id="7670892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670897">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670910">m2</span><span class="op" id="7670912">,</span>&nbsp;<span class="ident" id="7670914"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7670918">:=</span>&nbsp;<span class="ident" id="7670921"><a href="/image/png/writer_test.go.html#7670291">encodeDecode</a></span><span class="op" id="7670933">(</span><span class="ident" id="7670934"><a href="/image/png/writer_test.go.html#7670832">m1</a></span><span class="op" id="7670936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670940">if</span>&nbsp;<span class="ident" id="7670943"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7670947">!=</span>&nbsp;<span class="ident" id="7670950">nil</span>&nbsp;<span class="op" id="7670954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670959"><a href="/image/png/writer_test.go.html#7670460">t</a></span><span class="op" id="7670960">.</span><span class="ident" id="7670961">Error</span><span class="op" id="7670966">(</span><span class="ident" id="7670967"><a href="/image/png/writer_test.go.html#7670612">fn</a></span><span class="op" id="7670969">,</span>&nbsp;<span class="ident" id="7670971"><a href="/image/png/writer_test.go.html#7670703">err</a></span><span class="op" id="7670974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670979">return</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7670992">//&nbsp;Compare&nbsp;the&nbsp;two.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671014"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7671018">=</span>&nbsp;<span class="ident" id="7671020"><a href="/image/png/writer_test.go.html#7669724">diff</a></span><span class="op" id="7671024">(</span><span class="ident" id="7671025"><a href="/image/png/writer_test.go.html#7670699">m0</a></span><span class="op" id="7671027">,</span>&nbsp;<span class="ident" id="7671029"><a href="/image/png/writer_test.go.html#7670910">m2</a></span><span class="op" id="7671031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671035">if</span>&nbsp;<span class="ident" id="7671038"><a href="/image/png/writer_test.go.html#7670703">err</a></span>&nbsp;<span class="op" id="7671042">!=</span>&nbsp;<span class="ident" id="7671045">nil</span>&nbsp;<span class="op" id="7671049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671054"><a href="/image/png/writer_test.go.html#7670460">t</a></span><span class="op" id="7671055">.</span><span class="ident" id="7671056">Error</span><span class="op" id="7671061">(</span><span class="ident" id="7671062"><a href="/image/png/writer_test.go.html#7670612">fn</a></span><span class="op" id="7671064">,</span>&nbsp;<span class="ident" id="7671066"><a href="/image/png/writer_test.go.html#7670703">err</a></span><span class="op" id="7671069">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671074">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671088">}</span><br>
<span class="lineno"></span><span class="op" id="7671090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="7671093">func</span>&nbsp;<span class="ident" id="7671098">TestWriterLevels</span><span class="op" id="7671114">(</span><span class="ident" id="7671115">t</span>&nbsp;<span class="op" id="7671117">*</span><span class="ident" id="7671118"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7671125">.</span><span class="ident" id="7671126">T</span><span class="op" id="7671127">)</span>&nbsp;<span class="op" id="7671129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671132">m</span>&nbsp;<span class="op" id="7671134">:=</span>&nbsp;<span class="ident" id="7671137"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7671142">.</span><span class="ident" id="7671143">NewNRGBA</span><span class="op" id="7671151">(</span><span class="ident" id="7671152"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7671157">.</span><span class="ident" id="7671158">Rect</span><span class="op" id="7671162">(</span><span class="num" id="7671163">0</span><span class="op" id="7671164">,</span>&nbsp;<span class="num" id="7671166">0</span><span class="op" id="7671167">,</span>&nbsp;<span class="num" id="7671169">100</span><span class="op" id="7671172">,</span>&nbsp;<span class="num" id="7671174">100</span><span class="op" id="7671177">)</span><span class="op" id="7671178">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671182">var</span>&nbsp;<span class="ident" id="7671186">b1</span><span class="op" id="7671188">,</span>&nbsp;<span class="ident" id="7671190">b2</span>&nbsp;<span class="ident" id="7671193"><a href="/image/png/writer_test.go.html#7669653">bytes</a></span><span class="op" id="7671198">.</span><span class="ident" id="7671199">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671207">if</span>&nbsp;<span class="ident" id="7671210">err</span>&nbsp;<span class="op" id="7671214">:=</span>&nbsp;<span class="op" id="7671217">(</span><span class="op" id="7671218">&amp;</span><span class="ident" id="7671219"><a href="/image/png/writer.go.html#5598700">Encoder</a></span><span class="op" id="7671226">{</span><span class="op" id="7671227">}</span><span class="op" id="7671228">)</span><span class="op" id="7671229">.</span><span class="ident" id="7671230">Encode</span><span class="op" id="7671236">(</span><span class="op" id="7671237">&amp;</span><span class="ident" id="7671238"><a href="/image/png/writer_test.go.html#7671186">b1</a></span><span class="op" id="7671240">,</span>&nbsp;<span class="ident" id="7671242"><a href="/image/png/writer_test.go.html#7671132">m</a></span><span class="op" id="7671243">)</span><span class="op" id="7671244">;</span>&nbsp;<span class="ident" id="7671246"><a href="/image/png/writer_test.go.html#7671210">err</a></span>&nbsp;<span class="op" id="7671250">!=</span>&nbsp;<span class="ident" id="7671253">nil</span>&nbsp;<span class="op" id="7671257">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671261"><a href="/image/png/writer_test.go.html#7671115">t</a></span><span class="op" id="7671262">.</span><span class="ident" id="7671263">Fatal</span><span class="op" id="7671268">(</span><span class="ident" id="7671269"><a href="/image/png/writer_test.go.html#7671210">err</a></span><span class="op" id="7671272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671278">noenc</span>&nbsp;<span class="op" id="7671284">:=</span>&nbsp;<span class="op" id="7671287">&amp;</span><span class="ident" id="7671288"><a href="/image/png/writer.go.html#5598700">Encoder</a></span><span class="op" id="7671295">{</span><span class="ident" id="7671296">CompressionLevel</span><span class="op" id="7671312">:</span>&nbsp;<span class="ident" id="7671314"><a href="/image/png/writer.go.html#5598992">NoCompression</a></span><span class="op" id="7671327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671330">if</span>&nbsp;<span class="ident" id="7671333">err</span>&nbsp;<span class="op" id="7671337">:=</span>&nbsp;<span class="ident" id="7671340"><a href="/image/png/writer_test.go.html#7671278">noenc</a></span><span class="op" id="7671345">.</span><span class="ident" id="7671346">Encode</span><span class="op" id="7671352">(</span><span class="op" id="7671353">&amp;</span><span class="ident" id="7671354"><a href="/image/png/writer_test.go.html#7671190">b2</a></span><span class="op" id="7671356">,</span>&nbsp;<span class="ident" id="7671358"><a href="/image/png/writer_test.go.html#7671132">m</a></span><span class="op" id="7671359">)</span><span class="op" id="7671360">;</span>&nbsp;<span class="ident" id="7671362"><a href="/image/png/writer_test.go.html#7671333">err</a></span>&nbsp;<span class="op" id="7671366">!=</span>&nbsp;<span class="ident" id="7671369">nil</span>&nbsp;<span class="op" id="7671373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671377"><a href="/image/png/writer_test.go.html#7671115">t</a></span><span class="op" id="7671378">.</span><span class="ident" id="7671379">Fatal</span><span class="op" id="7671384">(</span><span class="ident" id="7671385"><a href="/image/png/writer_test.go.html#7671333">err</a></span><span class="op" id="7671388">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671395">if</span>&nbsp;<span class="ident" id="7671398"><a href="/image/png/writer_test.go.html#7671190">b2</a></span><span class="op" id="7671400">.</span><span class="ident" id="7671401">Len</span><span class="op" id="7671404">(</span><span class="op" id="7671405">)</span>&nbsp;<span class="op" id="7671407">&lt;=</span>&nbsp;<span class="ident" id="7671410"><a href="/image/png/writer_test.go.html#7671186">b1</a></span><span class="op" id="7671412">.</span><span class="ident" id="7671413">Len</span><span class="op" id="7671416">(</span><span class="op" id="7671417">)</span>&nbsp;<span class="op" id="7671419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671423"><a href="/image/png/writer_test.go.html#7671115">t</a></span><span class="op" id="7671424">.</span><span class="ident" id="7671425">Error</span><span class="op" id="7671430">(</span><span class="string" id="7671431">&#34;DefaultCompression&nbsp;encoding&nbsp;was&nbsp;larger&nbsp;than&nbsp;NoCompression&nbsp;encoding&#34;</span><span class="op" id="7671499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671502">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671505">if</span>&nbsp;<span class="ident" id="7671508">_</span><span class="op" id="7671509">,</span>&nbsp;<span class="ident" id="7671511">err</span>&nbsp;<span class="op" id="7671515">:=</span>&nbsp;<span class="ident" id="7671518"><a href="/image/png/reader.go.html#5596746">Decode</a></span><span class="op" id="7671524">(</span><span class="op" id="7671525">&amp;</span><span class="ident" id="7671526"><a href="/image/png/writer_test.go.html#7671186">b1</a></span><span class="op" id="7671528">)</span><span class="op" id="7671529">;</span>&nbsp;<span class="ident" id="7671531"><a href="/image/png/writer_test.go.html#7671511">err</a></span>&nbsp;<span class="op" id="7671535">!=</span>&nbsp;<span class="ident" id="7671538">nil</span>&nbsp;<span class="op" id="7671542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671546"><a href="/image/png/writer_test.go.html#7671115">t</a></span><span class="op" id="7671547">.</span><span class="ident" id="7671548">Error</span><span class="op" id="7671553">(</span><span class="string" id="7671554">&#34;cannot&nbsp;decode&nbsp;DefaultCompression&#34;</span><span class="op" id="7671588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671594">if</span>&nbsp;<span class="ident" id="7671597">_</span><span class="op" id="7671598">,</span>&nbsp;<span class="ident" id="7671600">err</span>&nbsp;<span class="op" id="7671604">:=</span>&nbsp;<span class="ident" id="7671607"><a href="/image/png/reader.go.html#5596746">Decode</a></span><span class="op" id="7671613">(</span><span class="op" id="7671614">&amp;</span><span class="ident" id="7671615"><a href="/image/png/writer_test.go.html#7671190">b2</a></span><span class="op" id="7671617">)</span><span class="op" id="7671618">;</span>&nbsp;<span class="ident" id="7671620"><a href="/image/png/writer_test.go.html#7671600">err</a></span>&nbsp;<span class="op" id="7671624">!=</span>&nbsp;<span class="ident" id="7671627">nil</span>&nbsp;<span class="op" id="7671631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671635"><a href="/image/png/writer_test.go.html#7671115">t</a></span><span class="op" id="7671636">.</span><span class="ident" id="7671637">Error</span><span class="op" id="7671642">(</span><span class="string" id="7671643">&#34;cannot&nbsp;decode&nbsp;NoCompression&#34;</span><span class="op" id="7671672">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671675">}</span><br>
<span class="lineno"></span><span class="op" id="7671677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7671680">func</span>&nbsp;<span class="ident" id="7671685">TestSubImage</span><span class="op" id="7671697">(</span><span class="ident" id="7671698">t</span>&nbsp;<span class="op" id="7671700">*</span><span class="ident" id="7671701"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7671708">.</span><span class="ident" id="7671709">T</span><span class="op" id="7671710">)</span>&nbsp;<span class="op" id="7671712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671715">m0</span>&nbsp;<span class="op" id="7671718">:=</span>&nbsp;<span class="ident" id="7671721"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7671726">.</span><span class="ident" id="7671727">NewRGBA</span><span class="op" id="7671734">(</span><span class="ident" id="7671735"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7671740">.</span><span class="ident" id="7671741">Rect</span><span class="op" id="7671745">(</span><span class="num" id="7671746">0</span><span class="op" id="7671747">,</span>&nbsp;<span class="num" id="7671749">0</span><span class="op" id="7671750">,</span>&nbsp;<span class="num" id="7671752">256</span><span class="op" id="7671755">,</span>&nbsp;<span class="num" id="7671757">256</span><span class="op" id="7671760">)</span><span class="op" id="7671761">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671764">for</span>&nbsp;<span class="ident" id="7671768">y</span>&nbsp;<span class="op" id="7671770">:=</span>&nbsp;<span class="num" id="7671773">0</span><span class="op" id="7671774">;</span>&nbsp;<span class="ident" id="7671776"><a href="/image/png/writer_test.go.html#7671768">y</a></span>&nbsp;<span class="op" id="7671778">&lt;</span>&nbsp;<span class="num" id="7671780">256</span><span class="op" id="7671783">;</span>&nbsp;<span class="ident" id="7671785"><a href="/image/png/writer_test.go.html#7671768">y</a></span><span class="op" id="7671786">++</span>&nbsp;<span class="op" id="7671789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671793">for</span>&nbsp;<span class="ident" id="7671797">x</span>&nbsp;<span class="op" id="7671799">:=</span>&nbsp;<span class="num" id="7671802">0</span><span class="op" id="7671803">;</span>&nbsp;<span class="ident" id="7671805"><a href="/image/png/writer_test.go.html#7671797">x</a></span>&nbsp;<span class="op" id="7671807">&lt;</span>&nbsp;<span class="num" id="7671809">256</span><span class="op" id="7671812">;</span>&nbsp;<span class="ident" id="7671814"><a href="/image/png/writer_test.go.html#7671797">x</a></span><span class="op" id="7671815">++</span>&nbsp;<span class="op" id="7671818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671823"><a href="/image/png/writer_test.go.html#7671715">m0</a></span><span class="op" id="7671825">.</span><span class="ident" id="7671826">Set</span><span class="op" id="7671829">(</span><span class="ident" id="7671830"><a href="/image/png/writer_test.go.html#7671797">x</a></span><span class="op" id="7671831">,</span>&nbsp;<span class="ident" id="7671833"><a href="/image/png/writer_test.go.html#7671768">y</a></span><span class="op" id="7671834">,</span>&nbsp;<span class="ident" id="7671836"><a href="/image/png/writer_test.go.html#7669678">color</a></span><span class="op" id="7671841">.</span><span class="ident" id="7671842">RGBA</span><span class="op" id="7671846">{</span><span class="builtintype" id="7671847">uint8</span><span class="op" id="7671852">(</span><span class="ident" id="7671853"><a href="/image/png/writer_test.go.html#7671797">x</a></span><span class="op" id="7671854">)</span><span class="op" id="7671855">,</span>&nbsp;<span class="builtintype" id="7671857">uint8</span><span class="op" id="7671862">(</span><span class="ident" id="7671863"><a href="/image/png/writer_test.go.html#7671768">y</a></span><span class="op" id="7671864">)</span><span class="op" id="7671865">,</span>&nbsp;<span class="num" id="7671867">0</span><span class="op" id="7671868">,</span>&nbsp;<span class="num" id="7671870">255</span><span class="op" id="7671873">}</span><span class="op" id="7671874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671881">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671884"><a href="/image/png/writer_test.go.html#7671715">m0</a></span>&nbsp;<span class="op" id="7671887">=</span>&nbsp;<span class="ident" id="7671889"><a href="/image/png/writer_test.go.html#7671715">m0</a></span><span class="op" id="7671891">.</span><span class="ident" id="7671892">SubImage</span><span class="op" id="7671900">(</span><span class="ident" id="7671901"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7671906">.</span><span class="ident" id="7671907">Rect</span><span class="op" id="7671911">(</span><span class="num" id="7671912">50</span><span class="op" id="7671914">,</span>&nbsp;<span class="num" id="7671916">30</span><span class="op" id="7671918">,</span>&nbsp;<span class="num" id="7671920">250</span><span class="op" id="7671923">,</span>&nbsp;<span class="num" id="7671925">130</span><span class="op" id="7671928">)</span><span class="op" id="7671929">)</span><span class="op" id="7671930">.</span><span class="op" id="7671931">(</span><span class="op" id="7671932">*</span><span class="ident" id="7671933"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7671938">.</span><span class="ident" id="7671939">RGBA</span><span class="op" id="7671943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671946">m1</span><span class="op" id="7671948">,</span>&nbsp;<span class="ident" id="7671950">err</span>&nbsp;<span class="op" id="7671954">:=</span>&nbsp;<span class="ident" id="7671957"><a href="/image/png/writer_test.go.html#7670291">encodeDecode</a></span><span class="op" id="7671969">(</span><span class="ident" id="7671970"><a href="/image/png/writer_test.go.html#7671715">m0</a></span><span class="op" id="7671972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671975">if</span>&nbsp;<span class="ident" id="7671978"><a href="/image/png/writer_test.go.html#7671950">err</a></span>&nbsp;<span class="op" id="7671982">!=</span>&nbsp;<span class="ident" id="7671985">nil</span>&nbsp;<span class="op" id="7671989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671993"><a href="/image/png/writer_test.go.html#7671698">t</a></span><span class="op" id="7671994">.</span><span class="ident" id="7671995">Error</span><span class="op" id="7672000">(</span><span class="ident" id="7672001"><a href="/image/png/writer_test.go.html#7671950">err</a></span><span class="op" id="7672004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672008">return</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672019"><a href="/image/png/writer_test.go.html#7671950">err</a></span>&nbsp;<span class="op" id="7672023">=</span>&nbsp;<span class="ident" id="7672025"><a href="/image/png/writer_test.go.html#7669724">diff</a></span><span class="op" id="7672029">(</span><span class="ident" id="7672030"><a href="/image/png/writer_test.go.html#7671715">m0</a></span><span class="op" id="7672032">,</span>&nbsp;<span class="ident" id="7672034"><a href="/image/png/writer_test.go.html#7671946">m1</a></span><span class="op" id="7672036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672039">if</span>&nbsp;<span class="ident" id="7672042"><a href="/image/png/writer_test.go.html#7671950">err</a></span>&nbsp;<span class="op" id="7672046">!=</span>&nbsp;<span class="ident" id="7672049">nil</span>&nbsp;<span class="op" id="7672053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672057"><a href="/image/png/writer_test.go.html#7671698">t</a></span><span class="op" id="7672058">.</span><span class="ident" id="7672059">Error</span><span class="op" id="7672064">(</span><span class="ident" id="7672065"><a href="/image/png/writer_test.go.html#7671950">err</a></span><span class="op" id="7672068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672072">return</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672080">}</span><br>
<span class="lineno"></span><span class="op" id="7672082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7672085">func</span>&nbsp;<span class="ident" id="7672090">BenchmarkEncodeGray</span><span class="op" id="7672109">(</span><span class="ident" id="7672110">b</span>&nbsp;<span class="op" id="7672112">*</span><span class="ident" id="7672113"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7672120">.</span><span class="ident" id="7672121">B</span><span class="op" id="7672122">)</span>&nbsp;<span class="op" id="7672124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672127"><a href="/image/png/writer_test.go.html#7672110">b</a></span><span class="op" id="7672128">.</span><span class="ident" id="7672129">StopTimer</span><span class="op" id="7672138">(</span><span class="op" id="7672139">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672142">img</span>&nbsp;<span class="op" id="7672146">:=</span>&nbsp;<span class="ident" id="7672149"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7672154">.</span><span class="ident" id="7672155">NewGray</span><span class="op" id="7672162">(</span><span class="ident" id="7672163"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7672168">.</span><span class="ident" id="7672169">Rect</span><span class="op" id="7672173">(</span><span class="num" id="7672174">0</span><span class="op" id="7672175">,</span>&nbsp;<span class="num" id="7672177">0</span><span class="op" id="7672178">,</span>&nbsp;<span class="num" id="7672180">640</span><span class="op" id="7672183">,</span>&nbsp;<span class="num" id="7672185">480</span><span class="op" id="7672188">)</span><span class="op" id="7672189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672192"><a href="/image/png/writer_test.go.html#7672110">b</a></span><span class="op" id="7672193">.</span><span class="ident" id="7672194">SetBytes</span><span class="op" id="7672202">(</span><span class="num" id="7672203">640</span>&nbsp;<span class="op" id="7672207">*</span>&nbsp;<span class="num" id="7672209">480</span>&nbsp;<span class="op" id="7672213">*</span>&nbsp;<span class="num" id="7672215">1</span><span class="op" id="7672216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672219"><a href="/image/png/writer_test.go.html#7672110">b</a></span><span class="op" id="7672220">.</span><span class="ident" id="7672221">StartTimer</span><span class="op" id="7672231">(</span><span class="op" id="7672232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672235">for</span>&nbsp;<span class="ident" id="7672239">i</span>&nbsp;<span class="op" id="7672241">:=</span>&nbsp;<span class="num" id="7672244">0</span><span class="op" id="7672245">;</span>&nbsp;<span class="ident" id="7672247"><a href="/image/png/writer_test.go.html#7672239">i</a></span>&nbsp;<span class="op" id="7672249">&lt;</span>&nbsp;<span class="ident" id="7672251"><a href="/image/png/writer_test.go.html#7672110">b</a></span><span class="op" id="7672252">.</span><span class="ident" id="7672253">N</span><span class="op" id="7672254">;</span>&nbsp;<span class="ident" id="7672256"><a href="/image/png/writer_test.go.html#7672239">i</a></span><span class="op" id="7672257">++</span>&nbsp;<span class="op" id="7672260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672264"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7672270">(</span><span class="ident" id="7672271"><a href="/image/png/writer_test.go.html#7669693">ioutil</a></span><span class="op" id="7672277">.</span><span class="ident" id="7672278">Discard</span><span class="op" id="7672285">,</span>&nbsp;<span class="ident" id="7672287"><a href="/image/png/writer_test.go.html#7672142">img</a></span><span class="op" id="7672290">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672293">}</span><br>
<span class="lineno"></span><span class="op" id="7672295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7672298">func</span>&nbsp;<span class="ident" id="7672303">BenchmarkEncodeNRGBOpaque</span><span class="op" id="7672328">(</span><span class="ident" id="7672329">b</span>&nbsp;<span class="op" id="7672331">*</span><span class="ident" id="7672332"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7672339">.</span><span class="ident" id="7672340">B</span><span class="op" id="7672341">)</span>&nbsp;<span class="op" id="7672343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672346"><a href="/image/png/writer_test.go.html#7672329">b</a></span><span class="op" id="7672347">.</span><span class="ident" id="7672348">StopTimer</span><span class="op" id="7672357">(</span><span class="op" id="7672358">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672361">img</span>&nbsp;<span class="op" id="7672365">:=</span>&nbsp;<span class="ident" id="7672368"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7672373">.</span><span class="ident" id="7672374">NewNRGBA</span><span class="op" id="7672382">(</span><span class="ident" id="7672383"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7672388">.</span><span class="ident" id="7672389">Rect</span><span class="op" id="7672393">(</span><span class="num" id="7672394">0</span><span class="op" id="7672395">,</span>&nbsp;<span class="num" id="7672397">0</span><span class="op" id="7672398">,</span>&nbsp;<span class="num" id="7672400">640</span><span class="op" id="7672403">,</span>&nbsp;<span class="num" id="7672405">480</span><span class="op" id="7672408">)</span><span class="op" id="7672409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7672412">//&nbsp;Set&nbsp;all&nbsp;pixels&nbsp;to&nbsp;0xFF&nbsp;alpha&nbsp;to&nbsp;force&nbsp;opaque&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672467">bo</span>&nbsp;<span class="op" id="7672470">:=</span>&nbsp;<span class="ident" id="7672473"><a href="/image/png/writer_test.go.html#7672361">img</a></span><span class="op" id="7672476">.</span><span class="ident" id="7672477">Bounds</span><span class="op" id="7672483">(</span><span class="op" id="7672484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672487">for</span>&nbsp;<span class="ident" id="7672491">y</span>&nbsp;<span class="op" id="7672493">:=</span>&nbsp;<span class="ident" id="7672496"><a href="/image/png/writer_test.go.html#7672467">bo</a></span><span class="op" id="7672498">.</span><span class="ident" id="7672499">Min</span><span class="op" id="7672502">.</span><span class="ident" id="7672503">Y</span><span class="op" id="7672504">;</span>&nbsp;<span class="ident" id="7672506"><a href="/image/png/writer_test.go.html#7672491">y</a></span>&nbsp;<span class="op" id="7672508">&lt;</span>&nbsp;<span class="ident" id="7672510"><a href="/image/png/writer_test.go.html#7672467">bo</a></span><span class="op" id="7672512">.</span><span class="ident" id="7672513">Max</span><span class="op" id="7672516">.</span><span class="ident" id="7672517">Y</span><span class="op" id="7672518">;</span>&nbsp;<span class="ident" id="7672520"><a href="/image/png/writer_test.go.html#7672491">y</a></span><span class="op" id="7672521">++</span>&nbsp;<span class="op" id="7672524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672528">for</span>&nbsp;<span class="ident" id="7672532">x</span>&nbsp;<span class="op" id="7672534">:=</span>&nbsp;<span class="ident" id="7672537"><a href="/image/png/writer_test.go.html#7672467">bo</a></span><span class="op" id="7672539">.</span><span class="ident" id="7672540">Min</span><span class="op" id="7672543">.</span><span class="ident" id="7672544">X</span><span class="op" id="7672545">;</span>&nbsp;<span class="ident" id="7672547"><a href="/image/png/writer_test.go.html#7672532">x</a></span>&nbsp;<span class="op" id="7672549">&lt;</span>&nbsp;<span class="ident" id="7672551"><a href="/image/png/writer_test.go.html#7672467">bo</a></span><span class="op" id="7672553">.</span><span class="ident" id="7672554">Max</span><span class="op" id="7672557">.</span><span class="ident" id="7672558">X</span><span class="op" id="7672559">;</span>&nbsp;<span class="ident" id="7672561"><a href="/image/png/writer_test.go.html#7672532">x</a></span><span class="op" id="7672562">++</span>&nbsp;<span class="op" id="7672565">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672570"><a href="/image/png/writer_test.go.html#7672361">img</a></span><span class="op" id="7672573">.</span><span class="ident" id="7672574">Set</span><span class="op" id="7672577">(</span><span class="ident" id="7672578"><a href="/image/png/writer_test.go.html#7672532">x</a></span><span class="op" id="7672579">,</span>&nbsp;<span class="ident" id="7672581"><a href="/image/png/writer_test.go.html#7672491">y</a></span><span class="op" id="7672582">,</span>&nbsp;<span class="ident" id="7672584"><a href="/image/png/writer_test.go.html#7669678">color</a></span><span class="op" id="7672589">.</span><span class="ident" id="7672590">NRGBA</span><span class="op" id="7672595">{</span><span class="num" id="7672596">0</span><span class="op" id="7672597">,</span>&nbsp;<span class="num" id="7672599">0</span><span class="op" id="7672600">,</span>&nbsp;<span class="num" id="7672602">0</span><span class="op" id="7672603">,</span>&nbsp;<span class="num" id="7672605">255</span><span class="op" id="7672608">}</span><span class="op" id="7672609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672619">if</span>&nbsp;<span class="op" id="7672622">!</span><span class="ident" id="7672623"><a href="/image/png/writer_test.go.html#7672361">img</a></span><span class="op" id="7672626">.</span><span class="ident" id="7672627">Opaque</span><span class="op" id="7672633">(</span><span class="op" id="7672634">)</span>&nbsp;<span class="op" id="7672636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672640"><a href="/image/png/writer_test.go.html#7672329">b</a></span><span class="op" id="7672641">.</span><span class="ident" id="7672642">Fatal</span><span class="op" id="7672647">(</span><span class="string" id="7672648">&#34;expected&nbsp;image&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="7672677">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672683"><a href="/image/png/writer_test.go.html#7672329">b</a></span><span class="op" id="7672684">.</span><span class="ident" id="7672685">SetBytes</span><span class="op" id="7672693">(</span><span class="num" id="7672694">640</span>&nbsp;<span class="op" id="7672698">*</span>&nbsp;<span class="num" id="7672700">480</span>&nbsp;<span class="op" id="7672704">*</span>&nbsp;<span class="num" id="7672706">4</span><span class="op" id="7672707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672710"><a href="/image/png/writer_test.go.html#7672329">b</a></span><span class="op" id="7672711">.</span><span class="ident" id="7672712">StartTimer</span><span class="op" id="7672722">(</span><span class="op" id="7672723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672726">for</span>&nbsp;<span class="ident" id="7672730">i</span>&nbsp;<span class="op" id="7672732">:=</span>&nbsp;<span class="num" id="7672735">0</span><span class="op" id="7672736">;</span>&nbsp;<span class="ident" id="7672738"><a href="/image/png/writer_test.go.html#7672730">i</a></span>&nbsp;<span class="op" id="7672740">&lt;</span>&nbsp;<span class="ident" id="7672742"><a href="/image/png/writer_test.go.html#7672329">b</a></span><span class="op" id="7672743">.</span><span class="ident" id="7672744">N</span><span class="op" id="7672745">;</span>&nbsp;<span class="ident" id="7672747"><a href="/image/png/writer_test.go.html#7672730">i</a></span><span class="op" id="7672748">++</span>&nbsp;<span class="op" id="7672751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672755"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7672761">(</span><span class="ident" id="7672762"><a href="/image/png/writer_test.go.html#7669693">ioutil</a></span><span class="op" id="7672768">.</span><span class="ident" id="7672769">Discard</span><span class="op" id="7672776">,</span>&nbsp;<span class="ident" id="7672778"><a href="/image/png/writer_test.go.html#7672361">img</a></span><span class="op" id="7672781">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672784">}</span><br>
<span class="lineno"></span><span class="op" id="7672786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7672789">func</span>&nbsp;<span class="ident" id="7672794">BenchmarkEncodeNRGBA</span><span class="op" id="7672814">(</span><span class="ident" id="7672815">b</span>&nbsp;<span class="op" id="7672817">*</span><span class="ident" id="7672818"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7672825">.</span><span class="ident" id="7672826">B</span><span class="op" id="7672827">)</span>&nbsp;<span class="op" id="7672829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672832"><a href="/image/png/writer_test.go.html#7672815">b</a></span><span class="op" id="7672833">.</span><span class="ident" id="7672834">StopTimer</span><span class="op" id="7672843">(</span><span class="op" id="7672844">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672847">img</span>&nbsp;<span class="op" id="7672851">:=</span>&nbsp;<span class="ident" id="7672854"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7672859">.</span><span class="ident" id="7672860">NewNRGBA</span><span class="op" id="7672868">(</span><span class="ident" id="7672869"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7672874">.</span><span class="ident" id="7672875">Rect</span><span class="op" id="7672879">(</span><span class="num" id="7672880">0</span><span class="op" id="7672881">,</span>&nbsp;<span class="num" id="7672883">0</span><span class="op" id="7672884">,</span>&nbsp;<span class="num" id="7672886">640</span><span class="op" id="7672889">,</span>&nbsp;<span class="num" id="7672891">480</span><span class="op" id="7672894">)</span><span class="op" id="7672895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672898">if</span>&nbsp;<span class="ident" id="7672901"><a href="/image/png/writer_test.go.html#7672847">img</a></span><span class="op" id="7672904">.</span><span class="ident" id="7672905">Opaque</span><span class="op" id="7672911">(</span><span class="op" id="7672912">)</span>&nbsp;<span class="op" id="7672914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672918"><a href="/image/png/writer_test.go.html#7672815">b</a></span><span class="op" id="7672919">.</span><span class="ident" id="7672920">Fatal</span><span class="op" id="7672925">(</span><span class="string" id="7672926">&#34;expected&nbsp;image&nbsp;not&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="7672959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672965"><a href="/image/png/writer_test.go.html#7672815">b</a></span><span class="op" id="7672966">.</span><span class="ident" id="7672967">SetBytes</span><span class="op" id="7672975">(</span><span class="num" id="7672976">640</span>&nbsp;<span class="op" id="7672980">*</span>&nbsp;<span class="num" id="7672982">480</span>&nbsp;<span class="op" id="7672986">*</span>&nbsp;<span class="num" id="7672988">4</span><span class="op" id="7672989">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672992"><a href="/image/png/writer_test.go.html#7672815">b</a></span><span class="op" id="7672993">.</span><span class="ident" id="7672994">StartTimer</span><span class="op" id="7673004">(</span><span class="op" id="7673005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673008">for</span>&nbsp;<span class="ident" id="7673012">i</span>&nbsp;<span class="op" id="7673014">:=</span>&nbsp;<span class="num" id="7673017">0</span><span class="op" id="7673018">;</span>&nbsp;<span class="ident" id="7673020"><a href="/image/png/writer_test.go.html#7673012">i</a></span>&nbsp;<span class="op" id="7673022">&lt;</span>&nbsp;<span class="ident" id="7673024"><a href="/image/png/writer_test.go.html#7672815">b</a></span><span class="op" id="7673025">.</span><span class="ident" id="7673026">N</span><span class="op" id="7673027">;</span>&nbsp;<span class="ident" id="7673029"><a href="/image/png/writer_test.go.html#7673012">i</a></span><span class="op" id="7673030">++</span>&nbsp;<span class="op" id="7673033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673037"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7673043">(</span><span class="ident" id="7673044"><a href="/image/png/writer_test.go.html#7669693">ioutil</a></span><span class="op" id="7673050">.</span><span class="ident" id="7673051">Discard</span><span class="op" id="7673058">,</span>&nbsp;<span class="ident" id="7673060"><a href="/image/png/writer_test.go.html#7672847">img</a></span><span class="op" id="7673063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673066">}</span><br>
<span class="lineno"></span><span class="op" id="7673068">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="7673071">func</span>&nbsp;<span class="ident" id="7673076">BenchmarkEncodePaletted</span><span class="op" id="7673099">(</span><span class="ident" id="7673100">b</span>&nbsp;<span class="op" id="7673102">*</span><span class="ident" id="7673103"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7673110">.</span><span class="ident" id="7673111">B</span><span class="op" id="7673112">)</span>&nbsp;<span class="op" id="7673114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673117"><a href="/image/png/writer_test.go.html#7673100">b</a></span><span class="op" id="7673118">.</span><span class="ident" id="7673119">StopTimer</span><span class="op" id="7673128">(</span><span class="op" id="7673129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673132">img</span>&nbsp;<span class="op" id="7673136">:=</span>&nbsp;<span class="ident" id="7673139"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7673144">.</span><span class="ident" id="7673145">NewPaletted</span><span class="op" id="7673156">(</span><span class="ident" id="7673157"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7673162">.</span><span class="ident" id="7673163">Rect</span><span class="op" id="7673167">(</span><span class="num" id="7673168">0</span><span class="op" id="7673169">,</span>&nbsp;<span class="num" id="7673171">0</span><span class="op" id="7673172">,</span>&nbsp;<span class="num" id="7673174">640</span><span class="op" id="7673177">,</span>&nbsp;<span class="num" id="7673179">480</span><span class="op" id="7673182">)</span><span class="op" id="7673183">,</span>&nbsp;<span class="ident" id="7673185"><a href="/image/png/writer_test.go.html#7669678">color</a></span><span class="op" id="7673190">.</span><span class="ident" id="7673191">Palette</span><span class="op" id="7673198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673202"><a href="/image/png/writer_test.go.html#7669678">color</a></span><span class="op" id="7673207">.</span><span class="ident" id="7673208">RGBA</span><span class="op" id="7673212">{</span><span class="num" id="7673213">0</span><span class="op" id="7673214">,</span>&nbsp;<span class="num" id="7673216">0</span><span class="op" id="7673217">,</span>&nbsp;<span class="num" id="7673219">0</span><span class="op" id="7673220">,</span>&nbsp;<span class="num" id="7673222">255</span><span class="op" id="7673225">}</span><span class="op" id="7673226">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673230"><a href="/image/png/writer_test.go.html#7669678">color</a></span><span class="op" id="7673235">.</span><span class="ident" id="7673236">RGBA</span><span class="op" id="7673240">{</span><span class="num" id="7673241">255</span><span class="op" id="7673244">,</span>&nbsp;<span class="num" id="7673246">255</span><span class="op" id="7673249">,</span>&nbsp;<span class="num" id="7673251">255</span><span class="op" id="7673254">,</span>&nbsp;<span class="num" id="7673256">255</span><span class="op" id="7673259">}</span><span class="op" id="7673260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673263">}</span><span class="op" id="7673264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673267"><a href="/image/png/writer_test.go.html#7673100">b</a></span><span class="op" id="7673268">.</span><span class="ident" id="7673269">SetBytes</span><span class="op" id="7673277">(</span><span class="num" id="7673278">640</span>&nbsp;<span class="op" id="7673282">*</span>&nbsp;<span class="num" id="7673284">480</span>&nbsp;<span class="op" id="7673288">*</span>&nbsp;<span class="num" id="7673290">1</span><span class="op" id="7673291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673294"><a href="/image/png/writer_test.go.html#7673100">b</a></span><span class="op" id="7673295">.</span><span class="ident" id="7673296">StartTimer</span><span class="op" id="7673306">(</span><span class="op" id="7673307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673310">for</span>&nbsp;<span class="ident" id="7673314">i</span>&nbsp;<span class="op" id="7673316">:=</span>&nbsp;<span class="num" id="7673319">0</span><span class="op" id="7673320">;</span>&nbsp;<span class="ident" id="7673322"><a href="/image/png/writer_test.go.html#7673314">i</a></span>&nbsp;<span class="op" id="7673324">&lt;</span>&nbsp;<span class="ident" id="7673326"><a href="/image/png/writer_test.go.html#7673100">b</a></span><span class="op" id="7673327">.</span><span class="ident" id="7673328">N</span><span class="op" id="7673329">;</span>&nbsp;<span class="ident" id="7673331"><a href="/image/png/writer_test.go.html#7673314">i</a></span><span class="op" id="7673332">++</span>&nbsp;<span class="op" id="7673335">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673339"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7673345">(</span><span class="ident" id="7673346"><a href="/image/png/writer_test.go.html#7669693">ioutil</a></span><span class="op" id="7673352">.</span><span class="ident" id="7673353">Discard</span><span class="op" id="7673360">,</span>&nbsp;<span class="ident" id="7673362"><a href="/image/png/writer_test.go.html#7673132">img</a></span><span class="op" id="7673365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673368">}</span><br>
<span class="lineno"></span><span class="op" id="7673370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7673373">func</span>&nbsp;<span class="ident" id="7673378">BenchmarkEncodeRGBOpaque</span><span class="op" id="7673402">(</span><span class="ident" id="7673403">b</span>&nbsp;<span class="op" id="7673405">*</span><span class="ident" id="7673406"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7673413">.</span><span class="ident" id="7673414">B</span><span class="op" id="7673415">)</span>&nbsp;<span class="op" id="7673417">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673420"><a href="/image/png/writer_test.go.html#7673403">b</a></span><span class="op" id="7673421">.</span><span class="ident" id="7673422">StopTimer</span><span class="op" id="7673431">(</span><span class="op" id="7673432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673435">img</span>&nbsp;<span class="op" id="7673439">:=</span>&nbsp;<span class="ident" id="7673442"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7673447">.</span><span class="ident" id="7673448">NewRGBA</span><span class="op" id="7673455">(</span><span class="ident" id="7673456"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7673461">.</span><span class="ident" id="7673462">Rect</span><span class="op" id="7673466">(</span><span class="num" id="7673467">0</span><span class="op" id="7673468">,</span>&nbsp;<span class="num" id="7673470">0</span><span class="op" id="7673471">,</span>&nbsp;<span class="num" id="7673473">640</span><span class="op" id="7673476">,</span>&nbsp;<span class="num" id="7673478">480</span><span class="op" id="7673481">)</span><span class="op" id="7673482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7673485">//&nbsp;Set&nbsp;all&nbsp;pixels&nbsp;to&nbsp;0xFF&nbsp;alpha&nbsp;to&nbsp;force&nbsp;opaque&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673540">bo</span>&nbsp;<span class="op" id="7673543">:=</span>&nbsp;<span class="ident" id="7673546"><a href="/image/png/writer_test.go.html#7673435">img</a></span><span class="op" id="7673549">.</span><span class="ident" id="7673550">Bounds</span><span class="op" id="7673556">(</span><span class="op" id="7673557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673560">for</span>&nbsp;<span class="ident" id="7673564">y</span>&nbsp;<span class="op" id="7673566">:=</span>&nbsp;<span class="ident" id="7673569"><a href="/image/png/writer_test.go.html#7673540">bo</a></span><span class="op" id="7673571">.</span><span class="ident" id="7673572">Min</span><span class="op" id="7673575">.</span><span class="ident" id="7673576">Y</span><span class="op" id="7673577">;</span>&nbsp;<span class="ident" id="7673579"><a href="/image/png/writer_test.go.html#7673564">y</a></span>&nbsp;<span class="op" id="7673581">&lt;</span>&nbsp;<span class="ident" id="7673583"><a href="/image/png/writer_test.go.html#7673540">bo</a></span><span class="op" id="7673585">.</span><span class="ident" id="7673586">Max</span><span class="op" id="7673589">.</span><span class="ident" id="7673590">Y</span><span class="op" id="7673591">;</span>&nbsp;<span class="ident" id="7673593"><a href="/image/png/writer_test.go.html#7673564">y</a></span><span class="op" id="7673594">++</span>&nbsp;<span class="op" id="7673597">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673601">for</span>&nbsp;<span class="ident" id="7673605">x</span>&nbsp;<span class="op" id="7673607">:=</span>&nbsp;<span class="ident" id="7673610"><a href="/image/png/writer_test.go.html#7673540">bo</a></span><span class="op" id="7673612">.</span><span class="ident" id="7673613">Min</span><span class="op" id="7673616">.</span><span class="ident" id="7673617">X</span><span class="op" id="7673618">;</span>&nbsp;<span class="ident" id="7673620"><a href="/image/png/writer_test.go.html#7673605">x</a></span>&nbsp;<span class="op" id="7673622">&lt;</span>&nbsp;<span class="ident" id="7673624"><a href="/image/png/writer_test.go.html#7673540">bo</a></span><span class="op" id="7673626">.</span><span class="ident" id="7673627">Max</span><span class="op" id="7673630">.</span><span class="ident" id="7673631">X</span><span class="op" id="7673632">;</span>&nbsp;<span class="ident" id="7673634"><a href="/image/png/writer_test.go.html#7673605">x</a></span><span class="op" id="7673635">++</span>&nbsp;<span class="op" id="7673638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673643"><a href="/image/png/writer_test.go.html#7673435">img</a></span><span class="op" id="7673646">.</span><span class="ident" id="7673647">Set</span><span class="op" id="7673650">(</span><span class="ident" id="7673651"><a href="/image/png/writer_test.go.html#7673605">x</a></span><span class="op" id="7673652">,</span>&nbsp;<span class="ident" id="7673654"><a href="/image/png/writer_test.go.html#7673564">y</a></span><span class="op" id="7673655">,</span>&nbsp;<span class="ident" id="7673657"><a href="/image/png/writer_test.go.html#7669678">color</a></span><span class="op" id="7673662">.</span><span class="ident" id="7673663">RGBA</span><span class="op" id="7673667">{</span><span class="num" id="7673668">0</span><span class="op" id="7673669">,</span>&nbsp;<span class="num" id="7673671">0</span><span class="op" id="7673672">,</span>&nbsp;<span class="num" id="7673674">0</span><span class="op" id="7673675">,</span>&nbsp;<span class="num" id="7673677">255</span><span class="op" id="7673680">}</span><span class="op" id="7673681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673691">if</span>&nbsp;<span class="op" id="7673694">!</span><span class="ident" id="7673695"><a href="/image/png/writer_test.go.html#7673435">img</a></span><span class="op" id="7673698">.</span><span class="ident" id="7673699">Opaque</span><span class="op" id="7673705">(</span><span class="op" id="7673706">)</span>&nbsp;<span class="op" id="7673708">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673712"><a href="/image/png/writer_test.go.html#7673403">b</a></span><span class="op" id="7673713">.</span><span class="ident" id="7673714">Fatal</span><span class="op" id="7673719">(</span><span class="string" id="7673720">&#34;expected&nbsp;image&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="7673749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673755"><a href="/image/png/writer_test.go.html#7673403">b</a></span><span class="op" id="7673756">.</span><span class="ident" id="7673757">SetBytes</span><span class="op" id="7673765">(</span><span class="num" id="7673766">640</span>&nbsp;<span class="op" id="7673770">*</span>&nbsp;<span class="num" id="7673772">480</span>&nbsp;<span class="op" id="7673776">*</span>&nbsp;<span class="num" id="7673778">4</span><span class="op" id="7673779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673782"><a href="/image/png/writer_test.go.html#7673403">b</a></span><span class="op" id="7673783">.</span><span class="ident" id="7673784">StartTimer</span><span class="op" id="7673794">(</span><span class="op" id="7673795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673798">for</span>&nbsp;<span class="ident" id="7673802">i</span>&nbsp;<span class="op" id="7673804">:=</span>&nbsp;<span class="num" id="7673807">0</span><span class="op" id="7673808">;</span>&nbsp;<span class="ident" id="7673810"><a href="/image/png/writer_test.go.html#7673802">i</a></span>&nbsp;<span class="op" id="7673812">&lt;</span>&nbsp;<span class="ident" id="7673814"><a href="/image/png/writer_test.go.html#7673403">b</a></span><span class="op" id="7673815">.</span><span class="ident" id="7673816">N</span><span class="op" id="7673817">;</span>&nbsp;<span class="ident" id="7673819"><a href="/image/png/writer_test.go.html#7673802">i</a></span><span class="op" id="7673820">++</span>&nbsp;<span class="op" id="7673823">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673827"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7673833">(</span><span class="ident" id="7673834"><a href="/image/png/writer_test.go.html#7669693">ioutil</a></span><span class="op" id="7673840">.</span><span class="ident" id="7673841">Discard</span><span class="op" id="7673848">,</span>&nbsp;<span class="ident" id="7673850"><a href="/image/png/writer_test.go.html#7673435">img</a></span><span class="op" id="7673853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673856">}</span><br>
<span class="lineno"></span><span class="op" id="7673858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7673861">func</span>&nbsp;<span class="ident" id="7673866">BenchmarkEncodeRGBA</span><span class="op" id="7673885">(</span><span class="ident" id="7673886">b</span>&nbsp;<span class="op" id="7673888">*</span><span class="ident" id="7673889"><a href="/image/png/writer_test.go.html#7669706">testing</a></span><span class="op" id="7673896">.</span><span class="ident" id="7673897">B</span><span class="op" id="7673898">)</span>&nbsp;<span class="op" id="7673900">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673903"><a href="/image/png/writer_test.go.html#7673886">b</a></span><span class="op" id="7673904">.</span><span class="ident" id="7673905">StopTimer</span><span class="op" id="7673914">(</span><span class="op" id="7673915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673918">img</span>&nbsp;<span class="op" id="7673922">:=</span>&nbsp;<span class="ident" id="7673925"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7673930">.</span><span class="ident" id="7673931">NewRGBA</span><span class="op" id="7673938">(</span><span class="ident" id="7673939"><a href="/image/png/writer_test.go.html#7669669">image</a></span><span class="op" id="7673944">.</span><span class="ident" id="7673945">Rect</span><span class="op" id="7673949">(</span><span class="num" id="7673950">0</span><span class="op" id="7673951">,</span>&nbsp;<span class="num" id="7673953">0</span><span class="op" id="7673954">,</span>&nbsp;<span class="num" id="7673956">640</span><span class="op" id="7673959">,</span>&nbsp;<span class="num" id="7673961">480</span><span class="op" id="7673964">)</span><span class="op" id="7673965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673968">if</span>&nbsp;<span class="ident" id="7673971"><a href="/image/png/writer_test.go.html#7673918">img</a></span><span class="op" id="7673974">.</span><span class="ident" id="7673975">Opaque</span><span class="op" id="7673981">(</span><span class="op" id="7673982">)</span>&nbsp;<span class="op" id="7673984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673988"><a href="/image/png/writer_test.go.html#7673886">b</a></span><span class="op" id="7673989">.</span><span class="ident" id="7673990">Fatal</span><span class="op" id="7673995">(</span><span class="string" id="7673996">&#34;expected&nbsp;image&nbsp;not&nbsp;to&nbsp;be&nbsp;opaque&#34;</span><span class="op" id="7674029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674032">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674035"><a href="/image/png/writer_test.go.html#7673886">b</a></span><span class="op" id="7674036">.</span><span class="ident" id="7674037">SetBytes</span><span class="op" id="7674045">(</span><span class="num" id="7674046">640</span>&nbsp;<span class="op" id="7674050">*</span>&nbsp;<span class="num" id="7674052">480</span>&nbsp;<span class="op" id="7674056">*</span>&nbsp;<span class="num" id="7674058">4</span><span class="op" id="7674059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674062"><a href="/image/png/writer_test.go.html#7673886">b</a></span><span class="op" id="7674063">.</span><span class="ident" id="7674064">StartTimer</span><span class="op" id="7674074">(</span><span class="op" id="7674075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674078">for</span>&nbsp;<span class="ident" id="7674082">i</span>&nbsp;<span class="op" id="7674084">:=</span>&nbsp;<span class="num" id="7674087">0</span><span class="op" id="7674088">;</span>&nbsp;<span class="ident" id="7674090"><a href="/image/png/writer_test.go.html#7674082">i</a></span>&nbsp;<span class="op" id="7674092">&lt;</span>&nbsp;<span class="ident" id="7674094"><a href="/image/png/writer_test.go.html#7673886">b</a></span><span class="op" id="7674095">.</span><span class="ident" id="7674096">N</span><span class="op" id="7674097">;</span>&nbsp;<span class="ident" id="7674099"><a href="/image/png/writer_test.go.html#7674082">i</a></span><span class="op" id="7674100">++</span>&nbsp;<span class="op" id="7674103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674107"><a href="/image/png/writer.go.html#5609359">Encode</a></span><span class="op" id="7674113">(</span><span class="ident" id="7674114"><a href="/image/png/writer_test.go.html#7669693">ioutil</a></span><span class="op" id="7674120">.</span><span class="ident" id="7674121">Discard</span><span class="op" id="7674128">,</span>&nbsp;<span class="ident" id="7674130"><a href="/image/png/writer_test.go.html#7673918">img</a></span><span class="op" id="7674133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674136">}</span><br>
<span class="lineno">210</span><span class="op" id="7674138">}</span>
</div>
</body>
</html>
