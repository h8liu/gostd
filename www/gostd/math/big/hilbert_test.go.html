<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7248033">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7248088">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7248142">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7248193">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7248258">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7248317">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7248375">package</span>&nbsp;<span class="ident" id="7248383">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7248388">import</span>&nbsp;<span class="op" id="7248395">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7248398">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7248405">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7248415">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7248418">type</span>&nbsp;<span class="ident" id="7248423">matrix</span>&nbsp;<span class="keyword" id="7248430">struct</span>&nbsp;<span class="op" id="7248437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248440">n</span><span class="op" id="7248441">,</span>&nbsp;<span class="ident" id="7248443">m</span>&nbsp;<span class="builtintype" id="7248445">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248450">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248455">[</span><span class="op" id="7248456">]</span><span class="op" id="7248457">*</span><span class="ident" id="7248458">Rat</span><br>
<span class="lineno"></span><span class="op" id="7248462">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7248465">func</span>&nbsp;<span class="op" id="7248470">(</span><span class="ident" id="7248471">a</span>&nbsp;<span class="op" id="7248473">*</span><span class="ident" id="7248474">matrix</span><span class="op" id="7248480">)</span>&nbsp;<span class="ident" id="7248482">at</span><span class="op" id="7248484">(</span><span class="ident" id="7248485">i</span><span class="op" id="7248486">,</span>&nbsp;<span class="ident" id="7248488">j</span>&nbsp;<span class="builtintype" id="7248490">int</span><span class="op" id="7248493">)</span>&nbsp;<span class="op" id="7248495">*</span><span class="ident" id="7248496">Rat</span>&nbsp;<span class="op" id="7248500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248503">if</span>&nbsp;<span class="op" id="7248506">!</span><span class="op" id="7248507">(</span><span class="num" id="7248508">0</span>&nbsp;<span class="op" id="7248510">&lt;=</span>&nbsp;<span class="ident" id="7248513">i</span>&nbsp;<span class="op" id="7248515">&amp;&amp;</span>&nbsp;<span class="ident" id="7248518">i</span>&nbsp;<span class="op" id="7248520">&lt;</span>&nbsp;<span class="ident" id="7248522">a</span><span class="op" id="7248523">.</span><span class="ident" id="7248524">n</span>&nbsp;<span class="op" id="7248526">&amp;&amp;</span>&nbsp;<span class="num" id="7248529">0</span>&nbsp;<span class="op" id="7248531">&lt;=</span>&nbsp;<span class="ident" id="7248534">j</span>&nbsp;<span class="op" id="7248536">&amp;&amp;</span>&nbsp;<span class="ident" id="7248539">j</span>&nbsp;<span class="op" id="7248541">&lt;</span>&nbsp;<span class="ident" id="7248543">a</span><span class="op" id="7248544">.</span><span class="ident" id="7248545">m</span><span class="op" id="7248546">)</span>&nbsp;<span class="op" id="7248548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7248552">panic</span><span class="op" id="7248557">(</span><span class="string" id="7248558">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7248578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7248581">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248584">return</span>&nbsp;<span class="ident" id="7248591">a</span><span class="op" id="7248592">.</span><span class="ident" id="7248593">a</span><span class="op" id="7248594">[</span><span class="ident" id="7248595">i</span><span class="op" id="7248596">*</span><span class="ident" id="7248597">a</span><span class="op" id="7248598">.</span><span class="ident" id="7248599">m</span><span class="op" id="7248600">+</span><span class="ident" id="7248601">j</span><span class="op" id="7248602">]</span><br>
<span class="lineno"></span><span class="op" id="7248604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7248607">func</span>&nbsp;<span class="op" id="7248612">(</span><span class="ident" id="7248613">a</span>&nbsp;<span class="op" id="7248615">*</span><span class="ident" id="7248616">matrix</span><span class="op" id="7248622">)</span>&nbsp;<span class="ident" id="7248624">set</span><span class="op" id="7248627">(</span><span class="ident" id="7248628">i</span><span class="op" id="7248629">,</span>&nbsp;<span class="ident" id="7248631">j</span>&nbsp;<span class="builtintype" id="7248633">int</span><span class="op" id="7248636">,</span>&nbsp;<span class="ident" id="7248638">x</span>&nbsp;<span class="op" id="7248640">*</span><span class="ident" id="7248641">Rat</span><span class="op" id="7248644">)</span>&nbsp;<span class="op" id="7248646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248649">if</span>&nbsp;<span class="op" id="7248652">!</span><span class="op" id="7248653">(</span><span class="num" id="7248654">0</span>&nbsp;<span class="op" id="7248656">&lt;=</span>&nbsp;<span class="ident" id="7248659">i</span>&nbsp;<span class="op" id="7248661">&amp;&amp;</span>&nbsp;<span class="ident" id="7248664">i</span>&nbsp;<span class="op" id="7248666">&lt;</span>&nbsp;<span class="ident" id="7248668">a</span><span class="op" id="7248669">.</span><span class="ident" id="7248670">n</span>&nbsp;<span class="op" id="7248672">&amp;&amp;</span>&nbsp;<span class="num" id="7248675">0</span>&nbsp;<span class="op" id="7248677">&lt;=</span>&nbsp;<span class="ident" id="7248680">j</span>&nbsp;<span class="op" id="7248682">&amp;&amp;</span>&nbsp;<span class="ident" id="7248685">j</span>&nbsp;<span class="op" id="7248687">&lt;</span>&nbsp;<span class="ident" id="7248689">a</span><span class="op" id="7248690">.</span><span class="ident" id="7248691">m</span><span class="op" id="7248692">)</span>&nbsp;<span class="op" id="7248694">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7248698">panic</span><span class="op" id="7248703">(</span><span class="string" id="7248704">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7248724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7248727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248730">a</span><span class="op" id="7248731">.</span><span class="ident" id="7248732">a</span><span class="op" id="7248733">[</span><span class="ident" id="7248734">i</span><span class="op" id="7248735">*</span><span class="ident" id="7248736">a</span><span class="op" id="7248737">.</span><span class="ident" id="7248738">m</span><span class="op" id="7248739">+</span><span class="ident" id="7248740">j</span><span class="op" id="7248741">]</span>&nbsp;<span class="op" id="7248743">=</span>&nbsp;<span class="ident" id="7248745">x</span><br>
<span class="lineno"></span><span class="op" id="7248747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7248750">func</span>&nbsp;<span class="ident" id="7248755">newMatrix</span><span class="op" id="7248764">(</span><span class="ident" id="7248765">n</span><span class="op" id="7248766">,</span>&nbsp;<span class="ident" id="7248768">m</span>&nbsp;<span class="builtintype" id="7248770">int</span><span class="op" id="7248773">)</span>&nbsp;<span class="op" id="7248775">*</span><span class="ident" id="7248776">matrix</span>&nbsp;<span class="op" id="7248783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248786">if</span>&nbsp;<span class="op" id="7248789">!</span><span class="op" id="7248790">(</span><span class="num" id="7248791">0</span>&nbsp;<span class="op" id="7248793">&lt;=</span>&nbsp;<span class="ident" id="7248796">n</span>&nbsp;<span class="op" id="7248798">&amp;&amp;</span>&nbsp;<span class="num" id="7248801">0</span>&nbsp;<span class="op" id="7248803">&lt;=</span>&nbsp;<span class="ident" id="7248806">m</span><span class="op" id="7248807">)</span>&nbsp;<span class="op" id="7248809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7248813">panic</span><span class="op" id="7248818">(</span><span class="string" id="7248819">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7248835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7248838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248841">a</span>&nbsp;<span class="op" id="7248843">:=</span>&nbsp;<span class="builtinfunc" id="7248846">new</span><span class="op" id="7248849">(</span><span class="ident" id="7248850">matrix</span><span class="op" id="7248856">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248859">a</span><span class="op" id="7248860">.</span><span class="ident" id="7248861">n</span>&nbsp;<span class="op" id="7248863">=</span>&nbsp;<span class="ident" id="7248865">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248868">a</span><span class="op" id="7248869">.</span><span class="ident" id="7248870">m</span>&nbsp;<span class="op" id="7248872">=</span>&nbsp;<span class="ident" id="7248874">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248877">a</span><span class="op" id="7248878">.</span><span class="ident" id="7248879">a</span>&nbsp;<span class="op" id="7248881">=</span>&nbsp;<span class="builtinfunc" id="7248883">make</span><span class="op" id="7248887">(</span><span class="op" id="7248888">[</span><span class="op" id="7248889">]</span><span class="op" id="7248890">*</span><span class="ident" id="7248891">Rat</span><span class="op" id="7248894">,</span>&nbsp;<span class="ident" id="7248896">n</span><span class="op" id="7248897">*</span><span class="ident" id="7248898">m</span><span class="op" id="7248899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248902">return</span>&nbsp;<span class="ident" id="7248909">a</span><br>
<span class="lineno"></span><span class="op" id="7248911">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7248914">func</span>&nbsp;<span class="ident" id="7248919">newUnit</span><span class="op" id="7248926">(</span><span class="ident" id="7248927">n</span>&nbsp;<span class="builtintype" id="7248929">int</span><span class="op" id="7248932">)</span>&nbsp;<span class="op" id="7248934">*</span><span class="ident" id="7248935">matrix</span>&nbsp;<span class="op" id="7248942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7248945">a</span>&nbsp;<span class="op" id="7248947">:=</span>&nbsp;<span class="ident" id="7248950">newMatrix</span><span class="op" id="7248959">(</span><span class="ident" id="7248960">n</span><span class="op" id="7248961">,</span>&nbsp;<span class="ident" id="7248963">n</span><span class="op" id="7248964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248967">for</span>&nbsp;<span class="ident" id="7248971">i</span>&nbsp;<span class="op" id="7248973">:=</span>&nbsp;<span class="num" id="7248976">0</span><span class="op" id="7248977">;</span>&nbsp;<span class="ident" id="7248979">i</span>&nbsp;<span class="op" id="7248981">&lt;</span>&nbsp;<span class="ident" id="7248983">n</span><span class="op" id="7248984">;</span>&nbsp;<span class="ident" id="7248986">i</span><span class="op" id="7248987">++</span>&nbsp;<span class="op" id="7248990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7248994">for</span>&nbsp;<span class="ident" id="7248998">j</span>&nbsp;<span class="op" id="7249000">:=</span>&nbsp;<span class="num" id="7249003">0</span><span class="op" id="7249004">;</span>&nbsp;<span class="ident" id="7249006">j</span>&nbsp;<span class="op" id="7249008">&lt;</span>&nbsp;<span class="ident" id="7249010">n</span><span class="op" id="7249011">;</span>&nbsp;<span class="ident" id="7249013">j</span><span class="op" id="7249014">++</span>&nbsp;<span class="op" id="7249017">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249022">x</span>&nbsp;<span class="op" id="7249024">:=</span>&nbsp;<span class="ident" id="7249027">NewRat</span><span class="op" id="7249033">(</span><span class="num" id="7249034">0</span><span class="op" id="7249035">,</span>&nbsp;<span class="num" id="7249037">1</span><span class="op" id="7249038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249043">if</span>&nbsp;<span class="ident" id="7249046">i</span>&nbsp;<span class="op" id="7249048">==</span>&nbsp;<span class="ident" id="7249051">j</span>&nbsp;<span class="op" id="7249053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249059">x</span><span class="op" id="7249060">.</span><span class="ident" id="7249061">SetInt64</span><span class="op" id="7249069">(</span><span class="num" id="7249070">1</span><span class="op" id="7249071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249081">a</span><span class="op" id="7249082">.</span><span class="ident" id="7249083">set</span><span class="op" id="7249086">(</span><span class="ident" id="7249087">i</span><span class="op" id="7249088">,</span>&nbsp;<span class="ident" id="7249090">j</span><span class="op" id="7249091">,</span>&nbsp;<span class="ident" id="7249093">x</span><span class="op" id="7249094">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249104">return</span>&nbsp;<span class="ident" id="7249111">a</span><br>
<span class="lineno"></span><span class="op" id="7249113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7249116">func</span>&nbsp;<span class="ident" id="7249121">newHilbert</span><span class="op" id="7249131">(</span><span class="ident" id="7249132">n</span>&nbsp;<span class="builtintype" id="7249134">int</span><span class="op" id="7249137">)</span>&nbsp;<span class="op" id="7249139">*</span><span class="ident" id="7249140">matrix</span>&nbsp;<span class="op" id="7249147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249150">a</span>&nbsp;<span class="op" id="7249152">:=</span>&nbsp;<span class="ident" id="7249155">newMatrix</span><span class="op" id="7249164">(</span><span class="ident" id="7249165">n</span><span class="op" id="7249166">,</span>&nbsp;<span class="ident" id="7249168">n</span><span class="op" id="7249169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249172">for</span>&nbsp;<span class="ident" id="7249176">i</span>&nbsp;<span class="op" id="7249178">:=</span>&nbsp;<span class="num" id="7249181">0</span><span class="op" id="7249182">;</span>&nbsp;<span class="ident" id="7249184">i</span>&nbsp;<span class="op" id="7249186">&lt;</span>&nbsp;<span class="ident" id="7249188">n</span><span class="op" id="7249189">;</span>&nbsp;<span class="ident" id="7249191">i</span><span class="op" id="7249192">++</span>&nbsp;<span class="op" id="7249195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249199">for</span>&nbsp;<span class="ident" id="7249203">j</span>&nbsp;<span class="op" id="7249205">:=</span>&nbsp;<span class="num" id="7249208">0</span><span class="op" id="7249209">;</span>&nbsp;<span class="ident" id="7249211">j</span>&nbsp;<span class="op" id="7249213">&lt;</span>&nbsp;<span class="ident" id="7249215">n</span><span class="op" id="7249216">;</span>&nbsp;<span class="ident" id="7249218">j</span><span class="op" id="7249219">++</span>&nbsp;<span class="op" id="7249222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249227">a</span><span class="op" id="7249228">.</span><span class="ident" id="7249229">set</span><span class="op" id="7249232">(</span><span class="ident" id="7249233">i</span><span class="op" id="7249234">,</span>&nbsp;<span class="ident" id="7249236">j</span><span class="op" id="7249237">,</span>&nbsp;<span class="ident" id="7249239">NewRat</span><span class="op" id="7249245">(</span><span class="num" id="7249246">1</span><span class="op" id="7249247">,</span>&nbsp;<span class="ident" id="7249249">int64</span><span class="op" id="7249254">(</span><span class="ident" id="7249255">i</span><span class="op" id="7249256">+</span><span class="ident" id="7249257">j</span><span class="op" id="7249258">+</span><span class="num" id="7249259">1</span><span class="op" id="7249260">)</span><span class="op" id="7249261">)</span><span class="op" id="7249262">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249272">return</span>&nbsp;<span class="ident" id="7249279">a</span><br>
<span class="lineno"></span><span class="op" id="7249281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7249284">func</span>&nbsp;<span class="ident" id="7249289">newInverseHilbert</span><span class="op" id="7249306">(</span><span class="ident" id="7249307">n</span>&nbsp;<span class="builtintype" id="7249309">int</span><span class="op" id="7249312">)</span>&nbsp;<span class="op" id="7249314">*</span><span class="ident" id="7249315">matrix</span>&nbsp;<span class="op" id="7249322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249325">a</span>&nbsp;<span class="op" id="7249327">:=</span>&nbsp;<span class="ident" id="7249330">newMatrix</span><span class="op" id="7249339">(</span><span class="ident" id="7249340">n</span><span class="op" id="7249341">,</span>&nbsp;<span class="ident" id="7249343">n</span><span class="op" id="7249344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249347">for</span>&nbsp;<span class="ident" id="7249351">i</span>&nbsp;<span class="op" id="7249353">:=</span>&nbsp;<span class="num" id="7249356">0</span><span class="op" id="7249357">;</span>&nbsp;<span class="ident" id="7249359">i</span>&nbsp;<span class="op" id="7249361">&lt;</span>&nbsp;<span class="ident" id="7249363">n</span><span class="op" id="7249364">;</span>&nbsp;<span class="ident" id="7249366">i</span><span class="op" id="7249367">++</span>&nbsp;<span class="op" id="7249370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249374">for</span>&nbsp;<span class="ident" id="7249378">j</span>&nbsp;<span class="op" id="7249380">:=</span>&nbsp;<span class="num" id="7249383">0</span><span class="op" id="7249384">;</span>&nbsp;<span class="ident" id="7249386">j</span>&nbsp;<span class="op" id="7249388">&lt;</span>&nbsp;<span class="ident" id="7249390">n</span><span class="op" id="7249391">;</span>&nbsp;<span class="ident" id="7249393">j</span><span class="op" id="7249394">++</span>&nbsp;<span class="op" id="7249397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249402">x1</span>&nbsp;<span class="op" id="7249405">:=</span>&nbsp;<span class="builtinfunc" id="7249408">new</span><span class="op" id="7249411">(</span><span class="ident" id="7249412">Rat</span><span class="op" id="7249415">)</span><span class="op" id="7249416">.</span><span class="ident" id="7249417">SetInt64</span><span class="op" id="7249425">(</span><span class="ident" id="7249426">int64</span><span class="op" id="7249431">(</span><span class="ident" id="7249432">i</span>&nbsp;<span class="op" id="7249434">+</span>&nbsp;<span class="ident" id="7249436">j</span>&nbsp;<span class="op" id="7249438">+</span>&nbsp;<span class="num" id="7249440">1</span><span class="op" id="7249441">)</span><span class="op" id="7249442">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249447">x2</span>&nbsp;<span class="op" id="7249450">:=</span>&nbsp;<span class="builtinfunc" id="7249453">new</span><span class="op" id="7249456">(</span><span class="ident" id="7249457">Rat</span><span class="op" id="7249460">)</span><span class="op" id="7249461">.</span><span class="ident" id="7249462">SetInt</span><span class="op" id="7249468">(</span><span class="builtinfunc" id="7249469">new</span><span class="op" id="7249472">(</span><span class="ident" id="7249473">Int</span><span class="op" id="7249476">)</span><span class="op" id="7249477">.</span><span class="ident" id="7249478">Binomial</span><span class="op" id="7249486">(</span><span class="ident" id="7249487">int64</span><span class="op" id="7249492">(</span><span class="ident" id="7249493">n</span><span class="op" id="7249494">+</span><span class="ident" id="7249495">i</span><span class="op" id="7249496">)</span><span class="op" id="7249497">,</span>&nbsp;<span class="ident" id="7249499">int64</span><span class="op" id="7249504">(</span><span class="ident" id="7249505">n</span><span class="op" id="7249506">-</span><span class="ident" id="7249507">j</span><span class="op" id="7249508">-</span><span class="num" id="7249509">1</span><span class="op" id="7249510">)</span><span class="op" id="7249511">)</span><span class="op" id="7249512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249517">x3</span>&nbsp;<span class="op" id="7249520">:=</span>&nbsp;<span class="builtinfunc" id="7249523">new</span><span class="op" id="7249526">(</span><span class="ident" id="7249527">Rat</span><span class="op" id="7249530">)</span><span class="op" id="7249531">.</span><span class="ident" id="7249532">SetInt</span><span class="op" id="7249538">(</span><span class="builtinfunc" id="7249539">new</span><span class="op" id="7249542">(</span><span class="ident" id="7249543">Int</span><span class="op" id="7249546">)</span><span class="op" id="7249547">.</span><span class="ident" id="7249548">Binomial</span><span class="op" id="7249556">(</span><span class="ident" id="7249557">int64</span><span class="op" id="7249562">(</span><span class="ident" id="7249563">n</span><span class="op" id="7249564">+</span><span class="ident" id="7249565">j</span><span class="op" id="7249566">)</span><span class="op" id="7249567">,</span>&nbsp;<span class="ident" id="7249569">int64</span><span class="op" id="7249574">(</span><span class="ident" id="7249575">n</span><span class="op" id="7249576">-</span><span class="ident" id="7249577">i</span><span class="op" id="7249578">-</span><span class="num" id="7249579">1</span><span class="op" id="7249580">)</span><span class="op" id="7249581">)</span><span class="op" id="7249582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249587">x4</span>&nbsp;<span class="op" id="7249590">:=</span>&nbsp;<span class="builtinfunc" id="7249593">new</span><span class="op" id="7249596">(</span><span class="ident" id="7249597">Rat</span><span class="op" id="7249600">)</span><span class="op" id="7249601">.</span><span class="ident" id="7249602">SetInt</span><span class="op" id="7249608">(</span><span class="builtinfunc" id="7249609">new</span><span class="op" id="7249612">(</span><span class="ident" id="7249613">Int</span><span class="op" id="7249616">)</span><span class="op" id="7249617">.</span><span class="ident" id="7249618">Binomial</span><span class="op" id="7249626">(</span><span class="ident" id="7249627">int64</span><span class="op" id="7249632">(</span><span class="ident" id="7249633">i</span><span class="op" id="7249634">+</span><span class="ident" id="7249635">j</span><span class="op" id="7249636">)</span><span class="op" id="7249637">,</span>&nbsp;<span class="ident" id="7249639">int64</span><span class="op" id="7249644">(</span><span class="ident" id="7249645">i</span><span class="op" id="7249646">)</span><span class="op" id="7249647">)</span><span class="op" id="7249648">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249654">x1</span><span class="op" id="7249656">.</span><span class="ident" id="7249657">Mul</span><span class="op" id="7249660">(</span><span class="ident" id="7249661">x1</span><span class="op" id="7249663">,</span>&nbsp;<span class="ident" id="7249665">x2</span><span class="op" id="7249667">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249672">x1</span><span class="op" id="7249674">.</span><span class="ident" id="7249675">Mul</span><span class="op" id="7249678">(</span><span class="ident" id="7249679">x1</span><span class="op" id="7249681">,</span>&nbsp;<span class="ident" id="7249683">x3</span><span class="op" id="7249685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249690">x1</span><span class="op" id="7249692">.</span><span class="ident" id="7249693">Mul</span><span class="op" id="7249696">(</span><span class="ident" id="7249697">x1</span><span class="op" id="7249699">,</span>&nbsp;<span class="ident" id="7249701">x4</span><span class="op" id="7249703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249708">x1</span><span class="op" id="7249710">.</span><span class="ident" id="7249711">Mul</span><span class="op" id="7249714">(</span><span class="ident" id="7249715">x1</span><span class="op" id="7249717">,</span>&nbsp;<span class="ident" id="7249719">x4</span><span class="op" id="7249721">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249727">if</span>&nbsp;<span class="op" id="7249730">(</span><span class="ident" id="7249731">i</span><span class="op" id="7249732">+</span><span class="ident" id="7249733">j</span><span class="op" id="7249734">)</span><span class="op" id="7249735">&amp;</span><span class="num" id="7249736">1</span>&nbsp;<span class="op" id="7249738">!=</span>&nbsp;<span class="num" id="7249741">0</span>&nbsp;<span class="op" id="7249743">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249749">x1</span><span class="op" id="7249751">.</span><span class="ident" id="7249752">Neg</span><span class="op" id="7249755">(</span><span class="ident" id="7249756">x1</span><span class="op" id="7249758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249769">a</span><span class="op" id="7249770">.</span><span class="ident" id="7249771">set</span><span class="op" id="7249774">(</span><span class="ident" id="7249775">i</span><span class="op" id="7249776">,</span>&nbsp;<span class="ident" id="7249778">j</span><span class="op" id="7249779">,</span>&nbsp;<span class="ident" id="7249781">x1</span><span class="op" id="7249783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249787">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249793">return</span>&nbsp;<span class="ident" id="7249800">a</span><br>
<span class="lineno"></span><span class="op" id="7249802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7249805">func</span>&nbsp;<span class="op" id="7249810">(</span><span class="ident" id="7249811">a</span>&nbsp;<span class="op" id="7249813">*</span><span class="ident" id="7249814">matrix</span><span class="op" id="7249820">)</span>&nbsp;<span class="ident" id="7249822">mul</span><span class="op" id="7249825">(</span><span class="ident" id="7249826">b</span>&nbsp;<span class="op" id="7249828">*</span><span class="ident" id="7249829">matrix</span><span class="op" id="7249835">)</span>&nbsp;<span class="op" id="7249837">*</span><span class="ident" id="7249838">matrix</span>&nbsp;<span class="op" id="7249845">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249848">if</span>&nbsp;<span class="ident" id="7249851">a</span><span class="op" id="7249852">.</span><span class="ident" id="7249853">m</span>&nbsp;<span class="op" id="7249855">!=</span>&nbsp;<span class="ident" id="7249858">b</span><span class="op" id="7249859">.</span><span class="ident" id="7249860">n</span>&nbsp;<span class="op" id="7249862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7249866">panic</span><span class="op" id="7249871">(</span><span class="string" id="7249872">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7249897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7249900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249903">c</span>&nbsp;<span class="op" id="7249905">:=</span>&nbsp;<span class="ident" id="7249908">newMatrix</span><span class="op" id="7249917">(</span><span class="ident" id="7249918">a</span><span class="op" id="7249919">.</span><span class="ident" id="7249920">n</span><span class="op" id="7249921">,</span>&nbsp;<span class="ident" id="7249923">b</span><span class="op" id="7249924">.</span><span class="ident" id="7249925">m</span><span class="op" id="7249926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249929">for</span>&nbsp;<span class="ident" id="7249933">i</span>&nbsp;<span class="op" id="7249935">:=</span>&nbsp;<span class="num" id="7249938">0</span><span class="op" id="7249939">;</span>&nbsp;<span class="ident" id="7249941">i</span>&nbsp;<span class="op" id="7249943">&lt;</span>&nbsp;<span class="ident" id="7249945">c</span><span class="op" id="7249946">.</span><span class="ident" id="7249947">n</span><span class="op" id="7249948">;</span>&nbsp;<span class="ident" id="7249950">i</span><span class="op" id="7249951">++</span>&nbsp;<span class="op" id="7249954">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7249958">for</span>&nbsp;<span class="ident" id="7249962">j</span>&nbsp;<span class="op" id="7249964">:=</span>&nbsp;<span class="num" id="7249967">0</span><span class="op" id="7249968">;</span>&nbsp;<span class="ident" id="7249970">j</span>&nbsp;<span class="op" id="7249972">&lt;</span>&nbsp;<span class="ident" id="7249974">c</span><span class="op" id="7249975">.</span><span class="ident" id="7249976">m</span><span class="op" id="7249977">;</span>&nbsp;<span class="ident" id="7249979">j</span><span class="op" id="7249980">++</span>&nbsp;<span class="op" id="7249983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7249988">x</span>&nbsp;<span class="op" id="7249990">:=</span>&nbsp;<span class="ident" id="7249993">NewRat</span><span class="op" id="7249999">(</span><span class="num" id="7250000">0</span><span class="op" id="7250001">,</span>&nbsp;<span class="num" id="7250003">1</span><span class="op" id="7250004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250009">for</span>&nbsp;<span class="ident" id="7250013">k</span>&nbsp;<span class="op" id="7250015">:=</span>&nbsp;<span class="num" id="7250018">0</span><span class="op" id="7250019">;</span>&nbsp;<span class="ident" id="7250021">k</span>&nbsp;<span class="op" id="7250023">&lt;</span>&nbsp;<span class="ident" id="7250025">a</span><span class="op" id="7250026">.</span><span class="ident" id="7250027">m</span><span class="op" id="7250028">;</span>&nbsp;<span class="ident" id="7250030">k</span><span class="op" id="7250031">++</span>&nbsp;<span class="op" id="7250034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250040">x</span><span class="op" id="7250041">.</span><span class="ident" id="7250042">Add</span><span class="op" id="7250045">(</span><span class="ident" id="7250046">x</span><span class="op" id="7250047">,</span>&nbsp;<span class="builtinfunc" id="7250049">new</span><span class="op" id="7250052">(</span><span class="ident" id="7250053">Rat</span><span class="op" id="7250056">)</span><span class="op" id="7250057">.</span><span class="ident" id="7250058">Mul</span><span class="op" id="7250061">(</span><span class="ident" id="7250062">a</span><span class="op" id="7250063">.</span><span class="ident" id="7250064">at</span><span class="op" id="7250066">(</span><span class="ident" id="7250067">i</span><span class="op" id="7250068">,</span>&nbsp;<span class="ident" id="7250070">k</span><span class="op" id="7250071">)</span><span class="op" id="7250072">,</span>&nbsp;<span class="ident" id="7250074">b</span><span class="op" id="7250075">.</span><span class="ident" id="7250076">at</span><span class="op" id="7250078">(</span><span class="ident" id="7250079">k</span><span class="op" id="7250080">,</span>&nbsp;<span class="ident" id="7250082">j</span><span class="op" id="7250083">)</span><span class="op" id="7250084">)</span><span class="op" id="7250085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250090">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250095">c</span><span class="op" id="7250096">.</span><span class="ident" id="7250097">set</span><span class="op" id="7250100">(</span><span class="ident" id="7250101">i</span><span class="op" id="7250102">,</span>&nbsp;<span class="ident" id="7250104">j</span><span class="op" id="7250105">,</span>&nbsp;<span class="ident" id="7250107">x</span><span class="op" id="7250108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250118">return</span>&nbsp;<span class="ident" id="7250125">c</span><br>
<span class="lineno"></span><span class="op" id="7250127">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7250130">func</span>&nbsp;<span class="op" id="7250135">(</span><span class="ident" id="7250136">a</span>&nbsp;<span class="op" id="7250138">*</span><span class="ident" id="7250139">matrix</span><span class="op" id="7250145">)</span>&nbsp;<span class="ident" id="7250147">eql</span><span class="op" id="7250150">(</span><span class="ident" id="7250151">b</span>&nbsp;<span class="op" id="7250153">*</span><span class="ident" id="7250154">matrix</span><span class="op" id="7250160">)</span>&nbsp;<span class="builtintype" id="7250162">bool</span>&nbsp;<span class="op" id="7250167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250170">if</span>&nbsp;<span class="ident" id="7250173">a</span><span class="op" id="7250174">.</span><span class="ident" id="7250175">n</span>&nbsp;<span class="op" id="7250177">!=</span>&nbsp;<span class="ident" id="7250180">b</span><span class="op" id="7250181">.</span><span class="ident" id="7250182">n</span>&nbsp;<span class="op" id="7250184">||</span>&nbsp;<span class="ident" id="7250187">a</span><span class="op" id="7250188">.</span><span class="ident" id="7250189">m</span>&nbsp;<span class="op" id="7250191">!=</span>&nbsp;<span class="ident" id="7250194">b</span><span class="op" id="7250195">.</span><span class="ident" id="7250196">m</span>&nbsp;<span class="op" id="7250198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250202">return</span>&nbsp;<span class="builtintype" id="7250209">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250216">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250219">for</span>&nbsp;<span class="ident" id="7250223">i</span>&nbsp;<span class="op" id="7250225">:=</span>&nbsp;<span class="num" id="7250228">0</span><span class="op" id="7250229">;</span>&nbsp;<span class="ident" id="7250231">i</span>&nbsp;<span class="op" id="7250233">&lt;</span>&nbsp;<span class="ident" id="7250235">a</span><span class="op" id="7250236">.</span><span class="ident" id="7250237">n</span><span class="op" id="7250238">;</span>&nbsp;<span class="ident" id="7250240">i</span><span class="op" id="7250241">++</span>&nbsp;<span class="op" id="7250244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250248">for</span>&nbsp;<span class="ident" id="7250252">j</span>&nbsp;<span class="op" id="7250254">:=</span>&nbsp;<span class="num" id="7250257">0</span><span class="op" id="7250258">;</span>&nbsp;<span class="ident" id="7250260">j</span>&nbsp;<span class="op" id="7250262">&lt;</span>&nbsp;<span class="ident" id="7250264">a</span><span class="op" id="7250265">.</span><span class="ident" id="7250266">m</span><span class="op" id="7250267">;</span>&nbsp;<span class="ident" id="7250269">j</span><span class="op" id="7250270">++</span>&nbsp;<span class="op" id="7250273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250278">if</span>&nbsp;<span class="ident" id="7250281">a</span><span class="op" id="7250282">.</span><span class="ident" id="7250283">at</span><span class="op" id="7250285">(</span><span class="ident" id="7250286">i</span><span class="op" id="7250287">,</span>&nbsp;<span class="ident" id="7250289">j</span><span class="op" id="7250290">)</span><span class="op" id="7250291">.</span><span class="ident" id="7250292">Cmp</span><span class="op" id="7250295">(</span><span class="ident" id="7250296">b</span><span class="op" id="7250297">.</span><span class="ident" id="7250298">at</span><span class="op" id="7250300">(</span><span class="ident" id="7250301">i</span><span class="op" id="7250302">,</span>&nbsp;<span class="ident" id="7250304">j</span><span class="op" id="7250305">)</span><span class="op" id="7250306">)</span>&nbsp;<span class="op" id="7250308">!=</span>&nbsp;<span class="num" id="7250311">0</span>&nbsp;<span class="op" id="7250313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250319">return</span>&nbsp;<span class="builtintype" id="7250326">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250335">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250345">return</span>&nbsp;<span class="builtintype" id="7250352">true</span><br>
<span class="lineno"></span><span class="op" id="7250357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7250360">func</span>&nbsp;<span class="op" id="7250365">(</span><span class="ident" id="7250366">a</span>&nbsp;<span class="op" id="7250368">*</span><span class="ident" id="7250369">matrix</span><span class="op" id="7250375">)</span>&nbsp;<span class="ident" id="7250377">String</span><span class="op" id="7250383">(</span><span class="op" id="7250384">)</span>&nbsp;<span class="builtintype" id="7250386">string</span>&nbsp;<span class="op" id="7250393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250396">s</span>&nbsp;<span class="op" id="7250398">:=</span>&nbsp;<span class="string" id="7250401">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250405">for</span>&nbsp;<span class="ident" id="7250409">i</span>&nbsp;<span class="op" id="7250411">:=</span>&nbsp;<span class="num" id="7250414">0</span><span class="op" id="7250415">;</span>&nbsp;<span class="ident" id="7250417">i</span>&nbsp;<span class="op" id="7250419">&lt;</span>&nbsp;<span class="ident" id="7250421">a</span><span class="op" id="7250422">.</span><span class="ident" id="7250423">n</span><span class="op" id="7250424">;</span>&nbsp;<span class="ident" id="7250426">i</span><span class="op" id="7250427">++</span>&nbsp;<span class="op" id="7250430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250434">for</span>&nbsp;<span class="ident" id="7250438">j</span>&nbsp;<span class="op" id="7250440">:=</span>&nbsp;<span class="num" id="7250443">0</span><span class="op" id="7250444">;</span>&nbsp;<span class="ident" id="7250446">j</span>&nbsp;<span class="op" id="7250448">&lt;</span>&nbsp;<span class="ident" id="7250450">a</span><span class="op" id="7250451">.</span><span class="ident" id="7250452">m</span><span class="op" id="7250453">;</span>&nbsp;<span class="ident" id="7250455">j</span><span class="op" id="7250456">++</span>&nbsp;<span class="op" id="7250459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250464">s</span>&nbsp;<span class="op" id="7250466">+=</span>&nbsp;<span class="ident" id="7250469">fmt</span><span class="op" id="7250472">.</span><span class="ident" id="7250473">Sprintf</span><span class="op" id="7250480">(</span><span class="string" id="7250481">&#34;\t%s&#34;</span><span class="op" id="7250487">,</span>&nbsp;<span class="ident" id="7250489">a</span><span class="op" id="7250490">.</span><span class="ident" id="7250491">at</span><span class="op" id="7250493">(</span><span class="ident" id="7250494">i</span><span class="op" id="7250495">,</span>&nbsp;<span class="ident" id="7250497">j</span><span class="op" id="7250498">)</span><span class="op" id="7250499">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250507">s</span>&nbsp;<span class="op" id="7250509">+=</span>&nbsp;<span class="string" id="7250512">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250521">return</span>&nbsp;<span class="ident" id="7250528">s</span><br>
<span class="lineno"></span><span class="op" id="7250530">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7250533">func</span>&nbsp;<span class="ident" id="7250538">doHilbert</span><span class="op" id="7250547">(</span><span class="ident" id="7250548">t</span>&nbsp;<span class="op" id="7250550">*</span><span class="ident" id="7250551">testing</span><span class="op" id="7250558">.</span><span class="ident" id="7250559">T</span><span class="op" id="7250560">,</span>&nbsp;<span class="ident" id="7250562">n</span>&nbsp;<span class="builtintype" id="7250564">int</span><span class="op" id="7250567">)</span>&nbsp;<span class="op" id="7250569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250572">a</span>&nbsp;<span class="op" id="7250574">:=</span>&nbsp;<span class="ident" id="7250577">newHilbert</span><span class="op" id="7250587">(</span><span class="ident" id="7250588">n</span><span class="op" id="7250589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250592">b</span>&nbsp;<span class="op" id="7250594">:=</span>&nbsp;<span class="ident" id="7250597">newInverseHilbert</span><span class="op" id="7250614">(</span><span class="ident" id="7250615">n</span><span class="op" id="7250616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250619">I</span>&nbsp;<span class="op" id="7250621">:=</span>&nbsp;<span class="ident" id="7250624">newUnit</span><span class="op" id="7250631">(</span><span class="ident" id="7250632">n</span><span class="op" id="7250633">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250636">ab</span>&nbsp;<span class="op" id="7250639">:=</span>&nbsp;<span class="ident" id="7250642">a</span><span class="op" id="7250643">.</span><span class="ident" id="7250644">mul</span><span class="op" id="7250647">(</span><span class="ident" id="7250648">b</span><span class="op" id="7250649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250652">if</span>&nbsp;<span class="op" id="7250655">!</span><span class="ident" id="7250656">ab</span><span class="op" id="7250658">.</span><span class="ident" id="7250659">eql</span><span class="op" id="7250662">(</span><span class="ident" id="7250663">I</span><span class="op" id="7250664">)</span>&nbsp;<span class="op" id="7250666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250670">if</span>&nbsp;<span class="ident" id="7250673">t</span>&nbsp;<span class="op" id="7250675">==</span>&nbsp;<span class="ident" id="7250678">nil</span>&nbsp;<span class="op" id="7250682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7250687">panic</span><span class="op" id="7250692">(</span><span class="string" id="7250693">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7250709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250713">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250717">t</span><span class="op" id="7250718">.</span><span class="ident" id="7250719">Errorf</span><span class="op" id="7250725">(</span><span class="string" id="7250726">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7250738">,</span>&nbsp;<span class="ident" id="7250740">a</span><span class="op" id="7250741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250745">t</span><span class="op" id="7250746">.</span><span class="ident" id="7250747">Errorf</span><span class="op" id="7250753">(</span><span class="string" id="7250754">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7250766">,</span>&nbsp;<span class="ident" id="7250768">b</span><span class="op" id="7250769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250773">t</span><span class="op" id="7250774">.</span><span class="ident" id="7250775">Errorf</span><span class="op" id="7250781">(</span><span class="string" id="7250782">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7250794">,</span>&nbsp;<span class="ident" id="7250796">ab</span><span class="op" id="7250798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250802">t</span><span class="op" id="7250803">.</span><span class="ident" id="7250804">Errorf</span><span class="op" id="7250810">(</span><span class="string" id="7250811">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7250823">,</span>&nbsp;<span class="ident" id="7250825">I</span><span class="op" id="7250826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250829">}</span><br>
<span class="lineno">150</span><span class="op" id="7250831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7250834">func</span>&nbsp;<span class="ident" id="7250839">TestHilbert</span><span class="op" id="7250850">(</span><span class="ident" id="7250851">t</span>&nbsp;<span class="op" id="7250853">*</span><span class="ident" id="7250854">testing</span><span class="op" id="7250861">.</span><span class="ident" id="7250862">T</span><span class="op" id="7250863">)</span>&nbsp;<span class="op" id="7250865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250868">doHilbert</span><span class="op" id="7250877">(</span><span class="ident" id="7250878">t</span><span class="op" id="7250879">,</span>&nbsp;<span class="num" id="7250881">10</span><span class="op" id="7250883">)</span><br>
<span class="lineno"></span><span class="op" id="7250885">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7250888">func</span>&nbsp;<span class="ident" id="7250893">BenchmarkHilbert</span><span class="op" id="7250909">(</span><span class="ident" id="7250910">b</span>&nbsp;<span class="op" id="7250912">*</span><span class="ident" id="7250913">testing</span><span class="op" id="7250920">.</span><span class="ident" id="7250921">B</span><span class="op" id="7250922">)</span>&nbsp;<span class="op" id="7250924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7250927">for</span>&nbsp;<span class="ident" id="7250931">i</span>&nbsp;<span class="op" id="7250933">:=</span>&nbsp;<span class="num" id="7250936">0</span><span class="op" id="7250937">;</span>&nbsp;<span class="ident" id="7250939">i</span>&nbsp;<span class="op" id="7250941">&lt;</span>&nbsp;<span class="ident" id="7250943">b</span><span class="op" id="7250944">.</span><span class="ident" id="7250945">N</span><span class="op" id="7250946">;</span>&nbsp;<span class="ident" id="7250948">i</span><span class="op" id="7250949">++</span>&nbsp;<span class="op" id="7250952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7250956">doHilbert</span><span class="op" id="7250965">(</span><span class="ident" id="7250966">nil</span><span class="op" id="7250969">,</span>&nbsp;<span class="num" id="7250971">10</span><span class="op" id="7250973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7250976">}</span><br>
<span class="lineno">160</span><span class="op" id="7250978">}</span>
</div>
</body>
</html>
