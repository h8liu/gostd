<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7477020">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7477075">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7477129">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7477180">package</span>&nbsp;<span class="ident" id="7477188">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7477196">import</span>&nbsp;<span class="op" id="7477203">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477206">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477215">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477233">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477240">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477246">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477252">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477269">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477286">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477297">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477308">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7477319">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7477334">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7477337">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7477399">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7477467">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7477533">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7477597">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7477665">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7477729">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7477801">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7477872">//</span><br>
<span class="lineno">30</span><span class="comment" id="7477875">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7477930">//</span><br>
<span class="lineno"></span><span class="comment" id="7477933">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="7477944">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7477953">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7477963">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="7477974">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7477986">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7477997">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7478004">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7478031">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7478038">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7478059">//</span><br>
<span class="lineno"></span><span class="comment" id="7478062">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7478120">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7478177">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7478234">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7478297">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7478355">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7478398">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7478464">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7478522">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7478579">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7478639">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7478696">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7478763">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7478828">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7478877">//</span><br>
<span class="lineno"></span><span class="comment" id="7478880">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7478942">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7479009">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7479057">//</span><br>
<span class="lineno"></span><span class="comment" id="7479060">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7479126">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7479200">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7479203">func</span>&nbsp;<span class="ident" id="7479208">TestRE2Search</span><span class="op" id="7479221">(</span><span class="ident" id="7479222">t</span>&nbsp;<span class="op" id="7479224">*</span><span class="ident" id="7479225">testing</span><span class="op" id="7479232">.</span><span class="ident" id="7479233">T</span><span class="op" id="7479234">)</span>&nbsp;<span class="op" id="7479236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479239">testRE2</span><span class="op" id="7479246">(</span><span class="ident" id="7479247">t</span><span class="op" id="7479248">,</span>&nbsp;<span class="string" id="7479250">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7479275">)</span><br>
<span class="lineno"></span><span class="op" id="7479277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7479280">func</span>&nbsp;<span class="ident" id="7479285">testRE2</span><span class="op" id="7479292">(</span><span class="ident" id="7479293">t</span>&nbsp;<span class="op" id="7479295">*</span><span class="ident" id="7479296">testing</span><span class="op" id="7479303">.</span><span class="ident" id="7479304">T</span><span class="op" id="7479305">,</span>&nbsp;<span class="ident" id="7479307">file</span>&nbsp;<span class="builtintype" id="7479312">string</span><span class="op" id="7479318">)</span>&nbsp;<span class="op" id="7479320">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479323">f</span><span class="op" id="7479324">,</span>&nbsp;<span class="ident" id="7479326">err</span>&nbsp;<span class="op" id="7479330">:=</span>&nbsp;<span class="ident" id="7479333">os</span><span class="op" id="7479335">.</span><span class="ident" id="7479336">Open</span><span class="op" id="7479340">(</span><span class="ident" id="7479341">file</span><span class="op" id="7479345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479348">if</span>&nbsp;<span class="ident" id="7479351">err</span>&nbsp;<span class="op" id="7479355">!=</span>&nbsp;<span class="ident" id="7479358">nil</span>&nbsp;<span class="op" id="7479362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479366">t</span><span class="op" id="7479367">.</span><span class="ident" id="7479368">Fatal</span><span class="op" id="7479373">(</span><span class="ident" id="7479374">err</span><span class="op" id="7479377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479383">defer</span>&nbsp;<span class="ident" id="7479389">f</span><span class="op" id="7479390">.</span><span class="ident" id="7479391">Close</span><span class="op" id="7479396">(</span><span class="op" id="7479397">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479400">var</span>&nbsp;<span class="ident" id="7479404">txt</span>&nbsp;<span class="ident" id="7479408">io</span><span class="op" id="7479410">.</span><span class="ident" id="7479411">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479419">if</span>&nbsp;<span class="ident" id="7479422">strings</span><span class="op" id="7479429">.</span><span class="ident" id="7479430">HasSuffix</span><span class="op" id="7479439">(</span><span class="ident" id="7479440">file</span><span class="op" id="7479444">,</span>&nbsp;<span class="string" id="7479446">&#34;.bz2&#34;</span><span class="op" id="7479452">)</span>&nbsp;<span class="op" id="7479454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479458">z</span>&nbsp;<span class="op" id="7479460">:=</span>&nbsp;<span class="ident" id="7479463">bzip2</span><span class="op" id="7479468">.</span><span class="ident" id="7479469">NewReader</span><span class="op" id="7479478">(</span><span class="ident" id="7479479">f</span><span class="op" id="7479480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479484">txt</span>&nbsp;<span class="op" id="7479488">=</span>&nbsp;<span class="ident" id="7479490">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479494">file</span>&nbsp;<span class="op" id="7479499">=</span>&nbsp;<span class="ident" id="7479501">file</span><span class="op" id="7479505">[</span><span class="op" id="7479506">:</span><span class="builtinfunc" id="7479507">len</span><span class="op" id="7479510">(</span><span class="ident" id="7479511">file</span><span class="op" id="7479515">)</span><span class="op" id="7479516">-</span><span class="builtinfunc" id="7479517">len</span><span class="op" id="7479520">(</span><span class="string" id="7479521">&#34;.bz2&#34;</span><span class="op" id="7479527">)</span><span class="op" id="7479528">]</span>&nbsp;<span class="comment" id="7479530">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479553">}</span>&nbsp;<span class="keyword" id="7479555">else</span>&nbsp;<span class="op" id="7479560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479564">txt</span>&nbsp;<span class="op" id="7479568">=</span>&nbsp;<span class="ident" id="7479570">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479576">lineno</span>&nbsp;<span class="op" id="7479583">:=</span>&nbsp;<span class="num" id="7479586">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479589">scanner</span>&nbsp;<span class="op" id="7479597">:=</span>&nbsp;<span class="ident" id="7479600">bufio</span><span class="op" id="7479605">.</span><span class="ident" id="7479606">NewScanner</span><span class="op" id="7479616">(</span><span class="ident" id="7479617">txt</span><span class="op" id="7479620">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479623">var</span>&nbsp;<span class="op" id="7479627">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479631">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479641">[</span><span class="op" id="7479642">]</span><span class="builtintype" id="7479643">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479652">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479662">[</span><span class="op" id="7479663">]</span><span class="builtintype" id="7479664">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479673">inStrings</span>&nbsp;<span class="builtintype" id="7479683">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479690">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479700">*</span><span class="ident" id="7479701">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479710">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479720">*</span><span class="ident" id="7479721">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479730">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7479740">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479746">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7479756">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7479761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479764">for</span>&nbsp;<span class="ident" id="7479768">lineno</span>&nbsp;<span class="op" id="7479775">:=</span>&nbsp;<span class="num" id="7479778">1</span><span class="op" id="7479779">;</span>&nbsp;<span class="ident" id="7479781">scanner</span><span class="op" id="7479788">.</span><span class="ident" id="7479789">Scan</span><span class="op" id="7479793">(</span><span class="op" id="7479794">)</span><span class="op" id="7479795">;</span>&nbsp;<span class="ident" id="7479797">lineno</span><span class="op" id="7479803">++</span>&nbsp;<span class="op" id="7479806">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479810">line</span>&nbsp;<span class="op" id="7479815">:=</span>&nbsp;<span class="ident" id="7479818">scanner</span><span class="op" id="7479825">.</span><span class="ident" id="7479826">Text</span><span class="op" id="7479830">(</span><span class="op" id="7479831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479835">switch</span>&nbsp;<span class="op" id="7479842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479846">case</span>&nbsp;<span class="ident" id="7479851">line</span>&nbsp;<span class="op" id="7479856">==</span>&nbsp;<span class="string" id="7479859">&#34;&#34;</span><span class="op" id="7479861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7479866">t</span><span class="op" id="7479867">.</span><span class="ident" id="7479868">Fatalf</span><span class="op" id="7479874">(</span><span class="string" id="7479875">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7479905">,</span>&nbsp;<span class="ident" id="7479907">file</span><span class="op" id="7479911">,</span>&nbsp;<span class="ident" id="7479913">lineno</span><span class="op" id="7479919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479923">case</span>&nbsp;<span class="ident" id="7479928">line</span><span class="op" id="7479932">[</span><span class="num" id="7479933">0</span><span class="op" id="7479934">]</span>&nbsp;<span class="op" id="7479936">==</span>&nbsp;<span class="string" id="7479939">&#39;#&#39;</span><span class="op" id="7479942">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479947">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7479958">case</span>&nbsp;<span class="string" id="7479963">&#39;A&#39;</span>&nbsp;<span class="op" id="7479967">&lt;=</span>&nbsp;<span class="ident" id="7479970">line</span><span class="op" id="7479974">[</span><span class="num" id="7479975">0</span><span class="op" id="7479976">]</span>&nbsp;<span class="op" id="7479978">&amp;&amp;</span>&nbsp;<span class="ident" id="7479981">line</span><span class="op" id="7479985">[</span><span class="num" id="7479986">0</span><span class="op" id="7479987">]</span>&nbsp;<span class="op" id="7479989">&lt;=</span>&nbsp;<span class="string" id="7479992">&#39;Z&#39;</span><span class="op" id="7479995">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7480000">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480017">t</span><span class="op" id="7480018">.</span><span class="ident" id="7480019">Logf</span><span class="op" id="7480023">(</span><span class="string" id="7480024">&#34;%s\n&#34;</span><span class="op" id="7480030">,</span>&nbsp;<span class="ident" id="7480032">line</span><span class="op" id="7480036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480041">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480052">case</span>&nbsp;<span class="ident" id="7480057">line</span>&nbsp;<span class="op" id="7480062">==</span>&nbsp;<span class="string" id="7480065">&#34;strings&#34;</span><span class="op" id="7480074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480079">str</span>&nbsp;<span class="op" id="7480083">=</span>&nbsp;<span class="ident" id="7480085">str</span><span class="op" id="7480088">[</span><span class="op" id="7480089">:</span><span class="num" id="7480090">0</span><span class="op" id="7480091">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480096">inStrings</span>&nbsp;<span class="op" id="7480106">=</span>&nbsp;<span class="builtintype" id="7480108">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480115">case</span>&nbsp;<span class="ident" id="7480120">line</span>&nbsp;<span class="op" id="7480125">==</span>&nbsp;<span class="string" id="7480128">&#34;regexps&#34;</span><span class="op" id="7480137">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480142">inStrings</span>&nbsp;<span class="op" id="7480152">=</span>&nbsp;<span class="builtintype" id="7480154">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480162">case</span>&nbsp;<span class="ident" id="7480167">line</span><span class="op" id="7480171">[</span><span class="num" id="7480172">0</span><span class="op" id="7480173">]</span>&nbsp;<span class="op" id="7480175">==</span>&nbsp;<span class="string" id="7480178">&#39;&#34;&#39;</span><span class="op" id="7480181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480186">q</span><span class="op" id="7480187">,</span>&nbsp;<span class="ident" id="7480189">err</span>&nbsp;<span class="op" id="7480193">:=</span>&nbsp;<span class="ident" id="7480196">strconv</span><span class="op" id="7480203">.</span><span class="ident" id="7480204">Unquote</span><span class="op" id="7480211">(</span><span class="ident" id="7480212">line</span><span class="op" id="7480216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480221">if</span>&nbsp;<span class="ident" id="7480224">err</span>&nbsp;<span class="op" id="7480228">!=</span>&nbsp;<span class="ident" id="7480231">nil</span>&nbsp;<span class="op" id="7480235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7480241">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480285">t</span><span class="op" id="7480286">.</span><span class="ident" id="7480287">Fatalf</span><span class="op" id="7480293">(</span><span class="string" id="7480294">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7480317">,</span>&nbsp;<span class="ident" id="7480319">file</span><span class="op" id="7480323">,</span>&nbsp;<span class="ident" id="7480325">lineno</span><span class="op" id="7480331">,</span>&nbsp;<span class="ident" id="7480333">line</span><span class="op" id="7480337">,</span>&nbsp;<span class="ident" id="7480339">err</span><span class="op" id="7480342">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480352">if</span>&nbsp;<span class="ident" id="7480355">inStrings</span>&nbsp;<span class="op" id="7480365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480371">str</span>&nbsp;<span class="op" id="7480375">=</span>&nbsp;<span class="builtinfunc" id="7480377">append</span><span class="op" id="7480383">(</span><span class="ident" id="7480384">str</span><span class="op" id="7480387">,</span>&nbsp;<span class="ident" id="7480389">q</span><span class="op" id="7480390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480396">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480408">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7480413">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480432">if</span>&nbsp;<span class="builtinfunc" id="7480435">len</span><span class="op" id="7480438">(</span><span class="ident" id="7480439">input</span><span class="op" id="7480444">)</span>&nbsp;<span class="op" id="7480446">!=</span>&nbsp;<span class="num" id="7480449">0</span>&nbsp;<span class="op" id="7480451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480457">t</span><span class="op" id="7480458">.</span><span class="ident" id="7480459">Fatalf</span><span class="op" id="7480465">(</span><span class="string" id="7480466">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7480519">,</span>&nbsp;<span class="ident" id="7480521">file</span><span class="op" id="7480525">,</span>&nbsp;<span class="ident" id="7480527">lineno</span><span class="op" id="7480533">,</span>&nbsp;<span class="builtinfunc" id="7480535">len</span><span class="op" id="7480538">(</span><span class="ident" id="7480539">input</span><span class="op" id="7480544">)</span><span class="op" id="7480545">,</span>&nbsp;<span class="ident" id="7480547">q</span><span class="op" id="7480548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480558">re</span><span class="op" id="7480560">,</span>&nbsp;<span class="ident" id="7480562">err</span>&nbsp;<span class="op" id="7480566">=</span>&nbsp;<span class="ident" id="7480568">tryCompile</span><span class="op" id="7480578">(</span><span class="ident" id="7480579">q</span><span class="op" id="7480580">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480585">if</span>&nbsp;<span class="ident" id="7480588">err</span>&nbsp;<span class="op" id="7480592">!=</span>&nbsp;<span class="ident" id="7480595">nil</span>&nbsp;<span class="op" id="7480599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480605">if</span>&nbsp;<span class="ident" id="7480608">err</span><span class="op" id="7480611">.</span><span class="ident" id="7480612">Error</span><span class="op" id="7480617">(</span><span class="op" id="7480618">)</span>&nbsp;<span class="op" id="7480620">==</span>&nbsp;<span class="string" id="7480623">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7480678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7480685">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480748">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480761">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480767">t</span><span class="op" id="7480768">.</span><span class="ident" id="7480769">Errorf</span><span class="op" id="7480775">(</span><span class="string" id="7480776">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7480800">,</span>&nbsp;<span class="ident" id="7480802">file</span><span class="op" id="7480806">,</span>&nbsp;<span class="ident" id="7480808">lineno</span><span class="op" id="7480814">,</span>&nbsp;<span class="ident" id="7480816">q</span><span class="op" id="7480817">,</span>&nbsp;<span class="ident" id="7480819">err</span><span class="op" id="7480822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480828">if</span>&nbsp;<span class="ident" id="7480831">nfail</span><span class="op" id="7480836">++</span><span class="op" id="7480838">;</span>&nbsp;<span class="ident" id="7480840">nfail</span>&nbsp;<span class="op" id="7480846">&gt;=</span>&nbsp;<span class="num" id="7480849">100</span>&nbsp;<span class="op" id="7480853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480860">t</span><span class="op" id="7480861">.</span><span class="ident" id="7480862">Fatalf</span><span class="op" id="7480868">(</span><span class="string" id="7480869">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7480895">,</span>&nbsp;<span class="ident" id="7480897">nfail</span><span class="op" id="7480902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480914">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7480926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480931">full</span>&nbsp;<span class="op" id="7480936">:=</span>&nbsp;<span class="string" id="7480939">`\A(?:`</span>&nbsp;<span class="op" id="7480947">+</span>&nbsp;<span class="ident" id="7480949">q</span>&nbsp;<span class="op" id="7480951">+</span>&nbsp;<span class="string" id="7480953">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7480962">refull</span><span class="op" id="7480968">,</span>&nbsp;<span class="ident" id="7480970">err</span>&nbsp;<span class="op" id="7480974">=</span>&nbsp;<span class="ident" id="7480976">tryCompile</span><span class="op" id="7480986">(</span><span class="ident" id="7480987">full</span><span class="op" id="7480991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7480996">if</span>&nbsp;<span class="ident" id="7480999">err</span>&nbsp;<span class="op" id="7481003">!=</span>&nbsp;<span class="ident" id="7481006">nil</span>&nbsp;<span class="op" id="7481010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481016">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481075">t</span><span class="op" id="7481076">.</span><span class="ident" id="7481077">Fatalf</span><span class="op" id="7481083">(</span><span class="string" id="7481084">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7481113">,</span>&nbsp;<span class="ident" id="7481115">file</span><span class="op" id="7481119">,</span>&nbsp;<span class="ident" id="7481121">lineno</span><span class="op" id="7481127">,</span>&nbsp;<span class="ident" id="7481129">full</span><span class="op" id="7481133">,</span>&nbsp;<span class="ident" id="7481135">err</span><span class="op" id="7481138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481148">input</span>&nbsp;<span class="op" id="7481154">=</span>&nbsp;<span class="ident" id="7481156">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481162">case</span>&nbsp;<span class="ident" id="7481167">line</span><span class="op" id="7481171">[</span><span class="num" id="7481172">0</span><span class="op" id="7481173">]</span>&nbsp;<span class="op" id="7481175">==</span>&nbsp;<span class="string" id="7481178">&#39;-&#39;</span>&nbsp;<span class="op" id="7481182">||</span>&nbsp;<span class="string" id="7481185">&#39;0&#39;</span>&nbsp;<span class="op" id="7481189">&lt;=</span>&nbsp;<span class="ident" id="7481192">line</span><span class="op" id="7481196">[</span><span class="num" id="7481197">0</span><span class="op" id="7481198">]</span>&nbsp;<span class="op" id="7481200">&amp;&amp;</span>&nbsp;<span class="ident" id="7481203">line</span><span class="op" id="7481207">[</span><span class="num" id="7481208">0</span><span class="op" id="7481209">]</span>&nbsp;<span class="op" id="7481211">&lt;=</span>&nbsp;<span class="string" id="7481214">&#39;9&#39;</span><span class="op" id="7481217">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481222">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481257">ncase</span><span class="op" id="7481262">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481268">if</span>&nbsp;<span class="ident" id="7481271">re</span>&nbsp;<span class="op" id="7481274">==</span>&nbsp;<span class="ident" id="7481277">nil</span>&nbsp;<span class="op" id="7481281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481287">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481327">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481339">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481344">if</span>&nbsp;<span class="builtinfunc" id="7481347">len</span><span class="op" id="7481350">(</span><span class="ident" id="7481351">input</span><span class="op" id="7481356">)</span>&nbsp;<span class="op" id="7481358">==</span>&nbsp;<span class="num" id="7481361">0</span>&nbsp;<span class="op" id="7481363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481369">t</span><span class="op" id="7481370">.</span><span class="ident" id="7481371">Fatalf</span><span class="op" id="7481377">(</span><span class="string" id="7481378">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7481418">,</span>&nbsp;<span class="ident" id="7481420">file</span><span class="op" id="7481424">,</span>&nbsp;<span class="ident" id="7481426">lineno</span><span class="op" id="7481432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481442">var</span>&nbsp;<span class="ident" id="7481446">text</span>&nbsp;<span class="builtintype" id="7481451">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481461">text</span><span class="op" id="7481465">,</span>&nbsp;<span class="ident" id="7481467">input</span>&nbsp;<span class="op" id="7481473">=</span>&nbsp;<span class="ident" id="7481475">input</span><span class="op" id="7481480">[</span><span class="num" id="7481481">0</span><span class="op" id="7481482">]</span><span class="op" id="7481483">,</span>&nbsp;<span class="ident" id="7481485">input</span><span class="op" id="7481490">[</span><span class="num" id="7481491">1</span><span class="op" id="7481492">:</span><span class="op" id="7481493">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481498">if</span>&nbsp;<span class="op" id="7481501">!</span><span class="ident" id="7481502">isSingleBytes</span><span class="op" id="7481515">(</span><span class="ident" id="7481516">text</span><span class="op" id="7481520">)</span>&nbsp;<span class="op" id="7481522">&amp;&amp;</span>&nbsp;<span class="ident" id="7481525">strings</span><span class="op" id="7481532">.</span><span class="ident" id="7481533">Contains</span><span class="op" id="7481541">(</span><span class="ident" id="7481542">re</span><span class="op" id="7481544">.</span><span class="ident" id="7481545">String</span><span class="op" id="7481551">(</span><span class="op" id="7481552">)</span><span class="op" id="7481553">,</span>&nbsp;<span class="string" id="7481555">`\B`</span><span class="op" id="7481559">)</span>&nbsp;<span class="op" id="7481561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481567">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481614">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481659">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481707">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7481758">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481801">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481818">res</span>&nbsp;<span class="op" id="7481822">:=</span>&nbsp;<span class="ident" id="7481825">strings</span><span class="op" id="7481832">.</span><span class="ident" id="7481833">Split</span><span class="op" id="7481838">(</span><span class="ident" id="7481839">line</span><span class="op" id="7481843">,</span>&nbsp;<span class="string" id="7481845">&#34;;&#34;</span><span class="op" id="7481848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481853">if</span>&nbsp;<span class="builtinfunc" id="7481856">len</span><span class="op" id="7481859">(</span><span class="ident" id="7481860">res</span><span class="op" id="7481863">)</span>&nbsp;<span class="op" id="7481865">!=</span>&nbsp;<span class="builtinfunc" id="7481868">len</span><span class="op" id="7481871">(</span><span class="ident" id="7481872">run</span><span class="op" id="7481875">)</span>&nbsp;<span class="op" id="7481877">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481883">t</span><span class="op" id="7481884">.</span><span class="ident" id="7481885">Fatalf</span><span class="op" id="7481891">(</span><span class="string" id="7481892">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7481930">,</span>&nbsp;<span class="ident" id="7481932">file</span><span class="op" id="7481936">,</span>&nbsp;<span class="ident" id="7481938">lineno</span><span class="op" id="7481944">,</span>&nbsp;<span class="builtinfunc" id="7481946">len</span><span class="op" id="7481949">(</span><span class="ident" id="7481950">res</span><span class="op" id="7481953">)</span><span class="op" id="7481954">,</span>&nbsp;<span class="builtinfunc" id="7481956">len</span><span class="op" id="7481959">(</span><span class="ident" id="7481960">run</span><span class="op" id="7481963">)</span><span class="op" id="7481964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7481969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7481974">for</span>&nbsp;<span class="ident" id="7481978">i</span>&nbsp;<span class="op" id="7481980">:=</span>&nbsp;<span class="keyword" id="7481983">range</span>&nbsp;<span class="ident" id="7481989">res</span>&nbsp;<span class="op" id="7481993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7481999">have</span><span class="op" id="7482003">,</span>&nbsp;<span class="ident" id="7482005">suffix</span>&nbsp;<span class="op" id="7482012">:=</span>&nbsp;<span class="ident" id="7482015">run</span><span class="op" id="7482018">[</span><span class="ident" id="7482019">i</span><span class="op" id="7482020">]</span><span class="op" id="7482021">(</span><span class="ident" id="7482022">re</span><span class="op" id="7482024">,</span>&nbsp;<span class="ident" id="7482026">refull</span><span class="op" id="7482032">,</span>&nbsp;<span class="ident" id="7482034">text</span><span class="op" id="7482038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482044">want</span>&nbsp;<span class="op" id="7482049">:=</span>&nbsp;<span class="ident" id="7482052">parseResult</span><span class="op" id="7482063">(</span><span class="ident" id="7482064">t</span><span class="op" id="7482065">,</span>&nbsp;<span class="ident" id="7482067">file</span><span class="op" id="7482071">,</span>&nbsp;<span class="ident" id="7482073">lineno</span><span class="op" id="7482079">,</span>&nbsp;<span class="ident" id="7482081">res</span><span class="op" id="7482084">[</span><span class="ident" id="7482085">i</span><span class="op" id="7482086">]</span><span class="op" id="7482087">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482093">if</span>&nbsp;<span class="op" id="7482096">!</span><span class="ident" id="7482097">same</span><span class="op" id="7482101">(</span><span class="ident" id="7482102">have</span><span class="op" id="7482106">,</span>&nbsp;<span class="ident" id="7482108">want</span><span class="op" id="7482112">)</span>&nbsp;<span class="op" id="7482114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482121">t</span><span class="op" id="7482122">.</span><span class="ident" id="7482123">Errorf</span><span class="op" id="7482129">(</span><span class="string" id="7482130">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7482181">,</span>&nbsp;<span class="ident" id="7482183">file</span><span class="op" id="7482187">,</span>&nbsp;<span class="ident" id="7482189">lineno</span><span class="op" id="7482195">,</span>&nbsp;<span class="ident" id="7482197">re</span><span class="op" id="7482199">,</span>&nbsp;<span class="ident" id="7482201">suffix</span><span class="op" id="7482207">,</span>&nbsp;<span class="ident" id="7482209">text</span><span class="op" id="7482213">,</span>&nbsp;<span class="ident" id="7482215">have</span><span class="op" id="7482219">,</span>&nbsp;<span class="ident" id="7482221">want</span><span class="op" id="7482225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482232">if</span>&nbsp;<span class="ident" id="7482235">nfail</span><span class="op" id="7482240">++</span><span class="op" id="7482242">;</span>&nbsp;<span class="ident" id="7482244">nfail</span>&nbsp;<span class="op" id="7482250">&gt;=</span>&nbsp;<span class="num" id="7482253">100</span>&nbsp;<span class="op" id="7482257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482265">t</span><span class="op" id="7482266">.</span><span class="ident" id="7482267">Fatalf</span><span class="op" id="7482273">(</span><span class="string" id="7482274">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7482300">,</span>&nbsp;<span class="ident" id="7482302">nfail</span><span class="op" id="7482307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482314">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482321">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482340">b</span><span class="op" id="7482341">,</span>&nbsp;<span class="ident" id="7482343">suffix</span>&nbsp;<span class="op" id="7482350">:=</span>&nbsp;<span class="ident" id="7482353">match</span><span class="op" id="7482358">[</span><span class="ident" id="7482359">i</span><span class="op" id="7482360">]</span><span class="op" id="7482361">(</span><span class="ident" id="7482362">re</span><span class="op" id="7482364">,</span>&nbsp;<span class="ident" id="7482366">refull</span><span class="op" id="7482372">,</span>&nbsp;<span class="ident" id="7482374">text</span><span class="op" id="7482378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482384">if</span>&nbsp;<span class="ident" id="7482387">b</span>&nbsp;<span class="op" id="7482389">!=</span>&nbsp;<span class="op" id="7482392">(</span><span class="ident" id="7482393">want</span>&nbsp;<span class="op" id="7482398">!=</span>&nbsp;<span class="ident" id="7482401">nil</span><span class="op" id="7482404">)</span>&nbsp;<span class="op" id="7482406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482413">t</span><span class="op" id="7482414">.</span><span class="ident" id="7482415">Errorf</span><span class="op" id="7482421">(</span><span class="string" id="7482422">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7482467">,</span>&nbsp;<span class="ident" id="7482469">file</span><span class="op" id="7482473">,</span>&nbsp;<span class="ident" id="7482475">lineno</span><span class="op" id="7482481">,</span>&nbsp;<span class="ident" id="7482483">re</span><span class="op" id="7482485">,</span>&nbsp;<span class="ident" id="7482487">suffix</span><span class="op" id="7482493">,</span>&nbsp;<span class="ident" id="7482495">text</span><span class="op" id="7482499">,</span>&nbsp;<span class="ident" id="7482501">b</span><span class="op" id="7482502">,</span>&nbsp;<span class="op" id="7482504">!</span><span class="ident" id="7482505">b</span><span class="op" id="7482506">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482513">if</span>&nbsp;<span class="ident" id="7482516">nfail</span><span class="op" id="7482521">++</span><span class="op" id="7482523">;</span>&nbsp;<span class="ident" id="7482525">nfail</span>&nbsp;<span class="op" id="7482531">&gt;=</span>&nbsp;<span class="num" id="7482534">100</span>&nbsp;<span class="op" id="7482538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482546">t</span><span class="op" id="7482547">.</span><span class="ident" id="7482548">Fatalf</span><span class="op" id="7482554">(</span><span class="string" id="7482555">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7482581">,</span>&nbsp;<span class="ident" id="7482583">nfail</span><span class="op" id="7482588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482602">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482615">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482625">default</span><span class="op" id="7482632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482637">t</span><span class="op" id="7482638">.</span><span class="ident" id="7482639">Fatalf</span><span class="op" id="7482645">(</span><span class="string" id="7482646">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7482672">,</span>&nbsp;<span class="ident" id="7482674">file</span><span class="op" id="7482678">,</span>&nbsp;<span class="ident" id="7482680">lineno</span><span class="op" id="7482686">,</span>&nbsp;<span class="ident" id="7482688">line</span><span class="op" id="7482692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482696">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482702">if</span>&nbsp;<span class="ident" id="7482705">err</span>&nbsp;<span class="op" id="7482709">:=</span>&nbsp;<span class="ident" id="7482712">scanner</span><span class="op" id="7482719">.</span><span class="ident" id="7482720">Err</span><span class="op" id="7482723">(</span><span class="op" id="7482724">)</span><span class="op" id="7482725">;</span>&nbsp;<span class="ident" id="7482727">err</span>&nbsp;<span class="op" id="7482731">!=</span>&nbsp;<span class="ident" id="7482734">nil</span>&nbsp;<span class="op" id="7482738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482742">t</span><span class="op" id="7482743">.</span><span class="ident" id="7482744">Fatalf</span><span class="op" id="7482750">(</span><span class="string" id="7482751">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7482762">,</span>&nbsp;<span class="ident" id="7482764">file</span><span class="op" id="7482768">,</span>&nbsp;<span class="ident" id="7482770">lineno</span><span class="op" id="7482776">,</span>&nbsp;<span class="ident" id="7482778">err</span><span class="op" id="7482781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7482787">if</span>&nbsp;<span class="builtinfunc" id="7482790">len</span><span class="op" id="7482793">(</span><span class="ident" id="7482794">input</span><span class="op" id="7482799">)</span>&nbsp;<span class="op" id="7482801">!=</span>&nbsp;<span class="num" id="7482804">0</span>&nbsp;<span class="op" id="7482806">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482810">t</span><span class="op" id="7482811">.</span><span class="ident" id="7482812">Fatalf</span><span class="op" id="7482818">(</span><span class="string" id="7482819">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7482868">,</span>&nbsp;<span class="ident" id="7482870">file</span><span class="op" id="7482874">,</span>&nbsp;<span class="ident" id="7482876">lineno</span><span class="op" id="7482882">,</span>&nbsp;<span class="builtinfunc" id="7482884">len</span><span class="op" id="7482887">(</span><span class="ident" id="7482888">input</span><span class="op" id="7482893">)</span><span class="op" id="7482894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7482897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482900">t</span><span class="op" id="7482901">.</span><span class="ident" id="7482902">Logf</span><span class="op" id="7482906">(</span><span class="string" id="7482907">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7482924">,</span>&nbsp;<span class="ident" id="7482926">ncase</span><span class="op" id="7482931">)</span><br>
<span class="lineno"></span><span class="op" id="7482933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7482936">var</span>&nbsp;<span class="ident" id="7482940">run</span>&nbsp;<span class="op" id="7482944">=</span>&nbsp;<span class="op" id="7482946">[</span><span class="op" id="7482947">]</span><span class="keyword" id="7482948">func</span><span class="op" id="7482952">(</span><span class="op" id="7482953">*</span><span class="ident" id="7482954">Regexp</span><span class="op" id="7482960">,</span>&nbsp;<span class="op" id="7482962">*</span><span class="ident" id="7482963">Regexp</span><span class="op" id="7482969">,</span>&nbsp;<span class="builtintype" id="7482971">string</span><span class="op" id="7482977">)</span>&nbsp;<span class="op" id="7482979">(</span><span class="op" id="7482980">[</span><span class="op" id="7482981">]</span><span class="builtintype" id="7482982">int</span><span class="op" id="7482985">,</span>&nbsp;<span class="builtintype" id="7482987">string</span><span class="op" id="7482993">)</span><span class="op" id="7482994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7482997">runFull</span><span class="op" id="7483004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483007">runPartial</span><span class="op" id="7483017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483020">runFullLongest</span><span class="op" id="7483034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483037">runPartialLongest</span><span class="op" id="7483054">,</span><br>
<span class="lineno">205</span><span class="op" id="7483056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483059">func</span>&nbsp;<span class="ident" id="7483064">runFull</span><span class="op" id="7483071">(</span><span class="ident" id="7483072">re</span><span class="op" id="7483074">,</span>&nbsp;<span class="ident" id="7483076">refull</span>&nbsp;<span class="op" id="7483083">*</span><span class="ident" id="7483084">Regexp</span><span class="op" id="7483090">,</span>&nbsp;<span class="ident" id="7483092">text</span>&nbsp;<span class="builtintype" id="7483097">string</span><span class="op" id="7483103">)</span>&nbsp;<span class="op" id="7483105">(</span><span class="op" id="7483106">[</span><span class="op" id="7483107">]</span><span class="builtintype" id="7483108">int</span><span class="op" id="7483111">,</span>&nbsp;<span class="builtintype" id="7483113">string</span><span class="op" id="7483119">)</span>&nbsp;<span class="op" id="7483121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483124">refull</span><span class="op" id="7483130">.</span><span class="ident" id="7483131">longest</span>&nbsp;<span class="op" id="7483139">=</span>&nbsp;<span class="builtintype" id="7483141">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483148">return</span>&nbsp;<span class="ident" id="7483155">refull</span><span class="op" id="7483161">.</span><span class="ident" id="7483162">FindStringSubmatchIndex</span><span class="op" id="7483185">(</span><span class="ident" id="7483186">text</span><span class="op" id="7483190">)</span><span class="op" id="7483191">,</span>&nbsp;<span class="string" id="7483193">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7483202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483205">func</span>&nbsp;<span class="ident" id="7483210">runPartial</span><span class="op" id="7483220">(</span><span class="ident" id="7483221">re</span><span class="op" id="7483223">,</span>&nbsp;<span class="ident" id="7483225">refull</span>&nbsp;<span class="op" id="7483232">*</span><span class="ident" id="7483233">Regexp</span><span class="op" id="7483239">,</span>&nbsp;<span class="ident" id="7483241">text</span>&nbsp;<span class="builtintype" id="7483246">string</span><span class="op" id="7483252">)</span>&nbsp;<span class="op" id="7483254">(</span><span class="op" id="7483255">[</span><span class="op" id="7483256">]</span><span class="builtintype" id="7483257">int</span><span class="op" id="7483260">,</span>&nbsp;<span class="builtintype" id="7483262">string</span><span class="op" id="7483268">)</span>&nbsp;<span class="op" id="7483270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483273">re</span><span class="op" id="7483275">.</span><span class="ident" id="7483276">longest</span>&nbsp;<span class="op" id="7483284">=</span>&nbsp;<span class="builtintype" id="7483286">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483293">return</span>&nbsp;<span class="ident" id="7483300">re</span><span class="op" id="7483302">.</span><span class="ident" id="7483303">FindStringSubmatchIndex</span><span class="op" id="7483326">(</span><span class="ident" id="7483327">text</span><span class="op" id="7483331">)</span><span class="op" id="7483332">,</span>&nbsp;<span class="string" id="7483334">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7483337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483340">func</span>&nbsp;<span class="ident" id="7483345">runFullLongest</span><span class="op" id="7483359">(</span><span class="ident" id="7483360">re</span><span class="op" id="7483362">,</span>&nbsp;<span class="ident" id="7483364">refull</span>&nbsp;<span class="op" id="7483371">*</span><span class="ident" id="7483372">Regexp</span><span class="op" id="7483378">,</span>&nbsp;<span class="ident" id="7483380">text</span>&nbsp;<span class="builtintype" id="7483385">string</span><span class="op" id="7483391">)</span>&nbsp;<span class="op" id="7483393">(</span><span class="op" id="7483394">[</span><span class="op" id="7483395">]</span><span class="builtintype" id="7483396">int</span><span class="op" id="7483399">,</span>&nbsp;<span class="builtintype" id="7483401">string</span><span class="op" id="7483407">)</span>&nbsp;<span class="op" id="7483409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483412">refull</span><span class="op" id="7483418">.</span><span class="ident" id="7483419">longest</span>&nbsp;<span class="op" id="7483427">=</span>&nbsp;<span class="builtintype" id="7483429">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483435">return</span>&nbsp;<span class="ident" id="7483442">refull</span><span class="op" id="7483448">.</span><span class="ident" id="7483449">FindStringSubmatchIndex</span><span class="op" id="7483472">(</span><span class="ident" id="7483473">text</span><span class="op" id="7483477">)</span><span class="op" id="7483478">,</span>&nbsp;<span class="string" id="7483480">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7483497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483500">func</span>&nbsp;<span class="ident" id="7483505">runPartialLongest</span><span class="op" id="7483522">(</span><span class="ident" id="7483523">re</span><span class="op" id="7483525">,</span>&nbsp;<span class="ident" id="7483527">refull</span>&nbsp;<span class="op" id="7483534">*</span><span class="ident" id="7483535">Regexp</span><span class="op" id="7483541">,</span>&nbsp;<span class="ident" id="7483543">text</span>&nbsp;<span class="builtintype" id="7483548">string</span><span class="op" id="7483554">)</span>&nbsp;<span class="op" id="7483556">(</span><span class="op" id="7483557">[</span><span class="op" id="7483558">]</span><span class="builtintype" id="7483559">int</span><span class="op" id="7483562">,</span>&nbsp;<span class="builtintype" id="7483564">string</span><span class="op" id="7483570">)</span>&nbsp;<span class="op" id="7483572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483575">re</span><span class="op" id="7483577">.</span><span class="ident" id="7483578">longest</span>&nbsp;<span class="op" id="7483586">=</span>&nbsp;<span class="builtintype" id="7483588">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483594">return</span>&nbsp;<span class="ident" id="7483601">re</span><span class="op" id="7483603">.</span><span class="ident" id="7483604">FindStringSubmatchIndex</span><span class="op" id="7483627">(</span><span class="ident" id="7483628">text</span><span class="op" id="7483632">)</span><span class="op" id="7483633">,</span>&nbsp;<span class="string" id="7483635">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7483647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483650">var</span>&nbsp;<span class="ident" id="7483654">match</span>&nbsp;<span class="op" id="7483660">=</span>&nbsp;<span class="op" id="7483662">[</span><span class="op" id="7483663">]</span><span class="keyword" id="7483664">func</span><span class="op" id="7483668">(</span><span class="op" id="7483669">*</span><span class="ident" id="7483670">Regexp</span><span class="op" id="7483676">,</span>&nbsp;<span class="op" id="7483678">*</span><span class="ident" id="7483679">Regexp</span><span class="op" id="7483685">,</span>&nbsp;<span class="builtintype" id="7483687">string</span><span class="op" id="7483693">)</span>&nbsp;<span class="op" id="7483695">(</span><span class="builtintype" id="7483696">bool</span><span class="op" id="7483700">,</span>&nbsp;<span class="builtintype" id="7483702">string</span><span class="op" id="7483708">)</span><span class="op" id="7483709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483712">matchFull</span><span class="op" id="7483721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483724">matchPartial</span><span class="op" id="7483736">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483739">matchFullLongest</span><span class="op" id="7483755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483758">matchPartialLongest</span><span class="op" id="7483777">,</span><br>
<span class="lineno"></span><span class="op" id="7483779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483782">func</span>&nbsp;<span class="ident" id="7483787">matchFull</span><span class="op" id="7483796">(</span><span class="ident" id="7483797">re</span><span class="op" id="7483799">,</span>&nbsp;<span class="ident" id="7483801">refull</span>&nbsp;<span class="op" id="7483808">*</span><span class="ident" id="7483809">Regexp</span><span class="op" id="7483815">,</span>&nbsp;<span class="ident" id="7483817">text</span>&nbsp;<span class="builtintype" id="7483822">string</span><span class="op" id="7483828">)</span>&nbsp;<span class="op" id="7483830">(</span><span class="builtintype" id="7483831">bool</span><span class="op" id="7483835">,</span>&nbsp;<span class="builtintype" id="7483837">string</span><span class="op" id="7483843">)</span>&nbsp;<span class="op" id="7483845">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483848">refull</span><span class="op" id="7483854">.</span><span class="ident" id="7483855">longest</span>&nbsp;<span class="op" id="7483863">=</span>&nbsp;<span class="builtintype" id="7483865">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7483872">return</span>&nbsp;<span class="ident" id="7483879">refull</span><span class="op" id="7483885">.</span><span class="ident" id="7483886">MatchString</span><span class="op" id="7483897">(</span><span class="ident" id="7483898">text</span><span class="op" id="7483902">)</span><span class="op" id="7483903">,</span>&nbsp;<span class="string" id="7483905">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7483914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7483917">func</span>&nbsp;<span class="ident" id="7483922">matchPartial</span><span class="op" id="7483934">(</span><span class="ident" id="7483935">re</span><span class="op" id="7483937">,</span>&nbsp;<span class="ident" id="7483939">refull</span>&nbsp;<span class="op" id="7483946">*</span><span class="ident" id="7483947">Regexp</span><span class="op" id="7483953">,</span>&nbsp;<span class="ident" id="7483955">text</span>&nbsp;<span class="builtintype" id="7483960">string</span><span class="op" id="7483966">)</span>&nbsp;<span class="op" id="7483968">(</span><span class="builtintype" id="7483969">bool</span><span class="op" id="7483973">,</span>&nbsp;<span class="builtintype" id="7483975">string</span><span class="op" id="7483981">)</span>&nbsp;<span class="op" id="7483983">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7483986">re</span><span class="op" id="7483988">.</span><span class="ident" id="7483989">longest</span>&nbsp;<span class="op" id="7483997">=</span>&nbsp;<span class="builtintype" id="7483999">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484006">return</span>&nbsp;<span class="ident" id="7484013">re</span><span class="op" id="7484015">.</span><span class="ident" id="7484016">MatchString</span><span class="op" id="7484027">(</span><span class="ident" id="7484028">text</span><span class="op" id="7484032">)</span><span class="op" id="7484033">,</span>&nbsp;<span class="string" id="7484035">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7484038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7484041">func</span>&nbsp;<span class="ident" id="7484046">matchFullLongest</span><span class="op" id="7484062">(</span><span class="ident" id="7484063">re</span><span class="op" id="7484065">,</span>&nbsp;<span class="ident" id="7484067">refull</span>&nbsp;<span class="op" id="7484074">*</span><span class="ident" id="7484075">Regexp</span><span class="op" id="7484081">,</span>&nbsp;<span class="ident" id="7484083">text</span>&nbsp;<span class="builtintype" id="7484088">string</span><span class="op" id="7484094">)</span>&nbsp;<span class="op" id="7484096">(</span><span class="builtintype" id="7484097">bool</span><span class="op" id="7484101">,</span>&nbsp;<span class="builtintype" id="7484103">string</span><span class="op" id="7484109">)</span>&nbsp;<span class="op" id="7484111">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484114">refull</span><span class="op" id="7484120">.</span><span class="ident" id="7484121">longest</span>&nbsp;<span class="op" id="7484129">=</span>&nbsp;<span class="builtintype" id="7484131">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484137">return</span>&nbsp;<span class="ident" id="7484144">refull</span><span class="op" id="7484150">.</span><span class="ident" id="7484151">MatchString</span><span class="op" id="7484162">(</span><span class="ident" id="7484163">text</span><span class="op" id="7484167">)</span><span class="op" id="7484168">,</span>&nbsp;<span class="string" id="7484170">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7484187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7484190">func</span>&nbsp;<span class="ident" id="7484195">matchPartialLongest</span><span class="op" id="7484214">(</span><span class="ident" id="7484215">re</span><span class="op" id="7484217">,</span>&nbsp;<span class="ident" id="7484219">refull</span>&nbsp;<span class="op" id="7484226">*</span><span class="ident" id="7484227">Regexp</span><span class="op" id="7484233">,</span>&nbsp;<span class="ident" id="7484235">text</span>&nbsp;<span class="builtintype" id="7484240">string</span><span class="op" id="7484246">)</span>&nbsp;<span class="op" id="7484248">(</span><span class="builtintype" id="7484249">bool</span><span class="op" id="7484253">,</span>&nbsp;<span class="builtintype" id="7484255">string</span><span class="op" id="7484261">)</span>&nbsp;<span class="op" id="7484263">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484266">re</span><span class="op" id="7484268">.</span><span class="ident" id="7484269">longest</span>&nbsp;<span class="op" id="7484277">=</span>&nbsp;<span class="builtintype" id="7484279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484285">return</span>&nbsp;<span class="ident" id="7484292">re</span><span class="op" id="7484294">.</span><span class="ident" id="7484295">MatchString</span><span class="op" id="7484306">(</span><span class="ident" id="7484307">text</span><span class="op" id="7484311">)</span><span class="op" id="7484312">,</span>&nbsp;<span class="string" id="7484314">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7484326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7484329">func</span>&nbsp;<span class="ident" id="7484334">isSingleBytes</span><span class="op" id="7484347">(</span><span class="ident" id="7484348">s</span>&nbsp;<span class="builtintype" id="7484350">string</span><span class="op" id="7484356">)</span>&nbsp;<span class="builtintype" id="7484358">bool</span>&nbsp;<span class="op" id="7484363">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484366">for</span>&nbsp;<span class="ident" id="7484370">_</span><span class="op" id="7484371">,</span>&nbsp;<span class="ident" id="7484373">c</span>&nbsp;<span class="op" id="7484375">:=</span>&nbsp;<span class="keyword" id="7484378">range</span>&nbsp;<span class="ident" id="7484384">s</span>&nbsp;<span class="op" id="7484386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484390">if</span>&nbsp;<span class="ident" id="7484393">c</span>&nbsp;<span class="op" id="7484395">&gt;=</span>&nbsp;<span class="ident" id="7484398">utf8</span><span class="op" id="7484402">.</span><span class="ident" id="7484403">RuneSelf</span>&nbsp;<span class="op" id="7484412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484417">return</span>&nbsp;<span class="builtintype" id="7484424">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484435">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484438">return</span>&nbsp;<span class="builtintype" id="7484445">true</span><br>
<span class="lineno"></span><span class="op" id="7484450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7484453">func</span>&nbsp;<span class="ident" id="7484458">tryCompile</span><span class="op" id="7484468">(</span><span class="ident" id="7484469">s</span>&nbsp;<span class="builtintype" id="7484471">string</span><span class="op" id="7484477">)</span>&nbsp;<span class="op" id="7484479">(</span><span class="ident" id="7484480">re</span>&nbsp;<span class="op" id="7484483">*</span><span class="ident" id="7484484">Regexp</span><span class="op" id="7484490">,</span>&nbsp;<span class="ident" id="7484492">err</span>&nbsp;<span class="builtintype" id="7484496">error</span><span class="op" id="7484501">)</span>&nbsp;<span class="op" id="7484503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7484506">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484548">defer</span>&nbsp;<span class="keyword" id="7484554">func</span><span class="op" id="7484558">(</span><span class="op" id="7484559">)</span>&nbsp;<span class="op" id="7484561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484565">if</span>&nbsp;<span class="ident" id="7484568">r</span>&nbsp;<span class="op" id="7484570">:=</span>&nbsp;<span class="builtinfunc" id="7484573">recover</span><span class="op" id="7484580">(</span><span class="op" id="7484581">)</span><span class="op" id="7484582">;</span>&nbsp;<span class="ident" id="7484584">r</span>&nbsp;<span class="op" id="7484586">!=</span>&nbsp;<span class="ident" id="7484589">nil</span>&nbsp;<span class="op" id="7484593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484598">err</span>&nbsp;<span class="op" id="7484602">=</span>&nbsp;<span class="ident" id="7484604">fmt</span><span class="op" id="7484607">.</span><span class="ident" id="7484608">Errorf</span><span class="op" id="7484614">(</span><span class="string" id="7484615">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7484626">,</span>&nbsp;<span class="ident" id="7484628">r</span><span class="op" id="7484629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484636">}</span><span class="op" id="7484637">(</span><span class="op" id="7484638">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484641">return</span>&nbsp;<span class="ident" id="7484648">Compile</span><span class="op" id="7484655">(</span><span class="ident" id="7484656">s</span><span class="op" id="7484657">)</span><br>
<span class="lineno"></span><span class="op" id="7484659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7484662">func</span>&nbsp;<span class="ident" id="7484667">parseResult</span><span class="op" id="7484678">(</span><span class="ident" id="7484679">t</span>&nbsp;<span class="op" id="7484681">*</span><span class="ident" id="7484682">testing</span><span class="op" id="7484689">.</span><span class="ident" id="7484690">T</span><span class="op" id="7484691">,</span>&nbsp;<span class="ident" id="7484693">file</span>&nbsp;<span class="builtintype" id="7484698">string</span><span class="op" id="7484704">,</span>&nbsp;<span class="ident" id="7484706">lineno</span>&nbsp;<span class="builtintype" id="7484713">int</span><span class="op" id="7484716">,</span>&nbsp;<span class="ident" id="7484718">res</span>&nbsp;<span class="builtintype" id="7484722">string</span><span class="op" id="7484728">)</span>&nbsp;<span class="op" id="7484730">[</span><span class="op" id="7484731">]</span><span class="builtintype" id="7484732">int</span>&nbsp;<span class="op" id="7484736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7484739">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484774">if</span>&nbsp;<span class="ident" id="7484777">res</span>&nbsp;<span class="op" id="7484781">==</span>&nbsp;<span class="string" id="7484784">&#34;-&#34;</span>&nbsp;<span class="op" id="7484788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484792">return</span>&nbsp;<span class="ident" id="7484799">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7484807">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484855">n</span>&nbsp;<span class="op" id="7484857">:=</span>&nbsp;<span class="num" id="7484860">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484863">for</span>&nbsp;<span class="ident" id="7484867">j</span>&nbsp;<span class="op" id="7484869">:=</span>&nbsp;<span class="num" id="7484872">0</span><span class="op" id="7484873">;</span>&nbsp;<span class="ident" id="7484875">j</span>&nbsp;<span class="op" id="7484877">&lt;</span>&nbsp;<span class="builtinfunc" id="7484879">len</span><span class="op" id="7484882">(</span><span class="ident" id="7484883">res</span><span class="op" id="7484886">)</span><span class="op" id="7484887">;</span>&nbsp;<span class="ident" id="7484889">j</span><span class="op" id="7484890">++</span>&nbsp;<span class="op" id="7484893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484897">if</span>&nbsp;<span class="ident" id="7484900">res</span><span class="op" id="7484903">[</span><span class="ident" id="7484904">j</span><span class="op" id="7484905">]</span>&nbsp;<span class="op" id="7484907">==</span>&nbsp;<span class="string" id="7484910">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7484914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484919">n</span><span class="op" id="7484920">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7484928">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484931">out</span>&nbsp;<span class="op" id="7484935">:=</span>&nbsp;<span class="builtinfunc" id="7484938">make</span><span class="op" id="7484942">(</span><span class="op" id="7484943">[</span><span class="op" id="7484944">]</span><span class="builtintype" id="7484945">int</span><span class="op" id="7484948">,</span>&nbsp;<span class="num" id="7484950">2</span><span class="op" id="7484951">*</span><span class="ident" id="7484952">n</span><span class="op" id="7484953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484956">i</span>&nbsp;<span class="op" id="7484958">:=</span>&nbsp;<span class="num" id="7484961">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7484964">n</span>&nbsp;<span class="op" id="7484966">=</span>&nbsp;<span class="num" id="7484968">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7484971">for</span>&nbsp;<span class="ident" id="7484975">j</span>&nbsp;<span class="op" id="7484977">:=</span>&nbsp;<span class="num" id="7484980">0</span><span class="op" id="7484981">;</span>&nbsp;<span class="ident" id="7484983">j</span>&nbsp;<span class="op" id="7484985">&lt;=</span>&nbsp;<span class="builtinfunc" id="7484988">len</span><span class="op" id="7484991">(</span><span class="ident" id="7484992">res</span><span class="op" id="7484995">)</span><span class="op" id="7484996">;</span>&nbsp;<span class="ident" id="7484998">j</span><span class="op" id="7484999">++</span>&nbsp;<span class="op" id="7485002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485006">if</span>&nbsp;<span class="ident" id="7485009">j</span>&nbsp;<span class="op" id="7485011">==</span>&nbsp;<span class="builtinfunc" id="7485014">len</span><span class="op" id="7485017">(</span><span class="ident" id="7485018">res</span><span class="op" id="7485021">)</span>&nbsp;<span class="op" id="7485023">||</span>&nbsp;<span class="ident" id="7485026">res</span><span class="op" id="7485029">[</span><span class="ident" id="7485030">j</span><span class="op" id="7485031">]</span>&nbsp;<span class="op" id="7485033">==</span>&nbsp;<span class="string" id="7485036">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7485040">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7485045">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485096">pair</span>&nbsp;<span class="op" id="7485101">:=</span>&nbsp;<span class="ident" id="7485104">res</span><span class="op" id="7485107">[</span><span class="ident" id="7485108">i</span><span class="op" id="7485109">:</span><span class="ident" id="7485110">j</span><span class="op" id="7485111">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485116">if</span>&nbsp;<span class="ident" id="7485119">pair</span>&nbsp;<span class="op" id="7485124">==</span>&nbsp;<span class="string" id="7485127">&#34;-&#34;</span>&nbsp;<span class="op" id="7485131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485137">out</span><span class="op" id="7485140">[</span><span class="ident" id="7485141">n</span><span class="op" id="7485142">]</span>&nbsp;<span class="op" id="7485144">=</span>&nbsp;<span class="op" id="7485146">-</span><span class="num" id="7485147">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485153">out</span><span class="op" id="7485156">[</span><span class="ident" id="7485157">n</span><span class="op" id="7485158">+</span><span class="num" id="7485159">1</span><span class="op" id="7485160">]</span>&nbsp;<span class="op" id="7485162">=</span>&nbsp;<span class="op" id="7485164">-</span><span class="num" id="7485165">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485170">}</span>&nbsp;<span class="keyword" id="7485172">else</span>&nbsp;<span class="op" id="7485177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485183">k</span>&nbsp;<span class="op" id="7485185">:=</span>&nbsp;<span class="ident" id="7485188">strings</span><span class="op" id="7485195">.</span><span class="ident" id="7485196">Index</span><span class="op" id="7485201">(</span><span class="ident" id="7485202">pair</span><span class="op" id="7485206">,</span>&nbsp;<span class="string" id="7485208">&#34;-&#34;</span><span class="op" id="7485211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485217">if</span>&nbsp;<span class="ident" id="7485220">k</span>&nbsp;<span class="op" id="7485222">&lt;</span>&nbsp;<span class="num" id="7485224">0</span>&nbsp;<span class="op" id="7485226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485233">t</span><span class="op" id="7485234">.</span><span class="ident" id="7485235">Fatalf</span><span class="op" id="7485241">(</span><span class="string" id="7485242">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7485266">,</span>&nbsp;<span class="ident" id="7485268">file</span><span class="op" id="7485272">,</span>&nbsp;<span class="ident" id="7485274">lineno</span><span class="op" id="7485280">,</span>&nbsp;<span class="ident" id="7485282">pair</span><span class="op" id="7485286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485292">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485298">lo</span><span class="op" id="7485300">,</span>&nbsp;<span class="ident" id="7485302">err1</span>&nbsp;<span class="op" id="7485307">:=</span>&nbsp;<span class="ident" id="7485310">strconv</span><span class="op" id="7485317">.</span><span class="ident" id="7485318">Atoi</span><span class="op" id="7485322">(</span><span class="ident" id="7485323">pair</span><span class="op" id="7485327">[</span><span class="op" id="7485328">:</span><span class="ident" id="7485329">k</span><span class="op" id="7485330">]</span><span class="op" id="7485331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485337">hi</span><span class="op" id="7485339">,</span>&nbsp;<span class="ident" id="7485341">err2</span>&nbsp;<span class="op" id="7485346">:=</span>&nbsp;<span class="ident" id="7485349">strconv</span><span class="op" id="7485356">.</span><span class="ident" id="7485357">Atoi</span><span class="op" id="7485361">(</span><span class="ident" id="7485362">pair</span><span class="op" id="7485366">[</span><span class="ident" id="7485367">k</span><span class="op" id="7485368">+</span><span class="num" id="7485369">1</span><span class="op" id="7485370">:</span><span class="op" id="7485371">]</span><span class="op" id="7485372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485378">if</span>&nbsp;<span class="ident" id="7485381">err1</span>&nbsp;<span class="op" id="7485386">!=</span>&nbsp;<span class="ident" id="7485389">nil</span>&nbsp;<span class="op" id="7485393">||</span>&nbsp;<span class="ident" id="7485396">err2</span>&nbsp;<span class="op" id="7485401">!=</span>&nbsp;<span class="ident" id="7485404">nil</span>&nbsp;<span class="op" id="7485408">||</span>&nbsp;<span class="ident" id="7485411">lo</span>&nbsp;<span class="op" id="7485414">&gt;</span>&nbsp;<span class="ident" id="7485416">hi</span>&nbsp;<span class="op" id="7485419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485426">t</span><span class="op" id="7485427">.</span><span class="ident" id="7485428">Fatalf</span><span class="op" id="7485434">(</span><span class="string" id="7485435">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7485459">,</span>&nbsp;<span class="ident" id="7485461">file</span><span class="op" id="7485465">,</span>&nbsp;<span class="ident" id="7485467">lineno</span><span class="op" id="7485473">,</span>&nbsp;<span class="ident" id="7485475">pair</span><span class="op" id="7485479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485485">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485491">out</span><span class="op" id="7485494">[</span><span class="ident" id="7485495">n</span><span class="op" id="7485496">]</span>&nbsp;<span class="op" id="7485498">=</span>&nbsp;<span class="ident" id="7485500">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485507">out</span><span class="op" id="7485510">[</span><span class="ident" id="7485511">n</span><span class="op" id="7485512">+</span><span class="num" id="7485513">1</span><span class="op" id="7485514">]</span>&nbsp;<span class="op" id="7485516">=</span>&nbsp;<span class="ident" id="7485518">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485529">n</span>&nbsp;<span class="op" id="7485531">+=</span>&nbsp;<span class="num" id="7485534">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485539">i</span>&nbsp;<span class="op" id="7485541">=</span>&nbsp;<span class="ident" id="7485543">j</span>&nbsp;<span class="op" id="7485545">+</span>&nbsp;<span class="num" id="7485547">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485557">return</span>&nbsp;<span class="ident" id="7485564">out</span><br>
<span class="lineno"></span><span class="op" id="7485568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7485571">func</span>&nbsp;<span class="ident" id="7485576">same</span><span class="op" id="7485580">(</span><span class="ident" id="7485581">x</span><span class="op" id="7485582">,</span>&nbsp;<span class="ident" id="7485584">y</span>&nbsp;<span class="op" id="7485586">[</span><span class="op" id="7485587">]</span><span class="builtintype" id="7485588">int</span><span class="op" id="7485591">)</span>&nbsp;<span class="builtintype" id="7485593">bool</span>&nbsp;<span class="op" id="7485598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485601">if</span>&nbsp;<span class="builtinfunc" id="7485604">len</span><span class="op" id="7485607">(</span><span class="ident" id="7485608">x</span><span class="op" id="7485609">)</span>&nbsp;<span class="op" id="7485611">!=</span>&nbsp;<span class="builtinfunc" id="7485614">len</span><span class="op" id="7485617">(</span><span class="ident" id="7485618">y</span><span class="op" id="7485619">)</span>&nbsp;<span class="op" id="7485621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485625">return</span>&nbsp;<span class="builtintype" id="7485632">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485642">for</span>&nbsp;<span class="ident" id="7485646">i</span><span class="op" id="7485647">,</span>&nbsp;<span class="ident" id="7485649">xi</span>&nbsp;<span class="op" id="7485652">:=</span>&nbsp;<span class="keyword" id="7485655">range</span>&nbsp;<span class="ident" id="7485661">x</span>&nbsp;<span class="op" id="7485663">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485667">if</span>&nbsp;<span class="ident" id="7485670">xi</span>&nbsp;<span class="op" id="7485673">!=</span>&nbsp;<span class="ident" id="7485676">y</span><span class="op" id="7485677">[</span><span class="ident" id="7485678">i</span><span class="op" id="7485679">]</span>&nbsp;<span class="op" id="7485681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485686">return</span>&nbsp;<span class="builtintype" id="7485693">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7485704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485707">return</span>&nbsp;<span class="builtintype" id="7485714">true</span><br>
<span class="lineno">325</span><span class="op" id="7485719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7485722">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7485779">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7485839">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7485891">func</span>&nbsp;<span class="ident" id="7485896">TestFowler</span><span class="op" id="7485906">(</span><span class="ident" id="7485907">t</span>&nbsp;<span class="op" id="7485909">*</span><span class="ident" id="7485910">testing</span><span class="op" id="7485917">.</span><span class="ident" id="7485918">T</span><span class="op" id="7485919">)</span>&nbsp;<span class="op" id="7485921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485924">files</span><span class="op" id="7485929">,</span>&nbsp;<span class="ident" id="7485931">err</span>&nbsp;<span class="op" id="7485935">:=</span>&nbsp;<span class="ident" id="7485938">filepath</span><span class="op" id="7485946">.</span><span class="ident" id="7485947">Glob</span><span class="op" id="7485951">(</span><span class="string" id="7485952">&#34;testdata/*.dat&#34;</span><span class="op" id="7485968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7485971">if</span>&nbsp;<span class="ident" id="7485974">err</span>&nbsp;<span class="op" id="7485978">!=</span>&nbsp;<span class="ident" id="7485981">nil</span>&nbsp;<span class="op" id="7485985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7485989">t</span><span class="op" id="7485990">.</span><span class="ident" id="7485991">Fatal</span><span class="op" id="7485996">(</span><span class="ident" id="7485997">err</span><span class="op" id="7486000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486003">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486006">for</span>&nbsp;<span class="ident" id="7486010">_</span><span class="op" id="7486011">,</span>&nbsp;<span class="ident" id="7486013">file</span>&nbsp;<span class="op" id="7486018">:=</span>&nbsp;<span class="keyword" id="7486021">range</span>&nbsp;<span class="ident" id="7486027">files</span>&nbsp;<span class="op" id="7486033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486037">t</span><span class="op" id="7486038">.</span><span class="ident" id="7486039">Log</span><span class="op" id="7486042">(</span><span class="ident" id="7486043">file</span><span class="op" id="7486047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486051">testFowler</span><span class="op" id="7486061">(</span><span class="ident" id="7486062">t</span><span class="op" id="7486063">,</span>&nbsp;<span class="ident" id="7486065">file</span><span class="op" id="7486069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486072">}</span><br>
<span class="lineno"></span><span class="op" id="7486074">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7486077">var</span>&nbsp;<span class="ident" id="7486081">notab</span>&nbsp;<span class="op" id="7486087">=</span>&nbsp;<span class="ident" id="7486089">MustCompilePOSIX</span><span class="op" id="7486105">(</span><span class="string" id="7486106">`[^\t]+`</span><span class="op" id="7486114">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486117">func</span>&nbsp;<span class="ident" id="7486122">testFowler</span><span class="op" id="7486132">(</span><span class="ident" id="7486133">t</span>&nbsp;<span class="op" id="7486135">*</span><span class="ident" id="7486136">testing</span><span class="op" id="7486143">.</span><span class="ident" id="7486144">T</span><span class="op" id="7486145">,</span>&nbsp;<span class="ident" id="7486147">file</span>&nbsp;<span class="builtintype" id="7486152">string</span><span class="op" id="7486158">)</span>&nbsp;<span class="op" id="7486160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486163">f</span><span class="op" id="7486164">,</span>&nbsp;<span class="ident" id="7486166">err</span>&nbsp;<span class="op" id="7486170">:=</span>&nbsp;<span class="ident" id="7486173">os</span><span class="op" id="7486175">.</span><span class="ident" id="7486176">Open</span><span class="op" id="7486180">(</span><span class="ident" id="7486181">file</span><span class="op" id="7486185">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486188">if</span>&nbsp;<span class="ident" id="7486191">err</span>&nbsp;<span class="op" id="7486195">!=</span>&nbsp;<span class="ident" id="7486198">nil</span>&nbsp;<span class="op" id="7486202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486206">t</span><span class="op" id="7486207">.</span><span class="ident" id="7486208">Error</span><span class="op" id="7486213">(</span><span class="ident" id="7486214">err</span><span class="op" id="7486217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486221">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486232">defer</span>&nbsp;<span class="ident" id="7486238">f</span><span class="op" id="7486239">.</span><span class="ident" id="7486240">Close</span><span class="op" id="7486245">(</span><span class="op" id="7486246">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486249">b</span>&nbsp;<span class="op" id="7486251">:=</span>&nbsp;<span class="ident" id="7486254">bufio</span><span class="op" id="7486259">.</span><span class="ident" id="7486260">NewReader</span><span class="op" id="7486269">(</span><span class="ident" id="7486270">f</span><span class="op" id="7486271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486274">lineno</span>&nbsp;<span class="op" id="7486281">:=</span>&nbsp;<span class="num" id="7486284">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486287">lastRegexp</span>&nbsp;<span class="op" id="7486298">:=</span>&nbsp;<span class="string" id="7486301">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7486304">Reading</span><span class="op" id="7486311">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486314">for</span>&nbsp;<span class="op" id="7486318">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486322">lineno</span><span class="op" id="7486328">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486333">line</span><span class="op" id="7486337">,</span>&nbsp;<span class="ident" id="7486339">err</span>&nbsp;<span class="op" id="7486343">:=</span>&nbsp;<span class="ident" id="7486346">b</span><span class="op" id="7486347">.</span><span class="ident" id="7486348">ReadString</span><span class="op" id="7486358">(</span><span class="string" id="7486359">&#39;\n&#39;</span><span class="op" id="7486363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486367">if</span>&nbsp;<span class="ident" id="7486370">err</span>&nbsp;<span class="op" id="7486374">!=</span>&nbsp;<span class="ident" id="7486377">nil</span>&nbsp;<span class="op" id="7486381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486386">if</span>&nbsp;<span class="ident" id="7486389">err</span>&nbsp;<span class="op" id="7486393">!=</span>&nbsp;<span class="ident" id="7486396">io</span><span class="op" id="7486398">.</span><span class="ident" id="7486399">EOF</span>&nbsp;<span class="op" id="7486403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486409">t</span><span class="op" id="7486410">.</span><span class="ident" id="7486411">Errorf</span><span class="op" id="7486417">(</span><span class="string" id="7486418">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7486429">,</span>&nbsp;<span class="ident" id="7486431">file</span><span class="op" id="7486435">,</span>&nbsp;<span class="ident" id="7486437">lineno</span><span class="op" id="7486443">,</span>&nbsp;<span class="ident" id="7486445">err</span><span class="op" id="7486448">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486458">break</span>&nbsp;<span class="ident" id="7486464">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486479">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486542">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486547">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486565">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486636">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486706">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7486777">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486795">if</span>&nbsp;<span class="ident" id="7486798">line</span><span class="op" id="7486802">[</span><span class="num" id="7486803">0</span><span class="op" id="7486804">]</span>&nbsp;<span class="op" id="7486806">==</span>&nbsp;<span class="string" id="7486809">&#39;#&#39;</span>&nbsp;<span class="op" id="7486813">||</span>&nbsp;<span class="ident" id="7486816">line</span><span class="op" id="7486820">[</span><span class="num" id="7486821">0</span><span class="op" id="7486822">]</span>&nbsp;<span class="op" id="7486824">==</span>&nbsp;<span class="string" id="7486827">&#39;\n&#39;</span>&nbsp;<span class="op" id="7486832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486837">continue</span>&nbsp;<span class="ident" id="7486846">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486860">line</span>&nbsp;<span class="op" id="7486865">=</span>&nbsp;<span class="ident" id="7486867">line</span><span class="op" id="7486871">[</span><span class="op" id="7486872">:</span><span class="builtinfunc" id="7486873">len</span><span class="op" id="7486876">(</span><span class="ident" id="7486877">line</span><span class="op" id="7486881">)</span><span class="op" id="7486882">-</span><span class="num" id="7486883">1</span><span class="op" id="7486884">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486888">field</span>&nbsp;<span class="op" id="7486894">:=</span>&nbsp;<span class="ident" id="7486897">notab</span><span class="op" id="7486902">.</span><span class="ident" id="7486903">FindAllString</span><span class="op" id="7486916">(</span><span class="ident" id="7486917">line</span><span class="op" id="7486921">,</span>&nbsp;<span class="op" id="7486923">-</span><span class="num" id="7486924">1</span><span class="op" id="7486925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486929">for</span>&nbsp;<span class="ident" id="7486933">i</span><span class="op" id="7486934">,</span>&nbsp;<span class="ident" id="7486936">f</span>&nbsp;<span class="op" id="7486938">:=</span>&nbsp;<span class="keyword" id="7486941">range</span>&nbsp;<span class="ident" id="7486947">field</span>&nbsp;<span class="op" id="7486953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486958">if</span>&nbsp;<span class="ident" id="7486961">f</span>&nbsp;<span class="op" id="7486963">==</span>&nbsp;<span class="string" id="7486966">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7486973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486979">field</span><span class="op" id="7486984">[</span><span class="ident" id="7486985">i</span><span class="op" id="7486986">]</span>&nbsp;<span class="op" id="7486988">=</span>&nbsp;<span class="string" id="7486990">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486996">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7487001">if</span>&nbsp;<span class="ident" id="7487004">f</span>&nbsp;<span class="op" id="7487006">==</span>&nbsp;<span class="string" id="7487009">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7487015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7487021">t</span><span class="op" id="7487022">.</span><span class="ident" id="7487023">Logf</span><span class="op" id="7487027">(</span><span class="string" id="7487028">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7487045">,</span>&nbsp;<span class="ident" id="7487047">file</span><span class="op" id="7487051">,</span>&nbsp;<span class="ident" id="7487053">lineno</span><span class="op" id="7487059">,</span>&nbsp;<span class="ident" id="7487061">line</span><span class="op" id="7487065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7487071">continue</span>&nbsp;<span class="ident" id="7487080">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487095">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7487099">if</span>&nbsp;<span class="builtinfunc" id="7487102">len</span><span class="op" id="7487105">(</span><span class="ident" id="7487106">field</span><span class="op" id="7487111">)</span>&nbsp;<span class="op" id="7487113">==</span>&nbsp;<span class="num" id="7487116">0</span>&nbsp;<span class="op" id="7487118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7487123">continue</span>&nbsp;<span class="ident" id="7487132">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7487142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487147">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487222">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487294">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487366">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487445">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487504">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487509">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487549">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487587">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487639">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487675">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487725">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487761">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487766">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487811">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487855">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487903">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487954">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7487998">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488054">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488116">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488164">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488198">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488232">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488282">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488317">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488355">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488397">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488451">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488495">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488539">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488575">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488618">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488677">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488740">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488791">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488842">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488888">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488933">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488977">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489050">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489122">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489193">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489198">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489228">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489233">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489294">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489299">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489377">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489442">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489514">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489563">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489605">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489629">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489634">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489684">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489725">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489779">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489811">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489816">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489871">flag</span>&nbsp;<span class="op" id="7489876">:=</span>&nbsp;<span class="ident" id="7489879">field</span><span class="op" id="7489884">[</span><span class="num" id="7489885">0</span><span class="op" id="7489886">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489890">switch</span>&nbsp;<span class="ident" id="7489897">flag</span><span class="op" id="7489901">[</span><span class="num" id="7489902">0</span><span class="op" id="7489903">]</span>&nbsp;<span class="op" id="7489905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489909">case</span>&nbsp;<span class="string" id="7489914">&#39;?&#39;</span><span class="op" id="7489917">,</span>&nbsp;<span class="string" id="7489919">&#39;&amp;&#39;</span><span class="op" id="7489922">,</span>&nbsp;<span class="string" id="7489924">&#39;|&#39;</span><span class="op" id="7489927">,</span>&nbsp;<span class="string" id="7489929">&#39;;&#39;</span><span class="op" id="7489932">,</span>&nbsp;<span class="string" id="7489934">&#39;{&#39;</span><span class="op" id="7489937">,</span>&nbsp;<span class="string" id="7489939">&#39;}&#39;</span><span class="op" id="7489942">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489947">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489987">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490014">flag</span>&nbsp;<span class="op" id="7490019">=</span>&nbsp;<span class="ident" id="7490021">flag</span><span class="op" id="7490025">[</span><span class="num" id="7490026">1</span><span class="op" id="7490027">:</span><span class="op" id="7490028">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490033">if</span>&nbsp;<span class="ident" id="7490036">flag</span>&nbsp;<span class="op" id="7490041">==</span>&nbsp;<span class="string" id="7490044">&#34;&#34;</span>&nbsp;<span class="op" id="7490047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490053">continue</span>&nbsp;<span class="ident" id="7490062">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490077">case</span>&nbsp;<span class="string" id="7490082">&#39;:&#39;</span><span class="op" id="7490085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490090">i</span>&nbsp;<span class="op" id="7490092">:=</span>&nbsp;<span class="ident" id="7490095">strings</span><span class="op" id="7490102">.</span><span class="ident" id="7490103">Index</span><span class="op" id="7490108">(</span><span class="ident" id="7490109">flag</span><span class="op" id="7490113">[</span><span class="num" id="7490114">1</span><span class="op" id="7490115">:</span><span class="op" id="7490116">]</span><span class="op" id="7490117">,</span>&nbsp;<span class="string" id="7490119">&#34;:&#34;</span><span class="op" id="7490122">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490127">if</span>&nbsp;<span class="ident" id="7490130">i</span>&nbsp;<span class="op" id="7490132">&lt;</span>&nbsp;<span class="num" id="7490134">0</span>&nbsp;<span class="op" id="7490136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490142">t</span><span class="op" id="7490143">.</span><span class="ident" id="7490144">Logf</span><span class="op" id="7490148">(</span><span class="string" id="7490149">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7490159">,</span>&nbsp;<span class="ident" id="7490161">line</span><span class="op" id="7490165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490171">continue</span>&nbsp;<span class="ident" id="7490180">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490196">flag</span>&nbsp;<span class="op" id="7490201">=</span>&nbsp;<span class="ident" id="7490203">flag</span><span class="op" id="7490207">[</span><span class="num" id="7490208">1</span><span class="op" id="7490209">+</span><span class="ident" id="7490210">i</span><span class="op" id="7490211">+</span><span class="num" id="7490212">1</span><span class="op" id="7490213">:</span><span class="op" id="7490214">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490218">case</span>&nbsp;<span class="string" id="7490223">&#39;C&#39;</span><span class="op" id="7490226">,</span>&nbsp;<span class="string" id="7490228">&#39;N&#39;</span><span class="op" id="7490231">,</span>&nbsp;<span class="string" id="7490233">&#39;T&#39;</span><span class="op" id="7490236">,</span>&nbsp;<span class="string" id="7490238">&#39;0&#39;</span><span class="op" id="7490241">,</span>&nbsp;<span class="string" id="7490243">&#39;1&#39;</span><span class="op" id="7490246">,</span>&nbsp;<span class="string" id="7490248">&#39;2&#39;</span><span class="op" id="7490251">,</span>&nbsp;<span class="string" id="7490253">&#39;3&#39;</span><span class="op" id="7490256">,</span>&nbsp;<span class="string" id="7490258">&#39;4&#39;</span><span class="op" id="7490261">,</span>&nbsp;<span class="string" id="7490263">&#39;5&#39;</span><span class="op" id="7490266">,</span>&nbsp;<span class="string" id="7490268">&#39;6&#39;</span><span class="op" id="7490271">,</span>&nbsp;<span class="string" id="7490273">&#39;7&#39;</span><span class="op" id="7490276">,</span>&nbsp;<span class="string" id="7490278">&#39;8&#39;</span><span class="op" id="7490281">,</span>&nbsp;<span class="string" id="7490283">&#39;9&#39;</span><span class="op" id="7490286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490291">t</span><span class="op" id="7490292">.</span><span class="ident" id="7490293">Logf</span><span class="op" id="7490297">(</span><span class="string" id="7490298">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7490308">,</span>&nbsp;<span class="ident" id="7490310">line</span><span class="op" id="7490314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490319">continue</span>&nbsp;<span class="ident" id="7490328">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490343">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490421">if</span>&nbsp;<span class="builtinfunc" id="7490424">len</span><span class="op" id="7490427">(</span><span class="ident" id="7490428">field</span><span class="op" id="7490433">)</span>&nbsp;<span class="op" id="7490435">&lt;</span>&nbsp;<span class="num" id="7490437">4</span>&nbsp;<span class="op" id="7490439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490444">t</span><span class="op" id="7490445">.</span><span class="ident" id="7490446">Errorf</span><span class="op" id="7490452">(</span><span class="string" id="7490453">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7490480">,</span>&nbsp;<span class="ident" id="7490482">file</span><span class="op" id="7490486">,</span>&nbsp;<span class="ident" id="7490488">lineno</span><span class="op" id="7490494">,</span>&nbsp;<span class="ident" id="7490496">line</span><span class="op" id="7490500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490505">continue</span>&nbsp;<span class="ident" id="7490514">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490524">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490529">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490572">if</span>&nbsp;<span class="ident" id="7490575">strings</span><span class="op" id="7490582">.</span><span class="ident" id="7490583">Contains</span><span class="op" id="7490591">(</span><span class="ident" id="7490592">flag</span><span class="op" id="7490596">,</span>&nbsp;<span class="string" id="7490598">&#34;$&#34;</span><span class="op" id="7490601">)</span>&nbsp;<span class="op" id="7490603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490608">f</span>&nbsp;<span class="op" id="7490610">:=</span>&nbsp;<span class="string" id="7490613">`&#34;`</span>&nbsp;<span class="op" id="7490617">+</span>&nbsp;<span class="ident" id="7490619">field</span><span class="op" id="7490624">[</span><span class="num" id="7490625">1</span><span class="op" id="7490626">]</span>&nbsp;<span class="op" id="7490628">+</span>&nbsp;<span class="string" id="7490630">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490637">if</span>&nbsp;<span class="ident" id="7490640">field</span><span class="op" id="7490645">[</span><span class="num" id="7490646">1</span><span class="op" id="7490647">]</span><span class="op" id="7490648">,</span>&nbsp;<span class="ident" id="7490650">err</span>&nbsp;<span class="op" id="7490654">=</span>&nbsp;<span class="ident" id="7490656">strconv</span><span class="op" id="7490663">.</span><span class="ident" id="7490664">Unquote</span><span class="op" id="7490671">(</span><span class="ident" id="7490672">f</span><span class="op" id="7490673">)</span><span class="op" id="7490674">;</span>&nbsp;<span class="ident" id="7490676">err</span>&nbsp;<span class="op" id="7490680">!=</span>&nbsp;<span class="ident" id="7490683">nil</span>&nbsp;<span class="op" id="7490687">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490693">t</span><span class="op" id="7490694">.</span><span class="ident" id="7490695">Errorf</span><span class="op" id="7490701">(</span><span class="string" id="7490702">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7490728">,</span>&nbsp;<span class="ident" id="7490730">file</span><span class="op" id="7490734">,</span>&nbsp;<span class="ident" id="7490736">lineno</span><span class="op" id="7490742">,</span>&nbsp;<span class="ident" id="7490744">f</span><span class="op" id="7490745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490755">f</span>&nbsp;<span class="op" id="7490757">=</span>&nbsp;<span class="string" id="7490759">`&#34;`</span>&nbsp;<span class="op" id="7490763">+</span>&nbsp;<span class="ident" id="7490765">field</span><span class="op" id="7490770">[</span><span class="num" id="7490771">2</span><span class="op" id="7490772">]</span>&nbsp;<span class="op" id="7490774">+</span>&nbsp;<span class="string" id="7490776">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490783">if</span>&nbsp;<span class="ident" id="7490786">field</span><span class="op" id="7490791">[</span><span class="num" id="7490792">2</span><span class="op" id="7490793">]</span><span class="op" id="7490794">,</span>&nbsp;<span class="ident" id="7490796">err</span>&nbsp;<span class="op" id="7490800">=</span>&nbsp;<span class="ident" id="7490802">strconv</span><span class="op" id="7490809">.</span><span class="ident" id="7490810">Unquote</span><span class="op" id="7490817">(</span><span class="ident" id="7490818">f</span><span class="op" id="7490819">)</span><span class="op" id="7490820">;</span>&nbsp;<span class="ident" id="7490822">err</span>&nbsp;<span class="op" id="7490826">!=</span>&nbsp;<span class="ident" id="7490829">nil</span>&nbsp;<span class="op" id="7490833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490839">t</span><span class="op" id="7490840">.</span><span class="ident" id="7490841">Errorf</span><span class="op" id="7490847">(</span><span class="string" id="7490848">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7490874">,</span>&nbsp;<span class="ident" id="7490876">file</span><span class="op" id="7490880">,</span>&nbsp;<span class="ident" id="7490882">lineno</span><span class="op" id="7490888">,</span>&nbsp;<span class="ident" id="7490890">f</span><span class="op" id="7490891">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490905">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490980">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491017">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491022">if</span>&nbsp;<span class="ident" id="7491025">field</span><span class="op" id="7491030">[</span><span class="num" id="7491031">1</span><span class="op" id="7491032">]</span>&nbsp;<span class="op" id="7491034">==</span>&nbsp;<span class="string" id="7491037">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7491044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491049">field</span><span class="op" id="7491054">[</span><span class="num" id="7491055">1</span><span class="op" id="7491056">]</span>&nbsp;<span class="op" id="7491058">=</span>&nbsp;<span class="ident" id="7491060">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491077">lastRegexp</span>&nbsp;<span class="op" id="7491088">=</span>&nbsp;<span class="ident" id="7491090">field</span><span class="op" id="7491095">[</span><span class="num" id="7491096">1</span><span class="op" id="7491097">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491102">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491139">text</span>&nbsp;<span class="op" id="7491144">:=</span>&nbsp;<span class="ident" id="7491147">field</span><span class="op" id="7491152">[</span><span class="num" id="7491153">2</span><span class="op" id="7491154">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491159">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491195">ok</span><span class="op" id="7491197">,</span>&nbsp;<span class="ident" id="7491199">shouldCompile</span><span class="op" id="7491212">,</span>&nbsp;<span class="ident" id="7491214">shouldMatch</span><span class="op" id="7491225">,</span>&nbsp;<span class="ident" id="7491227">pos</span>&nbsp;<span class="op" id="7491231">:=</span>&nbsp;<span class="ident" id="7491234">parseFowlerResult</span><span class="op" id="7491251">(</span><span class="ident" id="7491252">field</span><span class="op" id="7491257">[</span><span class="num" id="7491258">3</span><span class="op" id="7491259">]</span><span class="op" id="7491260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491264">if</span>&nbsp;<span class="op" id="7491267">!</span><span class="ident" id="7491268">ok</span>&nbsp;<span class="op" id="7491271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491276">t</span><span class="op" id="7491277">.</span><span class="ident" id="7491278">Errorf</span><span class="op" id="7491284">(</span><span class="string" id="7491285">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7491317">,</span>&nbsp;<span class="ident" id="7491319">file</span><span class="op" id="7491323">,</span>&nbsp;<span class="ident" id="7491325">lineno</span><span class="op" id="7491331">,</span>&nbsp;<span class="ident" id="7491333">field</span><span class="op" id="7491338">[</span><span class="num" id="7491339">3</span><span class="op" id="7491340">]</span><span class="op" id="7491341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491346">continue</span>&nbsp;<span class="ident" id="7491355">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491365">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491370">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491427">Testing</span><span class="op" id="7491434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491438">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491513">for</span>&nbsp;<span class="ident" id="7491517">_</span><span class="op" id="7491518">,</span>&nbsp;<span class="ident" id="7491520">c</span>&nbsp;<span class="op" id="7491522">:=</span>&nbsp;<span class="keyword" id="7491525">range</span>&nbsp;<span class="ident" id="7491531">flag</span>&nbsp;<span class="op" id="7491536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491541">pattern</span>&nbsp;<span class="op" id="7491549">:=</span>&nbsp;<span class="ident" id="7491552">field</span><span class="op" id="7491557">[</span><span class="num" id="7491558">1</span><span class="op" id="7491559">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491564">syn</span>&nbsp;<span class="op" id="7491568">:=</span>&nbsp;<span class="ident" id="7491571">syntax</span><span class="op" id="7491577">.</span><span class="ident" id="7491578">POSIX</span>&nbsp;<span class="op" id="7491584">|</span>&nbsp;<span class="ident" id="7491586">syntax</span><span class="op" id="7491592">.</span><span class="ident" id="7491593">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491604">switch</span>&nbsp;<span class="ident" id="7491611">c</span>&nbsp;<span class="op" id="7491613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491618">default</span><span class="op" id="7491625">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491631">continue</span>&nbsp;<span class="ident" id="7491640">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491651">case</span>&nbsp;<span class="string" id="7491656">&#39;E&#39;</span><span class="op" id="7491659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491665">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491705">case</span>&nbsp;<span class="string" id="7491710">&#39;L&#39;</span><span class="op" id="7491713">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491719">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491734">pattern</span>&nbsp;<span class="op" id="7491742">=</span>&nbsp;<span class="ident" id="7491744">QuoteMeta</span><span class="op" id="7491753">(</span><span class="ident" id="7491754">pattern</span><span class="op" id="7491761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491772">for</span>&nbsp;<span class="ident" id="7491776">_</span><span class="op" id="7491777">,</span>&nbsp;<span class="ident" id="7491779">c</span>&nbsp;<span class="op" id="7491781">:=</span>&nbsp;<span class="keyword" id="7491784">range</span>&nbsp;<span class="ident" id="7491790">flag</span>&nbsp;<span class="op" id="7491795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491801">switch</span>&nbsp;<span class="ident" id="7491808">c</span>&nbsp;<span class="op" id="7491810">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491816">case</span>&nbsp;<span class="string" id="7491821">&#39;i&#39;</span><span class="op" id="7491824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491831">syn</span>&nbsp;<span class="op" id="7491835">|=</span>&nbsp;<span class="ident" id="7491838">syntax</span><span class="op" id="7491844">.</span><span class="ident" id="7491845">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491869">re</span><span class="op" id="7491871">,</span>&nbsp;<span class="ident" id="7491873">err</span>&nbsp;<span class="op" id="7491877">:=</span>&nbsp;<span class="ident" id="7491880">compile</span><span class="op" id="7491887">(</span><span class="ident" id="7491888">pattern</span><span class="op" id="7491895">,</span>&nbsp;<span class="ident" id="7491897">syn</span><span class="op" id="7491900">,</span>&nbsp;<span class="builtintype" id="7491902">true</span><span class="op" id="7491906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491911">if</span>&nbsp;<span class="ident" id="7491914">err</span>&nbsp;<span class="op" id="7491918">!=</span>&nbsp;<span class="ident" id="7491921">nil</span>&nbsp;<span class="op" id="7491925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7491931">if</span>&nbsp;<span class="ident" id="7491934">shouldCompile</span>&nbsp;<span class="op" id="7491948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491955">t</span><span class="op" id="7491956">.</span><span class="ident" id="7491957">Errorf</span><span class="op" id="7491963">(</span><span class="string" id="7491964">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7491992">,</span>&nbsp;<span class="ident" id="7491994">file</span><span class="op" id="7491998">,</span>&nbsp;<span class="ident" id="7492000">lineno</span><span class="op" id="7492006">,</span>&nbsp;<span class="ident" id="7492008">pattern</span><span class="op" id="7492015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492021">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492027">continue</span>&nbsp;<span class="ident" id="7492036">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492052">if</span>&nbsp;<span class="op" id="7492055">!</span><span class="ident" id="7492056">shouldCompile</span>&nbsp;<span class="op" id="7492070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492076">t</span><span class="op" id="7492077">.</span><span class="ident" id="7492078">Errorf</span><span class="op" id="7492084">(</span><span class="string" id="7492085">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7492116">,</span>&nbsp;<span class="ident" id="7492118">file</span><span class="op" id="7492122">,</span>&nbsp;<span class="ident" id="7492124">lineno</span><span class="op" id="7492130">,</span>&nbsp;<span class="ident" id="7492132">pattern</span><span class="op" id="7492139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492145">continue</span>&nbsp;<span class="ident" id="7492154">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492170">match</span>&nbsp;<span class="op" id="7492176">:=</span>&nbsp;<span class="ident" id="7492179">re</span><span class="op" id="7492181">.</span><span class="ident" id="7492182">MatchString</span><span class="op" id="7492193">(</span><span class="ident" id="7492194">text</span><span class="op" id="7492198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492203">if</span>&nbsp;<span class="ident" id="7492206">match</span>&nbsp;<span class="op" id="7492212">!=</span>&nbsp;<span class="ident" id="7492215">shouldMatch</span>&nbsp;<span class="op" id="7492227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492233">t</span><span class="op" id="7492234">.</span><span class="ident" id="7492235">Errorf</span><span class="op" id="7492241">(</span><span class="string" id="7492242">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7492279">,</span>&nbsp;<span class="ident" id="7492281">file</span><span class="op" id="7492285">,</span>&nbsp;<span class="ident" id="7492287">lineno</span><span class="op" id="7492293">,</span>&nbsp;<span class="ident" id="7492295">pattern</span><span class="op" id="7492302">,</span>&nbsp;<span class="ident" id="7492304">text</span><span class="op" id="7492308">,</span>&nbsp;<span class="ident" id="7492310">match</span><span class="op" id="7492315">,</span>&nbsp;<span class="ident" id="7492317">shouldMatch</span><span class="op" id="7492328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492334">continue</span>&nbsp;<span class="ident" id="7492343">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492359">have</span>&nbsp;<span class="op" id="7492364">:=</span>&nbsp;<span class="ident" id="7492367">re</span><span class="op" id="7492369">.</span><span class="ident" id="7492370">FindStringSubmatchIndex</span><span class="op" id="7492393">(</span><span class="ident" id="7492394">text</span><span class="op" id="7492398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492403">if</span>&nbsp;<span class="op" id="7492406">(</span><span class="builtinfunc" id="7492407">len</span><span class="op" id="7492410">(</span><span class="ident" id="7492411">have</span><span class="op" id="7492415">)</span>&nbsp;<span class="op" id="7492417">&gt;</span>&nbsp;<span class="num" id="7492419">0</span><span class="op" id="7492420">)</span>&nbsp;<span class="op" id="7492422">!=</span>&nbsp;<span class="ident" id="7492425">match</span>&nbsp;<span class="op" id="7492431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492437">t</span><span class="op" id="7492438">.</span><span class="ident" id="7492439">Errorf</span><span class="op" id="7492445">(</span><span class="string" id="7492446">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7492511">,</span>&nbsp;<span class="ident" id="7492513">file</span><span class="op" id="7492517">,</span>&nbsp;<span class="ident" id="7492519">lineno</span><span class="op" id="7492525">,</span>&nbsp;<span class="ident" id="7492527">pattern</span><span class="op" id="7492534">,</span>&nbsp;<span class="ident" id="7492536">text</span><span class="op" id="7492540">,</span>&nbsp;<span class="ident" id="7492542">match</span><span class="op" id="7492547">,</span>&nbsp;<span class="ident" id="7492549">pattern</span><span class="op" id="7492556">,</span>&nbsp;<span class="ident" id="7492558">text</span><span class="op" id="7492562">,</span>&nbsp;<span class="ident" id="7492564">have</span><span class="op" id="7492568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492574">continue</span>&nbsp;<span class="ident" id="7492583">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492599">if</span>&nbsp;<span class="builtinfunc" id="7492602">len</span><span class="op" id="7492605">(</span><span class="ident" id="7492606">have</span><span class="op" id="7492610">)</span>&nbsp;<span class="op" id="7492612">&gt;</span>&nbsp;<span class="builtinfunc" id="7492614">len</span><span class="op" id="7492617">(</span><span class="ident" id="7492618">pos</span><span class="op" id="7492621">)</span>&nbsp;<span class="op" id="7492623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492629">have</span>&nbsp;<span class="op" id="7492634">=</span>&nbsp;<span class="ident" id="7492636">have</span><span class="op" id="7492640">[</span><span class="op" id="7492641">:</span><span class="builtinfunc" id="7492642">len</span><span class="op" id="7492645">(</span><span class="ident" id="7492646">pos</span><span class="op" id="7492649">)</span><span class="op" id="7492650">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7492660">if</span>&nbsp;<span class="op" id="7492663">!</span><span class="ident" id="7492664">same</span><span class="op" id="7492668">(</span><span class="ident" id="7492669">have</span><span class="op" id="7492673">,</span>&nbsp;<span class="ident" id="7492675">pos</span><span class="op" id="7492678">)</span>&nbsp;<span class="op" id="7492680">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492686">t</span><span class="op" id="7492687">.</span><span class="ident" id="7492688">Errorf</span><span class="op" id="7492694">(</span><span class="string" id="7492695">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7492744">,</span>&nbsp;<span class="ident" id="7492746">file</span><span class="op" id="7492750">,</span>&nbsp;<span class="ident" id="7492752">lineno</span><span class="op" id="7492758">,</span>&nbsp;<span class="ident" id="7492760">pattern</span><span class="op" id="7492767">,</span>&nbsp;<span class="ident" id="7492769">text</span><span class="op" id="7492773">,</span>&nbsp;<span class="ident" id="7492775">have</span><span class="op" id="7492779">,</span>&nbsp;<span class="ident" id="7492781">pos</span><span class="op" id="7492784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492796">}</span><br>
<span class="lineno"></span><span class="op" id="7492798">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7492801">func</span>&nbsp;<span class="ident" id="7492806">parseFowlerResult</span><span class="op" id="7492823">(</span><span class="ident" id="7492824">s</span>&nbsp;<span class="builtintype" id="7492826">string</span><span class="op" id="7492832">)</span>&nbsp;<span class="op" id="7492834">(</span><span class="ident" id="7492835">ok</span><span class="op" id="7492837">,</span>&nbsp;<span class="ident" id="7492839">compiled</span><span class="op" id="7492847">,</span>&nbsp;<span class="ident" id="7492849">matched</span>&nbsp;<span class="builtintype" id="7492857">bool</span><span class="op" id="7492861">,</span>&nbsp;<span class="ident" id="7492863">pos</span>&nbsp;<span class="op" id="7492867">[</span><span class="op" id="7492868">]</span><span class="builtintype" id="7492869">int</span><span class="op" id="7492872">)</span>&nbsp;<span class="op" id="7492874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492877">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492948">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493018">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493087">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493157">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493226">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493297">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493372">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493448">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493521">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493597">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493673">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493745">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493820">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493838">switch</span>&nbsp;<span class="op" id="7493845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493848">case</span>&nbsp;<span class="ident" id="7493853">s</span>&nbsp;<span class="op" id="7493855">==</span>&nbsp;<span class="string" id="7493858">&#34;&#34;</span><span class="op" id="7493860">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493864">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493905">ok</span>&nbsp;<span class="op" id="7493908">=</span>&nbsp;<span class="builtintype" id="7493910">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493917">compiled</span>&nbsp;<span class="op" id="7493926">=</span>&nbsp;<span class="builtintype" id="7493928">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493935">matched</span>&nbsp;<span class="op" id="7493943">=</span>&nbsp;<span class="builtintype" id="7493945">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493952">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493960">case</span>&nbsp;<span class="ident" id="7493965">s</span>&nbsp;<span class="op" id="7493967">==</span>&nbsp;<span class="string" id="7493970">&#34;NOMATCH&#34;</span><span class="op" id="7493979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493983">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494003">ok</span>&nbsp;<span class="op" id="7494006">=</span>&nbsp;<span class="builtintype" id="7494008">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494015">compiled</span>&nbsp;<span class="op" id="7494024">=</span>&nbsp;<span class="builtintype" id="7494026">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494033">matched</span>&nbsp;<span class="op" id="7494041">=</span>&nbsp;<span class="builtintype" id="7494043">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494051">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494059">case</span>&nbsp;<span class="string" id="7494064">&#39;A&#39;</span>&nbsp;<span class="op" id="7494068">&lt;=</span>&nbsp;<span class="ident" id="7494071">s</span><span class="op" id="7494072">[</span><span class="num" id="7494073">0</span><span class="op" id="7494074">]</span>&nbsp;<span class="op" id="7494076">&amp;&amp;</span>&nbsp;<span class="ident" id="7494079">s</span><span class="op" id="7494080">[</span><span class="num" id="7494081">0</span><span class="op" id="7494082">]</span>&nbsp;<span class="op" id="7494084">&lt;=</span>&nbsp;<span class="string" id="7494087">&#39;Z&#39;</span><span class="op" id="7494090">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7494094">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494145">ok</span>&nbsp;<span class="op" id="7494148">=</span>&nbsp;<span class="builtintype" id="7494150">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494157">compiled</span>&nbsp;<span class="op" id="7494166">=</span>&nbsp;<span class="builtintype" id="7494168">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494176">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494184">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494187">compiled</span>&nbsp;<span class="op" id="7494196">=</span>&nbsp;<span class="builtintype" id="7494198">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494205">var</span>&nbsp;<span class="ident" id="7494209">x</span>&nbsp;<span class="op" id="7494211">[</span><span class="op" id="7494212">]</span><span class="builtintype" id="7494213">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494218">for</span>&nbsp;<span class="ident" id="7494222">s</span>&nbsp;<span class="op" id="7494224">!=</span>&nbsp;<span class="string" id="7494227">&#34;&#34;</span>&nbsp;<span class="op" id="7494230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494234">var</span>&nbsp;<span class="ident" id="7494238">end</span>&nbsp;<span class="builtintype" id="7494242">byte</span>&nbsp;<span class="op" id="7494247">=</span>&nbsp;<span class="string" id="7494249">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494255">if</span>&nbsp;<span class="builtinfunc" id="7494258">len</span><span class="op" id="7494261">(</span><span class="ident" id="7494262">x</span><span class="op" id="7494263">)</span><span class="op" id="7494264">%</span><span class="num" id="7494265">2</span>&nbsp;<span class="op" id="7494267">==</span>&nbsp;<span class="num" id="7494270">0</span>&nbsp;<span class="op" id="7494272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494277">if</span>&nbsp;<span class="ident" id="7494280">s</span><span class="op" id="7494281">[</span><span class="num" id="7494282">0</span><span class="op" id="7494283">]</span>&nbsp;<span class="op" id="7494285">!=</span>&nbsp;<span class="string" id="7494288">&#39;(&#39;</span>&nbsp;<span class="op" id="7494292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494298">ok</span>&nbsp;<span class="op" id="7494301">=</span>&nbsp;<span class="builtintype" id="7494303">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494313">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494323">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494328">s</span>&nbsp;<span class="op" id="7494330">=</span>&nbsp;<span class="ident" id="7494332">s</span><span class="op" id="7494333">[</span><span class="num" id="7494334">1</span><span class="op" id="7494335">:</span><span class="op" id="7494336">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494341">end</span>&nbsp;<span class="op" id="7494345">=</span>&nbsp;<span class="string" id="7494347">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494357">i</span>&nbsp;<span class="op" id="7494359">:=</span>&nbsp;<span class="num" id="7494362">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494366">for</span>&nbsp;<span class="ident" id="7494370">i</span>&nbsp;<span class="op" id="7494372">&lt;</span>&nbsp;<span class="builtinfunc" id="7494374">len</span><span class="op" id="7494377">(</span><span class="ident" id="7494378">s</span><span class="op" id="7494379">)</span>&nbsp;<span class="op" id="7494381">&amp;&amp;</span>&nbsp;<span class="ident" id="7494384">s</span><span class="op" id="7494385">[</span><span class="ident" id="7494386">i</span><span class="op" id="7494387">]</span>&nbsp;<span class="op" id="7494389">!=</span>&nbsp;<span class="ident" id="7494392">end</span>&nbsp;<span class="op" id="7494396">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494401">i</span><span class="op" id="7494402">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494411">if</span>&nbsp;<span class="ident" id="7494414">i</span>&nbsp;<span class="op" id="7494416">==</span>&nbsp;<span class="num" id="7494419">0</span>&nbsp;<span class="op" id="7494421">||</span>&nbsp;<span class="ident" id="7494424">i</span>&nbsp;<span class="op" id="7494426">==</span>&nbsp;<span class="builtinfunc" id="7494429">len</span><span class="op" id="7494432">(</span><span class="ident" id="7494433">s</span><span class="op" id="7494434">)</span>&nbsp;<span class="op" id="7494436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494441">ok</span>&nbsp;<span class="op" id="7494444">=</span>&nbsp;<span class="builtintype" id="7494446">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494455">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494468">var</span>&nbsp;<span class="ident" id="7494472">v</span>&nbsp;<span class="op" id="7494474">=</span>&nbsp;<span class="op" id="7494476">-</span><span class="num" id="7494477">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494481">var</span>&nbsp;<span class="ident" id="7494485">err</span>&nbsp;<span class="builtintype" id="7494489">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494497">if</span>&nbsp;<span class="ident" id="7494500">s</span><span class="op" id="7494501">[</span><span class="op" id="7494502">:</span><span class="ident" id="7494503">i</span><span class="op" id="7494504">]</span>&nbsp;<span class="op" id="7494506">!=</span>&nbsp;<span class="string" id="7494509">&#34;?&#34;</span>&nbsp;<span class="op" id="7494513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494518">v</span><span class="op" id="7494519">,</span>&nbsp;<span class="ident" id="7494521">err</span>&nbsp;<span class="op" id="7494525">=</span>&nbsp;<span class="ident" id="7494527">strconv</span><span class="op" id="7494534">.</span><span class="ident" id="7494535">Atoi</span><span class="op" id="7494539">(</span><span class="ident" id="7494540">s</span><span class="op" id="7494541">[</span><span class="op" id="7494542">:</span><span class="ident" id="7494543">i</span><span class="op" id="7494544">]</span><span class="op" id="7494545">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494550">if</span>&nbsp;<span class="ident" id="7494553">err</span>&nbsp;<span class="op" id="7494557">!=</span>&nbsp;<span class="ident" id="7494560">nil</span>&nbsp;<span class="op" id="7494564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494570">ok</span>&nbsp;<span class="op" id="7494573">=</span>&nbsp;<span class="builtintype" id="7494575">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494585">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494599">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494603">x</span>&nbsp;<span class="op" id="7494605">=</span>&nbsp;<span class="builtinfunc" id="7494607">append</span><span class="op" id="7494613">(</span><span class="ident" id="7494614">x</span><span class="op" id="7494615">,</span>&nbsp;<span class="ident" id="7494617">v</span><span class="op" id="7494618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494622">s</span>&nbsp;<span class="op" id="7494624">=</span>&nbsp;<span class="ident" id="7494626">s</span><span class="op" id="7494627">[</span><span class="ident" id="7494628">i</span><span class="op" id="7494629">+</span><span class="num" id="7494630">1</span><span class="op" id="7494631">:</span><span class="op" id="7494632">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494638">if</span>&nbsp;<span class="builtinfunc" id="7494641">len</span><span class="op" id="7494644">(</span><span class="ident" id="7494645">x</span><span class="op" id="7494646">)</span><span class="op" id="7494647">%</span><span class="num" id="7494648">2</span>&nbsp;<span class="op" id="7494650">!=</span>&nbsp;<span class="num" id="7494653">0</span>&nbsp;<span class="op" id="7494655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494659">ok</span>&nbsp;<span class="op" id="7494662">=</span>&nbsp;<span class="builtintype" id="7494664">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494672">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494683">ok</span>&nbsp;<span class="op" id="7494686">=</span>&nbsp;<span class="builtintype" id="7494688">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494694">matched</span>&nbsp;<span class="op" id="7494702">=</span>&nbsp;<span class="builtintype" id="7494704">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494710">pos</span>&nbsp;<span class="op" id="7494714">=</span>&nbsp;<span class="ident" id="7494716">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494719">return</span><br>
<span class="lineno"></span><span class="op" id="7494726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7494729">var</span>&nbsp;<span class="ident" id="7494733">text</span>&nbsp;<span class="op" id="7494738">[</span><span class="op" id="7494739">]</span><span class="builtintype" id="7494740">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7494746">func</span>&nbsp;<span class="ident" id="7494751">makeText</span><span class="op" id="7494759">(</span><span class="ident" id="7494760">n</span>&nbsp;<span class="builtintype" id="7494762">int</span><span class="op" id="7494765">)</span>&nbsp;<span class="op" id="7494767">[</span><span class="op" id="7494768">]</span><span class="builtintype" id="7494769">byte</span>&nbsp;<span class="op" id="7494774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494777">if</span>&nbsp;<span class="builtinfunc" id="7494780">len</span><span class="op" id="7494783">(</span><span class="ident" id="7494784">text</span><span class="op" id="7494788">)</span>&nbsp;<span class="op" id="7494790">&gt;=</span>&nbsp;<span class="ident" id="7494793">n</span>&nbsp;<span class="op" id="7494795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494799">return</span>&nbsp;<span class="ident" id="7494806">text</span><span class="op" id="7494810">[</span><span class="op" id="7494811">:</span><span class="ident" id="7494812">n</span><span class="op" id="7494813">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494819">text</span>&nbsp;<span class="op" id="7494824">=</span>&nbsp;<span class="builtinfunc" id="7494826">make</span><span class="op" id="7494830">(</span><span class="op" id="7494831">[</span><span class="op" id="7494832">]</span><span class="builtintype" id="7494833">byte</span><span class="op" id="7494837">,</span>&nbsp;<span class="ident" id="7494839">n</span><span class="op" id="7494840">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494843">x</span>&nbsp;<span class="op" id="7494845">:=</span>&nbsp;<span class="op" id="7494848">^</span><span class="builtintype" id="7494849">uint32</span><span class="op" id="7494855">(</span><span class="num" id="7494856">0</span><span class="op" id="7494857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494860">for</span>&nbsp;<span class="ident" id="7494864">i</span>&nbsp;<span class="op" id="7494866">:=</span>&nbsp;<span class="keyword" id="7494869">range</span>&nbsp;<span class="ident" id="7494875">text</span>&nbsp;<span class="op" id="7494880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494884">x</span>&nbsp;<span class="op" id="7494886">+=</span>&nbsp;<span class="ident" id="7494889">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494893">x</span>&nbsp;<span class="op" id="7494895">^=</span>&nbsp;<span class="num" id="7494898">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494902">if</span>&nbsp;<span class="builtintype" id="7494905">int32</span><span class="op" id="7494910">(</span><span class="ident" id="7494911">x</span><span class="op" id="7494912">)</span>&nbsp;<span class="op" id="7494914">&lt;</span>&nbsp;<span class="num" id="7494916">0</span>&nbsp;<span class="op" id="7494918">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494923">x</span>&nbsp;<span class="op" id="7494925">^=</span>&nbsp;<span class="num" id="7494928">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494945">if</span>&nbsp;<span class="ident" id="7494948">x</span><span class="op" id="7494949">%</span><span class="num" id="7494950">31</span>&nbsp;<span class="op" id="7494953">==</span>&nbsp;<span class="num" id="7494956">0</span>&nbsp;<span class="op" id="7494958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494963">text</span><span class="op" id="7494967">[</span><span class="ident" id="7494968">i</span><span class="op" id="7494969">]</span>&nbsp;<span class="op" id="7494971">=</span>&nbsp;<span class="string" id="7494973">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494980">}</span>&nbsp;<span class="keyword" id="7494982">else</span>&nbsp;<span class="op" id="7494987">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494992">text</span><span class="op" id="7494996">[</span><span class="ident" id="7494997">i</span><span class="op" id="7494998">]</span>&nbsp;<span class="op" id="7495000">=</span>&nbsp;<span class="builtintype" id="7495002">byte</span><span class="op" id="7495006">(</span><span class="ident" id="7495007">x</span><span class="op" id="7495008">%</span><span class="op" id="7495009">(</span><span class="num" id="7495010">0x7E</span><span class="op" id="7495014">+</span><span class="num" id="7495015">1</span><span class="op" id="7495016">-</span><span class="num" id="7495017">0x20</span><span class="op" id="7495021">)</span>&nbsp;<span class="op" id="7495023">+</span>&nbsp;<span class="num" id="7495025">0x20</span><span class="op" id="7495029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495039">return</span>&nbsp;<span class="ident" id="7495046">text</span><br>
<span class="lineno"></span><span class="op" id="7495051">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7495054">func</span>&nbsp;<span class="ident" id="7495059">benchmark</span><span class="op" id="7495068">(</span><span class="ident" id="7495069">b</span>&nbsp;<span class="op" id="7495071">*</span><span class="ident" id="7495072">testing</span><span class="op" id="7495079">.</span><span class="ident" id="7495080">B</span><span class="op" id="7495081">,</span>&nbsp;<span class="ident" id="7495083">re</span>&nbsp;<span class="builtintype" id="7495086">string</span><span class="op" id="7495092">,</span>&nbsp;<span class="ident" id="7495094">n</span>&nbsp;<span class="builtintype" id="7495096">int</span><span class="op" id="7495099">)</span>&nbsp;<span class="op" id="7495101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495104">r</span>&nbsp;<span class="op" id="7495106">:=</span>&nbsp;<span class="ident" id="7495109">MustCompile</span><span class="op" id="7495120">(</span><span class="ident" id="7495121">re</span><span class="op" id="7495123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495126">t</span>&nbsp;<span class="op" id="7495128">:=</span>&nbsp;<span class="ident" id="7495131">makeText</span><span class="op" id="7495139">(</span><span class="ident" id="7495140">n</span><span class="op" id="7495141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495144">b</span><span class="op" id="7495145">.</span><span class="ident" id="7495146">ResetTimer</span><span class="op" id="7495156">(</span><span class="op" id="7495157">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495160">b</span><span class="op" id="7495161">.</span><span class="ident" id="7495162">SetBytes</span><span class="op" id="7495170">(</span><span class="ident" id="7495171">int64</span><span class="op" id="7495176">(</span><span class="ident" id="7495177">n</span><span class="op" id="7495178">)</span><span class="op" id="7495179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495182">for</span>&nbsp;<span class="ident" id="7495186">i</span>&nbsp;<span class="op" id="7495188">:=</span>&nbsp;<span class="num" id="7495191">0</span><span class="op" id="7495192">;</span>&nbsp;<span class="ident" id="7495194">i</span>&nbsp;<span class="op" id="7495196">&lt;</span>&nbsp;<span class="ident" id="7495198">b</span><span class="op" id="7495199">.</span><span class="ident" id="7495200">N</span><span class="op" id="7495201">;</span>&nbsp;<span class="ident" id="7495203">i</span><span class="op" id="7495204">++</span>&nbsp;<span class="op" id="7495207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495211">if</span>&nbsp;<span class="ident" id="7495214">r</span><span class="op" id="7495215">.</span><span class="ident" id="7495216">Match</span><span class="op" id="7495221">(</span><span class="ident" id="7495222">t</span><span class="op" id="7495223">)</span>&nbsp;<span class="op" id="7495225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495230">b</span><span class="op" id="7495231">.</span><span class="ident" id="7495232">Fatal</span><span class="op" id="7495237">(</span><span class="string" id="7495238">&#34;match!&#34;</span><span class="op" id="7495246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495250">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495253">}</span><br>
<span class="lineno"></span><span class="op" id="7495255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495258">const</span>&nbsp;<span class="op" id="7495264">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495267">easy0</span>&nbsp;&nbsp;<span class="op" id="7495274">=</span>&nbsp;<span class="string" id="7495276">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495307">easy1</span>&nbsp;&nbsp;<span class="op" id="7495314">=</span>&nbsp;<span class="string" id="7495316">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495367">medium</span>&nbsp;<span class="op" id="7495374">=</span>&nbsp;<span class="string" id="7495376">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495412">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7495419">=</span>&nbsp;<span class="string" id="7495421">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495458">parens</span>&nbsp;<span class="op" id="7495465">=</span>&nbsp;<span class="string" id="7495467">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7495517">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7495521">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7495564">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495567">func</span>&nbsp;<span class="ident" id="7495572">BenchmarkMatchEasy0_32</span><span class="op" id="7495594">(</span><span class="ident" id="7495595">b</span>&nbsp;<span class="op" id="7495597">*</span><span class="ident" id="7495598">testing</span><span class="op" id="7495605">.</span><span class="ident" id="7495606">B</span><span class="op" id="7495607">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7495611">{</span>&nbsp;<span class="ident" id="7495613">benchmark</span><span class="op" id="7495622">(</span><span class="ident" id="7495623">b</span><span class="op" id="7495624">,</span>&nbsp;<span class="ident" id="7495626">easy0</span><span class="op" id="7495631">,</span>&nbsp;<span class="num" id="7495633">32</span><span class="op" id="7495635">&lt;&lt;</span><span class="num" id="7495637">0</span><span class="op" id="7495638">)</span>&nbsp;<span class="op" id="7495640">}</span><br>
<span class="lineno"></span><span class="keyword" id="7495642">func</span>&nbsp;<span class="ident" id="7495647">BenchmarkMatchEasy0_1K</span><span class="op" id="7495669">(</span><span class="ident" id="7495670">b</span>&nbsp;<span class="op" id="7495672">*</span><span class="ident" id="7495673">testing</span><span class="op" id="7495680">.</span><span class="ident" id="7495681">B</span><span class="op" id="7495682">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7495686">{</span>&nbsp;<span class="ident" id="7495688">benchmark</span><span class="op" id="7495697">(</span><span class="ident" id="7495698">b</span><span class="op" id="7495699">,</span>&nbsp;<span class="ident" id="7495701">easy0</span><span class="op" id="7495706">,</span>&nbsp;<span class="num" id="7495708">1</span><span class="op" id="7495709">&lt;&lt;</span><span class="num" id="7495711">10</span><span class="op" id="7495713">)</span>&nbsp;<span class="op" id="7495715">}</span><br>
<span class="lineno"></span><span class="keyword" id="7495717">func</span>&nbsp;<span class="ident" id="7495722">BenchmarkMatchEasy0_32K</span><span class="op" id="7495745">(</span><span class="ident" id="7495746">b</span>&nbsp;<span class="op" id="7495748">*</span><span class="ident" id="7495749">testing</span><span class="op" id="7495756">.</span><span class="ident" id="7495757">B</span><span class="op" id="7495758">)</span>&nbsp;&nbsp;<span class="op" id="7495761">{</span>&nbsp;<span class="ident" id="7495763">benchmark</span><span class="op" id="7495772">(</span><span class="ident" id="7495773">b</span><span class="op" id="7495774">,</span>&nbsp;<span class="ident" id="7495776">easy0</span><span class="op" id="7495781">,</span>&nbsp;<span class="num" id="7495783">32</span><span class="op" id="7495785">&lt;&lt;</span><span class="num" id="7495787">10</span><span class="op" id="7495789">)</span>&nbsp;<span class="op" id="7495791">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7495793">func</span>&nbsp;<span class="ident" id="7495798">BenchmarkMatchEasy0_1M</span><span class="op" id="7495820">(</span><span class="ident" id="7495821">b</span>&nbsp;<span class="op" id="7495823">*</span><span class="ident" id="7495824">testing</span><span class="op" id="7495831">.</span><span class="ident" id="7495832">B</span><span class="op" id="7495833">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7495837">{</span>&nbsp;<span class="ident" id="7495839">benchmark</span><span class="op" id="7495848">(</span><span class="ident" id="7495849">b</span><span class="op" id="7495850">,</span>&nbsp;<span class="ident" id="7495852">easy0</span><span class="op" id="7495857">,</span>&nbsp;<span class="num" id="7495859">1</span><span class="op" id="7495860">&lt;&lt;</span><span class="num" id="7495862">20</span><span class="op" id="7495864">)</span>&nbsp;<span class="op" id="7495866">}</span><br>
<span class="lineno"></span><span class="keyword" id="7495868">func</span>&nbsp;<span class="ident" id="7495873">BenchmarkMatchEasy0_32M</span><span class="op" id="7495896">(</span><span class="ident" id="7495897">b</span>&nbsp;<span class="op" id="7495899">*</span><span class="ident" id="7495900">testing</span><span class="op" id="7495907">.</span><span class="ident" id="7495908">B</span><span class="op" id="7495909">)</span>&nbsp;&nbsp;<span class="op" id="7495912">{</span>&nbsp;<span class="ident" id="7495914">benchmark</span><span class="op" id="7495923">(</span><span class="ident" id="7495924">b</span><span class="op" id="7495925">,</span>&nbsp;<span class="ident" id="7495927">easy0</span><span class="op" id="7495932">,</span>&nbsp;<span class="num" id="7495934">32</span><span class="op" id="7495936">&lt;&lt;</span><span class="num" id="7495938">20</span><span class="op" id="7495940">)</span>&nbsp;<span class="op" id="7495942">}</span><br>
<span class="lineno"></span><span class="keyword" id="7495944">func</span>&nbsp;<span class="ident" id="7495949">BenchmarkMatchEasy1_32</span><span class="op" id="7495971">(</span><span class="ident" id="7495972">b</span>&nbsp;<span class="op" id="7495974">*</span><span class="ident" id="7495975">testing</span><span class="op" id="7495982">.</span><span class="ident" id="7495983">B</span><span class="op" id="7495984">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7495988">{</span>&nbsp;<span class="ident" id="7495990">benchmark</span><span class="op" id="7495999">(</span><span class="ident" id="7496000">b</span><span class="op" id="7496001">,</span>&nbsp;<span class="ident" id="7496003">easy1</span><span class="op" id="7496008">,</span>&nbsp;<span class="num" id="7496010">32</span><span class="op" id="7496012">&lt;&lt;</span><span class="num" id="7496014">0</span><span class="op" id="7496015">)</span>&nbsp;<span class="op" id="7496017">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496019">func</span>&nbsp;<span class="ident" id="7496024">BenchmarkMatchEasy1_1K</span><span class="op" id="7496046">(</span><span class="ident" id="7496047">b</span>&nbsp;<span class="op" id="7496049">*</span><span class="ident" id="7496050">testing</span><span class="op" id="7496057">.</span><span class="ident" id="7496058">B</span><span class="op" id="7496059">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7496063">{</span>&nbsp;<span class="ident" id="7496065">benchmark</span><span class="op" id="7496074">(</span><span class="ident" id="7496075">b</span><span class="op" id="7496076">,</span>&nbsp;<span class="ident" id="7496078">easy1</span><span class="op" id="7496083">,</span>&nbsp;<span class="num" id="7496085">1</span><span class="op" id="7496086">&lt;&lt;</span><span class="num" id="7496088">10</span><span class="op" id="7496090">)</span>&nbsp;<span class="op" id="7496092">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496094">func</span>&nbsp;<span class="ident" id="7496099">BenchmarkMatchEasy1_32K</span><span class="op" id="7496122">(</span><span class="ident" id="7496123">b</span>&nbsp;<span class="op" id="7496125">*</span><span class="ident" id="7496126">testing</span><span class="op" id="7496133">.</span><span class="ident" id="7496134">B</span><span class="op" id="7496135">)</span>&nbsp;&nbsp;<span class="op" id="7496138">{</span>&nbsp;<span class="ident" id="7496140">benchmark</span><span class="op" id="7496149">(</span><span class="ident" id="7496150">b</span><span class="op" id="7496151">,</span>&nbsp;<span class="ident" id="7496153">easy1</span><span class="op" id="7496158">,</span>&nbsp;<span class="num" id="7496160">32</span><span class="op" id="7496162">&lt;&lt;</span><span class="num" id="7496164">10</span><span class="op" id="7496166">)</span>&nbsp;<span class="op" id="7496168">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7496170">func</span>&nbsp;<span class="ident" id="7496175">BenchmarkMatchEasy1_1M</span><span class="op" id="7496197">(</span><span class="ident" id="7496198">b</span>&nbsp;<span class="op" id="7496200">*</span><span class="ident" id="7496201">testing</span><span class="op" id="7496208">.</span><span class="ident" id="7496209">B</span><span class="op" id="7496210">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7496214">{</span>&nbsp;<span class="ident" id="7496216">benchmark</span><span class="op" id="7496225">(</span><span class="ident" id="7496226">b</span><span class="op" id="7496227">,</span>&nbsp;<span class="ident" id="7496229">easy1</span><span class="op" id="7496234">,</span>&nbsp;<span class="num" id="7496236">1</span><span class="op" id="7496237">&lt;&lt;</span><span class="num" id="7496239">20</span><span class="op" id="7496241">)</span>&nbsp;<span class="op" id="7496243">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496245">func</span>&nbsp;<span class="ident" id="7496250">BenchmarkMatchEasy1_32M</span><span class="op" id="7496273">(</span><span class="ident" id="7496274">b</span>&nbsp;<span class="op" id="7496276">*</span><span class="ident" id="7496277">testing</span><span class="op" id="7496284">.</span><span class="ident" id="7496285">B</span><span class="op" id="7496286">)</span>&nbsp;&nbsp;<span class="op" id="7496289">{</span>&nbsp;<span class="ident" id="7496291">benchmark</span><span class="op" id="7496300">(</span><span class="ident" id="7496301">b</span><span class="op" id="7496302">,</span>&nbsp;<span class="ident" id="7496304">easy1</span><span class="op" id="7496309">,</span>&nbsp;<span class="num" id="7496311">32</span><span class="op" id="7496313">&lt;&lt;</span><span class="num" id="7496315">20</span><span class="op" id="7496317">)</span>&nbsp;<span class="op" id="7496319">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496321">func</span>&nbsp;<span class="ident" id="7496326">BenchmarkMatchMedium_32</span><span class="op" id="7496349">(</span><span class="ident" id="7496350">b</span>&nbsp;<span class="op" id="7496352">*</span><span class="ident" id="7496353">testing</span><span class="op" id="7496360">.</span><span class="ident" id="7496361">B</span><span class="op" id="7496362">)</span>&nbsp;&nbsp;<span class="op" id="7496365">{</span>&nbsp;<span class="ident" id="7496367">benchmark</span><span class="op" id="7496376">(</span><span class="ident" id="7496377">b</span><span class="op" id="7496378">,</span>&nbsp;<span class="ident" id="7496380">medium</span><span class="op" id="7496386">,</span>&nbsp;<span class="num" id="7496388">32</span><span class="op" id="7496390">&lt;&lt;</span><span class="num" id="7496392">0</span><span class="op" id="7496393">)</span>&nbsp;<span class="op" id="7496395">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496397">func</span>&nbsp;<span class="ident" id="7496402">BenchmarkMatchMedium_1K</span><span class="op" id="7496425">(</span><span class="ident" id="7496426">b</span>&nbsp;<span class="op" id="7496428">*</span><span class="ident" id="7496429">testing</span><span class="op" id="7496436">.</span><span class="ident" id="7496437">B</span><span class="op" id="7496438">)</span>&nbsp;&nbsp;<span class="op" id="7496441">{</span>&nbsp;<span class="ident" id="7496443">benchmark</span><span class="op" id="7496452">(</span><span class="ident" id="7496453">b</span><span class="op" id="7496454">,</span>&nbsp;<span class="ident" id="7496456">medium</span><span class="op" id="7496462">,</span>&nbsp;<span class="num" id="7496464">1</span><span class="op" id="7496465">&lt;&lt;</span><span class="num" id="7496467">10</span><span class="op" id="7496469">)</span>&nbsp;<span class="op" id="7496471">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496473">func</span>&nbsp;<span class="ident" id="7496478">BenchmarkMatchMedium_32K</span><span class="op" id="7496502">(</span><span class="ident" id="7496503">b</span>&nbsp;<span class="op" id="7496505">*</span><span class="ident" id="7496506">testing</span><span class="op" id="7496513">.</span><span class="ident" id="7496514">B</span><span class="op" id="7496515">)</span>&nbsp;<span class="op" id="7496517">{</span>&nbsp;<span class="ident" id="7496519">benchmark</span><span class="op" id="7496528">(</span><span class="ident" id="7496529">b</span><span class="op" id="7496530">,</span>&nbsp;<span class="ident" id="7496532">medium</span><span class="op" id="7496538">,</span>&nbsp;<span class="num" id="7496540">32</span><span class="op" id="7496542">&lt;&lt;</span><span class="num" id="7496544">10</span><span class="op" id="7496546">)</span>&nbsp;<span class="op" id="7496548">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7496550">func</span>&nbsp;<span class="ident" id="7496555">BenchmarkMatchMedium_1M</span><span class="op" id="7496578">(</span><span class="ident" id="7496579">b</span>&nbsp;<span class="op" id="7496581">*</span><span class="ident" id="7496582">testing</span><span class="op" id="7496589">.</span><span class="ident" id="7496590">B</span><span class="op" id="7496591">)</span>&nbsp;&nbsp;<span class="op" id="7496594">{</span>&nbsp;<span class="ident" id="7496596">benchmark</span><span class="op" id="7496605">(</span><span class="ident" id="7496606">b</span><span class="op" id="7496607">,</span>&nbsp;<span class="ident" id="7496609">medium</span><span class="op" id="7496615">,</span>&nbsp;<span class="num" id="7496617">1</span><span class="op" id="7496618">&lt;&lt;</span><span class="num" id="7496620">20</span><span class="op" id="7496622">)</span>&nbsp;<span class="op" id="7496624">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496626">func</span>&nbsp;<span class="ident" id="7496631">BenchmarkMatchMedium_32M</span><span class="op" id="7496655">(</span><span class="ident" id="7496656">b</span>&nbsp;<span class="op" id="7496658">*</span><span class="ident" id="7496659">testing</span><span class="op" id="7496666">.</span><span class="ident" id="7496667">B</span><span class="op" id="7496668">)</span>&nbsp;<span class="op" id="7496670">{</span>&nbsp;<span class="ident" id="7496672">benchmark</span><span class="op" id="7496681">(</span><span class="ident" id="7496682">b</span><span class="op" id="7496683">,</span>&nbsp;<span class="ident" id="7496685">medium</span><span class="op" id="7496691">,</span>&nbsp;<span class="num" id="7496693">32</span><span class="op" id="7496695">&lt;&lt;</span><span class="num" id="7496697">20</span><span class="op" id="7496699">)</span>&nbsp;<span class="op" id="7496701">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496703">func</span>&nbsp;<span class="ident" id="7496708">BenchmarkMatchHard_32</span><span class="op" id="7496729">(</span><span class="ident" id="7496730">b</span>&nbsp;<span class="op" id="7496732">*</span><span class="ident" id="7496733">testing</span><span class="op" id="7496740">.</span><span class="ident" id="7496741">B</span><span class="op" id="7496742">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496747">{</span>&nbsp;<span class="ident" id="7496749">benchmark</span><span class="op" id="7496758">(</span><span class="ident" id="7496759">b</span><span class="op" id="7496760">,</span>&nbsp;<span class="ident" id="7496762">hard</span><span class="op" id="7496766">,</span>&nbsp;<span class="num" id="7496768">32</span><span class="op" id="7496770">&lt;&lt;</span><span class="num" id="7496772">0</span><span class="op" id="7496773">)</span>&nbsp;<span class="op" id="7496775">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496777">func</span>&nbsp;<span class="ident" id="7496782">BenchmarkMatchHard_1K</span><span class="op" id="7496803">(</span><span class="ident" id="7496804">b</span>&nbsp;<span class="op" id="7496806">*</span><span class="ident" id="7496807">testing</span><span class="op" id="7496814">.</span><span class="ident" id="7496815">B</span><span class="op" id="7496816">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496821">{</span>&nbsp;<span class="ident" id="7496823">benchmark</span><span class="op" id="7496832">(</span><span class="ident" id="7496833">b</span><span class="op" id="7496834">,</span>&nbsp;<span class="ident" id="7496836">hard</span><span class="op" id="7496840">,</span>&nbsp;<span class="num" id="7496842">1</span><span class="op" id="7496843">&lt;&lt;</span><span class="num" id="7496845">10</span><span class="op" id="7496847">)</span>&nbsp;<span class="op" id="7496849">}</span><br>
<span class="lineno"></span><span class="keyword" id="7496851">func</span>&nbsp;<span class="ident" id="7496856">BenchmarkMatchHard_32K</span><span class="op" id="7496878">(</span><span class="ident" id="7496879">b</span>&nbsp;<span class="op" id="7496881">*</span><span class="ident" id="7496882">testing</span><span class="op" id="7496889">.</span><span class="ident" id="7496890">B</span><span class="op" id="7496891">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7496895">{</span>&nbsp;<span class="ident" id="7496897">benchmark</span><span class="op" id="7496906">(</span><span class="ident" id="7496907">b</span><span class="op" id="7496908">,</span>&nbsp;<span class="ident" id="7496910">hard</span><span class="op" id="7496914">,</span>&nbsp;<span class="num" id="7496916">32</span><span class="op" id="7496918">&lt;&lt;</span><span class="num" id="7496920">10</span><span class="op" id="7496922">)</span>&nbsp;<span class="op" id="7496924">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7496926">func</span>&nbsp;<span class="ident" id="7496931">BenchmarkMatchHard_1M</span><span class="op" id="7496952">(</span><span class="ident" id="7496953">b</span>&nbsp;<span class="op" id="7496955">*</span><span class="ident" id="7496956">testing</span><span class="op" id="7496963">.</span><span class="ident" id="7496964">B</span><span class="op" id="7496965">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496970">{</span>&nbsp;<span class="ident" id="7496972">benchmark</span><span class="op" id="7496981">(</span><span class="ident" id="7496982">b</span><span class="op" id="7496983">,</span>&nbsp;<span class="ident" id="7496985">hard</span><span class="op" id="7496989">,</span>&nbsp;<span class="num" id="7496991">1</span><span class="op" id="7496992">&lt;&lt;</span><span class="num" id="7496994">20</span><span class="op" id="7496996">)</span>&nbsp;<span class="op" id="7496998">}</span><br>
<span class="lineno"></span><span class="keyword" id="7497000">func</span>&nbsp;<span class="ident" id="7497005">BenchmarkMatchHard_32M</span><span class="op" id="7497027">(</span><span class="ident" id="7497028">b</span>&nbsp;<span class="op" id="7497030">*</span><span class="ident" id="7497031">testing</span><span class="op" id="7497038">.</span><span class="ident" id="7497039">B</span><span class="op" id="7497040">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7497044">{</span>&nbsp;<span class="ident" id="7497046">benchmark</span><span class="op" id="7497055">(</span><span class="ident" id="7497056">b</span><span class="op" id="7497057">,</span>&nbsp;<span class="ident" id="7497059">hard</span><span class="op" id="7497063">,</span>&nbsp;<span class="num" id="7497065">32</span><span class="op" id="7497067">&lt;&lt;</span><span class="num" id="7497069">20</span><span class="op" id="7497071">)</span>&nbsp;<span class="op" id="7497073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7497076">func</span>&nbsp;<span class="ident" id="7497081">TestLongest</span><span class="op" id="7497092">(</span><span class="ident" id="7497093">t</span>&nbsp;<span class="op" id="7497095">*</span><span class="ident" id="7497096">testing</span><span class="op" id="7497103">.</span><span class="ident" id="7497104">T</span><span class="op" id="7497105">)</span>&nbsp;<span class="op" id="7497107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497110">re</span><span class="op" id="7497112">,</span>&nbsp;<span class="ident" id="7497114">err</span>&nbsp;<span class="op" id="7497118">:=</span>&nbsp;<span class="ident" id="7497121">Compile</span><span class="op" id="7497128">(</span><span class="string" id="7497129">`a(|b)`</span><span class="op" id="7497136">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497139">if</span>&nbsp;<span class="ident" id="7497142">err</span>&nbsp;<span class="op" id="7497146">!=</span>&nbsp;<span class="ident" id="7497149">nil</span>&nbsp;<span class="op" id="7497153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497157">t</span><span class="op" id="7497158">.</span><span class="ident" id="7497159">Fatal</span><span class="op" id="7497164">(</span><span class="ident" id="7497165">err</span><span class="op" id="7497168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497174">if</span>&nbsp;<span class="ident" id="7497177">g</span><span class="op" id="7497178">,</span>&nbsp;<span class="ident" id="7497180">w</span>&nbsp;<span class="op" id="7497182">:=</span>&nbsp;<span class="ident" id="7497185">re</span><span class="op" id="7497187">.</span><span class="ident" id="7497188">FindString</span><span class="op" id="7497198">(</span><span class="string" id="7497199">&#34;ab&#34;</span><span class="op" id="7497203">)</span><span class="op" id="7497204">,</span>&nbsp;<span class="string" id="7497206">&#34;a&#34;</span><span class="op" id="7497209">;</span>&nbsp;<span class="ident" id="7497211">g</span>&nbsp;<span class="op" id="7497213">!=</span>&nbsp;<span class="ident" id="7497216">w</span>&nbsp;<span class="op" id="7497218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497222">t</span><span class="op" id="7497223">.</span><span class="ident" id="7497224">Errorf</span><span class="op" id="7497230">(</span><span class="string" id="7497231">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7497260">,</span>&nbsp;<span class="ident" id="7497262">g</span><span class="op" id="7497263">,</span>&nbsp;<span class="ident" id="7497265">w</span><span class="op" id="7497266">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497272">re</span><span class="op" id="7497274">.</span><span class="ident" id="7497275">Longest</span><span class="op" id="7497282">(</span><span class="op" id="7497283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7497286">if</span>&nbsp;<span class="ident" id="7497289">g</span><span class="op" id="7497290">,</span>&nbsp;<span class="ident" id="7497292">w</span>&nbsp;<span class="op" id="7497294">:=</span>&nbsp;<span class="ident" id="7497297">re</span><span class="op" id="7497299">.</span><span class="ident" id="7497300">FindString</span><span class="op" id="7497310">(</span><span class="string" id="7497311">&#34;ab&#34;</span><span class="op" id="7497315">)</span><span class="op" id="7497316">,</span>&nbsp;<span class="string" id="7497318">&#34;ab&#34;</span><span class="op" id="7497322">;</span>&nbsp;<span class="ident" id="7497324">g</span>&nbsp;<span class="op" id="7497326">!=</span>&nbsp;<span class="ident" id="7497329">w</span>&nbsp;<span class="op" id="7497331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7497335">t</span><span class="op" id="7497336">.</span><span class="ident" id="7497337">Errorf</span><span class="op" id="7497343">(</span><span class="string" id="7497344">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7497375">,</span>&nbsp;<span class="ident" id="7497377">g</span><span class="op" id="7497378">,</span>&nbsp;<span class="ident" id="7497380">w</span><span class="op" id="7497381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7497384">}</span><br>
<span class="lineno">715</span><span class="op" id="7497386">}</span>
</div>
</body>
</html>
