<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7204201">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7204257">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7204311">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7204362">package</span>&nbsp;<span class="ident" id="7204370">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7204379">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7204438">func</span>&nbsp;<span class="ident" id="7204443">MakeRO</span><span class="op" id="7204449">(</span><span class="ident" id="7204450">v</span>&nbsp;<span class="ident" id="7204452">Value</span><span class="op" id="7204457">)</span>&nbsp;<span class="ident" id="7204459">Value</span>&nbsp;<span class="op" id="7204465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7204468">v</span><span class="op" id="7204469">.</span><span class="ident" id="7204470">flag</span>&nbsp;<span class="op" id="7204475">|=</span>&nbsp;<span class="ident" id="7204478">flagRO</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204486">return</span>&nbsp;<span class="ident" id="7204493">v</span><br>
<span class="lineno"></span><span class="op" id="7204495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7204498">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7204549">func</span>&nbsp;<span class="ident" id="7204554">IsRO</span><span class="op" id="7204558">(</span><span class="ident" id="7204559">v</span>&nbsp;<span class="ident" id="7204561">Value</span><span class="op" id="7204566">)</span>&nbsp;<span class="builtintype" id="7204568">bool</span>&nbsp;<span class="op" id="7204573">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204576">return</span>&nbsp;<span class="ident" id="7204583">v</span><span class="op" id="7204584">.</span><span class="ident" id="7204585">flag</span><span class="op" id="7204589">&amp;</span><span class="ident" id="7204590">flagRO</span>&nbsp;<span class="op" id="7204597">!=</span>&nbsp;<span class="num" id="7204600">0</span><br>
<span class="lineno"></span><span class="op" id="7204602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7204605">var</span>&nbsp;<span class="ident" id="7204609">ArrayOf</span>&nbsp;<span class="op" id="7204617">=</span>&nbsp;<span class="ident" id="7204619">arrayOf</span><br>
<span class="lineno"></span><span class="keyword" id="7204627">var</span>&nbsp;<span class="ident" id="7204631">CallGC</span>&nbsp;<span class="op" id="7204638">=</span>&nbsp;<span class="op" id="7204640">&amp;</span><span class="ident" id="7204641">callGC</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7204649">const</span>&nbsp;<span class="ident" id="7204655">PtrSize</span>&nbsp;<span class="op" id="7204663">=</span>&nbsp;<span class="ident" id="7204665">ptrSize</span><br>
<span class="lineno"></span><span class="keyword" id="7204673">const</span>&nbsp;<span class="ident" id="7204679">BitsPointer</span>&nbsp;<span class="op" id="7204691">=</span>&nbsp;<span class="ident" id="7204693">bitsPointer</span><br>
<span class="lineno"></span><span class="keyword" id="7204705">const</span>&nbsp;<span class="ident" id="7204711">BitsScalar</span>&nbsp;<span class="op" id="7204722">=</span>&nbsp;<span class="ident" id="7204724">bitsScalar</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7204736">func</span>&nbsp;<span class="ident" id="7204741">FuncLayout</span><span class="op" id="7204751">(</span><span class="ident" id="7204752">t</span>&nbsp;<span class="ident" id="7204754">Type</span><span class="op" id="7204758">,</span>&nbsp;<span class="ident" id="7204760">rcvr</span>&nbsp;<span class="ident" id="7204765">Type</span><span class="op" id="7204769">)</span>&nbsp;<span class="op" id="7204771">(</span><span class="ident" id="7204772">frametype</span>&nbsp;<span class="ident" id="7204782">Type</span><span class="op" id="7204786">,</span>&nbsp;<span class="ident" id="7204788">argSize</span><span class="op" id="7204795">,</span>&nbsp;<span class="ident" id="7204797">retOffset</span>&nbsp;<span class="builtintype" id="7204807">uintptr</span><span class="op" id="7204814">,</span>&nbsp;<span class="ident" id="7204816">stack</span>&nbsp;<span class="op" id="7204822">[</span><span class="op" id="7204823">]</span><span class="builtintype" id="7204824">byte</span><span class="op" id="7204828">)</span>&nbsp;<span class="op" id="7204830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204833">var</span>&nbsp;<span class="ident" id="7204837">ft</span>&nbsp;<span class="op" id="7204840">*</span><span class="ident" id="7204841">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204848">var</span>&nbsp;<span class="ident" id="7204852">s</span>&nbsp;<span class="op" id="7204854">*</span><span class="ident" id="7204855">bitVector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7204866">if</span>&nbsp;<span class="ident" id="7204869">rcvr</span>&nbsp;<span class="op" id="7204874">!=</span>&nbsp;<span class="ident" id="7204877">nil</span>&nbsp;<span class="op" id="7204881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7204885">ft</span><span class="op" id="7204887">,</span>&nbsp;<span class="ident" id="7204889">argSize</span><span class="op" id="7204896">,</span>&nbsp;<span class="ident" id="7204898">retOffset</span><span class="op" id="7204907">,</span>&nbsp;<span class="ident" id="7204909">s</span>&nbsp;<span class="op" id="7204911">=</span>&nbsp;<span class="ident" id="7204913">funcLayout</span><span class="op" id="7204923">(</span><span class="ident" id="7204924">t</span><span class="op" id="7204925">.</span><span class="op" id="7204926">(</span><span class="op" id="7204927">*</span><span class="ident" id="7204928">rtype</span><span class="op" id="7204933">)</span><span class="op" id="7204934">,</span>&nbsp;<span class="ident" id="7204936">rcvr</span><span class="op" id="7204940">.</span><span class="op" id="7204941">(</span><span class="op" id="7204942">*</span><span class="ident" id="7204943">rtype</span><span class="op" id="7204948">)</span><span class="op" id="7204949">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7204952">}</span>&nbsp;<span class="keyword" id="7204954">else</span>&nbsp;<span class="op" id="7204959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7204963">ft</span><span class="op" id="7204965">,</span>&nbsp;<span class="ident" id="7204967">argSize</span><span class="op" id="7204974">,</span>&nbsp;<span class="ident" id="7204976">retOffset</span><span class="op" id="7204985">,</span>&nbsp;<span class="ident" id="7204987">s</span>&nbsp;<span class="op" id="7204989">=</span>&nbsp;<span class="ident" id="7204991">funcLayout</span><span class="op" id="7205001">(</span><span class="ident" id="7205002">t</span><span class="op" id="7205003">.</span><span class="op" id="7205004">(</span><span class="op" id="7205005">*</span><span class="ident" id="7205006">rtype</span><span class="op" id="7205011">)</span><span class="op" id="7205012">,</span>&nbsp;<span class="ident" id="7205014">nil</span><span class="op" id="7205017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7205020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7205023">frametype</span>&nbsp;<span class="op" id="7205033">=</span>&nbsp;<span class="ident" id="7205035">ft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7205039">for</span>&nbsp;<span class="ident" id="7205043">i</span>&nbsp;<span class="op" id="7205045">:=</span>&nbsp;<span class="builtintype" id="7205048">uint32</span><span class="op" id="7205054">(</span><span class="num" id="7205055">0</span><span class="op" id="7205056">)</span><span class="op" id="7205057">;</span>&nbsp;<span class="ident" id="7205059">i</span>&nbsp;<span class="op" id="7205061">&lt;</span>&nbsp;<span class="ident" id="7205063">s</span><span class="op" id="7205064">.</span><span class="ident" id="7205065">n</span><span class="op" id="7205066">;</span>&nbsp;<span class="ident" id="7205068">i</span>&nbsp;<span class="op" id="7205070">+=</span>&nbsp;<span class="num" id="7205073">2</span>&nbsp;<span class="op" id="7205075">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7205079">stack</span>&nbsp;<span class="op" id="7205085">=</span>&nbsp;<span class="builtinfunc" id="7205087">append</span><span class="op" id="7205093">(</span><span class="ident" id="7205094">stack</span><span class="op" id="7205099">,</span>&nbsp;<span class="ident" id="7205101">s</span><span class="op" id="7205102">.</span><span class="ident" id="7205103">data</span><span class="op" id="7205107">[</span><span class="ident" id="7205108">i</span><span class="op" id="7205109">/</span><span class="num" id="7205110">8</span><span class="op" id="7205111">]</span><span class="op" id="7205112">&gt;&gt;</span><span class="op" id="7205114">(</span><span class="ident" id="7205115">i</span><span class="op" id="7205116">%</span><span class="num" id="7205117">8</span><span class="op" id="7205118">)</span><span class="op" id="7205119">&amp;</span><span class="num" id="7205120">3</span><span class="op" id="7205121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7205124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7205127">return</span><br>
<span class="lineno"></span><span class="op" id="7205134">}</span>
</div>
</body>
</html>
