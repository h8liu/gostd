<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8652449">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8652504">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8652558">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8652609">package</span>&nbsp;<span class="ident" id="8652617">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8652623">import</span>&nbsp;<span class="op" id="8652630">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652633">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652642">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652657">&#34;image/png&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652670">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652676">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8652686">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8652689">func</span>&nbsp;<span class="ident" id="8652694">eq</span><span class="op" id="8652696">(</span><span class="ident" id="8652697">c0</span><span class="op" id="8652699">,</span>&nbsp;<span class="ident" id="8652701">c1</span>&nbsp;<span class="ident" id="8652704"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8652709">.</span><span class="ident" id="8652710">Color</span><span class="op" id="8652715">)</span>&nbsp;<span class="builtintype" id="8652717">bool</span>&nbsp;<span class="op" id="8652722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652725">r0</span><span class="op" id="8652727">,</span>&nbsp;<span class="ident" id="8652729">g0</span><span class="op" id="8652731">,</span>&nbsp;<span class="ident" id="8652733">b0</span><span class="op" id="8652735">,</span>&nbsp;<span class="ident" id="8652737">a0</span>&nbsp;<span class="op" id="8652740">:=</span>&nbsp;<span class="ident" id="8652743"><a href="/image/draw/draw_test.go.html#8652697">c0</a></span><span class="op" id="8652745">.</span><span class="ident" id="8652746">RGBA</span><span class="op" id="8652750">(</span><span class="op" id="8652751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652754">r1</span><span class="op" id="8652756">,</span>&nbsp;<span class="ident" id="8652758">g1</span><span class="op" id="8652760">,</span>&nbsp;<span class="ident" id="8652762">b1</span><span class="op" id="8652764">,</span>&nbsp;<span class="ident" id="8652766">a1</span>&nbsp;<span class="op" id="8652769">:=</span>&nbsp;<span class="ident" id="8652772"><a href="/image/draw/draw_test.go.html#8652701">c1</a></span><span class="op" id="8652774">.</span><span class="ident" id="8652775">RGBA</span><span class="op" id="8652779">(</span><span class="op" id="8652780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8652783">return</span>&nbsp;<span class="ident" id="8652790"><a href="/image/draw/draw_test.go.html#8652725">r0</a></span>&nbsp;<span class="op" id="8652793">==</span>&nbsp;<span class="ident" id="8652796"><a href="/image/draw/draw_test.go.html#8652754">r1</a></span>&nbsp;<span class="op" id="8652799">&amp;&amp;</span>&nbsp;<span class="ident" id="8652802"><a href="/image/draw/draw_test.go.html#8652729">g0</a></span>&nbsp;<span class="op" id="8652805">==</span>&nbsp;<span class="ident" id="8652808"><a href="/image/draw/draw_test.go.html#8652758">g1</a></span>&nbsp;<span class="op" id="8652811">&amp;&amp;</span>&nbsp;<span class="ident" id="8652814"><a href="/image/draw/draw_test.go.html#8652733">b0</a></span>&nbsp;<span class="op" id="8652817">==</span>&nbsp;<span class="ident" id="8652820"><a href="/image/draw/draw_test.go.html#8652762">b1</a></span>&nbsp;<span class="op" id="8652823">&amp;&amp;</span>&nbsp;<span class="ident" id="8652826"><a href="/image/draw/draw_test.go.html#8652737">a0</a></span>&nbsp;<span class="op" id="8652829">==</span>&nbsp;<span class="ident" id="8652832"><a href="/image/draw/draw_test.go.html#8652766">a1</a></span><br>
<span class="lineno"></span><span class="op" id="8652835">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8652838">func</span>&nbsp;<span class="ident" id="8652843">fillBlue</span><span class="op" id="8652851">(</span><span class="ident" id="8652852">alpha</span>&nbsp;<span class="builtintype" id="8652858">int</span><span class="op" id="8652861">)</span>&nbsp;<span class="ident" id="8652863"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8652868">.</span><span class="ident" id="8652869">Image</span>&nbsp;<span class="op" id="8652875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8652878">return</span>&nbsp;<span class="ident" id="8652885"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8652890">.</span><span class="ident" id="8652891">NewUniform</span><span class="op" id="8652901">(</span><span class="ident" id="8652902"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8652907">.</span><span class="ident" id="8652908">RGBA</span><span class="op" id="8652912">{</span><span class="num" id="8652913">0</span><span class="op" id="8652914">,</span>&nbsp;<span class="num" id="8652916">0</span><span class="op" id="8652917">,</span>&nbsp;<span class="builtintype" id="8652919">uint8</span><span class="op" id="8652924">(</span><span class="ident" id="8652925"><a href="/image/draw/draw_test.go.html#8652852">alpha</a></span><span class="op" id="8652930">)</span><span class="op" id="8652931">,</span>&nbsp;<span class="builtintype" id="8652933">uint8</span><span class="op" id="8652938">(</span><span class="ident" id="8652939"><a href="/image/draw/draw_test.go.html#8652852">alpha</a></span><span class="op" id="8652944">)</span><span class="op" id="8652945">}</span><span class="op" id="8652946">)</span><br>
<span class="lineno"></span><span class="op" id="8652948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8652951">func</span>&nbsp;<span class="ident" id="8652956">fillAlpha</span><span class="op" id="8652965">(</span><span class="ident" id="8652966">alpha</span>&nbsp;<span class="builtintype" id="8652972">int</span><span class="op" id="8652975">)</span>&nbsp;<span class="ident" id="8652977"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8652982">.</span><span class="ident" id="8652983">Image</span>&nbsp;<span class="op" id="8652989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8652992">return</span>&nbsp;<span class="ident" id="8652999"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653004">.</span><span class="ident" id="8653005">NewUniform</span><span class="op" id="8653015">(</span><span class="ident" id="8653016"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8653021">.</span><span class="ident" id="8653022">Alpha</span><span class="op" id="8653027">{</span><span class="builtintype" id="8653028">uint8</span><span class="op" id="8653033">(</span><span class="ident" id="8653034"><a href="/image/draw/draw_test.go.html#8652966">alpha</a></span><span class="op" id="8653039">)</span><span class="op" id="8653040">}</span><span class="op" id="8653041">)</span><br>
<span class="lineno"></span><span class="op" id="8653043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8653046">func</span>&nbsp;<span class="ident" id="8653051">vgradGreen</span><span class="op" id="8653061">(</span><span class="ident" id="8653062">alpha</span>&nbsp;<span class="builtintype" id="8653068">int</span><span class="op" id="8653071">)</span>&nbsp;<span class="ident" id="8653073"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653078">.</span><span class="ident" id="8653079">Image</span>&nbsp;<span class="op" id="8653085">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653088">m</span>&nbsp;<span class="op" id="8653090">:=</span>&nbsp;<span class="ident" id="8653093"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653098">.</span><span class="ident" id="8653099">NewRGBA</span><span class="op" id="8653106">(</span><span class="ident" id="8653107"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653112">.</span><span class="ident" id="8653113">Rect</span><span class="op" id="8653117">(</span><span class="num" id="8653118">0</span><span class="op" id="8653119">,</span>&nbsp;<span class="num" id="8653121">0</span><span class="op" id="8653122">,</span>&nbsp;<span class="num" id="8653124">16</span><span class="op" id="8653126">,</span>&nbsp;<span class="num" id="8653128">16</span><span class="op" id="8653130">)</span><span class="op" id="8653131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653134">for</span>&nbsp;<span class="ident" id="8653138">y</span>&nbsp;<span class="op" id="8653140">:=</span>&nbsp;<span class="num" id="8653143">0</span><span class="op" id="8653144">;</span>&nbsp;<span class="ident" id="8653146"><a href="/image/draw/draw_test.go.html#8653138">y</a></span>&nbsp;<span class="op" id="8653148">&lt;</span>&nbsp;<span class="num" id="8653150">16</span><span class="op" id="8653152">;</span>&nbsp;<span class="ident" id="8653154"><a href="/image/draw/draw_test.go.html#8653138">y</a></span><span class="op" id="8653155">++</span>&nbsp;<span class="op" id="8653158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653162">for</span>&nbsp;<span class="ident" id="8653166">x</span>&nbsp;<span class="op" id="8653168">:=</span>&nbsp;<span class="num" id="8653171">0</span><span class="op" id="8653172">;</span>&nbsp;<span class="ident" id="8653174"><a href="/image/draw/draw_test.go.html#8653166">x</a></span>&nbsp;<span class="op" id="8653176">&lt;</span>&nbsp;<span class="num" id="8653178">16</span><span class="op" id="8653180">;</span>&nbsp;<span class="ident" id="8653182"><a href="/image/draw/draw_test.go.html#8653166">x</a></span><span class="op" id="8653183">++</span>&nbsp;<span class="op" id="8653186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653191"><a href="/image/draw/draw_test.go.html#8653088">m</a></span><span class="op" id="8653192">.</span><span class="ident" id="8653193">Set</span><span class="op" id="8653196">(</span><span class="ident" id="8653197"><a href="/image/draw/draw_test.go.html#8653166">x</a></span><span class="op" id="8653198">,</span>&nbsp;<span class="ident" id="8653200"><a href="/image/draw/draw_test.go.html#8653138">y</a></span><span class="op" id="8653201">,</span>&nbsp;<span class="ident" id="8653203"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8653208">.</span><span class="ident" id="8653209">RGBA</span><span class="op" id="8653213">{</span><span class="num" id="8653214">0</span><span class="op" id="8653215">,</span>&nbsp;<span class="builtintype" id="8653217">uint8</span><span class="op" id="8653222">(</span><span class="ident" id="8653223"><a href="/image/draw/draw_test.go.html#8653138">y</a></span>&nbsp;<span class="op" id="8653225">*</span>&nbsp;<span class="ident" id="8653227"><a href="/image/draw/draw_test.go.html#8653062">alpha</a></span>&nbsp;<span class="op" id="8653233">/</span>&nbsp;<span class="num" id="8653235">15</span><span class="op" id="8653237">)</span><span class="op" id="8653238">,</span>&nbsp;<span class="num" id="8653240">0</span><span class="op" id="8653241">,</span>&nbsp;<span class="builtintype" id="8653243">uint8</span><span class="op" id="8653248">(</span><span class="ident" id="8653249"><a href="/image/draw/draw_test.go.html#8653062">alpha</a></span><span class="op" id="8653254">)</span><span class="op" id="8653255">}</span><span class="op" id="8653256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653260">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653266">return</span>&nbsp;<span class="ident" id="8653273"><a href="/image/draw/draw_test.go.html#8653088">m</a></span><br>
<span class="lineno"></span><span class="op" id="8653275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8653278">func</span>&nbsp;<span class="ident" id="8653283">vgradAlpha</span><span class="op" id="8653293">(</span><span class="ident" id="8653294">alpha</span>&nbsp;<span class="builtintype" id="8653300">int</span><span class="op" id="8653303">)</span>&nbsp;<span class="ident" id="8653305"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653310">.</span><span class="ident" id="8653311">Image</span>&nbsp;<span class="op" id="8653317">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653320">m</span>&nbsp;<span class="op" id="8653322">:=</span>&nbsp;<span class="ident" id="8653325"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653330">.</span><span class="ident" id="8653331">NewAlpha</span><span class="op" id="8653339">(</span><span class="ident" id="8653340"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653345">.</span><span class="ident" id="8653346">Rect</span><span class="op" id="8653350">(</span><span class="num" id="8653351">0</span><span class="op" id="8653352">,</span>&nbsp;<span class="num" id="8653354">0</span><span class="op" id="8653355">,</span>&nbsp;<span class="num" id="8653357">16</span><span class="op" id="8653359">,</span>&nbsp;<span class="num" id="8653361">16</span><span class="op" id="8653363">)</span><span class="op" id="8653364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653367">for</span>&nbsp;<span class="ident" id="8653371">y</span>&nbsp;<span class="op" id="8653373">:=</span>&nbsp;<span class="num" id="8653376">0</span><span class="op" id="8653377">;</span>&nbsp;<span class="ident" id="8653379"><a href="/image/draw/draw_test.go.html#8653371">y</a></span>&nbsp;<span class="op" id="8653381">&lt;</span>&nbsp;<span class="num" id="8653383">16</span><span class="op" id="8653385">;</span>&nbsp;<span class="ident" id="8653387"><a href="/image/draw/draw_test.go.html#8653371">y</a></span><span class="op" id="8653388">++</span>&nbsp;<span class="op" id="8653391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653395">for</span>&nbsp;<span class="ident" id="8653399">x</span>&nbsp;<span class="op" id="8653401">:=</span>&nbsp;<span class="num" id="8653404">0</span><span class="op" id="8653405">;</span>&nbsp;<span class="ident" id="8653407"><a href="/image/draw/draw_test.go.html#8653399">x</a></span>&nbsp;<span class="op" id="8653409">&lt;</span>&nbsp;<span class="num" id="8653411">16</span><span class="op" id="8653413">;</span>&nbsp;<span class="ident" id="8653415"><a href="/image/draw/draw_test.go.html#8653399">x</a></span><span class="op" id="8653416">++</span>&nbsp;<span class="op" id="8653419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653424"><a href="/image/draw/draw_test.go.html#8653320">m</a></span><span class="op" id="8653425">.</span><span class="ident" id="8653426">Set</span><span class="op" id="8653429">(</span><span class="ident" id="8653430"><a href="/image/draw/draw_test.go.html#8653399">x</a></span><span class="op" id="8653431">,</span>&nbsp;<span class="ident" id="8653433"><a href="/image/draw/draw_test.go.html#8653371">y</a></span><span class="op" id="8653434">,</span>&nbsp;<span class="ident" id="8653436"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8653441">.</span><span class="ident" id="8653442">Alpha</span><span class="op" id="8653447">{</span><span class="builtintype" id="8653448">uint8</span><span class="op" id="8653453">(</span><span class="ident" id="8653454"><a href="/image/draw/draw_test.go.html#8653371">y</a></span>&nbsp;<span class="op" id="8653456">*</span>&nbsp;<span class="ident" id="8653458"><a href="/image/draw/draw_test.go.html#8653294">alpha</a></span>&nbsp;<span class="op" id="8653464">/</span>&nbsp;<span class="num" id="8653466">15</span><span class="op" id="8653468">)</span><span class="op" id="8653469">}</span><span class="op" id="8653470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653474">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653480">return</span>&nbsp;<span class="ident" id="8653487"><a href="/image/draw/draw_test.go.html#8653320">m</a></span><br>
<span class="lineno"></span><span class="op" id="8653489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8653492">func</span>&nbsp;<span class="ident" id="8653497">vgradGreenNRGBA</span><span class="op" id="8653512">(</span><span class="ident" id="8653513">alpha</span>&nbsp;<span class="builtintype" id="8653519">int</span><span class="op" id="8653522">)</span>&nbsp;<span class="ident" id="8653524"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653529">.</span><span class="ident" id="8653530">Image</span>&nbsp;<span class="op" id="8653536">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653539">m</span>&nbsp;<span class="op" id="8653541">:=</span>&nbsp;<span class="ident" id="8653544"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653549">.</span><span class="ident" id="8653550">NewNRGBA</span><span class="op" id="8653558">(</span><span class="ident" id="8653559"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653564">.</span><span class="ident" id="8653565">Rect</span><span class="op" id="8653569">(</span><span class="num" id="8653570">0</span><span class="op" id="8653571">,</span>&nbsp;<span class="num" id="8653573">0</span><span class="op" id="8653574">,</span>&nbsp;<span class="num" id="8653576">16</span><span class="op" id="8653578">,</span>&nbsp;<span class="num" id="8653580">16</span><span class="op" id="8653582">)</span><span class="op" id="8653583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653586">for</span>&nbsp;<span class="ident" id="8653590">y</span>&nbsp;<span class="op" id="8653592">:=</span>&nbsp;<span class="num" id="8653595">0</span><span class="op" id="8653596">;</span>&nbsp;<span class="ident" id="8653598"><a href="/image/draw/draw_test.go.html#8653590">y</a></span>&nbsp;<span class="op" id="8653600">&lt;</span>&nbsp;<span class="num" id="8653602">16</span><span class="op" id="8653604">;</span>&nbsp;<span class="ident" id="8653606"><a href="/image/draw/draw_test.go.html#8653590">y</a></span><span class="op" id="8653607">++</span>&nbsp;<span class="op" id="8653610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653614">for</span>&nbsp;<span class="ident" id="8653618">x</span>&nbsp;<span class="op" id="8653620">:=</span>&nbsp;<span class="num" id="8653623">0</span><span class="op" id="8653624">;</span>&nbsp;<span class="ident" id="8653626"><a href="/image/draw/draw_test.go.html#8653618">x</a></span>&nbsp;<span class="op" id="8653628">&lt;</span>&nbsp;<span class="num" id="8653630">16</span><span class="op" id="8653632">;</span>&nbsp;<span class="ident" id="8653634"><a href="/image/draw/draw_test.go.html#8653618">x</a></span><span class="op" id="8653635">++</span>&nbsp;<span class="op" id="8653638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653643"><a href="/image/draw/draw_test.go.html#8653539">m</a></span><span class="op" id="8653644">.</span><span class="ident" id="8653645">Set</span><span class="op" id="8653648">(</span><span class="ident" id="8653649"><a href="/image/draw/draw_test.go.html#8653618">x</a></span><span class="op" id="8653650">,</span>&nbsp;<span class="ident" id="8653652"><a href="/image/draw/draw_test.go.html#8653590">y</a></span><span class="op" id="8653653">,</span>&nbsp;<span class="ident" id="8653655"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8653660">.</span><span class="ident" id="8653661">RGBA</span><span class="op" id="8653665">{</span><span class="num" id="8653666">0</span><span class="op" id="8653667">,</span>&nbsp;<span class="builtintype" id="8653669">uint8</span><span class="op" id="8653674">(</span><span class="ident" id="8653675"><a href="/image/draw/draw_test.go.html#8653590">y</a></span>&nbsp;<span class="op" id="8653677">*</span>&nbsp;<span class="num" id="8653679">0x11</span><span class="op" id="8653683">)</span><span class="op" id="8653684">,</span>&nbsp;<span class="num" id="8653686">0</span><span class="op" id="8653687">,</span>&nbsp;<span class="builtintype" id="8653689">uint8</span><span class="op" id="8653694">(</span><span class="ident" id="8653695"><a href="/image/draw/draw_test.go.html#8653513">alpha</a></span><span class="op" id="8653700">)</span><span class="op" id="8653701">}</span><span class="op" id="8653702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653706">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8653712">return</span>&nbsp;<span class="ident" id="8653719"><a href="/image/draw/draw_test.go.html#8653539">m</a></span><br>
<span class="lineno"></span><span class="op" id="8653721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8653724">func</span>&nbsp;<span class="ident" id="8653729">vgradCr</span><span class="op" id="8653736">(</span><span class="op" id="8653737">)</span>&nbsp;<span class="ident" id="8653739"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653744">.</span><span class="ident" id="8653745">Image</span>&nbsp;<span class="op" id="8653751">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653754">m</span>&nbsp;<span class="op" id="8653756">:=</span>&nbsp;<span class="op" id="8653759">&amp;</span><span class="ident" id="8653760"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653765">.</span><span class="ident" id="8653766">YCbCr</span><span class="op" id="8653771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653775">Y</span><span class="op" id="8653776">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8653791">make</span><span class="op" id="8653795">(</span><span class="op" id="8653796">[</span><span class="op" id="8653797">]</span><span class="builtintype" id="8653798">byte</span><span class="op" id="8653802">,</span>&nbsp;<span class="num" id="8653804">16</span><span class="op" id="8653806">*</span><span class="num" id="8653807">16</span><span class="op" id="8653809">)</span><span class="op" id="8653810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653814">Cb</span><span class="op" id="8653816">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8653830">make</span><span class="op" id="8653834">(</span><span class="op" id="8653835">[</span><span class="op" id="8653836">]</span><span class="builtintype" id="8653837">byte</span><span class="op" id="8653841">,</span>&nbsp;<span class="num" id="8653843">16</span><span class="op" id="8653845">*</span><span class="num" id="8653846">16</span><span class="op" id="8653848">)</span><span class="op" id="8653849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653853">Cr</span><span class="op" id="8653855">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8653869">make</span><span class="op" id="8653873">(</span><span class="op" id="8653874">[</span><span class="op" id="8653875">]</span><span class="builtintype" id="8653876">byte</span><span class="op" id="8653880">,</span>&nbsp;<span class="num" id="8653882">16</span><span class="op" id="8653884">*</span><span class="num" id="8653885">16</span><span class="op" id="8653887">)</span><span class="op" id="8653888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653892">YStride</span><span class="op" id="8653899">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8653908">16</span><span class="op" id="8653910">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653914">CStride</span><span class="op" id="8653921">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8653930">16</span><span class="op" id="8653932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653936">SubsampleRatio</span><span class="op" id="8653950">:</span>&nbsp;<span class="ident" id="8653952"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8653957">.</span><span class="ident" id="8653958">YCbCrSubsampleRatio444</span><span class="op" id="8653980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653984">Rect</span><span class="op" id="8653988">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8654000"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654005">.</span><span class="ident" id="8654006">Rect</span><span class="op" id="8654010">(</span><span class="num" id="8654011">0</span><span class="op" id="8654012">,</span>&nbsp;<span class="num" id="8654014">0</span><span class="op" id="8654015">,</span>&nbsp;<span class="num" id="8654017">16</span><span class="op" id="8654019">,</span>&nbsp;<span class="num" id="8654021">16</span><span class="op" id="8654023">)</span><span class="op" id="8654024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654030">for</span>&nbsp;<span class="ident" id="8654034">y</span>&nbsp;<span class="op" id="8654036">:=</span>&nbsp;<span class="num" id="8654039">0</span><span class="op" id="8654040">;</span>&nbsp;<span class="ident" id="8654042"><a href="/image/draw/draw_test.go.html#8654034">y</a></span>&nbsp;<span class="op" id="8654044">&lt;</span>&nbsp;<span class="num" id="8654046">16</span><span class="op" id="8654048">;</span>&nbsp;<span class="ident" id="8654050"><a href="/image/draw/draw_test.go.html#8654034">y</a></span><span class="op" id="8654051">++</span>&nbsp;<span class="op" id="8654054">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654058">for</span>&nbsp;<span class="ident" id="8654062">x</span>&nbsp;<span class="op" id="8654064">:=</span>&nbsp;<span class="num" id="8654067">0</span><span class="op" id="8654068">;</span>&nbsp;<span class="ident" id="8654070"><a href="/image/draw/draw_test.go.html#8654062">x</a></span>&nbsp;<span class="op" id="8654072">&lt;</span>&nbsp;<span class="num" id="8654074">16</span><span class="op" id="8654076">;</span>&nbsp;<span class="ident" id="8654078"><a href="/image/draw/draw_test.go.html#8654062">x</a></span><span class="op" id="8654079">++</span>&nbsp;<span class="op" id="8654082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654087"><a href="/image/draw/draw_test.go.html#8653754">m</a></span><span class="op" id="8654088">.</span><span class="ident" id="8654089">Cr</span><span class="op" id="8654091">[</span><span class="ident" id="8654092"><a href="/image/draw/draw_test.go.html#8654034">y</a></span><span class="op" id="8654093">*</span><span class="ident" id="8654094"><a href="/image/draw/draw_test.go.html#8653754">m</a></span><span class="op" id="8654095">.</span><span class="ident" id="8654096">CStride</span><span class="op" id="8654103">+</span><span class="ident" id="8654104"><a href="/image/draw/draw_test.go.html#8654062">x</a></span><span class="op" id="8654105">]</span>&nbsp;<span class="op" id="8654107">=</span>&nbsp;<span class="builtintype" id="8654109">uint8</span><span class="op" id="8654114">(</span><span class="ident" id="8654115"><a href="/image/draw/draw_test.go.html#8654034">y</a></span>&nbsp;<span class="op" id="8654117">*</span>&nbsp;<span class="num" id="8654119">0x11</span><span class="op" id="8654123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654133">return</span>&nbsp;<span class="ident" id="8654140"><a href="/image/draw/draw_test.go.html#8653754">m</a></span><br>
<span class="lineno">75</span><span class="op" id="8654142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8654145">func</span>&nbsp;<span class="ident" id="8654150">hgradRed</span><span class="op" id="8654158">(</span><span class="ident" id="8654159">alpha</span>&nbsp;<span class="builtintype" id="8654165">int</span><span class="op" id="8654168">)</span>&nbsp;<span class="ident" id="8654170"><a href="/image/draw/draw.go.html#5994820">Image</a></span>&nbsp;<span class="op" id="8654176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654179">m</span>&nbsp;<span class="op" id="8654181">:=</span>&nbsp;<span class="ident" id="8654184"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654189">.</span><span class="ident" id="8654190">NewRGBA</span><span class="op" id="8654197">(</span><span class="ident" id="8654198"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654203">.</span><span class="ident" id="8654204">Rect</span><span class="op" id="8654208">(</span><span class="num" id="8654209">0</span><span class="op" id="8654210">,</span>&nbsp;<span class="num" id="8654212">0</span><span class="op" id="8654213">,</span>&nbsp;<span class="num" id="8654215">16</span><span class="op" id="8654217">,</span>&nbsp;<span class="num" id="8654219">16</span><span class="op" id="8654221">)</span><span class="op" id="8654222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654225">for</span>&nbsp;<span class="ident" id="8654229">y</span>&nbsp;<span class="op" id="8654231">:=</span>&nbsp;<span class="num" id="8654234">0</span><span class="op" id="8654235">;</span>&nbsp;<span class="ident" id="8654237"><a href="/image/draw/draw_test.go.html#8654229">y</a></span>&nbsp;<span class="op" id="8654239">&lt;</span>&nbsp;<span class="num" id="8654241">16</span><span class="op" id="8654243">;</span>&nbsp;<span class="ident" id="8654245"><a href="/image/draw/draw_test.go.html#8654229">y</a></span><span class="op" id="8654246">++</span>&nbsp;<span class="op" id="8654249">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654253">for</span>&nbsp;<span class="ident" id="8654257">x</span>&nbsp;<span class="op" id="8654259">:=</span>&nbsp;<span class="num" id="8654262">0</span><span class="op" id="8654263">;</span>&nbsp;<span class="ident" id="8654265"><a href="/image/draw/draw_test.go.html#8654257">x</a></span>&nbsp;<span class="op" id="8654267">&lt;</span>&nbsp;<span class="num" id="8654269">16</span><span class="op" id="8654271">;</span>&nbsp;<span class="ident" id="8654273"><a href="/image/draw/draw_test.go.html#8654257">x</a></span><span class="op" id="8654274">++</span>&nbsp;<span class="op" id="8654277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654282"><a href="/image/draw/draw_test.go.html#8654179">m</a></span><span class="op" id="8654283">.</span><span class="ident" id="8654284">Set</span><span class="op" id="8654287">(</span><span class="ident" id="8654288"><a href="/image/draw/draw_test.go.html#8654257">x</a></span><span class="op" id="8654289">,</span>&nbsp;<span class="ident" id="8654291"><a href="/image/draw/draw_test.go.html#8654229">y</a></span><span class="op" id="8654292">,</span>&nbsp;<span class="ident" id="8654294"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8654299">.</span><span class="ident" id="8654300">RGBA</span><span class="op" id="8654304">{</span><span class="builtintype" id="8654305">uint8</span><span class="op" id="8654310">(</span><span class="ident" id="8654311"><a href="/image/draw/draw_test.go.html#8654257">x</a></span>&nbsp;<span class="op" id="8654313">*</span>&nbsp;<span class="ident" id="8654315"><a href="/image/draw/draw_test.go.html#8654159">alpha</a></span>&nbsp;<span class="op" id="8654321">/</span>&nbsp;<span class="num" id="8654323">15</span><span class="op" id="8654325">)</span><span class="op" id="8654326">,</span>&nbsp;<span class="num" id="8654328">0</span><span class="op" id="8654329">,</span>&nbsp;<span class="num" id="8654331">0</span><span class="op" id="8654332">,</span>&nbsp;<span class="builtintype" id="8654334">uint8</span><span class="op" id="8654339">(</span><span class="ident" id="8654340"><a href="/image/draw/draw_test.go.html#8654159">alpha</a></span><span class="op" id="8654345">)</span><span class="op" id="8654346">}</span><span class="op" id="8654347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654357">return</span>&nbsp;<span class="ident" id="8654364"><a href="/image/draw/draw_test.go.html#8654179">m</a></span><br>
<span class="lineno">85</span><span class="op" id="8654366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8654369">func</span>&nbsp;<span class="ident" id="8654374">gradYellow</span><span class="op" id="8654384">(</span><span class="ident" id="8654385">alpha</span>&nbsp;<span class="builtintype" id="8654391">int</span><span class="op" id="8654394">)</span>&nbsp;<span class="ident" id="8654396"><a href="/image/draw/draw.go.html#5994820">Image</a></span>&nbsp;<span class="op" id="8654402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654405">m</span>&nbsp;<span class="op" id="8654407">:=</span>&nbsp;<span class="ident" id="8654410"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654415">.</span><span class="ident" id="8654416">NewRGBA</span><span class="op" id="8654423">(</span><span class="ident" id="8654424"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654429">.</span><span class="ident" id="8654430">Rect</span><span class="op" id="8654434">(</span><span class="num" id="8654435">0</span><span class="op" id="8654436">,</span>&nbsp;<span class="num" id="8654438">0</span><span class="op" id="8654439">,</span>&nbsp;<span class="num" id="8654441">16</span><span class="op" id="8654443">,</span>&nbsp;<span class="num" id="8654445">16</span><span class="op" id="8654447">)</span><span class="op" id="8654448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654451">for</span>&nbsp;<span class="ident" id="8654455">y</span>&nbsp;<span class="op" id="8654457">:=</span>&nbsp;<span class="num" id="8654460">0</span><span class="op" id="8654461">;</span>&nbsp;<span class="ident" id="8654463"><a href="/image/draw/draw_test.go.html#8654455">y</a></span>&nbsp;<span class="op" id="8654465">&lt;</span>&nbsp;<span class="num" id="8654467">16</span><span class="op" id="8654469">;</span>&nbsp;<span class="ident" id="8654471"><a href="/image/draw/draw_test.go.html#8654455">y</a></span><span class="op" id="8654472">++</span>&nbsp;<span class="op" id="8654475">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654479">for</span>&nbsp;<span class="ident" id="8654483">x</span>&nbsp;<span class="op" id="8654485">:=</span>&nbsp;<span class="num" id="8654488">0</span><span class="op" id="8654489">;</span>&nbsp;<span class="ident" id="8654491"><a href="/image/draw/draw_test.go.html#8654483">x</a></span>&nbsp;<span class="op" id="8654493">&lt;</span>&nbsp;<span class="num" id="8654495">16</span><span class="op" id="8654497">;</span>&nbsp;<span class="ident" id="8654499"><a href="/image/draw/draw_test.go.html#8654483">x</a></span><span class="op" id="8654500">++</span>&nbsp;<span class="op" id="8654503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654508"><a href="/image/draw/draw_test.go.html#8654405">m</a></span><span class="op" id="8654509">.</span><span class="ident" id="8654510">Set</span><span class="op" id="8654513">(</span><span class="ident" id="8654514"><a href="/image/draw/draw_test.go.html#8654483">x</a></span><span class="op" id="8654515">,</span>&nbsp;<span class="ident" id="8654517"><a href="/image/draw/draw_test.go.html#8654455">y</a></span><span class="op" id="8654518">,</span>&nbsp;<span class="ident" id="8654520"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8654525">.</span><span class="ident" id="8654526">RGBA</span><span class="op" id="8654530">{</span><span class="builtintype" id="8654531">uint8</span><span class="op" id="8654536">(</span><span class="ident" id="8654537"><a href="/image/draw/draw_test.go.html#8654483">x</a></span>&nbsp;<span class="op" id="8654539">*</span>&nbsp;<span class="ident" id="8654541"><a href="/image/draw/draw_test.go.html#8654385">alpha</a></span>&nbsp;<span class="op" id="8654547">/</span>&nbsp;<span class="num" id="8654549">15</span><span class="op" id="8654551">)</span><span class="op" id="8654552">,</span>&nbsp;<span class="builtintype" id="8654554">uint8</span><span class="op" id="8654559">(</span><span class="ident" id="8654560"><a href="/image/draw/draw_test.go.html#8654455">y</a></span>&nbsp;<span class="op" id="8654562">*</span>&nbsp;<span class="ident" id="8654564"><a href="/image/draw/draw_test.go.html#8654385">alpha</a></span>&nbsp;<span class="op" id="8654570">/</span>&nbsp;<span class="num" id="8654572">15</span><span class="op" id="8654574">)</span><span class="op" id="8654575">,</span>&nbsp;<span class="num" id="8654577">0</span><span class="op" id="8654578">,</span>&nbsp;<span class="builtintype" id="8654580">uint8</span><span class="op" id="8654585">(</span><span class="ident" id="8654586"><a href="/image/draw/draw_test.go.html#8654385">alpha</a></span><span class="op" id="8654591">)</span><span class="op" id="8654592">}</span><span class="op" id="8654593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654603">return</span>&nbsp;<span class="ident" id="8654610"><a href="/image/draw/draw_test.go.html#8654405">m</a></span><br>
<span class="lineno">95</span><span class="op" id="8654612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8654615">type</span>&nbsp;<span class="ident" id="8654620">drawTest</span>&nbsp;<span class="keyword" id="8654629">struct</span>&nbsp;<span class="op" id="8654636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654639">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8654648">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654656">src</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8654665"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654670">.</span><span class="ident" id="8654671">Image</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654678">mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8654687"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8654692">.</span><span class="ident" id="8654693">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654700">op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8654709"><a href="/image/draw/draw.go.html#5995204">Op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654713">expected</span>&nbsp;<span class="ident" id="8654722"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8654727">.</span><span class="ident" id="8654728">Color</span><br>
<span class="lineno"></span><span class="op" id="8654734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="8654737">var</span>&nbsp;<span class="ident" id="8654741">drawTests</span>&nbsp;<span class="op" id="8654751">=</span>&nbsp;<span class="op" id="8654753">[</span><span class="op" id="8654754">]</span><span class="ident" id="8654755"><a href="/image/draw/draw_test.go.html#8654620">drawTest</a></span><span class="op" id="8654763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654766">//&nbsp;Uniform&nbsp;mask&nbsp;(0%&nbsp;opaque).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654796">{</span><span class="string" id="8654797">&#34;nop&#34;</span><span class="op" id="8654802">,</span>&nbsp;<span class="ident" id="8654804"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8654814">(</span><span class="num" id="8654815">255</span><span class="op" id="8654818">)</span><span class="op" id="8654819">,</span>&nbsp;<span class="ident" id="8654821"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8654830">(</span><span class="num" id="8654831">0</span><span class="op" id="8654832">)</span><span class="op" id="8654833">,</span>&nbsp;<span class="ident" id="8654835"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8654839">,</span>&nbsp;<span class="ident" id="8654841"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8654846">.</span><span class="ident" id="8654847">RGBA</span><span class="op" id="8654851">{</span><span class="num" id="8654852">136</span><span class="op" id="8654855">,</span>&nbsp;<span class="num" id="8654857">0</span><span class="op" id="8654858">,</span>&nbsp;<span class="num" id="8654860">0</span><span class="op" id="8654861">,</span>&nbsp;<span class="num" id="8654863">255</span><span class="op" id="8654866">}</span><span class="op" id="8654867">}</span><span class="op" id="8654868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654871">{</span><span class="string" id="8654872">&#34;clear&#34;</span><span class="op" id="8654879">,</span>&nbsp;<span class="ident" id="8654881"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8654891">(</span><span class="num" id="8654892">255</span><span class="op" id="8654895">)</span><span class="op" id="8654896">,</span>&nbsp;<span class="ident" id="8654898"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8654907">(</span><span class="num" id="8654908">0</span><span class="op" id="8654909">)</span><span class="op" id="8654910">,</span>&nbsp;<span class="ident" id="8654912"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8654915">,</span>&nbsp;<span class="ident" id="8654917"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8654922">.</span><span class="ident" id="8654923">RGBA</span><span class="op" id="8654927">{</span><span class="num" id="8654928">0</span><span class="op" id="8654929">,</span>&nbsp;<span class="num" id="8654931">0</span><span class="op" id="8654932">,</span>&nbsp;<span class="num" id="8654934">0</span><span class="op" id="8654935">,</span>&nbsp;<span class="num" id="8654937">0</span><span class="op" id="8654938">}</span><span class="op" id="8654939">}</span><span class="op" id="8654940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654943">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;uniform&nbsp;source.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654997">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655022">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655069">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;0,&nbsp;90,&nbsp;90}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655109">{</span><span class="string" id="8655110">&#34;fill&#34;</span><span class="op" id="8655116">,</span>&nbsp;<span class="ident" id="8655118"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8655126">(</span><span class="num" id="8655127">90</span><span class="op" id="8655129">)</span><span class="op" id="8655130">,</span>&nbsp;<span class="ident" id="8655132"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655141">(</span><span class="num" id="8655142">255</span><span class="op" id="8655145">)</span><span class="op" id="8655146">,</span>&nbsp;<span class="ident" id="8655148"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8655152">,</span>&nbsp;<span class="ident" id="8655154"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655159">.</span><span class="ident" id="8655160">RGBA</span><span class="op" id="8655164">{</span><span class="num" id="8655165">88</span><span class="op" id="8655167">,</span>&nbsp;<span class="num" id="8655169">0</span><span class="op" id="8655170">,</span>&nbsp;<span class="num" id="8655172">90</span><span class="op" id="8655174">,</span>&nbsp;<span class="num" id="8655176">255</span><span class="op" id="8655179">}</span><span class="op" id="8655180">}</span><span class="op" id="8655181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655184">{</span><span class="string" id="8655185">&#34;fillSrc&#34;</span><span class="op" id="8655194">,</span>&nbsp;<span class="ident" id="8655196"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8655204">(</span><span class="num" id="8655205">90</span><span class="op" id="8655207">)</span><span class="op" id="8655208">,</span>&nbsp;<span class="ident" id="8655210"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655219">(</span><span class="num" id="8655220">255</span><span class="op" id="8655223">)</span><span class="op" id="8655224">,</span>&nbsp;<span class="ident" id="8655226"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8655229">,</span>&nbsp;<span class="ident" id="8655231"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655236">.</span><span class="ident" id="8655237">RGBA</span><span class="op" id="8655241">{</span><span class="num" id="8655242">0</span><span class="op" id="8655243">,</span>&nbsp;<span class="num" id="8655245">0</span><span class="op" id="8655246">,</span>&nbsp;<span class="num" id="8655248">90</span><span class="op" id="8655250">,</span>&nbsp;<span class="num" id="8655252">90</span><span class="op" id="8655254">}</span><span class="op" id="8655255">}</span><span class="op" id="8655256">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655259">{</span><span class="string" id="8655260">&#34;fillAlpha&#34;</span><span class="op" id="8655271">,</span>&nbsp;<span class="ident" id="8655273"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8655281">(</span><span class="num" id="8655282">90</span><span class="op" id="8655284">)</span><span class="op" id="8655285">,</span>&nbsp;<span class="ident" id="8655287"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655296">(</span><span class="num" id="8655297">192</span><span class="op" id="8655300">)</span><span class="op" id="8655301">,</span>&nbsp;<span class="ident" id="8655303"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8655307">,</span>&nbsp;<span class="ident" id="8655309"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655314">.</span><span class="ident" id="8655315">RGBA</span><span class="op" id="8655319">{</span><span class="num" id="8655320">100</span><span class="op" id="8655323">,</span>&nbsp;<span class="num" id="8655325">0</span><span class="op" id="8655326">,</span>&nbsp;<span class="num" id="8655328">68</span><span class="op" id="8655330">,</span>&nbsp;<span class="num" id="8655332">255</span><span class="op" id="8655335">}</span><span class="op" id="8655336">}</span><span class="op" id="8655337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655340">{</span><span class="string" id="8655341">&#34;fillAlphaSrc&#34;</span><span class="op" id="8655355">,</span>&nbsp;<span class="ident" id="8655357"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8655365">(</span><span class="num" id="8655366">90</span><span class="op" id="8655368">)</span><span class="op" id="8655369">,</span>&nbsp;<span class="ident" id="8655371"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655380">(</span><span class="num" id="8655381">192</span><span class="op" id="8655384">)</span><span class="op" id="8655385">,</span>&nbsp;<span class="ident" id="8655387"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8655390">,</span>&nbsp;<span class="ident" id="8655392"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655397">.</span><span class="ident" id="8655398">RGBA</span><span class="op" id="8655402">{</span><span class="num" id="8655403">0</span><span class="op" id="8655404">,</span>&nbsp;<span class="num" id="8655406">0</span><span class="op" id="8655407">,</span>&nbsp;<span class="num" id="8655409">68</span><span class="op" id="8655411">,</span>&nbsp;<span class="num" id="8655413">68</span><span class="op" id="8655415">}</span><span class="op" id="8655416">}</span><span class="op" id="8655417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655420">{</span><span class="string" id="8655421">&#34;fillNil&#34;</span><span class="op" id="8655430">,</span>&nbsp;<span class="ident" id="8655432"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8655440">(</span><span class="num" id="8655441">90</span><span class="op" id="8655443">)</span><span class="op" id="8655444">,</span>&nbsp;<span class="ident" id="8655446">nil</span><span class="op" id="8655449">,</span>&nbsp;<span class="ident" id="8655451"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8655455">,</span>&nbsp;<span class="ident" id="8655457"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655462">.</span><span class="ident" id="8655463">RGBA</span><span class="op" id="8655467">{</span><span class="num" id="8655468">88</span><span class="op" id="8655470">,</span>&nbsp;<span class="num" id="8655472">0</span><span class="op" id="8655473">,</span>&nbsp;<span class="num" id="8655475">90</span><span class="op" id="8655477">,</span>&nbsp;<span class="num" id="8655479">255</span><span class="op" id="8655482">}</span><span class="op" id="8655483">}</span><span class="op" id="8655484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655487">{</span><span class="string" id="8655488">&#34;fillNilSrc&#34;</span><span class="op" id="8655500">,</span>&nbsp;<span class="ident" id="8655502"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8655510">(</span><span class="num" id="8655511">90</span><span class="op" id="8655513">)</span><span class="op" id="8655514">,</span>&nbsp;<span class="ident" id="8655516">nil</span><span class="op" id="8655519">,</span>&nbsp;<span class="ident" id="8655521"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8655524">,</span>&nbsp;<span class="ident" id="8655526"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655531">.</span><span class="ident" id="8655532">RGBA</span><span class="op" id="8655536">{</span><span class="num" id="8655537">0</span><span class="op" id="8655538">,</span>&nbsp;<span class="num" id="8655540">0</span><span class="op" id="8655541">,</span>&nbsp;<span class="num" id="8655543">90</span><span class="op" id="8655545">,</span>&nbsp;<span class="num" id="8655547">90</span><span class="op" id="8655549">}</span><span class="op" id="8655550">}</span><span class="op" id="8655551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655554">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;variable&nbsp;source.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655609">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655634">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655681">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;48,&nbsp;0,&nbsp;90}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655721">{</span><span class="string" id="8655722">&#34;copy&#34;</span><span class="op" id="8655728">,</span>&nbsp;<span class="ident" id="8655730"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8655740">(</span><span class="num" id="8655741">90</span><span class="op" id="8655743">)</span><span class="op" id="8655744">,</span>&nbsp;<span class="ident" id="8655746"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655755">(</span><span class="num" id="8655756">255</span><span class="op" id="8655759">)</span><span class="op" id="8655760">,</span>&nbsp;<span class="ident" id="8655762"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8655766">,</span>&nbsp;<span class="ident" id="8655768"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655773">.</span><span class="ident" id="8655774">RGBA</span><span class="op" id="8655778">{</span><span class="num" id="8655779">88</span><span class="op" id="8655781">,</span>&nbsp;<span class="num" id="8655783">48</span><span class="op" id="8655785">,</span>&nbsp;<span class="num" id="8655787">0</span><span class="op" id="8655788">,</span>&nbsp;<span class="num" id="8655790">255</span><span class="op" id="8655793">}</span><span class="op" id="8655794">}</span><span class="op" id="8655795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655798">{</span><span class="string" id="8655799">&#34;copySrc&#34;</span><span class="op" id="8655808">,</span>&nbsp;<span class="ident" id="8655810"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8655820">(</span><span class="num" id="8655821">90</span><span class="op" id="8655823">)</span><span class="op" id="8655824">,</span>&nbsp;<span class="ident" id="8655826"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655835">(</span><span class="num" id="8655836">255</span><span class="op" id="8655839">)</span><span class="op" id="8655840">,</span>&nbsp;<span class="ident" id="8655842"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8655845">,</span>&nbsp;<span class="ident" id="8655847"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655852">.</span><span class="ident" id="8655853">RGBA</span><span class="op" id="8655857">{</span><span class="num" id="8655858">0</span><span class="op" id="8655859">,</span>&nbsp;<span class="num" id="8655861">48</span><span class="op" id="8655863">,</span>&nbsp;<span class="num" id="8655865">0</span><span class="op" id="8655866">,</span>&nbsp;<span class="num" id="8655868">90</span><span class="op" id="8655870">}</span><span class="op" id="8655871">}</span><span class="op" id="8655872">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655875">{</span><span class="string" id="8655876">&#34;copyAlpha&#34;</span><span class="op" id="8655887">,</span>&nbsp;<span class="ident" id="8655889"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8655899">(</span><span class="num" id="8655900">90</span><span class="op" id="8655902">)</span><span class="op" id="8655903">,</span>&nbsp;<span class="ident" id="8655905"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8655914">(</span><span class="num" id="8655915">192</span><span class="op" id="8655918">)</span><span class="op" id="8655919">,</span>&nbsp;<span class="ident" id="8655921"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8655925">,</span>&nbsp;<span class="ident" id="8655927"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8655932">.</span><span class="ident" id="8655933">RGBA</span><span class="op" id="8655937">{</span><span class="num" id="8655938">100</span><span class="op" id="8655941">,</span>&nbsp;<span class="num" id="8655943">36</span><span class="op" id="8655945">,</span>&nbsp;<span class="num" id="8655947">0</span><span class="op" id="8655948">,</span>&nbsp;<span class="num" id="8655950">255</span><span class="op" id="8655953">}</span><span class="op" id="8655954">}</span><span class="op" id="8655955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655958">{</span><span class="string" id="8655959">&#34;copyAlphaSrc&#34;</span><span class="op" id="8655973">,</span>&nbsp;<span class="ident" id="8655975"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8655985">(</span><span class="num" id="8655986">90</span><span class="op" id="8655988">)</span><span class="op" id="8655989">,</span>&nbsp;<span class="ident" id="8655991"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8656000">(</span><span class="num" id="8656001">192</span><span class="op" id="8656004">)</span><span class="op" id="8656005">,</span>&nbsp;<span class="ident" id="8656007"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8656010">,</span>&nbsp;<span class="ident" id="8656012"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656017">.</span><span class="ident" id="8656018">RGBA</span><span class="op" id="8656022">{</span><span class="num" id="8656023">0</span><span class="op" id="8656024">,</span>&nbsp;<span class="num" id="8656026">36</span><span class="op" id="8656028">,</span>&nbsp;<span class="num" id="8656030">0</span><span class="op" id="8656031">,</span>&nbsp;<span class="num" id="8656033">68</span><span class="op" id="8656035">}</span><span class="op" id="8656036">}</span><span class="op" id="8656037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656040">{</span><span class="string" id="8656041">&#34;copyNil&#34;</span><span class="op" id="8656050">,</span>&nbsp;<span class="ident" id="8656052"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8656062">(</span><span class="num" id="8656063">90</span><span class="op" id="8656065">)</span><span class="op" id="8656066">,</span>&nbsp;<span class="ident" id="8656068">nil</span><span class="op" id="8656071">,</span>&nbsp;<span class="ident" id="8656073"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8656077">,</span>&nbsp;<span class="ident" id="8656079"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656084">.</span><span class="ident" id="8656085">RGBA</span><span class="op" id="8656089">{</span><span class="num" id="8656090">88</span><span class="op" id="8656092">,</span>&nbsp;<span class="num" id="8656094">48</span><span class="op" id="8656096">,</span>&nbsp;<span class="num" id="8656098">0</span><span class="op" id="8656099">,</span>&nbsp;<span class="num" id="8656101">255</span><span class="op" id="8656104">}</span><span class="op" id="8656105">}</span><span class="op" id="8656106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656109">{</span><span class="string" id="8656110">&#34;copyNilSrc&#34;</span><span class="op" id="8656122">,</span>&nbsp;<span class="ident" id="8656124"><a href="/image/draw/draw_test.go.html#8653051">vgradGreen</a></span><span class="op" id="8656134">(</span><span class="num" id="8656135">90</span><span class="op" id="8656137">)</span><span class="op" id="8656138">,</span>&nbsp;<span class="ident" id="8656140">nil</span><span class="op" id="8656143">,</span>&nbsp;<span class="ident" id="8656145"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8656148">,</span>&nbsp;<span class="ident" id="8656150"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656155">.</span><span class="ident" id="8656156">RGBA</span><span class="op" id="8656160">{</span><span class="num" id="8656161">0</span><span class="op" id="8656162">,</span>&nbsp;<span class="num" id="8656164">48</span><span class="op" id="8656166">,</span>&nbsp;<span class="num" id="8656168">0</span><span class="op" id="8656169">,</span>&nbsp;<span class="num" id="8656171">90</span><span class="op" id="8656173">}</span><span class="op" id="8656174">}</span><span class="op" id="8656175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8656178">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;variable&nbsp;NRGBA&nbsp;source.</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8656239">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8656264">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8656311">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;136,&nbsp;0,&nbsp;90}&nbsp;in&nbsp;NRGBA-space,&nbsp;which&nbsp;is&nbsp;{0,&nbsp;48,&nbsp;0,&nbsp;90}&nbsp;in&nbsp;RGBA-space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8656406">//&nbsp;The&nbsp;result&nbsp;pixel&nbsp;is&nbsp;different&nbsp;than&nbsp;in&nbsp;the&nbsp;&#34;copy*&#34;&nbsp;test&nbsp;cases&nbsp;because&nbsp;of&nbsp;rounding&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656499">{</span><span class="string" id="8656500">&#34;nrgba&#34;</span><span class="op" id="8656507">,</span>&nbsp;<span class="ident" id="8656509"><a href="/image/draw/draw_test.go.html#8653497">vgradGreenNRGBA</a></span><span class="op" id="8656524">(</span><span class="num" id="8656525">90</span><span class="op" id="8656527">)</span><span class="op" id="8656528">,</span>&nbsp;<span class="ident" id="8656530"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8656539">(</span><span class="num" id="8656540">255</span><span class="op" id="8656543">)</span><span class="op" id="8656544">,</span>&nbsp;<span class="ident" id="8656546"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8656550">,</span>&nbsp;<span class="ident" id="8656552"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656557">.</span><span class="ident" id="8656558">RGBA</span><span class="op" id="8656562">{</span><span class="num" id="8656563">88</span><span class="op" id="8656565">,</span>&nbsp;<span class="num" id="8656567">46</span><span class="op" id="8656569">,</span>&nbsp;<span class="num" id="8656571">0</span><span class="op" id="8656572">,</span>&nbsp;<span class="num" id="8656574">255</span><span class="op" id="8656577">}</span><span class="op" id="8656578">}</span><span class="op" id="8656579">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656582">{</span><span class="string" id="8656583">&#34;nrgbaSrc&#34;</span><span class="op" id="8656593">,</span>&nbsp;<span class="ident" id="8656595"><a href="/image/draw/draw_test.go.html#8653497">vgradGreenNRGBA</a></span><span class="op" id="8656610">(</span><span class="num" id="8656611">90</span><span class="op" id="8656613">)</span><span class="op" id="8656614">,</span>&nbsp;<span class="ident" id="8656616"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8656625">(</span><span class="num" id="8656626">255</span><span class="op" id="8656629">)</span><span class="op" id="8656630">,</span>&nbsp;<span class="ident" id="8656632"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8656635">,</span>&nbsp;<span class="ident" id="8656637"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656642">.</span><span class="ident" id="8656643">RGBA</span><span class="op" id="8656647">{</span><span class="num" id="8656648">0</span><span class="op" id="8656649">,</span>&nbsp;<span class="num" id="8656651">46</span><span class="op" id="8656653">,</span>&nbsp;<span class="num" id="8656655">0</span><span class="op" id="8656656">,</span>&nbsp;<span class="num" id="8656658">90</span><span class="op" id="8656660">}</span><span class="op" id="8656661">}</span><span class="op" id="8656662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656665">{</span><span class="string" id="8656666">&#34;nrgbaAlpha&#34;</span><span class="op" id="8656678">,</span>&nbsp;<span class="ident" id="8656680"><a href="/image/draw/draw_test.go.html#8653497">vgradGreenNRGBA</a></span><span class="op" id="8656695">(</span><span class="num" id="8656696">90</span><span class="op" id="8656698">)</span><span class="op" id="8656699">,</span>&nbsp;<span class="ident" id="8656701"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8656710">(</span><span class="num" id="8656711">192</span><span class="op" id="8656714">)</span><span class="op" id="8656715">,</span>&nbsp;<span class="ident" id="8656717"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8656721">,</span>&nbsp;<span class="ident" id="8656723"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656728">.</span><span class="ident" id="8656729">RGBA</span><span class="op" id="8656733">{</span><span class="num" id="8656734">100</span><span class="op" id="8656737">,</span>&nbsp;<span class="num" id="8656739">34</span><span class="op" id="8656741">,</span>&nbsp;<span class="num" id="8656743">0</span><span class="op" id="8656744">,</span>&nbsp;<span class="num" id="8656746">255</span><span class="op" id="8656749">}</span><span class="op" id="8656750">}</span><span class="op" id="8656751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656754">{</span><span class="string" id="8656755">&#34;nrgbaAlphaSrc&#34;</span><span class="op" id="8656770">,</span>&nbsp;<span class="ident" id="8656772"><a href="/image/draw/draw_test.go.html#8653497">vgradGreenNRGBA</a></span><span class="op" id="8656787">(</span><span class="num" id="8656788">90</span><span class="op" id="8656790">)</span><span class="op" id="8656791">,</span>&nbsp;<span class="ident" id="8656793"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8656802">(</span><span class="num" id="8656803">192</span><span class="op" id="8656806">)</span><span class="op" id="8656807">,</span>&nbsp;<span class="ident" id="8656809"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8656812">,</span>&nbsp;<span class="ident" id="8656814"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656819">.</span><span class="ident" id="8656820">RGBA</span><span class="op" id="8656824">{</span><span class="num" id="8656825">0</span><span class="op" id="8656826">,</span>&nbsp;<span class="num" id="8656828">34</span><span class="op" id="8656830">,</span>&nbsp;<span class="num" id="8656832">0</span><span class="op" id="8656833">,</span>&nbsp;<span class="num" id="8656835">68</span><span class="op" id="8656837">}</span><span class="op" id="8656838">}</span><span class="op" id="8656839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656842">{</span><span class="string" id="8656843">&#34;nrgbaNil&#34;</span><span class="op" id="8656853">,</span>&nbsp;<span class="ident" id="8656855"><a href="/image/draw/draw_test.go.html#8653497">vgradGreenNRGBA</a></span><span class="op" id="8656870">(</span><span class="num" id="8656871">90</span><span class="op" id="8656873">)</span><span class="op" id="8656874">,</span>&nbsp;<span class="ident" id="8656876">nil</span><span class="op" id="8656879">,</span>&nbsp;<span class="ident" id="8656881"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8656885">,</span>&nbsp;<span class="ident" id="8656887"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656892">.</span><span class="ident" id="8656893">RGBA</span><span class="op" id="8656897">{</span><span class="num" id="8656898">88</span><span class="op" id="8656900">,</span>&nbsp;<span class="num" id="8656902">46</span><span class="op" id="8656904">,</span>&nbsp;<span class="num" id="8656906">0</span><span class="op" id="8656907">,</span>&nbsp;<span class="num" id="8656909">255</span><span class="op" id="8656912">}</span><span class="op" id="8656913">}</span><span class="op" id="8656914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8656917">{</span><span class="string" id="8656918">&#34;nrgbaNilSrc&#34;</span><span class="op" id="8656931">,</span>&nbsp;<span class="ident" id="8656933"><a href="/image/draw/draw_test.go.html#8653497">vgradGreenNRGBA</a></span><span class="op" id="8656948">(</span><span class="num" id="8656949">90</span><span class="op" id="8656951">)</span><span class="op" id="8656952">,</span>&nbsp;<span class="ident" id="8656954">nil</span><span class="op" id="8656957">,</span>&nbsp;<span class="ident" id="8656959"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8656962">,</span>&nbsp;<span class="ident" id="8656964"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8656969">.</span><span class="ident" id="8656970">RGBA</span><span class="op" id="8656974">{</span><span class="num" id="8656975">0</span><span class="op" id="8656976">,</span>&nbsp;<span class="num" id="8656978">46</span><span class="op" id="8656980">,</span>&nbsp;<span class="num" id="8656982">0</span><span class="op" id="8656983">,</span>&nbsp;<span class="num" id="8656985">90</span><span class="op" id="8656987">}</span><span class="op" id="8656988">}</span><span class="op" id="8656989">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8656992">//&nbsp;Uniform&nbsp;mask&nbsp;(100%,&nbsp;75%,&nbsp;nil)&nbsp;and&nbsp;variable&nbsp;YCbCr&nbsp;source.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657053">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657078">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657125">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;0,&nbsp;136}&nbsp;in&nbsp;YCbCr-space,&nbsp;which&nbsp;is&nbsp;{11,&nbsp;38,&nbsp;0,&nbsp;255}&nbsp;in&nbsp;RGB-space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657217">{</span><span class="string" id="8657218">&#34;ycbcr&#34;</span><span class="op" id="8657225">,</span>&nbsp;<span class="ident" id="8657227"><a href="/image/draw/draw_test.go.html#8653729">vgradCr</a></span><span class="op" id="8657234">(</span><span class="op" id="8657235">)</span><span class="op" id="8657236">,</span>&nbsp;<span class="ident" id="8657238"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8657247">(</span><span class="num" id="8657248">255</span><span class="op" id="8657251">)</span><span class="op" id="8657252">,</span>&nbsp;<span class="ident" id="8657254"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8657258">,</span>&nbsp;<span class="ident" id="8657260"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657265">.</span><span class="ident" id="8657266">RGBA</span><span class="op" id="8657270">{</span><span class="num" id="8657271">11</span><span class="op" id="8657273">,</span>&nbsp;<span class="num" id="8657275">38</span><span class="op" id="8657277">,</span>&nbsp;<span class="num" id="8657279">0</span><span class="op" id="8657280">,</span>&nbsp;<span class="num" id="8657282">255</span><span class="op" id="8657285">}</span><span class="op" id="8657286">}</span><span class="op" id="8657287">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657290">{</span><span class="string" id="8657291">&#34;ycbcrSrc&#34;</span><span class="op" id="8657301">,</span>&nbsp;<span class="ident" id="8657303"><a href="/image/draw/draw_test.go.html#8653729">vgradCr</a></span><span class="op" id="8657310">(</span><span class="op" id="8657311">)</span><span class="op" id="8657312">,</span>&nbsp;<span class="ident" id="8657314"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8657323">(</span><span class="num" id="8657324">255</span><span class="op" id="8657327">)</span><span class="op" id="8657328">,</span>&nbsp;<span class="ident" id="8657330"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8657333">,</span>&nbsp;<span class="ident" id="8657335"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657340">.</span><span class="ident" id="8657341">RGBA</span><span class="op" id="8657345">{</span><span class="num" id="8657346">11</span><span class="op" id="8657348">,</span>&nbsp;<span class="num" id="8657350">38</span><span class="op" id="8657352">,</span>&nbsp;<span class="num" id="8657354">0</span><span class="op" id="8657355">,</span>&nbsp;<span class="num" id="8657357">255</span><span class="op" id="8657360">}</span><span class="op" id="8657361">}</span><span class="op" id="8657362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657365">{</span><span class="string" id="8657366">&#34;ycbcrAlpha&#34;</span><span class="op" id="8657378">,</span>&nbsp;<span class="ident" id="8657380"><a href="/image/draw/draw_test.go.html#8653729">vgradCr</a></span><span class="op" id="8657387">(</span><span class="op" id="8657388">)</span><span class="op" id="8657389">,</span>&nbsp;<span class="ident" id="8657391"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8657400">(</span><span class="num" id="8657401">192</span><span class="op" id="8657404">)</span><span class="op" id="8657405">,</span>&nbsp;<span class="ident" id="8657407"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8657411">,</span>&nbsp;<span class="ident" id="8657413"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657418">.</span><span class="ident" id="8657419">RGBA</span><span class="op" id="8657423">{</span><span class="num" id="8657424">42</span><span class="op" id="8657426">,</span>&nbsp;<span class="num" id="8657428">28</span><span class="op" id="8657430">,</span>&nbsp;<span class="num" id="8657432">0</span><span class="op" id="8657433">,</span>&nbsp;<span class="num" id="8657435">255</span><span class="op" id="8657438">}</span><span class="op" id="8657439">}</span><span class="op" id="8657440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657443">{</span><span class="string" id="8657444">&#34;ycbcrAlphaSrc&#34;</span><span class="op" id="8657459">,</span>&nbsp;<span class="ident" id="8657461"><a href="/image/draw/draw_test.go.html#8653729">vgradCr</a></span><span class="op" id="8657468">(</span><span class="op" id="8657469">)</span><span class="op" id="8657470">,</span>&nbsp;<span class="ident" id="8657472"><a href="/image/draw/draw_test.go.html#8652956">fillAlpha</a></span><span class="op" id="8657481">(</span><span class="num" id="8657482">192</span><span class="op" id="8657485">)</span><span class="op" id="8657486">,</span>&nbsp;<span class="ident" id="8657488"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8657491">,</span>&nbsp;<span class="ident" id="8657493"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657498">.</span><span class="ident" id="8657499">RGBA</span><span class="op" id="8657503">{</span><span class="num" id="8657504">8</span><span class="op" id="8657505">,</span>&nbsp;<span class="num" id="8657507">28</span><span class="op" id="8657509">,</span>&nbsp;<span class="num" id="8657511">0</span><span class="op" id="8657512">,</span>&nbsp;<span class="num" id="8657514">192</span><span class="op" id="8657517">}</span><span class="op" id="8657518">}</span><span class="op" id="8657519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657522">{</span><span class="string" id="8657523">&#34;ycbcrNil&#34;</span><span class="op" id="8657533">,</span>&nbsp;<span class="ident" id="8657535"><a href="/image/draw/draw_test.go.html#8653729">vgradCr</a></span><span class="op" id="8657542">(</span><span class="op" id="8657543">)</span><span class="op" id="8657544">,</span>&nbsp;<span class="ident" id="8657546">nil</span><span class="op" id="8657549">,</span>&nbsp;<span class="ident" id="8657551"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8657555">,</span>&nbsp;<span class="ident" id="8657557"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657562">.</span><span class="ident" id="8657563">RGBA</span><span class="op" id="8657567">{</span><span class="num" id="8657568">11</span><span class="op" id="8657570">,</span>&nbsp;<span class="num" id="8657572">38</span><span class="op" id="8657574">,</span>&nbsp;<span class="num" id="8657576">0</span><span class="op" id="8657577">,</span>&nbsp;<span class="num" id="8657579">255</span><span class="op" id="8657582">}</span><span class="op" id="8657583">}</span><span class="op" id="8657584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657587">{</span><span class="string" id="8657588">&#34;ycbcrNilSrc&#34;</span><span class="op" id="8657601">,</span>&nbsp;<span class="ident" id="8657603"><a href="/image/draw/draw_test.go.html#8653729">vgradCr</a></span><span class="op" id="8657610">(</span><span class="op" id="8657611">)</span><span class="op" id="8657612">,</span>&nbsp;<span class="ident" id="8657614">nil</span><span class="op" id="8657617">,</span>&nbsp;<span class="ident" id="8657619"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8657622">,</span>&nbsp;<span class="ident" id="8657624"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657629">.</span><span class="ident" id="8657630">RGBA</span><span class="op" id="8657634">{</span><span class="num" id="8657635">11</span><span class="op" id="8657637">,</span>&nbsp;<span class="num" id="8657639">38</span><span class="op" id="8657641">,</span>&nbsp;<span class="num" id="8657643">0</span><span class="op" id="8657644">,</span>&nbsp;<span class="num" id="8657646">255</span><span class="op" id="8657649">}</span><span class="op" id="8657650">}</span><span class="op" id="8657651">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657654">//&nbsp;Variable&nbsp;mask&nbsp;and&nbsp;variable&nbsp;source.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657693">//&nbsp;At&nbsp;(x,&nbsp;y)&nbsp;==&nbsp;(8,&nbsp;8):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657718">//&nbsp;The&nbsp;destination&nbsp;pixel&nbsp;is&nbsp;{136,&nbsp;0,&nbsp;0,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657765">//&nbsp;The&nbsp;source&nbsp;pixel&nbsp;is&nbsp;{0,&nbsp;0,&nbsp;255,&nbsp;255}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8657807">//&nbsp;The&nbsp;mask&nbsp;pixel&#39;s&nbsp;alpha&nbsp;is&nbsp;102,&nbsp;or&nbsp;40%.</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657850">{</span><span class="string" id="8657851">&#34;generic&#34;</span><span class="op" id="8657860">,</span>&nbsp;<span class="ident" id="8657862"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8657870">(</span><span class="num" id="8657871">255</span><span class="op" id="8657874">)</span><span class="op" id="8657875">,</span>&nbsp;<span class="ident" id="8657877"><a href="/image/draw/draw_test.go.html#8653283">vgradAlpha</a></span><span class="op" id="8657887">(</span><span class="num" id="8657888">192</span><span class="op" id="8657891">)</span><span class="op" id="8657892">,</span>&nbsp;<span class="ident" id="8657894"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8657898">,</span>&nbsp;<span class="ident" id="8657900"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657905">.</span><span class="ident" id="8657906">RGBA</span><span class="op" id="8657910">{</span><span class="num" id="8657911">81</span><span class="op" id="8657913">,</span>&nbsp;<span class="num" id="8657915">0</span><span class="op" id="8657916">,</span>&nbsp;<span class="num" id="8657918">102</span><span class="op" id="8657921">,</span>&nbsp;<span class="num" id="8657923">255</span><span class="op" id="8657926">}</span><span class="op" id="8657927">}</span><span class="op" id="8657928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8657931">{</span><span class="string" id="8657932">&#34;genericSrc&#34;</span><span class="op" id="8657944">,</span>&nbsp;<span class="ident" id="8657946"><a href="/image/draw/draw_test.go.html#8652843">fillBlue</a></span><span class="op" id="8657954">(</span><span class="num" id="8657955">255</span><span class="op" id="8657958">)</span><span class="op" id="8657959">,</span>&nbsp;<span class="ident" id="8657961"><a href="/image/draw/draw_test.go.html#8653283">vgradAlpha</a></span><span class="op" id="8657971">(</span><span class="num" id="8657972">192</span><span class="op" id="8657975">)</span><span class="op" id="8657976">,</span>&nbsp;<span class="ident" id="8657978"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8657981">,</span>&nbsp;<span class="ident" id="8657983"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8657988">.</span><span class="ident" id="8657989">RGBA</span><span class="op" id="8657993">{</span><span class="num" id="8657994">0</span><span class="op" id="8657995">,</span>&nbsp;<span class="num" id="8657997">0</span><span class="op" id="8657998">,</span>&nbsp;<span class="num" id="8658000">102</span><span class="op" id="8658003">,</span>&nbsp;<span class="num" id="8658005">102</span><span class="op" id="8658008">}</span><span class="op" id="8658009">}</span><span class="op" id="8658010">,</span><br>
<span class="lineno"></span><span class="op" id="8658012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8658015">func</span>&nbsp;<span class="ident" id="8658020">makeGolden</span><span class="op" id="8658030">(</span><span class="ident" id="8658031">dst</span>&nbsp;<span class="ident" id="8658035"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658040">.</span><span class="ident" id="8658041">Image</span><span class="op" id="8658046">,</span>&nbsp;<span class="ident" id="8658048">r</span>&nbsp;<span class="ident" id="8658050"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658055">.</span><span class="ident" id="8658056">Rectangle</span><span class="op" id="8658065">,</span>&nbsp;<span class="ident" id="8658067">src</span>&nbsp;<span class="ident" id="8658071"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658076">.</span><span class="ident" id="8658077">Image</span><span class="op" id="8658082">,</span>&nbsp;<span class="ident" id="8658084">sp</span>&nbsp;<span class="ident" id="8658087"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658092">.</span><span class="ident" id="8658093">Point</span><span class="op" id="8658098">,</span>&nbsp;<span class="ident" id="8658100">mask</span>&nbsp;<span class="ident" id="8658105"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658110">.</span><span class="ident" id="8658111">Image</span><span class="op" id="8658116">,</span>&nbsp;<span class="ident" id="8658118">mp</span>&nbsp;<span class="ident" id="8658121"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658126">.</span><span class="ident" id="8658127">Point</span><span class="op" id="8658132">,</span>&nbsp;<span class="ident" id="8658134">op</span>&nbsp;<span class="ident" id="8658137"><a href="/image/draw/draw.go.html#5995204">Op</a></span><span class="op" id="8658139">)</span>&nbsp;<span class="ident" id="8658141"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658146">.</span><span class="ident" id="8658147">Image</span>&nbsp;<span class="op" id="8658153">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8658156">//&nbsp;Since&nbsp;golden&nbsp;is&nbsp;a&nbsp;newly&nbsp;allocated&nbsp;image,&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;check&nbsp;if&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8658231">//&nbsp;input&nbsp;source&nbsp;and&nbsp;mask&nbsp;images&nbsp;and&nbsp;the&nbsp;output&nbsp;golden&nbsp;image&nbsp;overlap.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658301">b</span>&nbsp;<span class="op" id="8658303">:=</span>&nbsp;<span class="ident" id="8658306"><a href="/image/draw/draw_test.go.html#8658031">dst</a></span><span class="op" id="8658309">.</span><span class="ident" id="8658310">Bounds</span><span class="op" id="8658316">(</span><span class="op" id="8658317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658320">sb</span>&nbsp;<span class="op" id="8658323">:=</span>&nbsp;<span class="ident" id="8658326"><a href="/image/draw/draw_test.go.html#8658067">src</a></span><span class="op" id="8658329">.</span><span class="ident" id="8658330">Bounds</span><span class="op" id="8658336">(</span><span class="op" id="8658337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658340">mb</span>&nbsp;<span class="op" id="8658343">:=</span>&nbsp;<span class="ident" id="8658346"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658351">.</span><span class="ident" id="8658352">Rect</span><span class="op" id="8658356">(</span><span class="op" id="8658357">-</span><span class="num" id="8658358">1e9</span><span class="op" id="8658361">,</span>&nbsp;<span class="op" id="8658363">-</span><span class="num" id="8658364">1e9</span><span class="op" id="8658367">,</span>&nbsp;<span class="num" id="8658369">1e9</span><span class="op" id="8658372">,</span>&nbsp;<span class="num" id="8658374">1e9</span><span class="op" id="8658377">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658380">if</span>&nbsp;<span class="ident" id="8658383"><a href="/image/draw/draw_test.go.html#8658100">mask</a></span>&nbsp;<span class="op" id="8658388">!=</span>&nbsp;<span class="ident" id="8658391">nil</span>&nbsp;<span class="op" id="8658395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658399"><a href="/image/draw/draw_test.go.html#8658340">mb</a></span>&nbsp;<span class="op" id="8658402">=</span>&nbsp;<span class="ident" id="8658404"><a href="/image/draw/draw_test.go.html#8658100">mask</a></span><span class="op" id="8658408">.</span><span class="ident" id="8658409">Bounds</span><span class="op" id="8658415">(</span><span class="op" id="8658416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8658419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658422">golden</span>&nbsp;<span class="op" id="8658429">:=</span>&nbsp;<span class="ident" id="8658432"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658437">.</span><span class="ident" id="8658438">NewRGBA</span><span class="op" id="8658445">(</span><span class="ident" id="8658446"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658451">.</span><span class="ident" id="8658452">Rect</span><span class="op" id="8658456">(</span><span class="num" id="8658457">0</span><span class="op" id="8658458">,</span>&nbsp;<span class="num" id="8658460">0</span><span class="op" id="8658461">,</span>&nbsp;<span class="ident" id="8658463"><a href="/image/draw/draw_test.go.html#8658301">b</a></span><span class="op" id="8658464">.</span><span class="ident" id="8658465">Max</span><span class="op" id="8658468">.</span><span class="ident" id="8658469">X</span><span class="op" id="8658470">,</span>&nbsp;<span class="ident" id="8658472"><a href="/image/draw/draw_test.go.html#8658301">b</a></span><span class="op" id="8658473">.</span><span class="ident" id="8658474">Max</span><span class="op" id="8658477">.</span><span class="ident" id="8658478">Y</span><span class="op" id="8658479">)</span><span class="op" id="8658480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658483">for</span>&nbsp;<span class="ident" id="8658487">y</span>&nbsp;<span class="op" id="8658489">:=</span>&nbsp;<span class="ident" id="8658492"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658493">.</span><span class="ident" id="8658494">Min</span><span class="op" id="8658497">.</span><span class="ident" id="8658498">Y</span><span class="op" id="8658499">;</span>&nbsp;<span class="ident" id="8658501"><a href="/image/draw/draw_test.go.html#8658487">y</a></span>&nbsp;<span class="op" id="8658503">&lt;</span>&nbsp;<span class="ident" id="8658505"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658506">.</span><span class="ident" id="8658507">Max</span><span class="op" id="8658510">.</span><span class="ident" id="8658511">Y</span><span class="op" id="8658512">;</span>&nbsp;<span class="ident" id="8658514"><a href="/image/draw/draw_test.go.html#8658487">y</a></span><span class="op" id="8658515">++</span>&nbsp;<span class="op" id="8658518">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658522">sy</span>&nbsp;<span class="op" id="8658525">:=</span>&nbsp;<span class="ident" id="8658528"><a href="/image/draw/draw_test.go.html#8658487">y</a></span>&nbsp;<span class="op" id="8658530">+</span>&nbsp;<span class="ident" id="8658532"><a href="/image/draw/draw_test.go.html#8658084">sp</a></span><span class="op" id="8658534">.</span><span class="ident" id="8658535">Y</span>&nbsp;<span class="op" id="8658537">-</span>&nbsp;<span class="ident" id="8658539"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658540">.</span><span class="ident" id="8658541">Min</span><span class="op" id="8658544">.</span><span class="ident" id="8658545">Y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658549">my</span>&nbsp;<span class="op" id="8658552">:=</span>&nbsp;<span class="ident" id="8658555"><a href="/image/draw/draw_test.go.html#8658487">y</a></span>&nbsp;<span class="op" id="8658557">+</span>&nbsp;<span class="ident" id="8658559"><a href="/image/draw/draw_test.go.html#8658118">mp</a></span><span class="op" id="8658561">.</span><span class="ident" id="8658562">Y</span>&nbsp;<span class="op" id="8658564">-</span>&nbsp;<span class="ident" id="8658566"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658567">.</span><span class="ident" id="8658568">Min</span><span class="op" id="8658571">.</span><span class="ident" id="8658572">Y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658576">for</span>&nbsp;<span class="ident" id="8658580">x</span>&nbsp;<span class="op" id="8658582">:=</span>&nbsp;<span class="ident" id="8658585"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658586">.</span><span class="ident" id="8658587">Min</span><span class="op" id="8658590">.</span><span class="ident" id="8658591">X</span><span class="op" id="8658592">;</span>&nbsp;<span class="ident" id="8658594"><a href="/image/draw/draw_test.go.html#8658580">x</a></span>&nbsp;<span class="op" id="8658596">&lt;</span>&nbsp;<span class="ident" id="8658598"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658599">.</span><span class="ident" id="8658600">Max</span><span class="op" id="8658603">.</span><span class="ident" id="8658604">X</span><span class="op" id="8658605">;</span>&nbsp;<span class="ident" id="8658607"><a href="/image/draw/draw_test.go.html#8658580">x</a></span><span class="op" id="8658608">++</span>&nbsp;<span class="op" id="8658611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658616">if</span>&nbsp;<span class="op" id="8658619">!</span><span class="op" id="8658620">(</span><span class="ident" id="8658621"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658626">.</span><span class="ident" id="8658627">Pt</span><span class="op" id="8658629">(</span><span class="ident" id="8658630"><a href="/image/draw/draw_test.go.html#8658580">x</a></span><span class="op" id="8658631">,</span>&nbsp;<span class="ident" id="8658633"><a href="/image/draw/draw_test.go.html#8658487">y</a></span><span class="op" id="8658634">)</span><span class="op" id="8658635">.</span><span class="ident" id="8658636">In</span><span class="op" id="8658638">(</span><span class="ident" id="8658639"><a href="/image/draw/draw_test.go.html#8658301">b</a></span><span class="op" id="8658640">)</span><span class="op" id="8658641">)</span>&nbsp;<span class="op" id="8658643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658649">continue</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8658661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658666">sx</span>&nbsp;<span class="op" id="8658669">:=</span>&nbsp;<span class="ident" id="8658672"><a href="/image/draw/draw_test.go.html#8658580">x</a></span>&nbsp;<span class="op" id="8658674">+</span>&nbsp;<span class="ident" id="8658676"><a href="/image/draw/draw_test.go.html#8658084">sp</a></span><span class="op" id="8658678">.</span><span class="ident" id="8658679">X</span>&nbsp;<span class="op" id="8658681">-</span>&nbsp;<span class="ident" id="8658683"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658684">.</span><span class="ident" id="8658685">Min</span><span class="op" id="8658688">.</span><span class="ident" id="8658689">X</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658694">if</span>&nbsp;<span class="op" id="8658697">!</span><span class="op" id="8658698">(</span><span class="ident" id="8658699"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658704">.</span><span class="ident" id="8658705">Pt</span><span class="op" id="8658707">(</span><span class="ident" id="8658708"><a href="/image/draw/draw_test.go.html#8658666">sx</a></span><span class="op" id="8658710">,</span>&nbsp;<span class="ident" id="8658712"><a href="/image/draw/draw_test.go.html#8658522">sy</a></span><span class="op" id="8658714">)</span><span class="op" id="8658715">.</span><span class="ident" id="8658716">In</span><span class="op" id="8658718">(</span><span class="ident" id="8658719"><a href="/image/draw/draw_test.go.html#8658320">sb</a></span><span class="op" id="8658721">)</span><span class="op" id="8658722">)</span>&nbsp;<span class="op" id="8658724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658730">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8658742">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658747">mx</span>&nbsp;<span class="op" id="8658750">:=</span>&nbsp;<span class="ident" id="8658753"><a href="/image/draw/draw_test.go.html#8658580">x</a></span>&nbsp;<span class="op" id="8658755">+</span>&nbsp;<span class="ident" id="8658757"><a href="/image/draw/draw_test.go.html#8658118">mp</a></span><span class="op" id="8658759">.</span><span class="ident" id="8658760">X</span>&nbsp;<span class="op" id="8658762">-</span>&nbsp;<span class="ident" id="8658764"><a href="/image/draw/draw_test.go.html#8658048">r</a></span><span class="op" id="8658765">.</span><span class="ident" id="8658766">Min</span><span class="op" id="8658769">.</span><span class="ident" id="8658770">X</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658775">if</span>&nbsp;<span class="op" id="8658778">!</span><span class="op" id="8658779">(</span><span class="ident" id="8658780"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8658785">.</span><span class="ident" id="8658786">Pt</span><span class="op" id="8658788">(</span><span class="ident" id="8658789"><a href="/image/draw/draw_test.go.html#8658747">mx</a></span><span class="op" id="8658791">,</span>&nbsp;<span class="ident" id="8658793"><a href="/image/draw/draw_test.go.html#8658549">my</a></span><span class="op" id="8658795">)</span><span class="op" id="8658796">.</span><span class="ident" id="8658797">In</span><span class="op" id="8658799">(</span><span class="ident" id="8658800"><a href="/image/draw/draw_test.go.html#8658340">mb</a></span><span class="op" id="8658802">)</span><span class="op" id="8658803">)</span>&nbsp;<span class="op" id="8658805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658811">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8658823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658829">const</span>&nbsp;<span class="ident" id="8658835">M</span>&nbsp;<span class="op" id="8658837">=</span>&nbsp;<span class="num" id="8658839">1</span><span class="op" id="8658840">&lt;&lt;</span><span class="num" id="8658842">16</span>&nbsp;<span class="op" id="8658845">-</span>&nbsp;<span class="num" id="8658847">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658852">var</span>&nbsp;<span class="ident" id="8658856">dr</span><span class="op" id="8658858">,</span>&nbsp;<span class="ident" id="8658860">dg</span><span class="op" id="8658862">,</span>&nbsp;<span class="ident" id="8658864">db</span><span class="op" id="8658866">,</span>&nbsp;<span class="ident" id="8658868">da</span>&nbsp;<span class="builtintype" id="8658871">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8658881">if</span>&nbsp;<span class="ident" id="8658884"><a href="/image/draw/draw_test.go.html#8658134">op</a></span>&nbsp;<span class="op" id="8658887">==</span>&nbsp;<span class="ident" id="8658890"><a href="/image/draw/draw.go.html#5995268">Over</a></span>&nbsp;<span class="op" id="8658895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658901"><a href="/image/draw/draw_test.go.html#8658856">dr</a></span><span class="op" id="8658903">,</span>&nbsp;<span class="ident" id="8658905"><a href="/image/draw/draw_test.go.html#8658860">dg</a></span><span class="op" id="8658907">,</span>&nbsp;<span class="ident" id="8658909"><a href="/image/draw/draw_test.go.html#8658864">db</a></span><span class="op" id="8658911">,</span>&nbsp;<span class="ident" id="8658913"><a href="/image/draw/draw_test.go.html#8658868">da</a></span>&nbsp;<span class="op" id="8658916">=</span>&nbsp;<span class="ident" id="8658918"><a href="/image/draw/draw_test.go.html#8658031">dst</a></span><span class="op" id="8658921">.</span><span class="ident" id="8658922">At</span><span class="op" id="8658924">(</span><span class="ident" id="8658925"><a href="/image/draw/draw_test.go.html#8658580">x</a></span><span class="op" id="8658926">,</span>&nbsp;<span class="ident" id="8658928"><a href="/image/draw/draw_test.go.html#8658487">y</a></span><span class="op" id="8658929">)</span><span class="op" id="8658930">.</span><span class="ident" id="8658931">RGBA</span><span class="op" id="8658935">(</span><span class="op" id="8658936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8658941">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658946">sr</span><span class="op" id="8658948">,</span>&nbsp;<span class="ident" id="8658950">sg</span><span class="op" id="8658952">,</span>&nbsp;<span class="ident" id="8658954">sb</span><span class="op" id="8658956">,</span>&nbsp;<span class="ident" id="8658958">sa</span>&nbsp;<span class="op" id="8658961">:=</span>&nbsp;<span class="ident" id="8658964"><a href="/image/draw/draw_test.go.html#8658067">src</a></span><span class="op" id="8658967">.</span><span class="ident" id="8658968">At</span><span class="op" id="8658970">(</span><span class="ident" id="8658971"><a href="/image/draw/draw_test.go.html#8658666">sx</a></span><span class="op" id="8658973">,</span>&nbsp;<span class="ident" id="8658975"><a href="/image/draw/draw_test.go.html#8658522">sy</a></span><span class="op" id="8658977">)</span><span class="op" id="8658978">.</span><span class="ident" id="8658979">RGBA</span><span class="op" id="8658983">(</span><span class="op" id="8658984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8658989">ma</span>&nbsp;<span class="op" id="8658992">:=</span>&nbsp;<span class="builtintype" id="8658995">uint32</span><span class="op" id="8659001">(</span><span class="ident" id="8659002"><a href="/image/draw/draw_test.go.html#8658835">M</a></span><span class="op" id="8659003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8659008">if</span>&nbsp;<span class="ident" id="8659011"><a href="/image/draw/draw_test.go.html#8658100">mask</a></span>&nbsp;<span class="op" id="8659016">!=</span>&nbsp;<span class="ident" id="8659019">nil</span>&nbsp;<span class="op" id="8659023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659029">_</span><span class="op" id="8659030">,</span>&nbsp;<span class="ident" id="8659032">_</span><span class="op" id="8659033">,</span>&nbsp;<span class="ident" id="8659035">_</span><span class="op" id="8659036">,</span>&nbsp;<span class="ident" id="8659038"><a href="/image/draw/draw_test.go.html#8658989">ma</a></span>&nbsp;<span class="op" id="8659041">=</span>&nbsp;<span class="ident" id="8659043"><a href="/image/draw/draw_test.go.html#8658100">mask</a></span><span class="op" id="8659047">.</span><span class="ident" id="8659048">At</span><span class="op" id="8659050">(</span><span class="ident" id="8659051"><a href="/image/draw/draw_test.go.html#8658747">mx</a></span><span class="op" id="8659053">,</span>&nbsp;<span class="ident" id="8659055"><a href="/image/draw/draw_test.go.html#8658549">my</a></span><span class="op" id="8659057">)</span><span class="op" id="8659058">.</span><span class="ident" id="8659059">RGBA</span><span class="op" id="8659063">(</span><span class="op" id="8659064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8659069">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659074">a</span>&nbsp;<span class="op" id="8659076">:=</span>&nbsp;<span class="ident" id="8659079"><a href="/image/draw/draw_test.go.html#8658835">M</a></span>&nbsp;<span class="op" id="8659081">-</span>&nbsp;<span class="op" id="8659083">(</span><span class="ident" id="8659084"><a href="/image/draw/draw_test.go.html#8658958">sa</a></span>&nbsp;<span class="op" id="8659087">*</span>&nbsp;<span class="ident" id="8659089"><a href="/image/draw/draw_test.go.html#8658989">ma</a></span>&nbsp;<span class="op" id="8659092">/</span>&nbsp;<span class="ident" id="8659094"><a href="/image/draw/draw_test.go.html#8658835">M</a></span><span class="op" id="8659095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659100"><a href="/image/draw/draw_test.go.html#8658422">golden</a></span><span class="op" id="8659106">.</span><span class="ident" id="8659107">Set</span><span class="op" id="8659110">(</span><span class="ident" id="8659111"><a href="/image/draw/draw_test.go.html#8658580">x</a></span><span class="op" id="8659112">,</span>&nbsp;<span class="ident" id="8659114"><a href="/image/draw/draw_test.go.html#8658487">y</a></span><span class="op" id="8659115">,</span>&nbsp;<span class="ident" id="8659117"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8659122">.</span><span class="ident" id="8659123">RGBA64</span><span class="op" id="8659129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8659135">uint16</span><span class="op" id="8659141">(</span><span class="op" id="8659142">(</span><span class="ident" id="8659143"><a href="/image/draw/draw_test.go.html#8658856">dr</a></span><span class="op" id="8659145">*</span><span class="ident" id="8659146"><a href="/image/draw/draw_test.go.html#8659074">a</a></span>&nbsp;<span class="op" id="8659148">+</span>&nbsp;<span class="ident" id="8659150"><a href="/image/draw/draw_test.go.html#8658946">sr</a></span><span class="op" id="8659152">*</span><span class="ident" id="8659153"><a href="/image/draw/draw_test.go.html#8658989">ma</a></span><span class="op" id="8659155">)</span>&nbsp;<span class="op" id="8659157">/</span>&nbsp;<span class="ident" id="8659159"><a href="/image/draw/draw_test.go.html#8658835">M</a></span><span class="op" id="8659160">)</span><span class="op" id="8659161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8659167">uint16</span><span class="op" id="8659173">(</span><span class="op" id="8659174">(</span><span class="ident" id="8659175"><a href="/image/draw/draw_test.go.html#8658860">dg</a></span><span class="op" id="8659177">*</span><span class="ident" id="8659178"><a href="/image/draw/draw_test.go.html#8659074">a</a></span>&nbsp;<span class="op" id="8659180">+</span>&nbsp;<span class="ident" id="8659182"><a href="/image/draw/draw_test.go.html#8658950">sg</a></span><span class="op" id="8659184">*</span><span class="ident" id="8659185"><a href="/image/draw/draw_test.go.html#8658989">ma</a></span><span class="op" id="8659187">)</span>&nbsp;<span class="op" id="8659189">/</span>&nbsp;<span class="ident" id="8659191"><a href="/image/draw/draw_test.go.html#8658835">M</a></span><span class="op" id="8659192">)</span><span class="op" id="8659193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8659199">uint16</span><span class="op" id="8659205">(</span><span class="op" id="8659206">(</span><span class="ident" id="8659207"><a href="/image/draw/draw_test.go.html#8658864">db</a></span><span class="op" id="8659209">*</span><span class="ident" id="8659210"><a href="/image/draw/draw_test.go.html#8659074">a</a></span>&nbsp;<span class="op" id="8659212">+</span>&nbsp;<span class="ident" id="8659214"><a href="/image/draw/draw_test.go.html#8658954">sb</a></span><span class="op" id="8659216">*</span><span class="ident" id="8659217"><a href="/image/draw/draw_test.go.html#8658989">ma</a></span><span class="op" id="8659219">)</span>&nbsp;<span class="op" id="8659221">/</span>&nbsp;<span class="ident" id="8659223"><a href="/image/draw/draw_test.go.html#8658835">M</a></span><span class="op" id="8659224">)</span><span class="op" id="8659225">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8659231">uint16</span><span class="op" id="8659237">(</span><span class="op" id="8659238">(</span><span class="ident" id="8659239"><a href="/image/draw/draw_test.go.html#8658868">da</a></span><span class="op" id="8659241">*</span><span class="ident" id="8659242"><a href="/image/draw/draw_test.go.html#8659074">a</a></span>&nbsp;<span class="op" id="8659244">+</span>&nbsp;<span class="ident" id="8659246"><a href="/image/draw/draw_test.go.html#8658958">sa</a></span><span class="op" id="8659248">*</span><span class="ident" id="8659249"><a href="/image/draw/draw_test.go.html#8658989">ma</a></span><span class="op" id="8659251">)</span>&nbsp;<span class="op" id="8659253">/</span>&nbsp;<span class="ident" id="8659255"><a href="/image/draw/draw_test.go.html#8658835">M</a></span><span class="op" id="8659256">)</span><span class="op" id="8659257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8659262">}</span><span class="op" id="8659263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8659267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8659270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8659273">return</span>&nbsp;<span class="ident" id="8659280"><a href="/image/draw/draw_test.go.html#8658422">golden</a></span><span class="op" id="8659286">.</span><span class="ident" id="8659287">SubImage</span><span class="op" id="8659295">(</span><span class="ident" id="8659296"><a href="/image/draw/draw_test.go.html#8658301">b</a></span><span class="op" id="8659297">)</span><br>
<span class="lineno">205</span><span class="op" id="8659299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8659302">func</span>&nbsp;<span class="ident" id="8659307">TestDraw</span><span class="op" id="8659315">(</span><span class="ident" id="8659316">t</span>&nbsp;<span class="op" id="8659318">*</span><span class="ident" id="8659319"><a href="/image/draw/draw_test.go.html#8652676">testing</a></span><span class="op" id="8659326">.</span><span class="ident" id="8659327">T</span><span class="op" id="8659328">)</span>&nbsp;<span class="op" id="8659330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659333">rr</span>&nbsp;<span class="op" id="8659336">:=</span>&nbsp;<span class="op" id="8659339">[</span><span class="op" id="8659340">]</span><span class="ident" id="8659341"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659346">.</span><span class="ident" id="8659347">Rectangle</span><span class="op" id="8659356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659360"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659365">.</span><span class="ident" id="8659366">Rect</span><span class="op" id="8659370">(</span><span class="num" id="8659371">0</span><span class="op" id="8659372">,</span>&nbsp;<span class="num" id="8659374">0</span><span class="op" id="8659375">,</span>&nbsp;<span class="num" id="8659377">0</span><span class="op" id="8659378">,</span>&nbsp;<span class="num" id="8659380">0</span><span class="op" id="8659381">)</span><span class="op" id="8659382">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659386"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659391">.</span><span class="ident" id="8659392">Rect</span><span class="op" id="8659396">(</span><span class="num" id="8659397">0</span><span class="op" id="8659398">,</span>&nbsp;<span class="num" id="8659400">0</span><span class="op" id="8659401">,</span>&nbsp;<span class="num" id="8659403">16</span><span class="op" id="8659405">,</span>&nbsp;<span class="num" id="8659407">16</span><span class="op" id="8659409">)</span><span class="op" id="8659410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659414"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659419">.</span><span class="ident" id="8659420">Rect</span><span class="op" id="8659424">(</span><span class="num" id="8659425">3</span><span class="op" id="8659426">,</span>&nbsp;<span class="num" id="8659428">5</span><span class="op" id="8659429">,</span>&nbsp;<span class="num" id="8659431">12</span><span class="op" id="8659433">,</span>&nbsp;<span class="num" id="8659435">10</span><span class="op" id="8659437">)</span><span class="op" id="8659438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659442"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659447">.</span><span class="ident" id="8659448">Rect</span><span class="op" id="8659452">(</span><span class="num" id="8659453">0</span><span class="op" id="8659454">,</span>&nbsp;<span class="num" id="8659456">0</span><span class="op" id="8659457">,</span>&nbsp;<span class="num" id="8659459">9</span><span class="op" id="8659460">,</span>&nbsp;<span class="num" id="8659462">9</span><span class="op" id="8659463">)</span><span class="op" id="8659464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659468"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659473">.</span><span class="ident" id="8659474">Rect</span><span class="op" id="8659478">(</span><span class="num" id="8659479">8</span><span class="op" id="8659480">,</span>&nbsp;<span class="num" id="8659482">8</span><span class="op" id="8659483">,</span>&nbsp;<span class="num" id="8659485">16</span><span class="op" id="8659487">,</span>&nbsp;<span class="num" id="8659489">16</span><span class="op" id="8659491">)</span><span class="op" id="8659492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659496"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659501">.</span><span class="ident" id="8659502">Rect</span><span class="op" id="8659506">(</span><span class="num" id="8659507">8</span><span class="op" id="8659508">,</span>&nbsp;<span class="num" id="8659510">0</span><span class="op" id="8659511">,</span>&nbsp;<span class="num" id="8659513">9</span><span class="op" id="8659514">,</span>&nbsp;<span class="num" id="8659516">16</span><span class="op" id="8659518">)</span><span class="op" id="8659519">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659523"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659528">.</span><span class="ident" id="8659529">Rect</span><span class="op" id="8659533">(</span><span class="num" id="8659534">0</span><span class="op" id="8659535">,</span>&nbsp;<span class="num" id="8659537">8</span><span class="op" id="8659538">,</span>&nbsp;<span class="num" id="8659540">16</span><span class="op" id="8659542">,</span>&nbsp;<span class="num" id="8659544">9</span><span class="op" id="8659545">)</span><span class="op" id="8659546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659550"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659555">.</span><span class="ident" id="8659556">Rect</span><span class="op" id="8659560">(</span><span class="num" id="8659561">8</span><span class="op" id="8659562">,</span>&nbsp;<span class="num" id="8659564">8</span><span class="op" id="8659565">,</span>&nbsp;<span class="num" id="8659567">9</span><span class="op" id="8659568">,</span>&nbsp;<span class="num" id="8659570">9</span><span class="op" id="8659571">)</span><span class="op" id="8659572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659576"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659581">.</span><span class="ident" id="8659582">Rect</span><span class="op" id="8659586">(</span><span class="num" id="8659587">8</span><span class="op" id="8659588">,</span>&nbsp;<span class="num" id="8659590">8</span><span class="op" id="8659591">,</span>&nbsp;<span class="num" id="8659593">8</span><span class="op" id="8659594">,</span>&nbsp;<span class="num" id="8659596">8</span><span class="op" id="8659597">)</span><span class="op" id="8659598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8659601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8659604">for</span>&nbsp;<span class="ident" id="8659608">_</span><span class="op" id="8659609">,</span>&nbsp;<span class="ident" id="8659611">r</span>&nbsp;<span class="op" id="8659613">:=</span>&nbsp;<span class="keyword" id="8659616">range</span>&nbsp;<span class="ident" id="8659622"><a href="/image/draw/draw_test.go.html#8659333">rr</a></span>&nbsp;<span class="op" id="8659625">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659628">loop</span><span class="op" id="8659632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8659636">for</span>&nbsp;<span class="ident" id="8659640">_</span><span class="op" id="8659641">,</span>&nbsp;<span class="ident" id="8659643">test</span>&nbsp;<span class="op" id="8659648">:=</span>&nbsp;<span class="keyword" id="8659651">range</span>&nbsp;<span class="ident" id="8659657"><a href="/image/draw/draw_test.go.html#8654741">drawTests</a></span>&nbsp;<span class="op" id="8659667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659672">dst</span>&nbsp;<span class="op" id="8659676">:=</span>&nbsp;<span class="ident" id="8659679"><a href="/image/draw/draw_test.go.html#8654150">hgradRed</a></span><span class="op" id="8659687">(</span><span class="num" id="8659688">255</span><span class="op" id="8659691">)</span><span class="op" id="8659692">.</span><span class="op" id="8659693">(</span><span class="op" id="8659694">*</span><span class="ident" id="8659695"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659700">.</span><span class="ident" id="8659701">RGBA</span><span class="op" id="8659705">)</span><span class="op" id="8659706">.</span><span class="ident" id="8659707">SubImage</span><span class="op" id="8659715">(</span><span class="ident" id="8659716"><a href="/image/draw/draw_test.go.html#8659611">r</a></span><span class="op" id="8659717">)</span><span class="op" id="8659718">.</span><span class="op" id="8659719">(</span><span class="ident" id="8659720"><a href="/image/draw/draw.go.html#5994820">Image</a></span><span class="op" id="8659725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8659730">//&nbsp;Draw&nbsp;the&nbsp;(src,&nbsp;mask,&nbsp;op)&nbsp;onto&nbsp;a&nbsp;copy&nbsp;of&nbsp;dst&nbsp;using&nbsp;a&nbsp;slow&nbsp;but&nbsp;obviously&nbsp;correct&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659831">golden</span>&nbsp;<span class="op" id="8659838">:=</span>&nbsp;<span class="ident" id="8659841"><a href="/image/draw/draw_test.go.html#8658020">makeGolden</a></span><span class="op" id="8659851">(</span><span class="ident" id="8659852"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8659855">,</span>&nbsp;<span class="ident" id="8659857"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659862">.</span><span class="ident" id="8659863">Rect</span><span class="op" id="8659867">(</span><span class="num" id="8659868">0</span><span class="op" id="8659869">,</span>&nbsp;<span class="num" id="8659871">0</span><span class="op" id="8659872">,</span>&nbsp;<span class="num" id="8659874">16</span><span class="op" id="8659876">,</span>&nbsp;<span class="num" id="8659878">16</span><span class="op" id="8659880">)</span><span class="op" id="8659881">,</span>&nbsp;<span class="ident" id="8659883"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8659887">.</span><span class="ident" id="8659888">src</span><span class="op" id="8659891">,</span>&nbsp;<span class="ident" id="8659893"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659898">.</span><span class="ident" id="8659899">ZP</span><span class="op" id="8659901">,</span>&nbsp;<span class="ident" id="8659903"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8659907">.</span><span class="ident" id="8659908">mask</span><span class="op" id="8659912">,</span>&nbsp;<span class="ident" id="8659914"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8659919">.</span><span class="ident" id="8659920">ZP</span><span class="op" id="8659922">,</span>&nbsp;<span class="ident" id="8659924"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8659928">.</span><span class="ident" id="8659929">op</span><span class="op" id="8659931">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659936">b</span>&nbsp;<span class="op" id="8659938">:=</span>&nbsp;<span class="ident" id="8659941"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8659944">.</span><span class="ident" id="8659945">Bounds</span><span class="op" id="8659951">(</span><span class="op" id="8659952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8659957">if</span>&nbsp;<span class="op" id="8659960">!</span><span class="ident" id="8659961"><a href="/image/draw/draw_test.go.html#8659936">b</a></span><span class="op" id="8659962">.</span><span class="ident" id="8659963">Eq</span><span class="op" id="8659965">(</span><span class="ident" id="8659966"><a href="/image/draw/draw_test.go.html#8659831">golden</a></span><span class="op" id="8659972">.</span><span class="ident" id="8659973">Bounds</span><span class="op" id="8659979">(</span><span class="op" id="8659980">)</span><span class="op" id="8659981">)</span>&nbsp;<span class="op" id="8659983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8659989"><a href="/image/draw/draw_test.go.html#8659316">t</a></span><span class="op" id="8659990">.</span><span class="ident" id="8659991">Errorf</span><span class="op" id="8659997">(</span><span class="string" id="8659998">&#34;draw&nbsp;%v&nbsp;%s:&nbsp;bounds&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8660031">,</span>&nbsp;<span class="ident" id="8660033"><a href="/image/draw/draw_test.go.html#8659611">r</a></span><span class="op" id="8660034">,</span>&nbsp;<span class="ident" id="8660036"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660040">.</span><span class="ident" id="8660041">desc</span><span class="op" id="8660045">,</span>&nbsp;<span class="ident" id="8660047"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8660050">.</span><span class="ident" id="8660051">Bounds</span><span class="op" id="8660057">(</span><span class="op" id="8660058">)</span><span class="op" id="8660059">,</span>&nbsp;<span class="ident" id="8660061"><a href="/image/draw/draw_test.go.html#8659831">golden</a></span><span class="op" id="8660067">.</span><span class="ident" id="8660068">Bounds</span><span class="op" id="8660074">(</span><span class="op" id="8660075">)</span><span class="op" id="8660076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660082">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660094">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8660099">//&nbsp;Draw&nbsp;the&nbsp;same&nbsp;combination&nbsp;onto&nbsp;the&nbsp;actual&nbsp;dst&nbsp;using&nbsp;the&nbsp;optimized&nbsp;DrawMask&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8660196"><a href="/image/draw/draw.go.html#5997385">DrawMask</a></span><span class="op" id="8660204">(</span><span class="ident" id="8660205"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8660208">,</span>&nbsp;<span class="ident" id="8660210"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8660215">.</span><span class="ident" id="8660216">Rect</span><span class="op" id="8660220">(</span><span class="num" id="8660221">0</span><span class="op" id="8660222">,</span>&nbsp;<span class="num" id="8660224">0</span><span class="op" id="8660225">,</span>&nbsp;<span class="num" id="8660227">16</span><span class="op" id="8660229">,</span>&nbsp;<span class="num" id="8660231">16</span><span class="op" id="8660233">)</span><span class="op" id="8660234">,</span>&nbsp;<span class="ident" id="8660236"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660240">.</span><span class="ident" id="8660241">src</span><span class="op" id="8660244">,</span>&nbsp;<span class="ident" id="8660246"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8660251">.</span><span class="ident" id="8660252">ZP</span><span class="op" id="8660254">,</span>&nbsp;<span class="ident" id="8660256"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660260">.</span><span class="ident" id="8660261">mask</span><span class="op" id="8660265">,</span>&nbsp;<span class="ident" id="8660267"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8660272">.</span><span class="ident" id="8660273">ZP</span><span class="op" id="8660275">,</span>&nbsp;<span class="ident" id="8660277"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660281">.</span><span class="ident" id="8660282">op</span><span class="op" id="8660284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660289">if</span>&nbsp;<span class="ident" id="8660292"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8660297">.</span><span class="ident" id="8660298">Pt</span><span class="op" id="8660300">(</span><span class="num" id="8660301">8</span><span class="op" id="8660302">,</span>&nbsp;<span class="num" id="8660304">8</span><span class="op" id="8660305">)</span><span class="op" id="8660306">.</span><span class="ident" id="8660307">In</span><span class="op" id="8660309">(</span><span class="ident" id="8660310"><a href="/image/draw/draw_test.go.html#8659611">r</a></span><span class="op" id="8660311">)</span>&nbsp;<span class="op" id="8660313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8660319">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;resultant&nbsp;pixel&nbsp;at&nbsp;(8,&nbsp;8)&nbsp;matches&nbsp;what&nbsp;we&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8660390">//&nbsp;(the&nbsp;expected&nbsp;value&nbsp;can&nbsp;be&nbsp;verified&nbsp;by&nbsp;hand).</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660443">if</span>&nbsp;<span class="op" id="8660446">!</span><span class="ident" id="8660447"><a href="/image/draw/draw_test.go.html#8652694">eq</a></span><span class="op" id="8660449">(</span><span class="ident" id="8660450"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8660453">.</span><span class="ident" id="8660454">At</span><span class="op" id="8660456">(</span><span class="num" id="8660457">8</span><span class="op" id="8660458">,</span>&nbsp;<span class="num" id="8660460">8</span><span class="op" id="8660461">)</span><span class="op" id="8660462">,</span>&nbsp;<span class="ident" id="8660464"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660468">.</span><span class="ident" id="8660469">expected</span><span class="op" id="8660477">)</span>&nbsp;<span class="op" id="8660479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8660486"><a href="/image/draw/draw_test.go.html#8659316">t</a></span><span class="op" id="8660487">.</span><span class="ident" id="8660488">Errorf</span><span class="op" id="8660494">(</span><span class="string" id="8660495">&#34;draw&nbsp;%v&nbsp;%s:&nbsp;at&nbsp;(8,&nbsp;8)&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8660531">,</span>&nbsp;<span class="ident" id="8660533"><a href="/image/draw/draw_test.go.html#8659611">r</a></span><span class="op" id="8660534">,</span>&nbsp;<span class="ident" id="8660536"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660540">.</span><span class="ident" id="8660541">desc</span><span class="op" id="8660545">,</span>&nbsp;<span class="ident" id="8660547"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8660550">.</span><span class="ident" id="8660551">At</span><span class="op" id="8660553">(</span><span class="num" id="8660554">8</span><span class="op" id="8660555">,</span>&nbsp;<span class="num" id="8660557">8</span><span class="op" id="8660558">)</span><span class="op" id="8660559">,</span>&nbsp;<span class="ident" id="8660561"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660565">.</span><span class="ident" id="8660566">expected</span><span class="op" id="8660574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660581">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660599">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8660604">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;resultant&nbsp;dst&nbsp;image&nbsp;matches&nbsp;the&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660672">for</span>&nbsp;<span class="ident" id="8660676">y</span>&nbsp;<span class="op" id="8660678">:=</span>&nbsp;<span class="ident" id="8660681"><a href="/image/draw/draw_test.go.html#8659936">b</a></span><span class="op" id="8660682">.</span><span class="ident" id="8660683">Min</span><span class="op" id="8660686">.</span><span class="ident" id="8660687">Y</span><span class="op" id="8660688">;</span>&nbsp;<span class="ident" id="8660690"><a href="/image/draw/draw_test.go.html#8660676">y</a></span>&nbsp;<span class="op" id="8660692">&lt;</span>&nbsp;<span class="ident" id="8660694"><a href="/image/draw/draw_test.go.html#8659936">b</a></span><span class="op" id="8660695">.</span><span class="ident" id="8660696">Max</span><span class="op" id="8660699">.</span><span class="ident" id="8660700">Y</span><span class="op" id="8660701">;</span>&nbsp;<span class="ident" id="8660703"><a href="/image/draw/draw_test.go.html#8660676">y</a></span><span class="op" id="8660704">++</span>&nbsp;<span class="op" id="8660707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660713">for</span>&nbsp;<span class="ident" id="8660717">x</span>&nbsp;<span class="op" id="8660719">:=</span>&nbsp;<span class="ident" id="8660722"><a href="/image/draw/draw_test.go.html#8659936">b</a></span><span class="op" id="8660723">.</span><span class="ident" id="8660724">Min</span><span class="op" id="8660727">.</span><span class="ident" id="8660728">X</span><span class="op" id="8660729">;</span>&nbsp;<span class="ident" id="8660731"><a href="/image/draw/draw_test.go.html#8660717">x</a></span>&nbsp;<span class="op" id="8660733">&lt;</span>&nbsp;<span class="ident" id="8660735"><a href="/image/draw/draw_test.go.html#8659936">b</a></span><span class="op" id="8660736">.</span><span class="ident" id="8660737">Max</span><span class="op" id="8660740">.</span><span class="ident" id="8660741">X</span><span class="op" id="8660742">;</span>&nbsp;<span class="ident" id="8660744"><a href="/image/draw/draw_test.go.html#8660717">x</a></span><span class="op" id="8660745">++</span>&nbsp;<span class="op" id="8660748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660755">if</span>&nbsp;<span class="op" id="8660758">!</span><span class="ident" id="8660759"><a href="/image/draw/draw_test.go.html#8652694">eq</a></span><span class="op" id="8660761">(</span><span class="ident" id="8660762"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8660765">.</span><span class="ident" id="8660766">At</span><span class="op" id="8660768">(</span><span class="ident" id="8660769"><a href="/image/draw/draw_test.go.html#8660717">x</a></span><span class="op" id="8660770">,</span>&nbsp;<span class="ident" id="8660772"><a href="/image/draw/draw_test.go.html#8660676">y</a></span><span class="op" id="8660773">)</span><span class="op" id="8660774">,</span>&nbsp;<span class="ident" id="8660776"><a href="/image/draw/draw_test.go.html#8659831">golden</a></span><span class="op" id="8660782">.</span><span class="ident" id="8660783">At</span><span class="op" id="8660785">(</span><span class="ident" id="8660786"><a href="/image/draw/draw_test.go.html#8660717">x</a></span><span class="op" id="8660787">,</span>&nbsp;<span class="ident" id="8660789"><a href="/image/draw/draw_test.go.html#8660676">y</a></span><span class="op" id="8660790">)</span><span class="op" id="8660791">)</span>&nbsp;<span class="op" id="8660793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8660801"><a href="/image/draw/draw_test.go.html#8659316">t</a></span><span class="op" id="8660802">.</span><span class="ident" id="8660803">Errorf</span><span class="op" id="8660809">(</span><span class="string" id="8660810">&#34;draw&nbsp;%v&nbsp;%s:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;%v&nbsp;versus&nbsp;golden&nbsp;%v&#34;</span><span class="op" id="8660856">,</span>&nbsp;<span class="ident" id="8660858"><a href="/image/draw/draw_test.go.html#8659611">r</a></span><span class="op" id="8660859">,</span>&nbsp;<span class="ident" id="8660861"><a href="/image/draw/draw_test.go.html#8659643">test</a></span><span class="op" id="8660865">.</span><span class="ident" id="8660866">desc</span><span class="op" id="8660870">,</span>&nbsp;<span class="ident" id="8660872"><a href="/image/draw/draw_test.go.html#8660717">x</a></span><span class="op" id="8660873">,</span>&nbsp;<span class="ident" id="8660875"><a href="/image/draw/draw_test.go.html#8660676">y</a></span><span class="op" id="8660876">,</span>&nbsp;<span class="ident" id="8660878"><a href="/image/draw/draw_test.go.html#8659672">dst</a></span><span class="op" id="8660881">.</span><span class="ident" id="8660882">At</span><span class="op" id="8660884">(</span><span class="ident" id="8660885"><a href="/image/draw/draw_test.go.html#8660717">x</a></span><span class="op" id="8660886">,</span>&nbsp;<span class="ident" id="8660888"><a href="/image/draw/draw_test.go.html#8660676">y</a></span><span class="op" id="8660889">)</span><span class="op" id="8660890">,</span>&nbsp;<span class="ident" id="8660892"><a href="/image/draw/draw_test.go.html#8659831">golden</a></span><span class="op" id="8660898">.</span><span class="ident" id="8660899">At</span><span class="op" id="8660901">(</span><span class="ident" id="8660902"><a href="/image/draw/draw_test.go.html#8660717">x</a></span><span class="op" id="8660903">,</span>&nbsp;<span class="ident" id="8660905"><a href="/image/draw/draw_test.go.html#8660676">y</a></span><span class="op" id="8660906">)</span><span class="op" id="8660907">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660915">continue</span>&nbsp;<span class="ident" id="8660924">loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660949">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8660952">}</span><br>
<span class="lineno"></span><span class="op" id="8660954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8660957">func</span>&nbsp;<span class="ident" id="8660962">TestDrawOverlap</span><span class="op" id="8660977">(</span><span class="ident" id="8660978">t</span>&nbsp;<span class="op" id="8660980">*</span><span class="ident" id="8660981"><a href="/image/draw/draw_test.go.html#8652676">testing</a></span><span class="op" id="8660988">.</span><span class="ident" id="8660989">T</span><span class="op" id="8660990">)</span>&nbsp;<span class="op" id="8660992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8660995">for</span>&nbsp;<span class="ident" id="8660999">_</span><span class="op" id="8661000">,</span>&nbsp;<span class="ident" id="8661002">op</span>&nbsp;<span class="op" id="8661005">:=</span>&nbsp;<span class="keyword" id="8661008">range</span>&nbsp;<span class="op" id="8661014">[</span><span class="op" id="8661015">]</span><span class="ident" id="8661016"><a href="/image/draw/draw.go.html#5995204">Op</a></span><span class="op" id="8661018">{</span><span class="ident" id="8661019"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8661023">,</span>&nbsp;<span class="ident" id="8661025"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8661028">}</span>&nbsp;<span class="op" id="8661030">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661034">for</span>&nbsp;<span class="ident" id="8661038">yoff</span>&nbsp;<span class="op" id="8661043">:=</span>&nbsp;<span class="op" id="8661046">-</span><span class="num" id="8661047">2</span><span class="op" id="8661048">;</span>&nbsp;<span class="ident" id="8661050"><a href="/image/draw/draw_test.go.html#8661038">yoff</a></span>&nbsp;<span class="op" id="8661055">&lt;=</span>&nbsp;<span class="num" id="8661058">2</span><span class="op" id="8661059">;</span>&nbsp;<span class="ident" id="8661061"><a href="/image/draw/draw_test.go.html#8661038">yoff</a></span><span class="op" id="8661065">++</span>&nbsp;<span class="op" id="8661068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661072">loop</span><span class="op" id="8661076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661081">for</span>&nbsp;<span class="ident" id="8661085">xoff</span>&nbsp;<span class="op" id="8661090">:=</span>&nbsp;<span class="op" id="8661093">-</span><span class="num" id="8661094">2</span><span class="op" id="8661095">;</span>&nbsp;<span class="ident" id="8661097"><a href="/image/draw/draw_test.go.html#8661085">xoff</a></span>&nbsp;<span class="op" id="8661102">&lt;=</span>&nbsp;<span class="num" id="8661105">2</span><span class="op" id="8661106">;</span>&nbsp;<span class="ident" id="8661108"><a href="/image/draw/draw_test.go.html#8661085">xoff</a></span><span class="op" id="8661112">++</span>&nbsp;<span class="op" id="8661115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661121">m</span>&nbsp;<span class="op" id="8661123">:=</span>&nbsp;<span class="ident" id="8661126"><a href="/image/draw/draw_test.go.html#8654374">gradYellow</a></span><span class="op" id="8661136">(</span><span class="num" id="8661137">127</span><span class="op" id="8661140">)</span><span class="op" id="8661141">.</span><span class="op" id="8661142">(</span><span class="op" id="8661143">*</span><span class="ident" id="8661144"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661149">.</span><span class="ident" id="8661150">RGBA</span><span class="op" id="8661154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661160">dst</span>&nbsp;<span class="op" id="8661164">:=</span>&nbsp;<span class="ident" id="8661167"><a href="/image/draw/draw_test.go.html#8661121">m</a></span><span class="op" id="8661168">.</span><span class="ident" id="8661169">SubImage</span><span class="op" id="8661177">(</span><span class="ident" id="8661178"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661183">.</span><span class="ident" id="8661184">Rect</span><span class="op" id="8661188">(</span><span class="num" id="8661189">5</span><span class="op" id="8661190">,</span>&nbsp;<span class="num" id="8661192">5</span><span class="op" id="8661193">,</span>&nbsp;<span class="num" id="8661195">10</span><span class="op" id="8661197">,</span>&nbsp;<span class="num" id="8661199">10</span><span class="op" id="8661201">)</span><span class="op" id="8661202">)</span><span class="op" id="8661203">.</span><span class="op" id="8661204">(</span><span class="op" id="8661205">*</span><span class="ident" id="8661206"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661211">.</span><span class="ident" id="8661212">RGBA</span><span class="op" id="8661216">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661222">src</span>&nbsp;<span class="op" id="8661226">:=</span>&nbsp;<span class="ident" id="8661229"><a href="/image/draw/draw_test.go.html#8661121">m</a></span><span class="op" id="8661230">.</span><span class="ident" id="8661231">SubImage</span><span class="op" id="8661239">(</span><span class="ident" id="8661240"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661245">.</span><span class="ident" id="8661246">Rect</span><span class="op" id="8661250">(</span><span class="num" id="8661251">5</span><span class="op" id="8661252">+</span><span class="ident" id="8661253"><a href="/image/draw/draw_test.go.html#8661085">xoff</a></span><span class="op" id="8661257">,</span>&nbsp;<span class="num" id="8661259">5</span><span class="op" id="8661260">+</span><span class="ident" id="8661261"><a href="/image/draw/draw_test.go.html#8661038">yoff</a></span><span class="op" id="8661265">,</span>&nbsp;<span class="num" id="8661267">10</span><span class="op" id="8661269">+</span><span class="ident" id="8661270"><a href="/image/draw/draw_test.go.html#8661085">xoff</a></span><span class="op" id="8661274">,</span>&nbsp;<span class="num" id="8661276">10</span><span class="op" id="8661278">+</span><span class="ident" id="8661279"><a href="/image/draw/draw_test.go.html#8661038">yoff</a></span><span class="op" id="8661283">)</span><span class="op" id="8661284">)</span><span class="op" id="8661285">.</span><span class="op" id="8661286">(</span><span class="op" id="8661287">*</span><span class="ident" id="8661288"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661293">.</span><span class="ident" id="8661294">RGBA</span><span class="op" id="8661298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661304">b</span>&nbsp;<span class="op" id="8661306">:=</span>&nbsp;<span class="ident" id="8661309"><a href="/image/draw/draw_test.go.html#8661160">dst</a></span><span class="op" id="8661312">.</span><span class="ident" id="8661313">Bounds</span><span class="op" id="8661319">(</span><span class="op" id="8661320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8661326">//&nbsp;Draw&nbsp;the&nbsp;(src,&nbsp;mask,&nbsp;op)&nbsp;onto&nbsp;a&nbsp;copy&nbsp;of&nbsp;dst&nbsp;using&nbsp;a&nbsp;slow&nbsp;but&nbsp;obviously&nbsp;correct&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661428">golden</span>&nbsp;<span class="op" id="8661435">:=</span>&nbsp;<span class="ident" id="8661438"><a href="/image/draw/draw_test.go.html#8658020">makeGolden</a></span><span class="op" id="8661448">(</span><span class="ident" id="8661449"><a href="/image/draw/draw_test.go.html#8661160">dst</a></span><span class="op" id="8661452">,</span>&nbsp;<span class="ident" id="8661454"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661455">,</span>&nbsp;<span class="ident" id="8661457"><a href="/image/draw/draw_test.go.html#8661222">src</a></span><span class="op" id="8661460">,</span>&nbsp;<span class="ident" id="8661462"><a href="/image/draw/draw_test.go.html#8661222">src</a></span><span class="op" id="8661465">.</span><span class="ident" id="8661466">Bounds</span><span class="op" id="8661472">(</span><span class="op" id="8661473">)</span><span class="op" id="8661474">.</span><span class="ident" id="8661475">Min</span><span class="op" id="8661478">,</span>&nbsp;<span class="ident" id="8661480">nil</span><span class="op" id="8661483">,</span>&nbsp;<span class="ident" id="8661485"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661490">.</span><span class="ident" id="8661491">ZP</span><span class="op" id="8661493">,</span>&nbsp;<span class="ident" id="8661495"><a href="/image/draw/draw_test.go.html#8661002">op</a></span><span class="op" id="8661497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661503">if</span>&nbsp;<span class="op" id="8661506">!</span><span class="ident" id="8661507"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661508">.</span><span class="ident" id="8661509">Eq</span><span class="op" id="8661511">(</span><span class="ident" id="8661512"><a href="/image/draw/draw_test.go.html#8661428">golden</a></span><span class="op" id="8661518">.</span><span class="ident" id="8661519">Bounds</span><span class="op" id="8661525">(</span><span class="op" id="8661526">)</span><span class="op" id="8661527">)</span>&nbsp;<span class="op" id="8661529">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661536"><a href="/image/draw/draw_test.go.html#8660978">t</a></span><span class="op" id="8661537">.</span><span class="ident" id="8661538">Errorf</span><span class="op" id="8661544">(</span><span class="string" id="8661545">&#34;drawOverlap&nbsp;xoff=%d,yoff=%d:&nbsp;bounds&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8661595">,</span>&nbsp;<span class="ident" id="8661597"><a href="/image/draw/draw_test.go.html#8661085">xoff</a></span><span class="op" id="8661601">,</span>&nbsp;<span class="ident" id="8661603"><a href="/image/draw/draw_test.go.html#8661038">yoff</a></span><span class="op" id="8661607">,</span>&nbsp;<span class="ident" id="8661609"><a href="/image/draw/draw_test.go.html#8661160">dst</a></span><span class="op" id="8661612">.</span><span class="ident" id="8661613">Bounds</span><span class="op" id="8661619">(</span><span class="op" id="8661620">)</span><span class="op" id="8661621">,</span>&nbsp;<span class="ident" id="8661623"><a href="/image/draw/draw_test.go.html#8661428">golden</a></span><span class="op" id="8661629">.</span><span class="ident" id="8661630">Bounds</span><span class="op" id="8661636">(</span><span class="op" id="8661637">)</span><span class="op" id="8661638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661645">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8661658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8661664">//&nbsp;Draw&nbsp;the&nbsp;same&nbsp;combination&nbsp;onto&nbsp;the&nbsp;actual&nbsp;dst&nbsp;using&nbsp;the&nbsp;optimized&nbsp;DrawMask&nbsp;implementation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8661762"><a href="/image/draw/draw.go.html#5997385">DrawMask</a></span><span class="op" id="8661770">(</span><span class="ident" id="8661771"><a href="/image/draw/draw_test.go.html#8661160">dst</a></span><span class="op" id="8661774">,</span>&nbsp;<span class="ident" id="8661776"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661777">,</span>&nbsp;<span class="ident" id="8661779"><a href="/image/draw/draw_test.go.html#8661222">src</a></span><span class="op" id="8661782">,</span>&nbsp;<span class="ident" id="8661784"><a href="/image/draw/draw_test.go.html#8661222">src</a></span><span class="op" id="8661787">.</span><span class="ident" id="8661788">Bounds</span><span class="op" id="8661794">(</span><span class="op" id="8661795">)</span><span class="op" id="8661796">.</span><span class="ident" id="8661797">Min</span><span class="op" id="8661800">,</span>&nbsp;<span class="ident" id="8661802">nil</span><span class="op" id="8661805">,</span>&nbsp;<span class="ident" id="8661807"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8661812">.</span><span class="ident" id="8661813">ZP</span><span class="op" id="8661815">,</span>&nbsp;<span class="ident" id="8661817"><a href="/image/draw/draw_test.go.html#8661002">op</a></span><span class="op" id="8661819">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8661825">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;resultant&nbsp;dst&nbsp;image&nbsp;matches&nbsp;the&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661894">for</span>&nbsp;<span class="ident" id="8661898">y</span>&nbsp;<span class="op" id="8661900">:=</span>&nbsp;<span class="ident" id="8661903"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661904">.</span><span class="ident" id="8661905">Min</span><span class="op" id="8661908">.</span><span class="ident" id="8661909">Y</span><span class="op" id="8661910">;</span>&nbsp;<span class="ident" id="8661912"><a href="/image/draw/draw_test.go.html#8661898">y</a></span>&nbsp;<span class="op" id="8661914">&lt;</span>&nbsp;<span class="ident" id="8661916"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661917">.</span><span class="ident" id="8661918">Max</span><span class="op" id="8661921">.</span><span class="ident" id="8661922">Y</span><span class="op" id="8661923">;</span>&nbsp;<span class="ident" id="8661925"><a href="/image/draw/draw_test.go.html#8661898">y</a></span><span class="op" id="8661926">++</span>&nbsp;<span class="op" id="8661929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661936">for</span>&nbsp;<span class="ident" id="8661940">x</span>&nbsp;<span class="op" id="8661942">:=</span>&nbsp;<span class="ident" id="8661945"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661946">.</span><span class="ident" id="8661947">Min</span><span class="op" id="8661950">.</span><span class="ident" id="8661951">X</span><span class="op" id="8661952">;</span>&nbsp;<span class="ident" id="8661954"><a href="/image/draw/draw_test.go.html#8661940">x</a></span>&nbsp;<span class="op" id="8661956">&lt;</span>&nbsp;<span class="ident" id="8661958"><a href="/image/draw/draw_test.go.html#8661304">b</a></span><span class="op" id="8661959">.</span><span class="ident" id="8661960">Max</span><span class="op" id="8661963">.</span><span class="ident" id="8661964">X</span><span class="op" id="8661965">;</span>&nbsp;<span class="ident" id="8661967"><a href="/image/draw/draw_test.go.html#8661940">x</a></span><span class="op" id="8661968">++</span>&nbsp;<span class="op" id="8661971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8661979">if</span>&nbsp;<span class="op" id="8661982">!</span><span class="ident" id="8661983"><a href="/image/draw/draw_test.go.html#8652694">eq</a></span><span class="op" id="8661985">(</span><span class="ident" id="8661986"><a href="/image/draw/draw_test.go.html#8661160">dst</a></span><span class="op" id="8661989">.</span><span class="ident" id="8661990">At</span><span class="op" id="8661992">(</span><span class="ident" id="8661993"><a href="/image/draw/draw_test.go.html#8661940">x</a></span><span class="op" id="8661994">,</span>&nbsp;<span class="ident" id="8661996"><a href="/image/draw/draw_test.go.html#8661898">y</a></span><span class="op" id="8661997">)</span><span class="op" id="8661998">,</span>&nbsp;<span class="ident" id="8662000"><a href="/image/draw/draw_test.go.html#8661428">golden</a></span><span class="op" id="8662006">.</span><span class="ident" id="8662007">At</span><span class="op" id="8662009">(</span><span class="ident" id="8662010"><a href="/image/draw/draw_test.go.html#8661940">x</a></span><span class="op" id="8662011">,</span>&nbsp;<span class="ident" id="8662013"><a href="/image/draw/draw_test.go.html#8661898">y</a></span><span class="op" id="8662014">)</span><span class="op" id="8662015">)</span>&nbsp;<span class="op" id="8662017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662026"><a href="/image/draw/draw_test.go.html#8660978">t</a></span><span class="op" id="8662027">.</span><span class="ident" id="8662028">Errorf</span><span class="op" id="8662034">(</span><span class="string" id="8662035">&#34;drawOverlap&nbsp;xoff=%d,yoff=%d:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;%v&nbsp;versus&nbsp;golden&nbsp;%v&#34;</span><span class="op" id="8662098">,</span>&nbsp;<span class="ident" id="8662100"><a href="/image/draw/draw_test.go.html#8661085">xoff</a></span><span class="op" id="8662104">,</span>&nbsp;<span class="ident" id="8662106"><a href="/image/draw/draw_test.go.html#8661038">yoff</a></span><span class="op" id="8662110">,</span>&nbsp;<span class="ident" id="8662112"><a href="/image/draw/draw_test.go.html#8661940">x</a></span><span class="op" id="8662113">,</span>&nbsp;<span class="ident" id="8662115"><a href="/image/draw/draw_test.go.html#8661898">y</a></span><span class="op" id="8662116">,</span>&nbsp;<span class="ident" id="8662118"><a href="/image/draw/draw_test.go.html#8661160">dst</a></span><span class="op" id="8662121">.</span><span class="ident" id="8662122">At</span><span class="op" id="8662124">(</span><span class="ident" id="8662125"><a href="/image/draw/draw_test.go.html#8661940">x</a></span><span class="op" id="8662126">,</span>&nbsp;<span class="ident" id="8662128"><a href="/image/draw/draw_test.go.html#8661898">y</a></span><span class="op" id="8662129">)</span><span class="op" id="8662130">,</span>&nbsp;<span class="ident" id="8662132"><a href="/image/draw/draw_test.go.html#8661428">golden</a></span><span class="op" id="8662138">.</span><span class="ident" id="8662139">At</span><span class="op" id="8662141">(</span><span class="ident" id="8662142"><a href="/image/draw/draw_test.go.html#8661940">x</a></span><span class="op" id="8662143">,</span>&nbsp;<span class="ident" id="8662145"><a href="/image/draw/draw_test.go.html#8661898">y</a></span><span class="op" id="8662146">)</span><span class="op" id="8662147">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8662156">continue</span>&nbsp;<span class="ident" id="8662165">loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662194">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662201">}</span><br>
<span class="lineno"></span><span class="op" id="8662203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8662206">//&nbsp;TestNonZeroSrcPt&nbsp;checks&nbsp;drawing&nbsp;with&nbsp;a&nbsp;non-zero&nbsp;src&nbsp;point&nbsp;parameter.</span><br>
<span class="lineno">285</span><span class="keyword" id="8662278">func</span>&nbsp;<span class="ident" id="8662283">TestNonZeroSrcPt</span><span class="op" id="8662299">(</span><span class="ident" id="8662300">t</span>&nbsp;<span class="op" id="8662302">*</span><span class="ident" id="8662303"><a href="/image/draw/draw_test.go.html#8652676">testing</a></span><span class="op" id="8662310">.</span><span class="ident" id="8662311">T</span><span class="op" id="8662312">)</span>&nbsp;<span class="op" id="8662314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662317">a</span>&nbsp;<span class="op" id="8662319">:=</span>&nbsp;<span class="ident" id="8662322"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662327">.</span><span class="ident" id="8662328">NewRGBA</span><span class="op" id="8662335">(</span><span class="ident" id="8662336"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662341">.</span><span class="ident" id="8662342">Rect</span><span class="op" id="8662346">(</span><span class="num" id="8662347">0</span><span class="op" id="8662348">,</span>&nbsp;<span class="num" id="8662350">0</span><span class="op" id="8662351">,</span>&nbsp;<span class="num" id="8662353">1</span><span class="op" id="8662354">,</span>&nbsp;<span class="num" id="8662356">1</span><span class="op" id="8662357">)</span><span class="op" id="8662358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662361">b</span>&nbsp;<span class="op" id="8662363">:=</span>&nbsp;<span class="ident" id="8662366"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662371">.</span><span class="ident" id="8662372">NewRGBA</span><span class="op" id="8662379">(</span><span class="ident" id="8662380"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662385">.</span><span class="ident" id="8662386">Rect</span><span class="op" id="8662390">(</span><span class="num" id="8662391">0</span><span class="op" id="8662392">,</span>&nbsp;<span class="num" id="8662394">0</span><span class="op" id="8662395">,</span>&nbsp;<span class="num" id="8662397">2</span><span class="op" id="8662398">,</span>&nbsp;<span class="num" id="8662400">2</span><span class="op" id="8662401">)</span><span class="op" id="8662402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662405"><a href="/image/draw/draw_test.go.html#8662361">b</a></span><span class="op" id="8662406">.</span><span class="ident" id="8662407">Set</span><span class="op" id="8662410">(</span><span class="num" id="8662411">0</span><span class="op" id="8662412">,</span>&nbsp;<span class="num" id="8662414">0</span><span class="op" id="8662415">,</span>&nbsp;<span class="ident" id="8662417"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8662422">.</span><span class="ident" id="8662423">RGBA</span><span class="op" id="8662427">{</span><span class="num" id="8662428">0</span><span class="op" id="8662429">,</span>&nbsp;<span class="num" id="8662431">0</span><span class="op" id="8662432">,</span>&nbsp;<span class="num" id="8662434">0</span><span class="op" id="8662435">,</span>&nbsp;<span class="num" id="8662437">5</span><span class="op" id="8662438">}</span><span class="op" id="8662439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662442"><a href="/image/draw/draw_test.go.html#8662361">b</a></span><span class="op" id="8662443">.</span><span class="ident" id="8662444">Set</span><span class="op" id="8662447">(</span><span class="num" id="8662448">1</span><span class="op" id="8662449">,</span>&nbsp;<span class="num" id="8662451">0</span><span class="op" id="8662452">,</span>&nbsp;<span class="ident" id="8662454"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8662459">.</span><span class="ident" id="8662460">RGBA</span><span class="op" id="8662464">{</span><span class="num" id="8662465">0</span><span class="op" id="8662466">,</span>&nbsp;<span class="num" id="8662468">0</span><span class="op" id="8662469">,</span>&nbsp;<span class="num" id="8662471">5</span><span class="op" id="8662472">,</span>&nbsp;<span class="num" id="8662474">5</span><span class="op" id="8662475">}</span><span class="op" id="8662476">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662479"><a href="/image/draw/draw_test.go.html#8662361">b</a></span><span class="op" id="8662480">.</span><span class="ident" id="8662481">Set</span><span class="op" id="8662484">(</span><span class="num" id="8662485">0</span><span class="op" id="8662486">,</span>&nbsp;<span class="num" id="8662488">1</span><span class="op" id="8662489">,</span>&nbsp;<span class="ident" id="8662491"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8662496">.</span><span class="ident" id="8662497">RGBA</span><span class="op" id="8662501">{</span><span class="num" id="8662502">0</span><span class="op" id="8662503">,</span>&nbsp;<span class="num" id="8662505">5</span><span class="op" id="8662506">,</span>&nbsp;<span class="num" id="8662508">0</span><span class="op" id="8662509">,</span>&nbsp;<span class="num" id="8662511">5</span><span class="op" id="8662512">}</span><span class="op" id="8662513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662516"><a href="/image/draw/draw_test.go.html#8662361">b</a></span><span class="op" id="8662517">.</span><span class="ident" id="8662518">Set</span><span class="op" id="8662521">(</span><span class="num" id="8662522">1</span><span class="op" id="8662523">,</span>&nbsp;<span class="num" id="8662525">1</span><span class="op" id="8662526">,</span>&nbsp;<span class="ident" id="8662528"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8662533">.</span><span class="ident" id="8662534">RGBA</span><span class="op" id="8662538">{</span><span class="num" id="8662539">5</span><span class="op" id="8662540">,</span>&nbsp;<span class="num" id="8662542">0</span><span class="op" id="8662543">,</span>&nbsp;<span class="num" id="8662545">0</span><span class="op" id="8662546">,</span>&nbsp;<span class="num" id="8662548">5</span><span class="op" id="8662549">}</span><span class="op" id="8662550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662553"><a href="/image/draw/draw.go.html#5997064">Draw</a></span><span class="op" id="8662557">(</span><span class="ident" id="8662558"><a href="/image/draw/draw_test.go.html#8662317">a</a></span><span class="op" id="8662559">,</span>&nbsp;<span class="ident" id="8662561"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662566">.</span><span class="ident" id="8662567">Rect</span><span class="op" id="8662571">(</span><span class="num" id="8662572">0</span><span class="op" id="8662573">,</span>&nbsp;<span class="num" id="8662575">0</span><span class="op" id="8662576">,</span>&nbsp;<span class="num" id="8662578">1</span><span class="op" id="8662579">,</span>&nbsp;<span class="num" id="8662581">1</span><span class="op" id="8662582">)</span><span class="op" id="8662583">,</span>&nbsp;<span class="ident" id="8662585"><a href="/image/draw/draw_test.go.html#8662361">b</a></span><span class="op" id="8662586">,</span>&nbsp;<span class="ident" id="8662588"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662593">.</span><span class="ident" id="8662594">Pt</span><span class="op" id="8662596">(</span><span class="num" id="8662597">1</span><span class="op" id="8662598">,</span>&nbsp;<span class="num" id="8662600">1</span><span class="op" id="8662601">)</span><span class="op" id="8662602">,</span>&nbsp;<span class="ident" id="8662604"><a href="/image/draw/draw.go.html#5995268">Over</a></span><span class="op" id="8662608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8662611">if</span>&nbsp;<span class="op" id="8662614">!</span><span class="ident" id="8662615"><a href="/image/draw/draw_test.go.html#8652694">eq</a></span><span class="op" id="8662617">(</span><span class="ident" id="8662618"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8662623">.</span><span class="ident" id="8662624">RGBA</span><span class="op" id="8662628">{</span><span class="num" id="8662629">5</span><span class="op" id="8662630">,</span>&nbsp;<span class="num" id="8662632">0</span><span class="op" id="8662633">,</span>&nbsp;<span class="num" id="8662635">0</span><span class="op" id="8662636">,</span>&nbsp;<span class="num" id="8662638">5</span><span class="op" id="8662639">}</span><span class="op" id="8662640">,</span>&nbsp;<span class="ident" id="8662642"><a href="/image/draw/draw_test.go.html#8662317">a</a></span><span class="op" id="8662643">.</span><span class="ident" id="8662644">At</span><span class="op" id="8662646">(</span><span class="num" id="8662647">0</span><span class="op" id="8662648">,</span>&nbsp;<span class="num" id="8662650">0</span><span class="op" id="8662651">)</span><span class="op" id="8662652">)</span>&nbsp;<span class="op" id="8662654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662658"><a href="/image/draw/draw_test.go.html#8662300">t</a></span><span class="op" id="8662659">.</span><span class="ident" id="8662660">Errorf</span><span class="op" id="8662666">(</span><span class="string" id="8662667">&#34;non-zero&nbsp;src&nbsp;pt:&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8662700">,</span>&nbsp;<span class="ident" id="8662702"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8662707">.</span><span class="ident" id="8662708">RGBA</span><span class="op" id="8662712">{</span><span class="num" id="8662713">5</span><span class="op" id="8662714">,</span>&nbsp;<span class="num" id="8662716">0</span><span class="op" id="8662717">,</span>&nbsp;<span class="num" id="8662719">0</span><span class="op" id="8662720">,</span>&nbsp;<span class="num" id="8662722">5</span><span class="op" id="8662723">}</span><span class="op" id="8662724">,</span>&nbsp;<span class="ident" id="8662726"><a href="/image/draw/draw_test.go.html#8662317">a</a></span><span class="op" id="8662727">.</span><span class="ident" id="8662728">At</span><span class="op" id="8662730">(</span><span class="num" id="8662731">0</span><span class="op" id="8662732">,</span>&nbsp;<span class="num" id="8662734">0</span><span class="op" id="8662735">)</span><span class="op" id="8662736">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8662739">}</span><br>
<span class="lineno"></span><span class="op" id="8662741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8662744">func</span>&nbsp;<span class="ident" id="8662749">TestFill</span><span class="op" id="8662757">(</span><span class="ident" id="8662758">t</span>&nbsp;<span class="op" id="8662760">*</span><span class="ident" id="8662761"><a href="/image/draw/draw_test.go.html#8652676">testing</a></span><span class="op" id="8662768">.</span><span class="ident" id="8662769">T</span><span class="op" id="8662770">)</span>&nbsp;<span class="op" id="8662772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662775">rr</span>&nbsp;<span class="op" id="8662778">:=</span>&nbsp;<span class="op" id="8662781">[</span><span class="op" id="8662782">]</span><span class="ident" id="8662783"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662788">.</span><span class="ident" id="8662789">Rectangle</span><span class="op" id="8662798">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662802"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662807">.</span><span class="ident" id="8662808">Rect</span><span class="op" id="8662812">(</span><span class="num" id="8662813">0</span><span class="op" id="8662814">,</span>&nbsp;<span class="num" id="8662816">0</span><span class="op" id="8662817">,</span>&nbsp;<span class="num" id="8662819">0</span><span class="op" id="8662820">,</span>&nbsp;<span class="num" id="8662822">0</span><span class="op" id="8662823">)</span><span class="op" id="8662824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662828"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662833">.</span><span class="ident" id="8662834">Rect</span><span class="op" id="8662838">(</span><span class="num" id="8662839">0</span><span class="op" id="8662840">,</span>&nbsp;<span class="num" id="8662842">0</span><span class="op" id="8662843">,</span>&nbsp;<span class="num" id="8662845">40</span><span class="op" id="8662847">,</span>&nbsp;<span class="num" id="8662849">30</span><span class="op" id="8662851">)</span><span class="op" id="8662852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662856"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662861">.</span><span class="ident" id="8662862">Rect</span><span class="op" id="8662866">(</span><span class="num" id="8662867">10</span><span class="op" id="8662869">,</span>&nbsp;<span class="num" id="8662871">0</span><span class="op" id="8662872">,</span>&nbsp;<span class="num" id="8662874">40</span><span class="op" id="8662876">,</span>&nbsp;<span class="num" id="8662878">30</span><span class="op" id="8662880">)</span><span class="op" id="8662881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662885"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662890">.</span><span class="ident" id="8662891">Rect</span><span class="op" id="8662895">(</span><span class="num" id="8662896">0</span><span class="op" id="8662897">,</span>&nbsp;<span class="num" id="8662899">20</span><span class="op" id="8662901">,</span>&nbsp;<span class="num" id="8662903">40</span><span class="op" id="8662905">,</span>&nbsp;<span class="num" id="8662907">30</span><span class="op" id="8662909">)</span><span class="op" id="8662910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662914"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662919">.</span><span class="ident" id="8662920">Rect</span><span class="op" id="8662924">(</span><span class="num" id="8662925">10</span><span class="op" id="8662927">,</span>&nbsp;<span class="num" id="8662929">20</span><span class="op" id="8662931">,</span>&nbsp;<span class="num" id="8662933">40</span><span class="op" id="8662935">,</span>&nbsp;<span class="num" id="8662937">30</span><span class="op" id="8662939">)</span><span class="op" id="8662940">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662944"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662949">.</span><span class="ident" id="8662950">Rect</span><span class="op" id="8662954">(</span><span class="num" id="8662955">10</span><span class="op" id="8662957">,</span>&nbsp;<span class="num" id="8662959">20</span><span class="op" id="8662961">,</span>&nbsp;<span class="num" id="8662963">15</span><span class="op" id="8662965">,</span>&nbsp;<span class="num" id="8662967">25</span><span class="op" id="8662969">)</span><span class="op" id="8662970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8662974"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8662979">.</span><span class="ident" id="8662980">Rect</span><span class="op" id="8662984">(</span><span class="num" id="8662985">10</span><span class="op" id="8662987">,</span>&nbsp;<span class="num" id="8662989">0</span><span class="op" id="8662990">,</span>&nbsp;<span class="num" id="8662992">35</span><span class="op" id="8662994">,</span>&nbsp;<span class="num" id="8662996">30</span><span class="op" id="8662998">)</span><span class="op" id="8662999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663003"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663008">.</span><span class="ident" id="8663009">Rect</span><span class="op" id="8663013">(</span><span class="num" id="8663014">0</span><span class="op" id="8663015">,</span>&nbsp;<span class="num" id="8663017">15</span><span class="op" id="8663019">,</span>&nbsp;<span class="num" id="8663021">40</span><span class="op" id="8663023">,</span>&nbsp;<span class="num" id="8663025">16</span><span class="op" id="8663027">)</span><span class="op" id="8663028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663032"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663037">.</span><span class="ident" id="8663038">Rect</span><span class="op" id="8663042">(</span><span class="num" id="8663043">24</span><span class="op" id="8663045">,</span>&nbsp;<span class="num" id="8663047">24</span><span class="op" id="8663049">,</span>&nbsp;<span class="num" id="8663051">25</span><span class="op" id="8663053">,</span>&nbsp;<span class="num" id="8663055">25</span><span class="op" id="8663057">)</span><span class="op" id="8663058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663062"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663067">.</span><span class="ident" id="8663068">Rect</span><span class="op" id="8663072">(</span><span class="num" id="8663073">23</span><span class="op" id="8663075">,</span>&nbsp;<span class="num" id="8663077">23</span><span class="op" id="8663079">,</span>&nbsp;<span class="num" id="8663081">26</span><span class="op" id="8663083">,</span>&nbsp;<span class="num" id="8663085">26</span><span class="op" id="8663087">)</span><span class="op" id="8663088">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663092"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663097">.</span><span class="ident" id="8663098">Rect</span><span class="op" id="8663102">(</span><span class="num" id="8663103">22</span><span class="op" id="8663105">,</span>&nbsp;<span class="num" id="8663107">22</span><span class="op" id="8663109">,</span>&nbsp;<span class="num" id="8663111">27</span><span class="op" id="8663113">,</span>&nbsp;<span class="num" id="8663115">27</span><span class="op" id="8663117">)</span><span class="op" id="8663118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663122"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663127">.</span><span class="ident" id="8663128">Rect</span><span class="op" id="8663132">(</span><span class="num" id="8663133">21</span><span class="op" id="8663135">,</span>&nbsp;<span class="num" id="8663137">21</span><span class="op" id="8663139">,</span>&nbsp;<span class="num" id="8663141">28</span><span class="op" id="8663143">,</span>&nbsp;<span class="num" id="8663145">28</span><span class="op" id="8663147">)</span><span class="op" id="8663148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663152"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663157">.</span><span class="ident" id="8663158">Rect</span><span class="op" id="8663162">(</span><span class="num" id="8663163">20</span><span class="op" id="8663165">,</span>&nbsp;<span class="num" id="8663167">20</span><span class="op" id="8663169">,</span>&nbsp;<span class="num" id="8663171">29</span><span class="op" id="8663173">,</span>&nbsp;<span class="num" id="8663175">29</span><span class="op" id="8663177">)</span><span class="op" id="8663178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663184">for</span>&nbsp;<span class="ident" id="8663188">_</span><span class="op" id="8663189">,</span>&nbsp;<span class="ident" id="8663191">r</span>&nbsp;<span class="op" id="8663193">:=</span>&nbsp;<span class="keyword" id="8663196">range</span>&nbsp;<span class="ident" id="8663202"><a href="/image/draw/draw_test.go.html#8662775">rr</a></span>&nbsp;<span class="op" id="8663205">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663209">m</span>&nbsp;<span class="op" id="8663211">:=</span>&nbsp;<span class="ident" id="8663214"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663219">.</span><span class="ident" id="8663220">NewRGBA</span><span class="op" id="8663227">(</span><span class="ident" id="8663228"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663233">.</span><span class="ident" id="8663234">Rect</span><span class="op" id="8663238">(</span><span class="num" id="8663239">0</span><span class="op" id="8663240">,</span>&nbsp;<span class="num" id="8663242">0</span><span class="op" id="8663243">,</span>&nbsp;<span class="num" id="8663245">40</span><span class="op" id="8663247">,</span>&nbsp;<span class="num" id="8663249">30</span><span class="op" id="8663251">)</span><span class="op" id="8663252">)</span><span class="op" id="8663253">.</span><span class="ident" id="8663254">SubImage</span><span class="op" id="8663262">(</span><span class="ident" id="8663263"><a href="/image/draw/draw_test.go.html#8663191">r</a></span><span class="op" id="8663264">)</span><span class="op" id="8663265">.</span><span class="op" id="8663266">(</span><span class="op" id="8663267">*</span><span class="ident" id="8663268"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663273">.</span><span class="ident" id="8663274">RGBA</span><span class="op" id="8663278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663282">b</span>&nbsp;<span class="op" id="8663284">:=</span>&nbsp;<span class="ident" id="8663287"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8663288">.</span><span class="ident" id="8663289">Bounds</span><span class="op" id="8663295">(</span><span class="op" id="8663296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663300">c</span>&nbsp;<span class="op" id="8663302">:=</span>&nbsp;<span class="ident" id="8663305"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8663310">.</span><span class="ident" id="8663311">RGBA</span><span class="op" id="8663315">{</span><span class="num" id="8663316">11</span><span class="op" id="8663318">,</span>&nbsp;<span class="num" id="8663320">0</span><span class="op" id="8663321">,</span>&nbsp;<span class="num" id="8663323">0</span><span class="op" id="8663324">,</span>&nbsp;<span class="num" id="8663326">255</span><span class="op" id="8663329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663333">src</span>&nbsp;<span class="op" id="8663337">:=</span>&nbsp;<span class="op" id="8663340">&amp;</span><span class="ident" id="8663341"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663346">.</span><span class="ident" id="8663347">Uniform</span><span class="op" id="8663354">{</span><span class="ident" id="8663355">C</span><span class="op" id="8663356">:</span>&nbsp;<span class="ident" id="8663358"><a href="/image/draw/draw_test.go.html#8663300">c</a></span><span class="op" id="8663359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663363">check</span>&nbsp;<span class="op" id="8663369">:=</span>&nbsp;<span class="keyword" id="8663372">func</span><span class="op" id="8663376">(</span><span class="ident" id="8663377">desc</span>&nbsp;<span class="builtintype" id="8663382">string</span><span class="op" id="8663388">)</span>&nbsp;<span class="op" id="8663390">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663395">for</span>&nbsp;<span class="ident" id="8663399">y</span>&nbsp;<span class="op" id="8663401">:=</span>&nbsp;<span class="ident" id="8663404"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663405">.</span><span class="ident" id="8663406">Min</span><span class="op" id="8663409">.</span><span class="ident" id="8663410">Y</span><span class="op" id="8663411">;</span>&nbsp;<span class="ident" id="8663413"><a href="/image/draw/draw_test.go.html#8663399">y</a></span>&nbsp;<span class="op" id="8663415">&lt;</span>&nbsp;<span class="ident" id="8663417"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663418">.</span><span class="ident" id="8663419">Max</span><span class="op" id="8663422">.</span><span class="ident" id="8663423">Y</span><span class="op" id="8663424">;</span>&nbsp;<span class="ident" id="8663426"><a href="/image/draw/draw_test.go.html#8663399">y</a></span><span class="op" id="8663427">++</span>&nbsp;<span class="op" id="8663430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663436">for</span>&nbsp;<span class="ident" id="8663440">x</span>&nbsp;<span class="op" id="8663442">:=</span>&nbsp;<span class="ident" id="8663445"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663446">.</span><span class="ident" id="8663447">Min</span><span class="op" id="8663450">.</span><span class="ident" id="8663451">X</span><span class="op" id="8663452">;</span>&nbsp;<span class="ident" id="8663454"><a href="/image/draw/draw_test.go.html#8663440">x</a></span>&nbsp;<span class="op" id="8663456">&lt;</span>&nbsp;<span class="ident" id="8663458"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663459">.</span><span class="ident" id="8663460">Max</span><span class="op" id="8663463">.</span><span class="ident" id="8663464">X</span><span class="op" id="8663465">;</span>&nbsp;<span class="ident" id="8663467"><a href="/image/draw/draw_test.go.html#8663440">x</a></span><span class="op" id="8663468">++</span>&nbsp;<span class="op" id="8663471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663478">if</span>&nbsp;<span class="op" id="8663481">!</span><span class="ident" id="8663482"><a href="/image/draw/draw_test.go.html#8652694">eq</a></span><span class="op" id="8663484">(</span><span class="ident" id="8663485"><a href="/image/draw/draw_test.go.html#8663300">c</a></span><span class="op" id="8663486">,</span>&nbsp;<span class="ident" id="8663488"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8663489">.</span><span class="ident" id="8663490">At</span><span class="op" id="8663492">(</span><span class="ident" id="8663493"><a href="/image/draw/draw_test.go.html#8663440">x</a></span><span class="op" id="8663494">,</span>&nbsp;<span class="ident" id="8663496"><a href="/image/draw/draw_test.go.html#8663399">y</a></span><span class="op" id="8663497">)</span><span class="op" id="8663498">)</span>&nbsp;<span class="op" id="8663500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663508"><a href="/image/draw/draw_test.go.html#8662758">t</a></span><span class="op" id="8663509">.</span><span class="ident" id="8663510">Errorf</span><span class="op" id="8663516">(</span><span class="string" id="8663517">&#34;%s&nbsp;fill:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;sub-image&nbsp;bounds=%v:&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8663576">,</span>&nbsp;<span class="ident" id="8663578"><a href="/image/draw/draw_test.go.html#8663377">desc</a></span><span class="op" id="8663582">,</span>&nbsp;<span class="ident" id="8663584"><a href="/image/draw/draw_test.go.html#8663440">x</a></span><span class="op" id="8663585">,</span>&nbsp;<span class="ident" id="8663587"><a href="/image/draw/draw_test.go.html#8663399">y</a></span><span class="op" id="8663588">,</span>&nbsp;<span class="ident" id="8663590"><a href="/image/draw/draw_test.go.html#8663191">r</a></span><span class="op" id="8663591">,</span>&nbsp;<span class="ident" id="8663593"><a href="/image/draw/draw_test.go.html#8663300">c</a></span><span class="op" id="8663594">,</span>&nbsp;<span class="ident" id="8663596"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8663597">.</span><span class="ident" id="8663598">At</span><span class="op" id="8663600">(</span><span class="ident" id="8663601"><a href="/image/draw/draw_test.go.html#8663440">x</a></span><span class="op" id="8663602">,</span>&nbsp;<span class="ident" id="8663604"><a href="/image/draw/draw_test.go.html#8663399">y</a></span><span class="op" id="8663605">)</span><span class="op" id="8663606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663614">return</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8663645">//&nbsp;Draw&nbsp;1&nbsp;pixel&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663674">for</span>&nbsp;<span class="ident" id="8663678">y</span>&nbsp;<span class="op" id="8663680">:=</span>&nbsp;<span class="ident" id="8663683"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663684">.</span><span class="ident" id="8663685">Min</span><span class="op" id="8663688">.</span><span class="ident" id="8663689">Y</span><span class="op" id="8663690">;</span>&nbsp;<span class="ident" id="8663692"><a href="/image/draw/draw_test.go.html#8663678">y</a></span>&nbsp;<span class="op" id="8663694">&lt;</span>&nbsp;<span class="ident" id="8663696"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663697">.</span><span class="ident" id="8663698">Max</span><span class="op" id="8663701">.</span><span class="ident" id="8663702">Y</span><span class="op" id="8663703">;</span>&nbsp;<span class="ident" id="8663705"><a href="/image/draw/draw_test.go.html#8663678">y</a></span><span class="op" id="8663706">++</span>&nbsp;<span class="op" id="8663709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663714">for</span>&nbsp;<span class="ident" id="8663718">x</span>&nbsp;<span class="op" id="8663720">:=</span>&nbsp;<span class="ident" id="8663723"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663724">.</span><span class="ident" id="8663725">Min</span><span class="op" id="8663728">.</span><span class="ident" id="8663729">X</span><span class="op" id="8663730">;</span>&nbsp;<span class="ident" id="8663732"><a href="/image/draw/draw_test.go.html#8663718">x</a></span>&nbsp;<span class="op" id="8663734">&lt;</span>&nbsp;<span class="ident" id="8663736"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663737">.</span><span class="ident" id="8663738">Max</span><span class="op" id="8663741">.</span><span class="ident" id="8663742">X</span><span class="op" id="8663743">;</span>&nbsp;<span class="ident" id="8663745"><a href="/image/draw/draw_test.go.html#8663718">x</a></span><span class="op" id="8663746">++</span>&nbsp;<span class="op" id="8663749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663755"><a href="/image/draw/draw.go.html#5997385">DrawMask</a></span><span class="op" id="8663763">(</span><span class="ident" id="8663764"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8663765">,</span>&nbsp;<span class="ident" id="8663767"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663772">.</span><span class="ident" id="8663773">Rect</span><span class="op" id="8663777">(</span><span class="ident" id="8663778"><a href="/image/draw/draw_test.go.html#8663718">x</a></span><span class="op" id="8663779">,</span>&nbsp;<span class="ident" id="8663781"><a href="/image/draw/draw_test.go.html#8663678">y</a></span><span class="op" id="8663782">,</span>&nbsp;<span class="ident" id="8663784"><a href="/image/draw/draw_test.go.html#8663718">x</a></span><span class="op" id="8663785">+</span><span class="num" id="8663786">1</span><span class="op" id="8663787">,</span>&nbsp;<span class="ident" id="8663789"><a href="/image/draw/draw_test.go.html#8663678">y</a></span><span class="op" id="8663790">+</span><span class="num" id="8663791">1</span><span class="op" id="8663792">)</span><span class="op" id="8663793">,</span>&nbsp;<span class="ident" id="8663795"><a href="/image/draw/draw_test.go.html#8663333">src</a></span><span class="op" id="8663798">,</span>&nbsp;<span class="ident" id="8663800"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663805">.</span><span class="ident" id="8663806">ZP</span><span class="op" id="8663808">,</span>&nbsp;<span class="ident" id="8663810">nil</span><span class="op" id="8663813">,</span>&nbsp;<span class="ident" id="8663815"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663820">.</span><span class="ident" id="8663821">ZP</span><span class="op" id="8663823">,</span>&nbsp;<span class="ident" id="8663825"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8663828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8663837">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663841"><a href="/image/draw/draw_test.go.html#8663363">check</a></span><span class="op" id="8663846">(</span><span class="string" id="8663847">&#34;pixel&#34;</span><span class="op" id="8663854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8663858">//&nbsp;Draw&nbsp;1&nbsp;row&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663885"><a href="/image/draw/draw_test.go.html#8663300">c</a></span>&nbsp;<span class="op" id="8663887">=</span>&nbsp;<span class="ident" id="8663889"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8663894">.</span><span class="ident" id="8663895">RGBA</span><span class="op" id="8663899">{</span><span class="num" id="8663900">0</span><span class="op" id="8663901">,</span>&nbsp;<span class="num" id="8663903">22</span><span class="op" id="8663905">,</span>&nbsp;<span class="num" id="8663907">0</span><span class="op" id="8663908">,</span>&nbsp;<span class="num" id="8663910">255</span><span class="op" id="8663913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663917"><a href="/image/draw/draw_test.go.html#8663333">src</a></span>&nbsp;<span class="op" id="8663921">=</span>&nbsp;<span class="op" id="8663923">&amp;</span><span class="ident" id="8663924"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8663929">.</span><span class="ident" id="8663930">Uniform</span><span class="op" id="8663937">{</span><span class="ident" id="8663938">C</span><span class="op" id="8663939">:</span>&nbsp;<span class="ident" id="8663941"><a href="/image/draw/draw_test.go.html#8663300">c</a></span><span class="op" id="8663942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8663946">for</span>&nbsp;<span class="ident" id="8663950">y</span>&nbsp;<span class="op" id="8663952">:=</span>&nbsp;<span class="ident" id="8663955"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663956">.</span><span class="ident" id="8663957">Min</span><span class="op" id="8663960">.</span><span class="ident" id="8663961">Y</span><span class="op" id="8663962">;</span>&nbsp;<span class="ident" id="8663964"><a href="/image/draw/draw_test.go.html#8663950">y</a></span>&nbsp;<span class="op" id="8663966">&lt;</span>&nbsp;<span class="ident" id="8663968"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8663969">.</span><span class="ident" id="8663970">Max</span><span class="op" id="8663973">.</span><span class="ident" id="8663974">Y</span><span class="op" id="8663975">;</span>&nbsp;<span class="ident" id="8663977"><a href="/image/draw/draw_test.go.html#8663950">y</a></span><span class="op" id="8663978">++</span>&nbsp;<span class="op" id="8663981">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8663986"><a href="/image/draw/draw.go.html#5997385">DrawMask</a></span><span class="op" id="8663994">(</span><span class="ident" id="8663995"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8663996">,</span>&nbsp;<span class="ident" id="8663998"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664003">.</span><span class="ident" id="8664004">Rect</span><span class="op" id="8664008">(</span><span class="ident" id="8664009"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664010">.</span><span class="ident" id="8664011">Min</span><span class="op" id="8664014">.</span><span class="ident" id="8664015">X</span><span class="op" id="8664016">,</span>&nbsp;<span class="ident" id="8664018"><a href="/image/draw/draw_test.go.html#8663950">y</a></span><span class="op" id="8664019">,</span>&nbsp;<span class="ident" id="8664021"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664022">.</span><span class="ident" id="8664023">Max</span><span class="op" id="8664026">.</span><span class="ident" id="8664027">X</span><span class="op" id="8664028">,</span>&nbsp;<span class="ident" id="8664030"><a href="/image/draw/draw_test.go.html#8663950">y</a></span><span class="op" id="8664031">+</span><span class="num" id="8664032">1</span><span class="op" id="8664033">)</span><span class="op" id="8664034">,</span>&nbsp;<span class="ident" id="8664036"><a href="/image/draw/draw_test.go.html#8663333">src</a></span><span class="op" id="8664039">,</span>&nbsp;<span class="ident" id="8664041"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664046">.</span><span class="ident" id="8664047">ZP</span><span class="op" id="8664049">,</span>&nbsp;<span class="ident" id="8664051">nil</span><span class="op" id="8664054">,</span>&nbsp;<span class="ident" id="8664056"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664061">.</span><span class="ident" id="8664062">ZP</span><span class="op" id="8664064">,</span>&nbsp;<span class="ident" id="8664066"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8664069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664077"><a href="/image/draw/draw_test.go.html#8663363">check</a></span><span class="op" id="8664082">(</span><span class="string" id="8664083">&#34;row&#34;</span><span class="op" id="8664088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8664092">//&nbsp;Draw&nbsp;1&nbsp;column&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664122"><a href="/image/draw/draw_test.go.html#8663300">c</a></span>&nbsp;<span class="op" id="8664124">=</span>&nbsp;<span class="ident" id="8664126"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8664131">.</span><span class="ident" id="8664132">RGBA</span><span class="op" id="8664136">{</span><span class="num" id="8664137">0</span><span class="op" id="8664138">,</span>&nbsp;<span class="num" id="8664140">0</span><span class="op" id="8664141">,</span>&nbsp;<span class="num" id="8664143">33</span><span class="op" id="8664145">,</span>&nbsp;<span class="num" id="8664147">255</span><span class="op" id="8664150">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664154"><a href="/image/draw/draw_test.go.html#8663333">src</a></span>&nbsp;<span class="op" id="8664158">=</span>&nbsp;<span class="op" id="8664160">&amp;</span><span class="ident" id="8664161"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664166">.</span><span class="ident" id="8664167">Uniform</span><span class="op" id="8664174">{</span><span class="ident" id="8664175">C</span><span class="op" id="8664176">:</span>&nbsp;<span class="ident" id="8664178"><a href="/image/draw/draw_test.go.html#8663300">c</a></span><span class="op" id="8664179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8664183">for</span>&nbsp;<span class="ident" id="8664187">x</span>&nbsp;<span class="op" id="8664189">:=</span>&nbsp;<span class="ident" id="8664192"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664193">.</span><span class="ident" id="8664194">Min</span><span class="op" id="8664197">.</span><span class="ident" id="8664198">X</span><span class="op" id="8664199">;</span>&nbsp;<span class="ident" id="8664201"><a href="/image/draw/draw_test.go.html#8664187">x</a></span>&nbsp;<span class="op" id="8664203">&lt;</span>&nbsp;<span class="ident" id="8664205"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664206">.</span><span class="ident" id="8664207">Max</span><span class="op" id="8664210">.</span><span class="ident" id="8664211">X</span><span class="op" id="8664212">;</span>&nbsp;<span class="ident" id="8664214"><a href="/image/draw/draw_test.go.html#8664187">x</a></span><span class="op" id="8664215">++</span>&nbsp;<span class="op" id="8664218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664223"><a href="/image/draw/draw.go.html#5997385">DrawMask</a></span><span class="op" id="8664231">(</span><span class="ident" id="8664232"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8664233">,</span>&nbsp;<span class="ident" id="8664235"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664240">.</span><span class="ident" id="8664241">Rect</span><span class="op" id="8664245">(</span><span class="ident" id="8664246"><a href="/image/draw/draw_test.go.html#8664187">x</a></span><span class="op" id="8664247">,</span>&nbsp;<span class="ident" id="8664249"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664250">.</span><span class="ident" id="8664251">Min</span><span class="op" id="8664254">.</span><span class="ident" id="8664255">Y</span><span class="op" id="8664256">,</span>&nbsp;<span class="ident" id="8664258"><a href="/image/draw/draw_test.go.html#8664187">x</a></span><span class="op" id="8664259">+</span><span class="num" id="8664260">1</span><span class="op" id="8664261">,</span>&nbsp;<span class="ident" id="8664263"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664264">.</span><span class="ident" id="8664265">Max</span><span class="op" id="8664268">.</span><span class="ident" id="8664269">Y</span><span class="op" id="8664270">)</span><span class="op" id="8664271">,</span>&nbsp;<span class="ident" id="8664273"><a href="/image/draw/draw_test.go.html#8663333">src</a></span><span class="op" id="8664276">,</span>&nbsp;<span class="ident" id="8664278"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664283">.</span><span class="ident" id="8664284">ZP</span><span class="op" id="8664286">,</span>&nbsp;<span class="ident" id="8664288">nil</span><span class="op" id="8664291">,</span>&nbsp;<span class="ident" id="8664293"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664298">.</span><span class="ident" id="8664299">ZP</span><span class="op" id="8664301">,</span>&nbsp;<span class="ident" id="8664303"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8664306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664314"><a href="/image/draw/draw_test.go.html#8663363">check</a></span><span class="op" id="8664319">(</span><span class="string" id="8664320">&#34;column&#34;</span><span class="op" id="8664328">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8664332">//&nbsp;Draw&nbsp;the&nbsp;whole&nbsp;image&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664367"><a href="/image/draw/draw_test.go.html#8663300">c</a></span>&nbsp;<span class="op" id="8664369">=</span>&nbsp;<span class="ident" id="8664371"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8664376">.</span><span class="ident" id="8664377">RGBA</span><span class="op" id="8664381">{</span><span class="num" id="8664382">44</span><span class="op" id="8664384">,</span>&nbsp;<span class="num" id="8664386">55</span><span class="op" id="8664388">,</span>&nbsp;<span class="num" id="8664390">66</span><span class="op" id="8664392">,</span>&nbsp;<span class="num" id="8664394">77</span><span class="op" id="8664396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664400"><a href="/image/draw/draw_test.go.html#8663333">src</a></span>&nbsp;<span class="op" id="8664404">=</span>&nbsp;<span class="op" id="8664406">&amp;</span><span class="ident" id="8664407"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664412">.</span><span class="ident" id="8664413">Uniform</span><span class="op" id="8664420">{</span><span class="ident" id="8664421">C</span><span class="op" id="8664422">:</span>&nbsp;<span class="ident" id="8664424"><a href="/image/draw/draw_test.go.html#8663300">c</a></span><span class="op" id="8664425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664429"><a href="/image/draw/draw.go.html#5997385">DrawMask</a></span><span class="op" id="8664437">(</span><span class="ident" id="8664438"><a href="/image/draw/draw_test.go.html#8663209">m</a></span><span class="op" id="8664439">,</span>&nbsp;<span class="ident" id="8664441"><a href="/image/draw/draw_test.go.html#8663282">b</a></span><span class="op" id="8664442">,</span>&nbsp;<span class="ident" id="8664444"><a href="/image/draw/draw_test.go.html#8663333">src</a></span><span class="op" id="8664447">,</span>&nbsp;<span class="ident" id="8664449"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664454">.</span><span class="ident" id="8664455">ZP</span><span class="op" id="8664457">,</span>&nbsp;<span class="ident" id="8664459">nil</span><span class="op" id="8664462">,</span>&nbsp;<span class="ident" id="8664464"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664469">.</span><span class="ident" id="8664470">ZP</span><span class="op" id="8664472">,</span>&nbsp;<span class="ident" id="8664474"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8664477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664481"><a href="/image/draw/draw_test.go.html#8663363">check</a></span><span class="op" id="8664486">(</span><span class="string" id="8664487">&#34;whole&#34;</span><span class="op" id="8664494">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8664497">}</span><br>
<span class="lineno"></span><span class="op" id="8664499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8664502">//&nbsp;TestFloydSteinbergCheckerboard&nbsp;tests&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;Floyd-Steinberg</span><br>
<span class="lineno"></span><span class="comment" id="8664577">//&nbsp;error&nbsp;diffusion&nbsp;of&nbsp;a&nbsp;uniform&nbsp;50%&nbsp;gray&nbsp;source&nbsp;image&nbsp;with&nbsp;a&nbsp;black-and-white</span><br>
<span class="lineno">360</span><span class="comment" id="8664654">//&nbsp;palette&nbsp;is&nbsp;a&nbsp;checkerboard&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="8664692">func</span>&nbsp;<span class="ident" id="8664697">TestFloydSteinbergCheckerboard</span><span class="op" id="8664727">(</span><span class="ident" id="8664728">t</span>&nbsp;<span class="op" id="8664730">*</span><span class="ident" id="8664731"><a href="/image/draw/draw_test.go.html#8652676">testing</a></span><span class="op" id="8664738">.</span><span class="ident" id="8664739">T</span><span class="op" id="8664740">)</span>&nbsp;<span class="op" id="8664742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664745">b</span>&nbsp;<span class="op" id="8664747">:=</span>&nbsp;<span class="ident" id="8664750"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664755">.</span><span class="ident" id="8664756">Rect</span><span class="op" id="8664760">(</span><span class="num" id="8664761">0</span><span class="op" id="8664762">,</span>&nbsp;<span class="num" id="8664764">0</span><span class="op" id="8664765">,</span>&nbsp;<span class="num" id="8664767">640</span><span class="op" id="8664770">,</span>&nbsp;<span class="num" id="8664772">480</span><span class="op" id="8664775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8664778">//&nbsp;We&nbsp;can&#39;t&nbsp;represent&nbsp;50%&nbsp;exactly,&nbsp;but&nbsp;0x7fff&nbsp;/&nbsp;0xffff&nbsp;is&nbsp;close&nbsp;enough.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664851">src</span>&nbsp;<span class="op" id="8664855">:=</span>&nbsp;<span class="op" id="8664858">&amp;</span><span class="ident" id="8664859"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664864">.</span><span class="ident" id="8664865">Uniform</span><span class="op" id="8664872">{</span><span class="ident" id="8664873"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8664878">.</span><span class="ident" id="8664879">Gray16</span><span class="op" id="8664885">{</span><span class="num" id="8664886">0x7fff</span><span class="op" id="8664892">}</span><span class="op" id="8664893">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664896">dst</span>&nbsp;<span class="op" id="8664900">:=</span>&nbsp;<span class="ident" id="8664903"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8664908">.</span><span class="ident" id="8664909">NewPaletted</span><span class="op" id="8664920">(</span><span class="ident" id="8664921"><a href="/image/draw/draw_test.go.html#8664745">b</a></span><span class="op" id="8664922">,</span>&nbsp;<span class="ident" id="8664924"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8664929">.</span><span class="ident" id="8664930">Palette</span><span class="op" id="8664937">{</span><span class="ident" id="8664938"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8664943">.</span><span class="ident" id="8664944">Black</span><span class="op" id="8664949">,</span>&nbsp;<span class="ident" id="8664951"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8664956">.</span><span class="ident" id="8664957">White</span><span class="op" id="8664962">}</span><span class="op" id="8664963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8664966"><a href="/image/draw/draw.go.html#5995903">FloydSteinberg</a></span><span class="op" id="8664980">.</span><span class="ident" id="8664981">Draw</span><span class="op" id="8664985">(</span><span class="ident" id="8664986"><a href="/image/draw/draw_test.go.html#8664896">dst</a></span><span class="op" id="8664989">,</span>&nbsp;<span class="ident" id="8664991"><a href="/image/draw/draw_test.go.html#8664745">b</a></span><span class="op" id="8664992">,</span>&nbsp;<span class="ident" id="8664994"><a href="/image/draw/draw_test.go.html#8664851">src</a></span><span class="op" id="8664997">,</span>&nbsp;<span class="ident" id="8664999"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8665004">.</span><span class="ident" id="8665005">Point</span><span class="op" id="8665010">{</span><span class="op" id="8665011">}</span><span class="op" id="8665012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665015">nErr</span>&nbsp;<span class="op" id="8665020">:=</span>&nbsp;<span class="num" id="8665023">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665026">for</span>&nbsp;<span class="ident" id="8665030">y</span>&nbsp;<span class="op" id="8665032">:=</span>&nbsp;<span class="ident" id="8665035"><a href="/image/draw/draw_test.go.html#8664745">b</a></span><span class="op" id="8665036">.</span><span class="ident" id="8665037">Min</span><span class="op" id="8665040">.</span><span class="ident" id="8665041">Y</span><span class="op" id="8665042">;</span>&nbsp;<span class="ident" id="8665044"><a href="/image/draw/draw_test.go.html#8665030">y</a></span>&nbsp;<span class="op" id="8665046">&lt;</span>&nbsp;<span class="ident" id="8665048"><a href="/image/draw/draw_test.go.html#8664745">b</a></span><span class="op" id="8665049">.</span><span class="ident" id="8665050">Max</span><span class="op" id="8665053">.</span><span class="ident" id="8665054">Y</span><span class="op" id="8665055">;</span>&nbsp;<span class="ident" id="8665057"><a href="/image/draw/draw_test.go.html#8665030">y</a></span><span class="op" id="8665058">++</span>&nbsp;<span class="op" id="8665061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665065">for</span>&nbsp;<span class="ident" id="8665069">x</span>&nbsp;<span class="op" id="8665071">:=</span>&nbsp;<span class="ident" id="8665074"><a href="/image/draw/draw_test.go.html#8664745">b</a></span><span class="op" id="8665075">.</span><span class="ident" id="8665076">Min</span><span class="op" id="8665079">.</span><span class="ident" id="8665080">X</span><span class="op" id="8665081">;</span>&nbsp;<span class="ident" id="8665083"><a href="/image/draw/draw_test.go.html#8665069">x</a></span>&nbsp;<span class="op" id="8665085">&lt;</span>&nbsp;<span class="ident" id="8665087"><a href="/image/draw/draw_test.go.html#8664745">b</a></span><span class="op" id="8665088">.</span><span class="ident" id="8665089">Max</span><span class="op" id="8665092">.</span><span class="ident" id="8665093">X</span><span class="op" id="8665094">;</span>&nbsp;<span class="ident" id="8665096"><a href="/image/draw/draw_test.go.html#8665069">x</a></span><span class="op" id="8665097">++</span>&nbsp;<span class="op" id="8665100">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665105">got</span>&nbsp;<span class="op" id="8665109">:=</span>&nbsp;<span class="ident" id="8665112"><a href="/image/draw/draw_test.go.html#8664896">dst</a></span><span class="op" id="8665115">.</span><span class="ident" id="8665116">Pix</span><span class="op" id="8665119">[</span><span class="ident" id="8665120"><a href="/image/draw/draw_test.go.html#8664896">dst</a></span><span class="op" id="8665123">.</span><span class="ident" id="8665124">PixOffset</span><span class="op" id="8665133">(</span><span class="ident" id="8665134"><a href="/image/draw/draw_test.go.html#8665069">x</a></span><span class="op" id="8665135">,</span>&nbsp;<span class="ident" id="8665137"><a href="/image/draw/draw_test.go.html#8665030">y</a></span><span class="op" id="8665138">)</span><span class="op" id="8665139">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665144">want</span>&nbsp;<span class="op" id="8665149">:=</span>&nbsp;<span class="builtintype" id="8665152">uint8</span><span class="op" id="8665157">(</span><span class="ident" id="8665158"><a href="/image/draw/draw_test.go.html#8665069">x</a></span><span class="op" id="8665159">+</span><span class="ident" id="8665160"><a href="/image/draw/draw_test.go.html#8665030">y</a></span><span class="op" id="8665161">)</span>&nbsp;<span class="op" id="8665163">%</span>&nbsp;<span class="num" id="8665165">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665170">if</span>&nbsp;<span class="ident" id="8665173"><a href="/image/draw/draw_test.go.html#8665105">got</a></span>&nbsp;<span class="op" id="8665177">!=</span>&nbsp;<span class="ident" id="8665180"><a href="/image/draw/draw_test.go.html#8665144">want</a></span>&nbsp;<span class="op" id="8665185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665191"><a href="/image/draw/draw_test.go.html#8664728">t</a></span><span class="op" id="8665192">.</span><span class="ident" id="8665193">Errorf</span><span class="op" id="8665199">(</span><span class="string" id="8665200">&#34;at&nbsp;(%d,&nbsp;%d):&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8665230">,</span>&nbsp;<span class="ident" id="8665232"><a href="/image/draw/draw_test.go.html#8665069">x</a></span><span class="op" id="8665233">,</span>&nbsp;<span class="ident" id="8665235"><a href="/image/draw/draw_test.go.html#8665030">y</a></span><span class="op" id="8665236">,</span>&nbsp;<span class="ident" id="8665238"><a href="/image/draw/draw_test.go.html#8665105">got</a></span><span class="op" id="8665241">,</span>&nbsp;<span class="ident" id="8665243"><a href="/image/draw/draw_test.go.html#8665144">want</a></span><span class="op" id="8665247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665253">if</span>&nbsp;<span class="ident" id="8665256"><a href="/image/draw/draw_test.go.html#8665015">nErr</a></span><span class="op" id="8665260">++</span><span class="op" id="8665262">;</span>&nbsp;<span class="ident" id="8665264"><a href="/image/draw/draw_test.go.html#8665015">nErr</a></span>&nbsp;<span class="op" id="8665269">==</span>&nbsp;<span class="num" id="8665272">10</span>&nbsp;<span class="op" id="8665275">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665282"><a href="/image/draw/draw_test.go.html#8664728">t</a></span><span class="op" id="8665283">.</span><span class="ident" id="8665284">Fatal</span><span class="op" id="8665289">(</span><span class="string" id="8665290">&#34;there&nbsp;may&nbsp;be&nbsp;more&nbsp;errors&#34;</span><span class="op" id="8665316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665334">}</span><br>
<span class="lineno">380</span><span class="op" id="8665336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8665339">//&nbsp;embeddedPaletted&nbsp;is&nbsp;an&nbsp;Image&nbsp;that&nbsp;behaves&nbsp;like&nbsp;an&nbsp;*image.Paletted&nbsp;but&nbsp;whose</span><br>
<span class="lineno"></span><span class="comment" id="8665418">//&nbsp;type&nbsp;is&nbsp;not&nbsp;*image.Paletted.</span><br>
<span class="lineno"></span><span class="keyword" id="8665450">type</span>&nbsp;<span class="ident" id="8665455">embeddedPaletted</span>&nbsp;<span class="keyword" id="8665472">struct</span>&nbsp;<span class="op" id="8665479">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665482">*</span><span class="ident" id="8665483"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8665488">.</span><span class="ident" id="8665489">Paletted</span><br>
<span class="lineno"></span><span class="op" id="8665498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8665501">//&nbsp;TestPaletted&nbsp;tests&nbsp;that&nbsp;the&nbsp;drawPaletted&nbsp;function&nbsp;behaves&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="8665571">//&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;dst&nbsp;is&nbsp;an&nbsp;*image.Paletted.</span><br>
<span class="lineno">390</span><span class="keyword" id="8665623">func</span>&nbsp;<span class="ident" id="8665628">TestPaletted</span><span class="op" id="8665640">(</span><span class="ident" id="8665641">t</span>&nbsp;<span class="op" id="8665643">*</span><span class="ident" id="8665644"><a href="/image/draw/draw_test.go.html#8652676">testing</a></span><span class="op" id="8665651">.</span><span class="ident" id="8665652">T</span><span class="op" id="8665653">)</span>&nbsp;<span class="op" id="8665655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665658">f</span><span class="op" id="8665659">,</span>&nbsp;<span class="ident" id="8665661">err</span>&nbsp;<span class="op" id="8665665">:=</span>&nbsp;<span class="ident" id="8665668"><a href="/image/draw/draw_test.go.html#8652670">os</a></span><span class="op" id="8665670">.</span><span class="ident" id="8665671">Open</span><span class="op" id="8665675">(</span><span class="string" id="8665676">&#34;../testdata/video-001.png&#34;</span><span class="op" id="8665703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665706">if</span>&nbsp;<span class="ident" id="8665709"><a href="/image/draw/draw_test.go.html#8665661">err</a></span>&nbsp;<span class="op" id="8665713">!=</span>&nbsp;<span class="ident" id="8665716">nil</span>&nbsp;<span class="op" id="8665720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665724"><a href="/image/draw/draw_test.go.html#8665641">t</a></span><span class="op" id="8665725">.</span><span class="ident" id="8665726">Fatalf</span><span class="op" id="8665732">(</span><span class="string" id="8665733">&#34;open:&nbsp;%v&#34;</span><span class="op" id="8665743">,</span>&nbsp;<span class="ident" id="8665745"><a href="/image/draw/draw_test.go.html#8665661">err</a></span><span class="op" id="8665748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665751">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665754">defer</span>&nbsp;<span class="ident" id="8665760"><a href="/image/draw/draw_test.go.html#8665658">f</a></span><span class="op" id="8665761">.</span><span class="ident" id="8665762">Close</span><span class="op" id="8665767">(</span><span class="op" id="8665768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665771">src</span><span class="op" id="8665774">,</span>&nbsp;<span class="ident" id="8665776"><a href="/image/draw/draw_test.go.html#8665661">err</a></span>&nbsp;<span class="op" id="8665780">:=</span>&nbsp;<span class="ident" id="8665783"><a href="/image/draw/draw_test.go.html#8652657">png</a></span><span class="op" id="8665786">.</span><span class="ident" id="8665787">Decode</span><span class="op" id="8665793">(</span><span class="ident" id="8665794"><a href="/image/draw/draw_test.go.html#8665658">f</a></span><span class="op" id="8665795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8665798">if</span>&nbsp;<span class="ident" id="8665801"><a href="/image/draw/draw_test.go.html#8665661">err</a></span>&nbsp;<span class="op" id="8665805">!=</span>&nbsp;<span class="ident" id="8665808">nil</span>&nbsp;<span class="op" id="8665812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665816"><a href="/image/draw/draw_test.go.html#8665641">t</a></span><span class="op" id="8665817">.</span><span class="ident" id="8665818">Fatalf</span><span class="op" id="8665824">(</span><span class="string" id="8665825">&#34;decode:&nbsp;%v&#34;</span><span class="op" id="8665837">,</span>&nbsp;<span class="ident" id="8665839"><a href="/image/draw/draw_test.go.html#8665661">err</a></span><span class="op" id="8665842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8665845">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665848">b</span>&nbsp;<span class="op" id="8665850">:=</span>&nbsp;<span class="ident" id="8665853"><a href="/image/draw/draw_test.go.html#8665771">src</a></span><span class="op" id="8665856">.</span><span class="ident" id="8665857">Bounds</span><span class="op" id="8665863">(</span><span class="op" id="8665864">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665868">cgaPalette</span>&nbsp;<span class="op" id="8665879">:=</span>&nbsp;<span class="ident" id="8665882"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8665887">.</span><span class="ident" id="8665888">Palette</span><span class="op" id="8665895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665899"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8665904">.</span><span class="ident" id="8665905">RGBA</span><span class="op" id="8665909">{</span><span class="num" id="8665910">0x00</span><span class="op" id="8665914">,</span>&nbsp;<span class="num" id="8665916">0x00</span><span class="op" id="8665920">,</span>&nbsp;<span class="num" id="8665922">0x00</span><span class="op" id="8665926">,</span>&nbsp;<span class="num" id="8665928">0xff</span><span class="op" id="8665932">}</span><span class="op" id="8665933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665937"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8665942">.</span><span class="ident" id="8665943">RGBA</span><span class="op" id="8665947">{</span><span class="num" id="8665948">0x55</span><span class="op" id="8665952">,</span>&nbsp;<span class="num" id="8665954">0xff</span><span class="op" id="8665958">,</span>&nbsp;<span class="num" id="8665960">0xff</span><span class="op" id="8665964">,</span>&nbsp;<span class="num" id="8665966">0xff</span><span class="op" id="8665970">}</span><span class="op" id="8665971">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8665975"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8665980">.</span><span class="ident" id="8665981">RGBA</span><span class="op" id="8665985">{</span><span class="num" id="8665986">0xff</span><span class="op" id="8665990">,</span>&nbsp;<span class="num" id="8665992">0x55</span><span class="op" id="8665996">,</span>&nbsp;<span class="num" id="8665998">0xff</span><span class="op" id="8666002">,</span>&nbsp;<span class="num" id="8666004">0xff</span><span class="op" id="8666008">}</span><span class="op" id="8666009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666013"><a href="/image/draw/draw_test.go.html#8652642">color</a></span><span class="op" id="8666018">.</span><span class="ident" id="8666019">RGBA</span><span class="op" id="8666023">{</span><span class="num" id="8666024">0xff</span><span class="op" id="8666028">,</span>&nbsp;<span class="num" id="8666030">0xff</span><span class="op" id="8666034">,</span>&nbsp;<span class="num" id="8666036">0xff</span><span class="op" id="8666040">,</span>&nbsp;<span class="num" id="8666042">0xff</span><span class="op" id="8666046">}</span><span class="op" id="8666047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666053">drawers</span>&nbsp;<span class="op" id="8666061">:=</span>&nbsp;<span class="keyword" id="8666064">map</span><span class="op" id="8666067">[</span><span class="builtintype" id="8666068">string</span><span class="op" id="8666074">]</span><span class="ident" id="8666075"><a href="/image/draw/draw.go.html#5995590">Drawer</a></span><span class="op" id="8666081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666085">&#34;src&#34;</span><span class="op" id="8666090">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8666104"><a href="/image/draw/draw.go.html#5995319">Src</a></span><span class="op" id="8666107">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8666111">&#34;floyd-steinberg&#34;</span><span class="op" id="8666128">:</span>&nbsp;<span class="ident" id="8666130"><a href="/image/draw/draw.go.html#5995903">FloydSteinberg</a></span><span class="op" id="8666144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="8666150">loop</span><span class="op" id="8666154">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666157">for</span>&nbsp;<span class="ident" id="8666161">dName</span><span class="op" id="8666166">,</span>&nbsp;<span class="ident" id="8666168">d</span>&nbsp;<span class="op" id="8666170">:=</span>&nbsp;<span class="keyword" id="8666173">range</span>&nbsp;<span class="ident" id="8666179"><a href="/image/draw/draw_test.go.html#8666053">drawers</a></span>&nbsp;<span class="op" id="8666187">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666191">dst0</span>&nbsp;<span class="op" id="8666196">:=</span>&nbsp;<span class="ident" id="8666199"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8666204">.</span><span class="ident" id="8666205">NewPaletted</span><span class="op" id="8666216">(</span><span class="ident" id="8666217"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666218">,</span>&nbsp;<span class="ident" id="8666220"><a href="/image/draw/draw_test.go.html#8665868">cgaPalette</a></span><span class="op" id="8666230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666234">dst1</span>&nbsp;<span class="op" id="8666239">:=</span>&nbsp;<span class="ident" id="8666242"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8666247">.</span><span class="ident" id="8666248">NewPaletted</span><span class="op" id="8666259">(</span><span class="ident" id="8666260"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666261">,</span>&nbsp;<span class="ident" id="8666263"><a href="/image/draw/draw_test.go.html#8665868">cgaPalette</a></span><span class="op" id="8666273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666277"><a href="/image/draw/draw_test.go.html#8666168">d</a></span><span class="op" id="8666278">.</span><span class="ident" id="8666279">Draw</span><span class="op" id="8666283">(</span><span class="ident" id="8666284"><a href="/image/draw/draw_test.go.html#8666191">dst0</a></span><span class="op" id="8666288">,</span>&nbsp;<span class="ident" id="8666290"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666291">,</span>&nbsp;<span class="ident" id="8666293"><a href="/image/draw/draw_test.go.html#8665771">src</a></span><span class="op" id="8666296">,</span>&nbsp;<span class="ident" id="8666298"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8666303">.</span><span class="ident" id="8666304">Point</span><span class="op" id="8666309">{</span><span class="op" id="8666310">}</span><span class="op" id="8666311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666315"><a href="/image/draw/draw_test.go.html#8666168">d</a></span><span class="op" id="8666316">.</span><span class="ident" id="8666317">Draw</span><span class="op" id="8666321">(</span><span class="ident" id="8666322"><a href="/image/draw/draw_test.go.html#8665455">embeddedPaletted</a></span><span class="op" id="8666338">{</span><span class="ident" id="8666339"><a href="/image/draw/draw_test.go.html#8666234">dst1</a></span><span class="op" id="8666343">}</span><span class="op" id="8666344">,</span>&nbsp;<span class="ident" id="8666346"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666347">,</span>&nbsp;<span class="ident" id="8666349"><a href="/image/draw/draw_test.go.html#8665771">src</a></span><span class="op" id="8666352">,</span>&nbsp;<span class="ident" id="8666354"><a href="/image/draw/draw_test.go.html#8652633">image</a></span><span class="op" id="8666359">.</span><span class="ident" id="8666360">Point</span><span class="op" id="8666365">{</span><span class="op" id="8666366">}</span><span class="op" id="8666367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666371">for</span>&nbsp;<span class="ident" id="8666375">y</span>&nbsp;<span class="op" id="8666377">:=</span>&nbsp;<span class="ident" id="8666380"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666381">.</span><span class="ident" id="8666382">Min</span><span class="op" id="8666385">.</span><span class="ident" id="8666386">Y</span><span class="op" id="8666387">;</span>&nbsp;<span class="ident" id="8666389"><a href="/image/draw/draw_test.go.html#8666375">y</a></span>&nbsp;<span class="op" id="8666391">&lt;</span>&nbsp;<span class="ident" id="8666393"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666394">.</span><span class="ident" id="8666395">Max</span><span class="op" id="8666398">.</span><span class="ident" id="8666399">Y</span><span class="op" id="8666400">;</span>&nbsp;<span class="ident" id="8666402"><a href="/image/draw/draw_test.go.html#8666375">y</a></span><span class="op" id="8666403">++</span>&nbsp;<span class="op" id="8666406">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666411">for</span>&nbsp;<span class="ident" id="8666415">x</span>&nbsp;<span class="op" id="8666417">:=</span>&nbsp;<span class="ident" id="8666420"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666421">.</span><span class="ident" id="8666422">Min</span><span class="op" id="8666425">.</span><span class="ident" id="8666426">X</span><span class="op" id="8666427">;</span>&nbsp;<span class="ident" id="8666429"><a href="/image/draw/draw_test.go.html#8666415">x</a></span>&nbsp;<span class="op" id="8666431">&lt;</span>&nbsp;<span class="ident" id="8666433"><a href="/image/draw/draw_test.go.html#8665848">b</a></span><span class="op" id="8666434">.</span><span class="ident" id="8666435">Max</span><span class="op" id="8666438">.</span><span class="ident" id="8666439">X</span><span class="op" id="8666440">;</span>&nbsp;<span class="ident" id="8666442"><a href="/image/draw/draw_test.go.html#8666415">x</a></span><span class="op" id="8666443">++</span>&nbsp;<span class="op" id="8666446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666452">if</span>&nbsp;<span class="op" id="8666455">!</span><span class="ident" id="8666456"><a href="/image/draw/draw_test.go.html#8652694">eq</a></span><span class="op" id="8666458">(</span><span class="ident" id="8666459"><a href="/image/draw/draw_test.go.html#8666191">dst0</a></span><span class="op" id="8666463">.</span><span class="ident" id="8666464">At</span><span class="op" id="8666466">(</span><span class="ident" id="8666467"><a href="/image/draw/draw_test.go.html#8666415">x</a></span><span class="op" id="8666468">,</span>&nbsp;<span class="ident" id="8666470"><a href="/image/draw/draw_test.go.html#8666375">y</a></span><span class="op" id="8666471">)</span><span class="op" id="8666472">,</span>&nbsp;<span class="ident" id="8666474"><a href="/image/draw/draw_test.go.html#8666234">dst1</a></span><span class="op" id="8666478">.</span><span class="ident" id="8666479">At</span><span class="op" id="8666481">(</span><span class="ident" id="8666482"><a href="/image/draw/draw_test.go.html#8666415">x</a></span><span class="op" id="8666483">,</span>&nbsp;<span class="ident" id="8666485"><a href="/image/draw/draw_test.go.html#8666375">y</a></span><span class="op" id="8666486">)</span><span class="op" id="8666487">)</span>&nbsp;<span class="op" id="8666489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666496"><a href="/image/draw/draw_test.go.html#8665641">t</a></span><span class="op" id="8666497">.</span><span class="ident" id="8666498">Errorf</span><span class="op" id="8666504">(</span><span class="string" id="8666505">&#34;%s:&nbsp;at&nbsp;(%d,&nbsp;%d),&nbsp;%v&nbsp;versus&nbsp;%v&#34;</span><span class="op" id="8666536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8666544"><a href="/image/draw/draw_test.go.html#8666161">dName</a></span><span class="op" id="8666549">,</span>&nbsp;<span class="ident" id="8666551"><a href="/image/draw/draw_test.go.html#8666415">x</a></span><span class="op" id="8666552">,</span>&nbsp;<span class="ident" id="8666554"><a href="/image/draw/draw_test.go.html#8666375">y</a></span><span class="op" id="8666555">,</span>&nbsp;<span class="ident" id="8666557"><a href="/image/draw/draw_test.go.html#8666191">dst0</a></span><span class="op" id="8666561">.</span><span class="ident" id="8666562">At</span><span class="op" id="8666564">(</span><span class="ident" id="8666565"><a href="/image/draw/draw_test.go.html#8666415">x</a></span><span class="op" id="8666566">,</span>&nbsp;<span class="ident" id="8666568"><a href="/image/draw/draw_test.go.html#8666375">y</a></span><span class="op" id="8666569">)</span><span class="op" id="8666570">,</span>&nbsp;<span class="ident" id="8666572"><a href="/image/draw/draw_test.go.html#8666234">dst1</a></span><span class="op" id="8666576">.</span><span class="ident" id="8666577">At</span><span class="op" id="8666579">(</span><span class="ident" id="8666580"><a href="/image/draw/draw_test.go.html#8666415">x</a></span><span class="op" id="8666581">,</span>&nbsp;<span class="ident" id="8666583"><a href="/image/draw/draw_test.go.html#8666375">y</a></span><span class="op" id="8666584">)</span><span class="op" id="8666585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8666592">continue</span>&nbsp;<span class="ident" id="8666601">loop</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8666622">}</span><br>
<span class="lineno"></span><span class="op" id="8666624">}</span>
</div>
</body>
</html>
