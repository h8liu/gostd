<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5824141">package</span>&nbsp;<span class="ident" id="5824149">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824155">import</span>&nbsp;<span class="op" id="5824162">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5824165">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5824187">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824190">func</span>&nbsp;<span class="ident" id="5824195">parseFile</span><span class="op" id="5824204">(</span><span class="ident" id="5824205">p</span>&nbsp;<span class="op" id="5824207">*</span><span class="ident" id="5824208">parser</span><span class="op" id="5824214">)</span>&nbsp;<span class="op" id="5824216">*</span><span class="ident" id="5824217">file</span>&nbsp;<span class="op" id="5824222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824225">ret</span>&nbsp;<span class="op" id="5824229">:=</span>&nbsp;<span class="builtinfunc" id="5824232">new</span><span class="op" id="5824235">(</span><span class="ident" id="5824236">file</span><span class="op" id="5824240">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824244">for</span>&nbsp;<span class="ident" id="5824248">p</span><span class="op" id="5824249">.</span><span class="ident" id="5824250">seeKeyword</span><span class="op" id="5824260">(</span><span class="string" id="5824261">&#34;import&#34;</span><span class="op" id="5824269">)</span>&nbsp;<span class="op" id="5824271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5824275">panic</span><span class="op" id="5824280">(</span><span class="string" id="5824281">&#34;todo&#34;</span><span class="op" id="5824287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824294">for</span>&nbsp;<span class="op" id="5824298">!</span><span class="ident" id="5824299">p</span><span class="op" id="5824300">.</span><span class="ident" id="5824301">see</span><span class="op" id="5824304">(</span><span class="ident" id="5824305">lex8</span><span class="op" id="5824309">.</span><span class="ident" id="5824310">EOF</span><span class="op" id="5824313">)</span>&nbsp;<span class="op" id="5824315">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824319">if</span>&nbsp;<span class="ident" id="5824322">p</span><span class="op" id="5824323">.</span><span class="ident" id="5824324">seeKeyword</span><span class="op" id="5824334">(</span><span class="string" id="5824335">&#34;func&#34;</span><span class="op" id="5824341">)</span>&nbsp;<span class="op" id="5824343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824348">if</span>&nbsp;<span class="ident" id="5824351">f</span>&nbsp;<span class="op" id="5824353">:=</span>&nbsp;<span class="ident" id="5824356">parseFunc</span><span class="op" id="5824365">(</span><span class="ident" id="5824366">p</span><span class="op" id="5824367">)</span><span class="op" id="5824368">;</span>&nbsp;<span class="ident" id="5824370">f</span>&nbsp;<span class="op" id="5824372">!=</span>&nbsp;<span class="ident" id="5824375">nil</span>&nbsp;<span class="op" id="5824379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824385">ret</span><span class="op" id="5824388">.</span><span class="ident" id="5824389">Funcs</span>&nbsp;<span class="op" id="5824395">=</span>&nbsp;<span class="builtinfunc" id="5824397">append</span><span class="op" id="5824403">(</span><span class="ident" id="5824404">ret</span><span class="op" id="5824407">.</span><span class="ident" id="5824408">Funcs</span><span class="op" id="5824413">,</span>&nbsp;<span class="ident" id="5824415">f</span><span class="op" id="5824416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824425">}</span>&nbsp;<span class="keyword" id="5824427">else</span>&nbsp;<span class="keyword" id="5824432">if</span>&nbsp;<span class="ident" id="5824435">p</span><span class="op" id="5824436">.</span><span class="ident" id="5824437">seeKeyword</span><span class="op" id="5824447">(</span><span class="string" id="5824448">&#34;var&#34;</span><span class="op" id="5824453">)</span>&nbsp;<span class="op" id="5824455">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824460">if</span>&nbsp;<span class="ident" id="5824463">v</span>&nbsp;<span class="op" id="5824465">:=</span>&nbsp;<span class="ident" id="5824468">parseVar</span><span class="op" id="5824476">(</span><span class="ident" id="5824477">p</span><span class="op" id="5824478">)</span><span class="op" id="5824479">;</span>&nbsp;<span class="ident" id="5824481">v</span>&nbsp;<span class="op" id="5824483">!=</span>&nbsp;<span class="ident" id="5824486">nil</span>&nbsp;<span class="op" id="5824490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824496">ret</span><span class="op" id="5824499">.</span><span class="ident" id="5824500">Vars</span>&nbsp;<span class="op" id="5824505">=</span>&nbsp;<span class="builtinfunc" id="5824507">append</span><span class="op" id="5824513">(</span><span class="ident" id="5824514">ret</span><span class="op" id="5824517">.</span><span class="ident" id="5824518">Vars</span><span class="op" id="5824522">,</span>&nbsp;<span class="ident" id="5824524">v</span><span class="op" id="5824525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824534">}</span>&nbsp;<span class="keyword" id="5824536">else</span>&nbsp;<span class="keyword" id="5824541">if</span>&nbsp;<span class="ident" id="5824544">p</span><span class="op" id="5824545">.</span><span class="ident" id="5824546">seeKeyword</span><span class="op" id="5824556">(</span><span class="string" id="5824557">&#34;const&#34;</span><span class="op" id="5824564">)</span>&nbsp;<span class="op" id="5824566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5824571">//&nbsp;TODO:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824583">p</span><span class="op" id="5824584">.</span><span class="ident" id="5824585">err</span><span class="op" id="5824588">(</span><span class="ident" id="5824589">p</span><span class="op" id="5824590">.</span><span class="ident" id="5824591">t</span><span class="op" id="5824592">.</span><span class="ident" id="5824593">Pos</span><span class="op" id="5824596">,</span>&nbsp;<span class="string" id="5824598">&#34;const&nbsp;support&nbsp;not&nbsp;implemented&nbsp;yet&#34;</span><span class="op" id="5824633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824638">p</span><span class="op" id="5824639">.</span><span class="ident" id="5824640">skipErrStmt</span><span class="op" id="5824651">(</span><span class="op" id="5824652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824656">}</span>&nbsp;<span class="keyword" id="5824658">else</span>&nbsp;<span class="op" id="5824663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824668">p</span><span class="op" id="5824669">.</span><span class="ident" id="5824670">err</span><span class="op" id="5824673">(</span><span class="ident" id="5824674">p</span><span class="op" id="5824675">.</span><span class="ident" id="5824676">t</span><span class="op" id="5824677">.</span><span class="ident" id="5824678">Pos</span><span class="op" id="5824681">,</span>&nbsp;<span class="string" id="5824683">&#34;expect&nbsp;top-declaration:&nbsp;func,&nbsp;var&nbsp;or&nbsp;const&#34;</span><span class="op" id="5824727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824732">return</span>&nbsp;<span class="ident" id="5824739">nil</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824750">p</span><span class="op" id="5824751">.</span><span class="ident" id="5824752">clearErr</span><span class="op" id="5824760">(</span><span class="op" id="5824761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5824764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5824768">return</span>&nbsp;<span class="ident" id="5824775">ret</span><br>
<span class="lineno"></span><span class="op" id="5824779">}</span>
</div>
</body>
</html>
