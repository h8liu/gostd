<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5590587">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5590642">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5590696">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5590747">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5590822">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5590896">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5590912">package</span>&nbsp;<span class="ident" id="5590920">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5590927">import</span>&nbsp;<span class="string" id="5590934">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5590942">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5590985">const</span>&nbsp;<span class="ident" id="5590991">Size</span>&nbsp;<span class="op" id="5590996">=</span>&nbsp;<span class="num" id="5590998">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5591001">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5591028">const</span>&nbsp;<span class="op" id="5591034">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591037">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591099">ISO</span>&nbsp;<span class="op" id="5591103">=</span>&nbsp;<span class="num" id="5591105">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5591126">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591172">ECMA</span>&nbsp;<span class="op" id="5591177">=</span>&nbsp;<span class="num" id="5591179">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5591198">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5591201">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5591284">type</span>&nbsp;<span class="ident" id="5591289">Table</span>&nbsp;<span class="op" id="5591295">[</span><span class="num" id="5591296">256</span><span class="op" id="5591299">]</span><span class="ident" id="5591300">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5591308">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5591382">func</span>&nbsp;<span class="ident" id="5591387">MakeTable</span><span class="op" id="5591396">(</span><span class="ident" id="5591397">poly</span>&nbsp;<span class="ident" id="5591402">uint64</span><span class="op" id="5591408">)</span>&nbsp;<span class="op" id="5591410">*</span><span class="ident" id="5591411">Table</span>&nbsp;<span class="op" id="5591417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591420">t</span>&nbsp;<span class="op" id="5591422">:=</span>&nbsp;<span class="builtinfunc" id="5591425">new</span><span class="op" id="5591428">(</span><span class="ident" id="5591429">Table</span><span class="op" id="5591434">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591437">for</span>&nbsp;<span class="ident" id="5591441">i</span>&nbsp;<span class="op" id="5591443">:=</span>&nbsp;<span class="num" id="5591446">0</span><span class="op" id="5591447">;</span>&nbsp;<span class="ident" id="5591449">i</span>&nbsp;<span class="op" id="5591451">&lt;</span>&nbsp;<span class="num" id="5591453">256</span><span class="op" id="5591456">;</span>&nbsp;<span class="ident" id="5591458">i</span><span class="op" id="5591459">++</span>&nbsp;<span class="op" id="5591462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591466">crc</span>&nbsp;<span class="op" id="5591470">:=</span>&nbsp;<span class="ident" id="5591473">uint64</span><span class="op" id="5591479">(</span><span class="ident" id="5591480">i</span><span class="op" id="5591481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591485">for</span>&nbsp;<span class="ident" id="5591489">j</span>&nbsp;<span class="op" id="5591491">:=</span>&nbsp;<span class="num" id="5591494">0</span><span class="op" id="5591495">;</span>&nbsp;<span class="ident" id="5591497">j</span>&nbsp;<span class="op" id="5591499">&lt;</span>&nbsp;<span class="num" id="5591501">8</span><span class="op" id="5591502">;</span>&nbsp;<span class="ident" id="5591504">j</span><span class="op" id="5591505">++</span>&nbsp;<span class="op" id="5591508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591513">if</span>&nbsp;<span class="ident" id="5591516">crc</span><span class="op" id="5591519">&amp;</span><span class="num" id="5591520">1</span>&nbsp;<span class="op" id="5591522">==</span>&nbsp;<span class="num" id="5591525">1</span>&nbsp;<span class="op" id="5591527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591533">crc</span>&nbsp;<span class="op" id="5591537">=</span>&nbsp;<span class="op" id="5591539">(</span><span class="ident" id="5591540">crc</span>&nbsp;<span class="op" id="5591544">&gt;&gt;</span>&nbsp;<span class="num" id="5591547">1</span><span class="op" id="5591548">)</span>&nbsp;<span class="op" id="5591550">^</span>&nbsp;<span class="ident" id="5591552">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591560">}</span>&nbsp;<span class="keyword" id="5591562">else</span>&nbsp;<span class="op" id="5591567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591573">crc</span>&nbsp;<span class="op" id="5591577">&gt;&gt;=</span>&nbsp;<span class="num" id="5591581">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591594">t</span><span class="op" id="5591595">[</span><span class="ident" id="5591596">i</span><span class="op" id="5591597">]</span>&nbsp;<span class="op" id="5591599">=</span>&nbsp;<span class="ident" id="5591601">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5591606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5591609">return</span>&nbsp;<span class="ident" id="5591616">t</span><br>
<span class="lineno"></span><span class="op" id="5591618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5591621">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5591680">type</span>&nbsp;<span class="ident" id="5591685">digest</span>&nbsp;<span class="keyword" id="5591692">struct</span>&nbsp;<span class="op" id="5591699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591702">crc</span>&nbsp;<span class="ident" id="5591706">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5591714">tab</span>&nbsp;<span class="op" id="5591718">*</span><span class="ident" id="5591719">Table</span><br>
<span class="lineno"></span><span class="op" id="5591725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5591728">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5591791">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5591841">func</span>&nbsp;<span class="ident" id="5591846">New</span><span class="op" id="5591849">(</span><span class="ident" id="5591850">tab</span>&nbsp;<span class="op" id="5591854">*</span><span class="ident" id="5591855">Table</span><span class="op" id="5591860">)</span>&nbsp;<span class="ident" id="5591862">hash</span><span class="op" id="5591866">.</span><span class="ident" id="5591867">Hash64</span>&nbsp;<span class="op" id="5591874">{</span>&nbsp;<span class="keyword" id="5591876">return</span>&nbsp;<span class="op" id="5591883">&amp;</span><span class="ident" id="5591884">digest</span><span class="op" id="5591890">{</span><span class="num" id="5591891">0</span><span class="op" id="5591892">,</span>&nbsp;<span class="ident" id="5591894">tab</span><span class="op" id="5591897">}</span>&nbsp;<span class="op" id="5591899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5591902">func</span>&nbsp;<span class="op" id="5591907">(</span><span class="ident" id="5591908">d</span>&nbsp;<span class="op" id="5591910">*</span><span class="ident" id="5591911">digest</span><span class="op" id="5591917">)</span>&nbsp;<span class="ident" id="5591919">Size</span><span class="op" id="5591923">(</span><span class="op" id="5591924">)</span>&nbsp;<span class="builtintype" id="5591926">int</span>&nbsp;<span class="op" id="5591930">{</span>&nbsp;<span class="keyword" id="5591932">return</span>&nbsp;<span class="ident" id="5591939">Size</span>&nbsp;<span class="op" id="5591944">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5591947">func</span>&nbsp;<span class="op" id="5591952">(</span><span class="ident" id="5591953">d</span>&nbsp;<span class="op" id="5591955">*</span><span class="ident" id="5591956">digest</span><span class="op" id="5591962">)</span>&nbsp;<span class="ident" id="5591964">BlockSize</span><span class="op" id="5591973">(</span><span class="op" id="5591974">)</span>&nbsp;<span class="builtintype" id="5591976">int</span>&nbsp;<span class="op" id="5591980">{</span>&nbsp;<span class="keyword" id="5591982">return</span>&nbsp;<span class="num" id="5591989">1</span>&nbsp;<span class="op" id="5591991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5591994">func</span>&nbsp;<span class="op" id="5591999">(</span><span class="ident" id="5592000">d</span>&nbsp;<span class="op" id="5592002">*</span><span class="ident" id="5592003">digest</span><span class="op" id="5592009">)</span>&nbsp;<span class="ident" id="5592011">Reset</span><span class="op" id="5592016">(</span><span class="op" id="5592017">)</span>&nbsp;<span class="op" id="5592019">{</span>&nbsp;<span class="ident" id="5592021">d</span><span class="op" id="5592022">.</span><span class="ident" id="5592023">crc</span>&nbsp;<span class="op" id="5592027">=</span>&nbsp;<span class="num" id="5592029">0</span>&nbsp;<span class="op" id="5592031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5592034">func</span>&nbsp;<span class="ident" id="5592039">update</span><span class="op" id="5592045">(</span><span class="ident" id="5592046">crc</span>&nbsp;<span class="ident" id="5592050">uint64</span><span class="op" id="5592056">,</span>&nbsp;<span class="ident" id="5592058">tab</span>&nbsp;<span class="op" id="5592062">*</span><span class="ident" id="5592063">Table</span><span class="op" id="5592068">,</span>&nbsp;<span class="ident" id="5592070">p</span>&nbsp;<span class="op" id="5592072">[</span><span class="op" id="5592073">]</span><span class="builtintype" id="5592074">byte</span><span class="op" id="5592078">)</span>&nbsp;<span class="ident" id="5592080">uint64</span>&nbsp;<span class="op" id="5592087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592090">crc</span>&nbsp;<span class="op" id="5592094">=</span>&nbsp;<span class="op" id="5592096">^</span><span class="ident" id="5592097">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592102">for</span>&nbsp;<span class="ident" id="5592106">_</span><span class="op" id="5592107">,</span>&nbsp;<span class="ident" id="5592109">v</span>&nbsp;<span class="op" id="5592111">:=</span>&nbsp;<span class="keyword" id="5592114">range</span>&nbsp;<span class="ident" id="5592120">p</span>&nbsp;<span class="op" id="5592122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592126">crc</span>&nbsp;<span class="op" id="5592130">=</span>&nbsp;<span class="ident" id="5592132">tab</span><span class="op" id="5592135">[</span><span class="builtintype" id="5592136">byte</span><span class="op" id="5592140">(</span><span class="ident" id="5592141">crc</span><span class="op" id="5592144">)</span><span class="op" id="5592145">^</span><span class="ident" id="5592146">v</span><span class="op" id="5592147">]</span>&nbsp;<span class="op" id="5592149">^</span>&nbsp;<span class="op" id="5592151">(</span><span class="ident" id="5592152">crc</span>&nbsp;<span class="op" id="5592156">&gt;&gt;</span>&nbsp;<span class="num" id="5592159">8</span><span class="op" id="5592160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5592163">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592166">return</span>&nbsp;<span class="op" id="5592173">^</span><span class="ident" id="5592174">crc</span><br>
<span class="lineno"></span><span class="op" id="5592178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5592181">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5592247">func</span>&nbsp;<span class="ident" id="5592252">Update</span><span class="op" id="5592258">(</span><span class="ident" id="5592259">crc</span>&nbsp;<span class="ident" id="5592263">uint64</span><span class="op" id="5592269">,</span>&nbsp;<span class="ident" id="5592271">tab</span>&nbsp;<span class="op" id="5592275">*</span><span class="ident" id="5592276">Table</span><span class="op" id="5592281">,</span>&nbsp;<span class="ident" id="5592283">p</span>&nbsp;<span class="op" id="5592285">[</span><span class="op" id="5592286">]</span><span class="builtintype" id="5592287">byte</span><span class="op" id="5592291">)</span>&nbsp;<span class="ident" id="5592293">uint64</span>&nbsp;<span class="op" id="5592300">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592303">return</span>&nbsp;<span class="ident" id="5592310">update</span><span class="op" id="5592316">(</span><span class="ident" id="5592317">crc</span><span class="op" id="5592320">,</span>&nbsp;<span class="ident" id="5592322">tab</span><span class="op" id="5592325">,</span>&nbsp;<span class="ident" id="5592327">p</span><span class="op" id="5592328">)</span><br>
<span class="lineno"></span><span class="op" id="5592330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5592333">func</span>&nbsp;<span class="op" id="5592338">(</span><span class="ident" id="5592339">d</span>&nbsp;<span class="op" id="5592341">*</span><span class="ident" id="5592342">digest</span><span class="op" id="5592348">)</span>&nbsp;<span class="ident" id="5592350">Write</span><span class="op" id="5592355">(</span><span class="ident" id="5592356">p</span>&nbsp;<span class="op" id="5592358">[</span><span class="op" id="5592359">]</span><span class="builtintype" id="5592360">byte</span><span class="op" id="5592364">)</span>&nbsp;<span class="op" id="5592366">(</span><span class="ident" id="5592367">n</span>&nbsp;<span class="builtintype" id="5592369">int</span><span class="op" id="5592372">,</span>&nbsp;<span class="ident" id="5592374">err</span>&nbsp;<span class="builtintype" id="5592378">error</span><span class="op" id="5592383">)</span>&nbsp;<span class="op" id="5592385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592388">d</span><span class="op" id="5592389">.</span><span class="ident" id="5592390">crc</span>&nbsp;<span class="op" id="5592394">=</span>&nbsp;<span class="ident" id="5592396">update</span><span class="op" id="5592402">(</span><span class="ident" id="5592403">d</span><span class="op" id="5592404">.</span><span class="ident" id="5592405">crc</span><span class="op" id="5592408">,</span>&nbsp;<span class="ident" id="5592410">d</span><span class="op" id="5592411">.</span><span class="ident" id="5592412">tab</span><span class="op" id="5592415">,</span>&nbsp;<span class="ident" id="5592417">p</span><span class="op" id="5592418">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592421">return</span>&nbsp;<span class="builtinfunc" id="5592428">len</span><span class="op" id="5592431">(</span><span class="ident" id="5592432">p</span><span class="op" id="5592433">)</span><span class="op" id="5592434">,</span>&nbsp;<span class="ident" id="5592436">nil</span><br>
<span class="lineno"></span><span class="op" id="5592440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5592443">func</span>&nbsp;<span class="op" id="5592448">(</span><span class="ident" id="5592449">d</span>&nbsp;<span class="op" id="5592451">*</span><span class="ident" id="5592452">digest</span><span class="op" id="5592458">)</span>&nbsp;<span class="ident" id="5592460">Sum64</span><span class="op" id="5592465">(</span><span class="op" id="5592466">)</span>&nbsp;<span class="ident" id="5592468">uint64</span>&nbsp;<span class="op" id="5592475">{</span>&nbsp;<span class="keyword" id="5592477">return</span>&nbsp;<span class="ident" id="5592484">d</span><span class="op" id="5592485">.</span><span class="ident" id="5592486">crc</span>&nbsp;<span class="op" id="5592490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5592493">func</span>&nbsp;<span class="op" id="5592498">(</span><span class="ident" id="5592499">d</span>&nbsp;<span class="op" id="5592501">*</span><span class="ident" id="5592502">digest</span><span class="op" id="5592508">)</span>&nbsp;<span class="ident" id="5592510">Sum</span><span class="op" id="5592513">(</span><span class="ident" id="5592514">in</span>&nbsp;<span class="op" id="5592517">[</span><span class="op" id="5592518">]</span><span class="builtintype" id="5592519">byte</span><span class="op" id="5592523">)</span>&nbsp;<span class="op" id="5592525">[</span><span class="op" id="5592526">]</span><span class="builtintype" id="5592527">byte</span>&nbsp;<span class="op" id="5592532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5592535">s</span>&nbsp;<span class="op" id="5592537">:=</span>&nbsp;<span class="ident" id="5592540">d</span><span class="op" id="5592541">.</span><span class="ident" id="5592542">Sum64</span><span class="op" id="5592547">(</span><span class="op" id="5592548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5592551">return</span>&nbsp;<span class="builtinfunc" id="5592558">append</span><span class="op" id="5592564">(</span><span class="ident" id="5592565">in</span><span class="op" id="5592567">,</span>&nbsp;<span class="builtintype" id="5592569">byte</span><span class="op" id="5592573">(</span><span class="ident" id="5592574">s</span><span class="op" id="5592575">&gt;&gt;</span><span class="num" id="5592577">56</span><span class="op" id="5592579">)</span><span class="op" id="5592580">,</span>&nbsp;<span class="builtintype" id="5592582">byte</span><span class="op" id="5592586">(</span><span class="ident" id="5592587">s</span><span class="op" id="5592588">&gt;&gt;</span><span class="num" id="5592590">48</span><span class="op" id="5592592">)</span><span class="op" id="5592593">,</span>&nbsp;<span class="builtintype" id="5592595">byte</span><span class="op" id="5592599">(</span><span class="ident" id="5592600">s</span><span class="op" id="5592601">&gt;&gt;</span><span class="num" id="5592603">40</span><span class="op" id="5592605">)</span><span class="op" id="5592606">,</span>&nbsp;<span class="builtintype" id="5592608">byte</span><span class="op" id="5592612">(</span><span class="ident" id="5592613">s</span><span class="op" id="5592614">&gt;&gt;</span><span class="num" id="5592616">32</span><span class="op" id="5592618">)</span><span class="op" id="5592619">,</span>&nbsp;<span class="builtintype" id="5592621">byte</span><span class="op" id="5592625">(</span><span class="ident" id="5592626">s</span><span class="op" id="5592627">&gt;&gt;</span><span class="num" id="5592629">24</span><span class="op" id="5592631">)</span><span class="op" id="5592632">,</span>&nbsp;<span class="builtintype" id="5592634">byte</span><span class="op" id="5592638">(</span><span class="ident" id="5592639">s</span><span class="op" id="5592640">&gt;&gt;</span><span class="num" id="5592642">16</span><span class="op" id="5592644">)</span><span class="op" id="5592645">,</span>&nbsp;<span class="builtintype" id="5592647">byte</span><span class="op" id="5592651">(</span><span class="ident" id="5592652">s</span><span class="op" id="5592653">&gt;&gt;</span><span class="num" id="5592655">8</span><span class="op" id="5592656">)</span><span class="op" id="5592657">,</span>&nbsp;<span class="builtintype" id="5592659">byte</span><span class="op" id="5592663">(</span><span class="ident" id="5592664">s</span><span class="op" id="5592665">)</span><span class="op" id="5592666">)</span><br>
<span class="lineno"></span><span class="op" id="5592668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5592671">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5592719">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5592769">func</span>&nbsp;<span class="ident" id="5592774">Checksum</span><span class="op" id="5592782">(</span><span class="ident" id="5592783">data</span>&nbsp;<span class="op" id="5592788">[</span><span class="op" id="5592789">]</span><span class="builtintype" id="5592790">byte</span><span class="op" id="5592794">,</span>&nbsp;<span class="ident" id="5592796">tab</span>&nbsp;<span class="op" id="5592800">*</span><span class="ident" id="5592801">Table</span><span class="op" id="5592806">)</span>&nbsp;<span class="ident" id="5592808">uint64</span>&nbsp;<span class="op" id="5592815">{</span>&nbsp;<span class="keyword" id="5592817">return</span>&nbsp;<span class="ident" id="5592824">update</span><span class="op" id="5592830">(</span><span class="num" id="5592831">0</span><span class="op" id="5592832">,</span>&nbsp;<span class="ident" id="5592834">tab</span><span class="op" id="5592837">,</span>&nbsp;<span class="ident" id="5592839">data</span><span class="op" id="5592843">)</span>&nbsp;<span class="op" id="5592845">}</span>
</div>
</body>
</html>
