<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html" class="current">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6871766">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6871821">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6871875">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6871926">package</span>&nbsp;<span class="ident" id="6871934">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871940">import</span>&nbsp;<span class="op" id="6871947">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6871950">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6871959">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6871969">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871972">type</span>&nbsp;<span class="ident" id="6871977">clipTest</span>&nbsp;<span class="keyword" id="6871986">struct</span>&nbsp;<span class="op" id="6871993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871996">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6872010">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872018">r</span><span class="op" id="6872019">,</span>&nbsp;<span class="ident" id="6872021">dr</span><span class="op" id="6872023">,</span>&nbsp;<span class="ident" id="6872025">sr</span><span class="op" id="6872027">,</span>&nbsp;<span class="ident" id="6872029">mr</span>&nbsp;<span class="ident" id="6872032">image</span><span class="op" id="6872037">.</span><span class="ident" id="6872038">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872049">sp</span><span class="op" id="6872051">,</span>&nbsp;<span class="ident" id="6872053">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872063">image</span><span class="op" id="6872068">.</span><span class="ident" id="6872069">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872076">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6872090">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872096">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872110">image</span><span class="op" id="6872115">.</span><span class="ident" id="6872116">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872127">sp0</span><span class="op" id="6872130">,</span>&nbsp;<span class="ident" id="6872132">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872141">image</span><span class="op" id="6872146">.</span><span class="ident" id="6872147">Point</span><br>
<span class="lineno"></span><span class="op" id="6872153">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6872156">var</span>&nbsp;<span class="ident" id="6872160">clipTests</span>&nbsp;<span class="op" id="6872170">=</span>&nbsp;<span class="op" id="6872172">[</span><span class="op" id="6872173">]</span><span class="ident" id="6872174">clipTest</span><span class="op" id="6872182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6872185">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6872234">&#34;basic&#34;</span><span class="op" id="6872241">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872245">image</span><span class="op" id="6872250">.</span><span class="ident" id="6872251">Rect</span><span class="op" id="6872255">(</span><span class="num" id="6872256">0</span><span class="op" id="6872257">,</span>&nbsp;<span class="num" id="6872259">0</span><span class="op" id="6872260">,</span>&nbsp;<span class="num" id="6872262">100</span><span class="op" id="6872265">,</span>&nbsp;<span class="num" id="6872267">100</span><span class="op" id="6872270">)</span><span class="op" id="6872271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872275">image</span><span class="op" id="6872280">.</span><span class="ident" id="6872281">Rect</span><span class="op" id="6872285">(</span><span class="num" id="6872286">0</span><span class="op" id="6872287">,</span>&nbsp;<span class="num" id="6872289">0</span><span class="op" id="6872290">,</span>&nbsp;<span class="num" id="6872292">100</span><span class="op" id="6872295">,</span>&nbsp;<span class="num" id="6872297">100</span><span class="op" id="6872300">)</span><span class="op" id="6872301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872305">image</span><span class="op" id="6872310">.</span><span class="ident" id="6872311">Rect</span><span class="op" id="6872315">(</span><span class="num" id="6872316">0</span><span class="op" id="6872317">,</span>&nbsp;<span class="num" id="6872319">0</span><span class="op" id="6872320">,</span>&nbsp;<span class="num" id="6872322">100</span><span class="op" id="6872325">,</span>&nbsp;<span class="num" id="6872327">100</span><span class="op" id="6872330">)</span><span class="op" id="6872331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872335">image</span><span class="op" id="6872340">.</span><span class="ident" id="6872341">ZR</span><span class="op" id="6872343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872347">image</span><span class="op" id="6872352">.</span><span class="ident" id="6872353">ZP</span><span class="op" id="6872355">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872359">image</span><span class="op" id="6872364">.</span><span class="ident" id="6872365">ZP</span><span class="op" id="6872367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6872371">true</span><span class="op" id="6872375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872379">image</span><span class="op" id="6872384">.</span><span class="ident" id="6872385">Rect</span><span class="op" id="6872389">(</span><span class="num" id="6872390">0</span><span class="op" id="6872391">,</span>&nbsp;<span class="num" id="6872393">0</span><span class="op" id="6872394">,</span>&nbsp;<span class="num" id="6872396">100</span><span class="op" id="6872399">,</span>&nbsp;<span class="num" id="6872401">100</span><span class="op" id="6872404">)</span><span class="op" id="6872405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872409">image</span><span class="op" id="6872414">.</span><span class="ident" id="6872415">ZP</span><span class="op" id="6872417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872421">image</span><span class="op" id="6872426">.</span><span class="ident" id="6872427">ZP</span><span class="op" id="6872429">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872432">}</span><span class="op" id="6872433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6872440">&#34;clip&nbsp;dr&#34;</span><span class="op" id="6872449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872453">image</span><span class="op" id="6872458">.</span><span class="ident" id="6872459">Rect</span><span class="op" id="6872463">(</span><span class="num" id="6872464">0</span><span class="op" id="6872465">,</span>&nbsp;<span class="num" id="6872467">0</span><span class="op" id="6872468">,</span>&nbsp;<span class="num" id="6872470">100</span><span class="op" id="6872473">,</span>&nbsp;<span class="num" id="6872475">100</span><span class="op" id="6872478">)</span><span class="op" id="6872479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872483">image</span><span class="op" id="6872488">.</span><span class="ident" id="6872489">Rect</span><span class="op" id="6872493">(</span><span class="num" id="6872494">40</span><span class="op" id="6872496">,</span>&nbsp;<span class="num" id="6872498">40</span><span class="op" id="6872500">,</span>&nbsp;<span class="num" id="6872502">60</span><span class="op" id="6872504">,</span>&nbsp;<span class="num" id="6872506">60</span><span class="op" id="6872508">)</span><span class="op" id="6872509">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872513">image</span><span class="op" id="6872518">.</span><span class="ident" id="6872519">Rect</span><span class="op" id="6872523">(</span><span class="num" id="6872524">0</span><span class="op" id="6872525">,</span>&nbsp;<span class="num" id="6872527">0</span><span class="op" id="6872528">,</span>&nbsp;<span class="num" id="6872530">100</span><span class="op" id="6872533">,</span>&nbsp;<span class="num" id="6872535">100</span><span class="op" id="6872538">)</span><span class="op" id="6872539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872543">image</span><span class="op" id="6872548">.</span><span class="ident" id="6872549">ZR</span><span class="op" id="6872551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872555">image</span><span class="op" id="6872560">.</span><span class="ident" id="6872561">ZP</span><span class="op" id="6872563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872567">image</span><span class="op" id="6872572">.</span><span class="ident" id="6872573">ZP</span><span class="op" id="6872575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6872579">true</span><span class="op" id="6872583">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872587">image</span><span class="op" id="6872592">.</span><span class="ident" id="6872593">Rect</span><span class="op" id="6872597">(</span><span class="num" id="6872598">40</span><span class="op" id="6872600">,</span>&nbsp;<span class="num" id="6872602">40</span><span class="op" id="6872604">,</span>&nbsp;<span class="num" id="6872606">60</span><span class="op" id="6872608">,</span>&nbsp;<span class="num" id="6872610">60</span><span class="op" id="6872612">)</span><span class="op" id="6872613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872617">image</span><span class="op" id="6872622">.</span><span class="ident" id="6872623">Pt</span><span class="op" id="6872625">(</span><span class="num" id="6872626">40</span><span class="op" id="6872628">,</span>&nbsp;<span class="num" id="6872630">40</span><span class="op" id="6872632">)</span><span class="op" id="6872633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872637">image</span><span class="op" id="6872642">.</span><span class="ident" id="6872643">ZP</span><span class="op" id="6872645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872648">}</span><span class="op" id="6872649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872652">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6872656">&#34;clip&nbsp;sr&#34;</span><span class="op" id="6872665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872669">image</span><span class="op" id="6872674">.</span><span class="ident" id="6872675">Rect</span><span class="op" id="6872679">(</span><span class="num" id="6872680">0</span><span class="op" id="6872681">,</span>&nbsp;<span class="num" id="6872683">0</span><span class="op" id="6872684">,</span>&nbsp;<span class="num" id="6872686">100</span><span class="op" id="6872689">,</span>&nbsp;<span class="num" id="6872691">100</span><span class="op" id="6872694">)</span><span class="op" id="6872695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872699">image</span><span class="op" id="6872704">.</span><span class="ident" id="6872705">Rect</span><span class="op" id="6872709">(</span><span class="num" id="6872710">0</span><span class="op" id="6872711">,</span>&nbsp;<span class="num" id="6872713">0</span><span class="op" id="6872714">,</span>&nbsp;<span class="num" id="6872716">100</span><span class="op" id="6872719">,</span>&nbsp;<span class="num" id="6872721">100</span><span class="op" id="6872724">)</span><span class="op" id="6872725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872729">image</span><span class="op" id="6872734">.</span><span class="ident" id="6872735">Rect</span><span class="op" id="6872739">(</span><span class="num" id="6872740">20</span><span class="op" id="6872742">,</span>&nbsp;<span class="num" id="6872744">20</span><span class="op" id="6872746">,</span>&nbsp;<span class="num" id="6872748">80</span><span class="op" id="6872750">,</span>&nbsp;<span class="num" id="6872752">80</span><span class="op" id="6872754">)</span><span class="op" id="6872755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872759">image</span><span class="op" id="6872764">.</span><span class="ident" id="6872765">ZR</span><span class="op" id="6872767">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872771">image</span><span class="op" id="6872776">.</span><span class="ident" id="6872777">ZP</span><span class="op" id="6872779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872783">image</span><span class="op" id="6872788">.</span><span class="ident" id="6872789">ZP</span><span class="op" id="6872791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6872795">true</span><span class="op" id="6872799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872803">image</span><span class="op" id="6872808">.</span><span class="ident" id="6872809">Rect</span><span class="op" id="6872813">(</span><span class="num" id="6872814">20</span><span class="op" id="6872816">,</span>&nbsp;<span class="num" id="6872818">20</span><span class="op" id="6872820">,</span>&nbsp;<span class="num" id="6872822">80</span><span class="op" id="6872824">,</span>&nbsp;<span class="num" id="6872826">80</span><span class="op" id="6872828">)</span><span class="op" id="6872829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872833">image</span><span class="op" id="6872838">.</span><span class="ident" id="6872839">Pt</span><span class="op" id="6872841">(</span><span class="num" id="6872842">20</span><span class="op" id="6872844">,</span>&nbsp;<span class="num" id="6872846">20</span><span class="op" id="6872848">)</span><span class="op" id="6872849">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872853">image</span><span class="op" id="6872858">.</span><span class="ident" id="6872859">ZP</span><span class="op" id="6872861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872864">}</span><span class="op" id="6872865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6872868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6872872">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="6872888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872892">image</span><span class="op" id="6872897">.</span><span class="ident" id="6872898">Rect</span><span class="op" id="6872902">(</span><span class="num" id="6872903">0</span><span class="op" id="6872904">,</span>&nbsp;<span class="num" id="6872906">0</span><span class="op" id="6872907">,</span>&nbsp;<span class="num" id="6872909">100</span><span class="op" id="6872912">,</span>&nbsp;<span class="num" id="6872914">100</span><span class="op" id="6872917">)</span><span class="op" id="6872918">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872922">image</span><span class="op" id="6872927">.</span><span class="ident" id="6872928">Rect</span><span class="op" id="6872932">(</span><span class="num" id="6872933">0</span><span class="op" id="6872934">,</span>&nbsp;<span class="num" id="6872936">0</span><span class="op" id="6872937">,</span>&nbsp;<span class="num" id="6872939">50</span><span class="op" id="6872941">,</span>&nbsp;<span class="num" id="6872943">100</span><span class="op" id="6872946">)</span><span class="op" id="6872947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872951">image</span><span class="op" id="6872956">.</span><span class="ident" id="6872957">Rect</span><span class="op" id="6872961">(</span><span class="num" id="6872962">20</span><span class="op" id="6872964">,</span>&nbsp;<span class="num" id="6872966">20</span><span class="op" id="6872968">,</span>&nbsp;<span class="num" id="6872970">80</span><span class="op" id="6872972">,</span>&nbsp;<span class="num" id="6872974">80</span><span class="op" id="6872976">)</span><span class="op" id="6872977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872981">image</span><span class="op" id="6872986">.</span><span class="ident" id="6872987">ZR</span><span class="op" id="6872989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6872993">image</span><span class="op" id="6872998">.</span><span class="ident" id="6872999">ZP</span><span class="op" id="6873001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873005">image</span><span class="op" id="6873010">.</span><span class="ident" id="6873011">ZP</span><span class="op" id="6873013">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6873017">true</span><span class="op" id="6873021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873025">image</span><span class="op" id="6873030">.</span><span class="ident" id="6873031">Rect</span><span class="op" id="6873035">(</span><span class="num" id="6873036">20</span><span class="op" id="6873038">,</span>&nbsp;<span class="num" id="6873040">20</span><span class="op" id="6873042">,</span>&nbsp;<span class="num" id="6873044">50</span><span class="op" id="6873046">,</span>&nbsp;<span class="num" id="6873048">80</span><span class="op" id="6873050">)</span><span class="op" id="6873051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873055">image</span><span class="op" id="6873060">.</span><span class="ident" id="6873061">Pt</span><span class="op" id="6873063">(</span><span class="num" id="6873064">20</span><span class="op" id="6873066">,</span>&nbsp;<span class="num" id="6873068">20</span><span class="op" id="6873070">)</span><span class="op" id="6873071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873075">image</span><span class="op" id="6873080">.</span><span class="ident" id="6873081">ZP</span><span class="op" id="6873083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873086">}</span><span class="op" id="6873087">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873094">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="6873136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873140">image</span><span class="op" id="6873145">.</span><span class="ident" id="6873146">Rect</span><span class="op" id="6873150">(</span><span class="num" id="6873151">0</span><span class="op" id="6873152">,</span>&nbsp;<span class="num" id="6873154">0</span><span class="op" id="6873155">,</span>&nbsp;<span class="num" id="6873157">100</span><span class="op" id="6873160">,</span>&nbsp;<span class="num" id="6873162">100</span><span class="op" id="6873165">)</span><span class="op" id="6873166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873170">image</span><span class="op" id="6873175">.</span><span class="ident" id="6873176">Rect</span><span class="op" id="6873180">(</span><span class="num" id="6873181">0</span><span class="op" id="6873182">,</span>&nbsp;<span class="num" id="6873184">0</span><span class="op" id="6873185">,</span>&nbsp;<span class="num" id="6873187">50</span><span class="op" id="6873189">,</span>&nbsp;<span class="num" id="6873191">100</span><span class="op" id="6873194">)</span><span class="op" id="6873195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873199">image</span><span class="op" id="6873204">.</span><span class="ident" id="6873205">Rect</span><span class="op" id="6873209">(</span><span class="num" id="6873210">20</span><span class="op" id="6873212">,</span>&nbsp;<span class="num" id="6873214">20</span><span class="op" id="6873216">,</span>&nbsp;<span class="num" id="6873218">80</span><span class="op" id="6873220">,</span>&nbsp;<span class="num" id="6873222">80</span><span class="op" id="6873224">)</span><span class="op" id="6873225">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873229">image</span><span class="op" id="6873234">.</span><span class="ident" id="6873235">ZR</span><span class="op" id="6873237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873241">image</span><span class="op" id="6873246">.</span><span class="ident" id="6873247">Pt</span><span class="op" id="6873249">(</span><span class="num" id="6873250">15</span><span class="op" id="6873252">,</span>&nbsp;<span class="num" id="6873254">8</span><span class="op" id="6873255">)</span><span class="op" id="6873256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873260">image</span><span class="op" id="6873265">.</span><span class="ident" id="6873266">ZP</span><span class="op" id="6873268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6873272">true</span><span class="op" id="6873276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873280">image</span><span class="op" id="6873285">.</span><span class="ident" id="6873286">Rect</span><span class="op" id="6873290">(</span><span class="num" id="6873291">5</span><span class="op" id="6873292">,</span>&nbsp;<span class="num" id="6873294">12</span><span class="op" id="6873296">,</span>&nbsp;<span class="num" id="6873298">50</span><span class="op" id="6873300">,</span>&nbsp;<span class="num" id="6873302">72</span><span class="op" id="6873304">)</span><span class="op" id="6873305">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873309">image</span><span class="op" id="6873314">.</span><span class="ident" id="6873315">Pt</span><span class="op" id="6873317">(</span><span class="num" id="6873318">20</span><span class="op" id="6873320">,</span>&nbsp;<span class="num" id="6873322">20</span><span class="op" id="6873324">)</span><span class="op" id="6873325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873329">image</span><span class="op" id="6873334">.</span><span class="ident" id="6873335">ZP</span><span class="op" id="6873337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873340">}</span><span class="op" id="6873341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873348">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="6873393">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873397">image</span><span class="op" id="6873402">.</span><span class="ident" id="6873403">Rect</span><span class="op" id="6873407">(</span><span class="num" id="6873408">0</span><span class="op" id="6873409">,</span>&nbsp;<span class="num" id="6873411">0</span><span class="op" id="6873412">,</span>&nbsp;<span class="num" id="6873414">100</span><span class="op" id="6873417">,</span>&nbsp;<span class="num" id="6873419">100</span><span class="op" id="6873422">)</span><span class="op" id="6873423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873427">image</span><span class="op" id="6873432">.</span><span class="ident" id="6873433">Rect</span><span class="op" id="6873437">(</span><span class="num" id="6873438">0</span><span class="op" id="6873439">,</span>&nbsp;<span class="num" id="6873441">0</span><span class="op" id="6873442">,</span>&nbsp;<span class="num" id="6873444">50</span><span class="op" id="6873446">,</span>&nbsp;<span class="num" id="6873448">100</span><span class="op" id="6873451">)</span><span class="op" id="6873452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873456">image</span><span class="op" id="6873461">.</span><span class="ident" id="6873462">Rect</span><span class="op" id="6873466">(</span><span class="num" id="6873467">20</span><span class="op" id="6873469">,</span>&nbsp;<span class="num" id="6873471">20</span><span class="op" id="6873473">,</span>&nbsp;<span class="num" id="6873475">80</span><span class="op" id="6873477">,</span>&nbsp;<span class="num" id="6873479">80</span><span class="op" id="6873481">)</span><span class="op" id="6873482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873486">image</span><span class="op" id="6873491">.</span><span class="ident" id="6873492">ZR</span><span class="op" id="6873494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873498">image</span><span class="op" id="6873503">.</span><span class="ident" id="6873504">Pt</span><span class="op" id="6873506">(</span><span class="num" id="6873507">15</span><span class="op" id="6873509">,</span>&nbsp;<span class="num" id="6873511">66</span><span class="op" id="6873513">)</span><span class="op" id="6873514">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873518">image</span><span class="op" id="6873523">.</span><span class="ident" id="6873524">ZP</span><span class="op" id="6873526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6873530">true</span><span class="op" id="6873534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873538">image</span><span class="op" id="6873543">.</span><span class="ident" id="6873544">Rect</span><span class="op" id="6873548">(</span><span class="num" id="6873549">5</span><span class="op" id="6873550">,</span>&nbsp;<span class="num" id="6873552">0</span><span class="op" id="6873553">,</span>&nbsp;<span class="num" id="6873555">50</span><span class="op" id="6873557">,</span>&nbsp;<span class="num" id="6873559">14</span><span class="op" id="6873561">)</span><span class="op" id="6873562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873566">image</span><span class="op" id="6873571">.</span><span class="ident" id="6873572">Pt</span><span class="op" id="6873574">(</span><span class="num" id="6873575">20</span><span class="op" id="6873577">,</span>&nbsp;<span class="num" id="6873579">66</span><span class="op" id="6873581">)</span><span class="op" id="6873582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873586">image</span><span class="op" id="6873591">.</span><span class="ident" id="6873592">ZP</span><span class="op" id="6873594">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873597">}</span><span class="op" id="6873598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873605">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="6873650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873654">image</span><span class="op" id="6873659">.</span><span class="ident" id="6873660">Rect</span><span class="op" id="6873664">(</span><span class="num" id="6873665">0</span><span class="op" id="6873666">,</span>&nbsp;<span class="num" id="6873668">0</span><span class="op" id="6873669">,</span>&nbsp;<span class="num" id="6873671">100</span><span class="op" id="6873674">,</span>&nbsp;<span class="num" id="6873676">100</span><span class="op" id="6873679">)</span><span class="op" id="6873680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873684">image</span><span class="op" id="6873689">.</span><span class="ident" id="6873690">Rect</span><span class="op" id="6873694">(</span><span class="num" id="6873695">0</span><span class="op" id="6873696">,</span>&nbsp;<span class="num" id="6873698">0</span><span class="op" id="6873699">,</span>&nbsp;<span class="num" id="6873701">50</span><span class="op" id="6873703">,</span>&nbsp;<span class="num" id="6873705">100</span><span class="op" id="6873708">)</span><span class="op" id="6873709">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873713">image</span><span class="op" id="6873718">.</span><span class="ident" id="6873719">Rect</span><span class="op" id="6873723">(</span><span class="num" id="6873724">20</span><span class="op" id="6873726">,</span>&nbsp;<span class="num" id="6873728">20</span><span class="op" id="6873730">,</span>&nbsp;<span class="num" id="6873732">80</span><span class="op" id="6873734">,</span>&nbsp;<span class="num" id="6873736">80</span><span class="op" id="6873738">)</span><span class="op" id="6873739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873743">image</span><span class="op" id="6873748">.</span><span class="ident" id="6873749">ZR</span><span class="op" id="6873751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873755">image</span><span class="op" id="6873760">.</span><span class="ident" id="6873761">Pt</span><span class="op" id="6873763">(</span><span class="num" id="6873764">15</span><span class="op" id="6873766">,</span>&nbsp;<span class="num" id="6873768">91</span><span class="op" id="6873770">)</span><span class="op" id="6873771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873775">image</span><span class="op" id="6873780">.</span><span class="ident" id="6873781">ZP</span><span class="op" id="6873783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6873787">true</span><span class="op" id="6873791">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873795">image</span><span class="op" id="6873800">.</span><span class="ident" id="6873801">ZR</span><span class="op" id="6873803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873807">image</span><span class="op" id="6873812">.</span><span class="ident" id="6873813">Pt</span><span class="op" id="6873815">(</span><span class="num" id="6873816">15</span><span class="op" id="6873818">,</span>&nbsp;<span class="num" id="6873820">91</span><span class="op" id="6873822">)</span><span class="op" id="6873823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873827">image</span><span class="op" id="6873832">.</span><span class="ident" id="6873833">ZP</span><span class="op" id="6873835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873838">}</span><span class="op" id="6873839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6873842">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873846">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="6873876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873880">image</span><span class="op" id="6873885">.</span><span class="ident" id="6873886">Rect</span><span class="op" id="6873890">(</span><span class="num" id="6873891">0</span><span class="op" id="6873892">,</span>&nbsp;<span class="num" id="6873894">0</span><span class="op" id="6873895">,</span>&nbsp;<span class="num" id="6873897">100</span><span class="op" id="6873900">,</span>&nbsp;<span class="num" id="6873902">100</span><span class="op" id="6873905">)</span><span class="op" id="6873906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873910">image</span><span class="op" id="6873915">.</span><span class="ident" id="6873916">Rect</span><span class="op" id="6873920">(</span><span class="num" id="6873921">0</span><span class="op" id="6873922">,</span>&nbsp;<span class="num" id="6873924">0</span><span class="op" id="6873925">,</span>&nbsp;<span class="num" id="6873927">50</span><span class="op" id="6873929">,</span>&nbsp;<span class="num" id="6873931">100</span><span class="op" id="6873934">)</span><span class="op" id="6873935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873939">image</span><span class="op" id="6873944">.</span><span class="ident" id="6873945">Rect</span><span class="op" id="6873949">(</span><span class="num" id="6873950">20</span><span class="op" id="6873952">,</span>&nbsp;<span class="num" id="6873954">20</span><span class="op" id="6873956">,</span>&nbsp;<span class="num" id="6873958">80</span><span class="op" id="6873960">,</span>&nbsp;<span class="num" id="6873962">80</span><span class="op" id="6873964">)</span><span class="op" id="6873965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873969">image</span><span class="op" id="6873974">.</span><span class="ident" id="6873975">ZR</span><span class="op" id="6873977">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873981">image</span><span class="op" id="6873986">.</span><span class="ident" id="6873987">Pt</span><span class="op" id="6873989">(</span><span class="num" id="6873990">44</span><span class="op" id="6873992">,</span>&nbsp;<span class="num" id="6873994">33</span><span class="op" id="6873996">)</span><span class="op" id="6873997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874001">image</span><span class="op" id="6874006">.</span><span class="ident" id="6874007">ZP</span><span class="op" id="6874009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6874013">true</span><span class="op" id="6874017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874021">image</span><span class="op" id="6874026">.</span><span class="ident" id="6874027">Rect</span><span class="op" id="6874031">(</span><span class="num" id="6874032">0</span><span class="op" id="6874033">,</span>&nbsp;<span class="num" id="6874035">0</span><span class="op" id="6874036">,</span>&nbsp;<span class="num" id="6874038">36</span><span class="op" id="6874040">,</span>&nbsp;<span class="num" id="6874042">47</span><span class="op" id="6874044">)</span><span class="op" id="6874045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874049">image</span><span class="op" id="6874054">.</span><span class="ident" id="6874055">Pt</span><span class="op" id="6874057">(</span><span class="num" id="6874058">44</span><span class="op" id="6874060">,</span>&nbsp;<span class="num" id="6874062">33</span><span class="op" id="6874064">)</span><span class="op" id="6874065">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874069">image</span><span class="op" id="6874074">.</span><span class="ident" id="6874075">ZP</span><span class="op" id="6874077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874080">}</span><span class="op" id="6874081">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6874085">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874134">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6874138">&#34;basic&nbsp;mask&#34;</span><span class="op" id="6874150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874154">image</span><span class="op" id="6874159">.</span><span class="ident" id="6874160">Rect</span><span class="op" id="6874164">(</span><span class="num" id="6874165">0</span><span class="op" id="6874166">,</span>&nbsp;<span class="num" id="6874168">0</span><span class="op" id="6874169">,</span>&nbsp;<span class="num" id="6874171">80</span><span class="op" id="6874173">,</span>&nbsp;<span class="num" id="6874175">80</span><span class="op" id="6874177">)</span><span class="op" id="6874178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874182">image</span><span class="op" id="6874187">.</span><span class="ident" id="6874188">Rect</span><span class="op" id="6874192">(</span><span class="num" id="6874193">20</span><span class="op" id="6874195">,</span>&nbsp;<span class="num" id="6874197">0</span><span class="op" id="6874198">,</span>&nbsp;<span class="num" id="6874200">100</span><span class="op" id="6874203">,</span>&nbsp;<span class="num" id="6874205">80</span><span class="op" id="6874207">)</span><span class="op" id="6874208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874212">image</span><span class="op" id="6874217">.</span><span class="ident" id="6874218">Rect</span><span class="op" id="6874222">(</span><span class="num" id="6874223">0</span><span class="op" id="6874224">,</span>&nbsp;<span class="num" id="6874226">0</span><span class="op" id="6874227">,</span>&nbsp;<span class="num" id="6874229">50</span><span class="op" id="6874231">,</span>&nbsp;<span class="num" id="6874233">49</span><span class="op" id="6874235">)</span><span class="op" id="6874236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874240">image</span><span class="op" id="6874245">.</span><span class="ident" id="6874246">Rect</span><span class="op" id="6874250">(</span><span class="num" id="6874251">0</span><span class="op" id="6874252">,</span>&nbsp;<span class="num" id="6874254">0</span><span class="op" id="6874255">,</span>&nbsp;<span class="num" id="6874257">46</span><span class="op" id="6874259">,</span>&nbsp;<span class="num" id="6874261">47</span><span class="op" id="6874263">)</span><span class="op" id="6874264">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874268">image</span><span class="op" id="6874273">.</span><span class="ident" id="6874274">ZP</span><span class="op" id="6874276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874280">image</span><span class="op" id="6874285">.</span><span class="ident" id="6874286">ZP</span><span class="op" id="6874288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6874292">false</span><span class="op" id="6874297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874301">image</span><span class="op" id="6874306">.</span><span class="ident" id="6874307">Rect</span><span class="op" id="6874311">(</span><span class="num" id="6874312">20</span><span class="op" id="6874314">,</span>&nbsp;<span class="num" id="6874316">0</span><span class="op" id="6874317">,</span>&nbsp;<span class="num" id="6874319">46</span><span class="op" id="6874321">,</span>&nbsp;<span class="num" id="6874323">47</span><span class="op" id="6874325">)</span><span class="op" id="6874326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874330">image</span><span class="op" id="6874335">.</span><span class="ident" id="6874336">Pt</span><span class="op" id="6874338">(</span><span class="num" id="6874339">20</span><span class="op" id="6874341">,</span>&nbsp;<span class="num" id="6874343">0</span><span class="op" id="6874344">)</span><span class="op" id="6874345">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874349">image</span><span class="op" id="6874354">.</span><span class="ident" id="6874355">Pt</span><span class="op" id="6874357">(</span><span class="num" id="6874358">20</span><span class="op" id="6874360">,</span>&nbsp;<span class="num" id="6874362">0</span><span class="op" id="6874363">)</span><span class="op" id="6874364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874367">}</span><span class="op" id="6874368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6874371">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="6874408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="6874411">func</span>&nbsp;<span class="ident" id="6874416">TestClip</span><span class="op" id="6874424">(</span><span class="ident" id="6874425">t</span>&nbsp;<span class="op" id="6874427">*</span><span class="ident" id="6874428">testing</span><span class="op" id="6874435">.</span><span class="ident" id="6874436">T</span><span class="op" id="6874437">)</span>&nbsp;<span class="op" id="6874439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874442">dst0</span>&nbsp;<span class="op" id="6874447">:=</span>&nbsp;<span class="ident" id="6874450">image</span><span class="op" id="6874455">.</span><span class="ident" id="6874456">NewRGBA</span><span class="op" id="6874463">(</span><span class="ident" id="6874464">image</span><span class="op" id="6874469">.</span><span class="ident" id="6874470">Rect</span><span class="op" id="6874474">(</span><span class="num" id="6874475">0</span><span class="op" id="6874476">,</span>&nbsp;<span class="num" id="6874478">0</span><span class="op" id="6874479">,</span>&nbsp;<span class="num" id="6874481">100</span><span class="op" id="6874484">,</span>&nbsp;<span class="num" id="6874486">100</span><span class="op" id="6874489">)</span><span class="op" id="6874490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874493">src0</span>&nbsp;<span class="op" id="6874498">:=</span>&nbsp;<span class="ident" id="6874501">image</span><span class="op" id="6874506">.</span><span class="ident" id="6874507">NewRGBA</span><span class="op" id="6874514">(</span><span class="ident" id="6874515">image</span><span class="op" id="6874520">.</span><span class="ident" id="6874521">Rect</span><span class="op" id="6874525">(</span><span class="num" id="6874526">0</span><span class="op" id="6874527">,</span>&nbsp;<span class="num" id="6874529">0</span><span class="op" id="6874530">,</span>&nbsp;<span class="num" id="6874532">100</span><span class="op" id="6874535">,</span>&nbsp;<span class="num" id="6874537">100</span><span class="op" id="6874540">)</span><span class="op" id="6874541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874544">mask0</span>&nbsp;<span class="op" id="6874550">:=</span>&nbsp;<span class="ident" id="6874553">image</span><span class="op" id="6874558">.</span><span class="ident" id="6874559">NewRGBA</span><span class="op" id="6874566">(</span><span class="ident" id="6874567">image</span><span class="op" id="6874572">.</span><span class="ident" id="6874573">Rect</span><span class="op" id="6874577">(</span><span class="num" id="6874578">0</span><span class="op" id="6874579">,</span>&nbsp;<span class="num" id="6874581">0</span><span class="op" id="6874582">,</span>&nbsp;<span class="num" id="6874584">100</span><span class="op" id="6874587">,</span>&nbsp;<span class="num" id="6874589">100</span><span class="op" id="6874592">)</span><span class="op" id="6874593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874596">for</span>&nbsp;<span class="ident" id="6874600">_</span><span class="op" id="6874601">,</span>&nbsp;<span class="ident" id="6874603">c</span>&nbsp;<span class="op" id="6874605">:=</span>&nbsp;<span class="keyword" id="6874608">range</span>&nbsp;<span class="ident" id="6874614">clipTests</span>&nbsp;<span class="op" id="6874624">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874628">dst</span>&nbsp;<span class="op" id="6874632">:=</span>&nbsp;<span class="ident" id="6874635">dst0</span><span class="op" id="6874639">.</span><span class="ident" id="6874640">SubImage</span><span class="op" id="6874648">(</span><span class="ident" id="6874649">c</span><span class="op" id="6874650">.</span><span class="ident" id="6874651">dr</span><span class="op" id="6874653">)</span><span class="op" id="6874654">.</span><span class="op" id="6874655">(</span><span class="op" id="6874656">*</span><span class="ident" id="6874657">image</span><span class="op" id="6874662">.</span><span class="ident" id="6874663">RGBA</span><span class="op" id="6874667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874671">src</span>&nbsp;<span class="op" id="6874675">:=</span>&nbsp;<span class="ident" id="6874678">src0</span><span class="op" id="6874682">.</span><span class="ident" id="6874683">SubImage</span><span class="op" id="6874691">(</span><span class="ident" id="6874692">c</span><span class="op" id="6874693">.</span><span class="ident" id="6874694">sr</span><span class="op" id="6874696">)</span><span class="op" id="6874697">.</span><span class="op" id="6874698">(</span><span class="op" id="6874699">*</span><span class="ident" id="6874700">image</span><span class="op" id="6874705">.</span><span class="ident" id="6874706">RGBA</span><span class="op" id="6874710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874714">var</span>&nbsp;<span class="ident" id="6874718">mask</span>&nbsp;<span class="ident" id="6874723">image</span><span class="op" id="6874728">.</span><span class="ident" id="6874729">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874737">if</span>&nbsp;<span class="op" id="6874740">!</span><span class="ident" id="6874741">c</span><span class="op" id="6874742">.</span><span class="ident" id="6874743">nilMask</span>&nbsp;<span class="op" id="6874751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874756">mask</span>&nbsp;<span class="op" id="6874761">=</span>&nbsp;<span class="ident" id="6874763">mask0</span><span class="op" id="6874768">.</span><span class="ident" id="6874769">SubImage</span><span class="op" id="6874777">(</span><span class="ident" id="6874778">c</span><span class="op" id="6874779">.</span><span class="ident" id="6874780">mr</span><span class="op" id="6874782">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874790">r</span><span class="op" id="6874791">,</span>&nbsp;<span class="ident" id="6874793">sp</span><span class="op" id="6874795">,</span>&nbsp;<span class="ident" id="6874797">mp</span>&nbsp;<span class="op" id="6874800">:=</span>&nbsp;<span class="ident" id="6874803">c</span><span class="op" id="6874804">.</span><span class="ident" id="6874805">r</span><span class="op" id="6874806">,</span>&nbsp;<span class="ident" id="6874808">c</span><span class="op" id="6874809">.</span><span class="ident" id="6874810">sp</span><span class="op" id="6874812">,</span>&nbsp;<span class="ident" id="6874814">c</span><span class="op" id="6874815">.</span><span class="ident" id="6874816">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874821">clip</span><span class="op" id="6874825">(</span><span class="ident" id="6874826">dst</span><span class="op" id="6874829">,</span>&nbsp;<span class="op" id="6874831">&amp;</span><span class="ident" id="6874832">r</span><span class="op" id="6874833">,</span>&nbsp;<span class="ident" id="6874835">src</span><span class="op" id="6874838">,</span>&nbsp;<span class="op" id="6874840">&amp;</span><span class="ident" id="6874841">sp</span><span class="op" id="6874843">,</span>&nbsp;<span class="ident" id="6874845">mask</span><span class="op" id="6874849">,</span>&nbsp;<span class="op" id="6874851">&amp;</span><span class="ident" id="6874852">mp</span><span class="op" id="6874854">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6874859">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874922">if</span>&nbsp;<span class="op" id="6874925">!</span><span class="ident" id="6874926">c</span><span class="op" id="6874927">.</span><span class="ident" id="6874928">r0</span><span class="op" id="6874930">.</span><span class="ident" id="6874931">Eq</span><span class="op" id="6874933">(</span><span class="ident" id="6874934">r</span><span class="op" id="6874935">)</span>&nbsp;<span class="op" id="6874937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874942">t</span><span class="op" id="6874943">.</span><span class="ident" id="6874944">Errorf</span><span class="op" id="6874950">(</span><span class="string" id="6874951">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6874986">,</span>&nbsp;<span class="ident" id="6874988">c</span><span class="op" id="6874989">.</span><span class="ident" id="6874990">desc</span><span class="op" id="6874994">,</span>&nbsp;<span class="ident" id="6874996">c</span><span class="op" id="6874997">.</span><span class="ident" id="6874998">r0</span><span class="op" id="6875000">,</span>&nbsp;<span class="ident" id="6875002">r</span><span class="op" id="6875003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875008">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875023">if</span>&nbsp;<span class="op" id="6875026">!</span><span class="ident" id="6875027">c</span><span class="op" id="6875028">.</span><span class="ident" id="6875029">sp0</span><span class="op" id="6875032">.</span><span class="ident" id="6875033">Eq</span><span class="op" id="6875035">(</span><span class="ident" id="6875036">sp</span><span class="op" id="6875038">)</span>&nbsp;<span class="op" id="6875040">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875045">t</span><span class="op" id="6875046">.</span><span class="ident" id="6875047">Errorf</span><span class="op" id="6875053">(</span><span class="string" id="6875054">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6875077">,</span>&nbsp;<span class="ident" id="6875079">c</span><span class="op" id="6875080">.</span><span class="ident" id="6875081">desc</span><span class="op" id="6875085">,</span>&nbsp;<span class="ident" id="6875087">c</span><span class="op" id="6875088">.</span><span class="ident" id="6875089">sp0</span><span class="op" id="6875092">,</span>&nbsp;<span class="ident" id="6875094">sp</span><span class="op" id="6875096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875101">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875116">if</span>&nbsp;<span class="op" id="6875119">!</span><span class="ident" id="6875120">c</span><span class="op" id="6875121">.</span><span class="ident" id="6875122">nilMask</span>&nbsp;<span class="op" id="6875130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875135">if</span>&nbsp;<span class="op" id="6875138">!</span><span class="ident" id="6875139">c</span><span class="op" id="6875140">.</span><span class="ident" id="6875141">mp0</span><span class="op" id="6875144">.</span><span class="ident" id="6875145">Eq</span><span class="op" id="6875147">(</span><span class="ident" id="6875148">mp</span><span class="op" id="6875150">)</span>&nbsp;<span class="op" id="6875152">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875158">t</span><span class="op" id="6875159">.</span><span class="ident" id="6875160">Errorf</span><span class="op" id="6875166">(</span><span class="string" id="6875167">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6875190">,</span>&nbsp;<span class="ident" id="6875192">c</span><span class="op" id="6875193">.</span><span class="ident" id="6875194">desc</span><span class="op" id="6875198">,</span>&nbsp;<span class="ident" id="6875200">c</span><span class="op" id="6875201">.</span><span class="ident" id="6875202">mp0</span><span class="op" id="6875205">,</span>&nbsp;<span class="ident" id="6875207">mp</span><span class="op" id="6875209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875215">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875236">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875311">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875368">if</span>&nbsp;<span class="op" id="6875371">!</span><span class="ident" id="6875372">r</span><span class="op" id="6875373">.</span><span class="ident" id="6875374">In</span><span class="op" id="6875376">(</span><span class="ident" id="6875377">c</span><span class="op" id="6875378">.</span><span class="ident" id="6875379">dr</span><span class="op" id="6875381">)</span>&nbsp;<span class="op" id="6875383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875388">t</span><span class="op" id="6875389">.</span><span class="ident" id="6875390">Errorf</span><span class="op" id="6875396">(</span><span class="string" id="6875397">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="6875432">,</span>&nbsp;<span class="ident" id="6875434">c</span><span class="op" id="6875435">.</span><span class="ident" id="6875436">desc</span><span class="op" id="6875440">,</span>&nbsp;<span class="ident" id="6875442">c</span><span class="op" id="6875443">.</span><span class="ident" id="6875444">dr</span><span class="op" id="6875446">,</span>&nbsp;<span class="ident" id="6875448">r</span><span class="op" id="6875449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875453">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875457">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875511">sr</span>&nbsp;<span class="op" id="6875514">:=</span>&nbsp;<span class="ident" id="6875517">r</span><span class="op" id="6875518">.</span><span class="ident" id="6875519">Add</span><span class="op" id="6875522">(</span><span class="ident" id="6875523">c</span><span class="op" id="6875524">.</span><span class="ident" id="6875525">sp</span><span class="op" id="6875527">.</span><span class="ident" id="6875528">Sub</span><span class="op" id="6875531">(</span><span class="ident" id="6875532">c</span><span class="op" id="6875533">.</span><span class="ident" id="6875534">dr</span><span class="op" id="6875536">.</span><span class="ident" id="6875537">Min</span><span class="op" id="6875540">)</span><span class="op" id="6875541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875545">if</span>&nbsp;<span class="op" id="6875548">!</span><span class="ident" id="6875549">sr</span><span class="op" id="6875551">.</span><span class="ident" id="6875552">In</span><span class="op" id="6875554">(</span><span class="ident" id="6875555">c</span><span class="op" id="6875556">.</span><span class="ident" id="6875557">sr</span><span class="op" id="6875559">)</span>&nbsp;<span class="op" id="6875561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875566">t</span><span class="op" id="6875567">.</span><span class="ident" id="6875568">Errorf</span><span class="op" id="6875574">(</span><span class="string" id="6875575">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="6875611">,</span>&nbsp;<span class="ident" id="6875613">c</span><span class="op" id="6875614">.</span><span class="ident" id="6875615">desc</span><span class="op" id="6875619">,</span>&nbsp;<span class="ident" id="6875621">c</span><span class="op" id="6875622">.</span><span class="ident" id="6875623">sr</span><span class="op" id="6875625">,</span>&nbsp;<span class="ident" id="6875627">sr</span><span class="op" id="6875629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875633">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875637">if</span>&nbsp;<span class="op" id="6875640">!</span><span class="ident" id="6875641">c</span><span class="op" id="6875642">.</span><span class="ident" id="6875643">nilMask</span>&nbsp;<span class="op" id="6875651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6875656">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875712">mr</span>&nbsp;<span class="op" id="6875715">:=</span>&nbsp;<span class="ident" id="6875718">r</span><span class="op" id="6875719">.</span><span class="ident" id="6875720">Add</span><span class="op" id="6875723">(</span><span class="ident" id="6875724">c</span><span class="op" id="6875725">.</span><span class="ident" id="6875726">mp</span><span class="op" id="6875728">.</span><span class="ident" id="6875729">Sub</span><span class="op" id="6875732">(</span><span class="ident" id="6875733">c</span><span class="op" id="6875734">.</span><span class="ident" id="6875735">dr</span><span class="op" id="6875737">.</span><span class="ident" id="6875738">Min</span><span class="op" id="6875741">)</span><span class="op" id="6875742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875747">if</span>&nbsp;<span class="op" id="6875750">!</span><span class="ident" id="6875751">mr</span><span class="op" id="6875753">.</span><span class="ident" id="6875754">In</span><span class="op" id="6875756">(</span><span class="ident" id="6875757">c</span><span class="op" id="6875758">.</span><span class="ident" id="6875759">mr</span><span class="op" id="6875761">)</span>&nbsp;<span class="op" id="6875763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875769">t</span><span class="op" id="6875770">.</span><span class="ident" id="6875771">Errorf</span><span class="op" id="6875777">(</span><span class="string" id="6875778">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="6875814">,</span>&nbsp;<span class="ident" id="6875816">c</span><span class="op" id="6875817">.</span><span class="ident" id="6875818">desc</span><span class="op" id="6875822">,</span>&nbsp;<span class="ident" id="6875824">c</span><span class="op" id="6875825">.</span><span class="ident" id="6875826">mr</span><span class="op" id="6875828">,</span>&nbsp;<span class="ident" id="6875830">mr</span><span class="op" id="6875832">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875844">}</span><br>
<span class="lineno"></span><span class="op" id="6875846">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
