<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3303390">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3303445">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3303499">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3303550">package</span>&nbsp;<span class="ident" id="3303558">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3303563">import</span>&nbsp;<span class="string" id="3303570">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3303580">type</span>&nbsp;<span class="ident" id="3303585">Filter</span>&nbsp;<span class="keyword" id="3303592">func</span><span class="op" id="3303596">(</span><span class="builtintype" id="3303597">string</span><span class="op" id="3303603">)</span>&nbsp;<span class="builtintype" id="3303605">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="3303611">func</span>&nbsp;<span class="ident" id="3303616">matchFields</span><span class="op" id="3303627">(</span><span class="ident" id="3303628">fields</span>&nbsp;<span class="op" id="3303635">*</span><span class="ident" id="3303636">ast</span><span class="op" id="3303639">.</span><span class="ident" id="3303640">FieldList</span><span class="op" id="3303649">,</span>&nbsp;<span class="ident" id="3303651">f</span>&nbsp;<span class="ident" id="3303653">Filter</span><span class="op" id="3303659">)</span>&nbsp;<span class="builtintype" id="3303661">bool</span>&nbsp;<span class="op" id="3303666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303669">if</span>&nbsp;<span class="ident" id="3303672">fields</span>&nbsp;<span class="op" id="3303679">!=</span>&nbsp;<span class="ident" id="3303682">nil</span>&nbsp;<span class="op" id="3303686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303690">for</span>&nbsp;<span class="ident" id="3303694">_</span><span class="op" id="3303695">,</span>&nbsp;<span class="ident" id="3303697">field</span>&nbsp;<span class="op" id="3303703">:=</span>&nbsp;<span class="keyword" id="3303706">range</span>&nbsp;<span class="ident" id="3303712">fields</span><span class="op" id="3303718">.</span><span class="ident" id="3303719">List</span>&nbsp;<span class="op" id="3303724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303729">for</span>&nbsp;<span class="ident" id="3303733">_</span><span class="op" id="3303734">,</span>&nbsp;<span class="ident" id="3303736">name</span>&nbsp;<span class="op" id="3303741">:=</span>&nbsp;<span class="keyword" id="3303744">range</span>&nbsp;<span class="ident" id="3303750">field</span><span class="op" id="3303755">.</span><span class="ident" id="3303756">Names</span>&nbsp;<span class="op" id="3303762">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303768">if</span>&nbsp;<span class="ident" id="3303771">f</span><span class="op" id="3303772">(</span><span class="ident" id="3303773">name</span><span class="op" id="3303777">.</span><span class="ident" id="3303778">Name</span><span class="op" id="3303782">)</span>&nbsp;<span class="op" id="3303784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303791">return</span>&nbsp;<span class="builtintype" id="3303798">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3303807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3303812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3303816">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3303819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303822">return</span>&nbsp;<span class="builtintype" id="3303829">false</span><br>
<span class="lineno"></span><span class="op" id="3303835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3303838">func</span>&nbsp;<span class="ident" id="3303843">matchDecl</span><span class="op" id="3303852">(</span><span class="ident" id="3303853">d</span>&nbsp;<span class="op" id="3303855">*</span><span class="ident" id="3303856">ast</span><span class="op" id="3303859">.</span><span class="ident" id="3303860">GenDecl</span><span class="op" id="3303867">,</span>&nbsp;<span class="ident" id="3303869">f</span>&nbsp;<span class="ident" id="3303871">Filter</span><span class="op" id="3303877">)</span>&nbsp;<span class="builtintype" id="3303879">bool</span>&nbsp;<span class="op" id="3303884">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303887">for</span>&nbsp;<span class="ident" id="3303891">_</span><span class="op" id="3303892">,</span>&nbsp;<span class="ident" id="3303894">d</span>&nbsp;<span class="op" id="3303896">:=</span>&nbsp;<span class="keyword" id="3303899">range</span>&nbsp;<span class="ident" id="3303905">d</span><span class="op" id="3303906">.</span><span class="ident" id="3303907">Specs</span>&nbsp;<span class="op" id="3303913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303917">switch</span>&nbsp;<span class="ident" id="3303924">v</span>&nbsp;<span class="op" id="3303926">:=</span>&nbsp;<span class="ident" id="3303929">d</span><span class="op" id="3303930">.</span><span class="op" id="3303931">(</span><span class="keyword" id="3303932">type</span><span class="op" id="3303936">)</span>&nbsp;<span class="op" id="3303938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303942">case</span>&nbsp;<span class="op" id="3303947">*</span><span class="ident" id="3303948">ast</span><span class="op" id="3303951">.</span><span class="ident" id="3303952">ValueSpec</span><span class="op" id="3303961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3303966">for</span>&nbsp;<span class="ident" id="3303970">_</span><span class="op" id="3303971">,</span>&nbsp;<span class="ident" id="3303973">name</span>&nbsp;<span class="op" id="3303978">:=</span>&nbsp;<span class="keyword" id="3303981">range</span>&nbsp;<span class="ident" id="3303987">v</span><span class="op" id="3303988">.</span><span class="ident" id="3303989">Names</span>&nbsp;<span class="op" id="3303995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304001">if</span>&nbsp;<span class="ident" id="3304004">f</span><span class="op" id="3304005">(</span><span class="ident" id="3304006">name</span><span class="op" id="3304010">.</span><span class="ident" id="3304011">Name</span><span class="op" id="3304015">)</span>&nbsp;<span class="op" id="3304017">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304024">return</span>&nbsp;<span class="builtintype" id="3304031">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304049">case</span>&nbsp;<span class="op" id="3304054">*</span><span class="ident" id="3304055">ast</span><span class="op" id="3304058">.</span><span class="ident" id="3304059">TypeSpec</span><span class="op" id="3304067">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304072">if</span>&nbsp;<span class="ident" id="3304075">f</span><span class="op" id="3304076">(</span><span class="ident" id="3304077">v</span><span class="op" id="3304078">.</span><span class="ident" id="3304079">Name</span><span class="op" id="3304083">.</span><span class="ident" id="3304084">Name</span><span class="op" id="3304088">)</span>&nbsp;<span class="op" id="3304090">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304096">return</span>&nbsp;<span class="builtintype" id="3304103">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304116">switch</span>&nbsp;<span class="ident" id="3304123">t</span>&nbsp;<span class="op" id="3304125">:=</span>&nbsp;<span class="ident" id="3304128">v</span><span class="op" id="3304129">.</span><span class="ident" id="3304130">Type</span><span class="op" id="3304134">.</span><span class="op" id="3304135">(</span><span class="keyword" id="3304136">type</span><span class="op" id="3304140">)</span>&nbsp;<span class="op" id="3304142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304147">case</span>&nbsp;<span class="op" id="3304152">*</span><span class="ident" id="3304153">ast</span><span class="op" id="3304156">.</span><span class="ident" id="3304157">StructType</span><span class="op" id="3304167">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304173">if</span>&nbsp;<span class="ident" id="3304176">matchFields</span><span class="op" id="3304187">(</span><span class="ident" id="3304188">t</span><span class="op" id="3304189">.</span><span class="ident" id="3304190">Fields</span><span class="op" id="3304196">,</span>&nbsp;<span class="ident" id="3304198">f</span><span class="op" id="3304199">)</span>&nbsp;<span class="op" id="3304201">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304208">return</span>&nbsp;<span class="builtintype" id="3304215">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304229">case</span>&nbsp;<span class="op" id="3304234">*</span><span class="ident" id="3304235">ast</span><span class="op" id="3304238">.</span><span class="ident" id="3304239">InterfaceType</span><span class="op" id="3304252">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304258">if</span>&nbsp;<span class="ident" id="3304261">matchFields</span><span class="op" id="3304272">(</span><span class="ident" id="3304273">t</span><span class="op" id="3304274">.</span><span class="ident" id="3304275">Methods</span><span class="op" id="3304282">,</span>&nbsp;<span class="ident" id="3304284">f</span><span class="op" id="3304285">)</span>&nbsp;<span class="op" id="3304287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304294">return</span>&nbsp;<span class="builtintype" id="3304301">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304325">return</span>&nbsp;<span class="builtintype" id="3304332">false</span><br>
<span class="lineno">50</span><span class="op" id="3304338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3304341">func</span>&nbsp;<span class="ident" id="3304346">filterValues</span><span class="op" id="3304358">(</span><span class="ident" id="3304359">a</span>&nbsp;<span class="op" id="3304361">[</span><span class="op" id="3304362">]</span><span class="op" id="3304363">*</span><span class="ident" id="3304364">Value</span><span class="op" id="3304369">,</span>&nbsp;<span class="ident" id="3304371">f</span>&nbsp;<span class="ident" id="3304373">Filter</span><span class="op" id="3304379">)</span>&nbsp;<span class="op" id="3304381">[</span><span class="op" id="3304382">]</span><span class="op" id="3304383">*</span><span class="ident" id="3304384">Value</span>&nbsp;<span class="op" id="3304390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304393">w</span>&nbsp;<span class="op" id="3304395">:=</span>&nbsp;<span class="num" id="3304398">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304401">for</span>&nbsp;<span class="ident" id="3304405">_</span><span class="op" id="3304406">,</span>&nbsp;<span class="ident" id="3304408">vd</span>&nbsp;<span class="op" id="3304411">:=</span>&nbsp;<span class="keyword" id="3304414">range</span>&nbsp;<span class="ident" id="3304420">a</span>&nbsp;<span class="op" id="3304422">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304426">if</span>&nbsp;<span class="ident" id="3304429">matchDecl</span><span class="op" id="3304438">(</span><span class="ident" id="3304439">vd</span><span class="op" id="3304441">.</span><span class="ident" id="3304442">Decl</span><span class="op" id="3304446">,</span>&nbsp;<span class="ident" id="3304448">f</span><span class="op" id="3304449">)</span>&nbsp;<span class="op" id="3304451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304456">a</span><span class="op" id="3304457">[</span><span class="ident" id="3304458">w</span><span class="op" id="3304459">]</span>&nbsp;<span class="op" id="3304461">=</span>&nbsp;<span class="ident" id="3304463">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304469">w</span><span class="op" id="3304470">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304478">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304481">return</span>&nbsp;<span class="ident" id="3304488">a</span><span class="op" id="3304489">[</span><span class="num" id="3304490">0</span><span class="op" id="3304491">:</span><span class="ident" id="3304492">w</span><span class="op" id="3304493">]</span><br>
<span class="lineno"></span><span class="op" id="3304495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3304498">func</span>&nbsp;<span class="ident" id="3304503">filterFuncs</span><span class="op" id="3304514">(</span><span class="ident" id="3304515">a</span>&nbsp;<span class="op" id="3304517">[</span><span class="op" id="3304518">]</span><span class="op" id="3304519">*</span><span class="ident" id="3304520">Func</span><span class="op" id="3304524">,</span>&nbsp;<span class="ident" id="3304526">f</span>&nbsp;<span class="ident" id="3304528">Filter</span><span class="op" id="3304534">)</span>&nbsp;<span class="op" id="3304536">[</span><span class="op" id="3304537">]</span><span class="op" id="3304538">*</span><span class="ident" id="3304539">Func</span>&nbsp;<span class="op" id="3304544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304547">w</span>&nbsp;<span class="op" id="3304549">:=</span>&nbsp;<span class="num" id="3304552">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304555">for</span>&nbsp;<span class="ident" id="3304559">_</span><span class="op" id="3304560">,</span>&nbsp;<span class="ident" id="3304562">fd</span>&nbsp;<span class="op" id="3304565">:=</span>&nbsp;<span class="keyword" id="3304568">range</span>&nbsp;<span class="ident" id="3304574">a</span>&nbsp;<span class="op" id="3304576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304580">if</span>&nbsp;<span class="ident" id="3304583">f</span><span class="op" id="3304584">(</span><span class="ident" id="3304585">fd</span><span class="op" id="3304587">.</span><span class="ident" id="3304588">Name</span><span class="op" id="3304592">)</span>&nbsp;<span class="op" id="3304594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304599">a</span><span class="op" id="3304600">[</span><span class="ident" id="3304601">w</span><span class="op" id="3304602">]</span>&nbsp;<span class="op" id="3304604">=</span>&nbsp;<span class="ident" id="3304606">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304612">w</span><span class="op" id="3304613">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304618">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304624">return</span>&nbsp;<span class="ident" id="3304631">a</span><span class="op" id="3304632">[</span><span class="num" id="3304633">0</span><span class="op" id="3304634">:</span><span class="ident" id="3304635">w</span><span class="op" id="3304636">]</span><br>
<span class="lineno"></span><span class="op" id="3304638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3304641">func</span>&nbsp;<span class="ident" id="3304646">filterTypes</span><span class="op" id="3304657">(</span><span class="ident" id="3304658">a</span>&nbsp;<span class="op" id="3304660">[</span><span class="op" id="3304661">]</span><span class="op" id="3304662">*</span><span class="ident" id="3304663">Type</span><span class="op" id="3304667">,</span>&nbsp;<span class="ident" id="3304669">f</span>&nbsp;<span class="ident" id="3304671">Filter</span><span class="op" id="3304677">)</span>&nbsp;<span class="op" id="3304679">[</span><span class="op" id="3304680">]</span><span class="op" id="3304681">*</span><span class="ident" id="3304682">Type</span>&nbsp;<span class="op" id="3304687">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304690">w</span>&nbsp;<span class="op" id="3304692">:=</span>&nbsp;<span class="num" id="3304695">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304698">for</span>&nbsp;<span class="ident" id="3304702">_</span><span class="op" id="3304703">,</span>&nbsp;<span class="ident" id="3304705">td</span>&nbsp;<span class="op" id="3304708">:=</span>&nbsp;<span class="keyword" id="3304711">range</span>&nbsp;<span class="ident" id="3304717">a</span>&nbsp;<span class="op" id="3304719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304723">n</span>&nbsp;<span class="op" id="3304725">:=</span>&nbsp;<span class="num" id="3304728">0</span>&nbsp;<span class="comment" id="3304730">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3304753">if</span>&nbsp;<span class="ident" id="3304756">matchDecl</span><span class="op" id="3304765">(</span><span class="ident" id="3304766">td</span><span class="op" id="3304768">.</span><span class="ident" id="3304769">Decl</span><span class="op" id="3304773">,</span>&nbsp;<span class="ident" id="3304775">f</span><span class="op" id="3304776">)</span>&nbsp;<span class="op" id="3304778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304783">n</span>&nbsp;<span class="op" id="3304785">=</span>&nbsp;<span class="num" id="3304787">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3304791">}</span>&nbsp;<span class="keyword" id="3304793">else</span>&nbsp;<span class="op" id="3304798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3304803">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304894">td</span><span class="op" id="3304896">.</span><span class="ident" id="3304897">Consts</span>&nbsp;<span class="op" id="3304904">=</span>&nbsp;<span class="ident" id="3304906">filterValues</span><span class="op" id="3304918">(</span><span class="ident" id="3304919">td</span><span class="op" id="3304921">.</span><span class="ident" id="3304922">Consts</span><span class="op" id="3304928">,</span>&nbsp;<span class="ident" id="3304930">f</span><span class="op" id="3304931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304936">td</span><span class="op" id="3304938">.</span><span class="ident" id="3304939">Vars</span>&nbsp;<span class="op" id="3304944">=</span>&nbsp;<span class="ident" id="3304946">filterValues</span><span class="op" id="3304958">(</span><span class="ident" id="3304959">td</span><span class="op" id="3304961">.</span><span class="ident" id="3304962">Vars</span><span class="op" id="3304966">,</span>&nbsp;<span class="ident" id="3304968">f</span><span class="op" id="3304969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3304974">td</span><span class="op" id="3304976">.</span><span class="ident" id="3304977">Funcs</span>&nbsp;<span class="op" id="3304983">=</span>&nbsp;<span class="ident" id="3304985">filterFuncs</span><span class="op" id="3304996">(</span><span class="ident" id="3304997">td</span><span class="op" id="3304999">.</span><span class="ident" id="3305000">Funcs</span><span class="op" id="3305005">,</span>&nbsp;<span class="ident" id="3305007">f</span><span class="op" id="3305008">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305013">td</span><span class="op" id="3305015">.</span><span class="ident" id="3305016">Methods</span>&nbsp;<span class="op" id="3305024">=</span>&nbsp;<span class="ident" id="3305026">filterFuncs</span><span class="op" id="3305037">(</span><span class="ident" id="3305038">td</span><span class="op" id="3305040">.</span><span class="ident" id="3305041">Methods</span><span class="op" id="3305048">,</span>&nbsp;<span class="ident" id="3305050">f</span><span class="op" id="3305051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305056">n</span>&nbsp;<span class="op" id="3305058">+=</span>&nbsp;<span class="builtinfunc" id="3305061">len</span><span class="op" id="3305064">(</span><span class="ident" id="3305065">td</span><span class="op" id="3305067">.</span><span class="ident" id="3305068">Consts</span><span class="op" id="3305074">)</span>&nbsp;<span class="op" id="3305076">+</span>&nbsp;<span class="builtinfunc" id="3305078">len</span><span class="op" id="3305081">(</span><span class="ident" id="3305082">td</span><span class="op" id="3305084">.</span><span class="ident" id="3305085">Vars</span><span class="op" id="3305089">)</span>&nbsp;<span class="op" id="3305091">+</span>&nbsp;<span class="builtinfunc" id="3305093">len</span><span class="op" id="3305096">(</span><span class="ident" id="3305097">td</span><span class="op" id="3305099">.</span><span class="ident" id="3305100">Funcs</span><span class="op" id="3305105">)</span>&nbsp;<span class="op" id="3305107">+</span>&nbsp;<span class="builtinfunc" id="3305109">len</span><span class="op" id="3305112">(</span><span class="ident" id="3305113">td</span><span class="op" id="3305115">.</span><span class="ident" id="3305116">Methods</span><span class="op" id="3305123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3305127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3305131">if</span>&nbsp;<span class="ident" id="3305134">n</span>&nbsp;<span class="op" id="3305136">&gt;</span>&nbsp;<span class="num" id="3305138">0</span>&nbsp;<span class="op" id="3305140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305145">a</span><span class="op" id="3305146">[</span><span class="ident" id="3305147">w</span><span class="op" id="3305148">]</span>&nbsp;<span class="op" id="3305150">=</span>&nbsp;<span class="ident" id="3305152">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305158">w</span><span class="op" id="3305159">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3305164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3305167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3305170">return</span>&nbsp;<span class="ident" id="3305177">a</span><span class="op" id="3305178">[</span><span class="num" id="3305179">0</span><span class="op" id="3305180">:</span><span class="ident" id="3305181">w</span><span class="op" id="3305182">]</span><br>
<span class="lineno"></span><span class="op" id="3305184">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="3305187">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="3305270">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3305319">//</span><br>
<span class="lineno"></span><span class="keyword" id="3305322">func</span>&nbsp;<span class="op" id="3305327">(</span><span class="ident" id="3305328">p</span>&nbsp;<span class="op" id="3305330">*</span><span class="ident" id="3305331">Package</span><span class="op" id="3305338">)</span>&nbsp;<span class="ident" id="3305340">Filter</span><span class="op" id="3305346">(</span><span class="ident" id="3305347">f</span>&nbsp;<span class="ident" id="3305349">Filter</span><span class="op" id="3305355">)</span>&nbsp;<span class="op" id="3305357">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305360">p</span><span class="op" id="3305361">.</span><span class="ident" id="3305362">Consts</span>&nbsp;<span class="op" id="3305369">=</span>&nbsp;<span class="ident" id="3305371">filterValues</span><span class="op" id="3305383">(</span><span class="ident" id="3305384">p</span><span class="op" id="3305385">.</span><span class="ident" id="3305386">Consts</span><span class="op" id="3305392">,</span>&nbsp;<span class="ident" id="3305394">f</span><span class="op" id="3305395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305398">p</span><span class="op" id="3305399">.</span><span class="ident" id="3305400">Vars</span>&nbsp;<span class="op" id="3305405">=</span>&nbsp;<span class="ident" id="3305407">filterValues</span><span class="op" id="3305419">(</span><span class="ident" id="3305420">p</span><span class="op" id="3305421">.</span><span class="ident" id="3305422">Vars</span><span class="op" id="3305426">,</span>&nbsp;<span class="ident" id="3305428">f</span><span class="op" id="3305429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305432">p</span><span class="op" id="3305433">.</span><span class="ident" id="3305434">Types</span>&nbsp;<span class="op" id="3305440">=</span>&nbsp;<span class="ident" id="3305442">filterTypes</span><span class="op" id="3305453">(</span><span class="ident" id="3305454">p</span><span class="op" id="3305455">.</span><span class="ident" id="3305456">Types</span><span class="op" id="3305461">,</span>&nbsp;<span class="ident" id="3305463">f</span><span class="op" id="3305464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305467">p</span><span class="op" id="3305468">.</span><span class="ident" id="3305469">Funcs</span>&nbsp;<span class="op" id="3305475">=</span>&nbsp;<span class="ident" id="3305477">filterFuncs</span><span class="op" id="3305488">(</span><span class="ident" id="3305489">p</span><span class="op" id="3305490">.</span><span class="ident" id="3305491">Funcs</span><span class="op" id="3305496">,</span>&nbsp;<span class="ident" id="3305498">f</span><span class="op" id="3305499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3305502">p</span><span class="op" id="3305503">.</span><span class="ident" id="3305504">Doc</span>&nbsp;<span class="op" id="3305508">=</span>&nbsp;<span class="string" id="3305510">&#34;&#34;</span>&nbsp;<span class="comment" id="3305513">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="3305549">}</span>
</div>
</body>
</html>
