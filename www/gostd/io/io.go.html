<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io</h2>
<ul>
<li><a href="/gostd/io/io.go.html" class="current">io.go</a></li>
<li><a href="/gostd/io/io_test.go.html">io_test.go</a></li>
<li><a href="/gostd/io/multi.go.html">multi.go</a></li>
<li><a href="/gostd/io/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/io/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/io/pipe_test.go.html">pipe_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1418694">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1418749">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1418803">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1418854">//&nbsp;Package&nbsp;io&nbsp;provides&nbsp;basic&nbsp;interfaces&nbsp;to&nbsp;I/O&nbsp;primitives.</span><br>
<span class="lineno"></span><span class="comment" id="1418913">//&nbsp;Its&nbsp;primary&nbsp;job&nbsp;is&nbsp;to&nbsp;wrap&nbsp;existing&nbsp;implementations&nbsp;of&nbsp;such&nbsp;primitives,</span><br>
<span class="lineno"></span><span class="comment" id="1418988">//&nbsp;such&nbsp;as&nbsp;those&nbsp;in&nbsp;package&nbsp;os,&nbsp;into&nbsp;shared&nbsp;public&nbsp;interfaces&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1419055">//&nbsp;abstract&nbsp;the&nbsp;functionality,&nbsp;plus&nbsp;some&nbsp;other&nbsp;related&nbsp;primitives.</span><br>
<span class="lineno"></span><span class="comment" id="1419122">//</span><br>
<span class="lineno">10</span><span class="comment" id="1419125">//&nbsp;Because&nbsp;these&nbsp;interfaces&nbsp;and&nbsp;primitives&nbsp;wrap&nbsp;lower-level&nbsp;operations&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="1419201">//&nbsp;various&nbsp;implementations,&nbsp;unless&nbsp;otherwise&nbsp;informed&nbsp;clients&nbsp;should&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="1419274">//&nbsp;assume&nbsp;they&nbsp;are&nbsp;safe&nbsp;for&nbsp;parallel&nbsp;execution.</span><br>
<span class="lineno"></span><span class="keyword" id="1419322">package</span>&nbsp;<span class="ident" id="1419330">io</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="1419334">import</span>&nbsp;<span class="op" id="1419341">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1419344">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="1419353">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1419356">//&nbsp;ErrShortWrite&nbsp;means&nbsp;that&nbsp;a&nbsp;write&nbsp;accepted&nbsp;fewer&nbsp;bytes&nbsp;than&nbsp;requested</span><br>
<span class="lineno">20</span><span class="comment" id="1419428">//&nbsp;but&nbsp;failed&nbsp;to&nbsp;return&nbsp;an&nbsp;explicit&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1419471">var</span>&nbsp;<span class="ident" id="1419475">ErrShortWrite</span>&nbsp;<span class="op" id="1419489">=</span>&nbsp;<span class="ident" id="1419491"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1419497">.</span><span class="ident" id="1419498"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1419501">(</span><span class="string" id="1419502">&#34;short&nbsp;write&#34;</span><span class="op" id="1419515">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1419518">//&nbsp;ErrShortBuffer&nbsp;means&nbsp;that&nbsp;a&nbsp;read&nbsp;required&nbsp;a&nbsp;longer&nbsp;buffer&nbsp;than&nbsp;was&nbsp;provided.</span><br>
<span class="lineno"></span><span class="keyword" id="1419598">var</span>&nbsp;<span class="ident" id="1419602">ErrShortBuffer</span>&nbsp;<span class="op" id="1419617">=</span>&nbsp;<span class="ident" id="1419619"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1419625">.</span><span class="ident" id="1419626"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1419629">(</span><span class="string" id="1419630">&#34;short&nbsp;buffer&#34;</span><span class="op" id="1419644">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1419647">//&nbsp;EOF&nbsp;is&nbsp;the&nbsp;error&nbsp;returned&nbsp;by&nbsp;Read&nbsp;when&nbsp;no&nbsp;more&nbsp;input&nbsp;is&nbsp;available.</span><br>
<span class="lineno"></span><span class="comment" id="1419717">//&nbsp;Functions&nbsp;should&nbsp;return&nbsp;EOF&nbsp;only&nbsp;to&nbsp;signal&nbsp;a&nbsp;graceful&nbsp;end&nbsp;of&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="1419788">//&nbsp;If&nbsp;the&nbsp;EOF&nbsp;occurs&nbsp;unexpectedly&nbsp;in&nbsp;a&nbsp;structured&nbsp;data&nbsp;stream,</span><br>
<span class="lineno"></span><span class="comment" id="1419851">//&nbsp;the&nbsp;appropriate&nbsp;error&nbsp;is&nbsp;either&nbsp;ErrUnexpectedEOF&nbsp;or&nbsp;some&nbsp;other&nbsp;error</span><br>
<span class="lineno">30</span><span class="comment" id="1419923">//&nbsp;giving&nbsp;more&nbsp;detail.</span><br>
<span class="lineno"></span><span class="keyword" id="1419946">var</span>&nbsp;<span class="ident" id="1419950">EOF</span>&nbsp;<span class="op" id="1419954">=</span>&nbsp;<span class="ident" id="1419956"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1419962">.</span><span class="ident" id="1419963"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1419966">(</span><span class="string" id="1419967">&#34;EOF&#34;</span><span class="op" id="1419972">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1419975">//&nbsp;ErrUnexpectedEOF&nbsp;means&nbsp;that&nbsp;EOF&nbsp;was&nbsp;encountered&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1420033">//&nbsp;middle&nbsp;of&nbsp;reading&nbsp;a&nbsp;fixed-size&nbsp;block&nbsp;or&nbsp;data&nbsp;structure.</span><br>
<span class="lineno">35</span><span class="keyword" id="1420092">var</span>&nbsp;<span class="ident" id="1420096">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="1420113">=</span>&nbsp;<span class="ident" id="1420115"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1420121">.</span><span class="ident" id="1420122"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1420125">(</span><span class="string" id="1420126">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="1420142">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1420145">//&nbsp;ErrNoProgress&nbsp;is&nbsp;returned&nbsp;by&nbsp;some&nbsp;clients&nbsp;of&nbsp;an&nbsp;io.Reader&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1420211">//&nbsp;many&nbsp;calls&nbsp;to&nbsp;Read&nbsp;have&nbsp;failed&nbsp;to&nbsp;return&nbsp;any&nbsp;data&nbsp;or&nbsp;error,</span><br>
<span class="lineno"></span><span class="comment" id="1420274">//&nbsp;usually&nbsp;the&nbsp;sign&nbsp;of&nbsp;a&nbsp;broken&nbsp;io.Reader&nbsp;implementation.</span><br>
<span class="lineno">40</span><span class="keyword" id="1420332">var</span>&nbsp;<span class="ident" id="1420336">ErrNoProgress</span>&nbsp;<span class="op" id="1420350">=</span>&nbsp;<span class="ident" id="1420352"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1420358">.</span><span class="ident" id="1420359"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1420362">(</span><span class="string" id="1420363">&#34;multiple&nbsp;Read&nbsp;calls&nbsp;return&nbsp;no&nbsp;data&nbsp;or&nbsp;error&#34;</span><span class="op" id="1420408">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1420411">//&nbsp;Reader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Read&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1420472">//</span><br>
<span class="lineno"></span><span class="comment" id="1420475">//&nbsp;Read&nbsp;reads&nbsp;up&nbsp;to&nbsp;len(p)&nbsp;bytes&nbsp;into&nbsp;p.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">45</span><span class="comment" id="1420548">//&nbsp;read&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered.&nbsp;&nbsp;Even&nbsp;if&nbsp;Read</span><br>
<span class="lineno"></span><span class="comment" id="1420616">//&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;may&nbsp;use&nbsp;all&nbsp;of&nbsp;p&nbsp;as&nbsp;scratch&nbsp;space&nbsp;during&nbsp;the&nbsp;call.</span><br>
<span class="lineno"></span><span class="comment" id="1420693">//&nbsp;If&nbsp;some&nbsp;data&nbsp;is&nbsp;available&nbsp;but&nbsp;not&nbsp;len(p)&nbsp;bytes,&nbsp;Read&nbsp;conventionally</span><br>
<span class="lineno"></span><span class="comment" id="1420764">//&nbsp;returns&nbsp;what&nbsp;is&nbsp;available&nbsp;instead&nbsp;of&nbsp;waiting&nbsp;for&nbsp;more.</span><br>
<span class="lineno"></span><span class="comment" id="1420822">//</span><br>
<span class="lineno">50</span><span class="comment" id="1420825">//&nbsp;When&nbsp;Read&nbsp;encounters&nbsp;an&nbsp;error&nbsp;or&nbsp;end-of-file&nbsp;condition&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="1420889">//&nbsp;successfully&nbsp;reading&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;bytes,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1420951">//&nbsp;bytes&nbsp;read.&nbsp;&nbsp;It&nbsp;may&nbsp;return&nbsp;the&nbsp;(non-nil)&nbsp;error&nbsp;from&nbsp;the&nbsp;same&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1421020">//&nbsp;or&nbsp;return&nbsp;the&nbsp;error&nbsp;(and&nbsp;n&nbsp;==&nbsp;0)&nbsp;from&nbsp;a&nbsp;subsequent&nbsp;call.</span><br>
<span class="lineno"></span><span class="comment" id="1421080">//&nbsp;An&nbsp;instance&nbsp;of&nbsp;this&nbsp;general&nbsp;case&nbsp;is&nbsp;that&nbsp;a&nbsp;Reader&nbsp;returning</span><br>
<span class="lineno">55</span><span class="comment" id="1421143">//&nbsp;a&nbsp;non-zero&nbsp;number&nbsp;of&nbsp;bytes&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;input&nbsp;stream&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="1421208">//&nbsp;return&nbsp;either&nbsp;err&nbsp;==&nbsp;EOF&nbsp;or&nbsp;err&nbsp;==&nbsp;nil.&nbsp;&nbsp;The&nbsp;next&nbsp;Read&nbsp;should</span><br>
<span class="lineno"></span><span class="comment" id="1421273">//&nbsp;return&nbsp;0,&nbsp;EOF&nbsp;regardless.</span><br>
<span class="lineno"></span><span class="comment" id="1421302">//</span><br>
<span class="lineno"></span><span class="comment" id="1421305">//&nbsp;Callers&nbsp;should&nbsp;always&nbsp;process&nbsp;the&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;bytes&nbsp;returned&nbsp;before</span><br>
<span class="lineno">60</span><span class="comment" id="1421370">//&nbsp;considering&nbsp;the&nbsp;error&nbsp;err.&nbsp;&nbsp;Doing&nbsp;so&nbsp;correctly&nbsp;handles&nbsp;I/O&nbsp;errors</span><br>
<span class="lineno"></span><span class="comment" id="1421439">//&nbsp;that&nbsp;happen&nbsp;after&nbsp;reading&nbsp;some&nbsp;bytes&nbsp;and&nbsp;also&nbsp;both&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1421500">//&nbsp;allowed&nbsp;EOF&nbsp;behaviors.</span><br>
<span class="lineno"></span><span class="comment" id="1421526">//</span><br>
<span class="lineno"></span><span class="comment" id="1421529">//&nbsp;Implementations&nbsp;of&nbsp;Read&nbsp;are&nbsp;discouraged&nbsp;from&nbsp;returning&nbsp;a</span><br>
<span class="lineno">65</span><span class="comment" id="1421589">//&nbsp;zero&nbsp;byte&nbsp;count&nbsp;with&nbsp;a&nbsp;nil&nbsp;error,&nbsp;except&nbsp;when&nbsp;len(p)&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="1421651">//&nbsp;Callers&nbsp;should&nbsp;treat&nbsp;a&nbsp;return&nbsp;of&nbsp;0&nbsp;and&nbsp;nil&nbsp;as&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1421716">//&nbsp;nothing&nbsp;happened;&nbsp;in&nbsp;particular&nbsp;it&nbsp;does&nbsp;not&nbsp;indicate&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="1421777">//</span><br>
<span class="lineno"></span><span class="comment" id="1421780">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno">70</span><span class="keyword" id="1421818">type</span>&nbsp;<span class="ident" id="1421823">Reader</span>&nbsp;<span class="keyword" id="1421830">interface</span>&nbsp;<span class="op" id="1421840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421843">Read</span><span class="op" id="1421847">(</span><span class="ident" id="1421848">p</span>&nbsp;<span class="op" id="1421850">[</span><span class="op" id="1421851">]</span><span class="builtintype" id="1421852">byte</span><span class="op" id="1421856">)</span>&nbsp;<span class="op" id="1421858">(</span><span class="ident" id="1421859">n</span>&nbsp;<span class="builtintype" id="1421861">int</span><span class="op" id="1421864">,</span>&nbsp;<span class="ident" id="1421866">err</span>&nbsp;<span class="builtintype" id="1421870">error</span><span class="op" id="1421875">)</span><br>
<span class="lineno"></span><span class="op" id="1421877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1421880">//&nbsp;Writer&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Write&nbsp;method.</span><br>
<span class="lineno">75</span><span class="comment" id="1421942">//</span><br>
<span class="lineno"></span><span class="comment" id="1421945">//&nbsp;Write&nbsp;writes&nbsp;len(p)&nbsp;bytes&nbsp;from&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="1422012">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;from&nbsp;p&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))</span><br>
<span class="lineno"></span><span class="comment" id="1422080">//&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered&nbsp;that&nbsp;caused&nbsp;the&nbsp;write&nbsp;to&nbsp;stop&nbsp;early.</span><br>
<span class="lineno"></span><span class="comment" id="1422146">//&nbsp;Write&nbsp;must&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;if&nbsp;it&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p).</span><br>
<span class="lineno">80</span><span class="comment" id="1422209">//&nbsp;Write&nbsp;must&nbsp;not&nbsp;modify&nbsp;the&nbsp;slice&nbsp;data,&nbsp;even&nbsp;temporarily.</span><br>
<span class="lineno"></span><span class="comment" id="1422268">//</span><br>
<span class="lineno"></span><span class="comment" id="1422271">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1422309">type</span>&nbsp;<span class="ident" id="1422314">Writer</span>&nbsp;<span class="keyword" id="1422321">interface</span>&nbsp;<span class="op" id="1422331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1422334">Write</span><span class="op" id="1422339">(</span><span class="ident" id="1422340">p</span>&nbsp;<span class="op" id="1422342">[</span><span class="op" id="1422343">]</span><span class="builtintype" id="1422344">byte</span><span class="op" id="1422348">)</span>&nbsp;<span class="op" id="1422350">(</span><span class="ident" id="1422351">n</span>&nbsp;<span class="builtintype" id="1422353">int</span><span class="op" id="1422356">,</span>&nbsp;<span class="ident" id="1422358">err</span>&nbsp;<span class="builtintype" id="1422362">error</span><span class="op" id="1422367">)</span><br>
<span class="lineno">85</span><span class="op" id="1422369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1422372">//&nbsp;Closer&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Close&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1422434">//</span><br>
<span class="lineno"></span><span class="comment" id="1422437">//&nbsp;The&nbsp;behavior&nbsp;of&nbsp;Close&nbsp;after&nbsp;the&nbsp;first&nbsp;call&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">90</span><span class="comment" id="1422497">//&nbsp;Specific&nbsp;implementations&nbsp;may&nbsp;document&nbsp;their&nbsp;own&nbsp;behavior.</span><br>
<span class="lineno"></span><span class="keyword" id="1422558">type</span>&nbsp;<span class="ident" id="1422563">Closer</span>&nbsp;<span class="keyword" id="1422570">interface</span>&nbsp;<span class="op" id="1422580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1422583">Close</span><span class="op" id="1422588">(</span><span class="op" id="1422589">)</span>&nbsp;<span class="builtintype" id="1422591">error</span><br>
<span class="lineno"></span><span class="op" id="1422597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="1422600">//&nbsp;Seeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Seek&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1422661">//</span><br>
<span class="lineno"></span><span class="comment" id="1422664">//&nbsp;Seek&nbsp;sets&nbsp;the&nbsp;offset&nbsp;for&nbsp;the&nbsp;next&nbsp;Read&nbsp;or&nbsp;Write&nbsp;to&nbsp;offset,</span><br>
<span class="lineno"></span><span class="comment" id="1422726">//&nbsp;interpreted&nbsp;according&nbsp;to&nbsp;whence:&nbsp;0&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1422796">//&nbsp;the&nbsp;file,&nbsp;1&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset,&nbsp;and&nbsp;2&nbsp;means</span><br>
<span class="lineno">100</span><span class="comment" id="1422861">//&nbsp;relative&nbsp;to&nbsp;the&nbsp;end.&nbsp;&nbsp;Seek&nbsp;returns&nbsp;the&nbsp;new&nbsp;offset&nbsp;and&nbsp;an&nbsp;error,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="1422931">//&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="1422939">//</span><br>
<span class="lineno"></span><span class="comment" id="1422942">//&nbsp;Seeking&nbsp;to&nbsp;a&nbsp;negative&nbsp;offset&nbsp;is&nbsp;an&nbsp;error.&nbsp;Seeking&nbsp;to&nbsp;any&nbsp;positive</span><br>
<span class="lineno"></span><span class="comment" id="1423011">//&nbsp;offset&nbsp;is&nbsp;legal,&nbsp;but&nbsp;the&nbsp;behavior&nbsp;of&nbsp;subsequent&nbsp;I/O&nbsp;operations&nbsp;on</span><br>
<span class="lineno">105</span><span class="comment" id="1423080">//&nbsp;the&nbsp;underlying&nbsp;object&nbsp;is&nbsp;implementation-dependent.</span><br>
<span class="lineno"></span><span class="keyword" id="1423134">type</span>&nbsp;<span class="ident" id="1423139">Seeker</span>&nbsp;<span class="keyword" id="1423146">interface</span>&nbsp;<span class="op" id="1423156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423159">Seek</span><span class="op" id="1423163">(</span><span class="ident" id="1423164">offset</span>&nbsp;<span class="builtintype" id="1423171">int64</span><span class="op" id="1423176">,</span>&nbsp;<span class="ident" id="1423178">whence</span>&nbsp;<span class="builtintype" id="1423185">int</span><span class="op" id="1423188">)</span>&nbsp;<span class="op" id="1423190">(</span><span class="builtintype" id="1423191">int64</span><span class="op" id="1423196">,</span>&nbsp;<span class="builtintype" id="1423198">error</span><span class="op" id="1423203">)</span><br>
<span class="lineno"></span><span class="op" id="1423205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="1423208">//&nbsp;ReadWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Write&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1423285">type</span>&nbsp;<span class="ident" id="1423290">ReadWriter</span>&nbsp;<span class="keyword" id="1423301">interface</span>&nbsp;<span class="op" id="1423311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423314"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423322"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="1423329">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="1423332">//&nbsp;ReadCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1423409">type</span>&nbsp;<span class="ident" id="1423414">ReadCloser</span>&nbsp;<span class="keyword" id="1423425">interface</span>&nbsp;<span class="op" id="1423435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423438"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423446"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno">120</span><span class="op" id="1423453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1423456">//&nbsp;WriteCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Write&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1423535">type</span>&nbsp;<span class="ident" id="1423540">WriteCloser</span>&nbsp;<span class="keyword" id="1423552">interface</span>&nbsp;<span class="op" id="1423562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423565"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423573"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="1423580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1423583">//&nbsp;ReadWriteCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read,&nbsp;Write&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1423672">type</span>&nbsp;<span class="ident" id="1423677">ReadWriteCloser</span>&nbsp;<span class="keyword" id="1423693">interface</span>&nbsp;<span class="op" id="1423703">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423706"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423714"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423722"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="1423729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="1423732">//&nbsp;ReadSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1423808">type</span>&nbsp;<span class="ident" id="1423813">ReadSeeker</span>&nbsp;<span class="keyword" id="1423824">interface</span>&nbsp;<span class="op" id="1423834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423837"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423845"><a href="/gostd/io/io.go.html#1423139">Seeker</a></span><br>
<span class="lineno"></span><span class="op" id="1423852">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1423855">//&nbsp;WriteSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Write&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1423933">type</span>&nbsp;<span class="ident" id="1423938">WriteSeeker</span>&nbsp;<span class="keyword" id="1423950">interface</span>&nbsp;<span class="op" id="1423960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423963"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423971"><a href="/gostd/io/io.go.html#1423139">Seeker</a></span><br>
<span class="lineno">145</span><span class="op" id="1423978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1423981">//&nbsp;ReadWriteSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read,&nbsp;Write&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1424069">type</span>&nbsp;<span class="ident" id="1424074">ReadWriteSeeker</span>&nbsp;<span class="keyword" id="1424090">interface</span>&nbsp;<span class="op" id="1424100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424103"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424111"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424119"><a href="/gostd/io/io.go.html#1423139">Seeker</a></span><br>
<span class="lineno"></span><span class="op" id="1424126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1424129">//&nbsp;ReaderFrom&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadFrom&nbsp;method.</span><br>
<span class="lineno">155</span><span class="comment" id="1424192">//</span><br>
<span class="lineno"></span><span class="comment" id="1424195">//&nbsp;ReadFrom&nbsp;reads&nbsp;data&nbsp;from&nbsp;r&nbsp;until&nbsp;EOF&nbsp;or&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="1424245">//&nbsp;The&nbsp;return&nbsp;value&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1424296">//&nbsp;Any&nbsp;error&nbsp;except&nbsp;io.EOF&nbsp;encountered&nbsp;during&nbsp;the&nbsp;read&nbsp;is&nbsp;also&nbsp;returned.</span><br>
<span class="lineno"></span><span class="comment" id="1424369">//</span><br>
<span class="lineno">160</span><span class="comment" id="1424372">//&nbsp;The&nbsp;Copy&nbsp;function&nbsp;uses&nbsp;ReaderFrom&nbsp;if&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="1424423">type</span>&nbsp;<span class="ident" id="1424428">ReaderFrom</span>&nbsp;<span class="keyword" id="1424439">interface</span>&nbsp;<span class="op" id="1424449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424452">ReadFrom</span><span class="op" id="1424460">(</span><span class="ident" id="1424461">r</span>&nbsp;<span class="ident" id="1424463"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1424469">)</span>&nbsp;<span class="op" id="1424471">(</span><span class="ident" id="1424472">n</span>&nbsp;<span class="builtintype" id="1424474">int64</span><span class="op" id="1424479">,</span>&nbsp;<span class="ident" id="1424481">err</span>&nbsp;<span class="builtintype" id="1424485">error</span><span class="op" id="1424490">)</span><br>
<span class="lineno"></span><span class="op" id="1424492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="1424495">//&nbsp;WriterTo&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteTo&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1424555">//</span><br>
<span class="lineno"></span><span class="comment" id="1424558">//&nbsp;WriteTo&nbsp;writes&nbsp;data&nbsp;to&nbsp;w&nbsp;until&nbsp;there&#39;s&nbsp;no&nbsp;more&nbsp;data&nbsp;to&nbsp;write&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1424625">//&nbsp;when&nbsp;an&nbsp;error&nbsp;occurs.&nbsp;The&nbsp;return&nbsp;value&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="1424692">//&nbsp;written.&nbsp;Any&nbsp;error&nbsp;encountered&nbsp;during&nbsp;the&nbsp;write&nbsp;is&nbsp;also&nbsp;returned.</span><br>
<span class="lineno">170</span><span class="comment" id="1424761">//</span><br>
<span class="lineno"></span><span class="comment" id="1424764">//&nbsp;The&nbsp;Copy&nbsp;function&nbsp;uses&nbsp;WriterTo&nbsp;if&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="1424813">type</span>&nbsp;<span class="ident" id="1424818">WriterTo</span>&nbsp;<span class="keyword" id="1424827">interface</span>&nbsp;<span class="op" id="1424837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424840">WriteTo</span><span class="op" id="1424847">(</span><span class="ident" id="1424848">w</span>&nbsp;<span class="ident" id="1424850"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="1424856">)</span>&nbsp;<span class="op" id="1424858">(</span><span class="ident" id="1424859">n</span>&nbsp;<span class="builtintype" id="1424861">int64</span><span class="op" id="1424866">,</span>&nbsp;<span class="ident" id="1424868">err</span>&nbsp;<span class="builtintype" id="1424872">error</span><span class="op" id="1424877">)</span><br>
<span class="lineno"></span><span class="op" id="1424879">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="1424882">//&nbsp;ReaderAt&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;ReadAt&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1424947">//</span><br>
<span class="lineno"></span><span class="comment" id="1424950">//&nbsp;ReadAt&nbsp;reads&nbsp;len(p)&nbsp;bytes&nbsp;into&nbsp;p&nbsp;starting&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1425016">//&nbsp;underlying&nbsp;input&nbsp;source.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">180</span><span class="comment" id="1425076">//&nbsp;read&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="comment" id="1425130">//</span><br>
<span class="lineno"></span><span class="comment" id="1425133">//&nbsp;When&nbsp;ReadAt&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="1425195">//&nbsp;explaining&nbsp;why&nbsp;more&nbsp;bytes&nbsp;were&nbsp;not&nbsp;returned.&nbsp;&nbsp;In&nbsp;this&nbsp;respect,</span><br>
<span class="lineno"></span><span class="comment" id="1425261">//&nbsp;ReadAt&nbsp;is&nbsp;stricter&nbsp;than&nbsp;Read.</span><br>
<span class="lineno">185</span><span class="comment" id="1425294">//</span><br>
<span class="lineno"></span><span class="comment" id="1425297">//&nbsp;Even&nbsp;if&nbsp;ReadAt&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;may&nbsp;use&nbsp;all&nbsp;of&nbsp;p&nbsp;as&nbsp;scratch</span><br>
<span class="lineno"></span><span class="comment" id="1425366">//&nbsp;space&nbsp;during&nbsp;the&nbsp;call.&nbsp;&nbsp;If&nbsp;some&nbsp;data&nbsp;is&nbsp;available&nbsp;but&nbsp;not&nbsp;len(p)&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="1425441">//&nbsp;ReadAt&nbsp;blocks&nbsp;until&nbsp;either&nbsp;all&nbsp;the&nbsp;data&nbsp;is&nbsp;available&nbsp;or&nbsp;an&nbsp;error&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1425517">//&nbsp;In&nbsp;this&nbsp;respect&nbsp;ReadAt&nbsp;is&nbsp;different&nbsp;from&nbsp;Read.</span><br>
<span class="lineno">190</span><span class="comment" id="1425567">//</span><br>
<span class="lineno"></span><span class="comment" id="1425570">//&nbsp;If&nbsp;the&nbsp;n&nbsp;=&nbsp;len(p)&nbsp;bytes&nbsp;returned&nbsp;by&nbsp;ReadAt&nbsp;are&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1425638">//&nbsp;input&nbsp;source,&nbsp;ReadAt&nbsp;may&nbsp;return&nbsp;either&nbsp;err&nbsp;==&nbsp;EOF&nbsp;or&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="1425706">//</span><br>
<span class="lineno"></span><span class="comment" id="1425709">//&nbsp;If&nbsp;ReadAt&nbsp;is&nbsp;reading&nbsp;from&nbsp;an&nbsp;input&nbsp;source&nbsp;with&nbsp;a&nbsp;seek&nbsp;offset,</span><br>
<span class="lineno">195</span><span class="comment" id="1425774">//&nbsp;ReadAt&nbsp;should&nbsp;not&nbsp;affect&nbsp;nor&nbsp;be&nbsp;affected&nbsp;by&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="1425836">//&nbsp;seek&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="1425852">//</span><br>
<span class="lineno"></span><span class="comment" id="1425855">//&nbsp;Clients&nbsp;of&nbsp;ReadAt&nbsp;can&nbsp;execute&nbsp;parallel&nbsp;ReadAt&nbsp;calls&nbsp;on&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1425917">//&nbsp;same&nbsp;input&nbsp;source.</span><br>
<span class="lineno">200</span><span class="comment" id="1425939">//</span><br>
<span class="lineno"></span><span class="comment" id="1425942">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1425980">type</span>&nbsp;<span class="ident" id="1425985">ReaderAt</span>&nbsp;<span class="keyword" id="1425994">interface</span>&nbsp;<span class="op" id="1426004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426007">ReadAt</span><span class="op" id="1426013">(</span><span class="ident" id="1426014">p</span>&nbsp;<span class="op" id="1426016">[</span><span class="op" id="1426017">]</span><span class="builtintype" id="1426018">byte</span><span class="op" id="1426022">,</span>&nbsp;<span class="ident" id="1426024">off</span>&nbsp;<span class="builtintype" id="1426028">int64</span><span class="op" id="1426033">)</span>&nbsp;<span class="op" id="1426035">(</span><span class="ident" id="1426036">n</span>&nbsp;<span class="builtintype" id="1426038">int</span><span class="op" id="1426041">,</span>&nbsp;<span class="ident" id="1426043">err</span>&nbsp;<span class="builtintype" id="1426047">error</span><span class="op" id="1426052">)</span><br>
<span class="lineno"></span><span class="op" id="1426054">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1426057">//&nbsp;WriterAt&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;WriteAt&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1426123">//</span><br>
<span class="lineno"></span><span class="comment" id="1426126">//&nbsp;WriteAt&nbsp;writes&nbsp;len(p)&nbsp;bytes&nbsp;from&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data&nbsp;stream</span><br>
<span class="lineno"></span><span class="comment" id="1426194">//&nbsp;at&nbsp;offset&nbsp;off.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;from&nbsp;p&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))</span><br>
<span class="lineno">210</span><span class="comment" id="1426278">//&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered&nbsp;that&nbsp;caused&nbsp;the&nbsp;write&nbsp;to&nbsp;stop&nbsp;early.</span><br>
<span class="lineno"></span><span class="comment" id="1426344">//&nbsp;WriteAt&nbsp;must&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;if&nbsp;it&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p).</span><br>
<span class="lineno"></span><span class="comment" id="1426409">//</span><br>
<span class="lineno"></span><span class="comment" id="1426412">//&nbsp;If&nbsp;WriteAt&nbsp;is&nbsp;writing&nbsp;to&nbsp;a&nbsp;destination&nbsp;with&nbsp;a&nbsp;seek&nbsp;offset,</span><br>
<span class="lineno"></span><span class="comment" id="1426474">//&nbsp;WriteAt&nbsp;should&nbsp;not&nbsp;affect&nbsp;nor&nbsp;be&nbsp;affected&nbsp;by&nbsp;the&nbsp;underlying</span><br>
<span class="lineno">215</span><span class="comment" id="1426537">//&nbsp;seek&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="1426553">//</span><br>
<span class="lineno"></span><span class="comment" id="1426556">//&nbsp;Clients&nbsp;of&nbsp;WriteAt&nbsp;can&nbsp;execute&nbsp;parallel&nbsp;WriteAt&nbsp;calls&nbsp;on&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="1426625">//&nbsp;destination&nbsp;if&nbsp;the&nbsp;ranges&nbsp;do&nbsp;not&nbsp;overlap.</span><br>
<span class="lineno"></span><span class="comment" id="1426670">//</span><br>
<span class="lineno">220</span><span class="comment" id="1426673">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1426711">type</span>&nbsp;<span class="ident" id="1426716">WriterAt</span>&nbsp;<span class="keyword" id="1426725">interface</span>&nbsp;<span class="op" id="1426735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426738">WriteAt</span><span class="op" id="1426745">(</span><span class="ident" id="1426746">p</span>&nbsp;<span class="op" id="1426748">[</span><span class="op" id="1426749">]</span><span class="builtintype" id="1426750">byte</span><span class="op" id="1426754">,</span>&nbsp;<span class="ident" id="1426756">off</span>&nbsp;<span class="builtintype" id="1426760">int64</span><span class="op" id="1426765">)</span>&nbsp;<span class="op" id="1426767">(</span><span class="ident" id="1426768">n</span>&nbsp;<span class="builtintype" id="1426770">int</span><span class="op" id="1426773">,</span>&nbsp;<span class="ident" id="1426775">err</span>&nbsp;<span class="builtintype" id="1426779">error</span><span class="op" id="1426784">)</span><br>
<span class="lineno"></span><span class="op" id="1426786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="1426789">//&nbsp;ByteReader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadByte&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1426852">//</span><br>
<span class="lineno"></span><span class="comment" id="1426855">//&nbsp;ReadByte&nbsp;reads&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;byte&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="1426915">//&nbsp;If&nbsp;no&nbsp;byte&nbsp;is&nbsp;available,&nbsp;err&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="1426960">type</span>&nbsp;<span class="ident" id="1426965">ByteReader</span>&nbsp;<span class="keyword" id="1426976">interface</span>&nbsp;<span class="op" id="1426986">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426989">ReadByte</span><span class="op" id="1426997">(</span><span class="op" id="1426998">)</span>&nbsp;<span class="op" id="1427000">(</span><span class="ident" id="1427001">c</span>&nbsp;<span class="builtintype" id="1427003">byte</span><span class="op" id="1427007">,</span>&nbsp;<span class="ident" id="1427009">err</span>&nbsp;<span class="builtintype" id="1427013">error</span><span class="op" id="1427018">)</span><br>
<span class="lineno"></span><span class="op" id="1427020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1427023">//&nbsp;ByteScanner&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;adds&nbsp;the&nbsp;UnreadByte&nbsp;method&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1427094">//&nbsp;basic&nbsp;ReadByte&nbsp;method.</span><br>
<span class="lineno">235</span><span class="comment" id="1427120">//</span><br>
<span class="lineno"></span><span class="comment" id="1427123">//&nbsp;UnreadByte&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadByte&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;byte</span><br>
<span class="lineno"></span><span class="comment" id="1427194">//&nbsp;as&nbsp;the&nbsp;previous&nbsp;call&nbsp;to&nbsp;ReadByte.</span><br>
<span class="lineno"></span><span class="comment" id="1427231">//&nbsp;It&nbsp;may&nbsp;be&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;UnreadByte&nbsp;twice&nbsp;without&nbsp;an&nbsp;intervening</span><br>
<span class="lineno"></span><span class="comment" id="1427301">//&nbsp;call&nbsp;to&nbsp;ReadByte.</span><br>
<span class="lineno">240</span><span class="keyword" id="1427322">type</span>&nbsp;<span class="ident" id="1427327">ByteScanner</span>&nbsp;<span class="keyword" id="1427339">interface</span>&nbsp;<span class="op" id="1427349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1427352"><a href="/gostd/io/io.go.html#1426965">ByteReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1427364">UnreadByte</span><span class="op" id="1427374">(</span><span class="op" id="1427375">)</span>&nbsp;<span class="builtintype" id="1427377">error</span><br>
<span class="lineno"></span><span class="op" id="1427383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="1427386">//&nbsp;ByteWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteByte&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1427450">type</span>&nbsp;<span class="ident" id="1427455">ByteWriter</span>&nbsp;<span class="keyword" id="1427466">interface</span>&nbsp;<span class="op" id="1427476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1427479">WriteByte</span><span class="op" id="1427488">(</span><span class="ident" id="1427489">c</span>&nbsp;<span class="builtintype" id="1427491">byte</span><span class="op" id="1427495">)</span>&nbsp;<span class="builtintype" id="1427497">error</span><br>
<span class="lineno"></span><span class="op" id="1427503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="comment" id="1427506">//&nbsp;RuneReader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadRune&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1427569">//</span><br>
<span class="lineno"></span><span class="comment" id="1427572">//&nbsp;ReadRune&nbsp;reads&nbsp;a&nbsp;single&nbsp;UTF-8&nbsp;encoded&nbsp;Unicode&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="1427631">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;rune&nbsp;and&nbsp;its&nbsp;size&nbsp;in&nbsp;bytes.&nbsp;If&nbsp;no&nbsp;character&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1427697">//&nbsp;available,&nbsp;err&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno">255</span><span class="keyword" id="1427728">type</span>&nbsp;<span class="ident" id="1427733">RuneReader</span>&nbsp;<span class="keyword" id="1427744">interface</span>&nbsp;<span class="op" id="1427754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1427757">ReadRune</span><span class="op" id="1427765">(</span><span class="op" id="1427766">)</span>&nbsp;<span class="op" id="1427768">(</span><span class="ident" id="1427769">r</span>&nbsp;<span class="builtintype" id="1427771">rune</span><span class="op" id="1427775">,</span>&nbsp;<span class="ident" id="1427777">size</span>&nbsp;<span class="builtintype" id="1427782">int</span><span class="op" id="1427785">,</span>&nbsp;<span class="ident" id="1427787">err</span>&nbsp;<span class="builtintype" id="1427791">error</span><span class="op" id="1427796">)</span><br>
<span class="lineno"></span><span class="op" id="1427798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1427801">//&nbsp;RuneScanner&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;adds&nbsp;the&nbsp;UnreadRune&nbsp;method&nbsp;to&nbsp;the</span><br>
<span class="lineno">260</span><span class="comment" id="1427872">//&nbsp;basic&nbsp;ReadRune&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1427898">//</span><br>
<span class="lineno"></span><span class="comment" id="1427901">//&nbsp;UnreadRune&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadRune&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;rune</span><br>
<span class="lineno"></span><span class="comment" id="1427972">//&nbsp;as&nbsp;the&nbsp;previous&nbsp;call&nbsp;to&nbsp;ReadRune.</span><br>
<span class="lineno"></span><span class="comment" id="1428009">//&nbsp;It&nbsp;may&nbsp;be&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;UnreadRune&nbsp;twice&nbsp;without&nbsp;an&nbsp;intervening</span><br>
<span class="lineno">265</span><span class="comment" id="1428079">//&nbsp;call&nbsp;to&nbsp;ReadRune.</span><br>
<span class="lineno"></span><span class="keyword" id="1428100">type</span>&nbsp;<span class="ident" id="1428105">RuneScanner</span>&nbsp;<span class="keyword" id="1428117">interface</span>&nbsp;<span class="op" id="1428127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1428130"><a href="/gostd/io/io.go.html#1427733">RuneReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1428142">UnreadRune</span><span class="op" id="1428152">(</span><span class="op" id="1428153">)</span>&nbsp;<span class="builtintype" id="1428155">error</span><br>
<span class="lineno"></span><span class="op" id="1428161">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="1428164">//&nbsp;stringWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteString&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1428232">type</span>&nbsp;<span class="ident" id="1428237">stringWriter</span>&nbsp;<span class="keyword" id="1428250">interface</span>&nbsp;<span class="op" id="1428260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1428263">WriteString</span><span class="op" id="1428274">(</span><span class="ident" id="1428275">s</span>&nbsp;<span class="builtintype" id="1428277">string</span><span class="op" id="1428283">)</span>&nbsp;<span class="op" id="1428285">(</span><span class="ident" id="1428286">n</span>&nbsp;<span class="builtintype" id="1428288">int</span><span class="op" id="1428291">,</span>&nbsp;<span class="ident" id="1428293">err</span>&nbsp;<span class="builtintype" id="1428297">error</span><span class="op" id="1428302">)</span><br>
<span class="lineno"></span><span class="op" id="1428304">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="comment" id="1428307">//&nbsp;WriteString&nbsp;writes&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;to&nbsp;w,&nbsp;which&nbsp;accepts&nbsp;an&nbsp;array&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="1428397">//&nbsp;If&nbsp;w&nbsp;already&nbsp;implements&nbsp;a&nbsp;WriteString&nbsp;method,&nbsp;it&nbsp;is&nbsp;invoked&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="1428470">func</span>&nbsp;<span class="ident" id="1428475">WriteString</span><span class="op" id="1428486">(</span><span class="ident" id="1428487">w</span>&nbsp;<span class="ident" id="1428489"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="1428495">,</span>&nbsp;<span class="ident" id="1428497">s</span>&nbsp;<span class="builtintype" id="1428499">string</span><span class="op" id="1428505">)</span>&nbsp;<span class="op" id="1428507">(</span><span class="ident" id="1428508">n</span>&nbsp;<span class="builtintype" id="1428510">int</span><span class="op" id="1428513">,</span>&nbsp;<span class="ident" id="1428515">err</span>&nbsp;<span class="builtintype" id="1428519">error</span><span class="op" id="1428524">)</span>&nbsp;<span class="op" id="1428526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1428529">if</span>&nbsp;<span class="ident" id="1428532">sw</span><span class="op" id="1428534">,</span>&nbsp;<span class="ident" id="1428536">ok</span>&nbsp;<span class="op" id="1428539">:=</span>&nbsp;<span class="ident" id="1428542"><a href="/gostd/io/io.go.html#1428487">w</a></span><span class="op" id="1428543">.</span><span class="op" id="1428544">(</span><span class="ident" id="1428545"><a href="/gostd/io/io.go.html#1428237">stringWriter</a></span><span class="op" id="1428557">)</span><span class="op" id="1428558">;</span>&nbsp;<span class="ident" id="1428560"><a href="/gostd/io/io.go.html#1428536">ok</a></span>&nbsp;<span class="op" id="1428563">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1428567">return</span>&nbsp;<span class="ident" id="1428574"><a href="/gostd/io/io.go.html#1428532">sw</a></span><span class="op" id="1428576">.</span><span class="ident" id="1428577"><a href="/gostd/io/io.go.html#1428263">WriteString</a></span><span class="op" id="1428588">(</span><span class="ident" id="1428589"><a href="/gostd/io/io.go.html#1428497">s</a></span><span class="op" id="1428590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1428593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1428596">return</span>&nbsp;<span class="ident" id="1428603"><a href="/gostd/io/io.go.html#1428487">w</a></span><span class="op" id="1428604">.</span><span class="ident" id="1428605"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="1428610">(</span><span class="op" id="1428611">[</span><span class="op" id="1428612">]</span><span class="builtintype" id="1428613">byte</span><span class="op" id="1428617">(</span><span class="ident" id="1428618"><a href="/gostd/io/io.go.html#1428497">s</a></span><span class="op" id="1428619">)</span><span class="op" id="1428620">)</span><br>
<span class="lineno"></span><span class="op" id="1428622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1428625">//&nbsp;ReadAtLeast&nbsp;reads&nbsp;from&nbsp;r&nbsp;into&nbsp;buf&nbsp;until&nbsp;it&nbsp;has&nbsp;read&nbsp;at&nbsp;least&nbsp;min&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="1428700">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;an&nbsp;error&nbsp;if&nbsp;fewer&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1428780">//&nbsp;The&nbsp;error&nbsp;is&nbsp;EOF&nbsp;only&nbsp;if&nbsp;no&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1428828">//&nbsp;If&nbsp;an&nbsp;EOF&nbsp;happens&nbsp;after&nbsp;reading&nbsp;fewer&nbsp;than&nbsp;min&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="1428885">//&nbsp;ReadAtLeast&nbsp;returns&nbsp;ErrUnexpectedEOF.</span><br>
<span class="lineno">290</span><span class="comment" id="1428926">//&nbsp;If&nbsp;min&nbsp;is&nbsp;greater&nbsp;than&nbsp;the&nbsp;length&nbsp;of&nbsp;buf,&nbsp;ReadAtLeast&nbsp;returns&nbsp;ErrShortBuffer.</span><br>
<span class="lineno"></span><span class="comment" id="1429007">//&nbsp;On&nbsp;return,&nbsp;n&nbsp;&gt;=&nbsp;min&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="1429057">func</span>&nbsp;<span class="ident" id="1429062">ReadAtLeast</span><span class="op" id="1429073">(</span><span class="ident" id="1429074">r</span>&nbsp;<span class="ident" id="1429076"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1429082">,</span>&nbsp;<span class="ident" id="1429084">buf</span>&nbsp;<span class="op" id="1429088">[</span><span class="op" id="1429089">]</span><span class="builtintype" id="1429090">byte</span><span class="op" id="1429094">,</span>&nbsp;<span class="ident" id="1429096">min</span>&nbsp;<span class="builtintype" id="1429100">int</span><span class="op" id="1429103">)</span>&nbsp;<span class="op" id="1429105">(</span><span class="ident" id="1429106">n</span>&nbsp;<span class="builtintype" id="1429108">int</span><span class="op" id="1429111">,</span>&nbsp;<span class="ident" id="1429113">err</span>&nbsp;<span class="builtintype" id="1429117">error</span><span class="op" id="1429122">)</span>&nbsp;<span class="op" id="1429124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429127">if</span>&nbsp;<span class="builtinfunc" id="1429130">len</span><span class="op" id="1429133">(</span><span class="ident" id="1429134"><a href="/gostd/io/io.go.html#1429084">buf</a></span><span class="op" id="1429137">)</span>&nbsp;<span class="op" id="1429139">&lt;</span>&nbsp;<span class="ident" id="1429141"><a href="/gostd/io/io.go.html#1429096">min</a></span>&nbsp;<span class="op" id="1429145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429149">return</span>&nbsp;<span class="num" id="1429156">0</span><span class="op" id="1429157">,</span>&nbsp;<span class="ident" id="1429159"><a href="/gostd/io/io.go.html#1419602">ErrShortBuffer</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1429175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429178">for</span>&nbsp;<span class="ident" id="1429182"><a href="/gostd/io/io.go.html#1429106">n</a></span>&nbsp;<span class="op" id="1429184">&lt;</span>&nbsp;<span class="ident" id="1429186"><a href="/gostd/io/io.go.html#1429096">min</a></span>&nbsp;<span class="op" id="1429190">&amp;&amp;</span>&nbsp;<span class="ident" id="1429193"><a href="/gostd/io/io.go.html#1429113">err</a></span>&nbsp;<span class="op" id="1429197">==</span>&nbsp;<span class="builtintype" id="1429200">nil</span>&nbsp;<span class="op" id="1429204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429208">var</span>&nbsp;<span class="ident" id="1429212">nn</span>&nbsp;<span class="builtintype" id="1429215">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1429221"><a href="/gostd/io/io.go.html#1429212">nn</a></span><span class="op" id="1429223">,</span>&nbsp;<span class="ident" id="1429225"><a href="/gostd/io/io.go.html#1429113">err</a></span>&nbsp;<span class="op" id="1429229">=</span>&nbsp;<span class="ident" id="1429231"><a href="/gostd/io/io.go.html#1429074">r</a></span><span class="op" id="1429232">.</span><span class="ident" id="1429233"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="1429237">(</span><span class="ident" id="1429238"><a href="/gostd/io/io.go.html#1429084">buf</a></span><span class="op" id="1429241">[</span><span class="ident" id="1429242"><a href="/gostd/io/io.go.html#1429106">n</a></span><span class="op" id="1429243">:</span><span class="op" id="1429244">]</span><span class="op" id="1429245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1429249"><a href="/gostd/io/io.go.html#1429106">n</a></span>&nbsp;<span class="op" id="1429251">+=</span>&nbsp;<span class="ident" id="1429254"><a href="/gostd/io/io.go.html#1429212">nn</a></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1429258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429261">if</span>&nbsp;<span class="ident" id="1429264"><a href="/gostd/io/io.go.html#1429106">n</a></span>&nbsp;<span class="op" id="1429266">&gt;=</span>&nbsp;<span class="ident" id="1429269"><a href="/gostd/io/io.go.html#1429096">min</a></span>&nbsp;<span class="op" id="1429273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1429277"><a href="/gostd/io/io.go.html#1429113">err</a></span>&nbsp;<span class="op" id="1429281">=</span>&nbsp;<span class="builtintype" id="1429283">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1429288">}</span>&nbsp;<span class="keyword" id="1429290">else</span>&nbsp;<span class="keyword" id="1429295">if</span>&nbsp;<span class="ident" id="1429298"><a href="/gostd/io/io.go.html#1429106">n</a></span>&nbsp;<span class="op" id="1429300">&gt;</span>&nbsp;<span class="num" id="1429302">0</span>&nbsp;<span class="op" id="1429304">&amp;&amp;</span>&nbsp;<span class="ident" id="1429307"><a href="/gostd/io/io.go.html#1429113">err</a></span>&nbsp;<span class="op" id="1429311">==</span>&nbsp;<span class="ident" id="1429314"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="1429318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1429322"><a href="/gostd/io/io.go.html#1429113">err</a></span>&nbsp;<span class="op" id="1429326">=</span>&nbsp;<span class="ident" id="1429328"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1429346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429349">return</span><br>
<span class="lineno"></span><span class="op" id="1429356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1429359">//&nbsp;ReadFull&nbsp;reads&nbsp;exactly&nbsp;len(buf)&nbsp;bytes&nbsp;from&nbsp;r&nbsp;into&nbsp;buf.</span><br>
<span class="lineno">310</span><span class="comment" id="1429417">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;an&nbsp;error&nbsp;if&nbsp;fewer&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1429497">//&nbsp;The&nbsp;error&nbsp;is&nbsp;EOF&nbsp;only&nbsp;if&nbsp;no&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1429545">//&nbsp;If&nbsp;an&nbsp;EOF&nbsp;happens&nbsp;after&nbsp;reading&nbsp;some&nbsp;but&nbsp;not&nbsp;all&nbsp;the&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="1429608">//&nbsp;ReadFull&nbsp;returns&nbsp;ErrUnexpectedEOF.</span><br>
<span class="lineno"></span><span class="comment" id="1429646">//&nbsp;On&nbsp;return,&nbsp;n&nbsp;==&nbsp;len(buf)&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno">315</span><span class="keyword" id="1429701">func</span>&nbsp;<span class="ident" id="1429706">ReadFull</span><span class="op" id="1429714">(</span><span class="ident" id="1429715">r</span>&nbsp;<span class="ident" id="1429717"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1429723">,</span>&nbsp;<span class="ident" id="1429725">buf</span>&nbsp;<span class="op" id="1429729">[</span><span class="op" id="1429730">]</span><span class="builtintype" id="1429731">byte</span><span class="op" id="1429735">)</span>&nbsp;<span class="op" id="1429737">(</span><span class="ident" id="1429738">n</span>&nbsp;<span class="builtintype" id="1429740">int</span><span class="op" id="1429743">,</span>&nbsp;<span class="ident" id="1429745">err</span>&nbsp;<span class="builtintype" id="1429749">error</span><span class="op" id="1429754">)</span>&nbsp;<span class="op" id="1429756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1429759">return</span>&nbsp;<span class="ident" id="1429766"><a href="/gostd/io/io.go.html#1429062">ReadAtLeast</a></span><span class="op" id="1429777">(</span><span class="ident" id="1429778"><a href="/gostd/io/io.go.html#1429715">r</a></span><span class="op" id="1429779">,</span>&nbsp;<span class="ident" id="1429781"><a href="/gostd/io/io.go.html#1429725">buf</a></span><span class="op" id="1429784">,</span>&nbsp;<span class="builtinfunc" id="1429786">len</span><span class="op" id="1429789">(</span><span class="ident" id="1429790"><a href="/gostd/io/io.go.html#1429725">buf</a></span><span class="op" id="1429793">)</span><span class="op" id="1429794">)</span><br>
<span class="lineno"></span><span class="op" id="1429796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1429799">//&nbsp;CopyN&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;(or&nbsp;until&nbsp;an&nbsp;error)&nbsp;from&nbsp;src&nbsp;to&nbsp;dst.</span><br>
<span class="lineno">320</span><span class="comment" id="1429860">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;the&nbsp;earliest</span><br>
<span class="lineno"></span><span class="comment" id="1429918">//&nbsp;error&nbsp;encountered&nbsp;while&nbsp;copying.</span><br>
<span class="lineno"></span><span class="comment" id="1429954">//&nbsp;On&nbsp;return,&nbsp;written&nbsp;==&nbsp;n&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="1430008">//</span><br>
<span class="lineno"></span><span class="comment" id="1430011">//&nbsp;If&nbsp;dst&nbsp;implements&nbsp;the&nbsp;ReaderFrom&nbsp;interface,</span><br>
<span class="lineno">325</span><span class="comment" id="1430058">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;using&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="1430095">func</span>&nbsp;<span class="ident" id="1430100">CopyN</span><span class="op" id="1430105">(</span><span class="ident" id="1430106">dst</span>&nbsp;<span class="ident" id="1430110"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="1430116">,</span>&nbsp;<span class="ident" id="1430118">src</span>&nbsp;<span class="ident" id="1430122"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1430128">,</span>&nbsp;<span class="ident" id="1430130">n</span>&nbsp;<span class="builtintype" id="1430132">int64</span><span class="op" id="1430137">)</span>&nbsp;<span class="op" id="1430139">(</span><span class="ident" id="1430140">written</span>&nbsp;<span class="builtintype" id="1430148">int64</span><span class="op" id="1430153">,</span>&nbsp;<span class="ident" id="1430155">err</span>&nbsp;<span class="builtintype" id="1430159">error</span><span class="op" id="1430164">)</span>&nbsp;<span class="op" id="1430166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1430169"><a href="/gostd/io/io.go.html#1430140">written</a></span><span class="op" id="1430176">,</span>&nbsp;<span class="ident" id="1430178"><a href="/gostd/io/io.go.html#1430155">err</a></span>&nbsp;<span class="op" id="1430182">=</span>&nbsp;<span class="ident" id="1430184"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="1430188">(</span><span class="ident" id="1430189"><a href="/gostd/io/io.go.html#1430106">dst</a></span><span class="op" id="1430192">,</span>&nbsp;<span class="ident" id="1430194"><a href="/gostd/io/io.go.html#1431815">LimitReader</a></span><span class="op" id="1430205">(</span><span class="ident" id="1430206"><a href="/gostd/io/io.go.html#1430118">src</a></span><span class="op" id="1430209">,</span>&nbsp;<span class="ident" id="1430211"><a href="/gostd/io/io.go.html#1430130">n</a></span><span class="op" id="1430212">)</span><span class="op" id="1430213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1430216">if</span>&nbsp;<span class="ident" id="1430219"><a href="/gostd/io/io.go.html#1430140">written</a></span>&nbsp;<span class="op" id="1430227">==</span>&nbsp;<span class="ident" id="1430230"><a href="/gostd/io/io.go.html#1430130">n</a></span>&nbsp;<span class="op" id="1430232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1430236">return</span>&nbsp;<span class="ident" id="1430243"><a href="/gostd/io/io.go.html#1430130">n</a></span><span class="op" id="1430244">,</span>&nbsp;<span class="builtintype" id="1430246">nil</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1430251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1430254">if</span>&nbsp;<span class="ident" id="1430257"><a href="/gostd/io/io.go.html#1430140">written</a></span>&nbsp;<span class="op" id="1430265">&lt;</span>&nbsp;<span class="ident" id="1430267"><a href="/gostd/io/io.go.html#1430130">n</a></span>&nbsp;<span class="op" id="1430269">&amp;&amp;</span>&nbsp;<span class="ident" id="1430272"><a href="/gostd/io/io.go.html#1430155">err</a></span>&nbsp;<span class="op" id="1430276">==</span>&nbsp;<span class="builtintype" id="1430279">nil</span>&nbsp;<span class="op" id="1430283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1430287">//&nbsp;src&nbsp;stopped&nbsp;early;&nbsp;must&nbsp;have&nbsp;been&nbsp;EOF.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1430331"><a href="/gostd/io/io.go.html#1430155">err</a></span>&nbsp;<span class="op" id="1430335">=</span>&nbsp;<span class="ident" id="1430337"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1430342">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1430345">return</span><br>
<span class="lineno"></span><span class="op" id="1430352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1430355">//&nbsp;Copy&nbsp;copies&nbsp;from&nbsp;src&nbsp;to&nbsp;dst&nbsp;until&nbsp;either&nbsp;EOF&nbsp;is&nbsp;reached</span><br>
<span class="lineno"></span><span class="comment" id="1430414">//&nbsp;on&nbsp;src&nbsp;or&nbsp;an&nbsp;error&nbsp;occurs.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">340</span><span class="comment" id="1430476">//&nbsp;copied&nbsp;and&nbsp;the&nbsp;first&nbsp;error&nbsp;encountered&nbsp;while&nbsp;copying,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="1430541">//</span><br>
<span class="lineno"></span><span class="comment" id="1430544">//&nbsp;A&nbsp;successful&nbsp;Copy&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="1430601">//&nbsp;Because&nbsp;Copy&nbsp;is&nbsp;defined&nbsp;to&nbsp;read&nbsp;from&nbsp;src&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="1430664">//&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno">345</span><span class="comment" id="1430722">//</span><br>
<span class="lineno"></span><span class="comment" id="1430725">//&nbsp;If&nbsp;src&nbsp;implements&nbsp;the&nbsp;WriterTo&nbsp;interface,</span><br>
<span class="lineno"></span><span class="comment" id="1430770">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;by&nbsp;calling&nbsp;src.WriteTo(dst).</span><br>
<span class="lineno"></span><span class="comment" id="1430826">//&nbsp;Otherwise,&nbsp;if&nbsp;dst&nbsp;implements&nbsp;the&nbsp;ReaderFrom&nbsp;interface,</span><br>
<span class="lineno"></span><span class="comment" id="1430884">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;by&nbsp;calling&nbsp;dst.ReadFrom(src).</span><br>
<span class="lineno">350</span><span class="keyword" id="1430941">func</span>&nbsp;<span class="ident" id="1430946">Copy</span><span class="op" id="1430950">(</span><span class="ident" id="1430951">dst</span>&nbsp;<span class="ident" id="1430955"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="1430961">,</span>&nbsp;<span class="ident" id="1430963">src</span>&nbsp;<span class="ident" id="1430967"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1430973">)</span>&nbsp;<span class="op" id="1430975">(</span><span class="ident" id="1430976">written</span>&nbsp;<span class="builtintype" id="1430984">int64</span><span class="op" id="1430989">,</span>&nbsp;<span class="ident" id="1430991">err</span>&nbsp;<span class="builtintype" id="1430995">error</span><span class="op" id="1431000">)</span>&nbsp;<span class="op" id="1431002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431005">//&nbsp;If&nbsp;the&nbsp;reader&nbsp;has&nbsp;a&nbsp;WriteTo&nbsp;method,&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;the&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431068">//&nbsp;Avoids&nbsp;an&nbsp;allocation&nbsp;and&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431105">if</span>&nbsp;<span class="ident" id="1431108">wt</span><span class="op" id="1431110">,</span>&nbsp;<span class="ident" id="1431112">ok</span>&nbsp;<span class="op" id="1431115">:=</span>&nbsp;<span class="ident" id="1431118"><a href="/gostd/io/io.go.html#1430963">src</a></span><span class="op" id="1431121">.</span><span class="op" id="1431122">(</span><span class="ident" id="1431123"><a href="/gostd/io/io.go.html#1424818">WriterTo</a></span><span class="op" id="1431131">)</span><span class="op" id="1431132">;</span>&nbsp;<span class="ident" id="1431134"><a href="/gostd/io/io.go.html#1431112">ok</a></span>&nbsp;<span class="op" id="1431137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431141">return</span>&nbsp;<span class="ident" id="1431148"><a href="/gostd/io/io.go.html#1431108">wt</a></span><span class="op" id="1431150">.</span><span class="ident" id="1431151"><a href="/gostd/io/io.go.html#1424840">WriteTo</a></span><span class="op" id="1431158">(</span><span class="ident" id="1431159"><a href="/gostd/io/io.go.html#1430951">dst</a></span><span class="op" id="1431162">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1431168">//&nbsp;Similarly,&nbsp;if&nbsp;the&nbsp;writer&nbsp;has&nbsp;a&nbsp;ReadFrom&nbsp;method,&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;the&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431243">if</span>&nbsp;<span class="ident" id="1431246">rt</span><span class="op" id="1431248">,</span>&nbsp;<span class="ident" id="1431250">ok</span>&nbsp;<span class="op" id="1431253">:=</span>&nbsp;<span class="ident" id="1431256"><a href="/gostd/io/io.go.html#1430951">dst</a></span><span class="op" id="1431259">.</span><span class="op" id="1431260">(</span><span class="ident" id="1431261"><a href="/gostd/io/io.go.html#1424428">ReaderFrom</a></span><span class="op" id="1431271">)</span><span class="op" id="1431272">;</span>&nbsp;<span class="ident" id="1431274"><a href="/gostd/io/io.go.html#1431250">ok</a></span>&nbsp;<span class="op" id="1431277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431281">return</span>&nbsp;<span class="ident" id="1431288"><a href="/gostd/io/io.go.html#1431246">rt</a></span><span class="op" id="1431290">.</span><span class="ident" id="1431291"><a href="/gostd/io/io.go.html#1424452">ReadFrom</a></span><span class="op" id="1431299">(</span><span class="ident" id="1431300"><a href="/gostd/io/io.go.html#1430963">src</a></span><span class="op" id="1431303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431306">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431309">buf</span>&nbsp;<span class="op" id="1431313">:=</span>&nbsp;<span class="builtinfunc" id="1431316">make</span><span class="op" id="1431320">(</span><span class="op" id="1431321">[</span><span class="op" id="1431322">]</span><span class="builtintype" id="1431323">byte</span><span class="op" id="1431327">,</span>&nbsp;<span class="num" id="1431329">32</span><span class="op" id="1431331">*</span><span class="num" id="1431332">1024</span><span class="op" id="1431336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431339">for</span>&nbsp;<span class="op" id="1431343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431347">nr</span><span class="op" id="1431349">,</span>&nbsp;<span class="ident" id="1431351">er</span>&nbsp;<span class="op" id="1431354">:=</span>&nbsp;<span class="ident" id="1431357"><a href="/gostd/io/io.go.html#1430963">src</a></span><span class="op" id="1431360">.</span><span class="ident" id="1431361"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="1431365">(</span><span class="ident" id="1431366"><a href="/gostd/io/io.go.html#1431309">buf</a></span><span class="op" id="1431369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431373">if</span>&nbsp;<span class="ident" id="1431376"><a href="/gostd/io/io.go.html#1431347">nr</a></span>&nbsp;<span class="op" id="1431379">&gt;</span>&nbsp;<span class="num" id="1431381">0</span>&nbsp;<span class="op" id="1431383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431388">nw</span><span class="op" id="1431390">,</span>&nbsp;<span class="ident" id="1431392">ew</span>&nbsp;<span class="op" id="1431395">:=</span>&nbsp;<span class="ident" id="1431398"><a href="/gostd/io/io.go.html#1430951">dst</a></span><span class="op" id="1431401">.</span><span class="ident" id="1431402"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="1431407">(</span><span class="ident" id="1431408"><a href="/gostd/io/io.go.html#1431309">buf</a></span><span class="op" id="1431411">[</span><span class="num" id="1431412">0</span><span class="op" id="1431413">:</span><span class="ident" id="1431414"><a href="/gostd/io/io.go.html#1431347">nr</a></span><span class="op" id="1431416">]</span><span class="op" id="1431417">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431422">if</span>&nbsp;<span class="ident" id="1431425"><a href="/gostd/io/io.go.html#1431388">nw</a></span>&nbsp;<span class="op" id="1431428">&gt;</span>&nbsp;<span class="num" id="1431430">0</span>&nbsp;<span class="op" id="1431432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431438"><a href="/gostd/io/io.go.html#1430976">written</a></span>&nbsp;<span class="op" id="1431446">+=</span>&nbsp;<span class="builtintype" id="1431449">int64</span><span class="op" id="1431454">(</span><span class="ident" id="1431455"><a href="/gostd/io/io.go.html#1431388">nw</a></span><span class="op" id="1431457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431467">if</span>&nbsp;<span class="ident" id="1431470"><a href="/gostd/io/io.go.html#1431392">ew</a></span>&nbsp;<span class="op" id="1431473">!=</span>&nbsp;<span class="builtintype" id="1431476">nil</span>&nbsp;<span class="op" id="1431480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431486"><a href="/gostd/io/io.go.html#1430991">err</a></span>&nbsp;<span class="op" id="1431490">=</span>&nbsp;<span class="ident" id="1431492"><a href="/gostd/io/io.go.html#1431392">ew</a></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431499">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431513">if</span>&nbsp;<span class="ident" id="1431516"><a href="/gostd/io/io.go.html#1431347">nr</a></span>&nbsp;<span class="op" id="1431519">!=</span>&nbsp;<span class="ident" id="1431522"><a href="/gostd/io/io.go.html#1431388">nw</a></span>&nbsp;<span class="op" id="1431525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431531"><a href="/gostd/io/io.go.html#1430991">err</a></span>&nbsp;<span class="op" id="1431535">=</span>&nbsp;<span class="ident" id="1431537"><a href="/gostd/io/io.go.html#1419475">ErrShortWrite</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431555">break</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431572">if</span>&nbsp;<span class="ident" id="1431575"><a href="/gostd/io/io.go.html#1431351">er</a></span>&nbsp;<span class="op" id="1431578">==</span>&nbsp;<span class="ident" id="1431581"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="1431585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431590">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431598">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431602">if</span>&nbsp;<span class="ident" id="1431605"><a href="/gostd/io/io.go.html#1431351">er</a></span>&nbsp;<span class="op" id="1431608">!=</span>&nbsp;<span class="builtintype" id="1431611">nil</span>&nbsp;<span class="op" id="1431615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1431620"><a href="/gostd/io/io.go.html#1430991">err</a></span>&nbsp;<span class="op" id="1431624">=</span>&nbsp;<span class="ident" id="1431626"><a href="/gostd/io/io.go.html#1431351">er</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431632">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1431643">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1431646">return</span>&nbsp;<span class="ident" id="1431653"><a href="/gostd/io/io.go.html#1430976">written</a></span><span class="op" id="1431660">,</span>&nbsp;<span class="ident" id="1431662"><a href="/gostd/io/io.go.html#1430991">err</a></span><br>
<span class="lineno"></span><span class="op" id="1431666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1431669">//&nbsp;LimitReader&nbsp;returns&nbsp;a&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="1431719">//&nbsp;but&nbsp;stops&nbsp;with&nbsp;EOF&nbsp;after&nbsp;n&nbsp;bytes.</span><br>
<span class="lineno">390</span><span class="comment" id="1431756">//&nbsp;The&nbsp;underlying&nbsp;implementation&nbsp;is&nbsp;a&nbsp;*LimitedReader.</span><br>
<span class="lineno"></span><span class="keyword" id="1431810">func</span>&nbsp;<span class="ident" id="1431815">LimitReader</span><span class="op" id="1431826">(</span><span class="ident" id="1431827">r</span>&nbsp;<span class="ident" id="1431829"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1431835">,</span>&nbsp;<span class="ident" id="1431837">n</span>&nbsp;<span class="builtintype" id="1431839">int64</span><span class="op" id="1431844">)</span>&nbsp;<span class="ident" id="1431846"><a href="/gostd/io/io.go.html#1421823">Reader</a></span>&nbsp;<span class="op" id="1431853">{</span>&nbsp;<span class="keyword" id="1431855">return</span>&nbsp;<span class="op" id="1431862">&amp;</span><span class="ident" id="1431863"><a href="/gostd/io/io.go.html#1432050">LimitedReader</a></span><span class="op" id="1431876">{</span><span class="ident" id="1431877"><a href="/gostd/io/io.go.html#1431827">r</a></span><span class="op" id="1431878">,</span>&nbsp;<span class="ident" id="1431880"><a href="/gostd/io/io.go.html#1431837">n</a></span><span class="op" id="1431881">}</span>&nbsp;<span class="op" id="1431883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1431886">//&nbsp;A&nbsp;LimitedReader&nbsp;reads&nbsp;from&nbsp;R&nbsp;but&nbsp;limits&nbsp;the&nbsp;amount&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1431943">//&nbsp;data&nbsp;returned&nbsp;to&nbsp;just&nbsp;N&nbsp;bytes.&nbsp;Each&nbsp;call&nbsp;to&nbsp;Read</span><br>
<span class="lineno">395</span><span class="comment" id="1431995">//&nbsp;updates&nbsp;N&nbsp;to&nbsp;reflect&nbsp;the&nbsp;new&nbsp;amount&nbsp;remaining.</span><br>
<span class="lineno"></span><span class="keyword" id="1432045">type</span>&nbsp;<span class="ident" id="1432050">LimitedReader</span>&nbsp;<span class="keyword" id="1432064">struct</span>&nbsp;<span class="op" id="1432071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432074">R</span>&nbsp;<span class="ident" id="1432076"><a href="/gostd/io/io.go.html#1421823">Reader</a></span>&nbsp;<span class="comment" id="1432083">//&nbsp;underlying&nbsp;reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432105">N</span>&nbsp;<span class="builtintype" id="1432107">int64</span>&nbsp;&nbsp;<span class="comment" id="1432114">//&nbsp;max&nbsp;bytes&nbsp;remaining</span><br>
<span class="lineno"></span><span class="op" id="1432137">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="1432140">func</span>&nbsp;<span class="op" id="1432145">(</span><span class="ident" id="1432146">l</span>&nbsp;<span class="op" id="1432148">*</span><span class="ident" id="1432149"><a href="/gostd/io/io.go.html#1432050">LimitedReader</a></span><span class="op" id="1432162">)</span>&nbsp;<span class="ident" id="1432164">Read</span><span class="op" id="1432168">(</span><span class="ident" id="1432169">p</span>&nbsp;<span class="op" id="1432171">[</span><span class="op" id="1432172">]</span><span class="builtintype" id="1432173">byte</span><span class="op" id="1432177">)</span>&nbsp;<span class="op" id="1432179">(</span><span class="ident" id="1432180">n</span>&nbsp;<span class="builtintype" id="1432182">int</span><span class="op" id="1432185">,</span>&nbsp;<span class="ident" id="1432187">err</span>&nbsp;<span class="builtintype" id="1432191">error</span><span class="op" id="1432196">)</span>&nbsp;<span class="op" id="1432198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432201">if</span>&nbsp;<span class="ident" id="1432204"><a href="/gostd/io/io.go.html#1432146">l</a></span><span class="op" id="1432205">.</span><span class="ident" id="1432206"><a href="/gostd/io/io.go.html#1432105">N</a></span>&nbsp;<span class="op" id="1432208">&lt;=</span>&nbsp;<span class="num" id="1432211">0</span>&nbsp;<span class="op" id="1432213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432217">return</span>&nbsp;<span class="num" id="1432224">0</span><span class="op" id="1432225">,</span>&nbsp;<span class="ident" id="1432227"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432232">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432235">if</span>&nbsp;<span class="builtintype" id="1432238">int64</span><span class="op" id="1432243">(</span><span class="builtinfunc" id="1432244">len</span><span class="op" id="1432247">(</span><span class="ident" id="1432248"><a href="/gostd/io/io.go.html#1432169">p</a></span><span class="op" id="1432249">)</span><span class="op" id="1432250">)</span>&nbsp;<span class="op" id="1432252">&gt;</span>&nbsp;<span class="ident" id="1432254"><a href="/gostd/io/io.go.html#1432146">l</a></span><span class="op" id="1432255">.</span><span class="ident" id="1432256"><a href="/gostd/io/io.go.html#1432105">N</a></span>&nbsp;<span class="op" id="1432258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432262"><a href="/gostd/io/io.go.html#1432169">p</a></span>&nbsp;<span class="op" id="1432264">=</span>&nbsp;<span class="ident" id="1432266"><a href="/gostd/io/io.go.html#1432169">p</a></span><span class="op" id="1432267">[</span><span class="num" id="1432268">0</span><span class="op" id="1432269">:</span><span class="ident" id="1432270"><a href="/gostd/io/io.go.html#1432146">l</a></span><span class="op" id="1432271">.</span><span class="ident" id="1432272"><a href="/gostd/io/io.go.html#1432105">N</a></span><span class="op" id="1432273">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432279"><a href="/gostd/io/io.go.html#1432180">n</a></span><span class="op" id="1432280">,</span>&nbsp;<span class="ident" id="1432282"><a href="/gostd/io/io.go.html#1432187">err</a></span>&nbsp;<span class="op" id="1432286">=</span>&nbsp;<span class="ident" id="1432288"><a href="/gostd/io/io.go.html#1432146">l</a></span><span class="op" id="1432289">.</span><span class="ident" id="1432290"><a href="/gostd/io/io.go.html#1432074">R</a></span><span class="op" id="1432291">.</span><span class="ident" id="1432292"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="1432296">(</span><span class="ident" id="1432297"><a href="/gostd/io/io.go.html#1432169">p</a></span><span class="op" id="1432298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432301"><a href="/gostd/io/io.go.html#1432146">l</a></span><span class="op" id="1432302">.</span><span class="ident" id="1432303"><a href="/gostd/io/io.go.html#1432105">N</a></span>&nbsp;<span class="op" id="1432305">-=</span>&nbsp;<span class="builtintype" id="1432308">int64</span><span class="op" id="1432313">(</span><span class="ident" id="1432314"><a href="/gostd/io/io.go.html#1432180">n</a></span><span class="op" id="1432315">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432318">return</span><br>
<span class="lineno"></span><span class="op" id="1432325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1432328">//&nbsp;NewSectionReader&nbsp;returns&nbsp;a&nbsp;SectionReader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="1432390">//&nbsp;starting&nbsp;at&nbsp;offset&nbsp;off&nbsp;and&nbsp;stops&nbsp;with&nbsp;EOF&nbsp;after&nbsp;n&nbsp;bytes.</span><br>
<span class="lineno">415</span><span class="keyword" id="1432450">func</span>&nbsp;<span class="ident" id="1432455">NewSectionReader</span><span class="op" id="1432471">(</span><span class="ident" id="1432472">r</span>&nbsp;<span class="ident" id="1432474"><a href="/gostd/io/io.go.html#1425985">ReaderAt</a></span><span class="op" id="1432482">,</span>&nbsp;<span class="ident" id="1432484">off</span>&nbsp;<span class="builtintype" id="1432488">int64</span><span class="op" id="1432493">,</span>&nbsp;<span class="ident" id="1432495">n</span>&nbsp;<span class="builtintype" id="1432497">int64</span><span class="op" id="1432502">)</span>&nbsp;<span class="op" id="1432504">*</span><span class="ident" id="1432505"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span>&nbsp;<span class="op" id="1432519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432522">return</span>&nbsp;<span class="op" id="1432529">&amp;</span><span class="ident" id="1432530"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><span class="op" id="1432543">{</span><span class="ident" id="1432544"><a href="/gostd/io/io.go.html#1432472">r</a></span><span class="op" id="1432545">,</span>&nbsp;<span class="ident" id="1432547"><a href="/gostd/io/io.go.html#1432484">off</a></span><span class="op" id="1432550">,</span>&nbsp;<span class="ident" id="1432552"><a href="/gostd/io/io.go.html#1432484">off</a></span><span class="op" id="1432555">,</span>&nbsp;<span class="ident" id="1432557"><a href="/gostd/io/io.go.html#1432484">off</a></span>&nbsp;<span class="op" id="1432561">+</span>&nbsp;<span class="ident" id="1432563"><a href="/gostd/io/io.go.html#1432495">n</a></span><span class="op" id="1432564">}</span><br>
<span class="lineno"></span><span class="op" id="1432566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1432569">//&nbsp;SectionReader&nbsp;implements&nbsp;Read,&nbsp;Seek,&nbsp;and&nbsp;ReadAt&nbsp;on&nbsp;a&nbsp;section</span><br>
<span class="lineno">420</span><span class="comment" id="1432633">//&nbsp;of&nbsp;an&nbsp;underlying&nbsp;ReaderAt.</span><br>
<span class="lineno"></span><span class="keyword" id="1432663">type</span>&nbsp;<span class="ident" id="1432668">SectionReader</span>&nbsp;<span class="keyword" id="1432682">struct</span>&nbsp;<span class="op" id="1432689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432692">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432698"><a href="/gostd/io/io.go.html#1425985">ReaderAt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432708">base</span>&nbsp;&nbsp;<span class="builtintype" id="1432714">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432721">off</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1432727">int64</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432734">limit</span>&nbsp;<span class="builtintype" id="1432740">int64</span><br>
<span class="lineno"></span><span class="op" id="1432746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1432749">func</span>&nbsp;<span class="op" id="1432754">(</span><span class="ident" id="1432755">s</span>&nbsp;<span class="op" id="1432757">*</span><span class="ident" id="1432758"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><span class="op" id="1432771">)</span>&nbsp;<span class="ident" id="1432773">Read</span><span class="op" id="1432777">(</span><span class="ident" id="1432778">p</span>&nbsp;<span class="op" id="1432780">[</span><span class="op" id="1432781">]</span><span class="builtintype" id="1432782">byte</span><span class="op" id="1432786">)</span>&nbsp;<span class="op" id="1432788">(</span><span class="ident" id="1432789">n</span>&nbsp;<span class="builtintype" id="1432791">int</span><span class="op" id="1432794">,</span>&nbsp;<span class="ident" id="1432796">err</span>&nbsp;<span class="builtintype" id="1432800">error</span><span class="op" id="1432805">)</span>&nbsp;<span class="op" id="1432807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432810">if</span>&nbsp;<span class="ident" id="1432813"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432814">.</span><span class="ident" id="1432815"><a href="/gostd/io/io.go.html#1432721">off</a></span>&nbsp;<span class="op" id="1432819">&gt;=</span>&nbsp;<span class="ident" id="1432822"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432823">.</span><span class="ident" id="1432824"><a href="/gostd/io/io.go.html#1432734">limit</a></span>&nbsp;<span class="op" id="1432830">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432834">return</span>&nbsp;<span class="num" id="1432841">0</span><span class="op" id="1432842">,</span>&nbsp;<span class="ident" id="1432844"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432852">if</span>&nbsp;<span class="ident" id="1432855">max</span>&nbsp;<span class="op" id="1432859">:=</span>&nbsp;<span class="ident" id="1432862"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432863">.</span><span class="ident" id="1432864"><a href="/gostd/io/io.go.html#1432734">limit</a></span>&nbsp;<span class="op" id="1432870">-</span>&nbsp;<span class="ident" id="1432872"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432873">.</span><span class="ident" id="1432874"><a href="/gostd/io/io.go.html#1432721">off</a></span><span class="op" id="1432877">;</span>&nbsp;<span class="builtintype" id="1432879">int64</span><span class="op" id="1432884">(</span><span class="builtinfunc" id="1432885">len</span><span class="op" id="1432888">(</span><span class="ident" id="1432889"><a href="/gostd/io/io.go.html#1432778">p</a></span><span class="op" id="1432890">)</span><span class="op" id="1432891">)</span>&nbsp;<span class="op" id="1432893">&gt;</span>&nbsp;<span class="ident" id="1432895"><a href="/gostd/io/io.go.html#1432855">max</a></span>&nbsp;<span class="op" id="1432899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432903"><a href="/gostd/io/io.go.html#1432778">p</a></span>&nbsp;<span class="op" id="1432905">=</span>&nbsp;<span class="ident" id="1432907"><a href="/gostd/io/io.go.html#1432778">p</a></span><span class="op" id="1432908">[</span><span class="num" id="1432909">0</span><span class="op" id="1432910">:</span><span class="ident" id="1432911"><a href="/gostd/io/io.go.html#1432855">max</a></span><span class="op" id="1432914">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1432917">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432920"><a href="/gostd/io/io.go.html#1432789">n</a></span><span class="op" id="1432921">,</span>&nbsp;<span class="ident" id="1432923"><a href="/gostd/io/io.go.html#1432796">err</a></span>&nbsp;<span class="op" id="1432927">=</span>&nbsp;<span class="ident" id="1432929"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432930">.</span><span class="ident" id="1432931"><a href="/gostd/io/io.go.html#1432692">r</a></span><span class="op" id="1432932">.</span><span class="ident" id="1432933"><a href="/gostd/io/io.go.html#1426007">ReadAt</a></span><span class="op" id="1432939">(</span><span class="ident" id="1432940"><a href="/gostd/io/io.go.html#1432778">p</a></span><span class="op" id="1432941">,</span>&nbsp;<span class="ident" id="1432943"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432944">.</span><span class="ident" id="1432945"><a href="/gostd/io/io.go.html#1432721">off</a></span><span class="op" id="1432948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1432951"><a href="/gostd/io/io.go.html#1432755">s</a></span><span class="op" id="1432952">.</span><span class="ident" id="1432953"><a href="/gostd/io/io.go.html#1432721">off</a></span>&nbsp;<span class="op" id="1432957">+=</span>&nbsp;<span class="builtintype" id="1432960">int64</span><span class="op" id="1432965">(</span><span class="ident" id="1432966"><a href="/gostd/io/io.go.html#1432789">n</a></span><span class="op" id="1432967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1432970">return</span><br>
<span class="lineno"></span><span class="op" id="1432977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="keyword" id="1432980">var</span>&nbsp;<span class="ident" id="1432984">errWhence</span>&nbsp;<span class="op" id="1432994">=</span>&nbsp;<span class="ident" id="1432996"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1433002">.</span><span class="ident" id="1433003"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1433006">(</span><span class="string" id="1433007">&#34;Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="1433029">)</span><br>
<span class="lineno"></span><span class="keyword" id="1433031">var</span>&nbsp;<span class="ident" id="1433035">errOffset</span>&nbsp;<span class="op" id="1433045">=</span>&nbsp;<span class="ident" id="1433047"><a href="/gostd/io/io.go.html#1419344">errors</a></span><span class="op" id="1433053">.</span><span class="ident" id="1433054"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="1433057">(</span><span class="string" id="1433058">&#34;Seek:&nbsp;invalid&nbsp;offset&#34;</span><span class="op" id="1433080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1433083">func</span>&nbsp;<span class="op" id="1433088">(</span><span class="ident" id="1433089">s</span>&nbsp;<span class="op" id="1433091">*</span><span class="ident" id="1433092"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><span class="op" id="1433105">)</span>&nbsp;<span class="ident" id="1433107">Seek</span><span class="op" id="1433111">(</span><span class="ident" id="1433112">offset</span>&nbsp;<span class="builtintype" id="1433119">int64</span><span class="op" id="1433124">,</span>&nbsp;<span class="ident" id="1433126">whence</span>&nbsp;<span class="builtintype" id="1433133">int</span><span class="op" id="1433136">)</span>&nbsp;<span class="op" id="1433138">(</span><span class="builtintype" id="1433139">int64</span><span class="op" id="1433144">,</span>&nbsp;<span class="builtintype" id="1433146">error</span><span class="op" id="1433151">)</span>&nbsp;<span class="op" id="1433153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433156">switch</span>&nbsp;<span class="ident" id="1433163"><a href="/gostd/io/io.go.html#1433126">whence</a></span>&nbsp;<span class="op" id="1433170">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433173">default</span><span class="op" id="1433180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433184">return</span>&nbsp;<span class="num" id="1433191">0</span><span class="op" id="1433192">,</span>&nbsp;<span class="ident" id="1433194"><a href="/gostd/io/io.go.html#1432984">errWhence</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433205">case</span>&nbsp;<span class="num" id="1433210">0</span><span class="op" id="1433211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433215"><a href="/gostd/io/io.go.html#1433112">offset</a></span>&nbsp;<span class="op" id="1433222">+=</span>&nbsp;<span class="ident" id="1433225"><a href="/gostd/io/io.go.html#1433089">s</a></span><span class="op" id="1433226">.</span><span class="ident" id="1433227"><a href="/gostd/io/io.go.html#1432708">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433233">case</span>&nbsp;<span class="num" id="1433238">1</span><span class="op" id="1433239">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433243"><a href="/gostd/io/io.go.html#1433112">offset</a></span>&nbsp;<span class="op" id="1433250">+=</span>&nbsp;<span class="ident" id="1433253"><a href="/gostd/io/io.go.html#1433089">s</a></span><span class="op" id="1433254">.</span><span class="ident" id="1433255"><a href="/gostd/io/io.go.html#1432721">off</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433260">case</span>&nbsp;<span class="num" id="1433265">2</span><span class="op" id="1433266">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433270"><a href="/gostd/io/io.go.html#1433112">offset</a></span>&nbsp;<span class="op" id="1433277">+=</span>&nbsp;<span class="ident" id="1433280"><a href="/gostd/io/io.go.html#1433089">s</a></span><span class="op" id="1433281">.</span><span class="ident" id="1433282"><a href="/gostd/io/io.go.html#1432734">limit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433292">if</span>&nbsp;<span class="ident" id="1433295"><a href="/gostd/io/io.go.html#1433112">offset</a></span>&nbsp;<span class="op" id="1433302">&lt;</span>&nbsp;<span class="ident" id="1433304"><a href="/gostd/io/io.go.html#1433089">s</a></span><span class="op" id="1433305">.</span><span class="ident" id="1433306"><a href="/gostd/io/io.go.html#1432708">base</a></span>&nbsp;<span class="op" id="1433311">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433315">return</span>&nbsp;<span class="num" id="1433322">0</span><span class="op" id="1433323">,</span>&nbsp;<span class="ident" id="1433325"><a href="/gostd/io/io.go.html#1433035">errOffset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433339"><a href="/gostd/io/io.go.html#1433089">s</a></span><span class="op" id="1433340">.</span><span class="ident" id="1433341"><a href="/gostd/io/io.go.html#1432721">off</a></span>&nbsp;<span class="op" id="1433345">=</span>&nbsp;<span class="ident" id="1433347"><a href="/gostd/io/io.go.html#1433112">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433355">return</span>&nbsp;<span class="ident" id="1433362"><a href="/gostd/io/io.go.html#1433112">offset</a></span>&nbsp;<span class="op" id="1433369">-</span>&nbsp;<span class="ident" id="1433371"><a href="/gostd/io/io.go.html#1433089">s</a></span><span class="op" id="1433372">.</span><span class="ident" id="1433373"><a href="/gostd/io/io.go.html#1432708">base</a></span><span class="op" id="1433377">,</span>&nbsp;<span class="builtintype" id="1433379">nil</span><br>
<span class="lineno"></span><span class="op" id="1433383">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="1433386">func</span>&nbsp;<span class="op" id="1433391">(</span><span class="ident" id="1433392">s</span>&nbsp;<span class="op" id="1433394">*</span><span class="ident" id="1433395"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><span class="op" id="1433408">)</span>&nbsp;<span class="ident" id="1433410">ReadAt</span><span class="op" id="1433416">(</span><span class="ident" id="1433417">p</span>&nbsp;<span class="op" id="1433419">[</span><span class="op" id="1433420">]</span><span class="builtintype" id="1433421">byte</span><span class="op" id="1433425">,</span>&nbsp;<span class="ident" id="1433427">off</span>&nbsp;<span class="builtintype" id="1433431">int64</span><span class="op" id="1433436">)</span>&nbsp;<span class="op" id="1433438">(</span><span class="ident" id="1433439">n</span>&nbsp;<span class="builtintype" id="1433441">int</span><span class="op" id="1433444">,</span>&nbsp;<span class="ident" id="1433446">err</span>&nbsp;<span class="builtintype" id="1433450">error</span><span class="op" id="1433455">)</span>&nbsp;<span class="op" id="1433457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433460">if</span>&nbsp;<span class="ident" id="1433463"><a href="/gostd/io/io.go.html#1433427">off</a></span>&nbsp;<span class="op" id="1433467">&lt;</span>&nbsp;<span class="num" id="1433469">0</span>&nbsp;<span class="op" id="1433471">||</span>&nbsp;<span class="ident" id="1433474"><a href="/gostd/io/io.go.html#1433427">off</a></span>&nbsp;<span class="op" id="1433478">&gt;=</span>&nbsp;<span class="ident" id="1433481"><a href="/gostd/io/io.go.html#1433392">s</a></span><span class="op" id="1433482">.</span><span class="ident" id="1433483"><a href="/gostd/io/io.go.html#1432734">limit</a></span><span class="op" id="1433488">-</span><span class="ident" id="1433489"><a href="/gostd/io/io.go.html#1433392">s</a></span><span class="op" id="1433490">.</span><span class="ident" id="1433491"><a href="/gostd/io/io.go.html#1432708">base</a></span>&nbsp;<span class="op" id="1433496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433500">return</span>&nbsp;<span class="num" id="1433507">0</span><span class="op" id="1433508">,</span>&nbsp;<span class="ident" id="1433510"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433515">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433518"><a href="/gostd/io/io.go.html#1433427">off</a></span>&nbsp;<span class="op" id="1433522">+=</span>&nbsp;<span class="ident" id="1433525"><a href="/gostd/io/io.go.html#1433392">s</a></span><span class="op" id="1433526">.</span><span class="ident" id="1433527"><a href="/gostd/io/io.go.html#1432708">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433533">if</span>&nbsp;<span class="ident" id="1433536">max</span>&nbsp;<span class="op" id="1433540">:=</span>&nbsp;<span class="ident" id="1433543"><a href="/gostd/io/io.go.html#1433392">s</a></span><span class="op" id="1433544">.</span><span class="ident" id="1433545"><a href="/gostd/io/io.go.html#1432734">limit</a></span>&nbsp;<span class="op" id="1433551">-</span>&nbsp;<span class="ident" id="1433553"><a href="/gostd/io/io.go.html#1433427">off</a></span><span class="op" id="1433556">;</span>&nbsp;<span class="builtintype" id="1433558">int64</span><span class="op" id="1433563">(</span><span class="builtinfunc" id="1433564">len</span><span class="op" id="1433567">(</span><span class="ident" id="1433568"><a href="/gostd/io/io.go.html#1433417">p</a></span><span class="op" id="1433569">)</span><span class="op" id="1433570">)</span>&nbsp;<span class="op" id="1433572">&gt;</span>&nbsp;<span class="ident" id="1433574"><a href="/gostd/io/io.go.html#1433536">max</a></span>&nbsp;<span class="op" id="1433578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433582"><a href="/gostd/io/io.go.html#1433417">p</a></span>&nbsp;<span class="op" id="1433584">=</span>&nbsp;<span class="ident" id="1433586"><a href="/gostd/io/io.go.html#1433417">p</a></span><span class="op" id="1433587">[</span><span class="num" id="1433588">0</span><span class="op" id="1433589">:</span><span class="ident" id="1433590"><a href="/gostd/io/io.go.html#1433536">max</a></span><span class="op" id="1433593">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433597"><a href="/gostd/io/io.go.html#1433439">n</a></span><span class="op" id="1433598">,</span>&nbsp;<span class="ident" id="1433600"><a href="/gostd/io/io.go.html#1433446">err</a></span>&nbsp;<span class="op" id="1433604">=</span>&nbsp;<span class="ident" id="1433606"><a href="/gostd/io/io.go.html#1433392">s</a></span><span class="op" id="1433607">.</span><span class="ident" id="1433608"><a href="/gostd/io/io.go.html#1432692">r</a></span><span class="op" id="1433609">.</span><span class="ident" id="1433610"><a href="/gostd/io/io.go.html#1426007">ReadAt</a></span><span class="op" id="1433616">(</span><span class="ident" id="1433617"><a href="/gostd/io/io.go.html#1433417">p</a></span><span class="op" id="1433618">,</span>&nbsp;<span class="ident" id="1433620"><a href="/gostd/io/io.go.html#1433427">off</a></span><span class="op" id="1433623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433627">if</span>&nbsp;<span class="ident" id="1433630"><a href="/gostd/io/io.go.html#1433446">err</a></span>&nbsp;<span class="op" id="1433634">==</span>&nbsp;<span class="builtintype" id="1433637">nil</span>&nbsp;<span class="op" id="1433641">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1433646"><a href="/gostd/io/io.go.html#1433446">err</a></span>&nbsp;<span class="op" id="1433650">=</span>&nbsp;<span class="ident" id="1433652"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433662">return</span>&nbsp;<span class="ident" id="1433669"><a href="/gostd/io/io.go.html#1433439">n</a></span><span class="op" id="1433670">,</span>&nbsp;<span class="ident" id="1433672"><a href="/gostd/io/io.go.html#1433446">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1433677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1433680">return</span>&nbsp;<span class="ident" id="1433687"><a href="/gostd/io/io.go.html#1433392">s</a></span><span class="op" id="1433688">.</span><span class="ident" id="1433689"><a href="/gostd/io/io.go.html#1432692">r</a></span><span class="op" id="1433690">.</span><span class="ident" id="1433691"><a href="/gostd/io/io.go.html#1426007">ReadAt</a></span><span class="op" id="1433697">(</span><span class="ident" id="1433698"><a href="/gostd/io/io.go.html#1433417">p</a></span><span class="op" id="1433699">,</span>&nbsp;<span class="ident" id="1433701"><a href="/gostd/io/io.go.html#1433427">off</a></span><span class="op" id="1433704">)</span><br>
<span class="lineno">475</span><span class="op" id="1433706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1433709">//&nbsp;Size&nbsp;returns&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;section&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="1433759">func</span>&nbsp;<span class="op" id="1433764">(</span><span class="ident" id="1433765">s</span>&nbsp;<span class="op" id="1433767">*</span><span class="ident" id="1433768"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><span class="op" id="1433781">)</span>&nbsp;<span class="ident" id="1433783">Size</span><span class="op" id="1433787">(</span><span class="op" id="1433788">)</span>&nbsp;<span class="builtintype" id="1433790">int64</span>&nbsp;<span class="op" id="1433796">{</span>&nbsp;<span class="keyword" id="1433798">return</span>&nbsp;<span class="ident" id="1433805"><a href="/gostd/io/io.go.html#1433765">s</a></span><span class="op" id="1433806">.</span><span class="ident" id="1433807"><a href="/gostd/io/io.go.html#1432734">limit</a></span>&nbsp;<span class="op" id="1433813">-</span>&nbsp;<span class="ident" id="1433815"><a href="/gostd/io/io.go.html#1433765">s</a></span><span class="op" id="1433816">.</span><span class="ident" id="1433817"><a href="/gostd/io/io.go.html#1432708">base</a></span>&nbsp;<span class="op" id="1433822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="comment" id="1433825">//&nbsp;TeeReader&nbsp;returns&nbsp;a&nbsp;Reader&nbsp;that&nbsp;writes&nbsp;to&nbsp;w&nbsp;what&nbsp;it&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="1433894">//&nbsp;All&nbsp;reads&nbsp;from&nbsp;r&nbsp;performed&nbsp;through&nbsp;it&nbsp;are&nbsp;matched&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="1433952">//&nbsp;corresponding&nbsp;writes&nbsp;to&nbsp;w.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;internal&nbsp;buffering&nbsp;-</span><br>
<span class="lineno"></span><span class="comment" id="1434016">//&nbsp;the&nbsp;write&nbsp;must&nbsp;complete&nbsp;before&nbsp;the&nbsp;read&nbsp;completes.</span><br>
<span class="lineno"></span><span class="comment" id="1434070">//&nbsp;Any&nbsp;error&nbsp;encountered&nbsp;while&nbsp;writing&nbsp;is&nbsp;reported&nbsp;as&nbsp;a&nbsp;read&nbsp;error.</span><br>
<span class="lineno">485</span><span class="keyword" id="1434138">func</span>&nbsp;<span class="ident" id="1434143">TeeReader</span><span class="op" id="1434152">(</span><span class="ident" id="1434153">r</span>&nbsp;<span class="ident" id="1434155"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1434161">,</span>&nbsp;<span class="ident" id="1434163">w</span>&nbsp;<span class="ident" id="1434165"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="1434171">)</span>&nbsp;<span class="ident" id="1434173"><a href="/gostd/io/io.go.html#1421823">Reader</a></span>&nbsp;<span class="op" id="1434180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434183">return</span>&nbsp;<span class="op" id="1434190">&amp;</span><span class="ident" id="1434191"><a href="/gostd/io/io.go.html#1434215">teeReader</a></span><span class="op" id="1434200">{</span><span class="ident" id="1434201"><a href="/gostd/io/io.go.html#1434153">r</a></span><span class="op" id="1434202">,</span>&nbsp;<span class="ident" id="1434204"><a href="/gostd/io/io.go.html#1434163">w</a></span><span class="op" id="1434205">}</span><br>
<span class="lineno"></span><span class="op" id="1434207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1434210">type</span>&nbsp;<span class="ident" id="1434215">teeReader</span>&nbsp;<span class="keyword" id="1434225">struct</span>&nbsp;<span class="op" id="1434232">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434235">r</span>&nbsp;<span class="ident" id="1434237"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434245">w</span>&nbsp;<span class="ident" id="1434247"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="1434254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1434257">func</span>&nbsp;<span class="op" id="1434262">(</span><span class="ident" id="1434263">t</span>&nbsp;<span class="op" id="1434265">*</span><span class="ident" id="1434266"><a href="/gostd/io/io.go.html#1434215">teeReader</a></span><span class="op" id="1434275">)</span>&nbsp;<span class="ident" id="1434277">Read</span><span class="op" id="1434281">(</span><span class="ident" id="1434282">p</span>&nbsp;<span class="op" id="1434284">[</span><span class="op" id="1434285">]</span><span class="builtintype" id="1434286">byte</span><span class="op" id="1434290">)</span>&nbsp;<span class="op" id="1434292">(</span><span class="ident" id="1434293">n</span>&nbsp;<span class="builtintype" id="1434295">int</span><span class="op" id="1434298">,</span>&nbsp;<span class="ident" id="1434300">err</span>&nbsp;<span class="builtintype" id="1434304">error</span><span class="op" id="1434309">)</span>&nbsp;<span class="op" id="1434311">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1434314"><a href="/gostd/io/io.go.html#1434293">n</a></span><span class="op" id="1434315">,</span>&nbsp;<span class="ident" id="1434317"><a href="/gostd/io/io.go.html#1434300">err</a></span>&nbsp;<span class="op" id="1434321">=</span>&nbsp;<span class="ident" id="1434323"><a href="/gostd/io/io.go.html#1434263">t</a></span><span class="op" id="1434324">.</span><span class="ident" id="1434325"><a href="/gostd/io/io.go.html#1434235">r</a></span><span class="op" id="1434326">.</span><span class="ident" id="1434327"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="1434331">(</span><span class="ident" id="1434332"><a href="/gostd/io/io.go.html#1434282">p</a></span><span class="op" id="1434333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434336">if</span>&nbsp;<span class="ident" id="1434339"><a href="/gostd/io/io.go.html#1434293">n</a></span>&nbsp;<span class="op" id="1434341">&gt;</span>&nbsp;<span class="num" id="1434343">0</span>&nbsp;<span class="op" id="1434345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434349">if</span>&nbsp;<span class="ident" id="1434352">n</span><span class="op" id="1434353">,</span>&nbsp;<span class="ident" id="1434355">err</span>&nbsp;<span class="op" id="1434359">:=</span>&nbsp;<span class="ident" id="1434362"><a href="/gostd/io/io.go.html#1434263">t</a></span><span class="op" id="1434363">.</span><span class="ident" id="1434364"><a href="/gostd/io/io.go.html#1434245">w</a></span><span class="op" id="1434365">.</span><span class="ident" id="1434366"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="1434371">(</span><span class="ident" id="1434372"><a href="/gostd/io/io.go.html#1434282">p</a></span><span class="op" id="1434373">[</span><span class="op" id="1434374">:</span><span class="ident" id="1434375"><a href="/gostd/io/io.go.html#1434293">n</a></span><span class="op" id="1434376">]</span><span class="op" id="1434377">)</span><span class="op" id="1434378">;</span>&nbsp;<span class="ident" id="1434380"><a href="/gostd/io/io.go.html#1434355">err</a></span>&nbsp;<span class="op" id="1434384">!=</span>&nbsp;<span class="builtintype" id="1434387">nil</span>&nbsp;<span class="op" id="1434391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434396">return</span>&nbsp;<span class="ident" id="1434403"><a href="/gostd/io/io.go.html#1434352">n</a></span><span class="op" id="1434404">,</span>&nbsp;<span class="ident" id="1434406"><a href="/gostd/io/io.go.html#1434355">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434412">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1434415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1434418">return</span><br>
<span class="lineno"></span><span class="op" id="1434425">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
