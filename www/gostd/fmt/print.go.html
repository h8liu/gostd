<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2245149">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2245204">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2245258">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2245309">package</span>&nbsp;<span class="ident" id="2245317">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2245322">import</span>&nbsp;<span class="op" id="2245329">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2245332">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2245342">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2245348">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2245354">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2245365">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2245373">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2245388">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2245391">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2245457">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2245494">var</span>&nbsp;<span class="op" id="2245498">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245501">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2245518">=</span>&nbsp;<span class="op" id="2245520">[</span><span class="op" id="2245521">]</span><span class="builtintype" id="2245522">byte</span><span class="op" id="2245526">(</span><span class="string" id="2245527">&#34;,&nbsp;&#34;</span><span class="op" id="2245531">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245534">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245551">=</span>&nbsp;<span class="op" id="2245553">[</span><span class="op" id="2245554">]</span><span class="builtintype" id="2245555">byte</span><span class="op" id="2245559">(</span><span class="string" id="2245560">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2245567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245570">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245587">=</span>&nbsp;<span class="op" id="2245589">[</span><span class="op" id="2245590">]</span><span class="builtintype" id="2245591">byte</span><span class="op" id="2245595">(</span><span class="string" id="2245596">&#34;(nil)&#34;</span><span class="op" id="2245603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245606">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245623">=</span>&nbsp;<span class="op" id="2245625">[</span><span class="op" id="2245626">]</span><span class="builtintype" id="2245627">byte</span><span class="op" id="2245631">(</span><span class="string" id="2245632">&#34;nil&#34;</span><span class="op" id="2245637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245640">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245657">=</span>&nbsp;<span class="op" id="2245659">[</span><span class="op" id="2245660">]</span><span class="builtintype" id="2245661">byte</span><span class="op" id="2245665">(</span><span class="string" id="2245666">&#34;map[&#34;</span><span class="op" id="2245672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245675">percentBangBytes</span>&nbsp;<span class="op" id="2245692">=</span>&nbsp;<span class="op" id="2245694">[</span><span class="op" id="2245695">]</span><span class="builtintype" id="2245696">byte</span><span class="op" id="2245700">(</span><span class="string" id="2245701">&#34;%!&#34;</span><span class="op" id="2245705">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245708">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245725">=</span>&nbsp;<span class="op" id="2245727">[</span><span class="op" id="2245728">]</span><span class="builtintype" id="2245729">byte</span><span class="op" id="2245733">(</span><span class="string" id="2245734">&#34;(MISSING)&#34;</span><span class="op" id="2245745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245748">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245765">=</span>&nbsp;<span class="op" id="2245767">[</span><span class="op" id="2245768">]</span><span class="builtintype" id="2245769">byte</span><span class="op" id="2245773">(</span><span class="string" id="2245774">&#34;(BADINDEX)&#34;</span><span class="op" id="2245786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245789">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245806">=</span>&nbsp;<span class="op" id="2245808">[</span><span class="op" id="2245809">]</span><span class="builtintype" id="2245810">byte</span><span class="op" id="2245814">(</span><span class="string" id="2245815">&#34;(PANIC=&#34;</span><span class="op" id="2245824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245827">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245844">=</span>&nbsp;<span class="op" id="2245846">[</span><span class="op" id="2245847">]</span><span class="builtintype" id="2245848">byte</span><span class="op" id="2245852">(</span><span class="string" id="2245853">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2245864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245867">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245884">=</span>&nbsp;<span class="op" id="2245886">[</span><span class="op" id="2245887">]</span><span class="builtintype" id="2245888">byte</span><span class="op" id="2245892">(</span><span class="string" id="2245893">&#34;i)&#34;</span><span class="op" id="2245897">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245900">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245917">=</span>&nbsp;<span class="op" id="2245919">[</span><span class="op" id="2245920">]</span><span class="builtintype" id="2245921">byte</span><span class="op" id="2245925">(</span><span class="string" id="2245926">&#34;[]byte{&#34;</span><span class="op" id="2245935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245938">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245955">=</span>&nbsp;<span class="op" id="2245957">[</span><span class="op" id="2245958">]</span><span class="builtintype" id="2245959">byte</span><span class="op" id="2245963">(</span><span class="string" id="2245964">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2245978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245981">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2245998">=</span>&nbsp;<span class="op" id="2246000">[</span><span class="op" id="2246001">]</span><span class="builtintype" id="2246002">byte</span><span class="op" id="2246006">(</span><span class="string" id="2246007">&#34;%!(BADPREC)&#34;</span><span class="op" id="2246020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246023">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2246040">=</span>&nbsp;<span class="op" id="2246042">[</span><span class="op" id="2246043">]</span><span class="builtintype" id="2246044">byte</span><span class="op" id="2246048">(</span><span class="string" id="2246049">&#34;%!(NOVERB)&#34;</span><span class="op" id="2246061">)</span><br>
<span class="lineno"></span><span class="op" id="2246063">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2246066">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2246133">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2246205">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2246266">type</span>&nbsp;<span class="ident" id="2246271">State</span>&nbsp;<span class="keyword" id="2246277">interface</span>&nbsp;<span class="op" id="2246287">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2246290">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246364">Write</span><span class="op" id="2246369">(</span><span class="ident" id="2246370">b</span>&nbsp;<span class="op" id="2246372">[</span><span class="op" id="2246373">]</span><span class="builtintype" id="2246374">byte</span><span class="op" id="2246378">)</span>&nbsp;<span class="op" id="2246380">(</span><span class="ident" id="2246381">ret</span>&nbsp;<span class="builtintype" id="2246385">int</span><span class="op" id="2246388">,</span>&nbsp;<span class="ident" id="2246390">err</span>&nbsp;<span class="builtintype" id="2246394">error</span><span class="op" id="2246399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2246402">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246479">Width</span><span class="op" id="2246484">(</span><span class="op" id="2246485">)</span>&nbsp;<span class="op" id="2246487">(</span><span class="ident" id="2246488">wid</span>&nbsp;<span class="builtintype" id="2246492">int</span><span class="op" id="2246495">,</span>&nbsp;<span class="ident" id="2246497">ok</span>&nbsp;<span class="builtintype" id="2246500">bool</span><span class="op" id="2246504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2246507">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246592">Precision</span><span class="op" id="2246601">(</span><span class="op" id="2246602">)</span>&nbsp;<span class="op" id="2246604">(</span><span class="ident" id="2246605">prec</span>&nbsp;<span class="builtintype" id="2246610">int</span><span class="op" id="2246613">,</span>&nbsp;<span class="ident" id="2246615">ok</span>&nbsp;<span class="builtintype" id="2246618">bool</span><span class="op" id="2246622">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2246626">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246690">Flag</span><span class="op" id="2246694">(</span><span class="ident" id="2246695">c</span>&nbsp;<span class="builtintype" id="2246697">int</span><span class="op" id="2246700">)</span>&nbsp;<span class="builtintype" id="2246702">bool</span><br>
<span class="lineno"></span><span class="op" id="2246707">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2246710">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2246787">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2246856">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2246883">type</span>&nbsp;<span class="ident" id="2246888">Formatter</span>&nbsp;<span class="keyword" id="2246898">interface</span>&nbsp;<span class="op" id="2246908">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246911">Format</span><span class="op" id="2246917">(</span><span class="ident" id="2246918">f</span>&nbsp;<span class="ident" id="2246920">State</span><span class="op" id="2246925">,</span>&nbsp;<span class="ident" id="2246927">c</span>&nbsp;<span class="builtintype" id="2246929">rune</span><span class="op" id="2246933">)</span><br>
<span class="lineno"></span><span class="op" id="2246935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2246938">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2247004">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2247059">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2247125">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2247193">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2247211">type</span>&nbsp;<span class="ident" id="2247216">Stringer</span>&nbsp;<span class="keyword" id="2247225">interface</span>&nbsp;<span class="op" id="2247235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247238">String</span><span class="op" id="2247244">(</span><span class="op" id="2247245">)</span>&nbsp;<span class="builtintype" id="2247247">string</span><br>
<span class="lineno">65</span><span class="op" id="2247254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2247257">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2247327">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2247374">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2247442">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2247462">type</span>&nbsp;<span class="ident" id="2247467">GoStringer</span>&nbsp;<span class="keyword" id="2247478">interface</span>&nbsp;<span class="op" id="2247488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247491">GoString</span><span class="op" id="2247499">(</span><span class="op" id="2247500">)</span>&nbsp;<span class="builtintype" id="2247502">string</span><br>
<span class="lineno"></span><span class="op" id="2247509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2247512">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2247584">type</span>&nbsp;<span class="ident" id="2247589">buffer</span>&nbsp;<span class="op" id="2247596">[</span><span class="op" id="2247597">]</span><span class="builtintype" id="2247598">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247604">func</span>&nbsp;<span class="op" id="2247609">(</span><span class="ident" id="2247610">b</span>&nbsp;<span class="op" id="2247612">*</span><span class="ident" id="2247613">buffer</span><span class="op" id="2247619">)</span>&nbsp;<span class="ident" id="2247621">Write</span><span class="op" id="2247626">(</span><span class="ident" id="2247627">p</span>&nbsp;<span class="op" id="2247629">[</span><span class="op" id="2247630">]</span><span class="builtintype" id="2247631">byte</span><span class="op" id="2247635">)</span>&nbsp;<span class="op" id="2247637">(</span><span class="ident" id="2247638">n</span>&nbsp;<span class="builtintype" id="2247640">int</span><span class="op" id="2247643">,</span>&nbsp;<span class="ident" id="2247645">err</span>&nbsp;<span class="builtintype" id="2247649">error</span><span class="op" id="2247654">)</span>&nbsp;<span class="op" id="2247656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247659">*</span><span class="ident" id="2247660">b</span>&nbsp;<span class="op" id="2247662">=</span>&nbsp;<span class="builtinfunc" id="2247664">append</span><span class="op" id="2247670">(</span><span class="op" id="2247671">*</span><span class="ident" id="2247672">b</span><span class="op" id="2247673">,</span>&nbsp;<span class="ident" id="2247675">p</span><span class="op" id="2247676">...</span><span class="op" id="2247679">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247682">return</span>&nbsp;<span class="builtinfunc" id="2247689">len</span><span class="op" id="2247692">(</span><span class="ident" id="2247693">p</span><span class="op" id="2247694">)</span><span class="op" id="2247695">,</span>&nbsp;<span class="ident" id="2247697">nil</span><br>
<span class="lineno"></span><span class="op" id="2247701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247704">func</span>&nbsp;<span class="op" id="2247709">(</span><span class="ident" id="2247710">b</span>&nbsp;<span class="op" id="2247712">*</span><span class="ident" id="2247713">buffer</span><span class="op" id="2247719">)</span>&nbsp;<span class="ident" id="2247721">WriteString</span><span class="op" id="2247732">(</span><span class="ident" id="2247733">s</span>&nbsp;<span class="builtintype" id="2247735">string</span><span class="op" id="2247741">)</span>&nbsp;<span class="op" id="2247743">(</span><span class="ident" id="2247744">n</span>&nbsp;<span class="builtintype" id="2247746">int</span><span class="op" id="2247749">,</span>&nbsp;<span class="ident" id="2247751">err</span>&nbsp;<span class="builtintype" id="2247755">error</span><span class="op" id="2247760">)</span>&nbsp;<span class="op" id="2247762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247765">*</span><span class="ident" id="2247766">b</span>&nbsp;<span class="op" id="2247768">=</span>&nbsp;<span class="builtinfunc" id="2247770">append</span><span class="op" id="2247776">(</span><span class="op" id="2247777">*</span><span class="ident" id="2247778">b</span><span class="op" id="2247779">,</span>&nbsp;<span class="ident" id="2247781">s</span><span class="op" id="2247782">...</span><span class="op" id="2247785">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247788">return</span>&nbsp;<span class="builtinfunc" id="2247795">len</span><span class="op" id="2247798">(</span><span class="ident" id="2247799">s</span><span class="op" id="2247800">)</span><span class="op" id="2247801">,</span>&nbsp;<span class="ident" id="2247803">nil</span><br>
<span class="lineno"></span><span class="op" id="2247807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247810">func</span>&nbsp;<span class="op" id="2247815">(</span><span class="ident" id="2247816">b</span>&nbsp;<span class="op" id="2247818">*</span><span class="ident" id="2247819">buffer</span><span class="op" id="2247825">)</span>&nbsp;<span class="ident" id="2247827">WriteByte</span><span class="op" id="2247836">(</span><span class="ident" id="2247837">c</span>&nbsp;<span class="builtintype" id="2247839">byte</span><span class="op" id="2247843">)</span>&nbsp;<span class="builtintype" id="2247845">error</span>&nbsp;<span class="op" id="2247851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247854">*</span><span class="ident" id="2247855">b</span>&nbsp;<span class="op" id="2247857">=</span>&nbsp;<span class="builtinfunc" id="2247859">append</span><span class="op" id="2247865">(</span><span class="op" id="2247866">*</span><span class="ident" id="2247867">b</span><span class="op" id="2247868">,</span>&nbsp;<span class="ident" id="2247870">c</span><span class="op" id="2247871">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247874">return</span>&nbsp;<span class="ident" id="2247881">nil</span><br>
<span class="lineno"></span><span class="op" id="2247885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247888">func</span>&nbsp;<span class="op" id="2247893">(</span><span class="ident" id="2247894">bp</span>&nbsp;<span class="op" id="2247897">*</span><span class="ident" id="2247898">buffer</span><span class="op" id="2247904">)</span>&nbsp;<span class="ident" id="2247906">WriteRune</span><span class="op" id="2247915">(</span><span class="ident" id="2247916">r</span>&nbsp;<span class="builtintype" id="2247918">rune</span><span class="op" id="2247922">)</span>&nbsp;<span class="builtintype" id="2247924">error</span>&nbsp;<span class="op" id="2247930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247933">if</span>&nbsp;<span class="ident" id="2247936">r</span>&nbsp;<span class="op" id="2247938">&lt;</span>&nbsp;<span class="ident" id="2247940">utf8</span><span class="op" id="2247944">.</span><span class="ident" id="2247945">RuneSelf</span>&nbsp;<span class="op" id="2247954">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247958">*</span><span class="ident" id="2247959">bp</span>&nbsp;<span class="op" id="2247962">=</span>&nbsp;<span class="builtinfunc" id="2247964">append</span><span class="op" id="2247970">(</span><span class="op" id="2247971">*</span><span class="ident" id="2247972">bp</span><span class="op" id="2247974">,</span>&nbsp;<span class="builtintype" id="2247976">byte</span><span class="op" id="2247980">(</span><span class="ident" id="2247981">r</span><span class="op" id="2247982">)</span><span class="op" id="2247983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247987">return</span>&nbsp;<span class="ident" id="2247994">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248003">b</span>&nbsp;<span class="op" id="2248005">:=</span>&nbsp;<span class="op" id="2248008">*</span><span class="ident" id="2248009">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248013">n</span>&nbsp;<span class="op" id="2248015">:=</span>&nbsp;<span class="builtinfunc" id="2248018">len</span><span class="op" id="2248021">(</span><span class="ident" id="2248022">b</span><span class="op" id="2248023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248026">for</span>&nbsp;<span class="ident" id="2248030">n</span><span class="op" id="2248031">+</span><span class="ident" id="2248032">utf8</span><span class="op" id="2248036">.</span><span class="ident" id="2248037">UTFMax</span>&nbsp;<span class="op" id="2248044">&gt;</span>&nbsp;<span class="builtinfunc" id="2248046">cap</span><span class="op" id="2248049">(</span><span class="ident" id="2248050">b</span><span class="op" id="2248051">)</span>&nbsp;<span class="op" id="2248053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248057">b</span>&nbsp;<span class="op" id="2248059">=</span>&nbsp;<span class="builtinfunc" id="2248061">append</span><span class="op" id="2248067">(</span><span class="ident" id="2248068">b</span><span class="op" id="2248069">,</span>&nbsp;<span class="num" id="2248071">0</span><span class="op" id="2248072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2248075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248078">w</span>&nbsp;<span class="op" id="2248080">:=</span>&nbsp;<span class="ident" id="2248083">utf8</span><span class="op" id="2248087">.</span><span class="ident" id="2248088">EncodeRune</span><span class="op" id="2248098">(</span><span class="ident" id="2248099">b</span><span class="op" id="2248100">[</span><span class="ident" id="2248101">n</span><span class="op" id="2248102">:</span><span class="ident" id="2248103">n</span><span class="op" id="2248104">+</span><span class="ident" id="2248105">utf8</span><span class="op" id="2248109">.</span><span class="ident" id="2248110">UTFMax</span><span class="op" id="2248116">]</span><span class="op" id="2248117">,</span>&nbsp;<span class="ident" id="2248119">r</span><span class="op" id="2248120">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2248123">*</span><span class="ident" id="2248124">bp</span>&nbsp;<span class="op" id="2248127">=</span>&nbsp;<span class="ident" id="2248129">b</span><span class="op" id="2248130">[</span><span class="op" id="2248131">:</span><span class="ident" id="2248132">n</span><span class="op" id="2248133">+</span><span class="ident" id="2248134">w</span><span class="op" id="2248135">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248138">return</span>&nbsp;<span class="ident" id="2248145">nil</span><br>
<span class="lineno"></span><span class="op" id="2248149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2248152">type</span>&nbsp;<span class="ident" id="2248157">pp</span>&nbsp;<span class="keyword" id="2248160">struct</span>&nbsp;<span class="op" id="2248167">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248170">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2248180">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248185">panicking</span>&nbsp;<span class="builtintype" id="2248195">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248201">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2248211">bool</span>&nbsp;<span class="comment" id="2248216">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248248">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248258">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2248266">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248317">arg</span>&nbsp;<span class="keyword" id="2248321">interface</span><span class="op" id="2248330">{</span><span class="op" id="2248331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2248334">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2248400">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248455">value</span>&nbsp;<span class="ident" id="2248461">reflect</span><span class="op" id="2248468">.</span><span class="ident" id="2248469">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2248476">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248550">reordered</span>&nbsp;<span class="builtintype" id="2248560">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2248566">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248645">goodArgNum</span>&nbsp;<span class="builtintype" id="2248656">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248662">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248673">[</span><span class="ident" id="2248674">utf8</span><span class="op" id="2248678">.</span><span class="ident" id="2248679">UTFMax</span><span class="op" id="2248685">]</span><span class="builtintype" id="2248686">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248692">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248703">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2248707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2248710">var</span>&nbsp;<span class="ident" id="2248714">ppFree</span>&nbsp;<span class="op" id="2248721">=</span>&nbsp;<span class="ident" id="2248723">sync</span><span class="op" id="2248727">.</span><span class="ident" id="2248728">Pool</span><span class="op" id="2248732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248735">New</span><span class="op" id="2248738">:</span>&nbsp;<span class="keyword" id="2248740">func</span><span class="op" id="2248744">(</span><span class="op" id="2248745">)</span>&nbsp;<span class="keyword" id="2248747">interface</span><span class="op" id="2248756">{</span><span class="op" id="2248757">}</span>&nbsp;<span class="op" id="2248759">{</span>&nbsp;<span class="keyword" id="2248761">return</span>&nbsp;<span class="builtinfunc" id="2248768">new</span><span class="op" id="2248771">(</span><span class="ident" id="2248772">pp</span><span class="op" id="2248774">)</span>&nbsp;<span class="op" id="2248776">}</span><span class="op" id="2248777">,</span><br>
<span class="lineno"></span><span class="op" id="2248779">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2248782">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2248845">func</span>&nbsp;<span class="ident" id="2248850">newPrinter</span><span class="op" id="2248860">(</span><span class="op" id="2248861">)</span>&nbsp;<span class="op" id="2248863">*</span><span class="ident" id="2248864">pp</span>&nbsp;<span class="op" id="2248867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248870">p</span>&nbsp;<span class="op" id="2248872">:=</span>&nbsp;<span class="ident" id="2248875">ppFree</span><span class="op" id="2248881">.</span><span class="ident" id="2248882">Get</span><span class="op" id="2248885">(</span><span class="op" id="2248886">)</span><span class="op" id="2248887">.</span><span class="op" id="2248888">(</span><span class="op" id="2248889">*</span><span class="ident" id="2248890">pp</span><span class="op" id="2248892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248895">p</span><span class="op" id="2248896">.</span><span class="ident" id="2248897">panicking</span>&nbsp;<span class="op" id="2248907">=</span>&nbsp;<span class="builtintype" id="2248909">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248916">p</span><span class="op" id="2248917">.</span><span class="ident" id="2248918">erroring</span>&nbsp;<span class="op" id="2248927">=</span>&nbsp;<span class="builtintype" id="2248929">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248936">p</span><span class="op" id="2248937">.</span><span class="ident" id="2248938">fmt</span><span class="op" id="2248941">.</span><span class="ident" id="2248942">init</span><span class="op" id="2248946">(</span><span class="op" id="2248947">&amp;</span><span class="ident" id="2248948">p</span><span class="op" id="2248949">.</span><span class="ident" id="2248950">buf</span><span class="op" id="2248953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248956">return</span>&nbsp;<span class="ident" id="2248963">p</span><br>
<span class="lineno"></span><span class="op" id="2248965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2248968">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2249046">func</span>&nbsp;<span class="op" id="2249051">(</span><span class="ident" id="2249052">p</span>&nbsp;<span class="op" id="2249054">*</span><span class="ident" id="2249055">pp</span><span class="op" id="2249057">)</span>&nbsp;<span class="ident" id="2249059">free</span><span class="op" id="2249063">(</span><span class="op" id="2249064">)</span>&nbsp;<span class="op" id="2249066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2249069">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249121">if</span>&nbsp;<span class="builtinfunc" id="2249124">cap</span><span class="op" id="2249127">(</span><span class="ident" id="2249128">p</span><span class="op" id="2249129">.</span><span class="ident" id="2249130">buf</span><span class="op" id="2249133">)</span>&nbsp;<span class="op" id="2249135">&gt;</span>&nbsp;<span class="num" id="2249137">1024</span>&nbsp;<span class="op" id="2249142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249146">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2249157">p</span><span class="op" id="2249158">.</span><span class="ident" id="2249159">buf</span>&nbsp;<span class="op" id="2249163">=</span>&nbsp;<span class="ident" id="2249165">p</span><span class="op" id="2249166">.</span><span class="ident" id="2249167">buf</span><span class="op" id="2249170">[</span><span class="op" id="2249171">:</span><span class="num" id="2249172">0</span><span class="op" id="2249173">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2249176">p</span><span class="op" id="2249177">.</span><span class="ident" id="2249178">arg</span>&nbsp;<span class="op" id="2249182">=</span>&nbsp;<span class="ident" id="2249184">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2249189">p</span><span class="op" id="2249190">.</span><span class="ident" id="2249191">value</span>&nbsp;<span class="op" id="2249197">=</span>&nbsp;<span class="ident" id="2249199">reflect</span><span class="op" id="2249206">.</span><span class="ident" id="2249207">Value</span><span class="op" id="2249212">{</span><span class="op" id="2249213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2249216">ppFree</span><span class="op" id="2249222">.</span><span class="ident" id="2249223">Put</span><span class="op" id="2249226">(</span><span class="ident" id="2249227">p</span><span class="op" id="2249228">)</span><br>
<span class="lineno">150</span><span class="op" id="2249230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2249233">func</span>&nbsp;<span class="op" id="2249238">(</span><span class="ident" id="2249239">p</span>&nbsp;<span class="op" id="2249241">*</span><span class="ident" id="2249242">pp</span><span class="op" id="2249244">)</span>&nbsp;<span class="ident" id="2249246">Width</span><span class="op" id="2249251">(</span><span class="op" id="2249252">)</span>&nbsp;<span class="op" id="2249254">(</span><span class="ident" id="2249255">wid</span>&nbsp;<span class="builtintype" id="2249259">int</span><span class="op" id="2249262">,</span>&nbsp;<span class="ident" id="2249264">ok</span>&nbsp;<span class="builtintype" id="2249267">bool</span><span class="op" id="2249271">)</span>&nbsp;<span class="op" id="2249273">{</span>&nbsp;<span class="keyword" id="2249275">return</span>&nbsp;<span class="ident" id="2249282">p</span><span class="op" id="2249283">.</span><span class="ident" id="2249284">fmt</span><span class="op" id="2249287">.</span><span class="ident" id="2249288">wid</span><span class="op" id="2249291">,</span>&nbsp;<span class="ident" id="2249293">p</span><span class="op" id="2249294">.</span><span class="ident" id="2249295">fmt</span><span class="op" id="2249298">.</span><span class="ident" id="2249299">widPresent</span>&nbsp;<span class="op" id="2249310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2249313">func</span>&nbsp;<span class="op" id="2249318">(</span><span class="ident" id="2249319">p</span>&nbsp;<span class="op" id="2249321">*</span><span class="ident" id="2249322">pp</span><span class="op" id="2249324">)</span>&nbsp;<span class="ident" id="2249326">Precision</span><span class="op" id="2249335">(</span><span class="op" id="2249336">)</span>&nbsp;<span class="op" id="2249338">(</span><span class="ident" id="2249339">prec</span>&nbsp;<span class="builtintype" id="2249344">int</span><span class="op" id="2249347">,</span>&nbsp;<span class="ident" id="2249349">ok</span>&nbsp;<span class="builtintype" id="2249352">bool</span><span class="op" id="2249356">)</span>&nbsp;<span class="op" id="2249358">{</span>&nbsp;<span class="keyword" id="2249360">return</span>&nbsp;<span class="ident" id="2249367">p</span><span class="op" id="2249368">.</span><span class="ident" id="2249369">fmt</span><span class="op" id="2249372">.</span><span class="ident" id="2249373">prec</span><span class="op" id="2249377">,</span>&nbsp;<span class="ident" id="2249379">p</span><span class="op" id="2249380">.</span><span class="ident" id="2249381">fmt</span><span class="op" id="2249384">.</span><span class="ident" id="2249385">precPresent</span>&nbsp;<span class="op" id="2249397">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2249400">func</span>&nbsp;<span class="op" id="2249405">(</span><span class="ident" id="2249406">p</span>&nbsp;<span class="op" id="2249408">*</span><span class="ident" id="2249409">pp</span><span class="op" id="2249411">)</span>&nbsp;<span class="ident" id="2249413">Flag</span><span class="op" id="2249417">(</span><span class="ident" id="2249418">b</span>&nbsp;<span class="builtintype" id="2249420">int</span><span class="op" id="2249423">)</span>&nbsp;<span class="builtintype" id="2249425">bool</span>&nbsp;<span class="op" id="2249430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249433">switch</span>&nbsp;<span class="ident" id="2249440">b</span>&nbsp;<span class="op" id="2249442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249445">case</span>&nbsp;<span class="string" id="2249450">&#39;-&#39;</span><span class="op" id="2249453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249457">return</span>&nbsp;<span class="ident" id="2249464">p</span><span class="op" id="2249465">.</span><span class="ident" id="2249466">fmt</span><span class="op" id="2249469">.</span><span class="ident" id="2249470">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249477">case</span>&nbsp;<span class="string" id="2249482">&#39;+&#39;</span><span class="op" id="2249485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249489">return</span>&nbsp;<span class="ident" id="2249496">p</span><span class="op" id="2249497">.</span><span class="ident" id="2249498">fmt</span><span class="op" id="2249501">.</span><span class="ident" id="2249502">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249508">case</span>&nbsp;<span class="string" id="2249513">&#39;#&#39;</span><span class="op" id="2249516">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249520">return</span>&nbsp;<span class="ident" id="2249527">p</span><span class="op" id="2249528">.</span><span class="ident" id="2249529">fmt</span><span class="op" id="2249532">.</span><span class="ident" id="2249533">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249540">case</span>&nbsp;<span class="string" id="2249545">&#39;&nbsp;&#39;</span><span class="op" id="2249548">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249552">return</span>&nbsp;<span class="ident" id="2249559">p</span><span class="op" id="2249560">.</span><span class="ident" id="2249561">fmt</span><span class="op" id="2249564">.</span><span class="ident" id="2249565">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249572">case</span>&nbsp;<span class="string" id="2249577">&#39;0&#39;</span><span class="op" id="2249580">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249584">return</span>&nbsp;<span class="ident" id="2249591">p</span><span class="op" id="2249592">.</span><span class="ident" id="2249593">fmt</span><span class="op" id="2249596">.</span><span class="ident" id="2249597">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2249603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249606">return</span>&nbsp;<span class="builtintype" id="2249613">false</span><br>
<span class="lineno">170</span><span class="op" id="2249619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2249622">func</span>&nbsp;<span class="op" id="2249627">(</span><span class="ident" id="2249628">p</span>&nbsp;<span class="op" id="2249630">*</span><span class="ident" id="2249631">pp</span><span class="op" id="2249633">)</span>&nbsp;<span class="ident" id="2249635">add</span><span class="op" id="2249638">(</span><span class="ident" id="2249639">c</span>&nbsp;<span class="builtintype" id="2249641">rune</span><span class="op" id="2249645">)</span>&nbsp;<span class="op" id="2249647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2249650">p</span><span class="op" id="2249651">.</span><span class="ident" id="2249652">buf</span><span class="op" id="2249655">.</span><span class="ident" id="2249656">WriteRune</span><span class="op" id="2249665">(</span><span class="ident" id="2249666">c</span><span class="op" id="2249667">)</span><br>
<span class="lineno"></span><span class="op" id="2249669">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2249672">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2249743">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2249777">func</span>&nbsp;<span class="op" id="2249782">(</span><span class="ident" id="2249783">p</span>&nbsp;<span class="op" id="2249785">*</span><span class="ident" id="2249786">pp</span><span class="op" id="2249788">)</span>&nbsp;<span class="ident" id="2249790">Write</span><span class="op" id="2249795">(</span><span class="ident" id="2249796">b</span>&nbsp;<span class="op" id="2249798">[</span><span class="op" id="2249799">]</span><span class="builtintype" id="2249800">byte</span><span class="op" id="2249804">)</span>&nbsp;<span class="op" id="2249806">(</span><span class="ident" id="2249807">ret</span>&nbsp;<span class="builtintype" id="2249811">int</span><span class="op" id="2249814">,</span>&nbsp;<span class="ident" id="2249816">err</span>&nbsp;<span class="builtintype" id="2249820">error</span><span class="op" id="2249825">)</span>&nbsp;<span class="op" id="2249827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2249830">return</span>&nbsp;<span class="ident" id="2249837">p</span><span class="op" id="2249838">.</span><span class="ident" id="2249839">buf</span><span class="op" id="2249842">.</span><span class="ident" id="2249843">Write</span><span class="op" id="2249848">(</span><span class="ident" id="2249849">b</span><span class="op" id="2249850">)</span><br>
<span class="lineno">180</span><span class="op" id="2249852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2249855">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2249911">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2249979">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2250054">func</span>&nbsp;<span class="ident" id="2250059">Fprintf</span><span class="op" id="2250066">(</span><span class="ident" id="2250067">w</span>&nbsp;<span class="ident" id="2250069">io</span><span class="op" id="2250071">.</span><span class="ident" id="2250072">Writer</span><span class="op" id="2250078">,</span>&nbsp;<span class="ident" id="2250080">format</span>&nbsp;<span class="builtintype" id="2250087">string</span><span class="op" id="2250093">,</span>&nbsp;<span class="ident" id="2250095">a</span>&nbsp;<span class="op" id="2250097">...</span><span class="keyword" id="2250100">interface</span><span class="op" id="2250109">{</span><span class="op" id="2250110">}</span><span class="op" id="2250111">)</span>&nbsp;<span class="op" id="2250113">(</span><span class="ident" id="2250114">n</span>&nbsp;<span class="builtintype" id="2250116">int</span><span class="op" id="2250119">,</span>&nbsp;<span class="ident" id="2250121">err</span>&nbsp;<span class="builtintype" id="2250125">error</span><span class="op" id="2250130">)</span>&nbsp;<span class="op" id="2250132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250135">p</span>&nbsp;<span class="op" id="2250137">:=</span>&nbsp;<span class="ident" id="2250140">newPrinter</span><span class="op" id="2250150">(</span><span class="op" id="2250151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250154">p</span><span class="op" id="2250155">.</span><span class="ident" id="2250156">doPrintf</span><span class="op" id="2250164">(</span><span class="ident" id="2250165">format</span><span class="op" id="2250171">,</span>&nbsp;<span class="ident" id="2250173">a</span><span class="op" id="2250174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250177">n</span><span class="op" id="2250178">,</span>&nbsp;<span class="ident" id="2250180">err</span>&nbsp;<span class="op" id="2250184">=</span>&nbsp;<span class="ident" id="2250186">w</span><span class="op" id="2250187">.</span><span class="ident" id="2250188">Write</span><span class="op" id="2250193">(</span><span class="ident" id="2250194">p</span><span class="op" id="2250195">.</span><span class="ident" id="2250196">buf</span><span class="op" id="2250199">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250202">p</span><span class="op" id="2250203">.</span><span class="ident" id="2250204">free</span><span class="op" id="2250208">(</span><span class="op" id="2250209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2250212">return</span><br>
<span class="lineno"></span><span class="op" id="2250219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2250222">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2250303">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2250378">func</span>&nbsp;<span class="ident" id="2250383">Printf</span><span class="op" id="2250389">(</span><span class="ident" id="2250390">format</span>&nbsp;<span class="builtintype" id="2250397">string</span><span class="op" id="2250403">,</span>&nbsp;<span class="ident" id="2250405">a</span>&nbsp;<span class="op" id="2250407">...</span><span class="keyword" id="2250410">interface</span><span class="op" id="2250419">{</span><span class="op" id="2250420">}</span><span class="op" id="2250421">)</span>&nbsp;<span class="op" id="2250423">(</span><span class="ident" id="2250424">n</span>&nbsp;<span class="builtintype" id="2250426">int</span><span class="op" id="2250429">,</span>&nbsp;<span class="ident" id="2250431">err</span>&nbsp;<span class="builtintype" id="2250435">error</span><span class="op" id="2250440">)</span>&nbsp;<span class="op" id="2250442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2250445">return</span>&nbsp;<span class="ident" id="2250452">Fprintf</span><span class="op" id="2250459">(</span><span class="ident" id="2250460">os</span><span class="op" id="2250462">.</span><span class="ident" id="2250463">Stdout</span><span class="op" id="2250469">,</span>&nbsp;<span class="ident" id="2250471">format</span><span class="op" id="2250477">,</span>&nbsp;<span class="ident" id="2250479">a</span><span class="op" id="2250480">...</span><span class="op" id="2250483">)</span><br>
<span class="lineno"></span><span class="op" id="2250485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2250488">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2250573">func</span>&nbsp;<span class="ident" id="2250578">Sprintf</span><span class="op" id="2250585">(</span><span class="ident" id="2250586">format</span>&nbsp;<span class="builtintype" id="2250593">string</span><span class="op" id="2250599">,</span>&nbsp;<span class="ident" id="2250601">a</span>&nbsp;<span class="op" id="2250603">...</span><span class="keyword" id="2250606">interface</span><span class="op" id="2250615">{</span><span class="op" id="2250616">}</span><span class="op" id="2250617">)</span>&nbsp;<span class="builtintype" id="2250619">string</span>&nbsp;<span class="op" id="2250626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250629">p</span>&nbsp;<span class="op" id="2250631">:=</span>&nbsp;<span class="ident" id="2250634">newPrinter</span><span class="op" id="2250644">(</span><span class="op" id="2250645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250648">p</span><span class="op" id="2250649">.</span><span class="ident" id="2250650">doPrintf</span><span class="op" id="2250658">(</span><span class="ident" id="2250659">format</span><span class="op" id="2250665">,</span>&nbsp;<span class="ident" id="2250667">a</span><span class="op" id="2250668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250671">s</span>&nbsp;<span class="op" id="2250673">:=</span>&nbsp;<span class="builtintype" id="2250676">string</span><span class="op" id="2250682">(</span><span class="ident" id="2250683">p</span><span class="op" id="2250684">.</span><span class="ident" id="2250685">buf</span><span class="op" id="2250688">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2250691">p</span><span class="op" id="2250692">.</span><span class="ident" id="2250693">free</span><span class="op" id="2250697">(</span><span class="op" id="2250698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2250701">return</span>&nbsp;<span class="ident" id="2250708">s</span><br>
<span class="lineno"></span><span class="op" id="2250710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2250713">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2250786">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2250822">func</span>&nbsp;<span class="ident" id="2250827">Errorf</span><span class="op" id="2250833">(</span><span class="ident" id="2250834">format</span>&nbsp;<span class="builtintype" id="2250841">string</span><span class="op" id="2250847">,</span>&nbsp;<span class="ident" id="2250849">a</span>&nbsp;<span class="op" id="2250851">...</span><span class="keyword" id="2250854">interface</span><span class="op" id="2250863">{</span><span class="op" id="2250864">}</span><span class="op" id="2250865">)</span>&nbsp;<span class="builtintype" id="2250867">error</span>&nbsp;<span class="op" id="2250873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2250876">return</span>&nbsp;<span class="ident" id="2250883">errors</span><span class="op" id="2250889">.</span><span class="ident" id="2250890">New</span><span class="op" id="2250893">(</span><span class="ident" id="2250894">Sprintf</span><span class="op" id="2250901">(</span><span class="ident" id="2250902">format</span><span class="op" id="2250908">,</span>&nbsp;<span class="ident" id="2250910">a</span><span class="op" id="2250911">...</span><span class="op" id="2250914">)</span><span class="op" id="2250915">)</span><br>
<span class="lineno"></span><span class="op" id="2250917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2250920">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2250967">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2251045">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2251108">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2251183">func</span>&nbsp;<span class="ident" id="2251188">Fprint</span><span class="op" id="2251194">(</span><span class="ident" id="2251195">w</span>&nbsp;<span class="ident" id="2251197">io</span><span class="op" id="2251199">.</span><span class="ident" id="2251200">Writer</span><span class="op" id="2251206">,</span>&nbsp;<span class="ident" id="2251208">a</span>&nbsp;<span class="op" id="2251210">...</span><span class="keyword" id="2251213">interface</span><span class="op" id="2251222">{</span><span class="op" id="2251223">}</span><span class="op" id="2251224">)</span>&nbsp;<span class="op" id="2251226">(</span><span class="ident" id="2251227">n</span>&nbsp;<span class="builtintype" id="2251229">int</span><span class="op" id="2251232">,</span>&nbsp;<span class="ident" id="2251234">err</span>&nbsp;<span class="builtintype" id="2251238">error</span><span class="op" id="2251243">)</span>&nbsp;<span class="op" id="2251245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251248">p</span>&nbsp;<span class="op" id="2251250">:=</span>&nbsp;<span class="ident" id="2251253">newPrinter</span><span class="op" id="2251263">(</span><span class="op" id="2251264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251267">p</span><span class="op" id="2251268">.</span><span class="ident" id="2251269">doPrint</span><span class="op" id="2251276">(</span><span class="ident" id="2251277">a</span><span class="op" id="2251278">,</span>&nbsp;<span class="builtintype" id="2251280">false</span><span class="op" id="2251285">,</span>&nbsp;<span class="builtintype" id="2251287">false</span><span class="op" id="2251292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251295">n</span><span class="op" id="2251296">,</span>&nbsp;<span class="ident" id="2251298">err</span>&nbsp;<span class="op" id="2251302">=</span>&nbsp;<span class="ident" id="2251304">w</span><span class="op" id="2251305">.</span><span class="ident" id="2251306">Write</span><span class="op" id="2251311">(</span><span class="ident" id="2251312">p</span><span class="op" id="2251313">.</span><span class="ident" id="2251314">buf</span><span class="op" id="2251317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251320">p</span><span class="op" id="2251321">.</span><span class="ident" id="2251322">free</span><span class="op" id="2251326">(</span><span class="op" id="2251327">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2251330">return</span><br>
<span class="lineno"></span><span class="op" id="2251337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2251340">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2251431">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2251494">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2251569">func</span>&nbsp;<span class="ident" id="2251574">Print</span><span class="op" id="2251579">(</span><span class="ident" id="2251580">a</span>&nbsp;<span class="op" id="2251582">...</span><span class="keyword" id="2251585">interface</span><span class="op" id="2251594">{</span><span class="op" id="2251595">}</span><span class="op" id="2251596">)</span>&nbsp;<span class="op" id="2251598">(</span><span class="ident" id="2251599">n</span>&nbsp;<span class="builtintype" id="2251601">int</span><span class="op" id="2251604">,</span>&nbsp;<span class="ident" id="2251606">err</span>&nbsp;<span class="builtintype" id="2251610">error</span><span class="op" id="2251615">)</span>&nbsp;<span class="op" id="2251617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2251620">return</span>&nbsp;<span class="ident" id="2251627">Fprint</span><span class="op" id="2251633">(</span><span class="ident" id="2251634">os</span><span class="op" id="2251636">.</span><span class="ident" id="2251637">Stdout</span><span class="op" id="2251643">,</span>&nbsp;<span class="ident" id="2251645">a</span><span class="op" id="2251646">...</span><span class="op" id="2251649">)</span><br>
<span class="lineno"></span><span class="op" id="2251651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2251654">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2251749">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2251812">func</span>&nbsp;<span class="ident" id="2251817">Sprint</span><span class="op" id="2251823">(</span><span class="ident" id="2251824">a</span>&nbsp;<span class="op" id="2251826">...</span><span class="keyword" id="2251829">interface</span><span class="op" id="2251838">{</span><span class="op" id="2251839">}</span><span class="op" id="2251840">)</span>&nbsp;<span class="builtintype" id="2251842">string</span>&nbsp;<span class="op" id="2251849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251852">p</span>&nbsp;<span class="op" id="2251854">:=</span>&nbsp;<span class="ident" id="2251857">newPrinter</span><span class="op" id="2251867">(</span><span class="op" id="2251868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251871">p</span><span class="op" id="2251872">.</span><span class="ident" id="2251873">doPrint</span><span class="op" id="2251880">(</span><span class="ident" id="2251881">a</span><span class="op" id="2251882">,</span>&nbsp;<span class="builtintype" id="2251884">false</span><span class="op" id="2251889">,</span>&nbsp;<span class="builtintype" id="2251891">false</span><span class="op" id="2251896">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251899">s</span>&nbsp;<span class="op" id="2251901">:=</span>&nbsp;<span class="builtintype" id="2251904">string</span><span class="op" id="2251910">(</span><span class="ident" id="2251911">p</span><span class="op" id="2251912">.</span><span class="ident" id="2251913">buf</span><span class="op" id="2251916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2251919">p</span><span class="op" id="2251920">.</span><span class="ident" id="2251921">free</span><span class="op" id="2251925">(</span><span class="op" id="2251926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2251929">return</span>&nbsp;<span class="ident" id="2251936">s</span><br>
<span class="lineno"></span><span class="op" id="2251938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2251941">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2252001">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2252058">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2252086">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2252166">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2252237">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2252312">func</span>&nbsp;<span class="ident" id="2252317">Fprintln</span><span class="op" id="2252325">(</span><span class="ident" id="2252326">w</span>&nbsp;<span class="ident" id="2252328">io</span><span class="op" id="2252330">.</span><span class="ident" id="2252331">Writer</span><span class="op" id="2252337">,</span>&nbsp;<span class="ident" id="2252339">a</span>&nbsp;<span class="op" id="2252341">...</span><span class="keyword" id="2252344">interface</span><span class="op" id="2252353">{</span><span class="op" id="2252354">}</span><span class="op" id="2252355">)</span>&nbsp;<span class="op" id="2252357">(</span><span class="ident" id="2252358">n</span>&nbsp;<span class="builtintype" id="2252360">int</span><span class="op" id="2252363">,</span>&nbsp;<span class="ident" id="2252365">err</span>&nbsp;<span class="builtintype" id="2252369">error</span><span class="op" id="2252374">)</span>&nbsp;<span class="op" id="2252376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2252379">p</span>&nbsp;<span class="op" id="2252381">:=</span>&nbsp;<span class="ident" id="2252384">newPrinter</span><span class="op" id="2252394">(</span><span class="op" id="2252395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2252398">p</span><span class="op" id="2252399">.</span><span class="ident" id="2252400">doPrint</span><span class="op" id="2252407">(</span><span class="ident" id="2252408">a</span><span class="op" id="2252409">,</span>&nbsp;<span class="builtintype" id="2252411">true</span><span class="op" id="2252415">,</span>&nbsp;<span class="builtintype" id="2252417">true</span><span class="op" id="2252421">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2252424">n</span><span class="op" id="2252425">,</span>&nbsp;<span class="ident" id="2252427">err</span>&nbsp;<span class="op" id="2252431">=</span>&nbsp;<span class="ident" id="2252433">w</span><span class="op" id="2252434">.</span><span class="ident" id="2252435">Write</span><span class="op" id="2252440">(</span><span class="ident" id="2252441">p</span><span class="op" id="2252442">.</span><span class="ident" id="2252443">buf</span><span class="op" id="2252446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2252449">p</span><span class="op" id="2252450">.</span><span class="ident" id="2252451">free</span><span class="op" id="2252455">(</span><span class="op" id="2252456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2252459">return</span><br>
<span class="lineno"></span><span class="op" id="2252466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2252469">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2252562">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2252633">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2252708">func</span>&nbsp;<span class="ident" id="2252713">Println</span><span class="op" id="2252720">(</span><span class="ident" id="2252721">a</span>&nbsp;<span class="op" id="2252723">...</span><span class="keyword" id="2252726">interface</span><span class="op" id="2252735">{</span><span class="op" id="2252736">}</span><span class="op" id="2252737">)</span>&nbsp;<span class="op" id="2252739">(</span><span class="ident" id="2252740">n</span>&nbsp;<span class="builtintype" id="2252742">int</span><span class="op" id="2252745">,</span>&nbsp;<span class="ident" id="2252747">err</span>&nbsp;<span class="builtintype" id="2252751">error</span><span class="op" id="2252756">)</span>&nbsp;<span class="op" id="2252758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2252761">return</span>&nbsp;<span class="ident" id="2252768">Fprintln</span><span class="op" id="2252776">(</span><span class="ident" id="2252777">os</span><span class="op" id="2252779">.</span><span class="ident" id="2252780">Stdout</span><span class="op" id="2252786">,</span>&nbsp;<span class="ident" id="2252788">a</span><span class="op" id="2252789">...</span><span class="op" id="2252792">)</span><br>
<span class="lineno">265</span><span class="op" id="2252794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2252797">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2252894">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2252965">func</span>&nbsp;<span class="ident" id="2252970">Sprintln</span><span class="op" id="2252978">(</span><span class="ident" id="2252979">a</span>&nbsp;<span class="op" id="2252981">...</span><span class="keyword" id="2252984">interface</span><span class="op" id="2252993">{</span><span class="op" id="2252994">}</span><span class="op" id="2252995">)</span>&nbsp;<span class="builtintype" id="2252997">string</span>&nbsp;<span class="op" id="2253004">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253007">p</span>&nbsp;<span class="op" id="2253009">:=</span>&nbsp;<span class="ident" id="2253012">newPrinter</span><span class="op" id="2253022">(</span><span class="op" id="2253023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253026">p</span><span class="op" id="2253027">.</span><span class="ident" id="2253028">doPrint</span><span class="op" id="2253035">(</span><span class="ident" id="2253036">a</span><span class="op" id="2253037">,</span>&nbsp;<span class="builtintype" id="2253039">true</span><span class="op" id="2253043">,</span>&nbsp;<span class="builtintype" id="2253045">true</span><span class="op" id="2253049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253052">s</span>&nbsp;<span class="op" id="2253054">:=</span>&nbsp;<span class="builtintype" id="2253057">string</span><span class="op" id="2253063">(</span><span class="ident" id="2253064">p</span><span class="op" id="2253065">.</span><span class="ident" id="2253066">buf</span><span class="op" id="2253069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253072">p</span><span class="op" id="2253073">.</span><span class="ident" id="2253074">free</span><span class="op" id="2253078">(</span><span class="op" id="2253079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253082">return</span>&nbsp;<span class="ident" id="2253089">s</span><br>
<span class="lineno">275</span><span class="op" id="2253091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2253094">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2253147">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2253209">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2253270">func</span>&nbsp;<span class="ident" id="2253275">getField</span><span class="op" id="2253283">(</span><span class="ident" id="2253284">v</span>&nbsp;<span class="ident" id="2253286">reflect</span><span class="op" id="2253293">.</span><span class="ident" id="2253294">Value</span><span class="op" id="2253299">,</span>&nbsp;<span class="ident" id="2253301">i</span>&nbsp;<span class="builtintype" id="2253303">int</span><span class="op" id="2253306">)</span>&nbsp;<span class="ident" id="2253308">reflect</span><span class="op" id="2253315">.</span><span class="ident" id="2253316">Value</span>&nbsp;<span class="op" id="2253322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253325">val</span>&nbsp;<span class="op" id="2253329">:=</span>&nbsp;<span class="ident" id="2253332">v</span><span class="op" id="2253333">.</span><span class="ident" id="2253334">Field</span><span class="op" id="2253339">(</span><span class="ident" id="2253340">i</span><span class="op" id="2253341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253344">if</span>&nbsp;<span class="ident" id="2253347">val</span><span class="op" id="2253350">.</span><span class="ident" id="2253351">Kind</span><span class="op" id="2253355">(</span><span class="op" id="2253356">)</span>&nbsp;<span class="op" id="2253358">==</span>&nbsp;<span class="ident" id="2253361">reflect</span><span class="op" id="2253368">.</span><span class="ident" id="2253369">Interface</span>&nbsp;<span class="op" id="2253379">&amp;&amp;</span>&nbsp;<span class="op" id="2253382">!</span><span class="ident" id="2253383">val</span><span class="op" id="2253386">.</span><span class="ident" id="2253387">IsNil</span><span class="op" id="2253392">(</span><span class="op" id="2253393">)</span>&nbsp;<span class="op" id="2253395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253399">val</span>&nbsp;<span class="op" id="2253403">=</span>&nbsp;<span class="ident" id="2253405">val</span><span class="op" id="2253408">.</span><span class="ident" id="2253409">Elem</span><span class="op" id="2253413">(</span><span class="op" id="2253414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2253417">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253420">return</span>&nbsp;<span class="ident" id="2253427">val</span><br>
<span class="lineno"></span><span class="op" id="2253431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2253434">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2253526">func</span>&nbsp;<span class="ident" id="2253531">parsenum</span><span class="op" id="2253539">(</span><span class="ident" id="2253540">s</span>&nbsp;<span class="builtintype" id="2253542">string</span><span class="op" id="2253548">,</span>&nbsp;<span class="ident" id="2253550">start</span><span class="op" id="2253555">,</span>&nbsp;<span class="ident" id="2253557">end</span>&nbsp;<span class="builtintype" id="2253561">int</span><span class="op" id="2253564">)</span>&nbsp;<span class="op" id="2253566">(</span><span class="ident" id="2253567">num</span>&nbsp;<span class="builtintype" id="2253571">int</span><span class="op" id="2253574">,</span>&nbsp;<span class="ident" id="2253576">isnum</span>&nbsp;<span class="builtintype" id="2253582">bool</span><span class="op" id="2253586">,</span>&nbsp;<span class="ident" id="2253588">newi</span>&nbsp;<span class="builtintype" id="2253593">int</span><span class="op" id="2253596">)</span>&nbsp;<span class="op" id="2253598">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253601">if</span>&nbsp;<span class="ident" id="2253604">start</span>&nbsp;<span class="op" id="2253610">&gt;=</span>&nbsp;<span class="ident" id="2253613">end</span>&nbsp;<span class="op" id="2253617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253621">return</span>&nbsp;<span class="num" id="2253628">0</span><span class="op" id="2253629">,</span>&nbsp;<span class="builtintype" id="2253631">false</span><span class="op" id="2253636">,</span>&nbsp;<span class="ident" id="2253638">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2253643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253646">for</span>&nbsp;<span class="ident" id="2253650">newi</span>&nbsp;<span class="op" id="2253655">=</span>&nbsp;<span class="ident" id="2253657">start</span><span class="op" id="2253662">;</span>&nbsp;<span class="ident" id="2253664">newi</span>&nbsp;<span class="op" id="2253669">&lt;</span>&nbsp;<span class="ident" id="2253671">end</span>&nbsp;<span class="op" id="2253675">&amp;&amp;</span>&nbsp;<span class="string" id="2253678">&#39;0&#39;</span>&nbsp;<span class="op" id="2253682">&lt;=</span>&nbsp;<span class="ident" id="2253685">s</span><span class="op" id="2253686">[</span><span class="ident" id="2253687">newi</span><span class="op" id="2253691">]</span>&nbsp;<span class="op" id="2253693">&amp;&amp;</span>&nbsp;<span class="ident" id="2253696">s</span><span class="op" id="2253697">[</span><span class="ident" id="2253698">newi</span><span class="op" id="2253702">]</span>&nbsp;<span class="op" id="2253704">&lt;=</span>&nbsp;<span class="string" id="2253707">&#39;9&#39;</span><span class="op" id="2253710">;</span>&nbsp;<span class="ident" id="2253712">newi</span><span class="op" id="2253716">++</span>&nbsp;<span class="op" id="2253719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253723">num</span>&nbsp;<span class="op" id="2253727">=</span>&nbsp;<span class="ident" id="2253729">num</span><span class="op" id="2253732">*</span><span class="num" id="2253733">10</span>&nbsp;<span class="op" id="2253736">+</span>&nbsp;<span class="builtintype" id="2253738">int</span><span class="op" id="2253741">(</span><span class="ident" id="2253742">s</span><span class="op" id="2253743">[</span><span class="ident" id="2253744">newi</span><span class="op" id="2253748">]</span><span class="op" id="2253749">-</span><span class="string" id="2253750">&#39;0&#39;</span><span class="op" id="2253753">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253757">isnum</span>&nbsp;<span class="op" id="2253763">=</span>&nbsp;<span class="builtintype" id="2253765">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2253771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253774">return</span><br>
<span class="lineno"></span><span class="op" id="2253781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2253784">func</span>&nbsp;<span class="op" id="2253789">(</span><span class="ident" id="2253790">p</span>&nbsp;<span class="op" id="2253792">*</span><span class="ident" id="2253793">pp</span><span class="op" id="2253795">)</span>&nbsp;<span class="ident" id="2253797">unknownType</span><span class="op" id="2253808">(</span><span class="ident" id="2253809">v</span>&nbsp;<span class="ident" id="2253811">reflect</span><span class="op" id="2253818">.</span><span class="ident" id="2253819">Value</span><span class="op" id="2253824">)</span>&nbsp;<span class="op" id="2253826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253829">if</span>&nbsp;<span class="op" id="2253832">!</span><span class="ident" id="2253833">v</span><span class="op" id="2253834">.</span><span class="ident" id="2253835">IsValid</span><span class="op" id="2253842">(</span><span class="op" id="2253843">)</span>&nbsp;<span class="op" id="2253845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253849">p</span><span class="op" id="2253850">.</span><span class="ident" id="2253851">buf</span><span class="op" id="2253854">.</span><span class="ident" id="2253855">Write</span><span class="op" id="2253860">(</span><span class="ident" id="2253861">nilAngleBytes</span><span class="op" id="2253874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2253878">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2253886">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253889">p</span><span class="op" id="2253890">.</span><span class="ident" id="2253891">buf</span><span class="op" id="2253894">.</span><span class="ident" id="2253895">WriteByte</span><span class="op" id="2253904">(</span><span class="string" id="2253905">&#39;?&#39;</span><span class="op" id="2253908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253911">p</span><span class="op" id="2253912">.</span><span class="ident" id="2253913">buf</span><span class="op" id="2253916">.</span><span class="ident" id="2253917">WriteString</span><span class="op" id="2253928">(</span><span class="ident" id="2253929">v</span><span class="op" id="2253930">.</span><span class="ident" id="2253931">Type</span><span class="op" id="2253935">(</span><span class="op" id="2253936">)</span><span class="op" id="2253937">.</span><span class="ident" id="2253938">String</span><span class="op" id="2253944">(</span><span class="op" id="2253945">)</span><span class="op" id="2253946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2253949">p</span><span class="op" id="2253950">.</span><span class="ident" id="2253951">buf</span><span class="op" id="2253954">.</span><span class="ident" id="2253955">WriteByte</span><span class="op" id="2253964">(</span><span class="string" id="2253965">&#39;?&#39;</span><span class="op" id="2253968">)</span><br>
<span class="lineno"></span><span class="op" id="2253970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2253973">func</span>&nbsp;<span class="op" id="2253978">(</span><span class="ident" id="2253979">p</span>&nbsp;<span class="op" id="2253981">*</span><span class="ident" id="2253982">pp</span><span class="op" id="2253984">)</span>&nbsp;<span class="ident" id="2253986">badVerb</span><span class="op" id="2253993">(</span><span class="ident" id="2253994">verb</span>&nbsp;<span class="builtintype" id="2253999">rune</span><span class="op" id="2254003">)</span>&nbsp;<span class="op" id="2254005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254008">p</span><span class="op" id="2254009">.</span><span class="ident" id="2254010">erroring</span>&nbsp;<span class="op" id="2254019">=</span>&nbsp;<span class="builtintype" id="2254021">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254027">p</span><span class="op" id="2254028">.</span><span class="ident" id="2254029">add</span><span class="op" id="2254032">(</span><span class="string" id="2254033">&#39;%&#39;</span><span class="op" id="2254036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254039">p</span><span class="op" id="2254040">.</span><span class="ident" id="2254041">add</span><span class="op" id="2254044">(</span><span class="string" id="2254045">&#39;!&#39;</span><span class="op" id="2254048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254051">p</span><span class="op" id="2254052">.</span><span class="ident" id="2254053">add</span><span class="op" id="2254056">(</span><span class="ident" id="2254057">verb</span><span class="op" id="2254061">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254064">p</span><span class="op" id="2254065">.</span><span class="ident" id="2254066">add</span><span class="op" id="2254069">(</span><span class="string" id="2254070">&#39;(&#39;</span><span class="op" id="2254073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254076">switch</span>&nbsp;<span class="op" id="2254083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254086">case</span>&nbsp;<span class="ident" id="2254091">p</span><span class="op" id="2254092">.</span><span class="ident" id="2254093">arg</span>&nbsp;<span class="op" id="2254097">!=</span>&nbsp;<span class="ident" id="2254100">nil</span><span class="op" id="2254103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254107">p</span><span class="op" id="2254108">.</span><span class="ident" id="2254109">buf</span><span class="op" id="2254112">.</span><span class="ident" id="2254113">WriteString</span><span class="op" id="2254124">(</span><span class="ident" id="2254125">reflect</span><span class="op" id="2254132">.</span><span class="ident" id="2254133">TypeOf</span><span class="op" id="2254139">(</span><span class="ident" id="2254140">p</span><span class="op" id="2254141">.</span><span class="ident" id="2254142">arg</span><span class="op" id="2254145">)</span><span class="op" id="2254146">.</span><span class="ident" id="2254147">String</span><span class="op" id="2254153">(</span><span class="op" id="2254154">)</span><span class="op" id="2254155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254159">p</span><span class="op" id="2254160">.</span><span class="ident" id="2254161">add</span><span class="op" id="2254164">(</span><span class="string" id="2254165">&#39;=&#39;</span><span class="op" id="2254168">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254172">p</span><span class="op" id="2254173">.</span><span class="ident" id="2254174">printArg</span><span class="op" id="2254182">(</span><span class="ident" id="2254183">p</span><span class="op" id="2254184">.</span><span class="ident" id="2254185">arg</span><span class="op" id="2254188">,</span>&nbsp;<span class="string" id="2254190">&#39;v&#39;</span><span class="op" id="2254193">,</span>&nbsp;<span class="num" id="2254195">0</span><span class="op" id="2254196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254199">case</span>&nbsp;<span class="ident" id="2254204">p</span><span class="op" id="2254205">.</span><span class="ident" id="2254206">value</span><span class="op" id="2254211">.</span><span class="ident" id="2254212">IsValid</span><span class="op" id="2254219">(</span><span class="op" id="2254220">)</span><span class="op" id="2254221">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254225">p</span><span class="op" id="2254226">.</span><span class="ident" id="2254227">buf</span><span class="op" id="2254230">.</span><span class="ident" id="2254231">WriteString</span><span class="op" id="2254242">(</span><span class="ident" id="2254243">p</span><span class="op" id="2254244">.</span><span class="ident" id="2254245">value</span><span class="op" id="2254250">.</span><span class="ident" id="2254251">Type</span><span class="op" id="2254255">(</span><span class="op" id="2254256">)</span><span class="op" id="2254257">.</span><span class="ident" id="2254258">String</span><span class="op" id="2254264">(</span><span class="op" id="2254265">)</span><span class="op" id="2254266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254270">p</span><span class="op" id="2254271">.</span><span class="ident" id="2254272">add</span><span class="op" id="2254275">(</span><span class="string" id="2254276">&#39;=&#39;</span><span class="op" id="2254279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254283">p</span><span class="op" id="2254284">.</span><span class="ident" id="2254285">printValue</span><span class="op" id="2254295">(</span><span class="ident" id="2254296">p</span><span class="op" id="2254297">.</span><span class="ident" id="2254298">value</span><span class="op" id="2254303">,</span>&nbsp;<span class="string" id="2254305">&#39;v&#39;</span><span class="op" id="2254308">,</span>&nbsp;<span class="num" id="2254310">0</span><span class="op" id="2254311">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254314">default</span><span class="op" id="2254321">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254325">p</span><span class="op" id="2254326">.</span><span class="ident" id="2254327">buf</span><span class="op" id="2254330">.</span><span class="ident" id="2254331">Write</span><span class="op" id="2254336">(</span><span class="ident" id="2254337">nilAngleBytes</span><span class="op" id="2254350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2254353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254356">p</span><span class="op" id="2254357">.</span><span class="ident" id="2254358">add</span><span class="op" id="2254361">(</span><span class="string" id="2254362">&#39;)&#39;</span><span class="op" id="2254365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254368">p</span><span class="op" id="2254369">.</span><span class="ident" id="2254370">erroring</span>&nbsp;<span class="op" id="2254379">=</span>&nbsp;<span class="builtintype" id="2254381">false</span><br>
<span class="lineno">330</span><span class="op" id="2254387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2254390">func</span>&nbsp;<span class="op" id="2254395">(</span><span class="ident" id="2254396">p</span>&nbsp;<span class="op" id="2254398">*</span><span class="ident" id="2254399">pp</span><span class="op" id="2254401">)</span>&nbsp;<span class="ident" id="2254403">fmtBool</span><span class="op" id="2254410">(</span><span class="ident" id="2254411">v</span>&nbsp;<span class="builtintype" id="2254413">bool</span><span class="op" id="2254417">,</span>&nbsp;<span class="ident" id="2254419">verb</span>&nbsp;<span class="builtintype" id="2254424">rune</span><span class="op" id="2254428">)</span>&nbsp;<span class="op" id="2254430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254433">switch</span>&nbsp;<span class="ident" id="2254440">verb</span>&nbsp;<span class="op" id="2254445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254448">case</span>&nbsp;<span class="string" id="2254453">&#39;t&#39;</span><span class="op" id="2254456">,</span>&nbsp;<span class="string" id="2254458">&#39;v&#39;</span><span class="op" id="2254461">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254465">p</span><span class="op" id="2254466">.</span><span class="ident" id="2254467">fmt</span><span class="op" id="2254470">.</span><span class="ident" id="2254471">fmt_boolean</span><span class="op" id="2254482">(</span><span class="ident" id="2254483">v</span><span class="op" id="2254484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254487">default</span><span class="op" id="2254494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254498">p</span><span class="op" id="2254499">.</span><span class="ident" id="2254500">badVerb</span><span class="op" id="2254507">(</span><span class="ident" id="2254508">verb</span><span class="op" id="2254512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2254515">}</span><br>
<span class="lineno"></span><span class="op" id="2254517">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2254520">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2254563">func</span>&nbsp;<span class="op" id="2254568">(</span><span class="ident" id="2254569">p</span>&nbsp;<span class="op" id="2254571">*</span><span class="ident" id="2254572">pp</span><span class="op" id="2254574">)</span>&nbsp;<span class="ident" id="2254576">fmtC</span><span class="op" id="2254580">(</span><span class="ident" id="2254581">c</span>&nbsp;<span class="ident" id="2254583">int64</span><span class="op" id="2254588">)</span>&nbsp;<span class="op" id="2254590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254593">r</span>&nbsp;<span class="op" id="2254595">:=</span>&nbsp;<span class="builtintype" id="2254598">rune</span><span class="op" id="2254602">(</span><span class="ident" id="2254603">c</span><span class="op" id="2254604">)</span>&nbsp;<span class="comment" id="2254606">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254630">if</span>&nbsp;<span class="ident" id="2254633">int64</span><span class="op" id="2254638">(</span><span class="ident" id="2254639">r</span><span class="op" id="2254640">)</span>&nbsp;<span class="op" id="2254642">!=</span>&nbsp;<span class="ident" id="2254645">c</span>&nbsp;<span class="op" id="2254647">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254651">r</span>&nbsp;<span class="op" id="2254653">=</span>&nbsp;<span class="ident" id="2254655">utf8</span><span class="op" id="2254659">.</span><span class="ident" id="2254660">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2254671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254674">w</span>&nbsp;<span class="op" id="2254676">:=</span>&nbsp;<span class="ident" id="2254679">utf8</span><span class="op" id="2254683">.</span><span class="ident" id="2254684">EncodeRune</span><span class="op" id="2254694">(</span><span class="ident" id="2254695">p</span><span class="op" id="2254696">.</span><span class="ident" id="2254697">runeBuf</span><span class="op" id="2254704">[</span><span class="num" id="2254705">0</span><span class="op" id="2254706">:</span><span class="ident" id="2254707">utf8</span><span class="op" id="2254711">.</span><span class="ident" id="2254712">UTFMax</span><span class="op" id="2254718">]</span><span class="op" id="2254719">,</span>&nbsp;<span class="ident" id="2254721">r</span><span class="op" id="2254722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254725">p</span><span class="op" id="2254726">.</span><span class="ident" id="2254727">fmt</span><span class="op" id="2254730">.</span><span class="ident" id="2254731">pad</span><span class="op" id="2254734">(</span><span class="ident" id="2254735">p</span><span class="op" id="2254736">.</span><span class="ident" id="2254737">runeBuf</span><span class="op" id="2254744">[</span><span class="num" id="2254745">0</span><span class="op" id="2254746">:</span><span class="ident" id="2254747">w</span><span class="op" id="2254748">]</span><span class="op" id="2254749">)</span><br>
<span class="lineno"></span><span class="op" id="2254751">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2254754">func</span>&nbsp;<span class="op" id="2254759">(</span><span class="ident" id="2254760">p</span>&nbsp;<span class="op" id="2254762">*</span><span class="ident" id="2254763">pp</span><span class="op" id="2254765">)</span>&nbsp;<span class="ident" id="2254767">fmtInt64</span><span class="op" id="2254775">(</span><span class="ident" id="2254776">v</span>&nbsp;<span class="ident" id="2254778">int64</span><span class="op" id="2254783">,</span>&nbsp;<span class="ident" id="2254785">verb</span>&nbsp;<span class="builtintype" id="2254790">rune</span><span class="op" id="2254794">)</span>&nbsp;<span class="op" id="2254796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254799">switch</span>&nbsp;<span class="ident" id="2254806">verb</span>&nbsp;<span class="op" id="2254811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254814">case</span>&nbsp;<span class="string" id="2254819">&#39;b&#39;</span><span class="op" id="2254822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254826">p</span><span class="op" id="2254827">.</span><span class="ident" id="2254828">fmt</span><span class="op" id="2254831">.</span><span class="ident" id="2254832">integer</span><span class="op" id="2254839">(</span><span class="ident" id="2254840">v</span><span class="op" id="2254841">,</span>&nbsp;<span class="num" id="2254843">2</span><span class="op" id="2254844">,</span>&nbsp;<span class="ident" id="2254846">signed</span><span class="op" id="2254852">,</span>&nbsp;<span class="ident" id="2254854">ldigits</span><span class="op" id="2254861">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254864">case</span>&nbsp;<span class="string" id="2254869">&#39;c&#39;</span><span class="op" id="2254872">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254876">p</span><span class="op" id="2254877">.</span><span class="ident" id="2254878">fmtC</span><span class="op" id="2254882">(</span><span class="ident" id="2254883">v</span><span class="op" id="2254884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254887">case</span>&nbsp;<span class="string" id="2254892">&#39;d&#39;</span><span class="op" id="2254895">,</span>&nbsp;<span class="string" id="2254897">&#39;v&#39;</span><span class="op" id="2254900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254904">p</span><span class="op" id="2254905">.</span><span class="ident" id="2254906">fmt</span><span class="op" id="2254909">.</span><span class="ident" id="2254910">integer</span><span class="op" id="2254917">(</span><span class="ident" id="2254918">v</span><span class="op" id="2254919">,</span>&nbsp;<span class="num" id="2254921">10</span><span class="op" id="2254923">,</span>&nbsp;<span class="ident" id="2254925">signed</span><span class="op" id="2254931">,</span>&nbsp;<span class="ident" id="2254933">ldigits</span><span class="op" id="2254940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254943">case</span>&nbsp;<span class="string" id="2254948">&#39;o&#39;</span><span class="op" id="2254951">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2254955">p</span><span class="op" id="2254956">.</span><span class="ident" id="2254957">fmt</span><span class="op" id="2254960">.</span><span class="ident" id="2254961">integer</span><span class="op" id="2254968">(</span><span class="ident" id="2254969">v</span><span class="op" id="2254970">,</span>&nbsp;<span class="num" id="2254972">8</span><span class="op" id="2254973">,</span>&nbsp;<span class="ident" id="2254975">signed</span><span class="op" id="2254981">,</span>&nbsp;<span class="ident" id="2254983">ldigits</span><span class="op" id="2254990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2254993">case</span>&nbsp;<span class="string" id="2254998">&#39;q&#39;</span><span class="op" id="2255001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2255005">if</span>&nbsp;<span class="num" id="2255008">0</span>&nbsp;<span class="op" id="2255010">&lt;=</span>&nbsp;<span class="ident" id="2255013">v</span>&nbsp;<span class="op" id="2255015">&amp;&amp;</span>&nbsp;<span class="ident" id="2255018">v</span>&nbsp;<span class="op" id="2255020">&lt;=</span>&nbsp;<span class="ident" id="2255023">utf8</span><span class="op" id="2255027">.</span><span class="ident" id="2255028">MaxRune</span>&nbsp;<span class="op" id="2255036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255041">p</span><span class="op" id="2255042">.</span><span class="ident" id="2255043">fmt</span><span class="op" id="2255046">.</span><span class="ident" id="2255047">fmt_qc</span><span class="op" id="2255053">(</span><span class="ident" id="2255054">v</span><span class="op" id="2255055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2255059">}</span>&nbsp;<span class="keyword" id="2255061">else</span>&nbsp;<span class="op" id="2255066">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255071">p</span><span class="op" id="2255072">.</span><span class="ident" id="2255073">badVerb</span><span class="op" id="2255080">(</span><span class="ident" id="2255081">verb</span><span class="op" id="2255085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2255089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2255092">case</span>&nbsp;<span class="string" id="2255097">&#39;x&#39;</span><span class="op" id="2255100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255104">p</span><span class="op" id="2255105">.</span><span class="ident" id="2255106">fmt</span><span class="op" id="2255109">.</span><span class="ident" id="2255110">integer</span><span class="op" id="2255117">(</span><span class="ident" id="2255118">v</span><span class="op" id="2255119">,</span>&nbsp;<span class="num" id="2255121">16</span><span class="op" id="2255123">,</span>&nbsp;<span class="ident" id="2255125">signed</span><span class="op" id="2255131">,</span>&nbsp;<span class="ident" id="2255133">ldigits</span><span class="op" id="2255140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2255143">case</span>&nbsp;<span class="string" id="2255148">&#39;U&#39;</span><span class="op" id="2255151">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255155">p</span><span class="op" id="2255156">.</span><span class="ident" id="2255157">fmtUnicode</span><span class="op" id="2255167">(</span><span class="ident" id="2255168">v</span><span class="op" id="2255169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2255172">case</span>&nbsp;<span class="string" id="2255177">&#39;X&#39;</span><span class="op" id="2255180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255184">p</span><span class="op" id="2255185">.</span><span class="ident" id="2255186">fmt</span><span class="op" id="2255189">.</span><span class="ident" id="2255190">integer</span><span class="op" id="2255197">(</span><span class="ident" id="2255198">v</span><span class="op" id="2255199">,</span>&nbsp;<span class="num" id="2255201">16</span><span class="op" id="2255203">,</span>&nbsp;<span class="ident" id="2255205">signed</span><span class="op" id="2255211">,</span>&nbsp;<span class="ident" id="2255213">udigits</span><span class="op" id="2255220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2255223">default</span><span class="op" id="2255230">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255234">p</span><span class="op" id="2255235">.</span><span class="ident" id="2255236">badVerb</span><span class="op" id="2255243">(</span><span class="ident" id="2255244">verb</span><span class="op" id="2255248">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2255251">}</span><br>
<span class="lineno"></span><span class="op" id="2255253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2255256">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2255326">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2255387">func</span>&nbsp;<span class="op" id="2255392">(</span><span class="ident" id="2255393">p</span>&nbsp;<span class="op" id="2255395">*</span><span class="ident" id="2255396">pp</span><span class="op" id="2255398">)</span>&nbsp;<span class="ident" id="2255400">fmt0x64</span><span class="op" id="2255407">(</span><span class="ident" id="2255408">v</span>&nbsp;<span class="ident" id="2255410">uint64</span><span class="op" id="2255416">,</span>&nbsp;<span class="ident" id="2255418">leading0x</span>&nbsp;<span class="builtintype" id="2255428">bool</span><span class="op" id="2255432">)</span>&nbsp;<span class="op" id="2255434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255437">sharp</span>&nbsp;<span class="op" id="2255443">:=</span>&nbsp;<span class="ident" id="2255446">p</span><span class="op" id="2255447">.</span><span class="ident" id="2255448">fmt</span><span class="op" id="2255451">.</span><span class="ident" id="2255452">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255459">p</span><span class="op" id="2255460">.</span><span class="ident" id="2255461">fmt</span><span class="op" id="2255464">.</span><span class="ident" id="2255465">sharp</span>&nbsp;<span class="op" id="2255471">=</span>&nbsp;<span class="ident" id="2255473">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255484">p</span><span class="op" id="2255485">.</span><span class="ident" id="2255486">fmt</span><span class="op" id="2255489">.</span><span class="ident" id="2255490">integer</span><span class="op" id="2255497">(</span><span class="ident" id="2255498">int64</span><span class="op" id="2255503">(</span><span class="ident" id="2255504">v</span><span class="op" id="2255505">)</span><span class="op" id="2255506">,</span>&nbsp;<span class="num" id="2255508">16</span><span class="op" id="2255510">,</span>&nbsp;<span class="ident" id="2255512">unsigned</span><span class="op" id="2255520">,</span>&nbsp;<span class="ident" id="2255522">ldigits</span><span class="op" id="2255529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255532">p</span><span class="op" id="2255533">.</span><span class="ident" id="2255534">fmt</span><span class="op" id="2255537">.</span><span class="ident" id="2255538">sharp</span>&nbsp;<span class="op" id="2255544">=</span>&nbsp;<span class="ident" id="2255546">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2255552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2255555">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2255604">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2255675">func</span>&nbsp;<span class="op" id="2255680">(</span><span class="ident" id="2255681">p</span>&nbsp;<span class="op" id="2255683">*</span><span class="ident" id="2255684">pp</span><span class="op" id="2255686">)</span>&nbsp;<span class="ident" id="2255688">fmtUnicode</span><span class="op" id="2255698">(</span><span class="ident" id="2255699">v</span>&nbsp;<span class="ident" id="2255701">int64</span><span class="op" id="2255706">)</span>&nbsp;<span class="op" id="2255708">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255711">precPresent</span>&nbsp;<span class="op" id="2255723">:=</span>&nbsp;<span class="ident" id="2255726">p</span><span class="op" id="2255727">.</span><span class="ident" id="2255728">fmt</span><span class="op" id="2255731">.</span><span class="ident" id="2255732">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255745">sharp</span>&nbsp;<span class="op" id="2255751">:=</span>&nbsp;<span class="ident" id="2255754">p</span><span class="op" id="2255755">.</span><span class="ident" id="2255756">fmt</span><span class="op" id="2255759">.</span><span class="ident" id="2255760">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255767">p</span><span class="op" id="2255768">.</span><span class="ident" id="2255769">fmt</span><span class="op" id="2255772">.</span><span class="ident" id="2255773">sharp</span>&nbsp;<span class="op" id="2255779">=</span>&nbsp;<span class="builtintype" id="2255781">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255788">prec</span>&nbsp;<span class="op" id="2255793">:=</span>&nbsp;<span class="ident" id="2255796">p</span><span class="op" id="2255797">.</span><span class="ident" id="2255798">fmt</span><span class="op" id="2255801">.</span><span class="ident" id="2255802">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2255808">if</span>&nbsp;<span class="op" id="2255811">!</span><span class="ident" id="2255812">precPresent</span>&nbsp;<span class="op" id="2255824">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2255828">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255897">p</span><span class="op" id="2255898">.</span><span class="ident" id="2255899">fmt</span><span class="op" id="2255902">.</span><span class="ident" id="2255903">prec</span>&nbsp;<span class="op" id="2255908">=</span>&nbsp;<span class="num" id="2255910">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255914">p</span><span class="op" id="2255915">.</span><span class="ident" id="2255916">fmt</span><span class="op" id="2255919">.</span><span class="ident" id="2255920">precPresent</span>&nbsp;<span class="op" id="2255932">=</span>&nbsp;<span class="builtintype" id="2255934">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2255940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255943">p</span><span class="op" id="2255944">.</span><span class="ident" id="2255945">fmt</span><span class="op" id="2255948">.</span><span class="ident" id="2255949">unicode</span>&nbsp;<span class="op" id="2255957">=</span>&nbsp;<span class="builtintype" id="2255959">true</span>&nbsp;<span class="comment" id="2255964">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2255979">p</span><span class="op" id="2255980">.</span><span class="ident" id="2255981">fmt</span><span class="op" id="2255984">.</span><span class="ident" id="2255985">uniQuote</span>&nbsp;<span class="op" id="2255994">=</span>&nbsp;<span class="ident" id="2255996">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256003">p</span><span class="op" id="2256004">.</span><span class="ident" id="2256005">fmt</span><span class="op" id="2256008">.</span><span class="ident" id="2256009">integer</span><span class="op" id="2256016">(</span><span class="ident" id="2256017">int64</span><span class="op" id="2256022">(</span><span class="ident" id="2256023">v</span><span class="op" id="2256024">)</span><span class="op" id="2256025">,</span>&nbsp;<span class="num" id="2256027">16</span><span class="op" id="2256029">,</span>&nbsp;<span class="ident" id="2256031">unsigned</span><span class="op" id="2256039">,</span>&nbsp;<span class="ident" id="2256041">udigits</span><span class="op" id="2256048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256051">p</span><span class="op" id="2256052">.</span><span class="ident" id="2256053">fmt</span><span class="op" id="2256056">.</span><span class="ident" id="2256057">unicode</span>&nbsp;<span class="op" id="2256065">=</span>&nbsp;<span class="builtintype" id="2256067">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256074">p</span><span class="op" id="2256075">.</span><span class="ident" id="2256076">fmt</span><span class="op" id="2256079">.</span><span class="ident" id="2256080">uniQuote</span>&nbsp;<span class="op" id="2256089">=</span>&nbsp;<span class="builtintype" id="2256091">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256098">p</span><span class="op" id="2256099">.</span><span class="ident" id="2256100">fmt</span><span class="op" id="2256103">.</span><span class="ident" id="2256104">prec</span>&nbsp;<span class="op" id="2256109">=</span>&nbsp;<span class="ident" id="2256111">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256117">p</span><span class="op" id="2256118">.</span><span class="ident" id="2256119">fmt</span><span class="op" id="2256122">.</span><span class="ident" id="2256123">precPresent</span>&nbsp;<span class="op" id="2256135">=</span>&nbsp;<span class="ident" id="2256137">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256150">p</span><span class="op" id="2256151">.</span><span class="ident" id="2256152">fmt</span><span class="op" id="2256155">.</span><span class="ident" id="2256156">sharp</span>&nbsp;<span class="op" id="2256162">=</span>&nbsp;<span class="ident" id="2256164">sharp</span><br>
<span class="lineno"></span><span class="op" id="2256170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2256173">func</span>&nbsp;<span class="op" id="2256178">(</span><span class="ident" id="2256179">p</span>&nbsp;<span class="op" id="2256181">*</span><span class="ident" id="2256182">pp</span><span class="op" id="2256184">)</span>&nbsp;<span class="ident" id="2256186">fmtUint64</span><span class="op" id="2256195">(</span><span class="ident" id="2256196">v</span>&nbsp;<span class="ident" id="2256198">uint64</span><span class="op" id="2256204">,</span>&nbsp;<span class="ident" id="2256206">verb</span>&nbsp;<span class="builtintype" id="2256211">rune</span><span class="op" id="2256215">)</span>&nbsp;<span class="op" id="2256217">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256220">switch</span>&nbsp;<span class="ident" id="2256227">verb</span>&nbsp;<span class="op" id="2256232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256235">case</span>&nbsp;<span class="string" id="2256240">&#39;b&#39;</span><span class="op" id="2256243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256247">p</span><span class="op" id="2256248">.</span><span class="ident" id="2256249">fmt</span><span class="op" id="2256252">.</span><span class="ident" id="2256253">integer</span><span class="op" id="2256260">(</span><span class="ident" id="2256261">int64</span><span class="op" id="2256266">(</span><span class="ident" id="2256267">v</span><span class="op" id="2256268">)</span><span class="op" id="2256269">,</span>&nbsp;<span class="num" id="2256271">2</span><span class="op" id="2256272">,</span>&nbsp;<span class="ident" id="2256274">unsigned</span><span class="op" id="2256282">,</span>&nbsp;<span class="ident" id="2256284">ldigits</span><span class="op" id="2256291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256294">case</span>&nbsp;<span class="string" id="2256299">&#39;c&#39;</span><span class="op" id="2256302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256306">p</span><span class="op" id="2256307">.</span><span class="ident" id="2256308">fmtC</span><span class="op" id="2256312">(</span><span class="ident" id="2256313">int64</span><span class="op" id="2256318">(</span><span class="ident" id="2256319">v</span><span class="op" id="2256320">)</span><span class="op" id="2256321">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256324">case</span>&nbsp;<span class="string" id="2256329">&#39;d&#39;</span><span class="op" id="2256332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256336">p</span><span class="op" id="2256337">.</span><span class="ident" id="2256338">fmt</span><span class="op" id="2256341">.</span><span class="ident" id="2256342">integer</span><span class="op" id="2256349">(</span><span class="ident" id="2256350">int64</span><span class="op" id="2256355">(</span><span class="ident" id="2256356">v</span><span class="op" id="2256357">)</span><span class="op" id="2256358">,</span>&nbsp;<span class="num" id="2256360">10</span><span class="op" id="2256362">,</span>&nbsp;<span class="ident" id="2256364">unsigned</span><span class="op" id="2256372">,</span>&nbsp;<span class="ident" id="2256374">ldigits</span><span class="op" id="2256381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256384">case</span>&nbsp;<span class="string" id="2256389">&#39;v&#39;</span><span class="op" id="2256392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256396">if</span>&nbsp;<span class="ident" id="2256399">p</span><span class="op" id="2256400">.</span><span class="ident" id="2256401">fmt</span><span class="op" id="2256404">.</span><span class="ident" id="2256405">sharpV</span>&nbsp;<span class="op" id="2256412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256417">p</span><span class="op" id="2256418">.</span><span class="ident" id="2256419">fmt0x64</span><span class="op" id="2256426">(</span><span class="ident" id="2256427">v</span><span class="op" id="2256428">,</span>&nbsp;<span class="builtintype" id="2256430">true</span><span class="op" id="2256434">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2256438">}</span>&nbsp;<span class="keyword" id="2256440">else</span>&nbsp;<span class="op" id="2256445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256450">p</span><span class="op" id="2256451">.</span><span class="ident" id="2256452">fmt</span><span class="op" id="2256455">.</span><span class="ident" id="2256456">integer</span><span class="op" id="2256463">(</span><span class="ident" id="2256464">int64</span><span class="op" id="2256469">(</span><span class="ident" id="2256470">v</span><span class="op" id="2256471">)</span><span class="op" id="2256472">,</span>&nbsp;<span class="num" id="2256474">10</span><span class="op" id="2256476">,</span>&nbsp;<span class="ident" id="2256478">unsigned</span><span class="op" id="2256486">,</span>&nbsp;<span class="ident" id="2256488">ldigits</span><span class="op" id="2256495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2256499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256502">case</span>&nbsp;<span class="string" id="2256507">&#39;o&#39;</span><span class="op" id="2256510">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256514">p</span><span class="op" id="2256515">.</span><span class="ident" id="2256516">fmt</span><span class="op" id="2256519">.</span><span class="ident" id="2256520">integer</span><span class="op" id="2256527">(</span><span class="ident" id="2256528">int64</span><span class="op" id="2256533">(</span><span class="ident" id="2256534">v</span><span class="op" id="2256535">)</span><span class="op" id="2256536">,</span>&nbsp;<span class="num" id="2256538">8</span><span class="op" id="2256539">,</span>&nbsp;<span class="ident" id="2256541">unsigned</span><span class="op" id="2256549">,</span>&nbsp;<span class="ident" id="2256551">ldigits</span><span class="op" id="2256558">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256561">case</span>&nbsp;<span class="string" id="2256566">&#39;q&#39;</span><span class="op" id="2256569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256573">if</span>&nbsp;<span class="num" id="2256576">0</span>&nbsp;<span class="op" id="2256578">&lt;=</span>&nbsp;<span class="ident" id="2256581">v</span>&nbsp;<span class="op" id="2256583">&amp;&amp;</span>&nbsp;<span class="ident" id="2256586">v</span>&nbsp;<span class="op" id="2256588">&lt;=</span>&nbsp;<span class="ident" id="2256591">utf8</span><span class="op" id="2256595">.</span><span class="ident" id="2256596">MaxRune</span>&nbsp;<span class="op" id="2256604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256609">p</span><span class="op" id="2256610">.</span><span class="ident" id="2256611">fmt</span><span class="op" id="2256614">.</span><span class="ident" id="2256615">fmt_qc</span><span class="op" id="2256621">(</span><span class="ident" id="2256622">int64</span><span class="op" id="2256627">(</span><span class="ident" id="2256628">v</span><span class="op" id="2256629">)</span><span class="op" id="2256630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2256634">}</span>&nbsp;<span class="keyword" id="2256636">else</span>&nbsp;<span class="op" id="2256641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256646">p</span><span class="op" id="2256647">.</span><span class="ident" id="2256648">badVerb</span><span class="op" id="2256655">(</span><span class="ident" id="2256656">verb</span><span class="op" id="2256660">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2256664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256667">case</span>&nbsp;<span class="string" id="2256672">&#39;x&#39;</span><span class="op" id="2256675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256679">p</span><span class="op" id="2256680">.</span><span class="ident" id="2256681">fmt</span><span class="op" id="2256684">.</span><span class="ident" id="2256685">integer</span><span class="op" id="2256692">(</span><span class="ident" id="2256693">int64</span><span class="op" id="2256698">(</span><span class="ident" id="2256699">v</span><span class="op" id="2256700">)</span><span class="op" id="2256701">,</span>&nbsp;<span class="num" id="2256703">16</span><span class="op" id="2256705">,</span>&nbsp;<span class="ident" id="2256707">unsigned</span><span class="op" id="2256715">,</span>&nbsp;<span class="ident" id="2256717">ldigits</span><span class="op" id="2256724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256727">case</span>&nbsp;<span class="string" id="2256732">&#39;X&#39;</span><span class="op" id="2256735">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256739">p</span><span class="op" id="2256740">.</span><span class="ident" id="2256741">fmt</span><span class="op" id="2256744">.</span><span class="ident" id="2256745">integer</span><span class="op" id="2256752">(</span><span class="ident" id="2256753">int64</span><span class="op" id="2256758">(</span><span class="ident" id="2256759">v</span><span class="op" id="2256760">)</span><span class="op" id="2256761">,</span>&nbsp;<span class="num" id="2256763">16</span><span class="op" id="2256765">,</span>&nbsp;<span class="ident" id="2256767">unsigned</span><span class="op" id="2256775">,</span>&nbsp;<span class="ident" id="2256777">udigits</span><span class="op" id="2256784">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256787">case</span>&nbsp;<span class="string" id="2256792">&#39;U&#39;</span><span class="op" id="2256795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256799">p</span><span class="op" id="2256800">.</span><span class="ident" id="2256801">fmtUnicode</span><span class="op" id="2256811">(</span><span class="ident" id="2256812">int64</span><span class="op" id="2256817">(</span><span class="ident" id="2256818">v</span><span class="op" id="2256819">)</span><span class="op" id="2256820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256823">default</span><span class="op" id="2256830">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256834">p</span><span class="op" id="2256835">.</span><span class="ident" id="2256836">badVerb</span><span class="op" id="2256843">(</span><span class="ident" id="2256844">verb</span><span class="op" id="2256848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2256851">}</span><br>
<span class="lineno">440</span><span class="op" id="2256853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2256856">func</span>&nbsp;<span class="op" id="2256861">(</span><span class="ident" id="2256862">p</span>&nbsp;<span class="op" id="2256864">*</span><span class="ident" id="2256865">pp</span><span class="op" id="2256867">)</span>&nbsp;<span class="ident" id="2256869">fmtFloat32</span><span class="op" id="2256879">(</span><span class="ident" id="2256880">v</span>&nbsp;<span class="builtintype" id="2256882">float32</span><span class="op" id="2256889">,</span>&nbsp;<span class="ident" id="2256891">verb</span>&nbsp;<span class="builtintype" id="2256896">rune</span><span class="op" id="2256900">)</span>&nbsp;<span class="op" id="2256902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256905">switch</span>&nbsp;<span class="ident" id="2256912">verb</span>&nbsp;<span class="op" id="2256917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256920">case</span>&nbsp;<span class="string" id="2256925">&#39;b&#39;</span><span class="op" id="2256928">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256932">p</span><span class="op" id="2256933">.</span><span class="ident" id="2256934">fmt</span><span class="op" id="2256937">.</span><span class="ident" id="2256938">fmt_fb32</span><span class="op" id="2256946">(</span><span class="ident" id="2256947">v</span><span class="op" id="2256948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256951">case</span>&nbsp;<span class="string" id="2256956">&#39;e&#39;</span><span class="op" id="2256959">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256963">p</span><span class="op" id="2256964">.</span><span class="ident" id="2256965">fmt</span><span class="op" id="2256968">.</span><span class="ident" id="2256969">fmt_e32</span><span class="op" id="2256976">(</span><span class="ident" id="2256977">v</span><span class="op" id="2256978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2256981">case</span>&nbsp;<span class="string" id="2256986">&#39;E&#39;</span><span class="op" id="2256989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2256993">p</span><span class="op" id="2256994">.</span><span class="ident" id="2256995">fmt</span><span class="op" id="2256998">.</span><span class="ident" id="2256999">fmt_E32</span><span class="op" id="2257006">(</span><span class="ident" id="2257007">v</span><span class="op" id="2257008">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257011">case</span>&nbsp;<span class="string" id="2257016">&#39;f&#39;</span><span class="op" id="2257019">,</span>&nbsp;<span class="string" id="2257021">&#39;F&#39;</span><span class="op" id="2257024">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257028">p</span><span class="op" id="2257029">.</span><span class="ident" id="2257030">fmt</span><span class="op" id="2257033">.</span><span class="ident" id="2257034">fmt_f32</span><span class="op" id="2257041">(</span><span class="ident" id="2257042">v</span><span class="op" id="2257043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257046">case</span>&nbsp;<span class="string" id="2257051">&#39;g&#39;</span><span class="op" id="2257054">,</span>&nbsp;<span class="string" id="2257056">&#39;v&#39;</span><span class="op" id="2257059">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257063">p</span><span class="op" id="2257064">.</span><span class="ident" id="2257065">fmt</span><span class="op" id="2257068">.</span><span class="ident" id="2257069">fmt_g32</span><span class="op" id="2257076">(</span><span class="ident" id="2257077">v</span><span class="op" id="2257078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257081">case</span>&nbsp;<span class="string" id="2257086">&#39;G&#39;</span><span class="op" id="2257089">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257093">p</span><span class="op" id="2257094">.</span><span class="ident" id="2257095">fmt</span><span class="op" id="2257098">.</span><span class="ident" id="2257099">fmt_G32</span><span class="op" id="2257106">(</span><span class="ident" id="2257107">v</span><span class="op" id="2257108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257111">default</span><span class="op" id="2257118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257122">p</span><span class="op" id="2257123">.</span><span class="ident" id="2257124">badVerb</span><span class="op" id="2257131">(</span><span class="ident" id="2257132">verb</span><span class="op" id="2257136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2257139">}</span><br>
<span class="lineno"></span><span class="op" id="2257141">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2257144">func</span>&nbsp;<span class="op" id="2257149">(</span><span class="ident" id="2257150">p</span>&nbsp;<span class="op" id="2257152">*</span><span class="ident" id="2257153">pp</span><span class="op" id="2257155">)</span>&nbsp;<span class="ident" id="2257157">fmtFloat64</span><span class="op" id="2257167">(</span><span class="ident" id="2257168">v</span>&nbsp;<span class="builtintype" id="2257170">float64</span><span class="op" id="2257177">,</span>&nbsp;<span class="ident" id="2257179">verb</span>&nbsp;<span class="builtintype" id="2257184">rune</span><span class="op" id="2257188">)</span>&nbsp;<span class="op" id="2257190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257193">switch</span>&nbsp;<span class="ident" id="2257200">verb</span>&nbsp;<span class="op" id="2257205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257208">case</span>&nbsp;<span class="string" id="2257213">&#39;b&#39;</span><span class="op" id="2257216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257220">p</span><span class="op" id="2257221">.</span><span class="ident" id="2257222">fmt</span><span class="op" id="2257225">.</span><span class="ident" id="2257226">fmt_fb64</span><span class="op" id="2257234">(</span><span class="ident" id="2257235">v</span><span class="op" id="2257236">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257239">case</span>&nbsp;<span class="string" id="2257244">&#39;e&#39;</span><span class="op" id="2257247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257251">p</span><span class="op" id="2257252">.</span><span class="ident" id="2257253">fmt</span><span class="op" id="2257256">.</span><span class="ident" id="2257257">fmt_e64</span><span class="op" id="2257264">(</span><span class="ident" id="2257265">v</span><span class="op" id="2257266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257269">case</span>&nbsp;<span class="string" id="2257274">&#39;E&#39;</span><span class="op" id="2257277">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257281">p</span><span class="op" id="2257282">.</span><span class="ident" id="2257283">fmt</span><span class="op" id="2257286">.</span><span class="ident" id="2257287">fmt_E64</span><span class="op" id="2257294">(</span><span class="ident" id="2257295">v</span><span class="op" id="2257296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257299">case</span>&nbsp;<span class="string" id="2257304">&#39;f&#39;</span><span class="op" id="2257307">,</span>&nbsp;<span class="string" id="2257309">&#39;F&#39;</span><span class="op" id="2257312">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257316">p</span><span class="op" id="2257317">.</span><span class="ident" id="2257318">fmt</span><span class="op" id="2257321">.</span><span class="ident" id="2257322">fmt_f64</span><span class="op" id="2257329">(</span><span class="ident" id="2257330">v</span><span class="op" id="2257331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257334">case</span>&nbsp;<span class="string" id="2257339">&#39;g&#39;</span><span class="op" id="2257342">,</span>&nbsp;<span class="string" id="2257344">&#39;v&#39;</span><span class="op" id="2257347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257351">p</span><span class="op" id="2257352">.</span><span class="ident" id="2257353">fmt</span><span class="op" id="2257356">.</span><span class="ident" id="2257357">fmt_g64</span><span class="op" id="2257364">(</span><span class="ident" id="2257365">v</span><span class="op" id="2257366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257369">case</span>&nbsp;<span class="string" id="2257374">&#39;G&#39;</span><span class="op" id="2257377">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257381">p</span><span class="op" id="2257382">.</span><span class="ident" id="2257383">fmt</span><span class="op" id="2257386">.</span><span class="ident" id="2257387">fmt_G64</span><span class="op" id="2257394">(</span><span class="ident" id="2257395">v</span><span class="op" id="2257396">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257399">default</span><span class="op" id="2257406">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257410">p</span><span class="op" id="2257411">.</span><span class="ident" id="2257412">badVerb</span><span class="op" id="2257419">(</span><span class="ident" id="2257420">verb</span><span class="op" id="2257424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2257427">}</span><br>
<span class="lineno"></span><span class="op" id="2257429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2257432">func</span>&nbsp;<span class="op" id="2257437">(</span><span class="ident" id="2257438">p</span>&nbsp;<span class="op" id="2257440">*</span><span class="ident" id="2257441">pp</span><span class="op" id="2257443">)</span>&nbsp;<span class="ident" id="2257445">fmtComplex64</span><span class="op" id="2257457">(</span><span class="ident" id="2257458">v</span>&nbsp;<span class="builtintype" id="2257460">complex64</span><span class="op" id="2257469">,</span>&nbsp;<span class="ident" id="2257471">verb</span>&nbsp;<span class="builtintype" id="2257476">rune</span><span class="op" id="2257480">)</span>&nbsp;<span class="op" id="2257482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257485">switch</span>&nbsp;<span class="ident" id="2257492">verb</span>&nbsp;<span class="op" id="2257497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257500">case</span>&nbsp;<span class="string" id="2257505">&#39;b&#39;</span><span class="op" id="2257508">,</span>&nbsp;<span class="string" id="2257510">&#39;e&#39;</span><span class="op" id="2257513">,</span>&nbsp;<span class="string" id="2257515">&#39;E&#39;</span><span class="op" id="2257518">,</span>&nbsp;<span class="string" id="2257520">&#39;f&#39;</span><span class="op" id="2257523">,</span>&nbsp;<span class="string" id="2257525">&#39;F&#39;</span><span class="op" id="2257528">,</span>&nbsp;<span class="string" id="2257530">&#39;g&#39;</span><span class="op" id="2257533">,</span>&nbsp;<span class="string" id="2257535">&#39;G&#39;</span><span class="op" id="2257538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257542">p</span><span class="op" id="2257543">.</span><span class="ident" id="2257544">fmt</span><span class="op" id="2257547">.</span><span class="ident" id="2257548">fmt_c64</span><span class="op" id="2257555">(</span><span class="ident" id="2257556">v</span><span class="op" id="2257557">,</span>&nbsp;<span class="ident" id="2257559">verb</span><span class="op" id="2257563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257566">case</span>&nbsp;<span class="string" id="2257571">&#39;v&#39;</span><span class="op" id="2257574">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257578">p</span><span class="op" id="2257579">.</span><span class="ident" id="2257580">fmt</span><span class="op" id="2257583">.</span><span class="ident" id="2257584">fmt_c64</span><span class="op" id="2257591">(</span><span class="ident" id="2257592">v</span><span class="op" id="2257593">,</span>&nbsp;<span class="string" id="2257595">&#39;g&#39;</span><span class="op" id="2257598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257601">default</span><span class="op" id="2257608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257612">p</span><span class="op" id="2257613">.</span><span class="ident" id="2257614">badVerb</span><span class="op" id="2257621">(</span><span class="ident" id="2257622">verb</span><span class="op" id="2257626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2257629">}</span><br>
<span class="lineno"></span><span class="op" id="2257631">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2257634">func</span>&nbsp;<span class="op" id="2257639">(</span><span class="ident" id="2257640">p</span>&nbsp;<span class="op" id="2257642">*</span><span class="ident" id="2257643">pp</span><span class="op" id="2257645">)</span>&nbsp;<span class="ident" id="2257647">fmtComplex128</span><span class="op" id="2257660">(</span><span class="ident" id="2257661">v</span>&nbsp;<span class="builtintype" id="2257663">complex128</span><span class="op" id="2257673">,</span>&nbsp;<span class="ident" id="2257675">verb</span>&nbsp;<span class="builtintype" id="2257680">rune</span><span class="op" id="2257684">)</span>&nbsp;<span class="op" id="2257686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257689">switch</span>&nbsp;<span class="ident" id="2257696">verb</span>&nbsp;<span class="op" id="2257701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257704">case</span>&nbsp;<span class="string" id="2257709">&#39;b&#39;</span><span class="op" id="2257712">,</span>&nbsp;<span class="string" id="2257714">&#39;e&#39;</span><span class="op" id="2257717">,</span>&nbsp;<span class="string" id="2257719">&#39;E&#39;</span><span class="op" id="2257722">,</span>&nbsp;<span class="string" id="2257724">&#39;f&#39;</span><span class="op" id="2257727">,</span>&nbsp;<span class="string" id="2257729">&#39;F&#39;</span><span class="op" id="2257732">,</span>&nbsp;<span class="string" id="2257734">&#39;g&#39;</span><span class="op" id="2257737">,</span>&nbsp;<span class="string" id="2257739">&#39;G&#39;</span><span class="op" id="2257742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257746">p</span><span class="op" id="2257747">.</span><span class="ident" id="2257748">fmt</span><span class="op" id="2257751">.</span><span class="ident" id="2257752">fmt_c128</span><span class="op" id="2257760">(</span><span class="ident" id="2257761">v</span><span class="op" id="2257762">,</span>&nbsp;<span class="ident" id="2257764">verb</span><span class="op" id="2257768">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257771">case</span>&nbsp;<span class="string" id="2257776">&#39;v&#39;</span><span class="op" id="2257779">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257783">p</span><span class="op" id="2257784">.</span><span class="ident" id="2257785">fmt</span><span class="op" id="2257788">.</span><span class="ident" id="2257789">fmt_c128</span><span class="op" id="2257797">(</span><span class="ident" id="2257798">v</span><span class="op" id="2257799">,</span>&nbsp;<span class="string" id="2257801">&#39;g&#39;</span><span class="op" id="2257804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257807">default</span><span class="op" id="2257814">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257818">p</span><span class="op" id="2257819">.</span><span class="ident" id="2257820">badVerb</span><span class="op" id="2257827">(</span><span class="ident" id="2257828">verb</span><span class="op" id="2257832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2257835">}</span><br>
<span class="lineno">500</span><span class="op" id="2257837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2257840">func</span>&nbsp;<span class="op" id="2257845">(</span><span class="ident" id="2257846">p</span>&nbsp;<span class="op" id="2257848">*</span><span class="ident" id="2257849">pp</span><span class="op" id="2257851">)</span>&nbsp;<span class="ident" id="2257853">fmtString</span><span class="op" id="2257862">(</span><span class="ident" id="2257863">v</span>&nbsp;<span class="builtintype" id="2257865">string</span><span class="op" id="2257871">,</span>&nbsp;<span class="ident" id="2257873">verb</span>&nbsp;<span class="builtintype" id="2257878">rune</span><span class="op" id="2257882">)</span>&nbsp;<span class="op" id="2257884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257887">switch</span>&nbsp;<span class="ident" id="2257894">verb</span>&nbsp;<span class="op" id="2257899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257902">case</span>&nbsp;<span class="string" id="2257907">&#39;v&#39;</span><span class="op" id="2257910">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257914">if</span>&nbsp;<span class="ident" id="2257917">p</span><span class="op" id="2257918">.</span><span class="ident" id="2257919">fmt</span><span class="op" id="2257922">.</span><span class="ident" id="2257923">sharpV</span>&nbsp;<span class="op" id="2257930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257935">p</span><span class="op" id="2257936">.</span><span class="ident" id="2257937">fmt</span><span class="op" id="2257940">.</span><span class="ident" id="2257941">fmt_q</span><span class="op" id="2257946">(</span><span class="ident" id="2257947">v</span><span class="op" id="2257948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2257952">}</span>&nbsp;<span class="keyword" id="2257954">else</span>&nbsp;<span class="op" id="2257959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257964">p</span><span class="op" id="2257965">.</span><span class="ident" id="2257966">fmt</span><span class="op" id="2257969">.</span><span class="ident" id="2257970">fmt_s</span><span class="op" id="2257975">(</span><span class="ident" id="2257976">v</span><span class="op" id="2257977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2257981">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2257984">case</span>&nbsp;<span class="string" id="2257989">&#39;s&#39;</span><span class="op" id="2257992">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2257996">p</span><span class="op" id="2257997">.</span><span class="ident" id="2257998">fmt</span><span class="op" id="2258001">.</span><span class="ident" id="2258002">fmt_s</span><span class="op" id="2258007">(</span><span class="ident" id="2258008">v</span><span class="op" id="2258009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258012">case</span>&nbsp;<span class="string" id="2258017">&#39;x&#39;</span><span class="op" id="2258020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258024">p</span><span class="op" id="2258025">.</span><span class="ident" id="2258026">fmt</span><span class="op" id="2258029">.</span><span class="ident" id="2258030">fmt_sx</span><span class="op" id="2258036">(</span><span class="ident" id="2258037">v</span><span class="op" id="2258038">,</span>&nbsp;<span class="ident" id="2258040">ldigits</span><span class="op" id="2258047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258050">case</span>&nbsp;<span class="string" id="2258055">&#39;X&#39;</span><span class="op" id="2258058">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258062">p</span><span class="op" id="2258063">.</span><span class="ident" id="2258064">fmt</span><span class="op" id="2258067">.</span><span class="ident" id="2258068">fmt_sx</span><span class="op" id="2258074">(</span><span class="ident" id="2258075">v</span><span class="op" id="2258076">,</span>&nbsp;<span class="ident" id="2258078">udigits</span><span class="op" id="2258085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258088">case</span>&nbsp;<span class="string" id="2258093">&#39;q&#39;</span><span class="op" id="2258096">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258100">p</span><span class="op" id="2258101">.</span><span class="ident" id="2258102">fmt</span><span class="op" id="2258105">.</span><span class="ident" id="2258106">fmt_q</span><span class="op" id="2258111">(</span><span class="ident" id="2258112">v</span><span class="op" id="2258113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258116">default</span><span class="op" id="2258123">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258127">p</span><span class="op" id="2258128">.</span><span class="ident" id="2258129">badVerb</span><span class="op" id="2258136">(</span><span class="ident" id="2258137">verb</span><span class="op" id="2258141">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258144">}</span><br>
<span class="lineno"></span><span class="op" id="2258146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2258149">func</span>&nbsp;<span class="op" id="2258154">(</span><span class="ident" id="2258155">p</span>&nbsp;<span class="op" id="2258157">*</span><span class="ident" id="2258158">pp</span><span class="op" id="2258160">)</span>&nbsp;<span class="ident" id="2258162">fmtBytes</span><span class="op" id="2258170">(</span><span class="ident" id="2258171">v</span>&nbsp;<span class="op" id="2258173">[</span><span class="op" id="2258174">]</span><span class="builtintype" id="2258175">byte</span><span class="op" id="2258179">,</span>&nbsp;<span class="ident" id="2258181">verb</span>&nbsp;<span class="builtintype" id="2258186">rune</span><span class="op" id="2258190">,</span>&nbsp;<span class="ident" id="2258192">typ</span>&nbsp;<span class="ident" id="2258196">reflect</span><span class="op" id="2258203">.</span><span class="ident" id="2258204">Type</span><span class="op" id="2258208">,</span>&nbsp;<span class="ident" id="2258210">depth</span>&nbsp;<span class="builtintype" id="2258216">int</span><span class="op" id="2258219">)</span>&nbsp;<span class="op" id="2258221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258224">if</span>&nbsp;<span class="ident" id="2258227">verb</span>&nbsp;<span class="op" id="2258232">==</span>&nbsp;<span class="string" id="2258235">&#39;v&#39;</span>&nbsp;<span class="op" id="2258239">||</span>&nbsp;<span class="ident" id="2258242">verb</span>&nbsp;<span class="op" id="2258247">==</span>&nbsp;<span class="string" id="2258250">&#39;d&#39;</span>&nbsp;<span class="op" id="2258254">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258258">if</span>&nbsp;<span class="ident" id="2258261">p</span><span class="op" id="2258262">.</span><span class="ident" id="2258263">fmt</span><span class="op" id="2258266">.</span><span class="ident" id="2258267">sharpV</span>&nbsp;<span class="op" id="2258274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258279">if</span>&nbsp;<span class="ident" id="2258282">v</span>&nbsp;<span class="op" id="2258284">==</span>&nbsp;<span class="ident" id="2258287">nil</span>&nbsp;<span class="op" id="2258291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258297">if</span>&nbsp;<span class="ident" id="2258300">typ</span>&nbsp;<span class="op" id="2258304">==</span>&nbsp;<span class="ident" id="2258307">nil</span>&nbsp;<span class="op" id="2258311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258318">p</span><span class="op" id="2258319">.</span><span class="ident" id="2258320">buf</span><span class="op" id="2258323">.</span><span class="ident" id="2258324">WriteString</span><span class="op" id="2258335">(</span><span class="string" id="2258336">&#34;[]byte(nil)&#34;</span><span class="op" id="2258349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258355">}</span>&nbsp;<span class="keyword" id="2258357">else</span>&nbsp;<span class="op" id="2258362">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258369">p</span><span class="op" id="2258370">.</span><span class="ident" id="2258371">buf</span><span class="op" id="2258374">.</span><span class="ident" id="2258375">WriteString</span><span class="op" id="2258386">(</span><span class="ident" id="2258387">typ</span><span class="op" id="2258390">.</span><span class="ident" id="2258391">String</span><span class="op" id="2258397">(</span><span class="op" id="2258398">)</span><span class="op" id="2258399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258406">p</span><span class="op" id="2258407">.</span><span class="ident" id="2258408">buf</span><span class="op" id="2258411">.</span><span class="ident" id="2258412">Write</span><span class="op" id="2258417">(</span><span class="ident" id="2258418">nilParenBytes</span><span class="op" id="2258431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258443">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258453">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258458">if</span>&nbsp;<span class="ident" id="2258461">typ</span>&nbsp;<span class="op" id="2258465">==</span>&nbsp;<span class="ident" id="2258468">nil</span>&nbsp;<span class="op" id="2258472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258478">p</span><span class="op" id="2258479">.</span><span class="ident" id="2258480">buf</span><span class="op" id="2258483">.</span><span class="ident" id="2258484">Write</span><span class="op" id="2258489">(</span><span class="ident" id="2258490">bytesBytes</span><span class="op" id="2258500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258505">}</span>&nbsp;<span class="keyword" id="2258507">else</span>&nbsp;<span class="op" id="2258512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258518">p</span><span class="op" id="2258519">.</span><span class="ident" id="2258520">buf</span><span class="op" id="2258523">.</span><span class="ident" id="2258524">WriteString</span><span class="op" id="2258535">(</span><span class="ident" id="2258536">typ</span><span class="op" id="2258539">.</span><span class="ident" id="2258540">String</span><span class="op" id="2258546">(</span><span class="op" id="2258547">)</span><span class="op" id="2258548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258554">p</span><span class="op" id="2258555">.</span><span class="ident" id="2258556">buf</span><span class="op" id="2258559">.</span><span class="ident" id="2258560">WriteByte</span><span class="op" id="2258569">(</span><span class="string" id="2258570">&#39;{&#39;</span><span class="op" id="2258573">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258582">}</span>&nbsp;<span class="keyword" id="2258584">else</span>&nbsp;<span class="op" id="2258589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258594">p</span><span class="op" id="2258595">.</span><span class="ident" id="2258596">buf</span><span class="op" id="2258599">.</span><span class="ident" id="2258600">WriteByte</span><span class="op" id="2258609">(</span><span class="string" id="2258610">&#39;[&#39;</span><span class="op" id="2258613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258621">for</span>&nbsp;<span class="ident" id="2258625">i</span><span class="op" id="2258626">,</span>&nbsp;<span class="ident" id="2258628">c</span>&nbsp;<span class="op" id="2258630">:=</span>&nbsp;<span class="keyword" id="2258633">range</span>&nbsp;<span class="ident" id="2258639">v</span>&nbsp;<span class="op" id="2258641">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258646">if</span>&nbsp;<span class="ident" id="2258649">i</span>&nbsp;<span class="op" id="2258651">&gt;</span>&nbsp;<span class="num" id="2258653">0</span>&nbsp;<span class="op" id="2258655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258661">if</span>&nbsp;<span class="ident" id="2258664">p</span><span class="op" id="2258665">.</span><span class="ident" id="2258666">fmt</span><span class="op" id="2258669">.</span><span class="ident" id="2258670">sharpV</span>&nbsp;<span class="op" id="2258677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258684">p</span><span class="op" id="2258685">.</span><span class="ident" id="2258686">buf</span><span class="op" id="2258689">.</span><span class="ident" id="2258690">Write</span><span class="op" id="2258695">(</span><span class="ident" id="2258696">commaSpaceBytes</span><span class="op" id="2258711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258717">}</span>&nbsp;<span class="keyword" id="2258719">else</span>&nbsp;<span class="op" id="2258724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258731">p</span><span class="op" id="2258732">.</span><span class="ident" id="2258733">buf</span><span class="op" id="2258736">.</span><span class="ident" id="2258737">WriteByte</span><span class="op" id="2258746">(</span><span class="string" id="2258747">&#39;&nbsp;&#39;</span><span class="op" id="2258750">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258766">p</span><span class="op" id="2258767">.</span><span class="ident" id="2258768">printArg</span><span class="op" id="2258776">(</span><span class="ident" id="2258777">c</span><span class="op" id="2258778">,</span>&nbsp;<span class="string" id="2258780">&#39;v&#39;</span><span class="op" id="2258783">,</span>&nbsp;<span class="ident" id="2258785">depth</span><span class="op" id="2258790">+</span><span class="num" id="2258791">1</span><span class="op" id="2258792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258800">if</span>&nbsp;<span class="ident" id="2258803">p</span><span class="op" id="2258804">.</span><span class="ident" id="2258805">fmt</span><span class="op" id="2258808">.</span><span class="ident" id="2258809">sharpV</span>&nbsp;<span class="op" id="2258816">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258821">p</span><span class="op" id="2258822">.</span><span class="ident" id="2258823">buf</span><span class="op" id="2258826">.</span><span class="ident" id="2258827">WriteByte</span><span class="op" id="2258836">(</span><span class="string" id="2258837">&#39;}&#39;</span><span class="op" id="2258840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258844">}</span>&nbsp;<span class="keyword" id="2258846">else</span>&nbsp;<span class="op" id="2258851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258856">p</span><span class="op" id="2258857">.</span><span class="ident" id="2258858">buf</span><span class="op" id="2258861">.</span><span class="ident" id="2258862">WriteByte</span><span class="op" id="2258871">(</span><span class="string" id="2258872">&#39;]&#39;</span><span class="op" id="2258875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258883">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2258891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258894">switch</span>&nbsp;<span class="ident" id="2258901">verb</span>&nbsp;<span class="op" id="2258906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258909">case</span>&nbsp;<span class="string" id="2258914">&#39;s&#39;</span><span class="op" id="2258917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258921">p</span><span class="op" id="2258922">.</span><span class="ident" id="2258923">fmt</span><span class="op" id="2258926">.</span><span class="ident" id="2258927">fmt_s</span><span class="op" id="2258932">(</span><span class="builtintype" id="2258933">string</span><span class="op" id="2258939">(</span><span class="ident" id="2258940">v</span><span class="op" id="2258941">)</span><span class="op" id="2258942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258945">case</span>&nbsp;<span class="string" id="2258950">&#39;x&#39;</span><span class="op" id="2258953">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258957">p</span><span class="op" id="2258958">.</span><span class="ident" id="2258959">fmt</span><span class="op" id="2258962">.</span><span class="ident" id="2258963">fmt_bx</span><span class="op" id="2258969">(</span><span class="ident" id="2258970">v</span><span class="op" id="2258971">,</span>&nbsp;<span class="ident" id="2258973">ldigits</span><span class="op" id="2258980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2258983">case</span>&nbsp;<span class="string" id="2258988">&#39;X&#39;</span><span class="op" id="2258991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2258995">p</span><span class="op" id="2258996">.</span><span class="ident" id="2258997">fmt</span><span class="op" id="2259000">.</span><span class="ident" id="2259001">fmt_bx</span><span class="op" id="2259007">(</span><span class="ident" id="2259008">v</span><span class="op" id="2259009">,</span>&nbsp;<span class="ident" id="2259011">udigits</span><span class="op" id="2259018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259021">case</span>&nbsp;<span class="string" id="2259026">&#39;q&#39;</span><span class="op" id="2259029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259033">p</span><span class="op" id="2259034">.</span><span class="ident" id="2259035">fmt</span><span class="op" id="2259038">.</span><span class="ident" id="2259039">fmt_q</span><span class="op" id="2259044">(</span><span class="builtintype" id="2259045">string</span><span class="op" id="2259051">(</span><span class="ident" id="2259052">v</span><span class="op" id="2259053">)</span><span class="op" id="2259054">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259057">default</span><span class="op" id="2259064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259068">p</span><span class="op" id="2259069">.</span><span class="ident" id="2259070">badVerb</span><span class="op" id="2259077">(</span><span class="ident" id="2259078">verb</span><span class="op" id="2259082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259085">}</span><br>
<span class="lineno"></span><span class="op" id="2259087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2259090">func</span>&nbsp;<span class="op" id="2259095">(</span><span class="ident" id="2259096">p</span>&nbsp;<span class="op" id="2259098">*</span><span class="ident" id="2259099">pp</span><span class="op" id="2259101">)</span>&nbsp;<span class="ident" id="2259103">fmtPointer</span><span class="op" id="2259113">(</span><span class="ident" id="2259114">value</span>&nbsp;<span class="ident" id="2259120">reflect</span><span class="op" id="2259127">.</span><span class="ident" id="2259128">Value</span><span class="op" id="2259133">,</span>&nbsp;<span class="ident" id="2259135">verb</span>&nbsp;<span class="builtintype" id="2259140">rune</span><span class="op" id="2259144">)</span>&nbsp;<span class="op" id="2259146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259149">use0x64</span>&nbsp;<span class="op" id="2259157">:=</span>&nbsp;<span class="builtintype" id="2259160">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259166">switch</span>&nbsp;<span class="ident" id="2259173">verb</span>&nbsp;<span class="op" id="2259178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259181">case</span>&nbsp;<span class="string" id="2259186">&#39;p&#39;</span><span class="op" id="2259189">,</span>&nbsp;<span class="string" id="2259191">&#39;v&#39;</span><span class="op" id="2259194">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2259198">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259205">case</span>&nbsp;<span class="string" id="2259210">&#39;b&#39;</span><span class="op" id="2259213">,</span>&nbsp;<span class="string" id="2259215">&#39;d&#39;</span><span class="op" id="2259218">,</span>&nbsp;<span class="string" id="2259220">&#39;o&#39;</span><span class="op" id="2259223">,</span>&nbsp;<span class="string" id="2259225">&#39;x&#39;</span><span class="op" id="2259228">,</span>&nbsp;<span class="string" id="2259230">&#39;X&#39;</span><span class="op" id="2259233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259237">use0x64</span>&nbsp;<span class="op" id="2259245">=</span>&nbsp;<span class="builtintype" id="2259247">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2259255">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259262">default</span><span class="op" id="2259269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259273">p</span><span class="op" id="2259274">.</span><span class="ident" id="2259275">badVerb</span><span class="op" id="2259282">(</span><span class="ident" id="2259283">verb</span><span class="op" id="2259287">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259291">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259303">var</span>&nbsp;<span class="ident" id="2259307">u</span>&nbsp;<span class="builtintype" id="2259309">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259318">switch</span>&nbsp;<span class="ident" id="2259325">value</span><span class="op" id="2259330">.</span><span class="ident" id="2259331">Kind</span><span class="op" id="2259335">(</span><span class="op" id="2259336">)</span>&nbsp;<span class="op" id="2259338">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259341">case</span>&nbsp;<span class="ident" id="2259346">reflect</span><span class="op" id="2259353">.</span><span class="ident" id="2259354">Chan</span><span class="op" id="2259358">,</span>&nbsp;<span class="ident" id="2259360">reflect</span><span class="op" id="2259367">.</span><span class="ident" id="2259368">Func</span><span class="op" id="2259372">,</span>&nbsp;<span class="ident" id="2259374">reflect</span><span class="op" id="2259381">.</span><span class="ident" id="2259382">Map</span><span class="op" id="2259385">,</span>&nbsp;<span class="ident" id="2259387">reflect</span><span class="op" id="2259394">.</span><span class="ident" id="2259395">Ptr</span><span class="op" id="2259398">,</span>&nbsp;<span class="ident" id="2259400">reflect</span><span class="op" id="2259407">.</span><span class="ident" id="2259408">Slice</span><span class="op" id="2259413">,</span>&nbsp;<span class="ident" id="2259415">reflect</span><span class="op" id="2259422">.</span><span class="ident" id="2259423">UnsafePointer</span><span class="op" id="2259436">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259440">u</span>&nbsp;<span class="op" id="2259442">=</span>&nbsp;<span class="ident" id="2259444">value</span><span class="op" id="2259449">.</span><span class="ident" id="2259450">Pointer</span><span class="op" id="2259457">(</span><span class="op" id="2259458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259461">default</span><span class="op" id="2259468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259472">p</span><span class="op" id="2259473">.</span><span class="ident" id="2259474">badVerb</span><span class="op" id="2259481">(</span><span class="ident" id="2259482">verb</span><span class="op" id="2259486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259490">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259502">if</span>&nbsp;<span class="ident" id="2259505">p</span><span class="op" id="2259506">.</span><span class="ident" id="2259507">fmt</span><span class="op" id="2259510">.</span><span class="ident" id="2259511">sharpV</span>&nbsp;<span class="op" id="2259518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259522">p</span><span class="op" id="2259523">.</span><span class="ident" id="2259524">add</span><span class="op" id="2259527">(</span><span class="string" id="2259528">&#39;(&#39;</span><span class="op" id="2259531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259535">p</span><span class="op" id="2259536">.</span><span class="ident" id="2259537">buf</span><span class="op" id="2259540">.</span><span class="ident" id="2259541">WriteString</span><span class="op" id="2259552">(</span><span class="ident" id="2259553">value</span><span class="op" id="2259558">.</span><span class="ident" id="2259559">Type</span><span class="op" id="2259563">(</span><span class="op" id="2259564">)</span><span class="op" id="2259565">.</span><span class="ident" id="2259566">String</span><span class="op" id="2259572">(</span><span class="op" id="2259573">)</span><span class="op" id="2259574">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259578">p</span><span class="op" id="2259579">.</span><span class="ident" id="2259580">add</span><span class="op" id="2259583">(</span><span class="string" id="2259584">&#39;)&#39;</span><span class="op" id="2259587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259591">p</span><span class="op" id="2259592">.</span><span class="ident" id="2259593">add</span><span class="op" id="2259596">(</span><span class="string" id="2259597">&#39;(&#39;</span><span class="op" id="2259600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259604">if</span>&nbsp;<span class="ident" id="2259607">u</span>&nbsp;<span class="op" id="2259609">==</span>&nbsp;<span class="num" id="2259612">0</span>&nbsp;<span class="op" id="2259614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259619">p</span><span class="op" id="2259620">.</span><span class="ident" id="2259621">buf</span><span class="op" id="2259624">.</span><span class="ident" id="2259625">Write</span><span class="op" id="2259630">(</span><span class="ident" id="2259631">nilBytes</span><span class="op" id="2259639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259643">}</span>&nbsp;<span class="keyword" id="2259645">else</span>&nbsp;<span class="op" id="2259650">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259655">p</span><span class="op" id="2259656">.</span><span class="ident" id="2259657">fmt0x64</span><span class="op" id="2259664">(</span><span class="ident" id="2259665">uint64</span><span class="op" id="2259671">(</span><span class="ident" id="2259672">u</span><span class="op" id="2259673">)</span><span class="op" id="2259674">,</span>&nbsp;<span class="builtintype" id="2259676">true</span><span class="op" id="2259680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259688">p</span><span class="op" id="2259689">.</span><span class="ident" id="2259690">add</span><span class="op" id="2259693">(</span><span class="string" id="2259694">&#39;)&#39;</span><span class="op" id="2259697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259700">}</span>&nbsp;<span class="keyword" id="2259702">else</span>&nbsp;<span class="keyword" id="2259707">if</span>&nbsp;<span class="ident" id="2259710">verb</span>&nbsp;<span class="op" id="2259715">==</span>&nbsp;<span class="string" id="2259718">&#39;v&#39;</span>&nbsp;<span class="op" id="2259722">&amp;&amp;</span>&nbsp;<span class="ident" id="2259725">u</span>&nbsp;<span class="op" id="2259727">==</span>&nbsp;<span class="num" id="2259730">0</span>&nbsp;<span class="op" id="2259732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259736">p</span><span class="op" id="2259737">.</span><span class="ident" id="2259738">buf</span><span class="op" id="2259741">.</span><span class="ident" id="2259742">Write</span><span class="op" id="2259747">(</span><span class="ident" id="2259748">nilAngleBytes</span><span class="op" id="2259761">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259764">}</span>&nbsp;<span class="keyword" id="2259766">else</span>&nbsp;<span class="op" id="2259771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2259775">if</span>&nbsp;<span class="ident" id="2259778">use0x64</span>&nbsp;<span class="op" id="2259786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259791">p</span><span class="op" id="2259792">.</span><span class="ident" id="2259793">fmt0x64</span><span class="op" id="2259800">(</span><span class="ident" id="2259801">uint64</span><span class="op" id="2259807">(</span><span class="ident" id="2259808">u</span><span class="op" id="2259809">)</span><span class="op" id="2259810">,</span>&nbsp;<span class="op" id="2259812">!</span><span class="ident" id="2259813">p</span><span class="op" id="2259814">.</span><span class="ident" id="2259815">fmt</span><span class="op" id="2259818">.</span><span class="ident" id="2259819">sharp</span><span class="op" id="2259824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259828">}</span>&nbsp;<span class="keyword" id="2259830">else</span>&nbsp;<span class="op" id="2259835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259840">p</span><span class="op" id="2259841">.</span><span class="ident" id="2259842">fmtUint64</span><span class="op" id="2259851">(</span><span class="ident" id="2259852">uint64</span><span class="op" id="2259858">(</span><span class="ident" id="2259859">u</span><span class="op" id="2259860">)</span><span class="op" id="2259861">,</span>&nbsp;<span class="ident" id="2259863">verb</span><span class="op" id="2259867">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2259874">}</span><br>
<span class="lineno"></span><span class="op" id="2259876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2259879">var</span>&nbsp;<span class="op" id="2259883">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259886">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2259898">=</span>&nbsp;<span class="ident" id="2259900">reflect</span><span class="op" id="2259907">.</span><span class="ident" id="2259908">TypeOf</span><span class="op" id="2259914">(</span><span class="num" id="2259915">0</span><span class="op" id="2259916">)</span><span class="op" id="2259917">.</span><span class="ident" id="2259918">Bits</span><span class="op" id="2259922">(</span><span class="op" id="2259923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2259926">uintptrBits</span>&nbsp;<span class="op" id="2259938">=</span>&nbsp;<span class="ident" id="2259940">reflect</span><span class="op" id="2259947">.</span><span class="ident" id="2259948">TypeOf</span><span class="op" id="2259954">(</span><span class="builtintype" id="2259955">uintptr</span><span class="op" id="2259962">(</span><span class="num" id="2259963">0</span><span class="op" id="2259964">)</span><span class="op" id="2259965">)</span><span class="op" id="2259966">.</span><span class="ident" id="2259967">Bits</span><span class="op" id="2259971">(</span><span class="op" id="2259972">)</span><br>
<span class="lineno"></span><span class="op" id="2259974">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2259977">func</span>&nbsp;<span class="op" id="2259982">(</span><span class="ident" id="2259983">p</span>&nbsp;<span class="op" id="2259985">*</span><span class="ident" id="2259986">pp</span><span class="op" id="2259988">)</span>&nbsp;<span class="ident" id="2259990">catchPanic</span><span class="op" id="2260000">(</span><span class="ident" id="2260001">arg</span>&nbsp;<span class="keyword" id="2260005">interface</span><span class="op" id="2260014">{</span><span class="op" id="2260015">}</span><span class="op" id="2260016">,</span>&nbsp;<span class="ident" id="2260018">verb</span>&nbsp;<span class="builtintype" id="2260023">rune</span><span class="op" id="2260027">)</span>&nbsp;<span class="op" id="2260029">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2260032">if</span>&nbsp;<span class="ident" id="2260035">err</span>&nbsp;<span class="op" id="2260039">:=</span>&nbsp;<span class="builtinfunc" id="2260042">recover</span><span class="op" id="2260049">(</span><span class="op" id="2260050">)</span><span class="op" id="2260051">;</span>&nbsp;<span class="ident" id="2260053">err</span>&nbsp;<span class="op" id="2260057">!=</span>&nbsp;<span class="ident" id="2260060">nil</span>&nbsp;<span class="op" id="2260064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2260068">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2260141">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2260210">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2260277">if</span>&nbsp;<span class="ident" id="2260280">v</span>&nbsp;<span class="op" id="2260282">:=</span>&nbsp;<span class="ident" id="2260285">reflect</span><span class="op" id="2260292">.</span><span class="ident" id="2260293">ValueOf</span><span class="op" id="2260300">(</span><span class="ident" id="2260301">arg</span><span class="op" id="2260304">)</span><span class="op" id="2260305">;</span>&nbsp;<span class="ident" id="2260307">v</span><span class="op" id="2260308">.</span><span class="ident" id="2260309">Kind</span><span class="op" id="2260313">(</span><span class="op" id="2260314">)</span>&nbsp;<span class="op" id="2260316">==</span>&nbsp;<span class="ident" id="2260319">reflect</span><span class="op" id="2260326">.</span><span class="ident" id="2260327">Ptr</span>&nbsp;<span class="op" id="2260331">&amp;&amp;</span>&nbsp;<span class="ident" id="2260334">v</span><span class="op" id="2260335">.</span><span class="ident" id="2260336">IsNil</span><span class="op" id="2260341">(</span><span class="op" id="2260342">)</span>&nbsp;<span class="op" id="2260344">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260349">p</span><span class="op" id="2260350">.</span><span class="ident" id="2260351">buf</span><span class="op" id="2260354">.</span><span class="ident" id="2260355">Write</span><span class="op" id="2260360">(</span><span class="ident" id="2260361">nilAngleBytes</span><span class="op" id="2260374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2260379">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2260388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2260392">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2260465">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2260502">if</span>&nbsp;<span class="ident" id="2260505">p</span><span class="op" id="2260506">.</span><span class="ident" id="2260507">panicking</span>&nbsp;<span class="op" id="2260517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2260522">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2260585">panic</span><span class="op" id="2260590">(</span><span class="ident" id="2260591">err</span><span class="op" id="2260594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2260598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260602">p</span><span class="op" id="2260603">.</span><span class="ident" id="2260604">fmt</span><span class="op" id="2260607">.</span><span class="ident" id="2260608">clearflags</span><span class="op" id="2260618">(</span><span class="op" id="2260619">)</span>&nbsp;<span class="comment" id="2260621">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260685">p</span><span class="op" id="2260686">.</span><span class="ident" id="2260687">buf</span><span class="op" id="2260690">.</span><span class="ident" id="2260691">Write</span><span class="op" id="2260696">(</span><span class="ident" id="2260697">percentBangBytes</span><span class="op" id="2260713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260717">p</span><span class="op" id="2260718">.</span><span class="ident" id="2260719">add</span><span class="op" id="2260722">(</span><span class="ident" id="2260723">verb</span><span class="op" id="2260727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260731">p</span><span class="op" id="2260732">.</span><span class="ident" id="2260733">buf</span><span class="op" id="2260736">.</span><span class="ident" id="2260737">Write</span><span class="op" id="2260742">(</span><span class="ident" id="2260743">panicBytes</span><span class="op" id="2260753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260757">p</span><span class="op" id="2260758">.</span><span class="ident" id="2260759">panicking</span>&nbsp;<span class="op" id="2260769">=</span>&nbsp;<span class="builtintype" id="2260771">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260778">p</span><span class="op" id="2260779">.</span><span class="ident" id="2260780">printArg</span><span class="op" id="2260788">(</span><span class="ident" id="2260789">err</span><span class="op" id="2260792">,</span>&nbsp;<span class="string" id="2260794">&#39;v&#39;</span><span class="op" id="2260797">,</span>&nbsp;<span class="num" id="2260799">0</span><span class="op" id="2260800">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260804">p</span><span class="op" id="2260805">.</span><span class="ident" id="2260806">panicking</span>&nbsp;<span class="op" id="2260816">=</span>&nbsp;<span class="builtintype" id="2260818">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260826">p</span><span class="op" id="2260827">.</span><span class="ident" id="2260828">buf</span><span class="op" id="2260831">.</span><span class="ident" id="2260832">WriteByte</span><span class="op" id="2260841">(</span><span class="string" id="2260842">&#39;)&#39;</span><span class="op" id="2260845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2260848">}</span><br>
<span class="lineno"></span><span class="op" id="2260850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2260853">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2260942">func</span>&nbsp;<span class="op" id="2260947">(</span><span class="ident" id="2260948">p</span>&nbsp;<span class="op" id="2260950">*</span><span class="ident" id="2260951">pp</span><span class="op" id="2260953">)</span>&nbsp;<span class="ident" id="2260955">clearSpecialFlags</span><span class="op" id="2260972">(</span><span class="op" id="2260973">)</span>&nbsp;<span class="op" id="2260975">(</span><span class="ident" id="2260976">plusV</span><span class="op" id="2260981">,</span>&nbsp;<span class="ident" id="2260983">sharpV</span>&nbsp;<span class="builtintype" id="2260990">bool</span><span class="op" id="2260994">)</span>&nbsp;<span class="op" id="2260996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2260999">plusV</span>&nbsp;<span class="op" id="2261005">=</span>&nbsp;<span class="ident" id="2261007">p</span><span class="op" id="2261008">.</span><span class="ident" id="2261009">fmt</span><span class="op" id="2261012">.</span><span class="ident" id="2261013">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261020">if</span>&nbsp;<span class="ident" id="2261023">plusV</span>&nbsp;<span class="op" id="2261029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261033">p</span><span class="op" id="2261034">.</span><span class="ident" id="2261035">fmt</span><span class="op" id="2261038">.</span><span class="ident" id="2261039">plus</span>&nbsp;<span class="op" id="2261044">=</span>&nbsp;<span class="builtintype" id="2261046">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261053">p</span><span class="op" id="2261054">.</span><span class="ident" id="2261055">fmt</span><span class="op" id="2261058">.</span><span class="ident" id="2261059">plusV</span>&nbsp;<span class="op" id="2261065">=</span>&nbsp;<span class="builtintype" id="2261067">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2261074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261077">sharpV</span>&nbsp;<span class="op" id="2261084">=</span>&nbsp;<span class="ident" id="2261086">p</span><span class="op" id="2261087">.</span><span class="ident" id="2261088">fmt</span><span class="op" id="2261091">.</span><span class="ident" id="2261092">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261100">if</span>&nbsp;<span class="ident" id="2261103">sharpV</span>&nbsp;<span class="op" id="2261110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261114">p</span><span class="op" id="2261115">.</span><span class="ident" id="2261116">fmt</span><span class="op" id="2261119">.</span><span class="ident" id="2261120">sharp</span>&nbsp;<span class="op" id="2261126">=</span>&nbsp;<span class="builtintype" id="2261128">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261135">p</span><span class="op" id="2261136">.</span><span class="ident" id="2261137">fmt</span><span class="op" id="2261140">.</span><span class="ident" id="2261141">sharpV</span>&nbsp;<span class="op" id="2261148">=</span>&nbsp;<span class="builtintype" id="2261150">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2261157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261160">return</span><br>
<span class="lineno"></span><span class="op" id="2261167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2261170">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2261248">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2261303">func</span>&nbsp;<span class="op" id="2261308">(</span><span class="ident" id="2261309">p</span>&nbsp;<span class="op" id="2261311">*</span><span class="ident" id="2261312">pp</span><span class="op" id="2261314">)</span>&nbsp;<span class="ident" id="2261316">restoreSpecialFlags</span><span class="op" id="2261335">(</span><span class="ident" id="2261336">plusV</span><span class="op" id="2261341">,</span>&nbsp;<span class="ident" id="2261343">sharpV</span>&nbsp;<span class="builtintype" id="2261350">bool</span><span class="op" id="2261354">)</span>&nbsp;<span class="op" id="2261356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261359">if</span>&nbsp;<span class="ident" id="2261362">plusV</span>&nbsp;<span class="op" id="2261368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261372">p</span><span class="op" id="2261373">.</span><span class="ident" id="2261374">fmt</span><span class="op" id="2261377">.</span><span class="ident" id="2261378">plus</span>&nbsp;<span class="op" id="2261383">=</span>&nbsp;<span class="builtintype" id="2261385">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261393">p</span><span class="op" id="2261394">.</span><span class="ident" id="2261395">fmt</span><span class="op" id="2261398">.</span><span class="ident" id="2261399">plusV</span>&nbsp;<span class="op" id="2261405">=</span>&nbsp;<span class="builtintype" id="2261407">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2261413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261416">if</span>&nbsp;<span class="ident" id="2261419">sharpV</span>&nbsp;<span class="op" id="2261426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261430">p</span><span class="op" id="2261431">.</span><span class="ident" id="2261432">fmt</span><span class="op" id="2261435">.</span><span class="ident" id="2261436">sharp</span>&nbsp;<span class="op" id="2261442">=</span>&nbsp;<span class="builtintype" id="2261444">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261452">p</span><span class="op" id="2261453">.</span><span class="ident" id="2261454">fmt</span><span class="op" id="2261457">.</span><span class="ident" id="2261458">sharpV</span>&nbsp;<span class="op" id="2261465">=</span>&nbsp;<span class="builtintype" id="2261467">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2261473">}</span><br>
<span class="lineno"></span><span class="op" id="2261475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2261478">func</span>&nbsp;<span class="op" id="2261483">(</span><span class="ident" id="2261484">p</span>&nbsp;<span class="op" id="2261486">*</span><span class="ident" id="2261487">pp</span><span class="op" id="2261489">)</span>&nbsp;<span class="ident" id="2261491">handleMethods</span><span class="op" id="2261504">(</span><span class="ident" id="2261505">verb</span>&nbsp;<span class="builtintype" id="2261510">rune</span><span class="op" id="2261514">,</span>&nbsp;<span class="ident" id="2261516">depth</span>&nbsp;<span class="builtintype" id="2261522">int</span><span class="op" id="2261525">)</span>&nbsp;<span class="op" id="2261527">(</span><span class="ident" id="2261528">handled</span>&nbsp;<span class="builtintype" id="2261536">bool</span><span class="op" id="2261540">)</span>&nbsp;<span class="op" id="2261542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261545">if</span>&nbsp;<span class="ident" id="2261548">p</span><span class="op" id="2261549">.</span><span class="ident" id="2261550">erroring</span>&nbsp;<span class="op" id="2261559">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261563">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2261571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2261574">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261597">if</span>&nbsp;<span class="ident" id="2261600">formatter</span><span class="op" id="2261609">,</span>&nbsp;<span class="ident" id="2261611">ok</span>&nbsp;<span class="op" id="2261614">:=</span>&nbsp;<span class="ident" id="2261617">p</span><span class="op" id="2261618">.</span><span class="ident" id="2261619">arg</span><span class="op" id="2261622">.</span><span class="op" id="2261623">(</span><span class="ident" id="2261624">Formatter</span><span class="op" id="2261633">)</span><span class="op" id="2261634">;</span>&nbsp;<span class="ident" id="2261636">ok</span>&nbsp;<span class="op" id="2261639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261643">handled</span>&nbsp;<span class="op" id="2261651">=</span>&nbsp;<span class="builtintype" id="2261653">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261660">defer</span>&nbsp;<span class="ident" id="2261666">p</span><span class="op" id="2261667">.</span><span class="ident" id="2261668">restoreSpecialFlags</span><span class="op" id="2261687">(</span><span class="ident" id="2261688">p</span><span class="op" id="2261689">.</span><span class="ident" id="2261690">clearSpecialFlags</span><span class="op" id="2261707">(</span><span class="op" id="2261708">)</span><span class="op" id="2261709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261713">defer</span>&nbsp;<span class="ident" id="2261719">p</span><span class="op" id="2261720">.</span><span class="ident" id="2261721">catchPanic</span><span class="op" id="2261731">(</span><span class="ident" id="2261732">p</span><span class="op" id="2261733">.</span><span class="ident" id="2261734">arg</span><span class="op" id="2261737">,</span>&nbsp;<span class="ident" id="2261739">verb</span><span class="op" id="2261743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261747">formatter</span><span class="op" id="2261756">.</span><span class="ident" id="2261757">Format</span><span class="op" id="2261763">(</span><span class="ident" id="2261764">p</span><span class="op" id="2261765">,</span>&nbsp;<span class="ident" id="2261767">verb</span><span class="op" id="2261771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261775">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2261783">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2261787">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261878">if</span>&nbsp;<span class="ident" id="2261881">p</span><span class="op" id="2261882">.</span><span class="ident" id="2261883">fmt</span><span class="op" id="2261886">.</span><span class="ident" id="2261887">sharpV</span>&nbsp;<span class="op" id="2261894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261898">if</span>&nbsp;<span class="ident" id="2261901">stringer</span><span class="op" id="2261909">,</span>&nbsp;<span class="ident" id="2261911">ok</span>&nbsp;<span class="op" id="2261914">:=</span>&nbsp;<span class="ident" id="2261917">p</span><span class="op" id="2261918">.</span><span class="ident" id="2261919">arg</span><span class="op" id="2261922">.</span><span class="op" id="2261923">(</span><span class="ident" id="2261924">GoStringer</span><span class="op" id="2261934">)</span><span class="op" id="2261935">;</span>&nbsp;<span class="ident" id="2261937">ok</span>&nbsp;<span class="op" id="2261940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2261945">handled</span>&nbsp;<span class="op" id="2261953">=</span>&nbsp;<span class="builtintype" id="2261955">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2261963">defer</span>&nbsp;<span class="ident" id="2261969">p</span><span class="op" id="2261970">.</span><span class="ident" id="2261971">catchPanic</span><span class="op" id="2261981">(</span><span class="ident" id="2261982">p</span><span class="op" id="2261983">.</span><span class="ident" id="2261984">arg</span><span class="op" id="2261987">,</span>&nbsp;<span class="ident" id="2261989">verb</span><span class="op" id="2261993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2261998">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262044">p</span><span class="op" id="2262045">.</span><span class="ident" id="2262046">fmt</span><span class="op" id="2262049">.</span><span class="ident" id="2262050">fmt_s</span><span class="op" id="2262055">(</span><span class="ident" id="2262056">stringer</span><span class="op" id="2262064">.</span><span class="ident" id="2262065">GoString</span><span class="op" id="2262073">(</span><span class="op" id="2262074">)</span><span class="op" id="2262075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262080">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2262089">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2262092">}</span>&nbsp;<span class="keyword" id="2262094">else</span>&nbsp;<span class="op" id="2262099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262103">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262166">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262228">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262285">switch</span>&nbsp;<span class="ident" id="2262292">verb</span>&nbsp;<span class="op" id="2262297">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262301">case</span>&nbsp;<span class="string" id="2262306">&#39;v&#39;</span><span class="op" id="2262309">,</span>&nbsp;<span class="string" id="2262311">&#39;s&#39;</span><span class="op" id="2262314">,</span>&nbsp;<span class="string" id="2262316">&#39;x&#39;</span><span class="op" id="2262319">,</span>&nbsp;<span class="string" id="2262321">&#39;X&#39;</span><span class="op" id="2262324">,</span>&nbsp;<span class="string" id="2262326">&#39;q&#39;</span><span class="op" id="2262329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262334">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262368">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262418">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2262465">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262510">switch</span>&nbsp;<span class="ident" id="2262517">v</span>&nbsp;<span class="op" id="2262519">:=</span>&nbsp;<span class="ident" id="2262522">p</span><span class="op" id="2262523">.</span><span class="ident" id="2262524">arg</span><span class="op" id="2262527">.</span><span class="op" id="2262528">(</span><span class="keyword" id="2262529">type</span><span class="op" id="2262533">)</span>&nbsp;<span class="op" id="2262535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262540">case</span>&nbsp;<span class="builtintype" id="2262545">error</span><span class="op" id="2262550">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262556">handled</span>&nbsp;<span class="op" id="2262564">=</span>&nbsp;<span class="builtintype" id="2262566">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262575">defer</span>&nbsp;<span class="ident" id="2262581">p</span><span class="op" id="2262582">.</span><span class="ident" id="2262583">catchPanic</span><span class="op" id="2262593">(</span><span class="ident" id="2262594">p</span><span class="op" id="2262595">.</span><span class="ident" id="2262596">arg</span><span class="op" id="2262599">,</span>&nbsp;<span class="ident" id="2262601">verb</span><span class="op" id="2262605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262611">p</span><span class="op" id="2262612">.</span><span class="ident" id="2262613">printArg</span><span class="op" id="2262621">(</span><span class="ident" id="2262622">v</span><span class="op" id="2262623">.</span><span class="ident" id="2262624">Error</span><span class="op" id="2262629">(</span><span class="op" id="2262630">)</span><span class="op" id="2262631">,</span>&nbsp;<span class="ident" id="2262633">verb</span><span class="op" id="2262637">,</span>&nbsp;<span class="ident" id="2262639">depth</span><span class="op" id="2262644">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262650">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262661">case</span>&nbsp;<span class="ident" id="2262666">Stringer</span><span class="op" id="2262674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262680">handled</span>&nbsp;<span class="op" id="2262688">=</span>&nbsp;<span class="builtintype" id="2262690">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262699">defer</span>&nbsp;<span class="ident" id="2262705">p</span><span class="op" id="2262706">.</span><span class="ident" id="2262707">catchPanic</span><span class="op" id="2262717">(</span><span class="ident" id="2262718">p</span><span class="op" id="2262719">.</span><span class="ident" id="2262720">arg</span><span class="op" id="2262723">,</span>&nbsp;<span class="ident" id="2262725">verb</span><span class="op" id="2262729">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262735">p</span><span class="op" id="2262736">.</span><span class="ident" id="2262737">printArg</span><span class="op" id="2262745">(</span><span class="ident" id="2262746">v</span><span class="op" id="2262747">.</span><span class="ident" id="2262748">String</span><span class="op" id="2262754">(</span><span class="op" id="2262755">)</span><span class="op" id="2262756">,</span>&nbsp;<span class="ident" id="2262758">verb</span><span class="op" id="2262762">,</span>&nbsp;<span class="ident" id="2262764">depth</span><span class="op" id="2262769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262775">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2262785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2262789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2262792">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262795">return</span>&nbsp;<span class="builtintype" id="2262802">false</span><br>
<span class="lineno"></span><span class="op" id="2262808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2262811">func</span>&nbsp;<span class="op" id="2262816">(</span><span class="ident" id="2262817">p</span>&nbsp;<span class="op" id="2262819">*</span><span class="ident" id="2262820">pp</span><span class="op" id="2262822">)</span>&nbsp;<span class="ident" id="2262824">printArg</span><span class="op" id="2262832">(</span><span class="ident" id="2262833">arg</span>&nbsp;<span class="keyword" id="2262837">interface</span><span class="op" id="2262846">{</span><span class="op" id="2262847">}</span><span class="op" id="2262848">,</span>&nbsp;<span class="ident" id="2262850">verb</span>&nbsp;<span class="builtintype" id="2262855">rune</span><span class="op" id="2262859">,</span>&nbsp;<span class="ident" id="2262861">depth</span>&nbsp;<span class="builtintype" id="2262867">int</span><span class="op" id="2262870">)</span>&nbsp;<span class="op" id="2262872">(</span><span class="ident" id="2262873">wasString</span>&nbsp;<span class="builtintype" id="2262883">bool</span><span class="op" id="2262887">)</span>&nbsp;<span class="op" id="2262889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262892">p</span><span class="op" id="2262893">.</span><span class="ident" id="2262894">arg</span>&nbsp;<span class="op" id="2262898">=</span>&nbsp;<span class="ident" id="2262900">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262905">p</span><span class="op" id="2262906">.</span><span class="ident" id="2262907">value</span>&nbsp;<span class="op" id="2262913">=</span>&nbsp;<span class="ident" id="2262915">reflect</span><span class="op" id="2262922">.</span><span class="ident" id="2262923">Value</span><span class="op" id="2262928">{</span><span class="op" id="2262929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262933">if</span>&nbsp;<span class="ident" id="2262936">arg</span>&nbsp;<span class="op" id="2262940">==</span>&nbsp;<span class="ident" id="2262943">nil</span>&nbsp;<span class="op" id="2262947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2262951">if</span>&nbsp;<span class="ident" id="2262954">verb</span>&nbsp;<span class="op" id="2262959">==</span>&nbsp;<span class="string" id="2262962">&#39;T&#39;</span>&nbsp;<span class="op" id="2262966">||</span>&nbsp;<span class="ident" id="2262969">verb</span>&nbsp;<span class="op" id="2262974">==</span>&nbsp;<span class="string" id="2262977">&#39;v&#39;</span>&nbsp;<span class="op" id="2262981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2262986">p</span><span class="op" id="2262987">.</span><span class="ident" id="2262988">fmt</span><span class="op" id="2262991">.</span><span class="ident" id="2262992">pad</span><span class="op" id="2262995">(</span><span class="ident" id="2262996">nilAngleBytes</span><span class="op" id="2263009">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2263013">}</span>&nbsp;<span class="keyword" id="2263015">else</span>&nbsp;<span class="op" id="2263020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263025">p</span><span class="op" id="2263026">.</span><span class="ident" id="2263027">badVerb</span><span class="op" id="2263034">(</span><span class="ident" id="2263035">verb</span><span class="op" id="2263039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2263043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263047">return</span>&nbsp;<span class="builtintype" id="2263054">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2263061">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2263065">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2263104">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263189">switch</span>&nbsp;<span class="ident" id="2263196">verb</span>&nbsp;<span class="op" id="2263201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263204">case</span>&nbsp;<span class="string" id="2263209">&#39;T&#39;</span><span class="op" id="2263212">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263216">p</span><span class="op" id="2263217">.</span><span class="ident" id="2263218">printArg</span><span class="op" id="2263226">(</span><span class="ident" id="2263227">reflect</span><span class="op" id="2263234">.</span><span class="ident" id="2263235">TypeOf</span><span class="op" id="2263241">(</span><span class="ident" id="2263242">arg</span><span class="op" id="2263245">)</span><span class="op" id="2263246">.</span><span class="ident" id="2263247">String</span><span class="op" id="2263253">(</span><span class="op" id="2263254">)</span><span class="op" id="2263255">,</span>&nbsp;<span class="string" id="2263257">&#39;s&#39;</span><span class="op" id="2263260">,</span>&nbsp;<span class="num" id="2263262">0</span><span class="op" id="2263263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263267">return</span>&nbsp;<span class="builtintype" id="2263274">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263281">case</span>&nbsp;<span class="string" id="2263286">&#39;p&#39;</span><span class="op" id="2263289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263293">p</span><span class="op" id="2263294">.</span><span class="ident" id="2263295">fmtPointer</span><span class="op" id="2263305">(</span><span class="ident" id="2263306">reflect</span><span class="op" id="2263313">.</span><span class="ident" id="2263314">ValueOf</span><span class="op" id="2263321">(</span><span class="ident" id="2263322">arg</span><span class="op" id="2263325">)</span><span class="op" id="2263326">,</span>&nbsp;<span class="ident" id="2263328">verb</span><span class="op" id="2263332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263336">return</span>&nbsp;<span class="builtintype" id="2263343">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2263350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2263354">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263401">switch</span>&nbsp;<span class="ident" id="2263408">f</span>&nbsp;<span class="op" id="2263410">:=</span>&nbsp;<span class="ident" id="2263413">arg</span><span class="op" id="2263416">.</span><span class="op" id="2263417">(</span><span class="keyword" id="2263418">type</span><span class="op" id="2263422">)</span>&nbsp;<span class="op" id="2263424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263427">case</span>&nbsp;<span class="builtintype" id="2263432">bool</span><span class="op" id="2263436">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263440">p</span><span class="op" id="2263441">.</span><span class="ident" id="2263442">fmtBool</span><span class="op" id="2263449">(</span><span class="ident" id="2263450">f</span><span class="op" id="2263451">,</span>&nbsp;<span class="ident" id="2263453">verb</span><span class="op" id="2263457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263460">case</span>&nbsp;<span class="builtintype" id="2263465">float32</span><span class="op" id="2263472">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263476">p</span><span class="op" id="2263477">.</span><span class="ident" id="2263478">fmtFloat32</span><span class="op" id="2263488">(</span><span class="ident" id="2263489">f</span><span class="op" id="2263490">,</span>&nbsp;<span class="ident" id="2263492">verb</span><span class="op" id="2263496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263499">case</span>&nbsp;<span class="builtintype" id="2263504">float64</span><span class="op" id="2263511">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263515">p</span><span class="op" id="2263516">.</span><span class="ident" id="2263517">fmtFloat64</span><span class="op" id="2263527">(</span><span class="ident" id="2263528">f</span><span class="op" id="2263529">,</span>&nbsp;<span class="ident" id="2263531">verb</span><span class="op" id="2263535">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263538">case</span>&nbsp;<span class="builtintype" id="2263543">complex64</span><span class="op" id="2263552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263556">p</span><span class="op" id="2263557">.</span><span class="ident" id="2263558">fmtComplex64</span><span class="op" id="2263570">(</span><span class="ident" id="2263571">f</span><span class="op" id="2263572">,</span>&nbsp;<span class="ident" id="2263574">verb</span><span class="op" id="2263578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263581">case</span>&nbsp;<span class="builtintype" id="2263586">complex128</span><span class="op" id="2263596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263600">p</span><span class="op" id="2263601">.</span><span class="ident" id="2263602">fmtComplex128</span><span class="op" id="2263615">(</span><span class="ident" id="2263616">f</span><span class="op" id="2263617">,</span>&nbsp;<span class="ident" id="2263619">verb</span><span class="op" id="2263623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263626">case</span>&nbsp;<span class="builtintype" id="2263631">int</span><span class="op" id="2263634">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263638">p</span><span class="op" id="2263639">.</span><span class="ident" id="2263640">fmtInt64</span><span class="op" id="2263648">(</span><span class="ident" id="2263649">int64</span><span class="op" id="2263654">(</span><span class="ident" id="2263655">f</span><span class="op" id="2263656">)</span><span class="op" id="2263657">,</span>&nbsp;<span class="ident" id="2263659">verb</span><span class="op" id="2263663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263666">case</span>&nbsp;<span class="builtintype" id="2263671">int8</span><span class="op" id="2263675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263679">p</span><span class="op" id="2263680">.</span><span class="ident" id="2263681">fmtInt64</span><span class="op" id="2263689">(</span><span class="ident" id="2263690">int64</span><span class="op" id="2263695">(</span><span class="ident" id="2263696">f</span><span class="op" id="2263697">)</span><span class="op" id="2263698">,</span>&nbsp;<span class="ident" id="2263700">verb</span><span class="op" id="2263704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263707">case</span>&nbsp;<span class="builtintype" id="2263712">int16</span><span class="op" id="2263717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263721">p</span><span class="op" id="2263722">.</span><span class="ident" id="2263723">fmtInt64</span><span class="op" id="2263731">(</span><span class="ident" id="2263732">int64</span><span class="op" id="2263737">(</span><span class="ident" id="2263738">f</span><span class="op" id="2263739">)</span><span class="op" id="2263740">,</span>&nbsp;<span class="ident" id="2263742">verb</span><span class="op" id="2263746">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263749">case</span>&nbsp;<span class="builtintype" id="2263754">int32</span><span class="op" id="2263759">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263763">p</span><span class="op" id="2263764">.</span><span class="ident" id="2263765">fmtInt64</span><span class="op" id="2263773">(</span><span class="ident" id="2263774">int64</span><span class="op" id="2263779">(</span><span class="ident" id="2263780">f</span><span class="op" id="2263781">)</span><span class="op" id="2263782">,</span>&nbsp;<span class="ident" id="2263784">verb</span><span class="op" id="2263788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263791">case</span>&nbsp;<span class="ident" id="2263796">int64</span><span class="op" id="2263801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263805">p</span><span class="op" id="2263806">.</span><span class="ident" id="2263807">fmtInt64</span><span class="op" id="2263815">(</span><span class="ident" id="2263816">f</span><span class="op" id="2263817">,</span>&nbsp;<span class="ident" id="2263819">verb</span><span class="op" id="2263823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263826">case</span>&nbsp;<span class="builtintype" id="2263831">uint</span><span class="op" id="2263835">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263839">p</span><span class="op" id="2263840">.</span><span class="ident" id="2263841">fmtUint64</span><span class="op" id="2263850">(</span><span class="ident" id="2263851">uint64</span><span class="op" id="2263857">(</span><span class="ident" id="2263858">f</span><span class="op" id="2263859">)</span><span class="op" id="2263860">,</span>&nbsp;<span class="ident" id="2263862">verb</span><span class="op" id="2263866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263869">case</span>&nbsp;<span class="builtintype" id="2263874">uint8</span><span class="op" id="2263879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263883">p</span><span class="op" id="2263884">.</span><span class="ident" id="2263885">fmtUint64</span><span class="op" id="2263894">(</span><span class="ident" id="2263895">uint64</span><span class="op" id="2263901">(</span><span class="ident" id="2263902">f</span><span class="op" id="2263903">)</span><span class="op" id="2263904">,</span>&nbsp;<span class="ident" id="2263906">verb</span><span class="op" id="2263910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263913">case</span>&nbsp;<span class="builtintype" id="2263918">uint16</span><span class="op" id="2263924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263928">p</span><span class="op" id="2263929">.</span><span class="ident" id="2263930">fmtUint64</span><span class="op" id="2263939">(</span><span class="ident" id="2263940">uint64</span><span class="op" id="2263946">(</span><span class="ident" id="2263947">f</span><span class="op" id="2263948">)</span><span class="op" id="2263949">,</span>&nbsp;<span class="ident" id="2263951">verb</span><span class="op" id="2263955">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2263958">case</span>&nbsp;<span class="builtintype" id="2263963">uint32</span><span class="op" id="2263969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2263973">p</span><span class="op" id="2263974">.</span><span class="ident" id="2263975">fmtUint64</span><span class="op" id="2263984">(</span><span class="ident" id="2263985">uint64</span><span class="op" id="2263991">(</span><span class="ident" id="2263992">f</span><span class="op" id="2263993">)</span><span class="op" id="2263994">,</span>&nbsp;<span class="ident" id="2263996">verb</span><span class="op" id="2264000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264003">case</span>&nbsp;<span class="ident" id="2264008">uint64</span><span class="op" id="2264014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264018">p</span><span class="op" id="2264019">.</span><span class="ident" id="2264020">fmtUint64</span><span class="op" id="2264029">(</span><span class="ident" id="2264030">f</span><span class="op" id="2264031">,</span>&nbsp;<span class="ident" id="2264033">verb</span><span class="op" id="2264037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264040">case</span>&nbsp;<span class="builtintype" id="2264045">uintptr</span><span class="op" id="2264052">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264056">p</span><span class="op" id="2264057">.</span><span class="ident" id="2264058">fmtUint64</span><span class="op" id="2264067">(</span><span class="ident" id="2264068">uint64</span><span class="op" id="2264074">(</span><span class="ident" id="2264075">f</span><span class="op" id="2264076">)</span><span class="op" id="2264077">,</span>&nbsp;<span class="ident" id="2264079">verb</span><span class="op" id="2264083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264086">case</span>&nbsp;<span class="builtintype" id="2264091">string</span><span class="op" id="2264097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264101">p</span><span class="op" id="2264102">.</span><span class="ident" id="2264103">fmtString</span><span class="op" id="2264112">(</span><span class="ident" id="2264113">f</span><span class="op" id="2264114">,</span>&nbsp;<span class="ident" id="2264116">verb</span><span class="op" id="2264120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264124">wasString</span>&nbsp;<span class="op" id="2264134">=</span>&nbsp;<span class="ident" id="2264136">verb</span>&nbsp;<span class="op" id="2264141">==</span>&nbsp;<span class="string" id="2264144">&#39;s&#39;</span>&nbsp;<span class="op" id="2264148">||</span>&nbsp;<span class="ident" id="2264151">verb</span>&nbsp;<span class="op" id="2264156">==</span>&nbsp;<span class="string" id="2264159">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264164">case</span>&nbsp;<span class="op" id="2264169">[</span><span class="op" id="2264170">]</span><span class="builtintype" id="2264171">byte</span><span class="op" id="2264175">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264179">p</span><span class="op" id="2264180">.</span><span class="ident" id="2264181">fmtBytes</span><span class="op" id="2264189">(</span><span class="ident" id="2264190">f</span><span class="op" id="2264191">,</span>&nbsp;<span class="ident" id="2264193">verb</span><span class="op" id="2264197">,</span>&nbsp;<span class="ident" id="2264199">nil</span><span class="op" id="2264202">,</span>&nbsp;<span class="ident" id="2264204">depth</span><span class="op" id="2264209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264213">wasString</span>&nbsp;<span class="op" id="2264223">=</span>&nbsp;<span class="ident" id="2264225">verb</span>&nbsp;<span class="op" id="2264230">==</span>&nbsp;<span class="string" id="2264233">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264238">default</span><span class="op" id="2264245">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2264249">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264304">if</span>&nbsp;<span class="ident" id="2264307">handled</span>&nbsp;<span class="op" id="2264315">:=</span>&nbsp;<span class="ident" id="2264318">p</span><span class="op" id="2264319">.</span><span class="ident" id="2264320">handleMethods</span><span class="op" id="2264333">(</span><span class="ident" id="2264334">verb</span><span class="op" id="2264338">,</span>&nbsp;<span class="ident" id="2264340">depth</span><span class="op" id="2264345">)</span><span class="op" id="2264346">;</span>&nbsp;<span class="ident" id="2264348">handled</span>&nbsp;<span class="op" id="2264356">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264361">return</span>&nbsp;<span class="builtintype" id="2264368">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2264376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2264380">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264408">return</span>&nbsp;<span class="ident" id="2264415">p</span><span class="op" id="2264416">.</span><span class="ident" id="2264417">printReflectValue</span><span class="op" id="2264434">(</span><span class="ident" id="2264435">reflect</span><span class="op" id="2264442">.</span><span class="ident" id="2264443">ValueOf</span><span class="op" id="2264450">(</span><span class="ident" id="2264451">arg</span><span class="op" id="2264454">)</span><span class="op" id="2264455">,</span>&nbsp;<span class="ident" id="2264457">verb</span><span class="op" id="2264461">,</span>&nbsp;<span class="ident" id="2264463">depth</span><span class="op" id="2264468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2264471">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264474">p</span><span class="op" id="2264475">.</span><span class="ident" id="2264476">arg</span>&nbsp;<span class="op" id="2264480">=</span>&nbsp;<span class="ident" id="2264482">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264487">return</span><br>
<span class="lineno"></span><span class="op" id="2264494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2264497">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2264587">func</span>&nbsp;<span class="op" id="2264592">(</span><span class="ident" id="2264593">p</span>&nbsp;<span class="op" id="2264595">*</span><span class="ident" id="2264596">pp</span><span class="op" id="2264598">)</span>&nbsp;<span class="ident" id="2264600">printValue</span><span class="op" id="2264610">(</span><span class="ident" id="2264611">value</span>&nbsp;<span class="ident" id="2264617">reflect</span><span class="op" id="2264624">.</span><span class="ident" id="2264625">Value</span><span class="op" id="2264630">,</span>&nbsp;<span class="ident" id="2264632">verb</span>&nbsp;<span class="builtintype" id="2264637">rune</span><span class="op" id="2264641">,</span>&nbsp;<span class="ident" id="2264643">depth</span>&nbsp;<span class="builtintype" id="2264649">int</span><span class="op" id="2264652">)</span>&nbsp;<span class="op" id="2264654">(</span><span class="ident" id="2264655">wasString</span>&nbsp;<span class="builtintype" id="2264665">bool</span><span class="op" id="2264669">)</span>&nbsp;<span class="op" id="2264671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264674">if</span>&nbsp;<span class="op" id="2264677">!</span><span class="ident" id="2264678">value</span><span class="op" id="2264683">.</span><span class="ident" id="2264684">IsValid</span><span class="op" id="2264691">(</span><span class="op" id="2264692">)</span>&nbsp;<span class="op" id="2264694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264698">if</span>&nbsp;<span class="ident" id="2264701">verb</span>&nbsp;<span class="op" id="2264706">==</span>&nbsp;<span class="string" id="2264709">&#39;T&#39;</span>&nbsp;<span class="op" id="2264713">||</span>&nbsp;<span class="ident" id="2264716">verb</span>&nbsp;<span class="op" id="2264721">==</span>&nbsp;<span class="string" id="2264724">&#39;v&#39;</span>&nbsp;<span class="op" id="2264728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264733">p</span><span class="op" id="2264734">.</span><span class="ident" id="2264735">buf</span><span class="op" id="2264738">.</span><span class="ident" id="2264739">Write</span><span class="op" id="2264744">(</span><span class="ident" id="2264745">nilAngleBytes</span><span class="op" id="2264758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2264762">}</span>&nbsp;<span class="keyword" id="2264764">else</span>&nbsp;<span class="op" id="2264769">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264774">p</span><span class="op" id="2264775">.</span><span class="ident" id="2264776">badVerb</span><span class="op" id="2264783">(</span><span class="ident" id="2264784">verb</span><span class="op" id="2264788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2264792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264796">return</span>&nbsp;<span class="builtintype" id="2264803">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2264810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2264814">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2264853">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264938">switch</span>&nbsp;<span class="ident" id="2264945">verb</span>&nbsp;<span class="op" id="2264950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2264953">case</span>&nbsp;<span class="string" id="2264958">&#39;T&#39;</span><span class="op" id="2264961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2264965">p</span><span class="op" id="2264966">.</span><span class="ident" id="2264967">printArg</span><span class="op" id="2264975">(</span><span class="ident" id="2264976">value</span><span class="op" id="2264981">.</span><span class="ident" id="2264982">Type</span><span class="op" id="2264986">(</span><span class="op" id="2264987">)</span><span class="op" id="2264988">.</span><span class="ident" id="2264989">String</span><span class="op" id="2264995">(</span><span class="op" id="2264996">)</span><span class="op" id="2264997">,</span>&nbsp;<span class="string" id="2264999">&#39;s&#39;</span><span class="op" id="2265002">,</span>&nbsp;<span class="num" id="2265004">0</span><span class="op" id="2265005">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265009">return</span>&nbsp;<span class="builtintype" id="2265016">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265023">case</span>&nbsp;<span class="string" id="2265028">&#39;p&#39;</span><span class="op" id="2265031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265035">p</span><span class="op" id="2265036">.</span><span class="ident" id="2265037">fmtPointer</span><span class="op" id="2265047">(</span><span class="ident" id="2265048">value</span><span class="op" id="2265053">,</span>&nbsp;<span class="ident" id="2265055">verb</span><span class="op" id="2265059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265063">return</span>&nbsp;<span class="builtintype" id="2265070">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2265077">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2265081">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2265121">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265208">p</span><span class="op" id="2265209">.</span><span class="ident" id="2265210">arg</span>&nbsp;<span class="op" id="2265214">=</span>&nbsp;<span class="ident" id="2265216">nil</span>&nbsp;<span class="comment" id="2265220">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265260">if</span>&nbsp;<span class="ident" id="2265263">value</span><span class="op" id="2265268">.</span><span class="ident" id="2265269">CanInterface</span><span class="op" id="2265281">(</span><span class="op" id="2265282">)</span>&nbsp;<span class="op" id="2265284">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265288">p</span><span class="op" id="2265289">.</span><span class="ident" id="2265290">arg</span>&nbsp;<span class="op" id="2265294">=</span>&nbsp;<span class="ident" id="2265296">value</span><span class="op" id="2265301">.</span><span class="ident" id="2265302">Interface</span><span class="op" id="2265311">(</span><span class="op" id="2265312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2265315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265318">if</span>&nbsp;<span class="ident" id="2265321">handled</span>&nbsp;<span class="op" id="2265329">:=</span>&nbsp;<span class="ident" id="2265332">p</span><span class="op" id="2265333">.</span><span class="ident" id="2265334">handleMethods</span><span class="op" id="2265347">(</span><span class="ident" id="2265348">verb</span><span class="op" id="2265352">,</span>&nbsp;<span class="ident" id="2265354">depth</span><span class="op" id="2265359">)</span><span class="op" id="2265360">;</span>&nbsp;<span class="ident" id="2265362">handled</span>&nbsp;<span class="op" id="2265370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265374">return</span>&nbsp;<span class="builtintype" id="2265381">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2265388">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265392">return</span>&nbsp;<span class="ident" id="2265399">p</span><span class="op" id="2265400">.</span><span class="ident" id="2265401">printReflectValue</span><span class="op" id="2265418">(</span><span class="ident" id="2265419">value</span><span class="op" id="2265424">,</span>&nbsp;<span class="ident" id="2265426">verb</span><span class="op" id="2265430">,</span>&nbsp;<span class="ident" id="2265432">depth</span><span class="op" id="2265437">)</span><br>
<span class="lineno"></span><span class="op" id="2265439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2265442">var</span>&nbsp;<span class="ident" id="2265446">byteType</span>&nbsp;<span class="op" id="2265455">=</span>&nbsp;<span class="ident" id="2265457">reflect</span><span class="op" id="2265464">.</span><span class="ident" id="2265465">TypeOf</span><span class="op" id="2265471">(</span><span class="builtintype" id="2265472">byte</span><span class="op" id="2265476">(</span><span class="num" id="2265477">0</span><span class="op" id="2265478">)</span><span class="op" id="2265479">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2265482">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2265553">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2265592">func</span>&nbsp;<span class="op" id="2265597">(</span><span class="ident" id="2265598">p</span>&nbsp;<span class="op" id="2265600">*</span><span class="ident" id="2265601">pp</span><span class="op" id="2265603">)</span>&nbsp;<span class="ident" id="2265605">printReflectValue</span><span class="op" id="2265622">(</span><span class="ident" id="2265623">value</span>&nbsp;<span class="ident" id="2265629">reflect</span><span class="op" id="2265636">.</span><span class="ident" id="2265637">Value</span><span class="op" id="2265642">,</span>&nbsp;<span class="ident" id="2265644">verb</span>&nbsp;<span class="builtintype" id="2265649">rune</span><span class="op" id="2265653">,</span>&nbsp;<span class="ident" id="2265655">depth</span>&nbsp;<span class="builtintype" id="2265661">int</span><span class="op" id="2265664">)</span>&nbsp;<span class="op" id="2265666">(</span><span class="ident" id="2265667">wasString</span>&nbsp;<span class="builtintype" id="2265677">bool</span><span class="op" id="2265681">)</span>&nbsp;<span class="op" id="2265683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265686">oldValue</span>&nbsp;<span class="op" id="2265695">:=</span>&nbsp;<span class="ident" id="2265698">p</span><span class="op" id="2265699">.</span><span class="ident" id="2265700">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265707">p</span><span class="op" id="2265708">.</span><span class="ident" id="2265709">value</span>&nbsp;<span class="op" id="2265715">=</span>&nbsp;<span class="ident" id="2265717">value</span><br>
<span class="lineno"></span><span class="ident" id="2265723">BigSwitch</span><span class="op" id="2265732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265735">switch</span>&nbsp;<span class="ident" id="2265742">f</span>&nbsp;<span class="op" id="2265744">:=</span>&nbsp;<span class="ident" id="2265747">value</span><span class="op" id="2265752">;</span>&nbsp;<span class="ident" id="2265754">f</span><span class="op" id="2265755">.</span><span class="ident" id="2265756">Kind</span><span class="op" id="2265760">(</span><span class="op" id="2265761">)</span>&nbsp;<span class="op" id="2265763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265766">case</span>&nbsp;<span class="ident" id="2265771">reflect</span><span class="op" id="2265778">.</span><span class="ident" id="2265779">Bool</span><span class="op" id="2265783">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265787">p</span><span class="op" id="2265788">.</span><span class="ident" id="2265789">fmtBool</span><span class="op" id="2265796">(</span><span class="ident" id="2265797">f</span><span class="op" id="2265798">.</span><span class="ident" id="2265799">Bool</span><span class="op" id="2265803">(</span><span class="op" id="2265804">)</span><span class="op" id="2265805">,</span>&nbsp;<span class="ident" id="2265807">verb</span><span class="op" id="2265811">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265814">case</span>&nbsp;<span class="ident" id="2265819">reflect</span><span class="op" id="2265826">.</span><span class="ident" id="2265827">Int</span><span class="op" id="2265830">,</span>&nbsp;<span class="ident" id="2265832">reflect</span><span class="op" id="2265839">.</span><span class="ident" id="2265840">Int8</span><span class="op" id="2265844">,</span>&nbsp;<span class="ident" id="2265846">reflect</span><span class="op" id="2265853">.</span><span class="ident" id="2265854">Int16</span><span class="op" id="2265859">,</span>&nbsp;<span class="ident" id="2265861">reflect</span><span class="op" id="2265868">.</span><span class="ident" id="2265869">Int32</span><span class="op" id="2265874">,</span>&nbsp;<span class="ident" id="2265876">reflect</span><span class="op" id="2265883">.</span><span class="ident" id="2265884">Int64</span><span class="op" id="2265889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2265893">p</span><span class="op" id="2265894">.</span><span class="ident" id="2265895">fmtInt64</span><span class="op" id="2265903">(</span><span class="ident" id="2265904">f</span><span class="op" id="2265905">.</span><span class="ident" id="2265906">Int</span><span class="op" id="2265909">(</span><span class="op" id="2265910">)</span><span class="op" id="2265911">,</span>&nbsp;<span class="ident" id="2265913">verb</span><span class="op" id="2265917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2265920">case</span>&nbsp;<span class="ident" id="2265925">reflect</span><span class="op" id="2265932">.</span><span class="ident" id="2265933">Uint</span><span class="op" id="2265937">,</span>&nbsp;<span class="ident" id="2265939">reflect</span><span class="op" id="2265946">.</span><span class="ident" id="2265947">Uint8</span><span class="op" id="2265952">,</span>&nbsp;<span class="ident" id="2265954">reflect</span><span class="op" id="2265961">.</span><span class="ident" id="2265962">Uint16</span><span class="op" id="2265968">,</span>&nbsp;<span class="ident" id="2265970">reflect</span><span class="op" id="2265977">.</span><span class="ident" id="2265978">Uint32</span><span class="op" id="2265984">,</span>&nbsp;<span class="ident" id="2265986">reflect</span><span class="op" id="2265993">.</span><span class="ident" id="2265994">Uint64</span><span class="op" id="2266000">,</span>&nbsp;<span class="ident" id="2266002">reflect</span><span class="op" id="2266009">.</span><span class="ident" id="2266010">Uintptr</span><span class="op" id="2266017">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266021">p</span><span class="op" id="2266022">.</span><span class="ident" id="2266023">fmtUint64</span><span class="op" id="2266032">(</span><span class="ident" id="2266033">f</span><span class="op" id="2266034">.</span><span class="ident" id="2266035">Uint</span><span class="op" id="2266039">(</span><span class="op" id="2266040">)</span><span class="op" id="2266041">,</span>&nbsp;<span class="ident" id="2266043">verb</span><span class="op" id="2266047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266050">case</span>&nbsp;<span class="ident" id="2266055">reflect</span><span class="op" id="2266062">.</span><span class="ident" id="2266063">Float32</span><span class="op" id="2266070">,</span>&nbsp;<span class="ident" id="2266072">reflect</span><span class="op" id="2266079">.</span><span class="ident" id="2266080">Float64</span><span class="op" id="2266087">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266091">if</span>&nbsp;<span class="ident" id="2266094">f</span><span class="op" id="2266095">.</span><span class="ident" id="2266096">Type</span><span class="op" id="2266100">(</span><span class="op" id="2266101">)</span><span class="op" id="2266102">.</span><span class="ident" id="2266103">Size</span><span class="op" id="2266107">(</span><span class="op" id="2266108">)</span>&nbsp;<span class="op" id="2266110">==</span>&nbsp;<span class="num" id="2266113">4</span>&nbsp;<span class="op" id="2266115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266120">p</span><span class="op" id="2266121">.</span><span class="ident" id="2266122">fmtFloat32</span><span class="op" id="2266132">(</span><span class="builtintype" id="2266133">float32</span><span class="op" id="2266140">(</span><span class="ident" id="2266141">f</span><span class="op" id="2266142">.</span><span class="ident" id="2266143">Float</span><span class="op" id="2266148">(</span><span class="op" id="2266149">)</span><span class="op" id="2266150">)</span><span class="op" id="2266151">,</span>&nbsp;<span class="ident" id="2266153">verb</span><span class="op" id="2266157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266161">}</span>&nbsp;<span class="keyword" id="2266163">else</span>&nbsp;<span class="op" id="2266168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266173">p</span><span class="op" id="2266174">.</span><span class="ident" id="2266175">fmtFloat64</span><span class="op" id="2266185">(</span><span class="ident" id="2266186">f</span><span class="op" id="2266187">.</span><span class="ident" id="2266188">Float</span><span class="op" id="2266193">(</span><span class="op" id="2266194">)</span><span class="op" id="2266195">,</span>&nbsp;<span class="ident" id="2266197">verb</span><span class="op" id="2266201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266205">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266208">case</span>&nbsp;<span class="ident" id="2266213">reflect</span><span class="op" id="2266220">.</span><span class="ident" id="2266221">Complex64</span><span class="op" id="2266230">,</span>&nbsp;<span class="ident" id="2266232">reflect</span><span class="op" id="2266239">.</span><span class="ident" id="2266240">Complex128</span><span class="op" id="2266250">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266254">if</span>&nbsp;<span class="ident" id="2266257">f</span><span class="op" id="2266258">.</span><span class="ident" id="2266259">Type</span><span class="op" id="2266263">(</span><span class="op" id="2266264">)</span><span class="op" id="2266265">.</span><span class="ident" id="2266266">Size</span><span class="op" id="2266270">(</span><span class="op" id="2266271">)</span>&nbsp;<span class="op" id="2266273">==</span>&nbsp;<span class="num" id="2266276">8</span>&nbsp;<span class="op" id="2266278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266283">p</span><span class="op" id="2266284">.</span><span class="ident" id="2266285">fmtComplex64</span><span class="op" id="2266297">(</span><span class="builtintype" id="2266298">complex64</span><span class="op" id="2266307">(</span><span class="ident" id="2266308">f</span><span class="op" id="2266309">.</span><span class="ident" id="2266310">Complex</span><span class="op" id="2266317">(</span><span class="op" id="2266318">)</span><span class="op" id="2266319">)</span><span class="op" id="2266320">,</span>&nbsp;<span class="ident" id="2266322">verb</span><span class="op" id="2266326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266330">}</span>&nbsp;<span class="keyword" id="2266332">else</span>&nbsp;<span class="op" id="2266337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266342">p</span><span class="op" id="2266343">.</span><span class="ident" id="2266344">fmtComplex128</span><span class="op" id="2266357">(</span><span class="ident" id="2266358">f</span><span class="op" id="2266359">.</span><span class="ident" id="2266360">Complex</span><span class="op" id="2266367">(</span><span class="op" id="2266368">)</span><span class="op" id="2266369">,</span>&nbsp;<span class="ident" id="2266371">verb</span><span class="op" id="2266375">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266382">case</span>&nbsp;<span class="ident" id="2266387">reflect</span><span class="op" id="2266394">.</span><span class="ident" id="2266395">String</span><span class="op" id="2266401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266405">p</span><span class="op" id="2266406">.</span><span class="ident" id="2266407">fmtString</span><span class="op" id="2266416">(</span><span class="ident" id="2266417">f</span><span class="op" id="2266418">.</span><span class="ident" id="2266419">String</span><span class="op" id="2266425">(</span><span class="op" id="2266426">)</span><span class="op" id="2266427">,</span>&nbsp;<span class="ident" id="2266429">verb</span><span class="op" id="2266433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266436">case</span>&nbsp;<span class="ident" id="2266441">reflect</span><span class="op" id="2266448">.</span><span class="ident" id="2266449">Map</span><span class="op" id="2266452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266456">if</span>&nbsp;<span class="ident" id="2266459">p</span><span class="op" id="2266460">.</span><span class="ident" id="2266461">fmt</span><span class="op" id="2266464">.</span><span class="ident" id="2266465">sharpV</span>&nbsp;<span class="op" id="2266472">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266477">p</span><span class="op" id="2266478">.</span><span class="ident" id="2266479">buf</span><span class="op" id="2266482">.</span><span class="ident" id="2266483">WriteString</span><span class="op" id="2266494">(</span><span class="ident" id="2266495">f</span><span class="op" id="2266496">.</span><span class="ident" id="2266497">Type</span><span class="op" id="2266501">(</span><span class="op" id="2266502">)</span><span class="op" id="2266503">.</span><span class="ident" id="2266504">String</span><span class="op" id="2266510">(</span><span class="op" id="2266511">)</span><span class="op" id="2266512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266517">if</span>&nbsp;<span class="ident" id="2266520">f</span><span class="op" id="2266521">.</span><span class="ident" id="2266522">IsNil</span><span class="op" id="2266527">(</span><span class="op" id="2266528">)</span>&nbsp;<span class="op" id="2266530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266536">p</span><span class="op" id="2266537">.</span><span class="ident" id="2266538">buf</span><span class="op" id="2266541">.</span><span class="ident" id="2266542">WriteString</span><span class="op" id="2266553">(</span><span class="string" id="2266554">&#34;(nil)&#34;</span><span class="op" id="2266561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266567">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266576">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266581">p</span><span class="op" id="2266582">.</span><span class="ident" id="2266583">buf</span><span class="op" id="2266586">.</span><span class="ident" id="2266587">WriteByte</span><span class="op" id="2266596">(</span><span class="string" id="2266597">&#39;{&#39;</span><span class="op" id="2266600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266604">}</span>&nbsp;<span class="keyword" id="2266606">else</span>&nbsp;<span class="op" id="2266611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266616">p</span><span class="op" id="2266617">.</span><span class="ident" id="2266618">buf</span><span class="op" id="2266621">.</span><span class="ident" id="2266622">Write</span><span class="op" id="2266627">(</span><span class="ident" id="2266628">mapBytes</span><span class="op" id="2266636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266644">keys</span>&nbsp;<span class="op" id="2266649">:=</span>&nbsp;<span class="ident" id="2266652">f</span><span class="op" id="2266653">.</span><span class="ident" id="2266654">MapKeys</span><span class="op" id="2266661">(</span><span class="op" id="2266662">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266666">for</span>&nbsp;<span class="ident" id="2266670">i</span><span class="op" id="2266671">,</span>&nbsp;<span class="ident" id="2266673">key</span>&nbsp;<span class="op" id="2266677">:=</span>&nbsp;<span class="keyword" id="2266680">range</span>&nbsp;<span class="ident" id="2266686">keys</span>&nbsp;<span class="op" id="2266691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266696">if</span>&nbsp;<span class="ident" id="2266699">i</span>&nbsp;<span class="op" id="2266701">&gt;</span>&nbsp;<span class="num" id="2266703">0</span>&nbsp;<span class="op" id="2266705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266711">if</span>&nbsp;<span class="ident" id="2266714">p</span><span class="op" id="2266715">.</span><span class="ident" id="2266716">fmt</span><span class="op" id="2266719">.</span><span class="ident" id="2266720">sharpV</span>&nbsp;<span class="op" id="2266727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266734">p</span><span class="op" id="2266735">.</span><span class="ident" id="2266736">buf</span><span class="op" id="2266739">.</span><span class="ident" id="2266740">Write</span><span class="op" id="2266745">(</span><span class="ident" id="2266746">commaSpaceBytes</span><span class="op" id="2266761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266767">}</span>&nbsp;<span class="keyword" id="2266769">else</span>&nbsp;<span class="op" id="2266774">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266781">p</span><span class="op" id="2266782">.</span><span class="ident" id="2266783">buf</span><span class="op" id="2266786">.</span><span class="ident" id="2266787">WriteByte</span><span class="op" id="2266796">(</span><span class="string" id="2266797">&#39;&nbsp;&#39;</span><span class="op" id="2266800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266816">p</span><span class="op" id="2266817">.</span><span class="ident" id="2266818">printValue</span><span class="op" id="2266828">(</span><span class="ident" id="2266829">key</span><span class="op" id="2266832">,</span>&nbsp;<span class="ident" id="2266834">verb</span><span class="op" id="2266838">,</span>&nbsp;<span class="ident" id="2266840">depth</span><span class="op" id="2266845">+</span><span class="num" id="2266846">1</span><span class="op" id="2266847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266852">p</span><span class="op" id="2266853">.</span><span class="ident" id="2266854">buf</span><span class="op" id="2266857">.</span><span class="ident" id="2266858">WriteByte</span><span class="op" id="2266867">(</span><span class="string" id="2266868">&#39;:&#39;</span><span class="op" id="2266871">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266876">p</span><span class="op" id="2266877">.</span><span class="ident" id="2266878">printValue</span><span class="op" id="2266888">(</span><span class="ident" id="2266889">f</span><span class="op" id="2266890">.</span><span class="ident" id="2266891">MapIndex</span><span class="op" id="2266899">(</span><span class="ident" id="2266900">key</span><span class="op" id="2266903">)</span><span class="op" id="2266904">,</span>&nbsp;<span class="ident" id="2266906">verb</span><span class="op" id="2266910">,</span>&nbsp;<span class="ident" id="2266912">depth</span><span class="op" id="2266917">+</span><span class="num" id="2266918">1</span><span class="op" id="2266919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2266927">if</span>&nbsp;<span class="ident" id="2266930">p</span><span class="op" id="2266931">.</span><span class="ident" id="2266932">fmt</span><span class="op" id="2266935">.</span><span class="ident" id="2266936">sharpV</span>&nbsp;<span class="op" id="2266943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266948">p</span><span class="op" id="2266949">.</span><span class="ident" id="2266950">buf</span><span class="op" id="2266953">.</span><span class="ident" id="2266954">WriteByte</span><span class="op" id="2266963">(</span><span class="string" id="2266964">&#39;}&#39;</span><span class="op" id="2266967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2266971">}</span>&nbsp;<span class="keyword" id="2266973">else</span>&nbsp;<span class="op" id="2266978">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2266983">p</span><span class="op" id="2266984">.</span><span class="ident" id="2266985">buf</span><span class="op" id="2266988">.</span><span class="ident" id="2266989">WriteByte</span><span class="op" id="2266998">(</span><span class="string" id="2266999">&#39;]&#39;</span><span class="op" id="2267002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267009">case</span>&nbsp;<span class="ident" id="2267014">reflect</span><span class="op" id="2267021">.</span><span class="ident" id="2267022">Struct</span><span class="op" id="2267028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267032">if</span>&nbsp;<span class="ident" id="2267035">p</span><span class="op" id="2267036">.</span><span class="ident" id="2267037">fmt</span><span class="op" id="2267040">.</span><span class="ident" id="2267041">sharpV</span>&nbsp;<span class="op" id="2267048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267053">p</span><span class="op" id="2267054">.</span><span class="ident" id="2267055">buf</span><span class="op" id="2267058">.</span><span class="ident" id="2267059">WriteString</span><span class="op" id="2267070">(</span><span class="ident" id="2267071">value</span><span class="op" id="2267076">.</span><span class="ident" id="2267077">Type</span><span class="op" id="2267081">(</span><span class="op" id="2267082">)</span><span class="op" id="2267083">.</span><span class="ident" id="2267084">String</span><span class="op" id="2267090">(</span><span class="op" id="2267091">)</span><span class="op" id="2267092">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267100">p</span><span class="op" id="2267101">.</span><span class="ident" id="2267102">add</span><span class="op" id="2267105">(</span><span class="string" id="2267106">&#39;{&#39;</span><span class="op" id="2267109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267113">v</span>&nbsp;<span class="op" id="2267115">:=</span>&nbsp;<span class="ident" id="2267118">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267122">t</span>&nbsp;<span class="op" id="2267124">:=</span>&nbsp;<span class="ident" id="2267127">v</span><span class="op" id="2267128">.</span><span class="ident" id="2267129">Type</span><span class="op" id="2267133">(</span><span class="op" id="2267134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267138">for</span>&nbsp;<span class="ident" id="2267142">i</span>&nbsp;<span class="op" id="2267144">:=</span>&nbsp;<span class="num" id="2267147">0</span><span class="op" id="2267148">;</span>&nbsp;<span class="ident" id="2267150">i</span>&nbsp;<span class="op" id="2267152">&lt;</span>&nbsp;<span class="ident" id="2267154">v</span><span class="op" id="2267155">.</span><span class="ident" id="2267156">NumField</span><span class="op" id="2267164">(</span><span class="op" id="2267165">)</span><span class="op" id="2267166">;</span>&nbsp;<span class="ident" id="2267168">i</span><span class="op" id="2267169">++</span>&nbsp;<span class="op" id="2267172">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267177">if</span>&nbsp;<span class="ident" id="2267180">i</span>&nbsp;<span class="op" id="2267182">&gt;</span>&nbsp;<span class="num" id="2267184">0</span>&nbsp;<span class="op" id="2267186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267192">if</span>&nbsp;<span class="ident" id="2267195">p</span><span class="op" id="2267196">.</span><span class="ident" id="2267197">fmt</span><span class="op" id="2267200">.</span><span class="ident" id="2267201">sharpV</span>&nbsp;<span class="op" id="2267208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267215">p</span><span class="op" id="2267216">.</span><span class="ident" id="2267217">buf</span><span class="op" id="2267220">.</span><span class="ident" id="2267221">Write</span><span class="op" id="2267226">(</span><span class="ident" id="2267227">commaSpaceBytes</span><span class="op" id="2267242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267248">}</span>&nbsp;<span class="keyword" id="2267250">else</span>&nbsp;<span class="op" id="2267255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267262">p</span><span class="op" id="2267263">.</span><span class="ident" id="2267264">buf</span><span class="op" id="2267267">.</span><span class="ident" id="2267268">WriteByte</span><span class="op" id="2267277">(</span><span class="string" id="2267278">&#39;&nbsp;&#39;</span><span class="op" id="2267281">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267297">if</span>&nbsp;<span class="ident" id="2267300">p</span><span class="op" id="2267301">.</span><span class="ident" id="2267302">fmt</span><span class="op" id="2267305">.</span><span class="ident" id="2267306">plusV</span>&nbsp;<span class="op" id="2267312">||</span>&nbsp;<span class="ident" id="2267315">p</span><span class="op" id="2267316">.</span><span class="ident" id="2267317">fmt</span><span class="op" id="2267320">.</span><span class="ident" id="2267321">sharpV</span>&nbsp;<span class="op" id="2267328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267334">if</span>&nbsp;<span class="ident" id="2267337">f</span>&nbsp;<span class="op" id="2267339">:=</span>&nbsp;<span class="ident" id="2267342">t</span><span class="op" id="2267343">.</span><span class="ident" id="2267344">Field</span><span class="op" id="2267349">(</span><span class="ident" id="2267350">i</span><span class="op" id="2267351">)</span><span class="op" id="2267352">;</span>&nbsp;<span class="ident" id="2267354">f</span><span class="op" id="2267355">.</span><span class="ident" id="2267356">Name</span>&nbsp;<span class="op" id="2267361">!=</span>&nbsp;<span class="string" id="2267364">&#34;&#34;</span>&nbsp;<span class="op" id="2267367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267374">p</span><span class="op" id="2267375">.</span><span class="ident" id="2267376">buf</span><span class="op" id="2267379">.</span><span class="ident" id="2267380">WriteString</span><span class="op" id="2267391">(</span><span class="ident" id="2267392">f</span><span class="op" id="2267393">.</span><span class="ident" id="2267394">Name</span><span class="op" id="2267398">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267405">p</span><span class="op" id="2267406">.</span><span class="ident" id="2267407">buf</span><span class="op" id="2267410">.</span><span class="ident" id="2267411">WriteByte</span><span class="op" id="2267420">(</span><span class="string" id="2267421">&#39;:&#39;</span><span class="op" id="2267424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267440">p</span><span class="op" id="2267441">.</span><span class="ident" id="2267442">printValue</span><span class="op" id="2267452">(</span><span class="ident" id="2267453">getField</span><span class="op" id="2267461">(</span><span class="ident" id="2267462">v</span><span class="op" id="2267463">,</span>&nbsp;<span class="ident" id="2267465">i</span><span class="op" id="2267466">)</span><span class="op" id="2267467">,</span>&nbsp;<span class="ident" id="2267469">verb</span><span class="op" id="2267473">,</span>&nbsp;<span class="ident" id="2267475">depth</span><span class="op" id="2267480">+</span><span class="num" id="2267481">1</span><span class="op" id="2267482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267486">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267490">p</span><span class="op" id="2267491">.</span><span class="ident" id="2267492">buf</span><span class="op" id="2267495">.</span><span class="ident" id="2267496">WriteByte</span><span class="op" id="2267505">(</span><span class="string" id="2267506">&#39;}&#39;</span><span class="op" id="2267509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267512">case</span>&nbsp;<span class="ident" id="2267517">reflect</span><span class="op" id="2267524">.</span><span class="ident" id="2267525">Interface</span><span class="op" id="2267534">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267538">value</span>&nbsp;<span class="op" id="2267544">:=</span>&nbsp;<span class="ident" id="2267547">f</span><span class="op" id="2267548">.</span><span class="ident" id="2267549">Elem</span><span class="op" id="2267553">(</span><span class="op" id="2267554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267558">if</span>&nbsp;<span class="op" id="2267561">!</span><span class="ident" id="2267562">value</span><span class="op" id="2267567">.</span><span class="ident" id="2267568">IsValid</span><span class="op" id="2267575">(</span><span class="op" id="2267576">)</span>&nbsp;<span class="op" id="2267578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267583">if</span>&nbsp;<span class="ident" id="2267586">p</span><span class="op" id="2267587">.</span><span class="ident" id="2267588">fmt</span><span class="op" id="2267591">.</span><span class="ident" id="2267592">sharpV</span>&nbsp;<span class="op" id="2267599">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267605">p</span><span class="op" id="2267606">.</span><span class="ident" id="2267607">buf</span><span class="op" id="2267610">.</span><span class="ident" id="2267611">WriteString</span><span class="op" id="2267622">(</span><span class="ident" id="2267623">f</span><span class="op" id="2267624">.</span><span class="ident" id="2267625">Type</span><span class="op" id="2267629">(</span><span class="op" id="2267630">)</span><span class="op" id="2267631">.</span><span class="ident" id="2267632">String</span><span class="op" id="2267638">(</span><span class="op" id="2267639">)</span><span class="op" id="2267640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267646">p</span><span class="op" id="2267647">.</span><span class="ident" id="2267648">buf</span><span class="op" id="2267651">.</span><span class="ident" id="2267652">Write</span><span class="op" id="2267657">(</span><span class="ident" id="2267658">nilParenBytes</span><span class="op" id="2267671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267676">}</span>&nbsp;<span class="keyword" id="2267678">else</span>&nbsp;<span class="op" id="2267683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267689">p</span><span class="op" id="2267690">.</span><span class="ident" id="2267691">buf</span><span class="op" id="2267694">.</span><span class="ident" id="2267695">Write</span><span class="op" id="2267700">(</span><span class="ident" id="2267701">nilAngleBytes</span><span class="op" id="2267714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267719">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267723">}</span>&nbsp;<span class="keyword" id="2267725">else</span>&nbsp;<span class="op" id="2267730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2267735">wasString</span>&nbsp;<span class="op" id="2267745">=</span>&nbsp;<span class="ident" id="2267747">p</span><span class="op" id="2267748">.</span><span class="ident" id="2267749">printValue</span><span class="op" id="2267759">(</span><span class="ident" id="2267760">value</span><span class="op" id="2267765">,</span>&nbsp;<span class="ident" id="2267767">verb</span><span class="op" id="2267771">,</span>&nbsp;<span class="ident" id="2267773">depth</span><span class="op" id="2267778">+</span><span class="num" id="2267779">1</span><span class="op" id="2267780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2267784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2267787">case</span>&nbsp;<span class="ident" id="2267792">reflect</span><span class="op" id="2267799">.</span><span class="ident" id="2267800">Array</span><span class="op" id="2267805">,</span>&nbsp;<span class="ident" id="2267807">reflect</span><span class="op" id="2267814">.</span><span class="ident" id="2267815">Slice</span><span class="op" id="2267820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2267824">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2267854">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2267903">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2267971">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2268034">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268095">if</span>&nbsp;<span class="ident" id="2268098">typ</span>&nbsp;<span class="op" id="2268102">:=</span>&nbsp;<span class="ident" id="2268105">f</span><span class="op" id="2268106">.</span><span class="ident" id="2268107">Type</span><span class="op" id="2268111">(</span><span class="op" id="2268112">)</span><span class="op" id="2268113">;</span>&nbsp;<span class="ident" id="2268115">typ</span><span class="op" id="2268118">.</span><span class="ident" id="2268119">Elem</span><span class="op" id="2268123">(</span><span class="op" id="2268124">)</span><span class="op" id="2268125">.</span><span class="ident" id="2268126">Kind</span><span class="op" id="2268130">(</span><span class="op" id="2268131">)</span>&nbsp;<span class="op" id="2268133">==</span>&nbsp;<span class="ident" id="2268136">reflect</span><span class="op" id="2268143">.</span><span class="ident" id="2268144">Uint8</span>&nbsp;<span class="op" id="2268150">&amp;&amp;</span>&nbsp;<span class="op" id="2268153">(</span><span class="ident" id="2268154">typ</span><span class="op" id="2268157">.</span><span class="ident" id="2268158">Elem</span><span class="op" id="2268162">(</span><span class="op" id="2268163">)</span>&nbsp;<span class="op" id="2268165">==</span>&nbsp;<span class="ident" id="2268168">byteType</span>&nbsp;<span class="op" id="2268177">||</span>&nbsp;<span class="ident" id="2268180">verb</span>&nbsp;<span class="op" id="2268185">==</span>&nbsp;<span class="string" id="2268188">&#39;s&#39;</span>&nbsp;<span class="op" id="2268192">||</span>&nbsp;<span class="ident" id="2268195">verb</span>&nbsp;<span class="op" id="2268200">==</span>&nbsp;<span class="string" id="2268203">&#39;q&#39;</span>&nbsp;<span class="op" id="2268207">||</span>&nbsp;<span class="ident" id="2268210">verb</span>&nbsp;<span class="op" id="2268215">==</span>&nbsp;<span class="string" id="2268218">&#39;x&#39;</span><span class="op" id="2268221">)</span>&nbsp;<span class="op" id="2268223">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268228">var</span>&nbsp;<span class="ident" id="2268232">bytes</span>&nbsp;<span class="op" id="2268238">[</span><span class="op" id="2268239">]</span><span class="builtintype" id="2268240">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268248">if</span>&nbsp;<span class="ident" id="2268251">f</span><span class="op" id="2268252">.</span><span class="ident" id="2268253">Kind</span><span class="op" id="2268257">(</span><span class="op" id="2268258">)</span>&nbsp;<span class="op" id="2268260">==</span>&nbsp;<span class="ident" id="2268263">reflect</span><span class="op" id="2268270">.</span><span class="ident" id="2268271">Slice</span>&nbsp;<span class="op" id="2268277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268283">bytes</span>&nbsp;<span class="op" id="2268289">=</span>&nbsp;<span class="ident" id="2268291">f</span><span class="op" id="2268292">.</span><span class="ident" id="2268293">Bytes</span><span class="op" id="2268298">(</span><span class="op" id="2268299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268304">}</span>&nbsp;<span class="keyword" id="2268306">else</span>&nbsp;<span class="keyword" id="2268311">if</span>&nbsp;<span class="ident" id="2268314">f</span><span class="op" id="2268315">.</span><span class="ident" id="2268316">CanAddr</span><span class="op" id="2268323">(</span><span class="op" id="2268324">)</span>&nbsp;<span class="op" id="2268326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268332">bytes</span>&nbsp;<span class="op" id="2268338">=</span>&nbsp;<span class="ident" id="2268340">f</span><span class="op" id="2268341">.</span><span class="ident" id="2268342">Slice</span><span class="op" id="2268347">(</span><span class="num" id="2268348">0</span><span class="op" id="2268349">,</span>&nbsp;<span class="ident" id="2268351">f</span><span class="op" id="2268352">.</span><span class="ident" id="2268353">Len</span><span class="op" id="2268356">(</span><span class="op" id="2268357">)</span><span class="op" id="2268358">)</span><span class="op" id="2268359">.</span><span class="ident" id="2268360">Bytes</span><span class="op" id="2268365">(</span><span class="op" id="2268366">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268371">}</span>&nbsp;<span class="keyword" id="2268373">else</span>&nbsp;<span class="op" id="2268378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2268384">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2268456">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2268533">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268580">bytes</span>&nbsp;<span class="op" id="2268586">=</span>&nbsp;<span class="builtinfunc" id="2268588">make</span><span class="op" id="2268592">(</span><span class="op" id="2268593">[</span><span class="op" id="2268594">]</span><span class="builtintype" id="2268595">byte</span><span class="op" id="2268599">,</span>&nbsp;<span class="ident" id="2268601">f</span><span class="op" id="2268602">.</span><span class="ident" id="2268603">Len</span><span class="op" id="2268606">(</span><span class="op" id="2268607">)</span><span class="op" id="2268608">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268614">for</span>&nbsp;<span class="ident" id="2268618">i</span>&nbsp;<span class="op" id="2268620">:=</span>&nbsp;<span class="keyword" id="2268623">range</span>&nbsp;<span class="ident" id="2268629">bytes</span>&nbsp;<span class="op" id="2268635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268642">bytes</span><span class="op" id="2268647">[</span><span class="ident" id="2268648">i</span><span class="op" id="2268649">]</span>&nbsp;<span class="op" id="2268651">=</span>&nbsp;<span class="builtintype" id="2268653">byte</span><span class="op" id="2268657">(</span><span class="ident" id="2268658">f</span><span class="op" id="2268659">.</span><span class="ident" id="2268660">Index</span><span class="op" id="2268665">(</span><span class="ident" id="2268666">i</span><span class="op" id="2268667">)</span><span class="op" id="2268668">.</span><span class="ident" id="2268669">Uint</span><span class="op" id="2268673">(</span><span class="op" id="2268674">)</span><span class="op" id="2268675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268691">p</span><span class="op" id="2268692">.</span><span class="ident" id="2268693">fmtBytes</span><span class="op" id="2268701">(</span><span class="ident" id="2268702">bytes</span><span class="op" id="2268707">,</span>&nbsp;<span class="ident" id="2268709">verb</span><span class="op" id="2268713">,</span>&nbsp;<span class="ident" id="2268715">typ</span><span class="op" id="2268718">,</span>&nbsp;<span class="ident" id="2268720">depth</span><span class="op" id="2268725">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268730">wasString</span>&nbsp;<span class="op" id="2268740">=</span>&nbsp;<span class="ident" id="2268742">verb</span>&nbsp;<span class="op" id="2268747">==</span>&nbsp;<span class="string" id="2268750">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268757">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268769">if</span>&nbsp;<span class="ident" id="2268772">p</span><span class="op" id="2268773">.</span><span class="ident" id="2268774">fmt</span><span class="op" id="2268777">.</span><span class="ident" id="2268778">sharpV</span>&nbsp;<span class="op" id="2268785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268790">p</span><span class="op" id="2268791">.</span><span class="ident" id="2268792">buf</span><span class="op" id="2268795">.</span><span class="ident" id="2268796">WriteString</span><span class="op" id="2268807">(</span><span class="ident" id="2268808">value</span><span class="op" id="2268813">.</span><span class="ident" id="2268814">Type</span><span class="op" id="2268818">(</span><span class="op" id="2268819">)</span><span class="op" id="2268820">.</span><span class="ident" id="2268821">String</span><span class="op" id="2268827">(</span><span class="op" id="2268828">)</span><span class="op" id="2268829">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268834">if</span>&nbsp;<span class="ident" id="2268837">f</span><span class="op" id="2268838">.</span><span class="ident" id="2268839">Kind</span><span class="op" id="2268843">(</span><span class="op" id="2268844">)</span>&nbsp;<span class="op" id="2268846">==</span>&nbsp;<span class="ident" id="2268849">reflect</span><span class="op" id="2268856">.</span><span class="ident" id="2268857">Slice</span>&nbsp;<span class="op" id="2268863">&amp;&amp;</span>&nbsp;<span class="ident" id="2268866">f</span><span class="op" id="2268867">.</span><span class="ident" id="2268868">IsNil</span><span class="op" id="2268873">(</span><span class="op" id="2268874">)</span>&nbsp;<span class="op" id="2268876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268882">p</span><span class="op" id="2268883">.</span><span class="ident" id="2268884">buf</span><span class="op" id="2268887">.</span><span class="ident" id="2268888">WriteString</span><span class="op" id="2268899">(</span><span class="string" id="2268900">&#34;(nil)&#34;</span><span class="op" id="2268907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268913">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268927">p</span><span class="op" id="2268928">.</span><span class="ident" id="2268929">buf</span><span class="op" id="2268932">.</span><span class="ident" id="2268933">WriteByte</span><span class="op" id="2268942">(</span><span class="string" id="2268943">&#39;{&#39;</span><span class="op" id="2268946">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268950">}</span>&nbsp;<span class="keyword" id="2268952">else</span>&nbsp;<span class="op" id="2268957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2268962">p</span><span class="op" id="2268963">.</span><span class="ident" id="2268964">buf</span><span class="op" id="2268967">.</span><span class="ident" id="2268968">WriteByte</span><span class="op" id="2268977">(</span><span class="string" id="2268978">&#39;[&#39;</span><span class="op" id="2268981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2268985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2268989">for</span>&nbsp;<span class="ident" id="2268993">i</span>&nbsp;<span class="op" id="2268995">:=</span>&nbsp;<span class="num" id="2268998">0</span><span class="op" id="2268999">;</span>&nbsp;<span class="ident" id="2269001">i</span>&nbsp;<span class="op" id="2269003">&lt;</span>&nbsp;<span class="ident" id="2269005">f</span><span class="op" id="2269006">.</span><span class="ident" id="2269007">Len</span><span class="op" id="2269010">(</span><span class="op" id="2269011">)</span><span class="op" id="2269012">;</span>&nbsp;<span class="ident" id="2269014">i</span><span class="op" id="2269015">++</span>&nbsp;<span class="op" id="2269018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269023">if</span>&nbsp;<span class="ident" id="2269026">i</span>&nbsp;<span class="op" id="2269028">&gt;</span>&nbsp;<span class="num" id="2269030">0</span>&nbsp;<span class="op" id="2269032">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269038">if</span>&nbsp;<span class="ident" id="2269041">p</span><span class="op" id="2269042">.</span><span class="ident" id="2269043">fmt</span><span class="op" id="2269046">.</span><span class="ident" id="2269047">sharpV</span>&nbsp;<span class="op" id="2269054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269061">p</span><span class="op" id="2269062">.</span><span class="ident" id="2269063">buf</span><span class="op" id="2269066">.</span><span class="ident" id="2269067">Write</span><span class="op" id="2269072">(</span><span class="ident" id="2269073">commaSpaceBytes</span><span class="op" id="2269088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269094">}</span>&nbsp;<span class="keyword" id="2269096">else</span>&nbsp;<span class="op" id="2269101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269108">p</span><span class="op" id="2269109">.</span><span class="ident" id="2269110">buf</span><span class="op" id="2269113">.</span><span class="ident" id="2269114">WriteByte</span><span class="op" id="2269123">(</span><span class="string" id="2269124">&#39;&nbsp;&#39;</span><span class="op" id="2269127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269133">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269143">p</span><span class="op" id="2269144">.</span><span class="ident" id="2269145">printValue</span><span class="op" id="2269155">(</span><span class="ident" id="2269156">f</span><span class="op" id="2269157">.</span><span class="ident" id="2269158">Index</span><span class="op" id="2269163">(</span><span class="ident" id="2269164">i</span><span class="op" id="2269165">)</span><span class="op" id="2269166">,</span>&nbsp;<span class="ident" id="2269168">verb</span><span class="op" id="2269172">,</span>&nbsp;<span class="ident" id="2269174">depth</span><span class="op" id="2269179">+</span><span class="num" id="2269180">1</span><span class="op" id="2269181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269189">if</span>&nbsp;<span class="ident" id="2269192">p</span><span class="op" id="2269193">.</span><span class="ident" id="2269194">fmt</span><span class="op" id="2269197">.</span><span class="ident" id="2269198">sharpV</span>&nbsp;<span class="op" id="2269205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269210">p</span><span class="op" id="2269211">.</span><span class="ident" id="2269212">buf</span><span class="op" id="2269215">.</span><span class="ident" id="2269216">WriteByte</span><span class="op" id="2269225">(</span><span class="string" id="2269226">&#39;}&#39;</span><span class="op" id="2269229">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269233">}</span>&nbsp;<span class="keyword" id="2269235">else</span>&nbsp;<span class="op" id="2269240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269245">p</span><span class="op" id="2269246">.</span><span class="ident" id="2269247">buf</span><span class="op" id="2269250">.</span><span class="ident" id="2269251">WriteByte</span><span class="op" id="2269260">(</span><span class="string" id="2269261">&#39;]&#39;</span><span class="op" id="2269264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269271">case</span>&nbsp;<span class="ident" id="2269276">reflect</span><span class="op" id="2269283">.</span><span class="ident" id="2269284">Ptr</span><span class="op" id="2269287">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269291">v</span>&nbsp;<span class="op" id="2269293">:=</span>&nbsp;<span class="ident" id="2269296">f</span><span class="op" id="2269297">.</span><span class="ident" id="2269298">Pointer</span><span class="op" id="2269305">(</span><span class="op" id="2269306">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2269310">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2269369">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269405">if</span>&nbsp;<span class="ident" id="2269408">v</span>&nbsp;<span class="op" id="2269410">!=</span>&nbsp;<span class="num" id="2269413">0</span>&nbsp;<span class="op" id="2269415">&amp;&amp;</span>&nbsp;<span class="ident" id="2269418">depth</span>&nbsp;<span class="op" id="2269424">==</span>&nbsp;<span class="num" id="2269427">0</span>&nbsp;<span class="op" id="2269429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269434">switch</span>&nbsp;<span class="ident" id="2269441">a</span>&nbsp;<span class="op" id="2269443">:=</span>&nbsp;<span class="ident" id="2269446">f</span><span class="op" id="2269447">.</span><span class="ident" id="2269448">Elem</span><span class="op" id="2269452">(</span><span class="op" id="2269453">)</span><span class="op" id="2269454">;</span>&nbsp;<span class="ident" id="2269456">a</span><span class="op" id="2269457">.</span><span class="ident" id="2269458">Kind</span><span class="op" id="2269462">(</span><span class="op" id="2269463">)</span>&nbsp;<span class="op" id="2269465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269470">case</span>&nbsp;<span class="ident" id="2269475">reflect</span><span class="op" id="2269482">.</span><span class="ident" id="2269483">Array</span><span class="op" id="2269488">,</span>&nbsp;<span class="ident" id="2269490">reflect</span><span class="op" id="2269497">.</span><span class="ident" id="2269498">Slice</span><span class="op" id="2269503">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269509">p</span><span class="op" id="2269510">.</span><span class="ident" id="2269511">buf</span><span class="op" id="2269514">.</span><span class="ident" id="2269515">WriteByte</span><span class="op" id="2269524">(</span><span class="string" id="2269525">&#39;&amp;&#39;</span><span class="op" id="2269528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269534">p</span><span class="op" id="2269535">.</span><span class="ident" id="2269536">printValue</span><span class="op" id="2269546">(</span><span class="ident" id="2269547">a</span><span class="op" id="2269548">,</span>&nbsp;<span class="ident" id="2269550">verb</span><span class="op" id="2269554">,</span>&nbsp;<span class="ident" id="2269556">depth</span><span class="op" id="2269561">+</span><span class="num" id="2269562">1</span><span class="op" id="2269563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269569">break</span>&nbsp;<span class="ident" id="2269575">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269588">case</span>&nbsp;<span class="ident" id="2269593">reflect</span><span class="op" id="2269600">.</span><span class="ident" id="2269601">Struct</span><span class="op" id="2269607">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269613">p</span><span class="op" id="2269614">.</span><span class="ident" id="2269615">buf</span><span class="op" id="2269618">.</span><span class="ident" id="2269619">WriteByte</span><span class="op" id="2269628">(</span><span class="string" id="2269629">&#39;&amp;&#39;</span><span class="op" id="2269632">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269638">p</span><span class="op" id="2269639">.</span><span class="ident" id="2269640">printValue</span><span class="op" id="2269650">(</span><span class="ident" id="2269651">a</span><span class="op" id="2269652">,</span>&nbsp;<span class="ident" id="2269654">verb</span><span class="op" id="2269658">,</span>&nbsp;<span class="ident" id="2269660">depth</span><span class="op" id="2269665">+</span><span class="num" id="2269666">1</span><span class="op" id="2269667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269673">break</span>&nbsp;<span class="ident" id="2269679">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269692">case</span>&nbsp;<span class="ident" id="2269697">reflect</span><span class="op" id="2269704">.</span><span class="ident" id="2269705">Map</span><span class="op" id="2269708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269714">p</span><span class="op" id="2269715">.</span><span class="ident" id="2269716">buf</span><span class="op" id="2269719">.</span><span class="ident" id="2269720">WriteByte</span><span class="op" id="2269729">(</span><span class="string" id="2269730">&#39;&amp;&#39;</span><span class="op" id="2269733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269739">p</span><span class="op" id="2269740">.</span><span class="ident" id="2269741">printValue</span><span class="op" id="2269751">(</span><span class="ident" id="2269752">a</span><span class="op" id="2269753">,</span>&nbsp;<span class="ident" id="2269755">verb</span><span class="op" id="2269759">,</span>&nbsp;<span class="ident" id="2269761">depth</span><span class="op" id="2269766">+</span><span class="num" id="2269767">1</span><span class="op" id="2269768">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269774">break</span>&nbsp;<span class="ident" id="2269780">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269801">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269814">case</span>&nbsp;<span class="ident" id="2269819">reflect</span><span class="op" id="2269826">.</span><span class="ident" id="2269827">Chan</span><span class="op" id="2269831">,</span>&nbsp;<span class="ident" id="2269833">reflect</span><span class="op" id="2269840">.</span><span class="ident" id="2269841">Func</span><span class="op" id="2269845">,</span>&nbsp;<span class="ident" id="2269847">reflect</span><span class="op" id="2269854">.</span><span class="ident" id="2269855">UnsafePointer</span><span class="op" id="2269868">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269872">p</span><span class="op" id="2269873">.</span><span class="ident" id="2269874">fmtPointer</span><span class="op" id="2269884">(</span><span class="ident" id="2269885">value</span><span class="op" id="2269890">,</span>&nbsp;<span class="ident" id="2269892">verb</span><span class="op" id="2269896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269899">default</span><span class="op" id="2269906">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269910">p</span><span class="op" id="2269911">.</span><span class="ident" id="2269912">unknownType</span><span class="op" id="2269923">(</span><span class="ident" id="2269924">f</span><span class="op" id="2269925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2269928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2269931">p</span><span class="op" id="2269932">.</span><span class="ident" id="2269933">value</span>&nbsp;<span class="op" id="2269939">=</span>&nbsp;<span class="ident" id="2269941">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2269951">return</span>&nbsp;<span class="ident" id="2269958">wasString</span><br>
<span class="lineno"></span><span class="op" id="2269968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2269971">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2270077">func</span>&nbsp;<span class="ident" id="2270082">intFromArg</span><span class="op" id="2270092">(</span><span class="ident" id="2270093">a</span>&nbsp;<span class="op" id="2270095">[</span><span class="op" id="2270096">]</span><span class="keyword" id="2270097">interface</span><span class="op" id="2270106">{</span><span class="op" id="2270107">}</span><span class="op" id="2270108">,</span>&nbsp;<span class="ident" id="2270110">argNum</span>&nbsp;<span class="builtintype" id="2270117">int</span><span class="op" id="2270120">)</span>&nbsp;<span class="op" id="2270122">(</span><span class="ident" id="2270123">num</span>&nbsp;<span class="builtintype" id="2270127">int</span><span class="op" id="2270130">,</span>&nbsp;<span class="ident" id="2270132">isInt</span>&nbsp;<span class="builtintype" id="2270138">bool</span><span class="op" id="2270142">,</span>&nbsp;<span class="ident" id="2270144">newArgNum</span>&nbsp;<span class="builtintype" id="2270154">int</span><span class="op" id="2270157">)</span>&nbsp;<span class="op" id="2270159">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2270162">newArgNum</span>&nbsp;<span class="op" id="2270172">=</span>&nbsp;<span class="ident" id="2270174">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270182">if</span>&nbsp;<span class="ident" id="2270185">argNum</span>&nbsp;<span class="op" id="2270192">&lt;</span>&nbsp;<span class="builtinfunc" id="2270194">len</span><span class="op" id="2270197">(</span><span class="ident" id="2270198">a</span><span class="op" id="2270199">)</span>&nbsp;<span class="op" id="2270201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2270205">num</span><span class="op" id="2270208">,</span>&nbsp;<span class="ident" id="2270210">isInt</span>&nbsp;<span class="op" id="2270216">=</span>&nbsp;<span class="ident" id="2270218">a</span><span class="op" id="2270219">[</span><span class="ident" id="2270220">argNum</span><span class="op" id="2270226">]</span><span class="op" id="2270227">.</span><span class="op" id="2270228">(</span><span class="builtintype" id="2270229">int</span><span class="op" id="2270232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2270236">newArgNum</span>&nbsp;<span class="op" id="2270246">=</span>&nbsp;<span class="ident" id="2270248">argNum</span>&nbsp;<span class="op" id="2270255">+</span>&nbsp;<span class="num" id="2270257">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2270260">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270263">return</span><br>
<span class="lineno"></span><span class="op" id="2270270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2270273">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2270342">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2270415">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2270475">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2270544">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2270614">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2270684">func</span>&nbsp;<span class="ident" id="2270689">parseArgNumber</span><span class="op" id="2270703">(</span><span class="ident" id="2270704">format</span>&nbsp;<span class="builtintype" id="2270711">string</span><span class="op" id="2270717">)</span>&nbsp;<span class="op" id="2270719">(</span><span class="ident" id="2270720">index</span>&nbsp;<span class="builtintype" id="2270726">int</span><span class="op" id="2270729">,</span>&nbsp;<span class="ident" id="2270731">wid</span>&nbsp;<span class="builtintype" id="2270735">int</span><span class="op" id="2270738">,</span>&nbsp;<span class="ident" id="2270740">ok</span>&nbsp;<span class="builtintype" id="2270743">bool</span><span class="op" id="2270747">)</span>&nbsp;<span class="op" id="2270749">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2270752">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270778">for</span>&nbsp;<span class="ident" id="2270782">i</span>&nbsp;<span class="op" id="2270784">:=</span>&nbsp;<span class="num" id="2270787">1</span><span class="op" id="2270788">;</span>&nbsp;<span class="ident" id="2270790">i</span>&nbsp;<span class="op" id="2270792">&lt;</span>&nbsp;<span class="builtinfunc" id="2270794">len</span><span class="op" id="2270797">(</span><span class="ident" id="2270798">format</span><span class="op" id="2270804">)</span><span class="op" id="2270805">;</span>&nbsp;<span class="ident" id="2270807">i</span><span class="op" id="2270808">++</span>&nbsp;<span class="op" id="2270811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270815">if</span>&nbsp;<span class="ident" id="2270818">format</span><span class="op" id="2270824">[</span><span class="ident" id="2270825">i</span><span class="op" id="2270826">]</span>&nbsp;<span class="op" id="2270828">==</span>&nbsp;<span class="string" id="2270831">&#39;]&#39;</span>&nbsp;<span class="op" id="2270835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2270840">width</span><span class="op" id="2270845">,</span>&nbsp;<span class="ident" id="2270847">ok</span><span class="op" id="2270849">,</span>&nbsp;<span class="ident" id="2270851">newi</span>&nbsp;<span class="op" id="2270856">:=</span>&nbsp;<span class="ident" id="2270859">parsenum</span><span class="op" id="2270867">(</span><span class="ident" id="2270868">format</span><span class="op" id="2270874">,</span>&nbsp;<span class="num" id="2270876">1</span><span class="op" id="2270877">,</span>&nbsp;<span class="ident" id="2270879">i</span><span class="op" id="2270880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270885">if</span>&nbsp;<span class="op" id="2270888">!</span><span class="ident" id="2270889">ok</span>&nbsp;<span class="op" id="2270892">||</span>&nbsp;<span class="ident" id="2270895">newi</span>&nbsp;<span class="op" id="2270900">!=</span>&nbsp;<span class="ident" id="2270903">i</span>&nbsp;<span class="op" id="2270905">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270911">return</span>&nbsp;<span class="num" id="2270918">0</span><span class="op" id="2270919">,</span>&nbsp;<span class="ident" id="2270921">i</span>&nbsp;<span class="op" id="2270923">+</span>&nbsp;<span class="num" id="2270925">1</span><span class="op" id="2270926">,</span>&nbsp;<span class="builtintype" id="2270928">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2270937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2270942">return</span>&nbsp;<span class="ident" id="2270949">width</span>&nbsp;<span class="op" id="2270955">-</span>&nbsp;<span class="num" id="2270957">1</span><span class="op" id="2270958">,</span>&nbsp;<span class="ident" id="2270960">i</span>&nbsp;<span class="op" id="2270962">+</span>&nbsp;<span class="num" id="2270964">1</span><span class="op" id="2270965">,</span>&nbsp;<span class="builtintype" id="2270967">true</span>&nbsp;<span class="comment" id="2270972">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2271021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2271024">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271027">return</span>&nbsp;<span class="num" id="2271034">0</span><span class="op" id="2271035">,</span>&nbsp;<span class="num" id="2271037">1</span><span class="op" id="2271038">,</span>&nbsp;<span class="builtintype" id="2271040">false</span><br>
<span class="lineno"></span><span class="op" id="2271046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2271049">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2271144">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2271232">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2271317">func</span>&nbsp;<span class="op" id="2271322">(</span><span class="ident" id="2271323">p</span>&nbsp;<span class="op" id="2271325">*</span><span class="ident" id="2271326">pp</span><span class="op" id="2271328">)</span>&nbsp;<span class="ident" id="2271330">argNumber</span><span class="op" id="2271339">(</span><span class="ident" id="2271340">argNum</span>&nbsp;<span class="builtintype" id="2271347">int</span><span class="op" id="2271350">,</span>&nbsp;<span class="ident" id="2271352">format</span>&nbsp;<span class="builtintype" id="2271359">string</span><span class="op" id="2271365">,</span>&nbsp;<span class="ident" id="2271367">i</span>&nbsp;<span class="builtintype" id="2271369">int</span><span class="op" id="2271372">,</span>&nbsp;<span class="ident" id="2271374">numArgs</span>&nbsp;<span class="builtintype" id="2271382">int</span><span class="op" id="2271385">)</span>&nbsp;<span class="op" id="2271387">(</span><span class="ident" id="2271388">newArgNum</span><span class="op" id="2271397">,</span>&nbsp;<span class="ident" id="2271399">newi</span>&nbsp;<span class="builtintype" id="2271404">int</span><span class="op" id="2271407">,</span>&nbsp;<span class="ident" id="2271409">found</span>&nbsp;<span class="builtintype" id="2271415">bool</span><span class="op" id="2271419">)</span>&nbsp;<span class="op" id="2271421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271424">if</span>&nbsp;<span class="builtinfunc" id="2271427">len</span><span class="op" id="2271430">(</span><span class="ident" id="2271431">format</span><span class="op" id="2271437">)</span>&nbsp;<span class="op" id="2271439">&lt;=</span>&nbsp;<span class="ident" id="2271442">i</span>&nbsp;<span class="op" id="2271444">||</span>&nbsp;<span class="ident" id="2271447">format</span><span class="op" id="2271453">[</span><span class="ident" id="2271454">i</span><span class="op" id="2271455">]</span>&nbsp;<span class="op" id="2271457">!=</span>&nbsp;<span class="string" id="2271460">&#39;[&#39;</span>&nbsp;<span class="op" id="2271464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271468">return</span>&nbsp;<span class="ident" id="2271475">argNum</span><span class="op" id="2271481">,</span>&nbsp;<span class="ident" id="2271483">i</span><span class="op" id="2271484">,</span>&nbsp;<span class="builtintype" id="2271486">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2271493">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271496">p</span><span class="op" id="2271497">.</span><span class="ident" id="2271498">reordered</span>&nbsp;<span class="op" id="2271508">=</span>&nbsp;<span class="builtintype" id="2271510">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271516">index</span><span class="op" id="2271521">,</span>&nbsp;<span class="ident" id="2271523">wid</span><span class="op" id="2271526">,</span>&nbsp;<span class="ident" id="2271528">ok</span>&nbsp;<span class="op" id="2271531">:=</span>&nbsp;<span class="ident" id="2271534">parseArgNumber</span><span class="op" id="2271548">(</span><span class="ident" id="2271549">format</span><span class="op" id="2271555">[</span><span class="ident" id="2271556">i</span><span class="op" id="2271557">:</span><span class="op" id="2271558">]</span><span class="op" id="2271559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271562">if</span>&nbsp;<span class="ident" id="2271565">ok</span>&nbsp;<span class="op" id="2271568">&amp;&amp;</span>&nbsp;<span class="num" id="2271571">0</span>&nbsp;<span class="op" id="2271573">&lt;=</span>&nbsp;<span class="ident" id="2271576">index</span>&nbsp;<span class="op" id="2271582">&amp;&amp;</span>&nbsp;<span class="ident" id="2271585">index</span>&nbsp;<span class="op" id="2271591">&lt;</span>&nbsp;<span class="ident" id="2271593">numArgs</span>&nbsp;<span class="op" id="2271601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271605">return</span>&nbsp;<span class="ident" id="2271612">index</span><span class="op" id="2271617">,</span>&nbsp;<span class="ident" id="2271619">i</span>&nbsp;<span class="op" id="2271621">+</span>&nbsp;<span class="ident" id="2271623">wid</span><span class="op" id="2271626">,</span>&nbsp;<span class="builtintype" id="2271628">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2271634">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271637">p</span><span class="op" id="2271638">.</span><span class="ident" id="2271639">goodArgNum</span>&nbsp;<span class="op" id="2271650">=</span>&nbsp;<span class="builtintype" id="2271652">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271659">return</span>&nbsp;<span class="ident" id="2271666">argNum</span><span class="op" id="2271672">,</span>&nbsp;<span class="ident" id="2271674">i</span>&nbsp;<span class="op" id="2271676">+</span>&nbsp;<span class="ident" id="2271678">wid</span><span class="op" id="2271681">,</span>&nbsp;<span class="builtintype" id="2271683">true</span><br>
<span class="lineno"></span><span class="op" id="2271688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2271691">func</span>&nbsp;<span class="op" id="2271696">(</span><span class="ident" id="2271697">p</span>&nbsp;<span class="op" id="2271699">*</span><span class="ident" id="2271700">pp</span><span class="op" id="2271702">)</span>&nbsp;<span class="ident" id="2271704">doPrintf</span><span class="op" id="2271712">(</span><span class="ident" id="2271713">format</span>&nbsp;<span class="builtintype" id="2271720">string</span><span class="op" id="2271726">,</span>&nbsp;<span class="ident" id="2271728">a</span>&nbsp;<span class="op" id="2271730">[</span><span class="op" id="2271731">]</span><span class="keyword" id="2271732">interface</span><span class="op" id="2271741">{</span><span class="op" id="2271742">}</span><span class="op" id="2271743">)</span>&nbsp;<span class="op" id="2271745">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271748">end</span>&nbsp;<span class="op" id="2271752">:=</span>&nbsp;<span class="builtinfunc" id="2271755">len</span><span class="op" id="2271758">(</span><span class="ident" id="2271759">format</span><span class="op" id="2271765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271768">argNum</span>&nbsp;<span class="op" id="2271775">:=</span>&nbsp;<span class="num" id="2271778">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2271788">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271839">afterIndex</span>&nbsp;<span class="op" id="2271850">:=</span>&nbsp;<span class="builtintype" id="2271853">false</span>&nbsp;<span class="comment" id="2271859">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271910">p</span><span class="op" id="2271911">.</span><span class="ident" id="2271912">reordered</span>&nbsp;<span class="op" id="2271922">=</span>&nbsp;<span class="builtintype" id="2271924">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271931">for</span>&nbsp;<span class="ident" id="2271935">i</span>&nbsp;<span class="op" id="2271937">:=</span>&nbsp;<span class="num" id="2271940">0</span><span class="op" id="2271941">;</span>&nbsp;<span class="ident" id="2271943">i</span>&nbsp;<span class="op" id="2271945">&lt;</span>&nbsp;<span class="ident" id="2271947">end</span><span class="op" id="2271950">;</span>&nbsp;<span class="op" id="2271952">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271956">p</span><span class="op" id="2271957">.</span><span class="ident" id="2271958">goodArgNum</span>&nbsp;<span class="op" id="2271969">=</span>&nbsp;<span class="builtintype" id="2271971">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2271978">lasti</span>&nbsp;<span class="op" id="2271984">:=</span>&nbsp;<span class="ident" id="2271987">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2271991">for</span>&nbsp;<span class="ident" id="2271995">i</span>&nbsp;<span class="op" id="2271997">&lt;</span>&nbsp;<span class="ident" id="2271999">end</span>&nbsp;<span class="op" id="2272003">&amp;&amp;</span>&nbsp;<span class="ident" id="2272006">format</span><span class="op" id="2272012">[</span><span class="ident" id="2272013">i</span><span class="op" id="2272014">]</span>&nbsp;<span class="op" id="2272016">!=</span>&nbsp;<span class="string" id="2272019">&#39;%&#39;</span>&nbsp;<span class="op" id="2272023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272028">i</span><span class="op" id="2272029">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272034">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272038">if</span>&nbsp;<span class="ident" id="2272041">i</span>&nbsp;<span class="op" id="2272043">&gt;</span>&nbsp;<span class="ident" id="2272045">lasti</span>&nbsp;<span class="op" id="2272051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272056">p</span><span class="op" id="2272057">.</span><span class="ident" id="2272058">buf</span><span class="op" id="2272061">.</span><span class="ident" id="2272062">WriteString</span><span class="op" id="2272073">(</span><span class="ident" id="2272074">format</span><span class="op" id="2272080">[</span><span class="ident" id="2272081">lasti</span><span class="op" id="2272086">:</span><span class="ident" id="2272087">i</span><span class="op" id="2272088">]</span><span class="op" id="2272089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272097">if</span>&nbsp;<span class="ident" id="2272100">i</span>&nbsp;<span class="op" id="2272102">&gt;=</span>&nbsp;<span class="ident" id="2272105">end</span>&nbsp;<span class="op" id="2272109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2272114">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272150">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2272163">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272185">i</span><span class="op" id="2272186">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2272192">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272215">p</span><span class="op" id="2272216">.</span><span class="ident" id="2272217">fmt</span><span class="op" id="2272220">.</span><span class="ident" id="2272221">clearflags</span><span class="op" id="2272231">(</span><span class="op" id="2272232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272235">F</span><span class="op" id="2272236">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272240">for</span>&nbsp;<span class="op" id="2272244">;</span>&nbsp;<span class="ident" id="2272246">i</span>&nbsp;<span class="op" id="2272248">&lt;</span>&nbsp;<span class="ident" id="2272250">end</span><span class="op" id="2272253">;</span>&nbsp;<span class="ident" id="2272255">i</span><span class="op" id="2272256">++</span>&nbsp;<span class="op" id="2272259">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272264">switch</span>&nbsp;<span class="ident" id="2272271">format</span><span class="op" id="2272277">[</span><span class="ident" id="2272278">i</span><span class="op" id="2272279">]</span>&nbsp;<span class="op" id="2272281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272286">case</span>&nbsp;<span class="string" id="2272291">&#39;#&#39;</span><span class="op" id="2272294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272300">p</span><span class="op" id="2272301">.</span><span class="ident" id="2272302">fmt</span><span class="op" id="2272305">.</span><span class="ident" id="2272306">sharp</span>&nbsp;<span class="op" id="2272312">=</span>&nbsp;<span class="builtintype" id="2272314">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272322">case</span>&nbsp;<span class="string" id="2272327">&#39;0&#39;</span><span class="op" id="2272330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272336">p</span><span class="op" id="2272337">.</span><span class="ident" id="2272338">fmt</span><span class="op" id="2272341">.</span><span class="ident" id="2272342">zero</span>&nbsp;<span class="op" id="2272347">=</span>&nbsp;<span class="builtintype" id="2272349">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272357">case</span>&nbsp;<span class="string" id="2272362">&#39;+&#39;</span><span class="op" id="2272365">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272371">p</span><span class="op" id="2272372">.</span><span class="ident" id="2272373">fmt</span><span class="op" id="2272376">.</span><span class="ident" id="2272377">plus</span>&nbsp;<span class="op" id="2272382">=</span>&nbsp;<span class="builtintype" id="2272384">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272392">case</span>&nbsp;<span class="string" id="2272397">&#39;-&#39;</span><span class="op" id="2272400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272406">p</span><span class="op" id="2272407">.</span><span class="ident" id="2272408">fmt</span><span class="op" id="2272411">.</span><span class="ident" id="2272412">minus</span>&nbsp;<span class="op" id="2272418">=</span>&nbsp;<span class="builtintype" id="2272420">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272428">case</span>&nbsp;<span class="string" id="2272433">&#39;&nbsp;&#39;</span><span class="op" id="2272436">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272442">p</span><span class="op" id="2272443">.</span><span class="ident" id="2272444">fmt</span><span class="op" id="2272447">.</span><span class="ident" id="2272448">space</span>&nbsp;<span class="op" id="2272454">=</span>&nbsp;<span class="builtintype" id="2272456">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272464">default</span><span class="op" id="2272471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272477">break</span>&nbsp;<span class="ident" id="2272483">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272492">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2272497">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272541">argNum</span><span class="op" id="2272547">,</span>&nbsp;<span class="ident" id="2272549">i</span><span class="op" id="2272550">,</span>&nbsp;<span class="ident" id="2272552">afterIndex</span>&nbsp;<span class="op" id="2272563">=</span>&nbsp;<span class="ident" id="2272565">p</span><span class="op" id="2272566">.</span><span class="ident" id="2272567">argNumber</span><span class="op" id="2272576">(</span><span class="ident" id="2272577">argNum</span><span class="op" id="2272583">,</span>&nbsp;<span class="ident" id="2272585">format</span><span class="op" id="2272591">,</span>&nbsp;<span class="ident" id="2272593">i</span><span class="op" id="2272594">,</span>&nbsp;<span class="builtinfunc" id="2272596">len</span><span class="op" id="2272599">(</span><span class="ident" id="2272600">a</span><span class="op" id="2272601">)</span><span class="op" id="2272602">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2272607">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272630">if</span>&nbsp;<span class="ident" id="2272633">i</span>&nbsp;<span class="op" id="2272635">&lt;</span>&nbsp;<span class="ident" id="2272637">end</span>&nbsp;<span class="op" id="2272641">&amp;&amp;</span>&nbsp;<span class="ident" id="2272644">format</span><span class="op" id="2272650">[</span><span class="ident" id="2272651">i</span><span class="op" id="2272652">]</span>&nbsp;<span class="op" id="2272654">==</span>&nbsp;<span class="string" id="2272657">&#39;*&#39;</span>&nbsp;<span class="op" id="2272661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272666">i</span><span class="op" id="2272667">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272673">p</span><span class="op" id="2272674">.</span><span class="ident" id="2272675">fmt</span><span class="op" id="2272678">.</span><span class="ident" id="2272679">wid</span><span class="op" id="2272682">,</span>&nbsp;<span class="ident" id="2272684">p</span><span class="op" id="2272685">.</span><span class="ident" id="2272686">fmt</span><span class="op" id="2272689">.</span><span class="ident" id="2272690">widPresent</span><span class="op" id="2272700">,</span>&nbsp;<span class="ident" id="2272702">argNum</span>&nbsp;<span class="op" id="2272709">=</span>&nbsp;<span class="ident" id="2272711">intFromArg</span><span class="op" id="2272721">(</span><span class="ident" id="2272722">a</span><span class="op" id="2272723">,</span>&nbsp;<span class="ident" id="2272725">argNum</span><span class="op" id="2272731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272736">if</span>&nbsp;<span class="op" id="2272739">!</span><span class="ident" id="2272740">p</span><span class="op" id="2272741">.</span><span class="ident" id="2272742">fmt</span><span class="op" id="2272745">.</span><span class="ident" id="2272746">widPresent</span>&nbsp;<span class="op" id="2272757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272763">p</span><span class="op" id="2272764">.</span><span class="ident" id="2272765">buf</span><span class="op" id="2272768">.</span><span class="ident" id="2272769">Write</span><span class="op" id="2272774">(</span><span class="ident" id="2272775">badWidthBytes</span><span class="op" id="2272788">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272798">afterIndex</span>&nbsp;<span class="op" id="2272809">=</span>&nbsp;<span class="builtintype" id="2272811">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272819">}</span>&nbsp;<span class="keyword" id="2272821">else</span>&nbsp;<span class="op" id="2272826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272831">p</span><span class="op" id="2272832">.</span><span class="ident" id="2272833">fmt</span><span class="op" id="2272836">.</span><span class="ident" id="2272837">wid</span><span class="op" id="2272840">,</span>&nbsp;<span class="ident" id="2272842">p</span><span class="op" id="2272843">.</span><span class="ident" id="2272844">fmt</span><span class="op" id="2272847">.</span><span class="ident" id="2272848">widPresent</span><span class="op" id="2272858">,</span>&nbsp;<span class="ident" id="2272860">i</span>&nbsp;<span class="op" id="2272862">=</span>&nbsp;<span class="ident" id="2272864">parsenum</span><span class="op" id="2272872">(</span><span class="ident" id="2272873">format</span><span class="op" id="2272879">,</span>&nbsp;<span class="ident" id="2272881">i</span><span class="op" id="2272882">,</span>&nbsp;<span class="ident" id="2272884">end</span><span class="op" id="2272887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2272892">if</span>&nbsp;<span class="ident" id="2272895">afterIndex</span>&nbsp;<span class="op" id="2272906">&amp;&amp;</span>&nbsp;<span class="ident" id="2272909">p</span><span class="op" id="2272910">.</span><span class="ident" id="2272911">fmt</span><span class="op" id="2272914">.</span><span class="ident" id="2272915">widPresent</span>&nbsp;<span class="op" id="2272926">{</span>&nbsp;<span class="comment" id="2272928">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2272944">p</span><span class="op" id="2272945">.</span><span class="ident" id="2272946">goodArgNum</span>&nbsp;<span class="op" id="2272957">=</span>&nbsp;<span class="builtintype" id="2272959">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2272972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2272977">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273004">if</span>&nbsp;<span class="ident" id="2273007">i</span><span class="op" id="2273008">+</span><span class="num" id="2273009">1</span>&nbsp;<span class="op" id="2273011">&lt;</span>&nbsp;<span class="ident" id="2273013">end</span>&nbsp;<span class="op" id="2273017">&amp;&amp;</span>&nbsp;<span class="ident" id="2273020">format</span><span class="op" id="2273026">[</span><span class="ident" id="2273027">i</span><span class="op" id="2273028">]</span>&nbsp;<span class="op" id="2273030">==</span>&nbsp;<span class="string" id="2273033">&#39;.&#39;</span>&nbsp;<span class="op" id="2273037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273042">i</span><span class="op" id="2273043">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273049">if</span>&nbsp;<span class="ident" id="2273052">afterIndex</span>&nbsp;<span class="op" id="2273063">{</span>&nbsp;<span class="comment" id="2273065">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273082">p</span><span class="op" id="2273083">.</span><span class="ident" id="2273084">goodArgNum</span>&nbsp;<span class="op" id="2273095">=</span>&nbsp;<span class="builtintype" id="2273097">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273106">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273111">argNum</span><span class="op" id="2273117">,</span>&nbsp;<span class="ident" id="2273119">i</span><span class="op" id="2273120">,</span>&nbsp;<span class="ident" id="2273122">afterIndex</span>&nbsp;<span class="op" id="2273133">=</span>&nbsp;<span class="ident" id="2273135">p</span><span class="op" id="2273136">.</span><span class="ident" id="2273137">argNumber</span><span class="op" id="2273146">(</span><span class="ident" id="2273147">argNum</span><span class="op" id="2273153">,</span>&nbsp;<span class="ident" id="2273155">format</span><span class="op" id="2273161">,</span>&nbsp;<span class="ident" id="2273163">i</span><span class="op" id="2273164">,</span>&nbsp;<span class="builtinfunc" id="2273166">len</span><span class="op" id="2273169">(</span><span class="ident" id="2273170">a</span><span class="op" id="2273171">)</span><span class="op" id="2273172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273177">if</span>&nbsp;<span class="ident" id="2273180">format</span><span class="op" id="2273186">[</span><span class="ident" id="2273187">i</span><span class="op" id="2273188">]</span>&nbsp;<span class="op" id="2273190">==</span>&nbsp;<span class="string" id="2273193">&#39;*&#39;</span>&nbsp;<span class="op" id="2273197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273203">i</span><span class="op" id="2273204">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273211">p</span><span class="op" id="2273212">.</span><span class="ident" id="2273213">fmt</span><span class="op" id="2273216">.</span><span class="ident" id="2273217">prec</span><span class="op" id="2273221">,</span>&nbsp;<span class="ident" id="2273223">p</span><span class="op" id="2273224">.</span><span class="ident" id="2273225">fmt</span><span class="op" id="2273228">.</span><span class="ident" id="2273229">precPresent</span><span class="op" id="2273240">,</span>&nbsp;<span class="ident" id="2273242">argNum</span>&nbsp;<span class="op" id="2273249">=</span>&nbsp;<span class="ident" id="2273251">intFromArg</span><span class="op" id="2273261">(</span><span class="ident" id="2273262">a</span><span class="op" id="2273263">,</span>&nbsp;<span class="ident" id="2273265">argNum</span><span class="op" id="2273271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273277">if</span>&nbsp;<span class="op" id="2273280">!</span><span class="ident" id="2273281">p</span><span class="op" id="2273282">.</span><span class="ident" id="2273283">fmt</span><span class="op" id="2273286">.</span><span class="ident" id="2273287">precPresent</span>&nbsp;<span class="op" id="2273299">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273306">p</span><span class="op" id="2273307">.</span><span class="ident" id="2273308">buf</span><span class="op" id="2273311">.</span><span class="ident" id="2273312">Write</span><span class="op" id="2273317">(</span><span class="ident" id="2273318">badPrecBytes</span><span class="op" id="2273330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273342">afterIndex</span>&nbsp;<span class="op" id="2273353">=</span>&nbsp;<span class="builtintype" id="2273355">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273364">}</span>&nbsp;<span class="keyword" id="2273366">else</span>&nbsp;<span class="op" id="2273371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273377">p</span><span class="op" id="2273378">.</span><span class="ident" id="2273379">fmt</span><span class="op" id="2273382">.</span><span class="ident" id="2273383">prec</span><span class="op" id="2273387">,</span>&nbsp;<span class="ident" id="2273389">p</span><span class="op" id="2273390">.</span><span class="ident" id="2273391">fmt</span><span class="op" id="2273394">.</span><span class="ident" id="2273395">precPresent</span><span class="op" id="2273406">,</span>&nbsp;<span class="ident" id="2273408">i</span>&nbsp;<span class="op" id="2273410">=</span>&nbsp;<span class="ident" id="2273412">parsenum</span><span class="op" id="2273420">(</span><span class="ident" id="2273421">format</span><span class="op" id="2273427">,</span>&nbsp;<span class="ident" id="2273429">i</span><span class="op" id="2273430">,</span>&nbsp;<span class="ident" id="2273432">end</span><span class="op" id="2273435">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273441">if</span>&nbsp;<span class="op" id="2273444">!</span><span class="ident" id="2273445">p</span><span class="op" id="2273446">.</span><span class="ident" id="2273447">fmt</span><span class="op" id="2273450">.</span><span class="ident" id="2273451">precPresent</span>&nbsp;<span class="op" id="2273463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273470">p</span><span class="op" id="2273471">.</span><span class="ident" id="2273472">fmt</span><span class="op" id="2273475">.</span><span class="ident" id="2273476">prec</span>&nbsp;<span class="op" id="2273481">=</span>&nbsp;<span class="num" id="2273483">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273490">p</span><span class="op" id="2273491">.</span><span class="ident" id="2273492">fmt</span><span class="op" id="2273495">.</span><span class="ident" id="2273496">precPresent</span>&nbsp;<span class="op" id="2273508">=</span>&nbsp;<span class="builtintype" id="2273510">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273524">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273533">if</span>&nbsp;<span class="op" id="2273536">!</span><span class="ident" id="2273537">afterIndex</span>&nbsp;<span class="op" id="2273548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273553">argNum</span><span class="op" id="2273559">,</span>&nbsp;<span class="ident" id="2273561">i</span><span class="op" id="2273562">,</span>&nbsp;<span class="ident" id="2273564">afterIndex</span>&nbsp;<span class="op" id="2273575">=</span>&nbsp;<span class="ident" id="2273577">p</span><span class="op" id="2273578">.</span><span class="ident" id="2273579">argNumber</span><span class="op" id="2273588">(</span><span class="ident" id="2273589">argNum</span><span class="op" id="2273595">,</span>&nbsp;<span class="ident" id="2273597">format</span><span class="op" id="2273603">,</span>&nbsp;<span class="ident" id="2273605">i</span><span class="op" id="2273606">,</span>&nbsp;<span class="builtinfunc" id="2273608">len</span><span class="op" id="2273611">(</span><span class="ident" id="2273612">a</span><span class="op" id="2273613">)</span><span class="op" id="2273614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273618">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273623">if</span>&nbsp;<span class="ident" id="2273626">i</span>&nbsp;<span class="op" id="2273628">&gt;=</span>&nbsp;<span class="ident" id="2273631">end</span>&nbsp;<span class="op" id="2273635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273640">p</span><span class="op" id="2273641">.</span><span class="ident" id="2273642">buf</span><span class="op" id="2273645">.</span><span class="ident" id="2273646">Write</span><span class="op" id="2273651">(</span><span class="ident" id="2273652">noVerbBytes</span><span class="op" id="2273663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273668">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273679">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273683">c</span><span class="op" id="2273684">,</span>&nbsp;<span class="ident" id="2273686">w</span>&nbsp;<span class="op" id="2273688">:=</span>&nbsp;<span class="ident" id="2273691">utf8</span><span class="op" id="2273695">.</span><span class="ident" id="2273696">DecodeRuneInString</span><span class="op" id="2273714">(</span><span class="ident" id="2273715">format</span><span class="op" id="2273721">[</span><span class="ident" id="2273722">i</span><span class="op" id="2273723">:</span><span class="op" id="2273724">]</span><span class="op" id="2273725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273729">i</span>&nbsp;<span class="op" id="2273731">+=</span>&nbsp;<span class="ident" id="2273734">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2273738">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273783">if</span>&nbsp;<span class="ident" id="2273786">c</span>&nbsp;<span class="op" id="2273788">==</span>&nbsp;<span class="string" id="2273791">&#39;%&#39;</span>&nbsp;<span class="op" id="2273795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273800">p</span><span class="op" id="2273801">.</span><span class="ident" id="2273802">buf</span><span class="op" id="2273805">.</span><span class="ident" id="2273806">WriteByte</span><span class="op" id="2273815">(</span><span class="string" id="2273816">&#39;%&#39;</span><span class="op" id="2273819">)</span>&nbsp;<span class="comment" id="2273821">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273853">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273868">if</span>&nbsp;<span class="op" id="2273871">!</span><span class="ident" id="2273872">p</span><span class="op" id="2273873">.</span><span class="ident" id="2273874">goodArgNum</span>&nbsp;<span class="op" id="2273885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273890">p</span><span class="op" id="2273891">.</span><span class="ident" id="2273892">buf</span><span class="op" id="2273895">.</span><span class="ident" id="2273896">Write</span><span class="op" id="2273901">(</span><span class="ident" id="2273902">percentBangBytes</span><span class="op" id="2273918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273923">p</span><span class="op" id="2273924">.</span><span class="ident" id="2273925">add</span><span class="op" id="2273928">(</span><span class="ident" id="2273929">c</span><span class="op" id="2273930">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2273935">p</span><span class="op" id="2273936">.</span><span class="ident" id="2273937">buf</span><span class="op" id="2273940">.</span><span class="ident" id="2273941">Write</span><span class="op" id="2273946">(</span><span class="ident" id="2273947">badIndexBytes</span><span class="op" id="2273960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2273965">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2273976">}</span>&nbsp;<span class="keyword" id="2273978">else</span>&nbsp;<span class="keyword" id="2273983">if</span>&nbsp;<span class="ident" id="2273986">argNum</span>&nbsp;<span class="op" id="2273993">&gt;=</span>&nbsp;<span class="builtinfunc" id="2273996">len</span><span class="op" id="2273999">(</span><span class="ident" id="2274000">a</span><span class="op" id="2274001">)</span>&nbsp;<span class="op" id="2274003">{</span>&nbsp;<span class="comment" id="2274005">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274027">p</span><span class="op" id="2274028">.</span><span class="ident" id="2274029">buf</span><span class="op" id="2274032">.</span><span class="ident" id="2274033">Write</span><span class="op" id="2274038">(</span><span class="ident" id="2274039">percentBangBytes</span><span class="op" id="2274055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274060">p</span><span class="op" id="2274061">.</span><span class="ident" id="2274062">add</span><span class="op" id="2274065">(</span><span class="ident" id="2274066">c</span><span class="op" id="2274067">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274072">p</span><span class="op" id="2274073">.</span><span class="ident" id="2274074">buf</span><span class="op" id="2274077">.</span><span class="ident" id="2274078">Write</span><span class="op" id="2274083">(</span><span class="ident" id="2274084">missingBytes</span><span class="op" id="2274096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274101">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274116">arg</span>&nbsp;<span class="op" id="2274120">:=</span>&nbsp;<span class="ident" id="2274123">a</span><span class="op" id="2274124">[</span><span class="ident" id="2274125">argNum</span><span class="op" id="2274131">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274135">argNum</span><span class="op" id="2274141">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274147">if</span>&nbsp;<span class="ident" id="2274150">c</span>&nbsp;<span class="op" id="2274152">==</span>&nbsp;<span class="string" id="2274155">&#39;v&#39;</span>&nbsp;<span class="op" id="2274159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274164">if</span>&nbsp;<span class="ident" id="2274167">p</span><span class="op" id="2274168">.</span><span class="ident" id="2274169">fmt</span><span class="op" id="2274172">.</span><span class="ident" id="2274173">sharp</span>&nbsp;<span class="op" id="2274179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2274185">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274253">p</span><span class="op" id="2274254">.</span><span class="ident" id="2274255">fmt</span><span class="op" id="2274258">.</span><span class="ident" id="2274259">sharp</span>&nbsp;<span class="op" id="2274265">=</span>&nbsp;<span class="builtintype" id="2274267">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274277">p</span><span class="op" id="2274278">.</span><span class="ident" id="2274279">fmt</span><span class="op" id="2274282">.</span><span class="ident" id="2274283">sharpV</span>&nbsp;<span class="op" id="2274290">=</span>&nbsp;<span class="builtintype" id="2274292">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274305">if</span>&nbsp;<span class="ident" id="2274308">p</span><span class="op" id="2274309">.</span><span class="ident" id="2274310">fmt</span><span class="op" id="2274313">.</span><span class="ident" id="2274314">plus</span>&nbsp;<span class="op" id="2274319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2274325">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274402">p</span><span class="op" id="2274403">.</span><span class="ident" id="2274404">fmt</span><span class="op" id="2274407">.</span><span class="ident" id="2274408">plus</span>&nbsp;<span class="op" id="2274413">=</span>&nbsp;<span class="builtintype" id="2274415">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274425">p</span><span class="op" id="2274426">.</span><span class="ident" id="2274427">fmt</span><span class="op" id="2274430">.</span><span class="ident" id="2274431">plusV</span>&nbsp;<span class="op" id="2274437">=</span>&nbsp;<span class="builtintype" id="2274439">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274455">p</span><span class="op" id="2274456">.</span><span class="ident" id="2274457">printArg</span><span class="op" id="2274465">(</span><span class="ident" id="2274466">arg</span><span class="op" id="2274469">,</span>&nbsp;<span class="ident" id="2274471">c</span><span class="op" id="2274472">,</span>&nbsp;<span class="num" id="2274474">0</span><span class="op" id="2274475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274478">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2274482">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2274551">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2274627">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274673">if</span>&nbsp;<span class="op" id="2274676">!</span><span class="ident" id="2274677">p</span><span class="op" id="2274678">.</span><span class="ident" id="2274679">reordered</span>&nbsp;<span class="op" id="2274689">&amp;&amp;</span>&nbsp;<span class="ident" id="2274692">argNum</span>&nbsp;<span class="op" id="2274699">&lt;</span>&nbsp;<span class="builtinfunc" id="2274701">len</span><span class="op" id="2274704">(</span><span class="ident" id="2274705">a</span><span class="op" id="2274706">)</span>&nbsp;<span class="op" id="2274708">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274712">p</span><span class="op" id="2274713">.</span><span class="ident" id="2274714">buf</span><span class="op" id="2274717">.</span><span class="ident" id="2274718">Write</span><span class="op" id="2274723">(</span><span class="ident" id="2274724">extraBytes</span><span class="op" id="2274734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274738">for</span>&nbsp;<span class="op" id="2274742">;</span>&nbsp;<span class="ident" id="2274744">argNum</span>&nbsp;<span class="op" id="2274751">&lt;</span>&nbsp;<span class="builtinfunc" id="2274753">len</span><span class="op" id="2274756">(</span><span class="ident" id="2274757">a</span><span class="op" id="2274758">)</span><span class="op" id="2274759">;</span>&nbsp;<span class="ident" id="2274761">argNum</span><span class="op" id="2274767">++</span>&nbsp;<span class="op" id="2274770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274775">arg</span>&nbsp;<span class="op" id="2274779">:=</span>&nbsp;<span class="ident" id="2274782">a</span><span class="op" id="2274783">[</span><span class="ident" id="2274784">argNum</span><span class="op" id="2274790">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274795">if</span>&nbsp;<span class="ident" id="2274798">arg</span>&nbsp;<span class="op" id="2274802">!=</span>&nbsp;<span class="ident" id="2274805">nil</span>&nbsp;<span class="op" id="2274809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274815">p</span><span class="op" id="2274816">.</span><span class="ident" id="2274817">buf</span><span class="op" id="2274820">.</span><span class="ident" id="2274821">WriteString</span><span class="op" id="2274832">(</span><span class="ident" id="2274833">reflect</span><span class="op" id="2274840">.</span><span class="ident" id="2274841">TypeOf</span><span class="op" id="2274847">(</span><span class="ident" id="2274848">arg</span><span class="op" id="2274851">)</span><span class="op" id="2274852">.</span><span class="ident" id="2274853">String</span><span class="op" id="2274859">(</span><span class="op" id="2274860">)</span><span class="op" id="2274861">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274867">p</span><span class="op" id="2274868">.</span><span class="ident" id="2274869">buf</span><span class="op" id="2274872">.</span><span class="ident" id="2274873">WriteByte</span><span class="op" id="2274882">(</span><span class="string" id="2274883">&#39;=&#39;</span><span class="op" id="2274886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274896">p</span><span class="op" id="2274897">.</span><span class="ident" id="2274898">printArg</span><span class="op" id="2274906">(</span><span class="ident" id="2274907">arg</span><span class="op" id="2274910">,</span>&nbsp;<span class="string" id="2274912">&#39;v&#39;</span><span class="op" id="2274915">,</span>&nbsp;<span class="num" id="2274917">0</span><span class="op" id="2274918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2274923">if</span>&nbsp;<span class="ident" id="2274926">argNum</span><span class="op" id="2274932">+</span><span class="num" id="2274933">1</span>&nbsp;<span class="op" id="2274935">&lt;</span>&nbsp;<span class="builtinfunc" id="2274937">len</span><span class="op" id="2274940">(</span><span class="ident" id="2274941">a</span><span class="op" id="2274942">)</span>&nbsp;<span class="op" id="2274944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274950">p</span><span class="op" id="2274951">.</span><span class="ident" id="2274952">buf</span><span class="op" id="2274955">.</span><span class="ident" id="2274956">Write</span><span class="op" id="2274961">(</span><span class="ident" id="2274962">commaSpaceBytes</span><span class="op" id="2274977">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2274986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2274990">p</span><span class="op" id="2274991">.</span><span class="ident" id="2274992">buf</span><span class="op" id="2274995">.</span><span class="ident" id="2274996">WriteByte</span><span class="op" id="2275005">(</span><span class="string" id="2275006">&#39;)&#39;</span><span class="op" id="2275009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2275012">}</span><br>
<span class="lineno"></span><span class="op" id="2275014">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2275017">func</span>&nbsp;<span class="op" id="2275022">(</span><span class="ident" id="2275023">p</span>&nbsp;<span class="op" id="2275025">*</span><span class="ident" id="2275026">pp</span><span class="op" id="2275028">)</span>&nbsp;<span class="ident" id="2275030">doPrint</span><span class="op" id="2275037">(</span><span class="ident" id="2275038">a</span>&nbsp;<span class="op" id="2275040">[</span><span class="op" id="2275041">]</span><span class="keyword" id="2275042">interface</span><span class="op" id="2275051">{</span><span class="op" id="2275052">}</span><span class="op" id="2275053">,</span>&nbsp;<span class="ident" id="2275055">addspace</span><span class="op" id="2275063">,</span>&nbsp;<span class="ident" id="2275065">addnewline</span>&nbsp;<span class="builtintype" id="2275076">bool</span><span class="op" id="2275080">)</span>&nbsp;<span class="op" id="2275082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275085">prevString</span>&nbsp;<span class="op" id="2275096">:=</span>&nbsp;<span class="builtintype" id="2275099">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2275106">for</span>&nbsp;<span class="ident" id="2275110">argNum</span>&nbsp;<span class="op" id="2275117">:=</span>&nbsp;<span class="num" id="2275120">0</span><span class="op" id="2275121">;</span>&nbsp;<span class="ident" id="2275123">argNum</span>&nbsp;<span class="op" id="2275130">&lt;</span>&nbsp;<span class="builtinfunc" id="2275132">len</span><span class="op" id="2275135">(</span><span class="ident" id="2275136">a</span><span class="op" id="2275137">)</span><span class="op" id="2275138">;</span>&nbsp;<span class="ident" id="2275140">argNum</span><span class="op" id="2275146">++</span>&nbsp;<span class="op" id="2275149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275153">p</span><span class="op" id="2275154">.</span><span class="ident" id="2275155">fmt</span><span class="op" id="2275158">.</span><span class="ident" id="2275159">clearflags</span><span class="op" id="2275169">(</span><span class="op" id="2275170">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2275174">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275220">arg</span>&nbsp;<span class="op" id="2275224">:=</span>&nbsp;<span class="ident" id="2275227">a</span><span class="op" id="2275228">[</span><span class="ident" id="2275229">argNum</span><span class="op" id="2275235">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2275239">if</span>&nbsp;<span class="ident" id="2275242">argNum</span>&nbsp;<span class="op" id="2275249">&gt;</span>&nbsp;<span class="num" id="2275251">0</span>&nbsp;<span class="op" id="2275253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275258">isString</span>&nbsp;<span class="op" id="2275267">:=</span>&nbsp;<span class="ident" id="2275270">arg</span>&nbsp;<span class="op" id="2275274">!=</span>&nbsp;<span class="ident" id="2275277">nil</span>&nbsp;<span class="op" id="2275281">&amp;&amp;</span>&nbsp;<span class="ident" id="2275284">reflect</span><span class="op" id="2275291">.</span><span class="ident" id="2275292">TypeOf</span><span class="op" id="2275298">(</span><span class="ident" id="2275299">arg</span><span class="op" id="2275302">)</span><span class="op" id="2275303">.</span><span class="ident" id="2275304">Kind</span><span class="op" id="2275308">(</span><span class="op" id="2275309">)</span>&nbsp;<span class="op" id="2275311">==</span>&nbsp;<span class="ident" id="2275314">reflect</span><span class="op" id="2275321">.</span><span class="ident" id="2275322">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2275332">if</span>&nbsp;<span class="ident" id="2275335">addspace</span>&nbsp;<span class="op" id="2275344">||</span>&nbsp;<span class="op" id="2275347">!</span><span class="ident" id="2275348">isString</span>&nbsp;<span class="op" id="2275357">&amp;&amp;</span>&nbsp;<span class="op" id="2275360">!</span><span class="ident" id="2275361">prevString</span>&nbsp;<span class="op" id="2275372">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275378">p</span><span class="op" id="2275379">.</span><span class="ident" id="2275380">buf</span><span class="op" id="2275383">.</span><span class="ident" id="2275384">WriteByte</span><span class="op" id="2275393">(</span><span class="string" id="2275394">&#39;&nbsp;&#39;</span><span class="op" id="2275397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2275402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2275406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275410">prevString</span>&nbsp;<span class="op" id="2275421">=</span>&nbsp;<span class="ident" id="2275423">p</span><span class="op" id="2275424">.</span><span class="ident" id="2275425">printArg</span><span class="op" id="2275433">(</span><span class="ident" id="2275434">arg</span><span class="op" id="2275437">,</span>&nbsp;<span class="string" id="2275439">&#39;v&#39;</span><span class="op" id="2275442">,</span>&nbsp;<span class="num" id="2275444">0</span><span class="op" id="2275445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2275448">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2275451">if</span>&nbsp;<span class="ident" id="2275454">addnewline</span>&nbsp;<span class="op" id="2275465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2275469">p</span><span class="op" id="2275470">.</span><span class="ident" id="2275471">buf</span><span class="op" id="2275474">.</span><span class="ident" id="2275475">WriteByte</span><span class="op" id="2275484">(</span><span class="string" id="2275485">&#39;\n&#39;</span><span class="op" id="2275489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2275492">}</span><br>
<span class="lineno"></span><span class="op" id="2275494">}</span>
</div>
</body>
</html>
