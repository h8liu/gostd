<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4350852">package</span>&nbsp;<span class="ident" id="4350860">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4350867">import</span>&nbsp;<span class="op" id="4350874">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4350877">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4350883">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4350886">var</span>&nbsp;<span class="op" id="4350890">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350893">opImsMap</span>&nbsp;<span class="op" id="4350902">=</span>&nbsp;<span class="keyword" id="4350904">map</span><span class="op" id="4350907">[</span><span class="builtintype" id="4350908">uint32</span><span class="op" id="4350914">]</span><span class="builtintype" id="4350915">string</span><span class="op" id="4350921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4350925">1</span><span class="op" id="4350926">:</span>&nbsp;<span class="string" id="4350928">&#34;addi&#34;</span><span class="op" id="4350934">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4350938">2</span><span class="op" id="4350939">:</span>&nbsp;<span class="string" id="4350941">&#34;slti&#34;</span><span class="op" id="4350947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4350950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350954">opMemMap</span>&nbsp;<span class="op" id="4350963">=</span>&nbsp;<span class="keyword" id="4350965">map</span><span class="op" id="4350968">[</span><span class="builtintype" id="4350969">uint32</span><span class="op" id="4350975">]</span><span class="builtintype" id="4350976">string</span><span class="op" id="4350982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4350986">6</span><span class="op" id="4350987">:</span>&nbsp;&nbsp;<span class="string" id="4350990">&#34;lw&#34;</span><span class="op" id="4350994">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4350998">7</span><span class="op" id="4350999">:</span>&nbsp;&nbsp;<span class="string" id="4351002">&#34;lb&#34;</span><span class="op" id="4351006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351010">8</span><span class="op" id="4351011">:</span>&nbsp;&nbsp;<span class="string" id="4351014">&#34;lbu&#34;</span><span class="op" id="4351019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351023">9</span><span class="op" id="4351024">:</span>&nbsp;&nbsp;<span class="string" id="4351027">&#34;sw&#34;</span><span class="op" id="4351031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351035">10</span><span class="op" id="4351037">:</span>&nbsp;<span class="string" id="4351039">&#34;sb&#34;</span><span class="op" id="4351043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351046">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351050">opImuMap</span>&nbsp;<span class="op" id="4351059">=</span>&nbsp;<span class="keyword" id="4351061">map</span><span class="op" id="4351064">[</span><span class="builtintype" id="4351065">uint32</span><span class="op" id="4351071">]</span><span class="builtintype" id="4351072">string</span><span class="op" id="4351078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351082">3</span><span class="op" id="4351083">:</span>&nbsp;<span class="string" id="4351085">&#34;andi&#34;</span><span class="op" id="4351091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351095">4</span><span class="op" id="4351096">:</span>&nbsp;<span class="string" id="4351098">&#34;ori&#34;</span><span class="op" id="4351103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351106">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351110">opImu2Map</span>&nbsp;<span class="op" id="4351120">=</span>&nbsp;<span class="keyword" id="4351122">map</span><span class="op" id="4351125">[</span><span class="builtintype" id="4351126">uint32</span><span class="op" id="4351132">]</span><span class="builtintype" id="4351133">string</span><span class="op" id="4351139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4351143">5</span><span class="op" id="4351144">:</span>&nbsp;<span class="string" id="4351146">&#34;lui&#34;</span><span class="op" id="4351151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351154">}</span><br>
<span class="lineno"></span><span class="op" id="4351156">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="4351159">func</span>&nbsp;<span class="ident" id="4351164">instImm</span><span class="op" id="4351171">(</span><span class="ident" id="4351172">addr</span>&nbsp;<span class="builtintype" id="4351177">uint32</span><span class="op" id="4351183">,</span>&nbsp;<span class="ident" id="4351185">in</span>&nbsp;<span class="builtintype" id="4351188">uint32</span><span class="op" id="4351194">)</span>&nbsp;<span class="op" id="4351196">*</span><span class="ident" id="4351197">Line</span>&nbsp;<span class="op" id="4351202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351205">op</span>&nbsp;<span class="op" id="4351208">:=</span>&nbsp;<span class="op" id="4351211">(</span><span class="ident" id="4351212">in</span>&nbsp;<span class="op" id="4351215">&gt;&gt;</span>&nbsp;<span class="num" id="4351218">24</span><span class="op" id="4351220">)</span>&nbsp;<span class="op" id="4351222">&amp;</span>&nbsp;<span class="num" id="4351224">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351230">dest</span>&nbsp;<span class="op" id="4351235">:=</span>&nbsp;<span class="ident" id="4351238">regStr</span><span class="op" id="4351244">(</span><span class="op" id="4351245">(</span><span class="ident" id="4351246">in</span>&nbsp;<span class="op" id="4351249">&gt;&gt;</span>&nbsp;<span class="num" id="4351252">21</span><span class="op" id="4351254">)</span>&nbsp;<span class="op" id="4351256">&amp;</span>&nbsp;<span class="num" id="4351258">0x7</span><span class="op" id="4351261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351264">src</span>&nbsp;<span class="op" id="4351268">:=</span>&nbsp;<span class="ident" id="4351271">regStr</span><span class="op" id="4351277">(</span><span class="op" id="4351278">(</span><span class="ident" id="4351279">in</span>&nbsp;<span class="op" id="4351282">&gt;&gt;</span>&nbsp;<span class="num" id="4351285">18</span><span class="op" id="4351287">)</span>&nbsp;<span class="op" id="4351289">&amp;</span>&nbsp;<span class="num" id="4351291">0x7</span><span class="op" id="4351294">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351297">imu</span>&nbsp;<span class="op" id="4351301">:=</span>&nbsp;<span class="ident" id="4351304">in</span>&nbsp;<span class="op" id="4351307">&amp;</span>&nbsp;<span class="num" id="4351309">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351317">ims</span>&nbsp;<span class="op" id="4351321">:=</span>&nbsp;<span class="builtintype" id="4351324">int32</span><span class="op" id="4351329">(</span><span class="ident" id="4351330">imu</span><span class="op" id="4351333">&lt;&lt;</span><span class="num" id="4351335">16</span><span class="op" id="4351337">)</span>&nbsp;<span class="op" id="4351339">&gt;&gt;</span>&nbsp;<span class="num" id="4351342">16</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4351347">var</span>&nbsp;<span class="ident" id="4351351">s</span>&nbsp;<span class="builtintype" id="4351353">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4351361">if</span>&nbsp;<span class="ident" id="4351364">opStr</span><span class="op" id="4351369">,</span>&nbsp;<span class="ident" id="4351371">found</span>&nbsp;<span class="op" id="4351377">:=</span>&nbsp;<span class="ident" id="4351380">opImsMap</span><span class="op" id="4351388">[</span><span class="ident" id="4351389">op</span><span class="op" id="4351391">]</span><span class="op" id="4351392">;</span>&nbsp;<span class="ident" id="4351394">found</span>&nbsp;<span class="op" id="4351400">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351404">s</span>&nbsp;<span class="op" id="4351406">=</span>&nbsp;<span class="ident" id="4351408">fmt</span><span class="op" id="4351411">.</span><span class="ident" id="4351412">Sprintf</span><span class="op" id="4351419">(</span><span class="string" id="4351420">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="4351433">,</span>&nbsp;<span class="ident" id="4351435">opStr</span><span class="op" id="4351440">,</span>&nbsp;<span class="ident" id="4351442">dest</span><span class="op" id="4351446">,</span>&nbsp;<span class="ident" id="4351448">src</span><span class="op" id="4351451">,</span>&nbsp;<span class="ident" id="4351453">ims</span><span class="op" id="4351456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351459">}</span>&nbsp;<span class="keyword" id="4351461">else</span>&nbsp;<span class="keyword" id="4351466">if</span>&nbsp;<span class="ident" id="4351469">opStr</span><span class="op" id="4351474">,</span>&nbsp;<span class="ident" id="4351476">found</span>&nbsp;<span class="op" id="4351482">:=</span>&nbsp;<span class="ident" id="4351485">opMemMap</span><span class="op" id="4351493">[</span><span class="ident" id="4351494">op</span><span class="op" id="4351496">]</span><span class="op" id="4351497">;</span>&nbsp;<span class="ident" id="4351499">found</span>&nbsp;<span class="op" id="4351505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4351509">if</span>&nbsp;<span class="ident" id="4351512">ims</span>&nbsp;<span class="op" id="4351516">==</span>&nbsp;<span class="num" id="4351519">0</span>&nbsp;<span class="op" id="4351521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351526">s</span>&nbsp;<span class="op" id="4351528">=</span>&nbsp;<span class="ident" id="4351530">fmt</span><span class="op" id="4351533">.</span><span class="ident" id="4351534">Sprintf</span><span class="op" id="4351541">(</span><span class="string" id="4351542">&#34;%s&nbsp;%s&nbsp;%s&#34;</span><span class="op" id="4351552">,</span>&nbsp;<span class="ident" id="4351554">opStr</span><span class="op" id="4351559">,</span>&nbsp;<span class="ident" id="4351561">dest</span><span class="op" id="4351565">,</span>&nbsp;<span class="ident" id="4351567">src</span><span class="op" id="4351570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351574">}</span>&nbsp;<span class="keyword" id="4351576">else</span>&nbsp;<span class="op" id="4351581">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351586">s</span>&nbsp;<span class="op" id="4351588">=</span>&nbsp;<span class="ident" id="4351590">fmt</span><span class="op" id="4351593">.</span><span class="ident" id="4351594">Sprintf</span><span class="op" id="4351601">(</span><span class="string" id="4351602">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="4351615">,</span>&nbsp;<span class="ident" id="4351617">opStr</span><span class="op" id="4351622">,</span>&nbsp;<span class="ident" id="4351624">dest</span><span class="op" id="4351628">,</span>&nbsp;<span class="ident" id="4351630">src</span><span class="op" id="4351633">,</span>&nbsp;<span class="ident" id="4351635">ims</span><span class="op" id="4351638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351645">}</span>&nbsp;<span class="keyword" id="4351647">else</span>&nbsp;<span class="keyword" id="4351652">if</span>&nbsp;<span class="ident" id="4351655">opStr</span><span class="op" id="4351660">,</span>&nbsp;<span class="ident" id="4351662">found</span>&nbsp;<span class="op" id="4351668">:=</span>&nbsp;<span class="ident" id="4351671">opImuMap</span><span class="op" id="4351679">[</span><span class="ident" id="4351680">op</span><span class="op" id="4351682">]</span><span class="op" id="4351683">;</span>&nbsp;<span class="ident" id="4351685">found</span>&nbsp;<span class="op" id="4351691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351695">s</span>&nbsp;<span class="op" id="4351697">=</span>&nbsp;<span class="ident" id="4351699">fmt</span><span class="op" id="4351702">.</span><span class="ident" id="4351703">Sprintf</span><span class="op" id="4351710">(</span><span class="string" id="4351711">&#34;%s&nbsp;%s&nbsp;%s&nbsp;0x%04x&#34;</span><span class="op" id="4351728">,</span>&nbsp;<span class="ident" id="4351730">opStr</span><span class="op" id="4351735">,</span>&nbsp;<span class="ident" id="4351737">dest</span><span class="op" id="4351741">,</span>&nbsp;<span class="ident" id="4351743">src</span><span class="op" id="4351746">,</span>&nbsp;<span class="ident" id="4351748">imu</span><span class="op" id="4351751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351754">}</span>&nbsp;<span class="keyword" id="4351756">else</span>&nbsp;<span class="keyword" id="4351761">if</span>&nbsp;<span class="ident" id="4351764">opStr</span><span class="op" id="4351769">,</span>&nbsp;<span class="ident" id="4351771">found</span>&nbsp;<span class="op" id="4351777">:=</span>&nbsp;<span class="ident" id="4351780">opImu2Map</span><span class="op" id="4351789">[</span><span class="ident" id="4351790">op</span><span class="op" id="4351792">]</span><span class="op" id="4351793">;</span>&nbsp;<span class="ident" id="4351795">found</span>&nbsp;<span class="op" id="4351801">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351805">s</span>&nbsp;<span class="op" id="4351807">=</span>&nbsp;<span class="ident" id="4351809">fmt</span><span class="op" id="4351812">.</span><span class="ident" id="4351813">Sprintf</span><span class="op" id="4351820">(</span><span class="string" id="4351821">&#34;%s&nbsp;%s&nbsp;0x%04x&#34;</span><span class="op" id="4351835">,</span>&nbsp;<span class="ident" id="4351837">opStr</span><span class="op" id="4351842">,</span>&nbsp;<span class="ident" id="4351844">dest</span><span class="op" id="4351848">,</span>&nbsp;<span class="ident" id="4351850">imu</span><span class="op" id="4351853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4351856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351860">ret</span>&nbsp;<span class="op" id="4351864">:=</span>&nbsp;<span class="ident" id="4351867">newLine</span><span class="op" id="4351874">(</span><span class="ident" id="4351875">addr</span><span class="op" id="4351879">,</span>&nbsp;<span class="ident" id="4351881">in</span><span class="op" id="4351883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4351886">ret</span><span class="op" id="4351889">.</span><span class="ident" id="4351890">Str</span>&nbsp;<span class="op" id="4351894">=</span>&nbsp;<span class="ident" id="4351896">s</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4351900">return</span>&nbsp;<span class="ident" id="4351907">ret</span><br>
<span class="lineno"></span><span class="op" id="4351911">}</span>
</div>
</body>
</html>
