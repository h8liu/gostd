<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1727965">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1728020">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1728074">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1728125">package</span>&nbsp;<span class="ident" id="1728133">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1728142">import</span>&nbsp;<span class="string" id="1728149">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1728159">//&nbsp;Declarations&nbsp;for&nbsp;runtime&nbsp;services&nbsp;implemented&nbsp;in&nbsp;C&nbsp;or&nbsp;assembly.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1728227">const</span>&nbsp;<span class="ident" id="1728233">ptrSize</span>&nbsp;<span class="op" id="1728241">=</span>&nbsp;<span class="num" id="1728243">4</span>&nbsp;<span class="op" id="1728245">&lt;&lt;</span>&nbsp;<span class="op" id="1728248">(</span><span class="op" id="1728249">^</span><span class="builtintype" id="1728250">uintptr</span><span class="op" id="1728257">(</span><span class="num" id="1728258">0</span><span class="op" id="1728259">)</span>&nbsp;<span class="op" id="1728261">&gt;&gt;</span>&nbsp;<span class="num" id="1728264">63</span><span class="op" id="1728266">)</span>&nbsp;<span class="comment" id="1728268">//&nbsp;unsafe.Sizeof(uintptr(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><span class="keyword" id="1728316">const</span>&nbsp;<span class="ident" id="1728322">regSize</span>&nbsp;<span class="op" id="1728330">=</span>&nbsp;<span class="num" id="1728332">4</span>&nbsp;<span class="op" id="1728334">&lt;&lt;</span>&nbsp;<span class="op" id="1728337">(</span><span class="op" id="1728338">^</span><span class="ident" id="1728339">uintreg</span><span class="op" id="1728346">(</span><span class="num" id="1728347">0</span><span class="op" id="1728348">)</span>&nbsp;<span class="op" id="1728350">&gt;&gt;</span>&nbsp;<span class="num" id="1728353">63</span><span class="op" id="1728355">)</span>&nbsp;<span class="comment" id="1728357">//&nbsp;unsafe.Sizeof(uintreg(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1728406">//&nbsp;Should&nbsp;be&nbsp;a&nbsp;built-in&nbsp;for&nbsp;unsafe.Pointer?</span><br>
<span class="lineno">15</span><span class="comment" id="1728450">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1728463">func</span>&nbsp;<span class="ident" id="1728468">add</span><span class="op" id="1728471">(</span><span class="ident" id="1728472">p</span>&nbsp;<span class="ident" id="1728474">unsafe</span><span class="op" id="1728480">.</span><span class="ident" id="1728481">Pointer</span><span class="op" id="1728488">,</span>&nbsp;<span class="ident" id="1728490">x</span>&nbsp;<span class="builtintype" id="1728492">uintptr</span><span class="op" id="1728499">)</span>&nbsp;<span class="ident" id="1728501">unsafe</span><span class="op" id="1728507">.</span><span class="ident" id="1728508">Pointer</span>&nbsp;<span class="op" id="1728516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1728519">return</span>&nbsp;<span class="ident" id="1728526">unsafe</span><span class="op" id="1728532">.</span><span class="ident" id="1728533">Pointer</span><span class="op" id="1728540">(</span><span class="builtintype" id="1728541">uintptr</span><span class="op" id="1728548">(</span><span class="ident" id="1728549">p</span><span class="op" id="1728550">)</span>&nbsp;<span class="op" id="1728552">+</span>&nbsp;<span class="ident" id="1728554">x</span><span class="op" id="1728555">)</span><br>
<span class="lineno"></span><span class="op" id="1728557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1728560">//&nbsp;n&nbsp;must&nbsp;be&nbsp;a&nbsp;power&nbsp;of&nbsp;2</span><br>
<span class="lineno"></span><span class="keyword" id="1728586">func</span>&nbsp;<span class="ident" id="1728591">roundup</span><span class="op" id="1728598">(</span><span class="ident" id="1728599">p</span>&nbsp;<span class="ident" id="1728601">unsafe</span><span class="op" id="1728607">.</span><span class="ident" id="1728608">Pointer</span><span class="op" id="1728615">,</span>&nbsp;<span class="ident" id="1728617">n</span>&nbsp;<span class="builtintype" id="1728619">uintptr</span><span class="op" id="1728626">)</span>&nbsp;<span class="ident" id="1728628">unsafe</span><span class="op" id="1728634">.</span><span class="ident" id="1728635">Pointer</span>&nbsp;<span class="op" id="1728643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1728646">delta</span>&nbsp;<span class="op" id="1728652">:=</span>&nbsp;<span class="op" id="1728655">-</span><span class="builtintype" id="1728656">uintptr</span><span class="op" id="1728663">(</span><span class="ident" id="1728664">p</span><span class="op" id="1728665">)</span>&nbsp;<span class="op" id="1728667">&amp;</span>&nbsp;<span class="op" id="1728669">(</span><span class="ident" id="1728670">n</span>&nbsp;<span class="op" id="1728672">-</span>&nbsp;<span class="num" id="1728674">1</span><span class="op" id="1728675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1728678">return</span>&nbsp;<span class="ident" id="1728685">unsafe</span><span class="op" id="1728691">.</span><span class="ident" id="1728692">Pointer</span><span class="op" id="1728699">(</span><span class="builtintype" id="1728700">uintptr</span><span class="op" id="1728707">(</span><span class="ident" id="1728708">p</span><span class="op" id="1728709">)</span>&nbsp;<span class="op" id="1728711">+</span>&nbsp;<span class="ident" id="1728713">delta</span><span class="op" id="1728718">)</span><br>
<span class="lineno"></span><span class="op" id="1728720">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1728723">//&nbsp;in&nbsp;runtime.c</span><br>
<span class="lineno"></span><span class="keyword" id="1728739">func</span>&nbsp;<span class="ident" id="1728744">getg</span><span class="op" id="1728748">(</span><span class="op" id="1728749">)</span>&nbsp;<span class="op" id="1728751">*</span><span class="ident" id="1728752">g</span><br>
<span class="lineno"></span><span class="keyword" id="1728754">func</span>&nbsp;<span class="ident" id="1728759">acquirem</span><span class="op" id="1728767">(</span><span class="op" id="1728768">)</span>&nbsp;<span class="op" id="1728770">*</span><span class="ident" id="1728771">m</span><br>
<span class="lineno"></span><span class="keyword" id="1728773">func</span>&nbsp;<span class="ident" id="1728778">releasem</span><span class="op" id="1728786">(</span><span class="ident" id="1728787">mp</span>&nbsp;<span class="op" id="1728790">*</span><span class="ident" id="1728791">m</span><span class="op" id="1728792">)</span><br>
<span class="lineno">30</span><span class="keyword" id="1728794">func</span>&nbsp;<span class="ident" id="1728799">gomcache</span><span class="op" id="1728807">(</span><span class="op" id="1728808">)</span>&nbsp;<span class="op" id="1728810">*</span><span class="ident" id="1728811">mcache</span><br>
<span class="lineno"></span><span class="keyword" id="1728818">func</span>&nbsp;<span class="ident" id="1728823">readgstatus</span><span class="op" id="1728834">(</span><span class="op" id="1728835">*</span><span class="ident" id="1728836">g</span><span class="op" id="1728837">)</span>&nbsp;<span class="builtintype" id="1728839">uint32</span>&nbsp;<span class="comment" id="1728846">//&nbsp;proc.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1728857">//&nbsp;mcall&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn(g),</span><br>
<span class="lineno"></span><span class="comment" id="1728921">//&nbsp;where&nbsp;g&nbsp;is&nbsp;the&nbsp;goroutine&nbsp;that&nbsp;made&nbsp;the&nbsp;call.</span><br>
<span class="lineno">35</span><span class="comment" id="1728969">//&nbsp;mcall&nbsp;saves&nbsp;g&#39;s&nbsp;current&nbsp;PC/SP&nbsp;in&nbsp;g-&gt;sched&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restored&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1729048">//&nbsp;It&nbsp;is&nbsp;up&nbsp;to&nbsp;fn&nbsp;to&nbsp;arrange&nbsp;for&nbsp;that&nbsp;later&nbsp;execution,&nbsp;typically&nbsp;by&nbsp;recording</span><br>
<span class="lineno"></span><span class="comment" id="1729126">//&nbsp;g&nbsp;in&nbsp;a&nbsp;data&nbsp;structure,&nbsp;causing&nbsp;something&nbsp;to&nbsp;call&nbsp;ready(g)&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1729194">//&nbsp;mcall&nbsp;returns&nbsp;to&nbsp;the&nbsp;original&nbsp;goroutine&nbsp;g&nbsp;later,&nbsp;when&nbsp;g&nbsp;has&nbsp;been&nbsp;rescheduled.</span><br>
<span class="lineno"></span><span class="comment" id="1729275">//&nbsp;fn&nbsp;must&nbsp;not&nbsp;return&nbsp;at&nbsp;all;&nbsp;typically&nbsp;it&nbsp;ends&nbsp;by&nbsp;calling&nbsp;schedule,&nbsp;to&nbsp;let&nbsp;the&nbsp;m</span><br>
<span class="lineno">40</span><span class="comment" id="1729357">//&nbsp;run&nbsp;other&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="comment" id="1729382">//</span><br>
<span class="lineno"></span><span class="comment" id="1729385">//&nbsp;mcall&nbsp;can&nbsp;only&nbsp;be&nbsp;called&nbsp;from&nbsp;g&nbsp;stacks&nbsp;(not&nbsp;g0,&nbsp;not&nbsp;gsignal).</span><br>
<span class="lineno"></span><span class="comment" id="1729450">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1729464">func</span>&nbsp;<span class="ident" id="1729469">mcall</span><span class="op" id="1729474">(</span><span class="ident" id="1729475">fn</span>&nbsp;<span class="keyword" id="1729478">func</span><span class="op" id="1729482">(</span><span class="op" id="1729483">*</span><span class="ident" id="1729484">g</span><span class="op" id="1729485">)</span><span class="op" id="1729486">)</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1729489">//&nbsp;onM&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn().</span><br>
<span class="lineno"></span><span class="comment" id="1729550">//&nbsp;When&nbsp;fn&nbsp;returns,&nbsp;onM&nbsp;switches&nbsp;back&nbsp;to&nbsp;the&nbsp;g&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1729610">//&nbsp;continuing&nbsp;execution&nbsp;on&nbsp;the&nbsp;g&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1729650">//&nbsp;If&nbsp;arguments&nbsp;must&nbsp;be&nbsp;passed&nbsp;to&nbsp;fn,&nbsp;they&nbsp;can&nbsp;be&nbsp;written&nbsp;to</span><br>
<span class="lineno">50</span><span class="comment" id="1729711">//&nbsp;g-&gt;m-&gt;ptrarg&nbsp;(pointers)&nbsp;and&nbsp;g-&gt;m-&gt;scalararg&nbsp;(non-pointers)</span><br>
<span class="lineno"></span><span class="comment" id="1729773">//&nbsp;before&nbsp;the&nbsp;call&nbsp;and&nbsp;then&nbsp;consulted&nbsp;during&nbsp;fn.</span><br>
<span class="lineno"></span><span class="comment" id="1729822">//&nbsp;Similarly,&nbsp;fn&nbsp;can&nbsp;pass&nbsp;return&nbsp;values&nbsp;back&nbsp;in&nbsp;those&nbsp;locations.</span><br>
<span class="lineno"></span><span class="comment" id="1729887">//&nbsp;If&nbsp;fn&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;it&nbsp;can&nbsp;be&nbsp;a&nbsp;closure,&nbsp;which&nbsp;avoids&nbsp;the&nbsp;need&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1729961">//&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;entirely.</span><br>
<span class="lineno">55</span><span class="comment" id="1729995">//&nbsp;After&nbsp;reading&nbsp;values&nbsp;out&nbsp;of&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;it&nbsp;is&nbsp;conventional</span><br>
<span class="lineno"></span><span class="comment" id="1730066">//&nbsp;to&nbsp;zero&nbsp;them&nbsp;to&nbsp;avoid&nbsp;(memory&nbsp;or&nbsp;information)&nbsp;leaks.</span><br>
<span class="lineno"></span><span class="comment" id="1730122">//</span><br>
<span class="lineno"></span><span class="comment" id="1730125">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;g0&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1730189">//&nbsp;without&nbsp;any&nbsp;stack&nbsp;switches.</span><br>
<span class="lineno">60</span><span class="comment" id="1730220">//</span><br>
<span class="lineno"></span><span class="comment" id="1730223">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;crashes&nbsp;the&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="1730289">//&nbsp;The&nbsp;implication&nbsp;is&nbsp;that&nbsp;functions&nbsp;used&nbsp;in&nbsp;signal&nbsp;handlers&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="1730355">//&nbsp;not&nbsp;use&nbsp;onM.</span><br>
<span class="lineno"></span><span class="comment" id="1730371">//</span><br>
<span class="lineno">65</span><span class="comment" id="1730374">//&nbsp;NOTE(rsc):&nbsp;We&nbsp;could&nbsp;introduce&nbsp;a&nbsp;separate&nbsp;onMsignal&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1730436">//&nbsp;like&nbsp;onM&nbsp;but&nbsp;if&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack&nbsp;would&nbsp;just&nbsp;run&nbsp;fn&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1730504">//&nbsp;that&nbsp;stack.&nbsp;The&nbsp;caller&nbsp;of&nbsp;onMsignal&nbsp;would&nbsp;be&nbsp;required&nbsp;to&nbsp;save&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1730573">//&nbsp;old&nbsp;values&nbsp;of&nbsp;ptrarg/scalararg&nbsp;and&nbsp;restore&nbsp;them&nbsp;when&nbsp;the&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1730638">//&nbsp;was&nbsp;finished,&nbsp;in&nbsp;case&nbsp;the&nbsp;signal&nbsp;interrupted&nbsp;an&nbsp;onM&nbsp;sequence</span><br>
<span class="lineno">70</span><span class="comment" id="1730702">//&nbsp;in&nbsp;progress&nbsp;on&nbsp;the&nbsp;g&nbsp;or&nbsp;g0&nbsp;stacks.&nbsp;Until&nbsp;there&nbsp;is&nbsp;a&nbsp;clear&nbsp;need&nbsp;for&nbsp;this,</span><br>
<span class="lineno"></span><span class="comment" id="1730778">//&nbsp;we&nbsp;just&nbsp;reject&nbsp;onM&nbsp;in&nbsp;signal&nbsp;handling&nbsp;contexts&nbsp;entirely.</span><br>
<span class="lineno"></span><span class="comment" id="1730838">//</span><br>
<span class="lineno"></span><span class="comment" id="1730841">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1730855">func</span>&nbsp;<span class="ident" id="1730860">onM</span><span class="op" id="1730863">(</span><span class="ident" id="1730864">fn</span>&nbsp;<span class="keyword" id="1730867">func</span><span class="op" id="1730871">(</span><span class="op" id="1730872">)</span><span class="op" id="1730873">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1730876">//&nbsp;onMsignal&nbsp;is&nbsp;like&nbsp;onM&nbsp;but&nbsp;is&nbsp;allowed&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;code&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1730940">//&nbsp;might&nbsp;run&nbsp;on&nbsp;the&nbsp;gsignal&nbsp;stack.&nbsp;Code&nbsp;running&nbsp;on&nbsp;a&nbsp;signal&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="1731006">//&nbsp;may&nbsp;be&nbsp;interrupting&nbsp;an&nbsp;onM&nbsp;sequence&nbsp;on&nbsp;the&nbsp;main&nbsp;stack,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="1731067">//&nbsp;if&nbsp;the&nbsp;onMsignal&nbsp;calling&nbsp;sequence&nbsp;writes&nbsp;to&nbsp;ptrarg/scalararg,</span><br>
<span class="lineno">80</span><span class="comment" id="1731132">//&nbsp;it&nbsp;must&nbsp;first&nbsp;save&nbsp;the&nbsp;old&nbsp;values&nbsp;and&nbsp;then&nbsp;restore&nbsp;them&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1731196">//&nbsp;finished.&nbsp;As&nbsp;an&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule,&nbsp;it&nbsp;is&nbsp;fine&nbsp;not&nbsp;to&nbsp;save&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1731265">//&nbsp;restore&nbsp;the&nbsp;values&nbsp;if&nbsp;the&nbsp;program&nbsp;is&nbsp;trying&nbsp;to&nbsp;crash&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="1731333">//&nbsp;return&nbsp;from&nbsp;the&nbsp;signal&nbsp;handler.</span><br>
<span class="lineno"></span><span class="comment" id="1731368">//&nbsp;Once&nbsp;all&nbsp;the&nbsp;runtime&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;ptrarg/scalararg</span><br>
<span class="lineno">85</span><span class="comment" id="1731444">//&nbsp;and&nbsp;the&nbsp;distinction&nbsp;between&nbsp;onM&nbsp;and&nbsp;onMsignal&nbsp;(and&nbsp;perhaps&nbsp;mcall)</span><br>
<span class="lineno"></span><span class="comment" id="1731513">//&nbsp;can&nbsp;go&nbsp;away.</span><br>
<span class="lineno"></span><span class="comment" id="1731529">//</span><br>
<span class="lineno"></span><span class="comment" id="1731532">//&nbsp;If&nbsp;onMsignal&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;directly,</span><br>
<span class="lineno"></span><span class="comment" id="1731604">//&nbsp;without&nbsp;a&nbsp;stack&nbsp;switch.&nbsp;Otherwise&nbsp;onMsignal&nbsp;behaves&nbsp;like&nbsp;onM.</span><br>
<span class="lineno">90</span><span class="comment" id="1731669">//</span><br>
<span class="lineno"></span><span class="comment" id="1731672">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1731686">func</span>&nbsp;<span class="ident" id="1731691">onM_signalok</span><span class="op" id="1731703">(</span><span class="ident" id="1731704">fn</span>&nbsp;<span class="keyword" id="1731707">func</span><span class="op" id="1731711">(</span><span class="op" id="1731712">)</span><span class="op" id="1731713">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1731716">func</span>&nbsp;<span class="ident" id="1731721">badonm</span><span class="op" id="1731727">(</span><span class="op" id="1731728">)</span>&nbsp;<span class="op" id="1731730">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1731733">gothrow</span><span class="op" id="1731740">(</span><span class="string" id="1731741">&#34;onM&nbsp;called&nbsp;from&nbsp;signal&nbsp;goroutine&#34;</span><span class="op" id="1731775">)</span><br>
<span class="lineno"></span><span class="op" id="1731777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1731780">//&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1731820">//&nbsp;Call&nbsp;using&nbsp;mcall.</span><br>
<span class="lineno">100</span><span class="keyword" id="1731841">func</span>&nbsp;<span class="ident" id="1731846">gosched_m</span><span class="op" id="1731855">(</span><span class="op" id="1731856">*</span><span class="ident" id="1731857">g</span><span class="op" id="1731858">)</span><br>
<span class="lineno"></span><span class="keyword" id="1731860">func</span>&nbsp;<span class="ident" id="1731865">park_m</span><span class="op" id="1731871">(</span><span class="op" id="1731872">*</span><span class="ident" id="1731873">g</span><span class="op" id="1731874">)</span><br>
<span class="lineno"></span><span class="keyword" id="1731876">func</span>&nbsp;<span class="ident" id="1731881">recovery_m</span><span class="op" id="1731891">(</span><span class="op" id="1731892">*</span><span class="ident" id="1731893">g</span><span class="op" id="1731894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1731897">//&nbsp;More&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno">105</span><span class="comment" id="1731942">//&nbsp;Call&nbsp;using&nbsp;onM.</span><br>
<span class="lineno"></span><span class="keyword" id="1731961">func</span>&nbsp;<span class="ident" id="1731966">mcacheRefill_m</span><span class="op" id="1731980">(</span><span class="op" id="1731981">)</span><br>
<span class="lineno"></span><span class="keyword" id="1731983">func</span>&nbsp;<span class="ident" id="1731988">largeAlloc_m</span><span class="op" id="1732000">(</span><span class="op" id="1732001">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732003">func</span>&nbsp;<span class="ident" id="1732008">gc_m</span><span class="op" id="1732012">(</span><span class="op" id="1732013">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732015">func</span>&nbsp;<span class="ident" id="1732020">scavenge_m</span><span class="op" id="1732030">(</span><span class="op" id="1732031">)</span><br>
<span class="lineno">110</span><span class="keyword" id="1732033">func</span>&nbsp;<span class="ident" id="1732038">setFinalizer_m</span><span class="op" id="1732052">(</span><span class="op" id="1732053">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732055">func</span>&nbsp;<span class="ident" id="1732060">removeFinalizer_m</span><span class="op" id="1732077">(</span><span class="op" id="1732078">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732080">func</span>&nbsp;<span class="ident" id="1732085">markallocated_m</span><span class="op" id="1732100">(</span><span class="op" id="1732101">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732103">func</span>&nbsp;<span class="ident" id="1732108">unrollgcprog_m</span><span class="op" id="1732122">(</span><span class="op" id="1732123">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732125">func</span>&nbsp;<span class="ident" id="1732130">unrollgcproginplace_m</span><span class="op" id="1732151">(</span><span class="op" id="1732152">)</span><br>
<span class="lineno">115</span><span class="keyword" id="1732154">func</span>&nbsp;<span class="ident" id="1732159">setgcpercent_m</span><span class="op" id="1732173">(</span><span class="op" id="1732174">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732176">func</span>&nbsp;<span class="ident" id="1732181">setmaxthreads_m</span><span class="op" id="1732196">(</span><span class="op" id="1732197">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732199">func</span>&nbsp;<span class="ident" id="1732204">ready_m</span><span class="op" id="1732211">(</span><span class="op" id="1732212">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732214">func</span>&nbsp;<span class="ident" id="1732219">deferproc_m</span><span class="op" id="1732230">(</span><span class="op" id="1732231">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732233">func</span>&nbsp;<span class="ident" id="1732238">goexit_m</span><span class="op" id="1732246">(</span><span class="op" id="1732247">)</span><br>
<span class="lineno">120</span><span class="keyword" id="1732249">func</span>&nbsp;<span class="ident" id="1732254">startpanic_m</span><span class="op" id="1732266">(</span><span class="op" id="1732267">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732269">func</span>&nbsp;<span class="ident" id="1732274">dopanic_m</span><span class="op" id="1732283">(</span><span class="op" id="1732284">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732286">func</span>&nbsp;<span class="ident" id="1732291">readmemstats_m</span><span class="op" id="1732305">(</span><span class="op" id="1732306">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732308">func</span>&nbsp;<span class="ident" id="1732313">writeheapdump_m</span><span class="op" id="1732328">(</span><span class="op" id="1732329">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="1732332">//&nbsp;memclr&nbsp;clears&nbsp;n&nbsp;bytes&nbsp;starting&nbsp;at&nbsp;ptr.</span><br>
<span class="lineno"></span><span class="comment" id="1732374">//&nbsp;in&nbsp;memclr_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1732391">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1732405">func</span>&nbsp;<span class="ident" id="1732410">memclr</span><span class="op" id="1732416">(</span><span class="ident" id="1732417">ptr</span>&nbsp;<span class="ident" id="1732421">unsafe</span><span class="op" id="1732427">.</span><span class="ident" id="1732428">Pointer</span><span class="op" id="1732435">,</span>&nbsp;<span class="ident" id="1732437">n</span>&nbsp;<span class="builtintype" id="1732439">uintptr</span><span class="op" id="1732446">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1732449">//&nbsp;memmove&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;from&nbsp;&#34;from&#34;&nbsp;to&nbsp;&#34;to&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="1732496">//&nbsp;in&nbsp;memmove_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1732514">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1732528">func</span>&nbsp;<span class="ident" id="1732533">memmove</span><span class="op" id="1732540">(</span><span class="ident" id="1732541">to</span>&nbsp;<span class="ident" id="1732544">unsafe</span><span class="op" id="1732550">.</span><span class="ident" id="1732551">Pointer</span><span class="op" id="1732558">,</span>&nbsp;<span class="ident" id="1732560">from</span>&nbsp;<span class="ident" id="1732565">unsafe</span><span class="op" id="1732571">.</span><span class="ident" id="1732572">Pointer</span><span class="op" id="1732579">,</span>&nbsp;<span class="ident" id="1732581">n</span>&nbsp;<span class="builtintype" id="1732583">uintptr</span><span class="op" id="1732590">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="1732593">func</span>&nbsp;<span class="ident" id="1732598">starttheworld</span><span class="op" id="1732611">(</span><span class="op" id="1732612">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732614">func</span>&nbsp;<span class="ident" id="1732619">stoptheworld</span><span class="op" id="1732631">(</span><span class="op" id="1732632">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732634">func</span>&nbsp;<span class="ident" id="1732639">newextram</span><span class="op" id="1732648">(</span><span class="op" id="1732649">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732651">func</span>&nbsp;<span class="ident" id="1732656">lockOSThread</span><span class="op" id="1732668">(</span><span class="op" id="1732669">)</span><br>
<span class="lineno"></span><span class="keyword" id="1732671">func</span>&nbsp;<span class="ident" id="1732676">unlockOSThread</span><span class="op" id="1732690">(</span><span class="op" id="1732691">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1732694">//&nbsp;exported&nbsp;value&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="1732724">var</span>&nbsp;<span class="ident" id="1732728">hashLoad</span>&nbsp;<span class="op" id="1732737">=</span>&nbsp;<span class="ident" id="1732739">loadFactor</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1732751">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">145</span><span class="keyword" id="1732765">func</span>&nbsp;<span class="ident" id="1732770">fastrand1</span><span class="op" id="1732779">(</span><span class="op" id="1732780">)</span>&nbsp;<span class="builtintype" id="1732782">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1732790">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1732804">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1732818">func</span>&nbsp;<span class="ident" id="1732823">memeq</span><span class="op" id="1732828">(</span><span class="ident" id="1732829">a</span><span class="op" id="1732830">,</span>&nbsp;<span class="ident" id="1732832">b</span>&nbsp;<span class="ident" id="1732834">unsafe</span><span class="op" id="1732840">.</span><span class="ident" id="1732841">Pointer</span><span class="op" id="1732848">,</span>&nbsp;<span class="ident" id="1732850">size</span>&nbsp;<span class="builtintype" id="1732855">uintptr</span><span class="op" id="1732862">)</span>&nbsp;<span class="builtintype" id="1732864">bool</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="1732870">//&nbsp;noescape&nbsp;hides&nbsp;a&nbsp;pointer&nbsp;from&nbsp;escape&nbsp;analysis.&nbsp;&nbsp;noescape&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1732933">//&nbsp;the&nbsp;identity&nbsp;function&nbsp;but&nbsp;escape&nbsp;analysis&nbsp;doesn&#39;t&nbsp;think&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1732996">//&nbsp;output&nbsp;depends&nbsp;on&nbsp;the&nbsp;input.&nbsp;&nbsp;noescape&nbsp;is&nbsp;inlined&nbsp;and&nbsp;currently</span><br>
<span class="lineno"></span><span class="comment" id="1733063">//&nbsp;compiles&nbsp;down&nbsp;to&nbsp;a&nbsp;single&nbsp;xor&nbsp;instruction.</span><br>
<span class="lineno">155</span><span class="comment" id="1733109">//&nbsp;USE&nbsp;CAREFULLY!</span><br>
<span class="lineno"></span><span class="comment" id="1733127">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1733140">func</span>&nbsp;<span class="ident" id="1733145">noescape</span><span class="op" id="1733153">(</span><span class="ident" id="1733154">p</span>&nbsp;<span class="ident" id="1733156">unsafe</span><span class="op" id="1733162">.</span><span class="ident" id="1733163">Pointer</span><span class="op" id="1733170">)</span>&nbsp;<span class="ident" id="1733172">unsafe</span><span class="op" id="1733178">.</span><span class="ident" id="1733179">Pointer</span>&nbsp;<span class="op" id="1733187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1733190">x</span>&nbsp;<span class="op" id="1733192">:=</span>&nbsp;<span class="builtintype" id="1733195">uintptr</span><span class="op" id="1733202">(</span><span class="ident" id="1733203">p</span><span class="op" id="1733204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1733207">return</span>&nbsp;<span class="ident" id="1733214">unsafe</span><span class="op" id="1733220">.</span><span class="ident" id="1733221">Pointer</span><span class="op" id="1733228">(</span><span class="ident" id="1733229">x</span>&nbsp;<span class="op" id="1733231">^</span>&nbsp;<span class="num" id="1733233">0</span><span class="op" id="1733234">)</span><br>
<span class="lineno">160</span><span class="op" id="1733236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1733239">func</span>&nbsp;<span class="ident" id="1733244">entersyscall</span><span class="op" id="1733256">(</span><span class="op" id="1733257">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733259">func</span>&nbsp;<span class="ident" id="1733264">reentersyscall</span><span class="op" id="1733278">(</span><span class="ident" id="1733279">pc</span>&nbsp;<span class="builtintype" id="1733282">uintptr</span><span class="op" id="1733289">,</span>&nbsp;<span class="ident" id="1733291">sp</span>&nbsp;<span class="ident" id="1733294">unsafe</span><span class="op" id="1733300">.</span><span class="ident" id="1733301">Pointer</span><span class="op" id="1733308">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733310">func</span>&nbsp;<span class="ident" id="1733315">entersyscallblock</span><span class="op" id="1733332">(</span><span class="op" id="1733333">)</span><br>
<span class="lineno">165</span><span class="keyword" id="1733335">func</span>&nbsp;<span class="ident" id="1733340">exitsyscall</span><span class="op" id="1733351">(</span><span class="op" id="1733352">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1733355">func</span>&nbsp;<span class="ident" id="1733360">cgocallback</span><span class="op" id="1733371">(</span><span class="ident" id="1733372">fn</span><span class="op" id="1733374">,</span>&nbsp;<span class="ident" id="1733376">frame</span>&nbsp;<span class="ident" id="1733382">unsafe</span><span class="op" id="1733388">.</span><span class="ident" id="1733389">Pointer</span><span class="op" id="1733396">,</span>&nbsp;<span class="ident" id="1733398">framesize</span>&nbsp;<span class="builtintype" id="1733408">uintptr</span><span class="op" id="1733415">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733417">func</span>&nbsp;<span class="ident" id="1733422">gogo</span><span class="op" id="1733426">(</span><span class="ident" id="1733427">buf</span>&nbsp;<span class="op" id="1733431">*</span><span class="ident" id="1733432">gobuf</span><span class="op" id="1733437">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733439">func</span>&nbsp;<span class="ident" id="1733444">gosave</span><span class="op" id="1733450">(</span><span class="ident" id="1733451">buf</span>&nbsp;<span class="op" id="1733455">*</span><span class="ident" id="1733456">gobuf</span><span class="op" id="1733461">)</span><br>
<span class="lineno">170</span><span class="keyword" id="1733463">func</span>&nbsp;<span class="ident" id="1733468">read</span><span class="op" id="1733472">(</span><span class="ident" id="1733473">fd</span>&nbsp;<span class="builtintype" id="1733476">int32</span><span class="op" id="1733481">,</span>&nbsp;<span class="ident" id="1733483">p</span>&nbsp;<span class="ident" id="1733485">unsafe</span><span class="op" id="1733491">.</span><span class="ident" id="1733492">Pointer</span><span class="op" id="1733499">,</span>&nbsp;<span class="ident" id="1733501">n</span>&nbsp;<span class="builtintype" id="1733503">int32</span><span class="op" id="1733508">)</span>&nbsp;<span class="builtintype" id="1733510">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1733516">func</span>&nbsp;<span class="builtinfunc" id="1733521">close</span><span class="op" id="1733526">(</span><span class="ident" id="1733527">fd</span>&nbsp;<span class="builtintype" id="1733530">int32</span><span class="op" id="1733535">)</span>&nbsp;<span class="builtintype" id="1733537">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1733543">func</span>&nbsp;<span class="ident" id="1733548">mincore</span><span class="op" id="1733555">(</span><span class="ident" id="1733556">addr</span>&nbsp;<span class="ident" id="1733561">unsafe</span><span class="op" id="1733567">.</span><span class="ident" id="1733568">Pointer</span><span class="op" id="1733575">,</span>&nbsp;<span class="ident" id="1733577">n</span>&nbsp;<span class="builtintype" id="1733579">uintptr</span><span class="op" id="1733586">,</span>&nbsp;<span class="ident" id="1733588">dst</span>&nbsp;<span class="op" id="1733592">*</span><span class="builtintype" id="1733593">byte</span><span class="op" id="1733597">)</span>&nbsp;<span class="builtintype" id="1733599">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1733606">//go:noescape</span><br>
<span class="lineno">175</span><span class="keyword" id="1733620">func</span>&nbsp;<span class="ident" id="1733625">jmpdefer</span><span class="op" id="1733633">(</span><span class="ident" id="1733634">fv</span>&nbsp;<span class="op" id="1733637">*</span><span class="ident" id="1733638">funcval</span><span class="op" id="1733645">,</span>&nbsp;<span class="ident" id="1733647">argp</span>&nbsp;<span class="builtintype" id="1733652">uintptr</span><span class="op" id="1733659">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733661">func</span>&nbsp;<span class="ident" id="1733666">exit1</span><span class="op" id="1733671">(</span><span class="ident" id="1733672">code</span>&nbsp;<span class="builtintype" id="1733677">int32</span><span class="op" id="1733682">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733684">func</span>&nbsp;<span class="ident" id="1733689">asminit</span><span class="op" id="1733696">(</span><span class="op" id="1733697">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733699">func</span>&nbsp;<span class="ident" id="1733704">setg</span><span class="op" id="1733708">(</span><span class="ident" id="1733709">gg</span>&nbsp;<span class="op" id="1733712">*</span><span class="ident" id="1733713">g</span><span class="op" id="1733714">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733716">func</span>&nbsp;<span class="ident" id="1733721">exit</span><span class="op" id="1733725">(</span><span class="ident" id="1733726">code</span>&nbsp;<span class="builtintype" id="1733731">int32</span><span class="op" id="1733736">)</span><br>
<span class="lineno">180</span><span class="keyword" id="1733738">func</span>&nbsp;<span class="ident" id="1733743">breakpoint</span><span class="op" id="1733753">(</span><span class="op" id="1733754">)</span><br>
<span class="lineno"></span><span class="keyword" id="1733756">func</span>&nbsp;<span class="ident" id="1733761">nanotime</span><span class="op" id="1733769">(</span><span class="op" id="1733770">)</span>&nbsp;<span class="ident" id="1733772">int64</span><br>
<span class="lineno"></span><span class="keyword" id="1733778">func</span>&nbsp;<span class="ident" id="1733783">usleep</span><span class="op" id="1733789">(</span><span class="ident" id="1733790">usec</span>&nbsp;<span class="builtintype" id="1733795">uint32</span><span class="op" id="1733801">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1733804">//&nbsp;careful:&nbsp;cputicks&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;monotonic!&nbsp;&nbsp;In&nbsp;particular,&nbsp;we&nbsp;have</span><br>
<span class="lineno">185</span><span class="comment" id="1733884">//&nbsp;noticed&nbsp;drift&nbsp;between&nbsp;cpus&nbsp;on&nbsp;certain&nbsp;os/arch&nbsp;combinations.&nbsp;&nbsp;See&nbsp;issue&nbsp;8976.</span><br>
<span class="lineno"></span><span class="keyword" id="1733964">func</span>&nbsp;<span class="ident" id="1733969">cputicks</span><span class="op" id="1733977">(</span><span class="op" id="1733978">)</span>&nbsp;<span class="ident" id="1733980">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1733987">func</span>&nbsp;<span class="ident" id="1733992">mmap</span><span class="op" id="1733996">(</span><span class="ident" id="1733997">addr</span>&nbsp;<span class="ident" id="1734002">unsafe</span><span class="op" id="1734008">.</span><span class="ident" id="1734009">Pointer</span><span class="op" id="1734016">,</span>&nbsp;<span class="ident" id="1734018">n</span>&nbsp;<span class="builtintype" id="1734020">uintptr</span><span class="op" id="1734027">,</span>&nbsp;<span class="ident" id="1734029">prot</span><span class="op" id="1734033">,</span>&nbsp;<span class="ident" id="1734035">flags</span><span class="op" id="1734040">,</span>&nbsp;<span class="ident" id="1734042">fd</span>&nbsp;<span class="builtintype" id="1734045">int32</span><span class="op" id="1734050">,</span>&nbsp;<span class="ident" id="1734052">off</span>&nbsp;<span class="builtintype" id="1734056">uint32</span><span class="op" id="1734062">)</span>&nbsp;<span class="ident" id="1734064">unsafe</span><span class="op" id="1734070">.</span><span class="ident" id="1734071">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="1734079">func</span>&nbsp;<span class="ident" id="1734084">munmap</span><span class="op" id="1734090">(</span><span class="ident" id="1734091">addr</span>&nbsp;<span class="ident" id="1734096">unsafe</span><span class="op" id="1734102">.</span><span class="ident" id="1734103">Pointer</span><span class="op" id="1734110">,</span>&nbsp;<span class="ident" id="1734112">n</span>&nbsp;<span class="builtintype" id="1734114">uintptr</span><span class="op" id="1734121">)</span><br>
<span class="lineno">190</span><span class="keyword" id="1734123">func</span>&nbsp;<span class="ident" id="1734128">madvise</span><span class="op" id="1734135">(</span><span class="ident" id="1734136">addr</span>&nbsp;<span class="ident" id="1734141">unsafe</span><span class="op" id="1734147">.</span><span class="ident" id="1734148">Pointer</span><span class="op" id="1734155">,</span>&nbsp;<span class="ident" id="1734157">n</span>&nbsp;<span class="builtintype" id="1734159">uintptr</span><span class="op" id="1734166">,</span>&nbsp;<span class="ident" id="1734168">flags</span>&nbsp;<span class="builtintype" id="1734174">int32</span><span class="op" id="1734179">)</span><br>
<span class="lineno"></span><span class="keyword" id="1734181">func</span>&nbsp;<span class="ident" id="1734186">reflectcall</span><span class="op" id="1734197">(</span><span class="ident" id="1734198">fn</span><span class="op" id="1734200">,</span>&nbsp;<span class="ident" id="1734202">arg</span>&nbsp;<span class="ident" id="1734206">unsafe</span><span class="op" id="1734212">.</span><span class="ident" id="1734213">Pointer</span><span class="op" id="1734220">,</span>&nbsp;<span class="ident" id="1734222">n</span>&nbsp;<span class="builtintype" id="1734224">uint32</span><span class="op" id="1734230">,</span>&nbsp;<span class="ident" id="1734232">retoffset</span>&nbsp;<span class="builtintype" id="1734242">uint32</span><span class="op" id="1734248">)</span><br>
<span class="lineno"></span><span class="keyword" id="1734250">func</span>&nbsp;<span class="ident" id="1734255">osyield</span><span class="op" id="1734262">(</span><span class="op" id="1734263">)</span><br>
<span class="lineno"></span><span class="keyword" id="1734265">func</span>&nbsp;<span class="ident" id="1734270">procyield</span><span class="op" id="1734279">(</span><span class="ident" id="1734280">cycles</span>&nbsp;<span class="builtintype" id="1734287">uint32</span><span class="op" id="1734293">)</span><br>
<span class="lineno"></span><span class="keyword" id="1734295">func</span>&nbsp;<span class="ident" id="1734300">cgocallback_gofunc</span><span class="op" id="1734318">(</span><span class="ident" id="1734319">fv</span>&nbsp;<span class="op" id="1734322">*</span><span class="ident" id="1734323">funcval</span><span class="op" id="1734330">,</span>&nbsp;<span class="ident" id="1734332">frame</span>&nbsp;<span class="ident" id="1734338">unsafe</span><span class="op" id="1734344">.</span><span class="ident" id="1734345">Pointer</span><span class="op" id="1734352">,</span>&nbsp;<span class="ident" id="1734354">framesize</span>&nbsp;<span class="builtintype" id="1734364">uintptr</span><span class="op" id="1734371">)</span><br>
<span class="lineno">195</span><span class="keyword" id="1734373">func</span>&nbsp;<span class="ident" id="1734378">readgogc</span><span class="op" id="1734386">(</span><span class="op" id="1734387">)</span>&nbsp;<span class="builtintype" id="1734389">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1734395">func</span>&nbsp;<span class="ident" id="1734400">purgecachedstats</span><span class="op" id="1734416">(</span><span class="ident" id="1734417">c</span>&nbsp;<span class="op" id="1734419">*</span><span class="ident" id="1734420">mcache</span><span class="op" id="1734426">)</span><br>
<span class="lineno"></span><span class="keyword" id="1734428">func</span>&nbsp;<span class="ident" id="1734433">gostringnocopy</span><span class="op" id="1734447">(</span><span class="ident" id="1734448">b</span>&nbsp;<span class="op" id="1734450">*</span><span class="builtintype" id="1734451">byte</span><span class="op" id="1734455">)</span>&nbsp;<span class="builtintype" id="1734457">string</span><br>
<span class="lineno"></span><span class="keyword" id="1734464">func</span>&nbsp;<span class="ident" id="1734469">goexit</span><span class="op" id="1734475">(</span><span class="op" id="1734476">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1734479">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734493">func</span>&nbsp;<span class="ident" id="1734498">write</span><span class="op" id="1734503">(</span><span class="ident" id="1734504">fd</span>&nbsp;<span class="builtintype" id="1734507">uintptr</span><span class="op" id="1734514">,</span>&nbsp;<span class="ident" id="1734516">p</span>&nbsp;<span class="ident" id="1734518">unsafe</span><span class="op" id="1734524">.</span><span class="ident" id="1734525">Pointer</span><span class="op" id="1734532">,</span>&nbsp;<span class="ident" id="1734534">n</span>&nbsp;<span class="builtintype" id="1734536">int32</span><span class="op" id="1734541">)</span>&nbsp;<span class="builtintype" id="1734543">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1734550">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734564">func</span>&nbsp;<span class="ident" id="1734569">cas</span><span class="op" id="1734572">(</span><span class="ident" id="1734573">ptr</span>&nbsp;<span class="op" id="1734577">*</span><span class="builtintype" id="1734578">uint32</span><span class="op" id="1734584">,</span>&nbsp;<span class="ident" id="1734586">old</span><span class="op" id="1734589">,</span>&nbsp;<span class="builtinfunc" id="1734591">new</span>&nbsp;<span class="builtintype" id="1734595">uint32</span><span class="op" id="1734601">)</span>&nbsp;<span class="builtintype" id="1734603">bool</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1734609">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734623">func</span>&nbsp;<span class="ident" id="1734628">casp</span><span class="op" id="1734632">(</span><span class="ident" id="1734633">ptr</span>&nbsp;<span class="op" id="1734637">*</span><span class="ident" id="1734638">unsafe</span><span class="op" id="1734644">.</span><span class="ident" id="1734645">Pointer</span><span class="op" id="1734652">,</span>&nbsp;<span class="ident" id="1734654">old</span><span class="op" id="1734657">,</span>&nbsp;<span class="builtinfunc" id="1734659">new</span>&nbsp;<span class="ident" id="1734663">unsafe</span><span class="op" id="1734669">.</span><span class="ident" id="1734670">Pointer</span><span class="op" id="1734677">)</span>&nbsp;<span class="builtintype" id="1734679">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1734685">//go:noescape</span><br>
<span class="lineno">210</span><span class="keyword" id="1734699">func</span>&nbsp;<span class="ident" id="1734704">casuintptr</span><span class="op" id="1734714">(</span><span class="ident" id="1734715">ptr</span>&nbsp;<span class="op" id="1734719">*</span><span class="builtintype" id="1734720">uintptr</span><span class="op" id="1734727">,</span>&nbsp;<span class="ident" id="1734729">old</span><span class="op" id="1734732">,</span>&nbsp;<span class="builtinfunc" id="1734734">new</span>&nbsp;<span class="builtintype" id="1734738">uintptr</span><span class="op" id="1734745">)</span>&nbsp;<span class="builtintype" id="1734747">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1734753">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734767">func</span>&nbsp;<span class="ident" id="1734772">atomicstoreuintptr</span><span class="op" id="1734790">(</span><span class="ident" id="1734791">ptr</span>&nbsp;<span class="op" id="1734795">*</span><span class="builtintype" id="1734796">uintptr</span><span class="op" id="1734803">,</span>&nbsp;<span class="builtinfunc" id="1734805">new</span>&nbsp;<span class="builtintype" id="1734809">uintptr</span><span class="op" id="1734816">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1734819">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734833">func</span>&nbsp;<span class="ident" id="1734838">atomicloaduintptr</span><span class="op" id="1734855">(</span><span class="ident" id="1734856">ptr</span>&nbsp;<span class="op" id="1734860">*</span><span class="builtintype" id="1734861">uintptr</span><span class="op" id="1734868">)</span>&nbsp;<span class="builtintype" id="1734870">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1734879">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734893">func</span>&nbsp;<span class="ident" id="1734898">atomicloaduint</span><span class="op" id="1734912">(</span><span class="ident" id="1734913">ptr</span>&nbsp;<span class="op" id="1734917">*</span><span class="builtintype" id="1734918">uint</span><span class="op" id="1734922">)</span>&nbsp;<span class="builtintype" id="1734924">uint</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="1734930">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1734944">func</span>&nbsp;<span class="ident" id="1734949">setcallerpc</span><span class="op" id="1734960">(</span><span class="ident" id="1734961">argp</span>&nbsp;<span class="ident" id="1734966">unsafe</span><span class="op" id="1734972">.</span><span class="ident" id="1734973">Pointer</span><span class="op" id="1734980">,</span>&nbsp;<span class="ident" id="1734982">pc</span>&nbsp;<span class="builtintype" id="1734985">uintptr</span><span class="op" id="1734992">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1734995">//&nbsp;getcallerpc&nbsp;returns&nbsp;the&nbsp;program&nbsp;counter&nbsp;(PC)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno">225</span><span class="comment" id="1735067">//&nbsp;getcallersp&nbsp;returns&nbsp;the&nbsp;stack&nbsp;pointer&nbsp;(SP)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="1735137">//&nbsp;For&nbsp;both,&nbsp;the&nbsp;argp&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;caller&#39;s&nbsp;first&nbsp;function&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="1735218">//&nbsp;The&nbsp;implementation&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;use&nbsp;argp,&nbsp;depending&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1735278">//&nbsp;the&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="comment" id="1735299">//</span><br>
<span class="lineno">230</span><span class="comment" id="1735302">//&nbsp;For&nbsp;example:</span><br>
<span class="lineno"></span><span class="comment" id="1735318">//</span><br>
<span class="lineno"></span><span class="comment" id="1735321">//&nbsp;&nbsp;&nbsp;&nbspfunc&nbsp;f(arg1,&nbsp;arg2,&nbsp;arg3&nbsp;int)&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1735355">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsppc&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg1))</span><br>
<span class="lineno"></span><span class="comment" id="1735400">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspsp&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg2))</span><br>
<span class="lineno">235</span><span class="comment" id="1735445">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="1735450">//</span><br>
<span class="lineno"></span><span class="comment" id="1735453">//&nbsp;These&nbsp;two&nbsp;lines&nbsp;find&nbsp;the&nbsp;PC&nbsp;and&nbsp;SP&nbsp;immediately&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="1735513">//&nbsp;the&nbsp;call&nbsp;to&nbsp;f&nbsp;(where&nbsp;f&nbsp;will&nbsp;return).</span><br>
<span class="lineno"></span><span class="comment" id="1735553">//</span><br>
<span class="lineno">240</span><span class="comment" id="1735556">//&nbsp;The&nbsp;call&nbsp;to&nbsp;getcallerpc&nbsp;and&nbsp;getcallersp&nbsp;must&nbsp;be&nbsp;done&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1735619">//&nbsp;frame&nbsp;being&nbsp;asked&nbsp;about.&nbsp;It&nbsp;would&nbsp;not&nbsp;be&nbsp;correct&nbsp;for&nbsp;f&nbsp;to&nbsp;pass&nbsp;&amp;arg1</span><br>
<span class="lineno"></span><span class="comment" id="1735691">//&nbsp;to&nbsp;another&nbsp;function&nbsp;g&nbsp;and&nbsp;let&nbsp;g&nbsp;call&nbsp;getcallerpc/getcallersp.</span><br>
<span class="lineno"></span><span class="comment" id="1735756">//&nbsp;The&nbsp;call&nbsp;inside&nbsp;g&nbsp;might&nbsp;return&nbsp;information&nbsp;about&nbsp;g&#39;s&nbsp;caller&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1735822">//&nbsp;information&nbsp;about&nbsp;f&#39;s&nbsp;caller&nbsp;or&nbsp;complete&nbsp;garbage.</span><br>
<span class="lineno">245</span><span class="comment" id="1735875">//</span><br>
<span class="lineno"></span><span class="comment" id="1735878">//&nbsp;The&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;is&nbsp;correct&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;return,</span><br>
<span class="lineno"></span><span class="comment" id="1735945">//&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;invalidated&nbsp;by&nbsp;any&nbsp;subsequent&nbsp;call&nbsp;to&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="1736011">//&nbsp;that&nbsp;might&nbsp;relocate&nbsp;the&nbsp;stack&nbsp;in&nbsp;order&nbsp;to&nbsp;grow&nbsp;or&nbsp;shrink&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="1736075">//&nbsp;A&nbsp;general&nbsp;rule&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;should&nbsp;be&nbsp;used</span><br>
<span class="lineno">250</span><span class="comment" id="1736142">//&nbsp;immediately&nbsp;and&nbsp;can&nbsp;only&nbsp;be&nbsp;passed&nbsp;to&nbsp;nosplit&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736203">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1736217">func</span>&nbsp;<span class="ident" id="1736222">getcallerpc</span><span class="op" id="1736233">(</span><span class="ident" id="1736234">argp</span>&nbsp;<span class="ident" id="1736239">unsafe</span><span class="op" id="1736245">.</span><span class="ident" id="1736246">Pointer</span><span class="op" id="1736253">)</span>&nbsp;<span class="builtintype" id="1736255">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="1736264">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1736278">func</span>&nbsp;<span class="ident" id="1736283">getcallersp</span><span class="op" id="1736294">(</span><span class="ident" id="1736295">argp</span>&nbsp;<span class="ident" id="1736300">unsafe</span><span class="op" id="1736306">.</span><span class="ident" id="1736307">Pointer</span><span class="op" id="1736314">)</span>&nbsp;<span class="builtintype" id="1736316">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736325">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1736339">func</span>&nbsp;<span class="ident" id="1736344">asmcgocall</span><span class="op" id="1736354">(</span><span class="ident" id="1736355">fn</span><span class="op" id="1736357">,</span>&nbsp;<span class="ident" id="1736359">arg</span>&nbsp;<span class="ident" id="1736363">unsafe</span><span class="op" id="1736369">.</span><span class="ident" id="1736370">Pointer</span><span class="op" id="1736377">)</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="1736380">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1736394">func</span>&nbsp;<span class="ident" id="1736399">asmcgocall_errno</span><span class="op" id="1736415">(</span><span class="ident" id="1736416">fn</span><span class="op" id="1736418">,</span>&nbsp;<span class="ident" id="1736420">arg</span>&nbsp;<span class="ident" id="1736424">unsafe</span><span class="op" id="1736430">.</span><span class="ident" id="1736431">Pointer</span><span class="op" id="1736438">)</span>&nbsp;<span class="builtintype" id="1736440">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736447">//go:noescape</span><br>
<span class="lineno">265</span><span class="keyword" id="1736461">func</span>&nbsp;<span class="ident" id="1736466">open</span><span class="op" id="1736470">(</span><span class="ident" id="1736471">name</span>&nbsp;<span class="op" id="1736476">*</span><span class="builtintype" id="1736477">byte</span><span class="op" id="1736481">,</span>&nbsp;<span class="ident" id="1736483">mode</span><span class="op" id="1736487">,</span>&nbsp;<span class="ident" id="1736489">perm</span>&nbsp;<span class="builtintype" id="1736494">int32</span><span class="op" id="1736499">)</span>&nbsp;<span class="builtintype" id="1736501">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736508">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1736522">func</span>&nbsp;<span class="ident" id="1736527">gotraceback</span><span class="op" id="1736538">(</span><span class="op" id="1736539">*</span><span class="builtintype" id="1736540">bool</span><span class="op" id="1736544">)</span>&nbsp;<span class="builtintype" id="1736546">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="1736553">const</span>&nbsp;<span class="ident" id="1736559">_NoArgs</span>&nbsp;<span class="op" id="1736567">=</span>&nbsp;<span class="op" id="1736569">^</span><span class="builtintype" id="1736570">uintptr</span><span class="op" id="1736577">(</span><span class="num" id="1736578">0</span><span class="op" id="1736579">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1736582">func</span>&nbsp;<span class="ident" id="1736587">newstack</span><span class="op" id="1736595">(</span><span class="op" id="1736596">)</span><br>
<span class="lineno"></span><span class="keyword" id="1736598">func</span>&nbsp;<span class="ident" id="1736603">newproc</span><span class="op" id="1736610">(</span><span class="op" id="1736611">)</span><br>
<span class="lineno"></span><span class="keyword" id="1736613">func</span>&nbsp;<span class="ident" id="1736618">morestack</span><span class="op" id="1736627">(</span><span class="op" id="1736628">)</span><br>
<span class="lineno">275</span><span class="keyword" id="1736630">func</span>&nbsp;<span class="ident" id="1736635">mstart</span><span class="op" id="1736641">(</span><span class="op" id="1736642">)</span><br>
<span class="lineno"></span><span class="keyword" id="1736644">func</span>&nbsp;<span class="ident" id="1736649">rt0_go</span><span class="op" id="1736655">(</span><span class="op" id="1736656">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736659">//&nbsp;return0&nbsp;is&nbsp;a&nbsp;stub&nbsp;used&nbsp;to&nbsp;return&nbsp;0&nbsp;from&nbsp;deferproc.</span><br>
<span class="lineno"></span><span class="comment" id="1736713">//&nbsp;It&nbsp;is&nbsp;called&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;deferproc&nbsp;to&nbsp;signal</span><br>
<span class="lineno">280</span><span class="comment" id="1736768">//&nbsp;the&nbsp;calling&nbsp;Go&nbsp;function&nbsp;that&nbsp;it&nbsp;should&nbsp;not&nbsp;jump</span><br>
<span class="lineno"></span><span class="comment" id="1736819">//&nbsp;to&nbsp;deferreturn.</span><br>
<span class="lineno"></span><span class="comment" id="1736838">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="1736852">func</span>&nbsp;<span class="ident" id="1736857">return0</span><span class="op" id="1736864">(</span><span class="op" id="1736865">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1736868">//&nbsp;thunk&nbsp;to&nbsp;call&nbsp;time.now.</span><br>
<span class="lineno"></span><span class="keyword" id="1736895">func</span>&nbsp;<span class="ident" id="1736900">timenow</span><span class="op" id="1736907">(</span><span class="op" id="1736908">)</span>&nbsp;<span class="op" id="1736910">(</span><span class="ident" id="1736911">sec</span>&nbsp;<span class="ident" id="1736915">int64</span><span class="op" id="1736920">,</span>&nbsp;<span class="ident" id="1736922">nsec</span>&nbsp;<span class="builtintype" id="1736927">int32</span><span class="op" id="1736932">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736935">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1736949">//&nbsp;not&nbsp;called&nbsp;directly;&nbsp;definitions&nbsp;here&nbsp;supply&nbsp;type&nbsp;information&nbsp;for&nbsp;traceback.</span><br>
<span class="lineno">290</span><span class="keyword" id="1737029">func</span>&nbsp;<span class="ident" id="1737034">call16</span><span class="op" id="1737040">(</span><span class="ident" id="1737041">fn</span><span class="op" id="1737043">,</span>&nbsp;<span class="ident" id="1737045">arg</span>&nbsp;<span class="ident" id="1737049">unsafe</span><span class="op" id="1737055">.</span><span class="ident" id="1737056">Pointer</span><span class="op" id="1737063">,</span>&nbsp;<span class="ident" id="1737065">n</span><span class="op" id="1737066">,</span>&nbsp;<span class="ident" id="1737068">retoffset</span>&nbsp;<span class="builtintype" id="1737078">uint32</span><span class="op" id="1737084">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737086">func</span>&nbsp;<span class="ident" id="1737091">call32</span><span class="op" id="1737097">(</span><span class="ident" id="1737098">fn</span><span class="op" id="1737100">,</span>&nbsp;<span class="ident" id="1737102">arg</span>&nbsp;<span class="ident" id="1737106">unsafe</span><span class="op" id="1737112">.</span><span class="ident" id="1737113">Pointer</span><span class="op" id="1737120">,</span>&nbsp;<span class="ident" id="1737122">n</span><span class="op" id="1737123">,</span>&nbsp;<span class="ident" id="1737125">retoffset</span>&nbsp;<span class="builtintype" id="1737135">uint32</span><span class="op" id="1737141">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737143">func</span>&nbsp;<span class="ident" id="1737148">call64</span><span class="op" id="1737154">(</span><span class="ident" id="1737155">fn</span><span class="op" id="1737157">,</span>&nbsp;<span class="ident" id="1737159">arg</span>&nbsp;<span class="ident" id="1737163">unsafe</span><span class="op" id="1737169">.</span><span class="ident" id="1737170">Pointer</span><span class="op" id="1737177">,</span>&nbsp;<span class="ident" id="1737179">n</span><span class="op" id="1737180">,</span>&nbsp;<span class="ident" id="1737182">retoffset</span>&nbsp;<span class="builtintype" id="1737192">uint32</span><span class="op" id="1737198">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737200">func</span>&nbsp;<span class="ident" id="1737205">call128</span><span class="op" id="1737212">(</span><span class="ident" id="1737213">fn</span><span class="op" id="1737215">,</span>&nbsp;<span class="ident" id="1737217">arg</span>&nbsp;<span class="ident" id="1737221">unsafe</span><span class="op" id="1737227">.</span><span class="ident" id="1737228">Pointer</span><span class="op" id="1737235">,</span>&nbsp;<span class="ident" id="1737237">n</span><span class="op" id="1737238">,</span>&nbsp;<span class="ident" id="1737240">retoffset</span>&nbsp;<span class="builtintype" id="1737250">uint32</span><span class="op" id="1737256">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737258">func</span>&nbsp;<span class="ident" id="1737263">call256</span><span class="op" id="1737270">(</span><span class="ident" id="1737271">fn</span><span class="op" id="1737273">,</span>&nbsp;<span class="ident" id="1737275">arg</span>&nbsp;<span class="ident" id="1737279">unsafe</span><span class="op" id="1737285">.</span><span class="ident" id="1737286">Pointer</span><span class="op" id="1737293">,</span>&nbsp;<span class="ident" id="1737295">n</span><span class="op" id="1737296">,</span>&nbsp;<span class="ident" id="1737298">retoffset</span>&nbsp;<span class="builtintype" id="1737308">uint32</span><span class="op" id="1737314">)</span><br>
<span class="lineno">295</span><span class="keyword" id="1737316">func</span>&nbsp;<span class="ident" id="1737321">call512</span><span class="op" id="1737328">(</span><span class="ident" id="1737329">fn</span><span class="op" id="1737331">,</span>&nbsp;<span class="ident" id="1737333">arg</span>&nbsp;<span class="ident" id="1737337">unsafe</span><span class="op" id="1737343">.</span><span class="ident" id="1737344">Pointer</span><span class="op" id="1737351">,</span>&nbsp;<span class="ident" id="1737353">n</span><span class="op" id="1737354">,</span>&nbsp;<span class="ident" id="1737356">retoffset</span>&nbsp;<span class="builtintype" id="1737366">uint32</span><span class="op" id="1737372">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737374">func</span>&nbsp;<span class="ident" id="1737379">call1024</span><span class="op" id="1737387">(</span><span class="ident" id="1737388">fn</span><span class="op" id="1737390">,</span>&nbsp;<span class="ident" id="1737392">arg</span>&nbsp;<span class="ident" id="1737396">unsafe</span><span class="op" id="1737402">.</span><span class="ident" id="1737403">Pointer</span><span class="op" id="1737410">,</span>&nbsp;<span class="ident" id="1737412">n</span><span class="op" id="1737413">,</span>&nbsp;<span class="ident" id="1737415">retoffset</span>&nbsp;<span class="builtintype" id="1737425">uint32</span><span class="op" id="1737431">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737433">func</span>&nbsp;<span class="ident" id="1737438">call2048</span><span class="op" id="1737446">(</span><span class="ident" id="1737447">fn</span><span class="op" id="1737449">,</span>&nbsp;<span class="ident" id="1737451">arg</span>&nbsp;<span class="ident" id="1737455">unsafe</span><span class="op" id="1737461">.</span><span class="ident" id="1737462">Pointer</span><span class="op" id="1737469">,</span>&nbsp;<span class="ident" id="1737471">n</span><span class="op" id="1737472">,</span>&nbsp;<span class="ident" id="1737474">retoffset</span>&nbsp;<span class="builtintype" id="1737484">uint32</span><span class="op" id="1737490">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737492">func</span>&nbsp;<span class="ident" id="1737497">call4096</span><span class="op" id="1737505">(</span><span class="ident" id="1737506">fn</span><span class="op" id="1737508">,</span>&nbsp;<span class="ident" id="1737510">arg</span>&nbsp;<span class="ident" id="1737514">unsafe</span><span class="op" id="1737520">.</span><span class="ident" id="1737521">Pointer</span><span class="op" id="1737528">,</span>&nbsp;<span class="ident" id="1737530">n</span><span class="op" id="1737531">,</span>&nbsp;<span class="ident" id="1737533">retoffset</span>&nbsp;<span class="builtintype" id="1737543">uint32</span><span class="op" id="1737549">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737551">func</span>&nbsp;<span class="ident" id="1737556">call8192</span><span class="op" id="1737564">(</span><span class="ident" id="1737565">fn</span><span class="op" id="1737567">,</span>&nbsp;<span class="ident" id="1737569">arg</span>&nbsp;<span class="ident" id="1737573">unsafe</span><span class="op" id="1737579">.</span><span class="ident" id="1737580">Pointer</span><span class="op" id="1737587">,</span>&nbsp;<span class="ident" id="1737589">n</span><span class="op" id="1737590">,</span>&nbsp;<span class="ident" id="1737592">retoffset</span>&nbsp;<span class="builtintype" id="1737602">uint32</span><span class="op" id="1737608">)</span><br>
<span class="lineno">300</span><span class="keyword" id="1737610">func</span>&nbsp;<span class="ident" id="1737615">call16384</span><span class="op" id="1737624">(</span><span class="ident" id="1737625">fn</span><span class="op" id="1737627">,</span>&nbsp;<span class="ident" id="1737629">arg</span>&nbsp;<span class="ident" id="1737633">unsafe</span><span class="op" id="1737639">.</span><span class="ident" id="1737640">Pointer</span><span class="op" id="1737647">,</span>&nbsp;<span class="ident" id="1737649">n</span><span class="op" id="1737650">,</span>&nbsp;<span class="ident" id="1737652">retoffset</span>&nbsp;<span class="builtintype" id="1737662">uint32</span><span class="op" id="1737668">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737670">func</span>&nbsp;<span class="ident" id="1737675">call32768</span><span class="op" id="1737684">(</span><span class="ident" id="1737685">fn</span><span class="op" id="1737687">,</span>&nbsp;<span class="ident" id="1737689">arg</span>&nbsp;<span class="ident" id="1737693">unsafe</span><span class="op" id="1737699">.</span><span class="ident" id="1737700">Pointer</span><span class="op" id="1737707">,</span>&nbsp;<span class="ident" id="1737709">n</span><span class="op" id="1737710">,</span>&nbsp;<span class="ident" id="1737712">retoffset</span>&nbsp;<span class="builtintype" id="1737722">uint32</span><span class="op" id="1737728">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737730">func</span>&nbsp;<span class="ident" id="1737735">call65536</span><span class="op" id="1737744">(</span><span class="ident" id="1737745">fn</span><span class="op" id="1737747">,</span>&nbsp;<span class="ident" id="1737749">arg</span>&nbsp;<span class="ident" id="1737753">unsafe</span><span class="op" id="1737759">.</span><span class="ident" id="1737760">Pointer</span><span class="op" id="1737767">,</span>&nbsp;<span class="ident" id="1737769">n</span><span class="op" id="1737770">,</span>&nbsp;<span class="ident" id="1737772">retoffset</span>&nbsp;<span class="builtintype" id="1737782">uint32</span><span class="op" id="1737788">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737790">func</span>&nbsp;<span class="ident" id="1737795">call131072</span><span class="op" id="1737805">(</span><span class="ident" id="1737806">fn</span><span class="op" id="1737808">,</span>&nbsp;<span class="ident" id="1737810">arg</span>&nbsp;<span class="ident" id="1737814">unsafe</span><span class="op" id="1737820">.</span><span class="ident" id="1737821">Pointer</span><span class="op" id="1737828">,</span>&nbsp;<span class="ident" id="1737830">n</span><span class="op" id="1737831">,</span>&nbsp;<span class="ident" id="1737833">retoffset</span>&nbsp;<span class="builtintype" id="1737843">uint32</span><span class="op" id="1737849">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737851">func</span>&nbsp;<span class="ident" id="1737856">call262144</span><span class="op" id="1737866">(</span><span class="ident" id="1737867">fn</span><span class="op" id="1737869">,</span>&nbsp;<span class="ident" id="1737871">arg</span>&nbsp;<span class="ident" id="1737875">unsafe</span><span class="op" id="1737881">.</span><span class="ident" id="1737882">Pointer</span><span class="op" id="1737889">,</span>&nbsp;<span class="ident" id="1737891">n</span><span class="op" id="1737892">,</span>&nbsp;<span class="ident" id="1737894">retoffset</span>&nbsp;<span class="builtintype" id="1737904">uint32</span><span class="op" id="1737910">)</span><br>
<span class="lineno">305</span><span class="keyword" id="1737912">func</span>&nbsp;<span class="ident" id="1737917">call524288</span><span class="op" id="1737927">(</span><span class="ident" id="1737928">fn</span><span class="op" id="1737930">,</span>&nbsp;<span class="ident" id="1737932">arg</span>&nbsp;<span class="ident" id="1737936">unsafe</span><span class="op" id="1737942">.</span><span class="ident" id="1737943">Pointer</span><span class="op" id="1737950">,</span>&nbsp;<span class="ident" id="1737952">n</span><span class="op" id="1737953">,</span>&nbsp;<span class="ident" id="1737955">retoffset</span>&nbsp;<span class="builtintype" id="1737965">uint32</span><span class="op" id="1737971">)</span><br>
<span class="lineno"></span><span class="keyword" id="1737973">func</span>&nbsp;<span class="ident" id="1737978">call1048576</span><span class="op" id="1737989">(</span><span class="ident" id="1737990">fn</span><span class="op" id="1737992">,</span>&nbsp;<span class="ident" id="1737994">arg</span>&nbsp;<span class="ident" id="1737998">unsafe</span><span class="op" id="1738004">.</span><span class="ident" id="1738005">Pointer</span><span class="op" id="1738012">,</span>&nbsp;<span class="ident" id="1738014">n</span><span class="op" id="1738015">,</span>&nbsp;<span class="ident" id="1738017">retoffset</span>&nbsp;<span class="builtintype" id="1738027">uint32</span><span class="op" id="1738033">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738035">func</span>&nbsp;<span class="ident" id="1738040">call2097152</span><span class="op" id="1738051">(</span><span class="ident" id="1738052">fn</span><span class="op" id="1738054">,</span>&nbsp;<span class="ident" id="1738056">arg</span>&nbsp;<span class="ident" id="1738060">unsafe</span><span class="op" id="1738066">.</span><span class="ident" id="1738067">Pointer</span><span class="op" id="1738074">,</span>&nbsp;<span class="ident" id="1738076">n</span><span class="op" id="1738077">,</span>&nbsp;<span class="ident" id="1738079">retoffset</span>&nbsp;<span class="builtintype" id="1738089">uint32</span><span class="op" id="1738095">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738097">func</span>&nbsp;<span class="ident" id="1738102">call4194304</span><span class="op" id="1738113">(</span><span class="ident" id="1738114">fn</span><span class="op" id="1738116">,</span>&nbsp;<span class="ident" id="1738118">arg</span>&nbsp;<span class="ident" id="1738122">unsafe</span><span class="op" id="1738128">.</span><span class="ident" id="1738129">Pointer</span><span class="op" id="1738136">,</span>&nbsp;<span class="ident" id="1738138">n</span><span class="op" id="1738139">,</span>&nbsp;<span class="ident" id="1738141">retoffset</span>&nbsp;<span class="builtintype" id="1738151">uint32</span><span class="op" id="1738157">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738159">func</span>&nbsp;<span class="ident" id="1738164">call8388608</span><span class="op" id="1738175">(</span><span class="ident" id="1738176">fn</span><span class="op" id="1738178">,</span>&nbsp;<span class="ident" id="1738180">arg</span>&nbsp;<span class="ident" id="1738184">unsafe</span><span class="op" id="1738190">.</span><span class="ident" id="1738191">Pointer</span><span class="op" id="1738198">,</span>&nbsp;<span class="ident" id="1738200">n</span><span class="op" id="1738201">,</span>&nbsp;<span class="ident" id="1738203">retoffset</span>&nbsp;<span class="builtintype" id="1738213">uint32</span><span class="op" id="1738219">)</span><br>
<span class="lineno">310</span><span class="keyword" id="1738221">func</span>&nbsp;<span class="ident" id="1738226">call16777216</span><span class="op" id="1738238">(</span><span class="ident" id="1738239">fn</span><span class="op" id="1738241">,</span>&nbsp;<span class="ident" id="1738243">arg</span>&nbsp;<span class="ident" id="1738247">unsafe</span><span class="op" id="1738253">.</span><span class="ident" id="1738254">Pointer</span><span class="op" id="1738261">,</span>&nbsp;<span class="ident" id="1738263">n</span><span class="op" id="1738264">,</span>&nbsp;<span class="ident" id="1738266">retoffset</span>&nbsp;<span class="builtintype" id="1738276">uint32</span><span class="op" id="1738282">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738284">func</span>&nbsp;<span class="ident" id="1738289">call33554432</span><span class="op" id="1738301">(</span><span class="ident" id="1738302">fn</span><span class="op" id="1738304">,</span>&nbsp;<span class="ident" id="1738306">arg</span>&nbsp;<span class="ident" id="1738310">unsafe</span><span class="op" id="1738316">.</span><span class="ident" id="1738317">Pointer</span><span class="op" id="1738324">,</span>&nbsp;<span class="ident" id="1738326">n</span><span class="op" id="1738327">,</span>&nbsp;<span class="ident" id="1738329">retoffset</span>&nbsp;<span class="builtintype" id="1738339">uint32</span><span class="op" id="1738345">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738347">func</span>&nbsp;<span class="ident" id="1738352">call67108864</span><span class="op" id="1738364">(</span><span class="ident" id="1738365">fn</span><span class="op" id="1738367">,</span>&nbsp;<span class="ident" id="1738369">arg</span>&nbsp;<span class="ident" id="1738373">unsafe</span><span class="op" id="1738379">.</span><span class="ident" id="1738380">Pointer</span><span class="op" id="1738387">,</span>&nbsp;<span class="ident" id="1738389">n</span><span class="op" id="1738390">,</span>&nbsp;<span class="ident" id="1738392">retoffset</span>&nbsp;<span class="builtintype" id="1738402">uint32</span><span class="op" id="1738408">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738410">func</span>&nbsp;<span class="ident" id="1738415">call134217728</span><span class="op" id="1738428">(</span><span class="ident" id="1738429">fn</span><span class="op" id="1738431">,</span>&nbsp;<span class="ident" id="1738433">arg</span>&nbsp;<span class="ident" id="1738437">unsafe</span><span class="op" id="1738443">.</span><span class="ident" id="1738444">Pointer</span><span class="op" id="1738451">,</span>&nbsp;<span class="ident" id="1738453">n</span><span class="op" id="1738454">,</span>&nbsp;<span class="ident" id="1738456">retoffset</span>&nbsp;<span class="builtintype" id="1738466">uint32</span><span class="op" id="1738472">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738474">func</span>&nbsp;<span class="ident" id="1738479">call268435456</span><span class="op" id="1738492">(</span><span class="ident" id="1738493">fn</span><span class="op" id="1738495">,</span>&nbsp;<span class="ident" id="1738497">arg</span>&nbsp;<span class="ident" id="1738501">unsafe</span><span class="op" id="1738507">.</span><span class="ident" id="1738508">Pointer</span><span class="op" id="1738515">,</span>&nbsp;<span class="ident" id="1738517">n</span><span class="op" id="1738518">,</span>&nbsp;<span class="ident" id="1738520">retoffset</span>&nbsp;<span class="builtintype" id="1738530">uint32</span><span class="op" id="1738536">)</span><br>
<span class="lineno">315</span><span class="keyword" id="1738538">func</span>&nbsp;<span class="ident" id="1738543">call536870912</span><span class="op" id="1738556">(</span><span class="ident" id="1738557">fn</span><span class="op" id="1738559">,</span>&nbsp;<span class="ident" id="1738561">arg</span>&nbsp;<span class="ident" id="1738565">unsafe</span><span class="op" id="1738571">.</span><span class="ident" id="1738572">Pointer</span><span class="op" id="1738579">,</span>&nbsp;<span class="ident" id="1738581">n</span><span class="op" id="1738582">,</span>&nbsp;<span class="ident" id="1738584">retoffset</span>&nbsp;<span class="builtintype" id="1738594">uint32</span><span class="op" id="1738600">)</span><br>
<span class="lineno"></span><span class="keyword" id="1738602">func</span>&nbsp;<span class="ident" id="1738607">call1073741824</span><span class="op" id="1738621">(</span><span class="ident" id="1738622">fn</span><span class="op" id="1738624">,</span>&nbsp;<span class="ident" id="1738626">arg</span>&nbsp;<span class="ident" id="1738630">unsafe</span><span class="op" id="1738636">.</span><span class="ident" id="1738637">Pointer</span><span class="op" id="1738644">,</span>&nbsp;<span class="ident" id="1738646">n</span><span class="op" id="1738647">,</span>&nbsp;<span class="ident" id="1738649">retoffset</span>&nbsp;<span class="builtintype" id="1738659">uint32</span><span class="op" id="1738665">)</span>
</div>
</body>
</html>
