<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html" class="current">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4592279">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4592334">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4592388">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4592439">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4592499">package</span>&nbsp;<span class="ident" id="4592507">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4592517">import</span>&nbsp;<span class="op" id="4592524">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4592527">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4592534">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4592547">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="4592563">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4592566">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4592612">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="4592693">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="4592767">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="4592794">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="4592855">func</span>&nbsp;<span class="ident" id="4592860">Must</span><span class="op" id="4592864">(</span><span class="ident" id="4592865">t</span>&nbsp;<span class="op" id="4592867">*</span><span class="ident" id="4592868">Template</span><span class="op" id="4592876">,</span>&nbsp;<span class="ident" id="4592878">err</span>&nbsp;<span class="builtintype" id="4592882">error</span><span class="op" id="4592887">)</span>&nbsp;<span class="op" id="4592889">*</span><span class="ident" id="4592890">Template</span>&nbsp;<span class="op" id="4592899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4592902">if</span>&nbsp;<span class="ident" id="4592905">err</span>&nbsp;<span class="op" id="4592909">!=</span>&nbsp;<span class="ident" id="4592912">nil</span>&nbsp;<span class="op" id="4592916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4592920">panic</span><span class="op" id="4592925">(</span><span class="ident" id="4592926">err</span><span class="op" id="4592929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4592932">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4592935">return</span>&nbsp;<span class="ident" id="4592942">t</span><br>
<span class="lineno"></span><span class="op" id="4592944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4592947">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="4593025">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="4593104">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4593177">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4593249">func</span>&nbsp;<span class="ident" id="4593254">ParseFiles</span><span class="op" id="4593264">(</span><span class="ident" id="4593265">filenames</span>&nbsp;<span class="op" id="4593275">...</span><span class="builtintype" id="4593278">string</span><span class="op" id="4593284">)</span>&nbsp;<span class="op" id="4593286">(</span><span class="op" id="4593287">*</span><span class="ident" id="4593288">Template</span><span class="op" id="4593296">,</span>&nbsp;<span class="builtintype" id="4593298">error</span><span class="op" id="4593303">)</span>&nbsp;<span class="op" id="4593305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4593308">return</span>&nbsp;<span class="ident" id="4593315">parseFiles</span><span class="op" id="4593325">(</span><span class="ident" id="4593326">nil</span><span class="op" id="4593329">,</span>&nbsp;<span class="ident" id="4593331">filenames</span><span class="op" id="4593340">...</span><span class="op" id="4593343">)</span><br>
<span class="lineno"></span><span class="op" id="4593345">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4593348">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4593429">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="4593503">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="4593558">func</span>&nbsp;<span class="op" id="4593563">(</span><span class="ident" id="4593564">t</span>&nbsp;<span class="op" id="4593566">*</span><span class="ident" id="4593567">Template</span><span class="op" id="4593575">)</span>&nbsp;<span class="ident" id="4593577">ParseFiles</span><span class="op" id="4593587">(</span><span class="ident" id="4593588">filenames</span>&nbsp;<span class="op" id="4593598">...</span><span class="builtintype" id="4593601">string</span><span class="op" id="4593607">)</span>&nbsp;<span class="op" id="4593609">(</span><span class="op" id="4593610">*</span><span class="ident" id="4593611">Template</span><span class="op" id="4593619">,</span>&nbsp;<span class="builtintype" id="4593621">error</span><span class="op" id="4593626">)</span>&nbsp;<span class="op" id="4593628">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4593631">return</span>&nbsp;<span class="ident" id="4593638">parseFiles</span><span class="op" id="4593648">(</span><span class="ident" id="4593649">t</span><span class="op" id="4593650">,</span>&nbsp;<span class="ident" id="4593652">filenames</span><span class="op" id="4593661">...</span><span class="op" id="4593664">)</span><br>
<span class="lineno"></span><span class="op" id="4593666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4593669">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="4593742">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="4593797">func</span>&nbsp;<span class="ident" id="4593802">parseFiles</span><span class="op" id="4593812">(</span><span class="ident" id="4593813">t</span>&nbsp;<span class="op" id="4593815">*</span><span class="ident" id="4593816">Template</span><span class="op" id="4593824">,</span>&nbsp;<span class="ident" id="4593826">filenames</span>&nbsp;<span class="op" id="4593836">...</span><span class="builtintype" id="4593839">string</span><span class="op" id="4593845">)</span>&nbsp;<span class="op" id="4593847">(</span><span class="op" id="4593848">*</span><span class="ident" id="4593849">Template</span><span class="op" id="4593857">,</span>&nbsp;<span class="builtintype" id="4593859">error</span><span class="op" id="4593864">)</span>&nbsp;<span class="op" id="4593866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4593869">if</span>&nbsp;<span class="builtinfunc" id="4593872">len</span><span class="op" id="4593875">(</span><span class="ident" id="4593876">filenames</span><span class="op" id="4593885">)</span>&nbsp;<span class="op" id="4593887">==</span>&nbsp;<span class="num" id="4593890">0</span>&nbsp;<span class="op" id="4593892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4593896">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4593942">return</span>&nbsp;<span class="ident" id="4593949">nil</span><span class="op" id="4593952">,</span>&nbsp;<span class="ident" id="4593954">fmt</span><span class="op" id="4593957">.</span><span class="ident" id="4593958">Errorf</span><span class="op" id="4593964">(</span><span class="string" id="4593965">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="4594013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594016">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594019">for</span>&nbsp;<span class="ident" id="4594023">_</span><span class="op" id="4594024">,</span>&nbsp;<span class="ident" id="4594026">filename</span>&nbsp;<span class="op" id="4594035">:=</span>&nbsp;<span class="keyword" id="4594038">range</span>&nbsp;<span class="ident" id="4594044">filenames</span>&nbsp;<span class="op" id="4594054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594058">b</span><span class="op" id="4594059">,</span>&nbsp;<span class="ident" id="4594061">err</span>&nbsp;<span class="op" id="4594065">:=</span>&nbsp;<span class="ident" id="4594068">ioutil</span><span class="op" id="4594074">.</span><span class="ident" id="4594075">ReadFile</span><span class="op" id="4594083">(</span><span class="ident" id="4594084">filename</span><span class="op" id="4594092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594096">if</span>&nbsp;<span class="ident" id="4594099">err</span>&nbsp;<span class="op" id="4594103">!=</span>&nbsp;<span class="ident" id="4594106">nil</span>&nbsp;<span class="op" id="4594110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594115">return</span>&nbsp;<span class="ident" id="4594122">nil</span><span class="op" id="4594125">,</span>&nbsp;<span class="ident" id="4594127">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594133">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594137">s</span>&nbsp;<span class="op" id="4594139">:=</span>&nbsp;<span class="builtintype" id="4594142">string</span><span class="op" id="4594148">(</span><span class="ident" id="4594149">b</span><span class="op" id="4594150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594154">name</span>&nbsp;<span class="op" id="4594159">:=</span>&nbsp;<span class="ident" id="4594162">filepath</span><span class="op" id="4594170">.</span><span class="ident" id="4594171">Base</span><span class="op" id="4594175">(</span><span class="ident" id="4594176">filename</span><span class="op" id="4594184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4594188">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4594253">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4594316">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4594386">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4594437">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4594491">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594557">var</span>&nbsp;<span class="ident" id="4594561">tmpl</span>&nbsp;<span class="op" id="4594566">*</span><span class="ident" id="4594567">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594578">if</span>&nbsp;<span class="ident" id="4594581">t</span>&nbsp;<span class="op" id="4594583">==</span>&nbsp;<span class="ident" id="4594586">nil</span>&nbsp;<span class="op" id="4594590">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594595">t</span>&nbsp;<span class="op" id="4594597">=</span>&nbsp;<span class="ident" id="4594599">New</span><span class="op" id="4594602">(</span><span class="ident" id="4594603">name</span><span class="op" id="4594607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594615">if</span>&nbsp;<span class="ident" id="4594618">name</span>&nbsp;<span class="op" id="4594623">==</span>&nbsp;<span class="ident" id="4594626">t</span><span class="op" id="4594627">.</span><span class="ident" id="4594628">Name</span><span class="op" id="4594632">(</span><span class="op" id="4594633">)</span>&nbsp;<span class="op" id="4594635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594640">tmpl</span>&nbsp;<span class="op" id="4594645">=</span>&nbsp;<span class="ident" id="4594647">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594651">}</span>&nbsp;<span class="keyword" id="4594653">else</span>&nbsp;<span class="op" id="4594658">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594663">tmpl</span>&nbsp;<span class="op" id="4594668">=</span>&nbsp;<span class="ident" id="4594670">t</span><span class="op" id="4594671">.</span><span class="ident" id="4594672">New</span><span class="op" id="4594675">(</span><span class="ident" id="4594676">name</span><span class="op" id="4594680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4594688">_</span><span class="op" id="4594689">,</span>&nbsp;<span class="ident" id="4594691">err</span>&nbsp;<span class="op" id="4594695">=</span>&nbsp;<span class="ident" id="4594697">tmpl</span><span class="op" id="4594701">.</span><span class="ident" id="4594702">Parse</span><span class="op" id="4594707">(</span><span class="ident" id="4594708">s</span><span class="op" id="4594709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594713">if</span>&nbsp;<span class="ident" id="4594716">err</span>&nbsp;<span class="op" id="4594720">!=</span>&nbsp;<span class="ident" id="4594723">nil</span>&nbsp;<span class="op" id="4594727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594732">return</span>&nbsp;<span class="ident" id="4594739">nil</span><span class="op" id="4594742">,</span>&nbsp;<span class="ident" id="4594744">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4594753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4594756">return</span>&nbsp;<span class="ident" id="4594763">t</span><span class="op" id="4594764">,</span>&nbsp;<span class="ident" id="4594766">nil</span><br>
<span class="lineno"></span><span class="op" id="4594770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4594773">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4594854">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4594930">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4595006">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="4595079">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="4595140">func</span>&nbsp;<span class="ident" id="4595145">ParseGlob</span><span class="op" id="4595154">(</span><span class="ident" id="4595155">pattern</span>&nbsp;<span class="builtintype" id="4595163">string</span><span class="op" id="4595169">)</span>&nbsp;<span class="op" id="4595171">(</span><span class="op" id="4595172">*</span><span class="ident" id="4595173">Template</span><span class="op" id="4595181">,</span>&nbsp;<span class="builtintype" id="4595183">error</span><span class="op" id="4595188">)</span>&nbsp;<span class="op" id="4595190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595193">return</span>&nbsp;<span class="ident" id="4595200">parseGlob</span><span class="op" id="4595209">(</span><span class="ident" id="4595210">nil</span><span class="op" id="4595213">,</span>&nbsp;<span class="ident" id="4595215">pattern</span><span class="op" id="4595222">)</span><br>
<span class="lineno"></span><span class="op" id="4595224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4595227">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="4595303">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4595376">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4595453">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4595529">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="4595541">func</span>&nbsp;<span class="op" id="4595546">(</span><span class="ident" id="4595547">t</span>&nbsp;<span class="op" id="4595549">*</span><span class="ident" id="4595550">Template</span><span class="op" id="4595558">)</span>&nbsp;<span class="ident" id="4595560">ParseGlob</span><span class="op" id="4595569">(</span><span class="ident" id="4595570">pattern</span>&nbsp;<span class="builtintype" id="4595578">string</span><span class="op" id="4595584">)</span>&nbsp;<span class="op" id="4595586">(</span><span class="op" id="4595587">*</span><span class="ident" id="4595588">Template</span><span class="op" id="4595596">,</span>&nbsp;<span class="builtintype" id="4595598">error</span><span class="op" id="4595603">)</span>&nbsp;<span class="op" id="4595605">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595608">return</span>&nbsp;<span class="ident" id="4595615">parseGlob</span><span class="op" id="4595624">(</span><span class="ident" id="4595625">t</span><span class="op" id="4595626">,</span>&nbsp;<span class="ident" id="4595628">pattern</span><span class="op" id="4595635">)</span><br>
<span class="lineno"></span><span class="op" id="4595637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4595640">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="4595713">func</span>&nbsp;<span class="ident" id="4595718">parseGlob</span><span class="op" id="4595727">(</span><span class="ident" id="4595728">t</span>&nbsp;<span class="op" id="4595730">*</span><span class="ident" id="4595731">Template</span><span class="op" id="4595739">,</span>&nbsp;<span class="ident" id="4595741">pattern</span>&nbsp;<span class="builtintype" id="4595749">string</span><span class="op" id="4595755">)</span>&nbsp;<span class="op" id="4595757">(</span><span class="op" id="4595758">*</span><span class="ident" id="4595759">Template</span><span class="op" id="4595767">,</span>&nbsp;<span class="builtintype" id="4595769">error</span><span class="op" id="4595774">)</span>&nbsp;<span class="op" id="4595776">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4595779">filenames</span><span class="op" id="4595788">,</span>&nbsp;<span class="ident" id="4595790">err</span>&nbsp;<span class="op" id="4595794">:=</span>&nbsp;<span class="ident" id="4595797">filepath</span><span class="op" id="4595805">.</span><span class="ident" id="4595806">Glob</span><span class="op" id="4595810">(</span><span class="ident" id="4595811">pattern</span><span class="op" id="4595818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595821">if</span>&nbsp;<span class="ident" id="4595824">err</span>&nbsp;<span class="op" id="4595828">!=</span>&nbsp;<span class="ident" id="4595831">nil</span>&nbsp;<span class="op" id="4595835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595839">return</span>&nbsp;<span class="ident" id="4595846">nil</span><span class="op" id="4595849">,</span>&nbsp;<span class="ident" id="4595851">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4595856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595859">if</span>&nbsp;<span class="builtinfunc" id="4595862">len</span><span class="op" id="4595865">(</span><span class="ident" id="4595866">filenames</span><span class="op" id="4595875">)</span>&nbsp;<span class="op" id="4595877">==</span>&nbsp;<span class="num" id="4595880">0</span>&nbsp;<span class="op" id="4595882">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595886">return</span>&nbsp;<span class="ident" id="4595893">nil</span><span class="op" id="4595896">,</span>&nbsp;<span class="ident" id="4595898">fmt</span><span class="op" id="4595901">.</span><span class="ident" id="4595902">Errorf</span><span class="op" id="4595908">(</span><span class="string" id="4595909">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="4595950">,</span>&nbsp;<span class="ident" id="4595952">pattern</span><span class="op" id="4595959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4595962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4595965">return</span>&nbsp;<span class="ident" id="4595972">parseFiles</span><span class="op" id="4595982">(</span><span class="ident" id="4595983">t</span><span class="op" id="4595984">,</span>&nbsp;<span class="ident" id="4595986">filenames</span><span class="op" id="4595995">...</span><span class="op" id="4595998">)</span><br>
<span class="lineno"></span><span class="op" id="4596000">}</span>
</div>
</body>
</html>
