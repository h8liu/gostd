<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7624633">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7624688">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7624742">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7624793">package</span>&nbsp;<span class="ident" id="7624801">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7624806">import</span>&nbsp;<span class="op" id="7624813">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7624816">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7624825">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7624835">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7624838">type</span>&nbsp;<span class="ident" id="7624843">encDecTest</span>&nbsp;<span class="keyword" id="7624854">struct</span>&nbsp;<span class="op" id="7624861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624864">enc</span>&nbsp;<span class="builtintype" id="7624868">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624876">dec</span>&nbsp;<span class="op" id="7624880">[</span><span class="op" id="7624881">]</span><span class="builtintype" id="7624882">byte</span><br>
<span class="lineno">15</span><span class="op" id="7624887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7624890">var</span>&nbsp;<span class="ident" id="7624894">encDecTests</span>&nbsp;<span class="op" id="7624906">=</span>&nbsp;<span class="op" id="7624908">[</span><span class="op" id="7624909">]</span><span class="ident" id="7624910">encDecTest</span><span class="op" id="7624920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624923">{</span><span class="string" id="7624924">&#34;&#34;</span><span class="op" id="7624926">,</span>&nbsp;<span class="op" id="7624928">[</span><span class="op" id="7624929">]</span><span class="builtintype" id="7624930">byte</span><span class="op" id="7624934">{</span><span class="op" id="7624935">}</span><span class="op" id="7624936">}</span><span class="op" id="7624937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624940">{</span><span class="string" id="7624941">&#34;0001020304050607&#34;</span><span class="op" id="7624959">,</span>&nbsp;<span class="op" id="7624961">[</span><span class="op" id="7624962">]</span><span class="builtintype" id="7624963">byte</span><span class="op" id="7624967">{</span><span class="num" id="7624968">0</span><span class="op" id="7624969">,</span>&nbsp;<span class="num" id="7624971">1</span><span class="op" id="7624972">,</span>&nbsp;<span class="num" id="7624974">2</span><span class="op" id="7624975">,</span>&nbsp;<span class="num" id="7624977">3</span><span class="op" id="7624978">,</span>&nbsp;<span class="num" id="7624980">4</span><span class="op" id="7624981">,</span>&nbsp;<span class="num" id="7624983">5</span><span class="op" id="7624984">,</span>&nbsp;<span class="num" id="7624986">6</span><span class="op" id="7624987">,</span>&nbsp;<span class="num" id="7624989">7</span><span class="op" id="7624990">}</span><span class="op" id="7624991">}</span><span class="op" id="7624992">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624995">{</span><span class="string" id="7624996">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="7625014">,</span>&nbsp;<span class="op" id="7625016">[</span><span class="op" id="7625017">]</span><span class="builtintype" id="7625018">byte</span><span class="op" id="7625022">{</span><span class="num" id="7625023">8</span><span class="op" id="7625024">,</span>&nbsp;<span class="num" id="7625026">9</span><span class="op" id="7625027">,</span>&nbsp;<span class="num" id="7625029">10</span><span class="op" id="7625031">,</span>&nbsp;<span class="num" id="7625033">11</span><span class="op" id="7625035">,</span>&nbsp;<span class="num" id="7625037">12</span><span class="op" id="7625039">,</span>&nbsp;<span class="num" id="7625041">13</span><span class="op" id="7625043">,</span>&nbsp;<span class="num" id="7625045">14</span><span class="op" id="7625047">,</span>&nbsp;<span class="num" id="7625049">15</span><span class="op" id="7625051">}</span><span class="op" id="7625052">}</span><span class="op" id="7625053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625056">{</span><span class="string" id="7625057">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="7625075">,</span>&nbsp;<span class="op" id="7625077">[</span><span class="op" id="7625078">]</span><span class="builtintype" id="7625079">byte</span><span class="op" id="7625083">{</span><span class="num" id="7625084">0xf0</span><span class="op" id="7625088">,</span>&nbsp;<span class="num" id="7625090">0xf1</span><span class="op" id="7625094">,</span>&nbsp;<span class="num" id="7625096">0xf2</span><span class="op" id="7625100">,</span>&nbsp;<span class="num" id="7625102">0xf3</span><span class="op" id="7625106">,</span>&nbsp;<span class="num" id="7625108">0xf4</span><span class="op" id="7625112">,</span>&nbsp;<span class="num" id="7625114">0xf5</span><span class="op" id="7625118">,</span>&nbsp;<span class="num" id="7625120">0xf6</span><span class="op" id="7625124">,</span>&nbsp;<span class="num" id="7625126">0xf7</span><span class="op" id="7625130">}</span><span class="op" id="7625131">}</span><span class="op" id="7625132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625135">{</span><span class="string" id="7625136">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="7625154">,</span>&nbsp;<span class="op" id="7625156">[</span><span class="op" id="7625157">]</span><span class="builtintype" id="7625158">byte</span><span class="op" id="7625162">{</span><span class="num" id="7625163">0xf8</span><span class="op" id="7625167">,</span>&nbsp;<span class="num" id="7625169">0xf9</span><span class="op" id="7625173">,</span>&nbsp;<span class="num" id="7625175">0xfa</span><span class="op" id="7625179">,</span>&nbsp;<span class="num" id="7625181">0xfb</span><span class="op" id="7625185">,</span>&nbsp;<span class="num" id="7625187">0xfc</span><span class="op" id="7625191">,</span>&nbsp;<span class="num" id="7625193">0xfd</span><span class="op" id="7625197">,</span>&nbsp;<span class="num" id="7625199">0xfe</span><span class="op" id="7625203">,</span>&nbsp;<span class="num" id="7625205">0xff</span><span class="op" id="7625209">}</span><span class="op" id="7625210">}</span><span class="op" id="7625211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625214">{</span><span class="string" id="7625215">&#34;67&#34;</span><span class="op" id="7625219">,</span>&nbsp;<span class="op" id="7625221">[</span><span class="op" id="7625222">]</span><span class="builtintype" id="7625223">byte</span><span class="op" id="7625227">{</span><span class="string" id="7625228">&#39;g&#39;</span><span class="op" id="7625231">}</span><span class="op" id="7625232">}</span><span class="op" id="7625233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625236">{</span><span class="string" id="7625237">&#34;e3a1&#34;</span><span class="op" id="7625243">,</span>&nbsp;<span class="op" id="7625245">[</span><span class="op" id="7625246">]</span><span class="builtintype" id="7625247">byte</span><span class="op" id="7625251">{</span><span class="num" id="7625252">0xe3</span><span class="op" id="7625256">,</span>&nbsp;<span class="num" id="7625258">0xa1</span><span class="op" id="7625262">}</span><span class="op" id="7625263">}</span><span class="op" id="7625264">,</span><br>
<span class="lineno">25</span><span class="op" id="7625266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7625269">func</span>&nbsp;<span class="ident" id="7625274">TestEncode</span><span class="op" id="7625284">(</span><span class="ident" id="7625285">t</span>&nbsp;<span class="op" id="7625287">*</span><span class="ident" id="7625288">testing</span><span class="op" id="7625295">.</span><span class="ident" id="7625296">T</span><span class="op" id="7625297">)</span>&nbsp;<span class="op" id="7625299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625302">for</span>&nbsp;<span class="ident" id="7625306">i</span><span class="op" id="7625307">,</span>&nbsp;<span class="ident" id="7625309">test</span>&nbsp;<span class="op" id="7625314">:=</span>&nbsp;<span class="keyword" id="7625317">range</span>&nbsp;<span class="ident" id="7625323">encDecTests</span>&nbsp;<span class="op" id="7625335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625339">dst</span>&nbsp;<span class="op" id="7625343">:=</span>&nbsp;<span class="builtinfunc" id="7625346">make</span><span class="op" id="7625350">(</span><span class="op" id="7625351">[</span><span class="op" id="7625352">]</span><span class="builtintype" id="7625353">byte</span><span class="op" id="7625357">,</span>&nbsp;<span class="ident" id="7625359">EncodedLen</span><span class="op" id="7625369">(</span><span class="builtinfunc" id="7625370">len</span><span class="op" id="7625373">(</span><span class="ident" id="7625374">test</span><span class="op" id="7625378">.</span><span class="ident" id="7625379">dec</span><span class="op" id="7625382">)</span><span class="op" id="7625383">)</span><span class="op" id="7625384">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625388">n</span>&nbsp;<span class="op" id="7625390">:=</span>&nbsp;<span class="ident" id="7625393">Encode</span><span class="op" id="7625399">(</span><span class="ident" id="7625400">dst</span><span class="op" id="7625403">,</span>&nbsp;<span class="ident" id="7625405">test</span><span class="op" id="7625409">.</span><span class="ident" id="7625410">dec</span><span class="op" id="7625413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625417">if</span>&nbsp;<span class="ident" id="7625420">n</span>&nbsp;<span class="op" id="7625422">!=</span>&nbsp;<span class="builtinfunc" id="7625425">len</span><span class="op" id="7625428">(</span><span class="ident" id="7625429">dst</span><span class="op" id="7625432">)</span>&nbsp;<span class="op" id="7625434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625439">t</span><span class="op" id="7625440">.</span><span class="ident" id="7625441">Errorf</span><span class="op" id="7625447">(</span><span class="string" id="7625448">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="7625489">,</span>&nbsp;<span class="ident" id="7625491">i</span><span class="op" id="7625492">,</span>&nbsp;<span class="ident" id="7625494">n</span><span class="op" id="7625495">,</span>&nbsp;<span class="builtinfunc" id="7625497">len</span><span class="op" id="7625500">(</span><span class="ident" id="7625501">dst</span><span class="op" id="7625504">)</span><span class="op" id="7625505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625513">if</span>&nbsp;<span class="builtintype" id="7625516">string</span><span class="op" id="7625522">(</span><span class="ident" id="7625523">dst</span><span class="op" id="7625526">)</span>&nbsp;<span class="op" id="7625528">!=</span>&nbsp;<span class="ident" id="7625531">test</span><span class="op" id="7625535">.</span><span class="ident" id="7625536">enc</span>&nbsp;<span class="op" id="7625540">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625545">t</span><span class="op" id="7625546">.</span><span class="ident" id="7625547">Errorf</span><span class="op" id="7625553">(</span><span class="string" id="7625554">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7625579">,</span>&nbsp;<span class="ident" id="7625581">i</span><span class="op" id="7625582">,</span>&nbsp;<span class="ident" id="7625584">dst</span><span class="op" id="7625587">,</span>&nbsp;<span class="ident" id="7625589">test</span><span class="op" id="7625593">.</span><span class="ident" id="7625594">enc</span><span class="op" id="7625597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625604">}</span><br>
<span class="lineno"></span><span class="op" id="7625606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7625609">func</span>&nbsp;<span class="ident" id="7625614">TestDecode</span><span class="op" id="7625624">(</span><span class="ident" id="7625625">t</span>&nbsp;<span class="op" id="7625627">*</span><span class="ident" id="7625628">testing</span><span class="op" id="7625635">.</span><span class="ident" id="7625636">T</span><span class="op" id="7625637">)</span>&nbsp;<span class="op" id="7625639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7625642">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7625696">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625730">decTests</span>&nbsp;<span class="op" id="7625739">:=</span>&nbsp;<span class="builtinfunc" id="7625742">append</span><span class="op" id="7625748">(</span><span class="ident" id="7625749">encDecTests</span><span class="op" id="7625760">,</span>&nbsp;<span class="ident" id="7625762">encDecTest</span><span class="op" id="7625772">{</span><span class="string" id="7625773">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="7625791">,</span>&nbsp;<span class="op" id="7625793">[</span><span class="op" id="7625794">]</span><span class="builtintype" id="7625795">byte</span><span class="op" id="7625799">{</span><span class="num" id="7625800">0xf8</span><span class="op" id="7625804">,</span>&nbsp;<span class="num" id="7625806">0xf9</span><span class="op" id="7625810">,</span>&nbsp;<span class="num" id="7625812">0xfa</span><span class="op" id="7625816">,</span>&nbsp;<span class="num" id="7625818">0xfb</span><span class="op" id="7625822">,</span>&nbsp;<span class="num" id="7625824">0xfc</span><span class="op" id="7625828">,</span>&nbsp;<span class="num" id="7625830">0xfd</span><span class="op" id="7625834">,</span>&nbsp;<span class="num" id="7625836">0xfe</span><span class="op" id="7625840">,</span>&nbsp;<span class="num" id="7625842">0xff</span><span class="op" id="7625846">}</span><span class="op" id="7625847">}</span><span class="op" id="7625848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625851">for</span>&nbsp;<span class="ident" id="7625855">i</span><span class="op" id="7625856">,</span>&nbsp;<span class="ident" id="7625858">test</span>&nbsp;<span class="op" id="7625863">:=</span>&nbsp;<span class="keyword" id="7625866">range</span>&nbsp;<span class="ident" id="7625872">decTests</span>&nbsp;<span class="op" id="7625881">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625885">dst</span>&nbsp;<span class="op" id="7625889">:=</span>&nbsp;<span class="builtinfunc" id="7625892">make</span><span class="op" id="7625896">(</span><span class="op" id="7625897">[</span><span class="op" id="7625898">]</span><span class="builtintype" id="7625899">byte</span><span class="op" id="7625903">,</span>&nbsp;<span class="ident" id="7625905">DecodedLen</span><span class="op" id="7625915">(</span><span class="builtinfunc" id="7625916">len</span><span class="op" id="7625919">(</span><span class="ident" id="7625920">test</span><span class="op" id="7625924">.</span><span class="ident" id="7625925">enc</span><span class="op" id="7625928">)</span><span class="op" id="7625929">)</span><span class="op" id="7625930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625934">n</span><span class="op" id="7625935">,</span>&nbsp;<span class="ident" id="7625937">err</span>&nbsp;<span class="op" id="7625941">:=</span>&nbsp;<span class="ident" id="7625944">Decode</span><span class="op" id="7625950">(</span><span class="ident" id="7625951">dst</span><span class="op" id="7625954">,</span>&nbsp;<span class="op" id="7625956">[</span><span class="op" id="7625957">]</span><span class="builtintype" id="7625958">byte</span><span class="op" id="7625962">(</span><span class="ident" id="7625963">test</span><span class="op" id="7625967">.</span><span class="ident" id="7625968">enc</span><span class="op" id="7625971">)</span><span class="op" id="7625972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625976">if</span>&nbsp;<span class="ident" id="7625979">err</span>&nbsp;<span class="op" id="7625983">!=</span>&nbsp;<span class="ident" id="7625986">nil</span>&nbsp;<span class="op" id="7625990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625995">t</span><span class="op" id="7625996">.</span><span class="ident" id="7625997">Errorf</span><span class="op" id="7626003">(</span><span class="string" id="7626004">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="7626043">,</span>&nbsp;<span class="ident" id="7626045">i</span><span class="op" id="7626046">,</span>&nbsp;<span class="ident" id="7626048">n</span><span class="op" id="7626049">,</span>&nbsp;<span class="builtinfunc" id="7626051">len</span><span class="op" id="7626054">(</span><span class="ident" id="7626055">dst</span><span class="op" id="7626058">)</span><span class="op" id="7626059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626063">}</span>&nbsp;<span class="keyword" id="7626065">else</span>&nbsp;<span class="keyword" id="7626070">if</span>&nbsp;<span class="op" id="7626073">!</span><span class="ident" id="7626074">bytes</span><span class="op" id="7626079">.</span><span class="ident" id="7626080">Equal</span><span class="op" id="7626085">(</span><span class="ident" id="7626086">dst</span><span class="op" id="7626089">,</span>&nbsp;<span class="ident" id="7626091">test</span><span class="op" id="7626095">.</span><span class="ident" id="7626096">dec</span><span class="op" id="7626099">)</span>&nbsp;<span class="op" id="7626101">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626106">t</span><span class="op" id="7626107">.</span><span class="ident" id="7626108">Errorf</span><span class="op" id="7626114">(</span><span class="string" id="7626115">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7626140">,</span>&nbsp;<span class="ident" id="7626142">i</span><span class="op" id="7626143">,</span>&nbsp;<span class="ident" id="7626145">dst</span><span class="op" id="7626148">,</span>&nbsp;<span class="ident" id="7626150">test</span><span class="op" id="7626154">.</span><span class="ident" id="7626155">dec</span><span class="op" id="7626158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626165">}</span><br>
<span class="lineno"></span><span class="op" id="7626167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7626170">func</span>&nbsp;<span class="ident" id="7626175">TestEncodeToString</span><span class="op" id="7626193">(</span><span class="ident" id="7626194">t</span>&nbsp;<span class="op" id="7626196">*</span><span class="ident" id="7626197">testing</span><span class="op" id="7626204">.</span><span class="ident" id="7626205">T</span><span class="op" id="7626206">)</span>&nbsp;<span class="op" id="7626208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626211">for</span>&nbsp;<span class="ident" id="7626215">i</span><span class="op" id="7626216">,</span>&nbsp;<span class="ident" id="7626218">test</span>&nbsp;<span class="op" id="7626223">:=</span>&nbsp;<span class="keyword" id="7626226">range</span>&nbsp;<span class="ident" id="7626232">encDecTests</span>&nbsp;<span class="op" id="7626244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626248">s</span>&nbsp;<span class="op" id="7626250">:=</span>&nbsp;<span class="ident" id="7626253">EncodeToString</span><span class="op" id="7626267">(</span><span class="ident" id="7626268">test</span><span class="op" id="7626272">.</span><span class="ident" id="7626273">dec</span><span class="op" id="7626276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626280">if</span>&nbsp;<span class="ident" id="7626283">s</span>&nbsp;<span class="op" id="7626285">!=</span>&nbsp;<span class="ident" id="7626288">test</span><span class="op" id="7626292">.</span><span class="ident" id="7626293">enc</span>&nbsp;<span class="op" id="7626297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626302">t</span><span class="op" id="7626303">.</span><span class="ident" id="7626304">Errorf</span><span class="op" id="7626310">(</span><span class="string" id="7626311">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="7626331">,</span>&nbsp;<span class="ident" id="7626333">i</span><span class="op" id="7626334">,</span>&nbsp;<span class="ident" id="7626336">s</span><span class="op" id="7626337">,</span>&nbsp;<span class="ident" id="7626339">test</span><span class="op" id="7626343">.</span><span class="ident" id="7626344">enc</span><span class="op" id="7626347">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626354">}</span><br>
<span class="lineno"></span><span class="op" id="7626356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626359">func</span>&nbsp;<span class="ident" id="7626364">TestDecodeString</span><span class="op" id="7626380">(</span><span class="ident" id="7626381">t</span>&nbsp;<span class="op" id="7626383">*</span><span class="ident" id="7626384">testing</span><span class="op" id="7626391">.</span><span class="ident" id="7626392">T</span><span class="op" id="7626393">)</span>&nbsp;<span class="op" id="7626395">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626398">for</span>&nbsp;<span class="ident" id="7626402">i</span><span class="op" id="7626403">,</span>&nbsp;<span class="ident" id="7626405">test</span>&nbsp;<span class="op" id="7626410">:=</span>&nbsp;<span class="keyword" id="7626413">range</span>&nbsp;<span class="ident" id="7626419">encDecTests</span>&nbsp;<span class="op" id="7626431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626435">dst</span><span class="op" id="7626438">,</span>&nbsp;<span class="ident" id="7626440">err</span>&nbsp;<span class="op" id="7626444">:=</span>&nbsp;<span class="ident" id="7626447">DecodeString</span><span class="op" id="7626459">(</span><span class="ident" id="7626460">test</span><span class="op" id="7626464">.</span><span class="ident" id="7626465">enc</span><span class="op" id="7626468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626472">if</span>&nbsp;<span class="ident" id="7626475">err</span>&nbsp;<span class="op" id="7626479">!=</span>&nbsp;<span class="ident" id="7626482">nil</span>&nbsp;<span class="op" id="7626486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626491">t</span><span class="op" id="7626492">.</span><span class="ident" id="7626493">Errorf</span><span class="op" id="7626499">(</span><span class="string" id="7626500">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="7626531">,</span>&nbsp;<span class="ident" id="7626533">i</span><span class="op" id="7626534">,</span>&nbsp;<span class="ident" id="7626536">err</span><span class="op" id="7626539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626544">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626559">if</span>&nbsp;<span class="op" id="7626562">!</span><span class="ident" id="7626563">bytes</span><span class="op" id="7626568">.</span><span class="ident" id="7626569">Equal</span><span class="op" id="7626574">(</span><span class="ident" id="7626575">dst</span><span class="op" id="7626578">,</span>&nbsp;<span class="ident" id="7626580">test</span><span class="op" id="7626584">.</span><span class="ident" id="7626585">dec</span><span class="op" id="7626588">)</span>&nbsp;<span class="op" id="7626590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626595">t</span><span class="op" id="7626596">.</span><span class="ident" id="7626597">Errorf</span><span class="op" id="7626603">(</span><span class="string" id="7626604">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="7626629">,</span>&nbsp;<span class="ident" id="7626631">i</span><span class="op" id="7626632">,</span>&nbsp;<span class="ident" id="7626634">dst</span><span class="op" id="7626637">,</span>&nbsp;<span class="ident" id="7626639">test</span><span class="op" id="7626643">.</span><span class="ident" id="7626644">dec</span><span class="op" id="7626647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626654">}</span><br>
<span class="lineno">75</span><span class="op" id="7626656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626659">type</span>&nbsp;<span class="ident" id="7626664">errTest</span>&nbsp;<span class="keyword" id="7626672">struct</span>&nbsp;<span class="op" id="7626679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626682">in</span>&nbsp;&nbsp;<span class="builtintype" id="7626686">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626694">err</span>&nbsp;<span class="builtintype" id="7626698">string</span><br>
<span class="lineno">80</span><span class="op" id="7626705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626708">var</span>&nbsp;<span class="ident" id="7626712">errTests</span>&nbsp;<span class="op" id="7626721">=</span>&nbsp;<span class="op" id="7626723">[</span><span class="op" id="7626724">]</span><span class="ident" id="7626725">errTest</span><span class="op" id="7626732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626735">{</span><span class="string" id="7626736">&#34;0&#34;</span><span class="op" id="7626739">,</span>&nbsp;<span class="string" id="7626741">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="7626778">}</span><span class="op" id="7626779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626782">{</span><span class="string" id="7626783">&#34;0g&#34;</span><span class="op" id="7626787">,</span>&nbsp;<span class="string" id="7626789">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7626829">}</span><span class="op" id="7626830">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626833">{</span><span class="string" id="7626834">&#34;00gg&#34;</span><span class="op" id="7626840">,</span>&nbsp;<span class="string" id="7626842">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7626882">}</span><span class="op" id="7626883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626886">{</span><span class="string" id="7626887">&#34;0\x01&#34;</span><span class="op" id="7626894">,</span>&nbsp;<span class="string" id="7626896">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="7626932">}</span><span class="op" id="7626933">,</span><br>
<span class="lineno"></span><span class="op" id="7626935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626938">func</span>&nbsp;<span class="ident" id="7626943">TestInvalidErr</span><span class="op" id="7626957">(</span><span class="ident" id="7626958">t</span>&nbsp;<span class="op" id="7626960">*</span><span class="ident" id="7626961">testing</span><span class="op" id="7626968">.</span><span class="ident" id="7626969">T</span><span class="op" id="7626970">)</span>&nbsp;<span class="op" id="7626972">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626975">for</span>&nbsp;<span class="ident" id="7626979">i</span><span class="op" id="7626980">,</span>&nbsp;<span class="ident" id="7626982">test</span>&nbsp;<span class="op" id="7626987">:=</span>&nbsp;<span class="keyword" id="7626990">range</span>&nbsp;<span class="ident" id="7626996">errTests</span>&nbsp;<span class="op" id="7627005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627009">dst</span>&nbsp;<span class="op" id="7627013">:=</span>&nbsp;<span class="builtinfunc" id="7627016">make</span><span class="op" id="7627020">(</span><span class="op" id="7627021">[</span><span class="op" id="7627022">]</span><span class="builtintype" id="7627023">byte</span><span class="op" id="7627027">,</span>&nbsp;<span class="ident" id="7627029">DecodedLen</span><span class="op" id="7627039">(</span><span class="builtinfunc" id="7627040">len</span><span class="op" id="7627043">(</span><span class="ident" id="7627044">test</span><span class="op" id="7627048">.</span><span class="ident" id="7627049">in</span><span class="op" id="7627051">)</span><span class="op" id="7627052">)</span><span class="op" id="7627053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627057">_</span><span class="op" id="7627058">,</span>&nbsp;<span class="ident" id="7627060">err</span>&nbsp;<span class="op" id="7627064">:=</span>&nbsp;<span class="ident" id="7627067">Decode</span><span class="op" id="7627073">(</span><span class="ident" id="7627074">dst</span><span class="op" id="7627077">,</span>&nbsp;<span class="op" id="7627079">[</span><span class="op" id="7627080">]</span><span class="builtintype" id="7627081">byte</span><span class="op" id="7627085">(</span><span class="ident" id="7627086">test</span><span class="op" id="7627090">.</span><span class="ident" id="7627091">in</span><span class="op" id="7627093">)</span><span class="op" id="7627094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627098">if</span>&nbsp;<span class="ident" id="7627101">err</span>&nbsp;<span class="op" id="7627105">==</span>&nbsp;<span class="ident" id="7627108">nil</span>&nbsp;<span class="op" id="7627112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627117">t</span><span class="op" id="7627118">.</span><span class="ident" id="7627119">Errorf</span><span class="op" id="7627125">(</span><span class="string" id="7627126">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7627157">,</span>&nbsp;<span class="ident" id="7627159">i</span><span class="op" id="7627160">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627164">}</span>&nbsp;<span class="keyword" id="7627166">else</span>&nbsp;<span class="keyword" id="7627171">if</span>&nbsp;<span class="ident" id="7627174">err</span><span class="op" id="7627177">.</span><span class="ident" id="7627178">Error</span><span class="op" id="7627183">(</span><span class="op" id="7627184">)</span>&nbsp;<span class="op" id="7627186">!=</span>&nbsp;<span class="ident" id="7627189">test</span><span class="op" id="7627193">.</span><span class="ident" id="7627194">err</span>&nbsp;<span class="op" id="7627198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627203">t</span><span class="op" id="7627204">.</span><span class="ident" id="7627205">Errorf</span><span class="op" id="7627211">(</span><span class="string" id="7627212">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7627235">,</span>&nbsp;<span class="ident" id="7627237">i</span><span class="op" id="7627238">,</span>&nbsp;<span class="ident" id="7627240">err</span><span class="op" id="7627243">,</span>&nbsp;<span class="ident" id="7627245">test</span><span class="op" id="7627249">.</span><span class="ident" id="7627250">err</span><span class="op" id="7627253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627260">}</span><br>
<span class="lineno"></span><span class="op" id="7627262">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7627265">func</span>&nbsp;<span class="ident" id="7627270">TestInvalidStringErr</span><span class="op" id="7627290">(</span><span class="ident" id="7627291">t</span>&nbsp;<span class="op" id="7627293">*</span><span class="ident" id="7627294">testing</span><span class="op" id="7627301">.</span><span class="ident" id="7627302">T</span><span class="op" id="7627303">)</span>&nbsp;<span class="op" id="7627305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627308">for</span>&nbsp;<span class="ident" id="7627312">i</span><span class="op" id="7627313">,</span>&nbsp;<span class="ident" id="7627315">test</span>&nbsp;<span class="op" id="7627320">:=</span>&nbsp;<span class="keyword" id="7627323">range</span>&nbsp;<span class="ident" id="7627329">errTests</span>&nbsp;<span class="op" id="7627338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627342">_</span><span class="op" id="7627343">,</span>&nbsp;<span class="ident" id="7627345">err</span>&nbsp;<span class="op" id="7627349">:=</span>&nbsp;<span class="ident" id="7627352">DecodeString</span><span class="op" id="7627364">(</span><span class="ident" id="7627365">test</span><span class="op" id="7627369">.</span><span class="ident" id="7627370">in</span><span class="op" id="7627372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627376">if</span>&nbsp;<span class="ident" id="7627379">err</span>&nbsp;<span class="op" id="7627383">==</span>&nbsp;<span class="ident" id="7627386">nil</span>&nbsp;<span class="op" id="7627390">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627395">t</span><span class="op" id="7627396">.</span><span class="ident" id="7627397">Errorf</span><span class="op" id="7627403">(</span><span class="string" id="7627404">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7627435">,</span>&nbsp;<span class="ident" id="7627437">i</span><span class="op" id="7627438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627442">}</span>&nbsp;<span class="keyword" id="7627444">else</span>&nbsp;<span class="keyword" id="7627449">if</span>&nbsp;<span class="ident" id="7627452">err</span><span class="op" id="7627455">.</span><span class="ident" id="7627456">Error</span><span class="op" id="7627461">(</span><span class="op" id="7627462">)</span>&nbsp;<span class="op" id="7627464">!=</span>&nbsp;<span class="ident" id="7627467">test</span><span class="op" id="7627471">.</span><span class="ident" id="7627472">err</span>&nbsp;<span class="op" id="7627476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627481">t</span><span class="op" id="7627482">.</span><span class="ident" id="7627483">Errorf</span><span class="op" id="7627489">(</span><span class="string" id="7627490">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7627513">,</span>&nbsp;<span class="ident" id="7627515">i</span><span class="op" id="7627516">,</span>&nbsp;<span class="ident" id="7627518">err</span><span class="op" id="7627521">,</span>&nbsp;<span class="ident" id="7627523">test</span><span class="op" id="7627527">.</span><span class="ident" id="7627528">err</span><span class="op" id="7627531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627538">}</span><br>
<span class="lineno">110</span><span class="op" id="7627540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7627543">func</span>&nbsp;<span class="ident" id="7627548">TestDumper</span><span class="op" id="7627558">(</span><span class="ident" id="7627559">t</span>&nbsp;<span class="op" id="7627561">*</span><span class="ident" id="7627562">testing</span><span class="op" id="7627569">.</span><span class="ident" id="7627570">T</span><span class="op" id="7627571">)</span>&nbsp;<span class="op" id="7627573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627576">var</span>&nbsp;<span class="ident" id="7627580">in</span>&nbsp;<span class="op" id="7627583">[</span><span class="num" id="7627584">40</span><span class="op" id="7627586">]</span><span class="builtintype" id="7627587">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627593">for</span>&nbsp;<span class="ident" id="7627597">i</span>&nbsp;<span class="op" id="7627599">:=</span>&nbsp;<span class="keyword" id="7627602">range</span>&nbsp;<span class="ident" id="7627608">in</span>&nbsp;<span class="op" id="7627611">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627615">in</span><span class="op" id="7627617">[</span><span class="ident" id="7627618">i</span><span class="op" id="7627619">]</span>&nbsp;<span class="op" id="7627621">=</span>&nbsp;<span class="builtintype" id="7627623">byte</span><span class="op" id="7627627">(</span><span class="ident" id="7627628">i</span>&nbsp;<span class="op" id="7627630">+</span>&nbsp;<span class="num" id="7627632">30</span><span class="op" id="7627634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627641">for</span>&nbsp;<span class="ident" id="7627645">stride</span>&nbsp;<span class="op" id="7627652">:=</span>&nbsp;<span class="num" id="7627655">1</span><span class="op" id="7627656">;</span>&nbsp;<span class="ident" id="7627658">stride</span>&nbsp;<span class="op" id="7627665">&lt;</span>&nbsp;<span class="builtinfunc" id="7627667">len</span><span class="op" id="7627670">(</span><span class="ident" id="7627671">in</span><span class="op" id="7627673">)</span><span class="op" id="7627674">;</span>&nbsp;<span class="ident" id="7627676">stride</span><span class="op" id="7627682">++</span>&nbsp;<span class="op" id="7627685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627689">var</span>&nbsp;<span class="ident" id="7627693">out</span>&nbsp;<span class="ident" id="7627697">bytes</span><span class="op" id="7627702">.</span><span class="ident" id="7627703">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627712">dumper</span>&nbsp;<span class="op" id="7627719">:=</span>&nbsp;<span class="ident" id="7627722">Dumper</span><span class="op" id="7627728">(</span><span class="op" id="7627729">&amp;</span><span class="ident" id="7627730">out</span><span class="op" id="7627733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627737">done</span>&nbsp;<span class="op" id="7627742">:=</span>&nbsp;<span class="num" id="7627745">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627749">for</span>&nbsp;<span class="ident" id="7627753">done</span>&nbsp;<span class="op" id="7627758">&lt;</span>&nbsp;<span class="builtinfunc" id="7627760">len</span><span class="op" id="7627763">(</span><span class="ident" id="7627764">in</span><span class="op" id="7627766">)</span>&nbsp;<span class="op" id="7627768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627773">todo</span>&nbsp;<span class="op" id="7627778">:=</span>&nbsp;<span class="ident" id="7627781">done</span>&nbsp;<span class="op" id="7627786">+</span>&nbsp;<span class="ident" id="7627788">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627798">if</span>&nbsp;<span class="ident" id="7627801">todo</span>&nbsp;<span class="op" id="7627806">&gt;</span>&nbsp;<span class="builtinfunc" id="7627808">len</span><span class="op" id="7627811">(</span><span class="ident" id="7627812">in</span><span class="op" id="7627814">)</span>&nbsp;<span class="op" id="7627816">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627822">todo</span>&nbsp;<span class="op" id="7627827">=</span>&nbsp;<span class="builtinfunc" id="7627829">len</span><span class="op" id="7627832">(</span><span class="ident" id="7627833">in</span><span class="op" id="7627835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627845">dumper</span><span class="op" id="7627851">.</span><span class="ident" id="7627852">Write</span><span class="op" id="7627857">(</span><span class="ident" id="7627858">in</span><span class="op" id="7627860">[</span><span class="ident" id="7627861">done</span><span class="op" id="7627865">:</span><span class="ident" id="7627866">todo</span><span class="op" id="7627870">]</span><span class="op" id="7627871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627876">done</span>&nbsp;<span class="op" id="7627881">=</span>&nbsp;<span class="ident" id="7627883">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627890">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627895">dumper</span><span class="op" id="7627901">.</span><span class="ident" id="7627902">Close</span><span class="op" id="7627907">(</span><span class="op" id="7627908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627912">if</span>&nbsp;<span class="op" id="7627915">!</span><span class="ident" id="7627916">bytes</span><span class="op" id="7627921">.</span><span class="ident" id="7627922">Equal</span><span class="op" id="7627927">(</span><span class="ident" id="7627928">out</span><span class="op" id="7627931">.</span><span class="ident" id="7627932">Bytes</span><span class="op" id="7627937">(</span><span class="op" id="7627938">)</span><span class="op" id="7627939">,</span>&nbsp;<span class="ident" id="7627941">expectedHexDump</span><span class="op" id="7627956">)</span>&nbsp;<span class="op" id="7627958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627963">t</span><span class="op" id="7627964">.</span><span class="ident" id="7627965">Errorf</span><span class="op" id="7627971">(</span><span class="string" id="7627972">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7628012">,</span>&nbsp;<span class="ident" id="7628014">stride</span><span class="op" id="7628020">,</span>&nbsp;<span class="ident" id="7628022">out</span><span class="op" id="7628025">.</span><span class="ident" id="7628026">Bytes</span><span class="op" id="7628031">(</span><span class="op" id="7628032">)</span><span class="op" id="7628033">,</span>&nbsp;<span class="ident" id="7628035">expectedHexDump</span><span class="op" id="7628050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628054">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628057">}</span><br>
<span class="lineno"></span><span class="op" id="7628059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7628062">func</span>&nbsp;<span class="ident" id="7628067">TestDump</span><span class="op" id="7628075">(</span><span class="ident" id="7628076">t</span>&nbsp;<span class="op" id="7628078">*</span><span class="ident" id="7628079">testing</span><span class="op" id="7628086">.</span><span class="ident" id="7628087">T</span><span class="op" id="7628088">)</span>&nbsp;<span class="op" id="7628090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628093">var</span>&nbsp;<span class="ident" id="7628097">in</span>&nbsp;<span class="op" id="7628100">[</span><span class="num" id="7628101">40</span><span class="op" id="7628103">]</span><span class="builtintype" id="7628104">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628110">for</span>&nbsp;<span class="ident" id="7628114">i</span>&nbsp;<span class="op" id="7628116">:=</span>&nbsp;<span class="keyword" id="7628119">range</span>&nbsp;<span class="ident" id="7628125">in</span>&nbsp;<span class="op" id="7628128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628132">in</span><span class="op" id="7628134">[</span><span class="ident" id="7628135">i</span><span class="op" id="7628136">]</span>&nbsp;<span class="op" id="7628138">=</span>&nbsp;<span class="builtintype" id="7628140">byte</span><span class="op" id="7628144">(</span><span class="ident" id="7628145">i</span>&nbsp;<span class="op" id="7628147">+</span>&nbsp;<span class="num" id="7628149">30</span><span class="op" id="7628151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628158">out</span>&nbsp;<span class="op" id="7628162">:=</span>&nbsp;<span class="op" id="7628165">[</span><span class="op" id="7628166">]</span><span class="builtintype" id="7628167">byte</span><span class="op" id="7628171">(</span><span class="ident" id="7628172">Dump</span><span class="op" id="7628176">(</span><span class="ident" id="7628177">in</span><span class="op" id="7628179">[</span><span class="op" id="7628180">:</span><span class="op" id="7628181">]</span><span class="op" id="7628182">)</span><span class="op" id="7628183">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628186">if</span>&nbsp;<span class="op" id="7628189">!</span><span class="ident" id="7628190">bytes</span><span class="op" id="7628195">.</span><span class="ident" id="7628196">Equal</span><span class="op" id="7628201">(</span><span class="ident" id="7628202">out</span><span class="op" id="7628205">,</span>&nbsp;<span class="ident" id="7628207">expectedHexDump</span><span class="op" id="7628222">)</span>&nbsp;<span class="op" id="7628224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628228">t</span><span class="op" id="7628229">.</span><span class="ident" id="7628230">Errorf</span><span class="op" id="7628236">(</span><span class="string" id="7628237">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7628258">,</span>&nbsp;<span class="ident" id="7628260">out</span><span class="op" id="7628263">,</span>&nbsp;<span class="ident" id="7628265">expectedHexDump</span><span class="op" id="7628280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628283">}</span><br>
<span class="lineno"></span><span class="op" id="7628285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="7628288">var</span>&nbsp;<span class="ident" id="7628292">expectedHexDump</span>&nbsp;<span class="op" id="7628308">=</span>&nbsp;<span class="op" id="7628310">[</span><span class="op" id="7628311">]</span><span class="builtintype" id="7628312">byte</span><span class="op" id="7628316">(</span><span class="string" id="7628317">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="7628548">)</span>
</div>
</body>
</html>
