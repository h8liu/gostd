<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5017376">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5017431">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5017485">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5017536">package</span>&nbsp;<span class="ident" id="5017544">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5017549">import</span>&nbsp;<span class="op" id="5017556">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5017559">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5017571">&#34;sort&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5017579">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5017589">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5017592">//&nbsp;SortImports&nbsp;sorts&nbsp;runs&nbsp;of&nbsp;consecutive&nbsp;import&nbsp;lines&nbsp;in&nbsp;import&nbsp;blocks&nbsp;in&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5017669">//&nbsp;It&nbsp;also&nbsp;removes&nbsp;duplicate&nbsp;imports&nbsp;when&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;do&nbsp;so&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno">15</span><span class="keyword" id="5017754">func</span>&nbsp;<span class="ident" id="5017759">SortImports</span><span class="op" id="5017770">(</span><span class="ident" id="5017771">fset</span>&nbsp;<span class="op" id="5017776">*</span><span class="ident" id="5017777">token</span><span class="op" id="5017782">.</span><span class="ident" id="5017783">FileSet</span><span class="op" id="5017790">,</span>&nbsp;<span class="ident" id="5017792">f</span>&nbsp;<span class="op" id="5017794">*</span><span class="ident" id="5017795">File</span><span class="op" id="5017799">)</span>&nbsp;<span class="op" id="5017801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5017804">for</span>&nbsp;<span class="ident" id="5017808">_</span><span class="op" id="5017809">,</span>&nbsp;<span class="ident" id="5017811">d</span>&nbsp;<span class="op" id="5017813">:=</span>&nbsp;<span class="keyword" id="5017816">range</span>&nbsp;<span class="ident" id="5017822">f</span><span class="op" id="5017823">.</span><span class="ident" id="5017824">Decls</span>&nbsp;<span class="op" id="5017830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5017834">d</span><span class="op" id="5017835">,</span>&nbsp;<span class="ident" id="5017837">ok</span>&nbsp;<span class="op" id="5017840">:=</span>&nbsp;<span class="ident" id="5017843">d</span><span class="op" id="5017844">.</span><span class="op" id="5017845">(</span><span class="op" id="5017846">*</span><span class="ident" id="5017847">GenDecl</span><span class="op" id="5017854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5017858">if</span>&nbsp;<span class="op" id="5017861">!</span><span class="ident" id="5017862">ok</span>&nbsp;<span class="op" id="5017865">||</span>&nbsp;<span class="ident" id="5017868">d</span><span class="op" id="5017869">.</span><span class="ident" id="5017870">Tok</span>&nbsp;<span class="op" id="5017874">!=</span>&nbsp;<span class="ident" id="5017877">token</span><span class="op" id="5017882">.</span><span class="ident" id="5017883">IMPORT</span>&nbsp;<span class="op" id="5017890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5017895">//&nbsp;Not&nbsp;an&nbsp;import&nbsp;declaration,&nbsp;so&nbsp;we&#39;re&nbsp;done.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5017943">//&nbsp;Imports&nbsp;are&nbsp;always&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5017975">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5017983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5017988">if</span>&nbsp;<span class="op" id="5017991">!</span><span class="ident" id="5017992">d</span><span class="op" id="5017993">.</span><span class="ident" id="5017994">Lparen</span><span class="op" id="5018000">.</span><span class="ident" id="5018001">IsValid</span><span class="op" id="5018008">(</span><span class="op" id="5018009">)</span>&nbsp;<span class="op" id="5018011">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5018016">//&nbsp;Not&nbsp;a&nbsp;block:&nbsp;sorted&nbsp;by&nbsp;default.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018054">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5018070">//&nbsp;Identify&nbsp;and&nbsp;sort&nbsp;runs&nbsp;of&nbsp;specs&nbsp;on&nbsp;successive&nbsp;lines.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018128">i</span>&nbsp;<span class="op" id="5018130">:=</span>&nbsp;<span class="num" id="5018133">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018137">specs</span>&nbsp;<span class="op" id="5018143">:=</span>&nbsp;<span class="ident" id="5018146">d</span><span class="op" id="5018147">.</span><span class="ident" id="5018148">Specs</span><span class="op" id="5018153">[</span><span class="op" id="5018154">:</span><span class="num" id="5018155">0</span><span class="op" id="5018156">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018160">for</span>&nbsp;<span class="ident" id="5018164">j</span><span class="op" id="5018165">,</span>&nbsp;<span class="ident" id="5018167">s</span>&nbsp;<span class="op" id="5018169">:=</span>&nbsp;<span class="keyword" id="5018172">range</span>&nbsp;<span class="ident" id="5018178">d</span><span class="op" id="5018179">.</span><span class="ident" id="5018180">Specs</span>&nbsp;<span class="op" id="5018186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018191">if</span>&nbsp;<span class="ident" id="5018194">j</span>&nbsp;<span class="op" id="5018196">&gt;</span>&nbsp;<span class="ident" id="5018198">i</span>&nbsp;<span class="op" id="5018200">&amp;&amp;</span>&nbsp;<span class="ident" id="5018203">fset</span><span class="op" id="5018207">.</span><span class="ident" id="5018208">Position</span><span class="op" id="5018216">(</span><span class="ident" id="5018217">s</span><span class="op" id="5018218">.</span><span class="ident" id="5018219">Pos</span><span class="op" id="5018222">(</span><span class="op" id="5018223">)</span><span class="op" id="5018224">)</span><span class="op" id="5018225">.</span><span class="ident" id="5018226">Line</span>&nbsp;<span class="op" id="5018231">&gt;</span>&nbsp;<span class="num" id="5018233">1</span><span class="op" id="5018234">+</span><span class="ident" id="5018235">fset</span><span class="op" id="5018239">.</span><span class="ident" id="5018240">Position</span><span class="op" id="5018248">(</span><span class="ident" id="5018249">d</span><span class="op" id="5018250">.</span><span class="ident" id="5018251">Specs</span><span class="op" id="5018256">[</span><span class="ident" id="5018257">j</span><span class="op" id="5018258">-</span><span class="num" id="5018259">1</span><span class="op" id="5018260">]</span><span class="op" id="5018261">.</span><span class="ident" id="5018262">End</span><span class="op" id="5018265">(</span><span class="op" id="5018266">)</span><span class="op" id="5018267">)</span><span class="op" id="5018268">.</span><span class="ident" id="5018269">Line</span>&nbsp;<span class="op" id="5018274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5018280">//&nbsp;j&nbsp;begins&nbsp;a&nbsp;new&nbsp;run.&nbsp;&nbsp;End&nbsp;this&nbsp;one.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018322">specs</span>&nbsp;<span class="op" id="5018328">=</span>&nbsp;<span class="builtinfunc" id="5018330">append</span><span class="op" id="5018336">(</span><span class="ident" id="5018337">specs</span><span class="op" id="5018342">,</span>&nbsp;<span class="ident" id="5018344">sortSpecs</span><span class="op" id="5018353">(</span><span class="ident" id="5018354">fset</span><span class="op" id="5018358">,</span>&nbsp;<span class="ident" id="5018360">f</span><span class="op" id="5018361">,</span>&nbsp;<span class="ident" id="5018363">d</span><span class="op" id="5018364">.</span><span class="ident" id="5018365">Specs</span><span class="op" id="5018370">[</span><span class="ident" id="5018371">i</span><span class="op" id="5018372">:</span><span class="ident" id="5018373">j</span><span class="op" id="5018374">]</span><span class="op" id="5018375">)</span><span class="op" id="5018376">...</span><span class="op" id="5018379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018385">i</span>&nbsp;<span class="op" id="5018387">=</span>&nbsp;<span class="ident" id="5018389">j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018402">specs</span>&nbsp;<span class="op" id="5018408">=</span>&nbsp;<span class="builtinfunc" id="5018410">append</span><span class="op" id="5018416">(</span><span class="ident" id="5018417">specs</span><span class="op" id="5018422">,</span>&nbsp;<span class="ident" id="5018424">sortSpecs</span><span class="op" id="5018433">(</span><span class="ident" id="5018434">fset</span><span class="op" id="5018438">,</span>&nbsp;<span class="ident" id="5018440">f</span><span class="op" id="5018441">,</span>&nbsp;<span class="ident" id="5018443">d</span><span class="op" id="5018444">.</span><span class="ident" id="5018445">Specs</span><span class="op" id="5018450">[</span><span class="ident" id="5018451">i</span><span class="op" id="5018452">:</span><span class="op" id="5018453">]</span><span class="op" id="5018454">)</span><span class="op" id="5018455">...</span><span class="op" id="5018458">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018462">d</span><span class="op" id="5018463">.</span><span class="ident" id="5018464">Specs</span>&nbsp;<span class="op" id="5018470">=</span>&nbsp;<span class="ident" id="5018472">specs</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5018481">//&nbsp;Deduping&nbsp;can&nbsp;leave&nbsp;a&nbsp;blank&nbsp;line&nbsp;before&nbsp;the&nbsp;rparen;&nbsp;clean&nbsp;that&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018552">if</span>&nbsp;<span class="builtinfunc" id="5018555">len</span><span class="op" id="5018558">(</span><span class="ident" id="5018559">d</span><span class="op" id="5018560">.</span><span class="ident" id="5018561">Specs</span><span class="op" id="5018566">)</span>&nbsp;<span class="op" id="5018568">&gt;</span>&nbsp;<span class="num" id="5018570">0</span>&nbsp;<span class="op" id="5018572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018577">lastSpec</span>&nbsp;<span class="op" id="5018586">:=</span>&nbsp;<span class="ident" id="5018589">d</span><span class="op" id="5018590">.</span><span class="ident" id="5018591">Specs</span><span class="op" id="5018596">[</span><span class="builtinfunc" id="5018597">len</span><span class="op" id="5018600">(</span><span class="ident" id="5018601">d</span><span class="op" id="5018602">.</span><span class="ident" id="5018603">Specs</span><span class="op" id="5018608">)</span><span class="op" id="5018609">-</span><span class="num" id="5018610">1</span><span class="op" id="5018611">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018616">lastLine</span>&nbsp;<span class="op" id="5018625">:=</span>&nbsp;<span class="ident" id="5018628">fset</span><span class="op" id="5018632">.</span><span class="ident" id="5018633">Position</span><span class="op" id="5018641">(</span><span class="ident" id="5018642">lastSpec</span><span class="op" id="5018650">.</span><span class="ident" id="5018651">Pos</span><span class="op" id="5018654">(</span><span class="op" id="5018655">)</span><span class="op" id="5018656">)</span><span class="op" id="5018657">.</span><span class="ident" id="5018658">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018666">if</span>&nbsp;<span class="ident" id="5018669">rParenLine</span>&nbsp;<span class="op" id="5018680">:=</span>&nbsp;<span class="ident" id="5018683">fset</span><span class="op" id="5018687">.</span><span class="ident" id="5018688">Position</span><span class="op" id="5018696">(</span><span class="ident" id="5018697">d</span><span class="op" id="5018698">.</span><span class="ident" id="5018699">Rparen</span><span class="op" id="5018705">)</span><span class="op" id="5018706">.</span><span class="ident" id="5018707">Line</span><span class="op" id="5018711">;</span>&nbsp;<span class="ident" id="5018713">rParenLine</span>&nbsp;<span class="op" id="5018724">&gt;</span>&nbsp;<span class="ident" id="5018726">lastLine</span><span class="op" id="5018734">+</span><span class="num" id="5018735">1</span>&nbsp;<span class="op" id="5018737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018743">fset</span><span class="op" id="5018747">.</span><span class="ident" id="5018748">File</span><span class="op" id="5018752">(</span><span class="ident" id="5018753">d</span><span class="op" id="5018754">.</span><span class="ident" id="5018755">Rparen</span><span class="op" id="5018761">)</span><span class="op" id="5018762">.</span><span class="ident" id="5018763">MergeLine</span><span class="op" id="5018772">(</span><span class="ident" id="5018773">rParenLine</span>&nbsp;<span class="op" id="5018784">-</span>&nbsp;<span class="num" id="5018786">1</span><span class="op" id="5018787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018796">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018799">}</span><br>
<span class="lineno"></span><span class="op" id="5018801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5018804">func</span>&nbsp;<span class="ident" id="5018809">importPath</span><span class="op" id="5018819">(</span><span class="ident" id="5018820">s</span>&nbsp;<span class="ident" id="5018822">Spec</span><span class="op" id="5018826">)</span>&nbsp;<span class="builtintype" id="5018828">string</span>&nbsp;<span class="op" id="5018835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018838">t</span><span class="op" id="5018839">,</span>&nbsp;<span class="ident" id="5018841">err</span>&nbsp;<span class="op" id="5018845">:=</span>&nbsp;<span class="ident" id="5018848">strconv</span><span class="op" id="5018855">.</span><span class="ident" id="5018856">Unquote</span><span class="op" id="5018863">(</span><span class="ident" id="5018864">s</span><span class="op" id="5018865">.</span><span class="op" id="5018866">(</span><span class="op" id="5018867">*</span><span class="ident" id="5018868">ImportSpec</span><span class="op" id="5018878">)</span><span class="op" id="5018879">.</span><span class="ident" id="5018880">Path</span><span class="op" id="5018884">.</span><span class="ident" id="5018885">Value</span><span class="op" id="5018890">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018893">if</span>&nbsp;<span class="ident" id="5018896">err</span>&nbsp;<span class="op" id="5018900">==</span>&nbsp;<span class="ident" id="5018903">nil</span>&nbsp;<span class="op" id="5018907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018911">return</span>&nbsp;<span class="ident" id="5018918">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5018921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018924">return</span>&nbsp;<span class="string" id="5018931">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5018934">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="5018937">func</span>&nbsp;<span class="ident" id="5018942">importName</span><span class="op" id="5018952">(</span><span class="ident" id="5018953">s</span>&nbsp;<span class="ident" id="5018955">Spec</span><span class="op" id="5018959">)</span>&nbsp;<span class="builtintype" id="5018961">string</span>&nbsp;<span class="op" id="5018968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5018971">n</span>&nbsp;<span class="op" id="5018973">:=</span>&nbsp;<span class="ident" id="5018976">s</span><span class="op" id="5018977">.</span><span class="op" id="5018978">(</span><span class="op" id="5018979">*</span><span class="ident" id="5018980">ImportSpec</span><span class="op" id="5018990">)</span><span class="op" id="5018991">.</span><span class="ident" id="5018992">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5018998">if</span>&nbsp;<span class="ident" id="5019001">n</span>&nbsp;<span class="op" id="5019003">==</span>&nbsp;<span class="ident" id="5019006">nil</span>&nbsp;<span class="op" id="5019010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019014">return</span>&nbsp;<span class="string" id="5019021">&#34;&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5019025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019028">return</span>&nbsp;<span class="ident" id="5019035">n</span><span class="op" id="5019036">.</span><span class="ident" id="5019037">Name</span><br>
<span class="lineno"></span><span class="op" id="5019042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5019045">func</span>&nbsp;<span class="ident" id="5019050">importComment</span><span class="op" id="5019063">(</span><span class="ident" id="5019064">s</span>&nbsp;<span class="ident" id="5019066">Spec</span><span class="op" id="5019070">)</span>&nbsp;<span class="builtintype" id="5019072">string</span>&nbsp;<span class="op" id="5019079">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5019082">c</span>&nbsp;<span class="op" id="5019084">:=</span>&nbsp;<span class="ident" id="5019087">s</span><span class="op" id="5019088">.</span><span class="op" id="5019089">(</span><span class="op" id="5019090">*</span><span class="ident" id="5019091">ImportSpec</span><span class="op" id="5019101">)</span><span class="op" id="5019102">.</span><span class="ident" id="5019103">Comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019112">if</span>&nbsp;<span class="ident" id="5019115">c</span>&nbsp;<span class="op" id="5019117">==</span>&nbsp;<span class="ident" id="5019120">nil</span>&nbsp;<span class="op" id="5019124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019128">return</span>&nbsp;<span class="string" id="5019135">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5019139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019142">return</span>&nbsp;<span class="ident" id="5019149">c</span><span class="op" id="5019150">.</span><span class="ident" id="5019151">Text</span><span class="op" id="5019155">(</span><span class="op" id="5019156">)</span><br>
<span class="lineno">75</span><span class="op" id="5019158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5019161">//&nbsp;collapse&nbsp;indicates&nbsp;whether&nbsp;prev&nbsp;may&nbsp;be&nbsp;removed,&nbsp;leaving&nbsp;only&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="5019231">func</span>&nbsp;<span class="ident" id="5019236">collapse</span><span class="op" id="5019244">(</span><span class="ident" id="5019245">prev</span><span class="op" id="5019249">,</span>&nbsp;<span class="ident" id="5019251">next</span>&nbsp;<span class="ident" id="5019256">Spec</span><span class="op" id="5019260">)</span>&nbsp;<span class="builtintype" id="5019262">bool</span>&nbsp;<span class="op" id="5019267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019270">if</span>&nbsp;<span class="ident" id="5019273">importPath</span><span class="op" id="5019283">(</span><span class="ident" id="5019284">next</span><span class="op" id="5019288">)</span>&nbsp;<span class="op" id="5019290">!=</span>&nbsp;<span class="ident" id="5019293">importPath</span><span class="op" id="5019303">(</span><span class="ident" id="5019304">prev</span><span class="op" id="5019308">)</span>&nbsp;<span class="op" id="5019310">||</span>&nbsp;<span class="ident" id="5019313">importName</span><span class="op" id="5019323">(</span><span class="ident" id="5019324">next</span><span class="op" id="5019328">)</span>&nbsp;<span class="op" id="5019330">!=</span>&nbsp;<span class="ident" id="5019333">importName</span><span class="op" id="5019343">(</span><span class="ident" id="5019344">prev</span><span class="op" id="5019348">)</span>&nbsp;<span class="op" id="5019350">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019354">return</span>&nbsp;<span class="ident" id="5019361">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5019368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019371">return</span>&nbsp;<span class="ident" id="5019378">prev</span><span class="op" id="5019382">.</span><span class="op" id="5019383">(</span><span class="op" id="5019384">*</span><span class="ident" id="5019385">ImportSpec</span><span class="op" id="5019395">)</span><span class="op" id="5019396">.</span><span class="ident" id="5019397">Comment</span>&nbsp;<span class="op" id="5019405">==</span>&nbsp;<span class="ident" id="5019408">nil</span><br>
<span class="lineno"></span><span class="op" id="5019412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5019415">type</span>&nbsp;<span class="ident" id="5019420">posSpan</span>&nbsp;<span class="keyword" id="5019428">struct</span>&nbsp;<span class="op" id="5019435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5019438">Start</span>&nbsp;<span class="ident" id="5019444">token</span><span class="op" id="5019449">.</span><span class="ident" id="5019450">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5019455">End</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5019461">token</span><span class="op" id="5019466">.</span><span class="ident" id="5019467">Pos</span><br>
<span class="lineno"></span><span class="op" id="5019471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="5019474">func</span>&nbsp;<span class="ident" id="5019479">sortSpecs</span><span class="op" id="5019488">(</span><span class="ident" id="5019489">fset</span>&nbsp;<span class="op" id="5019494">*</span><span class="ident" id="5019495">token</span><span class="op" id="5019500">.</span><span class="ident" id="5019501">FileSet</span><span class="op" id="5019508">,</span>&nbsp;<span class="ident" id="5019510">f</span>&nbsp;<span class="op" id="5019512">*</span><span class="ident" id="5019513">File</span><span class="op" id="5019517">,</span>&nbsp;<span class="ident" id="5019519">specs</span>&nbsp;<span class="op" id="5019525">[</span><span class="op" id="5019526">]</span><span class="ident" id="5019527">Spec</span><span class="op" id="5019531">)</span>&nbsp;<span class="op" id="5019533">[</span><span class="op" id="5019534">]</span><span class="ident" id="5019535">Spec</span>&nbsp;<span class="op" id="5019540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5019543">//&nbsp;Can&#39;t&nbsp;short-circuit&nbsp;here&nbsp;even&nbsp;if&nbsp;specs&nbsp;are&nbsp;already&nbsp;sorted,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5019606">//&nbsp;since&nbsp;they&nbsp;might&nbsp;yet&nbsp;need&nbsp;deduplication.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5019651">//&nbsp;A&nbsp;lone&nbsp;import,&nbsp;however,&nbsp;may&nbsp;be&nbsp;safely&nbsp;ignored.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019702">if</span>&nbsp;<span class="builtinfunc" id="5019705">len</span><span class="op" id="5019708">(</span><span class="ident" id="5019709">specs</span><span class="op" id="5019714">)</span>&nbsp;<span class="op" id="5019716">&lt;=</span>&nbsp;<span class="num" id="5019719">1</span>&nbsp;<span class="op" id="5019721">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019725">return</span>&nbsp;<span class="ident" id="5019732">specs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5019739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5019743">//&nbsp;Record&nbsp;positions&nbsp;for&nbsp;specs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5019775">pos</span>&nbsp;<span class="op" id="5019779">:=</span>&nbsp;<span class="builtinfunc" id="5019782">make</span><span class="op" id="5019786">(</span><span class="op" id="5019787">[</span><span class="op" id="5019788">]</span><span class="ident" id="5019789">posSpan</span><span class="op" id="5019796">,</span>&nbsp;<span class="builtinfunc" id="5019798">len</span><span class="op" id="5019801">(</span><span class="ident" id="5019802">specs</span><span class="op" id="5019807">)</span><span class="op" id="5019808">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5019811">for</span>&nbsp;<span class="ident" id="5019815">i</span><span class="op" id="5019816">,</span>&nbsp;<span class="ident" id="5019818">s</span>&nbsp;<span class="op" id="5019820">:=</span>&nbsp;<span class="keyword" id="5019823">range</span>&nbsp;<span class="ident" id="5019829">specs</span>&nbsp;<span class="op" id="5019835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5019839">pos</span><span class="op" id="5019842">[</span><span class="ident" id="5019843">i</span><span class="op" id="5019844">]</span>&nbsp;<span class="op" id="5019846">=</span>&nbsp;<span class="ident" id="5019848">posSpan</span><span class="op" id="5019855">{</span><span class="ident" id="5019856">s</span><span class="op" id="5019857">.</span><span class="ident" id="5019858">Pos</span><span class="op" id="5019861">(</span><span class="op" id="5019862">)</span><span class="op" id="5019863">,</span>&nbsp;<span class="ident" id="5019865">s</span><span class="op" id="5019866">.</span><span class="ident" id="5019867">End</span><span class="op" id="5019870">(</span><span class="op" id="5019871">)</span><span class="op" id="5019872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5019875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5019879">//&nbsp;Identify&nbsp;comments&nbsp;in&nbsp;this&nbsp;range.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5019916">//&nbsp;Any&nbsp;comment&nbsp;from&nbsp;pos[0].Start&nbsp;to&nbsp;the&nbsp;final&nbsp;line&nbsp;counts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5019976">lastLine</span>&nbsp;<span class="op" id="5019985">:=</span>&nbsp;<span class="ident" id="5019988">fset</span><span class="op" id="5019992">.</span><span class="ident" id="5019993">Position</span><span class="op" id="5020001">(</span><span class="ident" id="5020002">pos</span><span class="op" id="5020005">[</span><span class="builtinfunc" id="5020006">len</span><span class="op" id="5020009">(</span><span class="ident" id="5020010">pos</span><span class="op" id="5020013">)</span><span class="op" id="5020014">-</span><span class="num" id="5020015">1</span><span class="op" id="5020016">]</span><span class="op" id="5020017">.</span><span class="ident" id="5020018">End</span><span class="op" id="5020021">)</span><span class="op" id="5020022">.</span><span class="ident" id="5020023">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020029">cstart</span>&nbsp;<span class="op" id="5020036">:=</span>&nbsp;<span class="builtinfunc" id="5020039">len</span><span class="op" id="5020042">(</span><span class="ident" id="5020043">f</span><span class="op" id="5020044">.</span><span class="ident" id="5020045">Comments</span><span class="op" id="5020053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020056">cend</span>&nbsp;<span class="op" id="5020061">:=</span>&nbsp;<span class="builtinfunc" id="5020064">len</span><span class="op" id="5020067">(</span><span class="ident" id="5020068">f</span><span class="op" id="5020069">.</span><span class="ident" id="5020070">Comments</span><span class="op" id="5020078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020081">for</span>&nbsp;<span class="ident" id="5020085">i</span><span class="op" id="5020086">,</span>&nbsp;<span class="ident" id="5020088">g</span>&nbsp;<span class="op" id="5020090">:=</span>&nbsp;<span class="keyword" id="5020093">range</span>&nbsp;<span class="ident" id="5020099">f</span><span class="op" id="5020100">.</span><span class="ident" id="5020101">Comments</span>&nbsp;<span class="op" id="5020110">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020114">if</span>&nbsp;<span class="ident" id="5020117">g</span><span class="op" id="5020118">.</span><span class="ident" id="5020119">Pos</span><span class="op" id="5020122">(</span><span class="op" id="5020123">)</span>&nbsp;<span class="op" id="5020125">&lt;</span>&nbsp;<span class="ident" id="5020127">pos</span><span class="op" id="5020130">[</span><span class="num" id="5020131">0</span><span class="op" id="5020132">]</span><span class="op" id="5020133">.</span><span class="ident" id="5020134">Start</span>&nbsp;<span class="op" id="5020140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020145">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5020156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020160">if</span>&nbsp;<span class="ident" id="5020163">i</span>&nbsp;<span class="op" id="5020165">&lt;</span>&nbsp;<span class="ident" id="5020167">cstart</span>&nbsp;<span class="op" id="5020174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020179">cstart</span>&nbsp;<span class="op" id="5020186">=</span>&nbsp;<span class="ident" id="5020188">i</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5020192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020196">if</span>&nbsp;<span class="ident" id="5020199">fset</span><span class="op" id="5020203">.</span><span class="ident" id="5020204">Position</span><span class="op" id="5020212">(</span><span class="ident" id="5020213">g</span><span class="op" id="5020214">.</span><span class="ident" id="5020215">End</span><span class="op" id="5020218">(</span><span class="op" id="5020219">)</span><span class="op" id="5020220">)</span><span class="op" id="5020221">.</span><span class="ident" id="5020222">Line</span>&nbsp;<span class="op" id="5020227">&gt;</span>&nbsp;<span class="ident" id="5020229">lastLine</span>&nbsp;<span class="op" id="5020238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020243">cend</span>&nbsp;<span class="op" id="5020248">=</span>&nbsp;<span class="ident" id="5020250">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020255">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5020263">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5020266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020269">comments</span>&nbsp;<span class="op" id="5020278">:=</span>&nbsp;<span class="ident" id="5020281">f</span><span class="op" id="5020282">.</span><span class="ident" id="5020283">Comments</span><span class="op" id="5020291">[</span><span class="ident" id="5020292">cstart</span><span class="op" id="5020298">:</span><span class="ident" id="5020299">cend</span><span class="op" id="5020303">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020307">//&nbsp;Assign&nbsp;each&nbsp;comment&nbsp;to&nbsp;the&nbsp;import&nbsp;spec&nbsp;preceding&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020364">importComment</span>&nbsp;<span class="op" id="5020378">:=</span>&nbsp;<span class="keyword" id="5020381">map</span><span class="op" id="5020384">[</span><span class="op" id="5020385">*</span><span class="ident" id="5020386">ImportSpec</span><span class="op" id="5020396">]</span><span class="op" id="5020397">[</span><span class="op" id="5020398">]</span><span class="op" id="5020399">*</span><span class="ident" id="5020400">CommentGroup</span><span class="op" id="5020412">{</span><span class="op" id="5020413">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020416">specIndex</span>&nbsp;<span class="op" id="5020426">:=</span>&nbsp;<span class="num" id="5020429">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020432">for</span>&nbsp;<span class="ident" id="5020436">_</span><span class="op" id="5020437">,</span>&nbsp;<span class="ident" id="5020439">g</span>&nbsp;<span class="op" id="5020441">:=</span>&nbsp;<span class="keyword" id="5020444">range</span>&nbsp;<span class="ident" id="5020450">comments</span>&nbsp;<span class="op" id="5020459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5020463">for</span>&nbsp;<span class="ident" id="5020467">specIndex</span><span class="op" id="5020476">+</span><span class="num" id="5020477">1</span>&nbsp;<span class="op" id="5020479">&lt;</span>&nbsp;<span class="builtinfunc" id="5020481">len</span><span class="op" id="5020484">(</span><span class="ident" id="5020485">specs</span><span class="op" id="5020490">)</span>&nbsp;<span class="op" id="5020492">&amp;&amp;</span>&nbsp;<span class="ident" id="5020495">pos</span><span class="op" id="5020498">[</span><span class="ident" id="5020499">specIndex</span><span class="op" id="5020508">+</span><span class="num" id="5020509">1</span><span class="op" id="5020510">]</span><span class="op" id="5020511">.</span><span class="ident" id="5020512">Start</span>&nbsp;<span class="op" id="5020518">&lt;=</span>&nbsp;<span class="ident" id="5020521">g</span><span class="op" id="5020522">.</span><span class="ident" id="5020523">Pos</span><span class="op" id="5020526">(</span><span class="op" id="5020527">)</span>&nbsp;<span class="op" id="5020529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020534">specIndex</span><span class="op" id="5020543">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5020548">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020552">s</span>&nbsp;<span class="op" id="5020554">:=</span>&nbsp;<span class="ident" id="5020557">specs</span><span class="op" id="5020562">[</span><span class="ident" id="5020563">specIndex</span><span class="op" id="5020572">]</span><span class="op" id="5020573">.</span><span class="op" id="5020574">(</span><span class="op" id="5020575">*</span><span class="ident" id="5020576">ImportSpec</span><span class="op" id="5020586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020590">importComment</span><span class="op" id="5020603">[</span><span class="ident" id="5020604">s</span><span class="op" id="5020605">]</span>&nbsp;<span class="op" id="5020607">=</span>&nbsp;<span class="builtinfunc" id="5020609">append</span><span class="op" id="5020615">(</span><span class="ident" id="5020616">importComment</span><span class="op" id="5020629">[</span><span class="ident" id="5020630">s</span><span class="op" id="5020631">]</span><span class="op" id="5020632">,</span>&nbsp;<span class="ident" id="5020634">g</span><span class="op" id="5020635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5020638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020642">//&nbsp;Sort&nbsp;the&nbsp;import&nbsp;specs&nbsp;by&nbsp;import&nbsp;path.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020684">//&nbsp;Remove&nbsp;duplicates,&nbsp;when&nbsp;possible&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020740">//&nbsp;Reassign&nbsp;the&nbsp;import&nbsp;paths&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;position&nbsp;sequence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020806">//&nbsp;Reassign&nbsp;each&nbsp;comment&nbsp;to&nbsp;abut&nbsp;the&nbsp;end&nbsp;of&nbsp;its&nbsp;spec.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020861">//&nbsp;Sort&nbsp;the&nbsp;comments&nbsp;by&nbsp;new&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5020900">sort</span><span class="op" id="5020904">.</span><span class="ident" id="5020905">Sort</span><span class="op" id="5020909">(</span><span class="ident" id="5020910">byImportSpec</span><span class="op" id="5020922">(</span><span class="ident" id="5020923">specs</span><span class="op" id="5020928">)</span><span class="op" id="5020929">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020933">//&nbsp;Dedup.&nbsp;Thanks&nbsp;to&nbsp;our&nbsp;sorting,&nbsp;we&nbsp;can&nbsp;just&nbsp;consider</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5020988">//&nbsp;adjacent&nbsp;pairs&nbsp;of&nbsp;imports.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021019">deduped</span>&nbsp;<span class="op" id="5021027">:=</span>&nbsp;<span class="ident" id="5021030">specs</span><span class="op" id="5021035">[</span><span class="op" id="5021036">:</span><span class="num" id="5021037">0</span><span class="op" id="5021038">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021041">for</span>&nbsp;<span class="ident" id="5021045">i</span><span class="op" id="5021046">,</span>&nbsp;<span class="ident" id="5021048">s</span>&nbsp;<span class="op" id="5021050">:=</span>&nbsp;<span class="keyword" id="5021053">range</span>&nbsp;<span class="ident" id="5021059">specs</span>&nbsp;<span class="op" id="5021065">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021069">if</span>&nbsp;<span class="ident" id="5021072">i</span>&nbsp;<span class="op" id="5021074">==</span>&nbsp;<span class="builtinfunc" id="5021077">len</span><span class="op" id="5021080">(</span><span class="ident" id="5021081">specs</span><span class="op" id="5021086">)</span><span class="op" id="5021087">-</span><span class="num" id="5021088">1</span>&nbsp;<span class="op" id="5021090">||</span>&nbsp;<span class="op" id="5021093">!</span><span class="ident" id="5021094">collapse</span><span class="op" id="5021102">(</span><span class="ident" id="5021103">s</span><span class="op" id="5021104">,</span>&nbsp;<span class="ident" id="5021106">specs</span><span class="op" id="5021111">[</span><span class="ident" id="5021112">i</span><span class="op" id="5021113">+</span><span class="num" id="5021114">1</span><span class="op" id="5021115">]</span><span class="op" id="5021116">)</span>&nbsp;<span class="op" id="5021118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021123">deduped</span>&nbsp;<span class="op" id="5021131">=</span>&nbsp;<span class="builtinfunc" id="5021133">append</span><span class="op" id="5021139">(</span><span class="ident" id="5021140">deduped</span><span class="op" id="5021147">,</span>&nbsp;<span class="ident" id="5021149">s</span><span class="op" id="5021150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021154">}</span>&nbsp;<span class="keyword" id="5021156">else</span>&nbsp;<span class="op" id="5021161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021166">p</span>&nbsp;<span class="op" id="5021168">:=</span>&nbsp;<span class="ident" id="5021171">s</span><span class="op" id="5021172">.</span><span class="ident" id="5021173">Pos</span><span class="op" id="5021176">(</span><span class="op" id="5021177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021182">fset</span><span class="op" id="5021186">.</span><span class="ident" id="5021187">File</span><span class="op" id="5021191">(</span><span class="ident" id="5021192">p</span><span class="op" id="5021193">)</span><span class="op" id="5021194">.</span><span class="ident" id="5021195">MergeLine</span><span class="op" id="5021204">(</span><span class="ident" id="5021205">fset</span><span class="op" id="5021209">.</span><span class="ident" id="5021210">Position</span><span class="op" id="5021218">(</span><span class="ident" id="5021219">p</span><span class="op" id="5021220">)</span><span class="op" id="5021221">.</span><span class="ident" id="5021222">Line</span><span class="op" id="5021226">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021236">specs</span>&nbsp;<span class="op" id="5021242">=</span>&nbsp;<span class="ident" id="5021244">deduped</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5021254">//&nbsp;Fix&nbsp;up&nbsp;comment&nbsp;positions</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021283">for</span>&nbsp;<span class="ident" id="5021287">i</span><span class="op" id="5021288">,</span>&nbsp;<span class="ident" id="5021290">s</span>&nbsp;<span class="op" id="5021292">:=</span>&nbsp;<span class="keyword" id="5021295">range</span>&nbsp;<span class="ident" id="5021301">specs</span>&nbsp;<span class="op" id="5021307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021311">s</span>&nbsp;<span class="op" id="5021313">:=</span>&nbsp;<span class="ident" id="5021316">s</span><span class="op" id="5021317">.</span><span class="op" id="5021318">(</span><span class="op" id="5021319">*</span><span class="ident" id="5021320">ImportSpec</span><span class="op" id="5021330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021334">if</span>&nbsp;<span class="ident" id="5021337">s</span><span class="op" id="5021338">.</span><span class="ident" id="5021339">Name</span>&nbsp;<span class="op" id="5021344">!=</span>&nbsp;<span class="ident" id="5021347">nil</span>&nbsp;<span class="op" id="5021351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021356">s</span><span class="op" id="5021357">.</span><span class="ident" id="5021358">Name</span><span class="op" id="5021362">.</span><span class="ident" id="5021363">NamePos</span>&nbsp;<span class="op" id="5021371">=</span>&nbsp;<span class="ident" id="5021373">pos</span><span class="op" id="5021376">[</span><span class="ident" id="5021377">i</span><span class="op" id="5021378">]</span><span class="op" id="5021379">.</span><span class="ident" id="5021380">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021388">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021392">s</span><span class="op" id="5021393">.</span><span class="ident" id="5021394">Path</span><span class="op" id="5021398">.</span><span class="ident" id="5021399">ValuePos</span>&nbsp;<span class="op" id="5021408">=</span>&nbsp;<span class="ident" id="5021410">pos</span><span class="op" id="5021413">[</span><span class="ident" id="5021414">i</span><span class="op" id="5021415">]</span><span class="op" id="5021416">.</span><span class="ident" id="5021417">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021425">s</span><span class="op" id="5021426">.</span><span class="ident" id="5021427">EndPos</span>&nbsp;<span class="op" id="5021434">=</span>&nbsp;<span class="ident" id="5021436">pos</span><span class="op" id="5021439">[</span><span class="ident" id="5021440">i</span><span class="op" id="5021441">]</span><span class="op" id="5021442">.</span><span class="ident" id="5021443">End</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021449">for</span>&nbsp;<span class="ident" id="5021453">_</span><span class="op" id="5021454">,</span>&nbsp;<span class="ident" id="5021456">g</span>&nbsp;<span class="op" id="5021458">:=</span>&nbsp;<span class="keyword" id="5021461">range</span>&nbsp;<span class="ident" id="5021467">importComment</span><span class="op" id="5021480">[</span><span class="ident" id="5021481">s</span><span class="op" id="5021482">]</span>&nbsp;<span class="op" id="5021484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021489">for</span>&nbsp;<span class="ident" id="5021493">_</span><span class="op" id="5021494">,</span>&nbsp;<span class="ident" id="5021496">c</span>&nbsp;<span class="op" id="5021498">:=</span>&nbsp;<span class="keyword" id="5021501">range</span>&nbsp;<span class="ident" id="5021507">g</span><span class="op" id="5021508">.</span><span class="ident" id="5021509">List</span>&nbsp;<span class="op" id="5021514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021520">c</span><span class="op" id="5021521">.</span><span class="ident" id="5021522">Slash</span>&nbsp;<span class="op" id="5021528">=</span>&nbsp;<span class="ident" id="5021530">pos</span><span class="op" id="5021533">[</span><span class="ident" id="5021534">i</span><span class="op" id="5021535">]</span><span class="op" id="5021536">.</span><span class="ident" id="5021537">End</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021555">sort</span><span class="op" id="5021559">.</span><span class="ident" id="5021560">Sort</span><span class="op" id="5021564">(</span><span class="ident" id="5021565">byCommentPos</span><span class="op" id="5021577">(</span><span class="ident" id="5021578">comments</span><span class="op" id="5021586">)</span><span class="op" id="5021587">)</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021591">return</span>&nbsp;<span class="ident" id="5021598">specs</span><br>
<span class="lineno"></span><span class="op" id="5021604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5021607">type</span>&nbsp;<span class="ident" id="5021612">byImportSpec</span>&nbsp;<span class="op" id="5021625">[</span><span class="op" id="5021626">]</span><span class="ident" id="5021627">Spec</span>&nbsp;<span class="comment" id="5021632">//&nbsp;slice&nbsp;of&nbsp;*ImportSpec</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="5021657">func</span>&nbsp;<span class="op" id="5021662">(</span><span class="ident" id="5021663">x</span>&nbsp;<span class="ident" id="5021665">byImportSpec</span><span class="op" id="5021677">)</span>&nbsp;<span class="ident" id="5021679">Len</span><span class="op" id="5021682">(</span><span class="op" id="5021683">)</span>&nbsp;<span class="builtintype" id="5021685">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5021694">{</span>&nbsp;<span class="keyword" id="5021696">return</span>&nbsp;<span class="builtinfunc" id="5021703">len</span><span class="op" id="5021706">(</span><span class="ident" id="5021707">x</span><span class="op" id="5021708">)</span>&nbsp;<span class="op" id="5021710">}</span><br>
<span class="lineno"></span><span class="keyword" id="5021712">func</span>&nbsp;<span class="op" id="5021717">(</span><span class="ident" id="5021718">x</span>&nbsp;<span class="ident" id="5021720">byImportSpec</span><span class="op" id="5021732">)</span>&nbsp;<span class="ident" id="5021734">Swap</span><span class="op" id="5021738">(</span><span class="ident" id="5021739">i</span><span class="op" id="5021740">,</span>&nbsp;<span class="ident" id="5021742">j</span>&nbsp;<span class="builtintype" id="5021744">int</span><span class="op" id="5021747">)</span>&nbsp;<span class="op" id="5021749">{</span>&nbsp;<span class="ident" id="5021751">x</span><span class="op" id="5021752">[</span><span class="ident" id="5021753">i</span><span class="op" id="5021754">]</span><span class="op" id="5021755">,</span>&nbsp;<span class="ident" id="5021757">x</span><span class="op" id="5021758">[</span><span class="ident" id="5021759">j</span><span class="op" id="5021760">]</span>&nbsp;<span class="op" id="5021762">=</span>&nbsp;<span class="ident" id="5021764">x</span><span class="op" id="5021765">[</span><span class="ident" id="5021766">j</span><span class="op" id="5021767">]</span><span class="op" id="5021768">,</span>&nbsp;<span class="ident" id="5021770">x</span><span class="op" id="5021771">[</span><span class="ident" id="5021772">i</span><span class="op" id="5021773">]</span>&nbsp;<span class="op" id="5021775">}</span><br>
<span class="lineno"></span><span class="keyword" id="5021777">func</span>&nbsp;<span class="op" id="5021782">(</span><span class="ident" id="5021783">x</span>&nbsp;<span class="ident" id="5021785">byImportSpec</span><span class="op" id="5021797">)</span>&nbsp;<span class="ident" id="5021799">Less</span><span class="op" id="5021803">(</span><span class="ident" id="5021804">i</span><span class="op" id="5021805">,</span>&nbsp;<span class="ident" id="5021807">j</span>&nbsp;<span class="builtintype" id="5021809">int</span><span class="op" id="5021812">)</span>&nbsp;<span class="builtintype" id="5021814">bool</span>&nbsp;<span class="op" id="5021819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021822">ipath</span>&nbsp;<span class="op" id="5021828">:=</span>&nbsp;<span class="ident" id="5021831">importPath</span><span class="op" id="5021841">(</span><span class="ident" id="5021842">x</span><span class="op" id="5021843">[</span><span class="ident" id="5021844">i</span><span class="op" id="5021845">]</span><span class="op" id="5021846">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021849">jpath</span>&nbsp;<span class="op" id="5021855">:=</span>&nbsp;<span class="ident" id="5021858">importPath</span><span class="op" id="5021868">(</span><span class="ident" id="5021869">x</span><span class="op" id="5021870">[</span><span class="ident" id="5021871">j</span><span class="op" id="5021872">]</span><span class="op" id="5021873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021876">if</span>&nbsp;<span class="ident" id="5021879">ipath</span>&nbsp;<span class="op" id="5021885">!=</span>&nbsp;<span class="ident" id="5021888">jpath</span>&nbsp;<span class="op" id="5021894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021898">return</span>&nbsp;<span class="ident" id="5021905">ipath</span>&nbsp;<span class="op" id="5021911">&lt;</span>&nbsp;<span class="ident" id="5021913">jpath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5021920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021923">iname</span>&nbsp;<span class="op" id="5021929">:=</span>&nbsp;<span class="ident" id="5021932">importName</span><span class="op" id="5021942">(</span><span class="ident" id="5021943">x</span><span class="op" id="5021944">[</span><span class="ident" id="5021945">i</span><span class="op" id="5021946">]</span><span class="op" id="5021947">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5021950">jname</span>&nbsp;<span class="op" id="5021956">:=</span>&nbsp;<span class="ident" id="5021959">importName</span><span class="op" id="5021969">(</span><span class="ident" id="5021970">x</span><span class="op" id="5021971">[</span><span class="ident" id="5021972">j</span><span class="op" id="5021973">]</span><span class="op" id="5021974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021977">if</span>&nbsp;<span class="ident" id="5021980">iname</span>&nbsp;<span class="op" id="5021986">!=</span>&nbsp;<span class="ident" id="5021989">jname</span>&nbsp;<span class="op" id="5021995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5021999">return</span>&nbsp;<span class="ident" id="5022006">iname</span>&nbsp;<span class="op" id="5022012">&lt;</span>&nbsp;<span class="ident" id="5022014">jname</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5022021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5022024">return</span>&nbsp;<span class="ident" id="5022031">importComment</span><span class="op" id="5022044">(</span><span class="ident" id="5022045">x</span><span class="op" id="5022046">[</span><span class="ident" id="5022047">i</span><span class="op" id="5022048">]</span><span class="op" id="5022049">)</span>&nbsp;<span class="op" id="5022051">&lt;</span>&nbsp;<span class="ident" id="5022053">importComment</span><span class="op" id="5022066">(</span><span class="ident" id="5022067">x</span><span class="op" id="5022068">[</span><span class="ident" id="5022069">j</span><span class="op" id="5022070">]</span><span class="op" id="5022071">)</span><br>
<span class="lineno">190</span><span class="op" id="5022073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5022076">type</span>&nbsp;<span class="ident" id="5022081">byCommentPos</span>&nbsp;<span class="op" id="5022094">[</span><span class="op" id="5022095">]</span><span class="op" id="5022096">*</span><span class="ident" id="5022097">CommentGroup</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5022111">func</span>&nbsp;<span class="op" id="5022116">(</span><span class="ident" id="5022117">x</span>&nbsp;<span class="ident" id="5022119">byCommentPos</span><span class="op" id="5022131">)</span>&nbsp;<span class="ident" id="5022133">Len</span><span class="op" id="5022136">(</span><span class="op" id="5022137">)</span>&nbsp;<span class="builtintype" id="5022139">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5022153">{</span>&nbsp;<span class="keyword" id="5022155">return</span>&nbsp;<span class="builtinfunc" id="5022162">len</span><span class="op" id="5022165">(</span><span class="ident" id="5022166">x</span><span class="op" id="5022167">)</span>&nbsp;<span class="op" id="5022169">}</span><br>
<span class="lineno">195</span><span class="keyword" id="5022171">func</span>&nbsp;<span class="op" id="5022176">(</span><span class="ident" id="5022177">x</span>&nbsp;<span class="ident" id="5022179">byCommentPos</span><span class="op" id="5022191">)</span>&nbsp;<span class="ident" id="5022193">Swap</span><span class="op" id="5022197">(</span><span class="ident" id="5022198">i</span><span class="op" id="5022199">,</span>&nbsp;<span class="ident" id="5022201">j</span>&nbsp;<span class="builtintype" id="5022203">int</span><span class="op" id="5022206">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5022213">{</span>&nbsp;<span class="ident" id="5022215">x</span><span class="op" id="5022216">[</span><span class="ident" id="5022217">i</span><span class="op" id="5022218">]</span><span class="op" id="5022219">,</span>&nbsp;<span class="ident" id="5022221">x</span><span class="op" id="5022222">[</span><span class="ident" id="5022223">j</span><span class="op" id="5022224">]</span>&nbsp;<span class="op" id="5022226">=</span>&nbsp;<span class="ident" id="5022228">x</span><span class="op" id="5022229">[</span><span class="ident" id="5022230">j</span><span class="op" id="5022231">]</span><span class="op" id="5022232">,</span>&nbsp;<span class="ident" id="5022234">x</span><span class="op" id="5022235">[</span><span class="ident" id="5022236">i</span><span class="op" id="5022237">]</span>&nbsp;<span class="op" id="5022239">}</span><br>
<span class="lineno"></span><span class="keyword" id="5022241">func</span>&nbsp;<span class="op" id="5022246">(</span><span class="ident" id="5022247">x</span>&nbsp;<span class="ident" id="5022249">byCommentPos</span><span class="op" id="5022261">)</span>&nbsp;<span class="ident" id="5022263">Less</span><span class="op" id="5022267">(</span><span class="ident" id="5022268">i</span><span class="op" id="5022269">,</span>&nbsp;<span class="ident" id="5022271">j</span>&nbsp;<span class="builtintype" id="5022273">int</span><span class="op" id="5022276">)</span>&nbsp;<span class="builtintype" id="5022278">bool</span>&nbsp;<span class="op" id="5022283">{</span>&nbsp;<span class="keyword" id="5022285">return</span>&nbsp;<span class="ident" id="5022292">x</span><span class="op" id="5022293">[</span><span class="ident" id="5022294">i</span><span class="op" id="5022295">]</span><span class="op" id="5022296">.</span><span class="ident" id="5022297">Pos</span><span class="op" id="5022300">(</span><span class="op" id="5022301">)</span>&nbsp;<span class="op" id="5022303">&lt;</span>&nbsp;<span class="ident" id="5022305">x</span><span class="op" id="5022306">[</span><span class="ident" id="5022307">j</span><span class="op" id="5022308">]</span><span class="op" id="5022309">.</span><span class="ident" id="5022310">Pos</span><span class="op" id="5022313">(</span><span class="op" id="5022314">)</span>&nbsp;<span class="op" id="5022316">}</span>
</div>
</body>
</html>
