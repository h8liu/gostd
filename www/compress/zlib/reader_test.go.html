<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6999588">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6999643">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6999697">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6999748">package</span>&nbsp;<span class="ident" id="6999756">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6999762">import</span>&nbsp;<span class="op" id="6999769">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6999772">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6999781">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6999787">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6999797">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6999800">type</span>&nbsp;<span class="ident" id="6999805">zlibTest</span>&nbsp;<span class="keyword" id="6999814">struct</span>&nbsp;<span class="op" id="6999821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999824">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6999835">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999843">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6999854">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999862">compressed</span>&nbsp;<span class="op" id="6999873">[</span><span class="op" id="6999874">]</span><span class="builtintype" id="6999875">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999881">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6999892">[</span><span class="op" id="6999893">]</span><span class="builtintype" id="6999894">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6999900">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6999911">error</span><br>
<span class="lineno"></span><span class="op" id="6999917">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6999920">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="6999996">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7000028">var</span>&nbsp;<span class="ident" id="7000032">zlibTests</span>&nbsp;<span class="op" id="7000042">=</span>&nbsp;<span class="op" id="7000044">[</span><span class="op" id="7000045">]</span><span class="ident" id="7000046">zlibTest</span><span class="op" id="7000054">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000061">&#34;empty&#34;</span><span class="op" id="7000068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000072">&#34;&#34;</span><span class="op" id="7000074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000078">[</span><span class="op" id="7000079">]</span><span class="builtintype" id="7000080">byte</span><span class="op" id="7000084">{</span><span class="num" id="7000085">0x78</span><span class="op" id="7000089">,</span>&nbsp;<span class="num" id="7000091">0x9c</span><span class="op" id="7000095">,</span>&nbsp;<span class="num" id="7000097">0x03</span><span class="op" id="7000101">,</span>&nbsp;<span class="num" id="7000103">0x00</span><span class="op" id="7000107">,</span>&nbsp;<span class="num" id="7000109">0x00</span><span class="op" id="7000113">,</span>&nbsp;<span class="num" id="7000115">0x00</span><span class="op" id="7000119">,</span>&nbsp;<span class="num" id="7000121">0x00</span><span class="op" id="7000125">,</span>&nbsp;<span class="num" id="7000127">0x01</span><span class="op" id="7000131">}</span><span class="op" id="7000132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000136">nil</span><span class="op" id="7000139">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000143">nil</span><span class="op" id="7000146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000149">}</span><span class="op" id="7000150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000157">&#34;goodbye&#34;</span><span class="op" id="7000166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000170">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7000186">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000190">[</span><span class="op" id="7000191">]</span><span class="builtintype" id="7000192">byte</span><span class="op" id="7000196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000201">0x78</span><span class="op" id="7000205">,</span>&nbsp;<span class="num" id="7000207">0x9c</span><span class="op" id="7000211">,</span>&nbsp;<span class="num" id="7000213">0x4b</span><span class="op" id="7000217">,</span>&nbsp;<span class="num" id="7000219">0xcf</span><span class="op" id="7000223">,</span>&nbsp;<span class="num" id="7000225">0xcf</span><span class="op" id="7000229">,</span>&nbsp;<span class="num" id="7000231">0x4f</span><span class="op" id="7000235">,</span>&nbsp;<span class="num" id="7000237">0x49</span><span class="op" id="7000241">,</span>&nbsp;<span class="num" id="7000243">0xaa</span><span class="op" id="7000247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000252">0x4c</span><span class="op" id="7000256">,</span>&nbsp;<span class="num" id="7000258">0xd5</span><span class="op" id="7000262">,</span>&nbsp;<span class="num" id="7000264">0x51</span><span class="op" id="7000268">,</span>&nbsp;<span class="num" id="7000270">0x28</span><span class="op" id="7000274">,</span>&nbsp;<span class="num" id="7000276">0xcf</span><span class="op" id="7000280">,</span>&nbsp;<span class="num" id="7000282">0x2f</span><span class="op" id="7000286">,</span>&nbsp;<span class="num" id="7000288">0xca</span><span class="op" id="7000292">,</span>&nbsp;<span class="num" id="7000294">0x49</span><span class="op" id="7000298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000303">0x01</span><span class="op" id="7000307">,</span>&nbsp;<span class="num" id="7000309">0x00</span><span class="op" id="7000313">,</span>&nbsp;<span class="num" id="7000315">0x28</span><span class="op" id="7000319">,</span>&nbsp;<span class="num" id="7000321">0xa5</span><span class="op" id="7000325">,</span>&nbsp;<span class="num" id="7000327">0x05</span><span class="op" id="7000331">,</span>&nbsp;<span class="num" id="7000333">0x5e</span><span class="op" id="7000337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000341">}</span><span class="op" id="7000342">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000346">nil</span><span class="op" id="7000349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000353">nil</span><span class="op" id="7000356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000359">}</span><span class="op" id="7000360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000367">&#34;bad&nbsp;header&#34;</span><span class="op" id="7000379">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000383">&#34;&#34;</span><span class="op" id="7000385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000389">[</span><span class="op" id="7000390">]</span><span class="builtintype" id="7000391">byte</span><span class="op" id="7000395">{</span><span class="num" id="7000396">0x78</span><span class="op" id="7000400">,</span>&nbsp;<span class="num" id="7000402">0x9f</span><span class="op" id="7000406">,</span>&nbsp;<span class="num" id="7000408">0x03</span><span class="op" id="7000412">,</span>&nbsp;<span class="num" id="7000414">0x00</span><span class="op" id="7000418">,</span>&nbsp;<span class="num" id="7000420">0x00</span><span class="op" id="7000424">,</span>&nbsp;<span class="num" id="7000426">0x00</span><span class="op" id="7000430">,</span>&nbsp;<span class="num" id="7000432">0x00</span><span class="op" id="7000436">,</span>&nbsp;<span class="num" id="7000438">0x01</span><span class="op" id="7000442">}</span><span class="op" id="7000443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000447">nil</span><span class="op" id="7000450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000454">ErrHeader</span><span class="op" id="7000463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000466">}</span><span class="op" id="7000467">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000474">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="7000488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000492">&#34;&#34;</span><span class="op" id="7000494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000498">[</span><span class="op" id="7000499">]</span><span class="builtintype" id="7000500">byte</span><span class="op" id="7000504">{</span><span class="num" id="7000505">0x78</span><span class="op" id="7000509">,</span>&nbsp;<span class="num" id="7000511">0x9c</span><span class="op" id="7000515">,</span>&nbsp;<span class="num" id="7000517">0x03</span><span class="op" id="7000521">,</span>&nbsp;<span class="num" id="7000523">0x00</span><span class="op" id="7000527">,</span>&nbsp;<span class="num" id="7000529">0x00</span><span class="op" id="7000533">,</span>&nbsp;<span class="num" id="7000535">0x00</span><span class="op" id="7000539">,</span>&nbsp;<span class="num" id="7000541">0x00</span><span class="op" id="7000545">,</span>&nbsp;<span class="num" id="7000547">0xff</span><span class="op" id="7000551">}</span><span class="op" id="7000552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000556">nil</span><span class="op" id="7000559">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000563">ErrChecksum</span><span class="op" id="7000574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000577">}</span><span class="op" id="7000578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000585">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="7000602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000606">&#34;&#34;</span><span class="op" id="7000608">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000612">[</span><span class="op" id="7000613">]</span><span class="builtintype" id="7000614">byte</span><span class="op" id="7000618">{</span><span class="num" id="7000619">0x78</span><span class="op" id="7000623">,</span>&nbsp;<span class="num" id="7000625">0x9c</span><span class="op" id="7000629">,</span>&nbsp;<span class="num" id="7000631">0x03</span><span class="op" id="7000635">,</span>&nbsp;<span class="num" id="7000637">0x00</span><span class="op" id="7000641">,</span>&nbsp;<span class="num" id="7000643">0x00</span><span class="op" id="7000647">,</span>&nbsp;<span class="num" id="7000649">0x00</span><span class="op" id="7000653">}</span><span class="op" id="7000654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000658">nil</span><span class="op" id="7000661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000665">io</span><span class="op" id="7000667">.</span><span class="ident" id="7000668">ErrUnexpectedEOF</span><span class="op" id="7000684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000687">}</span><span class="op" id="7000688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000691">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000695">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="7000728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000732">&#34;&#34;</span><span class="op" id="7000734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000738">[</span><span class="op" id="7000739">]</span><span class="builtintype" id="7000740">byte</span><span class="op" id="7000744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000749">0x78</span><span class="op" id="7000753">,</span>&nbsp;<span class="num" id="7000755">0x9c</span><span class="op" id="7000759">,</span>&nbsp;<span class="num" id="7000761">0x03</span><span class="op" id="7000765">,</span>&nbsp;<span class="num" id="7000767">0x00</span><span class="op" id="7000771">,</span>&nbsp;<span class="num" id="7000773">0x00</span><span class="op" id="7000777">,</span>&nbsp;<span class="num" id="7000779">0x00</span><span class="op" id="7000783">,</span>&nbsp;<span class="num" id="7000785">0x00</span><span class="op" id="7000789">,</span>&nbsp;<span class="num" id="7000791">0x01</span><span class="op" id="7000795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000800">0x78</span><span class="op" id="7000804">,</span>&nbsp;<span class="num" id="7000806">0x9c</span><span class="op" id="7000810">,</span>&nbsp;<span class="num" id="7000812">0xff</span><span class="op" id="7000816">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000820">}</span><span class="op" id="7000821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000825">nil</span><span class="op" id="7000828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7000832">nil</span><span class="op" id="7000835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000838">}</span><span class="op" id="7000839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000842">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000846">&#34;dictionary&#34;</span><span class="op" id="7000858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7000862">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="7000879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7000883">[</span><span class="op" id="7000884">]</span><span class="builtintype" id="7000885">byte</span><span class="op" id="7000889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000894">0x78</span><span class="op" id="7000898">,</span>&nbsp;<span class="num" id="7000900">0xbb</span><span class="op" id="7000904">,</span>&nbsp;<span class="num" id="7000906">0x1c</span><span class="op" id="7000910">,</span>&nbsp;<span class="num" id="7000912">0x32</span><span class="op" id="7000916">,</span>&nbsp;<span class="num" id="7000918">0x04</span><span class="op" id="7000922">,</span>&nbsp;<span class="num" id="7000924">0x27</span><span class="op" id="7000928">,</span>&nbsp;<span class="num" id="7000930">0xf3</span><span class="op" id="7000934">,</span>&nbsp;<span class="num" id="7000936">0x00</span><span class="op" id="7000940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000945">0xb1</span><span class="op" id="7000949">,</span>&nbsp;<span class="num" id="7000951">0x75</span><span class="op" id="7000955">,</span>&nbsp;<span class="num" id="7000957">0x20</span><span class="op" id="7000961">,</span>&nbsp;<span class="num" id="7000963">0x1c</span><span class="op" id="7000967">,</span>&nbsp;<span class="num" id="7000969">0x45</span><span class="op" id="7000973">,</span>&nbsp;<span class="num" id="7000975">0x2e</span><span class="op" id="7000979">,</span>&nbsp;<span class="num" id="7000981">0x00</span><span class="op" id="7000985">,</span>&nbsp;<span class="num" id="7000987">0x24</span><span class="op" id="7000991">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7000996">0x12</span><span class="op" id="7001000">,</span>&nbsp;<span class="num" id="7001002">0x04</span><span class="op" id="7001006">,</span>&nbsp;<span class="num" id="7001008">0x74</span><span class="op" id="7001012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001016">}</span><span class="op" id="7001017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001021">[</span><span class="op" id="7001022">]</span><span class="builtintype" id="7001023">byte</span><span class="op" id="7001027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7001032">0x48</span><span class="op" id="7001036">,</span>&nbsp;<span class="num" id="7001038">0x65</span><span class="op" id="7001042">,</span>&nbsp;<span class="num" id="7001044">0x6c</span><span class="op" id="7001048">,</span>&nbsp;<span class="num" id="7001050">0x6c</span><span class="op" id="7001054">,</span>&nbsp;<span class="num" id="7001056">0x6f</span><span class="op" id="7001060">,</span>&nbsp;<span class="num" id="7001062">0x20</span><span class="op" id="7001066">,</span>&nbsp;<span class="num" id="7001068">0x57</span><span class="op" id="7001072">,</span>&nbsp;<span class="num" id="7001074">0x6f</span><span class="op" id="7001078">,</span>&nbsp;<span class="num" id="7001080">0x72</span><span class="op" id="7001084">,</span>&nbsp;<span class="num" id="7001086">0x6c</span><span class="op" id="7001090">,</span>&nbsp;<span class="num" id="7001092">0x64</span><span class="op" id="7001096">,</span>&nbsp;<span class="num" id="7001098">0x0a</span><span class="op" id="7001102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001106">}</span><span class="op" id="7001107">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001111">nil</span><span class="op" id="7001114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001117">}</span><span class="op" id="7001118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7001125">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="7001143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7001147">&#34;&#34;</span><span class="op" id="7001149">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001153">[</span><span class="op" id="7001154">]</span><span class="builtintype" id="7001155">byte</span><span class="op" id="7001159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7001164">0x78</span><span class="op" id="7001168">,</span>&nbsp;<span class="num" id="7001170">0xbb</span><span class="op" id="7001174">,</span>&nbsp;<span class="num" id="7001176">0x1c</span><span class="op" id="7001180">,</span>&nbsp;<span class="num" id="7001182">0x32</span><span class="op" id="7001186">,</span>&nbsp;<span class="num" id="7001188">0x04</span><span class="op" id="7001192">,</span>&nbsp;<span class="num" id="7001194">0x27</span><span class="op" id="7001198">,</span>&nbsp;<span class="num" id="7001200">0xf3</span><span class="op" id="7001204">,</span>&nbsp;<span class="num" id="7001206">0x00</span><span class="op" id="7001210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7001215">0xb1</span><span class="op" id="7001219">,</span>&nbsp;<span class="num" id="7001221">0x75</span><span class="op" id="7001225">,</span>&nbsp;<span class="num" id="7001227">0x20</span><span class="op" id="7001231">,</span>&nbsp;<span class="num" id="7001233">0x1c</span><span class="op" id="7001237">,</span>&nbsp;<span class="num" id="7001239">0x45</span><span class="op" id="7001243">,</span>&nbsp;<span class="num" id="7001245">0x2e</span><span class="op" id="7001249">,</span>&nbsp;<span class="num" id="7001251">0x00</span><span class="op" id="7001255">,</span>&nbsp;<span class="num" id="7001257">0x24</span><span class="op" id="7001261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7001266">0x12</span><span class="op" id="7001270">,</span>&nbsp;<span class="num" id="7001272">0x04</span><span class="op" id="7001276">,</span>&nbsp;<span class="num" id="7001278">0x74</span><span class="op" id="7001282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001286">}</span><span class="op" id="7001287">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001291">[</span><span class="op" id="7001292">]</span><span class="builtintype" id="7001293">byte</span><span class="op" id="7001297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7001302">0x48</span><span class="op" id="7001306">,</span>&nbsp;<span class="num" id="7001308">0x65</span><span class="op" id="7001312">,</span>&nbsp;<span class="num" id="7001314">0x6c</span><span class="op" id="7001318">,</span>&nbsp;<span class="num" id="7001320">0x6c</span><span class="op" id="7001324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001328">}</span><span class="op" id="7001329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001333">ErrDictionary</span><span class="op" id="7001346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001349">}</span><span class="op" id="7001350">,</span><br>
<span class="lineno">100</span><span class="op" id="7001352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7001355">func</span>&nbsp;<span class="ident" id="7001360">TestDecompressor</span><span class="op" id="7001376">(</span><span class="ident" id="7001377">t</span>&nbsp;<span class="op" id="7001379">*</span><span class="ident" id="7001380">testing</span><span class="op" id="7001387">.</span><span class="ident" id="7001388">T</span><span class="op" id="7001389">)</span>&nbsp;<span class="op" id="7001391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001394">b</span>&nbsp;<span class="op" id="7001396">:=</span>&nbsp;<span class="builtinfunc" id="7001399">new</span><span class="op" id="7001402">(</span><span class="ident" id="7001403">bytes</span><span class="op" id="7001408">.</span><span class="ident" id="7001409">Buffer</span><span class="op" id="7001415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001418">for</span>&nbsp;<span class="ident" id="7001422">_</span><span class="op" id="7001423">,</span>&nbsp;<span class="ident" id="7001425">tt</span>&nbsp;<span class="op" id="7001428">:=</span>&nbsp;<span class="keyword" id="7001431">range</span>&nbsp;<span class="ident" id="7001437">zlibTests</span>&nbsp;<span class="op" id="7001447">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001451">in</span>&nbsp;<span class="op" id="7001454">:=</span>&nbsp;<span class="ident" id="7001457">bytes</span><span class="op" id="7001462">.</span><span class="ident" id="7001463">NewReader</span><span class="op" id="7001472">(</span><span class="ident" id="7001473">tt</span><span class="op" id="7001475">.</span><span class="ident" id="7001476">compressed</span><span class="op" id="7001486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001490">zlib</span><span class="op" id="7001494">,</span>&nbsp;<span class="ident" id="7001496">err</span>&nbsp;<span class="op" id="7001500">:=</span>&nbsp;<span class="ident" id="7001503">NewReaderDict</span><span class="op" id="7001516">(</span><span class="ident" id="7001517">in</span><span class="op" id="7001519">,</span>&nbsp;<span class="ident" id="7001521">tt</span><span class="op" id="7001523">.</span><span class="ident" id="7001524">dict</span><span class="op" id="7001528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001532">if</span>&nbsp;<span class="ident" id="7001535">err</span>&nbsp;<span class="op" id="7001539">!=</span>&nbsp;<span class="ident" id="7001542">nil</span>&nbsp;<span class="op" id="7001546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001551">if</span>&nbsp;<span class="ident" id="7001554">err</span>&nbsp;<span class="op" id="7001558">!=</span>&nbsp;<span class="ident" id="7001561">tt</span><span class="op" id="7001563">.</span><span class="ident" id="7001564">err</span>&nbsp;<span class="op" id="7001568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001574">t</span><span class="op" id="7001575">.</span><span class="ident" id="7001576">Errorf</span><span class="op" id="7001582">(</span><span class="string" id="7001583">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="7001602">,</span>&nbsp;<span class="ident" id="7001604">tt</span><span class="op" id="7001606">.</span><span class="ident" id="7001607">desc</span><span class="op" id="7001611">,</span>&nbsp;<span class="ident" id="7001613">err</span><span class="op" id="7001616">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001626">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001641">defer</span>&nbsp;<span class="ident" id="7001647">zlib</span><span class="op" id="7001651">.</span><span class="ident" id="7001652">Close</span><span class="op" id="7001657">(</span><span class="op" id="7001658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001662">b</span><span class="op" id="7001663">.</span><span class="ident" id="7001664">Reset</span><span class="op" id="7001669">(</span><span class="op" id="7001670">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001674">n</span><span class="op" id="7001675">,</span>&nbsp;<span class="ident" id="7001677">err</span>&nbsp;<span class="op" id="7001681">:=</span>&nbsp;<span class="ident" id="7001684">io</span><span class="op" id="7001686">.</span><span class="ident" id="7001687">Copy</span><span class="op" id="7001691">(</span><span class="ident" id="7001692">b</span><span class="op" id="7001693">,</span>&nbsp;<span class="ident" id="7001695">zlib</span><span class="op" id="7001699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001703">if</span>&nbsp;<span class="ident" id="7001706">err</span>&nbsp;<span class="op" id="7001710">!=</span>&nbsp;<span class="ident" id="7001713">nil</span>&nbsp;<span class="op" id="7001717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001722">if</span>&nbsp;<span class="ident" id="7001725">err</span>&nbsp;<span class="op" id="7001729">!=</span>&nbsp;<span class="ident" id="7001732">tt</span><span class="op" id="7001734">.</span><span class="ident" id="7001735">err</span>&nbsp;<span class="op" id="7001739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001745">t</span><span class="op" id="7001746">.</span><span class="ident" id="7001747">Errorf</span><span class="op" id="7001753">(</span><span class="string" id="7001754">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7001779">,</span>&nbsp;<span class="ident" id="7001781">tt</span><span class="op" id="7001783">.</span><span class="ident" id="7001784">desc</span><span class="op" id="7001788">,</span>&nbsp;<span class="ident" id="7001790">err</span><span class="op" id="7001793">,</span>&nbsp;<span class="ident" id="7001795">tt</span><span class="op" id="7001797">.</span><span class="ident" id="7001798">err</span><span class="op" id="7001801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001806">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001811">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001826">s</span>&nbsp;<span class="op" id="7001828">:=</span>&nbsp;<span class="ident" id="7001831">b</span><span class="op" id="7001832">.</span><span class="ident" id="7001833">String</span><span class="op" id="7001839">(</span><span class="op" id="7001840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7001844">if</span>&nbsp;<span class="ident" id="7001847">s</span>&nbsp;<span class="op" id="7001849">!=</span>&nbsp;<span class="ident" id="7001852">tt</span><span class="op" id="7001854">.</span><span class="ident" id="7001855">raw</span>&nbsp;<span class="op" id="7001859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7001864">t</span><span class="op" id="7001865">.</span><span class="ident" id="7001866">Errorf</span><span class="op" id="7001872">(</span><span class="string" id="7001873">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="7001909">,</span>&nbsp;<span class="ident" id="7001911">tt</span><span class="op" id="7001913">.</span><span class="ident" id="7001914">desc</span><span class="op" id="7001918">,</span>&nbsp;<span class="ident" id="7001920">n</span><span class="op" id="7001921">,</span>&nbsp;<span class="ident" id="7001923">s</span><span class="op" id="7001924">,</span>&nbsp;<span class="builtinfunc" id="7001926">len</span><span class="op" id="7001929">(</span><span class="ident" id="7001930">tt</span><span class="op" id="7001932">.</span><span class="ident" id="7001933">raw</span><span class="op" id="7001936">)</span><span class="op" id="7001937">,</span>&nbsp;<span class="ident" id="7001939">tt</span><span class="op" id="7001941">.</span><span class="ident" id="7001942">raw</span><span class="op" id="7001945">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7001952">}</span><br>
<span class="lineno"></span><span class="op" id="7001954">}</span>
</div>
</body>
</html>
