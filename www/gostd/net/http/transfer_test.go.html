<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8395049">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8395104">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8395158">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8395209">package</span>&nbsp;<span class="ident" id="8395217">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8395223">import</span>&nbsp;<span class="op" id="8395230">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8395233">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8395242">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8395248">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8395259">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8395269">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8395272">func</span>&nbsp;<span class="ident" id="8395277">TestBodyReadBadTrailer</span><span class="op" id="8395299">(</span><span class="ident" id="8395300">t</span>&nbsp;<span class="op" id="8395302">*</span><span class="ident" id="8395303">testing</span><span class="op" id="8395310">.</span><span class="ident" id="8395311">T</span><span class="op" id="8395312">)</span>&nbsp;<span class="op" id="8395314">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395317">b</span>&nbsp;<span class="op" id="8395319">:=</span>&nbsp;<span class="op" id="8395322">&amp;</span><span class="ident" id="8395323">body</span><span class="op" id="8395327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395331">src</span><span class="op" id="8395334">:</span>&nbsp;<span class="ident" id="8395336">strings</span><span class="op" id="8395343">.</span><span class="ident" id="8395344">NewReader</span><span class="op" id="8395353">(</span><span class="string" id="8395354">&#34;foobar&#34;</span><span class="op" id="8395362">)</span><span class="op" id="8395363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395367">hdr</span><span class="op" id="8395370">:</span>&nbsp;<span class="builtintype" id="8395372">true</span><span class="op" id="8395376">,</span>&nbsp;<span class="comment" id="8395378">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395409">r</span><span class="op" id="8395410">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8395414">bufio</span><span class="op" id="8395419">.</span><span class="ident" id="8395420">NewReader</span><span class="op" id="8395429">(</span><span class="ident" id="8395430">strings</span><span class="op" id="8395437">.</span><span class="ident" id="8395438">NewReader</span><span class="op" id="8395447">(</span><span class="string" id="8395448">&#34;&#34;</span><span class="op" id="8395450">)</span><span class="op" id="8395451">)</span><span class="op" id="8395452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395455">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395458">buf</span>&nbsp;<span class="op" id="8395462">:=</span>&nbsp;<span class="builtinfunc" id="8395465">make</span><span class="op" id="8395469">(</span><span class="op" id="8395470">[</span><span class="op" id="8395471">]</span><span class="builtintype" id="8395472">byte</span><span class="op" id="8395476">,</span>&nbsp;<span class="num" id="8395478">7</span><span class="op" id="8395479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395482">n</span><span class="op" id="8395483">,</span>&nbsp;<span class="ident" id="8395485">err</span>&nbsp;<span class="op" id="8395489">:=</span>&nbsp;<span class="ident" id="8395492">b</span><span class="op" id="8395493">.</span><span class="ident" id="8395494">Read</span><span class="op" id="8395498">(</span><span class="ident" id="8395499">buf</span><span class="op" id="8395502">[</span><span class="op" id="8395503">:</span><span class="num" id="8395504">3</span><span class="op" id="8395505">]</span><span class="op" id="8395506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395509">got</span>&nbsp;<span class="op" id="8395513">:=</span>&nbsp;<span class="builtintype" id="8395516">string</span><span class="op" id="8395522">(</span><span class="ident" id="8395523">buf</span><span class="op" id="8395526">[</span><span class="op" id="8395527">:</span><span class="ident" id="8395528">n</span><span class="op" id="8395529">]</span><span class="op" id="8395530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395533">if</span>&nbsp;<span class="ident" id="8395536">got</span>&nbsp;<span class="op" id="8395540">!=</span>&nbsp;<span class="string" id="8395543">&#34;foo&#34;</span>&nbsp;<span class="op" id="8395549">||</span>&nbsp;<span class="ident" id="8395552">err</span>&nbsp;<span class="op" id="8395556">!=</span>&nbsp;<span class="ident" id="8395559">nil</span>&nbsp;<span class="op" id="8395563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395567">t</span><span class="op" id="8395568">.</span><span class="ident" id="8395569">Fatalf</span><span class="op" id="8395575">(</span><span class="string" id="8395576">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="8395618">,</span>&nbsp;<span class="ident" id="8395620">n</span><span class="op" id="8395621">,</span>&nbsp;<span class="ident" id="8395623">got</span><span class="op" id="8395626">,</span>&nbsp;<span class="ident" id="8395628">err</span><span class="op" id="8395631">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395638">n</span><span class="op" id="8395639">,</span>&nbsp;<span class="ident" id="8395641">err</span>&nbsp;<span class="op" id="8395645">=</span>&nbsp;<span class="ident" id="8395647">b</span><span class="op" id="8395648">.</span><span class="ident" id="8395649">Read</span><span class="op" id="8395653">(</span><span class="ident" id="8395654">buf</span><span class="op" id="8395657">[</span><span class="op" id="8395658">:</span><span class="op" id="8395659">]</span><span class="op" id="8395660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395663">got</span>&nbsp;<span class="op" id="8395667">=</span>&nbsp;<span class="builtintype" id="8395669">string</span><span class="op" id="8395675">(</span><span class="ident" id="8395676">buf</span><span class="op" id="8395679">[</span><span class="op" id="8395680">:</span><span class="ident" id="8395681">n</span><span class="op" id="8395682">]</span><span class="op" id="8395683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395686">if</span>&nbsp;<span class="ident" id="8395689">got</span>&nbsp;<span class="op" id="8395693">!=</span>&nbsp;<span class="string" id="8395696">&#34;bar&#34;</span>&nbsp;<span class="op" id="8395702">||</span>&nbsp;<span class="ident" id="8395705">err</span>&nbsp;<span class="op" id="8395709">!=</span>&nbsp;<span class="ident" id="8395712">nil</span>&nbsp;<span class="op" id="8395716">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395720">t</span><span class="op" id="8395721">.</span><span class="ident" id="8395722">Fatalf</span><span class="op" id="8395728">(</span><span class="string" id="8395729">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="8395772">,</span>&nbsp;<span class="ident" id="8395774">n</span><span class="op" id="8395775">,</span>&nbsp;<span class="ident" id="8395777">got</span><span class="op" id="8395780">,</span>&nbsp;<span class="ident" id="8395782">err</span><span class="op" id="8395785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395792">n</span><span class="op" id="8395793">,</span>&nbsp;<span class="ident" id="8395795">err</span>&nbsp;<span class="op" id="8395799">=</span>&nbsp;<span class="ident" id="8395801">b</span><span class="op" id="8395802">.</span><span class="ident" id="8395803">Read</span><span class="op" id="8395807">(</span><span class="ident" id="8395808">buf</span><span class="op" id="8395811">[</span><span class="op" id="8395812">:</span><span class="op" id="8395813">]</span><span class="op" id="8395814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395817">got</span>&nbsp;<span class="op" id="8395821">=</span>&nbsp;<span class="builtintype" id="8395823">string</span><span class="op" id="8395829">(</span><span class="ident" id="8395830">buf</span><span class="op" id="8395833">[</span><span class="op" id="8395834">:</span><span class="ident" id="8395835">n</span><span class="op" id="8395836">]</span><span class="op" id="8395837">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8395840">if</span>&nbsp;<span class="ident" id="8395843">err</span>&nbsp;<span class="op" id="8395847">==</span>&nbsp;<span class="ident" id="8395850">nil</span>&nbsp;<span class="op" id="8395854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395858">t</span><span class="op" id="8395859">.</span><span class="ident" id="8395860">Errorf</span><span class="op" id="8395866">(</span><span class="string" id="8395867">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="8395933">,</span>&nbsp;<span class="ident" id="8395935">got</span><span class="op" id="8395938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8395941">}</span><br>
<span class="lineno"></span><span class="op" id="8395943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8395946">func</span>&nbsp;<span class="ident" id="8395951">TestFinalChunkedBodyReadEOF</span><span class="op" id="8395978">(</span><span class="ident" id="8395979">t</span>&nbsp;<span class="op" id="8395981">*</span><span class="ident" id="8395982">testing</span><span class="op" id="8395989">.</span><span class="ident" id="8395990">T</span><span class="op" id="8395991">)</span>&nbsp;<span class="op" id="8395993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8395996">res</span><span class="op" id="8395999">,</span>&nbsp;<span class="ident" id="8396001">err</span>&nbsp;<span class="op" id="8396005">:=</span>&nbsp;<span class="ident" id="8396008">ReadResponse</span><span class="op" id="8396020">(</span><span class="ident" id="8396021">bufio</span><span class="op" id="8396026">.</span><span class="ident" id="8396027">NewReader</span><span class="op" id="8396036">(</span><span class="ident" id="8396037">strings</span><span class="op" id="8396044">.</span><span class="ident" id="8396045">NewReader</span><span class="op" id="8396054">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396058">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="8396079">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396084">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="8396116">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396121">&#34;\r\n&#34;</span><span class="op" id="8396127">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396132">&#34;0a\r\n&#34;</span><span class="op" id="8396140">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396145">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="8396162">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396167">&#34;09\r\n&#34;</span><span class="op" id="8396175">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396180">&#34;continued\r\n&#34;</span><span class="op" id="8396195">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396200">&#34;0\r\n&#34;</span><span class="op" id="8396207">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8396212">&#34;\r\n&#34;</span><span class="op" id="8396218">)</span><span class="op" id="8396219">)</span><span class="op" id="8396220">,</span>&nbsp;<span class="ident" id="8396222">nil</span><span class="op" id="8396225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8396228">if</span>&nbsp;<span class="ident" id="8396231">err</span>&nbsp;<span class="op" id="8396235">!=</span>&nbsp;<span class="ident" id="8396238">nil</span>&nbsp;<span class="op" id="8396242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396246">t</span><span class="op" id="8396247">.</span><span class="ident" id="8396248">Fatal</span><span class="op" id="8396253">(</span><span class="ident" id="8396254">err</span><span class="op" id="8396257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8396260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396263">want</span>&nbsp;<span class="op" id="8396268">:=</span>&nbsp;<span class="string" id="8396271">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396295">buf</span>&nbsp;<span class="op" id="8396299">:=</span>&nbsp;<span class="builtinfunc" id="8396302">make</span><span class="op" id="8396306">(</span><span class="op" id="8396307">[</span><span class="op" id="8396308">]</span><span class="builtintype" id="8396309">byte</span><span class="op" id="8396313">,</span>&nbsp;<span class="builtinfunc" id="8396315">len</span><span class="op" id="8396318">(</span><span class="ident" id="8396319">want</span><span class="op" id="8396323">)</span><span class="op" id="8396324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396327">n</span><span class="op" id="8396328">,</span>&nbsp;<span class="ident" id="8396330">err</span>&nbsp;<span class="op" id="8396334">:=</span>&nbsp;<span class="ident" id="8396337">res</span><span class="op" id="8396340">.</span><span class="ident" id="8396341">Body</span><span class="op" id="8396345">.</span><span class="ident" id="8396346">Read</span><span class="op" id="8396350">(</span><span class="ident" id="8396351">buf</span><span class="op" id="8396354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8396357">if</span>&nbsp;<span class="ident" id="8396360">n</span>&nbsp;<span class="op" id="8396362">!=</span>&nbsp;<span class="builtinfunc" id="8396365">len</span><span class="op" id="8396368">(</span><span class="ident" id="8396369">want</span><span class="op" id="8396373">)</span>&nbsp;<span class="op" id="8396375">||</span>&nbsp;<span class="ident" id="8396378">err</span>&nbsp;<span class="op" id="8396382">!=</span>&nbsp;<span class="ident" id="8396385">io</span><span class="op" id="8396387">.</span><span class="ident" id="8396388">EOF</span>&nbsp;<span class="op" id="8396392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396396">t</span><span class="op" id="8396397">.</span><span class="ident" id="8396398">Logf</span><span class="op" id="8396402">(</span><span class="string" id="8396403">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="8396415">,</span>&nbsp;<span class="ident" id="8396417">res</span><span class="op" id="8396420">.</span><span class="ident" id="8396421">Body</span><span class="op" id="8396425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396429">t</span><span class="op" id="8396430">.</span><span class="ident" id="8396431">Errorf</span><span class="op" id="8396437">(</span><span class="string" id="8396438">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="8396467">,</span>&nbsp;<span class="ident" id="8396469">n</span><span class="op" id="8396470">,</span>&nbsp;<span class="ident" id="8396472">err</span><span class="op" id="8396475">,</span>&nbsp;<span class="builtinfunc" id="8396477">len</span><span class="op" id="8396480">(</span><span class="ident" id="8396481">want</span><span class="op" id="8396485">)</span><span class="op" id="8396486">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8396489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8396492">if</span>&nbsp;<span class="builtintype" id="8396495">string</span><span class="op" id="8396501">(</span><span class="ident" id="8396502">buf</span><span class="op" id="8396505">)</span>&nbsp;<span class="op" id="8396507">!=</span>&nbsp;<span class="ident" id="8396510">want</span>&nbsp;<span class="op" id="8396515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8396519">t</span><span class="op" id="8396520">.</span><span class="ident" id="8396521">Errorf</span><span class="op" id="8396527">(</span><span class="string" id="8396528">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8396547">,</span>&nbsp;<span class="ident" id="8396549">buf</span><span class="op" id="8396552">,</span>&nbsp;<span class="ident" id="8396554">want</span><span class="op" id="8396558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8396561">}</span><br>
<span class="lineno"></span><span class="op" id="8396563">}</span>
</div>
</body>
</html>
