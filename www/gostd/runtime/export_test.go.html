<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6806262">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6806318">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6806372">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6806423">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6806452">package</span>&nbsp;<span class="ident" id="6806460">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6806469">import</span>&nbsp;<span class="string" id="6806476">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6806486">var</span>&nbsp;<span class="ident" id="6806490">Fadd64</span>&nbsp;<span class="op" id="6806497">=</span>&nbsp;<span class="ident" id="6806499">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="6806506">var</span>&nbsp;<span class="ident" id="6806510">Fsub64</span>&nbsp;<span class="op" id="6806517">=</span>&nbsp;<span class="ident" id="6806519">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="6806526">var</span>&nbsp;<span class="ident" id="6806530">Fmul64</span>&nbsp;<span class="op" id="6806537">=</span>&nbsp;<span class="ident" id="6806539">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="6806546">var</span>&nbsp;<span class="ident" id="6806550">Fdiv64</span>&nbsp;<span class="op" id="6806557">=</span>&nbsp;<span class="ident" id="6806559">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="6806566">var</span>&nbsp;<span class="ident" id="6806570">F64to32</span>&nbsp;<span class="op" id="6806578">=</span>&nbsp;<span class="ident" id="6806580">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="6806588">var</span>&nbsp;<span class="ident" id="6806592">F32to64</span>&nbsp;<span class="op" id="6806600">=</span>&nbsp;<span class="ident" id="6806602">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="6806610">var</span>&nbsp;<span class="ident" id="6806614">Fcmp64</span>&nbsp;<span class="op" id="6806621">=</span>&nbsp;<span class="ident" id="6806623">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="6806630">var</span>&nbsp;<span class="ident" id="6806634">Fintto64</span>&nbsp;<span class="op" id="6806643">=</span>&nbsp;<span class="ident" id="6806645">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="6806654">var</span>&nbsp;<span class="ident" id="6806658">F64toint</span>&nbsp;<span class="op" id="6806667">=</span>&nbsp;<span class="ident" id="6806669">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6806679">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="6806693">func</span>&nbsp;<span class="ident" id="6806698">stackguard</span><span class="op" id="6806708">(</span><span class="op" id="6806709">)</span>&nbsp;<span class="op" id="6806711">(</span><span class="ident" id="6806712">sp</span><span class="op" id="6806714">,</span>&nbsp;<span class="ident" id="6806716">limit</span>&nbsp;<span class="builtintype" id="6806722">uintptr</span><span class="op" id="6806729">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6806732">var</span>&nbsp;<span class="ident" id="6806736">Entersyscall</span>&nbsp;<span class="op" id="6806749">=</span>&nbsp;<span class="ident" id="6806751">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="6806764">var</span>&nbsp;<span class="ident" id="6806768">Exitsyscall</span>&nbsp;<span class="op" id="6806780">=</span>&nbsp;<span class="ident" id="6806782">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="6806794">var</span>&nbsp;<span class="ident" id="6806798">LockedOSThread</span>&nbsp;<span class="op" id="6806813">=</span>&nbsp;<span class="ident" id="6806815">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6806831">type</span>&nbsp;<span class="ident" id="6806836">LFNode</span>&nbsp;<span class="keyword" id="6806843">struct</span>&nbsp;<span class="op" id="6806850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806853">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6806861">*</span><span class="ident" id="6806862">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806870">Pushcnt</span>&nbsp;<span class="builtintype" id="6806878">uintptr</span><br>
<span class="lineno"></span><span class="op" id="6806886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6806889">func</span>&nbsp;<span class="ident" id="6806894">lfstackpush_m</span><span class="op" id="6806907">(</span><span class="op" id="6806908">)</span><br>
<span class="lineno"></span><span class="keyword" id="6806910">func</span>&nbsp;<span class="ident" id="6806915">lfstackpop_m</span><span class="op" id="6806927">(</span><span class="op" id="6806928">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6806931">func</span>&nbsp;<span class="ident" id="6806936">LFStackPush</span><span class="op" id="6806947">(</span><span class="ident" id="6806948">head</span>&nbsp;<span class="op" id="6806953">*</span><span class="ident" id="6806954">uint64</span><span class="op" id="6806960">,</span>&nbsp;<span class="ident" id="6806962">node</span>&nbsp;<span class="op" id="6806967">*</span><span class="ident" id="6806968">LFNode</span><span class="op" id="6806974">)</span>&nbsp;<span class="op" id="6806976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806979">mp</span>&nbsp;<span class="op" id="6806982">:=</span>&nbsp;<span class="ident" id="6806985">acquirem</span><span class="op" id="6806993">(</span><span class="op" id="6806994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806997">mp</span><span class="op" id="6806999">.</span><span class="ident" id="6807000">ptrarg</span><span class="op" id="6807006">[</span><span class="num" id="6807007">0</span><span class="op" id="6807008">]</span>&nbsp;<span class="op" id="6807010">=</span>&nbsp;<span class="ident" id="6807012">unsafe</span><span class="op" id="6807018">.</span><span class="ident" id="6807019">Pointer</span><span class="op" id="6807026">(</span><span class="ident" id="6807027">head</span><span class="op" id="6807031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807034">mp</span><span class="op" id="6807036">.</span><span class="ident" id="6807037">ptrarg</span><span class="op" id="6807043">[</span><span class="num" id="6807044">1</span><span class="op" id="6807045">]</span>&nbsp;<span class="op" id="6807047">=</span>&nbsp;<span class="ident" id="6807049">unsafe</span><span class="op" id="6807055">.</span><span class="ident" id="6807056">Pointer</span><span class="op" id="6807063">(</span><span class="ident" id="6807064">node</span><span class="op" id="6807068">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807071">onM</span><span class="op" id="6807074">(</span><span class="ident" id="6807075">lfstackpush_m</span><span class="op" id="6807088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807091">releasem</span><span class="op" id="6807099">(</span><span class="ident" id="6807100">mp</span><span class="op" id="6807102">)</span><br>
<span class="lineno"></span><span class="op" id="6807104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6807107">func</span>&nbsp;<span class="ident" id="6807112">LFStackPop</span><span class="op" id="6807122">(</span><span class="ident" id="6807123">head</span>&nbsp;<span class="op" id="6807128">*</span><span class="ident" id="6807129">uint64</span><span class="op" id="6807135">)</span>&nbsp;<span class="op" id="6807137">*</span><span class="ident" id="6807138">LFNode</span>&nbsp;<span class="op" id="6807145">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807148">mp</span>&nbsp;<span class="op" id="6807151">:=</span>&nbsp;<span class="ident" id="6807154">acquirem</span><span class="op" id="6807162">(</span><span class="op" id="6807163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807166">mp</span><span class="op" id="6807168">.</span><span class="ident" id="6807169">ptrarg</span><span class="op" id="6807175">[</span><span class="num" id="6807176">0</span><span class="op" id="6807177">]</span>&nbsp;<span class="op" id="6807179">=</span>&nbsp;<span class="ident" id="6807181">unsafe</span><span class="op" id="6807187">.</span><span class="ident" id="6807188">Pointer</span><span class="op" id="6807195">(</span><span class="ident" id="6807196">head</span><span class="op" id="6807200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807203">onM</span><span class="op" id="6807206">(</span><span class="ident" id="6807207">lfstackpop_m</span><span class="op" id="6807219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807222">node</span>&nbsp;<span class="op" id="6807227">:=</span>&nbsp;<span class="op" id="6807230">(</span><span class="op" id="6807231">*</span><span class="ident" id="6807232">LFNode</span><span class="op" id="6807238">)</span><span class="op" id="6807239">(</span><span class="ident" id="6807240">unsafe</span><span class="op" id="6807246">.</span><span class="ident" id="6807247">Pointer</span><span class="op" id="6807254">(</span><span class="ident" id="6807255">mp</span><span class="op" id="6807257">.</span><span class="ident" id="6807258">ptrarg</span><span class="op" id="6807264">[</span><span class="num" id="6807265">0</span><span class="op" id="6807266">]</span><span class="op" id="6807267">)</span><span class="op" id="6807268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807271">mp</span><span class="op" id="6807273">.</span><span class="ident" id="6807274">ptrarg</span><span class="op" id="6807280">[</span><span class="num" id="6807281">0</span><span class="op" id="6807282">]</span>&nbsp;<span class="op" id="6807284">=</span>&nbsp;<span class="ident" id="6807286">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807291">releasem</span><span class="op" id="6807299">(</span><span class="ident" id="6807300">mp</span><span class="op" id="6807302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807305">return</span>&nbsp;<span class="ident" id="6807312">node</span><br>
<span class="lineno"></span><span class="op" id="6807317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6807320">type</span>&nbsp;<span class="ident" id="6807325">ParFor</span>&nbsp;<span class="keyword" id="6807332">struct</span>&nbsp;<span class="op" id="6807339">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807342">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6807350">*</span><span class="builtintype" id="6807351">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807357">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6807365">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807373">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6807381">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807389">nthrmax</span>&nbsp;<span class="builtintype" id="6807397">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807405">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="6807413">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807421">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6807429">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807437">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6807445">*</span><span class="builtintype" id="6807446">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807452">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6807460">bool</span><br>
<span class="lineno"></span><span class="op" id="6807465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="6807468">func</span>&nbsp;<span class="ident" id="6807473">newparfor_m</span><span class="op" id="6807484">(</span><span class="op" id="6807485">)</span><br>
<span class="lineno"></span><span class="keyword" id="6807487">func</span>&nbsp;<span class="ident" id="6807492">parforsetup_m</span><span class="op" id="6807505">(</span><span class="op" id="6807506">)</span><br>
<span class="lineno"></span><span class="keyword" id="6807508">func</span>&nbsp;<span class="ident" id="6807513">parfordo_m</span><span class="op" id="6807523">(</span><span class="op" id="6807524">)</span><br>
<span class="lineno"></span><span class="keyword" id="6807526">func</span>&nbsp;<span class="ident" id="6807531">parforiters_m</span><span class="op" id="6807544">(</span><span class="op" id="6807545">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6807548">func</span>&nbsp;<span class="ident" id="6807553">NewParFor</span><span class="op" id="6807562">(</span><span class="ident" id="6807563">nthrmax</span>&nbsp;<span class="builtintype" id="6807571">uint32</span><span class="op" id="6807577">)</span>&nbsp;<span class="op" id="6807579">*</span><span class="ident" id="6807580">ParFor</span>&nbsp;<span class="op" id="6807587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807590">mp</span>&nbsp;<span class="op" id="6807593">:=</span>&nbsp;<span class="ident" id="6807596">acquirem</span><span class="op" id="6807604">(</span><span class="op" id="6807605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807608">mp</span><span class="op" id="6807610">.</span><span class="ident" id="6807611">scalararg</span><span class="op" id="6807620">[</span><span class="num" id="6807621">0</span><span class="op" id="6807622">]</span>&nbsp;<span class="op" id="6807624">=</span>&nbsp;<span class="builtintype" id="6807626">uintptr</span><span class="op" id="6807633">(</span><span class="ident" id="6807634">nthrmax</span><span class="op" id="6807641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807644">onM</span><span class="op" id="6807647">(</span><span class="ident" id="6807648">newparfor_m</span><span class="op" id="6807659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807662">desc</span>&nbsp;<span class="op" id="6807667">:=</span>&nbsp;<span class="op" id="6807670">(</span><span class="op" id="6807671">*</span><span class="ident" id="6807672">ParFor</span><span class="op" id="6807678">)</span><span class="op" id="6807679">(</span><span class="ident" id="6807680">mp</span><span class="op" id="6807682">.</span><span class="ident" id="6807683">ptrarg</span><span class="op" id="6807689">[</span><span class="num" id="6807690">0</span><span class="op" id="6807691">]</span><span class="op" id="6807692">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807695">mp</span><span class="op" id="6807697">.</span><span class="ident" id="6807698">ptrarg</span><span class="op" id="6807704">[</span><span class="num" id="6807705">0</span><span class="op" id="6807706">]</span>&nbsp;<span class="op" id="6807708">=</span>&nbsp;<span class="ident" id="6807710">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807715">releasem</span><span class="op" id="6807723">(</span><span class="ident" id="6807724">mp</span><span class="op" id="6807726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807729">return</span>&nbsp;<span class="ident" id="6807736">desc</span><br>
<span class="lineno"></span><span class="op" id="6807741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6807744">func</span>&nbsp;<span class="ident" id="6807749">ParForSetup</span><span class="op" id="6807760">(</span><span class="ident" id="6807761">desc</span>&nbsp;<span class="op" id="6807766">*</span><span class="ident" id="6807767">ParFor</span><span class="op" id="6807773">,</span>&nbsp;<span class="ident" id="6807775">nthr</span><span class="op" id="6807779">,</span>&nbsp;<span class="ident" id="6807781">n</span>&nbsp;<span class="builtintype" id="6807783">uint32</span><span class="op" id="6807789">,</span>&nbsp;<span class="ident" id="6807791">ctx</span>&nbsp;<span class="op" id="6807795">*</span><span class="builtintype" id="6807796">byte</span><span class="op" id="6807800">,</span>&nbsp;<span class="ident" id="6807802">wait</span>&nbsp;<span class="builtintype" id="6807807">bool</span><span class="op" id="6807811">,</span>&nbsp;<span class="ident" id="6807813">body</span>&nbsp;<span class="keyword" id="6807818">func</span><span class="op" id="6807822">(</span><span class="op" id="6807823">*</span><span class="ident" id="6807824">ParFor</span><span class="op" id="6807830">,</span>&nbsp;<span class="builtintype" id="6807832">uint32</span><span class="op" id="6807838">)</span><span class="op" id="6807839">)</span>&nbsp;<span class="op" id="6807841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807844">mp</span>&nbsp;<span class="op" id="6807847">:=</span>&nbsp;<span class="ident" id="6807850">acquirem</span><span class="op" id="6807858">(</span><span class="op" id="6807859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807862">mp</span><span class="op" id="6807864">.</span><span class="ident" id="6807865">ptrarg</span><span class="op" id="6807871">[</span><span class="num" id="6807872">0</span><span class="op" id="6807873">]</span>&nbsp;<span class="op" id="6807875">=</span>&nbsp;<span class="ident" id="6807877">unsafe</span><span class="op" id="6807883">.</span><span class="ident" id="6807884">Pointer</span><span class="op" id="6807891">(</span><span class="ident" id="6807892">desc</span><span class="op" id="6807896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807899">mp</span><span class="op" id="6807901">.</span><span class="ident" id="6807902">ptrarg</span><span class="op" id="6807908">[</span><span class="num" id="6807909">1</span><span class="op" id="6807910">]</span>&nbsp;<span class="op" id="6807912">=</span>&nbsp;<span class="ident" id="6807914">unsafe</span><span class="op" id="6807920">.</span><span class="ident" id="6807921">Pointer</span><span class="op" id="6807928">(</span><span class="ident" id="6807929">ctx</span><span class="op" id="6807932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807935">mp</span><span class="op" id="6807937">.</span><span class="ident" id="6807938">ptrarg</span><span class="op" id="6807944">[</span><span class="num" id="6807945">2</span><span class="op" id="6807946">]</span>&nbsp;<span class="op" id="6807948">=</span>&nbsp;<span class="ident" id="6807950">unsafe</span><span class="op" id="6807956">.</span><span class="ident" id="6807957">Pointer</span><span class="op" id="6807964">(</span><span class="ident" id="6807965">funcPC</span><span class="op" id="6807971">(</span><span class="ident" id="6807972">body</span><span class="op" id="6807976">)</span><span class="op" id="6807977">)</span>&nbsp;<span class="comment" id="6807979">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808014">mp</span><span class="op" id="6808016">.</span><span class="ident" id="6808017">scalararg</span><span class="op" id="6808026">[</span><span class="num" id="6808027">0</span><span class="op" id="6808028">]</span>&nbsp;<span class="op" id="6808030">=</span>&nbsp;<span class="builtintype" id="6808032">uintptr</span><span class="op" id="6808039">(</span><span class="ident" id="6808040">nthr</span><span class="op" id="6808044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808047">mp</span><span class="op" id="6808049">.</span><span class="ident" id="6808050">scalararg</span><span class="op" id="6808059">[</span><span class="num" id="6808060">1</span><span class="op" id="6808061">]</span>&nbsp;<span class="op" id="6808063">=</span>&nbsp;<span class="builtintype" id="6808065">uintptr</span><span class="op" id="6808072">(</span><span class="ident" id="6808073">n</span><span class="op" id="6808074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808077">mp</span><span class="op" id="6808079">.</span><span class="ident" id="6808080">scalararg</span><span class="op" id="6808089">[</span><span class="num" id="6808090">2</span><span class="op" id="6808091">]</span>&nbsp;<span class="op" id="6808093">=</span>&nbsp;<span class="num" id="6808095">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808098">if</span>&nbsp;<span class="ident" id="6808101">wait</span>&nbsp;<span class="op" id="6808106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808110">mp</span><span class="op" id="6808112">.</span><span class="ident" id="6808113">scalararg</span><span class="op" id="6808122">[</span><span class="num" id="6808123">2</span><span class="op" id="6808124">]</span>&nbsp;<span class="op" id="6808126">=</span>&nbsp;<span class="num" id="6808128">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808134">onM</span><span class="op" id="6808137">(</span><span class="ident" id="6808138">parforsetup_m</span><span class="op" id="6808151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808154">releasem</span><span class="op" id="6808162">(</span><span class="ident" id="6808163">mp</span><span class="op" id="6808165">)</span><br>
<span class="lineno"></span><span class="op" id="6808167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6808170">func</span>&nbsp;<span class="ident" id="6808175">ParForDo</span><span class="op" id="6808183">(</span><span class="ident" id="6808184">desc</span>&nbsp;<span class="op" id="6808189">*</span><span class="ident" id="6808190">ParFor</span><span class="op" id="6808196">)</span>&nbsp;<span class="op" id="6808198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808201">mp</span>&nbsp;<span class="op" id="6808204">:=</span>&nbsp;<span class="ident" id="6808207">acquirem</span><span class="op" id="6808215">(</span><span class="op" id="6808216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808219">mp</span><span class="op" id="6808221">.</span><span class="ident" id="6808222">ptrarg</span><span class="op" id="6808228">[</span><span class="num" id="6808229">0</span><span class="op" id="6808230">]</span>&nbsp;<span class="op" id="6808232">=</span>&nbsp;<span class="ident" id="6808234">unsafe</span><span class="op" id="6808240">.</span><span class="ident" id="6808241">Pointer</span><span class="op" id="6808248">(</span><span class="ident" id="6808249">desc</span><span class="op" id="6808253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808256">onM</span><span class="op" id="6808259">(</span><span class="ident" id="6808260">parfordo_m</span><span class="op" id="6808270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808273">releasem</span><span class="op" id="6808281">(</span><span class="ident" id="6808282">mp</span><span class="op" id="6808284">)</span><br>
<span class="lineno">100</span><span class="op" id="6808286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6808289">func</span>&nbsp;<span class="ident" id="6808294">ParForIters</span><span class="op" id="6808305">(</span><span class="ident" id="6808306">desc</span>&nbsp;<span class="op" id="6808311">*</span><span class="ident" id="6808312">ParFor</span><span class="op" id="6808318">,</span>&nbsp;<span class="ident" id="6808320">tid</span>&nbsp;<span class="builtintype" id="6808324">uint32</span><span class="op" id="6808330">)</span>&nbsp;<span class="op" id="6808332">(</span><span class="builtintype" id="6808333">uint32</span><span class="op" id="6808339">,</span>&nbsp;<span class="builtintype" id="6808341">uint32</span><span class="op" id="6808347">)</span>&nbsp;<span class="op" id="6808349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808352">mp</span>&nbsp;<span class="op" id="6808355">:=</span>&nbsp;<span class="ident" id="6808358">acquirem</span><span class="op" id="6808366">(</span><span class="op" id="6808367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808370">mp</span><span class="op" id="6808372">.</span><span class="ident" id="6808373">ptrarg</span><span class="op" id="6808379">[</span><span class="num" id="6808380">0</span><span class="op" id="6808381">]</span>&nbsp;<span class="op" id="6808383">=</span>&nbsp;<span class="ident" id="6808385">unsafe</span><span class="op" id="6808391">.</span><span class="ident" id="6808392">Pointer</span><span class="op" id="6808399">(</span><span class="ident" id="6808400">desc</span><span class="op" id="6808404">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808407">mp</span><span class="op" id="6808409">.</span><span class="ident" id="6808410">scalararg</span><span class="op" id="6808419">[</span><span class="num" id="6808420">0</span><span class="op" id="6808421">]</span>&nbsp;<span class="op" id="6808423">=</span>&nbsp;<span class="builtintype" id="6808425">uintptr</span><span class="op" id="6808432">(</span><span class="ident" id="6808433">tid</span><span class="op" id="6808436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808439">onM</span><span class="op" id="6808442">(</span><span class="ident" id="6808443">parforiters_m</span><span class="op" id="6808456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808459">begin</span>&nbsp;<span class="op" id="6808465">:=</span>&nbsp;<span class="builtintype" id="6808468">uint32</span><span class="op" id="6808474">(</span><span class="ident" id="6808475">mp</span><span class="op" id="6808477">.</span><span class="ident" id="6808478">scalararg</span><span class="op" id="6808487">[</span><span class="num" id="6808488">0</span><span class="op" id="6808489">]</span><span class="op" id="6808490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808493">end</span>&nbsp;<span class="op" id="6808497">:=</span>&nbsp;<span class="builtintype" id="6808500">uint32</span><span class="op" id="6808506">(</span><span class="ident" id="6808507">mp</span><span class="op" id="6808509">.</span><span class="ident" id="6808510">scalararg</span><span class="op" id="6808519">[</span><span class="num" id="6808520">1</span><span class="op" id="6808521">]</span><span class="op" id="6808522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808525">releasem</span><span class="op" id="6808533">(</span><span class="ident" id="6808534">mp</span><span class="op" id="6808536">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808539">return</span>&nbsp;<span class="ident" id="6808546">begin</span><span class="op" id="6808551">,</span>&nbsp;<span class="ident" id="6808553">end</span><br>
<span class="lineno"></span><span class="op" id="6808557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6808560">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="6808573">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="6808587">func</span>&nbsp;<span class="ident" id="6808592">getgcmask</span><span class="op" id="6808601">(</span><span class="ident" id="6808602">data</span>&nbsp;<span class="ident" id="6808607">unsafe</span><span class="op" id="6808613">.</span><span class="ident" id="6808614">Pointer</span><span class="op" id="6808621">,</span>&nbsp;<span class="ident" id="6808623">typ</span>&nbsp;<span class="op" id="6808627">*</span><span class="ident" id="6808628">_type</span><span class="op" id="6808633">,</span>&nbsp;<span class="ident" id="6808635">array</span>&nbsp;<span class="op" id="6808641">*</span><span class="op" id="6808642">*</span><span class="builtintype" id="6808643">byte</span><span class="op" id="6808647">,</span>&nbsp;<span class="builtinfunc" id="6808649">len</span>&nbsp;<span class="op" id="6808653">*</span><span class="builtintype" id="6808654">uint</span><span class="op" id="6808658">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6808661">func</span>&nbsp;<span class="ident" id="6808666">GCMask</span><span class="op" id="6808672">(</span><span class="ident" id="6808673">x</span>&nbsp;<span class="keyword" id="6808675">interface</span><span class="op" id="6808684">{</span><span class="op" id="6808685">}</span><span class="op" id="6808686">)</span>&nbsp;<span class="op" id="6808688">(</span><span class="ident" id="6808689">ret</span>&nbsp;<span class="op" id="6808693">[</span><span class="op" id="6808694">]</span><span class="builtintype" id="6808695">byte</span><span class="op" id="6808699">)</span>&nbsp;<span class="op" id="6808701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808704">e</span>&nbsp;<span class="op" id="6808706">:=</span>&nbsp;<span class="op" id="6808709">(</span><span class="op" id="6808710">*</span><span class="ident" id="6808711">eface</span><span class="op" id="6808716">)</span><span class="op" id="6808717">(</span><span class="ident" id="6808718">unsafe</span><span class="op" id="6808724">.</span><span class="ident" id="6808725">Pointer</span><span class="op" id="6808732">(</span><span class="op" id="6808733">&amp;</span><span class="ident" id="6808734">x</span><span class="op" id="6808735">)</span><span class="op" id="6808736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808739">s</span>&nbsp;<span class="op" id="6808741">:=</span>&nbsp;<span class="op" id="6808744">(</span><span class="op" id="6808745">*</span><span class="ident" id="6808746">slice</span><span class="op" id="6808751">)</span><span class="op" id="6808752">(</span><span class="ident" id="6808753">unsafe</span><span class="op" id="6808759">.</span><span class="ident" id="6808760">Pointer</span><span class="op" id="6808767">(</span><span class="op" id="6808768">&amp;</span><span class="ident" id="6808769">ret</span><span class="op" id="6808772">)</span><span class="op" id="6808773">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808776">onM</span><span class="op" id="6808779">(</span><span class="keyword" id="6808780">func</span><span class="op" id="6808784">(</span><span class="op" id="6808785">)</span>&nbsp;<span class="op" id="6808787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808791">getgcmask</span><span class="op" id="6808800">(</span><span class="ident" id="6808801">e</span><span class="op" id="6808802">.</span><span class="ident" id="6808803">data</span><span class="op" id="6808807">,</span>&nbsp;<span class="ident" id="6808809">e</span><span class="op" id="6808810">.</span><span class="ident" id="6808811">_type</span><span class="op" id="6808816">,</span>&nbsp;<span class="op" id="6808818">&amp;</span><span class="ident" id="6808819">s</span><span class="op" id="6808820">.</span><span class="ident" id="6808821">array</span><span class="op" id="6808826">,</span>&nbsp;<span class="op" id="6808828">&amp;</span><span class="ident" id="6808829">s</span><span class="op" id="6808830">.</span><span class="builtinfunc" id="6808831">len</span><span class="op" id="6808834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808838">s</span><span class="op" id="6808839">.</span><span class="builtinfunc" id="6808840">cap</span>&nbsp;<span class="op" id="6808844">=</span>&nbsp;<span class="ident" id="6808846">s</span><span class="op" id="6808847">.</span><span class="builtinfunc" id="6808848">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808853">}</span><span class="op" id="6808854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808857">return</span><br>
<span class="lineno">125</span><span class="op" id="6808864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6808867">func</span>&nbsp;<span class="ident" id="6808872">testSchedLocalQueue</span><span class="op" id="6808891">(</span><span class="op" id="6808892">)</span><br>
<span class="lineno"></span><span class="keyword" id="6808894">func</span>&nbsp;<span class="ident" id="6808899">testSchedLocalQueueSteal</span><span class="op" id="6808923">(</span><span class="op" id="6808924">)</span><br>
<span class="lineno"></span><span class="keyword" id="6808926">func</span>&nbsp;<span class="ident" id="6808931">RunSchedLocalQueueTest</span><span class="op" id="6808953">(</span><span class="op" id="6808954">)</span>&nbsp;<span class="op" id="6808956">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808959">onM</span><span class="op" id="6808962">(</span><span class="ident" id="6808963">testSchedLocalQueue</span><span class="op" id="6808982">)</span><br>
<span class="lineno"></span><span class="op" id="6808984">}</span><br>
<span class="lineno"></span><span class="keyword" id="6808986">func</span>&nbsp;<span class="ident" id="6808991">RunSchedLocalQueueStealTest</span><span class="op" id="6809018">(</span><span class="op" id="6809019">)</span>&nbsp;<span class="op" id="6809021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809024">onM</span><span class="op" id="6809027">(</span><span class="ident" id="6809028">testSchedLocalQueueSteal</span><span class="op" id="6809052">)</span><br>
<span class="lineno"></span><span class="op" id="6809054">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="6809057">var</span>&nbsp;<span class="ident" id="6809061">HaveGoodHash</span>&nbsp;<span class="op" id="6809074">=</span>&nbsp;<span class="ident" id="6809076">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="6809089">var</span>&nbsp;<span class="ident" id="6809093">StringHash</span>&nbsp;<span class="op" id="6809104">=</span>&nbsp;<span class="ident" id="6809106">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="6809117">var</span>&nbsp;<span class="ident" id="6809121">BytesHash</span>&nbsp;<span class="op" id="6809131">=</span>&nbsp;<span class="ident" id="6809133">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="6809143">var</span>&nbsp;<span class="ident" id="6809147">Int32Hash</span>&nbsp;<span class="op" id="6809157">=</span>&nbsp;<span class="ident" id="6809159">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="6809169">var</span>&nbsp;<span class="ident" id="6809173">Int64Hash</span>&nbsp;<span class="op" id="6809183">=</span>&nbsp;<span class="ident" id="6809185">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="6809195">var</span>&nbsp;<span class="ident" id="6809199">EfaceHash</span>&nbsp;<span class="op" id="6809209">=</span>&nbsp;<span class="ident" id="6809211">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="6809221">var</span>&nbsp;<span class="ident" id="6809225">IfaceHash</span>&nbsp;<span class="op" id="6809235">=</span>&nbsp;<span class="ident" id="6809237">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="6809247">var</span>&nbsp;<span class="ident" id="6809251">MemclrBytes</span>&nbsp;<span class="op" id="6809263">=</span>&nbsp;<span class="ident" id="6809265">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="6809278">var</span>&nbsp;<span class="ident" id="6809282">HashLoad</span>&nbsp;<span class="op" id="6809291">=</span>&nbsp;<span class="op" id="6809293">&amp;</span><span class="ident" id="6809294">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6809304">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="6809320">func</span>&nbsp;<span class="ident" id="6809325">GogoBytes</span><span class="op" id="6809334">(</span><span class="op" id="6809335">)</span>&nbsp;<span class="builtintype" id="6809337">int32</span>&nbsp;<span class="op" id="6809343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6809346">return</span>&nbsp;<span class="ident" id="6809353">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="6809371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6809374">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="6809389">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="6809403">func</span>&nbsp;<span class="ident" id="6809408">gostringw</span><span class="op" id="6809417">(</span><span class="ident" id="6809418">w</span>&nbsp;<span class="op" id="6809420">*</span><span class="builtintype" id="6809421">uint16</span><span class="op" id="6809427">)</span>&nbsp;<span class="builtintype" id="6809429">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="6809437">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="6809464">func</span>&nbsp;<span class="ident" id="6809469">GostringW</span><span class="op" id="6809478">(</span><span class="ident" id="6809479">w</span>&nbsp;<span class="op" id="6809481">[</span><span class="op" id="6809482">]</span><span class="builtintype" id="6809483">uint16</span><span class="op" id="6809489">)</span>&nbsp;<span class="op" id="6809491">(</span><span class="ident" id="6809492">s</span>&nbsp;<span class="builtintype" id="6809494">string</span><span class="op" id="6809500">)</span>&nbsp;<span class="op" id="6809502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809505">onM</span><span class="op" id="6809508">(</span><span class="keyword" id="6809509">func</span><span class="op" id="6809513">(</span><span class="op" id="6809514">)</span>&nbsp;<span class="op" id="6809516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809520">s</span>&nbsp;<span class="op" id="6809522">=</span>&nbsp;<span class="ident" id="6809524">gostringw</span><span class="op" id="6809533">(</span><span class="op" id="6809534">&amp;</span><span class="ident" id="6809535">w</span><span class="op" id="6809536">[</span><span class="num" id="6809537">0</span><span class="op" id="6809538">]</span><span class="op" id="6809539">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6809542">}</span><span class="op" id="6809543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6809546">return</span><br>
<span class="lineno"></span><span class="op" id="6809553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6809556">var</span>&nbsp;<span class="ident" id="6809560">Gostringnocopy</span>&nbsp;<span class="op" id="6809575">=</span>&nbsp;<span class="ident" id="6809577">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="6809592">var</span>&nbsp;<span class="ident" id="6809596">Maxstring</span>&nbsp;<span class="op" id="6809606">=</span>&nbsp;<span class="op" id="6809608">&amp;</span><span class="ident" id="6809609">maxstring</span>
</div>
</body>
</html>
