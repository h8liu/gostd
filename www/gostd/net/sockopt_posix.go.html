<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html" class="current">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3367857">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3367913">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3367967">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3368018">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3368091">package</span>&nbsp;<span class="ident" id="3368099">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3368104">import</span>&nbsp;<span class="op" id="3368111">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3368114">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3368120">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="3368130">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3368133">//&nbsp;Boolean&nbsp;to&nbsp;int.</span><br>
<span class="lineno">15</span><span class="keyword" id="3368152">func</span>&nbsp;<span class="ident" id="3368157">boolint</span><span class="op" id="3368164">(</span><span class="ident" id="3368165">b</span>&nbsp;<span class="builtintype" id="3368167">bool</span><span class="op" id="3368171">)</span>&nbsp;<span class="builtintype" id="3368173">int</span>&nbsp;<span class="op" id="3368177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368180">if</span>&nbsp;<span class="ident" id="3368183"><a href="/gostd/net/sockopt_posix.go.html#3368165">b</a></span>&nbsp;<span class="op" id="3368185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368189">return</span>&nbsp;<span class="num" id="3368196">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368202">return</span>&nbsp;<span class="num" id="3368209">0</span><br>
<span class="lineno">20</span><span class="op" id="3368211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3368214">func</span>&nbsp;<span class="ident" id="3368219">ipv4AddrToInterface</span><span class="op" id="3368238">(</span><span class="ident" id="3368239">ip</span>&nbsp;<span class="ident" id="3368242"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3368244">)</span>&nbsp;<span class="op" id="3368246">(</span><span class="op" id="3368247">*</span><span class="ident" id="3368248"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3368257">,</span>&nbsp;<span class="builtintype" id="3368259">error</span><span class="op" id="3368264">)</span>&nbsp;<span class="op" id="3368266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3368269">ift</span><span class="op" id="3368272">,</span>&nbsp;<span class="ident" id="3368274">err</span>&nbsp;<span class="op" id="3368278">:=</span>&nbsp;<span class="ident" id="3368281"><a href="/gostd/net/interface.go.html#3277043">Interfaces</a></span><span class="op" id="3368291">(</span><span class="op" id="3368292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368295">if</span>&nbsp;<span class="ident" id="3368298"><a href="/gostd/net/sockopt_posix.go.html#3368274">err</a></span>&nbsp;<span class="op" id="3368302">!=</span>&nbsp;<span class="builtintype" id="3368305">nil</span>&nbsp;<span class="op" id="3368309">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368313">return</span>&nbsp;<span class="builtintype" id="3368320">nil</span><span class="op" id="3368323">,</span>&nbsp;<span class="ident" id="3368325"><a href="/gostd/net/sockopt_posix.go.html#3368274">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368333">for</span>&nbsp;<span class="ident" id="3368337">_</span><span class="op" id="3368338">,</span>&nbsp;<span class="ident" id="3368340">ifi</span>&nbsp;<span class="op" id="3368344">:=</span>&nbsp;<span class="keyword" id="3368347">range</span>&nbsp;<span class="ident" id="3368353"><a href="/gostd/net/sockopt_posix.go.html#3368269">ift</a></span>&nbsp;<span class="op" id="3368357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3368361">ifat</span><span class="op" id="3368365">,</span>&nbsp;<span class="ident" id="3368367">err</span>&nbsp;<span class="op" id="3368371">:=</span>&nbsp;<span class="ident" id="3368374"><a href="/gostd/net/sockopt_posix.go.html#3368340">ifi</a></span><span class="op" id="3368377">.</span><span class="ident" id="3368378"><a href="/gostd/net/interface.go.html#3276614">Addrs</a></span><span class="op" id="3368383">(</span><span class="op" id="3368384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368388">if</span>&nbsp;<span class="ident" id="3368391"><a href="/gostd/net/sockopt_posix.go.html#3368367">err</a></span>&nbsp;<span class="op" id="3368395">!=</span>&nbsp;<span class="builtintype" id="3368398">nil</span>&nbsp;<span class="op" id="3368402">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368407">return</span>&nbsp;<span class="builtintype" id="3368414">nil</span><span class="op" id="3368417">,</span>&nbsp;<span class="ident" id="3368419"><a href="/gostd/net/sockopt_posix.go.html#3368367">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368429">for</span>&nbsp;<span class="ident" id="3368433">_</span><span class="op" id="3368434">,</span>&nbsp;<span class="ident" id="3368436">ifa</span>&nbsp;<span class="op" id="3368440">:=</span>&nbsp;<span class="keyword" id="3368443">range</span>&nbsp;<span class="ident" id="3368449"><a href="/gostd/net/sockopt_posix.go.html#3368361">ifat</a></span>&nbsp;<span class="op" id="3368454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368459">switch</span>&nbsp;<span class="ident" id="3368466">v</span>&nbsp;<span class="op" id="3368468">:=</span>&nbsp;<span class="ident" id="3368471"><a href="/gostd/net/sockopt_posix.go.html#3368436">ifa</a></span><span class="op" id="3368474">.</span><span class="op" id="3368475">(</span><span class="keyword" id="3368476">type</span><span class="op" id="3368480">)</span>&nbsp;<span class="op" id="3368482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368487">case</span>&nbsp;<span class="op" id="3368492">*</span><span class="ident" id="3368493"><a href="/gostd/net/iprawsock.go.html#3301118">IPAddr</a></span><span class="op" id="3368499">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368505">if</span>&nbsp;<span class="ident" id="3368508"><a href="/gostd/net/sockopt_posix.go.html#3368239">ip</a></span><span class="op" id="3368510">.</span><span class="ident" id="3368511"><a href="/gostd/net/ip.go.html#3293893">Equal</a></span><span class="op" id="3368516">(</span><span class="ident" id="3368517"><a href="/gostd/net/sockopt_posix.go.html#3368466">v</a></span><span class="op" id="3368518">.</span><span class="ident" id="3368519"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="3368521">)</span>&nbsp;<span class="op" id="3368523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368530">return</span>&nbsp;<span class="op" id="3368537">&amp;</span><span class="ident" id="3368538"><a href="/gostd/net/sockopt_posix.go.html#3368340">ifi</a></span><span class="op" id="3368541">,</span>&nbsp;<span class="builtintype" id="3368543">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368556">case</span>&nbsp;<span class="op" id="3368561">*</span><span class="ident" id="3368562"><a href="/gostd/net/ip.go.html#3286377">IPNet</a></span><span class="op" id="3368567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368573">if</span>&nbsp;<span class="ident" id="3368576"><a href="/gostd/net/sockopt_posix.go.html#3368239">ip</a></span><span class="op" id="3368578">.</span><span class="ident" id="3368579"><a href="/gostd/net/ip.go.html#3293893">Equal</a></span><span class="op" id="3368584">(</span><span class="ident" id="3368585"><a href="/gostd/net/sockopt_posix.go.html#3368466">v</a></span><span class="op" id="3368586">.</span><span class="ident" id="3368587"><a href="/gostd/net/ip.go.html#3286393">IP</a></span><span class="op" id="3368589">)</span>&nbsp;<span class="op" id="3368591">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368598">return</span>&nbsp;<span class="op" id="3368605">&amp;</span><span class="ident" id="3368606"><a href="/gostd/net/sockopt_posix.go.html#3368340">ifi</a></span><span class="op" id="3368609">,</span>&nbsp;<span class="builtintype" id="3368611">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368631">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368634">if</span>&nbsp;<span class="ident" id="3368637"><a href="/gostd/net/sockopt_posix.go.html#3368239">ip</a></span><span class="op" id="3368639">.</span><span class="ident" id="3368640"><a href="/gostd/net/ip.go.html#3293893">Equal</a></span><span class="op" id="3368645">(</span><span class="ident" id="3368646"><a href="/gostd/net/ip.go.html#3287657">IPv4zero</a></span><span class="op" id="3368654">)</span>&nbsp;<span class="op" id="3368656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368660">return</span>&nbsp;<span class="builtintype" id="3368667">nil</span><span class="op" id="3368670">,</span>&nbsp;<span class="builtintype" id="3368672">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368680">return</span>&nbsp;<span class="builtintype" id="3368687">nil</span><span class="op" id="3368690">,</span>&nbsp;<span class="ident" id="3368692"><a href="/gostd/net/interface.go.html#3275164">errNoSuchInterface</a></span><br>
<span class="lineno"></span><span class="op" id="3368711">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="3368714">func</span>&nbsp;<span class="ident" id="3368719">interfaceToIPv4Addr</span><span class="op" id="3368738">(</span><span class="ident" id="3368739">ifi</span>&nbsp;<span class="op" id="3368743">*</span><span class="ident" id="3368744"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3368753">)</span>&nbsp;<span class="op" id="3368755">(</span><span class="ident" id="3368756"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3368758">,</span>&nbsp;<span class="builtintype" id="3368760">error</span><span class="op" id="3368765">)</span>&nbsp;<span class="op" id="3368767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368770">if</span>&nbsp;<span class="ident" id="3368773"><a href="/gostd/net/sockopt_posix.go.html#3368739">ifi</a></span>&nbsp;<span class="op" id="3368777">==</span>&nbsp;<span class="builtintype" id="3368780">nil</span>&nbsp;<span class="op" id="3368784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368788">return</span>&nbsp;<span class="ident" id="3368795"><a href="/gostd/net/ip.go.html#3287657">IPv4zero</a></span><span class="op" id="3368803">,</span>&nbsp;<span class="builtintype" id="3368805">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368810">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3368813">ifat</span><span class="op" id="3368817">,</span>&nbsp;<span class="ident" id="3368819">err</span>&nbsp;<span class="op" id="3368823">:=</span>&nbsp;<span class="ident" id="3368826"><a href="/gostd/net/sockopt_posix.go.html#3368739">ifi</a></span><span class="op" id="3368829">.</span><span class="ident" id="3368830"><a href="/gostd/net/interface.go.html#3276614">Addrs</a></span><span class="op" id="3368835">(</span><span class="op" id="3368836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368839">if</span>&nbsp;<span class="ident" id="3368842"><a href="/gostd/net/sockopt_posix.go.html#3368819">err</a></span>&nbsp;<span class="op" id="3368846">!=</span>&nbsp;<span class="builtintype" id="3368849">nil</span>&nbsp;<span class="op" id="3368853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368857">return</span>&nbsp;<span class="builtintype" id="3368864">nil</span><span class="op" id="3368867">,</span>&nbsp;<span class="ident" id="3368869"><a href="/gostd/net/sockopt_posix.go.html#3368819">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368877">for</span>&nbsp;<span class="ident" id="3368881">_</span><span class="op" id="3368882">,</span>&nbsp;<span class="ident" id="3368884">ifa</span>&nbsp;<span class="op" id="3368888">:=</span>&nbsp;<span class="keyword" id="3368891">range</span>&nbsp;<span class="ident" id="3368897"><a href="/gostd/net/sockopt_posix.go.html#3368813">ifat</a></span>&nbsp;<span class="op" id="3368902">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368906">switch</span>&nbsp;<span class="ident" id="3368913">v</span>&nbsp;<span class="op" id="3368915">:=</span>&nbsp;<span class="ident" id="3368918"><a href="/gostd/net/sockopt_posix.go.html#3368884">ifa</a></span><span class="op" id="3368921">.</span><span class="op" id="3368922">(</span><span class="keyword" id="3368923">type</span><span class="op" id="3368927">)</span>&nbsp;<span class="op" id="3368929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368933">case</span>&nbsp;<span class="op" id="3368938">*</span><span class="ident" id="3368939"><a href="/gostd/net/iprawsock.go.html#3301118">IPAddr</a></span><span class="op" id="3368945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368950">if</span>&nbsp;<span class="ident" id="3368953"><a href="/gostd/net/sockopt_posix.go.html#3368913">v</a></span><span class="op" id="3368954">.</span><span class="ident" id="3368955"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="3368957">.</span><span class="ident" id="3368958"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3368961">(</span><span class="op" id="3368962">)</span>&nbsp;<span class="op" id="3368964">!=</span>&nbsp;<span class="builtintype" id="3368967">nil</span>&nbsp;<span class="op" id="3368971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3368977">return</span>&nbsp;<span class="ident" id="3368984"><a href="/gostd/net/sockopt_posix.go.html#3368913">v</a></span><span class="op" id="3368985">.</span><span class="ident" id="3368986"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="3368988">,</span>&nbsp;<span class="builtintype" id="3368990">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3368997">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369001">case</span>&nbsp;<span class="op" id="3369006">*</span><span class="ident" id="3369007"><a href="/gostd/net/ip.go.html#3286377">IPNet</a></span><span class="op" id="3369012">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369017">if</span>&nbsp;<span class="ident" id="3369020"><a href="/gostd/net/sockopt_posix.go.html#3368913">v</a></span><span class="op" id="3369021">.</span><span class="ident" id="3369022"><a href="/gostd/net/ip.go.html#3286393">IP</a></span><span class="op" id="3369024">.</span><span class="ident" id="3369025"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3369028">(</span><span class="op" id="3369029">)</span>&nbsp;<span class="op" id="3369031">!=</span>&nbsp;<span class="builtintype" id="3369034">nil</span>&nbsp;<span class="op" id="3369038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369044">return</span>&nbsp;<span class="ident" id="3369051"><a href="/gostd/net/sockopt_posix.go.html#3368913">v</a></span><span class="op" id="3369052">.</span><span class="ident" id="3369053"><a href="/gostd/net/ip.go.html#3286393">IP</a></span><span class="op" id="3369055">,</span>&nbsp;<span class="builtintype" id="3369057">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369068">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369074">return</span>&nbsp;<span class="builtintype" id="3369081">nil</span><span class="op" id="3369084">,</span>&nbsp;<span class="ident" id="3369086"><a href="/gostd/net/interface.go.html#3275164">errNoSuchInterface</a></span><br>
<span class="lineno"></span><span class="op" id="3369105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3369108">func</span>&nbsp;<span class="ident" id="3369113">setIPv4MreqToInterface</span><span class="op" id="3369135">(</span><span class="ident" id="3369136">mreq</span>&nbsp;<span class="op" id="3369141">*</span><span class="ident" id="3369142"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3369149">.</span><span class="ident" id="3369150"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669197">IPMreq</a></span><span class="op" id="3369156">,</span>&nbsp;<span class="ident" id="3369158">ifi</span>&nbsp;<span class="op" id="3369162">*</span><span class="ident" id="3369163"><a href="/gostd/net/interface.go.html#3275465">Interface</a></span><span class="op" id="3369172">)</span>&nbsp;<span class="builtintype" id="3369174">error</span>&nbsp;<span class="op" id="3369180">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369183">if</span>&nbsp;<span class="ident" id="3369186"><a href="/gostd/net/sockopt_posix.go.html#3369158">ifi</a></span>&nbsp;<span class="op" id="3369190">==</span>&nbsp;<span class="builtintype" id="3369193">nil</span>&nbsp;<span class="op" id="3369197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369201">return</span>&nbsp;<span class="builtintype" id="3369208">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3369216">ifat</span><span class="op" id="3369220">,</span>&nbsp;<span class="ident" id="3369222">err</span>&nbsp;<span class="op" id="3369226">:=</span>&nbsp;<span class="ident" id="3369229"><a href="/gostd/net/sockopt_posix.go.html#3369158">ifi</a></span><span class="op" id="3369232">.</span><span class="ident" id="3369233"><a href="/gostd/net/interface.go.html#3276614">Addrs</a></span><span class="op" id="3369238">(</span><span class="op" id="3369239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369242">if</span>&nbsp;<span class="ident" id="3369245"><a href="/gostd/net/sockopt_posix.go.html#3369222">err</a></span>&nbsp;<span class="op" id="3369249">!=</span>&nbsp;<span class="builtintype" id="3369252">nil</span>&nbsp;<span class="op" id="3369256">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369260">return</span>&nbsp;<span class="ident" id="3369267"><a href="/gostd/net/sockopt_posix.go.html#3369222">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369275">for</span>&nbsp;<span class="ident" id="3369279">_</span><span class="op" id="3369280">,</span>&nbsp;<span class="ident" id="3369282">ifa</span>&nbsp;<span class="op" id="3369286">:=</span>&nbsp;<span class="keyword" id="3369289">range</span>&nbsp;<span class="ident" id="3369295"><a href="/gostd/net/sockopt_posix.go.html#3369216">ifat</a></span>&nbsp;<span class="op" id="3369300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369304">switch</span>&nbsp;<span class="ident" id="3369311">v</span>&nbsp;<span class="op" id="3369313">:=</span>&nbsp;<span class="ident" id="3369316"><a href="/gostd/net/sockopt_posix.go.html#3369282">ifa</a></span><span class="op" id="3369319">.</span><span class="op" id="3369320">(</span><span class="keyword" id="3369321">type</span><span class="op" id="3369325">)</span>&nbsp;<span class="op" id="3369327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369331">case</span>&nbsp;<span class="op" id="3369336">*</span><span class="ident" id="3369337"><a href="/gostd/net/iprawsock.go.html#3301118">IPAddr</a></span><span class="op" id="3369343">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369348">if</span>&nbsp;<span class="ident" id="3369351">a</span>&nbsp;<span class="op" id="3369353">:=</span>&nbsp;<span class="ident" id="3369356"><a href="/gostd/net/sockopt_posix.go.html#3369311">v</a></span><span class="op" id="3369357">.</span><span class="ident" id="3369358"><a href="/gostd/net/iprawsock.go.html#3301135">IP</a></span><span class="op" id="3369360">.</span><span class="ident" id="3369361"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3369364">(</span><span class="op" id="3369365">)</span><span class="op" id="3369366">;</span>&nbsp;<span class="ident" id="3369368"><a href="/gostd/net/sockopt_posix.go.html#3369351">a</a></span>&nbsp;<span class="op" id="3369370">!=</span>&nbsp;<span class="builtintype" id="3369373">nil</span>&nbsp;<span class="op" id="3369377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3369383">copy</span><span class="op" id="3369387">(</span><span class="ident" id="3369388"><a href="/gostd/net/sockopt_posix.go.html#3369136">mreq</a></span><span class="op" id="3369392">.</span><span class="ident" id="3369393"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669247">Interface</a></span><span class="op" id="3369402">[</span><span class="op" id="3369403">:</span><span class="op" id="3369404">]</span><span class="op" id="3369405">,</span>&nbsp;<span class="ident" id="3369407"><a href="/gostd/net/sockopt_posix.go.html#3369351">a</a></span><span class="op" id="3369408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369414">goto</span>&nbsp;<span class="ident" id="3369419"><a href="/gostd/net/sockopt_posix.go.html#3369535">done</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369431">case</span>&nbsp;<span class="op" id="3369436">*</span><span class="ident" id="3369437"><a href="/gostd/net/ip.go.html#3286377">IPNet</a></span><span class="op" id="3369442">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369447">if</span>&nbsp;<span class="ident" id="3369450">a</span>&nbsp;<span class="op" id="3369452">:=</span>&nbsp;<span class="ident" id="3369455"><a href="/gostd/net/sockopt_posix.go.html#3369311">v</a></span><span class="op" id="3369456">.</span><span class="ident" id="3369457"><a href="/gostd/net/ip.go.html#3286393">IP</a></span><span class="op" id="3369459">.</span><span class="ident" id="3369460"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3369463">(</span><span class="op" id="3369464">)</span><span class="op" id="3369465">;</span>&nbsp;<span class="ident" id="3369467"><a href="/gostd/net/sockopt_posix.go.html#3369450">a</a></span>&nbsp;<span class="op" id="3369469">!=</span>&nbsp;<span class="builtintype" id="3369472">nil</span>&nbsp;<span class="op" id="3369476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3369482">copy</span><span class="op" id="3369486">(</span><span class="ident" id="3369487"><a href="/gostd/net/sockopt_posix.go.html#3369136">mreq</a></span><span class="op" id="3369491">.</span><span class="ident" id="3369492"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669247">Interface</a></span><span class="op" id="3369501">[</span><span class="op" id="3369502">:</span><span class="op" id="3369503">]</span><span class="op" id="3369504">,</span>&nbsp;<span class="ident" id="3369506"><a href="/gostd/net/sockopt_posix.go.html#3369450">a</a></span><span class="op" id="3369507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369513">goto</span>&nbsp;<span class="ident" id="3369518"><a href="/gostd/net/sockopt_posix.go.html#3369535">done</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369530">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369533">}</span><br>
<span class="lineno"></span><span class="ident" id="3369535">done</span><span class="op" id="3369539">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369542">if</span>&nbsp;<span class="ident" id="3369545"><a href="/gostd/net/ip.go.html#3294225">bytesEqual</a></span><span class="op" id="3369555">(</span><span class="ident" id="3369556"><a href="/gostd/net/sockopt_posix.go.html#3369136">mreq</a></span><span class="op" id="3369560">.</span><span class="ident" id="3369561"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669214">Multiaddr</a></span><span class="op" id="3369570">[</span><span class="op" id="3369571">:</span><span class="op" id="3369572">]</span><span class="op" id="3369573">,</span>&nbsp;<span class="ident" id="3369575"><a href="/gostd/net/ip.go.html#3287657">IPv4zero</a></span><span class="op" id="3369583">.</span><span class="ident" id="3369584"><a href="/gostd/net/ip.go.html#3290039">To4</a></span><span class="op" id="3369587">(</span><span class="op" id="3369588">)</span><span class="op" id="3369589">)</span>&nbsp;<span class="op" id="3369591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369595">return</span>&nbsp;<span class="ident" id="3369602"><a href="/gostd/net/interface.go.html#3275235">errNoSuchMulticastInterface</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369631">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369634">return</span>&nbsp;<span class="builtintype" id="3369641">nil</span><br>
<span class="lineno"></span><span class="op" id="3369645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3369648">func</span>&nbsp;<span class="ident" id="3369653">setReadBuffer</span><span class="op" id="3369666">(</span><span class="ident" id="3369667">fd</span>&nbsp;<span class="op" id="3369670">*</span><span class="ident" id="3369671"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3369676">,</span>&nbsp;<span class="ident" id="3369678">bytes</span>&nbsp;<span class="builtintype" id="3369684">int</span><span class="op" id="3369687">)</span>&nbsp;<span class="builtintype" id="3369689">error</span>&nbsp;<span class="op" id="3369695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369698">if</span>&nbsp;<span class="ident" id="3369701">err</span>&nbsp;<span class="op" id="3369705">:=</span>&nbsp;<span class="ident" id="3369708"><a href="/gostd/net/sockopt_posix.go.html#3369667">fd</a></span><span class="op" id="3369710">.</span><span class="ident" id="3369711"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3369717">(</span><span class="op" id="3369718">)</span><span class="op" id="3369719">;</span>&nbsp;<span class="ident" id="3369721"><a href="/gostd/net/sockopt_posix.go.html#3369701">err</a></span>&nbsp;<span class="op" id="3369725">!=</span>&nbsp;<span class="builtintype" id="3369728">nil</span>&nbsp;<span class="op" id="3369732">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369736">return</span>&nbsp;<span class="ident" id="3369743"><a href="/gostd/net/sockopt_posix.go.html#3369701">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369751">defer</span>&nbsp;<span class="ident" id="3369757"><a href="/gostd/net/sockopt_posix.go.html#3369667">fd</a></span><span class="op" id="3369759">.</span><span class="ident" id="3369760"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3369766">(</span><span class="op" id="3369767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369770">return</span>&nbsp;<span class="ident" id="3369777"><a href="/gostd/net/sockopt_posix.go.html#3368114">os</a></span><span class="op" id="3369779">.</span><span class="ident" id="3369780"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3369795">(</span><span class="string" id="3369796">&#34;setsockopt&#34;</span><span class="op" id="3369808">,</span>&nbsp;<span class="ident" id="3369810"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3369817">.</span><span class="ident" id="3369818"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3369831">(</span><span class="ident" id="3369832"><a href="/gostd/net/sockopt_posix.go.html#3369667">fd</a></span><span class="op" id="3369834">.</span><span class="ident" id="3369835"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3369840">,</span>&nbsp;<span class="ident" id="3369842"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3369849">.</span><span class="ident" id="3369850"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3369860">,</span>&nbsp;<span class="ident" id="3369862"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3369869">.</span><span class="ident" id="3369870"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2593498">SO_RCVBUF</a></span><span class="op" id="3369879">,</span>&nbsp;<span class="ident" id="3369881"><a href="/gostd/net/sockopt_posix.go.html#3369678">bytes</a></span><span class="op" id="3369886">)</span><span class="op" id="3369887">)</span><br>
<span class="lineno"></span><span class="op" id="3369889">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="3369892">func</span>&nbsp;<span class="ident" id="3369897">setWriteBuffer</span><span class="op" id="3369911">(</span><span class="ident" id="3369912">fd</span>&nbsp;<span class="op" id="3369915">*</span><span class="ident" id="3369916"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3369921">,</span>&nbsp;<span class="ident" id="3369923">bytes</span>&nbsp;<span class="builtintype" id="3369929">int</span><span class="op" id="3369932">)</span>&nbsp;<span class="builtintype" id="3369934">error</span>&nbsp;<span class="op" id="3369940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369943">if</span>&nbsp;<span class="ident" id="3369946">err</span>&nbsp;<span class="op" id="3369950">:=</span>&nbsp;<span class="ident" id="3369953"><a href="/gostd/net/sockopt_posix.go.html#3369912">fd</a></span><span class="op" id="3369955">.</span><span class="ident" id="3369956"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3369962">(</span><span class="op" id="3369963">)</span><span class="op" id="3369964">;</span>&nbsp;<span class="ident" id="3369966"><a href="/gostd/net/sockopt_posix.go.html#3369946">err</a></span>&nbsp;<span class="op" id="3369970">!=</span>&nbsp;<span class="builtintype" id="3369973">nil</span>&nbsp;<span class="op" id="3369977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369981">return</span>&nbsp;<span class="ident" id="3369988"><a href="/gostd/net/sockopt_posix.go.html#3369946">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3369993">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3369996">defer</span>&nbsp;<span class="ident" id="3370002"><a href="/gostd/net/sockopt_posix.go.html#3369912">fd</a></span><span class="op" id="3370004">.</span><span class="ident" id="3370005"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3370011">(</span><span class="op" id="3370012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370015">return</span>&nbsp;<span class="ident" id="3370022"><a href="/gostd/net/sockopt_posix.go.html#3368114">os</a></span><span class="op" id="3370024">.</span><span class="ident" id="3370025"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3370040">(</span><span class="string" id="3370041">&#34;setsockopt&#34;</span><span class="op" id="3370053">,</span>&nbsp;<span class="ident" id="3370055"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370062">.</span><span class="ident" id="3370063"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3370076">(</span><span class="ident" id="3370077"><a href="/gostd/net/sockopt_posix.go.html#3369912">fd</a></span><span class="op" id="3370079">.</span><span class="ident" id="3370080"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3370085">,</span>&nbsp;<span class="ident" id="3370087"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370094">.</span><span class="ident" id="3370095"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3370105">,</span>&nbsp;<span class="ident" id="3370107"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370114">.</span><span class="ident" id="3370115"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2593865">SO_SNDBUF</a></span><span class="op" id="3370124">,</span>&nbsp;<span class="ident" id="3370126"><a href="/gostd/net/sockopt_posix.go.html#3369923">bytes</a></span><span class="op" id="3370131">)</span><span class="op" id="3370132">)</span><br>
<span class="lineno"></span><span class="op" id="3370134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3370137">func</span>&nbsp;<span class="ident" id="3370142">setKeepAlive</span><span class="op" id="3370154">(</span><span class="ident" id="3370155">fd</span>&nbsp;<span class="op" id="3370158">*</span><span class="ident" id="3370159"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3370164">,</span>&nbsp;<span class="ident" id="3370166">keepalive</span>&nbsp;<span class="builtintype" id="3370176">bool</span><span class="op" id="3370180">)</span>&nbsp;<span class="builtintype" id="3370182">error</span>&nbsp;<span class="op" id="3370188">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370191">if</span>&nbsp;<span class="ident" id="3370194">err</span>&nbsp;<span class="op" id="3370198">:=</span>&nbsp;<span class="ident" id="3370201"><a href="/gostd/net/sockopt_posix.go.html#3370155">fd</a></span><span class="op" id="3370203">.</span><span class="ident" id="3370204"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3370210">(</span><span class="op" id="3370211">)</span><span class="op" id="3370212">;</span>&nbsp;<span class="ident" id="3370214"><a href="/gostd/net/sockopt_posix.go.html#3370194">err</a></span>&nbsp;<span class="op" id="3370218">!=</span>&nbsp;<span class="builtintype" id="3370221">nil</span>&nbsp;<span class="op" id="3370225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370229">return</span>&nbsp;<span class="ident" id="3370236"><a href="/gostd/net/sockopt_posix.go.html#3370194">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3370241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370244">defer</span>&nbsp;<span class="ident" id="3370250"><a href="/gostd/net/sockopt_posix.go.html#3370155">fd</a></span><span class="op" id="3370252">.</span><span class="ident" id="3370253"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3370259">(</span><span class="op" id="3370260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370263">return</span>&nbsp;<span class="ident" id="3370270"><a href="/gostd/net/sockopt_posix.go.html#3368114">os</a></span><span class="op" id="3370272">.</span><span class="ident" id="3370273"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3370288">(</span><span class="string" id="3370289">&#34;setsockopt&#34;</span><span class="op" id="3370301">,</span>&nbsp;<span class="ident" id="3370303"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370310">.</span><span class="ident" id="3370311"><a href="/gostd/syscall/syscall_unix.go.html#2548721">SetsockoptInt</a></span><span class="op" id="3370324">(</span><span class="ident" id="3370325"><a href="/gostd/net/sockopt_posix.go.html#3370155">fd</a></span><span class="op" id="3370327">.</span><span class="ident" id="3370328"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3370333">,</span>&nbsp;<span class="ident" id="3370335"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370342">.</span><span class="ident" id="3370343"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3370353">,</span>&nbsp;<span class="ident" id="3370355"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370362">.</span><span class="ident" id="3370363"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2593011">SO_KEEPALIVE</a></span><span class="op" id="3370375">,</span>&nbsp;<span class="ident" id="3370377"><a href="/gostd/net/sockopt_posix.go.html#3368157">boolint</a></span><span class="op" id="3370384">(</span><span class="ident" id="3370385"><a href="/gostd/net/sockopt_posix.go.html#3370166">keepalive</a></span><span class="op" id="3370394">)</span><span class="op" id="3370395">)</span><span class="op" id="3370396">)</span><br>
<span class="lineno">125</span><span class="op" id="3370398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3370401">func</span>&nbsp;<span class="ident" id="3370406">setLinger</span><span class="op" id="3370415">(</span><span class="ident" id="3370416">fd</span>&nbsp;<span class="op" id="3370419">*</span><span class="ident" id="3370420"><a href="/gostd/net/fd_unix.go.html#3257361">netFD</a></span><span class="op" id="3370425">,</span>&nbsp;<span class="ident" id="3370427">sec</span>&nbsp;<span class="builtintype" id="3370431">int</span><span class="op" id="3370434">)</span>&nbsp;<span class="builtintype" id="3370436">error</span>&nbsp;<span class="op" id="3370442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370445">var</span>&nbsp;<span class="ident" id="3370449">l</span>&nbsp;<span class="ident" id="3370451"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370458">.</span><span class="ident" id="3370459"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669097">Linger</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370467">if</span>&nbsp;<span class="ident" id="3370470"><a href="/gostd/net/sockopt_posix.go.html#3370427">sec</a></span>&nbsp;<span class="op" id="3370474">&gt;=</span>&nbsp;<span class="num" id="3370477">0</span>&nbsp;<span class="op" id="3370479">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3370483"><a href="/gostd/net/sockopt_posix.go.html#3370449">l</a></span><span class="op" id="3370484">.</span><span class="ident" id="3370485"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669114">Onoff</a></span>&nbsp;<span class="op" id="3370491">=</span>&nbsp;<span class="num" id="3370493">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3370497"><a href="/gostd/net/sockopt_posix.go.html#3370449">l</a></span><span class="op" id="3370498">.</span><span class="ident" id="3370499"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669128">Linger</a></span>&nbsp;<span class="op" id="3370506">=</span>&nbsp;<span class="builtintype" id="3370508">int32</span><span class="op" id="3370513">(</span><span class="ident" id="3370514"><a href="/gostd/net/sockopt_posix.go.html#3370427">sec</a></span><span class="op" id="3370517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3370520">}</span>&nbsp;<span class="keyword" id="3370522">else</span>&nbsp;<span class="op" id="3370527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3370531"><a href="/gostd/net/sockopt_posix.go.html#3370449">l</a></span><span class="op" id="3370532">.</span><span class="ident" id="3370533"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669114">Onoff</a></span>&nbsp;<span class="op" id="3370539">=</span>&nbsp;<span class="num" id="3370541">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3370545"><a href="/gostd/net/sockopt_posix.go.html#3370449">l</a></span><span class="op" id="3370546">.</span><span class="ident" id="3370547"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669128">Linger</a></span>&nbsp;<span class="op" id="3370554">=</span>&nbsp;<span class="num" id="3370556">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3370559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370562">if</span>&nbsp;<span class="ident" id="3370565">err</span>&nbsp;<span class="op" id="3370569">:=</span>&nbsp;<span class="ident" id="3370572"><a href="/gostd/net/sockopt_posix.go.html#3370416">fd</a></span><span class="op" id="3370574">.</span><span class="ident" id="3370575"><a href="/gostd/net/fd_unix.go.html#3260507">incref</a></span><span class="op" id="3370581">(</span><span class="op" id="3370582">)</span><span class="op" id="3370583">;</span>&nbsp;<span class="ident" id="3370585"><a href="/gostd/net/sockopt_posix.go.html#3370565">err</a></span>&nbsp;<span class="op" id="3370589">!=</span>&nbsp;<span class="builtintype" id="3370592">nil</span>&nbsp;<span class="op" id="3370596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370600">return</span>&nbsp;<span class="ident" id="3370607"><a href="/gostd/net/sockopt_posix.go.html#3370565">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3370612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370615">defer</span>&nbsp;<span class="ident" id="3370621"><a href="/gostd/net/sockopt_posix.go.html#3370416">fd</a></span><span class="op" id="3370623">.</span><span class="ident" id="3370624"><a href="/gostd/net/fd_unix.go.html#3260714">decref</a></span><span class="op" id="3370630">(</span><span class="op" id="3370631">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3370634">return</span>&nbsp;<span class="ident" id="3370641"><a href="/gostd/net/sockopt_posix.go.html#3368114">os</a></span><span class="op" id="3370643">.</span><span class="ident" id="3370644"><a href="/gostd/os/error.go.html#2431472">NewSyscallError</a></span><span class="op" id="3370659">(</span><span class="string" id="3370660">&#34;setsockopt&#34;</span><span class="op" id="3370672">,</span>&nbsp;<span class="ident" id="3370674"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370681">.</span><span class="ident" id="3370682"><a href="/gostd/syscall/syscall_unix.go.html#2549464">SetsockoptLinger</a></span><span class="op" id="3370698">(</span><span class="ident" id="3370699"><a href="/gostd/net/sockopt_posix.go.html#3370416">fd</a></span><span class="op" id="3370701">.</span><span class="ident" id="3370702"><a href="/gostd/net/fd_unix.go.html#3257493">sysfd</a></span><span class="op" id="3370707">,</span>&nbsp;<span class="ident" id="3370709"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370716">.</span><span class="ident" id="3370717"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2592443">SOL_SOCKET</a></span><span class="op" id="3370727">,</span>&nbsp;<span class="ident" id="3370729"><a href="/gostd/net/sockopt_posix.go.html#3368120">syscall</a></span><span class="op" id="3370736">.</span><span class="ident" id="3370737"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2593051">SO_LINGER</a></span><span class="op" id="3370746">,</span>&nbsp;<span class="op" id="3370748">&amp;</span><span class="ident" id="3370749"><a href="/gostd/net/sockopt_posix.go.html#3370449">l</a></span><span class="op" id="3370750">)</span><span class="op" id="3370751">)</span><br>
<span class="lineno"></span><span class="op" id="3370753">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
