<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5568582">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5568637">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5568691">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5568742">//&nbsp;Package&nbsp;fnv&nbsp;implements&nbsp;FNV-1&nbsp;and&nbsp;FNV-1a,&nbsp;non-cryptographic&nbsp;hash&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="5568819">//&nbsp;created&nbsp;by&nbsp;Glenn&nbsp;Fowler,&nbsp;Landon&nbsp;Curt&nbsp;Noll,&nbsp;and&nbsp;Phong&nbsp;Vo.</span><br>
<span class="lineno"></span><span class="comment" id="5568879">//&nbsp;See</span><br>
<span class="lineno"></span><span class="comment" id="5568886">//&nbsp;http://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function.</span><br>
<span class="lineno"></span><span class="keyword" id="5568964">package</span>&nbsp;<span class="ident" id="5568972">fnv</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5568977">import</span>&nbsp;<span class="op" id="5568984">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5568987">&#34;hash&#34;</span><br>
<span class="lineno"></span><span class="op" id="5568994">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5568997">type</span>&nbsp;<span class="op" id="5569002">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569005">sum32</span>&nbsp;&nbsp;<span class="builtintype" id="5569012">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569020">sum32a</span>&nbsp;<span class="builtintype" id="5569027">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569035">sum64</span>&nbsp;&nbsp;<span class="ident" id="5569042">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569050">sum64a</span>&nbsp;<span class="ident" id="5569057">uint64</span><br>
<span class="lineno">20</span><span class="op" id="5569064">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5569067">const</span>&nbsp;<span class="op" id="5569073">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569076">offset32</span>&nbsp;<span class="op" id="5569085">=</span>&nbsp;<span class="num" id="5569087">2166136261</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569099">offset64</span>&nbsp;<span class="op" id="5569108">=</span>&nbsp;<span class="num" id="5569110">14695981039346656037</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569132">prime32</span>&nbsp;&nbsp;<span class="op" id="5569141">=</span>&nbsp;<span class="num" id="5569143">16777619</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5569153">prime64</span>&nbsp;&nbsp;<span class="op" id="5569162">=</span>&nbsp;<span class="num" id="5569164">1099511628211</span><br>
<span class="lineno"></span><span class="op" id="5569178">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5569181">//&nbsp;New32&nbsp;returns&nbsp;a&nbsp;new&nbsp;32-bit&nbsp;FNV-1&nbsp;hash.Hash.</span><br>
<span class="lineno">30</span><span class="keyword" id="5569228">func</span>&nbsp;<span class="ident" id="5569233">New32</span><span class="op" id="5569238">(</span><span class="op" id="5569239">)</span>&nbsp;<span class="ident" id="5569241">hash</span><span class="op" id="5569245">.</span><span class="ident" id="5569246">Hash32</span>&nbsp;<span class="op" id="5569253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569256">var</span>&nbsp;<span class="ident" id="5569260">s</span>&nbsp;<span class="ident" id="5569262">sum32</span>&nbsp;<span class="op" id="5569268">=</span>&nbsp;<span class="ident" id="5569270">offset32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569280">return</span>&nbsp;<span class="op" id="5569287">&amp;</span><span class="ident" id="5569288">s</span><br>
<span class="lineno"></span><span class="op" id="5569290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5569293">//&nbsp;New32a&nbsp;returns&nbsp;a&nbsp;new&nbsp;32-bit&nbsp;FNV-1a&nbsp;hash.Hash.</span><br>
<span class="lineno"></span><span class="keyword" id="5569342">func</span>&nbsp;<span class="ident" id="5569347">New32a</span><span class="op" id="5569353">(</span><span class="op" id="5569354">)</span>&nbsp;<span class="ident" id="5569356">hash</span><span class="op" id="5569360">.</span><span class="ident" id="5569361">Hash32</span>&nbsp;<span class="op" id="5569368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569371">var</span>&nbsp;<span class="ident" id="5569375">s</span>&nbsp;<span class="ident" id="5569377">sum32a</span>&nbsp;<span class="op" id="5569384">=</span>&nbsp;<span class="ident" id="5569386">offset32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569396">return</span>&nbsp;<span class="op" id="5569403">&amp;</span><span class="ident" id="5569404">s</span><br>
<span class="lineno"></span><span class="op" id="5569406">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="5569409">//&nbsp;New64&nbsp;returns&nbsp;a&nbsp;new&nbsp;64-bit&nbsp;FNV-1&nbsp;hash.Hash.</span><br>
<span class="lineno"></span><span class="keyword" id="5569456">func</span>&nbsp;<span class="ident" id="5569461">New64</span><span class="op" id="5569466">(</span><span class="op" id="5569467">)</span>&nbsp;<span class="ident" id="5569469">hash</span><span class="op" id="5569473">.</span><span class="ident" id="5569474">Hash64</span>&nbsp;<span class="op" id="5569481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569484">var</span>&nbsp;<span class="ident" id="5569488">s</span>&nbsp;<span class="ident" id="5569490">sum64</span>&nbsp;<span class="op" id="5569496">=</span>&nbsp;<span class="ident" id="5569498">offset64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569508">return</span>&nbsp;<span class="op" id="5569515">&amp;</span><span class="ident" id="5569516">s</span><br>
<span class="lineno">45</span><span class="op" id="5569518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5569521">//&nbsp;New64a&nbsp;returns&nbsp;a&nbsp;new&nbsp;64-bit&nbsp;FNV-1a&nbsp;hash.Hash.</span><br>
<span class="lineno"></span><span class="keyword" id="5569570">func</span>&nbsp;<span class="ident" id="5569575">New64a</span><span class="op" id="5569581">(</span><span class="op" id="5569582">)</span>&nbsp;<span class="ident" id="5569584">hash</span><span class="op" id="5569588">.</span><span class="ident" id="5569589">Hash64</span>&nbsp;<span class="op" id="5569596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569599">var</span>&nbsp;<span class="ident" id="5569603">s</span>&nbsp;<span class="ident" id="5569605">sum64a</span>&nbsp;<span class="op" id="5569612">=</span>&nbsp;<span class="ident" id="5569614">offset64</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5569624">return</span>&nbsp;<span class="op" id="5569631">&amp;</span><span class="ident" id="5569632">s</span><br>
<span class="lineno"></span><span class="op" id="5569634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5569637">func</span>&nbsp;<span class="op" id="5569642">(</span><span class="ident" id="5569643">s</span>&nbsp;<span class="op" id="5569645">*</span><span class="ident" id="5569646">sum32</span><span class="op" id="5569651">)</span>&nbsp;<span class="ident" id="5569653">Reset</span><span class="op" id="5569658">(</span><span class="op" id="5569659">)</span>&nbsp;&nbsp;<span class="op" id="5569662">{</span>&nbsp;<span class="op" id="5569664">*</span><span class="ident" id="5569665">s</span>&nbsp;<span class="op" id="5569667">=</span>&nbsp;<span class="ident" id="5569669">offset32</span>&nbsp;<span class="op" id="5569678">}</span><br>
<span class="lineno"></span><span class="keyword" id="5569680">func</span>&nbsp;<span class="op" id="5569685">(</span><span class="ident" id="5569686">s</span>&nbsp;<span class="op" id="5569688">*</span><span class="ident" id="5569689">sum32a</span><span class="op" id="5569695">)</span>&nbsp;<span class="ident" id="5569697">Reset</span><span class="op" id="5569702">(</span><span class="op" id="5569703">)</span>&nbsp;<span class="op" id="5569705">{</span>&nbsp;<span class="op" id="5569707">*</span><span class="ident" id="5569708">s</span>&nbsp;<span class="op" id="5569710">=</span>&nbsp;<span class="ident" id="5569712">offset32</span>&nbsp;<span class="op" id="5569721">}</span><br>
<span class="lineno">55</span><span class="keyword" id="5569723">func</span>&nbsp;<span class="op" id="5569728">(</span><span class="ident" id="5569729">s</span>&nbsp;<span class="op" id="5569731">*</span><span class="ident" id="5569732">sum64</span><span class="op" id="5569737">)</span>&nbsp;<span class="ident" id="5569739">Reset</span><span class="op" id="5569744">(</span><span class="op" id="5569745">)</span>&nbsp;&nbsp;<span class="op" id="5569748">{</span>&nbsp;<span class="op" id="5569750">*</span><span class="ident" id="5569751">s</span>&nbsp;<span class="op" id="5569753">=</span>&nbsp;<span class="ident" id="5569755">offset64</span>&nbsp;<span class="op" id="5569764">}</span><br>
<span class="lineno"></span><span class="keyword" id="5569766">func</span>&nbsp;<span class="op" id="5569771">(</span><span class="ident" id="5569772">s</span>&nbsp;<span class="op" id="5569774">*</span><span class="ident" id="5569775">sum64a</span><span class="op" id="5569781">)</span>&nbsp;<span class="ident" id="5569783">Reset</span><span class="op" id="5569788">(</span><span class="op" id="5569789">)</span>&nbsp;<span class="op" id="5569791">{</span>&nbsp;<span class="op" id="5569793">*</span><span class="ident" id="5569794">s</span>&nbsp;<span class="op" id="5569796">=</span>&nbsp;<span class="ident" id="5569798">offset64</span>&nbsp;<span class="op" id="5569807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5569810">func</span>&nbsp;<span class="op" id="5569815">(</span><span class="ident" id="5569816">s</span>&nbsp;<span class="op" id="5569818">*</span><span class="ident" id="5569819">sum32</span><span class="op" id="5569824">)</span>&nbsp;<span class="ident" id="5569826">Sum32</span><span class="op" id="5569831">(</span><span class="op" id="5569832">)</span>&nbsp;<span class="builtintype" id="5569834">uint32</span>&nbsp;&nbsp;<span class="op" id="5569842">{</span>&nbsp;<span class="keyword" id="5569844">return</span>&nbsp;<span class="builtintype" id="5569851">uint32</span><span class="op" id="5569857">(</span><span class="op" id="5569858">*</span><span class="ident" id="5569859">s</span><span class="op" id="5569860">)</span>&nbsp;<span class="op" id="5569862">}</span><br>
<span class="lineno"></span><span class="keyword" id="5569864">func</span>&nbsp;<span class="op" id="5569869">(</span><span class="ident" id="5569870">s</span>&nbsp;<span class="op" id="5569872">*</span><span class="ident" id="5569873">sum32a</span><span class="op" id="5569879">)</span>&nbsp;<span class="ident" id="5569881">Sum32</span><span class="op" id="5569886">(</span><span class="op" id="5569887">)</span>&nbsp;<span class="builtintype" id="5569889">uint32</span>&nbsp;<span class="op" id="5569896">{</span>&nbsp;<span class="keyword" id="5569898">return</span>&nbsp;<span class="builtintype" id="5569905">uint32</span><span class="op" id="5569911">(</span><span class="op" id="5569912">*</span><span class="ident" id="5569913">s</span><span class="op" id="5569914">)</span>&nbsp;<span class="op" id="5569916">}</span><br>
<span class="lineno">60</span><span class="keyword" id="5569918">func</span>&nbsp;<span class="op" id="5569923">(</span><span class="ident" id="5569924">s</span>&nbsp;<span class="op" id="5569926">*</span><span class="ident" id="5569927">sum64</span><span class="op" id="5569932">)</span>&nbsp;<span class="ident" id="5569934">Sum64</span><span class="op" id="5569939">(</span><span class="op" id="5569940">)</span>&nbsp;<span class="ident" id="5569942">uint64</span>&nbsp;&nbsp;<span class="op" id="5569950">{</span>&nbsp;<span class="keyword" id="5569952">return</span>&nbsp;<span class="ident" id="5569959">uint64</span><span class="op" id="5569965">(</span><span class="op" id="5569966">*</span><span class="ident" id="5569967">s</span><span class="op" id="5569968">)</span>&nbsp;<span class="op" id="5569970">}</span><br>
<span class="lineno"></span><span class="keyword" id="5569972">func</span>&nbsp;<span class="op" id="5569977">(</span><span class="ident" id="5569978">s</span>&nbsp;<span class="op" id="5569980">*</span><span class="ident" id="5569981">sum64a</span><span class="op" id="5569987">)</span>&nbsp;<span class="ident" id="5569989">Sum64</span><span class="op" id="5569994">(</span><span class="op" id="5569995">)</span>&nbsp;<span class="ident" id="5569997">uint64</span>&nbsp;<span class="op" id="5570004">{</span>&nbsp;<span class="keyword" id="5570006">return</span>&nbsp;<span class="ident" id="5570013">uint64</span><span class="op" id="5570019">(</span><span class="op" id="5570020">*</span><span class="ident" id="5570021">s</span><span class="op" id="5570022">)</span>&nbsp;<span class="op" id="5570024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5570027">func</span>&nbsp;<span class="op" id="5570032">(</span><span class="ident" id="5570033">s</span>&nbsp;<span class="op" id="5570035">*</span><span class="ident" id="5570036">sum32</span><span class="op" id="5570041">)</span>&nbsp;<span class="ident" id="5570043">Write</span><span class="op" id="5570048">(</span><span class="ident" id="5570049">data</span>&nbsp;<span class="op" id="5570054">[</span><span class="op" id="5570055">]</span><span class="builtintype" id="5570056">byte</span><span class="op" id="5570060">)</span>&nbsp;<span class="op" id="5570062">(</span><span class="builtintype" id="5570063">int</span><span class="op" id="5570066">,</span>&nbsp;<span class="builtintype" id="5570068">error</span><span class="op" id="5570073">)</span>&nbsp;<span class="op" id="5570075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570078">hash</span>&nbsp;<span class="op" id="5570083">:=</span>&nbsp;<span class="op" id="5570086">*</span><span class="ident" id="5570087">s</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570090">for</span>&nbsp;<span class="ident" id="5570094">_</span><span class="op" id="5570095">,</span>&nbsp;<span class="ident" id="5570097">c</span>&nbsp;<span class="op" id="5570099">:=</span>&nbsp;<span class="keyword" id="5570102">range</span>&nbsp;<span class="ident" id="5570108">data</span>&nbsp;<span class="op" id="5570113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570117">hash</span>&nbsp;<span class="op" id="5570122">*=</span>&nbsp;<span class="ident" id="5570125">prime32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570135">hash</span>&nbsp;<span class="op" id="5570140">^=</span>&nbsp;<span class="ident" id="5570143">sum32</span><span class="op" id="5570148">(</span><span class="ident" id="5570149">c</span><span class="op" id="5570150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570156">*</span><span class="ident" id="5570157">s</span>&nbsp;<span class="op" id="5570159">=</span>&nbsp;<span class="ident" id="5570161">hash</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570167">return</span>&nbsp;<span class="builtinfunc" id="5570174">len</span><span class="op" id="5570177">(</span><span class="ident" id="5570178">data</span><span class="op" id="5570182">)</span><span class="op" id="5570183">,</span>&nbsp;<span class="ident" id="5570185">nil</span><br>
<span class="lineno"></span><span class="op" id="5570189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5570192">func</span>&nbsp;<span class="op" id="5570197">(</span><span class="ident" id="5570198">s</span>&nbsp;<span class="op" id="5570200">*</span><span class="ident" id="5570201">sum32a</span><span class="op" id="5570207">)</span>&nbsp;<span class="ident" id="5570209">Write</span><span class="op" id="5570214">(</span><span class="ident" id="5570215">data</span>&nbsp;<span class="op" id="5570220">[</span><span class="op" id="5570221">]</span><span class="builtintype" id="5570222">byte</span><span class="op" id="5570226">)</span>&nbsp;<span class="op" id="5570228">(</span><span class="builtintype" id="5570229">int</span><span class="op" id="5570232">,</span>&nbsp;<span class="builtintype" id="5570234">error</span><span class="op" id="5570239">)</span>&nbsp;<span class="op" id="5570241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570244">hash</span>&nbsp;<span class="op" id="5570249">:=</span>&nbsp;<span class="op" id="5570252">*</span><span class="ident" id="5570253">s</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570256">for</span>&nbsp;<span class="ident" id="5570260">_</span><span class="op" id="5570261">,</span>&nbsp;<span class="ident" id="5570263">c</span>&nbsp;<span class="op" id="5570265">:=</span>&nbsp;<span class="keyword" id="5570268">range</span>&nbsp;<span class="ident" id="5570274">data</span>&nbsp;<span class="op" id="5570279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570283">hash</span>&nbsp;<span class="op" id="5570288">^=</span>&nbsp;<span class="ident" id="5570291">sum32a</span><span class="op" id="5570297">(</span><span class="ident" id="5570298">c</span><span class="op" id="5570299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570303">hash</span>&nbsp;<span class="op" id="5570308">*=</span>&nbsp;<span class="ident" id="5570311">prime32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570323">*</span><span class="ident" id="5570324">s</span>&nbsp;<span class="op" id="5570326">=</span>&nbsp;<span class="ident" id="5570328">hash</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570334">return</span>&nbsp;<span class="builtinfunc" id="5570341">len</span><span class="op" id="5570344">(</span><span class="ident" id="5570345">data</span><span class="op" id="5570349">)</span><span class="op" id="5570350">,</span>&nbsp;<span class="ident" id="5570352">nil</span><br>
<span class="lineno"></span><span class="op" id="5570356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5570359">func</span>&nbsp;<span class="op" id="5570364">(</span><span class="ident" id="5570365">s</span>&nbsp;<span class="op" id="5570367">*</span><span class="ident" id="5570368">sum64</span><span class="op" id="5570373">)</span>&nbsp;<span class="ident" id="5570375">Write</span><span class="op" id="5570380">(</span><span class="ident" id="5570381">data</span>&nbsp;<span class="op" id="5570386">[</span><span class="op" id="5570387">]</span><span class="builtintype" id="5570388">byte</span><span class="op" id="5570392">)</span>&nbsp;<span class="op" id="5570394">(</span><span class="builtintype" id="5570395">int</span><span class="op" id="5570398">,</span>&nbsp;<span class="builtintype" id="5570400">error</span><span class="op" id="5570405">)</span>&nbsp;<span class="op" id="5570407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570410">hash</span>&nbsp;<span class="op" id="5570415">:=</span>&nbsp;<span class="op" id="5570418">*</span><span class="ident" id="5570419">s</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570422">for</span>&nbsp;<span class="ident" id="5570426">_</span><span class="op" id="5570427">,</span>&nbsp;<span class="ident" id="5570429">c</span>&nbsp;<span class="op" id="5570431">:=</span>&nbsp;<span class="keyword" id="5570434">range</span>&nbsp;<span class="ident" id="5570440">data</span>&nbsp;<span class="op" id="5570445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570449">hash</span>&nbsp;<span class="op" id="5570454">*=</span>&nbsp;<span class="ident" id="5570457">prime64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570467">hash</span>&nbsp;<span class="op" id="5570472">^=</span>&nbsp;<span class="ident" id="5570475">sum64</span><span class="op" id="5570480">(</span><span class="ident" id="5570481">c</span><span class="op" id="5570482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570488">*</span><span class="ident" id="5570489">s</span>&nbsp;<span class="op" id="5570491">=</span>&nbsp;<span class="ident" id="5570493">hash</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570499">return</span>&nbsp;<span class="builtinfunc" id="5570506">len</span><span class="op" id="5570509">(</span><span class="ident" id="5570510">data</span><span class="op" id="5570514">)</span><span class="op" id="5570515">,</span>&nbsp;<span class="ident" id="5570517">nil</span><br>
<span class="lineno"></span><span class="op" id="5570521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5570524">func</span>&nbsp;<span class="op" id="5570529">(</span><span class="ident" id="5570530">s</span>&nbsp;<span class="op" id="5570532">*</span><span class="ident" id="5570533">sum64a</span><span class="op" id="5570539">)</span>&nbsp;<span class="ident" id="5570541">Write</span><span class="op" id="5570546">(</span><span class="ident" id="5570547">data</span>&nbsp;<span class="op" id="5570552">[</span><span class="op" id="5570553">]</span><span class="builtintype" id="5570554">byte</span><span class="op" id="5570558">)</span>&nbsp;<span class="op" id="5570560">(</span><span class="builtintype" id="5570561">int</span><span class="op" id="5570564">,</span>&nbsp;<span class="builtintype" id="5570566">error</span><span class="op" id="5570571">)</span>&nbsp;<span class="op" id="5570573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570576">hash</span>&nbsp;<span class="op" id="5570581">:=</span>&nbsp;<span class="op" id="5570584">*</span><span class="ident" id="5570585">s</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570588">for</span>&nbsp;<span class="ident" id="5570592">_</span><span class="op" id="5570593">,</span>&nbsp;<span class="ident" id="5570595">c</span>&nbsp;<span class="op" id="5570597">:=</span>&nbsp;<span class="keyword" id="5570600">range</span>&nbsp;<span class="ident" id="5570606">data</span>&nbsp;<span class="op" id="5570611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570615">hash</span>&nbsp;<span class="op" id="5570620">^=</span>&nbsp;<span class="ident" id="5570623">sum64a</span><span class="op" id="5570629">(</span><span class="ident" id="5570630">c</span><span class="op" id="5570631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5570635">hash</span>&nbsp;<span class="op" id="5570640">*=</span>&nbsp;<span class="ident" id="5570643">prime64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5570655">*</span><span class="ident" id="5570656">s</span>&nbsp;<span class="op" id="5570658">=</span>&nbsp;<span class="ident" id="5570660">hash</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5570666">return</span>&nbsp;<span class="builtinfunc" id="5570673">len</span><span class="op" id="5570676">(</span><span class="ident" id="5570677">data</span><span class="op" id="5570681">)</span><span class="op" id="5570682">,</span>&nbsp;<span class="ident" id="5570684">nil</span><br>
<span class="lineno"></span><span class="op" id="5570688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5570691">func</span>&nbsp;<span class="op" id="5570696">(</span><span class="ident" id="5570697">s</span>&nbsp;<span class="op" id="5570699">*</span><span class="ident" id="5570700">sum32</span><span class="op" id="5570705">)</span>&nbsp;<span class="ident" id="5570707">Size</span><span class="op" id="5570711">(</span><span class="op" id="5570712">)</span>&nbsp;<span class="builtintype" id="5570714">int</span>&nbsp;&nbsp;<span class="op" id="5570719">{</span>&nbsp;<span class="keyword" id="5570721">return</span>&nbsp;<span class="num" id="5570728">4</span>&nbsp;<span class="op" id="5570730">}</span><br>
<span class="lineno"></span><span class="keyword" id="5570732">func</span>&nbsp;<span class="op" id="5570737">(</span><span class="ident" id="5570738">s</span>&nbsp;<span class="op" id="5570740">*</span><span class="ident" id="5570741">sum32a</span><span class="op" id="5570747">)</span>&nbsp;<span class="ident" id="5570749">Size</span><span class="op" id="5570753">(</span><span class="op" id="5570754">)</span>&nbsp;<span class="builtintype" id="5570756">int</span>&nbsp;<span class="op" id="5570760">{</span>&nbsp;<span class="keyword" id="5570762">return</span>&nbsp;<span class="num" id="5570769">4</span>&nbsp;<span class="op" id="5570771">}</span><br>
<span class="lineno">105</span><span class="keyword" id="5570773">func</span>&nbsp;<span class="op" id="5570778">(</span><span class="ident" id="5570779">s</span>&nbsp;<span class="op" id="5570781">*</span><span class="ident" id="5570782">sum64</span><span class="op" id="5570787">)</span>&nbsp;<span class="ident" id="5570789">Size</span><span class="op" id="5570793">(</span><span class="op" id="5570794">)</span>&nbsp;<span class="builtintype" id="5570796">int</span>&nbsp;&nbsp;<span class="op" id="5570801">{</span>&nbsp;<span class="keyword" id="5570803">return</span>&nbsp;<span class="num" id="5570810">8</span>&nbsp;<span class="op" id="5570812">}</span><br>
<span class="lineno"></span><span class="keyword" id="5570814">func</span>&nbsp;<span class="op" id="5570819">(</span><span class="ident" id="5570820">s</span>&nbsp;<span class="op" id="5570822">*</span><span class="ident" id="5570823">sum64a</span><span class="op" id="5570829">)</span>&nbsp;<span class="ident" id="5570831">Size</span><span class="op" id="5570835">(</span><span class="op" id="5570836">)</span>&nbsp;<span class="builtintype" id="5570838">int</span>&nbsp;<span class="op" id="5570842">{</span>&nbsp;<span class="keyword" id="5570844">return</span>&nbsp;<span class="num" id="5570851">8</span>&nbsp;<span class="op" id="5570853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5570856">func</span>&nbsp;<span class="op" id="5570861">(</span><span class="ident" id="5570862">s</span>&nbsp;<span class="op" id="5570864">*</span><span class="ident" id="5570865">sum32</span><span class="op" id="5570870">)</span>&nbsp;<span class="ident" id="5570872">BlockSize</span><span class="op" id="5570881">(</span><span class="op" id="5570882">)</span>&nbsp;<span class="builtintype" id="5570884">int</span>&nbsp;&nbsp;<span class="op" id="5570889">{</span>&nbsp;<span class="keyword" id="5570891">return</span>&nbsp;<span class="num" id="5570898">1</span>&nbsp;<span class="op" id="5570900">}</span><br>
<span class="lineno"></span><span class="keyword" id="5570902">func</span>&nbsp;<span class="op" id="5570907">(</span><span class="ident" id="5570908">s</span>&nbsp;<span class="op" id="5570910">*</span><span class="ident" id="5570911">sum32a</span><span class="op" id="5570917">)</span>&nbsp;<span class="ident" id="5570919">BlockSize</span><span class="op" id="5570928">(</span><span class="op" id="5570929">)</span>&nbsp;<span class="builtintype" id="5570931">int</span>&nbsp;<span class="op" id="5570935">{</span>&nbsp;<span class="keyword" id="5570937">return</span>&nbsp;<span class="num" id="5570944">1</span>&nbsp;<span class="op" id="5570946">}</span><br>
<span class="lineno">110</span><span class="keyword" id="5570948">func</span>&nbsp;<span class="op" id="5570953">(</span><span class="ident" id="5570954">s</span>&nbsp;<span class="op" id="5570956">*</span><span class="ident" id="5570957">sum64</span><span class="op" id="5570962">)</span>&nbsp;<span class="ident" id="5570964">BlockSize</span><span class="op" id="5570973">(</span><span class="op" id="5570974">)</span>&nbsp;<span class="builtintype" id="5570976">int</span>&nbsp;&nbsp;<span class="op" id="5570981">{</span>&nbsp;<span class="keyword" id="5570983">return</span>&nbsp;<span class="num" id="5570990">1</span>&nbsp;<span class="op" id="5570992">}</span><br>
<span class="lineno"></span><span class="keyword" id="5570994">func</span>&nbsp;<span class="op" id="5570999">(</span><span class="ident" id="5571000">s</span>&nbsp;<span class="op" id="5571002">*</span><span class="ident" id="5571003">sum64a</span><span class="op" id="5571009">)</span>&nbsp;<span class="ident" id="5571011">BlockSize</span><span class="op" id="5571020">(</span><span class="op" id="5571021">)</span>&nbsp;<span class="builtintype" id="5571023">int</span>&nbsp;<span class="op" id="5571027">{</span>&nbsp;<span class="keyword" id="5571029">return</span>&nbsp;<span class="num" id="5571036">1</span>&nbsp;<span class="op" id="5571038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5571041">func</span>&nbsp;<span class="op" id="5571046">(</span><span class="ident" id="5571047">s</span>&nbsp;<span class="op" id="5571049">*</span><span class="ident" id="5571050">sum32</span><span class="op" id="5571055">)</span>&nbsp;<span class="ident" id="5571057">Sum</span><span class="op" id="5571060">(</span><span class="ident" id="5571061">in</span>&nbsp;<span class="op" id="5571064">[</span><span class="op" id="5571065">]</span><span class="builtintype" id="5571066">byte</span><span class="op" id="5571070">)</span>&nbsp;<span class="op" id="5571072">[</span><span class="op" id="5571073">]</span><span class="builtintype" id="5571074">byte</span>&nbsp;<span class="op" id="5571079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571082">v</span>&nbsp;<span class="op" id="5571084">:=</span>&nbsp;<span class="builtintype" id="5571087">uint32</span><span class="op" id="5571093">(</span><span class="op" id="5571094">*</span><span class="ident" id="5571095">s</span><span class="op" id="5571096">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571099">return</span>&nbsp;<span class="builtinfunc" id="5571106">append</span><span class="op" id="5571112">(</span><span class="ident" id="5571113">in</span><span class="op" id="5571115">,</span>&nbsp;<span class="builtintype" id="5571117">byte</span><span class="op" id="5571121">(</span><span class="ident" id="5571122">v</span><span class="op" id="5571123">&gt;&gt;</span><span class="num" id="5571125">24</span><span class="op" id="5571127">)</span><span class="op" id="5571128">,</span>&nbsp;<span class="builtintype" id="5571130">byte</span><span class="op" id="5571134">(</span><span class="ident" id="5571135">v</span><span class="op" id="5571136">&gt;&gt;</span><span class="num" id="5571138">16</span><span class="op" id="5571140">)</span><span class="op" id="5571141">,</span>&nbsp;<span class="builtintype" id="5571143">byte</span><span class="op" id="5571147">(</span><span class="ident" id="5571148">v</span><span class="op" id="5571149">&gt;&gt;</span><span class="num" id="5571151">8</span><span class="op" id="5571152">)</span><span class="op" id="5571153">,</span>&nbsp;<span class="builtintype" id="5571155">byte</span><span class="op" id="5571159">(</span><span class="ident" id="5571160">v</span><span class="op" id="5571161">)</span><span class="op" id="5571162">)</span><br>
<span class="lineno"></span><span class="op" id="5571164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5571167">func</span>&nbsp;<span class="op" id="5571172">(</span><span class="ident" id="5571173">s</span>&nbsp;<span class="op" id="5571175">*</span><span class="ident" id="5571176">sum32a</span><span class="op" id="5571182">)</span>&nbsp;<span class="ident" id="5571184">Sum</span><span class="op" id="5571187">(</span><span class="ident" id="5571188">in</span>&nbsp;<span class="op" id="5571191">[</span><span class="op" id="5571192">]</span><span class="builtintype" id="5571193">byte</span><span class="op" id="5571197">)</span>&nbsp;<span class="op" id="5571199">[</span><span class="op" id="5571200">]</span><span class="builtintype" id="5571201">byte</span>&nbsp;<span class="op" id="5571206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571209">v</span>&nbsp;<span class="op" id="5571211">:=</span>&nbsp;<span class="builtintype" id="5571214">uint32</span><span class="op" id="5571220">(</span><span class="op" id="5571221">*</span><span class="ident" id="5571222">s</span><span class="op" id="5571223">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571226">return</span>&nbsp;<span class="builtinfunc" id="5571233">append</span><span class="op" id="5571239">(</span><span class="ident" id="5571240">in</span><span class="op" id="5571242">,</span>&nbsp;<span class="builtintype" id="5571244">byte</span><span class="op" id="5571248">(</span><span class="ident" id="5571249">v</span><span class="op" id="5571250">&gt;&gt;</span><span class="num" id="5571252">24</span><span class="op" id="5571254">)</span><span class="op" id="5571255">,</span>&nbsp;<span class="builtintype" id="5571257">byte</span><span class="op" id="5571261">(</span><span class="ident" id="5571262">v</span><span class="op" id="5571263">&gt;&gt;</span><span class="num" id="5571265">16</span><span class="op" id="5571267">)</span><span class="op" id="5571268">,</span>&nbsp;<span class="builtintype" id="5571270">byte</span><span class="op" id="5571274">(</span><span class="ident" id="5571275">v</span><span class="op" id="5571276">&gt;&gt;</span><span class="num" id="5571278">8</span><span class="op" id="5571279">)</span><span class="op" id="5571280">,</span>&nbsp;<span class="builtintype" id="5571282">byte</span><span class="op" id="5571286">(</span><span class="ident" id="5571287">v</span><span class="op" id="5571288">)</span><span class="op" id="5571289">)</span><br>
<span class="lineno"></span><span class="op" id="5571291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5571294">func</span>&nbsp;<span class="op" id="5571299">(</span><span class="ident" id="5571300">s</span>&nbsp;<span class="op" id="5571302">*</span><span class="ident" id="5571303">sum64</span><span class="op" id="5571308">)</span>&nbsp;<span class="ident" id="5571310">Sum</span><span class="op" id="5571313">(</span><span class="ident" id="5571314">in</span>&nbsp;<span class="op" id="5571317">[</span><span class="op" id="5571318">]</span><span class="builtintype" id="5571319">byte</span><span class="op" id="5571323">)</span>&nbsp;<span class="op" id="5571325">[</span><span class="op" id="5571326">]</span><span class="builtintype" id="5571327">byte</span>&nbsp;<span class="op" id="5571332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571335">v</span>&nbsp;<span class="op" id="5571337">:=</span>&nbsp;<span class="ident" id="5571340">uint64</span><span class="op" id="5571346">(</span><span class="op" id="5571347">*</span><span class="ident" id="5571348">s</span><span class="op" id="5571349">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571352">return</span>&nbsp;<span class="builtinfunc" id="5571359">append</span><span class="op" id="5571365">(</span><span class="ident" id="5571366">in</span><span class="op" id="5571368">,</span>&nbsp;<span class="builtintype" id="5571370">byte</span><span class="op" id="5571374">(</span><span class="ident" id="5571375">v</span><span class="op" id="5571376">&gt;&gt;</span><span class="num" id="5571378">56</span><span class="op" id="5571380">)</span><span class="op" id="5571381">,</span>&nbsp;<span class="builtintype" id="5571383">byte</span><span class="op" id="5571387">(</span><span class="ident" id="5571388">v</span><span class="op" id="5571389">&gt;&gt;</span><span class="num" id="5571391">48</span><span class="op" id="5571393">)</span><span class="op" id="5571394">,</span>&nbsp;<span class="builtintype" id="5571396">byte</span><span class="op" id="5571400">(</span><span class="ident" id="5571401">v</span><span class="op" id="5571402">&gt;&gt;</span><span class="num" id="5571404">40</span><span class="op" id="5571406">)</span><span class="op" id="5571407">,</span>&nbsp;<span class="builtintype" id="5571409">byte</span><span class="op" id="5571413">(</span><span class="ident" id="5571414">v</span><span class="op" id="5571415">&gt;&gt;</span><span class="num" id="5571417">32</span><span class="op" id="5571419">)</span><span class="op" id="5571420">,</span>&nbsp;<span class="builtintype" id="5571422">byte</span><span class="op" id="5571426">(</span><span class="ident" id="5571427">v</span><span class="op" id="5571428">&gt;&gt;</span><span class="num" id="5571430">24</span><span class="op" id="5571432">)</span><span class="op" id="5571433">,</span>&nbsp;<span class="builtintype" id="5571435">byte</span><span class="op" id="5571439">(</span><span class="ident" id="5571440">v</span><span class="op" id="5571441">&gt;&gt;</span><span class="num" id="5571443">16</span><span class="op" id="5571445">)</span><span class="op" id="5571446">,</span>&nbsp;<span class="builtintype" id="5571448">byte</span><span class="op" id="5571452">(</span><span class="ident" id="5571453">v</span><span class="op" id="5571454">&gt;&gt;</span><span class="num" id="5571456">8</span><span class="op" id="5571457">)</span><span class="op" id="5571458">,</span>&nbsp;<span class="builtintype" id="5571460">byte</span><span class="op" id="5571464">(</span><span class="ident" id="5571465">v</span><span class="op" id="5571466">)</span><span class="op" id="5571467">)</span><br>
<span class="lineno"></span><span class="op" id="5571469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5571472">func</span>&nbsp;<span class="op" id="5571477">(</span><span class="ident" id="5571478">s</span>&nbsp;<span class="op" id="5571480">*</span><span class="ident" id="5571481">sum64a</span><span class="op" id="5571487">)</span>&nbsp;<span class="ident" id="5571489">Sum</span><span class="op" id="5571492">(</span><span class="ident" id="5571493">in</span>&nbsp;<span class="op" id="5571496">[</span><span class="op" id="5571497">]</span><span class="builtintype" id="5571498">byte</span><span class="op" id="5571502">)</span>&nbsp;<span class="op" id="5571504">[</span><span class="op" id="5571505">]</span><span class="builtintype" id="5571506">byte</span>&nbsp;<span class="op" id="5571511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5571514">v</span>&nbsp;<span class="op" id="5571516">:=</span>&nbsp;<span class="ident" id="5571519">uint64</span><span class="op" id="5571525">(</span><span class="op" id="5571526">*</span><span class="ident" id="5571527">s</span><span class="op" id="5571528">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5571531">return</span>&nbsp;<span class="builtinfunc" id="5571538">append</span><span class="op" id="5571544">(</span><span class="ident" id="5571545">in</span><span class="op" id="5571547">,</span>&nbsp;<span class="builtintype" id="5571549">byte</span><span class="op" id="5571553">(</span><span class="ident" id="5571554">v</span><span class="op" id="5571555">&gt;&gt;</span><span class="num" id="5571557">56</span><span class="op" id="5571559">)</span><span class="op" id="5571560">,</span>&nbsp;<span class="builtintype" id="5571562">byte</span><span class="op" id="5571566">(</span><span class="ident" id="5571567">v</span><span class="op" id="5571568">&gt;&gt;</span><span class="num" id="5571570">48</span><span class="op" id="5571572">)</span><span class="op" id="5571573">,</span>&nbsp;<span class="builtintype" id="5571575">byte</span><span class="op" id="5571579">(</span><span class="ident" id="5571580">v</span><span class="op" id="5571581">&gt;&gt;</span><span class="num" id="5571583">40</span><span class="op" id="5571585">)</span><span class="op" id="5571586">,</span>&nbsp;<span class="builtintype" id="5571588">byte</span><span class="op" id="5571592">(</span><span class="ident" id="5571593">v</span><span class="op" id="5571594">&gt;&gt;</span><span class="num" id="5571596">32</span><span class="op" id="5571598">)</span><span class="op" id="5571599">,</span>&nbsp;<span class="builtintype" id="5571601">byte</span><span class="op" id="5571605">(</span><span class="ident" id="5571606">v</span><span class="op" id="5571607">&gt;&gt;</span><span class="num" id="5571609">24</span><span class="op" id="5571611">)</span><span class="op" id="5571612">,</span>&nbsp;<span class="builtintype" id="5571614">byte</span><span class="op" id="5571618">(</span><span class="ident" id="5571619">v</span><span class="op" id="5571620">&gt;&gt;</span><span class="num" id="5571622">16</span><span class="op" id="5571624">)</span><span class="op" id="5571625">,</span>&nbsp;<span class="builtintype" id="5571627">byte</span><span class="op" id="5571631">(</span><span class="ident" id="5571632">v</span><span class="op" id="5571633">&gt;&gt;</span><span class="num" id="5571635">8</span><span class="op" id="5571636">)</span><span class="op" id="5571637">,</span>&nbsp;<span class="builtintype" id="5571639">byte</span><span class="op" id="5571643">(</span><span class="ident" id="5571644">v</span><span class="op" id="5571645">)</span><span class="op" id="5571646">)</span><br>
<span class="lineno"></span><span class="op" id="5571648">}</span>
</div>
</body>
</html>
