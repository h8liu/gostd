<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8556862">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8556917">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8556971">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8557022">package</span>&nbsp;<span class="ident" id="8557030">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8557036">import</span>&nbsp;<span class="op" id="8557043">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8557046">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8557055">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8557070">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8557080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8557083">const</span>&nbsp;<span class="op" id="8557089">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557092">dstw</span><span class="op" id="8557096">,</span>&nbsp;<span class="ident" id="8557098">dsth</span>&nbsp;<span class="op" id="8557103">=</span>&nbsp;<span class="num" id="8557105">640</span><span class="op" id="8557108">,</span>&nbsp;<span class="num" id="8557110">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557115">srcw</span><span class="op" id="8557119">,</span>&nbsp;<span class="ident" id="8557121">srch</span>&nbsp;<span class="op" id="8557126">=</span>&nbsp;<span class="num" id="8557128">400</span><span class="op" id="8557131">,</span>&nbsp;<span class="num" id="8557133">300</span><br>
<span class="lineno"></span><span class="op" id="8557137">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8557140">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8557214">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="8557276">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="8557342">func</span>&nbsp;<span class="ident" id="8557347">bench</span><span class="op" id="8557352">(</span><span class="ident" id="8557353">b</span>&nbsp;<span class="op" id="8557355">*</span><span class="ident" id="8557356">testing</span><span class="op" id="8557363">.</span><span class="ident" id="8557364">B</span><span class="op" id="8557365">,</span>&nbsp;<span class="ident" id="8557367">dcm</span><span class="op" id="8557370">,</span>&nbsp;<span class="ident" id="8557372">scm</span><span class="op" id="8557375">,</span>&nbsp;<span class="ident" id="8557377">mcm</span>&nbsp;<span class="ident" id="8557381">color</span><span class="op" id="8557386">.</span><span class="ident" id="8557387">Model</span><span class="op" id="8557392">,</span>&nbsp;<span class="ident" id="8557394">op</span>&nbsp;<span class="ident" id="8557397">Op</span><span class="op" id="8557399">)</span>&nbsp;<span class="op" id="8557401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557404">b</span><span class="op" id="8557405">.</span><span class="ident" id="8557406">StopTimer</span><span class="op" id="8557415">(</span><span class="op" id="8557416">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557420">var</span>&nbsp;<span class="ident" id="8557424">dst</span>&nbsp;<span class="ident" id="8557428">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557435">switch</span>&nbsp;<span class="ident" id="8557442">dcm</span>&nbsp;<span class="op" id="8557446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557449">case</span>&nbsp;<span class="ident" id="8557454">color</span><span class="op" id="8557459">.</span><span class="ident" id="8557460">RGBAModel</span><span class="op" id="8557469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557473">dst1</span>&nbsp;<span class="op" id="8557478">:=</span>&nbsp;<span class="ident" id="8557481">image</span><span class="op" id="8557486">.</span><span class="ident" id="8557487">NewRGBA</span><span class="op" id="8557494">(</span><span class="ident" id="8557495">image</span><span class="op" id="8557500">.</span><span class="ident" id="8557501">Rect</span><span class="op" id="8557505">(</span><span class="num" id="8557506">0</span><span class="op" id="8557507">,</span>&nbsp;<span class="num" id="8557509">0</span><span class="op" id="8557510">,</span>&nbsp;<span class="ident" id="8557512">dstw</span><span class="op" id="8557516">,</span>&nbsp;<span class="ident" id="8557518">dsth</span><span class="op" id="8557522">)</span><span class="op" id="8557523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557527">for</span>&nbsp;<span class="ident" id="8557531">y</span>&nbsp;<span class="op" id="8557533">:=</span>&nbsp;<span class="num" id="8557536">0</span><span class="op" id="8557537">;</span>&nbsp;<span class="ident" id="8557539">y</span>&nbsp;<span class="op" id="8557541">&lt;</span>&nbsp;<span class="ident" id="8557543">dsth</span><span class="op" id="8557547">;</span>&nbsp;<span class="ident" id="8557549">y</span><span class="op" id="8557550">++</span>&nbsp;<span class="op" id="8557553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557558">for</span>&nbsp;<span class="ident" id="8557562">x</span>&nbsp;<span class="op" id="8557564">:=</span>&nbsp;<span class="num" id="8557567">0</span><span class="op" id="8557568">;</span>&nbsp;<span class="ident" id="8557570">x</span>&nbsp;<span class="op" id="8557572">&lt;</span>&nbsp;<span class="ident" id="8557574">dstw</span><span class="op" id="8557578">;</span>&nbsp;<span class="ident" id="8557580">x</span><span class="op" id="8557581">++</span>&nbsp;<span class="op" id="8557584">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557590">dst1</span><span class="op" id="8557594">.</span><span class="ident" id="8557595">SetRGBA</span><span class="op" id="8557602">(</span><span class="ident" id="8557603">x</span><span class="op" id="8557604">,</span>&nbsp;<span class="ident" id="8557606">y</span><span class="op" id="8557607">,</span>&nbsp;<span class="ident" id="8557609">color</span><span class="op" id="8557614">.</span><span class="ident" id="8557615">RGBA</span><span class="op" id="8557619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8557626">uint8</span><span class="op" id="8557631">(</span><span class="num" id="8557632">5</span>&nbsp;<span class="op" id="8557634">*</span>&nbsp;<span class="ident" id="8557636">x</span>&nbsp;<span class="op" id="8557638">%</span>&nbsp;<span class="num" id="8557640">0x100</span><span class="op" id="8557645">)</span><span class="op" id="8557646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8557653">uint8</span><span class="op" id="8557658">(</span><span class="num" id="8557659">7</span>&nbsp;<span class="op" id="8557661">*</span>&nbsp;<span class="ident" id="8557663">y</span>&nbsp;<span class="op" id="8557665">%</span>&nbsp;<span class="num" id="8557667">0x100</span><span class="op" id="8557672">)</span><span class="op" id="8557673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8557680">uint8</span><span class="op" id="8557685">(</span><span class="op" id="8557686">(</span><span class="num" id="8557687">7</span><span class="op" id="8557688">*</span><span class="ident" id="8557689">x</span>&nbsp;<span class="op" id="8557691">+</span>&nbsp;<span class="num" id="8557693">5</span><span class="op" id="8557694">*</span><span class="ident" id="8557695">y</span><span class="op" id="8557696">)</span>&nbsp;<span class="op" id="8557698">%</span>&nbsp;<span class="num" id="8557700">0x100</span><span class="op" id="8557705">)</span><span class="op" id="8557706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8557713">0xff</span><span class="op" id="8557717">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557723">}</span><span class="op" id="8557724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8557733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557737">dst</span>&nbsp;<span class="op" id="8557741">=</span>&nbsp;<span class="ident" id="8557743">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557749">case</span>&nbsp;<span class="ident" id="8557754">color</span><span class="op" id="8557759">.</span><span class="ident" id="8557760">RGBA64Model</span><span class="op" id="8557771">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557775">dst1</span>&nbsp;<span class="op" id="8557780">:=</span>&nbsp;<span class="ident" id="8557783">image</span><span class="op" id="8557788">.</span><span class="ident" id="8557789">NewRGBA64</span><span class="op" id="8557798">(</span><span class="ident" id="8557799">image</span><span class="op" id="8557804">.</span><span class="ident" id="8557805">Rect</span><span class="op" id="8557809">(</span><span class="num" id="8557810">0</span><span class="op" id="8557811">,</span>&nbsp;<span class="num" id="8557813">0</span><span class="op" id="8557814">,</span>&nbsp;<span class="ident" id="8557816">dstw</span><span class="op" id="8557820">,</span>&nbsp;<span class="ident" id="8557822">dsth</span><span class="op" id="8557826">)</span><span class="op" id="8557827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557831">for</span>&nbsp;<span class="ident" id="8557835">y</span>&nbsp;<span class="op" id="8557837">:=</span>&nbsp;<span class="num" id="8557840">0</span><span class="op" id="8557841">;</span>&nbsp;<span class="ident" id="8557843">y</span>&nbsp;<span class="op" id="8557845">&lt;</span>&nbsp;<span class="ident" id="8557847">dsth</span><span class="op" id="8557851">;</span>&nbsp;<span class="ident" id="8557853">y</span><span class="op" id="8557854">++</span>&nbsp;<span class="op" id="8557857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8557862">for</span>&nbsp;<span class="ident" id="8557866">x</span>&nbsp;<span class="op" id="8557868">:=</span>&nbsp;<span class="num" id="8557871">0</span><span class="op" id="8557872">;</span>&nbsp;<span class="ident" id="8557874">x</span>&nbsp;<span class="op" id="8557876">&lt;</span>&nbsp;<span class="ident" id="8557878">dstw</span><span class="op" id="8557882">;</span>&nbsp;<span class="ident" id="8557884">x</span><span class="op" id="8557885">++</span>&nbsp;<span class="op" id="8557888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8557894">dst1</span><span class="op" id="8557898">.</span><span class="ident" id="8557899">SetRGBA64</span><span class="op" id="8557908">(</span><span class="ident" id="8557909">x</span><span class="op" id="8557910">,</span>&nbsp;<span class="ident" id="8557912">y</span><span class="op" id="8557913">,</span>&nbsp;<span class="ident" id="8557915">color</span><span class="op" id="8557920">.</span><span class="ident" id="8557921">RGBA64</span><span class="op" id="8557927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8557934">uint16</span><span class="op" id="8557940">(</span><span class="num" id="8557941">53</span>&nbsp;<span class="op" id="8557944">*</span>&nbsp;<span class="ident" id="8557946">x</span>&nbsp;<span class="op" id="8557948">%</span>&nbsp;<span class="num" id="8557950">0x10000</span><span class="op" id="8557957">)</span><span class="op" id="8557958">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8557965">uint16</span><span class="op" id="8557971">(</span><span class="num" id="8557972">59</span>&nbsp;<span class="op" id="8557975">*</span>&nbsp;<span class="ident" id="8557977">y</span>&nbsp;<span class="op" id="8557979">%</span>&nbsp;<span class="num" id="8557981">0x10000</span><span class="op" id="8557988">)</span><span class="op" id="8557989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8557996">uint16</span><span class="op" id="8558002">(</span><span class="op" id="8558003">(</span><span class="num" id="8558004">59</span><span class="op" id="8558006">*</span><span class="ident" id="8558007">x</span>&nbsp;<span class="op" id="8558009">+</span>&nbsp;<span class="num" id="8558011">53</span><span class="op" id="8558013">*</span><span class="ident" id="8558014">y</span><span class="op" id="8558015">)</span>&nbsp;<span class="op" id="8558017">%</span>&nbsp;<span class="num" id="8558019">0x10000</span><span class="op" id="8558026">)</span><span class="op" id="8558027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8558034">0xffff</span><span class="op" id="8558040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558046">}</span><span class="op" id="8558047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558052">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558060">dst</span>&nbsp;<span class="op" id="8558064">=</span>&nbsp;<span class="ident" id="8558066">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558072">default</span><span class="op" id="8558079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558083">b</span><span class="op" id="8558084">.</span><span class="ident" id="8558085">Fatal</span><span class="op" id="8558090">(</span><span class="string" id="8558091">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="8558124">,</span>&nbsp;<span class="ident" id="8558126">dcm</span><span class="op" id="8558129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558132">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558136">var</span>&nbsp;<span class="ident" id="8558140">src</span>&nbsp;<span class="ident" id="8558144">image</span><span class="op" id="8558149">.</span><span class="ident" id="8558150">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558157">switch</span>&nbsp;<span class="ident" id="8558164">scm</span>&nbsp;<span class="op" id="8558168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558171">case</span>&nbsp;<span class="ident" id="8558176">nil</span><span class="op" id="8558179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558183">src</span>&nbsp;<span class="op" id="8558187">=</span>&nbsp;<span class="op" id="8558189">&amp;</span><span class="ident" id="8558190">image</span><span class="op" id="8558195">.</span><span class="ident" id="8558196">Uniform</span><span class="op" id="8558203">{</span><span class="ident" id="8558204">C</span><span class="op" id="8558205">:</span>&nbsp;<span class="ident" id="8558207">color</span><span class="op" id="8558212">.</span><span class="ident" id="8558213">RGBA</span><span class="op" id="8558217">{</span><span class="num" id="8558218">0x11</span><span class="op" id="8558222">,</span>&nbsp;<span class="num" id="8558224">0x22</span><span class="op" id="8558228">,</span>&nbsp;<span class="num" id="8558230">0x33</span><span class="op" id="8558234">,</span>&nbsp;<span class="num" id="8558236">0xff</span><span class="op" id="8558240">}</span><span class="op" id="8558241">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558244">case</span>&nbsp;<span class="ident" id="8558249">color</span><span class="op" id="8558254">.</span><span class="ident" id="8558255">RGBAModel</span><span class="op" id="8558264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558268">src1</span>&nbsp;<span class="op" id="8558273">:=</span>&nbsp;<span class="ident" id="8558276">image</span><span class="op" id="8558281">.</span><span class="ident" id="8558282">NewRGBA</span><span class="op" id="8558289">(</span><span class="ident" id="8558290">image</span><span class="op" id="8558295">.</span><span class="ident" id="8558296">Rect</span><span class="op" id="8558300">(</span><span class="num" id="8558301">0</span><span class="op" id="8558302">,</span>&nbsp;<span class="num" id="8558304">0</span><span class="op" id="8558305">,</span>&nbsp;<span class="ident" id="8558307">srcw</span><span class="op" id="8558311">,</span>&nbsp;<span class="ident" id="8558313">srch</span><span class="op" id="8558317">)</span><span class="op" id="8558318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558322">for</span>&nbsp;<span class="ident" id="8558326">y</span>&nbsp;<span class="op" id="8558328">:=</span>&nbsp;<span class="num" id="8558331">0</span><span class="op" id="8558332">;</span>&nbsp;<span class="ident" id="8558334">y</span>&nbsp;<span class="op" id="8558336">&lt;</span>&nbsp;<span class="ident" id="8558338">srch</span><span class="op" id="8558342">;</span>&nbsp;<span class="ident" id="8558344">y</span><span class="op" id="8558345">++</span>&nbsp;<span class="op" id="8558348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558353">for</span>&nbsp;<span class="ident" id="8558357">x</span>&nbsp;<span class="op" id="8558359">:=</span>&nbsp;<span class="num" id="8558362">0</span><span class="op" id="8558363">;</span>&nbsp;<span class="ident" id="8558365">x</span>&nbsp;<span class="op" id="8558367">&lt;</span>&nbsp;<span class="ident" id="8558369">srcw</span><span class="op" id="8558373">;</span>&nbsp;<span class="ident" id="8558375">x</span><span class="op" id="8558376">++</span>&nbsp;<span class="op" id="8558379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558385">src1</span><span class="op" id="8558389">.</span><span class="ident" id="8558390">SetRGBA</span><span class="op" id="8558397">(</span><span class="ident" id="8558398">x</span><span class="op" id="8558399">,</span>&nbsp;<span class="ident" id="8558401">y</span><span class="op" id="8558402">,</span>&nbsp;<span class="ident" id="8558404">color</span><span class="op" id="8558409">.</span><span class="ident" id="8558410">RGBA</span><span class="op" id="8558414">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8558421">uint8</span><span class="op" id="8558426">(</span><span class="num" id="8558427">13</span>&nbsp;<span class="op" id="8558430">*</span>&nbsp;<span class="ident" id="8558432">x</span>&nbsp;<span class="op" id="8558434">%</span>&nbsp;<span class="num" id="8558436">0x80</span><span class="op" id="8558440">)</span><span class="op" id="8558441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8558448">uint8</span><span class="op" id="8558453">(</span><span class="num" id="8558454">11</span>&nbsp;<span class="op" id="8558457">*</span>&nbsp;<span class="ident" id="8558459">y</span>&nbsp;<span class="op" id="8558461">%</span>&nbsp;<span class="num" id="8558463">0x80</span><span class="op" id="8558467">)</span><span class="op" id="8558468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8558475">uint8</span><span class="op" id="8558480">(</span><span class="op" id="8558481">(</span><span class="num" id="8558482">11</span><span class="op" id="8558484">*</span><span class="ident" id="8558485">x</span>&nbsp;<span class="op" id="8558487">+</span>&nbsp;<span class="num" id="8558489">13</span><span class="op" id="8558491">*</span><span class="ident" id="8558492">y</span><span class="op" id="8558493">)</span>&nbsp;<span class="op" id="8558495">%</span>&nbsp;<span class="num" id="8558497">0x80</span><span class="op" id="8558501">)</span><span class="op" id="8558502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8558509">0x7f</span><span class="op" id="8558513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558519">}</span><span class="op" id="8558520">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558533">src</span>&nbsp;<span class="op" id="8558537">=</span>&nbsp;<span class="ident" id="8558539">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558545">case</span>&nbsp;<span class="ident" id="8558550">color</span><span class="op" id="8558555">.</span><span class="ident" id="8558556">RGBA64Model</span><span class="op" id="8558567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558571">src1</span>&nbsp;<span class="op" id="8558576">:=</span>&nbsp;<span class="ident" id="8558579">image</span><span class="op" id="8558584">.</span><span class="ident" id="8558585">NewRGBA64</span><span class="op" id="8558594">(</span><span class="ident" id="8558595">image</span><span class="op" id="8558600">.</span><span class="ident" id="8558601">Rect</span><span class="op" id="8558605">(</span><span class="num" id="8558606">0</span><span class="op" id="8558607">,</span>&nbsp;<span class="num" id="8558609">0</span><span class="op" id="8558610">,</span>&nbsp;<span class="ident" id="8558612">srcw</span><span class="op" id="8558616">,</span>&nbsp;<span class="ident" id="8558618">srch</span><span class="op" id="8558622">)</span><span class="op" id="8558623">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558627">for</span>&nbsp;<span class="ident" id="8558631">y</span>&nbsp;<span class="op" id="8558633">:=</span>&nbsp;<span class="num" id="8558636">0</span><span class="op" id="8558637">;</span>&nbsp;<span class="ident" id="8558639">y</span>&nbsp;<span class="op" id="8558641">&lt;</span>&nbsp;<span class="ident" id="8558643">srch</span><span class="op" id="8558647">;</span>&nbsp;<span class="ident" id="8558649">y</span><span class="op" id="8558650">++</span>&nbsp;<span class="op" id="8558653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558658">for</span>&nbsp;<span class="ident" id="8558662">x</span>&nbsp;<span class="op" id="8558664">:=</span>&nbsp;<span class="num" id="8558667">0</span><span class="op" id="8558668">;</span>&nbsp;<span class="ident" id="8558670">x</span>&nbsp;<span class="op" id="8558672">&lt;</span>&nbsp;<span class="ident" id="8558674">srcw</span><span class="op" id="8558678">;</span>&nbsp;<span class="ident" id="8558680">x</span><span class="op" id="8558681">++</span>&nbsp;<span class="op" id="8558684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558690">src1</span><span class="op" id="8558694">.</span><span class="ident" id="8558695">SetRGBA64</span><span class="op" id="8558704">(</span><span class="ident" id="8558705">x</span><span class="op" id="8558706">,</span>&nbsp;<span class="ident" id="8558708">y</span><span class="op" id="8558709">,</span>&nbsp;<span class="ident" id="8558711">color</span><span class="op" id="8558716">.</span><span class="ident" id="8558717">RGBA64</span><span class="op" id="8558723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8558730">uint16</span><span class="op" id="8558736">(</span><span class="num" id="8558737">103</span>&nbsp;<span class="op" id="8558741">*</span>&nbsp;<span class="ident" id="8558743">x</span>&nbsp;<span class="op" id="8558745">%</span>&nbsp;<span class="num" id="8558747">0x8000</span><span class="op" id="8558753">)</span><span class="op" id="8558754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8558761">uint16</span><span class="op" id="8558767">(</span><span class="num" id="8558768">101</span>&nbsp;<span class="op" id="8558772">*</span>&nbsp;<span class="ident" id="8558774">y</span>&nbsp;<span class="op" id="8558776">%</span>&nbsp;<span class="num" id="8558778">0x8000</span><span class="op" id="8558784">)</span><span class="op" id="8558785">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8558792">uint16</span><span class="op" id="8558798">(</span><span class="op" id="8558799">(</span><span class="num" id="8558800">101</span><span class="op" id="8558803">*</span><span class="ident" id="8558804">x</span>&nbsp;<span class="op" id="8558806">+</span>&nbsp;<span class="num" id="8558808">103</span><span class="op" id="8558811">*</span><span class="ident" id="8558812">y</span><span class="op" id="8558813">)</span>&nbsp;<span class="op" id="8558815">%</span>&nbsp;<span class="num" id="8558817">0x8000</span><span class="op" id="8558823">)</span><span class="op" id="8558824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8558831">0x7fff</span><span class="op" id="8558837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558843">}</span><span class="op" id="8558844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8558853">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558857">src</span>&nbsp;<span class="op" id="8558861">=</span>&nbsp;<span class="ident" id="8558863">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558869">case</span>&nbsp;<span class="ident" id="8558874">color</span><span class="op" id="8558879">.</span><span class="ident" id="8558880">NRGBAModel</span><span class="op" id="8558890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8558894">src1</span>&nbsp;<span class="op" id="8558899">:=</span>&nbsp;<span class="ident" id="8558902">image</span><span class="op" id="8558907">.</span><span class="ident" id="8558908">NewNRGBA</span><span class="op" id="8558916">(</span><span class="ident" id="8558917">image</span><span class="op" id="8558922">.</span><span class="ident" id="8558923">Rect</span><span class="op" id="8558927">(</span><span class="num" id="8558928">0</span><span class="op" id="8558929">,</span>&nbsp;<span class="num" id="8558931">0</span><span class="op" id="8558932">,</span>&nbsp;<span class="ident" id="8558934">srcw</span><span class="op" id="8558938">,</span>&nbsp;<span class="ident" id="8558940">srch</span><span class="op" id="8558944">)</span><span class="op" id="8558945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558949">for</span>&nbsp;<span class="ident" id="8558953">y</span>&nbsp;<span class="op" id="8558955">:=</span>&nbsp;<span class="num" id="8558958">0</span><span class="op" id="8558959">;</span>&nbsp;<span class="ident" id="8558961">y</span>&nbsp;<span class="op" id="8558963">&lt;</span>&nbsp;<span class="ident" id="8558965">srch</span><span class="op" id="8558969">;</span>&nbsp;<span class="ident" id="8558971">y</span><span class="op" id="8558972">++</span>&nbsp;<span class="op" id="8558975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8558980">for</span>&nbsp;<span class="ident" id="8558984">x</span>&nbsp;<span class="op" id="8558986">:=</span>&nbsp;<span class="num" id="8558989">0</span><span class="op" id="8558990">;</span>&nbsp;<span class="ident" id="8558992">x</span>&nbsp;<span class="op" id="8558994">&lt;</span>&nbsp;<span class="ident" id="8558996">srcw</span><span class="op" id="8559000">;</span>&nbsp;<span class="ident" id="8559002">x</span><span class="op" id="8559003">++</span>&nbsp;<span class="op" id="8559006">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559012">src1</span><span class="op" id="8559016">.</span><span class="ident" id="8559017">SetNRGBA</span><span class="op" id="8559025">(</span><span class="ident" id="8559026">x</span><span class="op" id="8559027">,</span>&nbsp;<span class="ident" id="8559029">y</span><span class="op" id="8559030">,</span>&nbsp;<span class="ident" id="8559032">color</span><span class="op" id="8559037">.</span><span class="ident" id="8559038">NRGBA</span><span class="op" id="8559043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8559050">uint8</span><span class="op" id="8559055">(</span><span class="num" id="8559056">13</span>&nbsp;<span class="op" id="8559059">*</span>&nbsp;<span class="ident" id="8559061">x</span>&nbsp;<span class="op" id="8559063">%</span>&nbsp;<span class="num" id="8559065">0x100</span><span class="op" id="8559070">)</span><span class="op" id="8559071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8559078">uint8</span><span class="op" id="8559083">(</span><span class="num" id="8559084">11</span>&nbsp;<span class="op" id="8559087">*</span>&nbsp;<span class="ident" id="8559089">y</span>&nbsp;<span class="op" id="8559091">%</span>&nbsp;<span class="num" id="8559093">0x100</span><span class="op" id="8559098">)</span><span class="op" id="8559099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8559106">uint8</span><span class="op" id="8559111">(</span><span class="op" id="8559112">(</span><span class="num" id="8559113">11</span><span class="op" id="8559115">*</span><span class="ident" id="8559116">x</span>&nbsp;<span class="op" id="8559118">+</span>&nbsp;<span class="num" id="8559120">13</span><span class="op" id="8559122">*</span><span class="ident" id="8559123">y</span><span class="op" id="8559124">)</span>&nbsp;<span class="op" id="8559126">%</span>&nbsp;<span class="num" id="8559128">0x100</span><span class="op" id="8559133">)</span><span class="op" id="8559134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8559141">0x7f</span><span class="op" id="8559145">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8559151">}</span><span class="op" id="8559152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8559157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8559161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559165">src</span>&nbsp;<span class="op" id="8559169">=</span>&nbsp;<span class="ident" id="8559171">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559177">case</span>&nbsp;<span class="ident" id="8559182">color</span><span class="op" id="8559187">.</span><span class="ident" id="8559188">YCbCrModel</span><span class="op" id="8559198">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559202">yy</span>&nbsp;<span class="op" id="8559205">:=</span>&nbsp;<span class="builtinfunc" id="8559208">make</span><span class="op" id="8559212">(</span><span class="op" id="8559213">[</span><span class="op" id="8559214">]</span><span class="builtintype" id="8559215">uint8</span><span class="op" id="8559220">,</span>&nbsp;<span class="ident" id="8559222">srcw</span><span class="op" id="8559226">*</span><span class="ident" id="8559227">srch</span><span class="op" id="8559231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559235">cb</span>&nbsp;<span class="op" id="8559238">:=</span>&nbsp;<span class="builtinfunc" id="8559241">make</span><span class="op" id="8559245">(</span><span class="op" id="8559246">[</span><span class="op" id="8559247">]</span><span class="builtintype" id="8559248">uint8</span><span class="op" id="8559253">,</span>&nbsp;<span class="ident" id="8559255">srcw</span><span class="op" id="8559259">*</span><span class="ident" id="8559260">srch</span><span class="op" id="8559264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559268">cr</span>&nbsp;<span class="op" id="8559271">:=</span>&nbsp;<span class="builtinfunc" id="8559274">make</span><span class="op" id="8559278">(</span><span class="op" id="8559279">[</span><span class="op" id="8559280">]</span><span class="builtintype" id="8559281">uint8</span><span class="op" id="8559286">,</span>&nbsp;<span class="ident" id="8559288">srcw</span><span class="op" id="8559292">*</span><span class="ident" id="8559293">srch</span><span class="op" id="8559297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559301">for</span>&nbsp;<span class="ident" id="8559305">i</span>&nbsp;<span class="op" id="8559307">:=</span>&nbsp;<span class="keyword" id="8559310">range</span>&nbsp;<span class="ident" id="8559316">yy</span>&nbsp;<span class="op" id="8559319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559324">yy</span><span class="op" id="8559326">[</span><span class="ident" id="8559327">i</span><span class="op" id="8559328">]</span>&nbsp;<span class="op" id="8559330">=</span>&nbsp;<span class="builtintype" id="8559332">uint8</span><span class="op" id="8559337">(</span><span class="num" id="8559338">3</span>&nbsp;<span class="op" id="8559340">*</span>&nbsp;<span class="ident" id="8559342">i</span>&nbsp;<span class="op" id="8559344">%</span>&nbsp;<span class="num" id="8559346">0x100</span><span class="op" id="8559351">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559356">cb</span><span class="op" id="8559358">[</span><span class="ident" id="8559359">i</span><span class="op" id="8559360">]</span>&nbsp;<span class="op" id="8559362">=</span>&nbsp;<span class="builtintype" id="8559364">uint8</span><span class="op" id="8559369">(</span><span class="num" id="8559370">5</span>&nbsp;<span class="op" id="8559372">*</span>&nbsp;<span class="ident" id="8559374">i</span>&nbsp;<span class="op" id="8559376">%</span>&nbsp;<span class="num" id="8559378">0x100</span><span class="op" id="8559383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559388">cr</span><span class="op" id="8559390">[</span><span class="ident" id="8559391">i</span><span class="op" id="8559392">]</span>&nbsp;<span class="op" id="8559394">=</span>&nbsp;<span class="builtintype" id="8559396">uint8</span><span class="op" id="8559401">(</span><span class="num" id="8559402">7</span>&nbsp;<span class="op" id="8559404">*</span>&nbsp;<span class="ident" id="8559406">i</span>&nbsp;<span class="op" id="8559408">%</span>&nbsp;<span class="num" id="8559410">0x100</span><span class="op" id="8559415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8559419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559423">src</span>&nbsp;<span class="op" id="8559427">=</span>&nbsp;<span class="op" id="8559429">&amp;</span><span class="ident" id="8559430">image</span><span class="op" id="8559435">.</span><span class="ident" id="8559436">YCbCr</span><span class="op" id="8559441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559446">Y</span><span class="op" id="8559447">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8559462">yy</span><span class="op" id="8559464">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559469">Cb</span><span class="op" id="8559471">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8559485">cb</span><span class="op" id="8559487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559492">Cr</span><span class="op" id="8559494">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8559508">cr</span><span class="op" id="8559510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559515">YStride</span><span class="op" id="8559522">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8559531">srcw</span><span class="op" id="8559535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559540">CStride</span><span class="op" id="8559547">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8559556">srcw</span><span class="op" id="8559560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559565">SubsampleRatio</span><span class="op" id="8559579">:</span>&nbsp;<span class="ident" id="8559581">image</span><span class="op" id="8559586">.</span><span class="ident" id="8559587">YCbCrSubsampleRatio444</span><span class="op" id="8559609">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559614">Rect</span><span class="op" id="8559618">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8559630">image</span><span class="op" id="8559635">.</span><span class="ident" id="8559636">Rect</span><span class="op" id="8559640">(</span><span class="num" id="8559641">0</span><span class="op" id="8559642">,</span>&nbsp;<span class="num" id="8559644">0</span><span class="op" id="8559645">,</span>&nbsp;<span class="ident" id="8559647">srcw</span><span class="op" id="8559651">,</span>&nbsp;<span class="ident" id="8559653">srch</span><span class="op" id="8559657">)</span><span class="op" id="8559658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8559662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559665">default</span><span class="op" id="8559672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559676">b</span><span class="op" id="8559677">.</span><span class="ident" id="8559678">Fatal</span><span class="op" id="8559683">(</span><span class="string" id="8559684">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="8559712">,</span>&nbsp;<span class="ident" id="8559714">scm</span><span class="op" id="8559717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8559720">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559724">var</span>&nbsp;<span class="ident" id="8559728">mask</span>&nbsp;<span class="ident" id="8559733">image</span><span class="op" id="8559738">.</span><span class="ident" id="8559739">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559746">switch</span>&nbsp;<span class="ident" id="8559753">mcm</span>&nbsp;<span class="op" id="8559757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559760">case</span>&nbsp;<span class="ident" id="8559765">nil</span><span class="op" id="8559768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8559772">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559783">case</span>&nbsp;<span class="ident" id="8559788">color</span><span class="op" id="8559793">.</span><span class="ident" id="8559794">AlphaModel</span><span class="op" id="8559804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559808">mask1</span>&nbsp;<span class="op" id="8559814">:=</span>&nbsp;<span class="ident" id="8559817">image</span><span class="op" id="8559822">.</span><span class="ident" id="8559823">NewAlpha</span><span class="op" id="8559831">(</span><span class="ident" id="8559832">image</span><span class="op" id="8559837">.</span><span class="ident" id="8559838">Rect</span><span class="op" id="8559842">(</span><span class="num" id="8559843">0</span><span class="op" id="8559844">,</span>&nbsp;<span class="num" id="8559846">0</span><span class="op" id="8559847">,</span>&nbsp;<span class="ident" id="8559849">srcw</span><span class="op" id="8559853">,</span>&nbsp;<span class="ident" id="8559855">srch</span><span class="op" id="8559859">)</span><span class="op" id="8559860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559864">for</span>&nbsp;<span class="ident" id="8559868">y</span>&nbsp;<span class="op" id="8559870">:=</span>&nbsp;<span class="num" id="8559873">0</span><span class="op" id="8559874">;</span>&nbsp;<span class="ident" id="8559876">y</span>&nbsp;<span class="op" id="8559878">&lt;</span>&nbsp;<span class="ident" id="8559880">srch</span><span class="op" id="8559884">;</span>&nbsp;<span class="ident" id="8559886">y</span><span class="op" id="8559887">++</span>&nbsp;<span class="op" id="8559890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8559895">for</span>&nbsp;<span class="ident" id="8559899">x</span>&nbsp;<span class="op" id="8559901">:=</span>&nbsp;<span class="num" id="8559904">0</span><span class="op" id="8559905">;</span>&nbsp;<span class="ident" id="8559907">x</span>&nbsp;<span class="op" id="8559909">&lt;</span>&nbsp;<span class="ident" id="8559911">srcw</span><span class="op" id="8559915">;</span>&nbsp;<span class="ident" id="8559917">x</span><span class="op" id="8559918">++</span>&nbsp;<span class="op" id="8559921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8559927">a</span>&nbsp;<span class="op" id="8559929">:=</span>&nbsp;<span class="builtintype" id="8559932">uint8</span><span class="op" id="8559937">(</span><span class="op" id="8559938">(</span><span class="num" id="8559939">23</span><span class="op" id="8559941">*</span><span class="ident" id="8559942">x</span>&nbsp;<span class="op" id="8559944">+</span>&nbsp;<span class="num" id="8559946">29</span><span class="op" id="8559948">*</span><span class="ident" id="8559949">y</span><span class="op" id="8559950">)</span>&nbsp;<span class="op" id="8559952">%</span>&nbsp;<span class="num" id="8559954">0x100</span><span class="op" id="8559959">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8559965">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8560011">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8560062">if</span>&nbsp;<span class="ident" id="8560065">a</span>&nbsp;<span class="op" id="8560067">&gt;=</span>&nbsp;<span class="num" id="8560070">0xc0</span>&nbsp;<span class="op" id="8560075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560082">mask1</span><span class="op" id="8560087">.</span><span class="ident" id="8560088">SetAlpha</span><span class="op" id="8560096">(</span><span class="ident" id="8560097">x</span><span class="op" id="8560098">,</span>&nbsp;<span class="ident" id="8560100">y</span><span class="op" id="8560101">,</span>&nbsp;<span class="ident" id="8560103">color</span><span class="op" id="8560108">.</span><span class="ident" id="8560109">Alpha</span><span class="op" id="8560114">{</span><span class="ident" id="8560115">a</span><span class="op" id="8560116">}</span><span class="op" id="8560117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8560123">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8560128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8560132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560136">mask</span>&nbsp;<span class="op" id="8560141">=</span>&nbsp;<span class="ident" id="8560143">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8560150">default</span><span class="op" id="8560157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560161">b</span><span class="op" id="8560162">.</span><span class="ident" id="8560163">Fatal</span><span class="op" id="8560168">(</span><span class="string" id="8560169">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="8560195">,</span>&nbsp;<span class="ident" id="8560197">mcm</span><span class="op" id="8560200">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8560203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560207">b</span><span class="op" id="8560208">.</span><span class="ident" id="8560209">StartTimer</span><span class="op" id="8560219">(</span><span class="op" id="8560220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8560223">for</span>&nbsp;<span class="ident" id="8560227">i</span>&nbsp;<span class="op" id="8560229">:=</span>&nbsp;<span class="num" id="8560232">0</span><span class="op" id="8560233">;</span>&nbsp;<span class="ident" id="8560235">i</span>&nbsp;<span class="op" id="8560237">&lt;</span>&nbsp;<span class="ident" id="8560239">b</span><span class="op" id="8560240">.</span><span class="ident" id="8560241">N</span><span class="op" id="8560242">;</span>&nbsp;<span class="ident" id="8560244">i</span><span class="op" id="8560245">++</span>&nbsp;<span class="op" id="8560248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8560252">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560305">x</span>&nbsp;<span class="op" id="8560307">:=</span>&nbsp;<span class="num" id="8560310">3</span>&nbsp;<span class="op" id="8560312">*</span>&nbsp;<span class="ident" id="8560314">i</span>&nbsp;<span class="op" id="8560316">%</span>&nbsp;<span class="op" id="8560318">(</span><span class="ident" id="8560319">dstw</span>&nbsp;<span class="op" id="8560324">-</span>&nbsp;<span class="ident" id="8560326">srcw</span><span class="op" id="8560330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560334">y</span>&nbsp;<span class="op" id="8560336">:=</span>&nbsp;<span class="num" id="8560339">7</span>&nbsp;<span class="op" id="8560341">*</span>&nbsp;<span class="ident" id="8560343">i</span>&nbsp;<span class="op" id="8560345">%</span>&nbsp;<span class="op" id="8560347">(</span><span class="ident" id="8560348">dsth</span>&nbsp;<span class="op" id="8560353">-</span>&nbsp;<span class="ident" id="8560355">srch</span><span class="op" id="8560359">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560364">DrawMask</span><span class="op" id="8560372">(</span><span class="ident" id="8560373">dst</span><span class="op" id="8560376">,</span>&nbsp;<span class="ident" id="8560378">dst</span><span class="op" id="8560381">.</span><span class="ident" id="8560382">Bounds</span><span class="op" id="8560388">(</span><span class="op" id="8560389">)</span><span class="op" id="8560390">.</span><span class="ident" id="8560391">Add</span><span class="op" id="8560394">(</span><span class="ident" id="8560395">image</span><span class="op" id="8560400">.</span><span class="ident" id="8560401">Pt</span><span class="op" id="8560403">(</span><span class="ident" id="8560404">x</span><span class="op" id="8560405">,</span>&nbsp;<span class="ident" id="8560407">y</span><span class="op" id="8560408">)</span><span class="op" id="8560409">)</span><span class="op" id="8560410">,</span>&nbsp;<span class="ident" id="8560412">src</span><span class="op" id="8560415">,</span>&nbsp;<span class="ident" id="8560417">image</span><span class="op" id="8560422">.</span><span class="ident" id="8560423">ZP</span><span class="op" id="8560425">,</span>&nbsp;<span class="ident" id="8560427">mask</span><span class="op" id="8560431">,</span>&nbsp;<span class="ident" id="8560433">image</span><span class="op" id="8560438">.</span><span class="ident" id="8560439">ZP</span><span class="op" id="8560441">,</span>&nbsp;<span class="ident" id="8560443">op</span><span class="op" id="8560445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8560448">}</span><br>
<span class="lineno">150</span><span class="op" id="8560450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8560453">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8560534">func</span>&nbsp;<span class="ident" id="8560539">BenchmarkFillOver</span><span class="op" id="8560556">(</span><span class="ident" id="8560557">b</span>&nbsp;<span class="op" id="8560559">*</span><span class="ident" id="8560560">testing</span><span class="op" id="8560567">.</span><span class="ident" id="8560568">B</span><span class="op" id="8560569">)</span>&nbsp;<span class="op" id="8560571">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560574">bench</span><span class="op" id="8560579">(</span><span class="ident" id="8560580">b</span><span class="op" id="8560581">,</span>&nbsp;<span class="ident" id="8560583">color</span><span class="op" id="8560588">.</span><span class="ident" id="8560589">RGBAModel</span><span class="op" id="8560598">,</span>&nbsp;<span class="ident" id="8560600">nil</span><span class="op" id="8560603">,</span>&nbsp;<span class="ident" id="8560605">nil</span><span class="op" id="8560608">,</span>&nbsp;<span class="ident" id="8560610">Over</span><span class="op" id="8560614">)</span><br>
<span class="lineno"></span><span class="op" id="8560616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8560619">func</span>&nbsp;<span class="ident" id="8560624">BenchmarkFillSrc</span><span class="op" id="8560640">(</span><span class="ident" id="8560641">b</span>&nbsp;<span class="op" id="8560643">*</span><span class="ident" id="8560644">testing</span><span class="op" id="8560651">.</span><span class="ident" id="8560652">B</span><span class="op" id="8560653">)</span>&nbsp;<span class="op" id="8560655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560658">bench</span><span class="op" id="8560663">(</span><span class="ident" id="8560664">b</span><span class="op" id="8560665">,</span>&nbsp;<span class="ident" id="8560667">color</span><span class="op" id="8560672">.</span><span class="ident" id="8560673">RGBAModel</span><span class="op" id="8560682">,</span>&nbsp;<span class="ident" id="8560684">nil</span><span class="op" id="8560687">,</span>&nbsp;<span class="ident" id="8560689">nil</span><span class="op" id="8560692">,</span>&nbsp;<span class="ident" id="8560694">Src</span><span class="op" id="8560697">)</span><br>
<span class="lineno">160</span><span class="op" id="8560699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8560702">func</span>&nbsp;<span class="ident" id="8560707">BenchmarkCopyOver</span><span class="op" id="8560724">(</span><span class="ident" id="8560725">b</span>&nbsp;<span class="op" id="8560727">*</span><span class="ident" id="8560728">testing</span><span class="op" id="8560735">.</span><span class="ident" id="8560736">B</span><span class="op" id="8560737">)</span>&nbsp;<span class="op" id="8560739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560742">bench</span><span class="op" id="8560747">(</span><span class="ident" id="8560748">b</span><span class="op" id="8560749">,</span>&nbsp;<span class="ident" id="8560751">color</span><span class="op" id="8560756">.</span><span class="ident" id="8560757">RGBAModel</span><span class="op" id="8560766">,</span>&nbsp;<span class="ident" id="8560768">color</span><span class="op" id="8560773">.</span><span class="ident" id="8560774">RGBAModel</span><span class="op" id="8560783">,</span>&nbsp;<span class="ident" id="8560785">nil</span><span class="op" id="8560788">,</span>&nbsp;<span class="ident" id="8560790">Over</span><span class="op" id="8560794">)</span><br>
<span class="lineno"></span><span class="op" id="8560796">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="8560799">func</span>&nbsp;<span class="ident" id="8560804">BenchmarkCopySrc</span><span class="op" id="8560820">(</span><span class="ident" id="8560821">b</span>&nbsp;<span class="op" id="8560823">*</span><span class="ident" id="8560824">testing</span><span class="op" id="8560831">.</span><span class="ident" id="8560832">B</span><span class="op" id="8560833">)</span>&nbsp;<span class="op" id="8560835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560838">bench</span><span class="op" id="8560843">(</span><span class="ident" id="8560844">b</span><span class="op" id="8560845">,</span>&nbsp;<span class="ident" id="8560847">color</span><span class="op" id="8560852">.</span><span class="ident" id="8560853">RGBAModel</span><span class="op" id="8560862">,</span>&nbsp;<span class="ident" id="8560864">color</span><span class="op" id="8560869">.</span><span class="ident" id="8560870">RGBAModel</span><span class="op" id="8560879">,</span>&nbsp;<span class="ident" id="8560881">nil</span><span class="op" id="8560884">,</span>&nbsp;<span class="ident" id="8560886">Src</span><span class="op" id="8560889">)</span><br>
<span class="lineno"></span><span class="op" id="8560891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8560894">func</span>&nbsp;<span class="ident" id="8560899">BenchmarkNRGBAOver</span><span class="op" id="8560917">(</span><span class="ident" id="8560918">b</span>&nbsp;<span class="op" id="8560920">*</span><span class="ident" id="8560921">testing</span><span class="op" id="8560928">.</span><span class="ident" id="8560929">B</span><span class="op" id="8560930">)</span>&nbsp;<span class="op" id="8560932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8560935">bench</span><span class="op" id="8560940">(</span><span class="ident" id="8560941">b</span><span class="op" id="8560942">,</span>&nbsp;<span class="ident" id="8560944">color</span><span class="op" id="8560949">.</span><span class="ident" id="8560950">RGBAModel</span><span class="op" id="8560959">,</span>&nbsp;<span class="ident" id="8560961">color</span><span class="op" id="8560966">.</span><span class="ident" id="8560967">NRGBAModel</span><span class="op" id="8560977">,</span>&nbsp;<span class="ident" id="8560979">nil</span><span class="op" id="8560982">,</span>&nbsp;<span class="ident" id="8560984">Over</span><span class="op" id="8560988">)</span><br>
<span class="lineno"></span><span class="op" id="8560990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8560993">func</span>&nbsp;<span class="ident" id="8560998">BenchmarkNRGBASrc</span><span class="op" id="8561015">(</span><span class="ident" id="8561016">b</span>&nbsp;<span class="op" id="8561018">*</span><span class="ident" id="8561019">testing</span><span class="op" id="8561026">.</span><span class="ident" id="8561027">B</span><span class="op" id="8561028">)</span>&nbsp;<span class="op" id="8561030">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561033">bench</span><span class="op" id="8561038">(</span><span class="ident" id="8561039">b</span><span class="op" id="8561040">,</span>&nbsp;<span class="ident" id="8561042">color</span><span class="op" id="8561047">.</span><span class="ident" id="8561048">RGBAModel</span><span class="op" id="8561057">,</span>&nbsp;<span class="ident" id="8561059">color</span><span class="op" id="8561064">.</span><span class="ident" id="8561065">NRGBAModel</span><span class="op" id="8561075">,</span>&nbsp;<span class="ident" id="8561077">nil</span><span class="op" id="8561080">,</span>&nbsp;<span class="ident" id="8561082">Src</span><span class="op" id="8561085">)</span><br>
<span class="lineno"></span><span class="op" id="8561087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8561090">func</span>&nbsp;<span class="ident" id="8561095">BenchmarkYCbCr</span><span class="op" id="8561109">(</span><span class="ident" id="8561110">b</span>&nbsp;<span class="op" id="8561112">*</span><span class="ident" id="8561113">testing</span><span class="op" id="8561120">.</span><span class="ident" id="8561121">B</span><span class="op" id="8561122">)</span>&nbsp;<span class="op" id="8561124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561127">bench</span><span class="op" id="8561132">(</span><span class="ident" id="8561133">b</span><span class="op" id="8561134">,</span>&nbsp;<span class="ident" id="8561136">color</span><span class="op" id="8561141">.</span><span class="ident" id="8561142">RGBAModel</span><span class="op" id="8561151">,</span>&nbsp;<span class="ident" id="8561153">color</span><span class="op" id="8561158">.</span><span class="ident" id="8561159">YCbCrModel</span><span class="op" id="8561169">,</span>&nbsp;<span class="ident" id="8561171">nil</span><span class="op" id="8561174">,</span>&nbsp;<span class="ident" id="8561176">Over</span><span class="op" id="8561180">)</span><br>
<span class="lineno">180</span><span class="op" id="8561182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8561185">func</span>&nbsp;<span class="ident" id="8561190">BenchmarkGlyphOver</span><span class="op" id="8561208">(</span><span class="ident" id="8561209">b</span>&nbsp;<span class="op" id="8561211">*</span><span class="ident" id="8561212">testing</span><span class="op" id="8561219">.</span><span class="ident" id="8561220">B</span><span class="op" id="8561221">)</span>&nbsp;<span class="op" id="8561223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561226">bench</span><span class="op" id="8561231">(</span><span class="ident" id="8561232">b</span><span class="op" id="8561233">,</span>&nbsp;<span class="ident" id="8561235">color</span><span class="op" id="8561240">.</span><span class="ident" id="8561241">RGBAModel</span><span class="op" id="8561250">,</span>&nbsp;<span class="ident" id="8561252">nil</span><span class="op" id="8561255">,</span>&nbsp;<span class="ident" id="8561257">color</span><span class="op" id="8561262">.</span><span class="ident" id="8561263">AlphaModel</span><span class="op" id="8561273">,</span>&nbsp;<span class="ident" id="8561275">Over</span><span class="op" id="8561279">)</span><br>
<span class="lineno"></span><span class="op" id="8561281">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8561284">func</span>&nbsp;<span class="ident" id="8561289">BenchmarkRGBA</span><span class="op" id="8561302">(</span><span class="ident" id="8561303">b</span>&nbsp;<span class="op" id="8561305">*</span><span class="ident" id="8561306">testing</span><span class="op" id="8561313">.</span><span class="ident" id="8561314">B</span><span class="op" id="8561315">)</span>&nbsp;<span class="op" id="8561317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561320">bench</span><span class="op" id="8561325">(</span><span class="ident" id="8561326">b</span><span class="op" id="8561327">,</span>&nbsp;<span class="ident" id="8561329">color</span><span class="op" id="8561334">.</span><span class="ident" id="8561335">RGBAModel</span><span class="op" id="8561344">,</span>&nbsp;<span class="ident" id="8561346">color</span><span class="op" id="8561351">.</span><span class="ident" id="8561352">RGBA64Model</span><span class="op" id="8561363">,</span>&nbsp;<span class="ident" id="8561365">nil</span><span class="op" id="8561368">,</span>&nbsp;<span class="ident" id="8561370">Src</span><span class="op" id="8561373">)</span><br>
<span class="lineno"></span><span class="op" id="8561375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="8561378">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8561454">func</span>&nbsp;<span class="ident" id="8561459">BenchmarkGenericOver</span><span class="op" id="8561479">(</span><span class="ident" id="8561480">b</span>&nbsp;<span class="op" id="8561482">*</span><span class="ident" id="8561483">testing</span><span class="op" id="8561490">.</span><span class="ident" id="8561491">B</span><span class="op" id="8561492">)</span>&nbsp;<span class="op" id="8561494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561497">bench</span><span class="op" id="8561502">(</span><span class="ident" id="8561503">b</span><span class="op" id="8561504">,</span>&nbsp;<span class="ident" id="8561506">color</span><span class="op" id="8561511">.</span><span class="ident" id="8561512">RGBA64Model</span><span class="op" id="8561523">,</span>&nbsp;<span class="ident" id="8561525">color</span><span class="op" id="8561530">.</span><span class="ident" id="8561531">RGBA64Model</span><span class="op" id="8561542">,</span>&nbsp;<span class="ident" id="8561544">nil</span><span class="op" id="8561547">,</span>&nbsp;<span class="ident" id="8561549">Over</span><span class="op" id="8561553">)</span><br>
<span class="lineno"></span><span class="op" id="8561555">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8561558">func</span>&nbsp;<span class="ident" id="8561563">BenchmarkGenericMaskOver</span><span class="op" id="8561587">(</span><span class="ident" id="8561588">b</span>&nbsp;<span class="op" id="8561590">*</span><span class="ident" id="8561591">testing</span><span class="op" id="8561598">.</span><span class="ident" id="8561599">B</span><span class="op" id="8561600">)</span>&nbsp;<span class="op" id="8561602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561605">bench</span><span class="op" id="8561610">(</span><span class="ident" id="8561611">b</span><span class="op" id="8561612">,</span>&nbsp;<span class="ident" id="8561614">color</span><span class="op" id="8561619">.</span><span class="ident" id="8561620">RGBA64Model</span><span class="op" id="8561631">,</span>&nbsp;<span class="ident" id="8561633">color</span><span class="op" id="8561638">.</span><span class="ident" id="8561639">RGBA64Model</span><span class="op" id="8561650">,</span>&nbsp;<span class="ident" id="8561652">color</span><span class="op" id="8561657">.</span><span class="ident" id="8561658">AlphaModel</span><span class="op" id="8561668">,</span>&nbsp;<span class="ident" id="8561670">Over</span><span class="op" id="8561674">)</span><br>
<span class="lineno"></span><span class="op" id="8561676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8561679">func</span>&nbsp;<span class="ident" id="8561684">BenchmarkGenericSrc</span><span class="op" id="8561703">(</span><span class="ident" id="8561704">b</span>&nbsp;<span class="op" id="8561706">*</span><span class="ident" id="8561707">testing</span><span class="op" id="8561714">.</span><span class="ident" id="8561715">B</span><span class="op" id="8561716">)</span>&nbsp;<span class="op" id="8561718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561721">bench</span><span class="op" id="8561726">(</span><span class="ident" id="8561727">b</span><span class="op" id="8561728">,</span>&nbsp;<span class="ident" id="8561730">color</span><span class="op" id="8561735">.</span><span class="ident" id="8561736">RGBA64Model</span><span class="op" id="8561747">,</span>&nbsp;<span class="ident" id="8561749">color</span><span class="op" id="8561754">.</span><span class="ident" id="8561755">RGBA64Model</span><span class="op" id="8561766">,</span>&nbsp;<span class="ident" id="8561768">nil</span><span class="op" id="8561771">,</span>&nbsp;<span class="ident" id="8561773">Src</span><span class="op" id="8561776">)</span><br>
<span class="lineno"></span><span class="op" id="8561778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8561781">func</span>&nbsp;<span class="ident" id="8561786">BenchmarkGenericMaskSrc</span><span class="op" id="8561809">(</span><span class="ident" id="8561810">b</span>&nbsp;<span class="op" id="8561812">*</span><span class="ident" id="8561813">testing</span><span class="op" id="8561820">.</span><span class="ident" id="8561821">B</span><span class="op" id="8561822">)</span>&nbsp;<span class="op" id="8561824">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8561827">bench</span><span class="op" id="8561832">(</span><span class="ident" id="8561833">b</span><span class="op" id="8561834">,</span>&nbsp;<span class="ident" id="8561836">color</span><span class="op" id="8561841">.</span><span class="ident" id="8561842">RGBA64Model</span><span class="op" id="8561853">,</span>&nbsp;<span class="ident" id="8561855">color</span><span class="op" id="8561860">.</span><span class="ident" id="8561861">RGBA64Model</span><span class="op" id="8561872">,</span>&nbsp;<span class="ident" id="8561874">color</span><span class="op" id="8561879">.</span><span class="ident" id="8561880">AlphaModel</span><span class="op" id="8561890">,</span>&nbsp;<span class="ident" id="8561892">Src</span><span class="op" id="8561895">)</span><br>
<span class="lineno"></span><span class="op" id="8561897">}</span>
</div>
</body>
</html>
