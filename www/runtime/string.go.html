<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1961924">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1961979">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1962033">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1962084">package</span>&nbsp;<span class="ident" id="1962092">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1962101">import</span>&nbsp;<span class="op" id="1962108">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1962111">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1962120">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1962123">func</span>&nbsp;<span class="ident" id="1962128">concatstrings</span><span class="op" id="1962141">(</span><span class="ident" id="1962142">a</span>&nbsp;<span class="op" id="1962144">[</span><span class="op" id="1962145">]</span><span class="builtintype" id="1962146">string</span><span class="op" id="1962152">)</span>&nbsp;<span class="builtintype" id="1962154">string</span>&nbsp;<span class="op" id="1962161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962164">idx</span>&nbsp;<span class="op" id="1962168">:=</span>&nbsp;<span class="num" id="1962171">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962174">l</span>&nbsp;<span class="op" id="1962176">:=</span>&nbsp;<span class="num" id="1962179">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962182">count</span>&nbsp;<span class="op" id="1962188">:=</span>&nbsp;<span class="num" id="1962191">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962194">for</span>&nbsp;<span class="ident" id="1962198">i</span><span class="op" id="1962199">,</span>&nbsp;<span class="ident" id="1962201">x</span>&nbsp;<span class="op" id="1962203">:=</span>&nbsp;<span class="keyword" id="1962206">range</span>&nbsp;<span class="ident" id="1962212"><a href="/runtime/string.go.html#1962142">a</a></span>&nbsp;<span class="op" id="1962214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962218">n</span>&nbsp;<span class="op" id="1962220">:=</span>&nbsp;<span class="builtinfunc" id="1962223">len</span><span class="op" id="1962226">(</span><span class="ident" id="1962227"><a href="/runtime/string.go.html#1962201">x</a></span><span class="op" id="1962228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962232">if</span>&nbsp;<span class="ident" id="1962235"><a href="/runtime/string.go.html#1962218">n</a></span>&nbsp;<span class="op" id="1962237">==</span>&nbsp;<span class="num" id="1962240">0</span>&nbsp;<span class="op" id="1962242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962247">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1962258">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962262">if</span>&nbsp;<span class="ident" id="1962265"><a href="/runtime/string.go.html#1962174">l</a></span><span class="op" id="1962266">+</span><span class="ident" id="1962267"><a href="/runtime/string.go.html#1962218">n</a></span>&nbsp;<span class="op" id="1962269">&lt;</span>&nbsp;<span class="ident" id="1962271"><a href="/runtime/string.go.html#1962174">l</a></span>&nbsp;<span class="op" id="1962273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962278"><a href="/runtime/panic.go.html#1894294">gothrow</a></span><span class="op" id="1962285">(</span><span class="string" id="1962286">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1962317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1962321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962325"><a href="/runtime/string.go.html#1962174">l</a></span>&nbsp;<span class="op" id="1962327">+=</span>&nbsp;<span class="ident" id="1962330"><a href="/runtime/string.go.html#1962218">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962334"><a href="/runtime/string.go.html#1962182">count</a></span><span class="op" id="1962339">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962344"><a href="/runtime/string.go.html#1962164">idx</a></span>&nbsp;<span class="op" id="1962348">=</span>&nbsp;<span class="ident" id="1962350"><a href="/runtime/string.go.html#1962198">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1962353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962356">if</span>&nbsp;<span class="ident" id="1962359"><a href="/runtime/string.go.html#1962182">count</a></span>&nbsp;<span class="op" id="1962365">==</span>&nbsp;<span class="num" id="1962368">0</span>&nbsp;<span class="op" id="1962370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962374">return</span>&nbsp;<span class="string" id="1962381">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1962385">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962388">if</span>&nbsp;<span class="ident" id="1962391"><a href="/runtime/string.go.html#1962182">count</a></span>&nbsp;<span class="op" id="1962397">==</span>&nbsp;<span class="num" id="1962400">1</span>&nbsp;<span class="op" id="1962402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962406">return</span>&nbsp;<span class="ident" id="1962413"><a href="/runtime/string.go.html#1962142">a</a></span><span class="op" id="1962414">[</span><span class="ident" id="1962415"><a href="/runtime/string.go.html#1962164">idx</a></span><span class="op" id="1962418">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1962421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962424">s</span><span class="op" id="1962425">,</span>&nbsp;<span class="ident" id="1962427">b</span>&nbsp;<span class="op" id="1962429">:=</span>&nbsp;<span class="ident" id="1962432"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1962441">(</span><span class="ident" id="1962442"><a href="/runtime/string.go.html#1962174">l</a></span><span class="op" id="1962443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962446"><a href="/runtime/string.go.html#1962174">l</a></span>&nbsp;<span class="op" id="1962448">=</span>&nbsp;<span class="num" id="1962450">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962453">for</span>&nbsp;<span class="ident" id="1962457">_</span><span class="op" id="1962458">,</span>&nbsp;<span class="ident" id="1962460">x</span>&nbsp;<span class="op" id="1962462">:=</span>&nbsp;<span class="keyword" id="1962465">range</span>&nbsp;<span class="ident" id="1962471"><a href="/runtime/string.go.html#1962142">a</a></span>&nbsp;<span class="op" id="1962473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1962477">copy</span><span class="op" id="1962481">(</span><span class="ident" id="1962482"><a href="/runtime/string.go.html#1962427">b</a></span><span class="op" id="1962483">[</span><span class="ident" id="1962484"><a href="/runtime/string.go.html#1962174">l</a></span><span class="op" id="1962485">:</span><span class="op" id="1962486">]</span><span class="op" id="1962487">,</span>&nbsp;<span class="ident" id="1962489"><a href="/runtime/string.go.html#1962460">x</a></span><span class="op" id="1962490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962494"><a href="/runtime/string.go.html#1962174">l</a></span>&nbsp;<span class="op" id="1962496">+=</span>&nbsp;<span class="builtinfunc" id="1962499">len</span><span class="op" id="1962502">(</span><span class="ident" id="1962503"><a href="/runtime/string.go.html#1962460">x</a></span><span class="op" id="1962504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1962507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962510">return</span>&nbsp;<span class="ident" id="1962517"><a href="/runtime/string.go.html#1962424">s</a></span><br>
<span class="lineno">40</span><span class="op" id="1962519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1962522">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1962535">func</span>&nbsp;<span class="ident" id="1962540">concatstring2</span><span class="op" id="1962553">(</span><span class="ident" id="1962554">a</span>&nbsp;<span class="op" id="1962556">[</span><span class="num" id="1962557">2</span><span class="op" id="1962558">]</span><span class="builtintype" id="1962559">string</span><span class="op" id="1962565">)</span>&nbsp;<span class="builtintype" id="1962567">string</span>&nbsp;<span class="op" id="1962574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962577">return</span>&nbsp;<span class="ident" id="1962584"><a href="/runtime/string.go.html#1962128">concatstrings</a></span><span class="op" id="1962597">(</span><span class="ident" id="1962598"><a href="/runtime/string.go.html#1962554">a</a></span><span class="op" id="1962599">[</span><span class="op" id="1962600">:</span><span class="op" id="1962601">]</span><span class="op" id="1962602">)</span><br>
<span class="lineno">45</span><span class="op" id="1962604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1962607">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1962620">func</span>&nbsp;<span class="ident" id="1962625">concatstring3</span><span class="op" id="1962638">(</span><span class="ident" id="1962639">a</span>&nbsp;<span class="op" id="1962641">[</span><span class="num" id="1962642">3</span><span class="op" id="1962643">]</span><span class="builtintype" id="1962644">string</span><span class="op" id="1962650">)</span>&nbsp;<span class="builtintype" id="1962652">string</span>&nbsp;<span class="op" id="1962659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962662">return</span>&nbsp;<span class="ident" id="1962669"><a href="/runtime/string.go.html#1962128">concatstrings</a></span><span class="op" id="1962682">(</span><span class="ident" id="1962683"><a href="/runtime/string.go.html#1962639">a</a></span><span class="op" id="1962684">[</span><span class="op" id="1962685">:</span><span class="op" id="1962686">]</span><span class="op" id="1962687">)</span><br>
<span class="lineno">50</span><span class="op" id="1962689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1962692">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1962705">func</span>&nbsp;<span class="ident" id="1962710">concatstring4</span><span class="op" id="1962723">(</span><span class="ident" id="1962724">a</span>&nbsp;<span class="op" id="1962726">[</span><span class="num" id="1962727">4</span><span class="op" id="1962728">]</span><span class="builtintype" id="1962729">string</span><span class="op" id="1962735">)</span>&nbsp;<span class="builtintype" id="1962737">string</span>&nbsp;<span class="op" id="1962744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962747">return</span>&nbsp;<span class="ident" id="1962754"><a href="/runtime/string.go.html#1962128">concatstrings</a></span><span class="op" id="1962767">(</span><span class="ident" id="1962768"><a href="/runtime/string.go.html#1962724">a</a></span><span class="op" id="1962769">[</span><span class="op" id="1962770">:</span><span class="op" id="1962771">]</span><span class="op" id="1962772">)</span><br>
<span class="lineno">55</span><span class="op" id="1962774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1962777">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1962790">func</span>&nbsp;<span class="ident" id="1962795">concatstring5</span><span class="op" id="1962808">(</span><span class="ident" id="1962809">a</span>&nbsp;<span class="op" id="1962811">[</span><span class="num" id="1962812">5</span><span class="op" id="1962813">]</span><span class="builtintype" id="1962814">string</span><span class="op" id="1962820">)</span>&nbsp;<span class="builtintype" id="1962822">string</span>&nbsp;<span class="op" id="1962829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962832">return</span>&nbsp;<span class="ident" id="1962839"><a href="/runtime/string.go.html#1962128">concatstrings</a></span><span class="op" id="1962852">(</span><span class="ident" id="1962853"><a href="/runtime/string.go.html#1962809">a</a></span><span class="op" id="1962854">[</span><span class="op" id="1962855">:</span><span class="op" id="1962856">]</span><span class="op" id="1962857">)</span><br>
<span class="lineno">60</span><span class="op" id="1962859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1962862">func</span>&nbsp;<span class="ident" id="1962867">slicebytetostring</span><span class="op" id="1962884">(</span><span class="ident" id="1962885">b</span>&nbsp;<span class="op" id="1962887">[</span><span class="op" id="1962888">]</span><span class="builtintype" id="1962889">byte</span><span class="op" id="1962893">)</span>&nbsp;<span class="builtintype" id="1962895">string</span>&nbsp;<span class="op" id="1962902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1962905">if</span>&nbsp;<span class="ident" id="1962908"><a href="/runtime/race0.go.html#1906481">raceenabled</a></span>&nbsp;<span class="op" id="1962920">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1962923">len</span><span class="op" id="1962926">(</span><span class="ident" id="1962927"><a href="/runtime/string.go.html#1962885">b</a></span><span class="op" id="1962928">)</span>&nbsp;<span class="op" id="1962930">&gt;</span>&nbsp;<span class="num" id="1962932">0</span>&nbsp;<span class="op" id="1962934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1962938"><a href="/runtime/race0.go.html#1907255">racereadrangepc</a></span><span class="op" id="1962953">(</span><span class="ident" id="1962954"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1962960">.</span><span class="ident" id="1962961">Pointer</span><span class="op" id="1962968">(</span><span class="op" id="1962969">&amp;</span><span class="ident" id="1962970"><a href="/runtime/string.go.html#1962885">b</a></span><span class="op" id="1962971">[</span><span class="num" id="1962972">0</span><span class="op" id="1962973">]</span><span class="op" id="1962974">)</span><span class="op" id="1962975">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1962980">uintptr</span><span class="op" id="1962987">(</span><span class="builtinfunc" id="1962988">len</span><span class="op" id="1962991">(</span><span class="ident" id="1962992"><a href="/runtime/string.go.html#1962885">b</a></span><span class="op" id="1962993">)</span><span class="op" id="1962994">)</span><span class="op" id="1962995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963000"><a href="/runtime/stubs.go.html#1976364">getcallerpc</a></span><span class="op" id="1963011">(</span><span class="ident" id="1963012"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1963018">.</span><span class="ident" id="1963019">Pointer</span><span class="op" id="1963026">(</span><span class="op" id="1963027">&amp;</span><span class="ident" id="1963028"><a href="/runtime/string.go.html#1962885">b</a></span><span class="op" id="1963029">)</span><span class="op" id="1963030">)</span><span class="op" id="1963031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963036"><a href="/runtime/proc.go.html#1905425">funcPC</a></span><span class="op" id="1963042">(</span><span class="ident" id="1963043"><a href="/runtime/string.go.html#1962867">slicebytetostring</a></span><span class="op" id="1963060">)</span><span class="op" id="1963061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1963064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963067">s</span><span class="op" id="1963068">,</span>&nbsp;<span class="ident" id="1963070">c</span>&nbsp;<span class="op" id="1963072">:=</span>&nbsp;<span class="ident" id="1963075"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1963084">(</span><span class="builtinfunc" id="1963085">len</span><span class="op" id="1963088">(</span><span class="ident" id="1963089"><a href="/runtime/string.go.html#1962885">b</a></span><span class="op" id="1963090">)</span><span class="op" id="1963091">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1963094">copy</span><span class="op" id="1963098">(</span><span class="ident" id="1963099"><a href="/runtime/string.go.html#1963070">c</a></span><span class="op" id="1963100">,</span>&nbsp;<span class="ident" id="1963102"><a href="/runtime/string.go.html#1962885">b</a></span><span class="op" id="1963103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1963106">return</span>&nbsp;<span class="ident" id="1963113"><a href="/runtime/string.go.html#1963067">s</a></span><br>
<span class="lineno"></span><span class="op" id="1963115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1963118">func</span>&nbsp;<span class="ident" id="1963123">slicebytetostringtmp</span><span class="op" id="1963143">(</span><span class="ident" id="1963144">b</span>&nbsp;<span class="op" id="1963146">[</span><span class="op" id="1963147">]</span><span class="builtintype" id="1963148">byte</span><span class="op" id="1963152">)</span>&nbsp;<span class="builtintype" id="1963154">string</span>&nbsp;<span class="op" id="1963161">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963164">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963224">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963284">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963344">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963405">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963454">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963515">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1963563">if</span>&nbsp;<span class="ident" id="1963566"><a href="/runtime/race0.go.html#1906481">raceenabled</a></span>&nbsp;<span class="op" id="1963578">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1963581">len</span><span class="op" id="1963584">(</span><span class="ident" id="1963585"><a href="/runtime/string.go.html#1963144">b</a></span><span class="op" id="1963586">)</span>&nbsp;<span class="op" id="1963588">&gt;</span>&nbsp;<span class="num" id="1963590">0</span>&nbsp;<span class="op" id="1963592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963596"><a href="/runtime/race0.go.html#1907255">racereadrangepc</a></span><span class="op" id="1963611">(</span><span class="ident" id="1963612"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1963618">.</span><span class="ident" id="1963619">Pointer</span><span class="op" id="1963626">(</span><span class="op" id="1963627">&amp;</span><span class="ident" id="1963628"><a href="/runtime/string.go.html#1963144">b</a></span><span class="op" id="1963629">[</span><span class="num" id="1963630">0</span><span class="op" id="1963631">]</span><span class="op" id="1963632">)</span><span class="op" id="1963633">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1963638">uintptr</span><span class="op" id="1963645">(</span><span class="builtinfunc" id="1963646">len</span><span class="op" id="1963649">(</span><span class="ident" id="1963650"><a href="/runtime/string.go.html#1963144">b</a></span><span class="op" id="1963651">)</span><span class="op" id="1963652">)</span><span class="op" id="1963653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963658"><a href="/runtime/stubs.go.html#1976364">getcallerpc</a></span><span class="op" id="1963669">(</span><span class="ident" id="1963670"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1963676">.</span><span class="ident" id="1963677">Pointer</span><span class="op" id="1963684">(</span><span class="op" id="1963685">&amp;</span><span class="ident" id="1963686"><a href="/runtime/string.go.html#1963144">b</a></span><span class="op" id="1963687">)</span><span class="op" id="1963688">)</span><span class="op" id="1963689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963694"><a href="/runtime/proc.go.html#1905425">funcPC</a></span><span class="op" id="1963700">(</span><span class="ident" id="1963701"><a href="/runtime/string.go.html#1963123">slicebytetostringtmp</a></span><span class="op" id="1963721">)</span><span class="op" id="1963722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1963725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1963728">return</span>&nbsp;<span class="op" id="1963735">*</span><span class="op" id="1963736">(</span><span class="op" id="1963737">*</span><span class="builtintype" id="1963738">string</span><span class="op" id="1963744">)</span><span class="op" id="1963745">(</span><span class="ident" id="1963746"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1963752">.</span><span class="ident" id="1963753">Pointer</span><span class="op" id="1963760">(</span><span class="op" id="1963761">&amp;</span><span class="ident" id="1963762"><a href="/runtime/string.go.html#1963144">b</a></span><span class="op" id="1963763">)</span><span class="op" id="1963764">)</span><br>
<span class="lineno">90</span><span class="op" id="1963766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1963769">func</span>&nbsp;<span class="ident" id="1963774">stringtoslicebyte</span><span class="op" id="1963791">(</span><span class="ident" id="1963792">s</span>&nbsp;<span class="builtintype" id="1963794">string</span><span class="op" id="1963800">)</span>&nbsp;<span class="op" id="1963802">[</span><span class="op" id="1963803">]</span><span class="builtintype" id="1963804">byte</span>&nbsp;<span class="op" id="1963809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963812">b</span>&nbsp;<span class="op" id="1963814">:=</span>&nbsp;<span class="ident" id="1963817"><a href="/runtime/string.go.html#1966279">rawbyteslice</a></span><span class="op" id="1963829">(</span><span class="builtinfunc" id="1963830">len</span><span class="op" id="1963833">(</span><span class="ident" id="1963834"><a href="/runtime/string.go.html#1963792">s</a></span><span class="op" id="1963835">)</span><span class="op" id="1963836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1963839">copy</span><span class="op" id="1963843">(</span><span class="ident" id="1963844"><a href="/runtime/string.go.html#1963812">b</a></span><span class="op" id="1963845">,</span>&nbsp;<span class="ident" id="1963847"><a href="/runtime/string.go.html#1963792">s</a></span><span class="op" id="1963848">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1963851">return</span>&nbsp;<span class="ident" id="1963858"><a href="/runtime/string.go.html#1963812">b</a></span><br>
<span class="lineno"></span><span class="op" id="1963860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1963863">func</span>&nbsp;<span class="ident" id="1963868">stringtoslicerune</span><span class="op" id="1963885">(</span><span class="ident" id="1963886">s</span>&nbsp;<span class="builtintype" id="1963888">string</span><span class="op" id="1963894">)</span>&nbsp;<span class="op" id="1963896">[</span><span class="op" id="1963897">]</span><span class="builtintype" id="1963898">rune</span>&nbsp;<span class="op" id="1963903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963906">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1963922">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963991">n</span>&nbsp;<span class="op" id="1963993">:=</span>&nbsp;<span class="num" id="1963996">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1963999">t</span>&nbsp;<span class="op" id="1964001">:=</span>&nbsp;<span class="ident" id="1964004"><a href="/runtime/string.go.html#1963886">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964007">for</span>&nbsp;<span class="builtinfunc" id="1964011">len</span><span class="op" id="1964014">(</span><span class="ident" id="1964015"><a href="/runtime/string.go.html#1963886">s</a></span><span class="op" id="1964016">)</span>&nbsp;<span class="op" id="1964018">&gt;</span>&nbsp;<span class="num" id="1964020">0</span>&nbsp;<span class="op" id="1964022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964026">_</span><span class="op" id="1964027">,</span>&nbsp;<span class="ident" id="1964029">k</span>&nbsp;<span class="op" id="1964031">:=</span>&nbsp;<span class="ident" id="1964034"><a href="/runtime/rune.go.html#1911735">charntorune</a></span><span class="op" id="1964045">(</span><span class="ident" id="1964046"><a href="/runtime/string.go.html#1963886">s</a></span><span class="op" id="1964047">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964051"><a href="/runtime/string.go.html#1963886">s</a></span>&nbsp;<span class="op" id="1964053">=</span>&nbsp;<span class="ident" id="1964055"><a href="/runtime/string.go.html#1963886">s</a></span><span class="op" id="1964056">[</span><span class="ident" id="1964057"><a href="/runtime/string.go.html#1964029">k</a></span><span class="op" id="1964058">:</span><span class="op" id="1964059">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964063"><a href="/runtime/string.go.html#1963991">n</a></span><span class="op" id="1964064">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1964068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964071">a</span>&nbsp;<span class="op" id="1964073">:=</span>&nbsp;<span class="ident" id="1964076"><a href="/runtime/string.go.html#1966715">rawruneslice</a></span><span class="op" id="1964088">(</span><span class="ident" id="1964089"><a href="/runtime/string.go.html#1963991">n</a></span><span class="op" id="1964090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964093"><a href="/runtime/string.go.html#1963991">n</a></span>&nbsp;<span class="op" id="1964095">=</span>&nbsp;<span class="num" id="1964097">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964100">for</span>&nbsp;<span class="builtinfunc" id="1964104">len</span><span class="op" id="1964107">(</span><span class="ident" id="1964108"><a href="/runtime/string.go.html#1963999">t</a></span><span class="op" id="1964109">)</span>&nbsp;<span class="op" id="1964111">&gt;</span>&nbsp;<span class="num" id="1964113">0</span>&nbsp;<span class="op" id="1964115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964119">r</span><span class="op" id="1964120">,</span>&nbsp;<span class="ident" id="1964122">k</span>&nbsp;<span class="op" id="1964124">:=</span>&nbsp;<span class="ident" id="1964127"><a href="/runtime/rune.go.html#1911735">charntorune</a></span><span class="op" id="1964138">(</span><span class="ident" id="1964139"><a href="/runtime/string.go.html#1963999">t</a></span><span class="op" id="1964140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964144"><a href="/runtime/string.go.html#1963999">t</a></span>&nbsp;<span class="op" id="1964146">=</span>&nbsp;<span class="ident" id="1964148"><a href="/runtime/string.go.html#1963999">t</a></span><span class="op" id="1964149">[</span><span class="ident" id="1964150"><a href="/runtime/string.go.html#1964122">k</a></span><span class="op" id="1964151">:</span><span class="op" id="1964152">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964156"><a href="/runtime/string.go.html#1964071">a</a></span><span class="op" id="1964157">[</span><span class="ident" id="1964158"><a href="/runtime/string.go.html#1963991">n</a></span><span class="op" id="1964159">]</span>&nbsp;<span class="op" id="1964161">=</span>&nbsp;<span class="ident" id="1964163"><a href="/runtime/string.go.html#1964119">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964167"><a href="/runtime/string.go.html#1963991">n</a></span><span class="op" id="1964168">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1964172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964175">return</span>&nbsp;<span class="ident" id="1964182"><a href="/runtime/string.go.html#1964071">a</a></span><br>
<span class="lineno"></span><span class="op" id="1964184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1964187">func</span>&nbsp;<span class="ident" id="1964192">slicerunetostring</span><span class="op" id="1964209">(</span><span class="ident" id="1964210">a</span>&nbsp;<span class="op" id="1964212">[</span><span class="op" id="1964213">]</span><span class="builtintype" id="1964214">rune</span><span class="op" id="1964218">)</span>&nbsp;<span class="builtintype" id="1964220">string</span>&nbsp;<span class="op" id="1964227">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964230">if</span>&nbsp;<span class="ident" id="1964233"><a href="/runtime/race0.go.html#1906481">raceenabled</a></span>&nbsp;<span class="op" id="1964245">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1964248">len</span><span class="op" id="1964251">(</span><span class="ident" id="1964252"><a href="/runtime/string.go.html#1964210">a</a></span><span class="op" id="1964253">)</span>&nbsp;<span class="op" id="1964255">&gt;</span>&nbsp;<span class="num" id="1964257">0</span>&nbsp;<span class="op" id="1964259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964263"><a href="/runtime/race0.go.html#1907255">racereadrangepc</a></span><span class="op" id="1964278">(</span><span class="ident" id="1964279"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1964285">.</span><span class="ident" id="1964286">Pointer</span><span class="op" id="1964293">(</span><span class="op" id="1964294">&amp;</span><span class="ident" id="1964295"><a href="/runtime/string.go.html#1964210">a</a></span><span class="op" id="1964296">[</span><span class="num" id="1964297">0</span><span class="op" id="1964298">]</span><span class="op" id="1964299">)</span><span class="op" id="1964300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1964305">uintptr</span><span class="op" id="1964312">(</span><span class="builtinfunc" id="1964313">len</span><span class="op" id="1964316">(</span><span class="ident" id="1964317"><a href="/runtime/string.go.html#1964210">a</a></span><span class="op" id="1964318">)</span><span class="op" id="1964319">)</span><span class="op" id="1964320">*</span><span class="ident" id="1964321"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1964327">.</span><span class="ident" id="1964328">Sizeof</span><span class="op" id="1964334">(</span><span class="ident" id="1964335"><a href="/runtime/string.go.html#1964210">a</a></span><span class="op" id="1964336">[</span><span class="num" id="1964337">0</span><span class="op" id="1964338">]</span><span class="op" id="1964339">)</span><span class="op" id="1964340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964345"><a href="/runtime/stubs.go.html#1976364">getcallerpc</a></span><span class="op" id="1964356">(</span><span class="ident" id="1964357"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1964363">.</span><span class="ident" id="1964364">Pointer</span><span class="op" id="1964371">(</span><span class="op" id="1964372">&amp;</span><span class="ident" id="1964373"><a href="/runtime/string.go.html#1964210">a</a></span><span class="op" id="1964374">)</span><span class="op" id="1964375">)</span><span class="op" id="1964376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964381"><a href="/runtime/proc.go.html#1905425">funcPC</a></span><span class="op" id="1964387">(</span><span class="ident" id="1964388"><a href="/runtime/string.go.html#1964192">slicerunetostring</a></span><span class="op" id="1964405">)</span><span class="op" id="1964406">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1964409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964412">var</span>&nbsp;<span class="ident" id="1964416">dum</span>&nbsp;<span class="op" id="1964420">[</span><span class="num" id="1964421">4</span><span class="op" id="1964422">]</span><span class="builtintype" id="1964423">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964429">size1</span>&nbsp;<span class="op" id="1964435">:=</span>&nbsp;<span class="num" id="1964438">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964441">for</span>&nbsp;<span class="ident" id="1964445">_</span><span class="op" id="1964446">,</span>&nbsp;<span class="ident" id="1964448">r</span>&nbsp;<span class="op" id="1964450">:=</span>&nbsp;<span class="keyword" id="1964453">range</span>&nbsp;<span class="ident" id="1964459"><a href="/runtime/string.go.html#1964210">a</a></span>&nbsp;<span class="op" id="1964461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964465"><a href="/runtime/string.go.html#1964429">size1</a></span>&nbsp;<span class="op" id="1964471">+=</span>&nbsp;<span class="ident" id="1964474"><a href="/runtime/rune.go.html#1913398">runetochar</a></span><span class="op" id="1964484">(</span><span class="ident" id="1964485"><a href="/runtime/string.go.html#1964416">dum</a></span><span class="op" id="1964488">[</span><span class="op" id="1964489">:</span><span class="op" id="1964490">]</span><span class="op" id="1964491">,</span>&nbsp;<span class="ident" id="1964493"><a href="/runtime/string.go.html#1964448">r</a></span><span class="op" id="1964494">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1964497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964500">s</span><span class="op" id="1964501">,</span>&nbsp;<span class="ident" id="1964503">b</span>&nbsp;<span class="op" id="1964505">:=</span>&nbsp;<span class="ident" id="1964508"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1964517">(</span><span class="ident" id="1964518"><a href="/runtime/string.go.html#1964429">size1</a></span>&nbsp;<span class="op" id="1964524">+</span>&nbsp;<span class="num" id="1964526">3</span><span class="op" id="1964527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964530">size2</span>&nbsp;<span class="op" id="1964536">:=</span>&nbsp;<span class="num" id="1964539">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964542">for</span>&nbsp;<span class="ident" id="1964546">_</span><span class="op" id="1964547">,</span>&nbsp;<span class="ident" id="1964549">r</span>&nbsp;<span class="op" id="1964551">:=</span>&nbsp;<span class="keyword" id="1964554">range</span>&nbsp;<span class="ident" id="1964560"><a href="/runtime/string.go.html#1964210">a</a></span>&nbsp;<span class="op" id="1964562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1964566">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964586">if</span>&nbsp;<span class="ident" id="1964589"><a href="/runtime/string.go.html#1964530">size2</a></span>&nbsp;<span class="op" id="1964595">&gt;=</span>&nbsp;<span class="ident" id="1964598"><a href="/runtime/string.go.html#1964429">size1</a></span>&nbsp;<span class="op" id="1964604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964609">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1964617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964621"><a href="/runtime/string.go.html#1964530">size2</a></span>&nbsp;<span class="op" id="1964627">+=</span>&nbsp;<span class="ident" id="1964630"><a href="/runtime/rune.go.html#1913398">runetochar</a></span><span class="op" id="1964640">(</span><span class="ident" id="1964641"><a href="/runtime/string.go.html#1964503">b</a></span><span class="op" id="1964642">[</span><span class="ident" id="1964643"><a href="/runtime/string.go.html#1964530">size2</a></span><span class="op" id="1964648">:</span><span class="op" id="1964649">]</span><span class="op" id="1964650">,</span>&nbsp;<span class="ident" id="1964652"><a href="/runtime/string.go.html#1964549">r</a></span><span class="op" id="1964653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1964656">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964659">return</span>&nbsp;<span class="ident" id="1964666"><a href="/runtime/string.go.html#1964500">s</a></span><span class="op" id="1964667">[</span><span class="op" id="1964668">:</span><span class="ident" id="1964669"><a href="/runtime/string.go.html#1964530">size2</a></span><span class="op" id="1964674">]</span><br>
<span class="lineno"></span><span class="op" id="1964676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1964679">type</span>&nbsp;<span class="ident" id="1964684">stringStruct</span>&nbsp;<span class="keyword" id="1964697">struct</span>&nbsp;<span class="op" id="1964704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964707">str</span>&nbsp;<span class="ident" id="1964711"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1964717">.</span><span class="ident" id="1964718">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1964727">len</span>&nbsp;<span class="builtintype" id="1964731">int</span><br>
<span class="lineno"></span><span class="op" id="1964735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1964738">func</span>&nbsp;<span class="ident" id="1964743">intstring</span><span class="op" id="1964752">(</span><span class="ident" id="1964753">v</span>&nbsp;<span class="ident" id="1964755">int64</span><span class="op" id="1964760">)</span>&nbsp;<span class="builtintype" id="1964762">string</span>&nbsp;<span class="op" id="1964769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964772">s</span><span class="op" id="1964773">,</span>&nbsp;<span class="ident" id="1964775">b</span>&nbsp;<span class="op" id="1964777">:=</span>&nbsp;<span class="ident" id="1964780"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1964789">(</span><span class="num" id="1964790">4</span><span class="op" id="1964791">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1964794">n</span>&nbsp;<span class="op" id="1964796">:=</span>&nbsp;<span class="ident" id="1964799"><a href="/runtime/rune.go.html#1913398">runetochar</a></span><span class="op" id="1964809">(</span><span class="ident" id="1964810"><a href="/runtime/string.go.html#1964775">b</a></span><span class="op" id="1964811">,</span>&nbsp;<span class="builtintype" id="1964813">rune</span><span class="op" id="1964817">(</span><span class="ident" id="1964818"><a href="/runtime/string.go.html#1964753">v</a></span><span class="op" id="1964819">)</span><span class="op" id="1964820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964823">return</span>&nbsp;<span class="ident" id="1964830"><a href="/runtime/string.go.html#1964772">s</a></span><span class="op" id="1964831">[</span><span class="op" id="1964832">:</span><span class="ident" id="1964833"><a href="/runtime/string.go.html#1964794">n</a></span><span class="op" id="1964834">]</span><br>
<span class="lineno"></span><span class="op" id="1964836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1964839">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1964883">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1964927">func</span>&nbsp;<span class="ident" id="1964932">stringiter</span><span class="op" id="1964942">(</span><span class="ident" id="1964943">s</span>&nbsp;<span class="builtintype" id="1964945">string</span><span class="op" id="1964951">,</span>&nbsp;<span class="ident" id="1964953">k</span>&nbsp;<span class="builtintype" id="1964955">int</span><span class="op" id="1964958">)</span>&nbsp;<span class="builtintype" id="1964960">int</span>&nbsp;<span class="op" id="1964964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1964967">if</span>&nbsp;<span class="ident" id="1964970"><a href="/runtime/string.go.html#1964953">k</a></span>&nbsp;<span class="op" id="1964972">&gt;=</span>&nbsp;<span class="builtinfunc" id="1964975">len</span><span class="op" id="1964978">(</span><span class="ident" id="1964979"><a href="/runtime/string.go.html#1964943">s</a></span><span class="op" id="1964980">)</span>&nbsp;<span class="op" id="1964982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1964986">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965013">return</span>&nbsp;<span class="num" id="1965020">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1965027">c</span>&nbsp;<span class="op" id="1965029">:=</span>&nbsp;<span class="ident" id="1965032"><a href="/runtime/string.go.html#1964943">s</a></span><span class="op" id="1965033">[</span><span class="ident" id="1965034"><a href="/runtime/string.go.html#1964953">k</a></span><span class="op" id="1965035">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965038">if</span>&nbsp;<span class="ident" id="1965041"><a href="/runtime/string.go.html#1965027">c</a></span>&nbsp;<span class="op" id="1965043">&lt;</span>&nbsp;<span class="ident" id="1965045"><a href="/runtime/rune.go.html#1910904">runeself</a></span>&nbsp;<span class="op" id="1965054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965058">return</span>&nbsp;<span class="ident" id="1965065"><a href="/runtime/string.go.html#1964953">k</a></span>&nbsp;<span class="op" id="1965067">+</span>&nbsp;<span class="num" id="1965069">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1965076">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1965096">_</span><span class="op" id="1965097">,</span>&nbsp;<span class="ident" id="1965099">n</span>&nbsp;<span class="op" id="1965101">:=</span>&nbsp;<span class="ident" id="1965104"><a href="/runtime/rune.go.html#1911735">charntorune</a></span><span class="op" id="1965115">(</span><span class="ident" id="1965116"><a href="/runtime/string.go.html#1964943">s</a></span><span class="op" id="1965117">[</span><span class="ident" id="1965118"><a href="/runtime/string.go.html#1964953">k</a></span><span class="op" id="1965119">:</span><span class="op" id="1965120">]</span><span class="op" id="1965121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965124">return</span>&nbsp;<span class="ident" id="1965131"><a href="/runtime/string.go.html#1964953">k</a></span>&nbsp;<span class="op" id="1965133">+</span>&nbsp;<span class="ident" id="1965135"><a href="/runtime/string.go.html#1965099">n</a></span><br>
<span class="lineno">170</span><span class="op" id="1965137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1965140">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1965192">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1965237">func</span>&nbsp;<span class="ident" id="1965242">stringiter2</span><span class="op" id="1965253">(</span><span class="ident" id="1965254">s</span>&nbsp;<span class="builtintype" id="1965256">string</span><span class="op" id="1965262">,</span>&nbsp;<span class="ident" id="1965264">k</span>&nbsp;<span class="builtintype" id="1965266">int</span><span class="op" id="1965269">)</span>&nbsp;<span class="op" id="1965271">(</span><span class="builtintype" id="1965272">int</span><span class="op" id="1965275">,</span>&nbsp;<span class="builtintype" id="1965277">rune</span><span class="op" id="1965281">)</span>&nbsp;<span class="op" id="1965283">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965286">if</span>&nbsp;<span class="ident" id="1965289"><a href="/runtime/string.go.html#1965264">k</a></span>&nbsp;<span class="op" id="1965291">&gt;=</span>&nbsp;<span class="builtinfunc" id="1965294">len</span><span class="op" id="1965297">(</span><span class="ident" id="1965298"><a href="/runtime/string.go.html#1965254">s</a></span><span class="op" id="1965299">)</span>&nbsp;<span class="op" id="1965301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1965305">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965332">return</span>&nbsp;<span class="num" id="1965339">0</span><span class="op" id="1965340">,</span>&nbsp;<span class="num" id="1965342">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1965349">c</span>&nbsp;<span class="op" id="1965351">:=</span>&nbsp;<span class="ident" id="1965354"><a href="/runtime/string.go.html#1965254">s</a></span><span class="op" id="1965355">[</span><span class="ident" id="1965356"><a href="/runtime/string.go.html#1965264">k</a></span><span class="op" id="1965357">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965360">if</span>&nbsp;<span class="ident" id="1965363"><a href="/runtime/string.go.html#1965349">c</a></span>&nbsp;<span class="op" id="1965365">&lt;</span>&nbsp;<span class="ident" id="1965367"><a href="/runtime/rune.go.html#1910904">runeself</a></span>&nbsp;<span class="op" id="1965376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965380">return</span>&nbsp;<span class="ident" id="1965387"><a href="/runtime/string.go.html#1965264">k</a></span>&nbsp;<span class="op" id="1965389">+</span>&nbsp;<span class="num" id="1965391">1</span><span class="op" id="1965392">,</span>&nbsp;<span class="builtintype" id="1965394">rune</span><span class="op" id="1965398">(</span><span class="ident" id="1965399"><a href="/runtime/string.go.html#1965349">c</a></span><span class="op" id="1965400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1965407">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1965427">r</span><span class="op" id="1965428">,</span>&nbsp;<span class="ident" id="1965430">n</span>&nbsp;<span class="op" id="1965432">:=</span>&nbsp;<span class="ident" id="1965435"><a href="/runtime/rune.go.html#1911735">charntorune</a></span><span class="op" id="1965446">(</span><span class="ident" id="1965447"><a href="/runtime/string.go.html#1965254">s</a></span><span class="op" id="1965448">[</span><span class="ident" id="1965449"><a href="/runtime/string.go.html#1965264">k</a></span><span class="op" id="1965450">:</span><span class="op" id="1965451">]</span><span class="op" id="1965452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1965455">return</span>&nbsp;<span class="ident" id="1965462"><a href="/runtime/string.go.html#1965264">k</a></span>&nbsp;<span class="op" id="1965464">+</span>&nbsp;<span class="ident" id="1965466"><a href="/runtime/string.go.html#1965430">n</a></span><span class="op" id="1965467">,</span>&nbsp;<span class="ident" id="1965469"><a href="/runtime/string.go.html#1965427">r</a></span><br>
<span class="lineno"></span><span class="op" id="1965471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1965474">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1965536">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1965593">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1965642">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1965691">func</span>&nbsp;<span class="ident" id="1965696">rawstring</span><span class="op" id="1965705">(</span><span class="ident" id="1965706">size</span>&nbsp;<span class="builtintype" id="1965711">int</span><span class="op" id="1965714">)</span>&nbsp;<span class="op" id="1965716">(</span><span class="ident" id="1965717">s</span>&nbsp;<span class="builtintype" id="1965719">string</span><span class="op" id="1965725">,</span>&nbsp;<span class="ident" id="1965727">b</span>&nbsp;<span class="op" id="1965729">[</span><span class="op" id="1965730">]</span><span class="builtintype" id="1965731">byte</span><span class="op" id="1965735">)</span>&nbsp;<span class="op" id="1965737">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1965740">p</span>&nbsp;<span class="op" id="1965742">:=</span>&nbsp;<span class="ident" id="1965745"><a href="/runtime/malloc.go.html#1819594">mallocgc</a></span><span class="op" id="1965753">(</span><span class="builtintype" id="1965754">uintptr</span><span class="op" id="1965761">(</span><span class="ident" id="1965762"><a href="/runtime/string.go.html#1965706">size</a></span><span class="op" id="1965766">)</span><span class="op" id="1965767">,</span>&nbsp;<span class="ident" id="1965769">nil</span><span class="op" id="1965772">,</span>&nbsp;<span class="ident" id="1965774"><a href="/runtime/malloc.go.html#1818822">flagNoScan</a></span><span class="op" id="1965784">|</span><span class="ident" id="1965785"><a href="/runtime/malloc.go.html#1818848">flagNoZero</a></span><span class="op" id="1965795">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965799">(</span><span class="op" id="1965800">*</span><span class="ident" id="1965801"><a href="/runtime/string.go.html#1964684">stringStruct</a></span><span class="op" id="1965813">)</span><span class="op" id="1965814">(</span><span class="ident" id="1965815"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1965821">.</span><span class="ident" id="1965822">Pointer</span><span class="op" id="1965829">(</span><span class="op" id="1965830">&amp;</span><span class="ident" id="1965831"><a href="/runtime/string.go.html#1965717">s</a></span><span class="op" id="1965832">)</span><span class="op" id="1965833">)</span><span class="op" id="1965834">.</span><span class="ident" id="1965835">str</span>&nbsp;<span class="op" id="1965839">=</span>&nbsp;<span class="ident" id="1965841"><a href="/runtime/string.go.html#1965740">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965844">(</span><span class="op" id="1965845">*</span><span class="ident" id="1965846"><a href="/runtime/string.go.html#1964684">stringStruct</a></span><span class="op" id="1965858">)</span><span class="op" id="1965859">(</span><span class="ident" id="1965860"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1965866">.</span><span class="ident" id="1965867">Pointer</span><span class="op" id="1965874">(</span><span class="op" id="1965875">&amp;</span><span class="ident" id="1965876"><a href="/runtime/string.go.html#1965717">s</a></span><span class="op" id="1965877">)</span><span class="op" id="1965878">)</span><span class="op" id="1965879">.</span><span class="builtinfunc" id="1965880">len</span>&nbsp;<span class="op" id="1965884">=</span>&nbsp;<span class="ident" id="1965886"><a href="/runtime/string.go.html#1965706">size</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965893">(</span><span class="op" id="1965894">*</span><span class="ident" id="1965895"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1965900">)</span><span class="op" id="1965901">(</span><span class="ident" id="1965902"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1965908">.</span><span class="ident" id="1965909">Pointer</span><span class="op" id="1965916">(</span><span class="op" id="1965917">&amp;</span><span class="ident" id="1965918"><a href="/runtime/string.go.html#1965727">b</a></span><span class="op" id="1965919">)</span><span class="op" id="1965920">)</span><span class="op" id="1965921">.</span><span class="ident" id="1965922">array</span>&nbsp;<span class="op" id="1965928">=</span>&nbsp;<span class="op" id="1965930">(</span><span class="op" id="1965931">*</span><span class="builtintype" id="1965932">uint8</span><span class="op" id="1965937">)</span><span class="op" id="1965938">(</span><span class="ident" id="1965939"><a href="/runtime/string.go.html#1965740">p</a></span><span class="op" id="1965940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965943">(</span><span class="op" id="1965944">*</span><span class="ident" id="1965945"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1965950">)</span><span class="op" id="1965951">(</span><span class="ident" id="1965952"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1965958">.</span><span class="ident" id="1965959">Pointer</span><span class="op" id="1965966">(</span><span class="op" id="1965967">&amp;</span><span class="ident" id="1965968"><a href="/runtime/string.go.html#1965727">b</a></span><span class="op" id="1965969">)</span><span class="op" id="1965970">)</span><span class="op" id="1965971">.</span><span class="builtinfunc" id="1965972">len</span>&nbsp;<span class="op" id="1965976">=</span>&nbsp;<span class="builtintype" id="1965978">uint</span><span class="op" id="1965982">(</span><span class="ident" id="1965983"><a href="/runtime/string.go.html#1965706">size</a></span><span class="op" id="1965987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1965990">(</span><span class="op" id="1965991">*</span><span class="ident" id="1965992"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1965997">)</span><span class="op" id="1965998">(</span><span class="ident" id="1965999"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1966005">.</span><span class="ident" id="1966006">Pointer</span><span class="op" id="1966013">(</span><span class="op" id="1966014">&amp;</span><span class="ident" id="1966015"><a href="/runtime/string.go.html#1965727">b</a></span><span class="op" id="1966016">)</span><span class="op" id="1966017">)</span><span class="op" id="1966018">.</span><span class="builtinfunc" id="1966019">cap</span>&nbsp;<span class="op" id="1966023">=</span>&nbsp;<span class="builtintype" id="1966025">uint</span><span class="op" id="1966029">(</span><span class="ident" id="1966030"><a href="/runtime/string.go.html#1965706">size</a></span><span class="op" id="1966034">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966038">for</span>&nbsp;<span class="op" id="1966042">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966046">ms</span>&nbsp;<span class="op" id="1966049">:=</span>&nbsp;<span class="ident" id="1966052"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2021374">maxstring</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966064">if</span>&nbsp;<span class="builtintype" id="1966067">uintptr</span><span class="op" id="1966074">(</span><span class="ident" id="1966075"><a href="/runtime/string.go.html#1965706">size</a></span><span class="op" id="1966079">)</span>&nbsp;<span class="op" id="1966081">&lt;=</span>&nbsp;<span class="builtintype" id="1966084">uintptr</span><span class="op" id="1966091">(</span><span class="ident" id="1966092"><a href="/runtime/string.go.html#1966046">ms</a></span><span class="op" id="1966094">)</span>&nbsp;<span class="op" id="1966096">||</span>&nbsp;<span class="ident" id="1966099"><a href="/runtime/stubs.go.html#1974846">casuintptr</a></span><span class="op" id="1966109">(</span><span class="op" id="1966110">(</span><span class="op" id="1966111">*</span><span class="builtintype" id="1966112">uintptr</span><span class="op" id="1966119">)</span><span class="op" id="1966120">(</span><span class="ident" id="1966121"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1966127">.</span><span class="ident" id="1966128">Pointer</span><span class="op" id="1966135">(</span><span class="op" id="1966136">&amp;</span><span class="ident" id="1966137"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2021374">maxstring</a></span><span class="op" id="1966146">)</span><span class="op" id="1966147">)</span><span class="op" id="1966148">,</span>&nbsp;<span class="builtintype" id="1966150">uintptr</span><span class="op" id="1966157">(</span><span class="ident" id="1966158"><a href="/runtime/string.go.html#1966046">ms</a></span><span class="op" id="1966160">)</span><span class="op" id="1966161">,</span>&nbsp;<span class="builtintype" id="1966163">uintptr</span><span class="op" id="1966170">(</span><span class="ident" id="1966171"><a href="/runtime/string.go.html#1965706">size</a></span><span class="op" id="1966175">)</span><span class="op" id="1966176">)</span>&nbsp;<span class="op" id="1966178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966183">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966195">}</span><br>
<span class="lineno">210</span><span class="op" id="1966197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1966200">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1966274">func</span>&nbsp;<span class="ident" id="1966279">rawbyteslice</span><span class="op" id="1966291">(</span><span class="ident" id="1966292">size</span>&nbsp;<span class="builtintype" id="1966297">int</span><span class="op" id="1966300">)</span>&nbsp;<span class="op" id="1966302">(</span><span class="ident" id="1966303">b</span>&nbsp;<span class="op" id="1966305">[</span><span class="op" id="1966306">]</span><span class="builtintype" id="1966307">byte</span><span class="op" id="1966311">)</span>&nbsp;<span class="op" id="1966313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1966316">cap</span>&nbsp;<span class="op" id="1966320">:=</span>&nbsp;<span class="ident" id="1966323"><a href="/runtime/malloc.go.html#1829245">goroundupsize</a></span><span class="op" id="1966336">(</span><span class="builtintype" id="1966337">uintptr</span><span class="op" id="1966344">(</span><span class="ident" id="1966345"><a href="/runtime/string.go.html#1966292">size</a></span><span class="op" id="1966349">)</span><span class="op" id="1966350">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966353">p</span>&nbsp;<span class="op" id="1966355">:=</span>&nbsp;<span class="ident" id="1966358"><a href="/runtime/malloc.go.html#1819594">mallocgc</a></span><span class="op" id="1966366">(</span><span class="builtinfunc" id="1966367"><a href="/runtime/string.go.html#1966316">cap</a></span><span class="op" id="1966370">,</span>&nbsp;<span class="ident" id="1966372">nil</span><span class="op" id="1966375">,</span>&nbsp;<span class="ident" id="1966377"><a href="/runtime/malloc.go.html#1818822">flagNoScan</a></span><span class="op" id="1966387">|</span><span class="ident" id="1966388"><a href="/runtime/malloc.go.html#1818848">flagNoZero</a></span><span class="op" id="1966398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966401">if</span>&nbsp;<span class="builtinfunc" id="1966404"><a href="/runtime/string.go.html#1966316">cap</a></span>&nbsp;<span class="op" id="1966408">!=</span>&nbsp;<span class="builtintype" id="1966411">uintptr</span><span class="op" id="1966418">(</span><span class="ident" id="1966419"><a href="/runtime/string.go.html#1966292">size</a></span><span class="op" id="1966423">)</span>&nbsp;<span class="op" id="1966425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966429"><a href="/runtime/stubs.go.html#1972552">memclr</a></span><span class="op" id="1966435">(</span><span class="ident" id="1966436"><a href="/runtime/stubs.go.html#1968610">add</a></span><span class="op" id="1966439">(</span><span class="ident" id="1966440"><a href="/runtime/string.go.html#1966353">p</a></span><span class="op" id="1966441">,</span>&nbsp;<span class="builtintype" id="1966443">uintptr</span><span class="op" id="1966450">(</span><span class="ident" id="1966451"><a href="/runtime/string.go.html#1966292">size</a></span><span class="op" id="1966455">)</span><span class="op" id="1966456">)</span><span class="op" id="1966457">,</span>&nbsp;<span class="builtinfunc" id="1966459"><a href="/runtime/string.go.html#1966316">cap</a></span><span class="op" id="1966462">-</span><span class="builtintype" id="1966463">uintptr</span><span class="op" id="1966470">(</span><span class="ident" id="1966471"><a href="/runtime/string.go.html#1966292">size</a></span><span class="op" id="1966475">)</span><span class="op" id="1966476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966483">(</span><span class="op" id="1966484">*</span><span class="ident" id="1966485"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1966490">)</span><span class="op" id="1966491">(</span><span class="ident" id="1966492"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1966498">.</span><span class="ident" id="1966499">Pointer</span><span class="op" id="1966506">(</span><span class="op" id="1966507">&amp;</span><span class="ident" id="1966508"><a href="/runtime/string.go.html#1966303">b</a></span><span class="op" id="1966509">)</span><span class="op" id="1966510">)</span><span class="op" id="1966511">.</span><span class="ident" id="1966512">array</span>&nbsp;<span class="op" id="1966518">=</span>&nbsp;<span class="op" id="1966520">(</span><span class="op" id="1966521">*</span><span class="builtintype" id="1966522">uint8</span><span class="op" id="1966527">)</span><span class="op" id="1966528">(</span><span class="ident" id="1966529"><a href="/runtime/string.go.html#1966353">p</a></span><span class="op" id="1966530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966533">(</span><span class="op" id="1966534">*</span><span class="ident" id="1966535"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1966540">)</span><span class="op" id="1966541">(</span><span class="ident" id="1966542"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1966548">.</span><span class="ident" id="1966549">Pointer</span><span class="op" id="1966556">(</span><span class="op" id="1966557">&amp;</span><span class="ident" id="1966558"><a href="/runtime/string.go.html#1966303">b</a></span><span class="op" id="1966559">)</span><span class="op" id="1966560">)</span><span class="op" id="1966561">.</span><span class="builtinfunc" id="1966562">len</span>&nbsp;<span class="op" id="1966566">=</span>&nbsp;<span class="builtintype" id="1966568">uint</span><span class="op" id="1966572">(</span><span class="ident" id="1966573"><a href="/runtime/string.go.html#1966292">size</a></span><span class="op" id="1966577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966580">(</span><span class="op" id="1966581">*</span><span class="ident" id="1966582"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1966587">)</span><span class="op" id="1966588">(</span><span class="ident" id="1966589"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1966595">.</span><span class="ident" id="1966596">Pointer</span><span class="op" id="1966603">(</span><span class="op" id="1966604">&amp;</span><span class="ident" id="1966605"><a href="/runtime/string.go.html#1966303">b</a></span><span class="op" id="1966606">)</span><span class="op" id="1966607">)</span><span class="op" id="1966608">.</span><span class="builtinfunc" id="1966609">cap</span>&nbsp;<span class="op" id="1966613">=</span>&nbsp;<span class="builtintype" id="1966615">uint</span><span class="op" id="1966619">(</span><span class="builtinfunc" id="1966620"><a href="/runtime/string.go.html#1966316">cap</a></span><span class="op" id="1966623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966626">return</span><br>
<span class="lineno"></span><span class="op" id="1966633">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1966636">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1966710">func</span>&nbsp;<span class="ident" id="1966715">rawruneslice</span><span class="op" id="1966727">(</span><span class="ident" id="1966728">size</span>&nbsp;<span class="builtintype" id="1966733">int</span><span class="op" id="1966736">)</span>&nbsp;<span class="op" id="1966738">(</span><span class="ident" id="1966739">b</span>&nbsp;<span class="op" id="1966741">[</span><span class="op" id="1966742">]</span><span class="builtintype" id="1966743">rune</span><span class="op" id="1966747">)</span>&nbsp;<span class="op" id="1966749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966752">if</span>&nbsp;<span class="builtintype" id="1966755">uintptr</span><span class="op" id="1966762">(</span><span class="ident" id="1966763"><a href="/runtime/string.go.html#1966728">size</a></span><span class="op" id="1966767">)</span>&nbsp;<span class="op" id="1966769">&gt;</span>&nbsp;<span class="ident" id="1966771"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2031855">maxmem</a></span><span class="op" id="1966777">/</span><span class="num" id="1966778">4</span>&nbsp;<span class="op" id="1966780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966784"><a href="/runtime/panic.go.html#1894294">gothrow</a></span><span class="op" id="1966791">(</span><span class="string" id="1966792">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1966807">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966813">mem</span>&nbsp;<span class="op" id="1966817">:=</span>&nbsp;<span class="ident" id="1966820"><a href="/runtime/malloc.go.html#1829245">goroundupsize</a></span><span class="op" id="1966833">(</span><span class="builtintype" id="1966834">uintptr</span><span class="op" id="1966841">(</span><span class="ident" id="1966842"><a href="/runtime/string.go.html#1966728">size</a></span><span class="op" id="1966846">)</span>&nbsp;<span class="op" id="1966848">*</span>&nbsp;<span class="num" id="1966850">4</span><span class="op" id="1966851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966854">p</span>&nbsp;<span class="op" id="1966856">:=</span>&nbsp;<span class="ident" id="1966859"><a href="/runtime/malloc.go.html#1819594">mallocgc</a></span><span class="op" id="1966867">(</span><span class="ident" id="1966868"><a href="/runtime/string.go.html#1966813">mem</a></span><span class="op" id="1966871">,</span>&nbsp;<span class="ident" id="1966873">nil</span><span class="op" id="1966876">,</span>&nbsp;<span class="ident" id="1966878"><a href="/runtime/malloc.go.html#1818822">flagNoScan</a></span><span class="op" id="1966888">|</span><span class="ident" id="1966889"><a href="/runtime/malloc.go.html#1818848">flagNoZero</a></span><span class="op" id="1966899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1966902">if</span>&nbsp;<span class="ident" id="1966905"><a href="/runtime/string.go.html#1966813">mem</a></span>&nbsp;<span class="op" id="1966909">!=</span>&nbsp;<span class="builtintype" id="1966912">uintptr</span><span class="op" id="1966919">(</span><span class="ident" id="1966920"><a href="/runtime/string.go.html#1966728">size</a></span><span class="op" id="1966924">)</span><span class="op" id="1966925">*</span><span class="num" id="1966926">4</span>&nbsp;<span class="op" id="1966928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1966932"><a href="/runtime/stubs.go.html#1972552">memclr</a></span><span class="op" id="1966938">(</span><span class="ident" id="1966939"><a href="/runtime/stubs.go.html#1968610">add</a></span><span class="op" id="1966942">(</span><span class="ident" id="1966943"><a href="/runtime/string.go.html#1966854">p</a></span><span class="op" id="1966944">,</span>&nbsp;<span class="builtintype" id="1966946">uintptr</span><span class="op" id="1966953">(</span><span class="ident" id="1966954"><a href="/runtime/string.go.html#1966728">size</a></span><span class="op" id="1966958">)</span><span class="op" id="1966959">*</span><span class="num" id="1966960">4</span><span class="op" id="1966961">)</span><span class="op" id="1966962">,</span>&nbsp;<span class="ident" id="1966964"><a href="/runtime/string.go.html#1966813">mem</a></span><span class="op" id="1966967">-</span><span class="builtintype" id="1966968">uintptr</span><span class="op" id="1966975">(</span><span class="ident" id="1966976"><a href="/runtime/string.go.html#1966728">size</a></span><span class="op" id="1966980">)</span><span class="op" id="1966981">*</span><span class="num" id="1966982">4</span><span class="op" id="1966983">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1966990">(</span><span class="op" id="1966991">*</span><span class="ident" id="1966992"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1966997">)</span><span class="op" id="1966998">(</span><span class="ident" id="1966999"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967005">.</span><span class="ident" id="1967006">Pointer</span><span class="op" id="1967013">(</span><span class="op" id="1967014">&amp;</span><span class="ident" id="1967015"><a href="/runtime/string.go.html#1966739">b</a></span><span class="op" id="1967016">)</span><span class="op" id="1967017">)</span><span class="op" id="1967018">.</span><span class="ident" id="1967019">array</span>&nbsp;<span class="op" id="1967025">=</span>&nbsp;<span class="op" id="1967027">(</span><span class="op" id="1967028">*</span><span class="builtintype" id="1967029">uint8</span><span class="op" id="1967034">)</span><span class="op" id="1967035">(</span><span class="ident" id="1967036"><a href="/runtime/string.go.html#1966854">p</a></span><span class="op" id="1967037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967040">(</span><span class="op" id="1967041">*</span><span class="ident" id="1967042"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1967047">)</span><span class="op" id="1967048">(</span><span class="ident" id="1967049"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967055">.</span><span class="ident" id="1967056">Pointer</span><span class="op" id="1967063">(</span><span class="op" id="1967064">&amp;</span><span class="ident" id="1967065"><a href="/runtime/string.go.html#1966739">b</a></span><span class="op" id="1967066">)</span><span class="op" id="1967067">)</span><span class="op" id="1967068">.</span><span class="builtinfunc" id="1967069">len</span>&nbsp;<span class="op" id="1967073">=</span>&nbsp;<span class="builtintype" id="1967075">uint</span><span class="op" id="1967079">(</span><span class="ident" id="1967080"><a href="/runtime/string.go.html#1966728">size</a></span><span class="op" id="1967084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967087">(</span><span class="op" id="1967088">*</span><span class="ident" id="1967089"><a href="/runtime/zruntime_defs_linux_amd64.go.html#2016561">slice</a></span><span class="op" id="1967094">)</span><span class="op" id="1967095">(</span><span class="ident" id="1967096"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967102">.</span><span class="ident" id="1967103">Pointer</span><span class="op" id="1967110">(</span><span class="op" id="1967111">&amp;</span><span class="ident" id="1967112"><a href="/runtime/string.go.html#1966739">b</a></span><span class="op" id="1967113">)</span><span class="op" id="1967114">)</span><span class="op" id="1967115">.</span><span class="builtinfunc" id="1967116">cap</span>&nbsp;<span class="op" id="1967120">=</span>&nbsp;<span class="builtintype" id="1967122">uint</span><span class="op" id="1967126">(</span><span class="ident" id="1967127"><a href="/runtime/string.go.html#1966813">mem</a></span>&nbsp;<span class="op" id="1967131">/</span>&nbsp;<span class="num" id="1967133">4</span><span class="op" id="1967134">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967137">return</span><br>
<span class="lineno"></span><span class="op" id="1967144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1967147">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1967166">func</span>&nbsp;<span class="ident" id="1967171">gobytes</span><span class="op" id="1967178">(</span><span class="ident" id="1967179">p</span>&nbsp;<span class="op" id="1967181">*</span><span class="builtintype" id="1967182">byte</span><span class="op" id="1967186">,</span>&nbsp;<span class="ident" id="1967188">n</span>&nbsp;<span class="builtintype" id="1967190">int</span><span class="op" id="1967193">)</span>&nbsp;<span class="op" id="1967195">[</span><span class="op" id="1967196">]</span><span class="builtintype" id="1967197">byte</span>&nbsp;<span class="op" id="1967202">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967205">if</span>&nbsp;<span class="ident" id="1967208"><a href="/runtime/string.go.html#1967188">n</a></span>&nbsp;<span class="op" id="1967210">==</span>&nbsp;<span class="num" id="1967213">0</span>&nbsp;<span class="op" id="1967215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967219">return</span>&nbsp;<span class="builtinfunc" id="1967226">make</span><span class="op" id="1967230">(</span><span class="op" id="1967231">[</span><span class="op" id="1967232">]</span><span class="builtintype" id="1967233">byte</span><span class="op" id="1967237">,</span>&nbsp;<span class="num" id="1967239">0</span><span class="op" id="1967240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967246">x</span>&nbsp;<span class="op" id="1967248">:=</span>&nbsp;<span class="builtinfunc" id="1967251">make</span><span class="op" id="1967255">(</span><span class="op" id="1967256">[</span><span class="op" id="1967257">]</span><span class="builtintype" id="1967258">byte</span><span class="op" id="1967262">,</span>&nbsp;<span class="ident" id="1967264"><a href="/runtime/string.go.html#1967188">n</a></span><span class="op" id="1967265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967268"><a href="/runtime/stubs.go.html#1972675">memmove</a></span><span class="op" id="1967275">(</span><span class="ident" id="1967276"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967282">.</span><span class="ident" id="1967283">Pointer</span><span class="op" id="1967290">(</span><span class="op" id="1967291">&amp;</span><span class="ident" id="1967292"><a href="/runtime/string.go.html#1967246">x</a></span><span class="op" id="1967293">[</span><span class="num" id="1967294">0</span><span class="op" id="1967295">]</span><span class="op" id="1967296">)</span><span class="op" id="1967297">,</span>&nbsp;<span class="ident" id="1967299"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967305">.</span><span class="ident" id="1967306">Pointer</span><span class="op" id="1967313">(</span><span class="ident" id="1967314"><a href="/runtime/string.go.html#1967179">p</a></span><span class="op" id="1967315">)</span><span class="op" id="1967316">,</span>&nbsp;<span class="builtintype" id="1967318">uintptr</span><span class="op" id="1967325">(</span><span class="ident" id="1967326"><a href="/runtime/string.go.html#1967188">n</a></span><span class="op" id="1967327">)</span><span class="op" id="1967328">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967331">return</span>&nbsp;<span class="ident" id="1967338"><a href="/runtime/string.go.html#1967246">x</a></span><br>
<span class="lineno"></span><span class="op" id="1967340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1967343">func</span>&nbsp;<span class="ident" id="1967348">gostringsize</span><span class="op" id="1967360">(</span><span class="ident" id="1967361">n</span>&nbsp;<span class="builtintype" id="1967363">int</span><span class="op" id="1967366">)</span>&nbsp;<span class="builtintype" id="1967368">string</span>&nbsp;<span class="op" id="1967375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967378">s</span><span class="op" id="1967379">,</span>&nbsp;<span class="ident" id="1967381">_</span>&nbsp;<span class="op" id="1967383">:=</span>&nbsp;<span class="ident" id="1967386"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1967395">(</span><span class="ident" id="1967396"><a href="/runtime/string.go.html#1967361">n</a></span><span class="op" id="1967397">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967400">return</span>&nbsp;<span class="ident" id="1967407"><a href="/runtime/string.go.html#1967378">s</a></span><br>
<span class="lineno"></span><span class="op" id="1967409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1967412">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1967426">func</span>&nbsp;<span class="ident" id="1967431">findnull</span><span class="op" id="1967439">(</span><span class="op" id="1967440">*</span><span class="builtintype" id="1967441">byte</span><span class="op" id="1967445">)</span>&nbsp;<span class="builtintype" id="1967447">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1967452">func</span>&nbsp;<span class="ident" id="1967457">gostring</span><span class="op" id="1967465">(</span><span class="ident" id="1967466">p</span>&nbsp;<span class="op" id="1967468">*</span><span class="builtintype" id="1967469">byte</span><span class="op" id="1967473">)</span>&nbsp;<span class="builtintype" id="1967475">string</span>&nbsp;<span class="op" id="1967482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967485">l</span>&nbsp;<span class="op" id="1967487">:=</span>&nbsp;<span class="ident" id="1967490"><a href="/runtime/string.go.html#1967431">findnull</a></span><span class="op" id="1967498">(</span><span class="ident" id="1967499"><a href="/runtime/string.go.html#1967466">p</a></span><span class="op" id="1967500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967503">if</span>&nbsp;<span class="ident" id="1967506"><a href="/runtime/string.go.html#1967485">l</a></span>&nbsp;<span class="op" id="1967508">==</span>&nbsp;<span class="num" id="1967511">0</span>&nbsp;<span class="op" id="1967513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967517">return</span>&nbsp;<span class="string" id="1967524">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967531">s</span><span class="op" id="1967532">,</span>&nbsp;<span class="ident" id="1967534">b</span>&nbsp;<span class="op" id="1967536">:=</span>&nbsp;<span class="ident" id="1967539"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1967548">(</span><span class="ident" id="1967549"><a href="/runtime/string.go.html#1967485">l</a></span><span class="op" id="1967550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967553"><a href="/runtime/stubs.go.html#1972675">memmove</a></span><span class="op" id="1967560">(</span><span class="ident" id="1967561"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967567">.</span><span class="ident" id="1967568">Pointer</span><span class="op" id="1967575">(</span><span class="op" id="1967576">&amp;</span><span class="ident" id="1967577"><a href="/runtime/string.go.html#1967534">b</a></span><span class="op" id="1967578">[</span><span class="num" id="1967579">0</span><span class="op" id="1967580">]</span><span class="op" id="1967581">)</span><span class="op" id="1967582">,</span>&nbsp;<span class="ident" id="1967584"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967590">.</span><span class="ident" id="1967591">Pointer</span><span class="op" id="1967598">(</span><span class="ident" id="1967599"><a href="/runtime/string.go.html#1967466">p</a></span><span class="op" id="1967600">)</span><span class="op" id="1967601">,</span>&nbsp;<span class="builtintype" id="1967603">uintptr</span><span class="op" id="1967610">(</span><span class="ident" id="1967611"><a href="/runtime/string.go.html#1967485">l</a></span><span class="op" id="1967612">)</span><span class="op" id="1967613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967616">return</span>&nbsp;<span class="ident" id="1967623"><a href="/runtime/string.go.html#1967531">s</a></span><br>
<span class="lineno"></span><span class="op" id="1967625">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1967628">func</span>&nbsp;<span class="ident" id="1967633">gostringn</span><span class="op" id="1967642">(</span><span class="ident" id="1967643">p</span>&nbsp;<span class="op" id="1967645">*</span><span class="builtintype" id="1967646">byte</span><span class="op" id="1967650">,</span>&nbsp;<span class="ident" id="1967652">l</span>&nbsp;<span class="builtintype" id="1967654">int</span><span class="op" id="1967657">)</span>&nbsp;<span class="builtintype" id="1967659">string</span>&nbsp;<span class="op" id="1967666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967669">if</span>&nbsp;<span class="ident" id="1967672"><a href="/runtime/string.go.html#1967652">l</a></span>&nbsp;<span class="op" id="1967674">==</span>&nbsp;<span class="num" id="1967677">0</span>&nbsp;<span class="op" id="1967679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967683">return</span>&nbsp;<span class="string" id="1967690">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967694">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967697">s</span><span class="op" id="1967698">,</span>&nbsp;<span class="ident" id="1967700">b</span>&nbsp;<span class="op" id="1967702">:=</span>&nbsp;<span class="ident" id="1967705"><a href="/runtime/string.go.html#1965696">rawstring</a></span><span class="op" id="1967714">(</span><span class="ident" id="1967715"><a href="/runtime/string.go.html#1967652">l</a></span><span class="op" id="1967716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1967719"><a href="/runtime/stubs.go.html#1972675">memmove</a></span><span class="op" id="1967726">(</span><span class="ident" id="1967727"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967733">.</span><span class="ident" id="1967734">Pointer</span><span class="op" id="1967741">(</span><span class="op" id="1967742">&amp;</span><span class="ident" id="1967743"><a href="/runtime/string.go.html#1967700">b</a></span><span class="op" id="1967744">[</span><span class="num" id="1967745">0</span><span class="op" id="1967746">]</span><span class="op" id="1967747">)</span><span class="op" id="1967748">,</span>&nbsp;<span class="ident" id="1967750"><a href="/runtime/string.go.html#1962111">unsafe</a></span><span class="op" id="1967756">.</span><span class="ident" id="1967757">Pointer</span><span class="op" id="1967764">(</span><span class="ident" id="1967765"><a href="/runtime/string.go.html#1967643">p</a></span><span class="op" id="1967766">)</span><span class="op" id="1967767">,</span>&nbsp;<span class="builtintype" id="1967769">uintptr</span><span class="op" id="1967776">(</span><span class="ident" id="1967777"><a href="/runtime/string.go.html#1967652">l</a></span><span class="op" id="1967778">)</span><span class="op" id="1967779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967782">return</span>&nbsp;<span class="ident" id="1967789"><a href="/runtime/string.go.html#1967697">s</a></span><br>
<span class="lineno"></span><span class="op" id="1967791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1967794">func</span>&nbsp;<span class="ident" id="1967799">index</span><span class="op" id="1967804">(</span><span class="ident" id="1967805">s</span><span class="op" id="1967806">,</span>&nbsp;<span class="ident" id="1967808">t</span>&nbsp;<span class="builtintype" id="1967810">string</span><span class="op" id="1967816">)</span>&nbsp;<span class="builtintype" id="1967818">int</span>&nbsp;<span class="op" id="1967822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967825">if</span>&nbsp;<span class="builtinfunc" id="1967828">len</span><span class="op" id="1967831">(</span><span class="ident" id="1967832"><a href="/runtime/string.go.html#1967808">t</a></span><span class="op" id="1967833">)</span>&nbsp;<span class="op" id="1967835">==</span>&nbsp;<span class="num" id="1967838">0</span>&nbsp;<span class="op" id="1967840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967844">return</span>&nbsp;<span class="num" id="1967851">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967857">for</span>&nbsp;<span class="ident" id="1967861">i</span>&nbsp;<span class="op" id="1967863">:=</span>&nbsp;<span class="num" id="1967866">0</span><span class="op" id="1967867">;</span>&nbsp;<span class="ident" id="1967869"><a href="/runtime/string.go.html#1967861">i</a></span>&nbsp;<span class="op" id="1967871">&lt;</span>&nbsp;<span class="builtinfunc" id="1967873">len</span><span class="op" id="1967876">(</span><span class="ident" id="1967877"><a href="/runtime/string.go.html#1967805">s</a></span><span class="op" id="1967878">)</span><span class="op" id="1967879">;</span>&nbsp;<span class="ident" id="1967881"><a href="/runtime/string.go.html#1967861">i</a></span><span class="op" id="1967882">++</span>&nbsp;<span class="op" id="1967885">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967889">if</span>&nbsp;<span class="ident" id="1967892"><a href="/runtime/string.go.html#1967805">s</a></span><span class="op" id="1967893">[</span><span class="ident" id="1967894"><a href="/runtime/string.go.html#1967861">i</a></span><span class="op" id="1967895">]</span>&nbsp;<span class="op" id="1967897">==</span>&nbsp;<span class="ident" id="1967900"><a href="/runtime/string.go.html#1967808">t</a></span><span class="op" id="1967901">[</span><span class="num" id="1967902">0</span><span class="op" id="1967903">]</span>&nbsp;<span class="op" id="1967905">&amp;&amp;</span>&nbsp;<span class="ident" id="1967908"><a href="/runtime/string.go.html#1968030">hasprefix</a></span><span class="op" id="1967917">(</span><span class="ident" id="1967918"><a href="/runtime/string.go.html#1967805">s</a></span><span class="op" id="1967919">[</span><span class="ident" id="1967920"><a href="/runtime/string.go.html#1967861">i</a></span><span class="op" id="1967921">:</span><span class="op" id="1967922">]</span><span class="op" id="1967923">,</span>&nbsp;<span class="ident" id="1967925"><a href="/runtime/string.go.html#1967808">t</a></span><span class="op" id="1967926">)</span>&nbsp;<span class="op" id="1967928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967933">return</span>&nbsp;<span class="ident" id="1967940"><a href="/runtime/string.go.html#1967861">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1967947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967950">return</span>&nbsp;<span class="op" id="1967957">-</span><span class="num" id="1967958">1</span><br>
<span class="lineno">290</span><span class="op" id="1967960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1967963">func</span>&nbsp;<span class="ident" id="1967968">contains</span><span class="op" id="1967976">(</span><span class="ident" id="1967977">s</span><span class="op" id="1967978">,</span>&nbsp;<span class="ident" id="1967980">t</span>&nbsp;<span class="builtintype" id="1967982">string</span><span class="op" id="1967988">)</span>&nbsp;<span class="builtintype" id="1967990">bool</span>&nbsp;<span class="op" id="1967995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1967998">return</span>&nbsp;<span class="ident" id="1968005"><a href="/runtime/string.go.html#1967799">index</a></span><span class="op" id="1968010">(</span><span class="ident" id="1968011"><a href="/runtime/string.go.html#1967977">s</a></span><span class="op" id="1968012">,</span>&nbsp;<span class="ident" id="1968014"><a href="/runtime/string.go.html#1967980">t</a></span><span class="op" id="1968015">)</span>&nbsp;<span class="op" id="1968017">&gt;=</span>&nbsp;<span class="num" id="1968020">0</span><br>
<span class="lineno"></span><span class="op" id="1968022">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1968025">func</span>&nbsp;<span class="ident" id="1968030">hasprefix</span><span class="op" id="1968039">(</span><span class="ident" id="1968040">s</span><span class="op" id="1968041">,</span>&nbsp;<span class="ident" id="1968043">t</span>&nbsp;<span class="builtintype" id="1968045">string</span><span class="op" id="1968051">)</span>&nbsp;<span class="builtintype" id="1968053">bool</span>&nbsp;<span class="op" id="1968058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1968061">return</span>&nbsp;<span class="builtinfunc" id="1968068">len</span><span class="op" id="1968071">(</span><span class="ident" id="1968072"><a href="/runtime/string.go.html#1968040">s</a></span><span class="op" id="1968073">)</span>&nbsp;<span class="op" id="1968075">&gt;=</span>&nbsp;<span class="builtinfunc" id="1968078">len</span><span class="op" id="1968081">(</span><span class="ident" id="1968082"><a href="/runtime/string.go.html#1968043">t</a></span><span class="op" id="1968083">)</span>&nbsp;<span class="op" id="1968085">&amp;&amp;</span>&nbsp;<span class="ident" id="1968088"><a href="/runtime/string.go.html#1968040">s</a></span><span class="op" id="1968089">[</span><span class="op" id="1968090">:</span><span class="builtinfunc" id="1968091">len</span><span class="op" id="1968094">(</span><span class="ident" id="1968095"><a href="/runtime/string.go.html#1968043">t</a></span><span class="op" id="1968096">)</span><span class="op" id="1968097">]</span>&nbsp;<span class="op" id="1968099">==</span>&nbsp;<span class="ident" id="1968102"><a href="/runtime/string.go.html#1968043">t</a></span><br>
<span class="lineno"></span><span class="op" id="1968104">}</span>
</div>
</body>
</html>
