<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>log</h2>
<ul>
<li><a href="/gostd/log/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/log/log.go.html">log.go</a></li>
<li><a href="/gostd/log/log_test.go.html" class="current">log_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8248889">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8248944">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8248998">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8249049">package</span>&nbsp;<span class="ident" id="8249057">log</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8249062">//&nbsp;These&nbsp;tests&nbsp;are&nbsp;too&nbsp;simple.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8249094">import</span>&nbsp;<span class="op" id="8249101">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8249104">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8249113">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8249119">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8249129">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8249139">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8249142">const</span>&nbsp;<span class="op" id="8249148">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249151">Rdate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249165">=</span>&nbsp;<span class="string" id="8249167">`[0-9][0-9][0-9][0-9]/[0-9][0-9]/[0-9][0-9]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249213">Rtime</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249227">=</span>&nbsp;<span class="string" id="8249229">`[0-9][0-9]:[0-9][0-9]:[0-9][0-9]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249265">Rmicroseconds</span>&nbsp;<span class="op" id="8249279">=</span>&nbsp;<span class="string" id="8249281">`\.[0-9][0-9][0-9][0-9][0-9][0-9]`</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249317">Rline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249331">=</span>&nbsp;<span class="string" id="8249333">`(54|56):`</span>&nbsp;<span class="comment" id="8249344">//&nbsp;must&nbsp;update&nbsp;if&nbsp;the&nbsp;calls&nbsp;to&nbsp;l.Printf&nbsp;/&nbsp;l.Print&nbsp;below&nbsp;move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249406">Rlongfile</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249420">=</span>&nbsp;<span class="string" id="8249422">`.*/[A-Za-z0-9_\-]+\.go:`</span>&nbsp;<span class="op" id="8249448">+</span>&nbsp;<span class="ident" id="8249450"><a href="/gostd/log/log_test.go.html#8249317">Rline</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249457">Rshortfile</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249471">=</span>&nbsp;<span class="string" id="8249473">`[A-Za-z0-9_\-]+\.go:`</span>&nbsp;<span class="op" id="8249496">+</span>&nbsp;<span class="ident" id="8249498"><a href="/gostd/log/log_test.go.html#8249317">Rline</a></span><br>
<span class="lineno"></span><span class="op" id="8249504">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8249507">type</span>&nbsp;<span class="ident" id="8249512">tester</span>&nbsp;<span class="keyword" id="8249519">struct</span>&nbsp;<span class="op" id="8249526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249529">flag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8249537">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249542">prefix</span>&nbsp;&nbsp;<span class="builtintype" id="8249550">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8249558">pattern</span>&nbsp;<span class="builtintype" id="8249566">string</span>&nbsp;<span class="comment" id="8249573">//&nbsp;regexp&nbsp;that&nbsp;log&nbsp;output&nbsp;must&nbsp;match;&nbsp;we&nbsp;add&nbsp;^&nbsp;and&nbsp;expected_text$&nbsp;always</span><br>
<span class="lineno"></span><span class="op" id="8249646">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="8249649">var</span>&nbsp;<span class="ident" id="8249653">tests</span>&nbsp;<span class="op" id="8249659">=</span>&nbsp;<span class="op" id="8249661">[</span><span class="op" id="8249662">]</span><span class="ident" id="8249663"><a href="/gostd/log/log_test.go.html#8249512">tester</a></span><span class="op" id="8249669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8249672">//&nbsp;individual&nbsp;pieces:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249695">{</span><span class="num" id="8249696">0</span><span class="op" id="8249697">,</span>&nbsp;<span class="string" id="8249699">&#34;&#34;</span><span class="op" id="8249701">,</span>&nbsp;<span class="string" id="8249703">&#34;&#34;</span><span class="op" id="8249705">}</span><span class="op" id="8249706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249709">{</span><span class="num" id="8249710">0</span><span class="op" id="8249711">,</span>&nbsp;<span class="string" id="8249713">&#34;XXX&#34;</span><span class="op" id="8249718">,</span>&nbsp;<span class="string" id="8249720">&#34;XXX&#34;</span><span class="op" id="8249725">}</span><span class="op" id="8249726">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249729">{</span><span class="ident" id="8249730"><a href="/gostd/log/log.go.html#4071686">Ldate</a></span><span class="op" id="8249735">,</span>&nbsp;<span class="string" id="8249737">&#34;&#34;</span><span class="op" id="8249739">,</span>&nbsp;<span class="ident" id="8249741"><a href="/gostd/log/log_test.go.html#8249151">Rdate</a></span>&nbsp;<span class="op" id="8249747">+</span>&nbsp;<span class="string" id="8249749">&#34;&nbsp;&#34;</span><span class="op" id="8249752">}</span><span class="op" id="8249753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249756">{</span><span class="ident" id="8249757"><a href="/gostd/log/log.go.html#4071741">Ltime</a></span><span class="op" id="8249762">,</span>&nbsp;<span class="string" id="8249764">&#34;&#34;</span><span class="op" id="8249766">,</span>&nbsp;<span class="ident" id="8249768"><a href="/gostd/log/log_test.go.html#8249213">Rtime</a></span>&nbsp;<span class="op" id="8249774">+</span>&nbsp;<span class="string" id="8249776">&#34;&nbsp;&#34;</span><span class="op" id="8249779">}</span><span class="op" id="8249780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249783">{</span><span class="ident" id="8249784"><a href="/gostd/log/log.go.html#4071741">Ltime</a></span>&nbsp;<span class="op" id="8249790">|</span>&nbsp;<span class="ident" id="8249792"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span><span class="op" id="8249805">,</span>&nbsp;<span class="string" id="8249807">&#34;&#34;</span><span class="op" id="8249809">,</span>&nbsp;<span class="ident" id="8249811"><a href="/gostd/log/log_test.go.html#8249213">Rtime</a></span>&nbsp;<span class="op" id="8249817">+</span>&nbsp;<span class="ident" id="8249819"><a href="/gostd/log/log_test.go.html#8249265">Rmicroseconds</a></span>&nbsp;<span class="op" id="8249833">+</span>&nbsp;<span class="string" id="8249835">&#34;&nbsp;&#34;</span><span class="op" id="8249838">}</span><span class="op" id="8249839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249842">{</span><span class="ident" id="8249843"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span><span class="op" id="8249856">,</span>&nbsp;<span class="string" id="8249858">&#34;&#34;</span><span class="op" id="8249860">,</span>&nbsp;<span class="ident" id="8249862"><a href="/gostd/log/log_test.go.html#8249213">Rtime</a></span>&nbsp;<span class="op" id="8249868">+</span>&nbsp;<span class="ident" id="8249870"><a href="/gostd/log/log_test.go.html#8249265">Rmicroseconds</a></span>&nbsp;<span class="op" id="8249884">+</span>&nbsp;<span class="string" id="8249886">&#34;&nbsp;&#34;</span><span class="op" id="8249889">}</span><span class="op" id="8249890">,</span>&nbsp;<span class="comment" id="8249892">//&nbsp;microsec&nbsp;implies&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249918">{</span><span class="ident" id="8249919"><a href="/gostd/log/log.go.html#4071885">Llongfile</a></span><span class="op" id="8249928">,</span>&nbsp;<span class="string" id="8249930">&#34;&#34;</span><span class="op" id="8249932">,</span>&nbsp;<span class="ident" id="8249934"><a href="/gostd/log/log_test.go.html#8249406">Rlongfile</a></span>&nbsp;<span class="op" id="8249944">+</span>&nbsp;<span class="string" id="8249946">&#34;&nbsp;&#34;</span><span class="op" id="8249949">}</span><span class="op" id="8249950">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249953">{</span><span class="ident" id="8249954"><a href="/gostd/log/log.go.html#4071966">Lshortfile</a></span><span class="op" id="8249964">,</span>&nbsp;<span class="string" id="8249966">&#34;&#34;</span><span class="op" id="8249968">,</span>&nbsp;<span class="ident" id="8249970"><a href="/gostd/log/log_test.go.html#8249457">Rshortfile</a></span>&nbsp;<span class="op" id="8249981">+</span>&nbsp;<span class="string" id="8249983">&#34;&nbsp;&#34;</span><span class="op" id="8249986">}</span><span class="op" id="8249987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8249990">{</span><span class="ident" id="8249991"><a href="/gostd/log/log.go.html#4071885">Llongfile</a></span>&nbsp;<span class="op" id="8250001">|</span>&nbsp;<span class="ident" id="8250003"><a href="/gostd/log/log.go.html#4071966">Lshortfile</a></span><span class="op" id="8250013">,</span>&nbsp;<span class="string" id="8250015">&#34;&#34;</span><span class="op" id="8250017">,</span>&nbsp;<span class="ident" id="8250019"><a href="/gostd/log/log_test.go.html#8249457">Rshortfile</a></span>&nbsp;<span class="op" id="8250030">+</span>&nbsp;<span class="string" id="8250032">&#34;&nbsp;&#34;</span><span class="op" id="8250035">}</span><span class="op" id="8250036">,</span>&nbsp;<span class="comment" id="8250038">//&nbsp;shortfile&nbsp;overrides&nbsp;longfile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8250071">//&nbsp;everything&nbsp;at&nbsp;once:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8250095">{</span><span class="ident" id="8250096"><a href="/gostd/log/log.go.html#4071686">Ldate</a></span>&nbsp;<span class="op" id="8250102">|</span>&nbsp;<span class="ident" id="8250104"><a href="/gostd/log/log.go.html#4071741">Ltime</a></span>&nbsp;<span class="op" id="8250110">|</span>&nbsp;<span class="ident" id="8250112"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span>&nbsp;<span class="op" id="8250126">|</span>&nbsp;<span class="ident" id="8250128"><a href="/gostd/log/log.go.html#4071885">Llongfile</a></span><span class="op" id="8250137">,</span>&nbsp;<span class="string" id="8250139">&#34;XXX&#34;</span><span class="op" id="8250144">,</span>&nbsp;<span class="string" id="8250146">&#34;XXX&#34;</span>&nbsp;<span class="op" id="8250152">+</span>&nbsp;<span class="ident" id="8250154"><a href="/gostd/log/log_test.go.html#8249151">Rdate</a></span>&nbsp;<span class="op" id="8250160">+</span>&nbsp;<span class="string" id="8250162">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="8250166">+</span>&nbsp;<span class="ident" id="8250168"><a href="/gostd/log/log_test.go.html#8249213">Rtime</a></span>&nbsp;<span class="op" id="8250174">+</span>&nbsp;<span class="ident" id="8250176"><a href="/gostd/log/log_test.go.html#8249265">Rmicroseconds</a></span>&nbsp;<span class="op" id="8250190">+</span>&nbsp;<span class="string" id="8250192">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="8250196">+</span>&nbsp;<span class="ident" id="8250198"><a href="/gostd/log/log_test.go.html#8249406">Rlongfile</a></span>&nbsp;<span class="op" id="8250208">+</span>&nbsp;<span class="string" id="8250210">&#34;&nbsp;&#34;</span><span class="op" id="8250213">}</span><span class="op" id="8250214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8250217">{</span><span class="ident" id="8250218"><a href="/gostd/log/log.go.html#4071686">Ldate</a></span>&nbsp;<span class="op" id="8250224">|</span>&nbsp;<span class="ident" id="8250226"><a href="/gostd/log/log.go.html#4071741">Ltime</a></span>&nbsp;<span class="op" id="8250232">|</span>&nbsp;<span class="ident" id="8250234"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span>&nbsp;<span class="op" id="8250248">|</span>&nbsp;<span class="ident" id="8250250"><a href="/gostd/log/log.go.html#4071966">Lshortfile</a></span><span class="op" id="8250260">,</span>&nbsp;<span class="string" id="8250262">&#34;XXX&#34;</span><span class="op" id="8250267">,</span>&nbsp;<span class="string" id="8250269">&#34;XXX&#34;</span>&nbsp;<span class="op" id="8250275">+</span>&nbsp;<span class="ident" id="8250277"><a href="/gostd/log/log_test.go.html#8249151">Rdate</a></span>&nbsp;<span class="op" id="8250283">+</span>&nbsp;<span class="string" id="8250285">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="8250289">+</span>&nbsp;<span class="ident" id="8250291"><a href="/gostd/log/log_test.go.html#8249213">Rtime</a></span>&nbsp;<span class="op" id="8250297">+</span>&nbsp;<span class="ident" id="8250299"><a href="/gostd/log/log_test.go.html#8249265">Rmicroseconds</a></span>&nbsp;<span class="op" id="8250313">+</span>&nbsp;<span class="string" id="8250315">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="8250319">+</span>&nbsp;<span class="ident" id="8250321"><a href="/gostd/log/log_test.go.html#8249457">Rshortfile</a></span>&nbsp;<span class="op" id="8250332">+</span>&nbsp;<span class="string" id="8250334">&#34;&nbsp;&#34;</span><span class="op" id="8250337">}</span><span class="op" id="8250338">,</span><br>
<span class="lineno">45</span><span class="op" id="8250340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8250343">//&nbsp;Test&nbsp;using&nbsp;Println(&#34;hello&#34;,&nbsp;23,&nbsp;&#34;world&#34;)&nbsp;or&nbsp;using&nbsp;Printf(&#34;hello&nbsp;%d&nbsp;world&#34;,&nbsp;23)</span><br>
<span class="lineno"></span><span class="keyword" id="8250425">func</span>&nbsp;<span class="ident" id="8250430">testPrint</span><span class="op" id="8250439">(</span><span class="ident" id="8250440">t</span>&nbsp;<span class="op" id="8250442">*</span><span class="ident" id="8250443"><a href="/gostd/log/log_test.go.html#8249129">testing</a></span><span class="op" id="8250450">.</span><span class="ident" id="8250451"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8250452">,</span>&nbsp;<span class="ident" id="8250454">flag</span>&nbsp;<span class="builtintype" id="8250459">int</span><span class="op" id="8250462">,</span>&nbsp;<span class="ident" id="8250464">prefix</span>&nbsp;<span class="builtintype" id="8250471">string</span><span class="op" id="8250477">,</span>&nbsp;<span class="ident" id="8250479">pattern</span>&nbsp;<span class="builtintype" id="8250487">string</span><span class="op" id="8250493">,</span>&nbsp;<span class="ident" id="8250495">useFormat</span>&nbsp;<span class="builtintype" id="8250505">bool</span><span class="op" id="8250509">)</span>&nbsp;<span class="op" id="8250511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250514">buf</span>&nbsp;<span class="op" id="8250518">:=</span>&nbsp;<span class="builtinfunc" id="8250521">new</span><span class="op" id="8250524">(</span><span class="ident" id="8250525"><a href="/gostd/log/log_test.go.html#8249104">bytes</a></span><span class="op" id="8250530">.</span><span class="ident" id="8250531"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="8250537">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250540"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="8250549">(</span><span class="ident" id="8250550"><a href="/gostd/log/log_test.go.html#8250514">buf</a></span><span class="op" id="8250553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250556"><a href="/gostd/log/log.go.html#4078053">SetFlags</a></span><span class="op" id="8250564">(</span><span class="ident" id="8250565"><a href="/gostd/log/log_test.go.html#8250454">flag</a></span><span class="op" id="8250569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250572"><a href="/gostd/log/log.go.html#4078271">SetPrefix</a></span><span class="op" id="8250581">(</span><span class="ident" id="8250582"><a href="/gostd/log/log_test.go.html#8250464">prefix</a></span><span class="op" id="8250588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8250591">if</span>&nbsp;<span class="ident" id="8250594"><a href="/gostd/log/log_test.go.html#8250495">useFormat</a></span>&nbsp;<span class="op" id="8250604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250608"><a href="/gostd/log/log.go.html#4078664">Printf</a></span><span class="op" id="8250614">(</span><span class="string" id="8250615">&#34;hello&nbsp;%d&nbsp;world&#34;</span><span class="op" id="8250631">,</span>&nbsp;<span class="num" id="8250633">23</span><span class="op" id="8250635">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8250638">}</span>&nbsp;<span class="keyword" id="8250640">else</span>&nbsp;<span class="op" id="8250645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250649"><a href="/gostd/log/log.go.html#4078868">Println</a></span><span class="op" id="8250656">(</span><span class="string" id="8250657">&#34;hello&#34;</span><span class="op" id="8250664">,</span>&nbsp;<span class="num" id="8250666">23</span><span class="op" id="8250668">,</span>&nbsp;<span class="string" id="8250670">&#34;world&#34;</span><span class="op" id="8250677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8250680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250683">line</span>&nbsp;<span class="op" id="8250688">:=</span>&nbsp;<span class="ident" id="8250691"><a href="/gostd/log/log_test.go.html#8250514">buf</a></span><span class="op" id="8250694">.</span><span class="ident" id="8250695"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8250701">(</span><span class="op" id="8250702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250705"><a href="/gostd/log/log_test.go.html#8250683">line</a></span>&nbsp;<span class="op" id="8250710">=</span>&nbsp;<span class="ident" id="8250712"><a href="/gostd/log/log_test.go.html#8250683">line</a></span><span class="op" id="8250716">[</span><span class="num" id="8250717">0</span>&nbsp;<span class="op" id="8250719">:</span>&nbsp;<span class="builtinfunc" id="8250721">len</span><span class="op" id="8250724">(</span><span class="ident" id="8250725"><a href="/gostd/log/log_test.go.html#8250683">line</a></span><span class="op" id="8250729">)</span><span class="op" id="8250730">-</span><span class="num" id="8250731">1</span><span class="op" id="8250732">]</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250735"><a href="/gostd/log/log_test.go.html#8250479">pattern</a></span>&nbsp;<span class="op" id="8250743">=</span>&nbsp;<span class="string" id="8250745">&#34;^&#34;</span>&nbsp;<span class="op" id="8250749">+</span>&nbsp;<span class="ident" id="8250751"><a href="/gostd/log/log_test.go.html#8250479">pattern</a></span>&nbsp;<span class="op" id="8250759">+</span>&nbsp;<span class="string" id="8250761">&#34;hello&nbsp;23&nbsp;world$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250780">matched</span><span class="op" id="8250787">,</span>&nbsp;<span class="ident" id="8250789">err4</span>&nbsp;<span class="op" id="8250794">:=</span>&nbsp;<span class="ident" id="8250797"><a href="/gostd/log/log_test.go.html#8249119">regexp</a></span><span class="op" id="8250803">.</span><span class="ident" id="8250804"><a href="/gostd/regexp/regexp.go.html#3577074">MatchString</a></span><span class="op" id="8250815">(</span><span class="ident" id="8250816"><a href="/gostd/log/log_test.go.html#8250479">pattern</a></span><span class="op" id="8250823">,</span>&nbsp;<span class="ident" id="8250825"><a href="/gostd/log/log_test.go.html#8250683">line</a></span><span class="op" id="8250829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8250832">if</span>&nbsp;<span class="ident" id="8250835"><a href="/gostd/log/log_test.go.html#8250789">err4</a></span>&nbsp;<span class="op" id="8250840">!=</span>&nbsp;<span class="builtintype" id="8250843">nil</span>&nbsp;<span class="op" id="8250847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250851"><a href="/gostd/log/log_test.go.html#8250440">t</a></span><span class="op" id="8250852">.</span><span class="ident" id="8250853"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8250858">(</span><span class="string" id="8250859">&#34;pattern&nbsp;did&nbsp;not&nbsp;compile:&#34;</span><span class="op" id="8250885">,</span>&nbsp;<span class="ident" id="8250887"><a href="/gostd/log/log_test.go.html#8250789">err4</a></span><span class="op" id="8250891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8250894">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8250897">if</span>&nbsp;<span class="op" id="8250900">!</span><span class="ident" id="8250901"><a href="/gostd/log/log_test.go.html#8250780">matched</a></span>&nbsp;<span class="op" id="8250909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250913"><a href="/gostd/log/log_test.go.html#8250440">t</a></span><span class="op" id="8250914">.</span><span class="ident" id="8250915"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8250921">(</span><span class="string" id="8250922">&#34;log&nbsp;output&nbsp;should&nbsp;match&nbsp;%q&nbsp;is&nbsp;%q&#34;</span><span class="op" id="8250956">,</span>&nbsp;<span class="ident" id="8250958"><a href="/gostd/log/log_test.go.html#8250479">pattern</a></span><span class="op" id="8250965">,</span>&nbsp;<span class="ident" id="8250967"><a href="/gostd/log/log_test.go.html#8250683">line</a></span><span class="op" id="8250971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8250974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8250977"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="8250986">(</span><span class="ident" id="8250987"><a href="/gostd/log/log_test.go.html#8249113">os</a></span><span class="op" id="8250989">.</span><span class="ident" id="8250990"><a href="/gostd/os/file.go.html#2441872">Stderr</a></span><span class="op" id="8250996">)</span><br>
<span class="lineno"></span><span class="op" id="8250998">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8251001">func</span>&nbsp;<span class="ident" id="8251006">TestAll</span><span class="op" id="8251013">(</span><span class="ident" id="8251014">t</span>&nbsp;<span class="op" id="8251016">*</span><span class="ident" id="8251017"><a href="/gostd/log/log_test.go.html#8249129">testing</a></span><span class="op" id="8251024">.</span><span class="ident" id="8251025"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8251026">)</span>&nbsp;<span class="op" id="8251028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251031">for</span>&nbsp;<span class="ident" id="8251035">_</span><span class="op" id="8251036">,</span>&nbsp;<span class="ident" id="8251038">testcase</span>&nbsp;<span class="op" id="8251047">:=</span>&nbsp;<span class="keyword" id="8251050">range</span>&nbsp;<span class="ident" id="8251056"><a href="/gostd/log/log_test.go.html#8249653">tests</a></span>&nbsp;<span class="op" id="8251062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251066"><a href="/gostd/log/log_test.go.html#8250430">testPrint</a></span><span class="op" id="8251075">(</span><span class="ident" id="8251076"><a href="/gostd/log/log_test.go.html#8251014">t</a></span><span class="op" id="8251077">,</span>&nbsp;<span class="ident" id="8251079"><a href="/gostd/log/log_test.go.html#8251038">testcase</a></span><span class="op" id="8251087">.</span><span class="ident" id="8251088"><a href="/gostd/log/log_test.go.html#8249529">flag</a></span><span class="op" id="8251092">,</span>&nbsp;<span class="ident" id="8251094"><a href="/gostd/log/log_test.go.html#8251038">testcase</a></span><span class="op" id="8251102">.</span><span class="ident" id="8251103"><a href="/gostd/log/log_test.go.html#8249542">prefix</a></span><span class="op" id="8251109">,</span>&nbsp;<span class="ident" id="8251111"><a href="/gostd/log/log_test.go.html#8251038">testcase</a></span><span class="op" id="8251119">.</span><span class="ident" id="8251120"><a href="/gostd/log/log_test.go.html#8249558">pattern</a></span><span class="op" id="8251127">,</span>&nbsp;<span class="builtintype" id="8251129">false</span><span class="op" id="8251134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251138"><a href="/gostd/log/log_test.go.html#8250430">testPrint</a></span><span class="op" id="8251147">(</span><span class="ident" id="8251148"><a href="/gostd/log/log_test.go.html#8251014">t</a></span><span class="op" id="8251149">,</span>&nbsp;<span class="ident" id="8251151"><a href="/gostd/log/log_test.go.html#8251038">testcase</a></span><span class="op" id="8251159">.</span><span class="ident" id="8251160"><a href="/gostd/log/log_test.go.html#8249529">flag</a></span><span class="op" id="8251164">,</span>&nbsp;<span class="ident" id="8251166"><a href="/gostd/log/log_test.go.html#8251038">testcase</a></span><span class="op" id="8251174">.</span><span class="ident" id="8251175"><a href="/gostd/log/log_test.go.html#8249542">prefix</a></span><span class="op" id="8251181">,</span>&nbsp;<span class="ident" id="8251183"><a href="/gostd/log/log_test.go.html#8251038">testcase</a></span><span class="op" id="8251191">.</span><span class="ident" id="8251192"><a href="/gostd/log/log_test.go.html#8249558">pattern</a></span><span class="op" id="8251199">,</span>&nbsp;<span class="builtintype" id="8251201">true</span><span class="op" id="8251205">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8251208">}</span><br>
<span class="lineno"></span><span class="op" id="8251210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8251213">func</span>&nbsp;<span class="ident" id="8251218">TestOutput</span><span class="op" id="8251228">(</span><span class="ident" id="8251229">t</span>&nbsp;<span class="op" id="8251231">*</span><span class="ident" id="8251232"><a href="/gostd/log/log_test.go.html#8249129">testing</a></span><span class="op" id="8251239">.</span><span class="ident" id="8251240"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8251241">)</span>&nbsp;<span class="op" id="8251243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251246">const</span>&nbsp;<span class="ident" id="8251252">testString</span>&nbsp;<span class="op" id="8251263">=</span>&nbsp;<span class="string" id="8251265">&#34;test&#34;</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251273">var</span>&nbsp;<span class="ident" id="8251277">b</span>&nbsp;<span class="ident" id="8251279"><a href="/gostd/log/log_test.go.html#8249104">bytes</a></span><span class="op" id="8251284">.</span><span class="ident" id="8251285"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251293">l</span>&nbsp;<span class="op" id="8251295">:=</span>&nbsp;<span class="ident" id="8251298"><a href="/gostd/log/log.go.html#4072962">New</a></span><span class="op" id="8251301">(</span><span class="op" id="8251302">&amp;</span><span class="ident" id="8251303"><a href="/gostd/log/log_test.go.html#8251277">b</a></span><span class="op" id="8251304">,</span>&nbsp;<span class="string" id="8251306">&#34;&#34;</span><span class="op" id="8251308">,</span>&nbsp;<span class="num" id="8251310">0</span><span class="op" id="8251311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251314"><a href="/gostd/log/log_test.go.html#8251293">l</a></span><span class="op" id="8251315">.</span><span class="ident" id="8251316"><a href="/gostd/log/log.go.html#4076076">Println</a></span><span class="op" id="8251323">(</span><span class="ident" id="8251324"><a href="/gostd/log/log_test.go.html#8251252">testString</a></span><span class="op" id="8251334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251337">if</span>&nbsp;<span class="ident" id="8251340">expect</span>&nbsp;<span class="op" id="8251347">:=</span>&nbsp;<span class="ident" id="8251350"><a href="/gostd/log/log_test.go.html#8251252">testString</a></span>&nbsp;<span class="op" id="8251361">+</span>&nbsp;<span class="string" id="8251363">&#34;\n&#34;</span><span class="op" id="8251367">;</span>&nbsp;<span class="ident" id="8251369"><a href="/gostd/log/log_test.go.html#8251277">b</a></span><span class="op" id="8251370">.</span><span class="ident" id="8251371"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8251377">(</span><span class="op" id="8251378">)</span>&nbsp;<span class="op" id="8251380">!=</span>&nbsp;<span class="ident" id="8251383"><a href="/gostd/log/log_test.go.html#8251340">expect</a></span>&nbsp;<span class="op" id="8251390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251394"><a href="/gostd/log/log_test.go.html#8251229">t</a></span><span class="op" id="8251395">.</span><span class="ident" id="8251396"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8251402">(</span><span class="string" id="8251403">&#34;log&nbsp;output&nbsp;should&nbsp;match&nbsp;%q&nbsp;is&nbsp;%q&#34;</span><span class="op" id="8251437">,</span>&nbsp;<span class="ident" id="8251439"><a href="/gostd/log/log_test.go.html#8251340">expect</a></span><span class="op" id="8251445">,</span>&nbsp;<span class="ident" id="8251447"><a href="/gostd/log/log_test.go.html#8251277">b</a></span><span class="op" id="8251448">.</span><span class="ident" id="8251449"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8251455">(</span><span class="op" id="8251456">)</span><span class="op" id="8251457">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8251460">}</span><br>
<span class="lineno"></span><span class="op" id="8251462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8251465">func</span>&nbsp;<span class="ident" id="8251470">TestFlagAndPrefixSetting</span><span class="op" id="8251494">(</span><span class="ident" id="8251495">t</span>&nbsp;<span class="op" id="8251497">*</span><span class="ident" id="8251498"><a href="/gostd/log/log_test.go.html#8249129">testing</a></span><span class="op" id="8251505">.</span><span class="ident" id="8251506"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8251507">)</span>&nbsp;<span class="op" id="8251509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251512">var</span>&nbsp;<span class="ident" id="8251516">b</span>&nbsp;<span class="ident" id="8251518"><a href="/gostd/log/log_test.go.html#8249104">bytes</a></span><span class="op" id="8251523">.</span><span class="ident" id="8251524"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251532">l</span>&nbsp;<span class="op" id="8251534">:=</span>&nbsp;<span class="ident" id="8251537"><a href="/gostd/log/log.go.html#4072962">New</a></span><span class="op" id="8251540">(</span><span class="op" id="8251541">&amp;</span><span class="ident" id="8251542"><a href="/gostd/log/log_test.go.html#8251516">b</a></span><span class="op" id="8251543">,</span>&nbsp;<span class="string" id="8251545">&#34;Test:&#34;</span><span class="op" id="8251552">,</span>&nbsp;<span class="ident" id="8251554"><a href="/gostd/log/log.go.html#4072070">LstdFlags</a></span><span class="op" id="8251563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251566">f</span>&nbsp;<span class="op" id="8251568">:=</span>&nbsp;<span class="ident" id="8251571"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8251572">.</span><span class="ident" id="8251573"><a href="/gostd/log/log.go.html#4077239">Flags</a></span><span class="op" id="8251578">(</span><span class="op" id="8251579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251582">if</span>&nbsp;<span class="ident" id="8251585"><a href="/gostd/log/log_test.go.html#8251566">f</a></span>&nbsp;<span class="op" id="8251587">!=</span>&nbsp;<span class="ident" id="8251590"><a href="/gostd/log/log.go.html#4072070">LstdFlags</a></span>&nbsp;<span class="op" id="8251600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251604"><a href="/gostd/log/log_test.go.html#8251495">t</a></span><span class="op" id="8251605">.</span><span class="ident" id="8251606"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8251612">(</span><span class="string" id="8251613">&#34;Flags&nbsp;1:&nbsp;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="8251642">,</span>&nbsp;<span class="ident" id="8251644"><a href="/gostd/log/log.go.html#4072070">LstdFlags</a></span><span class="op" id="8251653">,</span>&nbsp;<span class="ident" id="8251655"><a href="/gostd/log/log_test.go.html#8251566">f</a></span><span class="op" id="8251656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8251659">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251662"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8251663">.</span><span class="ident" id="8251664"><a href="/gostd/log/log.go.html#4077372">SetFlags</a></span><span class="op" id="8251672">(</span><span class="ident" id="8251673"><a href="/gostd/log/log_test.go.html#8251566">f</a></span>&nbsp;<span class="op" id="8251675">|</span>&nbsp;<span class="ident" id="8251677"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span><span class="op" id="8251690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251693"><a href="/gostd/log/log_test.go.html#8251566">f</a></span>&nbsp;<span class="op" id="8251695">=</span>&nbsp;<span class="ident" id="8251697"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8251698">.</span><span class="ident" id="8251699"><a href="/gostd/log/log.go.html#4077239">Flags</a></span><span class="op" id="8251704">(</span><span class="op" id="8251705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251708">if</span>&nbsp;<span class="ident" id="8251711"><a href="/gostd/log/log_test.go.html#8251566">f</a></span>&nbsp;<span class="op" id="8251713">!=</span>&nbsp;<span class="ident" id="8251716"><a href="/gostd/log/log.go.html#4072070">LstdFlags</a></span><span class="op" id="8251725">|</span><span class="ident" id="8251726"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span>&nbsp;<span class="op" id="8251740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251744"><a href="/gostd/log/log_test.go.html#8251495">t</a></span><span class="op" id="8251745">.</span><span class="ident" id="8251746"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8251752">(</span><span class="string" id="8251753">&#34;Flags&nbsp;2:&nbsp;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="8251782">,</span>&nbsp;<span class="ident" id="8251784"><a href="/gostd/log/log.go.html#4072070">LstdFlags</a></span><span class="op" id="8251793">|</span><span class="ident" id="8251794"><a href="/gostd/log/log.go.html#4071794">Lmicroseconds</a></span><span class="op" id="8251807">,</span>&nbsp;<span class="ident" id="8251809"><a href="/gostd/log/log_test.go.html#8251566">f</a></span><span class="op" id="8251810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8251813">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251816">p</span>&nbsp;<span class="op" id="8251818">:=</span>&nbsp;<span class="ident" id="8251821"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8251822">.</span><span class="ident" id="8251823"><a href="/gostd/log/log.go.html#4077514">Prefix</a></span><span class="op" id="8251829">(</span><span class="op" id="8251830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251833">if</span>&nbsp;<span class="ident" id="8251836"><a href="/gostd/log/log_test.go.html#8251816">p</a></span>&nbsp;<span class="op" id="8251838">!=</span>&nbsp;<span class="string" id="8251841">&#34;Test:&#34;</span>&nbsp;<span class="op" id="8251849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251853"><a href="/gostd/log/log_test.go.html#8251495">t</a></span><span class="op" id="8251854">.</span><span class="ident" id="8251855"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8251861">(</span><span class="string" id="8251862">`Prefix:&nbsp;expected&nbsp;&#34;Test:&#34;&nbsp;got&nbsp;%q`</span><span class="op" id="8251895">,</span>&nbsp;<span class="ident" id="8251897"><a href="/gostd/log/log_test.go.html#8251816">p</a></span><span class="op" id="8251898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8251901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251904"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8251905">.</span><span class="ident" id="8251906"><a href="/gostd/log/log.go.html#4077655">SetPrefix</a></span><span class="op" id="8251915">(</span><span class="string" id="8251916">&#34;Reality:&#34;</span><span class="op" id="8251926">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251929"><a href="/gostd/log/log_test.go.html#8251816">p</a></span>&nbsp;<span class="op" id="8251931">=</span>&nbsp;<span class="ident" id="8251933"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8251934">.</span><span class="ident" id="8251935"><a href="/gostd/log/log.go.html#4077514">Prefix</a></span><span class="op" id="8251941">(</span><span class="op" id="8251942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8251945">if</span>&nbsp;<span class="ident" id="8251948"><a href="/gostd/log/log_test.go.html#8251816">p</a></span>&nbsp;<span class="op" id="8251950">!=</span>&nbsp;<span class="string" id="8251953">&#34;Reality:&#34;</span>&nbsp;<span class="op" id="8251964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8251968"><a href="/gostd/log/log_test.go.html#8251495">t</a></span><span class="op" id="8251969">.</span><span class="ident" id="8251970"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8251976">(</span><span class="string" id="8251977">`Prefix:&nbsp;expected&nbsp;&#34;Reality:&#34;&nbsp;got&nbsp;%q`</span><span class="op" id="8252013">,</span>&nbsp;<span class="ident" id="8252015"><a href="/gostd/log/log_test.go.html#8251816">p</a></span><span class="op" id="8252016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8252019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8252022">//&nbsp;Verify&nbsp;a&nbsp;log&nbsp;message&nbsp;looks&nbsp;right,&nbsp;with&nbsp;our&nbsp;prefix&nbsp;and&nbsp;microseconds&nbsp;present.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8252102"><a href="/gostd/log/log_test.go.html#8251532">l</a></span><span class="op" id="8252103">.</span><span class="ident" id="8252104"><a href="/gostd/log/log.go.html#4075895">Print</a></span><span class="op" id="8252109">(</span><span class="string" id="8252110">&#34;hello&#34;</span><span class="op" id="8252117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8252120">pattern</span>&nbsp;<span class="op" id="8252128">:=</span>&nbsp;<span class="string" id="8252131">&#34;^Reality:&#34;</span>&nbsp;<span class="op" id="8252143">+</span>&nbsp;<span class="ident" id="8252145"><a href="/gostd/log/log_test.go.html#8249151">Rdate</a></span>&nbsp;<span class="op" id="8252151">+</span>&nbsp;<span class="string" id="8252153">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="8252157">+</span>&nbsp;<span class="ident" id="8252159"><a href="/gostd/log/log_test.go.html#8249213">Rtime</a></span>&nbsp;<span class="op" id="8252165">+</span>&nbsp;<span class="ident" id="8252167"><a href="/gostd/log/log_test.go.html#8249265">Rmicroseconds</a></span>&nbsp;<span class="op" id="8252181">+</span>&nbsp;<span class="string" id="8252183">&#34;&nbsp;hello\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8252195">matched</span><span class="op" id="8252202">,</span>&nbsp;<span class="ident" id="8252204">err</span>&nbsp;<span class="op" id="8252208">:=</span>&nbsp;<span class="ident" id="8252211"><a href="/gostd/log/log_test.go.html#8249119">regexp</a></span><span class="op" id="8252217">.</span><span class="ident" id="8252218"><a href="/gostd/regexp/regexp.go.html#3577406">Match</a></span><span class="op" id="8252223">(</span><span class="ident" id="8252224"><a href="/gostd/log/log_test.go.html#8252120">pattern</a></span><span class="op" id="8252231">,</span>&nbsp;<span class="ident" id="8252233"><a href="/gostd/log/log_test.go.html#8251516">b</a></span><span class="op" id="8252234">.</span><span class="ident" id="8252235"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="8252240">(</span><span class="op" id="8252241">)</span><span class="op" id="8252242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8252245">if</span>&nbsp;<span class="ident" id="8252248"><a href="/gostd/log/log_test.go.html#8252204">err</a></span>&nbsp;<span class="op" id="8252252">!=</span>&nbsp;<span class="builtintype" id="8252255">nil</span>&nbsp;<span class="op" id="8252259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8252263"><a href="/gostd/log/log_test.go.html#8251495">t</a></span><span class="op" id="8252264">.</span><span class="ident" id="8252265"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8252271">(</span><span class="string" id="8252272">&#34;pattern&nbsp;%q&nbsp;did&nbsp;not&nbsp;compile:&nbsp;%s&#34;</span><span class="op" id="8252304">,</span>&nbsp;<span class="ident" id="8252306"><a href="/gostd/log/log_test.go.html#8252120">pattern</a></span><span class="op" id="8252313">,</span>&nbsp;<span class="ident" id="8252315"><a href="/gostd/log/log_test.go.html#8252204">err</a></span><span class="op" id="8252318">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8252321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8252324">if</span>&nbsp;<span class="op" id="8252327">!</span><span class="ident" id="8252328"><a href="/gostd/log/log_test.go.html#8252195">matched</a></span>&nbsp;<span class="op" id="8252336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8252340"><a href="/gostd/log/log_test.go.html#8251495">t</a></span><span class="op" id="8252341">.</span><span class="ident" id="8252342"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8252347">(</span><span class="string" id="8252348">&#34;message&nbsp;did&nbsp;not&nbsp;match&nbsp;pattern&#34;</span><span class="op" id="8252379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8252382">}</span><br>
<span class="lineno"></span><span class="op" id="8252384">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
