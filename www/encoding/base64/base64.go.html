<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3723223">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3723278">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3723332">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3723383">//&nbsp;Package&nbsp;base64&nbsp;implements&nbsp;base64&nbsp;encoding&nbsp;as&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="keyword" id="3723454">package</span>&nbsp;<span class="ident" id="3723462">base64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3723470">import</span>&nbsp;<span class="op" id="3723477">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3723480">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3723489">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3723495">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3723506">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="3723516">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3723519">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Encodings<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3723540">//&nbsp;An&nbsp;Encoding&nbsp;is&nbsp;a&nbsp;radix&nbsp;64&nbsp;encoding/decoding&nbsp;scheme,&nbsp;defined&nbsp;by&nbsp;a</span><br>
<span class="lineno">20</span><span class="comment" id="3723608">//&nbsp;64-character&nbsp;alphabet.&nbsp;&nbsp;The&nbsp;most&nbsp;common&nbsp;encoding&nbsp;is&nbsp;the&nbsp;&#34;base64&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3723676">//&nbsp;encoding&nbsp;defined&nbsp;in&nbsp;RFC&nbsp;4648&nbsp;and&nbsp;used&nbsp;in&nbsp;MIME&nbsp;(RFC&nbsp;2045)&nbsp;and&nbsp;PEM</span><br>
<span class="lineno"></span><span class="comment" id="3723744">//&nbsp;(RFC&nbsp;1421).&nbsp;&nbsp;RFC&nbsp;4648&nbsp;also&nbsp;defines&nbsp;an&nbsp;alternate&nbsp;encoding,&nbsp;which&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3723814">//&nbsp;the&nbsp;standard&nbsp;encoding&nbsp;with&nbsp;-&nbsp;and&nbsp;_&nbsp;substituted&nbsp;for&nbsp;+&nbsp;and&nbsp;/.</span><br>
<span class="lineno"></span><span class="keyword" id="3723877">type</span>&nbsp;<span class="ident" id="3723882">Encoding</span>&nbsp;<span class="keyword" id="3723891">struct</span>&nbsp;<span class="op" id="3723898">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3723901">encode</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3723911">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3723919">decodeMap</span>&nbsp;<span class="op" id="3723929">[</span><span class="num" id="3723930">256</span><span class="op" id="3723933">]</span><span class="builtintype" id="3723934">byte</span><br>
<span class="lineno"></span><span class="op" id="3723939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3723942">const</span>&nbsp;<span class="ident" id="3723948">encodeStd</span>&nbsp;<span class="op" id="3723958">=</span>&nbsp;<span class="string" id="3723960">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&#34;</span><br>
<span class="lineno">30</span><span class="keyword" id="3724027">const</span>&nbsp;<span class="ident" id="3724033">encodeURL</span>&nbsp;<span class="op" id="3724043">=</span>&nbsp;<span class="string" id="3724045">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3724113">//&nbsp;NewEncoding&nbsp;returns&nbsp;a&nbsp;new&nbsp;Encoding&nbsp;defined&nbsp;by&nbsp;the&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno"></span><span class="comment" id="3724182">//&nbsp;which&nbsp;must&nbsp;be&nbsp;a&nbsp;64-byte&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3724217">func</span>&nbsp;<span class="ident" id="3724222">NewEncoding</span><span class="op" id="3724233">(</span><span class="ident" id="3724234">encoder</span>&nbsp;<span class="builtintype" id="3724242">string</span><span class="op" id="3724248">)</span>&nbsp;<span class="op" id="3724250">*</span><span class="ident" id="3724251"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span>&nbsp;<span class="op" id="3724260">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3724263">e</span>&nbsp;<span class="op" id="3724265">:=</span>&nbsp;<span class="builtinfunc" id="3724268">new</span><span class="op" id="3724271">(</span><span class="ident" id="3724272"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3724280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3724283"><a href="/encoding/base64/base64.go.html#3724263">e</a></span><span class="op" id="3724284">.</span><span class="ident" id="3724285">encode</span>&nbsp;<span class="op" id="3724292">=</span>&nbsp;<span class="ident" id="3724294"><a href="/encoding/base64/base64.go.html#3724234">encoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3724303">for</span>&nbsp;<span class="ident" id="3724307">i</span>&nbsp;<span class="op" id="3724309">:=</span>&nbsp;<span class="num" id="3724312">0</span><span class="op" id="3724313">;</span>&nbsp;<span class="ident" id="3724315"><a href="/encoding/base64/base64.go.html#3724307">i</a></span>&nbsp;<span class="op" id="3724317">&lt;</span>&nbsp;<span class="builtinfunc" id="3724319">len</span><span class="op" id="3724322">(</span><span class="ident" id="3724323"><a href="/encoding/base64/base64.go.html#3724263">e</a></span><span class="op" id="3724324">.</span><span class="ident" id="3724325">decodeMap</span><span class="op" id="3724334">)</span><span class="op" id="3724335">;</span>&nbsp;<span class="ident" id="3724337"><a href="/encoding/base64/base64.go.html#3724307">i</a></span><span class="op" id="3724338">++</span>&nbsp;<span class="op" id="3724341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3724345"><a href="/encoding/base64/base64.go.html#3724263">e</a></span><span class="op" id="3724346">.</span><span class="ident" id="3724347">decodeMap</span><span class="op" id="3724356">[</span><span class="ident" id="3724357"><a href="/encoding/base64/base64.go.html#3724307">i</a></span><span class="op" id="3724358">]</span>&nbsp;<span class="op" id="3724360">=</span>&nbsp;<span class="num" id="3724362">0xFF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3724368">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3724371">for</span>&nbsp;<span class="ident" id="3724375">i</span>&nbsp;<span class="op" id="3724377">:=</span>&nbsp;<span class="num" id="3724380">0</span><span class="op" id="3724381">;</span>&nbsp;<span class="ident" id="3724383"><a href="/encoding/base64/base64.go.html#3724375">i</a></span>&nbsp;<span class="op" id="3724385">&lt;</span>&nbsp;<span class="builtinfunc" id="3724387">len</span><span class="op" id="3724390">(</span><span class="ident" id="3724391"><a href="/encoding/base64/base64.go.html#3724234">encoder</a></span><span class="op" id="3724398">)</span><span class="op" id="3724399">;</span>&nbsp;<span class="ident" id="3724401"><a href="/encoding/base64/base64.go.html#3724375">i</a></span><span class="op" id="3724402">++</span>&nbsp;<span class="op" id="3724405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3724409"><a href="/encoding/base64/base64.go.html#3724263">e</a></span><span class="op" id="3724410">.</span><span class="ident" id="3724411">decodeMap</span><span class="op" id="3724420">[</span><span class="ident" id="3724421"><a href="/encoding/base64/base64.go.html#3724234">encoder</a></span><span class="op" id="3724428">[</span><span class="ident" id="3724429"><a href="/encoding/base64/base64.go.html#3724375">i</a></span><span class="op" id="3724430">]</span><span class="op" id="3724431">]</span>&nbsp;<span class="op" id="3724433">=</span>&nbsp;<span class="builtintype" id="3724435">byte</span><span class="op" id="3724439">(</span><span class="ident" id="3724440"><a href="/encoding/base64/base64.go.html#3724375">i</a></span><span class="op" id="3724441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3724444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3724447">return</span>&nbsp;<span class="ident" id="3724454"><a href="/encoding/base64/base64.go.html#3724263">e</a></span><br>
<span class="lineno"></span><span class="op" id="3724456">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3724459">//&nbsp;StdEncoding&nbsp;is&nbsp;the&nbsp;standard&nbsp;base64&nbsp;encoding,&nbsp;as&nbsp;defined&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3724521">//&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="keyword" id="3724534">var</span>&nbsp;<span class="ident" id="3724538">StdEncoding</span>&nbsp;<span class="op" id="3724550">=</span>&nbsp;<span class="ident" id="3724552"><a href="/encoding/base64/base64.go.html#3724222">NewEncoding</a></span><span class="op" id="3724563">(</span><span class="ident" id="3724564"><a href="/encoding/base64/base64.go.html#3723948">encodeStd</a></span><span class="op" id="3724573">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="3724576">//&nbsp;URLEncoding&nbsp;is&nbsp;the&nbsp;alternate&nbsp;base64&nbsp;encoding&nbsp;defined&nbsp;in&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="comment" id="3724645">//&nbsp;It&nbsp;is&nbsp;typically&nbsp;used&nbsp;in&nbsp;URLs&nbsp;and&nbsp;file&nbsp;names.</span><br>
<span class="lineno"></span><span class="keyword" id="3724693">var</span>&nbsp;<span class="ident" id="3724697">URLEncoding</span>&nbsp;<span class="op" id="3724709">=</span>&nbsp;<span class="ident" id="3724711"><a href="/encoding/base64/base64.go.html#3724222">NewEncoding</a></span><span class="op" id="3724722">(</span><span class="ident" id="3724723"><a href="/encoding/base64/base64.go.html#3724033">encodeURL</a></span><span class="op" id="3724732">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3724735">var</span>&nbsp;<span class="ident" id="3724739">removeNewlinesMapper</span>&nbsp;<span class="op" id="3724760">=</span>&nbsp;<span class="keyword" id="3724762">func</span><span class="op" id="3724766">(</span><span class="ident" id="3724767">r</span>&nbsp;<span class="builtintype" id="3724769">rune</span><span class="op" id="3724773">)</span>&nbsp;<span class="builtintype" id="3724775">rune</span>&nbsp;<span class="op" id="3724780">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3724783">if</span>&nbsp;<span class="ident" id="3724786"><a href="/encoding/base64/base64.go.html#3724767">r</a></span>&nbsp;<span class="op" id="3724788">==</span>&nbsp;<span class="string" id="3724791">&#39;\r&#39;</span>&nbsp;<span class="op" id="3724796">||</span>&nbsp;<span class="ident" id="3724799"><a href="/encoding/base64/base64.go.html#3724767">r</a></span>&nbsp;<span class="op" id="3724801">==</span>&nbsp;<span class="string" id="3724804">&#39;\n&#39;</span>&nbsp;<span class="op" id="3724809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3724813">return</span>&nbsp;<span class="op" id="3724820">-</span><span class="num" id="3724821">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3724824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3724827">return</span>&nbsp;<span class="ident" id="3724834"><a href="/encoding/base64/base64.go.html#3724767">r</a></span><br>
<span class="lineno"></span><span class="op" id="3724836">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3724839">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Encoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="3724858">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;using&nbsp;the&nbsp;encoding&nbsp;enc,&nbsp;writing</span><br>
<span class="lineno"></span><span class="comment" id="3724912">//&nbsp;EncodedLen(len(src))&nbsp;bytes&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="3724950">//</span><br>
<span class="lineno"></span><span class="comment" id="3724953">//&nbsp;The&nbsp;encoding&nbsp;pads&nbsp;the&nbsp;output&nbsp;to&nbsp;a&nbsp;multiple&nbsp;of&nbsp;4&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="3725011">//&nbsp;so&nbsp;Encode&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;use&nbsp;on&nbsp;individual&nbsp;blocks</span><br>
<span class="lineno">70</span><span class="comment" id="3725072">//&nbsp;of&nbsp;a&nbsp;large&nbsp;data&nbsp;stream.&nbsp;&nbsp;Use&nbsp;NewEncoder()&nbsp;instead.</span><br>
<span class="lineno"></span><span class="keyword" id="3725126">func</span>&nbsp;<span class="op" id="3725131">(</span><span class="ident" id="3725132">enc</span>&nbsp;<span class="op" id="3725136">*</span><span class="ident" id="3725137"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3725145">)</span>&nbsp;<span class="ident" id="3725147">Encode</span><span class="op" id="3725153">(</span><span class="ident" id="3725154">dst</span><span class="op" id="3725157">,</span>&nbsp;<span class="ident" id="3725159">src</span>&nbsp;<span class="op" id="3725163">[</span><span class="op" id="3725164">]</span><span class="builtintype" id="3725165">byte</span><span class="op" id="3725169">)</span>&nbsp;<span class="op" id="3725171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725174">if</span>&nbsp;<span class="builtinfunc" id="3725177">len</span><span class="op" id="3725180">(</span><span class="ident" id="3725181"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725184">)</span>&nbsp;<span class="op" id="3725186">==</span>&nbsp;<span class="num" id="3725189">0</span>&nbsp;<span class="op" id="3725191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725195">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3725203">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725207">for</span>&nbsp;<span class="builtinfunc" id="3725211">len</span><span class="op" id="3725214">(</span><span class="ident" id="3725215"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725218">)</span>&nbsp;<span class="op" id="3725220">&gt;</span>&nbsp;<span class="num" id="3725222">0</span>&nbsp;<span class="op" id="3725224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725228">var</span>&nbsp;<span class="ident" id="3725232">b0</span><span class="op" id="3725234">,</span>&nbsp;<span class="ident" id="3725236">b1</span><span class="op" id="3725238">,</span>&nbsp;<span class="ident" id="3725240">b2</span><span class="op" id="3725242">,</span>&nbsp;<span class="ident" id="3725244">b3</span>&nbsp;<span class="builtintype" id="3725247">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3725255">//&nbsp;Unpack&nbsp;4x&nbsp;6-bit&nbsp;source&nbsp;blocks&nbsp;into&nbsp;a&nbsp;4&nbsp;byte</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3725304">//&nbsp;destination&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725329">switch</span>&nbsp;<span class="builtinfunc" id="3725336">len</span><span class="op" id="3725339">(</span><span class="ident" id="3725340"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725343">)</span>&nbsp;<span class="op" id="3725345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725349">default</span><span class="op" id="3725356">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725361"><a href="/encoding/base64/base64.go.html#3725244">b3</a></span>&nbsp;<span class="op" id="3725364">=</span>&nbsp;<span class="ident" id="3725366"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725369">[</span><span class="num" id="3725370">2</span><span class="op" id="3725371">]</span>&nbsp;<span class="op" id="3725373">&amp;</span>&nbsp;<span class="num" id="3725375">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725383"><a href="/encoding/base64/base64.go.html#3725240">b2</a></span>&nbsp;<span class="op" id="3725386">=</span>&nbsp;<span class="ident" id="3725388"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725391">[</span><span class="num" id="3725392">2</span><span class="op" id="3725393">]</span>&nbsp;<span class="op" id="3725395">&gt;&gt;</span>&nbsp;<span class="num" id="3725398">6</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725403">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725417">case</span>&nbsp;<span class="num" id="3725422">2</span><span class="op" id="3725423">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725428"><a href="/encoding/base64/base64.go.html#3725240">b2</a></span>&nbsp;<span class="op" id="3725431">|=</span>&nbsp;<span class="op" id="3725434">(</span><span class="ident" id="3725435"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725438">[</span><span class="num" id="3725439">1</span><span class="op" id="3725440">]</span>&nbsp;<span class="op" id="3725442">&lt;&lt;</span>&nbsp;<span class="num" id="3725445">2</span><span class="op" id="3725446">)</span>&nbsp;<span class="op" id="3725448">&amp;</span>&nbsp;<span class="num" id="3725450">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725458"><a href="/encoding/base64/base64.go.html#3725236">b1</a></span>&nbsp;<span class="op" id="3725461">=</span>&nbsp;<span class="ident" id="3725463"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725466">[</span><span class="num" id="3725467">1</span><span class="op" id="3725468">]</span>&nbsp;<span class="op" id="3725470">&gt;&gt;</span>&nbsp;<span class="num" id="3725473">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725478">fallthrough</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725492">case</span>&nbsp;<span class="num" id="3725497">1</span><span class="op" id="3725498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725503"><a href="/encoding/base64/base64.go.html#3725236">b1</a></span>&nbsp;<span class="op" id="3725506">|=</span>&nbsp;<span class="op" id="3725509">(</span><span class="ident" id="3725510"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725513">[</span><span class="num" id="3725514">0</span><span class="op" id="3725515">]</span>&nbsp;<span class="op" id="3725517">&lt;&lt;</span>&nbsp;<span class="num" id="3725520">4</span><span class="op" id="3725521">)</span>&nbsp;<span class="op" id="3725523">&amp;</span>&nbsp;<span class="num" id="3725525">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725533"><a href="/encoding/base64/base64.go.html#3725232">b0</a></span>&nbsp;<span class="op" id="3725536">=</span>&nbsp;<span class="ident" id="3725538"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725541">[</span><span class="num" id="3725542">0</span><span class="op" id="3725543">]</span>&nbsp;<span class="op" id="3725545">&gt;&gt;</span>&nbsp;<span class="num" id="3725548">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3725552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3725557">//&nbsp;Encode&nbsp;6-bit&nbsp;blocks&nbsp;using&nbsp;the&nbsp;base64&nbsp;alphabet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725608"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725611">[</span><span class="num" id="3725612">0</span><span class="op" id="3725613">]</span>&nbsp;<span class="op" id="3725615">=</span>&nbsp;<span class="ident" id="3725617"><a href="/encoding/base64/base64.go.html#3725132">enc</a></span><span class="op" id="3725620">.</span><span class="ident" id="3725621">encode</span><span class="op" id="3725627">[</span><span class="ident" id="3725628"><a href="/encoding/base64/base64.go.html#3725232">b0</a></span><span class="op" id="3725630">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725634"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725637">[</span><span class="num" id="3725638">1</span><span class="op" id="3725639">]</span>&nbsp;<span class="op" id="3725641">=</span>&nbsp;<span class="ident" id="3725643"><a href="/encoding/base64/base64.go.html#3725132">enc</a></span><span class="op" id="3725646">.</span><span class="ident" id="3725647">encode</span><span class="op" id="3725653">[</span><span class="ident" id="3725654"><a href="/encoding/base64/base64.go.html#3725236">b1</a></span><span class="op" id="3725656">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725660"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725663">[</span><span class="num" id="3725664">2</span><span class="op" id="3725665">]</span>&nbsp;<span class="op" id="3725667">=</span>&nbsp;<span class="ident" id="3725669"><a href="/encoding/base64/base64.go.html#3725132">enc</a></span><span class="op" id="3725672">.</span><span class="ident" id="3725673">encode</span><span class="op" id="3725679">[</span><span class="ident" id="3725680"><a href="/encoding/base64/base64.go.html#3725240">b2</a></span><span class="op" id="3725682">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725686"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725689">[</span><span class="num" id="3725690">3</span><span class="op" id="3725691">]</span>&nbsp;<span class="op" id="3725693">=</span>&nbsp;<span class="ident" id="3725695"><a href="/encoding/base64/base64.go.html#3725132">enc</a></span><span class="op" id="3725698">.</span><span class="ident" id="3725699">encode</span><span class="op" id="3725705">[</span><span class="ident" id="3725706"><a href="/encoding/base64/base64.go.html#3725244">b3</a></span><span class="op" id="3725708">]</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3725713">//&nbsp;Pad&nbsp;the&nbsp;final&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725740">if</span>&nbsp;<span class="builtinfunc" id="3725743">len</span><span class="op" id="3725746">(</span><span class="ident" id="3725747"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725750">)</span>&nbsp;<span class="op" id="3725752">&lt;</span>&nbsp;<span class="num" id="3725754">3</span>&nbsp;<span class="op" id="3725756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725761"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725764">[</span><span class="num" id="3725765">3</span><span class="op" id="3725766">]</span>&nbsp;<span class="op" id="3725768">=</span>&nbsp;<span class="string" id="3725770">&#39;=&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725777">if</span>&nbsp;<span class="builtinfunc" id="3725780">len</span><span class="op" id="3725783">(</span><span class="ident" id="3725784"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725787">)</span>&nbsp;<span class="op" id="3725789">&lt;</span>&nbsp;<span class="num" id="3725791">2</span>&nbsp;<span class="op" id="3725793">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725799"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725802">[</span><span class="num" id="3725803">2</span><span class="op" id="3725804">]</span>&nbsp;<span class="op" id="3725806">=</span>&nbsp;<span class="string" id="3725808">&#39;=&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3725815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3725820">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3725828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725833"><a href="/encoding/base64/base64.go.html#3725159">src</a></span>&nbsp;<span class="op" id="3725837">=</span>&nbsp;<span class="ident" id="3725839"><a href="/encoding/base64/base64.go.html#3725159">src</a></span><span class="op" id="3725842">[</span><span class="num" id="3725843">3</span><span class="op" id="3725844">:</span><span class="op" id="3725845">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725849"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span>&nbsp;<span class="op" id="3725853">=</span>&nbsp;<span class="ident" id="3725855"><a href="/encoding/base64/base64.go.html#3725154">dst</a></span><span class="op" id="3725858">[</span><span class="num" id="3725859">4</span><span class="op" id="3725860">:</span><span class="op" id="3725861">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3725864">}</span><br>
<span class="lineno"></span><span class="op" id="3725866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="3725869">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;base64&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="3725923">func</span>&nbsp;<span class="op" id="3725928">(</span><span class="ident" id="3725929">enc</span>&nbsp;<span class="op" id="3725933">*</span><span class="ident" id="3725934"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3725942">)</span>&nbsp;<span class="ident" id="3725944">EncodeToString</span><span class="op" id="3725958">(</span><span class="ident" id="3725959">src</span>&nbsp;<span class="op" id="3725963">[</span><span class="op" id="3725964">]</span><span class="builtintype" id="3725965">byte</span><span class="op" id="3725969">)</span>&nbsp;<span class="builtintype" id="3725971">string</span>&nbsp;<span class="op" id="3725978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3725981">buf</span>&nbsp;<span class="op" id="3725985">:=</span>&nbsp;<span class="builtinfunc" id="3725988">make</span><span class="op" id="3725992">(</span><span class="op" id="3725993">[</span><span class="op" id="3725994">]</span><span class="builtintype" id="3725995">byte</span><span class="op" id="3725999">,</span>&nbsp;<span class="ident" id="3726001"><a href="/encoding/base64/base64.go.html#3725929">enc</a></span><span class="op" id="3726004">.</span><span class="ident" id="3726005">EncodedLen</span><span class="op" id="3726015">(</span><span class="builtinfunc" id="3726016">len</span><span class="op" id="3726019">(</span><span class="ident" id="3726020"><a href="/encoding/base64/base64.go.html#3725959">src</a></span><span class="op" id="3726023">)</span><span class="op" id="3726024">)</span><span class="op" id="3726025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726028"><a href="/encoding/base64/base64.go.html#3725929">enc</a></span><span class="op" id="3726031">.</span><span class="ident" id="3726032">Encode</span><span class="op" id="3726038">(</span><span class="ident" id="3726039"><a href="/encoding/base64/base64.go.html#3725981">buf</a></span><span class="op" id="3726042">,</span>&nbsp;<span class="ident" id="3726044"><a href="/encoding/base64/base64.go.html#3725959">src</a></span><span class="op" id="3726047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726050">return</span>&nbsp;<span class="builtintype" id="3726057">string</span><span class="op" id="3726063">(</span><span class="ident" id="3726064"><a href="/encoding/base64/base64.go.html#3725981">buf</a></span><span class="op" id="3726067">)</span><br>
<span class="lineno">120</span><span class="op" id="3726069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3726072">type</span>&nbsp;<span class="ident" id="3726077">encoder</span>&nbsp;<span class="keyword" id="3726085">struct</span>&nbsp;<span class="op" id="3726092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726095">err</span>&nbsp;&nbsp;<span class="builtintype" id="3726100">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726107">enc</span>&nbsp;&nbsp;<span class="op" id="3726112">*</span><span class="ident" id="3726113"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726123">w</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726128"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3726130">.</span><span class="ident" id="3726131">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726139">buf</span>&nbsp;&nbsp;<span class="op" id="3726144">[</span><span class="num" id="3726145">3</span><span class="op" id="3726146">]</span><span class="builtintype" id="3726147">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3726155">//&nbsp;buffered&nbsp;data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726195">nbuf</span>&nbsp;<span class="builtintype" id="3726200">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3726211">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726238">out</span>&nbsp;&nbsp;<span class="op" id="3726243">[</span><span class="num" id="3726244">1024</span><span class="op" id="3726248">]</span><span class="builtintype" id="3726249">byte</span>&nbsp;<span class="comment" id="3726254">//&nbsp;output&nbsp;buffer</span><br>
<span class="lineno"></span><span class="op" id="3726271">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="3726274">func</span>&nbsp;<span class="op" id="3726279">(</span><span class="ident" id="3726280">e</span>&nbsp;<span class="op" id="3726282">*</span><span class="ident" id="3726283"><a href="/encoding/base64/base64.go.html#3726077">encoder</a></span><span class="op" id="3726290">)</span>&nbsp;<span class="ident" id="3726292">Write</span><span class="op" id="3726297">(</span><span class="ident" id="3726298">p</span>&nbsp;<span class="op" id="3726300">[</span><span class="op" id="3726301">]</span><span class="builtintype" id="3726302">byte</span><span class="op" id="3726306">)</span>&nbsp;<span class="op" id="3726308">(</span><span class="ident" id="3726309">n</span>&nbsp;<span class="builtintype" id="3726311">int</span><span class="op" id="3726314">,</span>&nbsp;<span class="ident" id="3726316">err</span>&nbsp;<span class="builtintype" id="3726320">error</span><span class="op" id="3726325">)</span>&nbsp;<span class="op" id="3726327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726330">if</span>&nbsp;<span class="ident" id="3726333"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726334">.</span><span class="ident" id="3726335">err</span>&nbsp;<span class="op" id="3726339">!=</span>&nbsp;<span class="ident" id="3726342">nil</span>&nbsp;<span class="op" id="3726346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726350">return</span>&nbsp;<span class="num" id="3726357">0</span><span class="op" id="3726358">,</span>&nbsp;<span class="ident" id="3726360"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726361">.</span><span class="ident" id="3726362">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726367">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3726371">//&nbsp;Leading&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726391">if</span>&nbsp;<span class="ident" id="3726394"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726395">.</span><span class="ident" id="3726396">nbuf</span>&nbsp;<span class="op" id="3726401">&gt;</span>&nbsp;<span class="num" id="3726403">0</span>&nbsp;<span class="op" id="3726405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726409">var</span>&nbsp;<span class="ident" id="3726413">i</span>&nbsp;<span class="builtintype" id="3726415">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726421">for</span>&nbsp;<span class="ident" id="3726425"><a href="/encoding/base64/base64.go.html#3726413">i</a></span>&nbsp;<span class="op" id="3726427">=</span>&nbsp;<span class="num" id="3726429">0</span><span class="op" id="3726430">;</span>&nbsp;<span class="ident" id="3726432"><a href="/encoding/base64/base64.go.html#3726413">i</a></span>&nbsp;<span class="op" id="3726434">&lt;</span>&nbsp;<span class="builtinfunc" id="3726436">len</span><span class="op" id="3726439">(</span><span class="ident" id="3726440"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726441">)</span>&nbsp;<span class="op" id="3726443">&amp;&amp;</span>&nbsp;<span class="ident" id="3726446"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726447">.</span><span class="ident" id="3726448">nbuf</span>&nbsp;<span class="op" id="3726453">&lt;</span>&nbsp;<span class="num" id="3726455">3</span><span class="op" id="3726456">;</span>&nbsp;<span class="ident" id="3726458"><a href="/encoding/base64/base64.go.html#3726413">i</a></span><span class="op" id="3726459">++</span>&nbsp;<span class="op" id="3726462">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726467"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726468">.</span><span class="ident" id="3726469">buf</span><span class="op" id="3726472">[</span><span class="ident" id="3726473"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726474">.</span><span class="ident" id="3726475">nbuf</span><span class="op" id="3726479">]</span>&nbsp;<span class="op" id="3726481">=</span>&nbsp;<span class="ident" id="3726483"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726484">[</span><span class="ident" id="3726485"><a href="/encoding/base64/base64.go.html#3726413">i</a></span><span class="op" id="3726486">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726491"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726492">.</span><span class="ident" id="3726493">nbuf</span><span class="op" id="3726497">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726506"><a href="/encoding/base64/base64.go.html#3726309">n</a></span>&nbsp;<span class="op" id="3726508">+=</span>&nbsp;<span class="ident" id="3726511"><a href="/encoding/base64/base64.go.html#3726413">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726515"><a href="/encoding/base64/base64.go.html#3726298">p</a></span>&nbsp;<span class="op" id="3726517">=</span>&nbsp;<span class="ident" id="3726519"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726520">[</span><span class="ident" id="3726521"><a href="/encoding/base64/base64.go.html#3726413">i</a></span><span class="op" id="3726522">:</span><span class="op" id="3726523">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726527">if</span>&nbsp;<span class="ident" id="3726530"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726531">.</span><span class="ident" id="3726532">nbuf</span>&nbsp;<span class="op" id="3726537">&lt;</span>&nbsp;<span class="num" id="3726539">3</span>&nbsp;<span class="op" id="3726541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726546">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726559"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726560">.</span><span class="ident" id="3726561">enc</span><span class="op" id="3726564">.</span><span class="ident" id="3726565">Encode</span><span class="op" id="3726571">(</span><span class="ident" id="3726572"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726573">.</span><span class="ident" id="3726574">out</span><span class="op" id="3726577">[</span><span class="num" id="3726578">0</span><span class="op" id="3726579">:</span><span class="op" id="3726580">]</span><span class="op" id="3726581">,</span>&nbsp;<span class="ident" id="3726583"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726584">.</span><span class="ident" id="3726585">buf</span><span class="op" id="3726588">[</span><span class="num" id="3726589">0</span><span class="op" id="3726590">:</span><span class="op" id="3726591">]</span><span class="op" id="3726592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726596">if</span>&nbsp;<span class="ident" id="3726599">_</span><span class="op" id="3726600">,</span>&nbsp;<span class="ident" id="3726602"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726603">.</span><span class="ident" id="3726604">err</span>&nbsp;<span class="op" id="3726608">=</span>&nbsp;<span class="ident" id="3726610"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726611">.</span><span class="ident" id="3726612">w</span><span class="op" id="3726613">.</span><span class="ident" id="3726614">Write</span><span class="op" id="3726619">(</span><span class="ident" id="3726620"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726621">.</span><span class="ident" id="3726622">out</span><span class="op" id="3726625">[</span><span class="num" id="3726626">0</span><span class="op" id="3726627">:</span><span class="num" id="3726628">4</span><span class="op" id="3726629">]</span><span class="op" id="3726630">)</span><span class="op" id="3726631">;</span>&nbsp;<span class="ident" id="3726633"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726634">.</span><span class="ident" id="3726635">err</span>&nbsp;<span class="op" id="3726639">!=</span>&nbsp;<span class="ident" id="3726642">nil</span>&nbsp;<span class="op" id="3726646">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726651">return</span>&nbsp;<span class="ident" id="3726658"><a href="/encoding/base64/base64.go.html#3726309">n</a></span><span class="op" id="3726659">,</span>&nbsp;<span class="ident" id="3726661"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726662">.</span><span class="ident" id="3726663">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726673"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726674">.</span><span class="ident" id="3726675">nbuf</span>&nbsp;<span class="op" id="3726680">=</span>&nbsp;<span class="num" id="3726682">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3726689">//&nbsp;Large&nbsp;interior&nbsp;chunks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726716">for</span>&nbsp;<span class="builtinfunc" id="3726720">len</span><span class="op" id="3726723">(</span><span class="ident" id="3726724"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726725">)</span>&nbsp;<span class="op" id="3726727">&gt;=</span>&nbsp;<span class="num" id="3726730">3</span>&nbsp;<span class="op" id="3726732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726736">nn</span>&nbsp;<span class="op" id="3726739">:=</span>&nbsp;<span class="builtinfunc" id="3726742">len</span><span class="op" id="3726745">(</span><span class="ident" id="3726746"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726747">.</span><span class="ident" id="3726748">out</span><span class="op" id="3726751">)</span>&nbsp;<span class="op" id="3726753">/</span>&nbsp;<span class="num" id="3726755">4</span>&nbsp;<span class="op" id="3726757">*</span>&nbsp;<span class="num" id="3726759">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726763">if</span>&nbsp;<span class="ident" id="3726766"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span>&nbsp;<span class="op" id="3726769">&gt;</span>&nbsp;<span class="builtinfunc" id="3726771">len</span><span class="op" id="3726774">(</span><span class="ident" id="3726775"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726776">)</span>&nbsp;<span class="op" id="3726778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726783"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span>&nbsp;<span class="op" id="3726786">=</span>&nbsp;<span class="builtinfunc" id="3726788">len</span><span class="op" id="3726791">(</span><span class="ident" id="3726792"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726793">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726798"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span>&nbsp;<span class="op" id="3726801">-=</span>&nbsp;<span class="ident" id="3726804"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span>&nbsp;<span class="op" id="3726807">%</span>&nbsp;<span class="num" id="3726809">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726817"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726818">.</span><span class="ident" id="3726819">enc</span><span class="op" id="3726822">.</span><span class="ident" id="3726823">Encode</span><span class="op" id="3726829">(</span><span class="ident" id="3726830"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726831">.</span><span class="ident" id="3726832">out</span><span class="op" id="3726835">[</span><span class="num" id="3726836">0</span><span class="op" id="3726837">:</span><span class="op" id="3726838">]</span><span class="op" id="3726839">,</span>&nbsp;<span class="ident" id="3726841"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726842">[</span><span class="num" id="3726843">0</span><span class="op" id="3726844">:</span><span class="ident" id="3726845"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span><span class="op" id="3726847">]</span><span class="op" id="3726848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726852">if</span>&nbsp;<span class="ident" id="3726855">_</span><span class="op" id="3726856">,</span>&nbsp;<span class="ident" id="3726858"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726859">.</span><span class="ident" id="3726860">err</span>&nbsp;<span class="op" id="3726864">=</span>&nbsp;<span class="ident" id="3726866"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726867">.</span><span class="ident" id="3726868">w</span><span class="op" id="3726869">.</span><span class="ident" id="3726870">Write</span><span class="op" id="3726875">(</span><span class="ident" id="3726876"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726877">.</span><span class="ident" id="3726878">out</span><span class="op" id="3726881">[</span><span class="num" id="3726882">0</span>&nbsp;<span class="op" id="3726884">:</span>&nbsp;<span class="ident" id="3726886"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span><span class="op" id="3726888">/</span><span class="num" id="3726889">3</span><span class="op" id="3726890">*</span><span class="num" id="3726891">4</span><span class="op" id="3726892">]</span><span class="op" id="3726893">)</span><span class="op" id="3726894">;</span>&nbsp;<span class="ident" id="3726896"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726897">.</span><span class="ident" id="3726898">err</span>&nbsp;<span class="op" id="3726902">!=</span>&nbsp;<span class="ident" id="3726905">nil</span>&nbsp;<span class="op" id="3726909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726914">return</span>&nbsp;<span class="ident" id="3726921"><a href="/encoding/base64/base64.go.html#3726309">n</a></span><span class="op" id="3726922">,</span>&nbsp;<span class="ident" id="3726924"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3726925">.</span><span class="ident" id="3726926">err</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726936"><a href="/encoding/base64/base64.go.html#3726309">n</a></span>&nbsp;<span class="op" id="3726938">+=</span>&nbsp;<span class="ident" id="3726941"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3726946"><a href="/encoding/base64/base64.go.html#3726298">p</a></span>&nbsp;<span class="op" id="3726948">=</span>&nbsp;<span class="ident" id="3726950"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3726951">[</span><span class="ident" id="3726952"><a href="/encoding/base64/base64.go.html#3726736">nn</a></span><span class="op" id="3726954">:</span><span class="op" id="3726955">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3726958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3726962">//&nbsp;Trailing&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3726983">for</span>&nbsp;<span class="ident" id="3726987">i</span>&nbsp;<span class="op" id="3726989">:=</span>&nbsp;<span class="num" id="3726992">0</span><span class="op" id="3726993">;</span>&nbsp;<span class="ident" id="3726995"><a href="/encoding/base64/base64.go.html#3726987">i</a></span>&nbsp;<span class="op" id="3726997">&lt;</span>&nbsp;<span class="builtinfunc" id="3726999">len</span><span class="op" id="3727002">(</span><span class="ident" id="3727003"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3727004">)</span><span class="op" id="3727005">;</span>&nbsp;<span class="ident" id="3727007"><a href="/encoding/base64/base64.go.html#3726987">i</a></span><span class="op" id="3727008">++</span>&nbsp;<span class="op" id="3727011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3727015"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3727016">.</span><span class="ident" id="3727017">buf</span><span class="op" id="3727020">[</span><span class="ident" id="3727021"><a href="/encoding/base64/base64.go.html#3726987">i</a></span><span class="op" id="3727022">]</span>&nbsp;<span class="op" id="3727024">=</span>&nbsp;<span class="ident" id="3727026"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3727027">[</span><span class="ident" id="3727028"><a href="/encoding/base64/base64.go.html#3726987">i</a></span><span class="op" id="3727029">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3727032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3727035"><a href="/encoding/base64/base64.go.html#3726280">e</a></span><span class="op" id="3727036">.</span><span class="ident" id="3727037">nbuf</span>&nbsp;<span class="op" id="3727042">=</span>&nbsp;<span class="builtinfunc" id="3727044">len</span><span class="op" id="3727047">(</span><span class="ident" id="3727048"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3727049">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3727052"><a href="/encoding/base64/base64.go.html#3726309">n</a></span>&nbsp;<span class="op" id="3727054">+=</span>&nbsp;<span class="builtinfunc" id="3727057">len</span><span class="op" id="3727060">(</span><span class="ident" id="3727061"><a href="/encoding/base64/base64.go.html#3726298">p</a></span><span class="op" id="3727062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3727065">return</span><br>
<span class="lineno"></span><span class="op" id="3727072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3727075">//&nbsp;Close&nbsp;flushes&nbsp;any&nbsp;pending&nbsp;output&nbsp;from&nbsp;the&nbsp;encoder.</span><br>
<span class="lineno">180</span><span class="comment" id="3727129">//&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;Write&nbsp;after&nbsp;calling&nbsp;Close.</span><br>
<span class="lineno"></span><span class="keyword" id="3727182">func</span>&nbsp;<span class="op" id="3727187">(</span><span class="ident" id="3727188">e</span>&nbsp;<span class="op" id="3727190">*</span><span class="ident" id="3727191"><a href="/encoding/base64/base64.go.html#3726077">encoder</a></span><span class="op" id="3727198">)</span>&nbsp;<span class="ident" id="3727200">Close</span><span class="op" id="3727205">(</span><span class="op" id="3727206">)</span>&nbsp;<span class="builtintype" id="3727208">error</span>&nbsp;<span class="op" id="3727214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3727217">//&nbsp;If&nbsp;there&#39;s&nbsp;anything&nbsp;left&nbsp;in&nbsp;the&nbsp;buffer,&nbsp;flush&nbsp;it&nbsp;out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3727274">if</span>&nbsp;<span class="ident" id="3727277"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727278">.</span><span class="ident" id="3727279">err</span>&nbsp;<span class="op" id="3727283">==</span>&nbsp;<span class="ident" id="3727286">nil</span>&nbsp;<span class="op" id="3727290">&amp;&amp;</span>&nbsp;<span class="ident" id="3727293"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727294">.</span><span class="ident" id="3727295">nbuf</span>&nbsp;<span class="op" id="3727300">&gt;</span>&nbsp;<span class="num" id="3727302">0</span>&nbsp;<span class="op" id="3727304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3727308"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727309">.</span><span class="ident" id="3727310">enc</span><span class="op" id="3727313">.</span><span class="ident" id="3727314">Encode</span><span class="op" id="3727320">(</span><span class="ident" id="3727321"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727322">.</span><span class="ident" id="3727323">out</span><span class="op" id="3727326">[</span><span class="num" id="3727327">0</span><span class="op" id="3727328">:</span><span class="op" id="3727329">]</span><span class="op" id="3727330">,</span>&nbsp;<span class="ident" id="3727332"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727333">.</span><span class="ident" id="3727334">buf</span><span class="op" id="3727337">[</span><span class="num" id="3727338">0</span><span class="op" id="3727339">:</span><span class="ident" id="3727340"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727341">.</span><span class="ident" id="3727342">nbuf</span><span class="op" id="3727346">]</span><span class="op" id="3727347">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3727351"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727352">.</span><span class="ident" id="3727353">nbuf</span>&nbsp;<span class="op" id="3727358">=</span>&nbsp;<span class="num" id="3727360">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3727364">_</span><span class="op" id="3727365">,</span>&nbsp;<span class="ident" id="3727367"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727368">.</span><span class="ident" id="3727369">err</span>&nbsp;<span class="op" id="3727373">=</span>&nbsp;<span class="ident" id="3727375"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727376">.</span><span class="ident" id="3727377">w</span><span class="op" id="3727378">.</span><span class="ident" id="3727379">Write</span><span class="op" id="3727384">(</span><span class="ident" id="3727385"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727386">.</span><span class="ident" id="3727387">out</span><span class="op" id="3727390">[</span><span class="num" id="3727391">0</span><span class="op" id="3727392">:</span><span class="num" id="3727393">4</span><span class="op" id="3727394">]</span><span class="op" id="3727395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3727398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3727401">return</span>&nbsp;<span class="ident" id="3727408"><a href="/encoding/base64/base64.go.html#3727188">e</a></span><span class="op" id="3727409">.</span><span class="ident" id="3727410">err</span><br>
<span class="lineno"></span><span class="op" id="3727414">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="3727417">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;base64&nbsp;stream&nbsp;encoder.&nbsp;&nbsp;Data&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3727485">//&nbsp;the&nbsp;returned&nbsp;writer&nbsp;will&nbsp;be&nbsp;encoded&nbsp;using&nbsp;enc&nbsp;and&nbsp;then&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="3727557">//&nbsp;Base64&nbsp;encodings&nbsp;operate&nbsp;in&nbsp;4-byte&nbsp;blocks;&nbsp;when&nbsp;finished</span><br>
<span class="lineno"></span><span class="comment" id="3727617">//&nbsp;writing,&nbsp;the&nbsp;caller&nbsp;must&nbsp;Close&nbsp;the&nbsp;returned&nbsp;encoder&nbsp;to&nbsp;flush&nbsp;any</span><br>
<span class="lineno">195</span><span class="comment" id="3727685">//&nbsp;partially&nbsp;written&nbsp;blocks.</span><br>
<span class="lineno"></span><span class="keyword" id="3727714">func</span>&nbsp;<span class="ident" id="3727719">NewEncoder</span><span class="op" id="3727729">(</span><span class="ident" id="3727730">enc</span>&nbsp;<span class="op" id="3727734">*</span><span class="ident" id="3727735"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3727743">,</span>&nbsp;<span class="ident" id="3727745">w</span>&nbsp;<span class="ident" id="3727747"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3727749">.</span><span class="ident" id="3727750">Writer</span><span class="op" id="3727756">)</span>&nbsp;<span class="ident" id="3727758"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3727760">.</span><span class="ident" id="3727761">WriteCloser</span>&nbsp;<span class="op" id="3727773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3727776">return</span>&nbsp;<span class="op" id="3727783">&amp;</span><span class="ident" id="3727784"><a href="/encoding/base64/base64.go.html#3726077">encoder</a></span><span class="op" id="3727791">{</span><span class="ident" id="3727792">enc</span><span class="op" id="3727795">:</span>&nbsp;<span class="ident" id="3727797"><a href="/encoding/base64/base64.go.html#3727730">enc</a></span><span class="op" id="3727800">,</span>&nbsp;<span class="ident" id="3727802">w</span><span class="op" id="3727803">:</span>&nbsp;<span class="ident" id="3727805"><a href="/encoding/base64/base64.go.html#3727745">w</a></span><span class="op" id="3727806">}</span><br>
<span class="lineno"></span><span class="op" id="3727808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="3727811">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;in&nbsp;bytes&nbsp;of&nbsp;the&nbsp;base64&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="3727876">//&nbsp;of&nbsp;an&nbsp;input&nbsp;buffer&nbsp;of&nbsp;length&nbsp;n.</span><br>
<span class="lineno"></span><span class="keyword" id="3727911">func</span>&nbsp;<span class="op" id="3727916">(</span><span class="ident" id="3727917">enc</span>&nbsp;<span class="op" id="3727921">*</span><span class="ident" id="3727922"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3727930">)</span>&nbsp;<span class="ident" id="3727932">EncodedLen</span><span class="op" id="3727942">(</span><span class="ident" id="3727943">n</span>&nbsp;<span class="builtintype" id="3727945">int</span><span class="op" id="3727948">)</span>&nbsp;<span class="builtintype" id="3727950">int</span>&nbsp;<span class="op" id="3727954">{</span>&nbsp;<span class="keyword" id="3727956">return</span>&nbsp;<span class="op" id="3727963">(</span><span class="ident" id="3727964"><a href="/encoding/base64/base64.go.html#3727943">n</a></span>&nbsp;<span class="op" id="3727966">+</span>&nbsp;<span class="num" id="3727968">2</span><span class="op" id="3727969">)</span>&nbsp;<span class="op" id="3727971">/</span>&nbsp;<span class="num" id="3727973">3</span>&nbsp;<span class="op" id="3727975">*</span>&nbsp;<span class="num" id="3727977">4</span>&nbsp;<span class="op" id="3727979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3727982">/*<br>
<span class="lineno">205</span>&nbsp;*&nbsp;Decoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3728001">type</span>&nbsp;<span class="ident" id="3728006">CorruptInputError</span>&nbsp;<span class="ident" id="3728024">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="3728031">func</span>&nbsp;<span class="op" id="3728036">(</span><span class="ident" id="3728037">e</span>&nbsp;<span class="ident" id="3728039"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3728056">)</span>&nbsp;<span class="ident" id="3728058">Error</span><span class="op" id="3728063">(</span><span class="op" id="3728064">)</span>&nbsp;<span class="builtintype" id="3728066">string</span>&nbsp;<span class="op" id="3728073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728076">return</span>&nbsp;<span class="string" id="3728083">&#34;illegal&nbsp;base64&nbsp;data&nbsp;at&nbsp;input&nbsp;byte&nbsp;&#34;</span>&nbsp;<span class="op" id="3728120">+</span>&nbsp;<span class="ident" id="3728122"><a href="/encoding/base64/base64.go.html#3723495">strconv</a></span><span class="op" id="3728129">.</span><span class="ident" id="3728130">FormatInt</span><span class="op" id="3728139">(</span><span class="ident" id="3728140">int64</span><span class="op" id="3728145">(</span><span class="ident" id="3728146"><a href="/encoding/base64/base64.go.html#3728037">e</a></span><span class="op" id="3728147">)</span><span class="op" id="3728148">,</span>&nbsp;<span class="num" id="3728150">10</span><span class="op" id="3728152">)</span><br>
<span class="lineno"></span><span class="op" id="3728154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3728157">//&nbsp;decode&nbsp;is&nbsp;like&nbsp;Decode&nbsp;but&nbsp;returns&nbsp;an&nbsp;additional&nbsp;&#39;end&#39;&nbsp;value,&nbsp;which</span><br>
<span class="lineno">215</span><span class="comment" id="3728227">//&nbsp;indicates&nbsp;if&nbsp;end-of-message&nbsp;padding&nbsp;was&nbsp;encountered&nbsp;and&nbsp;thus&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="3728295">//&nbsp;additional&nbsp;data&nbsp;is&nbsp;an&nbsp;error.&nbsp;This&nbsp;method&nbsp;assumes&nbsp;that&nbsp;src&nbsp;has&nbsp;been</span><br>
<span class="lineno"></span><span class="comment" id="3728365">//&nbsp;stripped&nbsp;of&nbsp;all&nbsp;supported&nbsp;whitespace&nbsp;(&#39;\r&#39;&nbsp;and&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="3728422">func</span>&nbsp;<span class="op" id="3728427">(</span><span class="ident" id="3728428">enc</span>&nbsp;<span class="op" id="3728432">*</span><span class="ident" id="3728433"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3728441">)</span>&nbsp;<span class="ident" id="3728443">decode</span><span class="op" id="3728449">(</span><span class="ident" id="3728450">dst</span><span class="op" id="3728453">,</span>&nbsp;<span class="ident" id="3728455">src</span>&nbsp;<span class="op" id="3728459">[</span><span class="op" id="3728460">]</span><span class="builtintype" id="3728461">byte</span><span class="op" id="3728465">)</span>&nbsp;<span class="op" id="3728467">(</span><span class="ident" id="3728468">n</span>&nbsp;<span class="builtintype" id="3728470">int</span><span class="op" id="3728473">,</span>&nbsp;<span class="ident" id="3728475">end</span>&nbsp;<span class="builtintype" id="3728479">bool</span><span class="op" id="3728483">,</span>&nbsp;<span class="ident" id="3728485">err</span>&nbsp;<span class="builtintype" id="3728489">error</span><span class="op" id="3728494">)</span>&nbsp;<span class="op" id="3728496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3728499">olen</span>&nbsp;<span class="op" id="3728504">:=</span>&nbsp;<span class="builtinfunc" id="3728507">len</span><span class="op" id="3728510">(</span><span class="ident" id="3728511"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728514">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728517">for</span>&nbsp;<span class="builtinfunc" id="3728521">len</span><span class="op" id="3728524">(</span><span class="ident" id="3728525"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728528">)</span>&nbsp;<span class="op" id="3728530">&gt;</span>&nbsp;<span class="num" id="3728532">0</span>&nbsp;<span class="op" id="3728534">&amp;&amp;</span>&nbsp;<span class="op" id="3728537">!</span><span class="ident" id="3728538"><a href="/encoding/base64/base64.go.html#3728475">end</a></span>&nbsp;<span class="op" id="3728542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3728546">//&nbsp;Decode&nbsp;quantum&nbsp;using&nbsp;the&nbsp;base64&nbsp;alphabet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728592">var</span>&nbsp;<span class="ident" id="3728596">dbuf</span>&nbsp;<span class="op" id="3728601">[</span><span class="num" id="3728602">4</span><span class="op" id="3728603">]</span><span class="builtintype" id="3728604">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3728611">dlen</span>&nbsp;<span class="op" id="3728616">:=</span>&nbsp;<span class="num" id="3728619">4</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728624">for</span>&nbsp;<span class="ident" id="3728628">j</span>&nbsp;<span class="op" id="3728630">:=</span>&nbsp;<span class="keyword" id="3728633">range</span>&nbsp;<span class="ident" id="3728639"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span>&nbsp;<span class="op" id="3728644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728649">if</span>&nbsp;<span class="builtinfunc" id="3728652">len</span><span class="op" id="3728655">(</span><span class="ident" id="3728656"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728659">)</span>&nbsp;<span class="op" id="3728661">==</span>&nbsp;<span class="num" id="3728664">0</span>&nbsp;<span class="op" id="3728666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728672">return</span>&nbsp;<span class="ident" id="3728679"><a href="/encoding/base64/base64.go.html#3728468">n</a></span><span class="op" id="3728680">,</span>&nbsp;<span class="ident" id="3728682">false</span><span class="op" id="3728687">,</span>&nbsp;<span class="ident" id="3728689"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3728706">(</span><span class="ident" id="3728707"><a href="/encoding/base64/base64.go.html#3728499">olen</a></span>&nbsp;<span class="op" id="3728712">-</span>&nbsp;<span class="builtinfunc" id="3728714">len</span><span class="op" id="3728717">(</span><span class="ident" id="3728718"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728721">)</span>&nbsp;<span class="op" id="3728723">-</span>&nbsp;<span class="ident" id="3728725"><a href="/encoding/base64/base64.go.html#3728628">j</a></span><span class="op" id="3728726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3728731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3728736">in</span>&nbsp;<span class="op" id="3728739">:=</span>&nbsp;<span class="ident" id="3728742"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728745">[</span><span class="num" id="3728746">0</span><span class="op" id="3728747">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3728752"><a href="/encoding/base64/base64.go.html#3728455">src</a></span>&nbsp;<span class="op" id="3728756">=</span>&nbsp;<span class="ident" id="3728758"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728761">[</span><span class="num" id="3728762">1</span><span class="op" id="3728763">:</span><span class="op" id="3728764">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728769">if</span>&nbsp;<span class="ident" id="3728772"><a href="/encoding/base64/base64.go.html#3728736">in</a></span>&nbsp;<span class="op" id="3728775">==</span>&nbsp;<span class="string" id="3728778">&#39;=&#39;</span>&nbsp;<span class="op" id="3728782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3728788">//&nbsp;We&#39;ve&nbsp;reached&nbsp;the&nbsp;end&nbsp;and&nbsp;there&#39;s&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728837">switch</span>&nbsp;<span class="ident" id="3728844"><a href="/encoding/base64/base64.go.html#3728628">j</a></span>&nbsp;<span class="op" id="3728846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728852">case</span>&nbsp;<span class="num" id="3728857">0</span><span class="op" id="3728858">,</span>&nbsp;<span class="num" id="3728860">1</span><span class="op" id="3728861">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3728868">//&nbsp;incorrect&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728894">return</span>&nbsp;<span class="ident" id="3728901"><a href="/encoding/base64/base64.go.html#3728468">n</a></span><span class="op" id="3728902">,</span>&nbsp;<span class="ident" id="3728904">false</span><span class="op" id="3728909">,</span>&nbsp;<span class="ident" id="3728911"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3728928">(</span><span class="ident" id="3728929"><a href="/encoding/base64/base64.go.html#3728499">olen</a></span>&nbsp;<span class="op" id="3728934">-</span>&nbsp;<span class="builtinfunc" id="3728936">len</span><span class="op" id="3728939">(</span><span class="ident" id="3728940"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3728943">)</span>&nbsp;<span class="op" id="3728945">-</span>&nbsp;<span class="num" id="3728947">1</span><span class="op" id="3728948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3728954">case</span>&nbsp;<span class="num" id="3728959">2</span><span class="op" id="3728960">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3728967">//&nbsp;&#34;==&#34;&nbsp;is&nbsp;expected,&nbsp;the&nbsp;first&nbsp;&#34;=&#34;&nbsp;is&nbsp;already&nbsp;consumed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729028">if</span>&nbsp;<span class="builtinfunc" id="3729031">len</span><span class="op" id="3729034">(</span><span class="ident" id="3729035"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729038">)</span>&nbsp;<span class="op" id="3729040">==</span>&nbsp;<span class="num" id="3729043">0</span>&nbsp;<span class="op" id="3729045">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3729053">//&nbsp;not&nbsp;enough&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729081">return</span>&nbsp;<span class="ident" id="3729088"><a href="/encoding/base64/base64.go.html#3728468">n</a></span><span class="op" id="3729089">,</span>&nbsp;<span class="ident" id="3729091">false</span><span class="op" id="3729096">,</span>&nbsp;<span class="ident" id="3729098"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3729115">(</span><span class="ident" id="3729116"><a href="/encoding/base64/base64.go.html#3728499">olen</a></span><span class="op" id="3729120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729134">if</span>&nbsp;<span class="ident" id="3729137"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729140">[</span><span class="num" id="3729141">0</span><span class="op" id="3729142">]</span>&nbsp;<span class="op" id="3729144">!=</span>&nbsp;<span class="string" id="3729147">&#39;=&#39;</span>&nbsp;<span class="op" id="3729151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3729159">//&nbsp;incorrect&nbsp;padding</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729186">return</span>&nbsp;<span class="ident" id="3729193"><a href="/encoding/base64/base64.go.html#3728468">n</a></span><span class="op" id="3729194">,</span>&nbsp;<span class="ident" id="3729196">false</span><span class="op" id="3729201">,</span>&nbsp;<span class="ident" id="3729203"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3729220">(</span><span class="ident" id="3729221"><a href="/encoding/base64/base64.go.html#3728499">olen</a></span>&nbsp;<span class="op" id="3729226">-</span>&nbsp;<span class="builtinfunc" id="3729228">len</span><span class="op" id="3729231">(</span><span class="ident" id="3729232"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729235">)</span>&nbsp;<span class="op" id="3729237">-</span>&nbsp;<span class="num" id="3729239">1</span><span class="op" id="3729240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729254"><a href="/encoding/base64/base64.go.html#3728455">src</a></span>&nbsp;<span class="op" id="3729258">=</span>&nbsp;<span class="ident" id="3729260"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729263">[</span><span class="num" id="3729264">1</span><span class="op" id="3729265">:</span><span class="op" id="3729266">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729278">if</span>&nbsp;<span class="builtinfunc" id="3729281">len</span><span class="op" id="3729284">(</span><span class="ident" id="3729285"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729288">)</span>&nbsp;<span class="op" id="3729290">&gt;</span>&nbsp;<span class="num" id="3729292">0</span>&nbsp;<span class="op" id="3729294">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3729301">//&nbsp;trailing&nbsp;garbage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729326"><a href="/encoding/base64/base64.go.html#3728485">err</a></span>&nbsp;<span class="op" id="3729330">=</span>&nbsp;<span class="ident" id="3729332"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3729349">(</span><span class="ident" id="3729350"><a href="/encoding/base64/base64.go.html#3728499">olen</a></span>&nbsp;<span class="op" id="3729355">-</span>&nbsp;<span class="builtinfunc" id="3729357">len</span><span class="op" id="3729360">(</span><span class="ident" id="3729361"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729364">)</span><span class="op" id="3729365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729377"><a href="/encoding/base64/base64.go.html#3728611">dlen</a></span><span class="op" id="3729381">,</span>&nbsp;<span class="ident" id="3729383"><a href="/encoding/base64/base64.go.html#3728475">end</a></span>&nbsp;<span class="op" id="3729387">=</span>&nbsp;<span class="ident" id="3729389"><a href="/encoding/base64/base64.go.html#3728628">j</a></span><span class="op" id="3729390">,</span>&nbsp;<span class="ident" id="3729392">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729401">break</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729415"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729419">[</span><span class="ident" id="3729420"><a href="/encoding/base64/base64.go.html#3728628">j</a></span><span class="op" id="3729421">]</span>&nbsp;<span class="op" id="3729423">=</span>&nbsp;<span class="ident" id="3729425"><a href="/encoding/base64/base64.go.html#3728428">enc</a></span><span class="op" id="3729428">.</span><span class="ident" id="3729429">decodeMap</span><span class="op" id="3729438">[</span><span class="ident" id="3729439"><a href="/encoding/base64/base64.go.html#3728736">in</a></span><span class="op" id="3729441">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729446">if</span>&nbsp;<span class="ident" id="3729449"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729453">[</span><span class="ident" id="3729454"><a href="/encoding/base64/base64.go.html#3728628">j</a></span><span class="op" id="3729455">]</span>&nbsp;<span class="op" id="3729457">==</span>&nbsp;<span class="num" id="3729460">0xFF</span>&nbsp;<span class="op" id="3729465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729471">return</span>&nbsp;<span class="ident" id="3729478"><a href="/encoding/base64/base64.go.html#3728468">n</a></span><span class="op" id="3729479">,</span>&nbsp;<span class="ident" id="3729481">false</span><span class="op" id="3729486">,</span>&nbsp;<span class="ident" id="3729488"><a href="/encoding/base64/base64.go.html#3728006">CorruptInputError</a></span><span class="op" id="3729505">(</span><span class="ident" id="3729506"><a href="/encoding/base64/base64.go.html#3728499">olen</a></span>&nbsp;<span class="op" id="3729511">-</span>&nbsp;<span class="builtinfunc" id="3729513">len</span><span class="op" id="3729516">(</span><span class="ident" id="3729517"><a href="/encoding/base64/base64.go.html#3728455">src</a></span><span class="op" id="3729520">)</span>&nbsp;<span class="op" id="3729522">-</span>&nbsp;<span class="num" id="3729524">1</span><span class="op" id="3729525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729530">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3729539">//&nbsp;Pack&nbsp;4x&nbsp;6-bit&nbsp;source&nbsp;blocks&nbsp;into&nbsp;3&nbsp;byte&nbsp;destination</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3729596">//&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729609">switch</span>&nbsp;<span class="ident" id="3729616"><a href="/encoding/base64/base64.go.html#3728611">dlen</a></span>&nbsp;<span class="op" id="3729621">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729625">case</span>&nbsp;<span class="num" id="3729630">4</span><span class="op" id="3729631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729636"><a href="/encoding/base64/base64.go.html#3728450">dst</a></span><span class="op" id="3729639">[</span><span class="num" id="3729640">2</span><span class="op" id="3729641">]</span>&nbsp;<span class="op" id="3729643">=</span>&nbsp;<span class="ident" id="3729645"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729649">[</span><span class="num" id="3729650">2</span><span class="op" id="3729651">]</span><span class="op" id="3729652">&lt;&lt;</span><span class="num" id="3729654">6</span>&nbsp;<span class="op" id="3729656">|</span>&nbsp;<span class="ident" id="3729658"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729662">[</span><span class="num" id="3729663">3</span><span class="op" id="3729664">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729669">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729683">case</span>&nbsp;<span class="num" id="3729688">3</span><span class="op" id="3729689">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729694"><a href="/encoding/base64/base64.go.html#3728450">dst</a></span><span class="op" id="3729697">[</span><span class="num" id="3729698">1</span><span class="op" id="3729699">]</span>&nbsp;<span class="op" id="3729701">=</span>&nbsp;<span class="ident" id="3729703"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729707">[</span><span class="num" id="3729708">1</span><span class="op" id="3729709">]</span><span class="op" id="3729710">&lt;&lt;</span><span class="num" id="3729712">4</span>&nbsp;<span class="op" id="3729714">|</span>&nbsp;<span class="ident" id="3729716"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729720">[</span><span class="num" id="3729721">2</span><span class="op" id="3729722">]</span><span class="op" id="3729723">&gt;&gt;</span><span class="num" id="3729725">2</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729730">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729744">case</span>&nbsp;<span class="num" id="3729749">2</span><span class="op" id="3729750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729755"><a href="/encoding/base64/base64.go.html#3728450">dst</a></span><span class="op" id="3729758">[</span><span class="num" id="3729759">0</span><span class="op" id="3729760">]</span>&nbsp;<span class="op" id="3729762">=</span>&nbsp;<span class="ident" id="3729764"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729768">[</span><span class="num" id="3729769">0</span><span class="op" id="3729770">]</span><span class="op" id="3729771">&lt;&lt;</span><span class="num" id="3729773">2</span>&nbsp;<span class="op" id="3729775">|</span>&nbsp;<span class="ident" id="3729777"><a href="/encoding/base64/base64.go.html#3728596">dbuf</a></span><span class="op" id="3729781">[</span><span class="num" id="3729782">1</span><span class="op" id="3729783">]</span><span class="op" id="3729784">&gt;&gt;</span><span class="num" id="3729786">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729794"><a href="/encoding/base64/base64.go.html#3728450">dst</a></span>&nbsp;<span class="op" id="3729798">=</span>&nbsp;<span class="ident" id="3729800"><a href="/encoding/base64/base64.go.html#3728450">dst</a></span><span class="op" id="3729803">[</span><span class="num" id="3729804">3</span><span class="op" id="3729805">:</span><span class="op" id="3729806">]</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3729810"><a href="/encoding/base64/base64.go.html#3728468">n</a></span>&nbsp;<span class="op" id="3729812">+=</span>&nbsp;<span class="ident" id="3729815"><a href="/encoding/base64/base64.go.html#3728611">dlen</a></span>&nbsp;<span class="op" id="3729820">-</span>&nbsp;<span class="num" id="3729822">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3729825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3729829">return</span>&nbsp;<span class="ident" id="3729836"><a href="/encoding/base64/base64.go.html#3728468">n</a></span><span class="op" id="3729837">,</span>&nbsp;<span class="ident" id="3729839"><a href="/encoding/base64/base64.go.html#3728475">end</a></span><span class="op" id="3729842">,</span>&nbsp;<span class="ident" id="3729844"><a href="/encoding/base64/base64.go.html#3728485">err</a></span><br>
<span class="lineno"></span><span class="op" id="3729848">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="3729851">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;using&nbsp;the&nbsp;encoding&nbsp;enc.&nbsp;&nbsp;It&nbsp;writes&nbsp;at&nbsp;most</span><br>
<span class="lineno"></span><span class="comment" id="3729916">//&nbsp;DecodedLen(len(src))&nbsp;bytes&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="3729985">//&nbsp;written.&nbsp;&nbsp;If&nbsp;src&nbsp;contains&nbsp;invalid&nbsp;base64&nbsp;data,&nbsp;it&nbsp;will&nbsp;return&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3730054">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;successfully&nbsp;written&nbsp;and&nbsp;CorruptInputError.</span><br>
<span class="lineno">285</span><span class="comment" id="3730117">//&nbsp;New&nbsp;line&nbsp;characters&nbsp;(\r&nbsp;and&nbsp;\n)&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="3730165">func</span>&nbsp;<span class="op" id="3730170">(</span><span class="ident" id="3730171">enc</span>&nbsp;<span class="op" id="3730175">*</span><span class="ident" id="3730176"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3730184">)</span>&nbsp;<span class="ident" id="3730186">Decode</span><span class="op" id="3730192">(</span><span class="ident" id="3730193">dst</span><span class="op" id="3730196">,</span>&nbsp;<span class="ident" id="3730198">src</span>&nbsp;<span class="op" id="3730202">[</span><span class="op" id="3730203">]</span><span class="builtintype" id="3730204">byte</span><span class="op" id="3730208">)</span>&nbsp;<span class="op" id="3730210">(</span><span class="ident" id="3730211">n</span>&nbsp;<span class="builtintype" id="3730213">int</span><span class="op" id="3730216">,</span>&nbsp;<span class="ident" id="3730218">err</span>&nbsp;<span class="builtintype" id="3730222">error</span><span class="op" id="3730227">)</span>&nbsp;<span class="op" id="3730229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730232"><a href="/encoding/base64/base64.go.html#3730198">src</a></span>&nbsp;<span class="op" id="3730236">=</span>&nbsp;<span class="ident" id="3730238"><a href="/encoding/base64/base64.go.html#3723480">bytes</a></span><span class="op" id="3730243">.</span><span class="ident" id="3730244">Map</span><span class="op" id="3730247">(</span><span class="ident" id="3730248"><a href="/encoding/base64/base64.go.html#3724739">removeNewlinesMapper</a></span><span class="op" id="3730268">,</span>&nbsp;<span class="ident" id="3730270"><a href="/encoding/base64/base64.go.html#3730198">src</a></span><span class="op" id="3730273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730276"><a href="/encoding/base64/base64.go.html#3730211">n</a></span><span class="op" id="3730277">,</span>&nbsp;<span class="ident" id="3730279">_</span><span class="op" id="3730280">,</span>&nbsp;<span class="ident" id="3730282"><a href="/encoding/base64/base64.go.html#3730218">err</a></span>&nbsp;<span class="op" id="3730286">=</span>&nbsp;<span class="ident" id="3730288"><a href="/encoding/base64/base64.go.html#3730171">enc</a></span><span class="op" id="3730291">.</span><span class="ident" id="3730292">decode</span><span class="op" id="3730298">(</span><span class="ident" id="3730299"><a href="/encoding/base64/base64.go.html#3730193">dst</a></span><span class="op" id="3730302">,</span>&nbsp;<span class="ident" id="3730304"><a href="/encoding/base64/base64.go.html#3730198">src</a></span><span class="op" id="3730307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3730310">return</span><br>
<span class="lineno">290</span><span class="op" id="3730317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3730320">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;base64&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3730390">func</span>&nbsp;<span class="op" id="3730395">(</span><span class="ident" id="3730396">enc</span>&nbsp;<span class="op" id="3730400">*</span><span class="ident" id="3730401"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3730409">)</span>&nbsp;<span class="ident" id="3730411">DecodeString</span><span class="op" id="3730423">(</span><span class="ident" id="3730424">s</span>&nbsp;<span class="builtintype" id="3730426">string</span><span class="op" id="3730432">)</span>&nbsp;<span class="op" id="3730434">(</span><span class="op" id="3730435">[</span><span class="op" id="3730436">]</span><span class="builtintype" id="3730437">byte</span><span class="op" id="3730441">,</span>&nbsp;<span class="builtintype" id="3730443">error</span><span class="op" id="3730448">)</span>&nbsp;<span class="op" id="3730450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730453"><a href="/encoding/base64/base64.go.html#3730424">s</a></span>&nbsp;<span class="op" id="3730455">=</span>&nbsp;<span class="ident" id="3730457"><a href="/encoding/base64/base64.go.html#3723506">strings</a></span><span class="op" id="3730464">.</span><span class="ident" id="3730465">Map</span><span class="op" id="3730468">(</span><span class="ident" id="3730469"><a href="/encoding/base64/base64.go.html#3724739">removeNewlinesMapper</a></span><span class="op" id="3730489">,</span>&nbsp;<span class="ident" id="3730491"><a href="/encoding/base64/base64.go.html#3730424">s</a></span><span class="op" id="3730492">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730495">dbuf</span>&nbsp;<span class="op" id="3730500">:=</span>&nbsp;<span class="builtinfunc" id="3730503">make</span><span class="op" id="3730507">(</span><span class="op" id="3730508">[</span><span class="op" id="3730509">]</span><span class="builtintype" id="3730510">byte</span><span class="op" id="3730514">,</span>&nbsp;<span class="ident" id="3730516"><a href="/encoding/base64/base64.go.html#3730396">enc</a></span><span class="op" id="3730519">.</span><span class="ident" id="3730520">DecodedLen</span><span class="op" id="3730530">(</span><span class="builtinfunc" id="3730531">len</span><span class="op" id="3730534">(</span><span class="ident" id="3730535"><a href="/encoding/base64/base64.go.html#3730424">s</a></span><span class="op" id="3730536">)</span><span class="op" id="3730537">)</span><span class="op" id="3730538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730541">n</span><span class="op" id="3730542">,</span>&nbsp;<span class="ident" id="3730544">_</span><span class="op" id="3730545">,</span>&nbsp;<span class="ident" id="3730547">err</span>&nbsp;<span class="op" id="3730551">:=</span>&nbsp;<span class="ident" id="3730554"><a href="/encoding/base64/base64.go.html#3730396">enc</a></span><span class="op" id="3730557">.</span><span class="ident" id="3730558">decode</span><span class="op" id="3730564">(</span><span class="ident" id="3730565"><a href="/encoding/base64/base64.go.html#3730495">dbuf</a></span><span class="op" id="3730569">,</span>&nbsp;<span class="op" id="3730571">[</span><span class="op" id="3730572">]</span><span class="builtintype" id="3730573">byte</span><span class="op" id="3730577">(</span><span class="ident" id="3730578"><a href="/encoding/base64/base64.go.html#3730424">s</a></span><span class="op" id="3730579">)</span><span class="op" id="3730580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3730583">return</span>&nbsp;<span class="ident" id="3730590"><a href="/encoding/base64/base64.go.html#3730495">dbuf</a></span><span class="op" id="3730594">[</span><span class="op" id="3730595">:</span><span class="ident" id="3730596"><a href="/encoding/base64/base64.go.html#3730541">n</a></span><span class="op" id="3730597">]</span><span class="op" id="3730598">,</span>&nbsp;<span class="ident" id="3730600"><a href="/encoding/base64/base64.go.html#3730547">err</a></span><br>
<span class="lineno"></span><span class="op" id="3730604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="3730607">type</span>&nbsp;<span class="ident" id="3730612">decoder</span>&nbsp;<span class="keyword" id="3730620">struct</span>&nbsp;<span class="op" id="3730627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730630">err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3730637">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730644">enc</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730651">*</span><span class="ident" id="3730652"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730662">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730669"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3730671">.</span><span class="ident" id="3730672">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730680">end</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3730687">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3730698">//&nbsp;saw&nbsp;end&nbsp;of&nbsp;message</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730721">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730728">[</span><span class="num" id="3730729">1024</span><span class="op" id="3730733">]</span><span class="builtintype" id="3730734">byte</span>&nbsp;<span class="comment" id="3730739">//&nbsp;leftover&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730758">nbuf</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3730765">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730770">out</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730777">[</span><span class="op" id="3730778">]</span><span class="builtintype" id="3730779">byte</span>&nbsp;<span class="comment" id="3730784">//&nbsp;leftover&nbsp;decoded&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3730812">outbuf</span>&nbsp;<span class="op" id="3730819">[</span><span class="num" id="3730820">1024</span>&nbsp;<span class="op" id="3730825">/</span>&nbsp;<span class="num" id="3730827">4</span>&nbsp;<span class="op" id="3730829">*</span>&nbsp;<span class="num" id="3730831">3</span><span class="op" id="3730832">]</span><span class="builtintype" id="3730833">byte</span><br>
<span class="lineno"></span><span class="op" id="3730838">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="3730841">func</span>&nbsp;<span class="op" id="3730846">(</span><span class="ident" id="3730847">d</span>&nbsp;<span class="op" id="3730849">*</span><span class="ident" id="3730850"><a href="/encoding/base64/base64.go.html#3730612">decoder</a></span><span class="op" id="3730857">)</span>&nbsp;<span class="ident" id="3730859">Read</span><span class="op" id="3730863">(</span><span class="ident" id="3730864">p</span>&nbsp;<span class="op" id="3730866">[</span><span class="op" id="3730867">]</span><span class="builtintype" id="3730868">byte</span><span class="op" id="3730872">)</span>&nbsp;<span class="op" id="3730874">(</span><span class="ident" id="3730875">n</span>&nbsp;<span class="builtintype" id="3730877">int</span><span class="op" id="3730880">,</span>&nbsp;<span class="ident" id="3730882">err</span>&nbsp;<span class="builtintype" id="3730886">error</span><span class="op" id="3730891">)</span>&nbsp;<span class="op" id="3730893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3730896">if</span>&nbsp;<span class="ident" id="3730899"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3730900">.</span><span class="ident" id="3730901">err</span>&nbsp;<span class="op" id="3730905">!=</span>&nbsp;<span class="ident" id="3730908">nil</span>&nbsp;<span class="op" id="3730912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3730916">return</span>&nbsp;<span class="num" id="3730923">0</span><span class="op" id="3730924">,</span>&nbsp;<span class="ident" id="3730926"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3730927">.</span><span class="ident" id="3730928">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3730933">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3730937">//&nbsp;Use&nbsp;leftover&nbsp;decoded&nbsp;output&nbsp;from&nbsp;last&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3730985">if</span>&nbsp;<span class="builtinfunc" id="3730988">len</span><span class="op" id="3730991">(</span><span class="ident" id="3730992"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3730993">.</span><span class="ident" id="3730994">out</span><span class="op" id="3730997">)</span>&nbsp;<span class="op" id="3730999">&gt;</span>&nbsp;<span class="num" id="3731001">0</span>&nbsp;<span class="op" id="3731003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731007"><a href="/encoding/base64/base64.go.html#3730875">n</a></span>&nbsp;<span class="op" id="3731009">=</span>&nbsp;<span class="builtinfunc" id="3731011">copy</span><span class="op" id="3731015">(</span><span class="ident" id="3731016"><a href="/encoding/base64/base64.go.html#3730864">p</a></span><span class="op" id="3731017">,</span>&nbsp;<span class="ident" id="3731019"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731020">.</span><span class="ident" id="3731021">out</span><span class="op" id="3731024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731028"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731029">.</span><span class="ident" id="3731030">out</span>&nbsp;<span class="op" id="3731034">=</span>&nbsp;<span class="ident" id="3731036"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731037">.</span><span class="ident" id="3731038">out</span><span class="op" id="3731041">[</span><span class="ident" id="3731042"><a href="/encoding/base64/base64.go.html#3730875">n</a></span><span class="op" id="3731043">:</span><span class="op" id="3731044">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731048">return</span>&nbsp;<span class="ident" id="3731055"><a href="/encoding/base64/base64.go.html#3730875">n</a></span><span class="op" id="3731056">,</span>&nbsp;<span class="ident" id="3731058">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3731067">//&nbsp;Read&nbsp;a&nbsp;chunk.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731085">nn</span>&nbsp;<span class="op" id="3731088">:=</span>&nbsp;<span class="builtinfunc" id="3731091">len</span><span class="op" id="3731094">(</span><span class="ident" id="3731095"><a href="/encoding/base64/base64.go.html#3730864">p</a></span><span class="op" id="3731096">)</span>&nbsp;<span class="op" id="3731098">/</span>&nbsp;<span class="num" id="3731100">3</span>&nbsp;<span class="op" id="3731102">*</span>&nbsp;<span class="num" id="3731104">4</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731107">if</span>&nbsp;<span class="ident" id="3731110"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span>&nbsp;<span class="op" id="3731113">&lt;</span>&nbsp;<span class="num" id="3731115">4</span>&nbsp;<span class="op" id="3731117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731121"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span>&nbsp;<span class="op" id="3731124">=</span>&nbsp;<span class="num" id="3731126">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731132">if</span>&nbsp;<span class="ident" id="3731135"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span>&nbsp;<span class="op" id="3731138">&gt;</span>&nbsp;<span class="builtinfunc" id="3731140">len</span><span class="op" id="3731143">(</span><span class="ident" id="3731144"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731145">.</span><span class="ident" id="3731146">buf</span><span class="op" id="3731149">)</span>&nbsp;<span class="op" id="3731151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731155"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span>&nbsp;<span class="op" id="3731158">=</span>&nbsp;<span class="builtinfunc" id="3731160">len</span><span class="op" id="3731163">(</span><span class="ident" id="3731164"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731165">.</span><span class="ident" id="3731166">buf</span><span class="op" id="3731169">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731175"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span><span class="op" id="3731177">,</span>&nbsp;<span class="ident" id="3731179"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731180">.</span><span class="ident" id="3731181">err</span>&nbsp;<span class="op" id="3731185">=</span>&nbsp;<span class="ident" id="3731187"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3731189">.</span><span class="ident" id="3731190">ReadAtLeast</span><span class="op" id="3731201">(</span><span class="ident" id="3731202"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731203">.</span><span class="ident" id="3731204">r</span><span class="op" id="3731205">,</span>&nbsp;<span class="ident" id="3731207"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731208">.</span><span class="ident" id="3731209">buf</span><span class="op" id="3731212">[</span><span class="ident" id="3731213"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731214">.</span><span class="ident" id="3731215">nbuf</span><span class="op" id="3731219">:</span><span class="ident" id="3731220"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span><span class="op" id="3731222">]</span><span class="op" id="3731223">,</span>&nbsp;<span class="num" id="3731225">4</span><span class="op" id="3731226">-</span><span class="ident" id="3731227"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731228">.</span><span class="ident" id="3731229">nbuf</span><span class="op" id="3731233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731236"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731237">.</span><span class="ident" id="3731238">nbuf</span>&nbsp;<span class="op" id="3731243">+=</span>&nbsp;<span class="ident" id="3731246"><a href="/encoding/base64/base64.go.html#3731085">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731250">if</span>&nbsp;<span class="ident" id="3731253"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731254">.</span><span class="ident" id="3731255">err</span>&nbsp;<span class="op" id="3731259">!=</span>&nbsp;<span class="ident" id="3731262">nil</span>&nbsp;<span class="op" id="3731266">||</span>&nbsp;<span class="ident" id="3731269"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731270">.</span><span class="ident" id="3731271">nbuf</span>&nbsp;<span class="op" id="3731276">&lt;</span>&nbsp;<span class="num" id="3731278">4</span>&nbsp;<span class="op" id="3731280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731284">return</span>&nbsp;<span class="num" id="3731291">0</span><span class="op" id="3731292">,</span>&nbsp;<span class="ident" id="3731294"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731295">.</span><span class="ident" id="3731296">err</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3731305">//&nbsp;Decode&nbsp;chunk&nbsp;into&nbsp;p,&nbsp;or&nbsp;d.out&nbsp;and&nbsp;then&nbsp;p&nbsp;if&nbsp;p&nbsp;is&nbsp;too&nbsp;small.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731369">nr</span>&nbsp;<span class="op" id="3731372">:=</span>&nbsp;<span class="ident" id="3731375"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731376">.</span><span class="ident" id="3731377">nbuf</span>&nbsp;<span class="op" id="3731382">/</span>&nbsp;<span class="num" id="3731384">4</span>&nbsp;<span class="op" id="3731386">*</span>&nbsp;<span class="num" id="3731388">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731391">nw</span>&nbsp;<span class="op" id="3731394">:=</span>&nbsp;<span class="ident" id="3731397"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731398">.</span><span class="ident" id="3731399">nbuf</span>&nbsp;<span class="op" id="3731404">/</span>&nbsp;<span class="num" id="3731406">4</span>&nbsp;<span class="op" id="3731408">*</span>&nbsp;<span class="num" id="3731410">3</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731413">if</span>&nbsp;<span class="ident" id="3731416"><a href="/encoding/base64/base64.go.html#3731391">nw</a></span>&nbsp;<span class="op" id="3731419">&gt;</span>&nbsp;<span class="builtinfunc" id="3731421">len</span><span class="op" id="3731424">(</span><span class="ident" id="3731425"><a href="/encoding/base64/base64.go.html#3730864">p</a></span><span class="op" id="3731426">)</span>&nbsp;<span class="op" id="3731428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731432"><a href="/encoding/base64/base64.go.html#3731391">nw</a></span><span class="op" id="3731434">,</span>&nbsp;<span class="ident" id="3731436"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731437">.</span><span class="ident" id="3731438">end</span><span class="op" id="3731441">,</span>&nbsp;<span class="ident" id="3731443"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731444">.</span><span class="ident" id="3731445">err</span>&nbsp;<span class="op" id="3731449">=</span>&nbsp;<span class="ident" id="3731451"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731452">.</span><span class="ident" id="3731453">enc</span><span class="op" id="3731456">.</span><span class="ident" id="3731457">decode</span><span class="op" id="3731463">(</span><span class="ident" id="3731464"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731465">.</span><span class="ident" id="3731466">outbuf</span><span class="op" id="3731472">[</span><span class="num" id="3731473">0</span><span class="op" id="3731474">:</span><span class="op" id="3731475">]</span><span class="op" id="3731476">,</span>&nbsp;<span class="ident" id="3731478"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731479">.</span><span class="ident" id="3731480">buf</span><span class="op" id="3731483">[</span><span class="num" id="3731484">0</span><span class="op" id="3731485">:</span><span class="ident" id="3731486"><a href="/encoding/base64/base64.go.html#3731369">nr</a></span><span class="op" id="3731488">]</span><span class="op" id="3731489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731493"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731494">.</span><span class="ident" id="3731495">out</span>&nbsp;<span class="op" id="3731499">=</span>&nbsp;<span class="ident" id="3731501"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731502">.</span><span class="ident" id="3731503">outbuf</span><span class="op" id="3731509">[</span><span class="num" id="3731510">0</span><span class="op" id="3731511">:</span><span class="ident" id="3731512"><a href="/encoding/base64/base64.go.html#3731391">nw</a></span><span class="op" id="3731514">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731518"><a href="/encoding/base64/base64.go.html#3730875">n</a></span>&nbsp;<span class="op" id="3731520">=</span>&nbsp;<span class="builtinfunc" id="3731522">copy</span><span class="op" id="3731526">(</span><span class="ident" id="3731527"><a href="/encoding/base64/base64.go.html#3730864">p</a></span><span class="op" id="3731528">,</span>&nbsp;<span class="ident" id="3731530"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731531">.</span><span class="ident" id="3731532">out</span><span class="op" id="3731535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731539"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731540">.</span><span class="ident" id="3731541">out</span>&nbsp;<span class="op" id="3731545">=</span>&nbsp;<span class="ident" id="3731547"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731548">.</span><span class="ident" id="3731549">out</span><span class="op" id="3731552">[</span><span class="ident" id="3731553"><a href="/encoding/base64/base64.go.html#3730875">n</a></span><span class="op" id="3731554">:</span><span class="op" id="3731555">]</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731558">}</span>&nbsp;<span class="keyword" id="3731560">else</span>&nbsp;<span class="op" id="3731565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731569"><a href="/encoding/base64/base64.go.html#3730875">n</a></span><span class="op" id="3731570">,</span>&nbsp;<span class="ident" id="3731572"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731573">.</span><span class="ident" id="3731574">end</span><span class="op" id="3731577">,</span>&nbsp;<span class="ident" id="3731579"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731580">.</span><span class="ident" id="3731581">err</span>&nbsp;<span class="op" id="3731585">=</span>&nbsp;<span class="ident" id="3731587"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731588">.</span><span class="ident" id="3731589">enc</span><span class="op" id="3731592">.</span><span class="ident" id="3731593">decode</span><span class="op" id="3731599">(</span><span class="ident" id="3731600"><a href="/encoding/base64/base64.go.html#3730864">p</a></span><span class="op" id="3731601">,</span>&nbsp;<span class="ident" id="3731603"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731604">.</span><span class="ident" id="3731605">buf</span><span class="op" id="3731608">[</span><span class="num" id="3731609">0</span><span class="op" id="3731610">:</span><span class="ident" id="3731611"><a href="/encoding/base64/base64.go.html#3731369">nr</a></span><span class="op" id="3731613">]</span><span class="op" id="3731614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731620"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731621">.</span><span class="ident" id="3731622">nbuf</span>&nbsp;<span class="op" id="3731627">-=</span>&nbsp;<span class="ident" id="3731630"><a href="/encoding/base64/base64.go.html#3731369">nr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731634">for</span>&nbsp;<span class="ident" id="3731638">i</span>&nbsp;<span class="op" id="3731640">:=</span>&nbsp;<span class="num" id="3731643">0</span><span class="op" id="3731644">;</span>&nbsp;<span class="ident" id="3731646"><a href="/encoding/base64/base64.go.html#3731638">i</a></span>&nbsp;<span class="op" id="3731648">&lt;</span>&nbsp;<span class="ident" id="3731650"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731651">.</span><span class="ident" id="3731652">nbuf</span><span class="op" id="3731656">;</span>&nbsp;<span class="ident" id="3731658"><a href="/encoding/base64/base64.go.html#3731638">i</a></span><span class="op" id="3731659">++</span>&nbsp;<span class="op" id="3731662">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731666"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731667">.</span><span class="ident" id="3731668">buf</span><span class="op" id="3731671">[</span><span class="ident" id="3731672"><a href="/encoding/base64/base64.go.html#3731638">i</a></span><span class="op" id="3731673">]</span>&nbsp;<span class="op" id="3731675">=</span>&nbsp;<span class="ident" id="3731677"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731678">.</span><span class="ident" id="3731679">buf</span><span class="op" id="3731682">[</span><span class="ident" id="3731683"><a href="/encoding/base64/base64.go.html#3731638">i</a></span><span class="op" id="3731684">+</span><span class="ident" id="3731685"><a href="/encoding/base64/base64.go.html#3731369">nr</a></span><span class="op" id="3731687">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731694">if</span>&nbsp;<span class="ident" id="3731697"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731698">.</span><span class="ident" id="3731699">err</span>&nbsp;<span class="op" id="3731703">==</span>&nbsp;<span class="ident" id="3731706">nil</span>&nbsp;<span class="op" id="3731710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731714"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731715">.</span><span class="ident" id="3731716">err</span>&nbsp;<span class="op" id="3731720">=</span>&nbsp;<span class="ident" id="3731722"><a href="/encoding/base64/base64.go.html#3730882">err</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3731727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731730">return</span>&nbsp;<span class="ident" id="3731737"><a href="/encoding/base64/base64.go.html#3730875">n</a></span><span class="op" id="3731738">,</span>&nbsp;<span class="ident" id="3731740"><a href="/encoding/base64/base64.go.html#3730847">d</a></span><span class="op" id="3731741">.</span><span class="ident" id="3731742">err</span><br>
<span class="lineno"></span><span class="op" id="3731746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3731749">type</span>&nbsp;<span class="ident" id="3731754">newlineFilteringReader</span>&nbsp;<span class="keyword" id="3731777">struct</span>&nbsp;<span class="op" id="3731784">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731787">wrapped</span>&nbsp;<span class="ident" id="3731795"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3731797">.</span><span class="ident" id="3731798">Reader</span><br>
<span class="lineno"></span><span class="op" id="3731805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3731808">func</span>&nbsp;<span class="op" id="3731813">(</span><span class="ident" id="3731814">r</span>&nbsp;<span class="op" id="3731816">*</span><span class="ident" id="3731817"><a href="/encoding/base64/base64.go.html#3731754">newlineFilteringReader</a></span><span class="op" id="3731839">)</span>&nbsp;<span class="ident" id="3731841">Read</span><span class="op" id="3731845">(</span><span class="ident" id="3731846">p</span>&nbsp;<span class="op" id="3731848">[</span><span class="op" id="3731849">]</span><span class="builtintype" id="3731850">byte</span><span class="op" id="3731854">)</span>&nbsp;<span class="op" id="3731856">(</span><span class="builtintype" id="3731857">int</span><span class="op" id="3731860">,</span>&nbsp;<span class="builtintype" id="3731862">error</span><span class="op" id="3731867">)</span>&nbsp;<span class="op" id="3731869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731872">n</span><span class="op" id="3731873">,</span>&nbsp;<span class="ident" id="3731875">err</span>&nbsp;<span class="op" id="3731879">:=</span>&nbsp;<span class="ident" id="3731882"><a href="/encoding/base64/base64.go.html#3731814">r</a></span><span class="op" id="3731883">.</span><span class="ident" id="3731884">wrapped</span><span class="op" id="3731891">.</span><span class="ident" id="3731892">Read</span><span class="op" id="3731896">(</span><span class="ident" id="3731897"><a href="/encoding/base64/base64.go.html#3731846">p</a></span><span class="op" id="3731898">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731901">for</span>&nbsp;<span class="ident" id="3731905"><a href="/encoding/base64/base64.go.html#3731872">n</a></span>&nbsp;<span class="op" id="3731907">&gt;</span>&nbsp;<span class="num" id="3731909">0</span>&nbsp;<span class="op" id="3731911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3731915">offset</span>&nbsp;<span class="op" id="3731922">:=</span>&nbsp;<span class="num" id="3731925">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731929">for</span>&nbsp;<span class="ident" id="3731933">i</span><span class="op" id="3731934">,</span>&nbsp;<span class="ident" id="3731936">b</span>&nbsp;<span class="op" id="3731938">:=</span>&nbsp;<span class="keyword" id="3731941">range</span>&nbsp;<span class="ident" id="3731947"><a href="/encoding/base64/base64.go.html#3731846">p</a></span><span class="op" id="3731948">[</span><span class="num" id="3731949">0</span><span class="op" id="3731950">:</span><span class="ident" id="3731951"><a href="/encoding/base64/base64.go.html#3731872">n</a></span><span class="op" id="3731952">]</span>&nbsp;<span class="op" id="3731954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731959">if</span>&nbsp;<span class="ident" id="3731962"><a href="/encoding/base64/base64.go.html#3731936">b</a></span>&nbsp;<span class="op" id="3731964">!=</span>&nbsp;<span class="string" id="3731967">&#39;\r&#39;</span>&nbsp;<span class="op" id="3731972">&amp;&amp;</span>&nbsp;<span class="ident" id="3731975"><a href="/encoding/base64/base64.go.html#3731936">b</a></span>&nbsp;<span class="op" id="3731977">!=</span>&nbsp;<span class="string" id="3731980">&#39;\n&#39;</span>&nbsp;<span class="op" id="3731985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3731991">if</span>&nbsp;<span class="ident" id="3731994"><a href="/encoding/base64/base64.go.html#3731933">i</a></span>&nbsp;<span class="op" id="3731996">!=</span>&nbsp;<span class="ident" id="3731999"><a href="/encoding/base64/base64.go.html#3731915">offset</a></span>&nbsp;<span class="op" id="3732006">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732013"><a href="/encoding/base64/base64.go.html#3731846">p</a></span><span class="op" id="3732014">[</span><span class="ident" id="3732015"><a href="/encoding/base64/base64.go.html#3731915">offset</a></span><span class="op" id="3732021">]</span>&nbsp;<span class="op" id="3732023">=</span>&nbsp;<span class="ident" id="3732025"><a href="/encoding/base64/base64.go.html#3731936">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3732031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732037"><a href="/encoding/base64/base64.go.html#3731915">offset</a></span><span class="op" id="3732043">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3732049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3732053">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732057">if</span>&nbsp;<span class="ident" id="3732060"><a href="/encoding/base64/base64.go.html#3731915">offset</a></span>&nbsp;<span class="op" id="3732067">&gt;</span>&nbsp;<span class="num" id="3732069">0</span>&nbsp;<span class="op" id="3732071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732076">return</span>&nbsp;<span class="ident" id="3732083"><a href="/encoding/base64/base64.go.html#3731915">offset</a></span><span class="op" id="3732089">,</span>&nbsp;<span class="ident" id="3732091"><a href="/encoding/base64/base64.go.html#3731875">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3732097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3732101">//&nbsp;Previous&nbsp;buffer&nbsp;entirely&nbsp;whitespace,&nbsp;read&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3732154"><a href="/encoding/base64/base64.go.html#3731872">n</a></span><span class="op" id="3732155">,</span>&nbsp;<span class="ident" id="3732157"><a href="/encoding/base64/base64.go.html#3731875">err</a></span>&nbsp;<span class="op" id="3732161">=</span>&nbsp;<span class="ident" id="3732163"><a href="/encoding/base64/base64.go.html#3731814">r</a></span><span class="op" id="3732164">.</span><span class="ident" id="3732165">wrapped</span><span class="op" id="3732172">.</span><span class="ident" id="3732173">Read</span><span class="op" id="3732177">(</span><span class="ident" id="3732178"><a href="/encoding/base64/base64.go.html#3731846">p</a></span><span class="op" id="3732179">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3732182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732185">return</span>&nbsp;<span class="ident" id="3732192"><a href="/encoding/base64/base64.go.html#3731872">n</a></span><span class="op" id="3732193">,</span>&nbsp;<span class="ident" id="3732195"><a href="/encoding/base64/base64.go.html#3731875">err</a></span><br>
<span class="lineno"></span><span class="op" id="3732199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732202">//&nbsp;NewDecoder&nbsp;constructs&nbsp;a&nbsp;new&nbsp;base64&nbsp;stream&nbsp;decoder.</span><br>
<span class="lineno">385</span><span class="keyword" id="3732256">func</span>&nbsp;<span class="ident" id="3732261">NewDecoder</span><span class="op" id="3732271">(</span><span class="ident" id="3732272">enc</span>&nbsp;<span class="op" id="3732276">*</span><span class="ident" id="3732277"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3732285">,</span>&nbsp;<span class="ident" id="3732287">r</span>&nbsp;<span class="ident" id="3732289"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3732291">.</span><span class="ident" id="3732292">Reader</span><span class="op" id="3732298">)</span>&nbsp;<span class="ident" id="3732300"><a href="/encoding/base64/base64.go.html#3723489">io</a></span><span class="op" id="3732302">.</span><span class="ident" id="3732303">Reader</span>&nbsp;<span class="op" id="3732310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3732313">return</span>&nbsp;<span class="op" id="3732320">&amp;</span><span class="ident" id="3732321"><a href="/encoding/base64/base64.go.html#3730612">decoder</a></span><span class="op" id="3732328">{</span><span class="ident" id="3732329">enc</span><span class="op" id="3732332">:</span>&nbsp;<span class="ident" id="3732334"><a href="/encoding/base64/base64.go.html#3732272">enc</a></span><span class="op" id="3732337">,</span>&nbsp;<span class="ident" id="3732339">r</span><span class="op" id="3732340">:</span>&nbsp;<span class="op" id="3732342">&amp;</span><span class="ident" id="3732343"><a href="/encoding/base64/base64.go.html#3731754">newlineFilteringReader</a></span><span class="op" id="3732365">{</span><span class="ident" id="3732366"><a href="/encoding/base64/base64.go.html#3732287">r</a></span><span class="op" id="3732367">}</span><span class="op" id="3732368">}</span><br>
<span class="lineno"></span><span class="op" id="3732370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732373">//&nbsp;DecodedLen&nbsp;returns&nbsp;the&nbsp;maximum&nbsp;length&nbsp;in&nbsp;bytes&nbsp;of&nbsp;the&nbsp;decoded&nbsp;data</span><br>
<span class="lineno">390</span><span class="comment" id="3732443">//&nbsp;corresponding&nbsp;to&nbsp;n&nbsp;bytes&nbsp;of&nbsp;base64-encoded&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="3732495">func</span>&nbsp;<span class="op" id="3732500">(</span><span class="ident" id="3732501">enc</span>&nbsp;<span class="op" id="3732505">*</span><span class="ident" id="3732506"><a href="/encoding/base64/base64.go.html#3723882">Encoding</a></span><span class="op" id="3732514">)</span>&nbsp;<span class="ident" id="3732516">DecodedLen</span><span class="op" id="3732526">(</span><span class="ident" id="3732527">n</span>&nbsp;<span class="builtintype" id="3732529">int</span><span class="op" id="3732532">)</span>&nbsp;<span class="builtintype" id="3732534">int</span>&nbsp;<span class="op" id="3732538">{</span>&nbsp;<span class="keyword" id="3732540">return</span>&nbsp;<span class="ident" id="3732547"><a href="/encoding/base64/base64.go.html#3732527">n</a></span>&nbsp;<span class="op" id="3732549">/</span>&nbsp;<span class="num" id="3732551">4</span>&nbsp;<span class="op" id="3732553">*</span>&nbsp;<span class="num" id="3732555">3</span>&nbsp;<span class="op" id="3732557">}</span>
</div>
</body>
</html>
