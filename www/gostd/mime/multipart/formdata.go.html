<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html" class="current">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4307322">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4307377">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4307431">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4307482">package</span>&nbsp;<span class="ident" id="4307490">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4307501">import</span>&nbsp;<span class="op" id="4307508">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4307511">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4307520">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4307530">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4307536">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4307549">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4307566">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="4307571">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4307574">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="4307650">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4307697">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="4307761">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4307802">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="4307865">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="4307914">func</span>&nbsp;<span class="op" id="4307919">(</span><span class="ident" id="4307920">r</span>&nbsp;<span class="op" id="4307922">*</span><span class="ident" id="4307923"><a href="/gostd/mime/multipart/multipart.go.html#4316630">Reader</a></span><span class="op" id="4307929">)</span>&nbsp;<span class="ident" id="4307931">ReadForm</span><span class="op" id="4307939">(</span><span class="ident" id="4307940">maxMemory</span>&nbsp;<span class="builtintype" id="4307950">int64</span><span class="op" id="4307955">)</span>&nbsp;<span class="op" id="4307957">(</span><span class="ident" id="4307958">f</span>&nbsp;<span class="op" id="4307960">*</span><span class="ident" id="4307961"><a href="/gostd/mime/multipart/formdata.go.html#4309651">Form</a></span><span class="op" id="4307965">,</span>&nbsp;<span class="ident" id="4307967">err</span>&nbsp;<span class="builtintype" id="4307971">error</span><span class="op" id="4307976">)</span>&nbsp;<span class="op" id="4307978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4307981">form</span>&nbsp;<span class="op" id="4307986">:=</span>&nbsp;<span class="op" id="4307989">&amp;</span><span class="ident" id="4307990"><a href="/gostd/mime/multipart/formdata.go.html#4309651">Form</a></span><span class="op" id="4307994">{</span><span class="builtinfunc" id="4307995">make</span><span class="op" id="4307999">(</span><span class="keyword" id="4308000">map</span><span class="op" id="4308003">[</span><span class="builtintype" id="4308004">string</span><span class="op" id="4308010">]</span><span class="op" id="4308011">[</span><span class="op" id="4308012">]</span><span class="builtintype" id="4308013">string</span><span class="op" id="4308019">)</span><span class="op" id="4308020">,</span>&nbsp;<span class="builtinfunc" id="4308022">make</span><span class="op" id="4308026">(</span><span class="keyword" id="4308027">map</span><span class="op" id="4308030">[</span><span class="builtintype" id="4308031">string</span><span class="op" id="4308037">]</span><span class="op" id="4308038">[</span><span class="op" id="4308039">]</span><span class="op" id="4308040">*</span><span class="ident" id="4308041"><a href="/gostd/mime/multipart/formdata.go.html#4310100">FileHeader</a></span><span class="op" id="4308051">)</span><span class="op" id="4308052">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308055">defer</span>&nbsp;<span class="keyword" id="4308061">func</span><span class="op" id="4308065">(</span><span class="op" id="4308066">)</span>&nbsp;<span class="op" id="4308068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308072">if</span>&nbsp;<span class="ident" id="4308075"><a href="/gostd/mime/multipart/formdata.go.html#4307967">err</a></span>&nbsp;<span class="op" id="4308079">!=</span>&nbsp;<span class="builtintype" id="4308082">nil</span>&nbsp;<span class="op" id="4308086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308091"><a href="/gostd/mime/multipart/formdata.go.html#4307981">form</a></span><span class="op" id="4308095">.</span><span class="ident" id="4308096"><a href="/gostd/mime/multipart/formdata.go.html#4309807">RemoveAll</a></span><span class="op" id="4308105">(</span><span class="op" id="4308106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308113">}</span><span class="op" id="4308114">(</span><span class="op" id="4308115">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308119">maxValueBytes</span>&nbsp;<span class="op" id="4308133">:=</span>&nbsp;<span class="builtintype" id="4308136">int64</span><span class="op" id="4308141">(</span><span class="num" id="4308142">10</span>&nbsp;<span class="op" id="4308145">&lt;&lt;</span>&nbsp;<span class="num" id="4308148">20</span><span class="op" id="4308150">)</span>&nbsp;<span class="comment" id="4308152">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308180">for</span>&nbsp;<span class="op" id="4308184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308188">p</span><span class="op" id="4308189">,</span>&nbsp;<span class="ident" id="4308191">err</span>&nbsp;<span class="op" id="4308195">:=</span>&nbsp;<span class="ident" id="4308198"><a href="/gostd/mime/multipart/formdata.go.html#4307920">r</a></span><span class="op" id="4308199">.</span><span class="ident" id="4308200"><a href="/gostd/mime/multipart/multipart.go.html#4317068">NextPart</a></span><span class="op" id="4308208">(</span><span class="op" id="4308209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308213">if</span>&nbsp;<span class="ident" id="4308216"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span>&nbsp;<span class="op" id="4308220">==</span>&nbsp;<span class="ident" id="4308223"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4308225">.</span><span class="ident" id="4308226"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="4308230">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308235">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308247">if</span>&nbsp;<span class="ident" id="4308250"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span>&nbsp;<span class="op" id="4308254">!=</span>&nbsp;<span class="builtintype" id="4308257">nil</span>&nbsp;<span class="op" id="4308261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308266">return</span>&nbsp;<span class="builtintype" id="4308273">nil</span><span class="op" id="4308276">,</span>&nbsp;<span class="ident" id="4308278"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308284">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308289">name</span>&nbsp;<span class="op" id="4308294">:=</span>&nbsp;<span class="ident" id="4308297"><a href="/gostd/mime/multipart/formdata.go.html#4308188">p</a></span><span class="op" id="4308298">.</span><span class="ident" id="4308299"><a href="/gostd/mime/multipart/multipart.go.html#4312343">FormName</a></span><span class="op" id="4308307">(</span><span class="op" id="4308308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308312">if</span>&nbsp;<span class="ident" id="4308315"><a href="/gostd/mime/multipart/formdata.go.html#4308289">name</a></span>&nbsp;<span class="op" id="4308320">==</span>&nbsp;<span class="string" id="4308323">&#34;&#34;</span>&nbsp;<span class="op" id="4308326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308331">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308342">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308346">filename</span>&nbsp;<span class="op" id="4308355">:=</span>&nbsp;<span class="ident" id="4308358"><a href="/gostd/mime/multipart/formdata.go.html#4308188">p</a></span><span class="op" id="4308359">.</span><span class="ident" id="4308360"><a href="/gostd/mime/multipart/multipart.go.html#4312724">FileName</a></span><span class="op" id="4308368">(</span><span class="op" id="4308369">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308374">var</span>&nbsp;<span class="ident" id="4308378">b</span>&nbsp;<span class="ident" id="4308380"><a href="/gostd/mime/multipart/formdata.go.html#4307511">bytes</a></span><span class="op" id="4308385">.</span><span class="ident" id="4308386"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308396">if</span>&nbsp;<span class="ident" id="4308399"><a href="/gostd/mime/multipart/formdata.go.html#4308346">filename</a></span>&nbsp;<span class="op" id="4308408">==</span>&nbsp;<span class="string" id="4308411">&#34;&#34;</span>&nbsp;<span class="op" id="4308414">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4308419">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308458">n</span><span class="op" id="4308459">,</span>&nbsp;<span class="ident" id="4308461">err</span>&nbsp;<span class="op" id="4308465">:=</span>&nbsp;<span class="ident" id="4308468"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4308470">.</span><span class="ident" id="4308471"><a href="/gostd/io/io.go.html#1430100">CopyN</a></span><span class="op" id="4308476">(</span><span class="op" id="4308477">&amp;</span><span class="ident" id="4308478"><a href="/gostd/mime/multipart/formdata.go.html#4308378">b</a></span><span class="op" id="4308479">,</span>&nbsp;<span class="ident" id="4308481"><a href="/gostd/mime/multipart/formdata.go.html#4308188">p</a></span><span class="op" id="4308482">,</span>&nbsp;<span class="ident" id="4308484"><a href="/gostd/mime/multipart/formdata.go.html#4308119">maxValueBytes</a></span><span class="op" id="4308497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308502">if</span>&nbsp;<span class="ident" id="4308505"><a href="/gostd/mime/multipart/formdata.go.html#4308461">err</a></span>&nbsp;<span class="op" id="4308509">!=</span>&nbsp;<span class="builtintype" id="4308512">nil</span>&nbsp;<span class="op" id="4308516">&amp;&amp;</span>&nbsp;<span class="ident" id="4308519"><a href="/gostd/mime/multipart/formdata.go.html#4308461">err</a></span>&nbsp;<span class="op" id="4308523">!=</span>&nbsp;<span class="ident" id="4308526"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4308528">.</span><span class="ident" id="4308529"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="4308533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308539">return</span>&nbsp;<span class="builtintype" id="4308546">nil</span><span class="op" id="4308549">,</span>&nbsp;<span class="ident" id="4308551"><a href="/gostd/mime/multipart/formdata.go.html#4308461">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308558">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308563"><a href="/gostd/mime/multipart/formdata.go.html#4308119">maxValueBytes</a></span>&nbsp;<span class="op" id="4308577">-=</span>&nbsp;<span class="ident" id="4308580"><a href="/gostd/mime/multipart/formdata.go.html#4308458">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308585">if</span>&nbsp;<span class="ident" id="4308588"><a href="/gostd/mime/multipart/formdata.go.html#4308119">maxValueBytes</a></span>&nbsp;<span class="op" id="4308602">==</span>&nbsp;<span class="num" id="4308605">0</span>&nbsp;<span class="op" id="4308607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308613">return</span>&nbsp;<span class="builtintype" id="4308620">nil</span><span class="op" id="4308623">,</span>&nbsp;<span class="ident" id="4308625"><a href="/gostd/mime/multipart/formdata.go.html#4307520">errors</a></span><span class="op" id="4308631">.</span><span class="ident" id="4308632"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="4308635">(</span><span class="string" id="4308636">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="4308666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308676"><a href="/gostd/mime/multipart/formdata.go.html#4307981">form</a></span><span class="op" id="4308680">.</span><span class="ident" id="4308681"><a href="/gostd/mime/multipart/formdata.go.html#4309666">Value</a></span><span class="op" id="4308686">[</span><span class="ident" id="4308687"><a href="/gostd/mime/multipart/formdata.go.html#4308289">name</a></span><span class="op" id="4308691">]</span>&nbsp;<span class="op" id="4308693">=</span>&nbsp;<span class="builtinfunc" id="4308695">append</span><span class="op" id="4308701">(</span><span class="ident" id="4308702"><a href="/gostd/mime/multipart/formdata.go.html#4307981">form</a></span><span class="op" id="4308706">.</span><span class="ident" id="4308707"><a href="/gostd/mime/multipart/formdata.go.html#4309666">Value</a></span><span class="op" id="4308712">[</span><span class="ident" id="4308713"><a href="/gostd/mime/multipart/formdata.go.html#4308289">name</a></span><span class="op" id="4308717">]</span><span class="op" id="4308718">,</span>&nbsp;<span class="ident" id="4308720"><a href="/gostd/mime/multipart/formdata.go.html#4308378">b</a></span><span class="op" id="4308721">.</span><span class="ident" id="4308722"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="4308728">(</span><span class="op" id="4308729">)</span><span class="op" id="4308730">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308735">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4308751">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308789">fh</span>&nbsp;<span class="op" id="4308792">:=</span>&nbsp;<span class="op" id="4308795">&amp;</span><span class="ident" id="4308796"><a href="/gostd/mime/multipart/formdata.go.html#4310100">FileHeader</a></span><span class="op" id="4308806">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308811"><a href="/gostd/mime/multipart/formdata.go.html#4310121">Filename</a></span><span class="op" id="4308819">:</span>&nbsp;<span class="ident" id="4308821"><a href="/gostd/mime/multipart/formdata.go.html#4308346">filename</a></span><span class="op" id="4308829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308834"><a href="/gostd/mime/multipart/formdata.go.html#4310138">Header</a></span><span class="op" id="4308840">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4308844"><a href="/gostd/mime/multipart/formdata.go.html#4308188">p</a></span><span class="op" id="4308845">.</span><span class="ident" id="4308846"><a href="/gostd/mime/multipart/multipart.go.html#4311887">Header</a></span><span class="op" id="4308852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4308860">n</span><span class="op" id="4308861">,</span>&nbsp;<span class="ident" id="4308863"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span>&nbsp;<span class="op" id="4308867">:=</span>&nbsp;<span class="ident" id="4308870"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4308872">.</span><span class="ident" id="4308873"><a href="/gostd/io/io.go.html#1430100">CopyN</a></span><span class="op" id="4308878">(</span><span class="op" id="4308879">&amp;</span><span class="ident" id="4308880"><a href="/gostd/mime/multipart/formdata.go.html#4308378">b</a></span><span class="op" id="4308881">,</span>&nbsp;<span class="ident" id="4308883"><a href="/gostd/mime/multipart/formdata.go.html#4308188">p</a></span><span class="op" id="4308884">,</span>&nbsp;<span class="ident" id="4308886"><a href="/gostd/mime/multipart/formdata.go.html#4307940">maxMemory</a></span><span class="op" id="4308895">+</span><span class="num" id="4308896">1</span><span class="op" id="4308897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308901">if</span>&nbsp;<span class="ident" id="4308904"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span>&nbsp;<span class="op" id="4308908">!=</span>&nbsp;<span class="builtintype" id="4308911">nil</span>&nbsp;<span class="op" id="4308915">&amp;&amp;</span>&nbsp;<span class="ident" id="4308918"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span>&nbsp;<span class="op" id="4308922">!=</span>&nbsp;<span class="ident" id="4308925"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4308927">.</span><span class="ident" id="4308928"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="4308932">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308937">return</span>&nbsp;<span class="builtintype" id="4308944">nil</span><span class="op" id="4308947">,</span>&nbsp;<span class="ident" id="4308949"><a href="/gostd/mime/multipart/formdata.go.html#4308191">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4308955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4308959">if</span>&nbsp;<span class="ident" id="4308962"><a href="/gostd/mime/multipart/formdata.go.html#4308860">n</a></span>&nbsp;<span class="op" id="4308964">&gt;</span>&nbsp;<span class="ident" id="4308966"><a href="/gostd/mime/multipart/formdata.go.html#4307940">maxMemory</a></span>&nbsp;<span class="op" id="4308976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4308981">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309027">file</span><span class="op" id="4309031">,</span>&nbsp;<span class="ident" id="4309033">err</span>&nbsp;<span class="op" id="4309037">:=</span>&nbsp;<span class="ident" id="4309040"><a href="/gostd/mime/multipart/formdata.go.html#4307536">ioutil</a></span><span class="op" id="4309046">.</span><span class="ident" id="4309047"><a href="/gostd/io/ioutil/tempfile.go.html#3769783">TempFile</a></span><span class="op" id="4309055">(</span><span class="string" id="4309056">&#34;&#34;</span><span class="op" id="4309058">,</span>&nbsp;<span class="string" id="4309060">&#34;multipart-&#34;</span><span class="op" id="4309072">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309077">if</span>&nbsp;<span class="ident" id="4309080"><a href="/gostd/mime/multipart/formdata.go.html#4309033">err</a></span>&nbsp;<span class="op" id="4309084">!=</span>&nbsp;<span class="builtintype" id="4309087">nil</span>&nbsp;<span class="op" id="4309091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309097">return</span>&nbsp;<span class="builtintype" id="4309104">nil</span><span class="op" id="4309107">,</span>&nbsp;<span class="ident" id="4309109"><a href="/gostd/mime/multipart/formdata.go.html#4309033">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4309116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309121">defer</span>&nbsp;<span class="ident" id="4309127"><a href="/gostd/mime/multipart/formdata.go.html#4309027">file</a></span><span class="op" id="4309131">.</span><span class="ident" id="4309132"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="4309137">(</span><span class="op" id="4309138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309143">_</span><span class="op" id="4309144">,</span>&nbsp;<span class="ident" id="4309146"><a href="/gostd/mime/multipart/formdata.go.html#4309033">err</a></span>&nbsp;<span class="op" id="4309150">=</span>&nbsp;<span class="ident" id="4309152"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4309154">.</span><span class="ident" id="4309155"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="4309159">(</span><span class="ident" id="4309160"><a href="/gostd/mime/multipart/formdata.go.html#4309027">file</a></span><span class="op" id="4309164">,</span>&nbsp;<span class="ident" id="4309166"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4309168">.</span><span class="ident" id="4309169"><a href="/gostd/io/multi.go.html#1435263">MultiReader</a></span><span class="op" id="4309180">(</span><span class="op" id="4309181">&amp;</span><span class="ident" id="4309182"><a href="/gostd/mime/multipart/formdata.go.html#4308378">b</a></span><span class="op" id="4309183">,</span>&nbsp;<span class="ident" id="4309185"><a href="/gostd/mime/multipart/formdata.go.html#4308188">p</a></span><span class="op" id="4309186">)</span><span class="op" id="4309187">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309192">if</span>&nbsp;<span class="ident" id="4309195"><a href="/gostd/mime/multipart/formdata.go.html#4309033">err</a></span>&nbsp;<span class="op" id="4309199">!=</span>&nbsp;<span class="builtintype" id="4309202">nil</span>&nbsp;<span class="op" id="4309206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309212"><a href="/gostd/mime/multipart/formdata.go.html#4307566">os</a></span><span class="op" id="4309214">.</span><span class="ident" id="4309215"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="4309221">(</span><span class="ident" id="4309222"><a href="/gostd/mime/multipart/formdata.go.html#4309027">file</a></span><span class="op" id="4309226">.</span><span class="ident" id="4309227"><a href="/gostd/os/file.go.html#2441585">Name</a></span><span class="op" id="4309231">(</span><span class="op" id="4309232">)</span><span class="op" id="4309233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309239">return</span>&nbsp;<span class="builtintype" id="4309246">nil</span><span class="op" id="4309249">,</span>&nbsp;<span class="ident" id="4309251"><a href="/gostd/mime/multipart/formdata.go.html#4309033">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4309258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309263"><a href="/gostd/mime/multipart/formdata.go.html#4308789">fh</a></span><span class="op" id="4309265">.</span><span class="ident" id="4309266"><a href="/gostd/mime/multipart/formdata.go.html#4310186">tmpfile</a></span>&nbsp;<span class="op" id="4309274">=</span>&nbsp;<span class="ident" id="4309276"><a href="/gostd/mime/multipart/formdata.go.html#4309027">file</a></span><span class="op" id="4309280">.</span><span class="ident" id="4309281"><a href="/gostd/os/file.go.html#2441585">Name</a></span><span class="op" id="4309285">(</span><span class="op" id="4309286">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4309290">}</span>&nbsp;<span class="keyword" id="4309292">else</span>&nbsp;<span class="op" id="4309297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309302"><a href="/gostd/mime/multipart/formdata.go.html#4308789">fh</a></span><span class="op" id="4309304">.</span><span class="ident" id="4309305"><a href="/gostd/mime/multipart/formdata.go.html#4310170">content</a></span>&nbsp;<span class="op" id="4309313">=</span>&nbsp;<span class="ident" id="4309315"><a href="/gostd/mime/multipart/formdata.go.html#4308378">b</a></span><span class="op" id="4309316">.</span><span class="ident" id="4309317"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="4309322">(</span><span class="op" id="4309323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309328"><a href="/gostd/mime/multipart/formdata.go.html#4307940">maxMemory</a></span>&nbsp;<span class="op" id="4309338">-=</span>&nbsp;<span class="ident" id="4309341"><a href="/gostd/mime/multipart/formdata.go.html#4308860">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4309345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309349"><a href="/gostd/mime/multipart/formdata.go.html#4307981">form</a></span><span class="op" id="4309353">.</span><span class="ident" id="4309354"><a href="/gostd/mime/multipart/formdata.go.html#4309693">File</a></span><span class="op" id="4309358">[</span><span class="ident" id="4309359"><a href="/gostd/mime/multipart/formdata.go.html#4308289">name</a></span><span class="op" id="4309363">]</span>&nbsp;<span class="op" id="4309365">=</span>&nbsp;<span class="builtinfunc" id="4309367">append</span><span class="op" id="4309373">(</span><span class="ident" id="4309374"><a href="/gostd/mime/multipart/formdata.go.html#4307981">form</a></span><span class="op" id="4309378">.</span><span class="ident" id="4309379"><a href="/gostd/mime/multipart/formdata.go.html#4309693">File</a></span><span class="op" id="4309383">[</span><span class="ident" id="4309384"><a href="/gostd/mime/multipart/formdata.go.html#4308289">name</a></span><span class="op" id="4309388">]</span><span class="op" id="4309389">,</span>&nbsp;<span class="ident" id="4309391"><a href="/gostd/mime/multipart/formdata.go.html#4308789">fh</a></span><span class="op" id="4309393">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4309396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309400">return</span>&nbsp;<span class="ident" id="4309407"><a href="/gostd/mime/multipart/formdata.go.html#4307981">form</a></span><span class="op" id="4309411">,</span>&nbsp;<span class="builtintype" id="4309413">nil</span><br>
<span class="lineno"></span><span class="op" id="4309417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4309420">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="4309456">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="4309514">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="4309571">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="4309613">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="4309646">type</span>&nbsp;<span class="ident" id="4309651">Form</span>&nbsp;<span class="keyword" id="4309656">struct</span>&nbsp;<span class="op" id="4309663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309666">Value</span>&nbsp;<span class="keyword" id="4309672">map</span><span class="op" id="4309675">[</span><span class="builtintype" id="4309676">string</span><span class="op" id="4309682">]</span><span class="op" id="4309683">[</span><span class="op" id="4309684">]</span><span class="builtintype" id="4309685">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309693">File</span>&nbsp;&nbsp;<span class="keyword" id="4309699">map</span><span class="op" id="4309702">[</span><span class="builtintype" id="4309703">string</span><span class="op" id="4309709">]</span><span class="op" id="4309710">[</span><span class="op" id="4309711">]</span><span class="op" id="4309712">*</span><span class="ident" id="4309713"><a href="/gostd/mime/multipart/formdata.go.html#4310100">FileHeader</a></span><br>
<span class="lineno"></span><span class="op" id="4309724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4309727">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="4309792">func</span>&nbsp;<span class="op" id="4309797">(</span><span class="ident" id="4309798">f</span>&nbsp;<span class="op" id="4309800">*</span><span class="ident" id="4309801"><a href="/gostd/mime/multipart/formdata.go.html#4309651">Form</a></span><span class="op" id="4309805">)</span>&nbsp;<span class="ident" id="4309807">RemoveAll</span><span class="op" id="4309816">(</span><span class="op" id="4309817">)</span>&nbsp;<span class="builtintype" id="4309819">error</span>&nbsp;<span class="op" id="4309825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309828">var</span>&nbsp;<span class="ident" id="4309832">err</span>&nbsp;<span class="builtintype" id="4309836">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309843">for</span>&nbsp;<span class="ident" id="4309847">_</span><span class="op" id="4309848">,</span>&nbsp;<span class="ident" id="4309850">fhs</span>&nbsp;<span class="op" id="4309854">:=</span>&nbsp;<span class="keyword" id="4309857">range</span>&nbsp;<span class="ident" id="4309863"><a href="/gostd/mime/multipart/formdata.go.html#4309798">f</a></span><span class="op" id="4309864">.</span><span class="ident" id="4309865"><a href="/gostd/mime/multipart/formdata.go.html#4309693">File</a></span>&nbsp;<span class="op" id="4309870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309874">for</span>&nbsp;<span class="ident" id="4309878">_</span><span class="op" id="4309879">,</span>&nbsp;<span class="ident" id="4309881">fh</span>&nbsp;<span class="op" id="4309884">:=</span>&nbsp;<span class="keyword" id="4309887">range</span>&nbsp;<span class="ident" id="4309893"><a href="/gostd/mime/multipart/formdata.go.html#4309850">fhs</a></span>&nbsp;<span class="op" id="4309897">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309902">if</span>&nbsp;<span class="ident" id="4309905"><a href="/gostd/mime/multipart/formdata.go.html#4309881">fh</a></span><span class="op" id="4309907">.</span><span class="ident" id="4309908"><a href="/gostd/mime/multipart/formdata.go.html#4310186">tmpfile</a></span>&nbsp;<span class="op" id="4309916">!=</span>&nbsp;<span class="string" id="4309919">&#34;&#34;</span>&nbsp;<span class="op" id="4309922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309928">e</span>&nbsp;<span class="op" id="4309930">:=</span>&nbsp;<span class="ident" id="4309933"><a href="/gostd/mime/multipart/formdata.go.html#4307566">os</a></span><span class="op" id="4309935">.</span><span class="ident" id="4309936"><a href="/gostd/os/file_unix.go.html#2459394">Remove</a></span><span class="op" id="4309942">(</span><span class="ident" id="4309943"><a href="/gostd/mime/multipart/formdata.go.html#4309881">fh</a></span><span class="op" id="4309945">.</span><span class="ident" id="4309946"><a href="/gostd/mime/multipart/formdata.go.html#4310186">tmpfile</a></span><span class="op" id="4309953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4309959">if</span>&nbsp;<span class="ident" id="4309962"><a href="/gostd/mime/multipart/formdata.go.html#4309928">e</a></span>&nbsp;<span class="op" id="4309964">!=</span>&nbsp;<span class="builtintype" id="4309967">nil</span>&nbsp;<span class="op" id="4309971">&amp;&amp;</span>&nbsp;<span class="ident" id="4309974"><a href="/gostd/mime/multipart/formdata.go.html#4309832">err</a></span>&nbsp;<span class="op" id="4309978">==</span>&nbsp;<span class="builtintype" id="4309981">nil</span>&nbsp;<span class="op" id="4309985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4309992"><a href="/gostd/mime/multipart/formdata.go.html#4309832">err</a></span>&nbsp;<span class="op" id="4309996">=</span>&nbsp;<span class="ident" id="4309998"><a href="/gostd/mime/multipart/formdata.go.html#4309928">e</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4310004">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4310009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4310013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4310016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4310019">return</span>&nbsp;<span class="ident" id="4310026"><a href="/gostd/mime/multipart/formdata.go.html#4309832">err</a></span><br>
<span class="lineno"></span><span class="op" id="4310030">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="4310033">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="4310095">type</span>&nbsp;<span class="ident" id="4310100">FileHeader</span>&nbsp;<span class="keyword" id="4310111">struct</span>&nbsp;<span class="op" id="4310118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310121">Filename</span>&nbsp;<span class="builtintype" id="4310130">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310138">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4310147"><a href="/gostd/mime/multipart/formdata.go.html#4307549">textproto</a></span><span class="op" id="4310156">.</span><span class="ident" id="4310157"><a href="/gostd/net/textproto/header.go.html#4328626">MIMEHeader</a></span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310170">content</span>&nbsp;<span class="op" id="4310178">[</span><span class="op" id="4310179">]</span><span class="builtintype" id="4310180">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310186">tmpfile</span>&nbsp;<span class="builtintype" id="4310194">string</span><br>
<span class="lineno"></span><span class="op" id="4310201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4310204">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="4310264">func</span>&nbsp;<span class="op" id="4310269">(</span><span class="ident" id="4310270">fh</span>&nbsp;<span class="op" id="4310273">*</span><span class="ident" id="4310274"><a href="/gostd/mime/multipart/formdata.go.html#4310100">FileHeader</a></span><span class="op" id="4310284">)</span>&nbsp;<span class="ident" id="4310286">Open</span><span class="op" id="4310290">(</span><span class="op" id="4310291">)</span>&nbsp;<span class="op" id="4310293">(</span><span class="ident" id="4310294"><a href="/gostd/mime/multipart/formdata.go.html#4310690">File</a></span><span class="op" id="4310298">,</span>&nbsp;<span class="builtintype" id="4310300">error</span><span class="op" id="4310305">)</span>&nbsp;<span class="op" id="4310307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4310310">if</span>&nbsp;<span class="ident" id="4310313">b</span>&nbsp;<span class="op" id="4310315">:=</span>&nbsp;<span class="ident" id="4310318"><a href="/gostd/mime/multipart/formdata.go.html#4310270">fh</a></span><span class="op" id="4310320">.</span><span class="ident" id="4310321"><a href="/gostd/mime/multipart/formdata.go.html#4310170">content</a></span><span class="op" id="4310328">;</span>&nbsp;<span class="ident" id="4310330"><a href="/gostd/mime/multipart/formdata.go.html#4310313">b</a></span>&nbsp;<span class="op" id="4310332">!=</span>&nbsp;<span class="builtintype" id="4310335">nil</span>&nbsp;<span class="op" id="4310339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310343">r</span>&nbsp;<span class="op" id="4310345">:=</span>&nbsp;<span class="ident" id="4310348"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4310350">.</span><span class="ident" id="4310351"><a href="/gostd/io/io.go.html#1432455">NewSectionReader</a></span><span class="op" id="4310367">(</span><span class="ident" id="4310368"><a href="/gostd/mime/multipart/formdata.go.html#4307511">bytes</a></span><span class="op" id="4310373">.</span><span class="ident" id="4310374"><a href="/gostd/bytes/reader.go.html#1418136">NewReader</a></span><span class="op" id="4310383">(</span><span class="ident" id="4310384"><a href="/gostd/mime/multipart/formdata.go.html#4310313">b</a></span><span class="op" id="4310385">)</span><span class="op" id="4310386">,</span>&nbsp;<span class="num" id="4310388">0</span><span class="op" id="4310389">,</span>&nbsp;<span class="builtintype" id="4310391">int64</span><span class="op" id="4310396">(</span><span class="builtinfunc" id="4310397">len</span><span class="op" id="4310400">(</span><span class="ident" id="4310401"><a href="/gostd/mime/multipart/formdata.go.html#4310313">b</a></span><span class="op" id="4310402">)</span><span class="op" id="4310403">)</span><span class="op" id="4310404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4310408">return</span>&nbsp;<span class="ident" id="4310415"><a href="/gostd/mime/multipart/formdata.go.html#4310807">sectionReadCloser</a></span><span class="op" id="4310432">{</span><span class="ident" id="4310433"><a href="/gostd/mime/multipart/formdata.go.html#4310343">r</a></span><span class="op" id="4310434">}</span><span class="op" id="4310435">,</span>&nbsp;<span class="builtintype" id="4310437">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4310442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4310445">return</span>&nbsp;<span class="ident" id="4310452"><a href="/gostd/mime/multipart/formdata.go.html#4307566">os</a></span><span class="op" id="4310454">.</span><span class="ident" id="4310455"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="4310459">(</span><span class="ident" id="4310460"><a href="/gostd/mime/multipart/formdata.go.html#4310270">fh</a></span><span class="op" id="4310462">.</span><span class="ident" id="4310463"><a href="/gostd/mime/multipart/formdata.go.html#4310186">tmpfile</a></span><span class="op" id="4310470">)</span><br>
<span class="lineno"></span><span class="op" id="4310472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4310475">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="4310547">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="4310606">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="4310685">type</span>&nbsp;<span class="ident" id="4310690">File</span>&nbsp;<span class="keyword" id="4310695">interface</span>&nbsp;<span class="op" id="4310705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310708"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4310710">.</span><span class="ident" id="4310711"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310719"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4310721">.</span><span class="ident" id="4310722"><a href="/gostd/io/io.go.html#1425985">ReaderAt</a></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310732"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4310734">.</span><span class="ident" id="4310735"><a href="/gostd/io/io.go.html#1423139">Seeker</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4310743"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4310745">.</span><span class="ident" id="4310746"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="4310753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4310756">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="4310802">type</span>&nbsp;<span class="ident" id="4310807">sectionReadCloser</span>&nbsp;<span class="keyword" id="4310825">struct</span>&nbsp;<span class="op" id="4310832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4310835">*</span><span class="ident" id="4310836"><a href="/gostd/mime/multipart/formdata.go.html#4307530">io</a></span><span class="op" id="4310838">.</span><span class="ident" id="4310839"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><br>
<span class="lineno"></span><span class="op" id="4310853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="4310856">func</span>&nbsp;<span class="op" id="4310861">(</span><span class="ident" id="4310862">rc</span>&nbsp;<span class="ident" id="4310865"><a href="/gostd/mime/multipart/formdata.go.html#4310807">sectionReadCloser</a></span><span class="op" id="4310882">)</span>&nbsp;<span class="ident" id="4310884">Close</span><span class="op" id="4310889">(</span><span class="op" id="4310890">)</span>&nbsp;<span class="builtintype" id="4310892">error</span>&nbsp;<span class="op" id="4310898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4310901">return</span>&nbsp;<span class="builtintype" id="4310908">nil</span><br>
<span class="lineno"></span><span class="op" id="4310912">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
