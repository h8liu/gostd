<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base64</h2>
<ul>
<li><a href="/gostd/encoding/base64/base64.go.html" class="current">base64.go</a></li>
<li><a href="/gostd/encoding/base64/base64_test.go.html">base64_test.go</a></li>
<li><a href="/gostd/encoding/base64/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4051754">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4051809">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4051863">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4051914">//&nbsp;Package&nbsp;base64&nbsp;implements&nbsp;base64&nbsp;encoding&nbsp;as&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="keyword" id="4051985">package</span>&nbsp;<span class="ident" id="4051993">base64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4052001">import</span>&nbsp;<span class="op" id="4052008">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052011">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052020">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052026">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052037">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="4052047">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4052050">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Encodings<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4052071">//&nbsp;An&nbsp;Encoding&nbsp;is&nbsp;a&nbsp;radix&nbsp;64&nbsp;encoding/decoding&nbsp;scheme,&nbsp;defined&nbsp;by&nbsp;a</span><br>
<span class="lineno">20</span><span class="comment" id="4052139">//&nbsp;64-character&nbsp;alphabet.&nbsp;&nbsp;The&nbsp;most&nbsp;common&nbsp;encoding&nbsp;is&nbsp;the&nbsp;&#34;base64&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4052207">//&nbsp;encoding&nbsp;defined&nbsp;in&nbsp;RFC&nbsp;4648&nbsp;and&nbsp;used&nbsp;in&nbsp;MIME&nbsp;(RFC&nbsp;2045)&nbsp;and&nbsp;PEM</span><br>
<span class="lineno"></span><span class="comment" id="4052275">//&nbsp;(RFC&nbsp;1421).&nbsp;&nbsp;RFC&nbsp;4648&nbsp;also&nbsp;defines&nbsp;an&nbsp;alternate&nbsp;encoding,&nbsp;which&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4052345">//&nbsp;the&nbsp;standard&nbsp;encoding&nbsp;with&nbsp;-&nbsp;and&nbsp;_&nbsp;substituted&nbsp;for&nbsp;+&nbsp;and&nbsp;/.</span><br>
<span class="lineno"></span><span class="keyword" id="4052408">type</span>&nbsp;<span class="ident" id="4052413">Encoding</span>&nbsp;<span class="keyword" id="4052422">struct</span>&nbsp;<span class="op" id="4052429">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4052432">encode</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4052442">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4052450">decodeMap</span>&nbsp;<span class="op" id="4052460">[</span><span class="num" id="4052461">256</span><span class="op" id="4052464">]</span><span class="builtintype" id="4052465">byte</span><br>
<span class="lineno"></span><span class="op" id="4052470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4052473">const</span>&nbsp;<span class="ident" id="4052479">encodeStd</span>&nbsp;<span class="op" id="4052489">=</span>&nbsp;<span class="string" id="4052491">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&#34;</span><br>
<span class="lineno">30</span><span class="keyword" id="4052558">const</span>&nbsp;<span class="ident" id="4052564">encodeURL</span>&nbsp;<span class="op" id="4052574">=</span>&nbsp;<span class="string" id="4052576">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4052644">//&nbsp;NewEncoding&nbsp;returns&nbsp;a&nbsp;new&nbsp;Encoding&nbsp;defined&nbsp;by&nbsp;the&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno"></span><span class="comment" id="4052713">//&nbsp;which&nbsp;must&nbsp;be&nbsp;a&nbsp;64-byte&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4052748">func</span>&nbsp;<span class="ident" id="4052753">NewEncoding</span><span class="op" id="4052764">(</span><span class="ident" id="4052765">encoder</span>&nbsp;<span class="builtintype" id="4052773">string</span><span class="op" id="4052779">)</span>&nbsp;<span class="op" id="4052781">*</span><span class="ident" id="4052782"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span>&nbsp;<span class="op" id="4052791">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4052794">e</span>&nbsp;<span class="op" id="4052796">:=</span>&nbsp;<span class="builtinfunc" id="4052799">new</span><span class="op" id="4052802">(</span><span class="ident" id="4052803"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4052811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4052814"><a href="/gostd/encoding/base64/base64.go.html#4052794">e</a></span><span class="op" id="4052815">.</span><span class="ident" id="4052816"><a href="/gostd/encoding/base64/base64.go.html#4052432">encode</a></span>&nbsp;<span class="op" id="4052823">=</span>&nbsp;<span class="ident" id="4052825"><a href="/gostd/encoding/base64/base64.go.html#4052765">encoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4052834">for</span>&nbsp;<span class="ident" id="4052838">i</span>&nbsp;<span class="op" id="4052840">:=</span>&nbsp;<span class="num" id="4052843">0</span><span class="op" id="4052844">;</span>&nbsp;<span class="ident" id="4052846"><a href="/gostd/encoding/base64/base64.go.html#4052838">i</a></span>&nbsp;<span class="op" id="4052848">&lt;</span>&nbsp;<span class="builtinfunc" id="4052850">len</span><span class="op" id="4052853">(</span><span class="ident" id="4052854"><a href="/gostd/encoding/base64/base64.go.html#4052794">e</a></span><span class="op" id="4052855">.</span><span class="ident" id="4052856"><a href="/gostd/encoding/base64/base64.go.html#4052450">decodeMap</a></span><span class="op" id="4052865">)</span><span class="op" id="4052866">;</span>&nbsp;<span class="ident" id="4052868"><a href="/gostd/encoding/base64/base64.go.html#4052838">i</a></span><span class="op" id="4052869">++</span>&nbsp;<span class="op" id="4052872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4052876"><a href="/gostd/encoding/base64/base64.go.html#4052794">e</a></span><span class="op" id="4052877">.</span><span class="ident" id="4052878"><a href="/gostd/encoding/base64/base64.go.html#4052450">decodeMap</a></span><span class="op" id="4052887">[</span><span class="ident" id="4052888"><a href="/gostd/encoding/base64/base64.go.html#4052838">i</a></span><span class="op" id="4052889">]</span>&nbsp;<span class="op" id="4052891">=</span>&nbsp;<span class="num" id="4052893">0xFF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4052899">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4052902">for</span>&nbsp;<span class="ident" id="4052906">i</span>&nbsp;<span class="op" id="4052908">:=</span>&nbsp;<span class="num" id="4052911">0</span><span class="op" id="4052912">;</span>&nbsp;<span class="ident" id="4052914"><a href="/gostd/encoding/base64/base64.go.html#4052906">i</a></span>&nbsp;<span class="op" id="4052916">&lt;</span>&nbsp;<span class="builtinfunc" id="4052918">len</span><span class="op" id="4052921">(</span><span class="ident" id="4052922"><a href="/gostd/encoding/base64/base64.go.html#4052765">encoder</a></span><span class="op" id="4052929">)</span><span class="op" id="4052930">;</span>&nbsp;<span class="ident" id="4052932"><a href="/gostd/encoding/base64/base64.go.html#4052906">i</a></span><span class="op" id="4052933">++</span>&nbsp;<span class="op" id="4052936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4052940"><a href="/gostd/encoding/base64/base64.go.html#4052794">e</a></span><span class="op" id="4052941">.</span><span class="ident" id="4052942"><a href="/gostd/encoding/base64/base64.go.html#4052450">decodeMap</a></span><span class="op" id="4052951">[</span><span class="ident" id="4052952"><a href="/gostd/encoding/base64/base64.go.html#4052765">encoder</a></span><span class="op" id="4052959">[</span><span class="ident" id="4052960"><a href="/gostd/encoding/base64/base64.go.html#4052906">i</a></span><span class="op" id="4052961">]</span><span class="op" id="4052962">]</span>&nbsp;<span class="op" id="4052964">=</span>&nbsp;<span class="builtintype" id="4052966">byte</span><span class="op" id="4052970">(</span><span class="ident" id="4052971"><a href="/gostd/encoding/base64/base64.go.html#4052906">i</a></span><span class="op" id="4052972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4052975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4052978">return</span>&nbsp;<span class="ident" id="4052985"><a href="/gostd/encoding/base64/base64.go.html#4052794">e</a></span><br>
<span class="lineno"></span><span class="op" id="4052987">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="4052990">//&nbsp;StdEncoding&nbsp;is&nbsp;the&nbsp;standard&nbsp;base64&nbsp;encoding,&nbsp;as&nbsp;defined&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4053052">//&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="keyword" id="4053065">var</span>&nbsp;<span class="ident" id="4053069">StdEncoding</span>&nbsp;<span class="op" id="4053081">=</span>&nbsp;<span class="ident" id="4053083"><a href="/gostd/encoding/base64/base64.go.html#4052753">NewEncoding</a></span><span class="op" id="4053094">(</span><span class="ident" id="4053095"><a href="/gostd/encoding/base64/base64.go.html#4052479">encodeStd</a></span><span class="op" id="4053104">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="4053107">//&nbsp;URLEncoding&nbsp;is&nbsp;the&nbsp;alternate&nbsp;base64&nbsp;encoding&nbsp;defined&nbsp;in&nbsp;RFC&nbsp;4648.</span><br>
<span class="lineno"></span><span class="comment" id="4053176">//&nbsp;It&nbsp;is&nbsp;typically&nbsp;used&nbsp;in&nbsp;URLs&nbsp;and&nbsp;file&nbsp;names.</span><br>
<span class="lineno"></span><span class="keyword" id="4053224">var</span>&nbsp;<span class="ident" id="4053228">URLEncoding</span>&nbsp;<span class="op" id="4053240">=</span>&nbsp;<span class="ident" id="4053242"><a href="/gostd/encoding/base64/base64.go.html#4052753">NewEncoding</a></span><span class="op" id="4053253">(</span><span class="ident" id="4053254"><a href="/gostd/encoding/base64/base64.go.html#4052564">encodeURL</a></span><span class="op" id="4053263">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4053266">var</span>&nbsp;<span class="ident" id="4053270">removeNewlinesMapper</span>&nbsp;<span class="op" id="4053291">=</span>&nbsp;<span class="keyword" id="4053293">func</span><span class="op" id="4053297">(</span><span class="ident" id="4053298">r</span>&nbsp;<span class="builtintype" id="4053300">rune</span><span class="op" id="4053304">)</span>&nbsp;<span class="builtintype" id="4053306">rune</span>&nbsp;<span class="op" id="4053311">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053314">if</span>&nbsp;<span class="ident" id="4053317"><a href="/gostd/encoding/base64/base64.go.html#4053298">r</a></span>&nbsp;<span class="op" id="4053319">==</span>&nbsp;<span class="string" id="4053322">&#39;\r&#39;</span>&nbsp;<span class="op" id="4053327">||</span>&nbsp;<span class="ident" id="4053330"><a href="/gostd/encoding/base64/base64.go.html#4053298">r</a></span>&nbsp;<span class="op" id="4053332">==</span>&nbsp;<span class="string" id="4053335">&#39;\n&#39;</span>&nbsp;<span class="op" id="4053340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053344">return</span>&nbsp;<span class="op" id="4053351">-</span><span class="num" id="4053352">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4053355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053358">return</span>&nbsp;<span class="ident" id="4053365"><a href="/gostd/encoding/base64/base64.go.html#4053298">r</a></span><br>
<span class="lineno"></span><span class="op" id="4053367">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4053370">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Encoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="4053389">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;using&nbsp;the&nbsp;encoding&nbsp;enc,&nbsp;writing</span><br>
<span class="lineno"></span><span class="comment" id="4053443">//&nbsp;EncodedLen(len(src))&nbsp;bytes&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4053481">//</span><br>
<span class="lineno"></span><span class="comment" id="4053484">//&nbsp;The&nbsp;encoding&nbsp;pads&nbsp;the&nbsp;output&nbsp;to&nbsp;a&nbsp;multiple&nbsp;of&nbsp;4&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="4053542">//&nbsp;so&nbsp;Encode&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;use&nbsp;on&nbsp;individual&nbsp;blocks</span><br>
<span class="lineno">70</span><span class="comment" id="4053603">//&nbsp;of&nbsp;a&nbsp;large&nbsp;data&nbsp;stream.&nbsp;&nbsp;Use&nbsp;NewEncoder()&nbsp;instead.</span><br>
<span class="lineno"></span><span class="keyword" id="4053657">func</span>&nbsp;<span class="op" id="4053662">(</span><span class="ident" id="4053663">enc</span>&nbsp;<span class="op" id="4053667">*</span><span class="ident" id="4053668"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4053676">)</span>&nbsp;<span class="ident" id="4053678">Encode</span><span class="op" id="4053684">(</span><span class="ident" id="4053685">dst</span><span class="op" id="4053688">,</span>&nbsp;<span class="ident" id="4053690">src</span>&nbsp;<span class="op" id="4053694">[</span><span class="op" id="4053695">]</span><span class="builtintype" id="4053696">byte</span><span class="op" id="4053700">)</span>&nbsp;<span class="op" id="4053702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053705">if</span>&nbsp;<span class="builtinfunc" id="4053708">len</span><span class="op" id="4053711">(</span><span class="ident" id="4053712"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053715">)</span>&nbsp;<span class="op" id="4053717">==</span>&nbsp;<span class="num" id="4053720">0</span>&nbsp;<span class="op" id="4053722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053726">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4053734">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053738">for</span>&nbsp;<span class="builtinfunc" id="4053742">len</span><span class="op" id="4053745">(</span><span class="ident" id="4053746"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053749">)</span>&nbsp;<span class="op" id="4053751">&gt;</span>&nbsp;<span class="num" id="4053753">0</span>&nbsp;<span class="op" id="4053755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053759">var</span>&nbsp;<span class="ident" id="4053763">b0</span><span class="op" id="4053765">,</span>&nbsp;<span class="ident" id="4053767">b1</span><span class="op" id="4053769">,</span>&nbsp;<span class="ident" id="4053771">b2</span><span class="op" id="4053773">,</span>&nbsp;<span class="ident" id="4053775">b3</span>&nbsp;<span class="builtintype" id="4053778">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4053786">//&nbsp;Unpack&nbsp;4x&nbsp;6-bit&nbsp;source&nbsp;blocks&nbsp;into&nbsp;a&nbsp;4&nbsp;byte</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4053835">//&nbsp;destination&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053860">switch</span>&nbsp;<span class="builtinfunc" id="4053867">len</span><span class="op" id="4053870">(</span><span class="ident" id="4053871"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053874">)</span>&nbsp;<span class="op" id="4053876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053880">default</span><span class="op" id="4053887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053892"><a href="/gostd/encoding/base64/base64.go.html#4053775">b3</a></span>&nbsp;<span class="op" id="4053895">=</span>&nbsp;<span class="ident" id="4053897"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053900">[</span><span class="num" id="4053901">2</span><span class="op" id="4053902">]</span>&nbsp;<span class="op" id="4053904">&amp;</span>&nbsp;<span class="num" id="4053906">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053914"><a href="/gostd/encoding/base64/base64.go.html#4053771">b2</a></span>&nbsp;<span class="op" id="4053917">=</span>&nbsp;<span class="ident" id="4053919"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053922">[</span><span class="num" id="4053923">2</span><span class="op" id="4053924">]</span>&nbsp;<span class="op" id="4053926">&gt;&gt;</span>&nbsp;<span class="num" id="4053929">6</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053934">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053948">case</span>&nbsp;<span class="num" id="4053953">2</span><span class="op" id="4053954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053959"><a href="/gostd/encoding/base64/base64.go.html#4053771">b2</a></span>&nbsp;<span class="op" id="4053962">|=</span>&nbsp;<span class="op" id="4053965">(</span><span class="ident" id="4053966"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053969">[</span><span class="num" id="4053970">1</span><span class="op" id="4053971">]</span>&nbsp;<span class="op" id="4053973">&lt;&lt;</span>&nbsp;<span class="num" id="4053976">2</span><span class="op" id="4053977">)</span>&nbsp;<span class="op" id="4053979">&amp;</span>&nbsp;<span class="num" id="4053981">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053989"><a href="/gostd/encoding/base64/base64.go.html#4053767">b1</a></span>&nbsp;<span class="op" id="4053992">=</span>&nbsp;<span class="ident" id="4053994"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4053997">[</span><span class="num" id="4053998">1</span><span class="op" id="4053999">]</span>&nbsp;<span class="op" id="4054001">&gt;&gt;</span>&nbsp;<span class="num" id="4054004">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054009">fallthrough</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054023">case</span>&nbsp;<span class="num" id="4054028">1</span><span class="op" id="4054029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054034"><a href="/gostd/encoding/base64/base64.go.html#4053767">b1</a></span>&nbsp;<span class="op" id="4054037">|=</span>&nbsp;<span class="op" id="4054040">(</span><span class="ident" id="4054041"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4054044">[</span><span class="num" id="4054045">0</span><span class="op" id="4054046">]</span>&nbsp;<span class="op" id="4054048">&lt;&lt;</span>&nbsp;<span class="num" id="4054051">4</span><span class="op" id="4054052">)</span>&nbsp;<span class="op" id="4054054">&amp;</span>&nbsp;<span class="num" id="4054056">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054064"><a href="/gostd/encoding/base64/base64.go.html#4053763">b0</a></span>&nbsp;<span class="op" id="4054067">=</span>&nbsp;<span class="ident" id="4054069"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4054072">[</span><span class="num" id="4054073">0</span><span class="op" id="4054074">]</span>&nbsp;<span class="op" id="4054076">&gt;&gt;</span>&nbsp;<span class="num" id="4054079">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4054083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4054088">//&nbsp;Encode&nbsp;6-bit&nbsp;blocks&nbsp;using&nbsp;the&nbsp;base64&nbsp;alphabet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054139"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054142">[</span><span class="num" id="4054143">0</span><span class="op" id="4054144">]</span>&nbsp;<span class="op" id="4054146">=</span>&nbsp;<span class="ident" id="4054148"><a href="/gostd/encoding/base64/base64.go.html#4053663">enc</a></span><span class="op" id="4054151">.</span><span class="ident" id="4054152"><a href="/gostd/encoding/base64/base64.go.html#4052432">encode</a></span><span class="op" id="4054158">[</span><span class="ident" id="4054159"><a href="/gostd/encoding/base64/base64.go.html#4053763">b0</a></span><span class="op" id="4054161">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054165"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054168">[</span><span class="num" id="4054169">1</span><span class="op" id="4054170">]</span>&nbsp;<span class="op" id="4054172">=</span>&nbsp;<span class="ident" id="4054174"><a href="/gostd/encoding/base64/base64.go.html#4053663">enc</a></span><span class="op" id="4054177">.</span><span class="ident" id="4054178"><a href="/gostd/encoding/base64/base64.go.html#4052432">encode</a></span><span class="op" id="4054184">[</span><span class="ident" id="4054185"><a href="/gostd/encoding/base64/base64.go.html#4053767">b1</a></span><span class="op" id="4054187">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054191"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054194">[</span><span class="num" id="4054195">2</span><span class="op" id="4054196">]</span>&nbsp;<span class="op" id="4054198">=</span>&nbsp;<span class="ident" id="4054200"><a href="/gostd/encoding/base64/base64.go.html#4053663">enc</a></span><span class="op" id="4054203">.</span><span class="ident" id="4054204"><a href="/gostd/encoding/base64/base64.go.html#4052432">encode</a></span><span class="op" id="4054210">[</span><span class="ident" id="4054211"><a href="/gostd/encoding/base64/base64.go.html#4053771">b2</a></span><span class="op" id="4054213">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054217"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054220">[</span><span class="num" id="4054221">3</span><span class="op" id="4054222">]</span>&nbsp;<span class="op" id="4054224">=</span>&nbsp;<span class="ident" id="4054226"><a href="/gostd/encoding/base64/base64.go.html#4053663">enc</a></span><span class="op" id="4054229">.</span><span class="ident" id="4054230"><a href="/gostd/encoding/base64/base64.go.html#4052432">encode</a></span><span class="op" id="4054236">[</span><span class="ident" id="4054237"><a href="/gostd/encoding/base64/base64.go.html#4053775">b3</a></span><span class="op" id="4054239">]</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4054244">//&nbsp;Pad&nbsp;the&nbsp;final&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054271">if</span>&nbsp;<span class="builtinfunc" id="4054274">len</span><span class="op" id="4054277">(</span><span class="ident" id="4054278"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4054281">)</span>&nbsp;<span class="op" id="4054283">&lt;</span>&nbsp;<span class="num" id="4054285">3</span>&nbsp;<span class="op" id="4054287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054292"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054295">[</span><span class="num" id="4054296">3</span><span class="op" id="4054297">]</span>&nbsp;<span class="op" id="4054299">=</span>&nbsp;<span class="string" id="4054301">&#39;=&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054308">if</span>&nbsp;<span class="builtinfunc" id="4054311">len</span><span class="op" id="4054314">(</span><span class="ident" id="4054315"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4054318">)</span>&nbsp;<span class="op" id="4054320">&lt;</span>&nbsp;<span class="num" id="4054322">2</span>&nbsp;<span class="op" id="4054324">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054330"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054333">[</span><span class="num" id="4054334">2</span><span class="op" id="4054335">]</span>&nbsp;<span class="op" id="4054337">=</span>&nbsp;<span class="string" id="4054339">&#39;=&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4054346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054351">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4054359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054364"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span>&nbsp;<span class="op" id="4054368">=</span>&nbsp;<span class="ident" id="4054370"><a href="/gostd/encoding/base64/base64.go.html#4053690">src</a></span><span class="op" id="4054373">[</span><span class="num" id="4054374">3</span><span class="op" id="4054375">:</span><span class="op" id="4054376">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054380"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span>&nbsp;<span class="op" id="4054384">=</span>&nbsp;<span class="ident" id="4054386"><a href="/gostd/encoding/base64/base64.go.html#4053685">dst</a></span><span class="op" id="4054389">[</span><span class="num" id="4054390">4</span><span class="op" id="4054391">:</span><span class="op" id="4054392">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4054395">}</span><br>
<span class="lineno"></span><span class="op" id="4054397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="4054400">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;base64&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4054454">func</span>&nbsp;<span class="op" id="4054459">(</span><span class="ident" id="4054460">enc</span>&nbsp;<span class="op" id="4054464">*</span><span class="ident" id="4054465"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4054473">)</span>&nbsp;<span class="ident" id="4054475">EncodeToString</span><span class="op" id="4054489">(</span><span class="ident" id="4054490">src</span>&nbsp;<span class="op" id="4054494">[</span><span class="op" id="4054495">]</span><span class="builtintype" id="4054496">byte</span><span class="op" id="4054500">)</span>&nbsp;<span class="builtintype" id="4054502">string</span>&nbsp;<span class="op" id="4054509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054512">buf</span>&nbsp;<span class="op" id="4054516">:=</span>&nbsp;<span class="builtinfunc" id="4054519">make</span><span class="op" id="4054523">(</span><span class="op" id="4054524">[</span><span class="op" id="4054525">]</span><span class="builtintype" id="4054526">byte</span><span class="op" id="4054530">,</span>&nbsp;<span class="ident" id="4054532"><a href="/gostd/encoding/base64/base64.go.html#4054460">enc</a></span><span class="op" id="4054535">.</span><span class="ident" id="4054536"><a href="/gostd/encoding/base64/base64.go.html#4056463">EncodedLen</a></span><span class="op" id="4054546">(</span><span class="builtinfunc" id="4054547">len</span><span class="op" id="4054550">(</span><span class="ident" id="4054551"><a href="/gostd/encoding/base64/base64.go.html#4054490">src</a></span><span class="op" id="4054554">)</span><span class="op" id="4054555">)</span><span class="op" id="4054556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054559"><a href="/gostd/encoding/base64/base64.go.html#4054460">enc</a></span><span class="op" id="4054562">.</span><span class="ident" id="4054563"><a href="/gostd/encoding/base64/base64.go.html#4053678">Encode</a></span><span class="op" id="4054569">(</span><span class="ident" id="4054570"><a href="/gostd/encoding/base64/base64.go.html#4054512">buf</a></span><span class="op" id="4054573">,</span>&nbsp;<span class="ident" id="4054575"><a href="/gostd/encoding/base64/base64.go.html#4054490">src</a></span><span class="op" id="4054578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054581">return</span>&nbsp;<span class="builtintype" id="4054588">string</span><span class="op" id="4054594">(</span><span class="ident" id="4054595"><a href="/gostd/encoding/base64/base64.go.html#4054512">buf</a></span><span class="op" id="4054598">)</span><br>
<span class="lineno">120</span><span class="op" id="4054600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4054603">type</span>&nbsp;<span class="ident" id="4054608">encoder</span>&nbsp;<span class="keyword" id="4054616">struct</span>&nbsp;<span class="op" id="4054623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054626">err</span>&nbsp;&nbsp;<span class="builtintype" id="4054631">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054638">enc</span>&nbsp;&nbsp;<span class="op" id="4054643">*</span><span class="ident" id="4054644"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054654">w</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054659"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4054661">.</span><span class="ident" id="4054662"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054670">buf</span>&nbsp;&nbsp;<span class="op" id="4054675">[</span><span class="num" id="4054676">3</span><span class="op" id="4054677">]</span><span class="builtintype" id="4054678">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4054686">//&nbsp;buffered&nbsp;data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054726">nbuf</span>&nbsp;<span class="builtintype" id="4054731">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4054742">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054769">out</span>&nbsp;&nbsp;<span class="op" id="4054774">[</span><span class="num" id="4054775">1024</span><span class="op" id="4054779">]</span><span class="builtintype" id="4054780">byte</span>&nbsp;<span class="comment" id="4054785">//&nbsp;output&nbsp;buffer</span><br>
<span class="lineno"></span><span class="op" id="4054802">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="4054805">func</span>&nbsp;<span class="op" id="4054810">(</span><span class="ident" id="4054811">e</span>&nbsp;<span class="op" id="4054813">*</span><span class="ident" id="4054814"><a href="/gostd/encoding/base64/base64.go.html#4054608">encoder</a></span><span class="op" id="4054821">)</span>&nbsp;<span class="ident" id="4054823">Write</span><span class="op" id="4054828">(</span><span class="ident" id="4054829">p</span>&nbsp;<span class="op" id="4054831">[</span><span class="op" id="4054832">]</span><span class="builtintype" id="4054833">byte</span><span class="op" id="4054837">)</span>&nbsp;<span class="op" id="4054839">(</span><span class="ident" id="4054840">n</span>&nbsp;<span class="builtintype" id="4054842">int</span><span class="op" id="4054845">,</span>&nbsp;<span class="ident" id="4054847">err</span>&nbsp;<span class="builtintype" id="4054851">error</span><span class="op" id="4054856">)</span>&nbsp;<span class="op" id="4054858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054861">if</span>&nbsp;<span class="ident" id="4054864"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4054865">.</span><span class="ident" id="4054866"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4054870">!=</span>&nbsp;<span class="builtintype" id="4054873">nil</span>&nbsp;<span class="op" id="4054877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054881">return</span>&nbsp;<span class="num" id="4054888">0</span><span class="op" id="4054889">,</span>&nbsp;<span class="ident" id="4054891"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4054892">.</span><span class="ident" id="4054893"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4054898">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4054902">//&nbsp;Leading&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054922">if</span>&nbsp;<span class="ident" id="4054925"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4054926">.</span><span class="ident" id="4054927"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4054932">&gt;</span>&nbsp;<span class="num" id="4054934">0</span>&nbsp;<span class="op" id="4054936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054940">var</span>&nbsp;<span class="ident" id="4054944">i</span>&nbsp;<span class="builtintype" id="4054946">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054952">for</span>&nbsp;<span class="ident" id="4054956"><a href="/gostd/encoding/base64/base64.go.html#4054944">i</a></span>&nbsp;<span class="op" id="4054958">=</span>&nbsp;<span class="num" id="4054960">0</span><span class="op" id="4054961">;</span>&nbsp;<span class="ident" id="4054963"><a href="/gostd/encoding/base64/base64.go.html#4054944">i</a></span>&nbsp;<span class="op" id="4054965">&lt;</span>&nbsp;<span class="builtinfunc" id="4054967">len</span><span class="op" id="4054970">(</span><span class="ident" id="4054971"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4054972">)</span>&nbsp;<span class="op" id="4054974">&amp;&amp;</span>&nbsp;<span class="ident" id="4054977"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4054978">.</span><span class="ident" id="4054979"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4054984">&lt;</span>&nbsp;<span class="num" id="4054986">3</span><span class="op" id="4054987">;</span>&nbsp;<span class="ident" id="4054989"><a href="/gostd/encoding/base64/base64.go.html#4054944">i</a></span><span class="op" id="4054990">++</span>&nbsp;<span class="op" id="4054993">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054998"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4054999">.</span><span class="ident" id="4055000"><a href="/gostd/encoding/base64/base64.go.html#4054670">buf</a></span><span class="op" id="4055003">[</span><span class="ident" id="4055004"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055005">.</span><span class="ident" id="4055006"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span><span class="op" id="4055010">]</span>&nbsp;<span class="op" id="4055012">=</span>&nbsp;<span class="ident" id="4055014"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055015">[</span><span class="ident" id="4055016"><a href="/gostd/encoding/base64/base64.go.html#4054944">i</a></span><span class="op" id="4055017">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055022"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055023">.</span><span class="ident" id="4055024"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span><span class="op" id="4055028">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055037"><a href="/gostd/encoding/base64/base64.go.html#4054840">n</a></span>&nbsp;<span class="op" id="4055039">+=</span>&nbsp;<span class="ident" id="4055042"><a href="/gostd/encoding/base64/base64.go.html#4054944">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055046"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span>&nbsp;<span class="op" id="4055048">=</span>&nbsp;<span class="ident" id="4055050"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055051">[</span><span class="ident" id="4055052"><a href="/gostd/encoding/base64/base64.go.html#4054944">i</a></span><span class="op" id="4055053">:</span><span class="op" id="4055054">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055058">if</span>&nbsp;<span class="ident" id="4055061"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055062">.</span><span class="ident" id="4055063"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4055068">&lt;</span>&nbsp;<span class="num" id="4055070">3</span>&nbsp;<span class="op" id="4055072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055077">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055090"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055091">.</span><span class="ident" id="4055092"><a href="/gostd/encoding/base64/base64.go.html#4054638">enc</a></span><span class="op" id="4055095">.</span><span class="ident" id="4055096"><a href="/gostd/encoding/base64/base64.go.html#4053678">Encode</a></span><span class="op" id="4055102">(</span><span class="ident" id="4055103"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055104">.</span><span class="ident" id="4055105"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055108">[</span><span class="num" id="4055109">0</span><span class="op" id="4055110">:</span><span class="op" id="4055111">]</span><span class="op" id="4055112">,</span>&nbsp;<span class="ident" id="4055114"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055115">.</span><span class="ident" id="4055116"><a href="/gostd/encoding/base64/base64.go.html#4054670">buf</a></span><span class="op" id="4055119">[</span><span class="num" id="4055120">0</span><span class="op" id="4055121">:</span><span class="op" id="4055122">]</span><span class="op" id="4055123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055127">if</span>&nbsp;<span class="ident" id="4055130">_</span><span class="op" id="4055131">,</span>&nbsp;<span class="ident" id="4055133"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055134">.</span><span class="ident" id="4055135"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4055139">=</span>&nbsp;<span class="ident" id="4055141"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055142">.</span><span class="ident" id="4055143"><a href="/gostd/encoding/base64/base64.go.html#4054654">w</a></span><span class="op" id="4055144">.</span><span class="ident" id="4055145"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4055150">(</span><span class="ident" id="4055151"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055152">.</span><span class="ident" id="4055153"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055156">[</span><span class="num" id="4055157">0</span><span class="op" id="4055158">:</span><span class="num" id="4055159">4</span><span class="op" id="4055160">]</span><span class="op" id="4055161">)</span><span class="op" id="4055162">;</span>&nbsp;<span class="ident" id="4055164"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055165">.</span><span class="ident" id="4055166"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4055170">!=</span>&nbsp;<span class="builtintype" id="4055173">nil</span>&nbsp;<span class="op" id="4055177">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055182">return</span>&nbsp;<span class="ident" id="4055189"><a href="/gostd/encoding/base64/base64.go.html#4054840">n</a></span><span class="op" id="4055190">,</span>&nbsp;<span class="ident" id="4055192"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055193">.</span><span class="ident" id="4055194"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055204"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055205">.</span><span class="ident" id="4055206"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4055211">=</span>&nbsp;<span class="num" id="4055213">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055220">//&nbsp;Large&nbsp;interior&nbsp;chunks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055247">for</span>&nbsp;<span class="builtinfunc" id="4055251">len</span><span class="op" id="4055254">(</span><span class="ident" id="4055255"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055256">)</span>&nbsp;<span class="op" id="4055258">&gt;=</span>&nbsp;<span class="num" id="4055261">3</span>&nbsp;<span class="op" id="4055263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055267">nn</span>&nbsp;<span class="op" id="4055270">:=</span>&nbsp;<span class="builtinfunc" id="4055273">len</span><span class="op" id="4055276">(</span><span class="ident" id="4055277"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055278">.</span><span class="ident" id="4055279"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055282">)</span>&nbsp;<span class="op" id="4055284">/</span>&nbsp;<span class="num" id="4055286">4</span>&nbsp;<span class="op" id="4055288">*</span>&nbsp;<span class="num" id="4055290">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055294">if</span>&nbsp;<span class="ident" id="4055297"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span>&nbsp;<span class="op" id="4055300">&gt;</span>&nbsp;<span class="builtinfunc" id="4055302">len</span><span class="op" id="4055305">(</span><span class="ident" id="4055306"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055307">)</span>&nbsp;<span class="op" id="4055309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055314"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span>&nbsp;<span class="op" id="4055317">=</span>&nbsp;<span class="builtinfunc" id="4055319">len</span><span class="op" id="4055322">(</span><span class="ident" id="4055323"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055324">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055329"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span>&nbsp;<span class="op" id="4055332">-=</span>&nbsp;<span class="ident" id="4055335"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span>&nbsp;<span class="op" id="4055338">%</span>&nbsp;<span class="num" id="4055340">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055348"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055349">.</span><span class="ident" id="4055350"><a href="/gostd/encoding/base64/base64.go.html#4054638">enc</a></span><span class="op" id="4055353">.</span><span class="ident" id="4055354"><a href="/gostd/encoding/base64/base64.go.html#4053678">Encode</a></span><span class="op" id="4055360">(</span><span class="ident" id="4055361"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055362">.</span><span class="ident" id="4055363"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055366">[</span><span class="num" id="4055367">0</span><span class="op" id="4055368">:</span><span class="op" id="4055369">]</span><span class="op" id="4055370">,</span>&nbsp;<span class="ident" id="4055372"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055373">[</span><span class="num" id="4055374">0</span><span class="op" id="4055375">:</span><span class="ident" id="4055376"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span><span class="op" id="4055378">]</span><span class="op" id="4055379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055383">if</span>&nbsp;<span class="ident" id="4055386">_</span><span class="op" id="4055387">,</span>&nbsp;<span class="ident" id="4055389"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055390">.</span><span class="ident" id="4055391"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4055395">=</span>&nbsp;<span class="ident" id="4055397"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055398">.</span><span class="ident" id="4055399"><a href="/gostd/encoding/base64/base64.go.html#4054654">w</a></span><span class="op" id="4055400">.</span><span class="ident" id="4055401"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4055406">(</span><span class="ident" id="4055407"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055408">.</span><span class="ident" id="4055409"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055412">[</span><span class="num" id="4055413">0</span>&nbsp;<span class="op" id="4055415">:</span>&nbsp;<span class="ident" id="4055417"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span><span class="op" id="4055419">/</span><span class="num" id="4055420">3</span><span class="op" id="4055421">*</span><span class="num" id="4055422">4</span><span class="op" id="4055423">]</span><span class="op" id="4055424">)</span><span class="op" id="4055425">;</span>&nbsp;<span class="ident" id="4055427"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055428">.</span><span class="ident" id="4055429"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4055433">!=</span>&nbsp;<span class="builtintype" id="4055436">nil</span>&nbsp;<span class="op" id="4055440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055445">return</span>&nbsp;<span class="ident" id="4055452"><a href="/gostd/encoding/base64/base64.go.html#4054840">n</a></span><span class="op" id="4055453">,</span>&nbsp;<span class="ident" id="4055455"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055456">.</span><span class="ident" id="4055457"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055467"><a href="/gostd/encoding/base64/base64.go.html#4054840">n</a></span>&nbsp;<span class="op" id="4055469">+=</span>&nbsp;<span class="ident" id="4055472"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055477"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span>&nbsp;<span class="op" id="4055479">=</span>&nbsp;<span class="ident" id="4055481"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055482">[</span><span class="ident" id="4055483"><a href="/gostd/encoding/base64/base64.go.html#4055267">nn</a></span><span class="op" id="4055485">:</span><span class="op" id="4055486">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055493">//&nbsp;Trailing&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055514">for</span>&nbsp;<span class="ident" id="4055518">i</span>&nbsp;<span class="op" id="4055520">:=</span>&nbsp;<span class="num" id="4055523">0</span><span class="op" id="4055524">;</span>&nbsp;<span class="ident" id="4055526"><a href="/gostd/encoding/base64/base64.go.html#4055518">i</a></span>&nbsp;<span class="op" id="4055528">&lt;</span>&nbsp;<span class="builtinfunc" id="4055530">len</span><span class="op" id="4055533">(</span><span class="ident" id="4055534"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055535">)</span><span class="op" id="4055536">;</span>&nbsp;<span class="ident" id="4055538"><a href="/gostd/encoding/base64/base64.go.html#4055518">i</a></span><span class="op" id="4055539">++</span>&nbsp;<span class="op" id="4055542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055546"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055547">.</span><span class="ident" id="4055548"><a href="/gostd/encoding/base64/base64.go.html#4054670">buf</a></span><span class="op" id="4055551">[</span><span class="ident" id="4055552"><a href="/gostd/encoding/base64/base64.go.html#4055518">i</a></span><span class="op" id="4055553">]</span>&nbsp;<span class="op" id="4055555">=</span>&nbsp;<span class="ident" id="4055557"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055558">[</span><span class="ident" id="4055559"><a href="/gostd/encoding/base64/base64.go.html#4055518">i</a></span><span class="op" id="4055560">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055566"><a href="/gostd/encoding/base64/base64.go.html#4054811">e</a></span><span class="op" id="4055567">.</span><span class="ident" id="4055568"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4055573">=</span>&nbsp;<span class="builtinfunc" id="4055575">len</span><span class="op" id="4055578">(</span><span class="ident" id="4055579"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055580">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055583"><a href="/gostd/encoding/base64/base64.go.html#4054840">n</a></span>&nbsp;<span class="op" id="4055585">+=</span>&nbsp;<span class="builtinfunc" id="4055588">len</span><span class="op" id="4055591">(</span><span class="ident" id="4055592"><a href="/gostd/encoding/base64/base64.go.html#4054829">p</a></span><span class="op" id="4055593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055596">return</span><br>
<span class="lineno"></span><span class="op" id="4055603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4055606">//&nbsp;Close&nbsp;flushes&nbsp;any&nbsp;pending&nbsp;output&nbsp;from&nbsp;the&nbsp;encoder.</span><br>
<span class="lineno">180</span><span class="comment" id="4055660">//&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;Write&nbsp;after&nbsp;calling&nbsp;Close.</span><br>
<span class="lineno"></span><span class="keyword" id="4055713">func</span>&nbsp;<span class="op" id="4055718">(</span><span class="ident" id="4055719">e</span>&nbsp;<span class="op" id="4055721">*</span><span class="ident" id="4055722"><a href="/gostd/encoding/base64/base64.go.html#4054608">encoder</a></span><span class="op" id="4055729">)</span>&nbsp;<span class="ident" id="4055731">Close</span><span class="op" id="4055736">(</span><span class="op" id="4055737">)</span>&nbsp;<span class="builtintype" id="4055739">error</span>&nbsp;<span class="op" id="4055745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055748">//&nbsp;If&nbsp;there&#39;s&nbsp;anything&nbsp;left&nbsp;in&nbsp;the&nbsp;buffer,&nbsp;flush&nbsp;it&nbsp;out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055805">if</span>&nbsp;<span class="ident" id="4055808"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055809">.</span><span class="ident" id="4055810"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4055814">==</span>&nbsp;<span class="builtintype" id="4055817">nil</span>&nbsp;<span class="op" id="4055821">&amp;&amp;</span>&nbsp;<span class="ident" id="4055824"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055825">.</span><span class="ident" id="4055826"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4055831">&gt;</span>&nbsp;<span class="num" id="4055833">0</span>&nbsp;<span class="op" id="4055835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055839"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055840">.</span><span class="ident" id="4055841"><a href="/gostd/encoding/base64/base64.go.html#4054638">enc</a></span><span class="op" id="4055844">.</span><span class="ident" id="4055845"><a href="/gostd/encoding/base64/base64.go.html#4053678">Encode</a></span><span class="op" id="4055851">(</span><span class="ident" id="4055852"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055853">.</span><span class="ident" id="4055854"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055857">[</span><span class="num" id="4055858">0</span><span class="op" id="4055859">:</span><span class="op" id="4055860">]</span><span class="op" id="4055861">,</span>&nbsp;<span class="ident" id="4055863"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055864">.</span><span class="ident" id="4055865"><a href="/gostd/encoding/base64/base64.go.html#4054670">buf</a></span><span class="op" id="4055868">[</span><span class="num" id="4055869">0</span><span class="op" id="4055870">:</span><span class="ident" id="4055871"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055872">.</span><span class="ident" id="4055873"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span><span class="op" id="4055877">]</span><span class="op" id="4055878">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055882"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055883">.</span><span class="ident" id="4055884"><a href="/gostd/encoding/base64/base64.go.html#4054726">nbuf</a></span>&nbsp;<span class="op" id="4055889">=</span>&nbsp;<span class="num" id="4055891">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055895">_</span><span class="op" id="4055896">,</span>&nbsp;<span class="ident" id="4055898"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055899">.</span><span class="ident" id="4055900"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span>&nbsp;<span class="op" id="4055904">=</span>&nbsp;<span class="ident" id="4055906"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055907">.</span><span class="ident" id="4055908"><a href="/gostd/encoding/base64/base64.go.html#4054654">w</a></span><span class="op" id="4055909">.</span><span class="ident" id="4055910"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4055915">(</span><span class="ident" id="4055916"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055917">.</span><span class="ident" id="4055918"><a href="/gostd/encoding/base64/base64.go.html#4054769">out</a></span><span class="op" id="4055921">[</span><span class="num" id="4055922">0</span><span class="op" id="4055923">:</span><span class="num" id="4055924">4</span><span class="op" id="4055925">]</span><span class="op" id="4055926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055932">return</span>&nbsp;<span class="ident" id="4055939"><a href="/gostd/encoding/base64/base64.go.html#4055719">e</a></span><span class="op" id="4055940">.</span><span class="ident" id="4055941"><a href="/gostd/encoding/base64/base64.go.html#4054626">err</a></span><br>
<span class="lineno"></span><span class="op" id="4055945">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="4055948">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;base64&nbsp;stream&nbsp;encoder.&nbsp;&nbsp;Data&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4056016">//&nbsp;the&nbsp;returned&nbsp;writer&nbsp;will&nbsp;be&nbsp;encoded&nbsp;using&nbsp;enc&nbsp;and&nbsp;then&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="4056088">//&nbsp;Base64&nbsp;encodings&nbsp;operate&nbsp;in&nbsp;4-byte&nbsp;blocks;&nbsp;when&nbsp;finished</span><br>
<span class="lineno"></span><span class="comment" id="4056148">//&nbsp;writing,&nbsp;the&nbsp;caller&nbsp;must&nbsp;Close&nbsp;the&nbsp;returned&nbsp;encoder&nbsp;to&nbsp;flush&nbsp;any</span><br>
<span class="lineno">195</span><span class="comment" id="4056216">//&nbsp;partially&nbsp;written&nbsp;blocks.</span><br>
<span class="lineno"></span><span class="keyword" id="4056245">func</span>&nbsp;<span class="ident" id="4056250">NewEncoder</span><span class="op" id="4056260">(</span><span class="ident" id="4056261">enc</span>&nbsp;<span class="op" id="4056265">*</span><span class="ident" id="4056266"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4056274">,</span>&nbsp;<span class="ident" id="4056276">w</span>&nbsp;<span class="ident" id="4056278"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4056280">.</span><span class="ident" id="4056281"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="4056287">)</span>&nbsp;<span class="ident" id="4056289"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4056291">.</span><span class="ident" id="4056292"><a href="/gostd/io/io.go.html#1423540">WriteCloser</a></span>&nbsp;<span class="op" id="4056304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056307">return</span>&nbsp;<span class="op" id="4056314">&amp;</span><span class="ident" id="4056315"><a href="/gostd/encoding/base64/base64.go.html#4054608">encoder</a></span><span class="op" id="4056322">{</span><span class="ident" id="4056323"><a href="/gostd/encoding/base64/base64.go.html#4054638">enc</a></span><span class="op" id="4056326">:</span>&nbsp;<span class="ident" id="4056328"><a href="/gostd/encoding/base64/base64.go.html#4056261">enc</a></span><span class="op" id="4056331">,</span>&nbsp;<span class="ident" id="4056333"><a href="/gostd/encoding/base64/base64.go.html#4054654">w</a></span><span class="op" id="4056334">:</span>&nbsp;<span class="ident" id="4056336"><a href="/gostd/encoding/base64/base64.go.html#4056276">w</a></span><span class="op" id="4056337">}</span><br>
<span class="lineno"></span><span class="op" id="4056339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="4056342">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;in&nbsp;bytes&nbsp;of&nbsp;the&nbsp;base64&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="4056407">//&nbsp;of&nbsp;an&nbsp;input&nbsp;buffer&nbsp;of&nbsp;length&nbsp;n.</span><br>
<span class="lineno"></span><span class="keyword" id="4056442">func</span>&nbsp;<span class="op" id="4056447">(</span><span class="ident" id="4056448">enc</span>&nbsp;<span class="op" id="4056452">*</span><span class="ident" id="4056453"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4056461">)</span>&nbsp;<span class="ident" id="4056463">EncodedLen</span><span class="op" id="4056473">(</span><span class="ident" id="4056474">n</span>&nbsp;<span class="builtintype" id="4056476">int</span><span class="op" id="4056479">)</span>&nbsp;<span class="builtintype" id="4056481">int</span>&nbsp;<span class="op" id="4056485">{</span>&nbsp;<span class="keyword" id="4056487">return</span>&nbsp;<span class="op" id="4056494">(</span><span class="ident" id="4056495"><a href="/gostd/encoding/base64/base64.go.html#4056474">n</a></span>&nbsp;<span class="op" id="4056497">+</span>&nbsp;<span class="num" id="4056499">2</span><span class="op" id="4056500">)</span>&nbsp;<span class="op" id="4056502">/</span>&nbsp;<span class="num" id="4056504">3</span>&nbsp;<span class="op" id="4056506">*</span>&nbsp;<span class="num" id="4056508">4</span>&nbsp;<span class="op" id="4056510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4056513">/*<br>
<span class="lineno">205</span>&nbsp;*&nbsp;Decoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4056532">type</span>&nbsp;<span class="ident" id="4056537">CorruptInputError</span>&nbsp;<span class="builtintype" id="4056555">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="4056562">func</span>&nbsp;<span class="op" id="4056567">(</span><span class="ident" id="4056568">e</span>&nbsp;<span class="ident" id="4056570"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4056587">)</span>&nbsp;<span class="ident" id="4056589">Error</span><span class="op" id="4056594">(</span><span class="op" id="4056595">)</span>&nbsp;<span class="builtintype" id="4056597">string</span>&nbsp;<span class="op" id="4056604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056607">return</span>&nbsp;<span class="string" id="4056614">&#34;illegal&nbsp;base64&nbsp;data&nbsp;at&nbsp;input&nbsp;byte&nbsp;&#34;</span>&nbsp;<span class="op" id="4056651">+</span>&nbsp;<span class="ident" id="4056653"><a href="/gostd/encoding/base64/base64.go.html#4052026">strconv</a></span><span class="op" id="4056660">.</span><span class="ident" id="4056661"><a href="/gostd/strconv/itoa.go.html#2407133">FormatInt</a></span><span class="op" id="4056670">(</span><span class="builtintype" id="4056671">int64</span><span class="op" id="4056676">(</span><span class="ident" id="4056677"><a href="/gostd/encoding/base64/base64.go.html#4056568">e</a></span><span class="op" id="4056678">)</span><span class="op" id="4056679">,</span>&nbsp;<span class="num" id="4056681">10</span><span class="op" id="4056683">)</span><br>
<span class="lineno"></span><span class="op" id="4056685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4056688">//&nbsp;decode&nbsp;is&nbsp;like&nbsp;Decode&nbsp;but&nbsp;returns&nbsp;an&nbsp;additional&nbsp;&#39;end&#39;&nbsp;value,&nbsp;which</span><br>
<span class="lineno">215</span><span class="comment" id="4056758">//&nbsp;indicates&nbsp;if&nbsp;end-of-message&nbsp;padding&nbsp;was&nbsp;encountered&nbsp;and&nbsp;thus&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="4056826">//&nbsp;additional&nbsp;data&nbsp;is&nbsp;an&nbsp;error.&nbsp;This&nbsp;method&nbsp;assumes&nbsp;that&nbsp;src&nbsp;has&nbsp;been</span><br>
<span class="lineno"></span><span class="comment" id="4056896">//&nbsp;stripped&nbsp;of&nbsp;all&nbsp;supported&nbsp;whitespace&nbsp;(&#39;\r&#39;&nbsp;and&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="4056953">func</span>&nbsp;<span class="op" id="4056958">(</span><span class="ident" id="4056959">enc</span>&nbsp;<span class="op" id="4056963">*</span><span class="ident" id="4056964"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4056972">)</span>&nbsp;<span class="ident" id="4056974">decode</span><span class="op" id="4056980">(</span><span class="ident" id="4056981">dst</span><span class="op" id="4056984">,</span>&nbsp;<span class="ident" id="4056986">src</span>&nbsp;<span class="op" id="4056990">[</span><span class="op" id="4056991">]</span><span class="builtintype" id="4056992">byte</span><span class="op" id="4056996">)</span>&nbsp;<span class="op" id="4056998">(</span><span class="ident" id="4056999">n</span>&nbsp;<span class="builtintype" id="4057001">int</span><span class="op" id="4057004">,</span>&nbsp;<span class="ident" id="4057006">end</span>&nbsp;<span class="builtintype" id="4057010">bool</span><span class="op" id="4057014">,</span>&nbsp;<span class="ident" id="4057016">err</span>&nbsp;<span class="builtintype" id="4057020">error</span><span class="op" id="4057025">)</span>&nbsp;<span class="op" id="4057027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057030">olen</span>&nbsp;<span class="op" id="4057035">:=</span>&nbsp;<span class="builtinfunc" id="4057038">len</span><span class="op" id="4057041">(</span><span class="ident" id="4057042"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057045">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057048">for</span>&nbsp;<span class="builtinfunc" id="4057052">len</span><span class="op" id="4057055">(</span><span class="ident" id="4057056"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057059">)</span>&nbsp;<span class="op" id="4057061">&gt;</span>&nbsp;<span class="num" id="4057063">0</span>&nbsp;<span class="op" id="4057065">&amp;&amp;</span>&nbsp;<span class="op" id="4057068">!</span><span class="ident" id="4057069"><a href="/gostd/encoding/base64/base64.go.html#4057006">end</a></span>&nbsp;<span class="op" id="4057073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057077">//&nbsp;Decode&nbsp;quantum&nbsp;using&nbsp;the&nbsp;base64&nbsp;alphabet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057123">var</span>&nbsp;<span class="ident" id="4057127">dbuf</span>&nbsp;<span class="op" id="4057132">[</span><span class="num" id="4057133">4</span><span class="op" id="4057134">]</span><span class="builtintype" id="4057135">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057142">dlen</span>&nbsp;<span class="op" id="4057147">:=</span>&nbsp;<span class="num" id="4057150">4</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057155">for</span>&nbsp;<span class="ident" id="4057159">j</span>&nbsp;<span class="op" id="4057161">:=</span>&nbsp;<span class="keyword" id="4057164">range</span>&nbsp;<span class="ident" id="4057170"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span>&nbsp;<span class="op" id="4057175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057180">if</span>&nbsp;<span class="builtinfunc" id="4057183">len</span><span class="op" id="4057186">(</span><span class="ident" id="4057187"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057190">)</span>&nbsp;<span class="op" id="4057192">==</span>&nbsp;<span class="num" id="4057195">0</span>&nbsp;<span class="op" id="4057197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057203">return</span>&nbsp;<span class="ident" id="4057210"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span><span class="op" id="4057211">,</span>&nbsp;<span class="builtintype" id="4057213">false</span><span class="op" id="4057218">,</span>&nbsp;<span class="ident" id="4057220"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4057237">(</span><span class="ident" id="4057238"><a href="/gostd/encoding/base64/base64.go.html#4057030">olen</a></span>&nbsp;<span class="op" id="4057243">-</span>&nbsp;<span class="builtinfunc" id="4057245">len</span><span class="op" id="4057248">(</span><span class="ident" id="4057249"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057252">)</span>&nbsp;<span class="op" id="4057254">-</span>&nbsp;<span class="ident" id="4057256"><a href="/gostd/encoding/base64/base64.go.html#4057159">j</a></span><span class="op" id="4057257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4057262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057267">in</span>&nbsp;<span class="op" id="4057270">:=</span>&nbsp;<span class="ident" id="4057273"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057276">[</span><span class="num" id="4057277">0</span><span class="op" id="4057278">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057283"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span>&nbsp;<span class="op" id="4057287">=</span>&nbsp;<span class="ident" id="4057289"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057292">[</span><span class="num" id="4057293">1</span><span class="op" id="4057294">:</span><span class="op" id="4057295">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057300">if</span>&nbsp;<span class="ident" id="4057303"><a href="/gostd/encoding/base64/base64.go.html#4057267">in</a></span>&nbsp;<span class="op" id="4057306">==</span>&nbsp;<span class="string" id="4057309">&#39;=&#39;</span>&nbsp;<span class="op" id="4057313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057319">//&nbsp;We&#39;ve&nbsp;reached&nbsp;the&nbsp;end&nbsp;and&nbsp;there&#39;s&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057368">switch</span>&nbsp;<span class="ident" id="4057375"><a href="/gostd/encoding/base64/base64.go.html#4057159">j</a></span>&nbsp;<span class="op" id="4057377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057383">case</span>&nbsp;<span class="num" id="4057388">0</span><span class="op" id="4057389">,</span>&nbsp;<span class="num" id="4057391">1</span><span class="op" id="4057392">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057399">//&nbsp;incorrect&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057425">return</span>&nbsp;<span class="ident" id="4057432"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span><span class="op" id="4057433">,</span>&nbsp;<span class="builtintype" id="4057435">false</span><span class="op" id="4057440">,</span>&nbsp;<span class="ident" id="4057442"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4057459">(</span><span class="ident" id="4057460"><a href="/gostd/encoding/base64/base64.go.html#4057030">olen</a></span>&nbsp;<span class="op" id="4057465">-</span>&nbsp;<span class="builtinfunc" id="4057467">len</span><span class="op" id="4057470">(</span><span class="ident" id="4057471"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057474">)</span>&nbsp;<span class="op" id="4057476">-</span>&nbsp;<span class="num" id="4057478">1</span><span class="op" id="4057479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057485">case</span>&nbsp;<span class="num" id="4057490">2</span><span class="op" id="4057491">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057498">//&nbsp;&#34;==&#34;&nbsp;is&nbsp;expected,&nbsp;the&nbsp;first&nbsp;&#34;=&#34;&nbsp;is&nbsp;already&nbsp;consumed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057559">if</span>&nbsp;<span class="builtinfunc" id="4057562">len</span><span class="op" id="4057565">(</span><span class="ident" id="4057566"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057569">)</span>&nbsp;<span class="op" id="4057571">==</span>&nbsp;<span class="num" id="4057574">0</span>&nbsp;<span class="op" id="4057576">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057584">//&nbsp;not&nbsp;enough&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057612">return</span>&nbsp;<span class="ident" id="4057619"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span><span class="op" id="4057620">,</span>&nbsp;<span class="builtintype" id="4057622">false</span><span class="op" id="4057627">,</span>&nbsp;<span class="ident" id="4057629"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4057646">(</span><span class="ident" id="4057647"><a href="/gostd/encoding/base64/base64.go.html#4057030">olen</a></span><span class="op" id="4057651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4057658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057665">if</span>&nbsp;<span class="ident" id="4057668"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057671">[</span><span class="num" id="4057672">0</span><span class="op" id="4057673">]</span>&nbsp;<span class="op" id="4057675">!=</span>&nbsp;<span class="string" id="4057678">&#39;=&#39;</span>&nbsp;<span class="op" id="4057682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057690">//&nbsp;incorrect&nbsp;padding</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057717">return</span>&nbsp;<span class="ident" id="4057724"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span><span class="op" id="4057725">,</span>&nbsp;<span class="builtintype" id="4057727">false</span><span class="op" id="4057732">,</span>&nbsp;<span class="ident" id="4057734"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4057751">(</span><span class="ident" id="4057752"><a href="/gostd/encoding/base64/base64.go.html#4057030">olen</a></span>&nbsp;<span class="op" id="4057757">-</span>&nbsp;<span class="builtinfunc" id="4057759">len</span><span class="op" id="4057762">(</span><span class="ident" id="4057763"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057766">)</span>&nbsp;<span class="op" id="4057768">-</span>&nbsp;<span class="num" id="4057770">1</span><span class="op" id="4057771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4057778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057785"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span>&nbsp;<span class="op" id="4057789">=</span>&nbsp;<span class="ident" id="4057791"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057794">[</span><span class="num" id="4057795">1</span><span class="op" id="4057796">:</span><span class="op" id="4057797">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4057803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057809">if</span>&nbsp;<span class="builtinfunc" id="4057812">len</span><span class="op" id="4057815">(</span><span class="ident" id="4057816"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057819">)</span>&nbsp;<span class="op" id="4057821">&gt;</span>&nbsp;<span class="num" id="4057823">0</span>&nbsp;<span class="op" id="4057825">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4057832">//&nbsp;trailing&nbsp;garbage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057857"><a href="/gostd/encoding/base64/base64.go.html#4057016">err</a></span>&nbsp;<span class="op" id="4057861">=</span>&nbsp;<span class="ident" id="4057863"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4057880">(</span><span class="ident" id="4057881"><a href="/gostd/encoding/base64/base64.go.html#4057030">olen</a></span>&nbsp;<span class="op" id="4057886">-</span>&nbsp;<span class="builtinfunc" id="4057888">len</span><span class="op" id="4057891">(</span><span class="ident" id="4057892"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4057895">)</span><span class="op" id="4057896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4057902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057908"><a href="/gostd/encoding/base64/base64.go.html#4057142">dlen</a></span><span class="op" id="4057912">,</span>&nbsp;<span class="ident" id="4057914"><a href="/gostd/encoding/base64/base64.go.html#4057006">end</a></span>&nbsp;<span class="op" id="4057918">=</span>&nbsp;<span class="ident" id="4057920"><a href="/gostd/encoding/base64/base64.go.html#4057159">j</a></span><span class="op" id="4057921">,</span>&nbsp;<span class="builtintype" id="4057923">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057932">break</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4057941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057946"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4057950">[</span><span class="ident" id="4057951"><a href="/gostd/encoding/base64/base64.go.html#4057159">j</a></span><span class="op" id="4057952">]</span>&nbsp;<span class="op" id="4057954">=</span>&nbsp;<span class="ident" id="4057956"><a href="/gostd/encoding/base64/base64.go.html#4056959">enc</a></span><span class="op" id="4057959">.</span><span class="ident" id="4057960"><a href="/gostd/encoding/base64/base64.go.html#4052450">decodeMap</a></span><span class="op" id="4057969">[</span><span class="ident" id="4057970"><a href="/gostd/encoding/base64/base64.go.html#4057267">in</a></span><span class="op" id="4057972">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057977">if</span>&nbsp;<span class="ident" id="4057980"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4057984">[</span><span class="ident" id="4057985"><a href="/gostd/encoding/base64/base64.go.html#4057159">j</a></span><span class="op" id="4057986">]</span>&nbsp;<span class="op" id="4057988">==</span>&nbsp;<span class="num" id="4057991">0xFF</span>&nbsp;<span class="op" id="4057996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058002">return</span>&nbsp;<span class="ident" id="4058009"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span><span class="op" id="4058010">,</span>&nbsp;<span class="builtintype" id="4058012">false</span><span class="op" id="4058017">,</span>&nbsp;<span class="ident" id="4058019"><a href="/gostd/encoding/base64/base64.go.html#4056537">CorruptInputError</a></span><span class="op" id="4058036">(</span><span class="ident" id="4058037"><a href="/gostd/encoding/base64/base64.go.html#4057030">olen</a></span>&nbsp;<span class="op" id="4058042">-</span>&nbsp;<span class="builtinfunc" id="4058044">len</span><span class="op" id="4058047">(</span><span class="ident" id="4058048"><a href="/gostd/encoding/base64/base64.go.html#4056986">src</a></span><span class="op" id="4058051">)</span>&nbsp;<span class="op" id="4058053">-</span>&nbsp;<span class="num" id="4058055">1</span><span class="op" id="4058056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058061">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4058070">//&nbsp;Pack&nbsp;4x&nbsp;6-bit&nbsp;source&nbsp;blocks&nbsp;into&nbsp;3&nbsp;byte&nbsp;destination</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4058127">//&nbsp;quantum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058140">switch</span>&nbsp;<span class="ident" id="4058147"><a href="/gostd/encoding/base64/base64.go.html#4057142">dlen</a></span>&nbsp;<span class="op" id="4058152">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058156">case</span>&nbsp;<span class="num" id="4058161">4</span><span class="op" id="4058162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058167"><a href="/gostd/encoding/base64/base64.go.html#4056981">dst</a></span><span class="op" id="4058170">[</span><span class="num" id="4058171">2</span><span class="op" id="4058172">]</span>&nbsp;<span class="op" id="4058174">=</span>&nbsp;<span class="ident" id="4058176"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4058180">[</span><span class="num" id="4058181">2</span><span class="op" id="4058182">]</span><span class="op" id="4058183">&lt;&lt;</span><span class="num" id="4058185">6</span>&nbsp;<span class="op" id="4058187">|</span>&nbsp;<span class="ident" id="4058189"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4058193">[</span><span class="num" id="4058194">3</span><span class="op" id="4058195">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058200">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058214">case</span>&nbsp;<span class="num" id="4058219">3</span><span class="op" id="4058220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058225"><a href="/gostd/encoding/base64/base64.go.html#4056981">dst</a></span><span class="op" id="4058228">[</span><span class="num" id="4058229">1</span><span class="op" id="4058230">]</span>&nbsp;<span class="op" id="4058232">=</span>&nbsp;<span class="ident" id="4058234"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4058238">[</span><span class="num" id="4058239">1</span><span class="op" id="4058240">]</span><span class="op" id="4058241">&lt;&lt;</span><span class="num" id="4058243">4</span>&nbsp;<span class="op" id="4058245">|</span>&nbsp;<span class="ident" id="4058247"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4058251">[</span><span class="num" id="4058252">2</span><span class="op" id="4058253">]</span><span class="op" id="4058254">&gt;&gt;</span><span class="num" id="4058256">2</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058261">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058275">case</span>&nbsp;<span class="num" id="4058280">2</span><span class="op" id="4058281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058286"><a href="/gostd/encoding/base64/base64.go.html#4056981">dst</a></span><span class="op" id="4058289">[</span><span class="num" id="4058290">0</span><span class="op" id="4058291">]</span>&nbsp;<span class="op" id="4058293">=</span>&nbsp;<span class="ident" id="4058295"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4058299">[</span><span class="num" id="4058300">0</span><span class="op" id="4058301">]</span><span class="op" id="4058302">&lt;&lt;</span><span class="num" id="4058304">2</span>&nbsp;<span class="op" id="4058306">|</span>&nbsp;<span class="ident" id="4058308"><a href="/gostd/encoding/base64/base64.go.html#4057127">dbuf</a></span><span class="op" id="4058312">[</span><span class="num" id="4058313">1</span><span class="op" id="4058314">]</span><span class="op" id="4058315">&gt;&gt;</span><span class="num" id="4058317">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058325"><a href="/gostd/encoding/base64/base64.go.html#4056981">dst</a></span>&nbsp;<span class="op" id="4058329">=</span>&nbsp;<span class="ident" id="4058331"><a href="/gostd/encoding/base64/base64.go.html#4056981">dst</a></span><span class="op" id="4058334">[</span><span class="num" id="4058335">3</span><span class="op" id="4058336">:</span><span class="op" id="4058337">]</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058341"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span>&nbsp;<span class="op" id="4058343">+=</span>&nbsp;<span class="ident" id="4058346"><a href="/gostd/encoding/base64/base64.go.html#4057142">dlen</a></span>&nbsp;<span class="op" id="4058351">-</span>&nbsp;<span class="num" id="4058353">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058360">return</span>&nbsp;<span class="ident" id="4058367"><a href="/gostd/encoding/base64/base64.go.html#4056999">n</a></span><span class="op" id="4058368">,</span>&nbsp;<span class="ident" id="4058370"><a href="/gostd/encoding/base64/base64.go.html#4057006">end</a></span><span class="op" id="4058373">,</span>&nbsp;<span class="ident" id="4058375"><a href="/gostd/encoding/base64/base64.go.html#4057016">err</a></span><br>
<span class="lineno"></span><span class="op" id="4058379">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="4058382">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;using&nbsp;the&nbsp;encoding&nbsp;enc.&nbsp;&nbsp;It&nbsp;writes&nbsp;at&nbsp;most</span><br>
<span class="lineno"></span><span class="comment" id="4058447">//&nbsp;DecodedLen(len(src))&nbsp;bytes&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="4058516">//&nbsp;written.&nbsp;&nbsp;If&nbsp;src&nbsp;contains&nbsp;invalid&nbsp;base64&nbsp;data,&nbsp;it&nbsp;will&nbsp;return&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4058585">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;successfully&nbsp;written&nbsp;and&nbsp;CorruptInputError.</span><br>
<span class="lineno">285</span><span class="comment" id="4058648">//&nbsp;New&nbsp;line&nbsp;characters&nbsp;(\r&nbsp;and&nbsp;\n)&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="4058696">func</span>&nbsp;<span class="op" id="4058701">(</span><span class="ident" id="4058702">enc</span>&nbsp;<span class="op" id="4058706">*</span><span class="ident" id="4058707"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4058715">)</span>&nbsp;<span class="ident" id="4058717">Decode</span><span class="op" id="4058723">(</span><span class="ident" id="4058724">dst</span><span class="op" id="4058727">,</span>&nbsp;<span class="ident" id="4058729">src</span>&nbsp;<span class="op" id="4058733">[</span><span class="op" id="4058734">]</span><span class="builtintype" id="4058735">byte</span><span class="op" id="4058739">)</span>&nbsp;<span class="op" id="4058741">(</span><span class="ident" id="4058742">n</span>&nbsp;<span class="builtintype" id="4058744">int</span><span class="op" id="4058747">,</span>&nbsp;<span class="ident" id="4058749">err</span>&nbsp;<span class="builtintype" id="4058753">error</span><span class="op" id="4058758">)</span>&nbsp;<span class="op" id="4058760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058763"><a href="/gostd/encoding/base64/base64.go.html#4058729">src</a></span>&nbsp;<span class="op" id="4058767">=</span>&nbsp;<span class="ident" id="4058769"><a href="/gostd/encoding/base64/base64.go.html#4052011">bytes</a></span><span class="op" id="4058774">.</span><span class="ident" id="4058775"><a href="/gostd/bytes/bytes.go.html#1404569">Map</a></span><span class="op" id="4058778">(</span><span class="ident" id="4058779"><a href="/gostd/encoding/base64/base64.go.html#4053270">removeNewlinesMapper</a></span><span class="op" id="4058799">,</span>&nbsp;<span class="ident" id="4058801"><a href="/gostd/encoding/base64/base64.go.html#4058729">src</a></span><span class="op" id="4058804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058807"><a href="/gostd/encoding/base64/base64.go.html#4058742">n</a></span><span class="op" id="4058808">,</span>&nbsp;<span class="ident" id="4058810">_</span><span class="op" id="4058811">,</span>&nbsp;<span class="ident" id="4058813"><a href="/gostd/encoding/base64/base64.go.html#4058749">err</a></span>&nbsp;<span class="op" id="4058817">=</span>&nbsp;<span class="ident" id="4058819"><a href="/gostd/encoding/base64/base64.go.html#4058702">enc</a></span><span class="op" id="4058822">.</span><span class="ident" id="4058823"><a href="/gostd/encoding/base64/base64.go.html#4056974">decode</a></span><span class="op" id="4058829">(</span><span class="ident" id="4058830"><a href="/gostd/encoding/base64/base64.go.html#4058724">dst</a></span><span class="op" id="4058833">,</span>&nbsp;<span class="ident" id="4058835"><a href="/gostd/encoding/base64/base64.go.html#4058729">src</a></span><span class="op" id="4058838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058841">return</span><br>
<span class="lineno">290</span><span class="op" id="4058848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4058851">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;base64&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4058921">func</span>&nbsp;<span class="op" id="4058926">(</span><span class="ident" id="4058927">enc</span>&nbsp;<span class="op" id="4058931">*</span><span class="ident" id="4058932"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4058940">)</span>&nbsp;<span class="ident" id="4058942">DecodeString</span><span class="op" id="4058954">(</span><span class="ident" id="4058955">s</span>&nbsp;<span class="builtintype" id="4058957">string</span><span class="op" id="4058963">)</span>&nbsp;<span class="op" id="4058965">(</span><span class="op" id="4058966">[</span><span class="op" id="4058967">]</span><span class="builtintype" id="4058968">byte</span><span class="op" id="4058972">,</span>&nbsp;<span class="builtintype" id="4058974">error</span><span class="op" id="4058979">)</span>&nbsp;<span class="op" id="4058981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058984"><a href="/gostd/encoding/base64/base64.go.html#4058955">s</a></span>&nbsp;<span class="op" id="4058986">=</span>&nbsp;<span class="ident" id="4058988"><a href="/gostd/encoding/base64/base64.go.html#4052037">strings</a></span><span class="op" id="4058995">.</span><span class="ident" id="4058996"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="4058999">(</span><span class="ident" id="4059000"><a href="/gostd/encoding/base64/base64.go.html#4053270">removeNewlinesMapper</a></span><span class="op" id="4059020">,</span>&nbsp;<span class="ident" id="4059022"><a href="/gostd/encoding/base64/base64.go.html#4058955">s</a></span><span class="op" id="4059023">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059026">dbuf</span>&nbsp;<span class="op" id="4059031">:=</span>&nbsp;<span class="builtinfunc" id="4059034">make</span><span class="op" id="4059038">(</span><span class="op" id="4059039">[</span><span class="op" id="4059040">]</span><span class="builtintype" id="4059041">byte</span><span class="op" id="4059045">,</span>&nbsp;<span class="ident" id="4059047"><a href="/gostd/encoding/base64/base64.go.html#4058927">enc</a></span><span class="op" id="4059050">.</span><span class="ident" id="4059051"><a href="/gostd/encoding/base64/base64.go.html#4061047">DecodedLen</a></span><span class="op" id="4059061">(</span><span class="builtinfunc" id="4059062">len</span><span class="op" id="4059065">(</span><span class="ident" id="4059066"><a href="/gostd/encoding/base64/base64.go.html#4058955">s</a></span><span class="op" id="4059067">)</span><span class="op" id="4059068">)</span><span class="op" id="4059069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059072">n</span><span class="op" id="4059073">,</span>&nbsp;<span class="ident" id="4059075">_</span><span class="op" id="4059076">,</span>&nbsp;<span class="ident" id="4059078">err</span>&nbsp;<span class="op" id="4059082">:=</span>&nbsp;<span class="ident" id="4059085"><a href="/gostd/encoding/base64/base64.go.html#4058927">enc</a></span><span class="op" id="4059088">.</span><span class="ident" id="4059089"><a href="/gostd/encoding/base64/base64.go.html#4056974">decode</a></span><span class="op" id="4059095">(</span><span class="ident" id="4059096"><a href="/gostd/encoding/base64/base64.go.html#4059026">dbuf</a></span><span class="op" id="4059100">,</span>&nbsp;<span class="op" id="4059102">[</span><span class="op" id="4059103">]</span><span class="builtintype" id="4059104">byte</span><span class="op" id="4059108">(</span><span class="ident" id="4059109"><a href="/gostd/encoding/base64/base64.go.html#4058955">s</a></span><span class="op" id="4059110">)</span><span class="op" id="4059111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059114">return</span>&nbsp;<span class="ident" id="4059121"><a href="/gostd/encoding/base64/base64.go.html#4059026">dbuf</a></span><span class="op" id="4059125">[</span><span class="op" id="4059126">:</span><span class="ident" id="4059127"><a href="/gostd/encoding/base64/base64.go.html#4059072">n</a></span><span class="op" id="4059128">]</span><span class="op" id="4059129">,</span>&nbsp;<span class="ident" id="4059131"><a href="/gostd/encoding/base64/base64.go.html#4059078">err</a></span><br>
<span class="lineno"></span><span class="op" id="4059135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="4059138">type</span>&nbsp;<span class="ident" id="4059143">decoder</span>&nbsp;<span class="keyword" id="4059151">struct</span>&nbsp;<span class="op" id="4059158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059161">err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4059168">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059175">enc</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059182">*</span><span class="ident" id="4059183"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059193">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059200"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4059202">.</span><span class="ident" id="4059203"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059211">end</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4059218">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4059229">//&nbsp;saw&nbsp;end&nbsp;of&nbsp;message</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059252">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059259">[</span><span class="num" id="4059260">1024</span><span class="op" id="4059264">]</span><span class="builtintype" id="4059265">byte</span>&nbsp;<span class="comment" id="4059270">//&nbsp;leftover&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059289">nbuf</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4059296">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059301">out</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059308">[</span><span class="op" id="4059309">]</span><span class="builtintype" id="4059310">byte</span>&nbsp;<span class="comment" id="4059315">//&nbsp;leftover&nbsp;decoded&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059343">outbuf</span>&nbsp;<span class="op" id="4059350">[</span><span class="num" id="4059351">1024</span>&nbsp;<span class="op" id="4059356">/</span>&nbsp;<span class="num" id="4059358">4</span>&nbsp;<span class="op" id="4059360">*</span>&nbsp;<span class="num" id="4059362">3</span><span class="op" id="4059363">]</span><span class="builtintype" id="4059364">byte</span><br>
<span class="lineno"></span><span class="op" id="4059369">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4059372">func</span>&nbsp;<span class="op" id="4059377">(</span><span class="ident" id="4059378">d</span>&nbsp;<span class="op" id="4059380">*</span><span class="ident" id="4059381"><a href="/gostd/encoding/base64/base64.go.html#4059143">decoder</a></span><span class="op" id="4059388">)</span>&nbsp;<span class="ident" id="4059390">Read</span><span class="op" id="4059394">(</span><span class="ident" id="4059395">p</span>&nbsp;<span class="op" id="4059397">[</span><span class="op" id="4059398">]</span><span class="builtintype" id="4059399">byte</span><span class="op" id="4059403">)</span>&nbsp;<span class="op" id="4059405">(</span><span class="ident" id="4059406">n</span>&nbsp;<span class="builtintype" id="4059408">int</span><span class="op" id="4059411">,</span>&nbsp;<span class="ident" id="4059413">err</span>&nbsp;<span class="builtintype" id="4059417">error</span><span class="op" id="4059422">)</span>&nbsp;<span class="op" id="4059424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059427">if</span>&nbsp;<span class="ident" id="4059430"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059431">.</span><span class="ident" id="4059432"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4059436">!=</span>&nbsp;<span class="builtintype" id="4059439">nil</span>&nbsp;<span class="op" id="4059443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059447">return</span>&nbsp;<span class="num" id="4059454">0</span><span class="op" id="4059455">,</span>&nbsp;<span class="ident" id="4059457"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059458">.</span><span class="ident" id="4059459"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059464">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4059468">//&nbsp;Use&nbsp;leftover&nbsp;decoded&nbsp;output&nbsp;from&nbsp;last&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059516">if</span>&nbsp;<span class="builtinfunc" id="4059519">len</span><span class="op" id="4059522">(</span><span class="ident" id="4059523"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059524">.</span><span class="ident" id="4059525"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span><span class="op" id="4059528">)</span>&nbsp;<span class="op" id="4059530">&gt;</span>&nbsp;<span class="num" id="4059532">0</span>&nbsp;<span class="op" id="4059534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059538"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span>&nbsp;<span class="op" id="4059540">=</span>&nbsp;<span class="builtinfunc" id="4059542">copy</span><span class="op" id="4059546">(</span><span class="ident" id="4059547"><a href="/gostd/encoding/base64/base64.go.html#4059395">p</a></span><span class="op" id="4059548">,</span>&nbsp;<span class="ident" id="4059550"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059551">.</span><span class="ident" id="4059552"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span><span class="op" id="4059555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059559"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059560">.</span><span class="ident" id="4059561"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span>&nbsp;<span class="op" id="4059565">=</span>&nbsp;<span class="ident" id="4059567"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059568">.</span><span class="ident" id="4059569"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span><span class="op" id="4059572">[</span><span class="ident" id="4059573"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span><span class="op" id="4059574">:</span><span class="op" id="4059575">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059579">return</span>&nbsp;<span class="ident" id="4059586"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span><span class="op" id="4059587">,</span>&nbsp;<span class="builtintype" id="4059589">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4059598">//&nbsp;Read&nbsp;a&nbsp;chunk.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059616">nn</span>&nbsp;<span class="op" id="4059619">:=</span>&nbsp;<span class="builtinfunc" id="4059622">len</span><span class="op" id="4059625">(</span><span class="ident" id="4059626"><a href="/gostd/encoding/base64/base64.go.html#4059395">p</a></span><span class="op" id="4059627">)</span>&nbsp;<span class="op" id="4059629">/</span>&nbsp;<span class="num" id="4059631">3</span>&nbsp;<span class="op" id="4059633">*</span>&nbsp;<span class="num" id="4059635">4</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059638">if</span>&nbsp;<span class="ident" id="4059641"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span>&nbsp;<span class="op" id="4059644">&lt;</span>&nbsp;<span class="num" id="4059646">4</span>&nbsp;<span class="op" id="4059648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059652"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span>&nbsp;<span class="op" id="4059655">=</span>&nbsp;<span class="num" id="4059657">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059663">if</span>&nbsp;<span class="ident" id="4059666"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span>&nbsp;<span class="op" id="4059669">&gt;</span>&nbsp;<span class="builtinfunc" id="4059671">len</span><span class="op" id="4059674">(</span><span class="ident" id="4059675"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059676">.</span><span class="ident" id="4059677"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4059680">)</span>&nbsp;<span class="op" id="4059682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059686"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span>&nbsp;<span class="op" id="4059689">=</span>&nbsp;<span class="builtinfunc" id="4059691">len</span><span class="op" id="4059694">(</span><span class="ident" id="4059695"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059696">.</span><span class="ident" id="4059697"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4059700">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059706"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span><span class="op" id="4059708">,</span>&nbsp;<span class="ident" id="4059710"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059711">.</span><span class="ident" id="4059712"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4059716">=</span>&nbsp;<span class="ident" id="4059718"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4059720">.</span><span class="ident" id="4059721"><a href="/gostd/io/io.go.html#1429062">ReadAtLeast</a></span><span class="op" id="4059732">(</span><span class="ident" id="4059733"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059734">.</span><span class="ident" id="4059735"><a href="/gostd/encoding/base64/base64.go.html#4059193">r</a></span><span class="op" id="4059736">,</span>&nbsp;<span class="ident" id="4059738"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059739">.</span><span class="ident" id="4059740"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4059743">[</span><span class="ident" id="4059744"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059745">.</span><span class="ident" id="4059746"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span><span class="op" id="4059750">:</span><span class="ident" id="4059751"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span><span class="op" id="4059753">]</span><span class="op" id="4059754">,</span>&nbsp;<span class="num" id="4059756">4</span><span class="op" id="4059757">-</span><span class="ident" id="4059758"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059759">.</span><span class="ident" id="4059760"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span><span class="op" id="4059764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059767"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059768">.</span><span class="ident" id="4059769"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span>&nbsp;<span class="op" id="4059774">+=</span>&nbsp;<span class="ident" id="4059777"><a href="/gostd/encoding/base64/base64.go.html#4059616">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059781">if</span>&nbsp;<span class="ident" id="4059784"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059785">.</span><span class="ident" id="4059786"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4059790">!=</span>&nbsp;<span class="builtintype" id="4059793">nil</span>&nbsp;<span class="op" id="4059797">||</span>&nbsp;<span class="ident" id="4059800"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059801">.</span><span class="ident" id="4059802"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span>&nbsp;<span class="op" id="4059807">&lt;</span>&nbsp;<span class="num" id="4059809">4</span>&nbsp;<span class="op" id="4059811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059815">return</span>&nbsp;<span class="num" id="4059822">0</span><span class="op" id="4059823">,</span>&nbsp;<span class="ident" id="4059825"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059826">.</span><span class="ident" id="4059827"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4059836">//&nbsp;Decode&nbsp;chunk&nbsp;into&nbsp;p,&nbsp;or&nbsp;d.out&nbsp;and&nbsp;then&nbsp;p&nbsp;if&nbsp;p&nbsp;is&nbsp;too&nbsp;small.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059900">nr</span>&nbsp;<span class="op" id="4059903">:=</span>&nbsp;<span class="ident" id="4059906"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059907">.</span><span class="ident" id="4059908"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span>&nbsp;<span class="op" id="4059913">/</span>&nbsp;<span class="num" id="4059915">4</span>&nbsp;<span class="op" id="4059917">*</span>&nbsp;<span class="num" id="4059919">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059922">nw</span>&nbsp;<span class="op" id="4059925">:=</span>&nbsp;<span class="ident" id="4059928"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059929">.</span><span class="ident" id="4059930"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span>&nbsp;<span class="op" id="4059935">/</span>&nbsp;<span class="num" id="4059937">4</span>&nbsp;<span class="op" id="4059939">*</span>&nbsp;<span class="num" id="4059941">3</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059944">if</span>&nbsp;<span class="ident" id="4059947"><a href="/gostd/encoding/base64/base64.go.html#4059922">nw</a></span>&nbsp;<span class="op" id="4059950">&gt;</span>&nbsp;<span class="builtinfunc" id="4059952">len</span><span class="op" id="4059955">(</span><span class="ident" id="4059956"><a href="/gostd/encoding/base64/base64.go.html#4059395">p</a></span><span class="op" id="4059957">)</span>&nbsp;<span class="op" id="4059959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059963"><a href="/gostd/encoding/base64/base64.go.html#4059922">nw</a></span><span class="op" id="4059965">,</span>&nbsp;<span class="ident" id="4059967"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059968">.</span><span class="ident" id="4059969"><a href="/gostd/encoding/base64/base64.go.html#4059211">end</a></span><span class="op" id="4059972">,</span>&nbsp;<span class="ident" id="4059974"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059975">.</span><span class="ident" id="4059976"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4059980">=</span>&nbsp;<span class="ident" id="4059982"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059983">.</span><span class="ident" id="4059984"><a href="/gostd/encoding/base64/base64.go.html#4059175">enc</a></span><span class="op" id="4059987">.</span><span class="ident" id="4059988"><a href="/gostd/encoding/base64/base64.go.html#4056974">decode</a></span><span class="op" id="4059994">(</span><span class="ident" id="4059995"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4059996">.</span><span class="ident" id="4059997"><a href="/gostd/encoding/base64/base64.go.html#4059343">outbuf</a></span><span class="op" id="4060003">[</span><span class="num" id="4060004">0</span><span class="op" id="4060005">:</span><span class="op" id="4060006">]</span><span class="op" id="4060007">,</span>&nbsp;<span class="ident" id="4060009"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060010">.</span><span class="ident" id="4060011"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4060014">[</span><span class="num" id="4060015">0</span><span class="op" id="4060016">:</span><span class="ident" id="4060017"><a href="/gostd/encoding/base64/base64.go.html#4059900">nr</a></span><span class="op" id="4060019">]</span><span class="op" id="4060020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060024"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060025">.</span><span class="ident" id="4060026"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span>&nbsp;<span class="op" id="4060030">=</span>&nbsp;<span class="ident" id="4060032"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060033">.</span><span class="ident" id="4060034"><a href="/gostd/encoding/base64/base64.go.html#4059343">outbuf</a></span><span class="op" id="4060040">[</span><span class="num" id="4060041">0</span><span class="op" id="4060042">:</span><span class="ident" id="4060043"><a href="/gostd/encoding/base64/base64.go.html#4059922">nw</a></span><span class="op" id="4060045">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060049"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span>&nbsp;<span class="op" id="4060051">=</span>&nbsp;<span class="builtinfunc" id="4060053">copy</span><span class="op" id="4060057">(</span><span class="ident" id="4060058"><a href="/gostd/encoding/base64/base64.go.html#4059395">p</a></span><span class="op" id="4060059">,</span>&nbsp;<span class="ident" id="4060061"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060062">.</span><span class="ident" id="4060063"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span><span class="op" id="4060066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060070"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060071">.</span><span class="ident" id="4060072"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span>&nbsp;<span class="op" id="4060076">=</span>&nbsp;<span class="ident" id="4060078"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060079">.</span><span class="ident" id="4060080"><a href="/gostd/encoding/base64/base64.go.html#4059301">out</a></span><span class="op" id="4060083">[</span><span class="ident" id="4060084"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span><span class="op" id="4060085">:</span><span class="op" id="4060086">]</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060089">}</span>&nbsp;<span class="keyword" id="4060091">else</span>&nbsp;<span class="op" id="4060096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060100"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span><span class="op" id="4060101">,</span>&nbsp;<span class="ident" id="4060103"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060104">.</span><span class="ident" id="4060105"><a href="/gostd/encoding/base64/base64.go.html#4059211">end</a></span><span class="op" id="4060108">,</span>&nbsp;<span class="ident" id="4060110"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060111">.</span><span class="ident" id="4060112"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4060116">=</span>&nbsp;<span class="ident" id="4060118"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060119">.</span><span class="ident" id="4060120"><a href="/gostd/encoding/base64/base64.go.html#4059175">enc</a></span><span class="op" id="4060123">.</span><span class="ident" id="4060124"><a href="/gostd/encoding/base64/base64.go.html#4056974">decode</a></span><span class="op" id="4060130">(</span><span class="ident" id="4060131"><a href="/gostd/encoding/base64/base64.go.html#4059395">p</a></span><span class="op" id="4060132">,</span>&nbsp;<span class="ident" id="4060134"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060135">.</span><span class="ident" id="4060136"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4060139">[</span><span class="num" id="4060140">0</span><span class="op" id="4060141">:</span><span class="ident" id="4060142"><a href="/gostd/encoding/base64/base64.go.html#4059900">nr</a></span><span class="op" id="4060144">]</span><span class="op" id="4060145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060151"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060152">.</span><span class="ident" id="4060153"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span>&nbsp;<span class="op" id="4060158">-=</span>&nbsp;<span class="ident" id="4060161"><a href="/gostd/encoding/base64/base64.go.html#4059900">nr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060165">for</span>&nbsp;<span class="ident" id="4060169">i</span>&nbsp;<span class="op" id="4060171">:=</span>&nbsp;<span class="num" id="4060174">0</span><span class="op" id="4060175">;</span>&nbsp;<span class="ident" id="4060177"><a href="/gostd/encoding/base64/base64.go.html#4060169">i</a></span>&nbsp;<span class="op" id="4060179">&lt;</span>&nbsp;<span class="ident" id="4060181"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060182">.</span><span class="ident" id="4060183"><a href="/gostd/encoding/base64/base64.go.html#4059289">nbuf</a></span><span class="op" id="4060187">;</span>&nbsp;<span class="ident" id="4060189"><a href="/gostd/encoding/base64/base64.go.html#4060169">i</a></span><span class="op" id="4060190">++</span>&nbsp;<span class="op" id="4060193">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060197"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060198">.</span><span class="ident" id="4060199"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4060202">[</span><span class="ident" id="4060203"><a href="/gostd/encoding/base64/base64.go.html#4060169">i</a></span><span class="op" id="4060204">]</span>&nbsp;<span class="op" id="4060206">=</span>&nbsp;<span class="ident" id="4060208"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060209">.</span><span class="ident" id="4060210"><a href="/gostd/encoding/base64/base64.go.html#4059252">buf</a></span><span class="op" id="4060213">[</span><span class="ident" id="4060214"><a href="/gostd/encoding/base64/base64.go.html#4060169">i</a></span><span class="op" id="4060215">+</span><span class="ident" id="4060216"><a href="/gostd/encoding/base64/base64.go.html#4059900">nr</a></span><span class="op" id="4060218">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060225">if</span>&nbsp;<span class="ident" id="4060228"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060229">.</span><span class="ident" id="4060230"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4060234">==</span>&nbsp;<span class="builtintype" id="4060237">nil</span>&nbsp;<span class="op" id="4060241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060245"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060246">.</span><span class="ident" id="4060247"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span>&nbsp;<span class="op" id="4060251">=</span>&nbsp;<span class="ident" id="4060253"><a href="/gostd/encoding/base64/base64.go.html#4059413">err</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060261">return</span>&nbsp;<span class="ident" id="4060268"><a href="/gostd/encoding/base64/base64.go.html#4059406">n</a></span><span class="op" id="4060269">,</span>&nbsp;<span class="ident" id="4060271"><a href="/gostd/encoding/base64/base64.go.html#4059378">d</a></span><span class="op" id="4060272">.</span><span class="ident" id="4060273"><a href="/gostd/encoding/base64/base64.go.html#4059161">err</a></span><br>
<span class="lineno"></span><span class="op" id="4060277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4060280">type</span>&nbsp;<span class="ident" id="4060285">newlineFilteringReader</span>&nbsp;<span class="keyword" id="4060308">struct</span>&nbsp;<span class="op" id="4060315">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060318">wrapped</span>&nbsp;<span class="ident" id="4060326"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4060328">.</span><span class="ident" id="4060329"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span><span class="op" id="4060336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4060339">func</span>&nbsp;<span class="op" id="4060344">(</span><span class="ident" id="4060345">r</span>&nbsp;<span class="op" id="4060347">*</span><span class="ident" id="4060348"><a href="/gostd/encoding/base64/base64.go.html#4060285">newlineFilteringReader</a></span><span class="op" id="4060370">)</span>&nbsp;<span class="ident" id="4060372">Read</span><span class="op" id="4060376">(</span><span class="ident" id="4060377">p</span>&nbsp;<span class="op" id="4060379">[</span><span class="op" id="4060380">]</span><span class="builtintype" id="4060381">byte</span><span class="op" id="4060385">)</span>&nbsp;<span class="op" id="4060387">(</span><span class="builtintype" id="4060388">int</span><span class="op" id="4060391">,</span>&nbsp;<span class="builtintype" id="4060393">error</span><span class="op" id="4060398">)</span>&nbsp;<span class="op" id="4060400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060403">n</span><span class="op" id="4060404">,</span>&nbsp;<span class="ident" id="4060406">err</span>&nbsp;<span class="op" id="4060410">:=</span>&nbsp;<span class="ident" id="4060413"><a href="/gostd/encoding/base64/base64.go.html#4060345">r</a></span><span class="op" id="4060414">.</span><span class="ident" id="4060415"><a href="/gostd/encoding/base64/base64.go.html#4060318">wrapped</a></span><span class="op" id="4060422">.</span><span class="ident" id="4060423"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="4060427">(</span><span class="ident" id="4060428"><a href="/gostd/encoding/base64/base64.go.html#4060377">p</a></span><span class="op" id="4060429">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060432">for</span>&nbsp;<span class="ident" id="4060436"><a href="/gostd/encoding/base64/base64.go.html#4060403">n</a></span>&nbsp;<span class="op" id="4060438">&gt;</span>&nbsp;<span class="num" id="4060440">0</span>&nbsp;<span class="op" id="4060442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060446">offset</span>&nbsp;<span class="op" id="4060453">:=</span>&nbsp;<span class="num" id="4060456">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060460">for</span>&nbsp;<span class="ident" id="4060464">i</span><span class="op" id="4060465">,</span>&nbsp;<span class="ident" id="4060467">b</span>&nbsp;<span class="op" id="4060469">:=</span>&nbsp;<span class="keyword" id="4060472">range</span>&nbsp;<span class="ident" id="4060478"><a href="/gostd/encoding/base64/base64.go.html#4060377">p</a></span><span class="op" id="4060479">[</span><span class="num" id="4060480">0</span><span class="op" id="4060481">:</span><span class="ident" id="4060482"><a href="/gostd/encoding/base64/base64.go.html#4060403">n</a></span><span class="op" id="4060483">]</span>&nbsp;<span class="op" id="4060485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060490">if</span>&nbsp;<span class="ident" id="4060493"><a href="/gostd/encoding/base64/base64.go.html#4060467">b</a></span>&nbsp;<span class="op" id="4060495">!=</span>&nbsp;<span class="string" id="4060498">&#39;\r&#39;</span>&nbsp;<span class="op" id="4060503">&amp;&amp;</span>&nbsp;<span class="ident" id="4060506"><a href="/gostd/encoding/base64/base64.go.html#4060467">b</a></span>&nbsp;<span class="op" id="4060508">!=</span>&nbsp;<span class="string" id="4060511">&#39;\n&#39;</span>&nbsp;<span class="op" id="4060516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060522">if</span>&nbsp;<span class="ident" id="4060525"><a href="/gostd/encoding/base64/base64.go.html#4060464">i</a></span>&nbsp;<span class="op" id="4060527">!=</span>&nbsp;<span class="ident" id="4060530"><a href="/gostd/encoding/base64/base64.go.html#4060446">offset</a></span>&nbsp;<span class="op" id="4060537">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060544"><a href="/gostd/encoding/base64/base64.go.html#4060377">p</a></span><span class="op" id="4060545">[</span><span class="ident" id="4060546"><a href="/gostd/encoding/base64/base64.go.html#4060446">offset</a></span><span class="op" id="4060552">]</span>&nbsp;<span class="op" id="4060554">=</span>&nbsp;<span class="ident" id="4060556"><a href="/gostd/encoding/base64/base64.go.html#4060467">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060568"><a href="/gostd/encoding/base64/base64.go.html#4060446">offset</a></span><span class="op" id="4060574">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060584">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060588">if</span>&nbsp;<span class="ident" id="4060591"><a href="/gostd/encoding/base64/base64.go.html#4060446">offset</a></span>&nbsp;<span class="op" id="4060598">&gt;</span>&nbsp;<span class="num" id="4060600">0</span>&nbsp;<span class="op" id="4060602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060607">return</span>&nbsp;<span class="ident" id="4060614"><a href="/gostd/encoding/base64/base64.go.html#4060446">offset</a></span><span class="op" id="4060620">,</span>&nbsp;<span class="ident" id="4060622"><a href="/gostd/encoding/base64/base64.go.html#4060406">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4060632">//&nbsp;Previous&nbsp;buffer&nbsp;entirely&nbsp;whitespace,&nbsp;read&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060685"><a href="/gostd/encoding/base64/base64.go.html#4060403">n</a></span><span class="op" id="4060686">,</span>&nbsp;<span class="ident" id="4060688"><a href="/gostd/encoding/base64/base64.go.html#4060406">err</a></span>&nbsp;<span class="op" id="4060692">=</span>&nbsp;<span class="ident" id="4060694"><a href="/gostd/encoding/base64/base64.go.html#4060345">r</a></span><span class="op" id="4060695">.</span><span class="ident" id="4060696"><a href="/gostd/encoding/base64/base64.go.html#4060318">wrapped</a></span><span class="op" id="4060703">.</span><span class="ident" id="4060704"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="4060708">(</span><span class="ident" id="4060709"><a href="/gostd/encoding/base64/base64.go.html#4060377">p</a></span><span class="op" id="4060710">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060716">return</span>&nbsp;<span class="ident" id="4060723"><a href="/gostd/encoding/base64/base64.go.html#4060403">n</a></span><span class="op" id="4060724">,</span>&nbsp;<span class="ident" id="4060726"><a href="/gostd/encoding/base64/base64.go.html#4060406">err</a></span><br>
<span class="lineno"></span><span class="op" id="4060730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4060733">//&nbsp;NewDecoder&nbsp;constructs&nbsp;a&nbsp;new&nbsp;base64&nbsp;stream&nbsp;decoder.</span><br>
<span class="lineno">385</span><span class="keyword" id="4060787">func</span>&nbsp;<span class="ident" id="4060792">NewDecoder</span><span class="op" id="4060802">(</span><span class="ident" id="4060803">enc</span>&nbsp;<span class="op" id="4060807">*</span><span class="ident" id="4060808"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4060816">,</span>&nbsp;<span class="ident" id="4060818">r</span>&nbsp;<span class="ident" id="4060820"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4060822">.</span><span class="ident" id="4060823"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="4060829">)</span>&nbsp;<span class="ident" id="4060831"><a href="/gostd/encoding/base64/base64.go.html#4052020">io</a></span><span class="op" id="4060833">.</span><span class="ident" id="4060834"><a href="/gostd/io/io.go.html#1421823">Reader</a></span>&nbsp;<span class="op" id="4060841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060844">return</span>&nbsp;<span class="op" id="4060851">&amp;</span><span class="ident" id="4060852"><a href="/gostd/encoding/base64/base64.go.html#4059143">decoder</a></span><span class="op" id="4060859">{</span><span class="ident" id="4060860"><a href="/gostd/encoding/base64/base64.go.html#4059175">enc</a></span><span class="op" id="4060863">:</span>&nbsp;<span class="ident" id="4060865"><a href="/gostd/encoding/base64/base64.go.html#4060803">enc</a></span><span class="op" id="4060868">,</span>&nbsp;<span class="ident" id="4060870"><a href="/gostd/encoding/base64/base64.go.html#4059193">r</a></span><span class="op" id="4060871">:</span>&nbsp;<span class="op" id="4060873">&amp;</span><span class="ident" id="4060874"><a href="/gostd/encoding/base64/base64.go.html#4060285">newlineFilteringReader</a></span><span class="op" id="4060896">{</span><span class="ident" id="4060897"><a href="/gostd/encoding/base64/base64.go.html#4060818">r</a></span><span class="op" id="4060898">}</span><span class="op" id="4060899">}</span><br>
<span class="lineno"></span><span class="op" id="4060901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4060904">//&nbsp;DecodedLen&nbsp;returns&nbsp;the&nbsp;maximum&nbsp;length&nbsp;in&nbsp;bytes&nbsp;of&nbsp;the&nbsp;decoded&nbsp;data</span><br>
<span class="lineno">390</span><span class="comment" id="4060974">//&nbsp;corresponding&nbsp;to&nbsp;n&nbsp;bytes&nbsp;of&nbsp;base64-encoded&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="4061026">func</span>&nbsp;<span class="op" id="4061031">(</span><span class="ident" id="4061032">enc</span>&nbsp;<span class="op" id="4061036">*</span><span class="ident" id="4061037"><a href="/gostd/encoding/base64/base64.go.html#4052413">Encoding</a></span><span class="op" id="4061045">)</span>&nbsp;<span class="ident" id="4061047">DecodedLen</span><span class="op" id="4061057">(</span><span class="ident" id="4061058">n</span>&nbsp;<span class="builtintype" id="4061060">int</span><span class="op" id="4061063">)</span>&nbsp;<span class="builtintype" id="4061065">int</span>&nbsp;<span class="op" id="4061069">{</span>&nbsp;<span class="keyword" id="4061071">return</span>&nbsp;<span class="ident" id="4061078"><a href="/gostd/encoding/base64/base64.go.html#4061058">n</a></span>&nbsp;<span class="op" id="4061080">/</span>&nbsp;<span class="num" id="4061082">4</span>&nbsp;<span class="op" id="4061084">*</span>&nbsp;<span class="num" id="4061086">3</span>&nbsp;<span class="op" id="4061088">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
