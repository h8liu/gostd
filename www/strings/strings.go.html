<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2945604">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2945659">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2945713">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2945764">//&nbsp;Package&nbsp;strings&nbsp;implements&nbsp;simple&nbsp;functions&nbsp;to&nbsp;manipulate&nbsp;strings.</span><br>
<span class="lineno"></span><span class="keyword" id="2945834">package</span>&nbsp;<span class="ident" id="2945842">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2945851">import</span>&nbsp;<span class="op" id="2945858">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2945861">&#34;unicode&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2945872">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2945887">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2945890">//&nbsp;explode&nbsp;splits&nbsp;s&nbsp;into&nbsp;an&nbsp;array&nbsp;of&nbsp;UTF-8&nbsp;sequences,&nbsp;one&nbsp;per&nbsp;Unicode&nbsp;character&nbsp;(still&nbsp;strings)&nbsp;up&nbsp;to&nbsp;a&nbsp;maximum&nbsp;of&nbsp;n&nbsp;(n&nbsp;&lt;&nbsp;0&nbsp;means&nbsp;no&nbsp;limit).</span><br>
<span class="lineno"></span><span class="comment" id="2946031">//&nbsp;Invalid&nbsp;UTF-8&nbsp;sequences&nbsp;become&nbsp;correct&nbsp;encodings&nbsp;of&nbsp;U+FFF8.</span><br>
<span class="lineno">15</span><span class="keyword" id="2946094">func</span>&nbsp;<span class="ident" id="2946099">explode</span><span class="op" id="2946106">(</span><span class="ident" id="2946107">s</span>&nbsp;<span class="builtintype" id="2946109">string</span><span class="op" id="2946115">,</span>&nbsp;<span class="ident" id="2946117">n</span>&nbsp;<span class="builtintype" id="2946119">int</span><span class="op" id="2946122">)</span>&nbsp;<span class="op" id="2946124">[</span><span class="op" id="2946125">]</span><span class="builtintype" id="2946126">string</span>&nbsp;<span class="op" id="2946133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946136">if</span>&nbsp;<span class="ident" id="2946139"><a href="/strings/strings.go.html#2946117">n</a></span>&nbsp;<span class="op" id="2946141">==</span>&nbsp;<span class="num" id="2946144">0</span>&nbsp;<span class="op" id="2946146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946150">return</span>&nbsp;<span class="ident" id="2946157">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946165">l</span>&nbsp;<span class="op" id="2946167">:=</span>&nbsp;<span class="ident" id="2946170"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2946174">.</span><span class="ident" id="2946175">RuneCountInString</span><span class="op" id="2946192">(</span><span class="ident" id="2946193"><a href="/strings/strings.go.html#2946107">s</a></span><span class="op" id="2946194">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946197">if</span>&nbsp;<span class="ident" id="2946200"><a href="/strings/strings.go.html#2946117">n</a></span>&nbsp;<span class="op" id="2946202">&lt;=</span>&nbsp;<span class="num" id="2946205">0</span>&nbsp;<span class="op" id="2946207">||</span>&nbsp;<span class="ident" id="2946210"><a href="/strings/strings.go.html#2946117">n</a></span>&nbsp;<span class="op" id="2946212">&gt;</span>&nbsp;<span class="ident" id="2946214"><a href="/strings/strings.go.html#2946165">l</a></span>&nbsp;<span class="op" id="2946216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946220"><a href="/strings/strings.go.html#2946117">n</a></span>&nbsp;<span class="op" id="2946222">=</span>&nbsp;<span class="ident" id="2946224"><a href="/strings/strings.go.html#2946165">l</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946230">a</span>&nbsp;<span class="op" id="2946232">:=</span>&nbsp;<span class="builtinfunc" id="2946235">make</span><span class="op" id="2946239">(</span><span class="op" id="2946240">[</span><span class="op" id="2946241">]</span><span class="builtintype" id="2946242">string</span><span class="op" id="2946248">,</span>&nbsp;<span class="ident" id="2946250"><a href="/strings/strings.go.html#2946117">n</a></span><span class="op" id="2946251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946254">var</span>&nbsp;<span class="ident" id="2946258">size</span>&nbsp;<span class="builtintype" id="2946263">int</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946268">var</span>&nbsp;<span class="ident" id="2946272">ch</span>&nbsp;<span class="builtintype" id="2946275">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946281">i</span><span class="op" id="2946282">,</span>&nbsp;<span class="ident" id="2946284">cur</span>&nbsp;<span class="op" id="2946288">:=</span>&nbsp;<span class="num" id="2946291">0</span><span class="op" id="2946292">,</span>&nbsp;<span class="num" id="2946294">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946297">for</span>&nbsp;<span class="op" id="2946301">;</span>&nbsp;<span class="ident" id="2946303"><a href="/strings/strings.go.html#2946281">i</a></span><span class="op" id="2946304">+</span><span class="num" id="2946305">1</span>&nbsp;<span class="op" id="2946307">&lt;</span>&nbsp;<span class="ident" id="2946309"><a href="/strings/strings.go.html#2946117">n</a></span><span class="op" id="2946310">;</span>&nbsp;<span class="ident" id="2946312"><a href="/strings/strings.go.html#2946281">i</a></span><span class="op" id="2946313">++</span>&nbsp;<span class="op" id="2946316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946320"><a href="/strings/strings.go.html#2946272">ch</a></span><span class="op" id="2946322">,</span>&nbsp;<span class="ident" id="2946324"><a href="/strings/strings.go.html#2946258">size</a></span>&nbsp;<span class="op" id="2946329">=</span>&nbsp;<span class="ident" id="2946331"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2946335">.</span><span class="ident" id="2946336">DecodeRuneInString</span><span class="op" id="2946354">(</span><span class="ident" id="2946355"><a href="/strings/strings.go.html#2946107">s</a></span><span class="op" id="2946356">[</span><span class="ident" id="2946357"><a href="/strings/strings.go.html#2946284">cur</a></span><span class="op" id="2946360">:</span><span class="op" id="2946361">]</span><span class="op" id="2946362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946366">if</span>&nbsp;<span class="ident" id="2946369"><a href="/strings/strings.go.html#2946272">ch</a></span>&nbsp;<span class="op" id="2946372">==</span>&nbsp;<span class="ident" id="2946375"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2946379">.</span><span class="ident" id="2946380">RuneError</span>&nbsp;<span class="op" id="2946390">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946395"><a href="/strings/strings.go.html#2946230">a</a></span><span class="op" id="2946396">[</span><span class="ident" id="2946397"><a href="/strings/strings.go.html#2946281">i</a></span><span class="op" id="2946398">]</span>&nbsp;<span class="op" id="2946400">=</span>&nbsp;<span class="builtintype" id="2946402">string</span><span class="op" id="2946408">(</span><span class="ident" id="2946409"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2946413">.</span><span class="ident" id="2946414">RuneError</span><span class="op" id="2946423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946427">}</span>&nbsp;<span class="keyword" id="2946429">else</span>&nbsp;<span class="op" id="2946434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946439"><a href="/strings/strings.go.html#2946230">a</a></span><span class="op" id="2946440">[</span><span class="ident" id="2946441"><a href="/strings/strings.go.html#2946281">i</a></span><span class="op" id="2946442">]</span>&nbsp;<span class="op" id="2946444">=</span>&nbsp;<span class="ident" id="2946446"><a href="/strings/strings.go.html#2946107">s</a></span><span class="op" id="2946447">[</span><span class="ident" id="2946448"><a href="/strings/strings.go.html#2946284">cur</a></span>&nbsp;<span class="op" id="2946452">:</span>&nbsp;<span class="ident" id="2946454"><a href="/strings/strings.go.html#2946284">cur</a></span><span class="op" id="2946457">+</span><span class="ident" id="2946458"><a href="/strings/strings.go.html#2946258">size</a></span><span class="op" id="2946462">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946470"><a href="/strings/strings.go.html#2946284">cur</a></span>&nbsp;<span class="op" id="2946474">+=</span>&nbsp;<span class="ident" id="2946477"><a href="/strings/strings.go.html#2946258">size</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2946486">//&nbsp;add&nbsp;the&nbsp;rest,&nbsp;if&nbsp;there&nbsp;is&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946520">if</span>&nbsp;<span class="ident" id="2946523"><a href="/strings/strings.go.html#2946284">cur</a></span>&nbsp;<span class="op" id="2946527">&lt;</span>&nbsp;<span class="builtinfunc" id="2946529">len</span><span class="op" id="2946532">(</span><span class="ident" id="2946533"><a href="/strings/strings.go.html#2946107">s</a></span><span class="op" id="2946534">)</span>&nbsp;<span class="op" id="2946536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946540"><a href="/strings/strings.go.html#2946230">a</a></span><span class="op" id="2946541">[</span><span class="ident" id="2946542"><a href="/strings/strings.go.html#2946281">i</a></span><span class="op" id="2946543">]</span>&nbsp;<span class="op" id="2946545">=</span>&nbsp;<span class="ident" id="2946547"><a href="/strings/strings.go.html#2946107">s</a></span><span class="op" id="2946548">[</span><span class="ident" id="2946549"><a href="/strings/strings.go.html#2946284">cur</a></span><span class="op" id="2946552">:</span><span class="op" id="2946553">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946556">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946559">return</span>&nbsp;<span class="ident" id="2946566"><a href="/strings/strings.go.html#2946230">a</a></span><br>
<span class="lineno"></span><span class="op" id="2946568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2946571">//&nbsp;primeRK&nbsp;is&nbsp;the&nbsp;prime&nbsp;base&nbsp;used&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2946630">const</span>&nbsp;<span class="ident" id="2946636">primeRK</span>&nbsp;<span class="op" id="2946644">=</span>&nbsp;<span class="num" id="2946646">16777619</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2946656">//&nbsp;hashStr&nbsp;returns&nbsp;the&nbsp;hash&nbsp;and&nbsp;the&nbsp;appropriate&nbsp;multiplicative</span><br>
<span class="lineno"></span><span class="comment" id="2946719">//&nbsp;factor&nbsp;for&nbsp;use&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2946762">func</span>&nbsp;<span class="ident" id="2946767">hashStr</span><span class="op" id="2946774">(</span><span class="ident" id="2946775">sep</span>&nbsp;<span class="builtintype" id="2946779">string</span><span class="op" id="2946785">)</span>&nbsp;<span class="op" id="2946787">(</span><span class="builtintype" id="2946788">uint32</span><span class="op" id="2946794">,</span>&nbsp;<span class="builtintype" id="2946796">uint32</span><span class="op" id="2946802">)</span>&nbsp;<span class="op" id="2946804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946807">hash</span>&nbsp;<span class="op" id="2946812">:=</span>&nbsp;<span class="builtintype" id="2946815">uint32</span><span class="op" id="2946821">(</span><span class="num" id="2946822">0</span><span class="op" id="2946823">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946826">for</span>&nbsp;<span class="ident" id="2946830">i</span>&nbsp;<span class="op" id="2946832">:=</span>&nbsp;<span class="num" id="2946835">0</span><span class="op" id="2946836">;</span>&nbsp;<span class="ident" id="2946838"><a href="/strings/strings.go.html#2946830">i</a></span>&nbsp;<span class="op" id="2946840">&lt;</span>&nbsp;<span class="builtinfunc" id="2946842">len</span><span class="op" id="2946845">(</span><span class="ident" id="2946846"><a href="/strings/strings.go.html#2946775">sep</a></span><span class="op" id="2946849">)</span><span class="op" id="2946850">;</span>&nbsp;<span class="ident" id="2946852"><a href="/strings/strings.go.html#2946830">i</a></span><span class="op" id="2946853">++</span>&nbsp;<span class="op" id="2946856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946860"><a href="/strings/strings.go.html#2946807">hash</a></span>&nbsp;<span class="op" id="2946865">=</span>&nbsp;<span class="ident" id="2946867"><a href="/strings/strings.go.html#2946807">hash</a></span><span class="op" id="2946871">*</span><span class="ident" id="2946872"><a href="/strings/strings.go.html#2946636">primeRK</a></span>&nbsp;<span class="op" id="2946880">+</span>&nbsp;<span class="builtintype" id="2946882">uint32</span><span class="op" id="2946888">(</span><span class="ident" id="2946889"><a href="/strings/strings.go.html#2946775">sep</a></span><span class="op" id="2946892">[</span><span class="ident" id="2946893"><a href="/strings/strings.go.html#2946830">i</a></span><span class="op" id="2946894">]</span><span class="op" id="2946895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2946898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946901">var</span>&nbsp;<span class="ident" id="2946905">pow</span><span class="op" id="2946908">,</span>&nbsp;<span class="ident" id="2946910">sq</span>&nbsp;<span class="builtintype" id="2946913">uint32</span>&nbsp;<span class="op" id="2946920">=</span>&nbsp;<span class="num" id="2946922">1</span><span class="op" id="2946923">,</span>&nbsp;<span class="ident" id="2946925"><a href="/strings/strings.go.html#2946636">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946934">for</span>&nbsp;<span class="ident" id="2946938">i</span>&nbsp;<span class="op" id="2946940">:=</span>&nbsp;<span class="builtinfunc" id="2946943">len</span><span class="op" id="2946946">(</span><span class="ident" id="2946947"><a href="/strings/strings.go.html#2946775">sep</a></span><span class="op" id="2946950">)</span><span class="op" id="2946951">;</span>&nbsp;<span class="ident" id="2946953"><a href="/strings/strings.go.html#2946938">i</a></span>&nbsp;<span class="op" id="2946955">&gt;</span>&nbsp;<span class="num" id="2946957">0</span><span class="op" id="2946958">;</span>&nbsp;<span class="ident" id="2946960"><a href="/strings/strings.go.html#2946938">i</a></span>&nbsp;<span class="op" id="2946962">&gt;&gt;=</span>&nbsp;<span class="num" id="2946966">1</span>&nbsp;<span class="op" id="2946968">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2946972">if</span>&nbsp;<span class="ident" id="2946975"><a href="/strings/strings.go.html#2946938">i</a></span><span class="op" id="2946976">&amp;</span><span class="num" id="2946977">1</span>&nbsp;<span class="op" id="2946979">!=</span>&nbsp;<span class="num" id="2946982">0</span>&nbsp;<span class="op" id="2946984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2946989"><a href="/strings/strings.go.html#2946905">pow</a></span>&nbsp;<span class="op" id="2946993">*=</span>&nbsp;<span class="ident" id="2946996"><a href="/strings/strings.go.html#2946910">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947005"><a href="/strings/strings.go.html#2946910">sq</a></span>&nbsp;<span class="op" id="2947008">*=</span>&nbsp;<span class="ident" id="2947011"><a href="/strings/strings.go.html#2946910">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947015">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947018">return</span>&nbsp;<span class="ident" id="2947025"><a href="/strings/strings.go.html#2946807">hash</a></span><span class="op" id="2947029">,</span>&nbsp;<span class="ident" id="2947031"><a href="/strings/strings.go.html#2946905">pow</a></span><br>
<span class="lineno"></span><span class="op" id="2947035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2947038">//&nbsp;hashStrRev&nbsp;returns&nbsp;the&nbsp;hash&nbsp;of&nbsp;the&nbsp;reverse&nbsp;of&nbsp;sep&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2947099">//&nbsp;appropriate&nbsp;multiplicative&nbsp;factor&nbsp;for&nbsp;use&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno">65</span><span class="keyword" id="2947169">func</span>&nbsp;<span class="ident" id="2947174">hashStrRev</span><span class="op" id="2947184">(</span><span class="ident" id="2947185">sep</span>&nbsp;<span class="builtintype" id="2947189">string</span><span class="op" id="2947195">)</span>&nbsp;<span class="op" id="2947197">(</span><span class="builtintype" id="2947198">uint32</span><span class="op" id="2947204">,</span>&nbsp;<span class="builtintype" id="2947206">uint32</span><span class="op" id="2947212">)</span>&nbsp;<span class="op" id="2947214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947217">hash</span>&nbsp;<span class="op" id="2947222">:=</span>&nbsp;<span class="builtintype" id="2947225">uint32</span><span class="op" id="2947231">(</span><span class="num" id="2947232">0</span><span class="op" id="2947233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947236">for</span>&nbsp;<span class="ident" id="2947240">i</span>&nbsp;<span class="op" id="2947242">:=</span>&nbsp;<span class="builtinfunc" id="2947245">len</span><span class="op" id="2947248">(</span><span class="ident" id="2947249"><a href="/strings/strings.go.html#2947185">sep</a></span><span class="op" id="2947252">)</span>&nbsp;<span class="op" id="2947254">-</span>&nbsp;<span class="num" id="2947256">1</span><span class="op" id="2947257">;</span>&nbsp;<span class="ident" id="2947259"><a href="/strings/strings.go.html#2947240">i</a></span>&nbsp;<span class="op" id="2947261">&gt;=</span>&nbsp;<span class="num" id="2947264">0</span><span class="op" id="2947265">;</span>&nbsp;<span class="ident" id="2947267"><a href="/strings/strings.go.html#2947240">i</a></span><span class="op" id="2947268">--</span>&nbsp;<span class="op" id="2947271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947275"><a href="/strings/strings.go.html#2947217">hash</a></span>&nbsp;<span class="op" id="2947280">=</span>&nbsp;<span class="ident" id="2947282"><a href="/strings/strings.go.html#2947217">hash</a></span><span class="op" id="2947286">*</span><span class="ident" id="2947287"><a href="/strings/strings.go.html#2946636">primeRK</a></span>&nbsp;<span class="op" id="2947295">+</span>&nbsp;<span class="builtintype" id="2947297">uint32</span><span class="op" id="2947303">(</span><span class="ident" id="2947304"><a href="/strings/strings.go.html#2947185">sep</a></span><span class="op" id="2947307">[</span><span class="ident" id="2947308"><a href="/strings/strings.go.html#2947240">i</a></span><span class="op" id="2947309">]</span><span class="op" id="2947310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947313">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947316">var</span>&nbsp;<span class="ident" id="2947320">pow</span><span class="op" id="2947323">,</span>&nbsp;<span class="ident" id="2947325">sq</span>&nbsp;<span class="builtintype" id="2947328">uint32</span>&nbsp;<span class="op" id="2947335">=</span>&nbsp;<span class="num" id="2947337">1</span><span class="op" id="2947338">,</span>&nbsp;<span class="ident" id="2947340"><a href="/strings/strings.go.html#2946636">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947349">for</span>&nbsp;<span class="ident" id="2947353">i</span>&nbsp;<span class="op" id="2947355">:=</span>&nbsp;<span class="builtinfunc" id="2947358">len</span><span class="op" id="2947361">(</span><span class="ident" id="2947362"><a href="/strings/strings.go.html#2947185">sep</a></span><span class="op" id="2947365">)</span><span class="op" id="2947366">;</span>&nbsp;<span class="ident" id="2947368"><a href="/strings/strings.go.html#2947353">i</a></span>&nbsp;<span class="op" id="2947370">&gt;</span>&nbsp;<span class="num" id="2947372">0</span><span class="op" id="2947373">;</span>&nbsp;<span class="ident" id="2947375"><a href="/strings/strings.go.html#2947353">i</a></span>&nbsp;<span class="op" id="2947377">&gt;&gt;=</span>&nbsp;<span class="num" id="2947381">1</span>&nbsp;<span class="op" id="2947383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947387">if</span>&nbsp;<span class="ident" id="2947390"><a href="/strings/strings.go.html#2947353">i</a></span><span class="op" id="2947391">&amp;</span><span class="num" id="2947392">1</span>&nbsp;<span class="op" id="2947394">!=</span>&nbsp;<span class="num" id="2947397">0</span>&nbsp;<span class="op" id="2947399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947404"><a href="/strings/strings.go.html#2947320">pow</a></span>&nbsp;<span class="op" id="2947408">*=</span>&nbsp;<span class="ident" id="2947411"><a href="/strings/strings.go.html#2947325">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947416">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947420"><a href="/strings/strings.go.html#2947325">sq</a></span>&nbsp;<span class="op" id="2947423">*=</span>&nbsp;<span class="ident" id="2947426"><a href="/strings/strings.go.html#2947325">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947433">return</span>&nbsp;<span class="ident" id="2947440"><a href="/strings/strings.go.html#2947217">hash</a></span><span class="op" id="2947444">,</span>&nbsp;<span class="ident" id="2947446"><a href="/strings/strings.go.html#2947320">pow</a></span><br>
<span class="lineno"></span><span class="op" id="2947450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="2947453">//&nbsp;Count&nbsp;counts&nbsp;the&nbsp;number&nbsp;of&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;sep&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2947522">func</span>&nbsp;<span class="ident" id="2947527">Count</span><span class="op" id="2947532">(</span><span class="ident" id="2947533">s</span><span class="op" id="2947534">,</span>&nbsp;<span class="ident" id="2947536">sep</span>&nbsp;<span class="builtintype" id="2947540">string</span><span class="op" id="2947546">)</span>&nbsp;<span class="builtintype" id="2947548">int</span>&nbsp;<span class="op" id="2947552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947555">n</span>&nbsp;<span class="op" id="2947557">:=</span>&nbsp;<span class="num" id="2947560">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2947563">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947581">switch</span>&nbsp;<span class="op" id="2947588">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947591">case</span>&nbsp;<span class="builtinfunc" id="2947596">len</span><span class="op" id="2947599">(</span><span class="ident" id="2947600"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947603">)</span>&nbsp;<span class="op" id="2947605">==</span>&nbsp;<span class="num" id="2947608">0</span><span class="op" id="2947609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947613">return</span>&nbsp;<span class="ident" id="2947620"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2947624">.</span><span class="ident" id="2947625">RuneCountInString</span><span class="op" id="2947642">(</span><span class="ident" id="2947643"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2947644">)</span>&nbsp;<span class="op" id="2947646">+</span>&nbsp;<span class="num" id="2947648">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947651">case</span>&nbsp;<span class="builtinfunc" id="2947656">len</span><span class="op" id="2947659">(</span><span class="ident" id="2947660"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947663">)</span>&nbsp;<span class="op" id="2947665">==</span>&nbsp;<span class="num" id="2947668">1</span><span class="op" id="2947669">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2947673">//&nbsp;special&nbsp;case&nbsp;worth&nbsp;making&nbsp;fast</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947709">c</span>&nbsp;<span class="op" id="2947711">:=</span>&nbsp;<span class="ident" id="2947714"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947717">[</span><span class="num" id="2947718">0</span><span class="op" id="2947719">]</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947723">for</span>&nbsp;<span class="ident" id="2947727">i</span>&nbsp;<span class="op" id="2947729">:=</span>&nbsp;<span class="num" id="2947732">0</span><span class="op" id="2947733">;</span>&nbsp;<span class="ident" id="2947735"><a href="/strings/strings.go.html#2947727">i</a></span>&nbsp;<span class="op" id="2947737">&lt;</span>&nbsp;<span class="builtinfunc" id="2947739">len</span><span class="op" id="2947742">(</span><span class="ident" id="2947743"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2947744">)</span><span class="op" id="2947745">;</span>&nbsp;<span class="ident" id="2947747"><a href="/strings/strings.go.html#2947727">i</a></span><span class="op" id="2947748">++</span>&nbsp;<span class="op" id="2947751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947756">if</span>&nbsp;<span class="ident" id="2947759"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2947760">[</span><span class="ident" id="2947761"><a href="/strings/strings.go.html#2947727">i</a></span><span class="op" id="2947762">]</span>&nbsp;<span class="op" id="2947764">==</span>&nbsp;<span class="ident" id="2947767"><a href="/strings/strings.go.html#2947709">c</a></span>&nbsp;<span class="op" id="2947769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947775"><a href="/strings/strings.go.html#2947555">n</a></span><span class="op" id="2947776">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947786">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947790">return</span>&nbsp;<span class="ident" id="2947797"><a href="/strings/strings.go.html#2947555">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947800">case</span>&nbsp;<span class="builtinfunc" id="2947805">len</span><span class="op" id="2947808">(</span><span class="ident" id="2947809"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947812">)</span>&nbsp;<span class="op" id="2947814">&gt;</span>&nbsp;<span class="builtinfunc" id="2947816">len</span><span class="op" id="2947819">(</span><span class="ident" id="2947820"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2947821">)</span><span class="op" id="2947822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947826">return</span>&nbsp;<span class="num" id="2947833">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947836">case</span>&nbsp;<span class="builtinfunc" id="2947841">len</span><span class="op" id="2947844">(</span><span class="ident" id="2947845"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947848">)</span>&nbsp;<span class="op" id="2947850">==</span>&nbsp;<span class="builtinfunc" id="2947853">len</span><span class="op" id="2947856">(</span><span class="ident" id="2947857"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2947858">)</span><span class="op" id="2947859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947863">if</span>&nbsp;<span class="ident" id="2947866"><a href="/strings/strings.go.html#2947536">sep</a></span>&nbsp;<span class="op" id="2947870">==</span>&nbsp;<span class="ident" id="2947873"><a href="/strings/strings.go.html#2947533">s</a></span>&nbsp;<span class="op" id="2947875">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947880">return</span>&nbsp;<span class="num" id="2947887">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947895">return</span>&nbsp;<span class="num" id="2947902">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2947905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2947908">//&nbsp;Rabin-Karp&nbsp;search</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947930">hashsep</span><span class="op" id="2947937">,</span>&nbsp;<span class="ident" id="2947939">pow</span>&nbsp;<span class="op" id="2947943">:=</span>&nbsp;<span class="ident" id="2947946"><a href="/strings/strings.go.html#2946767">hashStr</a></span><span class="op" id="2947953">(</span><span class="ident" id="2947954"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2947960">h</span>&nbsp;<span class="op" id="2947962">:=</span>&nbsp;<span class="builtintype" id="2947965">uint32</span><span class="op" id="2947971">(</span><span class="num" id="2947972">0</span><span class="op" id="2947973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2947976">for</span>&nbsp;<span class="ident" id="2947980">i</span>&nbsp;<span class="op" id="2947982">:=</span>&nbsp;<span class="num" id="2947985">0</span><span class="op" id="2947986">;</span>&nbsp;<span class="ident" id="2947988"><a href="/strings/strings.go.html#2947980">i</a></span>&nbsp;<span class="op" id="2947990">&lt;</span>&nbsp;<span class="builtinfunc" id="2947992">len</span><span class="op" id="2947995">(</span><span class="ident" id="2947996"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2947999">)</span><span class="op" id="2948000">;</span>&nbsp;<span class="ident" id="2948002"><a href="/strings/strings.go.html#2947980">i</a></span><span class="op" id="2948003">++</span>&nbsp;<span class="op" id="2948006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948010"><a href="/strings/strings.go.html#2947960">h</a></span>&nbsp;<span class="op" id="2948012">=</span>&nbsp;<span class="ident" id="2948014"><a href="/strings/strings.go.html#2947960">h</a></span><span class="op" id="2948015">*</span><span class="ident" id="2948016"><a href="/strings/strings.go.html#2946636">primeRK</a></span>&nbsp;<span class="op" id="2948024">+</span>&nbsp;<span class="builtintype" id="2948026">uint32</span><span class="op" id="2948032">(</span><span class="ident" id="2948033"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2948034">[</span><span class="ident" id="2948035"><a href="/strings/strings.go.html#2947980">i</a></span><span class="op" id="2948036">]</span><span class="op" id="2948037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2948040">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948043">lastmatch</span>&nbsp;<span class="op" id="2948053">:=</span>&nbsp;<span class="num" id="2948056">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948059">if</span>&nbsp;<span class="ident" id="2948062"><a href="/strings/strings.go.html#2947960">h</a></span>&nbsp;<span class="op" id="2948064">==</span>&nbsp;<span class="ident" id="2948067"><a href="/strings/strings.go.html#2947930">hashsep</a></span>&nbsp;<span class="op" id="2948075">&amp;&amp;</span>&nbsp;<span class="ident" id="2948078"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2948079">[</span><span class="op" id="2948080">:</span><span class="builtinfunc" id="2948081">len</span><span class="op" id="2948084">(</span><span class="ident" id="2948085"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2948088">)</span><span class="op" id="2948089">]</span>&nbsp;<span class="op" id="2948091">==</span>&nbsp;<span class="ident" id="2948094"><a href="/strings/strings.go.html#2947536">sep</a></span>&nbsp;<span class="op" id="2948098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948102"><a href="/strings/strings.go.html#2947555">n</a></span><span class="op" id="2948103">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948108"><a href="/strings/strings.go.html#2948043">lastmatch</a></span>&nbsp;<span class="op" id="2948118">=</span>&nbsp;<span class="builtinfunc" id="2948120">len</span><span class="op" id="2948123">(</span><span class="ident" id="2948124"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2948127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2948130">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948133">for</span>&nbsp;<span class="ident" id="2948137">i</span>&nbsp;<span class="op" id="2948139">:=</span>&nbsp;<span class="builtinfunc" id="2948142">len</span><span class="op" id="2948145">(</span><span class="ident" id="2948146"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2948149">)</span><span class="op" id="2948150">;</span>&nbsp;<span class="ident" id="2948152"><a href="/strings/strings.go.html#2948137">i</a></span>&nbsp;<span class="op" id="2948154">&lt;</span>&nbsp;<span class="builtinfunc" id="2948156">len</span><span class="op" id="2948159">(</span><span class="ident" id="2948160"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2948161">)</span><span class="op" id="2948162">;</span>&nbsp;<span class="op" id="2948164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948168"><a href="/strings/strings.go.html#2947960">h</a></span>&nbsp;<span class="op" id="2948170">*=</span>&nbsp;<span class="ident" id="2948173"><a href="/strings/strings.go.html#2946636">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948183"><a href="/strings/strings.go.html#2947960">h</a></span>&nbsp;<span class="op" id="2948185">+=</span>&nbsp;<span class="builtintype" id="2948188">uint32</span><span class="op" id="2948194">(</span><span class="ident" id="2948195"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2948196">[</span><span class="ident" id="2948197"><a href="/strings/strings.go.html#2948137">i</a></span><span class="op" id="2948198">]</span><span class="op" id="2948199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948203"><a href="/strings/strings.go.html#2947960">h</a></span>&nbsp;<span class="op" id="2948205">-=</span>&nbsp;<span class="ident" id="2948208"><a href="/strings/strings.go.html#2947939">pow</a></span>&nbsp;<span class="op" id="2948212">*</span>&nbsp;<span class="builtintype" id="2948214">uint32</span><span class="op" id="2948220">(</span><span class="ident" id="2948221"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2948222">[</span><span class="ident" id="2948223"><a href="/strings/strings.go.html#2948137">i</a></span><span class="op" id="2948224">-</span><span class="builtinfunc" id="2948225">len</span><span class="op" id="2948228">(</span><span class="ident" id="2948229"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2948232">)</span><span class="op" id="2948233">]</span><span class="op" id="2948234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948238"><a href="/strings/strings.go.html#2948137">i</a></span><span class="op" id="2948239">++</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948244">if</span>&nbsp;<span class="ident" id="2948247"><a href="/strings/strings.go.html#2947960">h</a></span>&nbsp;<span class="op" id="2948249">==</span>&nbsp;<span class="ident" id="2948252"><a href="/strings/strings.go.html#2947930">hashsep</a></span>&nbsp;<span class="op" id="2948260">&amp;&amp;</span>&nbsp;<span class="ident" id="2948263"><a href="/strings/strings.go.html#2948043">lastmatch</a></span>&nbsp;<span class="op" id="2948273">&lt;=</span>&nbsp;<span class="ident" id="2948276"><a href="/strings/strings.go.html#2948137">i</a></span><span class="op" id="2948277">-</span><span class="builtinfunc" id="2948278">len</span><span class="op" id="2948281">(</span><span class="ident" id="2948282"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2948285">)</span>&nbsp;<span class="op" id="2948287">&amp;&amp;</span>&nbsp;<span class="ident" id="2948290"><a href="/strings/strings.go.html#2947533">s</a></span><span class="op" id="2948291">[</span><span class="ident" id="2948292"><a href="/strings/strings.go.html#2948137">i</a></span><span class="op" id="2948293">-</span><span class="builtinfunc" id="2948294">len</span><span class="op" id="2948297">(</span><span class="ident" id="2948298"><a href="/strings/strings.go.html#2947536">sep</a></span><span class="op" id="2948301">)</span><span class="op" id="2948302">:</span><span class="ident" id="2948303"><a href="/strings/strings.go.html#2948137">i</a></span><span class="op" id="2948304">]</span>&nbsp;<span class="op" id="2948306">==</span>&nbsp;<span class="ident" id="2948309"><a href="/strings/strings.go.html#2947536">sep</a></span>&nbsp;<span class="op" id="2948313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948318"><a href="/strings/strings.go.html#2947555">n</a></span><span class="op" id="2948319">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948325"><a href="/strings/strings.go.html#2948043">lastmatch</a></span>&nbsp;<span class="op" id="2948335">=</span>&nbsp;<span class="ident" id="2948337"><a href="/strings/strings.go.html#2948137">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2948341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2948344">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948347">return</span>&nbsp;<span class="ident" id="2948354"><a href="/strings/strings.go.html#2947555">n</a></span><br>
<span class="lineno"></span><span class="op" id="2948356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2948359">//&nbsp;Contains&nbsp;returns&nbsp;true&nbsp;if&nbsp;substr&nbsp;is&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2948407">func</span>&nbsp;<span class="ident" id="2948412">Contains</span><span class="op" id="2948420">(</span><span class="ident" id="2948421">s</span><span class="op" id="2948422">,</span>&nbsp;<span class="ident" id="2948424">substr</span>&nbsp;<span class="builtintype" id="2948431">string</span><span class="op" id="2948437">)</span>&nbsp;<span class="builtintype" id="2948439">bool</span>&nbsp;<span class="op" id="2948444">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948447">return</span>&nbsp;<span class="ident" id="2948454"><a href="/strings/strings.go.html#2948879">Index</a></span><span class="op" id="2948459">(</span><span class="ident" id="2948460"><a href="/strings/strings.go.html#2948421">s</a></span><span class="op" id="2948461">,</span>&nbsp;<span class="ident" id="2948463"><a href="/strings/strings.go.html#2948424">substr</a></span><span class="op" id="2948469">)</span>&nbsp;<span class="op" id="2948471">&gt;=</span>&nbsp;<span class="num" id="2948474">0</span><br>
<span class="lineno"></span><span class="op" id="2948476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2948479">//&nbsp;ContainsAny&nbsp;returns&nbsp;true&nbsp;if&nbsp;any&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;in&nbsp;chars&nbsp;are&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2948557">func</span>&nbsp;<span class="ident" id="2948562">ContainsAny</span><span class="op" id="2948573">(</span><span class="ident" id="2948574">s</span><span class="op" id="2948575">,</span>&nbsp;<span class="ident" id="2948577">chars</span>&nbsp;<span class="builtintype" id="2948583">string</span><span class="op" id="2948589">)</span>&nbsp;<span class="builtintype" id="2948591">bool</span>&nbsp;<span class="op" id="2948596">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948599">return</span>&nbsp;<span class="ident" id="2948606"><a href="/strings/strings.go.html#2950770">IndexAny</a></span><span class="op" id="2948614">(</span><span class="ident" id="2948615"><a href="/strings/strings.go.html#2948574">s</a></span><span class="op" id="2948616">,</span>&nbsp;<span class="ident" id="2948618"><a href="/strings/strings.go.html#2948577">chars</a></span><span class="op" id="2948623">)</span>&nbsp;<span class="op" id="2948625">&gt;=</span>&nbsp;<span class="num" id="2948628">0</span><br>
<span class="lineno"></span><span class="op" id="2948630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2948633">//&nbsp;ContainsRune&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;r&nbsp;is&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2948703">func</span>&nbsp;<span class="ident" id="2948708">ContainsRune</span><span class="op" id="2948720">(</span><span class="ident" id="2948721">s</span>&nbsp;<span class="builtintype" id="2948723">string</span><span class="op" id="2948729">,</span>&nbsp;<span class="ident" id="2948731">r</span>&nbsp;<span class="builtintype" id="2948733">rune</span><span class="op" id="2948737">)</span>&nbsp;<span class="builtintype" id="2948739">bool</span>&nbsp;<span class="op" id="2948744">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948747">return</span>&nbsp;<span class="ident" id="2948754"><a href="/strings/strings.go.html#2950420">IndexRune</a></span><span class="op" id="2948763">(</span><span class="ident" id="2948764"><a href="/strings/strings.go.html#2948721">s</a></span><span class="op" id="2948765">,</span>&nbsp;<span class="ident" id="2948767"><a href="/strings/strings.go.html#2948731">r</a></span><span class="op" id="2948768">)</span>&nbsp;<span class="op" id="2948770">&gt;=</span>&nbsp;<span class="num" id="2948773">0</span><br>
<span class="lineno"></span><span class="op" id="2948775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2948778">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2948874">func</span>&nbsp;<span class="ident" id="2948879">Index</span><span class="op" id="2948884">(</span><span class="ident" id="2948885">s</span><span class="op" id="2948886">,</span>&nbsp;<span class="ident" id="2948888">sep</span>&nbsp;<span class="builtintype" id="2948892">string</span><span class="op" id="2948898">)</span>&nbsp;<span class="builtintype" id="2948900">int</span>&nbsp;<span class="op" id="2948904">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2948907">n</span>&nbsp;<span class="op" id="2948909">:=</span>&nbsp;<span class="builtinfunc" id="2948912">len</span><span class="op" id="2948915">(</span><span class="ident" id="2948916"><a href="/strings/strings.go.html#2948888">sep</a></span><span class="op" id="2948919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948922">switch</span>&nbsp;<span class="op" id="2948929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948932">case</span>&nbsp;<span class="ident" id="2948937"><a href="/strings/strings.go.html#2948907">n</a></span>&nbsp;<span class="op" id="2948939">==</span>&nbsp;<span class="num" id="2948942">0</span><span class="op" id="2948943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948947">return</span>&nbsp;<span class="num" id="2948954">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948957">case</span>&nbsp;<span class="ident" id="2948962"><a href="/strings/strings.go.html#2948907">n</a></span>&nbsp;<span class="op" id="2948964">==</span>&nbsp;<span class="num" id="2948967">1</span><span class="op" id="2948968">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2948972">return</span>&nbsp;<span class="ident" id="2948979"><a href="/strings/strings_decl.go.html#2965550">IndexByte</a></span><span class="op" id="2948988">(</span><span class="ident" id="2948989"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2948990">,</span>&nbsp;<span class="ident" id="2948992"><a href="/strings/strings.go.html#2948888">sep</a></span><span class="op" id="2948995">[</span><span class="num" id="2948996">0</span><span class="op" id="2948997">]</span><span class="op" id="2948998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949001">case</span>&nbsp;<span class="ident" id="2949006"><a href="/strings/strings.go.html#2948907">n</a></span>&nbsp;<span class="op" id="2949008">==</span>&nbsp;<span class="builtinfunc" id="2949011">len</span><span class="op" id="2949014">(</span><span class="ident" id="2949015"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949016">)</span><span class="op" id="2949017">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949021">if</span>&nbsp;<span class="ident" id="2949024"><a href="/strings/strings.go.html#2948888">sep</a></span>&nbsp;<span class="op" id="2949028">==</span>&nbsp;<span class="ident" id="2949031"><a href="/strings/strings.go.html#2948885">s</a></span>&nbsp;<span class="op" id="2949033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949038">return</span>&nbsp;<span class="num" id="2949045">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949049">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949053">return</span>&nbsp;<span class="op" id="2949060">-</span><span class="num" id="2949061">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949064">case</span>&nbsp;<span class="ident" id="2949069"><a href="/strings/strings.go.html#2948907">n</a></span>&nbsp;<span class="op" id="2949071">&gt;</span>&nbsp;<span class="builtinfunc" id="2949073">len</span><span class="op" id="2949076">(</span><span class="ident" id="2949077"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949078">)</span><span class="op" id="2949079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949083">return</span>&nbsp;<span class="op" id="2949090">-</span><span class="num" id="2949091">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2949097">//&nbsp;Rabin-Karp&nbsp;search</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949119">hashsep</span><span class="op" id="2949126">,</span>&nbsp;<span class="ident" id="2949128">pow</span>&nbsp;<span class="op" id="2949132">:=</span>&nbsp;<span class="ident" id="2949135"><a href="/strings/strings.go.html#2946767">hashStr</a></span><span class="op" id="2949142">(</span><span class="ident" id="2949143"><a href="/strings/strings.go.html#2948888">sep</a></span><span class="op" id="2949146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949149">var</span>&nbsp;<span class="ident" id="2949153">h</span>&nbsp;<span class="builtintype" id="2949155">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949163">for</span>&nbsp;<span class="ident" id="2949167">i</span>&nbsp;<span class="op" id="2949169">:=</span>&nbsp;<span class="num" id="2949172">0</span><span class="op" id="2949173">;</span>&nbsp;<span class="ident" id="2949175"><a href="/strings/strings.go.html#2949167">i</a></span>&nbsp;<span class="op" id="2949177">&lt;</span>&nbsp;<span class="ident" id="2949179"><a href="/strings/strings.go.html#2948907">n</a></span><span class="op" id="2949180">;</span>&nbsp;<span class="ident" id="2949182"><a href="/strings/strings.go.html#2949167">i</a></span><span class="op" id="2949183">++</span>&nbsp;<span class="op" id="2949186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949190"><a href="/strings/strings.go.html#2949153">h</a></span>&nbsp;<span class="op" id="2949192">=</span>&nbsp;<span class="ident" id="2949194"><a href="/strings/strings.go.html#2949153">h</a></span><span class="op" id="2949195">*</span><span class="ident" id="2949196"><a href="/strings/strings.go.html#2946636">primeRK</a></span>&nbsp;<span class="op" id="2949204">+</span>&nbsp;<span class="builtintype" id="2949206">uint32</span><span class="op" id="2949212">(</span><span class="ident" id="2949213"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949214">[</span><span class="ident" id="2949215"><a href="/strings/strings.go.html#2949167">i</a></span><span class="op" id="2949216">]</span><span class="op" id="2949217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949220">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949223">if</span>&nbsp;<span class="ident" id="2949226"><a href="/strings/strings.go.html#2949153">h</a></span>&nbsp;<span class="op" id="2949228">==</span>&nbsp;<span class="ident" id="2949231"><a href="/strings/strings.go.html#2949119">hashsep</a></span>&nbsp;<span class="op" id="2949239">&amp;&amp;</span>&nbsp;<span class="ident" id="2949242"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949243">[</span><span class="op" id="2949244">:</span><span class="ident" id="2949245"><a href="/strings/strings.go.html#2948907">n</a></span><span class="op" id="2949246">]</span>&nbsp;<span class="op" id="2949248">==</span>&nbsp;<span class="ident" id="2949251"><a href="/strings/strings.go.html#2948888">sep</a></span>&nbsp;<span class="op" id="2949255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949259">return</span>&nbsp;<span class="num" id="2949266">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949272">for</span>&nbsp;<span class="ident" id="2949276">i</span>&nbsp;<span class="op" id="2949278">:=</span>&nbsp;<span class="ident" id="2949281"><a href="/strings/strings.go.html#2948907">n</a></span><span class="op" id="2949282">;</span>&nbsp;<span class="ident" id="2949284"><a href="/strings/strings.go.html#2949276">i</a></span>&nbsp;<span class="op" id="2949286">&lt;</span>&nbsp;<span class="builtinfunc" id="2949288">len</span><span class="op" id="2949291">(</span><span class="ident" id="2949292"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949293">)</span><span class="op" id="2949294">;</span>&nbsp;<span class="op" id="2949296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949300"><a href="/strings/strings.go.html#2949153">h</a></span>&nbsp;<span class="op" id="2949302">*=</span>&nbsp;<span class="ident" id="2949305"><a href="/strings/strings.go.html#2946636">primeRK</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949315"><a href="/strings/strings.go.html#2949153">h</a></span>&nbsp;<span class="op" id="2949317">+=</span>&nbsp;<span class="builtintype" id="2949320">uint32</span><span class="op" id="2949326">(</span><span class="ident" id="2949327"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949328">[</span><span class="ident" id="2949329"><a href="/strings/strings.go.html#2949276">i</a></span><span class="op" id="2949330">]</span><span class="op" id="2949331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949335"><a href="/strings/strings.go.html#2949153">h</a></span>&nbsp;<span class="op" id="2949337">-=</span>&nbsp;<span class="ident" id="2949340"><a href="/strings/strings.go.html#2949128">pow</a></span>&nbsp;<span class="op" id="2949344">*</span>&nbsp;<span class="builtintype" id="2949346">uint32</span><span class="op" id="2949352">(</span><span class="ident" id="2949353"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949354">[</span><span class="ident" id="2949355"><a href="/strings/strings.go.html#2949276">i</a></span><span class="op" id="2949356">-</span><span class="ident" id="2949357"><a href="/strings/strings.go.html#2948907">n</a></span><span class="op" id="2949358">]</span><span class="op" id="2949359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949363"><a href="/strings/strings.go.html#2949276">i</a></span><span class="op" id="2949364">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949369">if</span>&nbsp;<span class="ident" id="2949372"><a href="/strings/strings.go.html#2949153">h</a></span>&nbsp;<span class="op" id="2949374">==</span>&nbsp;<span class="ident" id="2949377"><a href="/strings/strings.go.html#2949119">hashsep</a></span>&nbsp;<span class="op" id="2949385">&amp;&amp;</span>&nbsp;<span class="ident" id="2949388"><a href="/strings/strings.go.html#2948885">s</a></span><span class="op" id="2949389">[</span><span class="ident" id="2949390"><a href="/strings/strings.go.html#2949276">i</a></span><span class="op" id="2949391">-</span><span class="ident" id="2949392"><a href="/strings/strings.go.html#2948907">n</a></span><span class="op" id="2949393">:</span><span class="ident" id="2949394"><a href="/strings/strings.go.html#2949276">i</a></span><span class="op" id="2949395">]</span>&nbsp;<span class="op" id="2949397">==</span>&nbsp;<span class="ident" id="2949400"><a href="/strings/strings.go.html#2948888">sep</a></span>&nbsp;<span class="op" id="2949404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949409">return</span>&nbsp;<span class="ident" id="2949416"><a href="/strings/strings.go.html#2949276">i</a></span>&nbsp;<span class="op" id="2949418">-</span>&nbsp;<span class="ident" id="2949420"><a href="/strings/strings.go.html#2948907">n</a></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949430">return</span>&nbsp;<span class="op" id="2949437">-</span><span class="num" id="2949438">1</span><br>
<span class="lineno"></span><span class="op" id="2949440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="2949443">//&nbsp;LastIndex&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2949542">func</span>&nbsp;<span class="ident" id="2949547">LastIndex</span><span class="op" id="2949556">(</span><span class="ident" id="2949557">s</span><span class="op" id="2949558">,</span>&nbsp;<span class="ident" id="2949560">sep</span>&nbsp;<span class="builtintype" id="2949564">string</span><span class="op" id="2949570">)</span>&nbsp;<span class="builtintype" id="2949572">int</span>&nbsp;<span class="op" id="2949576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949579">n</span>&nbsp;<span class="op" id="2949581">:=</span>&nbsp;<span class="builtinfunc" id="2949584">len</span><span class="op" id="2949587">(</span><span class="ident" id="2949588"><a href="/strings/strings.go.html#2949560">sep</a></span><span class="op" id="2949591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949594">switch</span>&nbsp;<span class="op" id="2949601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949604">case</span>&nbsp;<span class="ident" id="2949609"><a href="/strings/strings.go.html#2949579">n</a></span>&nbsp;<span class="op" id="2949611">==</span>&nbsp;<span class="num" id="2949614">0</span><span class="op" id="2949615">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949619">return</span>&nbsp;<span class="builtinfunc" id="2949626">len</span><span class="op" id="2949629">(</span><span class="ident" id="2949630"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2949631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949634">case</span>&nbsp;<span class="ident" id="2949639"><a href="/strings/strings.go.html#2949579">n</a></span>&nbsp;<span class="op" id="2949641">==</span>&nbsp;<span class="num" id="2949644">1</span><span class="op" id="2949645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2949649">//&nbsp;special&nbsp;case&nbsp;worth&nbsp;making&nbsp;fast</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949685">c</span>&nbsp;<span class="op" id="2949687">:=</span>&nbsp;<span class="ident" id="2949690"><a href="/strings/strings.go.html#2949560">sep</a></span><span class="op" id="2949693">[</span><span class="num" id="2949694">0</span><span class="op" id="2949695">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949699">for</span>&nbsp;<span class="ident" id="2949703">i</span>&nbsp;<span class="op" id="2949705">:=</span>&nbsp;<span class="builtinfunc" id="2949708">len</span><span class="op" id="2949711">(</span><span class="ident" id="2949712"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2949713">)</span>&nbsp;<span class="op" id="2949715">-</span>&nbsp;<span class="num" id="2949717">1</span><span class="op" id="2949718">;</span>&nbsp;<span class="ident" id="2949720"><a href="/strings/strings.go.html#2949703">i</a></span>&nbsp;<span class="op" id="2949722">&gt;=</span>&nbsp;<span class="num" id="2949725">0</span><span class="op" id="2949726">;</span>&nbsp;<span class="ident" id="2949728"><a href="/strings/strings.go.html#2949703">i</a></span><span class="op" id="2949729">--</span>&nbsp;<span class="op" id="2949732">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949737">if</span>&nbsp;<span class="ident" id="2949740"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2949741">[</span><span class="ident" id="2949742"><a href="/strings/strings.go.html#2949703">i</a></span><span class="op" id="2949743">]</span>&nbsp;<span class="op" id="2949745">==</span>&nbsp;<span class="ident" id="2949748"><a href="/strings/strings.go.html#2949685">c</a></span>&nbsp;<span class="op" id="2949750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949756">return</span>&nbsp;<span class="ident" id="2949763"><a href="/strings/strings.go.html#2949703">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949776">return</span>&nbsp;<span class="op" id="2949783">-</span><span class="num" id="2949784">1</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949787">case</span>&nbsp;<span class="ident" id="2949792"><a href="/strings/strings.go.html#2949579">n</a></span>&nbsp;<span class="op" id="2949794">==</span>&nbsp;<span class="builtinfunc" id="2949797">len</span><span class="op" id="2949800">(</span><span class="ident" id="2949801"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2949802">)</span><span class="op" id="2949803">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949807">if</span>&nbsp;<span class="ident" id="2949810"><a href="/strings/strings.go.html#2949560">sep</a></span>&nbsp;<span class="op" id="2949814">==</span>&nbsp;<span class="ident" id="2949817"><a href="/strings/strings.go.html#2949557">s</a></span>&nbsp;<span class="op" id="2949819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949824">return</span>&nbsp;<span class="num" id="2949831">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949839">return</span>&nbsp;<span class="op" id="2949846">-</span><span class="num" id="2949847">1</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949850">case</span>&nbsp;<span class="ident" id="2949855"><a href="/strings/strings.go.html#2949579">n</a></span>&nbsp;<span class="op" id="2949857">&gt;</span>&nbsp;<span class="builtinfunc" id="2949859">len</span><span class="op" id="2949862">(</span><span class="ident" id="2949863"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2949864">)</span><span class="op" id="2949865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949869">return</span>&nbsp;<span class="op" id="2949876">-</span><span class="num" id="2949877">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2949880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2949883">//&nbsp;Rabin-Karp&nbsp;search&nbsp;from&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949932">hashsep</span><span class="op" id="2949939">,</span>&nbsp;<span class="ident" id="2949941">pow</span>&nbsp;<span class="op" id="2949945">:=</span>&nbsp;<span class="ident" id="2949948"><a href="/strings/strings.go.html#2947174">hashStrRev</a></span><span class="op" id="2949958">(</span><span class="ident" id="2949959"><a href="/strings/strings.go.html#2949560">sep</a></span><span class="op" id="2949962">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2949965">last</span>&nbsp;<span class="op" id="2949970">:=</span>&nbsp;<span class="builtinfunc" id="2949973">len</span><span class="op" id="2949976">(</span><span class="ident" id="2949977"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2949978">)</span>&nbsp;<span class="op" id="2949980">-</span>&nbsp;<span class="ident" id="2949982"><a href="/strings/strings.go.html#2949579">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949985">var</span>&nbsp;<span class="ident" id="2949989">h</span>&nbsp;<span class="builtintype" id="2949991">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2949999">for</span>&nbsp;<span class="ident" id="2950003">i</span>&nbsp;<span class="op" id="2950005">:=</span>&nbsp;<span class="builtinfunc" id="2950008">len</span><span class="op" id="2950011">(</span><span class="ident" id="2950012"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2950013">)</span>&nbsp;<span class="op" id="2950015">-</span>&nbsp;<span class="num" id="2950017">1</span><span class="op" id="2950018">;</span>&nbsp;<span class="ident" id="2950020"><a href="/strings/strings.go.html#2950003">i</a></span>&nbsp;<span class="op" id="2950022">&gt;=</span>&nbsp;<span class="ident" id="2950025"><a href="/strings/strings.go.html#2949965">last</a></span><span class="op" id="2950029">;</span>&nbsp;<span class="ident" id="2950031"><a href="/strings/strings.go.html#2950003">i</a></span><span class="op" id="2950032">--</span>&nbsp;<span class="op" id="2950035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2950039"><a href="/strings/strings.go.html#2949989">h</a></span>&nbsp;<span class="op" id="2950041">=</span>&nbsp;<span class="ident" id="2950043"><a href="/strings/strings.go.html#2949989">h</a></span><span class="op" id="2950044">*</span><span class="ident" id="2950045"><a href="/strings/strings.go.html#2946636">primeRK</a></span>&nbsp;<span class="op" id="2950053">+</span>&nbsp;<span class="builtintype" id="2950055">uint32</span><span class="op" id="2950061">(</span><span class="ident" id="2950062"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2950063">[</span><span class="ident" id="2950064"><a href="/strings/strings.go.html#2950003">i</a></span><span class="op" id="2950065">]</span><span class="op" id="2950066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950069">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950072">if</span>&nbsp;<span class="ident" id="2950075"><a href="/strings/strings.go.html#2949989">h</a></span>&nbsp;<span class="op" id="2950077">==</span>&nbsp;<span class="ident" id="2950080"><a href="/strings/strings.go.html#2949932">hashsep</a></span>&nbsp;<span class="op" id="2950088">&amp;&amp;</span>&nbsp;<span class="ident" id="2950091"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2950092">[</span><span class="ident" id="2950093"><a href="/strings/strings.go.html#2949965">last</a></span><span class="op" id="2950097">:</span><span class="op" id="2950098">]</span>&nbsp;<span class="op" id="2950100">==</span>&nbsp;<span class="ident" id="2950103"><a href="/strings/strings.go.html#2949560">sep</a></span>&nbsp;<span class="op" id="2950107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950111">return</span>&nbsp;<span class="ident" id="2950118"><a href="/strings/strings.go.html#2949965">last</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950127">for</span>&nbsp;<span class="ident" id="2950131">i</span>&nbsp;<span class="op" id="2950133">:=</span>&nbsp;<span class="ident" id="2950136"><a href="/strings/strings.go.html#2949965">last</a></span>&nbsp;<span class="op" id="2950141">-</span>&nbsp;<span class="num" id="2950143">1</span><span class="op" id="2950144">;</span>&nbsp;<span class="ident" id="2950146"><a href="/strings/strings.go.html#2950131">i</a></span>&nbsp;<span class="op" id="2950148">&gt;=</span>&nbsp;<span class="num" id="2950151">0</span><span class="op" id="2950152">;</span>&nbsp;<span class="ident" id="2950154"><a href="/strings/strings.go.html#2950131">i</a></span><span class="op" id="2950155">--</span>&nbsp;<span class="op" id="2950158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2950162"><a href="/strings/strings.go.html#2949989">h</a></span>&nbsp;<span class="op" id="2950164">*=</span>&nbsp;<span class="ident" id="2950167"><a href="/strings/strings.go.html#2946636">primeRK</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2950177"><a href="/strings/strings.go.html#2949989">h</a></span>&nbsp;<span class="op" id="2950179">+=</span>&nbsp;<span class="builtintype" id="2950182">uint32</span><span class="op" id="2950188">(</span><span class="ident" id="2950189"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2950190">[</span><span class="ident" id="2950191"><a href="/strings/strings.go.html#2950131">i</a></span><span class="op" id="2950192">]</span><span class="op" id="2950193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2950197"><a href="/strings/strings.go.html#2949989">h</a></span>&nbsp;<span class="op" id="2950199">-=</span>&nbsp;<span class="ident" id="2950202"><a href="/strings/strings.go.html#2949941">pow</a></span>&nbsp;<span class="op" id="2950206">*</span>&nbsp;<span class="builtintype" id="2950208">uint32</span><span class="op" id="2950214">(</span><span class="ident" id="2950215"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2950216">[</span><span class="ident" id="2950217"><a href="/strings/strings.go.html#2950131">i</a></span><span class="op" id="2950218">+</span><span class="ident" id="2950219"><a href="/strings/strings.go.html#2949579">n</a></span><span class="op" id="2950220">]</span><span class="op" id="2950221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950225">if</span>&nbsp;<span class="ident" id="2950228"><a href="/strings/strings.go.html#2949989">h</a></span>&nbsp;<span class="op" id="2950230">==</span>&nbsp;<span class="ident" id="2950233"><a href="/strings/strings.go.html#2949932">hashsep</a></span>&nbsp;<span class="op" id="2950241">&amp;&amp;</span>&nbsp;<span class="ident" id="2950244"><a href="/strings/strings.go.html#2949557">s</a></span><span class="op" id="2950245">[</span><span class="ident" id="2950246"><a href="/strings/strings.go.html#2950131">i</a></span><span class="op" id="2950247">:</span><span class="ident" id="2950248"><a href="/strings/strings.go.html#2950131">i</a></span><span class="op" id="2950249">+</span><span class="ident" id="2950250"><a href="/strings/strings.go.html#2949579">n</a></span><span class="op" id="2950251">]</span>&nbsp;<span class="op" id="2950253">==</span>&nbsp;<span class="ident" id="2950256"><a href="/strings/strings.go.html#2949560">sep</a></span>&nbsp;<span class="op" id="2950260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950265">return</span>&nbsp;<span class="ident" id="2950272"><a href="/strings/strings.go.html#2950131">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950276">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950282">return</span>&nbsp;<span class="op" id="2950289">-</span><span class="num" id="2950290">1</span><br>
<span class="lineno"></span><span class="op" id="2950292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2950295">//&nbsp;IndexRune&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;point</span><br>
<span class="lineno">225</span><span class="comment" id="2950374">//&nbsp;r,&nbsp;or&nbsp;-1&nbsp;if&nbsp;rune&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2950415">func</span>&nbsp;<span class="ident" id="2950420">IndexRune</span><span class="op" id="2950429">(</span><span class="ident" id="2950430">s</span>&nbsp;<span class="builtintype" id="2950432">string</span><span class="op" id="2950438">,</span>&nbsp;<span class="ident" id="2950440">r</span>&nbsp;<span class="builtintype" id="2950442">rune</span><span class="op" id="2950446">)</span>&nbsp;<span class="builtintype" id="2950448">int</span>&nbsp;<span class="op" id="2950452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950455">switch</span>&nbsp;<span class="op" id="2950462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950465">case</span>&nbsp;<span class="ident" id="2950470"><a href="/strings/strings.go.html#2950440">r</a></span>&nbsp;<span class="op" id="2950472">&lt;</span>&nbsp;<span class="ident" id="2950474"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2950478">.</span><span class="ident" id="2950479">RuneSelf</span><span class="op" id="2950487">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950491">return</span>&nbsp;<span class="ident" id="2950498"><a href="/strings/strings_decl.go.html#2965550">IndexByte</a></span><span class="op" id="2950507">(</span><span class="ident" id="2950508"><a href="/strings/strings.go.html#2950430">s</a></span><span class="op" id="2950509">,</span>&nbsp;<span class="builtintype" id="2950511">byte</span><span class="op" id="2950515">(</span><span class="ident" id="2950516"><a href="/strings/strings.go.html#2950440">r</a></span><span class="op" id="2950517">)</span><span class="op" id="2950518">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950521">default</span><span class="op" id="2950528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950532">for</span>&nbsp;<span class="ident" id="2950536">i</span><span class="op" id="2950537">,</span>&nbsp;<span class="ident" id="2950539">c</span>&nbsp;<span class="op" id="2950541">:=</span>&nbsp;<span class="keyword" id="2950544">range</span>&nbsp;<span class="ident" id="2950550"><a href="/strings/strings.go.html#2950430">s</a></span>&nbsp;<span class="op" id="2950552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950557">if</span>&nbsp;<span class="ident" id="2950560"><a href="/strings/strings.go.html#2950539">c</a></span>&nbsp;<span class="op" id="2950562">==</span>&nbsp;<span class="ident" id="2950565"><a href="/strings/strings.go.html#2950440">r</a></span>&nbsp;<span class="op" id="2950567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950573">return</span>&nbsp;<span class="ident" id="2950580"><a href="/strings/strings.go.html#2950536">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950585">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950595">return</span>&nbsp;<span class="op" id="2950602">-</span><span class="num" id="2950603">1</span><br>
<span class="lineno"></span><span class="op" id="2950605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="comment" id="2950608">//&nbsp;IndexAny&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;any&nbsp;Unicode&nbsp;code&nbsp;point</span><br>
<span class="lineno"></span><span class="comment" id="2950686">//&nbsp;from&nbsp;chars&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;no&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;from&nbsp;chars&nbsp;is&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2950765">func</span>&nbsp;<span class="ident" id="2950770">IndexAny</span><span class="op" id="2950778">(</span><span class="ident" id="2950779">s</span><span class="op" id="2950780">,</span>&nbsp;<span class="ident" id="2950782">chars</span>&nbsp;<span class="builtintype" id="2950788">string</span><span class="op" id="2950794">)</span>&nbsp;<span class="builtintype" id="2950796">int</span>&nbsp;<span class="op" id="2950800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950803">if</span>&nbsp;<span class="builtinfunc" id="2950806">len</span><span class="op" id="2950809">(</span><span class="ident" id="2950810"><a href="/strings/strings.go.html#2950782">chars</a></span><span class="op" id="2950815">)</span>&nbsp;<span class="op" id="2950817">&gt;</span>&nbsp;<span class="num" id="2950819">0</span>&nbsp;<span class="op" id="2950821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950825">for</span>&nbsp;<span class="ident" id="2950829">i</span><span class="op" id="2950830">,</span>&nbsp;<span class="ident" id="2950832">c</span>&nbsp;<span class="op" id="2950834">:=</span>&nbsp;<span class="keyword" id="2950837">range</span>&nbsp;<span class="ident" id="2950843"><a href="/strings/strings.go.html#2950779">s</a></span>&nbsp;<span class="op" id="2950845">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950850">for</span>&nbsp;<span class="ident" id="2950854">_</span><span class="op" id="2950855">,</span>&nbsp;<span class="ident" id="2950857">m</span>&nbsp;<span class="op" id="2950859">:=</span>&nbsp;<span class="keyword" id="2950862">range</span>&nbsp;<span class="ident" id="2950868"><a href="/strings/strings.go.html#2950782">chars</a></span>&nbsp;<span class="op" id="2950874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950880">if</span>&nbsp;<span class="ident" id="2950883"><a href="/strings/strings.go.html#2950832">c</a></span>&nbsp;<span class="op" id="2950885">==</span>&nbsp;<span class="ident" id="2950888"><a href="/strings/strings.go.html#2950857">m</a></span>&nbsp;<span class="op" id="2950890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950897">return</span>&nbsp;<span class="ident" id="2950904"><a href="/strings/strings.go.html#2950829">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950915">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2950922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2950925">return</span>&nbsp;<span class="op" id="2950932">-</span><span class="num" id="2950933">1</span><br>
<span class="lineno"></span><span class="op" id="2950935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="2950938">//&nbsp;LastIndexAny&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;any&nbsp;Unicode&nbsp;code</span><br>
<span class="lineno"></span><span class="comment" id="2951013">//&nbsp;point&nbsp;from&nbsp;chars&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;no&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;from&nbsp;chars&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2951084">//&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2951101">func</span>&nbsp;<span class="ident" id="2951106">LastIndexAny</span><span class="op" id="2951118">(</span><span class="ident" id="2951119">s</span><span class="op" id="2951120">,</span>&nbsp;<span class="ident" id="2951122">chars</span>&nbsp;<span class="builtintype" id="2951128">string</span><span class="op" id="2951134">)</span>&nbsp;<span class="builtintype" id="2951136">int</span>&nbsp;<span class="op" id="2951140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951143">if</span>&nbsp;<span class="builtinfunc" id="2951146">len</span><span class="op" id="2951149">(</span><span class="ident" id="2951150"><a href="/strings/strings.go.html#2951122">chars</a></span><span class="op" id="2951155">)</span>&nbsp;<span class="op" id="2951157">&gt;</span>&nbsp;<span class="num" id="2951159">0</span>&nbsp;<span class="op" id="2951161">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951165">for</span>&nbsp;<span class="ident" id="2951169">i</span>&nbsp;<span class="op" id="2951171">:=</span>&nbsp;<span class="builtinfunc" id="2951174">len</span><span class="op" id="2951177">(</span><span class="ident" id="2951178"><a href="/strings/strings.go.html#2951119">s</a></span><span class="op" id="2951179">)</span><span class="op" id="2951180">;</span>&nbsp;<span class="ident" id="2951182"><a href="/strings/strings.go.html#2951169">i</a></span>&nbsp;<span class="op" id="2951184">&gt;</span>&nbsp;<span class="num" id="2951186">0</span><span class="op" id="2951187">;</span>&nbsp;<span class="op" id="2951189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2951194">rune</span><span class="op" id="2951198">,</span>&nbsp;<span class="ident" id="2951200">size</span>&nbsp;<span class="op" id="2951205">:=</span>&nbsp;<span class="ident" id="2951208"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2951212">.</span><span class="ident" id="2951213">DecodeLastRuneInString</span><span class="op" id="2951235">(</span><span class="ident" id="2951236"><a href="/strings/strings.go.html#2951119">s</a></span><span class="op" id="2951237">[</span><span class="num" id="2951238">0</span><span class="op" id="2951239">:</span><span class="ident" id="2951240"><a href="/strings/strings.go.html#2951169">i</a></span><span class="op" id="2951241">]</span><span class="op" id="2951242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951247"><a href="/strings/strings.go.html#2951169">i</a></span>&nbsp;<span class="op" id="2951249">-=</span>&nbsp;<span class="ident" id="2951252"><a href="/strings/strings.go.html#2951200">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951260">for</span>&nbsp;<span class="ident" id="2951264">_</span><span class="op" id="2951265">,</span>&nbsp;<span class="ident" id="2951267">m</span>&nbsp;<span class="op" id="2951269">:=</span>&nbsp;<span class="keyword" id="2951272">range</span>&nbsp;<span class="ident" id="2951278"><a href="/strings/strings.go.html#2951122">chars</a></span>&nbsp;<span class="op" id="2951284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951290">if</span>&nbsp;<span class="builtintype" id="2951293"><a href="/strings/strings.go.html#2951194">rune</a></span>&nbsp;<span class="op" id="2951298">==</span>&nbsp;<span class="ident" id="2951301"><a href="/strings/strings.go.html#2951267">m</a></span>&nbsp;<span class="op" id="2951303">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951310">return</span>&nbsp;<span class="ident" id="2951317"><a href="/strings/strings.go.html#2951169">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951335">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951338">return</span>&nbsp;<span class="op" id="2951345">-</span><span class="num" id="2951346">1</span><br>
<span class="lineno"></span><span class="op" id="2951348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2951351">//&nbsp;Generic&nbsp;split:&nbsp;splits&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep,</span><br>
<span class="lineno"></span><span class="comment" id="2951404">//&nbsp;including&nbsp;sepSave&nbsp;bytes&nbsp;of&nbsp;sep&nbsp;in&nbsp;the&nbsp;subarrays.</span><br>
<span class="lineno">275</span><span class="keyword" id="2951456">func</span>&nbsp;<span class="ident" id="2951461">genSplit</span><span class="op" id="2951469">(</span><span class="ident" id="2951470">s</span><span class="op" id="2951471">,</span>&nbsp;<span class="ident" id="2951473">sep</span>&nbsp;<span class="builtintype" id="2951477">string</span><span class="op" id="2951483">,</span>&nbsp;<span class="ident" id="2951485">sepSave</span><span class="op" id="2951492">,</span>&nbsp;<span class="ident" id="2951494">n</span>&nbsp;<span class="builtintype" id="2951496">int</span><span class="op" id="2951499">)</span>&nbsp;<span class="op" id="2951501">[</span><span class="op" id="2951502">]</span><span class="builtintype" id="2951503">string</span>&nbsp;<span class="op" id="2951510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951513">if</span>&nbsp;<span class="ident" id="2951516"><a href="/strings/strings.go.html#2951494">n</a></span>&nbsp;<span class="op" id="2951518">==</span>&nbsp;<span class="num" id="2951521">0</span>&nbsp;<span class="op" id="2951523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951527">return</span>&nbsp;<span class="ident" id="2951534">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951542">if</span>&nbsp;<span class="ident" id="2951545"><a href="/strings/strings.go.html#2951473">sep</a></span>&nbsp;<span class="op" id="2951549">==</span>&nbsp;<span class="string" id="2951552">&#34;&#34;</span>&nbsp;<span class="op" id="2951555">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951559">return</span>&nbsp;<span class="ident" id="2951566"><a href="/strings/strings.go.html#2946099">explode</a></span><span class="op" id="2951573">(</span><span class="ident" id="2951574"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951575">,</span>&nbsp;<span class="ident" id="2951577"><a href="/strings/strings.go.html#2951494">n</a></span><span class="op" id="2951578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951584">if</span>&nbsp;<span class="ident" id="2951587"><a href="/strings/strings.go.html#2951494">n</a></span>&nbsp;<span class="op" id="2951589">&lt;</span>&nbsp;<span class="num" id="2951591">0</span>&nbsp;<span class="op" id="2951593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951597"><a href="/strings/strings.go.html#2951494">n</a></span>&nbsp;<span class="op" id="2951599">=</span>&nbsp;<span class="ident" id="2951601"><a href="/strings/strings.go.html#2947527">Count</a></span><span class="op" id="2951606">(</span><span class="ident" id="2951607"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951608">,</span>&nbsp;<span class="ident" id="2951610"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951613">)</span>&nbsp;<span class="op" id="2951615">+</span>&nbsp;<span class="num" id="2951617">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951620">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951623">c</span>&nbsp;<span class="op" id="2951625">:=</span>&nbsp;<span class="ident" id="2951628"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951631">[</span><span class="num" id="2951632">0</span><span class="op" id="2951633">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951636">start</span>&nbsp;<span class="op" id="2951642">:=</span>&nbsp;<span class="num" id="2951645">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951648">a</span>&nbsp;<span class="op" id="2951650">:=</span>&nbsp;<span class="builtinfunc" id="2951653">make</span><span class="op" id="2951657">(</span><span class="op" id="2951658">[</span><span class="op" id="2951659">]</span><span class="builtintype" id="2951660">string</span><span class="op" id="2951666">,</span>&nbsp;<span class="ident" id="2951668"><a href="/strings/strings.go.html#2951494">n</a></span><span class="op" id="2951669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951672">na</span>&nbsp;<span class="op" id="2951675">:=</span>&nbsp;<span class="num" id="2951678">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951681">for</span>&nbsp;<span class="ident" id="2951685">i</span>&nbsp;<span class="op" id="2951687">:=</span>&nbsp;<span class="num" id="2951690">0</span><span class="op" id="2951691">;</span>&nbsp;<span class="ident" id="2951693"><a href="/strings/strings.go.html#2951685">i</a></span><span class="op" id="2951694">+</span><span class="builtinfunc" id="2951695">len</span><span class="op" id="2951698">(</span><span class="ident" id="2951699"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951702">)</span>&nbsp;<span class="op" id="2951704">&lt;=</span>&nbsp;<span class="builtinfunc" id="2951707">len</span><span class="op" id="2951710">(</span><span class="ident" id="2951711"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951712">)</span>&nbsp;<span class="op" id="2951714">&amp;&amp;</span>&nbsp;<span class="ident" id="2951717"><a href="/strings/strings.go.html#2951672">na</a></span><span class="op" id="2951719">+</span><span class="num" id="2951720">1</span>&nbsp;<span class="op" id="2951722">&lt;</span>&nbsp;<span class="ident" id="2951724"><a href="/strings/strings.go.html#2951494">n</a></span><span class="op" id="2951725">;</span>&nbsp;<span class="ident" id="2951727"><a href="/strings/strings.go.html#2951685">i</a></span><span class="op" id="2951728">++</span>&nbsp;<span class="op" id="2951731">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951735">if</span>&nbsp;<span class="ident" id="2951738"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951739">[</span><span class="ident" id="2951740"><a href="/strings/strings.go.html#2951685">i</a></span><span class="op" id="2951741">]</span>&nbsp;<span class="op" id="2951743">==</span>&nbsp;<span class="ident" id="2951746"><a href="/strings/strings.go.html#2951623">c</a></span>&nbsp;<span class="op" id="2951748">&amp;&amp;</span>&nbsp;<span class="op" id="2951751">(</span><span class="builtinfunc" id="2951752">len</span><span class="op" id="2951755">(</span><span class="ident" id="2951756"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951759">)</span>&nbsp;<span class="op" id="2951761">==</span>&nbsp;<span class="num" id="2951764">1</span>&nbsp;<span class="op" id="2951766">||</span>&nbsp;<span class="ident" id="2951769"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951770">[</span><span class="ident" id="2951771"><a href="/strings/strings.go.html#2951685">i</a></span><span class="op" id="2951772">:</span><span class="ident" id="2951773"><a href="/strings/strings.go.html#2951685">i</a></span><span class="op" id="2951774">+</span><span class="builtinfunc" id="2951775">len</span><span class="op" id="2951778">(</span><span class="ident" id="2951779"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951782">)</span><span class="op" id="2951783">]</span>&nbsp;<span class="op" id="2951785">==</span>&nbsp;<span class="ident" id="2951788"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951791">)</span>&nbsp;<span class="op" id="2951793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951798"><a href="/strings/strings.go.html#2951648">a</a></span><span class="op" id="2951799">[</span><span class="ident" id="2951800"><a href="/strings/strings.go.html#2951672">na</a></span><span class="op" id="2951802">]</span>&nbsp;<span class="op" id="2951804">=</span>&nbsp;<span class="ident" id="2951806"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951807">[</span><span class="ident" id="2951808"><a href="/strings/strings.go.html#2951636">start</a></span>&nbsp;<span class="op" id="2951814">:</span>&nbsp;<span class="ident" id="2951816"><a href="/strings/strings.go.html#2951685">i</a></span><span class="op" id="2951817">+</span><span class="ident" id="2951818"><a href="/strings/strings.go.html#2951485">sepSave</a></span><span class="op" id="2951825">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951830"><a href="/strings/strings.go.html#2951672">na</a></span><span class="op" id="2951832">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951838"><a href="/strings/strings.go.html#2951636">start</a></span>&nbsp;<span class="op" id="2951844">=</span>&nbsp;<span class="ident" id="2951846"><a href="/strings/strings.go.html#2951685">i</a></span>&nbsp;<span class="op" id="2951848">+</span>&nbsp;<span class="builtinfunc" id="2951850">len</span><span class="op" id="2951853">(</span><span class="ident" id="2951854"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951862"><a href="/strings/strings.go.html#2951685">i</a></span>&nbsp;<span class="op" id="2951864">+=</span>&nbsp;<span class="builtinfunc" id="2951867">len</span><span class="op" id="2951870">(</span><span class="ident" id="2951871"><a href="/strings/strings.go.html#2951473">sep</a></span><span class="op" id="2951874">)</span>&nbsp;<span class="op" id="2951876">-</span>&nbsp;<span class="num" id="2951878">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2951885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2951888"><a href="/strings/strings.go.html#2951648">a</a></span><span class="op" id="2951889">[</span><span class="ident" id="2951890"><a href="/strings/strings.go.html#2951672">na</a></span><span class="op" id="2951892">]</span>&nbsp;<span class="op" id="2951894">=</span>&nbsp;<span class="ident" id="2951896"><a href="/strings/strings.go.html#2951470">s</a></span><span class="op" id="2951897">[</span><span class="ident" id="2951898"><a href="/strings/strings.go.html#2951636">start</a></span><span class="op" id="2951903">:</span><span class="op" id="2951904">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2951907">return</span>&nbsp;<span class="ident" id="2951914"><a href="/strings/strings.go.html#2951648">a</a></span><span class="op" id="2951915">[</span><span class="num" id="2951916">0</span>&nbsp;<span class="op" id="2951918">:</span>&nbsp;<span class="ident" id="2951920"><a href="/strings/strings.go.html#2951672">na</a></span><span class="op" id="2951922">+</span><span class="num" id="2951923">1</span><span class="op" id="2951924">]</span><br>
<span class="lineno"></span><span class="op" id="2951926">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="2951929">//&nbsp;SplitN&nbsp;slices&nbsp;s&nbsp;into&nbsp;substrings&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2952004">//&nbsp;the&nbsp;substrings&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="2952048">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2952109">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;substrings&nbsp;to&nbsp;return:</span><br>
<span class="lineno">305</span><span class="comment" id="2952169">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;substrings;&nbsp;the&nbsp;last&nbsp;substring&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="2952253">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;substrings)</span><br>
<span class="lineno"></span><span class="comment" id="2952302">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;substrings</span><br>
<span class="lineno"></span><span class="keyword" id="2952329">func</span>&nbsp;<span class="ident" id="2952334">SplitN</span><span class="op" id="2952340">(</span><span class="ident" id="2952341">s</span><span class="op" id="2952342">,</span>&nbsp;<span class="ident" id="2952344">sep</span>&nbsp;<span class="builtintype" id="2952348">string</span><span class="op" id="2952354">,</span>&nbsp;<span class="ident" id="2952356">n</span>&nbsp;<span class="builtintype" id="2952358">int</span><span class="op" id="2952361">)</span>&nbsp;<span class="op" id="2952363">[</span><span class="op" id="2952364">]</span><span class="builtintype" id="2952365">string</span>&nbsp;<span class="op" id="2952372">{</span>&nbsp;<span class="keyword" id="2952374">return</span>&nbsp;<span class="ident" id="2952381"><a href="/strings/strings.go.html#2951461">genSplit</a></span><span class="op" id="2952389">(</span><span class="ident" id="2952390"><a href="/strings/strings.go.html#2952341">s</a></span><span class="op" id="2952391">,</span>&nbsp;<span class="ident" id="2952393"><a href="/strings/strings.go.html#2952344">sep</a></span><span class="op" id="2952396">,</span>&nbsp;<span class="num" id="2952398">0</span><span class="op" id="2952399">,</span>&nbsp;<span class="ident" id="2952401"><a href="/strings/strings.go.html#2952356">n</a></span><span class="op" id="2952402">)</span>&nbsp;<span class="op" id="2952404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="2952407">//&nbsp;SplitAfterN&nbsp;slices&nbsp;s&nbsp;into&nbsp;substrings&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2952478">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;substrings.</span><br>
<span class="lineno"></span><span class="comment" id="2952518">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfterN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2952584">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;substrings&nbsp;to&nbsp;return:</span><br>
<span class="lineno"></span><span class="comment" id="2952644">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;substrings;&nbsp;the&nbsp;last&nbsp;substring&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno">315</span><span class="comment" id="2952728">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;substrings)</span><br>
<span class="lineno"></span><span class="comment" id="2952777">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;substrings</span><br>
<span class="lineno"></span><span class="keyword" id="2952804">func</span>&nbsp;<span class="ident" id="2952809">SplitAfterN</span><span class="op" id="2952820">(</span><span class="ident" id="2952821">s</span><span class="op" id="2952822">,</span>&nbsp;<span class="ident" id="2952824">sep</span>&nbsp;<span class="builtintype" id="2952828">string</span><span class="op" id="2952834">,</span>&nbsp;<span class="ident" id="2952836">n</span>&nbsp;<span class="builtintype" id="2952838">int</span><span class="op" id="2952841">)</span>&nbsp;<span class="op" id="2952843">[</span><span class="op" id="2952844">]</span><span class="builtintype" id="2952845">string</span>&nbsp;<span class="op" id="2952852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2952855">return</span>&nbsp;<span class="ident" id="2952862"><a href="/strings/strings.go.html#2951461">genSplit</a></span><span class="op" id="2952870">(</span><span class="ident" id="2952871"><a href="/strings/strings.go.html#2952821">s</a></span><span class="op" id="2952872">,</span>&nbsp;<span class="ident" id="2952874"><a href="/strings/strings.go.html#2952824">sep</a></span><span class="op" id="2952877">,</span>&nbsp;<span class="builtinfunc" id="2952879">len</span><span class="op" id="2952882">(</span><span class="ident" id="2952883"><a href="/strings/strings.go.html#2952824">sep</a></span><span class="op" id="2952886">)</span><span class="op" id="2952887">,</span>&nbsp;<span class="ident" id="2952889"><a href="/strings/strings.go.html#2952836">n</a></span><span class="op" id="2952890">)</span><br>
<span class="lineno"></span><span class="op" id="2952892">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="2952895">//&nbsp;Split&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;substrings&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2952973">//&nbsp;the&nbsp;substrings&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="2953017">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;Split&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2953077">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno">325</span><span class="keyword" id="2953127">func</span>&nbsp;<span class="ident" id="2953132">Split</span><span class="op" id="2953137">(</span><span class="ident" id="2953138">s</span><span class="op" id="2953139">,</span>&nbsp;<span class="ident" id="2953141">sep</span>&nbsp;<span class="builtintype" id="2953145">string</span><span class="op" id="2953151">)</span>&nbsp;<span class="op" id="2953153">[</span><span class="op" id="2953154">]</span><span class="builtintype" id="2953155">string</span>&nbsp;<span class="op" id="2953162">{</span>&nbsp;<span class="keyword" id="2953164">return</span>&nbsp;<span class="ident" id="2953171"><a href="/strings/strings.go.html#2951461">genSplit</a></span><span class="op" id="2953179">(</span><span class="ident" id="2953180"><a href="/strings/strings.go.html#2953138">s</a></span><span class="op" id="2953181">,</span>&nbsp;<span class="ident" id="2953183"><a href="/strings/strings.go.html#2953141">sep</a></span><span class="op" id="2953186">,</span>&nbsp;<span class="num" id="2953188">0</span><span class="op" id="2953189">,</span>&nbsp;<span class="op" id="2953191">-</span><span class="num" id="2953192">1</span><span class="op" id="2953193">)</span>&nbsp;<span class="op" id="2953195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2953198">//&nbsp;SplitAfter&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;substrings&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2953272">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;substrings.</span><br>
<span class="lineno"></span><span class="comment" id="2953312">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfter&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno">330</span><span class="comment" id="2953377">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitAfterN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno"></span><span class="keyword" id="2953432">func</span>&nbsp;<span class="ident" id="2953437">SplitAfter</span><span class="op" id="2953447">(</span><span class="ident" id="2953448">s</span><span class="op" id="2953449">,</span>&nbsp;<span class="ident" id="2953451">sep</span>&nbsp;<span class="builtintype" id="2953455">string</span><span class="op" id="2953461">)</span>&nbsp;<span class="op" id="2953463">[</span><span class="op" id="2953464">]</span><span class="builtintype" id="2953465">string</span>&nbsp;<span class="op" id="2953472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2953475">return</span>&nbsp;<span class="ident" id="2953482"><a href="/strings/strings.go.html#2951461">genSplit</a></span><span class="op" id="2953490">(</span><span class="ident" id="2953491"><a href="/strings/strings.go.html#2953448">s</a></span><span class="op" id="2953492">,</span>&nbsp;<span class="ident" id="2953494"><a href="/strings/strings.go.html#2953451">sep</a></span><span class="op" id="2953497">,</span>&nbsp;<span class="builtinfunc" id="2953499">len</span><span class="op" id="2953502">(</span><span class="ident" id="2953503"><a href="/strings/strings.go.html#2953451">sep</a></span><span class="op" id="2953506">)</span><span class="op" id="2953507">,</span>&nbsp;<span class="op" id="2953509">-</span><span class="num" id="2953510">1</span><span class="op" id="2953511">)</span><br>
<span class="lineno"></span><span class="op" id="2953513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="comment" id="2953516">//&nbsp;Fields&nbsp;splits&nbsp;the&nbsp;string&nbsp;s&nbsp;around&nbsp;each&nbsp;instance&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;consecutive&nbsp;white&nbsp;space</span><br>
<span class="lineno"></span><span class="comment" id="2953606">//&nbsp;characters,&nbsp;as&nbsp;defined&nbsp;by&nbsp;unicode.IsSpace,&nbsp;returning&nbsp;an&nbsp;array&nbsp;of&nbsp;substrings&nbsp;of&nbsp;s&nbsp;or&nbsp;an</span><br>
<span class="lineno"></span><span class="comment" id="2953696">//&nbsp;empty&nbsp;list&nbsp;if&nbsp;s&nbsp;contains&nbsp;only&nbsp;white&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="2953742">func</span>&nbsp;<span class="ident" id="2953747">Fields</span><span class="op" id="2953753">(</span><span class="ident" id="2953754">s</span>&nbsp;<span class="builtintype" id="2953756">string</span><span class="op" id="2953762">)</span>&nbsp;<span class="op" id="2953764">[</span><span class="op" id="2953765">]</span><span class="builtintype" id="2953766">string</span>&nbsp;<span class="op" id="2953773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2953776">return</span>&nbsp;<span class="ident" id="2953783"><a href="/strings/strings.go.html#2954195">FieldsFunc</a></span><span class="op" id="2953793">(</span><span class="ident" id="2953794"><a href="/strings/strings.go.html#2953754">s</a></span><span class="op" id="2953795">,</span>&nbsp;<span class="ident" id="2953797"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2953804">.</span><span class="ident" id="2953805">IsSpace</span><span class="op" id="2953812">)</span><br>
<span class="lineno">340</span><span class="op" id="2953814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2953817">//&nbsp;FieldsFunc&nbsp;splits&nbsp;the&nbsp;string&nbsp;s&nbsp;at&nbsp;each&nbsp;run&nbsp;of&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)</span><br>
<span class="lineno"></span><span class="comment" id="2953904">//&nbsp;and&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;slices&nbsp;of&nbsp;s.&nbsp;If&nbsp;all&nbsp;code&nbsp;points&nbsp;in&nbsp;s&nbsp;satisfy&nbsp;f(c)&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2953988">//&nbsp;string&nbsp;is&nbsp;empty,&nbsp;an&nbsp;empty&nbsp;slice&nbsp;is&nbsp;returned.</span><br>
<span class="lineno">345</span><span class="comment" id="2954036">//&nbsp;FieldsFunc&nbsp;makes&nbsp;no&nbsp;guarantees&nbsp;about&nbsp;the&nbsp;order&nbsp;in&nbsp;which&nbsp;it&nbsp;calls&nbsp;f(c).</span><br>
<span class="lineno"></span><span class="comment" id="2954110">//&nbsp;If&nbsp;f&nbsp;does&nbsp;not&nbsp;return&nbsp;consistent&nbsp;results&nbsp;for&nbsp;a&nbsp;given&nbsp;c,&nbsp;FieldsFunc&nbsp;may&nbsp;crash.</span><br>
<span class="lineno"></span><span class="keyword" id="2954190">func</span>&nbsp;<span class="ident" id="2954195">FieldsFunc</span><span class="op" id="2954205">(</span><span class="ident" id="2954206">s</span>&nbsp;<span class="builtintype" id="2954208">string</span><span class="op" id="2954214">,</span>&nbsp;<span class="ident" id="2954216">f</span>&nbsp;<span class="keyword" id="2954218">func</span><span class="op" id="2954222">(</span><span class="builtintype" id="2954223">rune</span><span class="op" id="2954227">)</span>&nbsp;<span class="builtintype" id="2954229">bool</span><span class="op" id="2954233">)</span>&nbsp;<span class="op" id="2954235">[</span><span class="op" id="2954236">]</span><span class="builtintype" id="2954237">string</span>&nbsp;<span class="op" id="2954244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2954247">//&nbsp;First&nbsp;count&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954275">n</span>&nbsp;<span class="op" id="2954277">:=</span>&nbsp;<span class="num" id="2954280">0</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954283">inField</span>&nbsp;<span class="op" id="2954291">:=</span>&nbsp;<span class="ident" id="2954294">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954301">for</span>&nbsp;<span class="ident" id="2954305">_</span><span class="op" id="2954306">,</span>&nbsp;<span class="builtintype" id="2954308">rune</span>&nbsp;<span class="op" id="2954313">:=</span>&nbsp;<span class="keyword" id="2954316">range</span>&nbsp;<span class="ident" id="2954322"><a href="/strings/strings.go.html#2954206">s</a></span>&nbsp;<span class="op" id="2954324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954328">wasInField</span>&nbsp;<span class="op" id="2954339">:=</span>&nbsp;<span class="ident" id="2954342"><a href="/strings/strings.go.html#2954283">inField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954352"><a href="/strings/strings.go.html#2954283">inField</a></span>&nbsp;<span class="op" id="2954360">=</span>&nbsp;<span class="op" id="2954362">!</span><span class="ident" id="2954363"><a href="/strings/strings.go.html#2954216">f</a></span><span class="op" id="2954364">(</span><span class="builtintype" id="2954365"><a href="/strings/strings.go.html#2954308">rune</a></span><span class="op" id="2954369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954373">if</span>&nbsp;<span class="ident" id="2954376"><a href="/strings/strings.go.html#2954283">inField</a></span>&nbsp;<span class="op" id="2954384">&amp;&amp;</span>&nbsp;<span class="op" id="2954387">!</span><span class="ident" id="2954388"><a href="/strings/strings.go.html#2954328">wasInField</a></span>&nbsp;<span class="op" id="2954399">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954404"><a href="/strings/strings.go.html#2954275">n</a></span><span class="op" id="2954405">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2954417">//&nbsp;Now&nbsp;create&nbsp;them.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954438">a</span>&nbsp;<span class="op" id="2954440">:=</span>&nbsp;<span class="builtinfunc" id="2954443">make</span><span class="op" id="2954447">(</span><span class="op" id="2954448">[</span><span class="op" id="2954449">]</span><span class="builtintype" id="2954450">string</span><span class="op" id="2954456">,</span>&nbsp;<span class="ident" id="2954458"><a href="/strings/strings.go.html#2954275">n</a></span><span class="op" id="2954459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954462">na</span>&nbsp;<span class="op" id="2954465">:=</span>&nbsp;<span class="num" id="2954468">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954471">fieldStart</span>&nbsp;<span class="op" id="2954482">:=</span>&nbsp;<span class="op" id="2954485">-</span><span class="num" id="2954486">1</span>&nbsp;<span class="comment" id="2954488">//&nbsp;Set&nbsp;to&nbsp;-1&nbsp;when&nbsp;looking&nbsp;for&nbsp;start&nbsp;of&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954535">for</span>&nbsp;<span class="ident" id="2954539">i</span><span class="op" id="2954540">,</span>&nbsp;<span class="builtintype" id="2954542">rune</span>&nbsp;<span class="op" id="2954547">:=</span>&nbsp;<span class="keyword" id="2954550">range</span>&nbsp;<span class="ident" id="2954556"><a href="/strings/strings.go.html#2954206">s</a></span>&nbsp;<span class="op" id="2954558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954562">if</span>&nbsp;<span class="ident" id="2954565"><a href="/strings/strings.go.html#2954216">f</a></span><span class="op" id="2954566">(</span><span class="builtintype" id="2954567"><a href="/strings/strings.go.html#2954542">rune</a></span><span class="op" id="2954571">)</span>&nbsp;<span class="op" id="2954573">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954578">if</span>&nbsp;<span class="ident" id="2954581"><a href="/strings/strings.go.html#2954471">fieldStart</a></span>&nbsp;<span class="op" id="2954592">&gt;=</span>&nbsp;<span class="num" id="2954595">0</span>&nbsp;<span class="op" id="2954597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954603"><a href="/strings/strings.go.html#2954438">a</a></span><span class="op" id="2954604">[</span><span class="ident" id="2954605"><a href="/strings/strings.go.html#2954462">na</a></span><span class="op" id="2954607">]</span>&nbsp;<span class="op" id="2954609">=</span>&nbsp;<span class="ident" id="2954611"><a href="/strings/strings.go.html#2954206">s</a></span><span class="op" id="2954612">[</span><span class="ident" id="2954613"><a href="/strings/strings.go.html#2954471">fieldStart</a></span><span class="op" id="2954623">:</span><span class="ident" id="2954624"><a href="/strings/strings.go.html#2954539">i</a></span><span class="op" id="2954625">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954631"><a href="/strings/strings.go.html#2954462">na</a></span><span class="op" id="2954633">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954640"><a href="/strings/strings.go.html#2954471">fieldStart</a></span>&nbsp;<span class="op" id="2954651">=</span>&nbsp;<span class="op" id="2954653">-</span><span class="num" id="2954654">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954659">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954663">}</span>&nbsp;<span class="keyword" id="2954665">else</span>&nbsp;<span class="keyword" id="2954670">if</span>&nbsp;<span class="ident" id="2954673"><a href="/strings/strings.go.html#2954471">fieldStart</a></span>&nbsp;<span class="op" id="2954684">==</span>&nbsp;<span class="op" id="2954687">-</span><span class="num" id="2954688">1</span>&nbsp;<span class="op" id="2954690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954695"><a href="/strings/strings.go.html#2954471">fieldStart</a></span>&nbsp;<span class="op" id="2954706">=</span>&nbsp;<span class="ident" id="2954708"><a href="/strings/strings.go.html#2954539">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954718">if</span>&nbsp;<span class="ident" id="2954721"><a href="/strings/strings.go.html#2954471">fieldStart</a></span>&nbsp;<span class="op" id="2954732">&gt;=</span>&nbsp;<span class="num" id="2954735">0</span>&nbsp;<span class="op" id="2954737">{</span>&nbsp;<span class="comment" id="2954739">//&nbsp;Last&nbsp;field&nbsp;might&nbsp;end&nbsp;at&nbsp;EOF.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2954773"><a href="/strings/strings.go.html#2954438">a</a></span><span class="op" id="2954774">[</span><span class="ident" id="2954775"><a href="/strings/strings.go.html#2954462">na</a></span><span class="op" id="2954777">]</span>&nbsp;<span class="op" id="2954779">=</span>&nbsp;<span class="ident" id="2954781"><a href="/strings/strings.go.html#2954206">s</a></span><span class="op" id="2954782">[</span><span class="ident" id="2954783"><a href="/strings/strings.go.html#2954471">fieldStart</a></span><span class="op" id="2954793">:</span><span class="op" id="2954794">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2954797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2954800">return</span>&nbsp;<span class="ident" id="2954807"><a href="/strings/strings.go.html#2954438">a</a></span><br>
<span class="lineno"></span><span class="op" id="2954809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="comment" id="2954812">//&nbsp;Join&nbsp;concatenates&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;to&nbsp;create&nbsp;a&nbsp;single&nbsp;string.&nbsp;&nbsp;&nbsp;The&nbsp;separator&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2954901">//&nbsp;sep&nbsp;is&nbsp;placed&nbsp;between&nbsp;elements&nbsp;in&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2954960">func</span>&nbsp;<span class="ident" id="2954965">Join</span><span class="op" id="2954969">(</span><span class="ident" id="2954970">a</span>&nbsp;<span class="op" id="2954972">[</span><span class="op" id="2954973">]</span><span class="builtintype" id="2954974">string</span><span class="op" id="2954980">,</span>&nbsp;<span class="ident" id="2954982">sep</span>&nbsp;<span class="builtintype" id="2954986">string</span><span class="op" id="2954992">)</span>&nbsp;<span class="builtintype" id="2954994">string</span>&nbsp;<span class="op" id="2955001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955004">if</span>&nbsp;<span class="builtinfunc" id="2955007">len</span><span class="op" id="2955010">(</span><span class="ident" id="2955011"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955012">)</span>&nbsp;<span class="op" id="2955014">==</span>&nbsp;<span class="num" id="2955017">0</span>&nbsp;<span class="op" id="2955019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955023">return</span>&nbsp;<span class="string" id="2955030">&#34;&#34;</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2955034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955037">if</span>&nbsp;<span class="builtinfunc" id="2955040">len</span><span class="op" id="2955043">(</span><span class="ident" id="2955044"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955045">)</span>&nbsp;<span class="op" id="2955047">==</span>&nbsp;<span class="num" id="2955050">1</span>&nbsp;<span class="op" id="2955052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955056">return</span>&nbsp;<span class="ident" id="2955063"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955064">[</span><span class="num" id="2955065">0</span><span class="op" id="2955066">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2955069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2955072">n</span>&nbsp;<span class="op" id="2955074">:=</span>&nbsp;<span class="builtinfunc" id="2955077">len</span><span class="op" id="2955080">(</span><span class="ident" id="2955081"><a href="/strings/strings.go.html#2954982">sep</a></span><span class="op" id="2955084">)</span>&nbsp;<span class="op" id="2955086">*</span>&nbsp;<span class="op" id="2955088">(</span><span class="builtinfunc" id="2955089">len</span><span class="op" id="2955092">(</span><span class="ident" id="2955093"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955094">)</span>&nbsp;<span class="op" id="2955096">-</span>&nbsp;<span class="num" id="2955098">1</span><span class="op" id="2955099">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955102">for</span>&nbsp;<span class="ident" id="2955106">i</span>&nbsp;<span class="op" id="2955108">:=</span>&nbsp;<span class="num" id="2955111">0</span><span class="op" id="2955112">;</span>&nbsp;<span class="ident" id="2955114"><a href="/strings/strings.go.html#2955106">i</a></span>&nbsp;<span class="op" id="2955116">&lt;</span>&nbsp;<span class="builtinfunc" id="2955118">len</span><span class="op" id="2955121">(</span><span class="ident" id="2955122"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955123">)</span><span class="op" id="2955124">;</span>&nbsp;<span class="ident" id="2955126"><a href="/strings/strings.go.html#2955106">i</a></span><span class="op" id="2955127">++</span>&nbsp;<span class="op" id="2955130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2955134"><a href="/strings/strings.go.html#2955072">n</a></span>&nbsp;<span class="op" id="2955136">+=</span>&nbsp;<span class="builtinfunc" id="2955139">len</span><span class="op" id="2955142">(</span><span class="ident" id="2955143"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955144">[</span><span class="ident" id="2955145"><a href="/strings/strings.go.html#2955106">i</a></span><span class="op" id="2955146">]</span><span class="op" id="2955147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2955150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2955154">b</span>&nbsp;<span class="op" id="2955156">:=</span>&nbsp;<span class="builtinfunc" id="2955159">make</span><span class="op" id="2955163">(</span><span class="op" id="2955164">[</span><span class="op" id="2955165">]</span><span class="builtintype" id="2955166">byte</span><span class="op" id="2955170">,</span>&nbsp;<span class="ident" id="2955172"><a href="/strings/strings.go.html#2955072">n</a></span><span class="op" id="2955173">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2955176">bp</span>&nbsp;<span class="op" id="2955179">:=</span>&nbsp;<span class="builtinfunc" id="2955182">copy</span><span class="op" id="2955186">(</span><span class="ident" id="2955187"><a href="/strings/strings.go.html#2955154">b</a></span><span class="op" id="2955188">,</span>&nbsp;<span class="ident" id="2955190"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955191">[</span><span class="num" id="2955192">0</span><span class="op" id="2955193">]</span><span class="op" id="2955194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955197">for</span>&nbsp;<span class="ident" id="2955201">_</span><span class="op" id="2955202">,</span>&nbsp;<span class="ident" id="2955204">s</span>&nbsp;<span class="op" id="2955206">:=</span>&nbsp;<span class="keyword" id="2955209">range</span>&nbsp;<span class="ident" id="2955215"><a href="/strings/strings.go.html#2954970">a</a></span><span class="op" id="2955216">[</span><span class="num" id="2955217">1</span><span class="op" id="2955218">:</span><span class="op" id="2955219">]</span>&nbsp;<span class="op" id="2955221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2955225"><a href="/strings/strings.go.html#2955176">bp</a></span>&nbsp;<span class="op" id="2955228">+=</span>&nbsp;<span class="builtinfunc" id="2955231">copy</span><span class="op" id="2955235">(</span><span class="ident" id="2955236"><a href="/strings/strings.go.html#2955154">b</a></span><span class="op" id="2955237">[</span><span class="ident" id="2955238"><a href="/strings/strings.go.html#2955176">bp</a></span><span class="op" id="2955240">:</span><span class="op" id="2955241">]</span><span class="op" id="2955242">,</span>&nbsp;<span class="ident" id="2955244"><a href="/strings/strings.go.html#2954982">sep</a></span><span class="op" id="2955247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2955251"><a href="/strings/strings.go.html#2955176">bp</a></span>&nbsp;<span class="op" id="2955254">+=</span>&nbsp;<span class="builtinfunc" id="2955257">copy</span><span class="op" id="2955261">(</span><span class="ident" id="2955262"><a href="/strings/strings.go.html#2955154">b</a></span><span class="op" id="2955263">[</span><span class="ident" id="2955264"><a href="/strings/strings.go.html#2955176">bp</a></span><span class="op" id="2955266">:</span><span class="op" id="2955267">]</span><span class="op" id="2955268">,</span>&nbsp;<span class="ident" id="2955270"><a href="/strings/strings.go.html#2955204">s</a></span><span class="op" id="2955271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2955274">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955277">return</span>&nbsp;<span class="builtintype" id="2955284">string</span><span class="op" id="2955290">(</span><span class="ident" id="2955291"><a href="/strings/strings.go.html#2955154">b</a></span><span class="op" id="2955292">)</span><br>
<span class="lineno"></span><span class="op" id="2955294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2955297">//&nbsp;HasPrefix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;string&nbsp;s&nbsp;begins&nbsp;with&nbsp;prefix.</span><br>
<span class="lineno"></span><span class="keyword" id="2955357">func</span>&nbsp;<span class="ident" id="2955362">HasPrefix</span><span class="op" id="2955371">(</span><span class="ident" id="2955372">s</span><span class="op" id="2955373">,</span>&nbsp;<span class="ident" id="2955375">prefix</span>&nbsp;<span class="builtintype" id="2955382">string</span><span class="op" id="2955388">)</span>&nbsp;<span class="builtintype" id="2955390">bool</span>&nbsp;<span class="op" id="2955395">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955398">return</span>&nbsp;<span class="builtinfunc" id="2955405">len</span><span class="op" id="2955408">(</span><span class="ident" id="2955409"><a href="/strings/strings.go.html#2955372">s</a></span><span class="op" id="2955410">)</span>&nbsp;<span class="op" id="2955412">&gt;=</span>&nbsp;<span class="builtinfunc" id="2955415">len</span><span class="op" id="2955418">(</span><span class="ident" id="2955419"><a href="/strings/strings.go.html#2955375">prefix</a></span><span class="op" id="2955425">)</span>&nbsp;<span class="op" id="2955427">&amp;&amp;</span>&nbsp;<span class="ident" id="2955430"><a href="/strings/strings.go.html#2955372">s</a></span><span class="op" id="2955431">[</span><span class="num" id="2955432">0</span><span class="op" id="2955433">:</span><span class="builtinfunc" id="2955434">len</span><span class="op" id="2955437">(</span><span class="ident" id="2955438"><a href="/strings/strings.go.html#2955375">prefix</a></span><span class="op" id="2955444">)</span><span class="op" id="2955445">]</span>&nbsp;<span class="op" id="2955447">==</span>&nbsp;<span class="ident" id="2955450"><a href="/strings/strings.go.html#2955375">prefix</a></span><br>
<span class="lineno"></span><span class="op" id="2955457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2955460">//&nbsp;HasSuffix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;string&nbsp;s&nbsp;ends&nbsp;with&nbsp;suffix.</span><br>
<span class="lineno"></span><span class="keyword" id="2955518">func</span>&nbsp;<span class="ident" id="2955523">HasSuffix</span><span class="op" id="2955532">(</span><span class="ident" id="2955533">s</span><span class="op" id="2955534">,</span>&nbsp;<span class="ident" id="2955536">suffix</span>&nbsp;<span class="builtintype" id="2955543">string</span><span class="op" id="2955549">)</span>&nbsp;<span class="builtintype" id="2955551">bool</span>&nbsp;<span class="op" id="2955556">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2955559">return</span>&nbsp;<span class="builtinfunc" id="2955566">len</span><span class="op" id="2955569">(</span><span class="ident" id="2955570"><a href="/strings/strings.go.html#2955533">s</a></span><span class="op" id="2955571">)</span>&nbsp;<span class="op" id="2955573">&gt;=</span>&nbsp;<span class="builtinfunc" id="2955576">len</span><span class="op" id="2955579">(</span><span class="ident" id="2955580"><a href="/strings/strings.go.html#2955536">suffix</a></span><span class="op" id="2955586">)</span>&nbsp;<span class="op" id="2955588">&amp;&amp;</span>&nbsp;<span class="ident" id="2955591"><a href="/strings/strings.go.html#2955533">s</a></span><span class="op" id="2955592">[</span><span class="builtinfunc" id="2955593">len</span><span class="op" id="2955596">(</span><span class="ident" id="2955597"><a href="/strings/strings.go.html#2955533">s</a></span><span class="op" id="2955598">)</span><span class="op" id="2955599">-</span><span class="builtinfunc" id="2955600">len</span><span class="op" id="2955603">(</span><span class="ident" id="2955604"><a href="/strings/strings.go.html#2955536">suffix</a></span><span class="op" id="2955610">)</span><span class="op" id="2955611">:</span><span class="op" id="2955612">]</span>&nbsp;<span class="op" id="2955614">==</span>&nbsp;<span class="ident" id="2955617"><a href="/strings/strings.go.html#2955536">suffix</a></span><br>
<span class="lineno"></span><span class="op" id="2955624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2955627">//&nbsp;Map&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;its&nbsp;characters&nbsp;modified</span><br>
<span class="lineno"></span><span class="comment" id="2955698">//&nbsp;according&nbsp;to&nbsp;the&nbsp;mapping&nbsp;function.&nbsp;If&nbsp;mapping&nbsp;returns&nbsp;a&nbsp;negative&nbsp;value,&nbsp;the&nbsp;character&nbsp;is</span><br>
<span class="lineno">415</span><span class="comment" id="2955790">//&nbsp;dropped&nbsp;from&nbsp;the&nbsp;string&nbsp;with&nbsp;no&nbsp;replacement.</span><br>
<span class="lineno"></span><span class="keyword" id="2955838">func</span>&nbsp;<span class="ident" id="2955843">Map</span><span class="op" id="2955846">(</span><span class="ident" id="2955847">mapping</span>&nbsp;<span class="keyword" id="2955855">func</span><span class="op" id="2955859">(</span><span class="builtintype" id="2955860">rune</span><span class="op" id="2955864">)</span>&nbsp;<span class="builtintype" id="2955866">rune</span><span class="op" id="2955870">,</span>&nbsp;<span class="ident" id="2955872">s</span>&nbsp;<span class="builtintype" id="2955874">string</span><span class="op" id="2955880">)</span>&nbsp;<span class="builtintype" id="2955882">string</span>&nbsp;<span class="op" id="2955889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2955892">//&nbsp;In&nbsp;the&nbsp;worst&nbsp;case,&nbsp;the&nbsp;string&nbsp;can&nbsp;grow&nbsp;when&nbsp;mapped,&nbsp;making</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2955955">//&nbsp;things&nbsp;unpleasant.&nbsp;&nbsp;But&nbsp;it&#39;s&nbsp;so&nbsp;rare&nbsp;we&nbsp;barge&nbsp;in&nbsp;assuming&nbsp;it&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2956022">//&nbsp;fine.&nbsp;&nbsp;It&nbsp;could&nbsp;also&nbsp;shrink&nbsp;but&nbsp;that&nbsp;falls&nbsp;out&nbsp;naturally.</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956084">maxbytes</span>&nbsp;<span class="op" id="2956093">:=</span>&nbsp;<span class="builtinfunc" id="2956096">len</span><span class="op" id="2956099">(</span><span class="ident" id="2956100"><a href="/strings/strings.go.html#2955872">s</a></span><span class="op" id="2956101">)</span>&nbsp;<span class="comment" id="2956103">//&nbsp;length&nbsp;of&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956119">nbytes</span>&nbsp;<span class="op" id="2956126">:=</span>&nbsp;<span class="num" id="2956129">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2956138">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;encoded&nbsp;in&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2956171">//&nbsp;The&nbsp;output&nbsp;buffer&nbsp;b&nbsp;is&nbsp;initialized&nbsp;on&nbsp;demand,&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2956231">//&nbsp;time&nbsp;a&nbsp;character&nbsp;differs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956261">var</span>&nbsp;<span class="ident" id="2956265">b</span>&nbsp;<span class="op" id="2956267">[</span><span class="op" id="2956268">]</span><span class="builtintype" id="2956269">byte</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956276">for</span>&nbsp;<span class="ident" id="2956280">i</span><span class="op" id="2956281">,</span>&nbsp;<span class="ident" id="2956283">c</span>&nbsp;<span class="op" id="2956285">:=</span>&nbsp;<span class="keyword" id="2956288">range</span>&nbsp;<span class="ident" id="2956294"><a href="/strings/strings.go.html#2955872">s</a></span>&nbsp;<span class="op" id="2956296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956300">r</span>&nbsp;<span class="op" id="2956302">:=</span>&nbsp;<span class="ident" id="2956305"><a href="/strings/strings.go.html#2955847">mapping</a></span><span class="op" id="2956312">(</span><span class="ident" id="2956313"><a href="/strings/strings.go.html#2956283">c</a></span><span class="op" id="2956314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956318">if</span>&nbsp;<span class="ident" id="2956321"><a href="/strings/strings.go.html#2956265">b</a></span>&nbsp;<span class="op" id="2956323">==</span>&nbsp;<span class="ident" id="2956326">nil</span>&nbsp;<span class="op" id="2956330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956335">if</span>&nbsp;<span class="ident" id="2956338"><a href="/strings/strings.go.html#2956300">r</a></span>&nbsp;<span class="op" id="2956340">==</span>&nbsp;<span class="ident" id="2956343"><a href="/strings/strings.go.html#2956283">c</a></span>&nbsp;<span class="op" id="2956345">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956351">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956368"><a href="/strings/strings.go.html#2956265">b</a></span>&nbsp;<span class="op" id="2956370">=</span>&nbsp;<span class="builtinfunc" id="2956372">make</span><span class="op" id="2956376">(</span><span class="op" id="2956377">[</span><span class="op" id="2956378">]</span><span class="builtintype" id="2956379">byte</span><span class="op" id="2956383">,</span>&nbsp;<span class="ident" id="2956385"><a href="/strings/strings.go.html#2956084">maxbytes</a></span><span class="op" id="2956393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956398"><a href="/strings/strings.go.html#2956119">nbytes</a></span>&nbsp;<span class="op" id="2956405">=</span>&nbsp;<span class="builtinfunc" id="2956407">copy</span><span class="op" id="2956411">(</span><span class="ident" id="2956412"><a href="/strings/strings.go.html#2956265">b</a></span><span class="op" id="2956413">,</span>&nbsp;<span class="ident" id="2956415"><a href="/strings/strings.go.html#2955872">s</a></span><span class="op" id="2956416">[</span><span class="op" id="2956417">:</span><span class="ident" id="2956418"><a href="/strings/strings.go.html#2956280">i</a></span><span class="op" id="2956419">]</span><span class="op" id="2956420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956424">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956428">if</span>&nbsp;<span class="ident" id="2956431"><a href="/strings/strings.go.html#2956300">r</a></span>&nbsp;<span class="op" id="2956433">&gt;=</span>&nbsp;<span class="num" id="2956436">0</span>&nbsp;<span class="op" id="2956438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956443">wid</span>&nbsp;<span class="op" id="2956447">:=</span>&nbsp;<span class="num" id="2956450">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956455">if</span>&nbsp;<span class="ident" id="2956458"><a href="/strings/strings.go.html#2956300">r</a></span>&nbsp;<span class="op" id="2956460">&gt;=</span>&nbsp;<span class="ident" id="2956463"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2956467">.</span><span class="ident" id="2956468">RuneSelf</span>&nbsp;<span class="op" id="2956477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956483"><a href="/strings/strings.go.html#2956443">wid</a></span>&nbsp;<span class="op" id="2956487">=</span>&nbsp;<span class="ident" id="2956489"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2956493">.</span><span class="ident" id="2956494">RuneLen</span><span class="op" id="2956501">(</span><span class="ident" id="2956502"><a href="/strings/strings.go.html#2956300">r</a></span><span class="op" id="2956503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956508">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956513">if</span>&nbsp;<span class="ident" id="2956516"><a href="/strings/strings.go.html#2956119">nbytes</a></span><span class="op" id="2956522">+</span><span class="ident" id="2956523"><a href="/strings/strings.go.html#2956443">wid</a></span>&nbsp;<span class="op" id="2956527">&gt;</span>&nbsp;<span class="ident" id="2956529"><a href="/strings/strings.go.html#2956084">maxbytes</a></span>&nbsp;<span class="op" id="2956538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2956544">//&nbsp;Grow&nbsp;the&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956568"><a href="/strings/strings.go.html#2956084">maxbytes</a></span>&nbsp;<span class="op" id="2956577">=</span>&nbsp;<span class="ident" id="2956579"><a href="/strings/strings.go.html#2956084">maxbytes</a></span><span class="op" id="2956587">*</span><span class="num" id="2956588">2</span>&nbsp;<span class="op" id="2956590">+</span>&nbsp;<span class="ident" id="2956592"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2956596">.</span><span class="ident" id="2956597">UTFMax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956608">nb</span>&nbsp;<span class="op" id="2956611">:=</span>&nbsp;<span class="builtinfunc" id="2956614">make</span><span class="op" id="2956618">(</span><span class="op" id="2956619">[</span><span class="op" id="2956620">]</span><span class="builtintype" id="2956621">byte</span><span class="op" id="2956625">,</span>&nbsp;<span class="ident" id="2956627"><a href="/strings/strings.go.html#2956084">maxbytes</a></span><span class="op" id="2956635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2956641">copy</span><span class="op" id="2956645">(</span><span class="ident" id="2956646"><a href="/strings/strings.go.html#2956608">nb</a></span><span class="op" id="2956648">,</span>&nbsp;<span class="ident" id="2956650"><a href="/strings/strings.go.html#2956265">b</a></span><span class="op" id="2956651">[</span><span class="num" id="2956652">0</span><span class="op" id="2956653">:</span><span class="ident" id="2956654"><a href="/strings/strings.go.html#2956119">nbytes</a></span><span class="op" id="2956660">]</span><span class="op" id="2956661">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956667"><a href="/strings/strings.go.html#2956265">b</a></span>&nbsp;<span class="op" id="2956669">=</span>&nbsp;<span class="ident" id="2956671"><a href="/strings/strings.go.html#2956608">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956682"><a href="/strings/strings.go.html#2956119">nbytes</a></span>&nbsp;<span class="op" id="2956689">+=</span>&nbsp;<span class="ident" id="2956692"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2956696">.</span><span class="ident" id="2956697">EncodeRune</span><span class="op" id="2956707">(</span><span class="ident" id="2956708"><a href="/strings/strings.go.html#2956265">b</a></span><span class="op" id="2956709">[</span><span class="ident" id="2956710"><a href="/strings/strings.go.html#2956119">nbytes</a></span><span class="op" id="2956716">:</span><span class="ident" id="2956717"><a href="/strings/strings.go.html#2956084">maxbytes</a></span><span class="op" id="2956725">]</span><span class="op" id="2956726">,</span>&nbsp;<span class="ident" id="2956728"><a href="/strings/strings.go.html#2956300">r</a></span><span class="op" id="2956729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956736">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956739">if</span>&nbsp;<span class="ident" id="2956742"><a href="/strings/strings.go.html#2956265">b</a></span>&nbsp;<span class="op" id="2956744">==</span>&nbsp;<span class="ident" id="2956747">nil</span>&nbsp;<span class="op" id="2956751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956755">return</span>&nbsp;<span class="ident" id="2956762"><a href="/strings/strings.go.html#2955872">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2956765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956768">return</span>&nbsp;<span class="builtintype" id="2956775">string</span><span class="op" id="2956781">(</span><span class="ident" id="2956782"><a href="/strings/strings.go.html#2956265">b</a></span><span class="op" id="2956783">[</span><span class="num" id="2956784">0</span><span class="op" id="2956785">:</span><span class="ident" id="2956786"><a href="/strings/strings.go.html#2956119">nbytes</a></span><span class="op" id="2956792">]</span><span class="op" id="2956793">)</span><br>
<span class="lineno"></span><span class="op" id="2956795">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span><span class="comment" id="2956798">//&nbsp;Repeat&nbsp;returns&nbsp;a&nbsp;new&nbsp;string&nbsp;consisting&nbsp;of&nbsp;count&nbsp;copies&nbsp;of&nbsp;the&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2956873">func</span>&nbsp;<span class="ident" id="2956878">Repeat</span><span class="op" id="2956884">(</span><span class="ident" id="2956885">s</span>&nbsp;<span class="builtintype" id="2956887">string</span><span class="op" id="2956893">,</span>&nbsp;<span class="ident" id="2956895">count</span>&nbsp;<span class="builtintype" id="2956901">int</span><span class="op" id="2956904">)</span>&nbsp;<span class="builtintype" id="2956906">string</span>&nbsp;<span class="op" id="2956913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956916">b</span>&nbsp;<span class="op" id="2956918">:=</span>&nbsp;<span class="builtinfunc" id="2956921">make</span><span class="op" id="2956925">(</span><span class="op" id="2956926">[</span><span class="op" id="2956927">]</span><span class="builtintype" id="2956928">byte</span><span class="op" id="2956932">,</span>&nbsp;<span class="builtinfunc" id="2956934">len</span><span class="op" id="2956937">(</span><span class="ident" id="2956938"><a href="/strings/strings.go.html#2956885">s</a></span><span class="op" id="2956939">)</span><span class="op" id="2956940">*</span><span class="ident" id="2956941"><a href="/strings/strings.go.html#2956895">count</a></span><span class="op" id="2956946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2956949">bp</span>&nbsp;<span class="op" id="2956952">:=</span>&nbsp;<span class="builtinfunc" id="2956955">copy</span><span class="op" id="2956959">(</span><span class="ident" id="2956960"><a href="/strings/strings.go.html#2956916">b</a></span><span class="op" id="2956961">,</span>&nbsp;<span class="ident" id="2956963"><a href="/strings/strings.go.html#2956885">s</a></span><span class="op" id="2956964">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2956967">for</span>&nbsp;<span class="ident" id="2956971"><a href="/strings/strings.go.html#2956949">bp</a></span>&nbsp;<span class="op" id="2956974">&lt;</span>&nbsp;<span class="builtinfunc" id="2956976">len</span><span class="op" id="2956979">(</span><span class="ident" id="2956980"><a href="/strings/strings.go.html#2956916">b</a></span><span class="op" id="2956981">)</span>&nbsp;<span class="op" id="2956983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2956987">copy</span><span class="op" id="2956991">(</span><span class="ident" id="2956992"><a href="/strings/strings.go.html#2956916">b</a></span><span class="op" id="2956993">[</span><span class="ident" id="2956994"><a href="/strings/strings.go.html#2956949">bp</a></span><span class="op" id="2956996">:</span><span class="op" id="2956997">]</span><span class="op" id="2956998">,</span>&nbsp;<span class="ident" id="2957000"><a href="/strings/strings.go.html#2956916">b</a></span><span class="op" id="2957001">[</span><span class="op" id="2957002">:</span><span class="ident" id="2957003"><a href="/strings/strings.go.html#2956949">bp</a></span><span class="op" id="2957005">]</span><span class="op" id="2957006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2957010"><a href="/strings/strings.go.html#2956949">bp</a></span>&nbsp;<span class="op" id="2957013">*=</span>&nbsp;<span class="num" id="2957016">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2957019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2957022">return</span>&nbsp;<span class="builtintype" id="2957029">string</span><span class="op" id="2957035">(</span><span class="ident" id="2957036"><a href="/strings/strings.go.html#2956916">b</a></span><span class="op" id="2957037">)</span><br>
<span class="lineno">465</span><span class="op" id="2957039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2957042">//&nbsp;ToUpper&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;upper&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2957137">func</span>&nbsp;<span class="ident" id="2957142">ToUpper</span><span class="op" id="2957149">(</span><span class="ident" id="2957150">s</span>&nbsp;<span class="builtintype" id="2957152">string</span><span class="op" id="2957158">)</span>&nbsp;<span class="builtintype" id="2957160">string</span>&nbsp;<span class="op" id="2957167">{</span>&nbsp;<span class="keyword" id="2957169">return</span>&nbsp;<span class="ident" id="2957176"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2957179">(</span><span class="ident" id="2957180"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2957187">.</span><span class="ident" id="2957188">ToUpper</span><span class="op" id="2957195">,</span>&nbsp;<span class="ident" id="2957197"><a href="/strings/strings.go.html#2957150">s</a></span><span class="op" id="2957198">)</span>&nbsp;<span class="op" id="2957200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span><span class="comment" id="2957203">//&nbsp;ToLower&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2957298">func</span>&nbsp;<span class="ident" id="2957303">ToLower</span><span class="op" id="2957310">(</span><span class="ident" id="2957311">s</span>&nbsp;<span class="builtintype" id="2957313">string</span><span class="op" id="2957319">)</span>&nbsp;<span class="builtintype" id="2957321">string</span>&nbsp;<span class="op" id="2957328">{</span>&nbsp;<span class="keyword" id="2957330">return</span>&nbsp;<span class="ident" id="2957337"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2957340">(</span><span class="ident" id="2957341"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2957348">.</span><span class="ident" id="2957349">ToLower</span><span class="op" id="2957356">,</span>&nbsp;<span class="ident" id="2957358"><a href="/strings/strings.go.html#2957311">s</a></span><span class="op" id="2957359">)</span>&nbsp;<span class="op" id="2957361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2957364">//&nbsp;ToTitle&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2957459">func</span>&nbsp;<span class="ident" id="2957464">ToTitle</span><span class="op" id="2957471">(</span><span class="ident" id="2957472">s</span>&nbsp;<span class="builtintype" id="2957474">string</span><span class="op" id="2957480">)</span>&nbsp;<span class="builtintype" id="2957482">string</span>&nbsp;<span class="op" id="2957489">{</span>&nbsp;<span class="keyword" id="2957491">return</span>&nbsp;<span class="ident" id="2957498"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2957501">(</span><span class="ident" id="2957502"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2957509">.</span><span class="ident" id="2957510">ToTitle</span><span class="op" id="2957517">,</span>&nbsp;<span class="ident" id="2957519"><a href="/strings/strings.go.html#2957472">s</a></span><span class="op" id="2957520">)</span>&nbsp;<span class="op" id="2957522">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span><span class="comment" id="2957525">//&nbsp;ToUpperSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2957615">//&nbsp;upper&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="2957675">func</span>&nbsp;<span class="ident" id="2957680">ToUpperSpecial</span><span class="op" id="2957694">(</span><span class="ident" id="2957695">_case</span>&nbsp;<span class="ident" id="2957701"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2957708">.</span><span class="ident" id="2957709">SpecialCase</span><span class="op" id="2957720">,</span>&nbsp;<span class="ident" id="2957722">s</span>&nbsp;<span class="builtintype" id="2957724">string</span><span class="op" id="2957730">)</span>&nbsp;<span class="builtintype" id="2957732">string</span>&nbsp;<span class="op" id="2957739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2957742">return</span>&nbsp;<span class="ident" id="2957749"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2957752">(</span><span class="keyword" id="2957753">func</span><span class="op" id="2957757">(</span><span class="ident" id="2957758">r</span>&nbsp;<span class="builtintype" id="2957760">rune</span><span class="op" id="2957764">)</span>&nbsp;<span class="builtintype" id="2957766">rune</span>&nbsp;<span class="op" id="2957771">{</span>&nbsp;<span class="keyword" id="2957773">return</span>&nbsp;<span class="ident" id="2957780"><a href="/strings/strings.go.html#2957695">_case</a></span><span class="op" id="2957785">.</span><span class="ident" id="2957786">ToUpper</span><span class="op" id="2957793">(</span><span class="ident" id="2957794"><a href="/strings/strings.go.html#2957758">r</a></span><span class="op" id="2957795">)</span>&nbsp;<span class="op" id="2957797">}</span><span class="op" id="2957798">,</span>&nbsp;<span class="ident" id="2957800"><a href="/strings/strings.go.html#2957722">s</a></span><span class="op" id="2957801">)</span><br>
<span class="lineno">480</span><span class="op" id="2957803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2957806">//&nbsp;ToLowerSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2957896">//&nbsp;lower&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="2957956">func</span>&nbsp;<span class="ident" id="2957961">ToLowerSpecial</span><span class="op" id="2957975">(</span><span class="ident" id="2957976">_case</span>&nbsp;<span class="ident" id="2957982"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2957989">.</span><span class="ident" id="2957990">SpecialCase</span><span class="op" id="2958001">,</span>&nbsp;<span class="ident" id="2958003">s</span>&nbsp;<span class="builtintype" id="2958005">string</span><span class="op" id="2958011">)</span>&nbsp;<span class="builtintype" id="2958013">string</span>&nbsp;<span class="op" id="2958020">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958023">return</span>&nbsp;<span class="ident" id="2958030"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2958033">(</span><span class="keyword" id="2958034">func</span><span class="op" id="2958038">(</span><span class="ident" id="2958039">r</span>&nbsp;<span class="builtintype" id="2958041">rune</span><span class="op" id="2958045">)</span>&nbsp;<span class="builtintype" id="2958047">rune</span>&nbsp;<span class="op" id="2958052">{</span>&nbsp;<span class="keyword" id="2958054">return</span>&nbsp;<span class="ident" id="2958061"><a href="/strings/strings.go.html#2957976">_case</a></span><span class="op" id="2958066">.</span><span class="ident" id="2958067">ToLower</span><span class="op" id="2958074">(</span><span class="ident" id="2958075"><a href="/strings/strings.go.html#2958039">r</a></span><span class="op" id="2958076">)</span>&nbsp;<span class="op" id="2958078">}</span><span class="op" id="2958079">,</span>&nbsp;<span class="ident" id="2958081"><a href="/strings/strings.go.html#2958003">s</a></span><span class="op" id="2958082">)</span><br>
<span class="lineno"></span><span class="op" id="2958084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2958087">//&nbsp;ToTitleSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2958177">//&nbsp;title&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno">490</span><span class="keyword" id="2958237">func</span>&nbsp;<span class="ident" id="2958242">ToTitleSpecial</span><span class="op" id="2958256">(</span><span class="ident" id="2958257">_case</span>&nbsp;<span class="ident" id="2958263"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2958270">.</span><span class="ident" id="2958271">SpecialCase</span><span class="op" id="2958282">,</span>&nbsp;<span class="ident" id="2958284">s</span>&nbsp;<span class="builtintype" id="2958286">string</span><span class="op" id="2958292">)</span>&nbsp;<span class="builtintype" id="2958294">string</span>&nbsp;<span class="op" id="2958301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958304">return</span>&nbsp;<span class="ident" id="2958311"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2958314">(</span><span class="keyword" id="2958315">func</span><span class="op" id="2958319">(</span><span class="ident" id="2958320">r</span>&nbsp;<span class="builtintype" id="2958322">rune</span><span class="op" id="2958326">)</span>&nbsp;<span class="builtintype" id="2958328">rune</span>&nbsp;<span class="op" id="2958333">{</span>&nbsp;<span class="keyword" id="2958335">return</span>&nbsp;<span class="ident" id="2958342"><a href="/strings/strings.go.html#2958257">_case</a></span><span class="op" id="2958347">.</span><span class="ident" id="2958348">ToTitle</span><span class="op" id="2958355">(</span><span class="ident" id="2958356"><a href="/strings/strings.go.html#2958320">r</a></span><span class="op" id="2958357">)</span>&nbsp;<span class="op" id="2958359">}</span><span class="op" id="2958360">,</span>&nbsp;<span class="ident" id="2958362"><a href="/strings/strings.go.html#2958284">s</a></span><span class="op" id="2958363">)</span><br>
<span class="lineno"></span><span class="op" id="2958365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2958368">//&nbsp;isSeparator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;rune&nbsp;could&nbsp;mark&nbsp;a&nbsp;word&nbsp;boundary.</span><br>
<span class="lineno">495</span><span class="comment" id="2958436">//&nbsp;TODO:&nbsp;update&nbsp;when&nbsp;package&nbsp;unicode&nbsp;captures&nbsp;more&nbsp;of&nbsp;the&nbsp;properties.</span><br>
<span class="lineno"></span><span class="keyword" id="2958506">func</span>&nbsp;<span class="ident" id="2958511">isSeparator</span><span class="op" id="2958522">(</span><span class="ident" id="2958523">r</span>&nbsp;<span class="builtintype" id="2958525">rune</span><span class="op" id="2958529">)</span>&nbsp;<span class="builtintype" id="2958531">bool</span>&nbsp;<span class="op" id="2958536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2958539">//&nbsp;ASCII&nbsp;alphanumerics&nbsp;and&nbsp;underscore&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958597">if</span>&nbsp;<span class="ident" id="2958600"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958602">&lt;=</span>&nbsp;<span class="num" id="2958605">0x7F</span>&nbsp;<span class="op" id="2958610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958614">switch</span>&nbsp;<span class="op" id="2958621">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958625">case</span>&nbsp;<span class="string" id="2958630">&#39;0&#39;</span>&nbsp;<span class="op" id="2958634">&lt;=</span>&nbsp;<span class="ident" id="2958637"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958639">&amp;&amp;</span>&nbsp;<span class="ident" id="2958642"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958644">&lt;=</span>&nbsp;<span class="string" id="2958647">&#39;9&#39;</span><span class="op" id="2958650">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958655">return</span>&nbsp;<span class="ident" id="2958662">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958670">case</span>&nbsp;<span class="string" id="2958675">&#39;a&#39;</span>&nbsp;<span class="op" id="2958679">&lt;=</span>&nbsp;<span class="ident" id="2958682"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958684">&amp;&amp;</span>&nbsp;<span class="ident" id="2958687"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958689">&lt;=</span>&nbsp;<span class="string" id="2958692">&#39;z&#39;</span><span class="op" id="2958695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958700">return</span>&nbsp;<span class="ident" id="2958707">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958715">case</span>&nbsp;<span class="string" id="2958720">&#39;A&#39;</span>&nbsp;<span class="op" id="2958724">&lt;=</span>&nbsp;<span class="ident" id="2958727"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958729">&amp;&amp;</span>&nbsp;<span class="ident" id="2958732"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958734">&lt;=</span>&nbsp;<span class="string" id="2958737">&#39;Z&#39;</span><span class="op" id="2958740">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958745">return</span>&nbsp;<span class="ident" id="2958752">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958760">case</span>&nbsp;<span class="ident" id="2958765"><a href="/strings/strings.go.html#2958523">r</a></span>&nbsp;<span class="op" id="2958767">==</span>&nbsp;<span class="string" id="2958770">&#39;_&#39;</span><span class="op" id="2958773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958778">return</span>&nbsp;<span class="ident" id="2958785">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2958793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958797">return</span>&nbsp;<span class="ident" id="2958804">true</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2958810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2958813">//&nbsp;Letters&nbsp;and&nbsp;digits&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958855">if</span>&nbsp;<span class="ident" id="2958858"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2958865">.</span><span class="ident" id="2958866">IsLetter</span><span class="op" id="2958874">(</span><span class="ident" id="2958875"><a href="/strings/strings.go.html#2958523">r</a></span><span class="op" id="2958876">)</span>&nbsp;<span class="op" id="2958878">||</span>&nbsp;<span class="ident" id="2958881"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2958888">.</span><span class="ident" id="2958889">IsDigit</span><span class="op" id="2958896">(</span><span class="ident" id="2958897"><a href="/strings/strings.go.html#2958523">r</a></span><span class="op" id="2958898">)</span>&nbsp;<span class="op" id="2958900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958904">return</span>&nbsp;<span class="ident" id="2958911">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2958918">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2958921">//&nbsp;Otherwise,&nbsp;all&nbsp;we&nbsp;can&nbsp;do&nbsp;for&nbsp;now&nbsp;is&nbsp;treat&nbsp;spaces&nbsp;as&nbsp;separators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2958989">return</span>&nbsp;<span class="ident" id="2958996"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2959003">.</span><span class="ident" id="2959004">IsSpace</span><span class="op" id="2959011">(</span><span class="ident" id="2959012"><a href="/strings/strings.go.html#2958523">r</a></span><span class="op" id="2959013">)</span><br>
<span class="lineno"></span><span class="op" id="2959015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2959018">//&nbsp;Title&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;that&nbsp;begin&nbsp;words</span><br>
<span class="lineno">520</span><span class="comment" id="2959100">//&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="comment" id="2959131">//</span><br>
<span class="lineno"></span><span class="comment" id="2959134">//&nbsp;BUG:&nbsp;The&nbsp;rule&nbsp;Title&nbsp;uses&nbsp;for&nbsp;word&nbsp;boundaries&nbsp;does&nbsp;not&nbsp;handle&nbsp;Unicode&nbsp;punctuation&nbsp;properly.</span><br>
<span class="lineno"></span><span class="keyword" id="2959228">func</span>&nbsp;<span class="ident" id="2959233">Title</span><span class="op" id="2959238">(</span><span class="ident" id="2959239">s</span>&nbsp;<span class="builtintype" id="2959241">string</span><span class="op" id="2959247">)</span>&nbsp;<span class="builtintype" id="2959249">string</span>&nbsp;<span class="op" id="2959256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2959259">//&nbsp;Use&nbsp;a&nbsp;closure&nbsp;here&nbsp;to&nbsp;remember&nbsp;state.</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2959301">//&nbsp;Hackish&nbsp;but&nbsp;effective.&nbsp;Depends&nbsp;on&nbsp;Map&nbsp;scanning&nbsp;in&nbsp;order&nbsp;and&nbsp;calling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2959373">//&nbsp;the&nbsp;closure&nbsp;once&nbsp;per&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959404">prev</span>&nbsp;<span class="op" id="2959409">:=</span>&nbsp;<span class="string" id="2959412">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959417">return</span>&nbsp;<span class="ident" id="2959424"><a href="/strings/strings.go.html#2955843">Map</a></span><span class="op" id="2959427">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959431">func</span><span class="op" id="2959435">(</span><span class="ident" id="2959436">r</span>&nbsp;<span class="builtintype" id="2959438">rune</span><span class="op" id="2959442">)</span>&nbsp;<span class="builtintype" id="2959444">rune</span>&nbsp;<span class="op" id="2959449">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959454">if</span>&nbsp;<span class="ident" id="2959457"><a href="/strings/strings.go.html#2958511">isSeparator</a></span><span class="op" id="2959468">(</span><span class="ident" id="2959469"><a href="/strings/strings.go.html#2959404">prev</a></span><span class="op" id="2959473">)</span>&nbsp;<span class="op" id="2959475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959481"><a href="/strings/strings.go.html#2959404">prev</a></span>&nbsp;<span class="op" id="2959486">=</span>&nbsp;<span class="ident" id="2959488"><a href="/strings/strings.go.html#2959436">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959494">return</span>&nbsp;<span class="ident" id="2959501"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2959508">.</span><span class="ident" id="2959509">ToTitle</span><span class="op" id="2959516">(</span><span class="ident" id="2959517"><a href="/strings/strings.go.html#2959436">r</a></span><span class="op" id="2959518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959528"><a href="/strings/strings.go.html#2959404">prev</a></span>&nbsp;<span class="op" id="2959533">=</span>&nbsp;<span class="ident" id="2959535"><a href="/strings/strings.go.html#2959436">r</a></span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959540">return</span>&nbsp;<span class="ident" id="2959547"><a href="/strings/strings.go.html#2959436">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959551">}</span><span class="op" id="2959552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959556"><a href="/strings/strings.go.html#2959239">s</a></span><span class="op" id="2959557">)</span><br>
<span class="lineno"></span><span class="op" id="2959559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">540</span><span class="comment" id="2959562">//&nbsp;TrimLeftFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2959627">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2959677">func</span>&nbsp;<span class="ident" id="2959682">TrimLeftFunc</span><span class="op" id="2959694">(</span><span class="ident" id="2959695">s</span>&nbsp;<span class="builtintype" id="2959697">string</span><span class="op" id="2959703">,</span>&nbsp;<span class="ident" id="2959705">f</span>&nbsp;<span class="keyword" id="2959707">func</span><span class="op" id="2959711">(</span><span class="builtintype" id="2959712">rune</span><span class="op" id="2959716">)</span>&nbsp;<span class="builtintype" id="2959718">bool</span><span class="op" id="2959722">)</span>&nbsp;<span class="builtintype" id="2959724">string</span>&nbsp;<span class="op" id="2959731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959734">i</span>&nbsp;<span class="op" id="2959736">:=</span>&nbsp;<span class="ident" id="2959739"><a href="/strings/strings.go.html#2960888">indexFunc</a></span><span class="op" id="2959748">(</span><span class="ident" id="2959749"><a href="/strings/strings.go.html#2959695">s</a></span><span class="op" id="2959750">,</span>&nbsp;<span class="ident" id="2959752"><a href="/strings/strings.go.html#2959705">f</a></span><span class="op" id="2959753">,</span>&nbsp;<span class="ident" id="2959755">false</span><span class="op" id="2959760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959763">if</span>&nbsp;<span class="ident" id="2959766"><a href="/strings/strings.go.html#2959734">i</a></span>&nbsp;<span class="op" id="2959768">==</span>&nbsp;<span class="op" id="2959771">-</span><span class="num" id="2959772">1</span>&nbsp;<span class="op" id="2959774">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959778">return</span>&nbsp;<span class="string" id="2959785">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2959789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2959792">return</span>&nbsp;<span class="ident" id="2959799"><a href="/strings/strings.go.html#2959695">s</a></span><span class="op" id="2959800">[</span><span class="ident" id="2959801"><a href="/strings/strings.go.html#2959734">i</a></span><span class="op" id="2959802">:</span><span class="op" id="2959803">]</span><br>
<span class="lineno"></span><span class="op" id="2959805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="2959808">//&nbsp;TrimRightFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="2959875">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2959925">func</span>&nbsp;<span class="ident" id="2959930">TrimRightFunc</span><span class="op" id="2959943">(</span><span class="ident" id="2959944">s</span>&nbsp;<span class="builtintype" id="2959946">string</span><span class="op" id="2959952">,</span>&nbsp;<span class="ident" id="2959954">f</span>&nbsp;<span class="keyword" id="2959956">func</span><span class="op" id="2959960">(</span><span class="builtintype" id="2959961">rune</span><span class="op" id="2959965">)</span>&nbsp;<span class="builtintype" id="2959967">bool</span><span class="op" id="2959971">)</span>&nbsp;<span class="builtintype" id="2959973">string</span>&nbsp;<span class="op" id="2959980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2959983">i</span>&nbsp;<span class="op" id="2959985">:=</span>&nbsp;<span class="ident" id="2959988"><a href="/strings/strings.go.html#2961297">lastIndexFunc</a></span><span class="op" id="2960001">(</span><span class="ident" id="2960002"><a href="/strings/strings.go.html#2959944">s</a></span><span class="op" id="2960003">,</span>&nbsp;<span class="ident" id="2960005"><a href="/strings/strings.go.html#2959954">f</a></span><span class="op" id="2960006">,</span>&nbsp;<span class="ident" id="2960008">false</span><span class="op" id="2960013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960016">if</span>&nbsp;<span class="ident" id="2960019"><a href="/strings/strings.go.html#2959983">i</a></span>&nbsp;<span class="op" id="2960021">&gt;=</span>&nbsp;<span class="num" id="2960024">0</span>&nbsp;<span class="op" id="2960026">&amp;&amp;</span>&nbsp;<span class="ident" id="2960029"><a href="/strings/strings.go.html#2959944">s</a></span><span class="op" id="2960030">[</span><span class="ident" id="2960031"><a href="/strings/strings.go.html#2959983">i</a></span><span class="op" id="2960032">]</span>&nbsp;<span class="op" id="2960034">&gt;=</span>&nbsp;<span class="ident" id="2960037"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2960041">.</span><span class="ident" id="2960042">RuneSelf</span>&nbsp;<span class="op" id="2960051">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960055">_</span><span class="op" id="2960056">,</span>&nbsp;<span class="ident" id="2960058">wid</span>&nbsp;<span class="op" id="2960062">:=</span>&nbsp;<span class="ident" id="2960065"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2960069">.</span><span class="ident" id="2960070">DecodeRuneInString</span><span class="op" id="2960088">(</span><span class="ident" id="2960089"><a href="/strings/strings.go.html#2959944">s</a></span><span class="op" id="2960090">[</span><span class="ident" id="2960091"><a href="/strings/strings.go.html#2959983">i</a></span><span class="op" id="2960092">:</span><span class="op" id="2960093">]</span><span class="op" id="2960094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960098"><a href="/strings/strings.go.html#2959983">i</a></span>&nbsp;<span class="op" id="2960100">+=</span>&nbsp;<span class="ident" id="2960103"><a href="/strings/strings.go.html#2960058">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960108">}</span>&nbsp;<span class="keyword" id="2960110">else</span>&nbsp;<span class="op" id="2960115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960119"><a href="/strings/strings.go.html#2959983">i</a></span><span class="op" id="2960120">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2960124">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960127">return</span>&nbsp;<span class="ident" id="2960134"><a href="/strings/strings.go.html#2959944">s</a></span><span class="op" id="2960135">[</span><span class="num" id="2960136">0</span><span class="op" id="2960137">:</span><span class="ident" id="2960138"><a href="/strings/strings.go.html#2959983">i</a></span><span class="op" id="2960139">]</span><br>
<span class="lineno"></span><span class="op" id="2960141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2960144">//&nbsp;TrimFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2960205">//&nbsp;and&nbsp;trailing&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno">565</span><span class="keyword" id="2960268">func</span>&nbsp;<span class="ident" id="2960273">TrimFunc</span><span class="op" id="2960281">(</span><span class="ident" id="2960282">s</span>&nbsp;<span class="builtintype" id="2960284">string</span><span class="op" id="2960290">,</span>&nbsp;<span class="ident" id="2960292">f</span>&nbsp;<span class="keyword" id="2960294">func</span><span class="op" id="2960298">(</span><span class="builtintype" id="2960299">rune</span><span class="op" id="2960303">)</span>&nbsp;<span class="builtintype" id="2960305">bool</span><span class="op" id="2960309">)</span>&nbsp;<span class="builtintype" id="2960311">string</span>&nbsp;<span class="op" id="2960318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960321">return</span>&nbsp;<span class="ident" id="2960328"><a href="/strings/strings.go.html#2959930">TrimRightFunc</a></span><span class="op" id="2960341">(</span><span class="ident" id="2960342"><a href="/strings/strings.go.html#2959682">TrimLeftFunc</a></span><span class="op" id="2960354">(</span><span class="ident" id="2960355"><a href="/strings/strings.go.html#2960282">s</a></span><span class="op" id="2960356">,</span>&nbsp;<span class="ident" id="2960358"><a href="/strings/strings.go.html#2960292">f</a></span><span class="op" id="2960359">)</span><span class="op" id="2960360">,</span>&nbsp;<span class="ident" id="2960362"><a href="/strings/strings.go.html#2960292">f</a></span><span class="op" id="2960363">)</span><br>
<span class="lineno"></span><span class="op" id="2960365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2960368">//&nbsp;IndexFunc&nbsp;returns&nbsp;the&nbsp;index&nbsp;into&nbsp;s&nbsp;of&nbsp;the&nbsp;first&nbsp;Unicode</span><br>
<span class="lineno">570</span><span class="comment" id="2960427">//&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="2960476">func</span>&nbsp;<span class="ident" id="2960481">IndexFunc</span><span class="op" id="2960490">(</span><span class="ident" id="2960491">s</span>&nbsp;<span class="builtintype" id="2960493">string</span><span class="op" id="2960499">,</span>&nbsp;<span class="ident" id="2960501">f</span>&nbsp;<span class="keyword" id="2960503">func</span><span class="op" id="2960507">(</span><span class="builtintype" id="2960508">rune</span><span class="op" id="2960512">)</span>&nbsp;<span class="builtintype" id="2960514">bool</span><span class="op" id="2960518">)</span>&nbsp;<span class="builtintype" id="2960520">int</span>&nbsp;<span class="op" id="2960524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960527">return</span>&nbsp;<span class="ident" id="2960534"><a href="/strings/strings.go.html#2960888">indexFunc</a></span><span class="op" id="2960543">(</span><span class="ident" id="2960544"><a href="/strings/strings.go.html#2960491">s</a></span><span class="op" id="2960545">,</span>&nbsp;<span class="ident" id="2960547"><a href="/strings/strings.go.html#2960501">f</a></span><span class="op" id="2960548">,</span>&nbsp;<span class="ident" id="2960550">true</span><span class="op" id="2960554">)</span><br>
<span class="lineno"></span><span class="op" id="2960556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="comment" id="2960559">//&nbsp;LastIndexFunc&nbsp;returns&nbsp;the&nbsp;index&nbsp;into&nbsp;s&nbsp;of&nbsp;the&nbsp;last</span><br>
<span class="lineno"></span><span class="comment" id="2960613">//&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="2960670">func</span>&nbsp;<span class="ident" id="2960675">LastIndexFunc</span><span class="op" id="2960688">(</span><span class="ident" id="2960689">s</span>&nbsp;<span class="builtintype" id="2960691">string</span><span class="op" id="2960697">,</span>&nbsp;<span class="ident" id="2960699">f</span>&nbsp;<span class="keyword" id="2960701">func</span><span class="op" id="2960705">(</span><span class="builtintype" id="2960706">rune</span><span class="op" id="2960710">)</span>&nbsp;<span class="builtintype" id="2960712">bool</span><span class="op" id="2960716">)</span>&nbsp;<span class="builtintype" id="2960718">int</span>&nbsp;<span class="op" id="2960722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960725">return</span>&nbsp;<span class="ident" id="2960732"><a href="/strings/strings.go.html#2961297">lastIndexFunc</a></span><span class="op" id="2960745">(</span><span class="ident" id="2960746"><a href="/strings/strings.go.html#2960689">s</a></span><span class="op" id="2960747">,</span>&nbsp;<span class="ident" id="2960749"><a href="/strings/strings.go.html#2960699">f</a></span><span class="op" id="2960750">,</span>&nbsp;<span class="ident" id="2960752">true</span><span class="op" id="2960756">)</span><br>
<span class="lineno"></span><span class="op" id="2960758">}</span><br>
<span class="lineno">580</span><br>
<span class="lineno"></span><span class="comment" id="2960761">//&nbsp;indexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;IndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2960814">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2960870">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="2960883">func</span>&nbsp;<span class="ident" id="2960888">indexFunc</span><span class="op" id="2960897">(</span><span class="ident" id="2960898">s</span>&nbsp;<span class="builtintype" id="2960900">string</span><span class="op" id="2960906">,</span>&nbsp;<span class="ident" id="2960908">f</span>&nbsp;<span class="keyword" id="2960910">func</span><span class="op" id="2960914">(</span><span class="builtintype" id="2960915">rune</span><span class="op" id="2960919">)</span>&nbsp;<span class="builtintype" id="2960921">bool</span><span class="op" id="2960925">,</span>&nbsp;<span class="ident" id="2960927">truth</span>&nbsp;<span class="builtintype" id="2960933">bool</span><span class="op" id="2960937">)</span>&nbsp;<span class="builtintype" id="2960939">int</span>&nbsp;<span class="op" id="2960943">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960946">start</span>&nbsp;<span class="op" id="2960952">:=</span>&nbsp;<span class="num" id="2960955">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2960958">for</span>&nbsp;<span class="ident" id="2960962"><a href="/strings/strings.go.html#2960946">start</a></span>&nbsp;<span class="op" id="2960968">&lt;</span>&nbsp;<span class="builtinfunc" id="2960970">len</span><span class="op" id="2960973">(</span><span class="ident" id="2960974"><a href="/strings/strings.go.html#2960898">s</a></span><span class="op" id="2960975">)</span>&nbsp;<span class="op" id="2960977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960981">wid</span>&nbsp;<span class="op" id="2960985">:=</span>&nbsp;<span class="num" id="2960988">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2960992">r</span>&nbsp;<span class="op" id="2960994">:=</span>&nbsp;<span class="builtintype" id="2960997">rune</span><span class="op" id="2961001">(</span><span class="ident" id="2961002"><a href="/strings/strings.go.html#2960898">s</a></span><span class="op" id="2961003">[</span><span class="ident" id="2961004"><a href="/strings/strings.go.html#2960946">start</a></span><span class="op" id="2961009">]</span><span class="op" id="2961010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961014">if</span>&nbsp;<span class="ident" id="2961017"><a href="/strings/strings.go.html#2960992">r</a></span>&nbsp;<span class="op" id="2961019">&gt;=</span>&nbsp;<span class="ident" id="2961022"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2961026">.</span><span class="ident" id="2961027">RuneSelf</span>&nbsp;<span class="op" id="2961036">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961041"><a href="/strings/strings.go.html#2960992">r</a></span><span class="op" id="2961042">,</span>&nbsp;<span class="ident" id="2961044"><a href="/strings/strings.go.html#2960981">wid</a></span>&nbsp;<span class="op" id="2961048">=</span>&nbsp;<span class="ident" id="2961050"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2961054">.</span><span class="ident" id="2961055">DecodeRuneInString</span><span class="op" id="2961073">(</span><span class="ident" id="2961074"><a href="/strings/strings.go.html#2960898">s</a></span><span class="op" id="2961075">[</span><span class="ident" id="2961076"><a href="/strings/strings.go.html#2960946">start</a></span><span class="op" id="2961081">:</span><span class="op" id="2961082">]</span><span class="op" id="2961083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961091">if</span>&nbsp;<span class="ident" id="2961094"><a href="/strings/strings.go.html#2960908">f</a></span><span class="op" id="2961095">(</span><span class="ident" id="2961096"><a href="/strings/strings.go.html#2960992">r</a></span><span class="op" id="2961097">)</span>&nbsp;<span class="op" id="2961099">==</span>&nbsp;<span class="ident" id="2961102"><a href="/strings/strings.go.html#2960927">truth</a></span>&nbsp;<span class="op" id="2961108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961113">return</span>&nbsp;<span class="ident" id="2961120"><a href="/strings/strings.go.html#2960946">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961128">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961132"><a href="/strings/strings.go.html#2960946">start</a></span>&nbsp;<span class="op" id="2961138">+=</span>&nbsp;<span class="ident" id="2961141"><a href="/strings/strings.go.html#2960981">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961149">return</span>&nbsp;<span class="op" id="2961156">-</span><span class="num" id="2961157">1</span><br>
<span class="lineno"></span><span class="op" id="2961159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="comment" id="2961162">//&nbsp;lastIndexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;LastIndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2961223">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2961279">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="2961292">func</span>&nbsp;<span class="ident" id="2961297">lastIndexFunc</span><span class="op" id="2961310">(</span><span class="ident" id="2961311">s</span>&nbsp;<span class="builtintype" id="2961313">string</span><span class="op" id="2961319">,</span>&nbsp;<span class="ident" id="2961321">f</span>&nbsp;<span class="keyword" id="2961323">func</span><span class="op" id="2961327">(</span><span class="builtintype" id="2961328">rune</span><span class="op" id="2961332">)</span>&nbsp;<span class="builtintype" id="2961334">bool</span><span class="op" id="2961338">,</span>&nbsp;<span class="ident" id="2961340">truth</span>&nbsp;<span class="builtintype" id="2961346">bool</span><span class="op" id="2961350">)</span>&nbsp;<span class="builtintype" id="2961352">int</span>&nbsp;<span class="op" id="2961356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961359">for</span>&nbsp;<span class="ident" id="2961363">i</span>&nbsp;<span class="op" id="2961365">:=</span>&nbsp;<span class="builtinfunc" id="2961368">len</span><span class="op" id="2961371">(</span><span class="ident" id="2961372"><a href="/strings/strings.go.html#2961311">s</a></span><span class="op" id="2961373">)</span><span class="op" id="2961374">;</span>&nbsp;<span class="ident" id="2961376"><a href="/strings/strings.go.html#2961363">i</a></span>&nbsp;<span class="op" id="2961378">&gt;</span>&nbsp;<span class="num" id="2961380">0</span><span class="op" id="2961381">;</span>&nbsp;<span class="op" id="2961383">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961387">r</span><span class="op" id="2961388">,</span>&nbsp;<span class="ident" id="2961390">size</span>&nbsp;<span class="op" id="2961395">:=</span>&nbsp;<span class="ident" id="2961398"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2961402">.</span><span class="ident" id="2961403">DecodeLastRuneInString</span><span class="op" id="2961425">(</span><span class="ident" id="2961426"><a href="/strings/strings.go.html#2961311">s</a></span><span class="op" id="2961427">[</span><span class="num" id="2961428">0</span><span class="op" id="2961429">:</span><span class="ident" id="2961430"><a href="/strings/strings.go.html#2961363">i</a></span><span class="op" id="2961431">]</span><span class="op" id="2961432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2961436"><a href="/strings/strings.go.html#2961363">i</a></span>&nbsp;<span class="op" id="2961438">-=</span>&nbsp;<span class="ident" id="2961441"><a href="/strings/strings.go.html#2961390">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961448">if</span>&nbsp;<span class="ident" id="2961451"><a href="/strings/strings.go.html#2961321">f</a></span><span class="op" id="2961452">(</span><span class="ident" id="2961453"><a href="/strings/strings.go.html#2961387">r</a></span><span class="op" id="2961454">)</span>&nbsp;<span class="op" id="2961456">==</span>&nbsp;<span class="ident" id="2961459"><a href="/strings/strings.go.html#2961340">truth</a></span>&nbsp;<span class="op" id="2961465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961470">return</span>&nbsp;<span class="ident" id="2961477"><a href="/strings/strings.go.html#2961363">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961481">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961487">return</span>&nbsp;<span class="op" id="2961494">-</span><span class="num" id="2961495">1</span><br>
<span class="lineno"></span><span class="op" id="2961497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2961500">func</span>&nbsp;<span class="ident" id="2961505">makeCutsetFunc</span><span class="op" id="2961519">(</span><span class="ident" id="2961520">cutset</span>&nbsp;<span class="builtintype" id="2961527">string</span><span class="op" id="2961533">)</span>&nbsp;<span class="keyword" id="2961535">func</span><span class="op" id="2961539">(</span><span class="builtintype" id="2961540">rune</span><span class="op" id="2961544">)</span>&nbsp;<span class="builtintype" id="2961546">bool</span>&nbsp;<span class="op" id="2961551">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961554">return</span>&nbsp;<span class="keyword" id="2961561">func</span><span class="op" id="2961565">(</span><span class="ident" id="2961566">r</span>&nbsp;<span class="builtintype" id="2961568">rune</span><span class="op" id="2961572">)</span>&nbsp;<span class="builtintype" id="2961574">bool</span>&nbsp;<span class="op" id="2961579">{</span>&nbsp;<span class="keyword" id="2961581">return</span>&nbsp;<span class="ident" id="2961588"><a href="/strings/strings.go.html#2950420">IndexRune</a></span><span class="op" id="2961597">(</span><span class="ident" id="2961598"><a href="/strings/strings.go.html#2961520">cutset</a></span><span class="op" id="2961604">,</span>&nbsp;<span class="ident" id="2961606"><a href="/strings/strings.go.html#2961566">r</a></span><span class="op" id="2961607">)</span>&nbsp;<span class="op" id="2961609">&gt;=</span>&nbsp;<span class="num" id="2961612">0</span>&nbsp;<span class="op" id="2961614">}</span><br>
<span class="lineno"></span><span class="op" id="2961616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2961619">//&nbsp;Trim&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2961680">//&nbsp;trailing&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno">620</span><span class="keyword" id="2961741">func</span>&nbsp;<span class="ident" id="2961746">Trim</span><span class="op" id="2961750">(</span><span class="ident" id="2961751">s</span>&nbsp;<span class="builtintype" id="2961753">string</span><span class="op" id="2961759">,</span>&nbsp;<span class="ident" id="2961761">cutset</span>&nbsp;<span class="builtintype" id="2961768">string</span><span class="op" id="2961774">)</span>&nbsp;<span class="builtintype" id="2961776">string</span>&nbsp;<span class="op" id="2961783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961786">if</span>&nbsp;<span class="ident" id="2961789"><a href="/strings/strings.go.html#2961751">s</a></span>&nbsp;<span class="op" id="2961791">==</span>&nbsp;<span class="string" id="2961794">&#34;&#34;</span>&nbsp;<span class="op" id="2961797">||</span>&nbsp;<span class="ident" id="2961800"><a href="/strings/strings.go.html#2961761">cutset</a></span>&nbsp;<span class="op" id="2961807">==</span>&nbsp;<span class="string" id="2961810">&#34;&#34;</span>&nbsp;<span class="op" id="2961813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961817">return</span>&nbsp;<span class="ident" id="2961824"><a href="/strings/strings.go.html#2961751">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2961827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2961830">return</span>&nbsp;<span class="ident" id="2961837"><a href="/strings/strings.go.html#2960273">TrimFunc</a></span><span class="op" id="2961845">(</span><span class="ident" id="2961846"><a href="/strings/strings.go.html#2961751">s</a></span><span class="op" id="2961847">,</span>&nbsp;<span class="ident" id="2961849"><a href="/strings/strings.go.html#2961505">makeCutsetFunc</a></span><span class="op" id="2961863">(</span><span class="ident" id="2961864"><a href="/strings/strings.go.html#2961761">cutset</a></span><span class="op" id="2961870">)</span><span class="op" id="2961871">)</span><br>
<span class="lineno">625</span><span class="op" id="2961873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2961876">//&nbsp;TrimLeft&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2961937">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2961989">func</span>&nbsp;<span class="ident" id="2961994">TrimLeft</span><span class="op" id="2962002">(</span><span class="ident" id="2962003">s</span>&nbsp;<span class="builtintype" id="2962005">string</span><span class="op" id="2962011">,</span>&nbsp;<span class="ident" id="2962013">cutset</span>&nbsp;<span class="builtintype" id="2962020">string</span><span class="op" id="2962026">)</span>&nbsp;<span class="builtintype" id="2962028">string</span>&nbsp;<span class="op" id="2962035">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962038">if</span>&nbsp;<span class="ident" id="2962041"><a href="/strings/strings.go.html#2962003">s</a></span>&nbsp;<span class="op" id="2962043">==</span>&nbsp;<span class="string" id="2962046">&#34;&#34;</span>&nbsp;<span class="op" id="2962049">||</span>&nbsp;<span class="ident" id="2962052"><a href="/strings/strings.go.html#2962013">cutset</a></span>&nbsp;<span class="op" id="2962059">==</span>&nbsp;<span class="string" id="2962062">&#34;&#34;</span>&nbsp;<span class="op" id="2962065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962069">return</span>&nbsp;<span class="ident" id="2962076"><a href="/strings/strings.go.html#2962003">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2962079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962082">return</span>&nbsp;<span class="ident" id="2962089"><a href="/strings/strings.go.html#2959682">TrimLeftFunc</a></span><span class="op" id="2962101">(</span><span class="ident" id="2962102"><a href="/strings/strings.go.html#2962003">s</a></span><span class="op" id="2962103">,</span>&nbsp;<span class="ident" id="2962105"><a href="/strings/strings.go.html#2961505">makeCutsetFunc</a></span><span class="op" id="2962119">(</span><span class="ident" id="2962120"><a href="/strings/strings.go.html#2962013">cutset</a></span><span class="op" id="2962126">)</span><span class="op" id="2962127">)</span><br>
<span class="lineno"></span><span class="op" id="2962129">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="comment" id="2962132">//&nbsp;TrimRight&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s,&nbsp;with&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="2962196">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2962248">func</span>&nbsp;<span class="ident" id="2962253">TrimRight</span><span class="op" id="2962262">(</span><span class="ident" id="2962263">s</span>&nbsp;<span class="builtintype" id="2962265">string</span><span class="op" id="2962271">,</span>&nbsp;<span class="ident" id="2962273">cutset</span>&nbsp;<span class="builtintype" id="2962280">string</span><span class="op" id="2962286">)</span>&nbsp;<span class="builtintype" id="2962288">string</span>&nbsp;<span class="op" id="2962295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962298">if</span>&nbsp;<span class="ident" id="2962301"><a href="/strings/strings.go.html#2962263">s</a></span>&nbsp;<span class="op" id="2962303">==</span>&nbsp;<span class="string" id="2962306">&#34;&#34;</span>&nbsp;<span class="op" id="2962309">||</span>&nbsp;<span class="ident" id="2962312"><a href="/strings/strings.go.html#2962273">cutset</a></span>&nbsp;<span class="op" id="2962319">==</span>&nbsp;<span class="string" id="2962322">&#34;&#34;</span>&nbsp;<span class="op" id="2962325">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962329">return</span>&nbsp;<span class="ident" id="2962336"><a href="/strings/strings.go.html#2962263">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2962339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962342">return</span>&nbsp;<span class="ident" id="2962349"><a href="/strings/strings.go.html#2959930">TrimRightFunc</a></span><span class="op" id="2962362">(</span><span class="ident" id="2962363"><a href="/strings/strings.go.html#2962263">s</a></span><span class="op" id="2962364">,</span>&nbsp;<span class="ident" id="2962366"><a href="/strings/strings.go.html#2961505">makeCutsetFunc</a></span><span class="op" id="2962380">(</span><span class="ident" id="2962381"><a href="/strings/strings.go.html#2962273">cutset</a></span><span class="op" id="2962387">)</span><span class="op" id="2962388">)</span><br>
<span class="lineno"></span><span class="op" id="2962390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span><span class="comment" id="2962393">//&nbsp;TrimSpace&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s,&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2962456">//&nbsp;and&nbsp;trailing&nbsp;white&nbsp;space&nbsp;removed,&nbsp;as&nbsp;defined&nbsp;by&nbsp;Unicode.</span><br>
<span class="lineno"></span><span class="keyword" id="2962516">func</span>&nbsp;<span class="ident" id="2962521">TrimSpace</span><span class="op" id="2962530">(</span><span class="ident" id="2962531">s</span>&nbsp;<span class="builtintype" id="2962533">string</span><span class="op" id="2962539">)</span>&nbsp;<span class="builtintype" id="2962541">string</span>&nbsp;<span class="op" id="2962548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962551">return</span>&nbsp;<span class="ident" id="2962558"><a href="/strings/strings.go.html#2960273">TrimFunc</a></span><span class="op" id="2962566">(</span><span class="ident" id="2962567"><a href="/strings/strings.go.html#2962531">s</a></span><span class="op" id="2962568">,</span>&nbsp;<span class="ident" id="2962570"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2962577">.</span><span class="ident" id="2962578">IsSpace</span><span class="op" id="2962585">)</span><br>
<span class="lineno"></span><span class="op" id="2962587">}</span><br>
<span class="lineno">650</span><br>
<span class="lineno"></span><span class="comment" id="2962590">//&nbsp;TrimPrefix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;leading&nbsp;prefix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2962658">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;start&nbsp;with&nbsp;prefix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="2962718">func</span>&nbsp;<span class="ident" id="2962723">TrimPrefix</span><span class="op" id="2962733">(</span><span class="ident" id="2962734">s</span><span class="op" id="2962735">,</span>&nbsp;<span class="ident" id="2962737">prefix</span>&nbsp;<span class="builtintype" id="2962744">string</span><span class="op" id="2962750">)</span>&nbsp;<span class="builtintype" id="2962752">string</span>&nbsp;<span class="op" id="2962759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962762">if</span>&nbsp;<span class="ident" id="2962765"><a href="/strings/strings.go.html#2955362">HasPrefix</a></span><span class="op" id="2962774">(</span><span class="ident" id="2962775"><a href="/strings/strings.go.html#2962734">s</a></span><span class="op" id="2962776">,</span>&nbsp;<span class="ident" id="2962778"><a href="/strings/strings.go.html#2962737">prefix</a></span><span class="op" id="2962784">)</span>&nbsp;<span class="op" id="2962786">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962790">return</span>&nbsp;<span class="ident" id="2962797"><a href="/strings/strings.go.html#2962734">s</a></span><span class="op" id="2962798">[</span><span class="builtinfunc" id="2962799">len</span><span class="op" id="2962802">(</span><span class="ident" id="2962803"><a href="/strings/strings.go.html#2962737">prefix</a></span><span class="op" id="2962809">)</span><span class="op" id="2962810">:</span><span class="op" id="2962811">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2962814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2962817">return</span>&nbsp;<span class="ident" id="2962824"><a href="/strings/strings.go.html#2962734">s</a></span><br>
<span class="lineno"></span><span class="op" id="2962826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span><span class="comment" id="2962829">//&nbsp;TrimSuffix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;trailing&nbsp;suffix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2962898">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;end&nbsp;with&nbsp;suffix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="2962956">func</span>&nbsp;<span class="ident" id="2962961">TrimSuffix</span><span class="op" id="2962971">(</span><span class="ident" id="2962972">s</span><span class="op" id="2962973">,</span>&nbsp;<span class="ident" id="2962975">suffix</span>&nbsp;<span class="builtintype" id="2962982">string</span><span class="op" id="2962988">)</span>&nbsp;<span class="builtintype" id="2962990">string</span>&nbsp;<span class="op" id="2962997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963000">if</span>&nbsp;<span class="ident" id="2963003"><a href="/strings/strings.go.html#2955523">HasSuffix</a></span><span class="op" id="2963012">(</span><span class="ident" id="2963013"><a href="/strings/strings.go.html#2962972">s</a></span><span class="op" id="2963014">,</span>&nbsp;<span class="ident" id="2963016"><a href="/strings/strings.go.html#2962975">suffix</a></span><span class="op" id="2963022">)</span>&nbsp;<span class="op" id="2963024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963028">return</span>&nbsp;<span class="ident" id="2963035"><a href="/strings/strings.go.html#2962972">s</a></span><span class="op" id="2963036">[</span><span class="op" id="2963037">:</span><span class="builtinfunc" id="2963038">len</span><span class="op" id="2963041">(</span><span class="ident" id="2963042"><a href="/strings/strings.go.html#2962972">s</a></span><span class="op" id="2963043">)</span><span class="op" id="2963044">-</span><span class="builtinfunc" id="2963045">len</span><span class="op" id="2963048">(</span><span class="ident" id="2963049"><a href="/strings/strings.go.html#2962975">suffix</a></span><span class="op" id="2963055">)</span><span class="op" id="2963056">]</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963062">return</span>&nbsp;<span class="ident" id="2963069"><a href="/strings/strings.go.html#2962972">s</a></span><br>
<span class="lineno"></span><span class="op" id="2963071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2963074">//&nbsp;Replace&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;the&nbsp;first&nbsp;n</span><br>
<span class="lineno">670</span><span class="comment" id="2963133">//&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;old&nbsp;replaced&nbsp;by&nbsp;new.</span><br>
<span class="lineno"></span><span class="comment" id="2963186">//&nbsp;If&nbsp;old&nbsp;is&nbsp;empty,&nbsp;it&nbsp;matches&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2963248">//&nbsp;and&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence,&nbsp;yielding&nbsp;up&nbsp;to&nbsp;k+1&nbsp;replacements</span><br>
<span class="lineno"></span><span class="comment" id="2963314">//&nbsp;for&nbsp;a&nbsp;k-rune&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2963338">//&nbsp;If&nbsp;n&nbsp;&lt;&nbsp;0,&nbsp;there&nbsp;is&nbsp;no&nbsp;limit&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno">675</span><span class="keyword" id="2963400">func</span>&nbsp;<span class="ident" id="2963405">Replace</span><span class="op" id="2963412">(</span><span class="ident" id="2963413">s</span><span class="op" id="2963414">,</span>&nbsp;<span class="ident" id="2963416">old</span><span class="op" id="2963419">,</span>&nbsp;<span class="builtinfunc" id="2963421">new</span>&nbsp;<span class="builtintype" id="2963425">string</span><span class="op" id="2963431">,</span>&nbsp;<span class="ident" id="2963433">n</span>&nbsp;<span class="builtintype" id="2963435">int</span><span class="op" id="2963438">)</span>&nbsp;<span class="builtintype" id="2963440">string</span>&nbsp;<span class="op" id="2963447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963450">if</span>&nbsp;<span class="ident" id="2963453"><a href="/strings/strings.go.html#2963416">old</a></span>&nbsp;<span class="op" id="2963457">==</span>&nbsp;<span class="builtinfunc" id="2963460"><a href="/strings/strings.go.html#2963421">new</a></span>&nbsp;<span class="op" id="2963464">||</span>&nbsp;<span class="ident" id="2963467"><a href="/strings/strings.go.html#2963433">n</a></span>&nbsp;<span class="op" id="2963469">==</span>&nbsp;<span class="num" id="2963472">0</span>&nbsp;<span class="op" id="2963474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963478">return</span>&nbsp;<span class="ident" id="2963485"><a href="/strings/strings.go.html#2963413">s</a></span>&nbsp;<span class="comment" id="2963487">//&nbsp;avoid&nbsp;allocation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2963512">//&nbsp;Compute&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963548">if</span>&nbsp;<span class="ident" id="2963551">m</span>&nbsp;<span class="op" id="2963553">:=</span>&nbsp;<span class="ident" id="2963556"><a href="/strings/strings.go.html#2947527">Count</a></span><span class="op" id="2963561">(</span><span class="ident" id="2963562"><a href="/strings/strings.go.html#2963413">s</a></span><span class="op" id="2963563">,</span>&nbsp;<span class="ident" id="2963565"><a href="/strings/strings.go.html#2963416">old</a></span><span class="op" id="2963568">)</span><span class="op" id="2963569">;</span>&nbsp;<span class="ident" id="2963571"><a href="/strings/strings.go.html#2963551">m</a></span>&nbsp;<span class="op" id="2963573">==</span>&nbsp;<span class="num" id="2963576">0</span>&nbsp;<span class="op" id="2963578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963582">return</span>&nbsp;<span class="ident" id="2963589"><a href="/strings/strings.go.html#2963413">s</a></span>&nbsp;<span class="comment" id="2963591">//&nbsp;avoid&nbsp;allocation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963612">}</span>&nbsp;<span class="keyword" id="2963614">else</span>&nbsp;<span class="keyword" id="2963619">if</span>&nbsp;<span class="ident" id="2963622"><a href="/strings/strings.go.html#2963433">n</a></span>&nbsp;<span class="op" id="2963624">&lt;</span>&nbsp;<span class="num" id="2963626">0</span>&nbsp;<span class="op" id="2963628">||</span>&nbsp;<span class="ident" id="2963631"><a href="/strings/strings.go.html#2963551">m</a></span>&nbsp;<span class="op" id="2963633">&lt;</span>&nbsp;<span class="ident" id="2963635"><a href="/strings/strings.go.html#2963433">n</a></span>&nbsp;<span class="op" id="2963637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963641"><a href="/strings/strings.go.html#2963433">n</a></span>&nbsp;<span class="op" id="2963643">=</span>&nbsp;<span class="ident" id="2963645"><a href="/strings/strings.go.html#2963551">m</a></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2963652">//&nbsp;Apply&nbsp;replacements&nbsp;to&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963686">t</span>&nbsp;<span class="op" id="2963688">:=</span>&nbsp;<span class="builtinfunc" id="2963691">make</span><span class="op" id="2963695">(</span><span class="op" id="2963696">[</span><span class="op" id="2963697">]</span><span class="builtintype" id="2963698">byte</span><span class="op" id="2963702">,</span>&nbsp;<span class="builtinfunc" id="2963704">len</span><span class="op" id="2963707">(</span><span class="ident" id="2963708"><a href="/strings/strings.go.html#2963413">s</a></span><span class="op" id="2963709">)</span><span class="op" id="2963710">+</span><span class="ident" id="2963711"><a href="/strings/strings.go.html#2963433">n</a></span><span class="op" id="2963712">*</span><span class="op" id="2963713">(</span><span class="builtinfunc" id="2963714">len</span><span class="op" id="2963717">(</span><span class="builtinfunc" id="2963718"><a href="/strings/strings.go.html#2963421">new</a></span><span class="op" id="2963721">)</span><span class="op" id="2963722">-</span><span class="builtinfunc" id="2963723">len</span><span class="op" id="2963726">(</span><span class="ident" id="2963727"><a href="/strings/strings.go.html#2963416">old</a></span><span class="op" id="2963730">)</span><span class="op" id="2963731">)</span><span class="op" id="2963732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963735">w</span>&nbsp;<span class="op" id="2963737">:=</span>&nbsp;<span class="num" id="2963740">0</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963743">start</span>&nbsp;<span class="op" id="2963749">:=</span>&nbsp;<span class="num" id="2963752">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963755">for</span>&nbsp;<span class="ident" id="2963759">i</span>&nbsp;<span class="op" id="2963761">:=</span>&nbsp;<span class="num" id="2963764">0</span><span class="op" id="2963765">;</span>&nbsp;<span class="ident" id="2963767"><a href="/strings/strings.go.html#2963759">i</a></span>&nbsp;<span class="op" id="2963769">&lt;</span>&nbsp;<span class="ident" id="2963771"><a href="/strings/strings.go.html#2963433">n</a></span><span class="op" id="2963772">;</span>&nbsp;<span class="ident" id="2963774"><a href="/strings/strings.go.html#2963759">i</a></span><span class="op" id="2963775">++</span>&nbsp;<span class="op" id="2963778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963782">j</span>&nbsp;<span class="op" id="2963784">:=</span>&nbsp;<span class="ident" id="2963787"><a href="/strings/strings.go.html#2963743">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963795">if</span>&nbsp;<span class="builtinfunc" id="2963798">len</span><span class="op" id="2963801">(</span><span class="ident" id="2963802"><a href="/strings/strings.go.html#2963416">old</a></span><span class="op" id="2963805">)</span>&nbsp;<span class="op" id="2963807">==</span>&nbsp;<span class="num" id="2963810">0</span>&nbsp;<span class="op" id="2963812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2963817">if</span>&nbsp;<span class="ident" id="2963820"><a href="/strings/strings.go.html#2963759">i</a></span>&nbsp;<span class="op" id="2963822">&gt;</span>&nbsp;<span class="num" id="2963824">0</span>&nbsp;<span class="op" id="2963826">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963832">_</span><span class="op" id="2963833">,</span>&nbsp;<span class="ident" id="2963835">wid</span>&nbsp;<span class="op" id="2963839">:=</span>&nbsp;<span class="ident" id="2963842"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2963846">.</span><span class="ident" id="2963847">DecodeRuneInString</span><span class="op" id="2963865">(</span><span class="ident" id="2963866"><a href="/strings/strings.go.html#2963413">s</a></span><span class="op" id="2963867">[</span><span class="ident" id="2963868"><a href="/strings/strings.go.html#2963743">start</a></span><span class="op" id="2963873">:</span><span class="op" id="2963874">]</span><span class="op" id="2963875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963881"><a href="/strings/strings.go.html#2963782">j</a></span>&nbsp;<span class="op" id="2963883">+=</span>&nbsp;<span class="ident" id="2963886"><a href="/strings/strings.go.html#2963835">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963897">}</span>&nbsp;<span class="keyword" id="2963899">else</span>&nbsp;<span class="op" id="2963904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963909"><a href="/strings/strings.go.html#2963782">j</a></span>&nbsp;<span class="op" id="2963911">+=</span>&nbsp;<span class="ident" id="2963914"><a href="/strings/strings.go.html#2948879">Index</a></span><span class="op" id="2963919">(</span><span class="ident" id="2963920"><a href="/strings/strings.go.html#2963413">s</a></span><span class="op" id="2963921">[</span><span class="ident" id="2963922"><a href="/strings/strings.go.html#2963743">start</a></span><span class="op" id="2963927">:</span><span class="op" id="2963928">]</span><span class="op" id="2963929">,</span>&nbsp;<span class="ident" id="2963931"><a href="/strings/strings.go.html#2963416">old</a></span><span class="op" id="2963934">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2963938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963942"><a href="/strings/strings.go.html#2963735">w</a></span>&nbsp;<span class="op" id="2963944">+=</span>&nbsp;<span class="builtinfunc" id="2963947">copy</span><span class="op" id="2963951">(</span><span class="ident" id="2963952"><a href="/strings/strings.go.html#2963686">t</a></span><span class="op" id="2963953">[</span><span class="ident" id="2963954"><a href="/strings/strings.go.html#2963735">w</a></span><span class="op" id="2963955">:</span><span class="op" id="2963956">]</span><span class="op" id="2963957">,</span>&nbsp;<span class="ident" id="2963959"><a href="/strings/strings.go.html#2963413">s</a></span><span class="op" id="2963960">[</span><span class="ident" id="2963961"><a href="/strings/strings.go.html#2963743">start</a></span><span class="op" id="2963966">:</span><span class="ident" id="2963967"><a href="/strings/strings.go.html#2963782">j</a></span><span class="op" id="2963968">]</span><span class="op" id="2963969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963973"><a href="/strings/strings.go.html#2963735">w</a></span>&nbsp;<span class="op" id="2963975">+=</span>&nbsp;<span class="builtinfunc" id="2963978">copy</span><span class="op" id="2963982">(</span><span class="ident" id="2963983"><a href="/strings/strings.go.html#2963686">t</a></span><span class="op" id="2963984">[</span><span class="ident" id="2963985"><a href="/strings/strings.go.html#2963735">w</a></span><span class="op" id="2963986">:</span><span class="op" id="2963987">]</span><span class="op" id="2963988">,</span>&nbsp;<span class="builtinfunc" id="2963990"><a href="/strings/strings.go.html#2963421">new</a></span><span class="op" id="2963993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2963997"><a href="/strings/strings.go.html#2963743">start</a></span>&nbsp;<span class="op" id="2964003">=</span>&nbsp;<span class="ident" id="2964005"><a href="/strings/strings.go.html#2963782">j</a></span>&nbsp;<span class="op" id="2964007">+</span>&nbsp;<span class="builtinfunc" id="2964009">len</span><span class="op" id="2964012">(</span><span class="ident" id="2964013"><a href="/strings/strings.go.html#2963416">old</a></span><span class="op" id="2964016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964019">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964022"><a href="/strings/strings.go.html#2963735">w</a></span>&nbsp;<span class="op" id="2964024">+=</span>&nbsp;<span class="builtinfunc" id="2964027">copy</span><span class="op" id="2964031">(</span><span class="ident" id="2964032"><a href="/strings/strings.go.html#2963686">t</a></span><span class="op" id="2964033">[</span><span class="ident" id="2964034"><a href="/strings/strings.go.html#2963735">w</a></span><span class="op" id="2964035">:</span><span class="op" id="2964036">]</span><span class="op" id="2964037">,</span>&nbsp;<span class="ident" id="2964039"><a href="/strings/strings.go.html#2963413">s</a></span><span class="op" id="2964040">[</span><span class="ident" id="2964041"><a href="/strings/strings.go.html#2963743">start</a></span><span class="op" id="2964046">:</span><span class="op" id="2964047">]</span><span class="op" id="2964048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964051">return</span>&nbsp;<span class="builtintype" id="2964058">string</span><span class="op" id="2964064">(</span><span class="ident" id="2964065"><a href="/strings/strings.go.html#2963686">t</a></span><span class="op" id="2964066">[</span><span class="num" id="2964067">0</span><span class="op" id="2964068">:</span><span class="ident" id="2964069"><a href="/strings/strings.go.html#2963735">w</a></span><span class="op" id="2964070">]</span><span class="op" id="2964071">)</span><br>
<span class="lineno"></span><span class="op" id="2964073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2964076">//&nbsp;EqualFold&nbsp;reports&nbsp;whether&nbsp;s&nbsp;and&nbsp;t,&nbsp;interpreted&nbsp;as&nbsp;UTF-8&nbsp;strings,</span><br>
<span class="lineno">710</span><span class="comment" id="2964144">//&nbsp;are&nbsp;equal&nbsp;under&nbsp;Unicode&nbsp;case-folding.</span><br>
<span class="lineno"></span><span class="keyword" id="2964185">func</span>&nbsp;<span class="ident" id="2964190">EqualFold</span><span class="op" id="2964199">(</span><span class="ident" id="2964200">s</span><span class="op" id="2964201">,</span>&nbsp;<span class="ident" id="2964203">t</span>&nbsp;<span class="builtintype" id="2964205">string</span><span class="op" id="2964211">)</span>&nbsp;<span class="builtintype" id="2964213">bool</span>&nbsp;<span class="op" id="2964218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964221">for</span>&nbsp;<span class="ident" id="2964225"><a href="/strings/strings.go.html#2964200">s</a></span>&nbsp;<span class="op" id="2964227">!=</span>&nbsp;<span class="string" id="2964230">&#34;&#34;</span>&nbsp;<span class="op" id="2964233">&amp;&amp;</span>&nbsp;<span class="ident" id="2964236"><a href="/strings/strings.go.html#2964203">t</a></span>&nbsp;<span class="op" id="2964238">!=</span>&nbsp;<span class="string" id="2964241">&#34;&#34;</span>&nbsp;<span class="op" id="2964244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964248">//&nbsp;Extract&nbsp;first&nbsp;rune&nbsp;from&nbsp;each&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964290">var</span>&nbsp;<span class="ident" id="2964294">sr</span><span class="op" id="2964296">,</span>&nbsp;<span class="ident" id="2964298">tr</span>&nbsp;<span class="builtintype" id="2964301">rune</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964308">if</span>&nbsp;<span class="ident" id="2964311"><a href="/strings/strings.go.html#2964200">s</a></span><span class="op" id="2964312">[</span><span class="num" id="2964313">0</span><span class="op" id="2964314">]</span>&nbsp;<span class="op" id="2964316">&lt;</span>&nbsp;<span class="ident" id="2964318"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2964322">.</span><span class="ident" id="2964323">RuneSelf</span>&nbsp;<span class="op" id="2964332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964337"><a href="/strings/strings.go.html#2964294">sr</a></span><span class="op" id="2964339">,</span>&nbsp;<span class="ident" id="2964341"><a href="/strings/strings.go.html#2964200">s</a></span>&nbsp;<span class="op" id="2964343">=</span>&nbsp;<span class="builtintype" id="2964345">rune</span><span class="op" id="2964349">(</span><span class="ident" id="2964350"><a href="/strings/strings.go.html#2964200">s</a></span><span class="op" id="2964351">[</span><span class="num" id="2964352">0</span><span class="op" id="2964353">]</span><span class="op" id="2964354">)</span><span class="op" id="2964355">,</span>&nbsp;<span class="ident" id="2964357"><a href="/strings/strings.go.html#2964200">s</a></span><span class="op" id="2964358">[</span><span class="num" id="2964359">1</span><span class="op" id="2964360">:</span><span class="op" id="2964361">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964365">}</span>&nbsp;<span class="keyword" id="2964367">else</span>&nbsp;<span class="op" id="2964372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964377">r</span><span class="op" id="2964378">,</span>&nbsp;<span class="ident" id="2964380">size</span>&nbsp;<span class="op" id="2964385">:=</span>&nbsp;<span class="ident" id="2964388"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2964392">.</span><span class="ident" id="2964393">DecodeRuneInString</span><span class="op" id="2964411">(</span><span class="ident" id="2964412"><a href="/strings/strings.go.html#2964200">s</a></span><span class="op" id="2964413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964418"><a href="/strings/strings.go.html#2964294">sr</a></span><span class="op" id="2964420">,</span>&nbsp;<span class="ident" id="2964422"><a href="/strings/strings.go.html#2964200">s</a></span>&nbsp;<span class="op" id="2964424">=</span>&nbsp;<span class="ident" id="2964426"><a href="/strings/strings.go.html#2964377">r</a></span><span class="op" id="2964427">,</span>&nbsp;<span class="ident" id="2964429"><a href="/strings/strings.go.html#2964200">s</a></span><span class="op" id="2964430">[</span><span class="ident" id="2964431"><a href="/strings/strings.go.html#2964380">size</a></span><span class="op" id="2964435">:</span><span class="op" id="2964436">]</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964444">if</span>&nbsp;<span class="ident" id="2964447"><a href="/strings/strings.go.html#2964203">t</a></span><span class="op" id="2964448">[</span><span class="num" id="2964449">0</span><span class="op" id="2964450">]</span>&nbsp;<span class="op" id="2964452">&lt;</span>&nbsp;<span class="ident" id="2964454"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2964458">.</span><span class="ident" id="2964459">RuneSelf</span>&nbsp;<span class="op" id="2964468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964473"><a href="/strings/strings.go.html#2964298">tr</a></span><span class="op" id="2964475">,</span>&nbsp;<span class="ident" id="2964477"><a href="/strings/strings.go.html#2964203">t</a></span>&nbsp;<span class="op" id="2964479">=</span>&nbsp;<span class="builtintype" id="2964481">rune</span><span class="op" id="2964485">(</span><span class="ident" id="2964486"><a href="/strings/strings.go.html#2964203">t</a></span><span class="op" id="2964487">[</span><span class="num" id="2964488">0</span><span class="op" id="2964489">]</span><span class="op" id="2964490">)</span><span class="op" id="2964491">,</span>&nbsp;<span class="ident" id="2964493"><a href="/strings/strings.go.html#2964203">t</a></span><span class="op" id="2964494">[</span><span class="num" id="2964495">1</span><span class="op" id="2964496">:</span><span class="op" id="2964497">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964501">}</span>&nbsp;<span class="keyword" id="2964503">else</span>&nbsp;<span class="op" id="2964508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964513">r</span><span class="op" id="2964514">,</span>&nbsp;<span class="ident" id="2964516">size</span>&nbsp;<span class="op" id="2964521">:=</span>&nbsp;<span class="ident" id="2964524"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2964528">.</span><span class="ident" id="2964529">DecodeRuneInString</span><span class="op" id="2964547">(</span><span class="ident" id="2964548"><a href="/strings/strings.go.html#2964203">t</a></span><span class="op" id="2964549">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964554"><a href="/strings/strings.go.html#2964298">tr</a></span><span class="op" id="2964556">,</span>&nbsp;<span class="ident" id="2964558"><a href="/strings/strings.go.html#2964203">t</a></span>&nbsp;<span class="op" id="2964560">=</span>&nbsp;<span class="ident" id="2964562"><a href="/strings/strings.go.html#2964513">r</a></span><span class="op" id="2964563">,</span>&nbsp;<span class="ident" id="2964565"><a href="/strings/strings.go.html#2964203">t</a></span><span class="op" id="2964566">[</span><span class="ident" id="2964567"><a href="/strings/strings.go.html#2964516">size</a></span><span class="op" id="2964571">:</span><span class="op" id="2964572">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964581">//&nbsp;If&nbsp;they&nbsp;match,&nbsp;keep&nbsp;going;&nbsp;if&nbsp;not,&nbsp;return&nbsp;false.</span><br>
<span class="lineno"></span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964636">//&nbsp;Easy&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964652">if</span>&nbsp;<span class="ident" id="2964655"><a href="/strings/strings.go.html#2964298">tr</a></span>&nbsp;<span class="op" id="2964658">==</span>&nbsp;<span class="ident" id="2964661"><a href="/strings/strings.go.html#2964294">sr</a></span>&nbsp;<span class="op" id="2964664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964669">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964685">//&nbsp;Make&nbsp;sr&nbsp;&lt;&nbsp;tr&nbsp;to&nbsp;simplify&nbsp;what&nbsp;follows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964729">if</span>&nbsp;<span class="ident" id="2964732"><a href="/strings/strings.go.html#2964298">tr</a></span>&nbsp;<span class="op" id="2964735">&lt;</span>&nbsp;<span class="ident" id="2964737"><a href="/strings/strings.go.html#2964294">sr</a></span>&nbsp;<span class="op" id="2964740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2964745"><a href="/strings/strings.go.html#2964298">tr</a></span><span class="op" id="2964747">,</span>&nbsp;<span class="ident" id="2964749"><a href="/strings/strings.go.html#2964294">sr</a></span>&nbsp;<span class="op" id="2964752">=</span>&nbsp;<span class="ident" id="2964754"><a href="/strings/strings.go.html#2964294">sr</a></span><span class="op" id="2964756">,</span>&nbsp;<span class="ident" id="2964758"><a href="/strings/strings.go.html#2964298">tr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964767">//&nbsp;Fast&nbsp;check&nbsp;for&nbsp;ASCII.</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964794">if</span>&nbsp;<span class="ident" id="2964797"><a href="/strings/strings.go.html#2964298">tr</a></span>&nbsp;<span class="op" id="2964800">&lt;</span>&nbsp;<span class="ident" id="2964802"><a href="/strings/strings.go.html#2945872">utf8</a></span><span class="op" id="2964806">.</span><span class="ident" id="2964807">RuneSelf</span>&nbsp;<span class="op" id="2964816">&amp;&amp;</span>&nbsp;<span class="string" id="2964819">&#39;A&#39;</span>&nbsp;<span class="op" id="2964823">&lt;=</span>&nbsp;<span class="ident" id="2964826"><a href="/strings/strings.go.html#2964294">sr</a></span>&nbsp;<span class="op" id="2964829">&amp;&amp;</span>&nbsp;<span class="ident" id="2964832"><a href="/strings/strings.go.html#2964294">sr</a></span>&nbsp;<span class="op" id="2964835">&lt;=</span>&nbsp;<span class="string" id="2964838">&#39;Z&#39;</span>&nbsp;<span class="op" id="2964842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964847">//&nbsp;ASCII,&nbsp;and&nbsp;sr&nbsp;is&nbsp;upper&nbsp;case.&nbsp;&nbsp;tr&nbsp;must&nbsp;be&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964906">if</span>&nbsp;<span class="ident" id="2964909"><a href="/strings/strings.go.html#2964298">tr</a></span>&nbsp;<span class="op" id="2964912">==</span>&nbsp;<span class="ident" id="2964915"><a href="/strings/strings.go.html#2964294">sr</a></span><span class="op" id="2964917">+</span><span class="string" id="2964918">&#39;a&#39;</span><span class="op" id="2964921">-</span><span class="string" id="2964922">&#39;A&#39;</span>&nbsp;<span class="op" id="2964926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964932">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964944">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2964949">return</span>&nbsp;<span class="ident" id="2964956">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2964964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2964969">//&nbsp;General&nbsp;case.&nbsp;&nbsp;SimpleFold(x)&nbsp;returns&nbsp;the&nbsp;next&nbsp;equivalent&nbsp;rune&nbsp;&gt;&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2965040">//&nbsp;or&nbsp;wraps&nbsp;around&nbsp;to&nbsp;smaller&nbsp;values.</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2965080">r</span>&nbsp;<span class="op" id="2965082">:=</span>&nbsp;<span class="ident" id="2965085"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2965092">.</span><span class="ident" id="2965093">SimpleFold</span><span class="op" id="2965103">(</span><span class="ident" id="2965104"><a href="/strings/strings.go.html#2964294">sr</a></span><span class="op" id="2965106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2965110">for</span>&nbsp;<span class="ident" id="2965114"><a href="/strings/strings.go.html#2965080">r</a></span>&nbsp;<span class="op" id="2965116">!=</span>&nbsp;<span class="ident" id="2965119"><a href="/strings/strings.go.html#2964294">sr</a></span>&nbsp;<span class="op" id="2965122">&amp;&amp;</span>&nbsp;<span class="ident" id="2965125"><a href="/strings/strings.go.html#2965080">r</a></span>&nbsp;<span class="op" id="2965127">&lt;</span>&nbsp;<span class="ident" id="2965129"><a href="/strings/strings.go.html#2964298">tr</a></span>&nbsp;<span class="op" id="2965132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2965137"><a href="/strings/strings.go.html#2965080">r</a></span>&nbsp;<span class="op" id="2965139">=</span>&nbsp;<span class="ident" id="2965141"><a href="/strings/strings.go.html#2945861">unicode</a></span><span class="op" id="2965148">.</span><span class="ident" id="2965149">SimpleFold</span><span class="op" id="2965159">(</span><span class="ident" id="2965160"><a href="/strings/strings.go.html#2965080">r</a></span><span class="op" id="2965161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2965165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2965169">if</span>&nbsp;<span class="ident" id="2965172"><a href="/strings/strings.go.html#2965080">r</a></span>&nbsp;<span class="op" id="2965174">==</span>&nbsp;<span class="ident" id="2965177"><a href="/strings/strings.go.html#2964298">tr</a></span>&nbsp;<span class="op" id="2965180">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2965185">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2965196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2965200">return</span>&nbsp;<span class="ident" id="2965207">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2965214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2965218">//&nbsp;One&nbsp;string&nbsp;is&nbsp;empty.&nbsp;&nbsp;Are&nbsp;both?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2965254">return</span>&nbsp;<span class="ident" id="2965261"><a href="/strings/strings.go.html#2964200">s</a></span>&nbsp;<span class="op" id="2965263">==</span>&nbsp;<span class="ident" id="2965266"><a href="/strings/strings.go.html#2964203">t</a></span><br>
<span class="lineno"></span><span class="op" id="2965268">}</span>
</div>
</body>
</html>
