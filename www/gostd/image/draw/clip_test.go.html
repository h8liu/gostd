<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8651214">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8651269">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8651323">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8651374">package</span>&nbsp;<span class="ident" id="8651382">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8651388">import</span>&nbsp;<span class="op" id="8651395">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8651398">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8651407">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8651417">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8651420">type</span>&nbsp;<span class="ident" id="8651425">clipTest</span>&nbsp;<span class="keyword" id="8651434">struct</span>&nbsp;<span class="op" id="8651441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651444">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8651458">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651466">r</span><span class="op" id="8651467">,</span>&nbsp;<span class="ident" id="8651469">dr</span><span class="op" id="8651471">,</span>&nbsp;<span class="ident" id="8651473">sr</span><span class="op" id="8651475">,</span>&nbsp;<span class="ident" id="8651477">mr</span>&nbsp;<span class="ident" id="8651480">image</span><span class="op" id="8651485">.</span><span class="ident" id="8651486">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651497">sp</span><span class="op" id="8651499">,</span>&nbsp;<span class="ident" id="8651501">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8651511">image</span><span class="op" id="8651516">.</span><span class="ident" id="8651517">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651524">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8651538">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651544">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8651558">image</span><span class="op" id="8651563">.</span><span class="ident" id="8651564">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651575">sp0</span><span class="op" id="8651578">,</span>&nbsp;<span class="ident" id="8651580">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8651589">image</span><span class="op" id="8651594">.</span><span class="ident" id="8651595">Point</span><br>
<span class="lineno"></span><span class="op" id="8651601">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8651604">var</span>&nbsp;<span class="ident" id="8651608">clipTests</span>&nbsp;<span class="op" id="8651618">=</span>&nbsp;<span class="op" id="8651620">[</span><span class="op" id="8651621">]</span><span class="ident" id="8651622">clipTest</span><span class="op" id="8651630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8651633">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8651678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8651682">&#34;basic&#34;</span><span class="op" id="8651689">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651693">image</span><span class="op" id="8651698">.</span><span class="ident" id="8651699">Rect</span><span class="op" id="8651703">(</span><span class="num" id="8651704">0</span><span class="op" id="8651705">,</span>&nbsp;<span class="num" id="8651707">0</span><span class="op" id="8651708">,</span>&nbsp;<span class="num" id="8651710">100</span><span class="op" id="8651713">,</span>&nbsp;<span class="num" id="8651715">100</span><span class="op" id="8651718">)</span><span class="op" id="8651719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651723">image</span><span class="op" id="8651728">.</span><span class="ident" id="8651729">Rect</span><span class="op" id="8651733">(</span><span class="num" id="8651734">0</span><span class="op" id="8651735">,</span>&nbsp;<span class="num" id="8651737">0</span><span class="op" id="8651738">,</span>&nbsp;<span class="num" id="8651740">100</span><span class="op" id="8651743">,</span>&nbsp;<span class="num" id="8651745">100</span><span class="op" id="8651748">)</span><span class="op" id="8651749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651753">image</span><span class="op" id="8651758">.</span><span class="ident" id="8651759">Rect</span><span class="op" id="8651763">(</span><span class="num" id="8651764">0</span><span class="op" id="8651765">,</span>&nbsp;<span class="num" id="8651767">0</span><span class="op" id="8651768">,</span>&nbsp;<span class="num" id="8651770">100</span><span class="op" id="8651773">,</span>&nbsp;<span class="num" id="8651775">100</span><span class="op" id="8651778">)</span><span class="op" id="8651779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651783">image</span><span class="op" id="8651788">.</span><span class="ident" id="8651789">ZR</span><span class="op" id="8651791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651795">image</span><span class="op" id="8651800">.</span><span class="ident" id="8651801">ZP</span><span class="op" id="8651803">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651807">image</span><span class="op" id="8651812">.</span><span class="ident" id="8651813">ZP</span><span class="op" id="8651815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8651819">true</span><span class="op" id="8651823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651827">image</span><span class="op" id="8651832">.</span><span class="ident" id="8651833">Rect</span><span class="op" id="8651837">(</span><span class="num" id="8651838">0</span><span class="op" id="8651839">,</span>&nbsp;<span class="num" id="8651841">0</span><span class="op" id="8651842">,</span>&nbsp;<span class="num" id="8651844">100</span><span class="op" id="8651847">,</span>&nbsp;<span class="num" id="8651849">100</span><span class="op" id="8651852">)</span><span class="op" id="8651853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651857">image</span><span class="op" id="8651862">.</span><span class="ident" id="8651863">ZP</span><span class="op" id="8651865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651869">image</span><span class="op" id="8651874">.</span><span class="ident" id="8651875">ZP</span><span class="op" id="8651877">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8651880">}</span><span class="op" id="8651881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8651884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8651888">&#34;clip&nbsp;dr&#34;</span><span class="op" id="8651897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651901">image</span><span class="op" id="8651906">.</span><span class="ident" id="8651907">Rect</span><span class="op" id="8651911">(</span><span class="num" id="8651912">0</span><span class="op" id="8651913">,</span>&nbsp;<span class="num" id="8651915">0</span><span class="op" id="8651916">,</span>&nbsp;<span class="num" id="8651918">100</span><span class="op" id="8651921">,</span>&nbsp;<span class="num" id="8651923">100</span><span class="op" id="8651926">)</span><span class="op" id="8651927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651931">image</span><span class="op" id="8651936">.</span><span class="ident" id="8651937">Rect</span><span class="op" id="8651941">(</span><span class="num" id="8651942">40</span><span class="op" id="8651944">,</span>&nbsp;<span class="num" id="8651946">40</span><span class="op" id="8651948">,</span>&nbsp;<span class="num" id="8651950">60</span><span class="op" id="8651952">,</span>&nbsp;<span class="num" id="8651954">60</span><span class="op" id="8651956">)</span><span class="op" id="8651957">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651961">image</span><span class="op" id="8651966">.</span><span class="ident" id="8651967">Rect</span><span class="op" id="8651971">(</span><span class="num" id="8651972">0</span><span class="op" id="8651973">,</span>&nbsp;<span class="num" id="8651975">0</span><span class="op" id="8651976">,</span>&nbsp;<span class="num" id="8651978">100</span><span class="op" id="8651981">,</span>&nbsp;<span class="num" id="8651983">100</span><span class="op" id="8651986">)</span><span class="op" id="8651987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8651991">image</span><span class="op" id="8651996">.</span><span class="ident" id="8651997">ZR</span><span class="op" id="8651999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652003">image</span><span class="op" id="8652008">.</span><span class="ident" id="8652009">ZP</span><span class="op" id="8652011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652015">image</span><span class="op" id="8652020">.</span><span class="ident" id="8652021">ZP</span><span class="op" id="8652023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8652027">true</span><span class="op" id="8652031">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652035">image</span><span class="op" id="8652040">.</span><span class="ident" id="8652041">Rect</span><span class="op" id="8652045">(</span><span class="num" id="8652046">40</span><span class="op" id="8652048">,</span>&nbsp;<span class="num" id="8652050">40</span><span class="op" id="8652052">,</span>&nbsp;<span class="num" id="8652054">60</span><span class="op" id="8652056">,</span>&nbsp;<span class="num" id="8652058">60</span><span class="op" id="8652060">)</span><span class="op" id="8652061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652065">image</span><span class="op" id="8652070">.</span><span class="ident" id="8652071">Pt</span><span class="op" id="8652073">(</span><span class="num" id="8652074">40</span><span class="op" id="8652076">,</span>&nbsp;<span class="num" id="8652078">40</span><span class="op" id="8652080">)</span><span class="op" id="8652081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652085">image</span><span class="op" id="8652090">.</span><span class="ident" id="8652091">ZP</span><span class="op" id="8652093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652096">}</span><span class="op" id="8652097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652100">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652104">&#34;clip&nbsp;sr&#34;</span><span class="op" id="8652113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652117">image</span><span class="op" id="8652122">.</span><span class="ident" id="8652123">Rect</span><span class="op" id="8652127">(</span><span class="num" id="8652128">0</span><span class="op" id="8652129">,</span>&nbsp;<span class="num" id="8652131">0</span><span class="op" id="8652132">,</span>&nbsp;<span class="num" id="8652134">100</span><span class="op" id="8652137">,</span>&nbsp;<span class="num" id="8652139">100</span><span class="op" id="8652142">)</span><span class="op" id="8652143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652147">image</span><span class="op" id="8652152">.</span><span class="ident" id="8652153">Rect</span><span class="op" id="8652157">(</span><span class="num" id="8652158">0</span><span class="op" id="8652159">,</span>&nbsp;<span class="num" id="8652161">0</span><span class="op" id="8652162">,</span>&nbsp;<span class="num" id="8652164">100</span><span class="op" id="8652167">,</span>&nbsp;<span class="num" id="8652169">100</span><span class="op" id="8652172">)</span><span class="op" id="8652173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652177">image</span><span class="op" id="8652182">.</span><span class="ident" id="8652183">Rect</span><span class="op" id="8652187">(</span><span class="num" id="8652188">20</span><span class="op" id="8652190">,</span>&nbsp;<span class="num" id="8652192">20</span><span class="op" id="8652194">,</span>&nbsp;<span class="num" id="8652196">80</span><span class="op" id="8652198">,</span>&nbsp;<span class="num" id="8652200">80</span><span class="op" id="8652202">)</span><span class="op" id="8652203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652207">image</span><span class="op" id="8652212">.</span><span class="ident" id="8652213">ZR</span><span class="op" id="8652215">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652219">image</span><span class="op" id="8652224">.</span><span class="ident" id="8652225">ZP</span><span class="op" id="8652227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652231">image</span><span class="op" id="8652236">.</span><span class="ident" id="8652237">ZP</span><span class="op" id="8652239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8652243">true</span><span class="op" id="8652247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652251">image</span><span class="op" id="8652256">.</span><span class="ident" id="8652257">Rect</span><span class="op" id="8652261">(</span><span class="num" id="8652262">20</span><span class="op" id="8652264">,</span>&nbsp;<span class="num" id="8652266">20</span><span class="op" id="8652268">,</span>&nbsp;<span class="num" id="8652270">80</span><span class="op" id="8652272">,</span>&nbsp;<span class="num" id="8652274">80</span><span class="op" id="8652276">)</span><span class="op" id="8652277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652281">image</span><span class="op" id="8652286">.</span><span class="ident" id="8652287">Pt</span><span class="op" id="8652289">(</span><span class="num" id="8652290">20</span><span class="op" id="8652292">,</span>&nbsp;<span class="num" id="8652294">20</span><span class="op" id="8652296">)</span><span class="op" id="8652297">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652301">image</span><span class="op" id="8652306">.</span><span class="ident" id="8652307">ZP</span><span class="op" id="8652309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652312">}</span><span class="op" id="8652313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652320">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="8652336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652340">image</span><span class="op" id="8652345">.</span><span class="ident" id="8652346">Rect</span><span class="op" id="8652350">(</span><span class="num" id="8652351">0</span><span class="op" id="8652352">,</span>&nbsp;<span class="num" id="8652354">0</span><span class="op" id="8652355">,</span>&nbsp;<span class="num" id="8652357">100</span><span class="op" id="8652360">,</span>&nbsp;<span class="num" id="8652362">100</span><span class="op" id="8652365">)</span><span class="op" id="8652366">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652370">image</span><span class="op" id="8652375">.</span><span class="ident" id="8652376">Rect</span><span class="op" id="8652380">(</span><span class="num" id="8652381">0</span><span class="op" id="8652382">,</span>&nbsp;<span class="num" id="8652384">0</span><span class="op" id="8652385">,</span>&nbsp;<span class="num" id="8652387">50</span><span class="op" id="8652389">,</span>&nbsp;<span class="num" id="8652391">100</span><span class="op" id="8652394">)</span><span class="op" id="8652395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652399">image</span><span class="op" id="8652404">.</span><span class="ident" id="8652405">Rect</span><span class="op" id="8652409">(</span><span class="num" id="8652410">20</span><span class="op" id="8652412">,</span>&nbsp;<span class="num" id="8652414">20</span><span class="op" id="8652416">,</span>&nbsp;<span class="num" id="8652418">80</span><span class="op" id="8652420">,</span>&nbsp;<span class="num" id="8652422">80</span><span class="op" id="8652424">)</span><span class="op" id="8652425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652429">image</span><span class="op" id="8652434">.</span><span class="ident" id="8652435">ZR</span><span class="op" id="8652437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652441">image</span><span class="op" id="8652446">.</span><span class="ident" id="8652447">ZP</span><span class="op" id="8652449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652453">image</span><span class="op" id="8652458">.</span><span class="ident" id="8652459">ZP</span><span class="op" id="8652461">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8652465">true</span><span class="op" id="8652469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652473">image</span><span class="op" id="8652478">.</span><span class="ident" id="8652479">Rect</span><span class="op" id="8652483">(</span><span class="num" id="8652484">20</span><span class="op" id="8652486">,</span>&nbsp;<span class="num" id="8652488">20</span><span class="op" id="8652490">,</span>&nbsp;<span class="num" id="8652492">50</span><span class="op" id="8652494">,</span>&nbsp;<span class="num" id="8652496">80</span><span class="op" id="8652498">)</span><span class="op" id="8652499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652503">image</span><span class="op" id="8652508">.</span><span class="ident" id="8652509">Pt</span><span class="op" id="8652511">(</span><span class="num" id="8652512">20</span><span class="op" id="8652514">,</span>&nbsp;<span class="num" id="8652516">20</span><span class="op" id="8652518">)</span><span class="op" id="8652519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652523">image</span><span class="op" id="8652528">.</span><span class="ident" id="8652529">ZP</span><span class="op" id="8652531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652534">}</span><span class="op" id="8652535">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652542">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="8652584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652588">image</span><span class="op" id="8652593">.</span><span class="ident" id="8652594">Rect</span><span class="op" id="8652598">(</span><span class="num" id="8652599">0</span><span class="op" id="8652600">,</span>&nbsp;<span class="num" id="8652602">0</span><span class="op" id="8652603">,</span>&nbsp;<span class="num" id="8652605">100</span><span class="op" id="8652608">,</span>&nbsp;<span class="num" id="8652610">100</span><span class="op" id="8652613">)</span><span class="op" id="8652614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652618">image</span><span class="op" id="8652623">.</span><span class="ident" id="8652624">Rect</span><span class="op" id="8652628">(</span><span class="num" id="8652629">0</span><span class="op" id="8652630">,</span>&nbsp;<span class="num" id="8652632">0</span><span class="op" id="8652633">,</span>&nbsp;<span class="num" id="8652635">50</span><span class="op" id="8652637">,</span>&nbsp;<span class="num" id="8652639">100</span><span class="op" id="8652642">)</span><span class="op" id="8652643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652647">image</span><span class="op" id="8652652">.</span><span class="ident" id="8652653">Rect</span><span class="op" id="8652657">(</span><span class="num" id="8652658">20</span><span class="op" id="8652660">,</span>&nbsp;<span class="num" id="8652662">20</span><span class="op" id="8652664">,</span>&nbsp;<span class="num" id="8652666">80</span><span class="op" id="8652668">,</span>&nbsp;<span class="num" id="8652670">80</span><span class="op" id="8652672">)</span><span class="op" id="8652673">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652677">image</span><span class="op" id="8652682">.</span><span class="ident" id="8652683">ZR</span><span class="op" id="8652685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652689">image</span><span class="op" id="8652694">.</span><span class="ident" id="8652695">Pt</span><span class="op" id="8652697">(</span><span class="num" id="8652698">15</span><span class="op" id="8652700">,</span>&nbsp;<span class="num" id="8652702">8</span><span class="op" id="8652703">)</span><span class="op" id="8652704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652708">image</span><span class="op" id="8652713">.</span><span class="ident" id="8652714">ZP</span><span class="op" id="8652716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8652720">true</span><span class="op" id="8652724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652728">image</span><span class="op" id="8652733">.</span><span class="ident" id="8652734">Rect</span><span class="op" id="8652738">(</span><span class="num" id="8652739">5</span><span class="op" id="8652740">,</span>&nbsp;<span class="num" id="8652742">12</span><span class="op" id="8652744">,</span>&nbsp;<span class="num" id="8652746">50</span><span class="op" id="8652748">,</span>&nbsp;<span class="num" id="8652750">72</span><span class="op" id="8652752">)</span><span class="op" id="8652753">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652757">image</span><span class="op" id="8652762">.</span><span class="ident" id="8652763">Pt</span><span class="op" id="8652765">(</span><span class="num" id="8652766">20</span><span class="op" id="8652768">,</span>&nbsp;<span class="num" id="8652770">20</span><span class="op" id="8652772">)</span><span class="op" id="8652773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652777">image</span><span class="op" id="8652782">.</span><span class="ident" id="8652783">ZP</span><span class="op" id="8652785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652788">}</span><span class="op" id="8652789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8652792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8652796">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="8652841">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652845">image</span><span class="op" id="8652850">.</span><span class="ident" id="8652851">Rect</span><span class="op" id="8652855">(</span><span class="num" id="8652856">0</span><span class="op" id="8652857">,</span>&nbsp;<span class="num" id="8652859">0</span><span class="op" id="8652860">,</span>&nbsp;<span class="num" id="8652862">100</span><span class="op" id="8652865">,</span>&nbsp;<span class="num" id="8652867">100</span><span class="op" id="8652870">)</span><span class="op" id="8652871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652875">image</span><span class="op" id="8652880">.</span><span class="ident" id="8652881">Rect</span><span class="op" id="8652885">(</span><span class="num" id="8652886">0</span><span class="op" id="8652887">,</span>&nbsp;<span class="num" id="8652889">0</span><span class="op" id="8652890">,</span>&nbsp;<span class="num" id="8652892">50</span><span class="op" id="8652894">,</span>&nbsp;<span class="num" id="8652896">100</span><span class="op" id="8652899">)</span><span class="op" id="8652900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652904">image</span><span class="op" id="8652909">.</span><span class="ident" id="8652910">Rect</span><span class="op" id="8652914">(</span><span class="num" id="8652915">20</span><span class="op" id="8652917">,</span>&nbsp;<span class="num" id="8652919">20</span><span class="op" id="8652921">,</span>&nbsp;<span class="num" id="8652923">80</span><span class="op" id="8652925">,</span>&nbsp;<span class="num" id="8652927">80</span><span class="op" id="8652929">)</span><span class="op" id="8652930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652934">image</span><span class="op" id="8652939">.</span><span class="ident" id="8652940">ZR</span><span class="op" id="8652942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652946">image</span><span class="op" id="8652951">.</span><span class="ident" id="8652952">Pt</span><span class="op" id="8652954">(</span><span class="num" id="8652955">15</span><span class="op" id="8652957">,</span>&nbsp;<span class="num" id="8652959">66</span><span class="op" id="8652961">)</span><span class="op" id="8652962">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652966">image</span><span class="op" id="8652971">.</span><span class="ident" id="8652972">ZP</span><span class="op" id="8652974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8652978">true</span><span class="op" id="8652982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8652986">image</span><span class="op" id="8652991">.</span><span class="ident" id="8652992">Rect</span><span class="op" id="8652996">(</span><span class="num" id="8652997">5</span><span class="op" id="8652998">,</span>&nbsp;<span class="num" id="8653000">0</span><span class="op" id="8653001">,</span>&nbsp;<span class="num" id="8653003">50</span><span class="op" id="8653005">,</span>&nbsp;<span class="num" id="8653007">14</span><span class="op" id="8653009">)</span><span class="op" id="8653010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653014">image</span><span class="op" id="8653019">.</span><span class="ident" id="8653020">Pt</span><span class="op" id="8653022">(</span><span class="num" id="8653023">20</span><span class="op" id="8653025">,</span>&nbsp;<span class="num" id="8653027">66</span><span class="op" id="8653029">)</span><span class="op" id="8653030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653034">image</span><span class="op" id="8653039">.</span><span class="ident" id="8653040">ZP</span><span class="op" id="8653042">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653045">}</span><span class="op" id="8653046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8653053">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="8653098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653102">image</span><span class="op" id="8653107">.</span><span class="ident" id="8653108">Rect</span><span class="op" id="8653112">(</span><span class="num" id="8653113">0</span><span class="op" id="8653114">,</span>&nbsp;<span class="num" id="8653116">0</span><span class="op" id="8653117">,</span>&nbsp;<span class="num" id="8653119">100</span><span class="op" id="8653122">,</span>&nbsp;<span class="num" id="8653124">100</span><span class="op" id="8653127">)</span><span class="op" id="8653128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653132">image</span><span class="op" id="8653137">.</span><span class="ident" id="8653138">Rect</span><span class="op" id="8653142">(</span><span class="num" id="8653143">0</span><span class="op" id="8653144">,</span>&nbsp;<span class="num" id="8653146">0</span><span class="op" id="8653147">,</span>&nbsp;<span class="num" id="8653149">50</span><span class="op" id="8653151">,</span>&nbsp;<span class="num" id="8653153">100</span><span class="op" id="8653156">)</span><span class="op" id="8653157">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653161">image</span><span class="op" id="8653166">.</span><span class="ident" id="8653167">Rect</span><span class="op" id="8653171">(</span><span class="num" id="8653172">20</span><span class="op" id="8653174">,</span>&nbsp;<span class="num" id="8653176">20</span><span class="op" id="8653178">,</span>&nbsp;<span class="num" id="8653180">80</span><span class="op" id="8653182">,</span>&nbsp;<span class="num" id="8653184">80</span><span class="op" id="8653186">)</span><span class="op" id="8653187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653191">image</span><span class="op" id="8653196">.</span><span class="ident" id="8653197">ZR</span><span class="op" id="8653199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653203">image</span><span class="op" id="8653208">.</span><span class="ident" id="8653209">Pt</span><span class="op" id="8653211">(</span><span class="num" id="8653212">15</span><span class="op" id="8653214">,</span>&nbsp;<span class="num" id="8653216">91</span><span class="op" id="8653218">)</span><span class="op" id="8653219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653223">image</span><span class="op" id="8653228">.</span><span class="ident" id="8653229">ZP</span><span class="op" id="8653231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8653235">true</span><span class="op" id="8653239">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653243">image</span><span class="op" id="8653248">.</span><span class="ident" id="8653249">ZR</span><span class="op" id="8653251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653255">image</span><span class="op" id="8653260">.</span><span class="ident" id="8653261">Pt</span><span class="op" id="8653263">(</span><span class="num" id="8653264">15</span><span class="op" id="8653266">,</span>&nbsp;<span class="num" id="8653268">91</span><span class="op" id="8653270">)</span><span class="op" id="8653271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653275">image</span><span class="op" id="8653280">.</span><span class="ident" id="8653281">ZP</span><span class="op" id="8653283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653286">}</span><span class="op" id="8653287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653290">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8653294">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="8653324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653328">image</span><span class="op" id="8653333">.</span><span class="ident" id="8653334">Rect</span><span class="op" id="8653338">(</span><span class="num" id="8653339">0</span><span class="op" id="8653340">,</span>&nbsp;<span class="num" id="8653342">0</span><span class="op" id="8653343">,</span>&nbsp;<span class="num" id="8653345">100</span><span class="op" id="8653348">,</span>&nbsp;<span class="num" id="8653350">100</span><span class="op" id="8653353">)</span><span class="op" id="8653354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653358">image</span><span class="op" id="8653363">.</span><span class="ident" id="8653364">Rect</span><span class="op" id="8653368">(</span><span class="num" id="8653369">0</span><span class="op" id="8653370">,</span>&nbsp;<span class="num" id="8653372">0</span><span class="op" id="8653373">,</span>&nbsp;<span class="num" id="8653375">50</span><span class="op" id="8653377">,</span>&nbsp;<span class="num" id="8653379">100</span><span class="op" id="8653382">)</span><span class="op" id="8653383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653387">image</span><span class="op" id="8653392">.</span><span class="ident" id="8653393">Rect</span><span class="op" id="8653397">(</span><span class="num" id="8653398">20</span><span class="op" id="8653400">,</span>&nbsp;<span class="num" id="8653402">20</span><span class="op" id="8653404">,</span>&nbsp;<span class="num" id="8653406">80</span><span class="op" id="8653408">,</span>&nbsp;<span class="num" id="8653410">80</span><span class="op" id="8653412">)</span><span class="op" id="8653413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653417">image</span><span class="op" id="8653422">.</span><span class="ident" id="8653423">ZR</span><span class="op" id="8653425">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653429">image</span><span class="op" id="8653434">.</span><span class="ident" id="8653435">Pt</span><span class="op" id="8653437">(</span><span class="num" id="8653438">44</span><span class="op" id="8653440">,</span>&nbsp;<span class="num" id="8653442">33</span><span class="op" id="8653444">)</span><span class="op" id="8653445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653449">image</span><span class="op" id="8653454">.</span><span class="ident" id="8653455">ZP</span><span class="op" id="8653457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8653461">true</span><span class="op" id="8653465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653469">image</span><span class="op" id="8653474">.</span><span class="ident" id="8653475">Rect</span><span class="op" id="8653479">(</span><span class="num" id="8653480">0</span><span class="op" id="8653481">,</span>&nbsp;<span class="num" id="8653483">0</span><span class="op" id="8653484">,</span>&nbsp;<span class="num" id="8653486">36</span><span class="op" id="8653488">,</span>&nbsp;<span class="num" id="8653490">47</span><span class="op" id="8653492">)</span><span class="op" id="8653493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653497">image</span><span class="op" id="8653502">.</span><span class="ident" id="8653503">Pt</span><span class="op" id="8653505">(</span><span class="num" id="8653506">44</span><span class="op" id="8653508">,</span>&nbsp;<span class="num" id="8653510">33</span><span class="op" id="8653512">)</span><span class="op" id="8653513">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653517">image</span><span class="op" id="8653522">.</span><span class="ident" id="8653523">ZP</span><span class="op" id="8653525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653528">}</span><span class="op" id="8653529">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8653533">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653582">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8653586">&#34;basic&nbsp;mask&#34;</span><span class="op" id="8653598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653602">image</span><span class="op" id="8653607">.</span><span class="ident" id="8653608">Rect</span><span class="op" id="8653612">(</span><span class="num" id="8653613">0</span><span class="op" id="8653614">,</span>&nbsp;<span class="num" id="8653616">0</span><span class="op" id="8653617">,</span>&nbsp;<span class="num" id="8653619">80</span><span class="op" id="8653621">,</span>&nbsp;<span class="num" id="8653623">80</span><span class="op" id="8653625">)</span><span class="op" id="8653626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653630">image</span><span class="op" id="8653635">.</span><span class="ident" id="8653636">Rect</span><span class="op" id="8653640">(</span><span class="num" id="8653641">20</span><span class="op" id="8653643">,</span>&nbsp;<span class="num" id="8653645">0</span><span class="op" id="8653646">,</span>&nbsp;<span class="num" id="8653648">100</span><span class="op" id="8653651">,</span>&nbsp;<span class="num" id="8653653">80</span><span class="op" id="8653655">)</span><span class="op" id="8653656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653660">image</span><span class="op" id="8653665">.</span><span class="ident" id="8653666">Rect</span><span class="op" id="8653670">(</span><span class="num" id="8653671">0</span><span class="op" id="8653672">,</span>&nbsp;<span class="num" id="8653674">0</span><span class="op" id="8653675">,</span>&nbsp;<span class="num" id="8653677">50</span><span class="op" id="8653679">,</span>&nbsp;<span class="num" id="8653681">49</span><span class="op" id="8653683">)</span><span class="op" id="8653684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653688">image</span><span class="op" id="8653693">.</span><span class="ident" id="8653694">Rect</span><span class="op" id="8653698">(</span><span class="num" id="8653699">0</span><span class="op" id="8653700">,</span>&nbsp;<span class="num" id="8653702">0</span><span class="op" id="8653703">,</span>&nbsp;<span class="num" id="8653705">46</span><span class="op" id="8653707">,</span>&nbsp;<span class="num" id="8653709">47</span><span class="op" id="8653711">)</span><span class="op" id="8653712">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653716">image</span><span class="op" id="8653721">.</span><span class="ident" id="8653722">ZP</span><span class="op" id="8653724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653728">image</span><span class="op" id="8653733">.</span><span class="ident" id="8653734">ZP</span><span class="op" id="8653736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8653740">false</span><span class="op" id="8653745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653749">image</span><span class="op" id="8653754">.</span><span class="ident" id="8653755">Rect</span><span class="op" id="8653759">(</span><span class="num" id="8653760">20</span><span class="op" id="8653762">,</span>&nbsp;<span class="num" id="8653764">0</span><span class="op" id="8653765">,</span>&nbsp;<span class="num" id="8653767">46</span><span class="op" id="8653769">,</span>&nbsp;<span class="num" id="8653771">47</span><span class="op" id="8653773">)</span><span class="op" id="8653774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653778">image</span><span class="op" id="8653783">.</span><span class="ident" id="8653784">Pt</span><span class="op" id="8653786">(</span><span class="num" id="8653787">20</span><span class="op" id="8653789">,</span>&nbsp;<span class="num" id="8653791">0</span><span class="op" id="8653792">)</span><span class="op" id="8653793">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653797">image</span><span class="op" id="8653802">.</span><span class="ident" id="8653803">Pt</span><span class="op" id="8653805">(</span><span class="num" id="8653806">20</span><span class="op" id="8653808">,</span>&nbsp;<span class="num" id="8653810">0</span><span class="op" id="8653811">)</span><span class="op" id="8653812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8653815">}</span><span class="op" id="8653816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8653819">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="8653856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="8653859">func</span>&nbsp;<span class="ident" id="8653864">TestClip</span><span class="op" id="8653872">(</span><span class="ident" id="8653873">t</span>&nbsp;<span class="op" id="8653875">*</span><span class="ident" id="8653876">testing</span><span class="op" id="8653883">.</span><span class="ident" id="8653884">T</span><span class="op" id="8653885">)</span>&nbsp;<span class="op" id="8653887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653890">dst0</span>&nbsp;<span class="op" id="8653895">:=</span>&nbsp;<span class="ident" id="8653898">image</span><span class="op" id="8653903">.</span><span class="ident" id="8653904">NewRGBA</span><span class="op" id="8653911">(</span><span class="ident" id="8653912">image</span><span class="op" id="8653917">.</span><span class="ident" id="8653918">Rect</span><span class="op" id="8653922">(</span><span class="num" id="8653923">0</span><span class="op" id="8653924">,</span>&nbsp;<span class="num" id="8653926">0</span><span class="op" id="8653927">,</span>&nbsp;<span class="num" id="8653929">100</span><span class="op" id="8653932">,</span>&nbsp;<span class="num" id="8653934">100</span><span class="op" id="8653937">)</span><span class="op" id="8653938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653941">src0</span>&nbsp;<span class="op" id="8653946">:=</span>&nbsp;<span class="ident" id="8653949">image</span><span class="op" id="8653954">.</span><span class="ident" id="8653955">NewRGBA</span><span class="op" id="8653962">(</span><span class="ident" id="8653963">image</span><span class="op" id="8653968">.</span><span class="ident" id="8653969">Rect</span><span class="op" id="8653973">(</span><span class="num" id="8653974">0</span><span class="op" id="8653975">,</span>&nbsp;<span class="num" id="8653977">0</span><span class="op" id="8653978">,</span>&nbsp;<span class="num" id="8653980">100</span><span class="op" id="8653983">,</span>&nbsp;<span class="num" id="8653985">100</span><span class="op" id="8653988">)</span><span class="op" id="8653989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8653992">mask0</span>&nbsp;<span class="op" id="8653998">:=</span>&nbsp;<span class="ident" id="8654001">image</span><span class="op" id="8654006">.</span><span class="ident" id="8654007">NewRGBA</span><span class="op" id="8654014">(</span><span class="ident" id="8654015">image</span><span class="op" id="8654020">.</span><span class="ident" id="8654021">Rect</span><span class="op" id="8654025">(</span><span class="num" id="8654026">0</span><span class="op" id="8654027">,</span>&nbsp;<span class="num" id="8654029">0</span><span class="op" id="8654030">,</span>&nbsp;<span class="num" id="8654032">100</span><span class="op" id="8654035">,</span>&nbsp;<span class="num" id="8654037">100</span><span class="op" id="8654040">)</span><span class="op" id="8654041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654044">for</span>&nbsp;<span class="ident" id="8654048">_</span><span class="op" id="8654049">,</span>&nbsp;<span class="ident" id="8654051">c</span>&nbsp;<span class="op" id="8654053">:=</span>&nbsp;<span class="keyword" id="8654056">range</span>&nbsp;<span class="ident" id="8654062">clipTests</span>&nbsp;<span class="op" id="8654072">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654076">dst</span>&nbsp;<span class="op" id="8654080">:=</span>&nbsp;<span class="ident" id="8654083">dst0</span><span class="op" id="8654087">.</span><span class="ident" id="8654088">SubImage</span><span class="op" id="8654096">(</span><span class="ident" id="8654097">c</span><span class="op" id="8654098">.</span><span class="ident" id="8654099">dr</span><span class="op" id="8654101">)</span><span class="op" id="8654102">.</span><span class="op" id="8654103">(</span><span class="op" id="8654104">*</span><span class="ident" id="8654105">image</span><span class="op" id="8654110">.</span><span class="ident" id="8654111">RGBA</span><span class="op" id="8654115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654119">src</span>&nbsp;<span class="op" id="8654123">:=</span>&nbsp;<span class="ident" id="8654126">src0</span><span class="op" id="8654130">.</span><span class="ident" id="8654131">SubImage</span><span class="op" id="8654139">(</span><span class="ident" id="8654140">c</span><span class="op" id="8654141">.</span><span class="ident" id="8654142">sr</span><span class="op" id="8654144">)</span><span class="op" id="8654145">.</span><span class="op" id="8654146">(</span><span class="op" id="8654147">*</span><span class="ident" id="8654148">image</span><span class="op" id="8654153">.</span><span class="ident" id="8654154">RGBA</span><span class="op" id="8654158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654162">var</span>&nbsp;<span class="ident" id="8654166">mask</span>&nbsp;<span class="ident" id="8654171">image</span><span class="op" id="8654176">.</span><span class="ident" id="8654177">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654185">if</span>&nbsp;<span class="op" id="8654188">!</span><span class="ident" id="8654189">c</span><span class="op" id="8654190">.</span><span class="ident" id="8654191">nilMask</span>&nbsp;<span class="op" id="8654199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654204">mask</span>&nbsp;<span class="op" id="8654209">=</span>&nbsp;<span class="ident" id="8654211">mask0</span><span class="op" id="8654216">.</span><span class="ident" id="8654217">SubImage</span><span class="op" id="8654225">(</span><span class="ident" id="8654226">c</span><span class="op" id="8654227">.</span><span class="ident" id="8654228">mr</span><span class="op" id="8654230">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654238">r</span><span class="op" id="8654239">,</span>&nbsp;<span class="ident" id="8654241">sp</span><span class="op" id="8654243">,</span>&nbsp;<span class="ident" id="8654245">mp</span>&nbsp;<span class="op" id="8654248">:=</span>&nbsp;<span class="ident" id="8654251">c</span><span class="op" id="8654252">.</span><span class="ident" id="8654253">r</span><span class="op" id="8654254">,</span>&nbsp;<span class="ident" id="8654256">c</span><span class="op" id="8654257">.</span><span class="ident" id="8654258">sp</span><span class="op" id="8654260">,</span>&nbsp;<span class="ident" id="8654262">c</span><span class="op" id="8654263">.</span><span class="ident" id="8654264">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654269">clip</span><span class="op" id="8654273">(</span><span class="ident" id="8654274">dst</span><span class="op" id="8654277">,</span>&nbsp;<span class="op" id="8654279">&amp;</span><span class="ident" id="8654280">r</span><span class="op" id="8654281">,</span>&nbsp;<span class="ident" id="8654283">src</span><span class="op" id="8654286">,</span>&nbsp;<span class="op" id="8654288">&amp;</span><span class="ident" id="8654289">sp</span><span class="op" id="8654291">,</span>&nbsp;<span class="ident" id="8654293">mask</span><span class="op" id="8654297">,</span>&nbsp;<span class="op" id="8654299">&amp;</span><span class="ident" id="8654300">mp</span><span class="op" id="8654302">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654307">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654370">if</span>&nbsp;<span class="op" id="8654373">!</span><span class="ident" id="8654374">c</span><span class="op" id="8654375">.</span><span class="ident" id="8654376">r0</span><span class="op" id="8654378">.</span><span class="ident" id="8654379">Eq</span><span class="op" id="8654381">(</span><span class="ident" id="8654382">r</span><span class="op" id="8654383">)</span>&nbsp;<span class="op" id="8654385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654390">t</span><span class="op" id="8654391">.</span><span class="ident" id="8654392">Errorf</span><span class="op" id="8654398">(</span><span class="string" id="8654399">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8654434">,</span>&nbsp;<span class="ident" id="8654436">c</span><span class="op" id="8654437">.</span><span class="ident" id="8654438">desc</span><span class="op" id="8654442">,</span>&nbsp;<span class="ident" id="8654444">c</span><span class="op" id="8654445">.</span><span class="ident" id="8654446">r0</span><span class="op" id="8654448">,</span>&nbsp;<span class="ident" id="8654450">r</span><span class="op" id="8654451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654456">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654471">if</span>&nbsp;<span class="op" id="8654474">!</span><span class="ident" id="8654475">c</span><span class="op" id="8654476">.</span><span class="ident" id="8654477">sp0</span><span class="op" id="8654480">.</span><span class="ident" id="8654481">Eq</span><span class="op" id="8654483">(</span><span class="ident" id="8654484">sp</span><span class="op" id="8654486">)</span>&nbsp;<span class="op" id="8654488">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654493">t</span><span class="op" id="8654494">.</span><span class="ident" id="8654495">Errorf</span><span class="op" id="8654501">(</span><span class="string" id="8654502">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8654525">,</span>&nbsp;<span class="ident" id="8654527">c</span><span class="op" id="8654528">.</span><span class="ident" id="8654529">desc</span><span class="op" id="8654533">,</span>&nbsp;<span class="ident" id="8654535">c</span><span class="op" id="8654536">.</span><span class="ident" id="8654537">sp0</span><span class="op" id="8654540">,</span>&nbsp;<span class="ident" id="8654542">sp</span><span class="op" id="8654544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654549">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654564">if</span>&nbsp;<span class="op" id="8654567">!</span><span class="ident" id="8654568">c</span><span class="op" id="8654569">.</span><span class="ident" id="8654570">nilMask</span>&nbsp;<span class="op" id="8654578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654583">if</span>&nbsp;<span class="op" id="8654586">!</span><span class="ident" id="8654587">c</span><span class="op" id="8654588">.</span><span class="ident" id="8654589">mp0</span><span class="op" id="8654592">.</span><span class="ident" id="8654593">Eq</span><span class="op" id="8654595">(</span><span class="ident" id="8654596">mp</span><span class="op" id="8654598">)</span>&nbsp;<span class="op" id="8654600">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654606">t</span><span class="op" id="8654607">.</span><span class="ident" id="8654608">Errorf</span><span class="op" id="8654614">(</span><span class="string" id="8654615">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8654638">,</span>&nbsp;<span class="ident" id="8654640">c</span><span class="op" id="8654641">.</span><span class="ident" id="8654642">desc</span><span class="op" id="8654646">,</span>&nbsp;<span class="ident" id="8654648">c</span><span class="op" id="8654649">.</span><span class="ident" id="8654650">mp0</span><span class="op" id="8654653">,</span>&nbsp;<span class="ident" id="8654655">mp</span><span class="op" id="8654657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654663">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654684">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654759">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654816">if</span>&nbsp;<span class="op" id="8654819">!</span><span class="ident" id="8654820">r</span><span class="op" id="8654821">.</span><span class="ident" id="8654822">In</span><span class="op" id="8654824">(</span><span class="ident" id="8654825">c</span><span class="op" id="8654826">.</span><span class="ident" id="8654827">dr</span><span class="op" id="8654829">)</span>&nbsp;<span class="op" id="8654831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654836">t</span><span class="op" id="8654837">.</span><span class="ident" id="8654838">Errorf</span><span class="op" id="8654844">(</span><span class="string" id="8654845">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="8654880">,</span>&nbsp;<span class="ident" id="8654882">c</span><span class="op" id="8654883">.</span><span class="ident" id="8654884">desc</span><span class="op" id="8654888">,</span>&nbsp;<span class="ident" id="8654890">c</span><span class="op" id="8654891">.</span><span class="ident" id="8654892">dr</span><span class="op" id="8654894">,</span>&nbsp;<span class="ident" id="8654896">r</span><span class="op" id="8654897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8654901">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8654905">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8654959">sr</span>&nbsp;<span class="op" id="8654962">:=</span>&nbsp;<span class="ident" id="8654965">r</span><span class="op" id="8654966">.</span><span class="ident" id="8654967">Add</span><span class="op" id="8654970">(</span><span class="ident" id="8654971">c</span><span class="op" id="8654972">.</span><span class="ident" id="8654973">sp</span><span class="op" id="8654975">.</span><span class="ident" id="8654976">Sub</span><span class="op" id="8654979">(</span><span class="ident" id="8654980">c</span><span class="op" id="8654981">.</span><span class="ident" id="8654982">dr</span><span class="op" id="8654984">.</span><span class="ident" id="8654985">Min</span><span class="op" id="8654988">)</span><span class="op" id="8654989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8654993">if</span>&nbsp;<span class="op" id="8654996">!</span><span class="ident" id="8654997">sr</span><span class="op" id="8654999">.</span><span class="ident" id="8655000">In</span><span class="op" id="8655002">(</span><span class="ident" id="8655003">c</span><span class="op" id="8655004">.</span><span class="ident" id="8655005">sr</span><span class="op" id="8655007">)</span>&nbsp;<span class="op" id="8655009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8655014">t</span><span class="op" id="8655015">.</span><span class="ident" id="8655016">Errorf</span><span class="op" id="8655022">(</span><span class="string" id="8655023">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="8655059">,</span>&nbsp;<span class="ident" id="8655061">c</span><span class="op" id="8655062">.</span><span class="ident" id="8655063">desc</span><span class="op" id="8655067">,</span>&nbsp;<span class="ident" id="8655069">c</span><span class="op" id="8655070">.</span><span class="ident" id="8655071">sr</span><span class="op" id="8655073">,</span>&nbsp;<span class="ident" id="8655075">sr</span><span class="op" id="8655077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655081">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8655085">if</span>&nbsp;<span class="op" id="8655088">!</span><span class="ident" id="8655089">c</span><span class="op" id="8655090">.</span><span class="ident" id="8655091">nilMask</span>&nbsp;<span class="op" id="8655099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8655104">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8655160">mr</span>&nbsp;<span class="op" id="8655163">:=</span>&nbsp;<span class="ident" id="8655166">r</span><span class="op" id="8655167">.</span><span class="ident" id="8655168">Add</span><span class="op" id="8655171">(</span><span class="ident" id="8655172">c</span><span class="op" id="8655173">.</span><span class="ident" id="8655174">mp</span><span class="op" id="8655176">.</span><span class="ident" id="8655177">Sub</span><span class="op" id="8655180">(</span><span class="ident" id="8655181">c</span><span class="op" id="8655182">.</span><span class="ident" id="8655183">dr</span><span class="op" id="8655185">.</span><span class="ident" id="8655186">Min</span><span class="op" id="8655189">)</span><span class="op" id="8655190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8655195">if</span>&nbsp;<span class="op" id="8655198">!</span><span class="ident" id="8655199">mr</span><span class="op" id="8655201">.</span><span class="ident" id="8655202">In</span><span class="op" id="8655204">(</span><span class="ident" id="8655205">c</span><span class="op" id="8655206">.</span><span class="ident" id="8655207">mr</span><span class="op" id="8655209">)</span>&nbsp;<span class="op" id="8655211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8655217">t</span><span class="op" id="8655218">.</span><span class="ident" id="8655219">Errorf</span><span class="op" id="8655225">(</span><span class="string" id="8655226">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="8655262">,</span>&nbsp;<span class="ident" id="8655264">c</span><span class="op" id="8655265">.</span><span class="ident" id="8655266">desc</span><span class="op" id="8655270">,</span>&nbsp;<span class="ident" id="8655272">c</span><span class="op" id="8655273">.</span><span class="ident" id="8655274">mr</span><span class="op" id="8655276">,</span>&nbsp;<span class="ident" id="8655278">mr</span><span class="op" id="8655280">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8655292">}</span><br>
<span class="lineno"></span><span class="op" id="8655294">}</span>
</div>
</body>
</html>
