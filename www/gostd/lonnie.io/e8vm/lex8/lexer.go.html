<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/lex8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error.go.html">error.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error_list.go.html">error_list.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lex_scanner.go.html">lex_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lexer.go.html">lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/pos.go.html">pos.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/rune_scanner.go.html">rune_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/token.go.html">token.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4897328">package</span>&nbsp;<span class="ident" id="4897336">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4897342">import</span>&nbsp;<span class="op" id="4897349">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4897352">&#34;io&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4897357">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4897360">//&nbsp;Lexer&nbsp;parses&nbsp;a&nbsp;file&nbsp;input&nbsp;stream&nbsp;into&nbsp;tokens.</span><br>
<span class="lineno"></span><span class="keyword" id="4897409">type</span>&nbsp;<span class="ident" id="4897414">Lexer</span>&nbsp;<span class="keyword" id="4897420">struct</span>&nbsp;<span class="op" id="4897427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897430">s</span>&nbsp;<span class="op" id="4897432">*</span><span class="ident" id="4897433">LexScanner</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897446">e</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4897451">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897458">errs</span>&nbsp;<span class="op" id="4897463">*</span><span class="ident" id="4897464">ErrorList</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897476">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4897484">rune</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897490">IsWhite</span>&nbsp;<span class="keyword" id="4897498">func</span><span class="op" id="4897502">(</span><span class="ident" id="4897503">r</span>&nbsp;<span class="builtintype" id="4897505">rune</span><span class="op" id="4897509">)</span>&nbsp;<span class="builtintype" id="4897511">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897517">LexFunc</span>&nbsp;<span class="keyword" id="4897525">func</span><span class="op" id="4897529">(</span><span class="ident" id="4897530">x</span>&nbsp;<span class="op" id="4897532">*</span><span class="ident" id="4897533">Lexer</span><span class="op" id="4897538">)</span>&nbsp;<span class="op" id="4897540">*</span><span class="ident" id="4897541">Token</span><br>
<span class="lineno"></span><span class="op" id="4897547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4897550">//&nbsp;NewLexer&nbsp;creates&nbsp;a&nbsp;new&nbsp;lexer.</span><br>
<span class="lineno">20</span><span class="keyword" id="4897583">func</span>&nbsp;<span class="ident" id="4897588">NewLexer</span><span class="op" id="4897596">(</span><span class="ident" id="4897597">file</span>&nbsp;<span class="builtintype" id="4897602">string</span><span class="op" id="4897608">,</span>&nbsp;<span class="ident" id="4897610">r</span>&nbsp;<span class="ident" id="4897612">io</span><span class="op" id="4897614">.</span><span class="ident" id="4897615">ReadCloser</span><span class="op" id="4897625">)</span>&nbsp;<span class="op" id="4897627">*</span><span class="ident" id="4897628">Lexer</span>&nbsp;<span class="op" id="4897634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897637">ret</span>&nbsp;<span class="op" id="4897641">:=</span>&nbsp;<span class="builtinfunc" id="4897644">new</span><span class="op" id="4897647">(</span><span class="ident" id="4897648">Lexer</span><span class="op" id="4897653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897656">ret</span><span class="op" id="4897659">.</span><span class="ident" id="4897660">s</span>&nbsp;<span class="op" id="4897662">=</span>&nbsp;<span class="ident" id="4897664">NewLexScanner</span><span class="op" id="4897677">(</span><span class="ident" id="4897678">file</span><span class="op" id="4897682">,</span>&nbsp;<span class="ident" id="4897684">r</span><span class="op" id="4897685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897688">ret</span><span class="op" id="4897691">.</span><span class="ident" id="4897692">errs</span>&nbsp;<span class="op" id="4897697">=</span>&nbsp;<span class="ident" id="4897699">NewErrList</span><span class="op" id="4897709">(</span><span class="op" id="4897710">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897714">ret</span><span class="op" id="4897717">.</span><span class="ident" id="4897718">IsWhite</span>&nbsp;<span class="op" id="4897726">=</span>&nbsp;<span class="keyword" id="4897728">func</span><span class="op" id="4897732">(</span><span class="ident" id="4897733">r</span>&nbsp;<span class="builtintype" id="4897735">rune</span><span class="op" id="4897739">)</span>&nbsp;<span class="builtintype" id="4897741">bool</span>&nbsp;<span class="op" id="4897746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897750">return</span>&nbsp;<span class="ident" id="4897757">r</span>&nbsp;<span class="op" id="4897759">==</span>&nbsp;<span class="string" id="4897762">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4897766">||</span>&nbsp;<span class="ident" id="4897769">r</span>&nbsp;<span class="op" id="4897771">==</span>&nbsp;<span class="string" id="4897774">&#39;\t&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897784">ret</span><span class="op" id="4897787">.</span><span class="ident" id="4897788">Next</span><span class="op" id="4897792">(</span><span class="op" id="4897793">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897797">return</span>&nbsp;<span class="ident" id="4897804">ret</span><br>
<span class="lineno"></span><span class="op" id="4897808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4897811">//&nbsp;Next&nbsp;pushes&nbsp;the&nbsp;current&nbsp;rune&nbsp;into&nbsp;the&nbsp;scanning&nbsp;buffer,</span><br>
<span class="lineno">35</span><span class="comment" id="4897869">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="4897899">func</span>&nbsp;<span class="op" id="4897904">(</span><span class="ident" id="4897905">x</span>&nbsp;<span class="op" id="4897907">*</span><span class="ident" id="4897908">Lexer</span><span class="op" id="4897913">)</span>&nbsp;<span class="ident" id="4897915">Next</span><span class="op" id="4897919">(</span><span class="op" id="4897920">)</span>&nbsp;<span class="op" id="4897922">(</span><span class="builtintype" id="4897923">rune</span><span class="op" id="4897927">,</span>&nbsp;<span class="builtintype" id="4897929">error</span><span class="op" id="4897934">)</span>&nbsp;<span class="op" id="4897936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897939">x</span><span class="op" id="4897940">.</span><span class="ident" id="4897941">r</span><span class="op" id="4897942">,</span>&nbsp;<span class="ident" id="4897944">x</span><span class="op" id="4897945">.</span><span class="ident" id="4897946">e</span>&nbsp;<span class="op" id="4897948">=</span>&nbsp;<span class="ident" id="4897950">x</span><span class="op" id="4897951">.</span><span class="ident" id="4897952">s</span><span class="op" id="4897953">.</span><span class="ident" id="4897954">Next</span><span class="op" id="4897958">(</span><span class="op" id="4897959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897962">return</span>&nbsp;<span class="ident" id="4897969">x</span><span class="op" id="4897970">.</span><span class="ident" id="4897971">r</span><span class="op" id="4897972">,</span>&nbsp;<span class="ident" id="4897974">x</span><span class="op" id="4897975">.</span><span class="ident" id="4897976">e</span><br>
<span class="lineno"></span><span class="op" id="4897978">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="4897981">//&nbsp;Rune&nbsp;returns&nbsp;the&nbsp;current&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="4898015">func</span>&nbsp;<span class="op" id="4898020">(</span><span class="ident" id="4898021">x</span>&nbsp;<span class="op" id="4898023">*</span><span class="ident" id="4898024">Lexer</span><span class="op" id="4898029">)</span>&nbsp;<span class="ident" id="4898031">Rune</span><span class="op" id="4898035">(</span><span class="op" id="4898036">)</span>&nbsp;<span class="builtintype" id="4898038">rune</span>&nbsp;<span class="op" id="4898043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898046">return</span>&nbsp;<span class="ident" id="4898053">x</span><span class="op" id="4898054">.</span><span class="ident" id="4898055">r</span><br>
<span class="lineno"></span><span class="op" id="4898057">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="4898060">//&nbsp;See&nbsp;returns&nbsp;true&nbsp;when&nbsp;the&nbsp;current&nbsp;rune&nbsp;is&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="4898108">func</span>&nbsp;<span class="op" id="4898113">(</span><span class="ident" id="4898114">x</span>&nbsp;<span class="op" id="4898116">*</span><span class="ident" id="4898117">Lexer</span><span class="op" id="4898122">)</span>&nbsp;<span class="ident" id="4898124">See</span><span class="op" id="4898127">(</span><span class="ident" id="4898128">r</span>&nbsp;<span class="builtintype" id="4898130">rune</span><span class="op" id="4898134">)</span>&nbsp;<span class="builtintype" id="4898136">bool</span>&nbsp;<span class="op" id="4898141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898144">return</span>&nbsp;<span class="ident" id="4898151">x</span><span class="op" id="4898152">.</span><span class="ident" id="4898153">r</span>&nbsp;<span class="op" id="4898155">==</span>&nbsp;<span class="ident" id="4898158">r</span><br>
<span class="lineno"></span><span class="op" id="4898160">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="4898163">//&nbsp;Discard&nbsp;clears&nbsp;the&nbsp;scanning&nbsp;buffer</span><br>
<span class="lineno"></span><span class="keyword" id="4898201">func</span>&nbsp;<span class="op" id="4898206">(</span><span class="ident" id="4898207">x</span>&nbsp;<span class="op" id="4898209">*</span><span class="ident" id="4898210">Lexer</span><span class="op" id="4898215">)</span>&nbsp;<span class="ident" id="4898217">Discard</span><span class="op" id="4898224">(</span><span class="op" id="4898225">)</span>&nbsp;<span class="op" id="4898227">{</span>&nbsp;<span class="ident" id="4898229">x</span><span class="op" id="4898230">.</span><span class="ident" id="4898231">s</span><span class="op" id="4898232">.</span><span class="ident" id="4898233">Accept</span><span class="op" id="4898239">(</span><span class="op" id="4898240">)</span>&nbsp;<span class="op" id="4898242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4898245">//&nbsp;Ended&nbsp;returns&nbsp;true&nbsp;when&nbsp;the&nbsp;scanning&nbsp;stops.</span><br>
<span class="lineno">55</span><span class="keyword" id="4898292">func</span>&nbsp;<span class="op" id="4898297">(</span><span class="ident" id="4898298">x</span>&nbsp;<span class="op" id="4898300">*</span><span class="ident" id="4898301">Lexer</span><span class="op" id="4898306">)</span>&nbsp;<span class="ident" id="4898308">Ended</span><span class="op" id="4898313">(</span><span class="op" id="4898314">)</span>&nbsp;<span class="builtintype" id="4898316">bool</span>&nbsp;<span class="op" id="4898321">{</span>&nbsp;<span class="keyword" id="4898323">return</span>&nbsp;<span class="ident" id="4898330">x</span><span class="op" id="4898331">.</span><span class="ident" id="4898332">e</span>&nbsp;<span class="op" id="4898334">!=</span>&nbsp;<span class="ident" id="4898337">nil</span>&nbsp;<span class="op" id="4898341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4898344">//&nbsp;SkipWhite&nbsp;is&nbsp;a&nbsp;helper&nbsp;function&nbsp;that&nbsp;skips</span><br>
<span class="lineno"></span><span class="comment" id="4898389">//&nbsp;any&nbsp;rune&nbsp;that&nbsp;returns&nbsp;true&nbsp;by&nbsp;IsWhite&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="4898440">//&nbsp;The&nbsp;buffer&nbsp;is&nbsp;discarded&nbsp;after&nbsp;the&nbsp;skipping.</span><br>
<span class="lineno">60</span><span class="keyword" id="4898487">func</span>&nbsp;<span class="op" id="4898492">(</span><span class="ident" id="4898493">x</span>&nbsp;<span class="op" id="4898495">*</span><span class="ident" id="4898496">Lexer</span><span class="op" id="4898501">)</span>&nbsp;<span class="ident" id="4898503">SkipWhite</span><span class="op" id="4898512">(</span><span class="op" id="4898513">)</span>&nbsp;<span class="op" id="4898515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898518">for</span>&nbsp;<span class="op" id="4898522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898526">if</span>&nbsp;<span class="ident" id="4898529">x</span><span class="op" id="4898530">.</span><span class="ident" id="4898531">Ended</span><span class="op" id="4898536">(</span><span class="op" id="4898537">)</span>&nbsp;<span class="op" id="4898539">||</span>&nbsp;<span class="op" id="4898542">!</span><span class="ident" id="4898543">x</span><span class="op" id="4898544">.</span><span class="ident" id="4898545">IsWhite</span><span class="op" id="4898552">(</span><span class="ident" id="4898553">x</span><span class="op" id="4898554">.</span><span class="ident" id="4898555">r</span><span class="op" id="4898556">)</span>&nbsp;<span class="op" id="4898558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898563">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898571">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898575">x</span><span class="op" id="4898576">.</span><span class="ident" id="4898577">Next</span><span class="op" id="4898581">(</span><span class="op" id="4898582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898588">x</span><span class="op" id="4898589">.</span><span class="ident" id="4898590">Discard</span><span class="op" id="4898597">(</span><span class="op" id="4898598">)</span><br>
<span class="lineno"></span><span class="op" id="4898600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="comment" id="4898603">//&nbsp;MakeToken&nbsp;accepts&nbsp;the&nbsp;runes&nbsp;in&nbsp;the&nbsp;scanning&nbsp;buffer</span><br>
<span class="lineno"></span><span class="comment" id="4898657">//&nbsp;and&nbsp;returns&nbsp;it&nbsp;as&nbsp;a&nbsp;token&nbsp;of&nbsp;type&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="4898697">func</span>&nbsp;<span class="op" id="4898702">(</span><span class="ident" id="4898703">x</span>&nbsp;<span class="op" id="4898705">*</span><span class="ident" id="4898706">Lexer</span><span class="op" id="4898711">)</span>&nbsp;<span class="ident" id="4898713">MakeToken</span><span class="op" id="4898722">(</span><span class="ident" id="4898723">t</span>&nbsp;<span class="builtintype" id="4898725">int</span><span class="op" id="4898728">)</span>&nbsp;<span class="op" id="4898730">*</span><span class="ident" id="4898731">Token</span>&nbsp;<span class="op" id="4898737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898740">s</span><span class="op" id="4898741">,</span>&nbsp;<span class="ident" id="4898743">p</span>&nbsp;<span class="op" id="4898745">:=</span>&nbsp;<span class="ident" id="4898748">x</span><span class="op" id="4898749">.</span><span class="ident" id="4898750">s</span><span class="op" id="4898751">.</span><span class="ident" id="4898752">Accept</span><span class="op" id="4898758">(</span><span class="op" id="4898759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898762">return</span>&nbsp;<span class="op" id="4898769">&amp;</span><span class="ident" id="4898770">Token</span><span class="op" id="4898775">{</span><span class="ident" id="4898776">t</span><span class="op" id="4898777">,</span>&nbsp;<span class="ident" id="4898779">s</span><span class="op" id="4898780">,</span>&nbsp;<span class="ident" id="4898782">p</span><span class="op" id="4898783">}</span><br>
<span class="lineno">75</span><span class="op" id="4898785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4898788">//&nbsp;Token&nbsp;returns&nbsp;the&nbsp;next&nbsp;parsed&nbsp;token.</span><br>
<span class="lineno"></span><span class="comment" id="4898828">//&nbsp;It&nbsp;ends&nbsp;with&nbsp;a&nbsp;token&nbsp;with&nbsp;type&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="4898867">func</span>&nbsp;<span class="op" id="4898872">(</span><span class="ident" id="4898873">x</span>&nbsp;<span class="op" id="4898875">*</span><span class="ident" id="4898876">Lexer</span><span class="op" id="4898881">)</span>&nbsp;<span class="ident" id="4898883">Token</span><span class="op" id="4898888">(</span><span class="op" id="4898889">)</span>&nbsp;<span class="op" id="4898891">*</span><span class="ident" id="4898892">Token</span>&nbsp;<span class="op" id="4898898">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898901">x</span><span class="op" id="4898902">.</span><span class="ident" id="4898903">SkipWhite</span><span class="op" id="4898912">(</span><span class="op" id="4898913">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898917">if</span>&nbsp;<span class="ident" id="4898920">x</span><span class="op" id="4898921">.</span><span class="ident" id="4898922">Ended</span><span class="op" id="4898927">(</span><span class="op" id="4898928">)</span>&nbsp;<span class="op" id="4898930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898934">return</span>&nbsp;<span class="ident" id="4898941">x</span><span class="op" id="4898942">.</span><span class="ident" id="4898943">MakeToken</span><span class="op" id="4898952">(</span><span class="ident" id="4898953">EOF</span><span class="op" id="4898956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898959">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898963">if</span>&nbsp;<span class="ident" id="4898966">x</span><span class="op" id="4898967">.</span><span class="ident" id="4898968">LexFunc</span>&nbsp;<span class="op" id="4898976">==</span>&nbsp;<span class="ident" id="4898979">nil</span>&nbsp;<span class="op" id="4898983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898987">x</span><span class="op" id="4898988">.</span><span class="ident" id="4898989">Next</span><span class="op" id="4898993">(</span><span class="op" id="4898994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898998">return</span>&nbsp;<span class="ident" id="4899005">x</span><span class="op" id="4899006">.</span><span class="ident" id="4899007">MakeToken</span><span class="op" id="4899016">(</span><span class="ident" id="4899017">Illegal</span><span class="op" id="4899024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899027">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899031">return</span>&nbsp;<span class="ident" id="4899038">x</span><span class="op" id="4899039">.</span><span class="ident" id="4899040">LexFunc</span><span class="op" id="4899047">(</span><span class="ident" id="4899048">x</span><span class="op" id="4899049">)</span><br>
<span class="lineno"></span><span class="op" id="4899051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4899054">//&nbsp;Err&nbsp;adds&nbsp;an&nbsp;error&nbsp;into&nbsp;the&nbsp;error&nbsp;list&nbsp;with&nbsp;current&nbsp;postion.</span><br>
<span class="lineno">95</span><span class="keyword" id="4899117">func</span>&nbsp;<span class="op" id="4899122">(</span><span class="ident" id="4899123">x</span>&nbsp;<span class="op" id="4899125">*</span><span class="ident" id="4899126">Lexer</span><span class="op" id="4899131">)</span>&nbsp;<span class="ident" id="4899133">Err</span><span class="op" id="4899136">(</span><span class="ident" id="4899137">f</span>&nbsp;<span class="builtintype" id="4899139">string</span><span class="op" id="4899145">,</span>&nbsp;<span class="ident" id="4899147">args</span>&nbsp;<span class="op" id="4899152">...</span><span class="keyword" id="4899155">interface</span><span class="op" id="4899164">{</span><span class="op" id="4899165">}</span><span class="op" id="4899166">)</span>&nbsp;<span class="op" id="4899168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4899171">x</span><span class="op" id="4899172">.</span><span class="ident" id="4899173">errs</span><span class="op" id="4899177">.</span><span class="ident" id="4899178">Addf</span><span class="op" id="4899182">(</span><span class="ident" id="4899183">x</span><span class="op" id="4899184">.</span><span class="ident" id="4899185">s</span><span class="op" id="4899186">.</span><span class="ident" id="4899187">Pos</span><span class="op" id="4899190">(</span><span class="op" id="4899191">)</span><span class="op" id="4899192">,</span>&nbsp;<span class="ident" id="4899194">f</span><span class="op" id="4899195">,</span>&nbsp;<span class="ident" id="4899197">args</span><span class="op" id="4899201">...</span><span class="op" id="4899204">)</span><br>
<span class="lineno"></span><span class="op" id="4899206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4899209">//&nbsp;Errs&nbsp;returns&nbsp;the&nbsp;lexing&nbsp;errors.</span><br>
<span class="lineno">100</span><span class="keyword" id="4899244">func</span>&nbsp;<span class="op" id="4899249">(</span><span class="ident" id="4899250">x</span>&nbsp;<span class="op" id="4899252">*</span><span class="ident" id="4899253">Lexer</span><span class="op" id="4899258">)</span>&nbsp;<span class="ident" id="4899260">Errs</span><span class="op" id="4899264">(</span><span class="op" id="4899265">)</span>&nbsp;<span class="op" id="4899267">[</span><span class="op" id="4899268">]</span><span class="op" id="4899269">*</span><span class="ident" id="4899270">Error</span>&nbsp;<span class="op" id="4899276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899279">if</span>&nbsp;<span class="ident" id="4899282">x</span><span class="op" id="4899283">.</span><span class="ident" id="4899284">e</span>&nbsp;<span class="op" id="4899286">!=</span>&nbsp;<span class="ident" id="4899289">nil</span>&nbsp;<span class="op" id="4899293">&amp;&amp;</span>&nbsp;<span class="ident" id="4899296">x</span><span class="op" id="4899297">.</span><span class="ident" id="4899298">e</span>&nbsp;<span class="op" id="4899300">!=</span>&nbsp;<span class="ident" id="4899303">io</span><span class="op" id="4899305">.</span><span class="ident" id="4899306">EOF</span>&nbsp;<span class="op" id="4899310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899314">return</span>&nbsp;<span class="op" id="4899321">[</span><span class="op" id="4899322">]</span><span class="op" id="4899323">*</span><span class="ident" id="4899324">Error</span><span class="op" id="4899329">{</span><span class="op" id="4899330">{</span><span class="ident" id="4899331">Err</span><span class="op" id="4899334">:</span>&nbsp;<span class="ident" id="4899336">x</span><span class="op" id="4899337">.</span><span class="ident" id="4899338">e</span><span class="op" id="4899339">}</span><span class="op" id="4899340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899347">return</span>&nbsp;<span class="ident" id="4899354">x</span><span class="op" id="4899355">.</span><span class="ident" id="4899356">errs</span><span class="op" id="4899360">.</span><span class="ident" id="4899361">Errs</span><br>
<span class="lineno"></span><span class="op" id="4899366">}</span>
</div>
</body>
</html>
