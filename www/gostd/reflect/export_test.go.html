<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8306165">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8306221">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8306275">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8306326">package</span>&nbsp;<span class="ident" id="8306334">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8306343">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="8306402">func</span>&nbsp;<span class="ident" id="8306407">MakeRO</span><span class="op" id="8306413">(</span><span class="ident" id="8306414">v</span>&nbsp;<span class="ident" id="8306416">Value</span><span class="op" id="8306421">)</span>&nbsp;<span class="ident" id="8306423">Value</span>&nbsp;<span class="op" id="8306429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8306432">v</span><span class="op" id="8306433">.</span><span class="ident" id="8306434">flag</span>&nbsp;<span class="op" id="8306439">|=</span>&nbsp;<span class="ident" id="8306442">flagRO</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8306450">return</span>&nbsp;<span class="ident" id="8306457">v</span><br>
<span class="lineno"></span><span class="op" id="8306459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8306462">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="8306513">func</span>&nbsp;<span class="ident" id="8306518">IsRO</span><span class="op" id="8306522">(</span><span class="ident" id="8306523">v</span>&nbsp;<span class="ident" id="8306525">Value</span><span class="op" id="8306530">)</span>&nbsp;<span class="builtintype" id="8306532">bool</span>&nbsp;<span class="op" id="8306537">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8306540">return</span>&nbsp;<span class="ident" id="8306547">v</span><span class="op" id="8306548">.</span><span class="ident" id="8306549">flag</span><span class="op" id="8306553">&amp;</span><span class="ident" id="8306554">flagRO</span>&nbsp;<span class="op" id="8306561">!=</span>&nbsp;<span class="num" id="8306564">0</span><br>
<span class="lineno"></span><span class="op" id="8306566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8306569">var</span>&nbsp;<span class="ident" id="8306573">ArrayOf</span>&nbsp;<span class="op" id="8306581">=</span>&nbsp;<span class="ident" id="8306583">arrayOf</span><br>
<span class="lineno"></span><span class="keyword" id="8306591">var</span>&nbsp;<span class="ident" id="8306595">CallGC</span>&nbsp;<span class="op" id="8306602">=</span>&nbsp;<span class="op" id="8306604">&amp;</span><span class="ident" id="8306605">callGC</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8306613">const</span>&nbsp;<span class="ident" id="8306619">PtrSize</span>&nbsp;<span class="op" id="8306627">=</span>&nbsp;<span class="ident" id="8306629">ptrSize</span><br>
<span class="lineno"></span><span class="keyword" id="8306637">const</span>&nbsp;<span class="ident" id="8306643">BitsPointer</span>&nbsp;<span class="op" id="8306655">=</span>&nbsp;<span class="ident" id="8306657">bitsPointer</span><br>
<span class="lineno"></span><span class="keyword" id="8306669">const</span>&nbsp;<span class="ident" id="8306675">BitsScalar</span>&nbsp;<span class="op" id="8306686">=</span>&nbsp;<span class="ident" id="8306688">bitsScalar</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8306700">func</span>&nbsp;<span class="ident" id="8306705">FuncLayout</span><span class="op" id="8306715">(</span><span class="ident" id="8306716">t</span>&nbsp;<span class="ident" id="8306718">Type</span><span class="op" id="8306722">,</span>&nbsp;<span class="ident" id="8306724">rcvr</span>&nbsp;<span class="ident" id="8306729">Type</span><span class="op" id="8306733">)</span>&nbsp;<span class="op" id="8306735">(</span><span class="ident" id="8306736">frametype</span>&nbsp;<span class="ident" id="8306746">Type</span><span class="op" id="8306750">,</span>&nbsp;<span class="ident" id="8306752">argSize</span><span class="op" id="8306759">,</span>&nbsp;<span class="ident" id="8306761">retOffset</span>&nbsp;<span class="builtintype" id="8306771">uintptr</span><span class="op" id="8306778">,</span>&nbsp;<span class="ident" id="8306780">stack</span>&nbsp;<span class="op" id="8306786">[</span><span class="op" id="8306787">]</span><span class="builtintype" id="8306788">byte</span><span class="op" id="8306792">)</span>&nbsp;<span class="op" id="8306794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8306797">var</span>&nbsp;<span class="ident" id="8306801">ft</span>&nbsp;<span class="op" id="8306804">*</span><span class="ident" id="8306805">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8306812">var</span>&nbsp;<span class="ident" id="8306816">s</span>&nbsp;<span class="op" id="8306818">*</span><span class="ident" id="8306819">bitVector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8306830">if</span>&nbsp;<span class="ident" id="8306833">rcvr</span>&nbsp;<span class="op" id="8306838">!=</span>&nbsp;<span class="builtintype" id="8306841">nil</span>&nbsp;<span class="op" id="8306845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8306849">ft</span><span class="op" id="8306851">,</span>&nbsp;<span class="ident" id="8306853">argSize</span><span class="op" id="8306860">,</span>&nbsp;<span class="ident" id="8306862">retOffset</span><span class="op" id="8306871">,</span>&nbsp;<span class="ident" id="8306873">s</span>&nbsp;<span class="op" id="8306875">=</span>&nbsp;<span class="ident" id="8306877">funcLayout</span><span class="op" id="8306887">(</span><span class="ident" id="8306888">t</span><span class="op" id="8306889">.</span><span class="op" id="8306890">(</span><span class="op" id="8306891">*</span><span class="ident" id="8306892">rtype</span><span class="op" id="8306897">)</span><span class="op" id="8306898">,</span>&nbsp;<span class="ident" id="8306900">rcvr</span><span class="op" id="8306904">.</span><span class="op" id="8306905">(</span><span class="op" id="8306906">*</span><span class="ident" id="8306907">rtype</span><span class="op" id="8306912">)</span><span class="op" id="8306913">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8306916">}</span>&nbsp;<span class="keyword" id="8306918">else</span>&nbsp;<span class="op" id="8306923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8306927">ft</span><span class="op" id="8306929">,</span>&nbsp;<span class="ident" id="8306931">argSize</span><span class="op" id="8306938">,</span>&nbsp;<span class="ident" id="8306940">retOffset</span><span class="op" id="8306949">,</span>&nbsp;<span class="ident" id="8306951">s</span>&nbsp;<span class="op" id="8306953">=</span>&nbsp;<span class="ident" id="8306955">funcLayout</span><span class="op" id="8306965">(</span><span class="ident" id="8306966">t</span><span class="op" id="8306967">.</span><span class="op" id="8306968">(</span><span class="op" id="8306969">*</span><span class="ident" id="8306970">rtype</span><span class="op" id="8306975">)</span><span class="op" id="8306976">,</span>&nbsp;<span class="builtintype" id="8306978">nil</span><span class="op" id="8306981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8306984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8306987">frametype</span>&nbsp;<span class="op" id="8306997">=</span>&nbsp;<span class="ident" id="8306999">ft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8307003">for</span>&nbsp;<span class="ident" id="8307007">i</span>&nbsp;<span class="op" id="8307009">:=</span>&nbsp;<span class="builtintype" id="8307012">uint32</span><span class="op" id="8307018">(</span><span class="num" id="8307019">0</span><span class="op" id="8307020">)</span><span class="op" id="8307021">;</span>&nbsp;<span class="ident" id="8307023">i</span>&nbsp;<span class="op" id="8307025">&lt;</span>&nbsp;<span class="ident" id="8307027">s</span><span class="op" id="8307028">.</span><span class="ident" id="8307029">n</span><span class="op" id="8307030">;</span>&nbsp;<span class="ident" id="8307032">i</span>&nbsp;<span class="op" id="8307034">+=</span>&nbsp;<span class="num" id="8307037">2</span>&nbsp;<span class="op" id="8307039">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8307043">stack</span>&nbsp;<span class="op" id="8307049">=</span>&nbsp;<span class="builtinfunc" id="8307051">append</span><span class="op" id="8307057">(</span><span class="ident" id="8307058">stack</span><span class="op" id="8307063">,</span>&nbsp;<span class="ident" id="8307065">s</span><span class="op" id="8307066">.</span><span class="ident" id="8307067">data</span><span class="op" id="8307071">[</span><span class="ident" id="8307072">i</span><span class="op" id="8307073">/</span><span class="num" id="8307074">8</span><span class="op" id="8307075">]</span><span class="op" id="8307076">&gt;&gt;</span><span class="op" id="8307078">(</span><span class="ident" id="8307079">i</span><span class="op" id="8307080">%</span><span class="num" id="8307081">8</span><span class="op" id="8307082">)</span><span class="op" id="8307083">&amp;</span><span class="num" id="8307084">3</span><span class="op" id="8307085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8307088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8307091">return</span><br>
<span class="lineno"></span><span class="op" id="8307098">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
