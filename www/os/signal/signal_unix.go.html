<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6218919">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6218974">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6219028">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6219079">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;nacl&nbsp;netbsd&nbsp;openbsd&nbsp;solaris&nbsp;windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6219157">package</span>&nbsp;<span class="ident" id="6219165">signal</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6219173">import</span>&nbsp;<span class="op" id="6219180">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6219183">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6219189">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="6219199">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6219202">//&nbsp;In&nbsp;assembly.</span><br>
<span class="lineno">15</span><span class="keyword" id="6219218">func</span>&nbsp;<span class="ident" id="6219223">signal_disable</span><span class="op" id="6219237">(</span><span class="builtintype" id="6219238">uint32</span><span class="op" id="6219244">)</span><br>
<span class="lineno"></span><span class="keyword" id="6219246">func</span>&nbsp;<span class="ident" id="6219251">signal_enable</span><span class="op" id="6219264">(</span><span class="builtintype" id="6219265">uint32</span><span class="op" id="6219271">)</span><br>
<span class="lineno"></span><span class="keyword" id="6219273">func</span>&nbsp;<span class="ident" id="6219278">signal_recv</span><span class="op" id="6219289">(</span><span class="op" id="6219290">)</span>&nbsp;<span class="builtintype" id="6219292">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6219300">func</span>&nbsp;<span class="ident" id="6219305">loop</span><span class="op" id="6219309">(</span><span class="op" id="6219310">)</span>&nbsp;<span class="op" id="6219312">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219315">for</span>&nbsp;<span class="op" id="6219319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6219323"><a href="/os/signal/signal.go.html#6218667">process</a></span><span class="op" id="6219330">(</span><span class="ident" id="6219331"><a href="/os/signal/signal_unix.go.html#6219189">syscall</a></span><span class="op" id="6219338">.</span><span class="ident" id="6219339">Signal</span><span class="op" id="6219345">(</span><span class="ident" id="6219346"><a href="/os/signal/signal_unix.go.html#6219278">signal_recv</a></span><span class="op" id="6219357">(</span><span class="op" id="6219358">)</span><span class="op" id="6219359">)</span><span class="op" id="6219360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6219363">}</span><br>
<span class="lineno"></span><span class="op" id="6219365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6219368">func</span>&nbsp;<span class="ident" id="6219373">init</span><span class="op" id="6219377">(</span><span class="op" id="6219378">)</span>&nbsp;<span class="op" id="6219380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6219383"><a href="/os/signal/signal_unix.go.html#6219251">signal_enable</a></span><span class="op" id="6219396">(</span><span class="num" id="6219397">0</span><span class="op" id="6219398">)</span>&nbsp;<span class="comment" id="6219400">//&nbsp;first&nbsp;call&nbsp;-&nbsp;initialize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219428">go</span>&nbsp;<span class="ident" id="6219431"><a href="/os/signal/signal_unix.go.html#6219305">loop</a></span><span class="op" id="6219435">(</span><span class="op" id="6219436">)</span><br>
<span class="lineno"></span><span class="op" id="6219438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6219441">const</span>&nbsp;<span class="op" id="6219447">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6219450">numSig</span>&nbsp;<span class="op" id="6219457">=</span>&nbsp;<span class="num" id="6219459">65</span>&nbsp;<span class="comment" id="6219462">//&nbsp;max&nbsp;across&nbsp;all&nbsp;systems</span><br>
<span class="lineno"></span><span class="op" id="6219488">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6219491">func</span>&nbsp;<span class="ident" id="6219496">signum</span><span class="op" id="6219502">(</span><span class="ident" id="6219503">sig</span>&nbsp;<span class="ident" id="6219507"><a href="/os/signal/signal_unix.go.html#6219183">os</a></span><span class="op" id="6219509">.</span><span class="ident" id="6219510">Signal</span><span class="op" id="6219516">)</span>&nbsp;<span class="builtintype" id="6219518">int</span>&nbsp;<span class="op" id="6219522">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219525">switch</span>&nbsp;<span class="ident" id="6219532">sig</span>&nbsp;<span class="op" id="6219536">:=</span>&nbsp;<span class="ident" id="6219539"><a href="/os/signal/signal_unix.go.html#6219503">sig</a></span><span class="op" id="6219542">.</span><span class="op" id="6219543">(</span><span class="keyword" id="6219544">type</span><span class="op" id="6219548">)</span>&nbsp;<span class="op" id="6219550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219553">case</span>&nbsp;<span class="ident" id="6219558"><a href="/os/signal/signal_unix.go.html#6219189">syscall</a></span><span class="op" id="6219565">.</span><span class="ident" id="6219566">Signal</span><span class="op" id="6219572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6219576">i</span>&nbsp;<span class="op" id="6219578">:=</span>&nbsp;<span class="builtintype" id="6219581">int</span><span class="op" id="6219584">(</span><span class="ident" id="6219585"><a href="/os/signal/signal_unix.go.html#6219532">sig</a></span><span class="op" id="6219588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219592">if</span>&nbsp;<span class="ident" id="6219595"><a href="/os/signal/signal_unix.go.html#6219576">i</a></span>&nbsp;<span class="op" id="6219597">&lt;</span>&nbsp;<span class="num" id="6219599">0</span>&nbsp;<span class="op" id="6219601">||</span>&nbsp;<span class="ident" id="6219604"><a href="/os/signal/signal_unix.go.html#6219576">i</a></span>&nbsp;<span class="op" id="6219606">&gt;=</span>&nbsp;<span class="ident" id="6219609"><a href="/os/signal/signal_unix.go.html#6219450">numSig</a></span>&nbsp;<span class="op" id="6219616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219621">return</span>&nbsp;<span class="op" id="6219628">-</span><span class="num" id="6219629">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6219633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219637">return</span>&nbsp;<span class="ident" id="6219644"><a href="/os/signal/signal_unix.go.html#6219576">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219647">default</span><span class="op" id="6219654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6219658">return</span>&nbsp;<span class="op" id="6219665">-</span><span class="num" id="6219666">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6219669">}</span><br>
<span class="lineno">45</span><span class="op" id="6219671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6219674">func</span>&nbsp;<span class="ident" id="6219679">enableSignal</span><span class="op" id="6219691">(</span><span class="ident" id="6219692">sig</span>&nbsp;<span class="builtintype" id="6219696">int</span><span class="op" id="6219699">)</span>&nbsp;<span class="op" id="6219701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6219704"><a href="/os/signal/signal_unix.go.html#6219251">signal_enable</a></span><span class="op" id="6219717">(</span><span class="builtintype" id="6219718">uint32</span><span class="op" id="6219724">(</span><span class="ident" id="6219725"><a href="/os/signal/signal_unix.go.html#6219692">sig</a></span><span class="op" id="6219728">)</span><span class="op" id="6219729">)</span><br>
<span class="lineno"></span><span class="op" id="6219731">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6219734">func</span>&nbsp;<span class="ident" id="6219739">disableSignal</span><span class="op" id="6219752">(</span><span class="ident" id="6219753">sig</span>&nbsp;<span class="builtintype" id="6219757">int</span><span class="op" id="6219760">)</span>&nbsp;<span class="op" id="6219762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6219765"><a href="/os/signal/signal_unix.go.html#6219223">signal_disable</a></span><span class="op" id="6219779">(</span><span class="builtintype" id="6219780">uint32</span><span class="op" id="6219786">(</span><span class="ident" id="6219787"><a href="/os/signal/signal_unix.go.html#6219753">sig</a></span><span class="op" id="6219790">)</span><span class="op" id="6219791">)</span><br>
<span class="lineno"></span><span class="op" id="6219793">}</span>
</div>
</body>
</html>
