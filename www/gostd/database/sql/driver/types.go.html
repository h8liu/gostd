<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql/driver</h2>
<ul>
<li><a href="/gostd/database/sql/driver/driver.go.html">driver.go</a></li>
<li><a href="/gostd/database/sql/driver/types.go.html">types.go</a></li>
<li><a href="/gostd/database/sql/driver/types_test.go.html">types_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5123273">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5123328">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5123382">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5123433">package</span>&nbsp;<span class="ident" id="5123441">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5123449">import</span>&nbsp;<span class="op" id="5123456">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5123459">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5123466">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5123477">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5123488">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5123495">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5123498">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="5123568">//</span><br>
<span class="lineno"></span><span class="comment" id="5123571">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5123636">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="5123707">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="5123767">//</span><br>
<span class="lineno">20</span><span class="comment" id="5123770">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="5123839">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5123909">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5123970">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="5123999">//</span><br>
<span class="lineno">25</span><span class="comment" id="5124002">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5124070">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5124096">//</span><br>
<span class="lineno"></span><span class="comment" id="5124099">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5124167">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="5124201">type</span>&nbsp;<span class="ident" id="5124206">ValueConverter</span>&nbsp;<span class="keyword" id="5124221">interface</span>&nbsp;<span class="op" id="5124231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5124234">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5124287">ConvertValue</span><span class="op" id="5124299">(</span><span class="ident" id="5124300">v</span>&nbsp;<span class="keyword" id="5124302">interface</span><span class="op" id="5124311">{</span><span class="op" id="5124312">}</span><span class="op" id="5124313">)</span>&nbsp;<span class="op" id="5124315">(</span><span class="ident" id="5124316">Value</span><span class="op" id="5124321">,</span>&nbsp;<span class="builtintype" id="5124323">error</span><span class="op" id="5124328">)</span><br>
<span class="lineno"></span><span class="op" id="5124330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5124333">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="5124388">//</span><br>
<span class="lineno"></span><span class="comment" id="5124391">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="5124450">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="5124483">type</span>&nbsp;<span class="ident" id="5124488">Valuer</span>&nbsp;<span class="keyword" id="5124495">interface</span>&nbsp;<span class="op" id="5124505">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5124508">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5124542">Value</span><span class="op" id="5124547">(</span><span class="op" id="5124548">)</span>&nbsp;<span class="op" id="5124550">(</span><span class="ident" id="5124551">Value</span><span class="op" id="5124556">,</span>&nbsp;<span class="builtintype" id="5124558">error</span><span class="op" id="5124563">)</span><br>
<span class="lineno"></span><span class="op" id="5124565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5124568">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="5124633">//</span><br>
<span class="lineno"></span><span class="comment" id="5124636">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="5124665">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="5124703">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="5124728">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="5124747">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="5124768">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5124805">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="5124867">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5124902">var</span>&nbsp;<span class="ident" id="5124906">Bool</span>&nbsp;<span class="ident" id="5124911">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5124921">type</span>&nbsp;<span class="ident" id="5124926">boolType</span>&nbsp;<span class="keyword" id="5124935">struct</span><span class="op" id="5124941">{</span><span class="op" id="5124942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5124945">var</span>&nbsp;<span class="ident" id="5124949">_</span>&nbsp;<span class="ident" id="5124951">ValueConverter</span>&nbsp;<span class="op" id="5124966">=</span>&nbsp;<span class="ident" id="5124968">boolType</span><span class="op" id="5124976">{</span><span class="op" id="5124977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5124980">func</span>&nbsp;<span class="op" id="5124985">(</span><span class="ident" id="5124986">boolType</span><span class="op" id="5124994">)</span>&nbsp;<span class="ident" id="5124996">String</span><span class="op" id="5125002">(</span><span class="op" id="5125003">)</span>&nbsp;<span class="builtintype" id="5125005">string</span>&nbsp;<span class="op" id="5125012">{</span>&nbsp;<span class="keyword" id="5125014">return</span>&nbsp;<span class="string" id="5125021">&#34;Bool&#34;</span>&nbsp;<span class="op" id="5125028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5125031">func</span>&nbsp;<span class="op" id="5125036">(</span><span class="ident" id="5125037">boolType</span><span class="op" id="5125045">)</span>&nbsp;<span class="ident" id="5125047">ConvertValue</span><span class="op" id="5125059">(</span><span class="ident" id="5125060">src</span>&nbsp;<span class="keyword" id="5125064">interface</span><span class="op" id="5125073">{</span><span class="op" id="5125074">}</span><span class="op" id="5125075">)</span>&nbsp;<span class="op" id="5125077">(</span><span class="ident" id="5125078">Value</span><span class="op" id="5125083">,</span>&nbsp;<span class="builtintype" id="5125085">error</span><span class="op" id="5125090">)</span>&nbsp;<span class="op" id="5125092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125095">switch</span>&nbsp;<span class="ident" id="5125102">s</span>&nbsp;<span class="op" id="5125104">:=</span>&nbsp;<span class="ident" id="5125107">src</span><span class="op" id="5125110">.</span><span class="op" id="5125111">(</span><span class="keyword" id="5125112">type</span><span class="op" id="5125116">)</span>&nbsp;<span class="op" id="5125118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125121">case</span>&nbsp;<span class="builtintype" id="5125126">bool</span><span class="op" id="5125130">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125134">return</span>&nbsp;<span class="ident" id="5125141">s</span><span class="op" id="5125142">,</span>&nbsp;<span class="ident" id="5125144">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125149">case</span>&nbsp;<span class="builtintype" id="5125154">string</span><span class="op" id="5125160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5125164">b</span><span class="op" id="5125165">,</span>&nbsp;<span class="ident" id="5125167">err</span>&nbsp;<span class="op" id="5125171">:=</span>&nbsp;<span class="ident" id="5125174">strconv</span><span class="op" id="5125181">.</span><span class="ident" id="5125182">ParseBool</span><span class="op" id="5125191">(</span><span class="ident" id="5125192">s</span><span class="op" id="5125193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125197">if</span>&nbsp;<span class="ident" id="5125200">err</span>&nbsp;<span class="op" id="5125204">!=</span>&nbsp;<span class="ident" id="5125207">nil</span>&nbsp;<span class="op" id="5125211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125216">return</span>&nbsp;<span class="ident" id="5125223">nil</span><span class="op" id="5125226">,</span>&nbsp;<span class="ident" id="5125228">fmt</span><span class="op" id="5125231">.</span><span class="ident" id="5125232">Errorf</span><span class="op" id="5125238">(</span><span class="string" id="5125239">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5125287">,</span>&nbsp;<span class="ident" id="5125289">s</span><span class="op" id="5125290">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5125294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125298">return</span>&nbsp;<span class="ident" id="5125305">b</span><span class="op" id="5125306">,</span>&nbsp;<span class="ident" id="5125308">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125313">case</span>&nbsp;<span class="op" id="5125318">[</span><span class="op" id="5125319">]</span><span class="builtintype" id="5125320">byte</span><span class="op" id="5125324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5125328">b</span><span class="op" id="5125329">,</span>&nbsp;<span class="ident" id="5125331">err</span>&nbsp;<span class="op" id="5125335">:=</span>&nbsp;<span class="ident" id="5125338">strconv</span><span class="op" id="5125345">.</span><span class="ident" id="5125346">ParseBool</span><span class="op" id="5125355">(</span><span class="builtintype" id="5125356">string</span><span class="op" id="5125362">(</span><span class="ident" id="5125363">s</span><span class="op" id="5125364">)</span><span class="op" id="5125365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125369">if</span>&nbsp;<span class="ident" id="5125372">err</span>&nbsp;<span class="op" id="5125376">!=</span>&nbsp;<span class="ident" id="5125379">nil</span>&nbsp;<span class="op" id="5125383">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125388">return</span>&nbsp;<span class="ident" id="5125395">nil</span><span class="op" id="5125398">,</span>&nbsp;<span class="ident" id="5125400">fmt</span><span class="op" id="5125403">.</span><span class="ident" id="5125404">Errorf</span><span class="op" id="5125410">(</span><span class="string" id="5125411">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5125459">,</span>&nbsp;<span class="ident" id="5125461">s</span><span class="op" id="5125462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5125466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125470">return</span>&nbsp;<span class="ident" id="5125477">b</span><span class="op" id="5125478">,</span>&nbsp;<span class="ident" id="5125480">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5125485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5125489">sv</span>&nbsp;<span class="op" id="5125492">:=</span>&nbsp;<span class="ident" id="5125495">reflect</span><span class="op" id="5125502">.</span><span class="ident" id="5125503">ValueOf</span><span class="op" id="5125510">(</span><span class="ident" id="5125511">src</span><span class="op" id="5125514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125517">switch</span>&nbsp;<span class="ident" id="5125524">sv</span><span class="op" id="5125526">.</span><span class="ident" id="5125527">Kind</span><span class="op" id="5125531">(</span><span class="op" id="5125532">)</span>&nbsp;<span class="op" id="5125534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125537">case</span>&nbsp;<span class="ident" id="5125542">reflect</span><span class="op" id="5125549">.</span><span class="ident" id="5125550">Int</span><span class="op" id="5125553">,</span>&nbsp;<span class="ident" id="5125555">reflect</span><span class="op" id="5125562">.</span><span class="ident" id="5125563">Int8</span><span class="op" id="5125567">,</span>&nbsp;<span class="ident" id="5125569">reflect</span><span class="op" id="5125576">.</span><span class="ident" id="5125577">Int16</span><span class="op" id="5125582">,</span>&nbsp;<span class="ident" id="5125584">reflect</span><span class="op" id="5125591">.</span><span class="ident" id="5125592">Int32</span><span class="op" id="5125597">,</span>&nbsp;<span class="ident" id="5125599">reflect</span><span class="op" id="5125606">.</span><span class="ident" id="5125607">Int64</span><span class="op" id="5125612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5125616">iv</span>&nbsp;<span class="op" id="5125619">:=</span>&nbsp;<span class="ident" id="5125622">sv</span><span class="op" id="5125624">.</span><span class="ident" id="5125625">Int</span><span class="op" id="5125628">(</span><span class="op" id="5125629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125633">if</span>&nbsp;<span class="ident" id="5125636">iv</span>&nbsp;<span class="op" id="5125639">==</span>&nbsp;<span class="num" id="5125642">1</span>&nbsp;<span class="op" id="5125644">||</span>&nbsp;<span class="ident" id="5125647">iv</span>&nbsp;<span class="op" id="5125650">==</span>&nbsp;<span class="num" id="5125653">0</span>&nbsp;<span class="op" id="5125655">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125660">return</span>&nbsp;<span class="ident" id="5125667">iv</span>&nbsp;<span class="op" id="5125670">==</span>&nbsp;<span class="num" id="5125673">1</span><span class="op" id="5125674">,</span>&nbsp;<span class="ident" id="5125676">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5125682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125686">return</span>&nbsp;<span class="ident" id="5125693">nil</span><span class="op" id="5125696">,</span>&nbsp;<span class="ident" id="5125698">fmt</span><span class="op" id="5125701">.</span><span class="ident" id="5125702">Errorf</span><span class="op" id="5125708">(</span><span class="string" id="5125709">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5125757">,</span>&nbsp;<span class="ident" id="5125759">iv</span><span class="op" id="5125761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125764">case</span>&nbsp;<span class="ident" id="5125769">reflect</span><span class="op" id="5125776">.</span><span class="ident" id="5125777">Uint</span><span class="op" id="5125781">,</span>&nbsp;<span class="ident" id="5125783">reflect</span><span class="op" id="5125790">.</span><span class="ident" id="5125791">Uint8</span><span class="op" id="5125796">,</span>&nbsp;<span class="ident" id="5125798">reflect</span><span class="op" id="5125805">.</span><span class="ident" id="5125806">Uint16</span><span class="op" id="5125812">,</span>&nbsp;<span class="ident" id="5125814">reflect</span><span class="op" id="5125821">.</span><span class="ident" id="5125822">Uint32</span><span class="op" id="5125828">,</span>&nbsp;<span class="ident" id="5125830">reflect</span><span class="op" id="5125837">.</span><span class="ident" id="5125838">Uint64</span><span class="op" id="5125844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5125848">uv</span>&nbsp;<span class="op" id="5125851">:=</span>&nbsp;<span class="ident" id="5125854">sv</span><span class="op" id="5125856">.</span><span class="ident" id="5125857">Uint</span><span class="op" id="5125861">(</span><span class="op" id="5125862">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125866">if</span>&nbsp;<span class="ident" id="5125869">uv</span>&nbsp;<span class="op" id="5125872">==</span>&nbsp;<span class="num" id="5125875">1</span>&nbsp;<span class="op" id="5125877">||</span>&nbsp;<span class="ident" id="5125880">uv</span>&nbsp;<span class="op" id="5125883">==</span>&nbsp;<span class="num" id="5125886">0</span>&nbsp;<span class="op" id="5125888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125893">return</span>&nbsp;<span class="ident" id="5125900">uv</span>&nbsp;<span class="op" id="5125903">==</span>&nbsp;<span class="num" id="5125906">1</span><span class="op" id="5125907">,</span>&nbsp;<span class="ident" id="5125909">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5125915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5125919">return</span>&nbsp;<span class="ident" id="5125926">nil</span><span class="op" id="5125929">,</span>&nbsp;<span class="ident" id="5125931">fmt</span><span class="op" id="5125934">.</span><span class="ident" id="5125935">Errorf</span><span class="op" id="5125941">(</span><span class="string" id="5125942">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5125990">,</span>&nbsp;<span class="ident" id="5125992">uv</span><span class="op" id="5125994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5125997">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126001">return</span>&nbsp;<span class="ident" id="5126008">nil</span><span class="op" id="5126011">,</span>&nbsp;<span class="ident" id="5126013">fmt</span><span class="op" id="5126016">.</span><span class="ident" id="5126017">Errorf</span><span class="op" id="5126023">(</span><span class="string" id="5126024">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5126077">,</span>&nbsp;<span class="ident" id="5126079">src</span><span class="op" id="5126082">,</span>&nbsp;<span class="ident" id="5126084">src</span><span class="op" id="5126087">)</span><br>
<span class="lineno"></span><span class="op" id="5126089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5126092">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="5126158">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5126202">var</span>&nbsp;<span class="ident" id="5126206">Int32</span>&nbsp;<span class="ident" id="5126212">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5126223">type</span>&nbsp;<span class="ident" id="5126228">int32Type</span>&nbsp;<span class="keyword" id="5126238">struct</span><span class="op" id="5126244">{</span><span class="op" id="5126245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5126248">var</span>&nbsp;<span class="ident" id="5126252">_</span>&nbsp;<span class="ident" id="5126254">ValueConverter</span>&nbsp;<span class="op" id="5126269">=</span>&nbsp;<span class="ident" id="5126271">int32Type</span><span class="op" id="5126280">{</span><span class="op" id="5126281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5126284">func</span>&nbsp;<span class="op" id="5126289">(</span><span class="ident" id="5126290">int32Type</span><span class="op" id="5126299">)</span>&nbsp;<span class="ident" id="5126301">ConvertValue</span><span class="op" id="5126313">(</span><span class="ident" id="5126314">v</span>&nbsp;<span class="keyword" id="5126316">interface</span><span class="op" id="5126325">{</span><span class="op" id="5126326">}</span><span class="op" id="5126327">)</span>&nbsp;<span class="op" id="5126329">(</span><span class="ident" id="5126330">Value</span><span class="op" id="5126335">,</span>&nbsp;<span class="builtintype" id="5126337">error</span><span class="op" id="5126342">)</span>&nbsp;<span class="op" id="5126344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5126347">rv</span>&nbsp;<span class="op" id="5126350">:=</span>&nbsp;<span class="ident" id="5126353">reflect</span><span class="op" id="5126360">.</span><span class="ident" id="5126361">ValueOf</span><span class="op" id="5126368">(</span><span class="ident" id="5126369">v</span><span class="op" id="5126370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126373">switch</span>&nbsp;<span class="ident" id="5126380">rv</span><span class="op" id="5126382">.</span><span class="ident" id="5126383">Kind</span><span class="op" id="5126387">(</span><span class="op" id="5126388">)</span>&nbsp;<span class="op" id="5126390">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126393">case</span>&nbsp;<span class="ident" id="5126398">reflect</span><span class="op" id="5126405">.</span><span class="ident" id="5126406">Int</span><span class="op" id="5126409">,</span>&nbsp;<span class="ident" id="5126411">reflect</span><span class="op" id="5126418">.</span><span class="ident" id="5126419">Int8</span><span class="op" id="5126423">,</span>&nbsp;<span class="ident" id="5126425">reflect</span><span class="op" id="5126432">.</span><span class="ident" id="5126433">Int16</span><span class="op" id="5126438">,</span>&nbsp;<span class="ident" id="5126440">reflect</span><span class="op" id="5126447">.</span><span class="ident" id="5126448">Int32</span><span class="op" id="5126453">,</span>&nbsp;<span class="ident" id="5126455">reflect</span><span class="op" id="5126462">.</span><span class="ident" id="5126463">Int64</span><span class="op" id="5126468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5126472">i64</span>&nbsp;<span class="op" id="5126476">:=</span>&nbsp;<span class="ident" id="5126479">rv</span><span class="op" id="5126481">.</span><span class="ident" id="5126482">Int</span><span class="op" id="5126485">(</span><span class="op" id="5126486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126490">if</span>&nbsp;<span class="ident" id="5126493">i64</span>&nbsp;<span class="op" id="5126497">&gt;</span>&nbsp;<span class="op" id="5126499">(</span><span class="num" id="5126500">1</span><span class="op" id="5126501">&lt;&lt;</span><span class="num" id="5126503">31</span><span class="op" id="5126505">)</span><span class="op" id="5126506">-</span><span class="num" id="5126507">1</span>&nbsp;<span class="op" id="5126509">||</span>&nbsp;<span class="ident" id="5126512">i64</span>&nbsp;<span class="op" id="5126516">&lt;</span>&nbsp;<span class="op" id="5126518">-</span><span class="op" id="5126519">(</span><span class="num" id="5126520">1</span><span class="op" id="5126521">&lt;&lt;</span><span class="num" id="5126523">31</span><span class="op" id="5126525">)</span>&nbsp;<span class="op" id="5126527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126532">return</span>&nbsp;<span class="ident" id="5126539">nil</span><span class="op" id="5126542">,</span>&nbsp;<span class="ident" id="5126544">fmt</span><span class="op" id="5126547">.</span><span class="ident" id="5126548">Errorf</span><span class="op" id="5126554">(</span><span class="string" id="5126555">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5126593">,</span>&nbsp;<span class="ident" id="5126595">v</span><span class="op" id="5126596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5126600">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126604">return</span>&nbsp;<span class="ident" id="5126611">i64</span><span class="op" id="5126614">,</span>&nbsp;<span class="ident" id="5126616">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126621">case</span>&nbsp;<span class="ident" id="5126626">reflect</span><span class="op" id="5126633">.</span><span class="ident" id="5126634">Uint</span><span class="op" id="5126638">,</span>&nbsp;<span class="ident" id="5126640">reflect</span><span class="op" id="5126647">.</span><span class="ident" id="5126648">Uint8</span><span class="op" id="5126653">,</span>&nbsp;<span class="ident" id="5126655">reflect</span><span class="op" id="5126662">.</span><span class="ident" id="5126663">Uint16</span><span class="op" id="5126669">,</span>&nbsp;<span class="ident" id="5126671">reflect</span><span class="op" id="5126678">.</span><span class="ident" id="5126679">Uint32</span><span class="op" id="5126685">,</span>&nbsp;<span class="ident" id="5126687">reflect</span><span class="op" id="5126694">.</span><span class="ident" id="5126695">Uint64</span><span class="op" id="5126701">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5126705">u64</span>&nbsp;<span class="op" id="5126709">:=</span>&nbsp;<span class="ident" id="5126712">rv</span><span class="op" id="5126714">.</span><span class="ident" id="5126715">Uint</span><span class="op" id="5126719">(</span><span class="op" id="5126720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126724">if</span>&nbsp;<span class="ident" id="5126727">u64</span>&nbsp;<span class="op" id="5126731">&gt;</span>&nbsp;<span class="op" id="5126733">(</span><span class="num" id="5126734">1</span><span class="op" id="5126735">&lt;&lt;</span><span class="num" id="5126737">31</span><span class="op" id="5126739">)</span><span class="op" id="5126740">-</span><span class="num" id="5126741">1</span>&nbsp;<span class="op" id="5126743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126748">return</span>&nbsp;<span class="ident" id="5126755">nil</span><span class="op" id="5126758">,</span>&nbsp;<span class="ident" id="5126760">fmt</span><span class="op" id="5126763">.</span><span class="ident" id="5126764">Errorf</span><span class="op" id="5126770">(</span><span class="string" id="5126771">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5126809">,</span>&nbsp;<span class="ident" id="5126811">v</span><span class="op" id="5126812">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5126816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126820">return</span>&nbsp;<span class="ident" id="5126827">int64</span><span class="op" id="5126832">(</span><span class="ident" id="5126833">u64</span><span class="op" id="5126836">)</span><span class="op" id="5126837">,</span>&nbsp;<span class="ident" id="5126839">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126844">case</span>&nbsp;<span class="ident" id="5126849">reflect</span><span class="op" id="5126856">.</span><span class="ident" id="5126857">String</span><span class="op" id="5126863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5126867">i</span><span class="op" id="5126868">,</span>&nbsp;<span class="ident" id="5126870">err</span>&nbsp;<span class="op" id="5126874">:=</span>&nbsp;<span class="ident" id="5126877">strconv</span><span class="op" id="5126884">.</span><span class="ident" id="5126885">Atoi</span><span class="op" id="5126889">(</span><span class="ident" id="5126890">rv</span><span class="op" id="5126892">.</span><span class="ident" id="5126893">String</span><span class="op" id="5126899">(</span><span class="op" id="5126900">)</span><span class="op" id="5126901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126905">if</span>&nbsp;<span class="ident" id="5126908">err</span>&nbsp;<span class="op" id="5126912">!=</span>&nbsp;<span class="ident" id="5126915">nil</span>&nbsp;<span class="op" id="5126919">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5126924">return</span>&nbsp;<span class="ident" id="5126931">nil</span><span class="op" id="5126934">,</span>&nbsp;<span class="ident" id="5126936">fmt</span><span class="op" id="5126939">.</span><span class="ident" id="5126940">Errorf</span><span class="op" id="5126946">(</span><span class="string" id="5126947">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5126997">,</span>&nbsp;<span class="ident" id="5126999">v</span><span class="op" id="5127000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5127004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127008">return</span>&nbsp;<span class="ident" id="5127015">int64</span><span class="op" id="5127020">(</span><span class="ident" id="5127021">i</span><span class="op" id="5127022">)</span><span class="op" id="5127023">,</span>&nbsp;<span class="ident" id="5127025">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5127030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127033">return</span>&nbsp;<span class="ident" id="5127040">nil</span><span class="op" id="5127043">,</span>&nbsp;<span class="ident" id="5127045">fmt</span><span class="op" id="5127048">.</span><span class="ident" id="5127049">Errorf</span><span class="op" id="5127055">(</span><span class="string" id="5127056">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5127120">,</span>&nbsp;<span class="ident" id="5127122">v</span><span class="op" id="5127123">,</span>&nbsp;<span class="ident" id="5127125">v</span><span class="op" id="5127126">)</span><br>
<span class="lineno">130</span><span class="op" id="5127128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5127131">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5127198">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="5127261">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="5127326">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="5127356">var</span>&nbsp;<span class="ident" id="5127360">String</span>&nbsp;<span class="ident" id="5127367">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5127379">type</span>&nbsp;<span class="ident" id="5127384">stringType</span>&nbsp;<span class="keyword" id="5127395">struct</span><span class="op" id="5127401">{</span><span class="op" id="5127402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="5127405">func</span>&nbsp;<span class="op" id="5127410">(</span><span class="ident" id="5127411">stringType</span><span class="op" id="5127421">)</span>&nbsp;<span class="ident" id="5127423">ConvertValue</span><span class="op" id="5127435">(</span><span class="ident" id="5127436">v</span>&nbsp;<span class="keyword" id="5127438">interface</span><span class="op" id="5127447">{</span><span class="op" id="5127448">}</span><span class="op" id="5127449">)</span>&nbsp;<span class="op" id="5127451">(</span><span class="ident" id="5127452">Value</span><span class="op" id="5127457">,</span>&nbsp;<span class="builtintype" id="5127459">error</span><span class="op" id="5127464">)</span>&nbsp;<span class="op" id="5127466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127469">switch</span>&nbsp;<span class="ident" id="5127476">v</span><span class="op" id="5127477">.</span><span class="op" id="5127478">(</span><span class="keyword" id="5127479">type</span><span class="op" id="5127483">)</span>&nbsp;<span class="op" id="5127485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127488">case</span>&nbsp;<span class="builtintype" id="5127493">string</span><span class="op" id="5127499">,</span>&nbsp;<span class="op" id="5127501">[</span><span class="op" id="5127502">]</span><span class="builtintype" id="5127503">byte</span><span class="op" id="5127507">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127511">return</span>&nbsp;<span class="ident" id="5127518">v</span><span class="op" id="5127519">,</span>&nbsp;<span class="ident" id="5127521">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5127526">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127529">return</span>&nbsp;<span class="ident" id="5127536">fmt</span><span class="op" id="5127539">.</span><span class="ident" id="5127540">Sprintf</span><span class="op" id="5127547">(</span><span class="string" id="5127548">&#34;%v&#34;</span><span class="op" id="5127552">,</span>&nbsp;<span class="ident" id="5127554">v</span><span class="op" id="5127555">)</span><span class="op" id="5127556">,</span>&nbsp;<span class="ident" id="5127558">nil</span><br>
<span class="lineno"></span><span class="op" id="5127562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5127565">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5127630">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="5127692">type</span>&nbsp;<span class="ident" id="5127697">Null</span>&nbsp;<span class="keyword" id="5127702">struct</span>&nbsp;<span class="op" id="5127709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5127712">Converter</span>&nbsp;<span class="ident" id="5127722">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="5127737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5127740">func</span>&nbsp;<span class="op" id="5127745">(</span><span class="ident" id="5127746">n</span>&nbsp;<span class="ident" id="5127748">Null</span><span class="op" id="5127752">)</span>&nbsp;<span class="ident" id="5127754">ConvertValue</span><span class="op" id="5127766">(</span><span class="ident" id="5127767">v</span>&nbsp;<span class="keyword" id="5127769">interface</span><span class="op" id="5127778">{</span><span class="op" id="5127779">}</span><span class="op" id="5127780">)</span>&nbsp;<span class="op" id="5127782">(</span><span class="ident" id="5127783">Value</span><span class="op" id="5127788">,</span>&nbsp;<span class="builtintype" id="5127790">error</span><span class="op" id="5127795">)</span>&nbsp;<span class="op" id="5127797">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127800">if</span>&nbsp;<span class="ident" id="5127803">v</span>&nbsp;<span class="op" id="5127805">==</span>&nbsp;<span class="ident" id="5127808">nil</span>&nbsp;<span class="op" id="5127812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127816">return</span>&nbsp;<span class="ident" id="5127823">nil</span><span class="op" id="5127826">,</span>&nbsp;<span class="ident" id="5127828">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5127833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5127836">return</span>&nbsp;<span class="ident" id="5127843">n</span><span class="op" id="5127844">.</span><span class="ident" id="5127845">Converter</span><span class="op" id="5127854">.</span><span class="ident" id="5127855">ConvertValue</span><span class="op" id="5127867">(</span><span class="ident" id="5127868">v</span><span class="op" id="5127869">)</span><br>
<span class="lineno"></span><span class="op" id="5127871">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="5127874">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5127945">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="5128007">type</span>&nbsp;<span class="ident" id="5128012">NotNull</span>&nbsp;<span class="keyword" id="5128020">struct</span>&nbsp;<span class="op" id="5128027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5128030">Converter</span>&nbsp;<span class="ident" id="5128040">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="5128055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5128058">func</span>&nbsp;<span class="op" id="5128063">(</span><span class="ident" id="5128064">n</span>&nbsp;<span class="ident" id="5128066">NotNull</span><span class="op" id="5128073">)</span>&nbsp;<span class="ident" id="5128075">ConvertValue</span><span class="op" id="5128087">(</span><span class="ident" id="5128088">v</span>&nbsp;<span class="keyword" id="5128090">interface</span><span class="op" id="5128099">{</span><span class="op" id="5128100">}</span><span class="op" id="5128101">)</span>&nbsp;<span class="op" id="5128103">(</span><span class="ident" id="5128104">Value</span><span class="op" id="5128109">,</span>&nbsp;<span class="builtintype" id="5128111">error</span><span class="op" id="5128116">)</span>&nbsp;<span class="op" id="5128118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128121">if</span>&nbsp;<span class="ident" id="5128124">v</span>&nbsp;<span class="op" id="5128126">==</span>&nbsp;<span class="ident" id="5128129">nil</span>&nbsp;<span class="op" id="5128133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128137">return</span>&nbsp;<span class="ident" id="5128144">nil</span><span class="op" id="5128147">,</span>&nbsp;<span class="ident" id="5128149">fmt</span><span class="op" id="5128152">.</span><span class="ident" id="5128153">Errorf</span><span class="op" id="5128159">(</span><span class="string" id="5128160">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="5128183">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5128186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128189">return</span>&nbsp;<span class="ident" id="5128196">n</span><span class="op" id="5128197">.</span><span class="ident" id="5128198">Converter</span><span class="op" id="5128207">.</span><span class="ident" id="5128208">ConvertValue</span><span class="op" id="5128220">(</span><span class="ident" id="5128221">v</span><span class="op" id="5128222">)</span><br>
<span class="lineno"></span><span class="op" id="5128224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5128227">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="5128289">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5128345">func</span>&nbsp;<span class="ident" id="5128350">IsValue</span><span class="op" id="5128357">(</span><span class="ident" id="5128358">v</span>&nbsp;<span class="keyword" id="5128360">interface</span><span class="op" id="5128369">{</span><span class="op" id="5128370">}</span><span class="op" id="5128371">)</span>&nbsp;<span class="builtintype" id="5128373">bool</span>&nbsp;<span class="op" id="5128378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128381">if</span>&nbsp;<span class="ident" id="5128384">IsScanValue</span><span class="op" id="5128395">(</span><span class="ident" id="5128396">v</span><span class="op" id="5128397">)</span>&nbsp;<span class="op" id="5128399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128403">return</span>&nbsp;<span class="builtintype" id="5128410">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5128416">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128419">if</span>&nbsp;<span class="ident" id="5128422">_</span><span class="op" id="5128423">,</span>&nbsp;<span class="ident" id="5128425">ok</span>&nbsp;<span class="op" id="5128428">:=</span>&nbsp;<span class="ident" id="5128431">v</span><span class="op" id="5128432">.</span><span class="op" id="5128433">(</span><span class="builtintype" id="5128434">string</span><span class="op" id="5128440">)</span><span class="op" id="5128441">;</span>&nbsp;<span class="ident" id="5128443">ok</span>&nbsp;<span class="op" id="5128446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128450">return</span>&nbsp;<span class="builtintype" id="5128457">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5128463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128466">return</span>&nbsp;<span class="builtintype" id="5128473">false</span><br>
<span class="lineno"></span><span class="op" id="5128479">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="5128482">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="5128543">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5128607">func</span>&nbsp;<span class="ident" id="5128612">IsScanValue</span><span class="op" id="5128623">(</span><span class="ident" id="5128624">v</span>&nbsp;<span class="keyword" id="5128626">interface</span><span class="op" id="5128635">{</span><span class="op" id="5128636">}</span><span class="op" id="5128637">)</span>&nbsp;<span class="builtintype" id="5128639">bool</span>&nbsp;<span class="op" id="5128644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128647">if</span>&nbsp;<span class="ident" id="5128650">v</span>&nbsp;<span class="op" id="5128652">==</span>&nbsp;<span class="ident" id="5128655">nil</span>&nbsp;<span class="op" id="5128659">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128663">return</span>&nbsp;<span class="builtintype" id="5128670">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5128676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128679">switch</span>&nbsp;<span class="ident" id="5128686">v</span><span class="op" id="5128687">.</span><span class="op" id="5128688">(</span><span class="keyword" id="5128689">type</span><span class="op" id="5128693">)</span>&nbsp;<span class="op" id="5128695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128698">case</span>&nbsp;<span class="ident" id="5128703">int64</span><span class="op" id="5128708">,</span>&nbsp;<span class="builtintype" id="5128710">float64</span><span class="op" id="5128717">,</span>&nbsp;<span class="op" id="5128719">[</span><span class="op" id="5128720">]</span><span class="builtintype" id="5128721">byte</span><span class="op" id="5128725">,</span>&nbsp;<span class="builtintype" id="5128727">bool</span><span class="op" id="5128731">,</span>&nbsp;<span class="ident" id="5128733">time</span><span class="op" id="5128737">.</span><span class="ident" id="5128738">Time</span><span class="op" id="5128742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128746">return</span>&nbsp;<span class="builtintype" id="5128753">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5128759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5128762">return</span>&nbsp;<span class="builtintype" id="5128769">false</span><br>
<span class="lineno"></span><span class="op" id="5128775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5128778">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="5128840">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="5128900">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="5128920">//</span><br>
<span class="lineno"></span><span class="comment" id="5128923">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5128988">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="5129048">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5129117">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5129130">var</span>&nbsp;<span class="ident" id="5129134">DefaultParameterConverter</span>&nbsp;<span class="ident" id="5129160">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5129178">type</span>&nbsp;<span class="ident" id="5129183">defaultConverter</span>&nbsp;<span class="keyword" id="5129200">struct</span><span class="op" id="5129206">{</span><span class="op" id="5129207">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="5129210">var</span>&nbsp;<span class="ident" id="5129214">_</span>&nbsp;<span class="ident" id="5129216">ValueConverter</span>&nbsp;<span class="op" id="5129231">=</span>&nbsp;<span class="ident" id="5129233">defaultConverter</span><span class="op" id="5129249">{</span><span class="op" id="5129250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5129253">func</span>&nbsp;<span class="op" id="5129258">(</span><span class="ident" id="5129259">defaultConverter</span><span class="op" id="5129275">)</span>&nbsp;<span class="ident" id="5129277">ConvertValue</span><span class="op" id="5129289">(</span><span class="ident" id="5129290">v</span>&nbsp;<span class="keyword" id="5129292">interface</span><span class="op" id="5129301">{</span><span class="op" id="5129302">}</span><span class="op" id="5129303">)</span>&nbsp;<span class="op" id="5129305">(</span><span class="ident" id="5129306">Value</span><span class="op" id="5129311">,</span>&nbsp;<span class="builtintype" id="5129313">error</span><span class="op" id="5129318">)</span>&nbsp;<span class="op" id="5129320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129323">if</span>&nbsp;<span class="ident" id="5129326">IsValue</span><span class="op" id="5129333">(</span><span class="ident" id="5129334">v</span><span class="op" id="5129335">)</span>&nbsp;<span class="op" id="5129337">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129341">return</span>&nbsp;<span class="ident" id="5129348">v</span><span class="op" id="5129349">,</span>&nbsp;<span class="ident" id="5129351">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5129356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129360">if</span>&nbsp;<span class="ident" id="5129363">svi</span><span class="op" id="5129366">,</span>&nbsp;<span class="ident" id="5129368">ok</span>&nbsp;<span class="op" id="5129371">:=</span>&nbsp;<span class="ident" id="5129374">v</span><span class="op" id="5129375">.</span><span class="op" id="5129376">(</span><span class="ident" id="5129377">Valuer</span><span class="op" id="5129383">)</span><span class="op" id="5129384">;</span>&nbsp;<span class="ident" id="5129386">ok</span>&nbsp;<span class="op" id="5129389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5129393">sv</span><span class="op" id="5129395">,</span>&nbsp;<span class="ident" id="5129397">err</span>&nbsp;<span class="op" id="5129401">:=</span>&nbsp;<span class="ident" id="5129404">svi</span><span class="op" id="5129407">.</span><span class="ident" id="5129408">Value</span><span class="op" id="5129413">(</span><span class="op" id="5129414">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129418">if</span>&nbsp;<span class="ident" id="5129421">err</span>&nbsp;<span class="op" id="5129425">!=</span>&nbsp;<span class="ident" id="5129428">nil</span>&nbsp;<span class="op" id="5129432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129437">return</span>&nbsp;<span class="ident" id="5129444">nil</span><span class="op" id="5129447">,</span>&nbsp;<span class="ident" id="5129449">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5129455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129459">if</span>&nbsp;<span class="op" id="5129462">!</span><span class="ident" id="5129463">IsValue</span><span class="op" id="5129470">(</span><span class="ident" id="5129471">sv</span><span class="op" id="5129473">)</span>&nbsp;<span class="op" id="5129475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129480">return</span>&nbsp;<span class="ident" id="5129487">nil</span><span class="op" id="5129490">,</span>&nbsp;<span class="ident" id="5129492">fmt</span><span class="op" id="5129495">.</span><span class="ident" id="5129496">Errorf</span><span class="op" id="5129502">(</span><span class="string" id="5129503">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="5129542">,</span>&nbsp;<span class="ident" id="5129544">sv</span><span class="op" id="5129546">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5129550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129554">return</span>&nbsp;<span class="ident" id="5129561">sv</span><span class="op" id="5129563">,</span>&nbsp;<span class="ident" id="5129565">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5129570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5129574">rv</span>&nbsp;<span class="op" id="5129577">:=</span>&nbsp;<span class="ident" id="5129580">reflect</span><span class="op" id="5129587">.</span><span class="ident" id="5129588">ValueOf</span><span class="op" id="5129595">(</span><span class="ident" id="5129596">v</span><span class="op" id="5129597">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129600">switch</span>&nbsp;<span class="ident" id="5129607">rv</span><span class="op" id="5129609">.</span><span class="ident" id="5129610">Kind</span><span class="op" id="5129614">(</span><span class="op" id="5129615">)</span>&nbsp;<span class="op" id="5129617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129620">case</span>&nbsp;<span class="ident" id="5129625">reflect</span><span class="op" id="5129632">.</span><span class="ident" id="5129633">Ptr</span><span class="op" id="5129636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5129640">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129663">if</span>&nbsp;<span class="ident" id="5129666">rv</span><span class="op" id="5129668">.</span><span class="ident" id="5129669">IsNil</span><span class="op" id="5129674">(</span><span class="op" id="5129675">)</span>&nbsp;<span class="op" id="5129677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129682">return</span>&nbsp;<span class="ident" id="5129689">nil</span><span class="op" id="5129692">,</span>&nbsp;<span class="ident" id="5129694">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5129700">}</span>&nbsp;<span class="keyword" id="5129702">else</span>&nbsp;<span class="op" id="5129707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129712">return</span>&nbsp;<span class="ident" id="5129719">defaultConverter</span><span class="op" id="5129735">{</span><span class="op" id="5129736">}</span><span class="op" id="5129737">.</span><span class="ident" id="5129738">ConvertValue</span><span class="op" id="5129750">(</span><span class="ident" id="5129751">rv</span><span class="op" id="5129753">.</span><span class="ident" id="5129754">Elem</span><span class="op" id="5129758">(</span><span class="op" id="5129759">)</span><span class="op" id="5129760">.</span><span class="ident" id="5129761">Interface</span><span class="op" id="5129770">(</span><span class="op" id="5129771">)</span><span class="op" id="5129772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5129776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129779">case</span>&nbsp;<span class="ident" id="5129784">reflect</span><span class="op" id="5129791">.</span><span class="ident" id="5129792">Int</span><span class="op" id="5129795">,</span>&nbsp;<span class="ident" id="5129797">reflect</span><span class="op" id="5129804">.</span><span class="ident" id="5129805">Int8</span><span class="op" id="5129809">,</span>&nbsp;<span class="ident" id="5129811">reflect</span><span class="op" id="5129818">.</span><span class="ident" id="5129819">Int16</span><span class="op" id="5129824">,</span>&nbsp;<span class="ident" id="5129826">reflect</span><span class="op" id="5129833">.</span><span class="ident" id="5129834">Int32</span><span class="op" id="5129839">,</span>&nbsp;<span class="ident" id="5129841">reflect</span><span class="op" id="5129848">.</span><span class="ident" id="5129849">Int64</span><span class="op" id="5129854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129858">return</span>&nbsp;<span class="ident" id="5129865">rv</span><span class="op" id="5129867">.</span><span class="ident" id="5129868">Int</span><span class="op" id="5129871">(</span><span class="op" id="5129872">)</span><span class="op" id="5129873">,</span>&nbsp;<span class="ident" id="5129875">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129880">case</span>&nbsp;<span class="ident" id="5129885">reflect</span><span class="op" id="5129892">.</span><span class="ident" id="5129893">Uint</span><span class="op" id="5129897">,</span>&nbsp;<span class="ident" id="5129899">reflect</span><span class="op" id="5129906">.</span><span class="ident" id="5129907">Uint8</span><span class="op" id="5129912">,</span>&nbsp;<span class="ident" id="5129914">reflect</span><span class="op" id="5129921">.</span><span class="ident" id="5129922">Uint16</span><span class="op" id="5129928">,</span>&nbsp;<span class="ident" id="5129930">reflect</span><span class="op" id="5129937">.</span><span class="ident" id="5129938">Uint32</span><span class="op" id="5129944">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129948">return</span>&nbsp;<span class="ident" id="5129955">int64</span><span class="op" id="5129960">(</span><span class="ident" id="5129961">rv</span><span class="op" id="5129963">.</span><span class="ident" id="5129964">Uint</span><span class="op" id="5129968">(</span><span class="op" id="5129969">)</span><span class="op" id="5129970">)</span><span class="op" id="5129971">,</span>&nbsp;<span class="ident" id="5129973">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5129978">case</span>&nbsp;<span class="ident" id="5129983">reflect</span><span class="op" id="5129990">.</span><span class="ident" id="5129991">Uint64</span><span class="op" id="5129997">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5130001">u64</span>&nbsp;<span class="op" id="5130005">:=</span>&nbsp;<span class="ident" id="5130008">rv</span><span class="op" id="5130010">.</span><span class="ident" id="5130011">Uint</span><span class="op" id="5130015">(</span><span class="op" id="5130016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5130020">if</span>&nbsp;<span class="ident" id="5130023">u64</span>&nbsp;<span class="op" id="5130027">&gt;=</span>&nbsp;<span class="num" id="5130030">1</span><span class="op" id="5130031">&lt;&lt;</span><span class="num" id="5130033">63</span>&nbsp;<span class="op" id="5130036">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5130041">return</span>&nbsp;<span class="ident" id="5130048">nil</span><span class="op" id="5130051">,</span>&nbsp;<span class="ident" id="5130053">fmt</span><span class="op" id="5130056">.</span><span class="ident" id="5130057">Errorf</span><span class="op" id="5130063">(</span><span class="string" id="5130064">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="5130115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5130119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5130123">return</span>&nbsp;<span class="ident" id="5130130">int64</span><span class="op" id="5130135">(</span><span class="ident" id="5130136">u64</span><span class="op" id="5130139">)</span><span class="op" id="5130140">,</span>&nbsp;<span class="ident" id="5130142">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5130147">case</span>&nbsp;<span class="ident" id="5130152">reflect</span><span class="op" id="5130159">.</span><span class="ident" id="5130160">Float32</span><span class="op" id="5130167">,</span>&nbsp;<span class="ident" id="5130169">reflect</span><span class="op" id="5130176">.</span><span class="ident" id="5130177">Float64</span><span class="op" id="5130184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5130188">return</span>&nbsp;<span class="ident" id="5130195">rv</span><span class="op" id="5130197">.</span><span class="ident" id="5130198">Float</span><span class="op" id="5130203">(</span><span class="op" id="5130204">)</span><span class="op" id="5130205">,</span>&nbsp;<span class="ident" id="5130207">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5130212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5130215">return</span>&nbsp;<span class="ident" id="5130222">nil</span><span class="op" id="5130225">,</span>&nbsp;<span class="ident" id="5130227">fmt</span><span class="op" id="5130230">.</span><span class="ident" id="5130231">Errorf</span><span class="op" id="5130237">(</span><span class="string" id="5130238">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="5130265">,</span>&nbsp;<span class="ident" id="5130267">v</span><span class="op" id="5130268">,</span>&nbsp;<span class="ident" id="5130270">rv</span><span class="op" id="5130272">.</span><span class="ident" id="5130273">Kind</span><span class="op" id="5130277">(</span><span class="op" id="5130278">)</span><span class="op" id="5130279">)</span><br>
<span class="lineno"></span><span class="op" id="5130281">}</span>
</div>
</body>
</html>
