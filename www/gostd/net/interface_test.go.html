<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html" class="current">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7530729">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7530785">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7530839">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7530890">package</span>&nbsp;<span class="ident" id="7530898">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7530903">import</span>&nbsp;<span class="op" id="7530910">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7530913">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7530924">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7530934">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7530937">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="7531005">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7531072">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="7531082">func</span>&nbsp;<span class="ident" id="7531087">loopbackInterface</span><span class="op" id="7531104">(</span><span class="op" id="7531105">)</span>&nbsp;<span class="op" id="7531107">*</span><span class="ident" id="7531108">Interface</span>&nbsp;<span class="op" id="7531118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531121">ift</span><span class="op" id="7531124">,</span>&nbsp;<span class="ident" id="7531126">err</span>&nbsp;<span class="op" id="7531130">:=</span>&nbsp;<span class="ident" id="7531133">Interfaces</span><span class="op" id="7531143">(</span><span class="op" id="7531144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531147">if</span>&nbsp;<span class="ident" id="7531150">err</span>&nbsp;<span class="op" id="7531154">!=</span>&nbsp;<span class="ident" id="7531157">nil</span>&nbsp;<span class="op" id="7531161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531165">return</span>&nbsp;<span class="ident" id="7531172">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531177">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531180">for</span>&nbsp;<span class="ident" id="7531184">_</span><span class="op" id="7531185">,</span>&nbsp;<span class="ident" id="7531187">ifi</span>&nbsp;<span class="op" id="7531191">:=</span>&nbsp;<span class="keyword" id="7531194">range</span>&nbsp;<span class="ident" id="7531200">ift</span>&nbsp;<span class="op" id="7531204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531208">if</span>&nbsp;<span class="ident" id="7531211">ifi</span><span class="op" id="7531214">.</span><span class="ident" id="7531215">Flags</span><span class="op" id="7531220">&amp;</span><span class="ident" id="7531221">FlagLoopback</span>&nbsp;<span class="op" id="7531234">!=</span>&nbsp;<span class="num" id="7531237">0</span>&nbsp;<span class="op" id="7531239">&amp;&amp;</span>&nbsp;<span class="ident" id="7531242">ifi</span><span class="op" id="7531245">.</span><span class="ident" id="7531246">Flags</span><span class="op" id="7531251">&amp;</span><span class="ident" id="7531252">FlagUp</span>&nbsp;<span class="op" id="7531259">!=</span>&nbsp;<span class="num" id="7531262">0</span>&nbsp;<span class="op" id="7531264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531269">return</span>&nbsp;<span class="op" id="7531276">&amp;</span><span class="ident" id="7531277">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531286">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531289">return</span>&nbsp;<span class="ident" id="7531296">nil</span><br>
<span class="lineno"></span><span class="op" id="7531300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7531303">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="7531374">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="7531439">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="7531469">func</span>&nbsp;<span class="ident" id="7531474">ipv6LinkLocalUnicastAddr</span><span class="op" id="7531498">(</span><span class="ident" id="7531499">ifi</span>&nbsp;<span class="op" id="7531503">*</span><span class="ident" id="7531504">Interface</span><span class="op" id="7531513">)</span>&nbsp;<span class="builtintype" id="7531515">string</span>&nbsp;<span class="op" id="7531522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531525">if</span>&nbsp;<span class="ident" id="7531528">ifi</span>&nbsp;<span class="op" id="7531532">==</span>&nbsp;<span class="ident" id="7531535">nil</span>&nbsp;<span class="op" id="7531539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531543">return</span>&nbsp;<span class="string" id="7531550">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531554">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531557">ifat</span><span class="op" id="7531561">,</span>&nbsp;<span class="ident" id="7531563">err</span>&nbsp;<span class="op" id="7531567">:=</span>&nbsp;<span class="ident" id="7531570">ifi</span><span class="op" id="7531573">.</span><span class="ident" id="7531574">Addrs</span><span class="op" id="7531579">(</span><span class="op" id="7531580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531583">if</span>&nbsp;<span class="ident" id="7531586">err</span>&nbsp;<span class="op" id="7531590">!=</span>&nbsp;<span class="ident" id="7531593">nil</span>&nbsp;<span class="op" id="7531597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531601">return</span>&nbsp;<span class="string" id="7531608">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531615">for</span>&nbsp;<span class="ident" id="7531619">_</span><span class="op" id="7531620">,</span>&nbsp;<span class="ident" id="7531622">ifa</span>&nbsp;<span class="op" id="7531626">:=</span>&nbsp;<span class="keyword" id="7531629">range</span>&nbsp;<span class="ident" id="7531635">ifat</span>&nbsp;<span class="op" id="7531640">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531644">switch</span>&nbsp;<span class="ident" id="7531651">ifa</span>&nbsp;<span class="op" id="7531655">:=</span>&nbsp;<span class="ident" id="7531658">ifa</span><span class="op" id="7531661">.</span><span class="op" id="7531662">(</span><span class="keyword" id="7531663">type</span><span class="op" id="7531667">)</span>&nbsp;<span class="op" id="7531669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531673">case</span>&nbsp;<span class="op" id="7531678">*</span><span class="ident" id="7531679">IPAddr</span><span class="op" id="7531685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531690">if</span>&nbsp;<span class="ident" id="7531693">ifa</span><span class="op" id="7531696">.</span><span class="ident" id="7531697">IP</span><span class="op" id="7531699">.</span><span class="ident" id="7531700">To4</span><span class="op" id="7531703">(</span><span class="op" id="7531704">)</span>&nbsp;<span class="op" id="7531706">==</span>&nbsp;<span class="ident" id="7531709">nil</span>&nbsp;<span class="op" id="7531713">&amp;&amp;</span>&nbsp;<span class="ident" id="7531716">ifa</span><span class="op" id="7531719">.</span><span class="ident" id="7531720">IP</span><span class="op" id="7531722">.</span><span class="ident" id="7531723">IsLinkLocalUnicast</span><span class="op" id="7531741">(</span><span class="op" id="7531742">)</span>&nbsp;<span class="op" id="7531744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531750">return</span>&nbsp;<span class="ident" id="7531757">ifa</span><span class="op" id="7531760">.</span><span class="ident" id="7531761">IP</span><span class="op" id="7531763">.</span><span class="ident" id="7531764">String</span><span class="op" id="7531770">(</span><span class="op" id="7531771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531776">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531780">case</span>&nbsp;<span class="op" id="7531785">*</span><span class="ident" id="7531786">IPNet</span><span class="op" id="7531791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531796">if</span>&nbsp;<span class="ident" id="7531799">ifa</span><span class="op" id="7531802">.</span><span class="ident" id="7531803">IP</span><span class="op" id="7531805">.</span><span class="ident" id="7531806">To4</span><span class="op" id="7531809">(</span><span class="op" id="7531810">)</span>&nbsp;<span class="op" id="7531812">==</span>&nbsp;<span class="ident" id="7531815">nil</span>&nbsp;<span class="op" id="7531819">&amp;&amp;</span>&nbsp;<span class="ident" id="7531822">ifa</span><span class="op" id="7531825">.</span><span class="ident" id="7531826">IP</span><span class="op" id="7531828">.</span><span class="ident" id="7531829">IsLinkLocalUnicast</span><span class="op" id="7531847">(</span><span class="op" id="7531848">)</span>&nbsp;<span class="op" id="7531850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531856">return</span>&nbsp;<span class="ident" id="7531863">ifa</span><span class="op" id="7531866">.</span><span class="ident" id="7531867">IP</span><span class="op" id="7531869">.</span><span class="ident" id="7531870">String</span><span class="op" id="7531876">(</span><span class="op" id="7531877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531886">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531892">return</span>&nbsp;<span class="string" id="7531899">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7531902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7531905">func</span>&nbsp;<span class="ident" id="7531910">TestInterfaces</span><span class="op" id="7531924">(</span><span class="ident" id="7531925">t</span>&nbsp;<span class="op" id="7531927">*</span><span class="ident" id="7531928">testing</span><span class="op" id="7531935">.</span><span class="ident" id="7531936">T</span><span class="op" id="7531937">)</span>&nbsp;<span class="op" id="7531939">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531942">ift</span><span class="op" id="7531945">,</span>&nbsp;<span class="ident" id="7531947">err</span>&nbsp;<span class="op" id="7531951">:=</span>&nbsp;<span class="ident" id="7531954">Interfaces</span><span class="op" id="7531964">(</span><span class="op" id="7531965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531968">if</span>&nbsp;<span class="ident" id="7531971">err</span>&nbsp;<span class="op" id="7531975">!=</span>&nbsp;<span class="ident" id="7531978">nil</span>&nbsp;<span class="op" id="7531982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531986">t</span><span class="op" id="7531987">.</span><span class="ident" id="7531988">Fatalf</span><span class="op" id="7531994">(</span><span class="string" id="7531995">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7532018">,</span>&nbsp;<span class="ident" id="7532020">err</span><span class="op" id="7532023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532029">t</span><span class="op" id="7532030">.</span><span class="ident" id="7532031">Logf</span><span class="op" id="7532035">(</span><span class="string" id="7532036">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7532060">,</span>&nbsp;<span class="builtinfunc" id="7532062">len</span><span class="op" id="7532065">(</span><span class="ident" id="7532066">ift</span><span class="op" id="7532069">)</span><span class="op" id="7532070">,</span>&nbsp;<span class="builtinfunc" id="7532072">cap</span><span class="op" id="7532075">(</span><span class="ident" id="7532076">ift</span><span class="op" id="7532079">)</span><span class="op" id="7532080">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532084">for</span>&nbsp;<span class="ident" id="7532088">_</span><span class="op" id="7532089">,</span>&nbsp;<span class="ident" id="7532091">ifi</span>&nbsp;<span class="op" id="7532095">:=</span>&nbsp;<span class="keyword" id="7532098">range</span>&nbsp;<span class="ident" id="7532104">ift</span>&nbsp;<span class="op" id="7532108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532112">ifxi</span><span class="op" id="7532116">,</span>&nbsp;<span class="ident" id="7532118">err</span>&nbsp;<span class="op" id="7532122">:=</span>&nbsp;<span class="ident" id="7532125">InterfaceByIndex</span><span class="op" id="7532141">(</span><span class="ident" id="7532142">ifi</span><span class="op" id="7532145">.</span><span class="ident" id="7532146">Index</span><span class="op" id="7532151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532155">if</span>&nbsp;<span class="ident" id="7532158">err</span>&nbsp;<span class="op" id="7532162">!=</span>&nbsp;<span class="ident" id="7532165">nil</span>&nbsp;<span class="op" id="7532169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532174">t</span><span class="op" id="7532175">.</span><span class="ident" id="7532176">Fatalf</span><span class="op" id="7532182">(</span><span class="string" id="7532183">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7532216">,</span>&nbsp;<span class="ident" id="7532218">ifi</span><span class="op" id="7532221">.</span><span class="ident" id="7532222">Index</span><span class="op" id="7532227">,</span>&nbsp;<span class="ident" id="7532229">err</span><span class="op" id="7532232">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532240">if</span>&nbsp;<span class="op" id="7532243">!</span><span class="ident" id="7532244">reflect</span><span class="op" id="7532251">.</span><span class="ident" id="7532252">DeepEqual</span><span class="op" id="7532261">(</span><span class="ident" id="7532262">ifxi</span><span class="op" id="7532266">,</span>&nbsp;<span class="op" id="7532268">&amp;</span><span class="ident" id="7532269">ifi</span><span class="op" id="7532272">)</span>&nbsp;<span class="op" id="7532274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532279">t</span><span class="op" id="7532280">.</span><span class="ident" id="7532281">Fatalf</span><span class="op" id="7532287">(</span><span class="string" id="7532288">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7532324">,</span>&nbsp;<span class="ident" id="7532326">ifi</span><span class="op" id="7532329">.</span><span class="ident" id="7532330">Index</span><span class="op" id="7532335">,</span>&nbsp;<span class="ident" id="7532337">ifxi</span><span class="op" id="7532341">,</span>&nbsp;<span class="ident" id="7532343">ifi</span><span class="op" id="7532346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532354">ifxn</span><span class="op" id="7532358">,</span>&nbsp;<span class="ident" id="7532360">err</span>&nbsp;<span class="op" id="7532364">:=</span>&nbsp;<span class="ident" id="7532367">InterfaceByName</span><span class="op" id="7532382">(</span><span class="ident" id="7532383">ifi</span><span class="op" id="7532386">.</span><span class="ident" id="7532387">Name</span><span class="op" id="7532391">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532395">if</span>&nbsp;<span class="ident" id="7532398">err</span>&nbsp;<span class="op" id="7532402">!=</span>&nbsp;<span class="ident" id="7532405">nil</span>&nbsp;<span class="op" id="7532409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532414">t</span><span class="op" id="7532415">.</span><span class="ident" id="7532416">Fatalf</span><span class="op" id="7532422">(</span><span class="string" id="7532423">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7532455">,</span>&nbsp;<span class="ident" id="7532457">ifi</span><span class="op" id="7532460">.</span><span class="ident" id="7532461">Name</span><span class="op" id="7532465">,</span>&nbsp;<span class="ident" id="7532467">err</span><span class="op" id="7532470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532478">if</span>&nbsp;<span class="op" id="7532481">!</span><span class="ident" id="7532482">reflect</span><span class="op" id="7532489">.</span><span class="ident" id="7532490">DeepEqual</span><span class="op" id="7532499">(</span><span class="ident" id="7532500">ifxn</span><span class="op" id="7532504">,</span>&nbsp;<span class="op" id="7532506">&amp;</span><span class="ident" id="7532507">ifi</span><span class="op" id="7532510">)</span>&nbsp;<span class="op" id="7532512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532517">t</span><span class="op" id="7532518">.</span><span class="ident" id="7532519">Fatalf</span><span class="op" id="7532525">(</span><span class="string" id="7532526">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7532561">,</span>&nbsp;<span class="ident" id="7532563">ifi</span><span class="op" id="7532566">.</span><span class="ident" id="7532567">Name</span><span class="op" id="7532571">,</span>&nbsp;<span class="ident" id="7532573">ifxn</span><span class="op" id="7532577">,</span>&nbsp;<span class="ident" id="7532579">ifi</span><span class="op" id="7532582">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532590">t</span><span class="op" id="7532591">.</span><span class="ident" id="7532592">Logf</span><span class="op" id="7532596">(</span><span class="string" id="7532597">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="7532631">,</span>&nbsp;<span class="ident" id="7532633">ifi</span><span class="op" id="7532636">.</span><span class="ident" id="7532637">Name</span><span class="op" id="7532641">,</span>&nbsp;<span class="ident" id="7532643">ifi</span><span class="op" id="7532646">.</span><span class="ident" id="7532647">Flags</span><span class="op" id="7532652">.</span><span class="ident" id="7532653">String</span><span class="op" id="7532659">(</span><span class="op" id="7532660">)</span><span class="op" id="7532661">,</span>&nbsp;<span class="ident" id="7532663">ifi</span><span class="op" id="7532666">.</span><span class="ident" id="7532667">Index</span><span class="op" id="7532672">,</span>&nbsp;<span class="ident" id="7532674">ifi</span><span class="op" id="7532677">.</span><span class="ident" id="7532678">MTU</span><span class="op" id="7532681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532685">t</span><span class="op" id="7532686">.</span><span class="ident" id="7532687">Logf</span><span class="op" id="7532691">(</span><span class="string" id="7532692">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7532715">,</span>&nbsp;<span class="ident" id="7532717">ifi</span><span class="op" id="7532720">.</span><span class="ident" id="7532721">HardwareAddr</span><span class="op" id="7532733">.</span><span class="ident" id="7532734">String</span><span class="op" id="7532740">(</span><span class="op" id="7532741">)</span><span class="op" id="7532742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532746">testInterfaceAddrs</span><span class="op" id="7532764">(</span><span class="ident" id="7532765">t</span><span class="op" id="7532766">,</span>&nbsp;<span class="op" id="7532768">&amp;</span><span class="ident" id="7532769">ifi</span><span class="op" id="7532772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532776">testInterfaceMulticastAddrs</span><span class="op" id="7532803">(</span><span class="ident" id="7532804">t</span><span class="op" id="7532805">,</span>&nbsp;<span class="op" id="7532807">&amp;</span><span class="ident" id="7532808">ifi</span><span class="op" id="7532811">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532814">}</span><br>
<span class="lineno"></span><span class="op" id="7532816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7532819">func</span>&nbsp;<span class="ident" id="7532824">TestInterfaceAddrs</span><span class="op" id="7532842">(</span><span class="ident" id="7532843">t</span>&nbsp;<span class="op" id="7532845">*</span><span class="ident" id="7532846">testing</span><span class="op" id="7532853">.</span><span class="ident" id="7532854">T</span><span class="op" id="7532855">)</span>&nbsp;<span class="op" id="7532857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532860">ifat</span><span class="op" id="7532864">,</span>&nbsp;<span class="ident" id="7532866">err</span>&nbsp;<span class="op" id="7532870">:=</span>&nbsp;<span class="ident" id="7532873">InterfaceAddrs</span><span class="op" id="7532887">(</span><span class="op" id="7532888">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532891">if</span>&nbsp;<span class="ident" id="7532894">err</span>&nbsp;<span class="op" id="7532898">!=</span>&nbsp;<span class="ident" id="7532901">nil</span>&nbsp;<span class="op" id="7532905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532909">t</span><span class="op" id="7532910">.</span><span class="ident" id="7532911">Fatalf</span><span class="op" id="7532917">(</span><span class="string" id="7532918">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7532945">,</span>&nbsp;<span class="ident" id="7532947">err</span><span class="op" id="7532950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532956">t</span><span class="op" id="7532957">.</span><span class="ident" id="7532958">Logf</span><span class="op" id="7532962">(</span><span class="string" id="7532963">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7532987">,</span>&nbsp;<span class="builtinfunc" id="7532989">len</span><span class="op" id="7532992">(</span><span class="ident" id="7532993">ifat</span><span class="op" id="7532997">)</span><span class="op" id="7532998">,</span>&nbsp;<span class="builtinfunc" id="7533000">cap</span><span class="op" id="7533003">(</span><span class="ident" id="7533004">ifat</span><span class="op" id="7533008">)</span><span class="op" id="7533009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533012">testAddrs</span><span class="op" id="7533021">(</span><span class="ident" id="7533022">t</span><span class="op" id="7533023">,</span>&nbsp;<span class="ident" id="7533025">ifat</span><span class="op" id="7533029">)</span><br>
<span class="lineno">90</span><span class="op" id="7533031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7533034">func</span>&nbsp;<span class="ident" id="7533039">testInterfaceAddrs</span><span class="op" id="7533057">(</span><span class="ident" id="7533058">t</span>&nbsp;<span class="op" id="7533060">*</span><span class="ident" id="7533061">testing</span><span class="op" id="7533068">.</span><span class="ident" id="7533069">T</span><span class="op" id="7533070">,</span>&nbsp;<span class="ident" id="7533072">ifi</span>&nbsp;<span class="op" id="7533076">*</span><span class="ident" id="7533077">Interface</span><span class="op" id="7533086">)</span>&nbsp;<span class="op" id="7533088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533091">ifat</span><span class="op" id="7533095">,</span>&nbsp;<span class="ident" id="7533097">err</span>&nbsp;<span class="op" id="7533101">:=</span>&nbsp;<span class="ident" id="7533104">ifi</span><span class="op" id="7533107">.</span><span class="ident" id="7533108">Addrs</span><span class="op" id="7533113">(</span><span class="op" id="7533114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533117">if</span>&nbsp;<span class="ident" id="7533120">err</span>&nbsp;<span class="op" id="7533124">!=</span>&nbsp;<span class="ident" id="7533127">nil</span>&nbsp;<span class="op" id="7533131">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533135">t</span><span class="op" id="7533136">.</span><span class="ident" id="7533137">Fatalf</span><span class="op" id="7533143">(</span><span class="string" id="7533144">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7533172">,</span>&nbsp;<span class="ident" id="7533174">err</span><span class="op" id="7533177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533183">testAddrs</span><span class="op" id="7533192">(</span><span class="ident" id="7533193">t</span><span class="op" id="7533194">,</span>&nbsp;<span class="ident" id="7533196">ifat</span><span class="op" id="7533200">)</span><br>
<span class="lineno"></span><span class="op" id="7533202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7533205">func</span>&nbsp;<span class="ident" id="7533210">testInterfaceMulticastAddrs</span><span class="op" id="7533237">(</span><span class="ident" id="7533238">t</span>&nbsp;<span class="op" id="7533240">*</span><span class="ident" id="7533241">testing</span><span class="op" id="7533248">.</span><span class="ident" id="7533249">T</span><span class="op" id="7533250">,</span>&nbsp;<span class="ident" id="7533252">ifi</span>&nbsp;<span class="op" id="7533256">*</span><span class="ident" id="7533257">Interface</span><span class="op" id="7533266">)</span>&nbsp;<span class="op" id="7533268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533271">ifmat</span><span class="op" id="7533276">,</span>&nbsp;<span class="ident" id="7533278">err</span>&nbsp;<span class="op" id="7533282">:=</span>&nbsp;<span class="ident" id="7533285">ifi</span><span class="op" id="7533288">.</span><span class="ident" id="7533289">MulticastAddrs</span><span class="op" id="7533303">(</span><span class="op" id="7533304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533307">if</span>&nbsp;<span class="ident" id="7533310">err</span>&nbsp;<span class="op" id="7533314">!=</span>&nbsp;<span class="ident" id="7533317">nil</span>&nbsp;<span class="op" id="7533321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533325">t</span><span class="op" id="7533326">.</span><span class="ident" id="7533327">Fatalf</span><span class="op" id="7533333">(</span><span class="string" id="7533334">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7533371">,</span>&nbsp;<span class="ident" id="7533373">err</span><span class="op" id="7533376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533379">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533382">testMulticastAddrs</span><span class="op" id="7533400">(</span><span class="ident" id="7533401">t</span><span class="op" id="7533402">,</span>&nbsp;<span class="ident" id="7533404">ifmat</span><span class="op" id="7533409">)</span><br>
<span class="lineno"></span><span class="op" id="7533411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7533414">func</span>&nbsp;<span class="ident" id="7533419">testAddrs</span><span class="op" id="7533428">(</span><span class="ident" id="7533429">t</span>&nbsp;<span class="op" id="7533431">*</span><span class="ident" id="7533432">testing</span><span class="op" id="7533439">.</span><span class="ident" id="7533440">T</span><span class="op" id="7533441">,</span>&nbsp;<span class="ident" id="7533443">ifat</span>&nbsp;<span class="op" id="7533448">[</span><span class="op" id="7533449">]</span><span class="ident" id="7533450">Addr</span><span class="op" id="7533454">)</span>&nbsp;<span class="op" id="7533456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533459">for</span>&nbsp;<span class="ident" id="7533463">_</span><span class="op" id="7533464">,</span>&nbsp;<span class="ident" id="7533466">ifa</span>&nbsp;<span class="op" id="7533470">:=</span>&nbsp;<span class="keyword" id="7533473">range</span>&nbsp;<span class="ident" id="7533479">ifat</span>&nbsp;<span class="op" id="7533484">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533488">switch</span>&nbsp;<span class="ident" id="7533495">ifa</span>&nbsp;<span class="op" id="7533499">:=</span>&nbsp;<span class="ident" id="7533502">ifa</span><span class="op" id="7533505">.</span><span class="op" id="7533506">(</span><span class="keyword" id="7533507">type</span><span class="op" id="7533511">)</span>&nbsp;<span class="op" id="7533513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533517">case</span>&nbsp;<span class="op" id="7533522">*</span><span class="ident" id="7533523">IPAddr</span><span class="op" id="7533529">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533534">if</span>&nbsp;<span class="ident" id="7533537">ifa</span>&nbsp;<span class="op" id="7533541">==</span>&nbsp;<span class="ident" id="7533544">nil</span>&nbsp;<span class="op" id="7533548">||</span>&nbsp;<span class="ident" id="7533551">ifa</span><span class="op" id="7533554">.</span><span class="ident" id="7533555">IP</span>&nbsp;<span class="op" id="7533558">==</span>&nbsp;<span class="ident" id="7533561">nil</span>&nbsp;<span class="op" id="7533565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533571">t</span><span class="op" id="7533572">.</span><span class="ident" id="7533573">Errorf</span><span class="op" id="7533579">(</span><span class="string" id="7533580">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7533608">,</span>&nbsp;<span class="ident" id="7533610">ifa</span><span class="op" id="7533613">,</span>&nbsp;<span class="ident" id="7533615">ifa</span><span class="op" id="7533618">.</span><span class="ident" id="7533619">IP</span><span class="op" id="7533621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533626">}</span>&nbsp;<span class="keyword" id="7533628">else</span>&nbsp;<span class="op" id="7533633">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533639">t</span><span class="op" id="7533640">.</span><span class="ident" id="7533641">Logf</span><span class="op" id="7533645">(</span><span class="string" id="7533646">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7533670">,</span>&nbsp;<span class="ident" id="7533672">ifa</span><span class="op" id="7533675">.</span><span class="ident" id="7533676">String</span><span class="op" id="7533682">(</span><span class="op" id="7533683">)</span><span class="op" id="7533684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533693">case</span>&nbsp;<span class="op" id="7533698">*</span><span class="ident" id="7533699">IPNet</span><span class="op" id="7533704">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533709">if</span>&nbsp;<span class="ident" id="7533712">ifa</span>&nbsp;<span class="op" id="7533716">==</span>&nbsp;<span class="ident" id="7533719">nil</span>&nbsp;<span class="op" id="7533723">||</span>&nbsp;<span class="ident" id="7533726">ifa</span><span class="op" id="7533729">.</span><span class="ident" id="7533730">IP</span>&nbsp;<span class="op" id="7533733">==</span>&nbsp;<span class="ident" id="7533736">nil</span>&nbsp;<span class="op" id="7533740">||</span>&nbsp;<span class="ident" id="7533743">ifa</span><span class="op" id="7533746">.</span><span class="ident" id="7533747">Mask</span>&nbsp;<span class="op" id="7533752">==</span>&nbsp;<span class="ident" id="7533755">nil</span>&nbsp;<span class="op" id="7533759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533765">t</span><span class="op" id="7533766">.</span><span class="ident" id="7533767">Errorf</span><span class="op" id="7533773">(</span><span class="string" id="7533774">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7533806">,</span>&nbsp;<span class="ident" id="7533808">ifa</span><span class="op" id="7533811">,</span>&nbsp;<span class="ident" id="7533813">ifa</span><span class="op" id="7533816">.</span><span class="ident" id="7533817">IP</span><span class="op" id="7533819">,</span>&nbsp;<span class="ident" id="7533821">ifa</span><span class="op" id="7533824">.</span><span class="ident" id="7533825">Mask</span><span class="op" id="7533829">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533834">}</span>&nbsp;<span class="keyword" id="7533836">else</span>&nbsp;<span class="op" id="7533841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533847">_</span><span class="op" id="7533848">,</span>&nbsp;<span class="ident" id="7533850">prefixLen</span>&nbsp;<span class="op" id="7533860">:=</span>&nbsp;<span class="ident" id="7533863">ifa</span><span class="op" id="7533866">.</span><span class="ident" id="7533867">Mask</span><span class="op" id="7533871">.</span><span class="ident" id="7533872">Size</span><span class="op" id="7533876">(</span><span class="op" id="7533877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533883">if</span>&nbsp;<span class="ident" id="7533886">ifa</span><span class="op" id="7533889">.</span><span class="ident" id="7533890">IP</span><span class="op" id="7533892">.</span><span class="ident" id="7533893">To4</span><span class="op" id="7533896">(</span><span class="op" id="7533897">)</span>&nbsp;<span class="op" id="7533899">!=</span>&nbsp;<span class="ident" id="7533902">nil</span>&nbsp;<span class="op" id="7533906">&amp;&amp;</span>&nbsp;<span class="ident" id="7533909">prefixLen</span>&nbsp;<span class="op" id="7533919">!=</span>&nbsp;<span class="num" id="7533922">8</span><span class="op" id="7533923">*</span><span class="ident" id="7533924">IPv4len</span>&nbsp;<span class="op" id="7533932">||</span>&nbsp;<span class="ident" id="7533935">ifa</span><span class="op" id="7533938">.</span><span class="ident" id="7533939">IP</span><span class="op" id="7533941">.</span><span class="ident" id="7533942">To16</span><span class="op" id="7533946">(</span><span class="op" id="7533947">)</span>&nbsp;<span class="op" id="7533949">!=</span>&nbsp;<span class="ident" id="7533952">nil</span>&nbsp;<span class="op" id="7533956">&amp;&amp;</span>&nbsp;<span class="ident" id="7533959">ifa</span><span class="op" id="7533962">.</span><span class="ident" id="7533963">IP</span><span class="op" id="7533965">.</span><span class="ident" id="7533966">To4</span><span class="op" id="7533969">(</span><span class="op" id="7533970">)</span>&nbsp;<span class="op" id="7533972">==</span>&nbsp;<span class="ident" id="7533975">nil</span>&nbsp;<span class="op" id="7533979">&amp;&amp;</span>&nbsp;<span class="ident" id="7533982">prefixLen</span>&nbsp;<span class="op" id="7533992">!=</span>&nbsp;<span class="num" id="7533995">8</span><span class="op" id="7533996">*</span><span class="ident" id="7533997">IPv6len</span>&nbsp;<span class="op" id="7534005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534012">t</span><span class="op" id="7534013">.</span><span class="ident" id="7534014">Errorf</span><span class="op" id="7534020">(</span><span class="string" id="7534021">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7534057">,</span>&nbsp;<span class="ident" id="7534059">ifa</span><span class="op" id="7534062">,</span>&nbsp;<span class="ident" id="7534064">ifa</span><span class="op" id="7534067">.</span><span class="ident" id="7534068">IP</span><span class="op" id="7534070">,</span>&nbsp;<span class="ident" id="7534072">ifa</span><span class="op" id="7534075">.</span><span class="ident" id="7534076">Mask</span><span class="op" id="7534080">,</span>&nbsp;<span class="ident" id="7534082">prefixLen</span><span class="op" id="7534091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534097">}</span>&nbsp;<span class="keyword" id="7534099">else</span>&nbsp;<span class="op" id="7534104">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534111">t</span><span class="op" id="7534112">.</span><span class="ident" id="7534113">Logf</span><span class="op" id="7534117">(</span><span class="string" id="7534118">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7534142">,</span>&nbsp;<span class="ident" id="7534144">ifa</span><span class="op" id="7534147">.</span><span class="ident" id="7534148">String</span><span class="op" id="7534154">(</span><span class="op" id="7534155">)</span><span class="op" id="7534156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534171">default</span><span class="op" id="7534178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534183">t</span><span class="op" id="7534184">.</span><span class="ident" id="7534185">Errorf</span><span class="op" id="7534191">(</span><span class="string" id="7534192">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7534215">,</span>&nbsp;<span class="ident" id="7534217">ifa</span><span class="op" id="7534220">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534227">}</span><br>
<span class="lineno"></span><span class="op" id="7534229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7534232">func</span>&nbsp;<span class="ident" id="7534237">testMulticastAddrs</span><span class="op" id="7534255">(</span><span class="ident" id="7534256">t</span>&nbsp;<span class="op" id="7534258">*</span><span class="ident" id="7534259">testing</span><span class="op" id="7534266">.</span><span class="ident" id="7534267">T</span><span class="op" id="7534268">,</span>&nbsp;<span class="ident" id="7534270">ifmat</span>&nbsp;<span class="op" id="7534276">[</span><span class="op" id="7534277">]</span><span class="ident" id="7534278">Addr</span><span class="op" id="7534282">)</span>&nbsp;<span class="op" id="7534284">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534287">for</span>&nbsp;<span class="ident" id="7534291">_</span><span class="op" id="7534292">,</span>&nbsp;<span class="ident" id="7534294">ifma</span>&nbsp;<span class="op" id="7534299">:=</span>&nbsp;<span class="keyword" id="7534302">range</span>&nbsp;<span class="ident" id="7534308">ifmat</span>&nbsp;<span class="op" id="7534314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534318">switch</span>&nbsp;<span class="ident" id="7534325">ifma</span>&nbsp;<span class="op" id="7534330">:=</span>&nbsp;<span class="ident" id="7534333">ifma</span><span class="op" id="7534337">.</span><span class="op" id="7534338">(</span><span class="keyword" id="7534339">type</span><span class="op" id="7534343">)</span>&nbsp;<span class="op" id="7534345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534349">case</span>&nbsp;<span class="op" id="7534354">*</span><span class="ident" id="7534355">IPAddr</span><span class="op" id="7534361">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534366">if</span>&nbsp;<span class="ident" id="7534369">ifma</span>&nbsp;<span class="op" id="7534374">==</span>&nbsp;<span class="ident" id="7534377">nil</span>&nbsp;<span class="op" id="7534381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534387">t</span><span class="op" id="7534388">.</span><span class="ident" id="7534389">Errorf</span><span class="op" id="7534395">(</span><span class="string" id="7534396">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7534420">,</span>&nbsp;<span class="ident" id="7534422">ifma</span><span class="op" id="7534426">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534431">}</span>&nbsp;<span class="keyword" id="7534433">else</span>&nbsp;<span class="op" id="7534438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534444">t</span><span class="op" id="7534445">.</span><span class="ident" id="7534446">Logf</span><span class="op" id="7534450">(</span><span class="string" id="7534451">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7534478">,</span>&nbsp;<span class="ident" id="7534480">ifma</span><span class="op" id="7534484">.</span><span class="ident" id="7534485">String</span><span class="op" id="7534491">(</span><span class="op" id="7534492">)</span><span class="op" id="7534493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534502">default</span><span class="op" id="7534509">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534514">t</span><span class="op" id="7534515">.</span><span class="ident" id="7534516">Errorf</span><span class="op" id="7534522">(</span><span class="string" id="7534523">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7534546">,</span>&nbsp;<span class="ident" id="7534548">ifma</span><span class="op" id="7534552">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534559">}</span><br>
<span class="lineno"></span><span class="op" id="7534561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7534564">func</span>&nbsp;<span class="ident" id="7534569">BenchmarkInterfaces</span><span class="op" id="7534588">(</span><span class="ident" id="7534589">b</span>&nbsp;<span class="op" id="7534591">*</span><span class="ident" id="7534592">testing</span><span class="op" id="7534599">.</span><span class="ident" id="7534600">B</span><span class="op" id="7534601">)</span>&nbsp;<span class="op" id="7534603">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534606">for</span>&nbsp;<span class="ident" id="7534610">i</span>&nbsp;<span class="op" id="7534612">:=</span>&nbsp;<span class="num" id="7534615">0</span><span class="op" id="7534616">;</span>&nbsp;<span class="ident" id="7534618">i</span>&nbsp;<span class="op" id="7534620">&lt;</span>&nbsp;<span class="ident" id="7534622">b</span><span class="op" id="7534623">.</span><span class="ident" id="7534624">N</span><span class="op" id="7534625">;</span>&nbsp;<span class="ident" id="7534627">i</span><span class="op" id="7534628">++</span>&nbsp;<span class="op" id="7534631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534635">if</span>&nbsp;<span class="ident" id="7534638">_</span><span class="op" id="7534639">,</span>&nbsp;<span class="ident" id="7534641">err</span>&nbsp;<span class="op" id="7534645">:=</span>&nbsp;<span class="ident" id="7534648">Interfaces</span><span class="op" id="7534658">(</span><span class="op" id="7534659">)</span><span class="op" id="7534660">;</span>&nbsp;<span class="ident" id="7534662">err</span>&nbsp;<span class="op" id="7534666">!=</span>&nbsp;<span class="ident" id="7534669">nil</span>&nbsp;<span class="op" id="7534673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534678">b</span><span class="op" id="7534679">.</span><span class="ident" id="7534680">Fatalf</span><span class="op" id="7534686">(</span><span class="string" id="7534687">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7534710">,</span>&nbsp;<span class="ident" id="7534712">err</span><span class="op" id="7534715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534722">}</span><br>
<span class="lineno">155</span><span class="op" id="7534724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7534727">func</span>&nbsp;<span class="ident" id="7534732">BenchmarkInterfaceByIndex</span><span class="op" id="7534757">(</span><span class="ident" id="7534758">b</span>&nbsp;<span class="op" id="7534760">*</span><span class="ident" id="7534761">testing</span><span class="op" id="7534768">.</span><span class="ident" id="7534769">B</span><span class="op" id="7534770">)</span>&nbsp;<span class="op" id="7534772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534775">ifi</span>&nbsp;<span class="op" id="7534779">:=</span>&nbsp;<span class="ident" id="7534782">loopbackInterface</span><span class="op" id="7534799">(</span><span class="op" id="7534800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534803">if</span>&nbsp;<span class="ident" id="7534806">ifi</span>&nbsp;<span class="op" id="7534810">==</span>&nbsp;<span class="ident" id="7534813">nil</span>&nbsp;<span class="op" id="7534817">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534821">b</span><span class="op" id="7534822">.</span><span class="ident" id="7534823">Skip</span><span class="op" id="7534827">(</span><span class="string" id="7534828">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7534858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534864">for</span>&nbsp;<span class="ident" id="7534868">i</span>&nbsp;<span class="op" id="7534870">:=</span>&nbsp;<span class="num" id="7534873">0</span><span class="op" id="7534874">;</span>&nbsp;<span class="ident" id="7534876">i</span>&nbsp;<span class="op" id="7534878">&lt;</span>&nbsp;<span class="ident" id="7534880">b</span><span class="op" id="7534881">.</span><span class="ident" id="7534882">N</span><span class="op" id="7534883">;</span>&nbsp;<span class="ident" id="7534885">i</span><span class="op" id="7534886">++</span>&nbsp;<span class="op" id="7534889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534893">if</span>&nbsp;<span class="ident" id="7534896">_</span><span class="op" id="7534897">,</span>&nbsp;<span class="ident" id="7534899">err</span>&nbsp;<span class="op" id="7534903">:=</span>&nbsp;<span class="ident" id="7534906">InterfaceByIndex</span><span class="op" id="7534922">(</span><span class="ident" id="7534923">ifi</span><span class="op" id="7534926">.</span><span class="ident" id="7534927">Index</span><span class="op" id="7534932">)</span><span class="op" id="7534933">;</span>&nbsp;<span class="ident" id="7534935">err</span>&nbsp;<span class="op" id="7534939">!=</span>&nbsp;<span class="ident" id="7534942">nil</span>&nbsp;<span class="op" id="7534946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534951">b</span><span class="op" id="7534952">.</span><span class="ident" id="7534953">Fatalf</span><span class="op" id="7534959">(</span><span class="string" id="7534960">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7534989">,</span>&nbsp;<span class="ident" id="7534991">err</span><span class="op" id="7534994">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535001">}</span><br>
<span class="lineno"></span><span class="op" id="7535003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7535006">func</span>&nbsp;<span class="ident" id="7535011">BenchmarkInterfaceByName</span><span class="op" id="7535035">(</span><span class="ident" id="7535036">b</span>&nbsp;<span class="op" id="7535038">*</span><span class="ident" id="7535039">testing</span><span class="op" id="7535046">.</span><span class="ident" id="7535047">B</span><span class="op" id="7535048">)</span>&nbsp;<span class="op" id="7535050">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535053">ifi</span>&nbsp;<span class="op" id="7535057">:=</span>&nbsp;<span class="ident" id="7535060">loopbackInterface</span><span class="op" id="7535077">(</span><span class="op" id="7535078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535081">if</span>&nbsp;<span class="ident" id="7535084">ifi</span>&nbsp;<span class="op" id="7535088">==</span>&nbsp;<span class="ident" id="7535091">nil</span>&nbsp;<span class="op" id="7535095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535099">b</span><span class="op" id="7535100">.</span><span class="ident" id="7535101">Skip</span><span class="op" id="7535105">(</span><span class="string" id="7535106">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7535136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535142">for</span>&nbsp;<span class="ident" id="7535146">i</span>&nbsp;<span class="op" id="7535148">:=</span>&nbsp;<span class="num" id="7535151">0</span><span class="op" id="7535152">;</span>&nbsp;<span class="ident" id="7535154">i</span>&nbsp;<span class="op" id="7535156">&lt;</span>&nbsp;<span class="ident" id="7535158">b</span><span class="op" id="7535159">.</span><span class="ident" id="7535160">N</span><span class="op" id="7535161">;</span>&nbsp;<span class="ident" id="7535163">i</span><span class="op" id="7535164">++</span>&nbsp;<span class="op" id="7535167">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535171">if</span>&nbsp;<span class="ident" id="7535174">_</span><span class="op" id="7535175">,</span>&nbsp;<span class="ident" id="7535177">err</span>&nbsp;<span class="op" id="7535181">:=</span>&nbsp;<span class="ident" id="7535184">InterfaceByName</span><span class="op" id="7535199">(</span><span class="ident" id="7535200">ifi</span><span class="op" id="7535203">.</span><span class="ident" id="7535204">Name</span><span class="op" id="7535208">)</span><span class="op" id="7535209">;</span>&nbsp;<span class="ident" id="7535211">err</span>&nbsp;<span class="op" id="7535215">!=</span>&nbsp;<span class="ident" id="7535218">nil</span>&nbsp;<span class="op" id="7535222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535227">b</span><span class="op" id="7535228">.</span><span class="ident" id="7535229">Fatalf</span><span class="op" id="7535235">(</span><span class="string" id="7535236">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7535264">,</span>&nbsp;<span class="ident" id="7535266">err</span><span class="op" id="7535269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535276">}</span><br>
<span class="lineno"></span><span class="op" id="7535278">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="7535281">func</span>&nbsp;<span class="ident" id="7535286">BenchmarkInterfaceAddrs</span><span class="op" id="7535309">(</span><span class="ident" id="7535310">b</span>&nbsp;<span class="op" id="7535312">*</span><span class="ident" id="7535313">testing</span><span class="op" id="7535320">.</span><span class="ident" id="7535321">B</span><span class="op" id="7535322">)</span>&nbsp;<span class="op" id="7535324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535327">for</span>&nbsp;<span class="ident" id="7535331">i</span>&nbsp;<span class="op" id="7535333">:=</span>&nbsp;<span class="num" id="7535336">0</span><span class="op" id="7535337">;</span>&nbsp;<span class="ident" id="7535339">i</span>&nbsp;<span class="op" id="7535341">&lt;</span>&nbsp;<span class="ident" id="7535343">b</span><span class="op" id="7535344">.</span><span class="ident" id="7535345">N</span><span class="op" id="7535346">;</span>&nbsp;<span class="ident" id="7535348">i</span><span class="op" id="7535349">++</span>&nbsp;<span class="op" id="7535352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535356">if</span>&nbsp;<span class="ident" id="7535359">_</span><span class="op" id="7535360">,</span>&nbsp;<span class="ident" id="7535362">err</span>&nbsp;<span class="op" id="7535366">:=</span>&nbsp;<span class="ident" id="7535369">InterfaceAddrs</span><span class="op" id="7535383">(</span><span class="op" id="7535384">)</span><span class="op" id="7535385">;</span>&nbsp;<span class="ident" id="7535387">err</span>&nbsp;<span class="op" id="7535391">!=</span>&nbsp;<span class="ident" id="7535394">nil</span>&nbsp;<span class="op" id="7535398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535403">b</span><span class="op" id="7535404">.</span><span class="ident" id="7535405">Fatalf</span><span class="op" id="7535411">(</span><span class="string" id="7535412">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7535439">,</span>&nbsp;<span class="ident" id="7535441">err</span><span class="op" id="7535444">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535451">}</span><br>
<span class="lineno"></span><span class="op" id="7535453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7535456">func</span>&nbsp;<span class="ident" id="7535461">BenchmarkInterfacesAndAddrs</span><span class="op" id="7535488">(</span><span class="ident" id="7535489">b</span>&nbsp;<span class="op" id="7535491">*</span><span class="ident" id="7535492">testing</span><span class="op" id="7535499">.</span><span class="ident" id="7535500">B</span><span class="op" id="7535501">)</span>&nbsp;<span class="op" id="7535503">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535506">ifi</span>&nbsp;<span class="op" id="7535510">:=</span>&nbsp;<span class="ident" id="7535513">loopbackInterface</span><span class="op" id="7535530">(</span><span class="op" id="7535531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535534">if</span>&nbsp;<span class="ident" id="7535537">ifi</span>&nbsp;<span class="op" id="7535541">==</span>&nbsp;<span class="ident" id="7535544">nil</span>&nbsp;<span class="op" id="7535548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535552">b</span><span class="op" id="7535553">.</span><span class="ident" id="7535554">Skip</span><span class="op" id="7535558">(</span><span class="string" id="7535559">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7535589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535595">for</span>&nbsp;<span class="ident" id="7535599">i</span>&nbsp;<span class="op" id="7535601">:=</span>&nbsp;<span class="num" id="7535604">0</span><span class="op" id="7535605">;</span>&nbsp;<span class="ident" id="7535607">i</span>&nbsp;<span class="op" id="7535609">&lt;</span>&nbsp;<span class="ident" id="7535611">b</span><span class="op" id="7535612">.</span><span class="ident" id="7535613">N</span><span class="op" id="7535614">;</span>&nbsp;<span class="ident" id="7535616">i</span><span class="op" id="7535617">++</span>&nbsp;<span class="op" id="7535620">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535624">if</span>&nbsp;<span class="ident" id="7535627">_</span><span class="op" id="7535628">,</span>&nbsp;<span class="ident" id="7535630">err</span>&nbsp;<span class="op" id="7535634">:=</span>&nbsp;<span class="ident" id="7535637">ifi</span><span class="op" id="7535640">.</span><span class="ident" id="7535641">Addrs</span><span class="op" id="7535646">(</span><span class="op" id="7535647">)</span><span class="op" id="7535648">;</span>&nbsp;<span class="ident" id="7535650">err</span>&nbsp;<span class="op" id="7535654">!=</span>&nbsp;<span class="ident" id="7535657">nil</span>&nbsp;<span class="op" id="7535661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535666">b</span><span class="op" id="7535667">.</span><span class="ident" id="7535668">Fatalf</span><span class="op" id="7535674">(</span><span class="string" id="7535675">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7535703">,</span>&nbsp;<span class="ident" id="7535705">err</span><span class="op" id="7535708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535715">}</span><br>
<span class="lineno"></span><span class="op" id="7535717">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7535720">func</span>&nbsp;<span class="ident" id="7535725">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="7535761">(</span><span class="ident" id="7535762">b</span>&nbsp;<span class="op" id="7535764">*</span><span class="ident" id="7535765">testing</span><span class="op" id="7535772">.</span><span class="ident" id="7535773">B</span><span class="op" id="7535774">)</span>&nbsp;<span class="op" id="7535776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535779">ifi</span>&nbsp;<span class="op" id="7535783">:=</span>&nbsp;<span class="ident" id="7535786">loopbackInterface</span><span class="op" id="7535803">(</span><span class="op" id="7535804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535807">if</span>&nbsp;<span class="ident" id="7535810">ifi</span>&nbsp;<span class="op" id="7535814">==</span>&nbsp;<span class="ident" id="7535817">nil</span>&nbsp;<span class="op" id="7535821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535825">b</span><span class="op" id="7535826">.</span><span class="ident" id="7535827">Skip</span><span class="op" id="7535831">(</span><span class="string" id="7535832">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7535862">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535868">for</span>&nbsp;<span class="ident" id="7535872">i</span>&nbsp;<span class="op" id="7535874">:=</span>&nbsp;<span class="num" id="7535877">0</span><span class="op" id="7535878">;</span>&nbsp;<span class="ident" id="7535880">i</span>&nbsp;<span class="op" id="7535882">&lt;</span>&nbsp;<span class="ident" id="7535884">b</span><span class="op" id="7535885">.</span><span class="ident" id="7535886">N</span><span class="op" id="7535887">;</span>&nbsp;<span class="ident" id="7535889">i</span><span class="op" id="7535890">++</span>&nbsp;<span class="op" id="7535893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535897">if</span>&nbsp;<span class="ident" id="7535900">_</span><span class="op" id="7535901">,</span>&nbsp;<span class="ident" id="7535903">err</span>&nbsp;<span class="op" id="7535907">:=</span>&nbsp;<span class="ident" id="7535910">ifi</span><span class="op" id="7535913">.</span><span class="ident" id="7535914">MulticastAddrs</span><span class="op" id="7535928">(</span><span class="op" id="7535929">)</span><span class="op" id="7535930">;</span>&nbsp;<span class="ident" id="7535932">err</span>&nbsp;<span class="op" id="7535936">!=</span>&nbsp;<span class="ident" id="7535939">nil</span>&nbsp;<span class="op" id="7535943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535948">b</span><span class="op" id="7535949">.</span><span class="ident" id="7535950">Fatalf</span><span class="op" id="7535956">(</span><span class="string" id="7535957">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7535994">,</span>&nbsp;<span class="ident" id="7535996">err</span><span class="op" id="7535999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536003">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536006">}</span><br>
<span class="lineno"></span><span class="op" id="7536008">}</span>
</div>
</body>
</html>
