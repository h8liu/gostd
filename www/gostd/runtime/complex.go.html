<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html" class="current">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1503613">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1503668">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1503722">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1503773">package</span>&nbsp;<span class="ident" id="1503781">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1503790">func</span>&nbsp;<span class="ident" id="1503795">complex128div</span><span class="op" id="1503808">(</span><span class="ident" id="1503809">n</span>&nbsp;<span class="builtintype" id="1503811">complex128</span><span class="op" id="1503821">,</span>&nbsp;<span class="ident" id="1503823">d</span>&nbsp;<span class="builtintype" id="1503825">complex128</span><span class="op" id="1503835">)</span>&nbsp;<span class="builtintype" id="1503837">complex128</span>&nbsp;<span class="op" id="1503848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1503851">//&nbsp;Special&nbsp;cases&nbsp;as&nbsp;in&nbsp;C99.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1503880">ninf</span>&nbsp;<span class="op" id="1503885">:=</span>&nbsp;<span class="builtinfunc" id="1503888">real</span><span class="op" id="1503892">(</span><span class="ident" id="1503893">n</span><span class="op" id="1503894">)</span>&nbsp;<span class="op" id="1503896">==</span>&nbsp;<span class="ident" id="1503899">posinf</span>&nbsp;<span class="op" id="1503906">||</span>&nbsp;<span class="builtinfunc" id="1503909">real</span><span class="op" id="1503913">(</span><span class="ident" id="1503914">n</span><span class="op" id="1503915">)</span>&nbsp;<span class="op" id="1503917">==</span>&nbsp;<span class="ident" id="1503920">neginf</span>&nbsp;<span class="op" id="1503927">||</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1503932">imag</span><span class="op" id="1503936">(</span><span class="ident" id="1503937">n</span><span class="op" id="1503938">)</span>&nbsp;<span class="op" id="1503940">==</span>&nbsp;<span class="ident" id="1503943">posinf</span>&nbsp;<span class="op" id="1503950">||</span>&nbsp;<span class="builtinfunc" id="1503953">imag</span><span class="op" id="1503957">(</span><span class="ident" id="1503958">n</span><span class="op" id="1503959">)</span>&nbsp;<span class="op" id="1503961">==</span>&nbsp;<span class="ident" id="1503964">neginf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1503972">dinf</span>&nbsp;<span class="op" id="1503977">:=</span>&nbsp;<span class="builtinfunc" id="1503980">real</span><span class="op" id="1503984">(</span><span class="ident" id="1503985">d</span><span class="op" id="1503986">)</span>&nbsp;<span class="op" id="1503988">==</span>&nbsp;<span class="ident" id="1503991">posinf</span>&nbsp;<span class="op" id="1503998">||</span>&nbsp;<span class="builtinfunc" id="1504001">real</span><span class="op" id="1504005">(</span><span class="ident" id="1504006">d</span><span class="op" id="1504007">)</span>&nbsp;<span class="op" id="1504009">==</span>&nbsp;<span class="ident" id="1504012">neginf</span>&nbsp;<span class="op" id="1504019">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1504024">imag</span><span class="op" id="1504028">(</span><span class="ident" id="1504029">d</span><span class="op" id="1504030">)</span>&nbsp;<span class="op" id="1504032">==</span>&nbsp;<span class="ident" id="1504035">posinf</span>&nbsp;<span class="op" id="1504042">||</span>&nbsp;<span class="builtinfunc" id="1504045">imag</span><span class="op" id="1504049">(</span><span class="ident" id="1504050">d</span><span class="op" id="1504051">)</span>&nbsp;<span class="op" id="1504053">==</span>&nbsp;<span class="ident" id="1504056">neginf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504065">nnan</span>&nbsp;<span class="op" id="1504070">:=</span>&nbsp;<span class="op" id="1504073">!</span><span class="ident" id="1504074">ninf</span>&nbsp;<span class="op" id="1504079">&amp;&amp;</span>&nbsp;<span class="op" id="1504082">(</span><span class="builtinfunc" id="1504083">real</span><span class="op" id="1504087">(</span><span class="ident" id="1504088">n</span><span class="op" id="1504089">)</span>&nbsp;<span class="op" id="1504091">!=</span>&nbsp;<span class="builtinfunc" id="1504094">real</span><span class="op" id="1504098">(</span><span class="ident" id="1504099">n</span><span class="op" id="1504100">)</span>&nbsp;<span class="op" id="1504102">||</span>&nbsp;<span class="builtinfunc" id="1504105">imag</span><span class="op" id="1504109">(</span><span class="ident" id="1504110">n</span><span class="op" id="1504111">)</span>&nbsp;<span class="op" id="1504113">!=</span>&nbsp;<span class="builtinfunc" id="1504116">imag</span><span class="op" id="1504120">(</span><span class="ident" id="1504121">n</span><span class="op" id="1504122">)</span><span class="op" id="1504123">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504126">dnan</span>&nbsp;<span class="op" id="1504131">:=</span>&nbsp;<span class="op" id="1504134">!</span><span class="ident" id="1504135">dinf</span>&nbsp;<span class="op" id="1504140">&amp;&amp;</span>&nbsp;<span class="op" id="1504143">(</span><span class="builtinfunc" id="1504144">real</span><span class="op" id="1504148">(</span><span class="ident" id="1504149">d</span><span class="op" id="1504150">)</span>&nbsp;<span class="op" id="1504152">!=</span>&nbsp;<span class="builtinfunc" id="1504155">real</span><span class="op" id="1504159">(</span><span class="ident" id="1504160">d</span><span class="op" id="1504161">)</span>&nbsp;<span class="op" id="1504163">||</span>&nbsp;<span class="builtinfunc" id="1504166">imag</span><span class="op" id="1504170">(</span><span class="ident" id="1504171">d</span><span class="op" id="1504172">)</span>&nbsp;<span class="op" id="1504174">!=</span>&nbsp;<span class="builtinfunc" id="1504177">imag</span><span class="op" id="1504181">(</span><span class="ident" id="1504182">d</span><span class="op" id="1504183">)</span><span class="op" id="1504184">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504188">switch</span>&nbsp;<span class="op" id="1504195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504198">case</span>&nbsp;<span class="ident" id="1504203">nnan</span>&nbsp;<span class="op" id="1504208">||</span>&nbsp;<span class="ident" id="1504211">dnan</span><span class="op" id="1504215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504219">return</span>&nbsp;<span class="builtinfunc" id="1504226">complex</span><span class="op" id="1504233">(</span><span class="ident" id="1504234">nan</span><span class="op" id="1504237">,</span>&nbsp;<span class="ident" id="1504239">nan</span><span class="op" id="1504242">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504245">case</span>&nbsp;<span class="ident" id="1504250">ninf</span>&nbsp;<span class="op" id="1504255">&amp;&amp;</span>&nbsp;<span class="op" id="1504258">!</span><span class="ident" id="1504259">dinf</span><span class="op" id="1504263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504267">return</span>&nbsp;<span class="builtinfunc" id="1504274">complex</span><span class="op" id="1504281">(</span><span class="ident" id="1504282">posinf</span><span class="op" id="1504288">,</span>&nbsp;<span class="ident" id="1504290">posinf</span><span class="op" id="1504296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504299">case</span>&nbsp;<span class="op" id="1504304">!</span><span class="ident" id="1504305">ninf</span>&nbsp;<span class="op" id="1504310">&amp;&amp;</span>&nbsp;<span class="ident" id="1504313">dinf</span><span class="op" id="1504317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504321">return</span>&nbsp;<span class="builtinfunc" id="1504328">complex</span><span class="op" id="1504335">(</span><span class="num" id="1504336">0</span><span class="op" id="1504337">,</span>&nbsp;<span class="num" id="1504339">0</span><span class="op" id="1504340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504343">case</span>&nbsp;<span class="builtinfunc" id="1504348">real</span><span class="op" id="1504352">(</span><span class="ident" id="1504353">d</span><span class="op" id="1504354">)</span>&nbsp;<span class="op" id="1504356">==</span>&nbsp;<span class="num" id="1504359">0</span>&nbsp;<span class="op" id="1504361">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1504364">imag</span><span class="op" id="1504368">(</span><span class="ident" id="1504369">d</span><span class="op" id="1504370">)</span>&nbsp;<span class="op" id="1504372">==</span>&nbsp;<span class="num" id="1504375">0</span><span class="op" id="1504376">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504380">if</span>&nbsp;<span class="builtinfunc" id="1504383">real</span><span class="op" id="1504387">(</span><span class="ident" id="1504388">n</span><span class="op" id="1504389">)</span>&nbsp;<span class="op" id="1504391">==</span>&nbsp;<span class="num" id="1504394">0</span>&nbsp;<span class="op" id="1504396">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1504399">imag</span><span class="op" id="1504403">(</span><span class="ident" id="1504404">n</span><span class="op" id="1504405">)</span>&nbsp;<span class="op" id="1504407">==</span>&nbsp;<span class="num" id="1504410">0</span>&nbsp;<span class="op" id="1504412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504417">return</span>&nbsp;<span class="builtinfunc" id="1504424">complex</span><span class="op" id="1504431">(</span><span class="ident" id="1504432">nan</span><span class="op" id="1504435">,</span>&nbsp;<span class="ident" id="1504437">nan</span><span class="op" id="1504440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504444">}</span>&nbsp;<span class="keyword" id="1504446">else</span>&nbsp;<span class="op" id="1504451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504456">return</span>&nbsp;<span class="builtinfunc" id="1504463">complex</span><span class="op" id="1504470">(</span><span class="ident" id="1504471">posinf</span><span class="op" id="1504477">,</span>&nbsp;<span class="ident" id="1504479">posinf</span><span class="op" id="1504485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504489">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504492">default</span><span class="op" id="1504499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1504503">//&nbsp;Standard&nbsp;complex&nbsp;arithmetic,&nbsp;factored&nbsp;to&nbsp;avoid&nbsp;unnecessary&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504577">a</span>&nbsp;<span class="op" id="1504579">:=</span>&nbsp;<span class="builtinfunc" id="1504582">real</span><span class="op" id="1504586">(</span><span class="ident" id="1504587">d</span><span class="op" id="1504588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504592">if</span>&nbsp;<span class="ident" id="1504595">a</span>&nbsp;<span class="op" id="1504597">&lt;</span>&nbsp;<span class="num" id="1504599">0</span>&nbsp;<span class="op" id="1504601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504606">a</span>&nbsp;<span class="op" id="1504608">=</span>&nbsp;<span class="op" id="1504610">-</span><span class="ident" id="1504611">a</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504619">b</span>&nbsp;<span class="op" id="1504621">:=</span>&nbsp;<span class="builtinfunc" id="1504624">imag</span><span class="op" id="1504628">(</span><span class="ident" id="1504629">d</span><span class="op" id="1504630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504634">if</span>&nbsp;<span class="ident" id="1504637">b</span>&nbsp;<span class="op" id="1504639">&lt;</span>&nbsp;<span class="num" id="1504641">0</span>&nbsp;<span class="op" id="1504643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504648">b</span>&nbsp;<span class="op" id="1504650">=</span>&nbsp;<span class="op" id="1504652">-</span><span class="ident" id="1504653">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504657">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504661">if</span>&nbsp;<span class="ident" id="1504664">a</span>&nbsp;<span class="op" id="1504666">&lt;=</span>&nbsp;<span class="ident" id="1504669">b</span>&nbsp;<span class="op" id="1504671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504676">ratio</span>&nbsp;<span class="op" id="1504682">:=</span>&nbsp;<span class="builtinfunc" id="1504685">real</span><span class="op" id="1504689">(</span><span class="ident" id="1504690">d</span><span class="op" id="1504691">)</span>&nbsp;<span class="op" id="1504693">/</span>&nbsp;<span class="builtinfunc" id="1504695">imag</span><span class="op" id="1504699">(</span><span class="ident" id="1504700">d</span><span class="op" id="1504701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504706">denom</span>&nbsp;<span class="op" id="1504712">:=</span>&nbsp;<span class="builtinfunc" id="1504715">real</span><span class="op" id="1504719">(</span><span class="ident" id="1504720">d</span><span class="op" id="1504721">)</span><span class="op" id="1504722">*</span><span class="ident" id="1504723">ratio</span>&nbsp;<span class="op" id="1504729">+</span>&nbsp;<span class="builtinfunc" id="1504731">imag</span><span class="op" id="1504735">(</span><span class="ident" id="1504736">d</span><span class="op" id="1504737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504742">return</span>&nbsp;<span class="builtinfunc" id="1504749">complex</span><span class="op" id="1504756">(</span><span class="op" id="1504757">(</span><span class="builtinfunc" id="1504758">real</span><span class="op" id="1504762">(</span><span class="ident" id="1504763">n</span><span class="op" id="1504764">)</span><span class="op" id="1504765">*</span><span class="ident" id="1504766">ratio</span><span class="op" id="1504771">+</span><span class="builtinfunc" id="1504772">imag</span><span class="op" id="1504776">(</span><span class="ident" id="1504777">n</span><span class="op" id="1504778">)</span><span class="op" id="1504779">)</span><span class="op" id="1504780">/</span><span class="ident" id="1504781">denom</span><span class="op" id="1504786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504792">(</span><span class="builtinfunc" id="1504793">imag</span><span class="op" id="1504797">(</span><span class="ident" id="1504798">n</span><span class="op" id="1504799">)</span><span class="op" id="1504800">*</span><span class="ident" id="1504801">ratio</span><span class="op" id="1504806">-</span><span class="builtinfunc" id="1504807">real</span><span class="op" id="1504811">(</span><span class="ident" id="1504812">n</span><span class="op" id="1504813">)</span><span class="op" id="1504814">)</span><span class="op" id="1504815">/</span><span class="ident" id="1504816">denom</span><span class="op" id="1504821">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504825">}</span>&nbsp;<span class="keyword" id="1504827">else</span>&nbsp;<span class="op" id="1504832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504837">ratio</span>&nbsp;<span class="op" id="1504843">:=</span>&nbsp;<span class="builtinfunc" id="1504846">imag</span><span class="op" id="1504850">(</span><span class="ident" id="1504851">d</span><span class="op" id="1504852">)</span>&nbsp;<span class="op" id="1504854">/</span>&nbsp;<span class="builtinfunc" id="1504856">real</span><span class="op" id="1504860">(</span><span class="ident" id="1504861">d</span><span class="op" id="1504862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1504867">denom</span>&nbsp;<span class="op" id="1504873">:=</span>&nbsp;<span class="builtinfunc" id="1504876">imag</span><span class="op" id="1504880">(</span><span class="ident" id="1504881">d</span><span class="op" id="1504882">)</span><span class="op" id="1504883">*</span><span class="ident" id="1504884">ratio</span>&nbsp;<span class="op" id="1504890">+</span>&nbsp;<span class="builtinfunc" id="1504892">real</span><span class="op" id="1504896">(</span><span class="ident" id="1504897">d</span><span class="op" id="1504898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1504903">return</span>&nbsp;<span class="builtinfunc" id="1504910">complex</span><span class="op" id="1504917">(</span><span class="op" id="1504918">(</span><span class="builtinfunc" id="1504919">imag</span><span class="op" id="1504923">(</span><span class="ident" id="1504924">n</span><span class="op" id="1504925">)</span><span class="op" id="1504926">*</span><span class="ident" id="1504927">ratio</span><span class="op" id="1504932">+</span><span class="builtinfunc" id="1504933">real</span><span class="op" id="1504937">(</span><span class="ident" id="1504938">n</span><span class="op" id="1504939">)</span><span class="op" id="1504940">)</span><span class="op" id="1504941">/</span><span class="ident" id="1504942">denom</span><span class="op" id="1504947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504953">(</span><span class="builtinfunc" id="1504954">imag</span><span class="op" id="1504958">(</span><span class="ident" id="1504959">n</span><span class="op" id="1504960">)</span><span class="op" id="1504961">-</span><span class="builtinfunc" id="1504962">real</span><span class="op" id="1504966">(</span><span class="ident" id="1504967">n</span><span class="op" id="1504968">)</span><span class="op" id="1504969">*</span><span class="ident" id="1504970">ratio</span><span class="op" id="1504975">)</span><span class="op" id="1504976">/</span><span class="ident" id="1504977">denom</span><span class="op" id="1504982">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1504989">}</span><br>
<span class="lineno"></span><span class="op" id="1504991">}</span>
</div>
</body>
</html>
