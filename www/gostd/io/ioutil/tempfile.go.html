<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html" class="current">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3675665">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3675721">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3675775">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3675826">package</span>&nbsp;<span class="ident" id="3675834">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3675842">import</span>&nbsp;<span class="op" id="3675849">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3675852">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3675858">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3675875">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3675886">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3675894">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3675901">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3675904">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="3675928">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="3675994">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3676062">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="3676088">var</span>&nbsp;<span class="ident" id="3676092">rand</span>&nbsp;<span class="builtintype" id="3676097">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="3676104">var</span>&nbsp;<span class="ident" id="3676108">randmu</span>&nbsp;<span class="ident" id="3676115">sync</span><span class="op" id="3676119">.</span><span class="ident" id="3676120">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3676127">func</span>&nbsp;<span class="ident" id="3676132">reseed</span><span class="op" id="3676138">(</span><span class="op" id="3676139">)</span>&nbsp;<span class="builtintype" id="3676141">uint32</span>&nbsp;<span class="op" id="3676148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676151">return</span>&nbsp;<span class="builtintype" id="3676158">uint32</span><span class="op" id="3676164">(</span><span class="ident" id="3676165">time</span><span class="op" id="3676169">.</span><span class="ident" id="3676170">Now</span><span class="op" id="3676173">(</span><span class="op" id="3676174">)</span><span class="op" id="3676175">.</span><span class="ident" id="3676176">UnixNano</span><span class="op" id="3676184">(</span><span class="op" id="3676185">)</span>&nbsp;<span class="op" id="3676187">+</span>&nbsp;<span class="ident" id="3676189">int64</span><span class="op" id="3676194">(</span><span class="ident" id="3676195">os</span><span class="op" id="3676197">.</span><span class="ident" id="3676198">Getpid</span><span class="op" id="3676204">(</span><span class="op" id="3676205">)</span><span class="op" id="3676206">)</span><span class="op" id="3676207">)</span><br>
<span class="lineno"></span><span class="op" id="3676209">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3676212">func</span>&nbsp;<span class="ident" id="3676217">nextSuffix</span><span class="op" id="3676227">(</span><span class="op" id="3676228">)</span>&nbsp;<span class="builtintype" id="3676230">string</span>&nbsp;<span class="op" id="3676237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676240">randmu</span><span class="op" id="3676246">.</span><span class="ident" id="3676247">Lock</span><span class="op" id="3676251">(</span><span class="op" id="3676252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676255">r</span>&nbsp;<span class="op" id="3676257">:=</span>&nbsp;<span class="ident" id="3676260">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676266">if</span>&nbsp;<span class="ident" id="3676269">r</span>&nbsp;<span class="op" id="3676271">==</span>&nbsp;<span class="num" id="3676274">0</span>&nbsp;<span class="op" id="3676276">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676280">r</span>&nbsp;<span class="op" id="3676282">=</span>&nbsp;<span class="ident" id="3676284">reseed</span><span class="op" id="3676290">(</span><span class="op" id="3676291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3676294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676297">r</span>&nbsp;<span class="op" id="3676299">=</span>&nbsp;<span class="ident" id="3676301">r</span><span class="op" id="3676302">*</span><span class="num" id="3676303">1664525</span>&nbsp;<span class="op" id="3676311">+</span>&nbsp;<span class="num" id="3676313">1013904223</span>&nbsp;<span class="comment" id="3676324">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676361">rand</span>&nbsp;<span class="op" id="3676366">=</span>&nbsp;<span class="ident" id="3676368">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3676371">randmu</span><span class="op" id="3676377">.</span><span class="ident" id="3676378">Unlock</span><span class="op" id="3676384">(</span><span class="op" id="3676385">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3676388">return</span>&nbsp;<span class="ident" id="3676395">strconv</span><span class="op" id="3676402">.</span><span class="ident" id="3676403">Itoa</span><span class="op" id="3676407">(</span><span class="builtintype" id="3676408">int</span><span class="op" id="3676411">(</span><span class="num" id="3676412">1e9</span>&nbsp;<span class="op" id="3676416">+</span>&nbsp;<span class="ident" id="3676418">r</span><span class="op" id="3676419">%</span><span class="num" id="3676420">1e9</span><span class="op" id="3676423">)</span><span class="op" id="3676424">)</span><span class="op" id="3676425">[</span><span class="num" id="3676426">1</span><span class="op" id="3676427">:</span><span class="op" id="3676428">]</span><br>
<span class="lineno"></span><span class="op" id="3676430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3676433">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3676495">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="3676560">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="3676612">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3676679">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3676720">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3676773">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="3676836">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3676908">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3676953">func</span>&nbsp;<span class="ident" id="3676958">TempFile</span><span class="op" id="3676966">(</span><span class="ident" id="3676967">dir</span><span class="op" id="3676970">,</span>&nbsp;<span class="ident" id="3676972">prefix</span>&nbsp;<span class="builtintype" id="3676979">string</span><span class="op" id="3676985">)</span>&nbsp;<span class="op" id="3676987">(</span><span class="ident" id="3676988">f</span>&nbsp;<span class="op" id="3676990">*</span><span class="ident" id="3676991">os</span><span class="op" id="3676993">.</span><span class="ident" id="3676994">File</span><span class="op" id="3676998">,</span>&nbsp;<span class="ident" id="3677000">err</span>&nbsp;<span class="builtintype" id="3677004">error</span><span class="op" id="3677009">)</span>&nbsp;<span class="op" id="3677011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677014">if</span>&nbsp;<span class="ident" id="3677017">dir</span>&nbsp;<span class="op" id="3677021">==</span>&nbsp;<span class="string" id="3677024">&#34;&#34;</span>&nbsp;<span class="op" id="3677027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677031">dir</span>&nbsp;<span class="op" id="3677035">=</span>&nbsp;<span class="ident" id="3677037">os</span><span class="op" id="3677039">.</span><span class="ident" id="3677040">TempDir</span><span class="op" id="3677047">(</span><span class="op" id="3677048">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677055">nconflict</span>&nbsp;<span class="op" id="3677065">:=</span>&nbsp;<span class="num" id="3677068">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677071">for</span>&nbsp;<span class="ident" id="3677075">i</span>&nbsp;<span class="op" id="3677077">:=</span>&nbsp;<span class="num" id="3677080">0</span><span class="op" id="3677081">;</span>&nbsp;<span class="ident" id="3677083">i</span>&nbsp;<span class="op" id="3677085">&lt;</span>&nbsp;<span class="num" id="3677087">10000</span><span class="op" id="3677092">;</span>&nbsp;<span class="ident" id="3677094">i</span><span class="op" id="3677095">++</span>&nbsp;<span class="op" id="3677098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677102">name</span>&nbsp;<span class="op" id="3677107">:=</span>&nbsp;<span class="ident" id="3677110">filepath</span><span class="op" id="3677118">.</span><span class="ident" id="3677119">Join</span><span class="op" id="3677123">(</span><span class="ident" id="3677124">dir</span><span class="op" id="3677127">,</span>&nbsp;<span class="ident" id="3677129">prefix</span><span class="op" id="3677135">+</span><span class="ident" id="3677136">nextSuffix</span><span class="op" id="3677146">(</span><span class="op" id="3677147">)</span><span class="op" id="3677148">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677152">f</span><span class="op" id="3677153">,</span>&nbsp;<span class="ident" id="3677155">err</span>&nbsp;<span class="op" id="3677159">=</span>&nbsp;<span class="ident" id="3677161">os</span><span class="op" id="3677163">.</span><span class="ident" id="3677164">OpenFile</span><span class="op" id="3677172">(</span><span class="ident" id="3677173">name</span><span class="op" id="3677177">,</span>&nbsp;<span class="ident" id="3677179">os</span><span class="op" id="3677181">.</span><span class="ident" id="3677182">O_RDWR</span><span class="op" id="3677188">|</span><span class="ident" id="3677189">os</span><span class="op" id="3677191">.</span><span class="ident" id="3677192">O_CREATE</span><span class="op" id="3677200">|</span><span class="ident" id="3677201">os</span><span class="op" id="3677203">.</span><span class="ident" id="3677204">O_EXCL</span><span class="op" id="3677210">,</span>&nbsp;<span class="num" id="3677212">0600</span><span class="op" id="3677216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677220">if</span>&nbsp;<span class="ident" id="3677223">os</span><span class="op" id="3677225">.</span><span class="ident" id="3677226">IsExist</span><span class="op" id="3677233">(</span><span class="ident" id="3677234">err</span><span class="op" id="3677237">)</span>&nbsp;<span class="op" id="3677239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677244">if</span>&nbsp;<span class="ident" id="3677247">nconflict</span><span class="op" id="3677256">++</span><span class="op" id="3677258">;</span>&nbsp;<span class="ident" id="3677260">nconflict</span>&nbsp;<span class="op" id="3677270">&gt;</span>&nbsp;<span class="num" id="3677272">10</span>&nbsp;<span class="op" id="3677275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677281">rand</span>&nbsp;<span class="op" id="3677286">=</span>&nbsp;<span class="ident" id="3677288">reseed</span><span class="op" id="3677294">(</span><span class="op" id="3677295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677300">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677305">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677320">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677330">return</span><br>
<span class="lineno">65</span><span class="op" id="3677337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3677340">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3677406">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3677471">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3677535">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3677594">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3677646">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3677720">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3677770">func</span>&nbsp;<span class="ident" id="3677775">TempDir</span><span class="op" id="3677782">(</span><span class="ident" id="3677783">dir</span><span class="op" id="3677786">,</span>&nbsp;<span class="ident" id="3677788">prefix</span>&nbsp;<span class="builtintype" id="3677795">string</span><span class="op" id="3677801">)</span>&nbsp;<span class="op" id="3677803">(</span><span class="ident" id="3677804">name</span>&nbsp;<span class="builtintype" id="3677809">string</span><span class="op" id="3677815">,</span>&nbsp;<span class="ident" id="3677817">err</span>&nbsp;<span class="builtintype" id="3677821">error</span><span class="op" id="3677826">)</span>&nbsp;<span class="op" id="3677828">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677831">if</span>&nbsp;<span class="ident" id="3677834">dir</span>&nbsp;<span class="op" id="3677838">==</span>&nbsp;<span class="string" id="3677841">&#34;&#34;</span>&nbsp;<span class="op" id="3677844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677848">dir</span>&nbsp;<span class="op" id="3677852">=</span>&nbsp;<span class="ident" id="3677854">os</span><span class="op" id="3677856">.</span><span class="ident" id="3677857">TempDir</span><span class="op" id="3677864">(</span><span class="op" id="3677865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3677868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677872">nconflict</span>&nbsp;<span class="op" id="3677882">:=</span>&nbsp;<span class="num" id="3677885">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677888">for</span>&nbsp;<span class="ident" id="3677892">i</span>&nbsp;<span class="op" id="3677894">:=</span>&nbsp;<span class="num" id="3677897">0</span><span class="op" id="3677898">;</span>&nbsp;<span class="ident" id="3677900">i</span>&nbsp;<span class="op" id="3677902">&lt;</span>&nbsp;<span class="num" id="3677904">10000</span><span class="op" id="3677909">;</span>&nbsp;<span class="ident" id="3677911">i</span><span class="op" id="3677912">++</span>&nbsp;<span class="op" id="3677915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677919">try</span>&nbsp;<span class="op" id="3677923">:=</span>&nbsp;<span class="ident" id="3677926">filepath</span><span class="op" id="3677934">.</span><span class="ident" id="3677935">Join</span><span class="op" id="3677939">(</span><span class="ident" id="3677940">dir</span><span class="op" id="3677943">,</span>&nbsp;<span class="ident" id="3677945">prefix</span><span class="op" id="3677951">+</span><span class="ident" id="3677952">nextSuffix</span><span class="op" id="3677962">(</span><span class="op" id="3677963">)</span><span class="op" id="3677964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3677968">err</span>&nbsp;<span class="op" id="3677972">=</span>&nbsp;<span class="ident" id="3677974">os</span><span class="op" id="3677976">.</span><span class="ident" id="3677977">Mkdir</span><span class="op" id="3677982">(</span><span class="ident" id="3677983">try</span><span class="op" id="3677986">,</span>&nbsp;<span class="num" id="3677988">0700</span><span class="op" id="3677992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3677996">if</span>&nbsp;<span class="ident" id="3677999">os</span><span class="op" id="3678001">.</span><span class="ident" id="3678002">IsExist</span><span class="op" id="3678009">(</span><span class="ident" id="3678010">err</span><span class="op" id="3678013">)</span>&nbsp;<span class="op" id="3678015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678020">if</span>&nbsp;<span class="ident" id="3678023">nconflict</span><span class="op" id="3678032">++</span><span class="op" id="3678034">;</span>&nbsp;<span class="ident" id="3678036">nconflict</span>&nbsp;<span class="op" id="3678046">&gt;</span>&nbsp;<span class="num" id="3678048">10</span>&nbsp;<span class="op" id="3678051">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3678057">rand</span>&nbsp;<span class="op" id="3678062">=</span>&nbsp;<span class="ident" id="3678064">reseed</span><span class="op" id="3678070">(</span><span class="op" id="3678071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678081">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678096">if</span>&nbsp;<span class="ident" id="3678099">err</span>&nbsp;<span class="op" id="3678103">==</span>&nbsp;<span class="builtintype" id="3678106">nil</span>&nbsp;<span class="op" id="3678110">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3678115">name</span>&nbsp;<span class="op" id="3678120">=</span>&nbsp;<span class="ident" id="3678122">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678132">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3678139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3678142">return</span><br>
<span class="lineno">95</span><span class="op" id="3678149">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
