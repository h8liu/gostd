<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6086869">package</span>&nbsp;<span class="ident" id="6086877">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6086884">import</span>&nbsp;<span class="op" id="6086891">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6086894">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6086900">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6086903">var</span>&nbsp;<span class="op" id="6086907">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6086910">opBrMap</span>&nbsp;<span class="op" id="6086918">=</span>&nbsp;<span class="keyword" id="6086920">map</span><span class="op" id="6086923">[</span><span class="builtintype" id="6086924">uint32</span><span class="op" id="6086930">]</span><span class="builtintype" id="6086931">string</span><span class="op" id="6086937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6086941">32</span><span class="op" id="6086943">:</span>&nbsp;<span class="string" id="6086945">&#34;bne&#34;</span><span class="op" id="6086950">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6086954">33</span><span class="op" id="6086956">:</span>&nbsp;<span class="string" id="6086958">&#34;beq&#34;</span><span class="op" id="6086963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6086966">}</span><br>
<span class="lineno"></span><span class="op" id="6086968">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6086971">func</span>&nbsp;<span class="ident" id="6086976">instBr</span><span class="op" id="6086982">(</span><span class="ident" id="6086983">addr</span>&nbsp;<span class="builtintype" id="6086988">uint32</span><span class="op" id="6086994">,</span>&nbsp;<span class="ident" id="6086996">in</span>&nbsp;<span class="builtintype" id="6086999">uint32</span><span class="op" id="6087005">)</span>&nbsp;<span class="op" id="6087007">*</span><span class="ident" id="6087008"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090749">Line</a></span>&nbsp;<span class="op" id="6087013">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087016">op</span>&nbsp;<span class="op" id="6087019">:=</span>&nbsp;<span class="op" id="6087022">(</span><span class="ident" id="6087023"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086996">in</a></span>&nbsp;<span class="op" id="6087026">&gt;&gt;</span>&nbsp;<span class="num" id="6087029">24</span><span class="op" id="6087031">)</span>&nbsp;<span class="op" id="6087033">&amp;</span>&nbsp;<span class="num" id="6087035">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087041">src1</span>&nbsp;<span class="op" id="6087046">:=</span>&nbsp;<span class="ident" id="6087049"><a href="/lonnie.io/e8vm/dasm8/reg.go.html#6091531">regStr</a></span><span class="op" id="6087055">(</span><span class="op" id="6087056">(</span><span class="ident" id="6087057"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086996">in</a></span>&nbsp;<span class="op" id="6087060">&gt;&gt;</span>&nbsp;<span class="num" id="6087063">21</span><span class="op" id="6087065">)</span>&nbsp;<span class="op" id="6087067">&amp;</span>&nbsp;<span class="num" id="6087069">0x7</span><span class="op" id="6087072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087075">src2</span>&nbsp;<span class="op" id="6087080">:=</span>&nbsp;<span class="ident" id="6087083"><a href="/lonnie.io/e8vm/dasm8/reg.go.html#6091531">regStr</a></span><span class="op" id="6087089">(</span><span class="op" id="6087090">(</span><span class="ident" id="6087091"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086996">in</a></span>&nbsp;<span class="op" id="6087094">&gt;&gt;</span>&nbsp;<span class="num" id="6087097">18</span><span class="op" id="6087099">)</span>&nbsp;<span class="op" id="6087101">&amp;</span>&nbsp;<span class="num" id="6087103">0x7</span><span class="op" id="6087106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087109">im</span>&nbsp;<span class="op" id="6087112">:=</span>&nbsp;<span class="ident" id="6087115"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086996">in</a></span>&nbsp;<span class="op" id="6087118">&amp;</span>&nbsp;<span class="num" id="6087120">0x3ffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087129">off</span>&nbsp;<span class="op" id="6087133">:=</span>&nbsp;<span class="builtintype" id="6087136">int32</span><span class="op" id="6087141">(</span><span class="ident" id="6087142"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087109">im</a></span><span class="op" id="6087144">&lt;&lt;</span><span class="num" id="6087146">14</span><span class="op" id="6087148">)</span>&nbsp;<span class="op" id="6087150">&gt;&gt;</span>&nbsp;<span class="num" id="6087153">12</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087158">ret</span>&nbsp;<span class="op" id="6087162">:=</span>&nbsp;<span class="ident" id="6087165"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091406">newLine</a></span><span class="op" id="6087172">(</span><span class="ident" id="6087173"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086983">addr</a></span><span class="op" id="6087177">,</span>&nbsp;<span class="ident" id="6087179"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086996">in</a></span><span class="op" id="6087181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6087184">if</span>&nbsp;<span class="ident" id="6087187">opStr</span><span class="op" id="6087192">,</span>&nbsp;<span class="ident" id="6087194">found</span>&nbsp;<span class="op" id="6087200">:=</span>&nbsp;<span class="ident" id="6087203"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086910">opBrMap</a></span><span class="op" id="6087210">[</span><span class="ident" id="6087211"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087016">op</a></span><span class="op" id="6087213">]</span><span class="op" id="6087214">;</span>&nbsp;<span class="ident" id="6087216"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087194">found</a></span>&nbsp;<span class="op" id="6087222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087226">s</span>&nbsp;<span class="op" id="6087228">:=</span>&nbsp;<span class="ident" id="6087231"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086894">fmt</a></span><span class="op" id="6087234">.</span><span class="ident" id="6087235">Sprintf</span><span class="op" id="6087242">(</span><span class="string" id="6087243">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="6087256">,</span>&nbsp;<span class="ident" id="6087258"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087187">opStr</a></span><span class="op" id="6087263">,</span>&nbsp;<span class="ident" id="6087265"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087041">src1</a></span><span class="op" id="6087269">,</span>&nbsp;<span class="ident" id="6087271"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087075">src2</a></span><span class="op" id="6087275">,</span>&nbsp;<span class="ident" id="6087277"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087129">off</a></span><span class="op" id="6087280">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087285"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087158">ret</a></span><span class="op" id="6087288">.</span><span class="ident" id="6087289">Str</span>&nbsp;<span class="op" id="6087293">=</span>&nbsp;<span class="ident" id="6087295"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087226">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087299"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087158">ret</a></span><span class="op" id="6087302">.</span><span class="ident" id="6087303">IsJump</span>&nbsp;<span class="op" id="6087310">=</span>&nbsp;<span class="builtintype" id="6087312">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6087319"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087158">ret</a></span><span class="op" id="6087322">.</span><span class="ident" id="6087323">To</span>&nbsp;<span class="op" id="6087326">=</span>&nbsp;<span class="ident" id="6087328"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6086983">addr</a></span>&nbsp;<span class="op" id="6087333">+</span>&nbsp;<span class="num" id="6087335">4</span>&nbsp;<span class="op" id="6087337">+</span>&nbsp;<span class="builtintype" id="6087339">uint32</span><span class="op" id="6087345">(</span><span class="ident" id="6087346"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087129">off</a></span><span class="op" id="6087349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6087352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6087356">return</span>&nbsp;<span class="ident" id="6087363"><a href="/lonnie.io/e8vm/dasm8/inst_br.go.html#6087158">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6087367">}</span>
</div>
</body>
</html>
