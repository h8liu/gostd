<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html" class="current">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5113635">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5113690">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5113744">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5113795">package</span>&nbsp;<span class="ident" id="5113803">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5113808">import</span>&nbsp;<span class="string" id="5113815">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5113825">type</span>&nbsp;<span class="ident" id="5113830">Filter</span>&nbsp;<span class="keyword" id="5113837">func</span><span class="op" id="5113841">(</span><span class="builtintype" id="5113842">string</span><span class="op" id="5113848">)</span>&nbsp;<span class="builtintype" id="5113850">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5113856">func</span>&nbsp;<span class="ident" id="5113861">matchFields</span><span class="op" id="5113872">(</span><span class="ident" id="5113873">fields</span>&nbsp;<span class="op" id="5113880">*</span><span class="ident" id="5113881">ast</span><span class="op" id="5113884">.</span><span class="ident" id="5113885">FieldList</span><span class="op" id="5113894">,</span>&nbsp;<span class="ident" id="5113896">f</span>&nbsp;<span class="ident" id="5113898">Filter</span><span class="op" id="5113904">)</span>&nbsp;<span class="builtintype" id="5113906">bool</span>&nbsp;<span class="op" id="5113911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113914">if</span>&nbsp;<span class="ident" id="5113917">fields</span>&nbsp;<span class="op" id="5113924">!=</span>&nbsp;<span class="builtintype" id="5113927">nil</span>&nbsp;<span class="op" id="5113931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113935">for</span>&nbsp;<span class="ident" id="5113939">_</span><span class="op" id="5113940">,</span>&nbsp;<span class="ident" id="5113942">field</span>&nbsp;<span class="op" id="5113948">:=</span>&nbsp;<span class="keyword" id="5113951">range</span>&nbsp;<span class="ident" id="5113957">fields</span><span class="op" id="5113963">.</span><span class="ident" id="5113964">List</span>&nbsp;<span class="op" id="5113969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113974">for</span>&nbsp;<span class="ident" id="5113978">_</span><span class="op" id="5113979">,</span>&nbsp;<span class="ident" id="5113981">name</span>&nbsp;<span class="op" id="5113986">:=</span>&nbsp;<span class="keyword" id="5113989">range</span>&nbsp;<span class="ident" id="5113995">field</span><span class="op" id="5114000">.</span><span class="ident" id="5114001">Names</span>&nbsp;<span class="op" id="5114007">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114013">if</span>&nbsp;<span class="ident" id="5114016">f</span><span class="op" id="5114017">(</span><span class="ident" id="5114018">name</span><span class="op" id="5114022">.</span><span class="ident" id="5114023">Name</span><span class="op" id="5114027">)</span>&nbsp;<span class="op" id="5114029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114036">return</span>&nbsp;<span class="builtintype" id="5114043">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114061">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114067">return</span>&nbsp;<span class="builtintype" id="5114074">false</span><br>
<span class="lineno"></span><span class="op" id="5114080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5114083">func</span>&nbsp;<span class="ident" id="5114088">matchDecl</span><span class="op" id="5114097">(</span><span class="ident" id="5114098">d</span>&nbsp;<span class="op" id="5114100">*</span><span class="ident" id="5114101">ast</span><span class="op" id="5114104">.</span><span class="ident" id="5114105">GenDecl</span><span class="op" id="5114112">,</span>&nbsp;<span class="ident" id="5114114">f</span>&nbsp;<span class="ident" id="5114116">Filter</span><span class="op" id="5114122">)</span>&nbsp;<span class="builtintype" id="5114124">bool</span>&nbsp;<span class="op" id="5114129">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114132">for</span>&nbsp;<span class="ident" id="5114136">_</span><span class="op" id="5114137">,</span>&nbsp;<span class="ident" id="5114139">d</span>&nbsp;<span class="op" id="5114141">:=</span>&nbsp;<span class="keyword" id="5114144">range</span>&nbsp;<span class="ident" id="5114150">d</span><span class="op" id="5114151">.</span><span class="ident" id="5114152">Specs</span>&nbsp;<span class="op" id="5114158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114162">switch</span>&nbsp;<span class="ident" id="5114169">v</span>&nbsp;<span class="op" id="5114171">:=</span>&nbsp;<span class="ident" id="5114174">d</span><span class="op" id="5114175">.</span><span class="op" id="5114176">(</span><span class="keyword" id="5114177">type</span><span class="op" id="5114181">)</span>&nbsp;<span class="op" id="5114183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114187">case</span>&nbsp;<span class="op" id="5114192">*</span><span class="ident" id="5114193">ast</span><span class="op" id="5114196">.</span><span class="ident" id="5114197">ValueSpec</span><span class="op" id="5114206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114211">for</span>&nbsp;<span class="ident" id="5114215">_</span><span class="op" id="5114216">,</span>&nbsp;<span class="ident" id="5114218">name</span>&nbsp;<span class="op" id="5114223">:=</span>&nbsp;<span class="keyword" id="5114226">range</span>&nbsp;<span class="ident" id="5114232">v</span><span class="op" id="5114233">.</span><span class="ident" id="5114234">Names</span>&nbsp;<span class="op" id="5114240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114246">if</span>&nbsp;<span class="ident" id="5114249">f</span><span class="op" id="5114250">(</span><span class="ident" id="5114251">name</span><span class="op" id="5114255">.</span><span class="ident" id="5114256">Name</span><span class="op" id="5114260">)</span>&nbsp;<span class="op" id="5114262">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114269">return</span>&nbsp;<span class="builtintype" id="5114276">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114294">case</span>&nbsp;<span class="op" id="5114299">*</span><span class="ident" id="5114300">ast</span><span class="op" id="5114303">.</span><span class="ident" id="5114304">TypeSpec</span><span class="op" id="5114312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114317">if</span>&nbsp;<span class="ident" id="5114320">f</span><span class="op" id="5114321">(</span><span class="ident" id="5114322">v</span><span class="op" id="5114323">.</span><span class="ident" id="5114324">Name</span><span class="op" id="5114328">.</span><span class="ident" id="5114329">Name</span><span class="op" id="5114333">)</span>&nbsp;<span class="op" id="5114335">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114341">return</span>&nbsp;<span class="builtintype" id="5114348">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114361">switch</span>&nbsp;<span class="ident" id="5114368">t</span>&nbsp;<span class="op" id="5114370">:=</span>&nbsp;<span class="ident" id="5114373">v</span><span class="op" id="5114374">.</span><span class="ident" id="5114375">Type</span><span class="op" id="5114379">.</span><span class="op" id="5114380">(</span><span class="keyword" id="5114381">type</span><span class="op" id="5114385">)</span>&nbsp;<span class="op" id="5114387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114392">case</span>&nbsp;<span class="op" id="5114397">*</span><span class="ident" id="5114398">ast</span><span class="op" id="5114401">.</span><span class="ident" id="5114402">StructType</span><span class="op" id="5114412">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114418">if</span>&nbsp;<span class="ident" id="5114421">matchFields</span><span class="op" id="5114432">(</span><span class="ident" id="5114433">t</span><span class="op" id="5114434">.</span><span class="ident" id="5114435">Fields</span><span class="op" id="5114441">,</span>&nbsp;<span class="ident" id="5114443">f</span><span class="op" id="5114444">)</span>&nbsp;<span class="op" id="5114446">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114453">return</span>&nbsp;<span class="builtintype" id="5114460">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114474">case</span>&nbsp;<span class="op" id="5114479">*</span><span class="ident" id="5114480">ast</span><span class="op" id="5114483">.</span><span class="ident" id="5114484">InterfaceType</span><span class="op" id="5114497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114503">if</span>&nbsp;<span class="ident" id="5114506">matchFields</span><span class="op" id="5114517">(</span><span class="ident" id="5114518">t</span><span class="op" id="5114519">.</span><span class="ident" id="5114520">Methods</span><span class="op" id="5114527">,</span>&nbsp;<span class="ident" id="5114529">f</span><span class="op" id="5114530">)</span>&nbsp;<span class="op" id="5114532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114539">return</span>&nbsp;<span class="builtintype" id="5114546">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114570">return</span>&nbsp;<span class="builtintype" id="5114577">false</span><br>
<span class="lineno">50</span><span class="op" id="5114583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5114586">func</span>&nbsp;<span class="ident" id="5114591">filterValues</span><span class="op" id="5114603">(</span><span class="ident" id="5114604">a</span>&nbsp;<span class="op" id="5114606">[</span><span class="op" id="5114607">]</span><span class="op" id="5114608">*</span><span class="ident" id="5114609">Value</span><span class="op" id="5114614">,</span>&nbsp;<span class="ident" id="5114616">f</span>&nbsp;<span class="ident" id="5114618">Filter</span><span class="op" id="5114624">)</span>&nbsp;<span class="op" id="5114626">[</span><span class="op" id="5114627">]</span><span class="op" id="5114628">*</span><span class="ident" id="5114629">Value</span>&nbsp;<span class="op" id="5114635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114638">w</span>&nbsp;<span class="op" id="5114640">:=</span>&nbsp;<span class="num" id="5114643">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114646">for</span>&nbsp;<span class="ident" id="5114650">_</span><span class="op" id="5114651">,</span>&nbsp;<span class="ident" id="5114653">vd</span>&nbsp;<span class="op" id="5114656">:=</span>&nbsp;<span class="keyword" id="5114659">range</span>&nbsp;<span class="ident" id="5114665">a</span>&nbsp;<span class="op" id="5114667">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114671">if</span>&nbsp;<span class="ident" id="5114674">matchDecl</span><span class="op" id="5114683">(</span><span class="ident" id="5114684">vd</span><span class="op" id="5114686">.</span><span class="ident" id="5114687">Decl</span><span class="op" id="5114691">,</span>&nbsp;<span class="ident" id="5114693">f</span><span class="op" id="5114694">)</span>&nbsp;<span class="op" id="5114696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114701">a</span><span class="op" id="5114702">[</span><span class="ident" id="5114703">w</span><span class="op" id="5114704">]</span>&nbsp;<span class="op" id="5114706">=</span>&nbsp;<span class="ident" id="5114708">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114714">w</span><span class="op" id="5114715">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114723">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114726">return</span>&nbsp;<span class="ident" id="5114733">a</span><span class="op" id="5114734">[</span><span class="num" id="5114735">0</span><span class="op" id="5114736">:</span><span class="ident" id="5114737">w</span><span class="op" id="5114738">]</span><br>
<span class="lineno"></span><span class="op" id="5114740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5114743">func</span>&nbsp;<span class="ident" id="5114748">filterFuncs</span><span class="op" id="5114759">(</span><span class="ident" id="5114760">a</span>&nbsp;<span class="op" id="5114762">[</span><span class="op" id="5114763">]</span><span class="op" id="5114764">*</span><span class="ident" id="5114765">Func</span><span class="op" id="5114769">,</span>&nbsp;<span class="ident" id="5114771">f</span>&nbsp;<span class="ident" id="5114773">Filter</span><span class="op" id="5114779">)</span>&nbsp;<span class="op" id="5114781">[</span><span class="op" id="5114782">]</span><span class="op" id="5114783">*</span><span class="ident" id="5114784">Func</span>&nbsp;<span class="op" id="5114789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114792">w</span>&nbsp;<span class="op" id="5114794">:=</span>&nbsp;<span class="num" id="5114797">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114800">for</span>&nbsp;<span class="ident" id="5114804">_</span><span class="op" id="5114805">,</span>&nbsp;<span class="ident" id="5114807">fd</span>&nbsp;<span class="op" id="5114810">:=</span>&nbsp;<span class="keyword" id="5114813">range</span>&nbsp;<span class="ident" id="5114819">a</span>&nbsp;<span class="op" id="5114821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114825">if</span>&nbsp;<span class="ident" id="5114828">f</span><span class="op" id="5114829">(</span><span class="ident" id="5114830">fd</span><span class="op" id="5114832">.</span><span class="ident" id="5114833">Name</span><span class="op" id="5114837">)</span>&nbsp;<span class="op" id="5114839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114844">a</span><span class="op" id="5114845">[</span><span class="ident" id="5114846">w</span><span class="op" id="5114847">]</span>&nbsp;<span class="op" id="5114849">=</span>&nbsp;<span class="ident" id="5114851">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114857">w</span><span class="op" id="5114858">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114863">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114869">return</span>&nbsp;<span class="ident" id="5114876">a</span><span class="op" id="5114877">[</span><span class="num" id="5114878">0</span><span class="op" id="5114879">:</span><span class="ident" id="5114880">w</span><span class="op" id="5114881">]</span><br>
<span class="lineno"></span><span class="op" id="5114883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5114886">func</span>&nbsp;<span class="ident" id="5114891">filterTypes</span><span class="op" id="5114902">(</span><span class="ident" id="5114903">a</span>&nbsp;<span class="op" id="5114905">[</span><span class="op" id="5114906">]</span><span class="op" id="5114907">*</span><span class="ident" id="5114908">Type</span><span class="op" id="5114912">,</span>&nbsp;<span class="ident" id="5114914">f</span>&nbsp;<span class="ident" id="5114916">Filter</span><span class="op" id="5114922">)</span>&nbsp;<span class="op" id="5114924">[</span><span class="op" id="5114925">]</span><span class="op" id="5114926">*</span><span class="ident" id="5114927">Type</span>&nbsp;<span class="op" id="5114932">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114935">w</span>&nbsp;<span class="op" id="5114937">:=</span>&nbsp;<span class="num" id="5114940">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114943">for</span>&nbsp;<span class="ident" id="5114947">_</span><span class="op" id="5114948">,</span>&nbsp;<span class="ident" id="5114950">td</span>&nbsp;<span class="op" id="5114953">:=</span>&nbsp;<span class="keyword" id="5114956">range</span>&nbsp;<span class="ident" id="5114962">a</span>&nbsp;<span class="op" id="5114964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114968">n</span>&nbsp;<span class="op" id="5114970">:=</span>&nbsp;<span class="num" id="5114973">0</span>&nbsp;<span class="comment" id="5114975">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114998">if</span>&nbsp;<span class="ident" id="5115001">matchDecl</span><span class="op" id="5115010">(</span><span class="ident" id="5115011">td</span><span class="op" id="5115013">.</span><span class="ident" id="5115014">Decl</span><span class="op" id="5115018">,</span>&nbsp;<span class="ident" id="5115020">f</span><span class="op" id="5115021">)</span>&nbsp;<span class="op" id="5115023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115028">n</span>&nbsp;<span class="op" id="5115030">=</span>&nbsp;<span class="num" id="5115032">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5115036">}</span>&nbsp;<span class="keyword" id="5115038">else</span>&nbsp;<span class="op" id="5115043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5115048">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115139">td</span><span class="op" id="5115141">.</span><span class="ident" id="5115142">Consts</span>&nbsp;<span class="op" id="5115149">=</span>&nbsp;<span class="ident" id="5115151">filterValues</span><span class="op" id="5115163">(</span><span class="ident" id="5115164">td</span><span class="op" id="5115166">.</span><span class="ident" id="5115167">Consts</span><span class="op" id="5115173">,</span>&nbsp;<span class="ident" id="5115175">f</span><span class="op" id="5115176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115181">td</span><span class="op" id="5115183">.</span><span class="ident" id="5115184">Vars</span>&nbsp;<span class="op" id="5115189">=</span>&nbsp;<span class="ident" id="5115191">filterValues</span><span class="op" id="5115203">(</span><span class="ident" id="5115204">td</span><span class="op" id="5115206">.</span><span class="ident" id="5115207">Vars</span><span class="op" id="5115211">,</span>&nbsp;<span class="ident" id="5115213">f</span><span class="op" id="5115214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115219">td</span><span class="op" id="5115221">.</span><span class="ident" id="5115222">Funcs</span>&nbsp;<span class="op" id="5115228">=</span>&nbsp;<span class="ident" id="5115230">filterFuncs</span><span class="op" id="5115241">(</span><span class="ident" id="5115242">td</span><span class="op" id="5115244">.</span><span class="ident" id="5115245">Funcs</span><span class="op" id="5115250">,</span>&nbsp;<span class="ident" id="5115252">f</span><span class="op" id="5115253">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115258">td</span><span class="op" id="5115260">.</span><span class="ident" id="5115261">Methods</span>&nbsp;<span class="op" id="5115269">=</span>&nbsp;<span class="ident" id="5115271">filterFuncs</span><span class="op" id="5115282">(</span><span class="ident" id="5115283">td</span><span class="op" id="5115285">.</span><span class="ident" id="5115286">Methods</span><span class="op" id="5115293">,</span>&nbsp;<span class="ident" id="5115295">f</span><span class="op" id="5115296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115301">n</span>&nbsp;<span class="op" id="5115303">+=</span>&nbsp;<span class="builtinfunc" id="5115306">len</span><span class="op" id="5115309">(</span><span class="ident" id="5115310">td</span><span class="op" id="5115312">.</span><span class="ident" id="5115313">Consts</span><span class="op" id="5115319">)</span>&nbsp;<span class="op" id="5115321">+</span>&nbsp;<span class="builtinfunc" id="5115323">len</span><span class="op" id="5115326">(</span><span class="ident" id="5115327">td</span><span class="op" id="5115329">.</span><span class="ident" id="5115330">Vars</span><span class="op" id="5115334">)</span>&nbsp;<span class="op" id="5115336">+</span>&nbsp;<span class="builtinfunc" id="5115338">len</span><span class="op" id="5115341">(</span><span class="ident" id="5115342">td</span><span class="op" id="5115344">.</span><span class="ident" id="5115345">Funcs</span><span class="op" id="5115350">)</span>&nbsp;<span class="op" id="5115352">+</span>&nbsp;<span class="builtinfunc" id="5115354">len</span><span class="op" id="5115357">(</span><span class="ident" id="5115358">td</span><span class="op" id="5115360">.</span><span class="ident" id="5115361">Methods</span><span class="op" id="5115368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5115372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5115376">if</span>&nbsp;<span class="ident" id="5115379">n</span>&nbsp;<span class="op" id="5115381">&gt;</span>&nbsp;<span class="num" id="5115383">0</span>&nbsp;<span class="op" id="5115385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115390">a</span><span class="op" id="5115391">[</span><span class="ident" id="5115392">w</span><span class="op" id="5115393">]</span>&nbsp;<span class="op" id="5115395">=</span>&nbsp;<span class="ident" id="5115397">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115403">w</span><span class="op" id="5115404">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5115409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5115412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5115415">return</span>&nbsp;<span class="ident" id="5115422">a</span><span class="op" id="5115423">[</span><span class="num" id="5115424">0</span><span class="op" id="5115425">:</span><span class="ident" id="5115426">w</span><span class="op" id="5115427">]</span><br>
<span class="lineno"></span><span class="op" id="5115429">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5115432">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5115515">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="5115564">//</span><br>
<span class="lineno"></span><span class="keyword" id="5115567">func</span>&nbsp;<span class="op" id="5115572">(</span><span class="ident" id="5115573">p</span>&nbsp;<span class="op" id="5115575">*</span><span class="ident" id="5115576">Package</span><span class="op" id="5115583">)</span>&nbsp;<span class="ident" id="5115585">Filter</span><span class="op" id="5115591">(</span><span class="ident" id="5115592">f</span>&nbsp;<span class="ident" id="5115594">Filter</span><span class="op" id="5115600">)</span>&nbsp;<span class="op" id="5115602">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115605">p</span><span class="op" id="5115606">.</span><span class="ident" id="5115607">Consts</span>&nbsp;<span class="op" id="5115614">=</span>&nbsp;<span class="ident" id="5115616">filterValues</span><span class="op" id="5115628">(</span><span class="ident" id="5115629">p</span><span class="op" id="5115630">.</span><span class="ident" id="5115631">Consts</span><span class="op" id="5115637">,</span>&nbsp;<span class="ident" id="5115639">f</span><span class="op" id="5115640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115643">p</span><span class="op" id="5115644">.</span><span class="ident" id="5115645">Vars</span>&nbsp;<span class="op" id="5115650">=</span>&nbsp;<span class="ident" id="5115652">filterValues</span><span class="op" id="5115664">(</span><span class="ident" id="5115665">p</span><span class="op" id="5115666">.</span><span class="ident" id="5115667">Vars</span><span class="op" id="5115671">,</span>&nbsp;<span class="ident" id="5115673">f</span><span class="op" id="5115674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115677">p</span><span class="op" id="5115678">.</span><span class="ident" id="5115679">Types</span>&nbsp;<span class="op" id="5115685">=</span>&nbsp;<span class="ident" id="5115687">filterTypes</span><span class="op" id="5115698">(</span><span class="ident" id="5115699">p</span><span class="op" id="5115700">.</span><span class="ident" id="5115701">Types</span><span class="op" id="5115706">,</span>&nbsp;<span class="ident" id="5115708">f</span><span class="op" id="5115709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115712">p</span><span class="op" id="5115713">.</span><span class="ident" id="5115714">Funcs</span>&nbsp;<span class="op" id="5115720">=</span>&nbsp;<span class="ident" id="5115722">filterFuncs</span><span class="op" id="5115733">(</span><span class="ident" id="5115734">p</span><span class="op" id="5115735">.</span><span class="ident" id="5115736">Funcs</span><span class="op" id="5115741">,</span>&nbsp;<span class="ident" id="5115743">f</span><span class="op" id="5115744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5115747">p</span><span class="op" id="5115748">.</span><span class="ident" id="5115749">Doc</span>&nbsp;<span class="op" id="5115753">=</span>&nbsp;<span class="string" id="5115755">&#34;&#34;</span>&nbsp;<span class="comment" id="5115758">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="5115794">}</span>
</div>
</body>
</html>
