<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html" class="current">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1489001">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1489056">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1489110">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1489161">package</span>&nbsp;<span class="ident" id="1489169">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1489178">import</span>&nbsp;<span class="string" id="1489185">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1489195">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1489247">type</span>&nbsp;<span class="ident" id="1489252">Error</span>&nbsp;<span class="keyword" id="1489258">interface</span>&nbsp;<span class="op" id="1489268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1489271">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1489279">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1489320">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1489369">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1489414">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489465">RuntimeError</span><span class="op" id="1489477">(</span><span class="op" id="1489478">)</span><br>
<span class="lineno"></span><span class="op" id="1489480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1489483">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1489541">type</span>&nbsp;<span class="ident" id="1489546">TypeAssertionError</span>&nbsp;<span class="keyword" id="1489565">struct</span>&nbsp;<span class="op" id="1489572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489575">interfaceString</span>&nbsp;<span class="builtintype" id="1489591">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489599">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1489615">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489623">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1489639">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489647">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1489663">string</span>&nbsp;<span class="comment" id="1489670">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1489727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1489730">func</span>&nbsp;<span class="op" id="1489735">(</span><span class="op" id="1489736">*</span><span class="ident" id="1489737">TypeAssertionError</span><span class="op" id="1489755">)</span>&nbsp;<span class="ident" id="1489757">RuntimeError</span><span class="op" id="1489769">(</span><span class="op" id="1489770">)</span>&nbsp;<span class="op" id="1489772">{</span><span class="op" id="1489773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1489776">func</span>&nbsp;<span class="op" id="1489781">(</span><span class="ident" id="1489782">e</span>&nbsp;<span class="op" id="1489784">*</span><span class="ident" id="1489785">TypeAssertionError</span><span class="op" id="1489803">)</span>&nbsp;<span class="ident" id="1489805">Error</span><span class="op" id="1489810">(</span><span class="op" id="1489811">)</span>&nbsp;<span class="builtintype" id="1489813">string</span>&nbsp;<span class="op" id="1489820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489823">inter</span>&nbsp;<span class="op" id="1489829">:=</span>&nbsp;<span class="ident" id="1489832">e</span><span class="op" id="1489833">.</span><span class="ident" id="1489834">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1489851">if</span>&nbsp;<span class="ident" id="1489854">inter</span>&nbsp;<span class="op" id="1489860">==</span>&nbsp;<span class="string" id="1489863">&#34;&#34;</span>&nbsp;<span class="op" id="1489866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1489870">inter</span>&nbsp;<span class="op" id="1489876">=</span>&nbsp;<span class="string" id="1489878">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1489891">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1489894">if</span>&nbsp;<span class="ident" id="1489897">e</span><span class="op" id="1489898">.</span><span class="ident" id="1489899">concreteString</span>&nbsp;<span class="op" id="1489914">==</span>&nbsp;<span class="string" id="1489917">&#34;&#34;</span>&nbsp;<span class="op" id="1489920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1489924">return</span>&nbsp;<span class="string" id="1489931">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1489956">+</span>&nbsp;<span class="ident" id="1489958">inter</span>&nbsp;<span class="op" id="1489964">+</span>&nbsp;<span class="string" id="1489966">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1489982">+</span>&nbsp;<span class="ident" id="1489984">e</span><span class="op" id="1489985">.</span><span class="ident" id="1489986">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490005">if</span>&nbsp;<span class="ident" id="1490008">e</span><span class="op" id="1490009">.</span><span class="ident" id="1490010">missingMethod</span>&nbsp;<span class="op" id="1490024">==</span>&nbsp;<span class="string" id="1490027">&#34;&#34;</span>&nbsp;<span class="op" id="1490030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490034">return</span>&nbsp;<span class="string" id="1490041">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1490066">+</span>&nbsp;<span class="ident" id="1490068">inter</span>&nbsp;<span class="op" id="1490074">+</span>&nbsp;<span class="string" id="1490076">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1490083">+</span>&nbsp;<span class="ident" id="1490085">e</span><span class="op" id="1490086">.</span><span class="ident" id="1490087">concreteString</span>&nbsp;<span class="op" id="1490102">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1490107">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1490116">+</span>&nbsp;<span class="ident" id="1490118">e</span><span class="op" id="1490119">.</span><span class="ident" id="1490120">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490139">return</span>&nbsp;<span class="string" id="1490146">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1490171">+</span>&nbsp;<span class="ident" id="1490173">e</span><span class="op" id="1490174">.</span><span class="ident" id="1490175">concreteString</span>&nbsp;<span class="op" id="1490190">+</span>&nbsp;<span class="string" id="1490192">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1490203">+</span>&nbsp;<span class="ident" id="1490205">e</span><span class="op" id="1490206">.</span><span class="ident" id="1490207">assertedString</span>&nbsp;<span class="op" id="1490222">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1490226">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1490246">+</span>&nbsp;<span class="ident" id="1490248">e</span><span class="op" id="1490249">.</span><span class="ident" id="1490250">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1490264">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1490267">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1490290">func</span>&nbsp;<span class="ident" id="1490295">newTypeAssertionError</span><span class="op" id="1490316">(</span><span class="ident" id="1490317">ps1</span><span class="op" id="1490320">,</span>&nbsp;<span class="ident" id="1490322">ps2</span><span class="op" id="1490325">,</span>&nbsp;<span class="ident" id="1490327">ps3</span>&nbsp;<span class="op" id="1490331">*</span><span class="builtintype" id="1490332">string</span><span class="op" id="1490338">,</span>&nbsp;<span class="ident" id="1490340">pmeth</span>&nbsp;<span class="op" id="1490346">*</span><span class="builtintype" id="1490347">string</span><span class="op" id="1490353">,</span>&nbsp;<span class="ident" id="1490355">ret</span>&nbsp;<span class="op" id="1490359">*</span><span class="keyword" id="1490360">interface</span><span class="op" id="1490369">{</span><span class="op" id="1490370">}</span><span class="op" id="1490371">)</span>&nbsp;<span class="op" id="1490373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490376">var</span>&nbsp;<span class="ident" id="1490380">s1</span><span class="op" id="1490382">,</span>&nbsp;<span class="ident" id="1490384">s2</span><span class="op" id="1490386">,</span>&nbsp;<span class="ident" id="1490388">s3</span><span class="op" id="1490390">,</span>&nbsp;<span class="ident" id="1490392">meth</span>&nbsp;<span class="builtintype" id="1490397">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490406">if</span>&nbsp;<span class="ident" id="1490409">ps1</span>&nbsp;<span class="op" id="1490413">!=</span>&nbsp;<span class="builtintype" id="1490416">nil</span>&nbsp;<span class="op" id="1490420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1490424">s1</span>&nbsp;<span class="op" id="1490427">=</span>&nbsp;<span class="op" id="1490429">*</span><span class="ident" id="1490430">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490438">if</span>&nbsp;<span class="ident" id="1490441">ps2</span>&nbsp;<span class="op" id="1490445">!=</span>&nbsp;<span class="builtintype" id="1490448">nil</span>&nbsp;<span class="op" id="1490452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1490456">s2</span>&nbsp;<span class="op" id="1490459">=</span>&nbsp;<span class="op" id="1490461">*</span><span class="ident" id="1490462">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490470">if</span>&nbsp;<span class="ident" id="1490473">ps3</span>&nbsp;<span class="op" id="1490477">!=</span>&nbsp;<span class="builtintype" id="1490480">nil</span>&nbsp;<span class="op" id="1490484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1490488">s3</span>&nbsp;<span class="op" id="1490491">=</span>&nbsp;<span class="op" id="1490493">*</span><span class="ident" id="1490494">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490502">if</span>&nbsp;<span class="ident" id="1490505">pmeth</span>&nbsp;<span class="op" id="1490511">!=</span>&nbsp;<span class="builtintype" id="1490514">nil</span>&nbsp;<span class="op" id="1490518">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1490522">meth</span>&nbsp;<span class="op" id="1490527">=</span>&nbsp;<span class="op" id="1490529">*</span><span class="ident" id="1490530">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1490540">*</span><span class="ident" id="1490541">ret</span>&nbsp;<span class="op" id="1490545">=</span>&nbsp;<span class="op" id="1490547">&amp;</span><span class="ident" id="1490548">TypeAssertionError</span><span class="op" id="1490566">{</span><span class="ident" id="1490567">s1</span><span class="op" id="1490569">,</span>&nbsp;<span class="ident" id="1490571">s2</span><span class="op" id="1490573">,</span>&nbsp;<span class="ident" id="1490575">s3</span><span class="op" id="1490577">,</span>&nbsp;<span class="ident" id="1490579">meth</span><span class="op" id="1490583">}</span><br>
<span class="lineno"></span><span class="op" id="1490585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1490588">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1490663">type</span>&nbsp;<span class="ident" id="1490668">errorString</span>&nbsp;<span class="builtintype" id="1490680">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1490688">func</span>&nbsp;<span class="op" id="1490693">(</span><span class="ident" id="1490694">e</span>&nbsp;<span class="ident" id="1490696">errorString</span><span class="op" id="1490707">)</span>&nbsp;<span class="ident" id="1490709">RuntimeError</span><span class="op" id="1490721">(</span><span class="op" id="1490722">)</span>&nbsp;<span class="op" id="1490724">{</span><span class="op" id="1490725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1490728">func</span>&nbsp;<span class="op" id="1490733">(</span><span class="ident" id="1490734">e</span>&nbsp;<span class="ident" id="1490736">errorString</span><span class="op" id="1490747">)</span>&nbsp;<span class="ident" id="1490749">Error</span><span class="op" id="1490754">(</span><span class="op" id="1490755">)</span>&nbsp;<span class="builtintype" id="1490757">string</span>&nbsp;<span class="op" id="1490764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490767">return</span>&nbsp;<span class="string" id="1490774">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1490792">+</span>&nbsp;<span class="builtintype" id="1490794">string</span><span class="op" id="1490800">(</span><span class="ident" id="1490801">e</span><span class="op" id="1490802">)</span><br>
<span class="lineno"></span><span class="op" id="1490804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1490807">type</span>&nbsp;<span class="ident" id="1490812">stringer</span>&nbsp;<span class="keyword" id="1490821">interface</span>&nbsp;<span class="op" id="1490831">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1490834">String</span><span class="op" id="1490840">(</span><span class="op" id="1490841">)</span>&nbsp;<span class="builtintype" id="1490843">string</span><br>
<span class="lineno"></span><span class="op" id="1490850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1490853">func</span>&nbsp;<span class="ident" id="1490858">typestring</span><span class="op" id="1490868">(</span><span class="ident" id="1490869">x</span>&nbsp;<span class="keyword" id="1490871">interface</span><span class="op" id="1490880">{</span><span class="op" id="1490881">}</span><span class="op" id="1490882">)</span>&nbsp;<span class="builtintype" id="1490884">string</span>&nbsp;<span class="op" id="1490891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1490894">e</span>&nbsp;<span class="op" id="1490896">:=</span>&nbsp;<span class="op" id="1490899">(</span><span class="op" id="1490900">*</span><span class="ident" id="1490901">eface</span><span class="op" id="1490906">)</span><span class="op" id="1490907">(</span><span class="ident" id="1490908">unsafe</span><span class="op" id="1490914">.</span><span class="ident" id="1490915">Pointer</span><span class="op" id="1490922">(</span><span class="op" id="1490923">&amp;</span><span class="ident" id="1490924">x</span><span class="op" id="1490925">)</span><span class="op" id="1490926">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1490929">return</span>&nbsp;<span class="op" id="1490936">*</span><span class="ident" id="1490937">e</span><span class="op" id="1490938">.</span><span class="ident" id="1490939">_type</span><span class="op" id="1490944">.</span><span class="ident" id="1490945">_string</span><br>
<span class="lineno"></span><span class="op" id="1490953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1490956">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1490979">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1491018">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1491080">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1491156">func</span>&nbsp;<span class="ident" id="1491161">printany</span><span class="op" id="1491169">(</span><span class="ident" id="1491170">i</span>&nbsp;<span class="keyword" id="1491172">interface</span><span class="op" id="1491181">{</span><span class="op" id="1491182">}</span><span class="op" id="1491183">)</span>&nbsp;<span class="op" id="1491185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491188">switch</span>&nbsp;<span class="ident" id="1491195">v</span>&nbsp;<span class="op" id="1491197">:=</span>&nbsp;<span class="ident" id="1491200">i</span><span class="op" id="1491201">.</span><span class="op" id="1491202">(</span><span class="keyword" id="1491203">type</span><span class="op" id="1491207">)</span>&nbsp;<span class="op" id="1491209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491212">case</span>&nbsp;<span class="builtintype" id="1491217">nil</span><span class="op" id="1491220">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491224">print</span><span class="op" id="1491229">(</span><span class="string" id="1491230">&#34;nil&#34;</span><span class="op" id="1491235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491238">case</span>&nbsp;<span class="ident" id="1491243">stringer</span><span class="op" id="1491251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491255">print</span><span class="op" id="1491260">(</span><span class="ident" id="1491261">v</span><span class="op" id="1491262">.</span><span class="ident" id="1491263">String</span><span class="op" id="1491269">(</span><span class="op" id="1491270">)</span><span class="op" id="1491271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491274">case</span>&nbsp;<span class="builtintype" id="1491279">error</span><span class="op" id="1491284">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491288">print</span><span class="op" id="1491293">(</span><span class="ident" id="1491294">v</span><span class="op" id="1491295">.</span><span class="ident" id="1491296">Error</span><span class="op" id="1491301">(</span><span class="op" id="1491302">)</span><span class="op" id="1491303">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491306">case</span>&nbsp;<span class="builtintype" id="1491311">int</span><span class="op" id="1491314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491318">print</span><span class="op" id="1491323">(</span><span class="ident" id="1491324">v</span><span class="op" id="1491325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491328">case</span>&nbsp;<span class="builtintype" id="1491333">string</span><span class="op" id="1491339">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491343">print</span><span class="op" id="1491348">(</span><span class="ident" id="1491349">v</span><span class="op" id="1491350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1491353">default</span><span class="op" id="1491360">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491364">print</span><span class="op" id="1491369">(</span><span class="string" id="1491370">&#34;(&#34;</span><span class="op" id="1491373">,</span>&nbsp;<span class="ident" id="1491375">typestring</span><span class="op" id="1491385">(</span><span class="ident" id="1491386">i</span><span class="op" id="1491387">)</span><span class="op" id="1491388">,</span>&nbsp;<span class="string" id="1491390">&#34;)&nbsp;&#34;</span><span class="op" id="1491394">,</span>&nbsp;<span class="ident" id="1491396">i</span><span class="op" id="1491397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1491400">}</span><br>
<span class="lineno"></span><span class="op" id="1491402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1491405">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1491435">func</span>&nbsp;<span class="ident" id="1491440">panicwrap</span><span class="op" id="1491449">(</span><span class="ident" id="1491450">pkg</span><span class="op" id="1491453">,</span>&nbsp;<span class="ident" id="1491455">typ</span><span class="op" id="1491458">,</span>&nbsp;<span class="ident" id="1491460">meth</span>&nbsp;<span class="builtintype" id="1491465">string</span><span class="op" id="1491471">)</span>&nbsp;<span class="op" id="1491473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1491476">panic</span><span class="op" id="1491481">(</span><span class="string" id="1491482">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1491498">+</span>&nbsp;<span class="ident" id="1491500">pkg</span>&nbsp;<span class="op" id="1491504">+</span>&nbsp;<span class="string" id="1491506">&#34;.&#34;</span>&nbsp;<span class="op" id="1491510">+</span>&nbsp;<span class="ident" id="1491512">typ</span>&nbsp;<span class="op" id="1491516">+</span>&nbsp;<span class="string" id="1491518">&#34;.&#34;</span>&nbsp;<span class="op" id="1491522">+</span>&nbsp;<span class="ident" id="1491524">meth</span>&nbsp;<span class="op" id="1491529">+</span>&nbsp;<span class="string" id="1491531">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1491553">+</span>&nbsp;<span class="ident" id="1491555">typ</span>&nbsp;<span class="op" id="1491559">+</span>&nbsp;<span class="string" id="1491561">&#34;&nbsp;pointer&#34;</span><span class="op" id="1491571">)</span><br>
<span class="lineno"></span><span class="op" id="1491573">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
