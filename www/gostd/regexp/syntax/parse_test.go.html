<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7123886">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7123942">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7123996">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7124047">package</span>&nbsp;<span class="ident" id="7124055">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7124063">import</span>&nbsp;<span class="op" id="7124070">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7124073">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7124082">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7124089">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7124100">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7124110">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7124113">type</span>&nbsp;<span class="ident" id="7124118">parseTest</span>&nbsp;<span class="keyword" id="7124128">struct</span>&nbsp;<span class="op" id="7124135">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7124138">Regexp</span>&nbsp;<span class="builtintype" id="7124145">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7124153">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7124160">string</span><br>
<span class="lineno"></span><span class="op" id="7124167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7124170">var</span>&nbsp;<span class="ident" id="7124174">parseTests</span>&nbsp;<span class="op" id="7124185">=</span>&nbsp;<span class="op" id="7124187">[</span><span class="op" id="7124188">]</span><span class="ident" id="7124189">parseTest</span><span class="op" id="7124198">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7124201">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124216">{</span><span class="string" id="7124217">`a`</span><span class="op" id="7124220">,</span>&nbsp;<span class="string" id="7124222">`lit{a}`</span><span class="op" id="7124230">}</span><span class="op" id="7124231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124234">{</span><span class="string" id="7124235">`a.`</span><span class="op" id="7124239">,</span>&nbsp;<span class="string" id="7124241">`cat{lit{a}dot{}}`</span><span class="op" id="7124259">}</span><span class="op" id="7124260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124263">{</span><span class="string" id="7124264">`a.b`</span><span class="op" id="7124269">,</span>&nbsp;<span class="string" id="7124271">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7124295">}</span><span class="op" id="7124296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124299">{</span><span class="string" id="7124300">`ab`</span><span class="op" id="7124304">,</span>&nbsp;<span class="string" id="7124306">`str{ab}`</span><span class="op" id="7124315">}</span><span class="op" id="7124316">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124319">{</span><span class="string" id="7124320">`a.b.c`</span><span class="op" id="7124327">,</span>&nbsp;<span class="string" id="7124329">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7124364">}</span><span class="op" id="7124365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124368">{</span><span class="string" id="7124369">`abc`</span><span class="op" id="7124374">,</span>&nbsp;<span class="string" id="7124376">`str{abc}`</span><span class="op" id="7124386">}</span><span class="op" id="7124387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124390">{</span><span class="string" id="7124391">`a|^`</span><span class="op" id="7124396">,</span>&nbsp;<span class="string" id="7124398">`alt{lit{a}bol{}}`</span><span class="op" id="7124416">}</span><span class="op" id="7124417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124420">{</span><span class="string" id="7124421">`a|b`</span><span class="op" id="7124426">,</span>&nbsp;<span class="string" id="7124428">`cc{0x61-0x62}`</span><span class="op" id="7124443">}</span><span class="op" id="7124444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124447">{</span><span class="string" id="7124448">`(a)`</span><span class="op" id="7124453">,</span>&nbsp;<span class="string" id="7124455">`cap{lit{a}}`</span><span class="op" id="7124468">}</span><span class="op" id="7124469">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124472">{</span><span class="string" id="7124473">`(a)|b`</span><span class="op" id="7124480">,</span>&nbsp;<span class="string" id="7124482">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7124506">}</span><span class="op" id="7124507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124510">{</span><span class="string" id="7124511">`a*`</span><span class="op" id="7124515">,</span>&nbsp;<span class="string" id="7124517">`star{lit{a}}`</span><span class="op" id="7124531">}</span><span class="op" id="7124532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124535">{</span><span class="string" id="7124536">`a+`</span><span class="op" id="7124540">,</span>&nbsp;<span class="string" id="7124542">`plus{lit{a}}`</span><span class="op" id="7124556">}</span><span class="op" id="7124557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124560">{</span><span class="string" id="7124561">`a?`</span><span class="op" id="7124565">,</span>&nbsp;<span class="string" id="7124567">`que{lit{a}}`</span><span class="op" id="7124580">}</span><span class="op" id="7124581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124584">{</span><span class="string" id="7124585">`a{2}`</span><span class="op" id="7124591">,</span>&nbsp;<span class="string" id="7124593">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7124610">}</span><span class="op" id="7124611">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124614">{</span><span class="string" id="7124615">`a{2,3}`</span><span class="op" id="7124623">,</span>&nbsp;<span class="string" id="7124625">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7124642">}</span><span class="op" id="7124643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124646">{</span><span class="string" id="7124647">`a{2,}`</span><span class="op" id="7124654">,</span>&nbsp;<span class="string" id="7124656">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7124674">}</span><span class="op" id="7124675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124678">{</span><span class="string" id="7124679">`a*?`</span><span class="op" id="7124684">,</span>&nbsp;<span class="string" id="7124686">`nstar{lit{a}}`</span><span class="op" id="7124701">}</span><span class="op" id="7124702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124705">{</span><span class="string" id="7124706">`a+?`</span><span class="op" id="7124711">,</span>&nbsp;<span class="string" id="7124713">`nplus{lit{a}}`</span><span class="op" id="7124728">}</span><span class="op" id="7124729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124732">{</span><span class="string" id="7124733">`a??`</span><span class="op" id="7124738">,</span>&nbsp;<span class="string" id="7124740">`nque{lit{a}}`</span><span class="op" id="7124754">}</span><span class="op" id="7124755">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124758">{</span><span class="string" id="7124759">`a{2}?`</span><span class="op" id="7124766">,</span>&nbsp;<span class="string" id="7124768">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7124786">}</span><span class="op" id="7124787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124790">{</span><span class="string" id="7124791">`a{2,3}?`</span><span class="op" id="7124800">,</span>&nbsp;<span class="string" id="7124802">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7124820">}</span><span class="op" id="7124821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124824">{</span><span class="string" id="7124825">`a{2,}?`</span><span class="op" id="7124833">,</span>&nbsp;<span class="string" id="7124835">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7124854">}</span><span class="op" id="7124855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7124858">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124901">{</span><span class="string" id="7124902">`x{1001`</span><span class="op" id="7124910">,</span>&nbsp;<span class="string" id="7124912">`str{x{1001}`</span><span class="op" id="7124925">}</span><span class="op" id="7124926">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124929">{</span><span class="string" id="7124930">`x{9876543210`</span><span class="op" id="7124944">,</span>&nbsp;<span class="string" id="7124946">`str{x{9876543210}`</span><span class="op" id="7124965">}</span><span class="op" id="7124966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7124969">{</span><span class="string" id="7124970">`x{9876543210,`</span><span class="op" id="7124985">,</span>&nbsp;<span class="string" id="7124987">`str{x{9876543210,}`</span><span class="op" id="7125007">}</span><span class="op" id="7125008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125011">{</span><span class="string" id="7125012">`x{2,1`</span><span class="op" id="7125019">,</span>&nbsp;<span class="string" id="7125021">`str{x{2,1}`</span><span class="op" id="7125033">}</span><span class="op" id="7125034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125037">{</span><span class="string" id="7125038">`x{1,9876543210`</span><span class="op" id="7125054">,</span>&nbsp;<span class="string" id="7125056">`str{x{1,9876543210}`</span><span class="op" id="7125077">}</span><span class="op" id="7125078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125081">{</span><span class="string" id="7125082">``</span><span class="op" id="7125084">,</span>&nbsp;<span class="string" id="7125086">`emp{}`</span><span class="op" id="7125093">}</span><span class="op" id="7125094">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125097">{</span><span class="string" id="7125098">`|`</span><span class="op" id="7125101">,</span>&nbsp;<span class="string" id="7125103">`emp{}`</span><span class="op" id="7125110">}</span><span class="op" id="7125111">,</span>&nbsp;<span class="comment" id="7125113">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125150">{</span><span class="string" id="7125151">`|x|`</span><span class="op" id="7125156">,</span>&nbsp;<span class="string" id="7125158">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7125181">}</span><span class="op" id="7125182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125185">{</span><span class="string" id="7125186">`.`</span><span class="op" id="7125189">,</span>&nbsp;<span class="string" id="7125191">`dot{}`</span><span class="op" id="7125198">}</span><span class="op" id="7125199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125202">{</span><span class="string" id="7125203">`^`</span><span class="op" id="7125206">,</span>&nbsp;<span class="string" id="7125208">`bol{}`</span><span class="op" id="7125215">}</span><span class="op" id="7125216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125219">{</span><span class="string" id="7125220">`$`</span><span class="op" id="7125223">,</span>&nbsp;<span class="string" id="7125225">`eol{}`</span><span class="op" id="7125232">}</span><span class="op" id="7125233">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125236">{</span><span class="string" id="7125237">`\|`</span><span class="op" id="7125241">,</span>&nbsp;<span class="string" id="7125243">`lit{|}`</span><span class="op" id="7125251">}</span><span class="op" id="7125252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125255">{</span><span class="string" id="7125256">`\(`</span><span class="op" id="7125260">,</span>&nbsp;<span class="string" id="7125262">`lit{(}`</span><span class="op" id="7125270">}</span><span class="op" id="7125271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125274">{</span><span class="string" id="7125275">`\)`</span><span class="op" id="7125279">,</span>&nbsp;<span class="string" id="7125281">`lit{)}`</span><span class="op" id="7125289">}</span><span class="op" id="7125290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125293">{</span><span class="string" id="7125294">`\*`</span><span class="op" id="7125298">,</span>&nbsp;<span class="string" id="7125300">`lit{*}`</span><span class="op" id="7125308">}</span><span class="op" id="7125309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125312">{</span><span class="string" id="7125313">`\+`</span><span class="op" id="7125317">,</span>&nbsp;<span class="string" id="7125319">`lit{+}`</span><span class="op" id="7125327">}</span><span class="op" id="7125328">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125331">{</span><span class="string" id="7125332">`\?`</span><span class="op" id="7125336">,</span>&nbsp;<span class="string" id="7125338">`lit{?}`</span><span class="op" id="7125346">}</span><span class="op" id="7125347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125350">{</span><span class="string" id="7125351">`{`</span><span class="op" id="7125354">,</span>&nbsp;<span class="string" id="7125356">`lit{{}`</span><span class="op" id="7125364">}</span><span class="op" id="7125365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125368">{</span><span class="string" id="7125369">`}`</span><span class="op" id="7125372">,</span>&nbsp;<span class="string" id="7125374">`lit{}}`</span><span class="op" id="7125382">}</span><span class="op" id="7125383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125386">{</span><span class="string" id="7125387">`\.`</span><span class="op" id="7125391">,</span>&nbsp;<span class="string" id="7125393">`lit{.}`</span><span class="op" id="7125401">}</span><span class="op" id="7125402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125405">{</span><span class="string" id="7125406">`\^`</span><span class="op" id="7125410">,</span>&nbsp;<span class="string" id="7125412">`lit{^}`</span><span class="op" id="7125420">}</span><span class="op" id="7125421">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125424">{</span><span class="string" id="7125425">`\$`</span><span class="op" id="7125429">,</span>&nbsp;<span class="string" id="7125431">`lit{$}`</span><span class="op" id="7125439">}</span><span class="op" id="7125440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125443">{</span><span class="string" id="7125444">`\\`</span><span class="op" id="7125448">,</span>&nbsp;<span class="string" id="7125450">`lit{\}`</span><span class="op" id="7125458">}</span><span class="op" id="7125459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125462">{</span><span class="string" id="7125463">`[ace]`</span><span class="op" id="7125470">,</span>&nbsp;<span class="string" id="7125472">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7125492">}</span><span class="op" id="7125493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125496">{</span><span class="string" id="7125497">`[abc]`</span><span class="op" id="7125504">,</span>&nbsp;<span class="string" id="7125506">`cc{0x61-0x63}`</span><span class="op" id="7125521">}</span><span class="op" id="7125522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125525">{</span><span class="string" id="7125526">`[a-z]`</span><span class="op" id="7125533">,</span>&nbsp;<span class="string" id="7125535">`cc{0x61-0x7a}`</span><span class="op" id="7125550">}</span><span class="op" id="7125551">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125554">{</span><span class="string" id="7125555">`[a]`</span><span class="op" id="7125560">,</span>&nbsp;<span class="string" id="7125562">`lit{a}`</span><span class="op" id="7125570">}</span><span class="op" id="7125571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125574">{</span><span class="string" id="7125575">`\-`</span><span class="op" id="7125579">,</span>&nbsp;<span class="string" id="7125581">`lit{-}`</span><span class="op" id="7125589">}</span><span class="op" id="7125590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125593">{</span><span class="string" id="7125594">`-`</span><span class="op" id="7125597">,</span>&nbsp;<span class="string" id="7125599">`lit{-}`</span><span class="op" id="7125607">}</span><span class="op" id="7125608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125611">{</span><span class="string" id="7125612">`\_`</span><span class="op" id="7125616">,</span>&nbsp;<span class="string" id="7125618">`lit{_}`</span><span class="op" id="7125626">}</span><span class="op" id="7125627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125630">{</span><span class="string" id="7125631">`abc`</span><span class="op" id="7125636">,</span>&nbsp;<span class="string" id="7125638">`str{abc}`</span><span class="op" id="7125648">}</span><span class="op" id="7125649">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125652">{</span><span class="string" id="7125653">`abc|def`</span><span class="op" id="7125662">,</span>&nbsp;<span class="string" id="7125664">`alt{str{abc}str{def}}`</span><span class="op" id="7125687">}</span><span class="op" id="7125688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125691">{</span><span class="string" id="7125692">`abc|def|ghi`</span><span class="op" id="7125705">,</span>&nbsp;<span class="string" id="7125707">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7125738">}</span><span class="op" id="7125739">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7125743">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125773">{</span><span class="string" id="7125774">`[[:lower:]]`</span><span class="op" id="7125787">,</span>&nbsp;<span class="string" id="7125789">`cc{0x61-0x7a}`</span><span class="op" id="7125804">}</span><span class="op" id="7125805">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125808">{</span><span class="string" id="7125809">`[a-z]`</span><span class="op" id="7125816">,</span>&nbsp;<span class="string" id="7125818">`cc{0x61-0x7a}`</span><span class="op" id="7125833">}</span><span class="op" id="7125834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125837">{</span><span class="string" id="7125838">`[^[:lower:]]`</span><span class="op" id="7125852">,</span>&nbsp;<span class="string" id="7125854">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7125882">}</span><span class="op" id="7125883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125886">{</span><span class="string" id="7125887">`[[:^lower:]]`</span><span class="op" id="7125901">,</span>&nbsp;<span class="string" id="7125903">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7125931">}</span><span class="op" id="7125932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125935">{</span><span class="string" id="7125936">`(?i)[[:lower:]]`</span><span class="op" id="7125953">,</span>&nbsp;<span class="string" id="7125955">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7125993">}</span><span class="op" id="7125994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7125997">{</span><span class="string" id="7125998">`(?i)[a-z]`</span><span class="op" id="7126009">,</span>&nbsp;<span class="string" id="7126011">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7126049">}</span><span class="op" id="7126050">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126053">{</span><span class="string" id="7126054">`(?i)[^[:lower:]]`</span><span class="op" id="7126072">,</span>&nbsp;<span class="string" id="7126074">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7126138">}</span><span class="op" id="7126139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126142">{</span><span class="string" id="7126143">`(?i)[[:^lower:]]`</span><span class="op" id="7126161">,</span>&nbsp;<span class="string" id="7126163">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7126227">}</span><span class="op" id="7126228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126231">{</span><span class="string" id="7126232">`\d`</span><span class="op" id="7126236">,</span>&nbsp;<span class="string" id="7126238">`cc{0x30-0x39}`</span><span class="op" id="7126253">}</span><span class="op" id="7126254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126257">{</span><span class="string" id="7126258">`\D`</span><span class="op" id="7126262">,</span>&nbsp;<span class="string" id="7126264">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7126292">}</span><span class="op" id="7126293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126296">{</span><span class="string" id="7126297">`\s`</span><span class="op" id="7126301">,</span>&nbsp;<span class="string" id="7126303">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7126329">}</span><span class="op" id="7126330">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126333">{</span><span class="string" id="7126334">`\S`</span><span class="op" id="7126338">,</span>&nbsp;<span class="string" id="7126340">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7126380">}</span><span class="op" id="7126381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126384">{</span><span class="string" id="7126385">`\w`</span><span class="op" id="7126389">,</span>&nbsp;<span class="string" id="7126391">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7126431">}</span><span class="op" id="7126432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126435">{</span><span class="string" id="7126436">`\W`</span><span class="op" id="7126440">,</span>&nbsp;<span class="string" id="7126442">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7126495">}</span><span class="op" id="7126496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126499">{</span><span class="string" id="7126500">`(?i)\w`</span><span class="op" id="7126508">,</span>&nbsp;<span class="string" id="7126510">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7126563">}</span><span class="op" id="7126564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126567">{</span><span class="string" id="7126568">`(?i)\W`</span><span class="op" id="7126576">,</span>&nbsp;<span class="string" id="7126578">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7126657">}</span><span class="op" id="7126658">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126661">{</span><span class="string" id="7126662">`[^\\]`</span><span class="op" id="7126669">,</span>&nbsp;<span class="string" id="7126671">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7126699">}</span><span class="op" id="7126700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7126703">//&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7126747">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126794">{</span><span class="string" id="7126795">`\p{Braille}`</span><span class="op" id="7126808">,</span>&nbsp;<span class="string" id="7126810">`cc{0x2800-0x28ff}`</span><span class="op" id="7126829">}</span><span class="op" id="7126830">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126833">{</span><span class="string" id="7126834">`\P{Braille}`</span><span class="op" id="7126847">,</span>&nbsp;<span class="string" id="7126849">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7126881">}</span><span class="op" id="7126882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126885">{</span><span class="string" id="7126886">`\p{^Braille}`</span><span class="op" id="7126900">,</span>&nbsp;<span class="string" id="7126902">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7126934">}</span><span class="op" id="7126935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126938">{</span><span class="string" id="7126939">`\P{^Braille}`</span><span class="op" id="7126953">,</span>&nbsp;<span class="string" id="7126955">`cc{0x2800-0x28ff}`</span><span class="op" id="7126974">}</span><span class="op" id="7126975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7126978">{</span><span class="string" id="7126979">`\pZ`</span><span class="op" id="7126984">,</span>&nbsp;<span class="string" id="7126986">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7127057">}</span><span class="op" id="7127058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127061">{</span><span class="string" id="7127062">`[\p{Braille}]`</span><span class="op" id="7127077">,</span>&nbsp;<span class="string" id="7127079">`cc{0x2800-0x28ff}`</span><span class="op" id="7127098">}</span><span class="op" id="7127099">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127102">{</span><span class="string" id="7127103">`[\P{Braille}]`</span><span class="op" id="7127118">,</span>&nbsp;<span class="string" id="7127120">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7127152">}</span><span class="op" id="7127153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127156">{</span><span class="string" id="7127157">`[\p{^Braille}]`</span><span class="op" id="7127173">,</span>&nbsp;<span class="string" id="7127175">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7127207">}</span><span class="op" id="7127208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127211">{</span><span class="string" id="7127212">`[\P{^Braille}]`</span><span class="op" id="7127228">,</span>&nbsp;<span class="string" id="7127230">`cc{0x2800-0x28ff}`</span><span class="op" id="7127249">}</span><span class="op" id="7127250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127253">{</span><span class="string" id="7127254">`[\pZ]`</span><span class="op" id="7127261">,</span>&nbsp;<span class="string" id="7127263">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7127334">}</span><span class="op" id="7127335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127338">{</span><span class="string" id="7127339">`\p{Lu}`</span><span class="op" id="7127347">,</span>&nbsp;<span class="ident" id="7127349">mkCharClass</span><span class="op" id="7127360">(</span><span class="ident" id="7127361">unicode</span><span class="op" id="7127368">.</span><span class="ident" id="7127369">IsUpper</span><span class="op" id="7127376">)</span><span class="op" id="7127377">}</span><span class="op" id="7127378">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127381">{</span><span class="string" id="7127382">`[\p{Lu}]`</span><span class="op" id="7127392">,</span>&nbsp;<span class="ident" id="7127394">mkCharClass</span><span class="op" id="7127405">(</span><span class="ident" id="7127406">unicode</span><span class="op" id="7127413">.</span><span class="ident" id="7127414">IsUpper</span><span class="op" id="7127421">)</span><span class="op" id="7127422">}</span><span class="op" id="7127423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127426">{</span><span class="string" id="7127427">`(?i)[\p{Lu}]`</span><span class="op" id="7127441">,</span>&nbsp;<span class="ident" id="7127443">mkCharClass</span><span class="op" id="7127454">(</span><span class="ident" id="7127455">isUpperFold</span><span class="op" id="7127466">)</span><span class="op" id="7127467">}</span><span class="op" id="7127468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127471">{</span><span class="string" id="7127472">`\p{Any}`</span><span class="op" id="7127481">,</span>&nbsp;<span class="string" id="7127483">`dot{}`</span><span class="op" id="7127490">}</span><span class="op" id="7127491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127494">{</span><span class="string" id="7127495">`\p{^Any}`</span><span class="op" id="7127505">,</span>&nbsp;<span class="string" id="7127507">`cc{}`</span><span class="op" id="7127513">}</span><span class="op" id="7127514">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7127518">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127534">{</span><span class="string" id="7127535">`[\012-\234]\141`</span><span class="op" id="7127552">,</span>&nbsp;<span class="string" id="7127554">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7127579">}</span><span class="op" id="7127580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127583">{</span><span class="string" id="7127584">`[\x{41}-\x7a]\x61`</span><span class="op" id="7127603">,</span>&nbsp;<span class="string" id="7127605">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7127631">}</span><span class="op" id="7127632">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7127636">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127678">{</span><span class="string" id="7127679">`a{,2}`</span><span class="op" id="7127686">,</span>&nbsp;<span class="string" id="7127688">`str{a{,2}}`</span><span class="op" id="7127700">}</span><span class="op" id="7127701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127704">{</span><span class="string" id="7127705">`\.\^\$\\`</span><span class="op" id="7127715">,</span>&nbsp;<span class="string" id="7127717">`str{.^$\}`</span><span class="op" id="7127728">}</span><span class="op" id="7127729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127732">{</span><span class="string" id="7127733">`[a-zABC]`</span><span class="op" id="7127743">,</span>&nbsp;<span class="string" id="7127745">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7127770">}</span><span class="op" id="7127771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127774">{</span><span class="string" id="7127775">`[^a]`</span><span class="op" id="7127781">,</span>&nbsp;<span class="string" id="7127783">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7127811">}</span><span class="op" id="7127812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127815">{</span><span class="string" id="7127816">`[α-ε☺]`</span><span class="op" id="7127828">,</span>&nbsp;<span class="string" id="7127830">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7127854">}</span><span class="op" id="7127855">,</span>&nbsp;<span class="comment" id="7127857">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127867">{</span><span class="string" id="7127868">`a*{`</span><span class="op" id="7127873">,</span>&nbsp;<span class="string" id="7127875">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7127900">}</span><span class="op" id="7127901">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7127905">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127926">{</span><span class="string" id="7127927">`(?:ab)*`</span><span class="op" id="7127936">,</span>&nbsp;<span class="string" id="7127938">`star{str{ab}}`</span><span class="op" id="7127953">}</span><span class="op" id="7127954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127957">{</span><span class="string" id="7127958">`(ab)*`</span><span class="op" id="7127965">,</span>&nbsp;<span class="string" id="7127967">`star{cap{str{ab}}}`</span><span class="op" id="7127987">}</span><span class="op" id="7127988">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7127991">{</span><span class="string" id="7127992">`ab|cd`</span><span class="op" id="7127999">,</span>&nbsp;<span class="string" id="7128001">`alt{str{ab}str{cd}}`</span><span class="op" id="7128022">}</span><span class="op" id="7128023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128026">{</span><span class="string" id="7128027">`a(b|c)d`</span><span class="op" id="7128036">,</span>&nbsp;<span class="string" id="7128038">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7128075">}</span><span class="op" id="7128076">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7128080">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128101">{</span><span class="string" id="7128102">`(?:a)`</span><span class="op" id="7128109">,</span>&nbsp;<span class="string" id="7128111">`lit{a}`</span><span class="op" id="7128119">}</span><span class="op" id="7128120">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128123">{</span><span class="string" id="7128124">`(?:ab)(?:cd)`</span><span class="op" id="7128138">,</span>&nbsp;<span class="string" id="7128140">`str{abcd}`</span><span class="op" id="7128151">}</span><span class="op" id="7128152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128155">{</span><span class="string" id="7128156">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7128174">,</span>&nbsp;<span class="string" id="7128176">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7128231">}</span><span class="op" id="7128232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128235">{</span><span class="string" id="7128236">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7128257">,</span>&nbsp;<span class="string" id="7128259">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7128314">}</span><span class="op" id="7128315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128318">{</span><span class="string" id="7128319">`(?:a|b)|(?:c|d)`</span><span class="op" id="7128336">,</span>&nbsp;<span class="string" id="7128338">`cc{0x61-0x64}`</span><span class="op" id="7128353">}</span><span class="op" id="7128354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128357">{</span><span class="string" id="7128358">`a|.`</span><span class="op" id="7128363">,</span>&nbsp;<span class="string" id="7128365">`dot{}`</span><span class="op" id="7128372">}</span><span class="op" id="7128373">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128376">{</span><span class="string" id="7128377">`.|a`</span><span class="op" id="7128382">,</span>&nbsp;<span class="string" id="7128384">`dot{}`</span><span class="op" id="7128391">}</span><span class="op" id="7128392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128395">{</span><span class="string" id="7128396">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7128423">,</span>&nbsp;<span class="string" id="7128425">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7128475">}</span><span class="op" id="7128476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128479">{</span><span class="string" id="7128480">`(?:[abc]|A|Z)`</span><span class="op" id="7128495">,</span>&nbsp;<span class="string" id="7128497">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7128522">}</span><span class="op" id="7128523">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7128527">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128557">{</span><span class="string" id="7128558">`\Q+|*?{[\E`</span><span class="op" id="7128570">,</span>&nbsp;<span class="string" id="7128572">`str{+|*?{[}`</span><span class="op" id="7128585">}</span><span class="op" id="7128586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128589">{</span><span class="string" id="7128590">`\Q+\E+`</span><span class="op" id="7128598">,</span>&nbsp;<span class="string" id="7128600">`plus{lit{+}}`</span><span class="op" id="7128614">}</span><span class="op" id="7128615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128618">{</span><span class="string" id="7128619">`\Q\\E`</span><span class="op" id="7128626">,</span>&nbsp;<span class="string" id="7128628">`lit{\}`</span><span class="op" id="7128636">}</span><span class="op" id="7128637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128640">{</span><span class="string" id="7128641">`\Q\\\E`</span><span class="op" id="7128649">,</span>&nbsp;<span class="string" id="7128651">`str{\\}`</span><span class="op" id="7128660">}</span><span class="op" id="7128661">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7128665">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128689">{</span><span class="string" id="7128690">`(?m)^`</span><span class="op" id="7128697">,</span>&nbsp;<span class="string" id="7128699">`bol{}`</span><span class="op" id="7128706">}</span><span class="op" id="7128707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128710">{</span><span class="string" id="7128711">`(?m)$`</span><span class="op" id="7128718">,</span>&nbsp;<span class="string" id="7128720">`eol{}`</span><span class="op" id="7128727">}</span><span class="op" id="7128728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128731">{</span><span class="string" id="7128732">`(?-m)^`</span><span class="op" id="7128740">,</span>&nbsp;<span class="string" id="7128742">`bot{}`</span><span class="op" id="7128749">}</span><span class="op" id="7128750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128753">{</span><span class="string" id="7128754">`(?-m)$`</span><span class="op" id="7128762">,</span>&nbsp;<span class="string" id="7128764">`eot{}`</span><span class="op" id="7128771">}</span><span class="op" id="7128772">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128775">{</span><span class="string" id="7128776">`(?m)\A`</span><span class="op" id="7128784">,</span>&nbsp;<span class="string" id="7128786">`bot{}`</span><span class="op" id="7128793">}</span><span class="op" id="7128794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128797">{</span><span class="string" id="7128798">`(?m)\z`</span><span class="op" id="7128806">,</span>&nbsp;<span class="string" id="7128808">`eot{\z}`</span><span class="op" id="7128817">}</span><span class="op" id="7128818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128821">{</span><span class="string" id="7128822">`(?-m)\A`</span><span class="op" id="7128831">,</span>&nbsp;<span class="string" id="7128833">`bot{}`</span><span class="op" id="7128840">}</span><span class="op" id="7128841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128844">{</span><span class="string" id="7128845">`(?-m)\z`</span><span class="op" id="7128854">,</span>&nbsp;<span class="string" id="7128856">`eot{\z}`</span><span class="op" id="7128865">}</span><span class="op" id="7128866">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7128870">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128894">{</span><span class="string" id="7128895">`(?P&lt;name&gt;a)`</span><span class="op" id="7128908">,</span>&nbsp;<span class="string" id="7128910">`cap{name:lit{a}}`</span><span class="op" id="7128928">}</span><span class="op" id="7128929">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7128933">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128958">{</span><span class="string" id="7128959">`[Aa]`</span><span class="op" id="7128965">,</span>&nbsp;<span class="string" id="7128967">`litfold{A}`</span><span class="op" id="7128979">}</span><span class="op" id="7128980">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7128983">{</span><span class="string" id="7128984">`[\x{100}\x{101}]`</span><span class="op" id="7129002">,</span>&nbsp;<span class="string" id="7129004">`litfold{Ā}`</span><span class="op" id="7129017">}</span><span class="op" id="7129018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129021">{</span><span class="string" id="7129022">`[Δδ]`</span><span class="op" id="7129030">,</span>&nbsp;<span class="string" id="7129032">`litfold{Δ}`</span><span class="op" id="7129045">}</span><span class="op" id="7129046">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129050">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129062">{</span><span class="string" id="7129063">`abcde`</span><span class="op" id="7129070">,</span>&nbsp;<span class="string" id="7129072">`str{abcde}`</span><span class="op" id="7129084">}</span><span class="op" id="7129085">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129088">{</span><span class="string" id="7129089">`[Aa][Bb]cd`</span><span class="op" id="7129101">,</span>&nbsp;<span class="string" id="7129103">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7129128">}</span><span class="op" id="7129129">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129133">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129148">{</span><span class="string" id="7129149">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7129170">,</span>&nbsp;<span class="string" id="7129172">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7129251">}</span><span class="op" id="7129252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129255">{</span><span class="string" id="7129256">`ax+y|ax+z|ay+w`</span><span class="op" id="7129272">,</span>&nbsp;<span class="string" id="7129274">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7129345">}</span><span class="op" id="7129346">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129350">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129365">{</span><span class="string" id="7129366">`(?:.)`</span><span class="op" id="7129373">,</span>&nbsp;<span class="string" id="7129375">`dot{}`</span><span class="op" id="7129382">}</span><span class="op" id="7129383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129386">{</span><span class="string" id="7129387">`(?:x|(?:xa))`</span><span class="op" id="7129401">,</span>&nbsp;<span class="string" id="7129403">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7129432">}</span><span class="op" id="7129433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129436">{</span><span class="string" id="7129437">`(?:.|(?:.a))`</span><span class="op" id="7129451">,</span>&nbsp;<span class="string" id="7129453">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7129481">}</span><span class="op" id="7129482">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129485">{</span><span class="string" id="7129486">`(?:A(?:A|a))`</span><span class="op" id="7129500">,</span>&nbsp;<span class="string" id="7129502">`cat{lit{A}litfold{A}}`</span><span class="op" id="7129525">}</span><span class="op" id="7129526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129529">{</span><span class="string" id="7129530">`(?:A|a)`</span><span class="op" id="7129539">,</span>&nbsp;<span class="string" id="7129541">`litfold{A}`</span><span class="op" id="7129553">}</span><span class="op" id="7129554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129557">{</span><span class="string" id="7129558">`A|(?:A|a)`</span><span class="op" id="7129569">,</span>&nbsp;<span class="string" id="7129571">`litfold{A}`</span><span class="op" id="7129583">}</span><span class="op" id="7129584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129587">{</span><span class="string" id="7129588">`(?s).`</span><span class="op" id="7129595">,</span>&nbsp;<span class="string" id="7129597">`dot{}`</span><span class="op" id="7129604">}</span><span class="op" id="7129605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129608">{</span><span class="string" id="7129609">`(?-s).`</span><span class="op" id="7129617">,</span>&nbsp;<span class="string" id="7129619">`dnl{}`</span><span class="op" id="7129626">}</span><span class="op" id="7129627">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129630">{</span><span class="string" id="7129631">`(?:(?:^).)`</span><span class="op" id="7129643">,</span>&nbsp;<span class="string" id="7129645">`cat{bol{}dot{}}`</span><span class="op" id="7129662">}</span><span class="op" id="7129663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129666">{</span><span class="string" id="7129667">`(?-s)(?:(?:^).)`</span><span class="op" id="7129684">,</span>&nbsp;<span class="string" id="7129686">`cat{bol{}dnl{}}`</span><span class="op" id="7129703">}</span><span class="op" id="7129704">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129708">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129729">{</span><span class="string" id="7129730">`abc|abd`</span><span class="op" id="7129739">,</span>&nbsp;<span class="string" id="7129741">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7129768">}</span><span class="op" id="7129769">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129772">{</span><span class="string" id="7129773">`a(?:b)c|abd`</span><span class="op" id="7129786">,</span>&nbsp;<span class="string" id="7129788">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7129815">}</span><span class="op" id="7129816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129819">{</span><span class="string" id="7129820">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7129841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7129845">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7129899">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7129904">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7129932">}</span><span class="op" id="7129933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129936">{</span><span class="string" id="7129937">`abc|x|abd`</span><span class="op" id="7129948">,</span>&nbsp;<span class="string" id="7129950">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7129979">}</span><span class="op" id="7129980">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7129983">{</span><span class="string" id="7129984">`(?i)abc|ABD`</span><span class="op" id="7129997">,</span>&nbsp;<span class="string" id="7129999">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7130040">}</span><span class="op" id="7130041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130044">{</span><span class="string" id="7130045">`[ab]c|[ab]d`</span><span class="op" id="7130058">,</span>&nbsp;<span class="string" id="7130060">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7130093">}</span><span class="op" id="7130094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130097">{</span><span class="string" id="7130098">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7130121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7130125">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7130164">}</span><span class="op" id="7130165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130168">{</span><span class="string" id="7130169">`x{2}|x{2}[0-9]`</span><span class="op" id="7130185">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7130189">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7130234">}</span><span class="op" id="7130235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130238">{</span><span class="string" id="7130239">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7130257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7130261">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7130318">}</span><span class="op" id="7130319">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7130323">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130346">{</span><span class="string" id="7130347">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7130397">,</span>&nbsp;<span class="string" id="7130399">``</span><span class="op" id="7130401">}</span><span class="op" id="7130402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130405">{</span><span class="string" id="7130406">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7130459">,</span>&nbsp;<span class="string" id="7130461">``</span><span class="op" id="7130463">}</span><span class="op" id="7130464">,</span><br>
<span class="lineno"></span><span class="op" id="7130466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7130469">const</span>&nbsp;<span class="ident" id="7130475">testFlags</span>&nbsp;<span class="op" id="7130485">=</span>&nbsp;<span class="ident" id="7130487">MatchNL</span>&nbsp;<span class="op" id="7130495">|</span>&nbsp;<span class="ident" id="7130497">PerlX</span>&nbsp;<span class="op" id="7130503">|</span>&nbsp;<span class="ident" id="7130505">UnicodeGroups</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7130520">func</span>&nbsp;<span class="ident" id="7130525">TestParseSimple</span><span class="op" id="7130540">(</span><span class="ident" id="7130541">t</span>&nbsp;<span class="op" id="7130543">*</span><span class="ident" id="7130544">testing</span><span class="op" id="7130551">.</span><span class="ident" id="7130552">T</span><span class="op" id="7130553">)</span>&nbsp;<span class="op" id="7130555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7130558">testParseDump</span><span class="op" id="7130571">(</span><span class="ident" id="7130572">t</span><span class="op" id="7130573">,</span>&nbsp;<span class="ident" id="7130575">parseTests</span><span class="op" id="7130585">,</span>&nbsp;<span class="ident" id="7130587">testFlags</span><span class="op" id="7130596">)</span><br>
<span class="lineno"></span><span class="op" id="7130598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7130601">var</span>&nbsp;<span class="ident" id="7130605">foldcaseTests</span>&nbsp;<span class="op" id="7130619">=</span>&nbsp;<span class="op" id="7130621">[</span><span class="op" id="7130622">]</span><span class="ident" id="7130623">parseTest</span><span class="op" id="7130632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130635">{</span><span class="string" id="7130636">`AbCdE`</span><span class="op" id="7130643">,</span>&nbsp;<span class="string" id="7130645">`strfold{ABCDE}`</span><span class="op" id="7130661">}</span><span class="op" id="7130662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130665">{</span><span class="string" id="7130666">`[Aa]`</span><span class="op" id="7130672">,</span>&nbsp;<span class="string" id="7130674">`litfold{A}`</span><span class="op" id="7130686">}</span><span class="op" id="7130687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130690">{</span><span class="string" id="7130691">`a`</span><span class="op" id="7130694">,</span>&nbsp;<span class="string" id="7130696">`litfold{A}`</span><span class="op" id="7130708">}</span><span class="op" id="7130709">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7130713">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7130782">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130830">{</span><span class="string" id="7130831">`A[F-g]`</span><span class="op" id="7130839">,</span>&nbsp;<span class="string" id="7130841">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7130884">}</span><span class="op" id="7130885">,</span>&nbsp;<span class="comment" id="7130887">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130904">{</span><span class="string" id="7130905">`[[:upper:]]`</span><span class="op" id="7130918">,</span>&nbsp;<span class="string" id="7130920">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7130958">}</span><span class="op" id="7130959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7130962">{</span><span class="string" id="7130963">`[[:lower:]]`</span><span class="op" id="7130976">,</span>&nbsp;<span class="string" id="7130978">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7131016">}</span><span class="op" id="7131017">,</span><br>
<span class="lineno">225</span><span class="op" id="7131019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131022">func</span>&nbsp;<span class="ident" id="7131027">TestParseFoldCase</span><span class="op" id="7131044">(</span><span class="ident" id="7131045">t</span>&nbsp;<span class="op" id="7131047">*</span><span class="ident" id="7131048">testing</span><span class="op" id="7131055">.</span><span class="ident" id="7131056">T</span><span class="op" id="7131057">)</span>&nbsp;<span class="op" id="7131059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7131062">testParseDump</span><span class="op" id="7131075">(</span><span class="ident" id="7131076">t</span><span class="op" id="7131077">,</span>&nbsp;<span class="ident" id="7131079">foldcaseTests</span><span class="op" id="7131092">,</span>&nbsp;<span class="ident" id="7131094">FoldCase</span><span class="op" id="7131102">)</span><br>
<span class="lineno"></span><span class="op" id="7131104">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7131107">var</span>&nbsp;<span class="ident" id="7131111">literalTests</span>&nbsp;<span class="op" id="7131124">=</span>&nbsp;<span class="op" id="7131126">[</span><span class="op" id="7131127">]</span><span class="ident" id="7131128">parseTest</span><span class="op" id="7131137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131140">{</span><span class="string" id="7131141">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7131163">,</span>&nbsp;<span class="string" id="7131165">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7131192">}</span><span class="op" id="7131193">,</span><br>
<span class="lineno"></span><span class="op" id="7131195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7131198">func</span>&nbsp;<span class="ident" id="7131203">TestParseLiteral</span><span class="op" id="7131219">(</span><span class="ident" id="7131220">t</span>&nbsp;<span class="op" id="7131222">*</span><span class="ident" id="7131223">testing</span><span class="op" id="7131230">.</span><span class="ident" id="7131231">T</span><span class="op" id="7131232">)</span>&nbsp;<span class="op" id="7131234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7131237">testParseDump</span><span class="op" id="7131250">(</span><span class="ident" id="7131251">t</span><span class="op" id="7131252">,</span>&nbsp;<span class="ident" id="7131254">literalTests</span><span class="op" id="7131266">,</span>&nbsp;<span class="ident" id="7131268">Literal</span><span class="op" id="7131275">)</span><br>
<span class="lineno"></span><span class="op" id="7131277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131280">var</span>&nbsp;<span class="ident" id="7131284">matchnlTests</span>&nbsp;<span class="op" id="7131297">=</span>&nbsp;<span class="op" id="7131299">[</span><span class="op" id="7131300">]</span><span class="ident" id="7131301">parseTest</span><span class="op" id="7131310">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131313">{</span><span class="string" id="7131314">`.`</span><span class="op" id="7131317">,</span>&nbsp;<span class="string" id="7131319">`dot{}`</span><span class="op" id="7131326">}</span><span class="op" id="7131327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131330">{</span><span class="string" id="7131331">&#34;\n&#34;</span><span class="op" id="7131335">,</span>&nbsp;<span class="string" id="7131337">&#34;lit{\n}&#34;</span><span class="op" id="7131346">}</span><span class="op" id="7131347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131350">{</span><span class="string" id="7131351">`[^a]`</span><span class="op" id="7131357">,</span>&nbsp;<span class="string" id="7131359">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7131387">}</span><span class="op" id="7131388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131391">{</span><span class="string" id="7131392">`[a\n]`</span><span class="op" id="7131399">,</span>&nbsp;<span class="string" id="7131401">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7131415">}</span><span class="op" id="7131416">,</span><br>
<span class="lineno"></span><span class="op" id="7131418">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7131421">func</span>&nbsp;<span class="ident" id="7131426">TestParseMatchNL</span><span class="op" id="7131442">(</span><span class="ident" id="7131443">t</span>&nbsp;<span class="op" id="7131445">*</span><span class="ident" id="7131446">testing</span><span class="op" id="7131453">.</span><span class="ident" id="7131454">T</span><span class="op" id="7131455">)</span>&nbsp;<span class="op" id="7131457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7131460">testParseDump</span><span class="op" id="7131473">(</span><span class="ident" id="7131474">t</span><span class="op" id="7131475">,</span>&nbsp;<span class="ident" id="7131477">matchnlTests</span><span class="op" id="7131489">,</span>&nbsp;<span class="ident" id="7131491">MatchNL</span><span class="op" id="7131498">)</span><br>
<span class="lineno"></span><span class="op" id="7131500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7131503">var</span>&nbsp;<span class="ident" id="7131507">nomatchnlTests</span>&nbsp;<span class="op" id="7131522">=</span>&nbsp;<span class="op" id="7131524">[</span><span class="op" id="7131525">]</span><span class="ident" id="7131526">parseTest</span><span class="op" id="7131535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131538">{</span><span class="string" id="7131539">`.`</span><span class="op" id="7131542">,</span>&nbsp;<span class="string" id="7131544">`dnl{}`</span><span class="op" id="7131551">}</span><span class="op" id="7131552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131555">{</span><span class="string" id="7131556">&#34;\n&#34;</span><span class="op" id="7131560">,</span>&nbsp;<span class="string" id="7131562">&#34;lit{\n}&#34;</span><span class="op" id="7131571">}</span><span class="op" id="7131572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131575">{</span><span class="string" id="7131576">`[^a]`</span><span class="op" id="7131582">,</span>&nbsp;<span class="string" id="7131584">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7131620">}</span><span class="op" id="7131621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131624">{</span><span class="string" id="7131625">`[a\n]`</span><span class="op" id="7131632">,</span>&nbsp;<span class="string" id="7131634">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7131648">}</span><span class="op" id="7131649">,</span><br>
<span class="lineno">255</span><span class="op" id="7131651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131654">func</span>&nbsp;<span class="ident" id="7131659">TestParseNoMatchNL</span><span class="op" id="7131677">(</span><span class="ident" id="7131678">t</span>&nbsp;<span class="op" id="7131680">*</span><span class="ident" id="7131681">testing</span><span class="op" id="7131688">.</span><span class="ident" id="7131689">T</span><span class="op" id="7131690">)</span>&nbsp;<span class="op" id="7131692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7131695">testParseDump</span><span class="op" id="7131708">(</span><span class="ident" id="7131709">t</span><span class="op" id="7131710">,</span>&nbsp;<span class="ident" id="7131712">nomatchnlTests</span><span class="op" id="7131726">,</span>&nbsp;<span class="num" id="7131728">0</span><span class="op" id="7131729">)</span><br>
<span class="lineno"></span><span class="op" id="7131731">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7131734">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7131757">func</span>&nbsp;<span class="ident" id="7131762">testParseDump</span><span class="op" id="7131775">(</span><span class="ident" id="7131776">t</span>&nbsp;<span class="op" id="7131778">*</span><span class="ident" id="7131779">testing</span><span class="op" id="7131786">.</span><span class="ident" id="7131787">T</span><span class="op" id="7131788">,</span>&nbsp;<span class="ident" id="7131790">tests</span>&nbsp;<span class="op" id="7131796">[</span><span class="op" id="7131797">]</span><span class="ident" id="7131798">parseTest</span><span class="op" id="7131807">,</span>&nbsp;<span class="ident" id="7131809">flags</span>&nbsp;<span class="ident" id="7131815">Flags</span><span class="op" id="7131820">)</span>&nbsp;<span class="op" id="7131822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7131825">for</span>&nbsp;<span class="ident" id="7131829">_</span><span class="op" id="7131830">,</span>&nbsp;<span class="ident" id="7131832">tt</span>&nbsp;<span class="op" id="7131835">:=</span>&nbsp;<span class="keyword" id="7131838">range</span>&nbsp;<span class="ident" id="7131844">tests</span>&nbsp;<span class="op" id="7131850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7131854">re</span><span class="op" id="7131856">,</span>&nbsp;<span class="ident" id="7131858">err</span>&nbsp;<span class="op" id="7131862">:=</span>&nbsp;<span class="ident" id="7131865">Parse</span><span class="op" id="7131870">(</span><span class="ident" id="7131871">tt</span><span class="op" id="7131873">.</span><span class="ident" id="7131874">Regexp</span><span class="op" id="7131880">,</span>&nbsp;<span class="ident" id="7131882">flags</span><span class="op" id="7131887">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7131891">if</span>&nbsp;<span class="ident" id="7131894">err</span>&nbsp;<span class="op" id="7131898">!=</span>&nbsp;<span class="builtintype" id="7131901">nil</span>&nbsp;<span class="op" id="7131905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7131910">t</span><span class="op" id="7131911">.</span><span class="ident" id="7131912">Errorf</span><span class="op" id="7131918">(</span><span class="string" id="7131919">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7131935">,</span>&nbsp;<span class="ident" id="7131937">tt</span><span class="op" id="7131939">.</span><span class="ident" id="7131940">Regexp</span><span class="op" id="7131946">,</span>&nbsp;<span class="ident" id="7131948">err</span><span class="op" id="7131951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7131956">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7131967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7131971">if</span>&nbsp;<span class="ident" id="7131974">tt</span><span class="op" id="7131976">.</span><span class="ident" id="7131977">Dump</span>&nbsp;<span class="op" id="7131982">==</span>&nbsp;<span class="string" id="7131985">&#34;&#34;</span>&nbsp;<span class="op" id="7131988">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7131993">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7132036">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7132047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132051">d</span>&nbsp;<span class="op" id="7132053">:=</span>&nbsp;<span class="ident" id="7132056">dump</span><span class="op" id="7132060">(</span><span class="ident" id="7132061">re</span><span class="op" id="7132063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7132067">if</span>&nbsp;<span class="ident" id="7132070">d</span>&nbsp;<span class="op" id="7132072">!=</span>&nbsp;<span class="ident" id="7132075">tt</span><span class="op" id="7132077">.</span><span class="ident" id="7132078">Dump</span>&nbsp;<span class="op" id="7132083">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132088">t</span><span class="op" id="7132089">.</span><span class="ident" id="7132090">Errorf</span><span class="op" id="7132096">(</span><span class="string" id="7132097">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7132131">,</span>&nbsp;<span class="ident" id="7132133">tt</span><span class="op" id="7132135">.</span><span class="ident" id="7132136">Regexp</span><span class="op" id="7132142">,</span>&nbsp;<span class="ident" id="7132144">d</span><span class="op" id="7132145">,</span>&nbsp;<span class="ident" id="7132147">tt</span><span class="op" id="7132149">.</span><span class="ident" id="7132150">Dump</span><span class="op" id="7132154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7132158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7132161">}</span><br>
<span class="lineno"></span><span class="op" id="7132163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7132166">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7132227">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7132256">func</span>&nbsp;<span class="ident" id="7132261">dump</span><span class="op" id="7132265">(</span><span class="ident" id="7132266">re</span>&nbsp;<span class="op" id="7132269">*</span><span class="ident" id="7132270">Regexp</span><span class="op" id="7132276">)</span>&nbsp;<span class="builtintype" id="7132278">string</span>&nbsp;<span class="op" id="7132285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7132288">var</span>&nbsp;<span class="ident" id="7132292">b</span>&nbsp;<span class="ident" id="7132294">bytes</span><span class="op" id="7132299">.</span><span class="ident" id="7132300">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132308">dumpRegexp</span><span class="op" id="7132318">(</span><span class="op" id="7132319">&amp;</span><span class="ident" id="7132320">b</span><span class="op" id="7132321">,</span>&nbsp;<span class="ident" id="7132323">re</span><span class="op" id="7132325">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7132328">return</span>&nbsp;<span class="ident" id="7132335">b</span><span class="op" id="7132336">.</span><span class="ident" id="7132337">String</span><span class="op" id="7132343">(</span><span class="op" id="7132344">)</span><br>
<span class="lineno"></span><span class="op" id="7132346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7132349">var</span>&nbsp;<span class="ident" id="7132353">opNames</span>&nbsp;<span class="op" id="7132361">=</span>&nbsp;<span class="op" id="7132363">[</span><span class="op" id="7132364">]</span><span class="builtintype" id="7132365">string</span><span class="op" id="7132371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132374">OpNoMatch</span><span class="op" id="7132383">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132392">&#34;no&#34;</span><span class="op" id="7132396">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132399">OpEmptyMatch</span><span class="op" id="7132411">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132417">&#34;emp&#34;</span><span class="op" id="7132422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132425">OpLiteral</span><span class="op" id="7132434">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132443">&#34;lit&#34;</span><span class="op" id="7132448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132451">OpCharClass</span><span class="op" id="7132462">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132469">&#34;cc&#34;</span><span class="op" id="7132473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132476">OpAnyCharNotNL</span><span class="op" id="7132490">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7132494">&#34;dnl&#34;</span><span class="op" id="7132499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132502">OpAnyChar</span><span class="op" id="7132511">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132520">&#34;dot&#34;</span><span class="op" id="7132525">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132528">OpBeginLine</span><span class="op" id="7132539">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132546">&#34;bol&#34;</span><span class="op" id="7132551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132554">OpEndLine</span><span class="op" id="7132563">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132572">&#34;eol&#34;</span><span class="op" id="7132577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132580">OpBeginText</span><span class="op" id="7132591">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132598">&#34;bot&#34;</span><span class="op" id="7132603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132606">OpEndText</span><span class="op" id="7132615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132624">&#34;eot&#34;</span><span class="op" id="7132629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132632">OpWordBoundary</span><span class="op" id="7132646">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7132650">&#34;wb&#34;</span><span class="op" id="7132654">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132657">OpNoWordBoundary</span><span class="op" id="7132673">:</span>&nbsp;<span class="string" id="7132675">&#34;nwb&#34;</span><span class="op" id="7132680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132683">OpCapture</span><span class="op" id="7132692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132701">&#34;cap&#34;</span><span class="op" id="7132706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132709">OpStar</span><span class="op" id="7132715">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132727">&#34;star&#34;</span><span class="op" id="7132733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132736">OpPlus</span><span class="op" id="7132742">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132754">&#34;plus&#34;</span><span class="op" id="7132760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132763">OpQuest</span><span class="op" id="7132770">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132781">&#34;que&#34;</span><span class="op" id="7132786">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132789">OpRepeat</span><span class="op" id="7132797">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132807">&#34;rep&#34;</span><span class="op" id="7132812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132815">OpConcat</span><span class="op" id="7132823">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132833">&#34;cat&#34;</span><span class="op" id="7132838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7132841">OpAlternate</span><span class="op" id="7132852">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7132859">&#34;alt&#34;</span><span class="op" id="7132864">,</span><br>
<span class="lineno"></span><span class="op" id="7132866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7132869">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7132945">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7133021">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7133059">func</span>&nbsp;<span class="ident" id="7133064">dumpRegexp</span><span class="op" id="7133074">(</span><span class="ident" id="7133075">b</span>&nbsp;<span class="op" id="7133077">*</span><span class="ident" id="7133078">bytes</span><span class="op" id="7133083">.</span><span class="ident" id="7133084">Buffer</span><span class="op" id="7133090">,</span>&nbsp;<span class="ident" id="7133092">re</span>&nbsp;<span class="op" id="7133095">*</span><span class="ident" id="7133096">Regexp</span><span class="op" id="7133102">)</span>&nbsp;<span class="op" id="7133104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133107">if</span>&nbsp;<span class="builtintype" id="7133110">int</span><span class="op" id="7133113">(</span><span class="ident" id="7133114">re</span><span class="op" id="7133116">.</span><span class="ident" id="7133117">Op</span><span class="op" id="7133119">)</span>&nbsp;<span class="op" id="7133121">&gt;=</span>&nbsp;<span class="builtinfunc" id="7133124">len</span><span class="op" id="7133127">(</span><span class="ident" id="7133128">opNames</span><span class="op" id="7133135">)</span>&nbsp;<span class="op" id="7133137">||</span>&nbsp;<span class="ident" id="7133140">opNames</span><span class="op" id="7133147">[</span><span class="ident" id="7133148">re</span><span class="op" id="7133150">.</span><span class="ident" id="7133151">Op</span><span class="op" id="7133153">]</span>&nbsp;<span class="op" id="7133155">==</span>&nbsp;<span class="string" id="7133158">&#34;&#34;</span>&nbsp;<span class="op" id="7133161">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133165">fmt</span><span class="op" id="7133168">.</span><span class="ident" id="7133169">Fprintf</span><span class="op" id="7133176">(</span><span class="ident" id="7133177">b</span><span class="op" id="7133178">,</span>&nbsp;<span class="string" id="7133180">&#34;op%d&#34;</span><span class="op" id="7133186">,</span>&nbsp;<span class="ident" id="7133188">re</span><span class="op" id="7133190">.</span><span class="ident" id="7133191">Op</span><span class="op" id="7133193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133196">}</span>&nbsp;<span class="keyword" id="7133198">else</span>&nbsp;<span class="op" id="7133203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133207">switch</span>&nbsp;<span class="ident" id="7133214">re</span><span class="op" id="7133216">.</span><span class="ident" id="7133217">Op</span>&nbsp;<span class="op" id="7133220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133224">default</span><span class="op" id="7133231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133236">b</span><span class="op" id="7133237">.</span><span class="ident" id="7133238">WriteString</span><span class="op" id="7133249">(</span><span class="ident" id="7133250">opNames</span><span class="op" id="7133257">[</span><span class="ident" id="7133258">re</span><span class="op" id="7133260">.</span><span class="ident" id="7133261">Op</span><span class="op" id="7133263">]</span><span class="op" id="7133264">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133268">case</span>&nbsp;<span class="ident" id="7133273">OpStar</span><span class="op" id="7133279">,</span>&nbsp;<span class="ident" id="7133281">OpPlus</span><span class="op" id="7133287">,</span>&nbsp;<span class="ident" id="7133289">OpQuest</span><span class="op" id="7133296">,</span>&nbsp;<span class="ident" id="7133298">OpRepeat</span><span class="op" id="7133306">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133311">if</span>&nbsp;<span class="ident" id="7133314">re</span><span class="op" id="7133316">.</span><span class="ident" id="7133317">Flags</span><span class="op" id="7133322">&amp;</span><span class="ident" id="7133323">NonGreedy</span>&nbsp;<span class="op" id="7133333">!=</span>&nbsp;<span class="num" id="7133336">0</span>&nbsp;<span class="op" id="7133338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133344">b</span><span class="op" id="7133345">.</span><span class="ident" id="7133346">WriteByte</span><span class="op" id="7133355">(</span><span class="string" id="7133356">&#39;n&#39;</span><span class="op" id="7133359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133369">b</span><span class="op" id="7133370">.</span><span class="ident" id="7133371">WriteString</span><span class="op" id="7133382">(</span><span class="ident" id="7133383">opNames</span><span class="op" id="7133390">[</span><span class="ident" id="7133391">re</span><span class="op" id="7133393">.</span><span class="ident" id="7133394">Op</span><span class="op" id="7133396">]</span><span class="op" id="7133397">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133401">case</span>&nbsp;<span class="ident" id="7133406">OpLiteral</span><span class="op" id="7133415">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133420">if</span>&nbsp;<span class="builtinfunc" id="7133423">len</span><span class="op" id="7133426">(</span><span class="ident" id="7133427">re</span><span class="op" id="7133429">.</span><span class="ident" id="7133430">Rune</span><span class="op" id="7133434">)</span>&nbsp;<span class="op" id="7133436">&gt;</span>&nbsp;<span class="num" id="7133438">1</span>&nbsp;<span class="op" id="7133440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133446">b</span><span class="op" id="7133447">.</span><span class="ident" id="7133448">WriteString</span><span class="op" id="7133459">(</span><span class="string" id="7133460">&#34;str&#34;</span><span class="op" id="7133465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133470">}</span>&nbsp;<span class="keyword" id="7133472">else</span>&nbsp;<span class="op" id="7133477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133483">b</span><span class="op" id="7133484">.</span><span class="ident" id="7133485">WriteString</span><span class="op" id="7133496">(</span><span class="string" id="7133497">&#34;lit&#34;</span><span class="op" id="7133502">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133512">if</span>&nbsp;<span class="ident" id="7133515">re</span><span class="op" id="7133517">.</span><span class="ident" id="7133518">Flags</span><span class="op" id="7133523">&amp;</span><span class="ident" id="7133524">FoldCase</span>&nbsp;<span class="op" id="7133533">!=</span>&nbsp;<span class="num" id="7133536">0</span>&nbsp;<span class="op" id="7133538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133544">for</span>&nbsp;<span class="ident" id="7133548">_</span><span class="op" id="7133549">,</span>&nbsp;<span class="ident" id="7133551">r</span>&nbsp;<span class="op" id="7133553">:=</span>&nbsp;<span class="keyword" id="7133556">range</span>&nbsp;<span class="ident" id="7133562">re</span><span class="op" id="7133564">.</span><span class="ident" id="7133565">Rune</span>&nbsp;<span class="op" id="7133570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133577">if</span>&nbsp;<span class="ident" id="7133580">unicode</span><span class="op" id="7133587">.</span><span class="ident" id="7133588">SimpleFold</span><span class="op" id="7133598">(</span><span class="ident" id="7133599">r</span><span class="op" id="7133600">)</span>&nbsp;<span class="op" id="7133602">!=</span>&nbsp;<span class="ident" id="7133605">r</span>&nbsp;<span class="op" id="7133607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133615">b</span><span class="op" id="7133616">.</span><span class="ident" id="7133617">WriteString</span><span class="op" id="7133628">(</span><span class="string" id="7133629">&#34;fold&#34;</span><span class="op" id="7133635">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133643">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133669">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133675">b</span><span class="op" id="7133676">.</span><span class="ident" id="7133677">WriteByte</span><span class="op" id="7133686">(</span><span class="string" id="7133687">&#39;{&#39;</span><span class="op" id="7133690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133693">switch</span>&nbsp;<span class="ident" id="7133700">re</span><span class="op" id="7133702">.</span><span class="ident" id="7133703">Op</span>&nbsp;<span class="op" id="7133706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133709">case</span>&nbsp;<span class="ident" id="7133714">OpEndText</span><span class="op" id="7133723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133727">if</span>&nbsp;<span class="ident" id="7133730">re</span><span class="op" id="7133732">.</span><span class="ident" id="7133733">Flags</span><span class="op" id="7133738">&amp;</span><span class="ident" id="7133739">WasDollar</span>&nbsp;<span class="op" id="7133749">==</span>&nbsp;<span class="num" id="7133752">0</span>&nbsp;<span class="op" id="7133754">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133759">b</span><span class="op" id="7133760">.</span><span class="ident" id="7133761">WriteString</span><span class="op" id="7133772">(</span><span class="string" id="7133773">`\z`</span><span class="op" id="7133777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133784">case</span>&nbsp;<span class="ident" id="7133789">OpLiteral</span><span class="op" id="7133798">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133802">for</span>&nbsp;<span class="ident" id="7133806">_</span><span class="op" id="7133807">,</span>&nbsp;<span class="ident" id="7133809">r</span>&nbsp;<span class="op" id="7133811">:=</span>&nbsp;<span class="keyword" id="7133814">range</span>&nbsp;<span class="ident" id="7133820">re</span><span class="op" id="7133822">.</span><span class="ident" id="7133823">Rune</span>&nbsp;<span class="op" id="7133828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133833">b</span><span class="op" id="7133834">.</span><span class="ident" id="7133835">WriteRune</span><span class="op" id="7133844">(</span><span class="ident" id="7133845">r</span><span class="op" id="7133846">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133853">case</span>&nbsp;<span class="ident" id="7133858">OpConcat</span><span class="op" id="7133866">,</span>&nbsp;<span class="ident" id="7133868">OpAlternate</span><span class="op" id="7133879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133883">for</span>&nbsp;<span class="ident" id="7133887">_</span><span class="op" id="7133888">,</span>&nbsp;<span class="ident" id="7133890">sub</span>&nbsp;<span class="op" id="7133894">:=</span>&nbsp;<span class="keyword" id="7133897">range</span>&nbsp;<span class="ident" id="7133903">re</span><span class="op" id="7133905">.</span><span class="ident" id="7133906">Sub</span>&nbsp;<span class="op" id="7133910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133915">dumpRegexp</span><span class="op" id="7133925">(</span><span class="ident" id="7133926">b</span><span class="op" id="7133927">,</span>&nbsp;<span class="ident" id="7133929">sub</span><span class="op" id="7133932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133936">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133939">case</span>&nbsp;<span class="ident" id="7133944">OpStar</span><span class="op" id="7133950">,</span>&nbsp;<span class="ident" id="7133952">OpPlus</span><span class="op" id="7133958">,</span>&nbsp;<span class="ident" id="7133960">OpQuest</span><span class="op" id="7133967">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133971">dumpRegexp</span><span class="op" id="7133981">(</span><span class="ident" id="7133982">b</span><span class="op" id="7133983">,</span>&nbsp;<span class="ident" id="7133985">re</span><span class="op" id="7133987">.</span><span class="ident" id="7133988">Sub</span><span class="op" id="7133991">[</span><span class="num" id="7133992">0</span><span class="op" id="7133993">]</span><span class="op" id="7133994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7133997">case</span>&nbsp;<span class="ident" id="7134002">OpRepeat</span><span class="op" id="7134010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134014">fmt</span><span class="op" id="7134017">.</span><span class="ident" id="7134018">Fprintf</span><span class="op" id="7134025">(</span><span class="ident" id="7134026">b</span><span class="op" id="7134027">,</span>&nbsp;<span class="string" id="7134029">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7134037">,</span>&nbsp;<span class="ident" id="7134039">re</span><span class="op" id="7134041">.</span><span class="ident" id="7134042">Min</span><span class="op" id="7134045">,</span>&nbsp;<span class="ident" id="7134047">re</span><span class="op" id="7134049">.</span><span class="ident" id="7134050">Max</span><span class="op" id="7134053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134057">dumpRegexp</span><span class="op" id="7134067">(</span><span class="ident" id="7134068">b</span><span class="op" id="7134069">,</span>&nbsp;<span class="ident" id="7134071">re</span><span class="op" id="7134073">.</span><span class="ident" id="7134074">Sub</span><span class="op" id="7134077">[</span><span class="num" id="7134078">0</span><span class="op" id="7134079">]</span><span class="op" id="7134080">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134083">case</span>&nbsp;<span class="ident" id="7134088">OpCapture</span><span class="op" id="7134097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134101">if</span>&nbsp;<span class="ident" id="7134104">re</span><span class="op" id="7134106">.</span><span class="ident" id="7134107">Name</span>&nbsp;<span class="op" id="7134112">!=</span>&nbsp;<span class="string" id="7134115">&#34;&#34;</span>&nbsp;<span class="op" id="7134118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134123">b</span><span class="op" id="7134124">.</span><span class="ident" id="7134125">WriteString</span><span class="op" id="7134136">(</span><span class="ident" id="7134137">re</span><span class="op" id="7134139">.</span><span class="ident" id="7134140">Name</span><span class="op" id="7134144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134149">b</span><span class="op" id="7134150">.</span><span class="ident" id="7134151">WriteByte</span><span class="op" id="7134160">(</span><span class="string" id="7134161">&#39;:&#39;</span><span class="op" id="7134164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134168">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134172">dumpRegexp</span><span class="op" id="7134182">(</span><span class="ident" id="7134183">b</span><span class="op" id="7134184">,</span>&nbsp;<span class="ident" id="7134186">re</span><span class="op" id="7134188">.</span><span class="ident" id="7134189">Sub</span><span class="op" id="7134192">[</span><span class="num" id="7134193">0</span><span class="op" id="7134194">]</span><span class="op" id="7134195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134198">case</span>&nbsp;<span class="ident" id="7134203">OpCharClass</span><span class="op" id="7134214">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134218">sep</span>&nbsp;<span class="op" id="7134222">:=</span>&nbsp;<span class="string" id="7134225">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134230">for</span>&nbsp;<span class="ident" id="7134234">i</span>&nbsp;<span class="op" id="7134236">:=</span>&nbsp;<span class="num" id="7134239">0</span><span class="op" id="7134240">;</span>&nbsp;<span class="ident" id="7134242">i</span>&nbsp;<span class="op" id="7134244">&lt;</span>&nbsp;<span class="builtinfunc" id="7134246">len</span><span class="op" id="7134249">(</span><span class="ident" id="7134250">re</span><span class="op" id="7134252">.</span><span class="ident" id="7134253">Rune</span><span class="op" id="7134257">)</span><span class="op" id="7134258">;</span>&nbsp;<span class="ident" id="7134260">i</span>&nbsp;<span class="op" id="7134262">+=</span>&nbsp;<span class="num" id="7134265">2</span>&nbsp;<span class="op" id="7134267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134272">b</span><span class="op" id="7134273">.</span><span class="ident" id="7134274">WriteString</span><span class="op" id="7134285">(</span><span class="ident" id="7134286">sep</span><span class="op" id="7134289">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134294">sep</span>&nbsp;<span class="op" id="7134298">=</span>&nbsp;<span class="string" id="7134300">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134307">lo</span><span class="op" id="7134309">,</span>&nbsp;<span class="ident" id="7134311">hi</span>&nbsp;<span class="op" id="7134314">:=</span>&nbsp;<span class="ident" id="7134317">re</span><span class="op" id="7134319">.</span><span class="ident" id="7134320">Rune</span><span class="op" id="7134324">[</span><span class="ident" id="7134325">i</span><span class="op" id="7134326">]</span><span class="op" id="7134327">,</span>&nbsp;<span class="ident" id="7134329">re</span><span class="op" id="7134331">.</span><span class="ident" id="7134332">Rune</span><span class="op" id="7134336">[</span><span class="ident" id="7134337">i</span><span class="op" id="7134338">+</span><span class="num" id="7134339">1</span><span class="op" id="7134340">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134345">if</span>&nbsp;<span class="ident" id="7134348">lo</span>&nbsp;<span class="op" id="7134351">==</span>&nbsp;<span class="ident" id="7134354">hi</span>&nbsp;<span class="op" id="7134357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134363">fmt</span><span class="op" id="7134366">.</span><span class="ident" id="7134367">Fprintf</span><span class="op" id="7134374">(</span><span class="ident" id="7134375">b</span><span class="op" id="7134376">,</span>&nbsp;<span class="string" id="7134378">&#34;%#x&#34;</span><span class="op" id="7134383">,</span>&nbsp;<span class="ident" id="7134385">lo</span><span class="op" id="7134387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134392">}</span>&nbsp;<span class="keyword" id="7134394">else</span>&nbsp;<span class="op" id="7134399">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134405">fmt</span><span class="op" id="7134408">.</span><span class="ident" id="7134409">Fprintf</span><span class="op" id="7134416">(</span><span class="ident" id="7134417">b</span><span class="op" id="7134418">,</span>&nbsp;<span class="string" id="7134420">&#34;%#x-%#x&#34;</span><span class="op" id="7134429">,</span>&nbsp;<span class="ident" id="7134431">lo</span><span class="op" id="7134433">,</span>&nbsp;<span class="ident" id="7134435">hi</span><span class="op" id="7134437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134452">b</span><span class="op" id="7134453">.</span><span class="ident" id="7134454">WriteByte</span><span class="op" id="7134463">(</span><span class="string" id="7134464">&#39;}&#39;</span><span class="op" id="7134467">)</span><br>
<span class="lineno">380</span><span class="op" id="7134469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7134472">func</span>&nbsp;<span class="ident" id="7134477">mkCharClass</span><span class="op" id="7134488">(</span><span class="ident" id="7134489">f</span>&nbsp;<span class="keyword" id="7134491">func</span><span class="op" id="7134495">(</span><span class="builtintype" id="7134496">rune</span><span class="op" id="7134500">)</span>&nbsp;<span class="builtintype" id="7134502">bool</span><span class="op" id="7134506">)</span>&nbsp;<span class="builtintype" id="7134508">string</span>&nbsp;<span class="op" id="7134515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134518">re</span>&nbsp;<span class="op" id="7134521">:=</span>&nbsp;<span class="op" id="7134524">&amp;</span><span class="ident" id="7134525">Regexp</span><span class="op" id="7134531">{</span><span class="ident" id="7134532">Op</span><span class="op" id="7134534">:</span>&nbsp;<span class="ident" id="7134536">OpCharClass</span><span class="op" id="7134547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134550">lo</span>&nbsp;<span class="op" id="7134553">:=</span>&nbsp;<span class="builtintype" id="7134556">rune</span><span class="op" id="7134560">(</span><span class="op" id="7134561">-</span><span class="num" id="7134562">1</span><span class="op" id="7134563">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134566">for</span>&nbsp;<span class="ident" id="7134570">i</span>&nbsp;<span class="op" id="7134572">:=</span>&nbsp;<span class="builtintype" id="7134575">rune</span><span class="op" id="7134579">(</span><span class="num" id="7134580">0</span><span class="op" id="7134581">)</span><span class="op" id="7134582">;</span>&nbsp;<span class="ident" id="7134584">i</span>&nbsp;<span class="op" id="7134586">&lt;=</span>&nbsp;<span class="ident" id="7134589">unicode</span><span class="op" id="7134596">.</span><span class="ident" id="7134597">MaxRune</span><span class="op" id="7134604">;</span>&nbsp;<span class="ident" id="7134606">i</span><span class="op" id="7134607">++</span>&nbsp;<span class="op" id="7134610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134614">if</span>&nbsp;<span class="ident" id="7134617">f</span><span class="op" id="7134618">(</span><span class="ident" id="7134619">i</span><span class="op" id="7134620">)</span>&nbsp;<span class="op" id="7134622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134627">if</span>&nbsp;<span class="ident" id="7134630">lo</span>&nbsp;<span class="op" id="7134633">&lt;</span>&nbsp;<span class="num" id="7134635">0</span>&nbsp;<span class="op" id="7134637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134643">lo</span>&nbsp;<span class="op" id="7134646">=</span>&nbsp;<span class="ident" id="7134648">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134653">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134657">}</span>&nbsp;<span class="keyword" id="7134659">else</span>&nbsp;<span class="op" id="7134664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134669">if</span>&nbsp;<span class="ident" id="7134672">lo</span>&nbsp;<span class="op" id="7134675">&gt;=</span>&nbsp;<span class="num" id="7134678">0</span>&nbsp;<span class="op" id="7134680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134686">re</span><span class="op" id="7134688">.</span><span class="ident" id="7134689">Rune</span>&nbsp;<span class="op" id="7134694">=</span>&nbsp;<span class="builtinfunc" id="7134696">append</span><span class="op" id="7134702">(</span><span class="ident" id="7134703">re</span><span class="op" id="7134705">.</span><span class="ident" id="7134706">Rune</span><span class="op" id="7134710">,</span>&nbsp;<span class="ident" id="7134712">lo</span><span class="op" id="7134714">,</span>&nbsp;<span class="ident" id="7134716">i</span><span class="op" id="7134717">-</span><span class="num" id="7134718">1</span><span class="op" id="7134719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134725">lo</span>&nbsp;<span class="op" id="7134728">=</span>&nbsp;<span class="op" id="7134730">-</span><span class="num" id="7134731">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134736">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134746">if</span>&nbsp;<span class="ident" id="7134749">lo</span>&nbsp;<span class="op" id="7134752">&gt;=</span>&nbsp;<span class="num" id="7134755">0</span>&nbsp;<span class="op" id="7134757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134761">re</span><span class="op" id="7134763">.</span><span class="ident" id="7134764">Rune</span>&nbsp;<span class="op" id="7134769">=</span>&nbsp;<span class="builtinfunc" id="7134771">append</span><span class="op" id="7134777">(</span><span class="ident" id="7134778">re</span><span class="op" id="7134780">.</span><span class="ident" id="7134781">Rune</span><span class="op" id="7134785">,</span>&nbsp;<span class="ident" id="7134787">lo</span><span class="op" id="7134789">,</span>&nbsp;<span class="ident" id="7134791">unicode</span><span class="op" id="7134798">.</span><span class="ident" id="7134799">MaxRune</span><span class="op" id="7134806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134809">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134812">return</span>&nbsp;<span class="ident" id="7134819">dump</span><span class="op" id="7134823">(</span><span class="ident" id="7134824">re</span><span class="op" id="7134826">)</span><br>
<span class="lineno"></span><span class="op" id="7134828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7134831">func</span>&nbsp;<span class="ident" id="7134836">isUpperFold</span><span class="op" id="7134847">(</span><span class="ident" id="7134848">r</span>&nbsp;<span class="builtintype" id="7134850">rune</span><span class="op" id="7134854">)</span>&nbsp;<span class="builtintype" id="7134856">bool</span>&nbsp;<span class="op" id="7134861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134864">if</span>&nbsp;<span class="ident" id="7134867">unicode</span><span class="op" id="7134874">.</span><span class="ident" id="7134875">IsUpper</span><span class="op" id="7134882">(</span><span class="ident" id="7134883">r</span><span class="op" id="7134884">)</span>&nbsp;<span class="op" id="7134886">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134890">return</span>&nbsp;<span class="builtintype" id="7134897">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134906">c</span>&nbsp;<span class="op" id="7134908">:=</span>&nbsp;<span class="ident" id="7134911">unicode</span><span class="op" id="7134918">.</span><span class="ident" id="7134919">SimpleFold</span><span class="op" id="7134929">(</span><span class="ident" id="7134930">r</span><span class="op" id="7134931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134934">for</span>&nbsp;<span class="ident" id="7134938">c</span>&nbsp;<span class="op" id="7134940">!=</span>&nbsp;<span class="ident" id="7134943">r</span>&nbsp;<span class="op" id="7134945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134949">if</span>&nbsp;<span class="ident" id="7134952">unicode</span><span class="op" id="7134959">.</span><span class="ident" id="7134960">IsUpper</span><span class="op" id="7134967">(</span><span class="ident" id="7134968">c</span><span class="op" id="7134969">)</span>&nbsp;<span class="op" id="7134971">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134976">return</span>&nbsp;<span class="builtintype" id="7134983">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134994">c</span>&nbsp;<span class="op" id="7134996">=</span>&nbsp;<span class="ident" id="7134998">unicode</span><span class="op" id="7135005">.</span><span class="ident" id="7135006">SimpleFold</span><span class="op" id="7135016">(</span><span class="ident" id="7135017">c</span><span class="op" id="7135018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135024">return</span>&nbsp;<span class="builtintype" id="7135031">false</span><br>
<span class="lineno">415</span><span class="op" id="7135037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135040">func</span>&nbsp;<span class="ident" id="7135045">TestFoldConstants</span><span class="op" id="7135062">(</span><span class="ident" id="7135063">t</span>&nbsp;<span class="op" id="7135065">*</span><span class="ident" id="7135066">testing</span><span class="op" id="7135073">.</span><span class="ident" id="7135074">T</span><span class="op" id="7135075">)</span>&nbsp;<span class="op" id="7135077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135080">last</span>&nbsp;<span class="op" id="7135085">:=</span>&nbsp;<span class="builtintype" id="7135088">rune</span><span class="op" id="7135092">(</span><span class="op" id="7135093">-</span><span class="num" id="7135094">1</span><span class="op" id="7135095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135098">for</span>&nbsp;<span class="ident" id="7135102">i</span>&nbsp;<span class="op" id="7135104">:=</span>&nbsp;<span class="builtintype" id="7135107">rune</span><span class="op" id="7135111">(</span><span class="num" id="7135112">0</span><span class="op" id="7135113">)</span><span class="op" id="7135114">;</span>&nbsp;<span class="ident" id="7135116">i</span>&nbsp;<span class="op" id="7135118">&lt;=</span>&nbsp;<span class="ident" id="7135121">unicode</span><span class="op" id="7135128">.</span><span class="ident" id="7135129">MaxRune</span><span class="op" id="7135136">;</span>&nbsp;<span class="ident" id="7135138">i</span><span class="op" id="7135139">++</span>&nbsp;<span class="op" id="7135142">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135146">if</span>&nbsp;<span class="ident" id="7135149">unicode</span><span class="op" id="7135156">.</span><span class="ident" id="7135157">SimpleFold</span><span class="op" id="7135167">(</span><span class="ident" id="7135168">i</span><span class="op" id="7135169">)</span>&nbsp;<span class="op" id="7135171">==</span>&nbsp;<span class="ident" id="7135174">i</span>&nbsp;<span class="op" id="7135176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135181">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135196">if</span>&nbsp;<span class="ident" id="7135199">last</span>&nbsp;<span class="op" id="7135204">==</span>&nbsp;<span class="op" id="7135207">-</span><span class="num" id="7135208">1</span>&nbsp;<span class="op" id="7135210">&amp;&amp;</span>&nbsp;<span class="ident" id="7135213">minFold</span>&nbsp;<span class="op" id="7135221">!=</span>&nbsp;<span class="ident" id="7135224">i</span>&nbsp;<span class="op" id="7135226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135231">t</span><span class="op" id="7135232">.</span><span class="ident" id="7135233">Errorf</span><span class="op" id="7135239">(</span><span class="string" id="7135240">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7135267">,</span>&nbsp;<span class="ident" id="7135269">minFold</span><span class="op" id="7135276">,</span>&nbsp;<span class="ident" id="7135278">i</span><span class="op" id="7135279">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135287">last</span>&nbsp;<span class="op" id="7135292">=</span>&nbsp;<span class="ident" id="7135294">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135300">if</span>&nbsp;<span class="ident" id="7135303">maxFold</span>&nbsp;<span class="op" id="7135311">!=</span>&nbsp;<span class="ident" id="7135314">last</span>&nbsp;<span class="op" id="7135319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135323">t</span><span class="op" id="7135324">.</span><span class="ident" id="7135325">Errorf</span><span class="op" id="7135331">(</span><span class="string" id="7135332">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7135359">,</span>&nbsp;<span class="ident" id="7135361">maxFold</span><span class="op" id="7135368">,</span>&nbsp;<span class="ident" id="7135370">last</span><span class="op" id="7135374">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135377">}</span><br>
<span class="lineno"></span><span class="op" id="7135379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135382">func</span>&nbsp;<span class="ident" id="7135387">TestAppendRangeCollapse</span><span class="op" id="7135410">(</span><span class="ident" id="7135411">t</span>&nbsp;<span class="op" id="7135413">*</span><span class="ident" id="7135414">testing</span><span class="op" id="7135421">.</span><span class="ident" id="7135422">T</span><span class="op" id="7135423">)</span>&nbsp;<span class="op" id="7135425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135428">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135483">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135545">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135583">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135628">var</span>&nbsp;<span class="ident" id="7135632">r</span>&nbsp;<span class="op" id="7135634">[</span><span class="op" id="7135635">]</span><span class="builtintype" id="7135636">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135642">for</span>&nbsp;<span class="ident" id="7135646">i</span>&nbsp;<span class="op" id="7135648">:=</span>&nbsp;<span class="builtintype" id="7135651">rune</span><span class="op" id="7135655">(</span><span class="string" id="7135656">&#39;A&#39;</span><span class="op" id="7135659">)</span><span class="op" id="7135660">;</span>&nbsp;<span class="ident" id="7135662">i</span>&nbsp;<span class="op" id="7135664">&lt;=</span>&nbsp;<span class="string" id="7135667">&#39;Z&#39;</span><span class="op" id="7135670">;</span>&nbsp;<span class="ident" id="7135672">i</span><span class="op" id="7135673">++</span>&nbsp;<span class="op" id="7135676">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135680">r</span>&nbsp;<span class="op" id="7135682">=</span>&nbsp;<span class="ident" id="7135684">appendRange</span><span class="op" id="7135695">(</span><span class="ident" id="7135696">r</span><span class="op" id="7135697">,</span>&nbsp;<span class="ident" id="7135699">i</span><span class="op" id="7135700">,</span>&nbsp;<span class="ident" id="7135702">i</span><span class="op" id="7135703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135707">r</span>&nbsp;<span class="op" id="7135709">=</span>&nbsp;<span class="ident" id="7135711">appendRange</span><span class="op" id="7135722">(</span><span class="ident" id="7135723">r</span><span class="op" id="7135724">,</span>&nbsp;<span class="ident" id="7135726">i</span><span class="op" id="7135727">+</span><span class="string" id="7135728">&#39;a&#39;</span><span class="op" id="7135731">-</span><span class="string" id="7135732">&#39;A&#39;</span><span class="op" id="7135735">,</span>&nbsp;<span class="ident" id="7135737">i</span><span class="op" id="7135738">+</span><span class="string" id="7135739">&#39;a&#39;</span><span class="op" id="7135742">-</span><span class="string" id="7135743">&#39;A&#39;</span><span class="op" id="7135746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135752">if</span>&nbsp;<span class="builtintype" id="7135755">string</span><span class="op" id="7135761">(</span><span class="ident" id="7135762">r</span><span class="op" id="7135763">)</span>&nbsp;<span class="op" id="7135765">!=</span>&nbsp;<span class="string" id="7135768">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7135775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135779">t</span><span class="op" id="7135780">.</span><span class="ident" id="7135781">Errorf</span><span class="op" id="7135787">(</span><span class="string" id="7135788">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7135836">,</span>&nbsp;<span class="builtintype" id="7135838">string</span><span class="op" id="7135844">(</span><span class="ident" id="7135845">r</span><span class="op" id="7135846">)</span><span class="op" id="7135847">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135850">}</span><br>
<span class="lineno"></span><span class="op" id="7135852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135855">var</span>&nbsp;<span class="ident" id="7135859">invalidRegexps</span>&nbsp;<span class="op" id="7135874">=</span>&nbsp;<span class="op" id="7135876">[</span><span class="op" id="7135877">]</span><span class="builtintype" id="7135878">string</span><span class="op" id="7135884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135887">`(`</span><span class="op" id="7135890">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135893">`)`</span><span class="op" id="7135896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135899">`(a`</span><span class="op" id="7135903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135906">`a)`</span><span class="op" id="7135910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135913">`(a))`</span><span class="op" id="7135919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135922">`(a|b|`</span><span class="op" id="7135929">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135932">`a|b|)`</span><span class="op" id="7135939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135942">`(a|b|))`</span><span class="op" id="7135951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135954">`(a|b`</span><span class="op" id="7135960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135963">`a|b)`</span><span class="op" id="7135969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135972">`(a|b))`</span><span class="op" id="7135980">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135983">`[a-z`</span><span class="op" id="7135989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7135992">`([a-z)`</span><span class="op" id="7136000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136003">`[a-z)`</span><span class="op" id="7136010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136013">`([a-z]))`</span><span class="op" id="7136023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136026">`x{1001}`</span><span class="op" id="7136035">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136038">`x{9876543210}`</span><span class="op" id="7136053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136056">`x{2,1}`</span><span class="op" id="7136064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136067">`x{1,9876543210}`</span><span class="op" id="7136084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136087">&#34;\xff&#34;</span><span class="op" id="7136093">,</span>&nbsp;<span class="comment" id="7136095">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136113">&#34;[\xff]&#34;</span><span class="op" id="7136121">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136124">&#34;[\\\xff]&#34;</span><span class="op" id="7136134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136137">&#34;\\\xff&#34;</span><span class="op" id="7136145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136148">`(?P&lt;name&gt;a`</span><span class="op" id="7136160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136163">`(?P&lt;name&gt;`</span><span class="op" id="7136174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136177">`(?P&lt;name`</span><span class="op" id="7136187">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136190">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7136202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136205">`(?P&lt;&gt;a)`</span><span class="op" id="7136214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136217">`[a-Z]`</span><span class="op" id="7136224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136227">`(?i)[a-Z]`</span><span class="op" id="7136238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136241">`a{100000}`</span><span class="op" id="7136252">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136255">`a{100000,}`</span><span class="op" id="7136267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136270">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7136323">,</span><br>
<span class="lineno"></span><span class="op" id="7136325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136328">var</span>&nbsp;<span class="ident" id="7136332">onlyPerl</span>&nbsp;<span class="op" id="7136341">=</span>&nbsp;<span class="op" id="7136343">[</span><span class="op" id="7136344">]</span><span class="builtintype" id="7136345">string</span><span class="op" id="7136351">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136354">`[a-b-c]`</span><span class="op" id="7136363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136366">`\Qabc\E`</span><span class="op" id="7136375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136378">`\Q*+?{[\E`</span><span class="op" id="7136389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136392">`\Q\\E`</span><span class="op" id="7136399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136402">`\Q\\\E`</span><span class="op" id="7136410">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136413">`\Q\\\\E`</span><span class="op" id="7136422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136425">`\Q\\\\\E`</span><span class="op" id="7136435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136438">`(?:a)`</span><span class="op" id="7136445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136448">`(?P&lt;name&gt;a)`</span><span class="op" id="7136461">,</span><br>
<span class="lineno"></span><span class="op" id="7136463">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7136466">var</span>&nbsp;<span class="ident" id="7136470">onlyPOSIX</span>&nbsp;<span class="op" id="7136480">=</span>&nbsp;<span class="op" id="7136482">[</span><span class="op" id="7136483">]</span><span class="builtintype" id="7136484">string</span><span class="op" id="7136490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136493">&#34;a++&#34;</span><span class="op" id="7136498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136501">&#34;a**&#34;</span><span class="op" id="7136506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136509">&#34;a?*&#34;</span><span class="op" id="7136514">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136517">&#34;a+*&#34;</span><span class="op" id="7136522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136525">&#34;a{1}*&#34;</span><span class="op" id="7136532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7136535">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7136548">,</span><br>
<span class="lineno"></span><span class="op" id="7136550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7136553">func</span>&nbsp;<span class="ident" id="7136558">TestParseInvalidRegexps</span><span class="op" id="7136581">(</span><span class="ident" id="7136582">t</span>&nbsp;<span class="op" id="7136584">*</span><span class="ident" id="7136585">testing</span><span class="op" id="7136592">.</span><span class="ident" id="7136593">T</span><span class="op" id="7136594">)</span>&nbsp;<span class="op" id="7136596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136599">for</span>&nbsp;<span class="ident" id="7136603">_</span><span class="op" id="7136604">,</span>&nbsp;<span class="ident" id="7136606">regexp</span>&nbsp;<span class="op" id="7136613">:=</span>&nbsp;<span class="keyword" id="7136616">range</span>&nbsp;<span class="ident" id="7136622">invalidRegexps</span>&nbsp;<span class="op" id="7136637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136641">if</span>&nbsp;<span class="ident" id="7136644">re</span><span class="op" id="7136646">,</span>&nbsp;<span class="ident" id="7136648">err</span>&nbsp;<span class="op" id="7136652">:=</span>&nbsp;<span class="ident" id="7136655">Parse</span><span class="op" id="7136660">(</span><span class="ident" id="7136661">regexp</span><span class="op" id="7136667">,</span>&nbsp;<span class="ident" id="7136669">Perl</span><span class="op" id="7136673">)</span><span class="op" id="7136674">;</span>&nbsp;<span class="ident" id="7136676">err</span>&nbsp;<span class="op" id="7136680">==</span>&nbsp;<span class="builtintype" id="7136683">nil</span>&nbsp;<span class="op" id="7136687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136692">t</span><span class="op" id="7136693">.</span><span class="ident" id="7136694">Errorf</span><span class="op" id="7136700">(</span><span class="string" id="7136701">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7136744">,</span>&nbsp;<span class="ident" id="7136746">regexp</span><span class="op" id="7136752">,</span>&nbsp;<span class="ident" id="7136754">dump</span><span class="op" id="7136758">(</span><span class="ident" id="7136759">re</span><span class="op" id="7136761">)</span><span class="op" id="7136762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136766">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136770">if</span>&nbsp;<span class="ident" id="7136773">re</span><span class="op" id="7136775">,</span>&nbsp;<span class="ident" id="7136777">err</span>&nbsp;<span class="op" id="7136781">:=</span>&nbsp;<span class="ident" id="7136784">Parse</span><span class="op" id="7136789">(</span><span class="ident" id="7136790">regexp</span><span class="op" id="7136796">,</span>&nbsp;<span class="ident" id="7136798">POSIX</span><span class="op" id="7136803">)</span><span class="op" id="7136804">;</span>&nbsp;<span class="ident" id="7136806">err</span>&nbsp;<span class="op" id="7136810">==</span>&nbsp;<span class="builtintype" id="7136813">nil</span>&nbsp;<span class="op" id="7136817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136822">t</span><span class="op" id="7136823">.</span><span class="ident" id="7136824">Errorf</span><span class="op" id="7136830">(</span><span class="string" id="7136831">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7136875">,</span>&nbsp;<span class="ident" id="7136877">regexp</span><span class="op" id="7136883">,</span>&nbsp;<span class="ident" id="7136885">dump</span><span class="op" id="7136889">(</span><span class="ident" id="7136890">re</span><span class="op" id="7136892">)</span><span class="op" id="7136893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136903">for</span>&nbsp;<span class="ident" id="7136907">_</span><span class="op" id="7136908">,</span>&nbsp;<span class="ident" id="7136910">regexp</span>&nbsp;<span class="op" id="7136917">:=</span>&nbsp;<span class="keyword" id="7136920">range</span>&nbsp;<span class="ident" id="7136926">onlyPerl</span>&nbsp;<span class="op" id="7136935">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136939">if</span>&nbsp;<span class="ident" id="7136942">_</span><span class="op" id="7136943">,</span>&nbsp;<span class="ident" id="7136945">err</span>&nbsp;<span class="op" id="7136949">:=</span>&nbsp;<span class="ident" id="7136952">Parse</span><span class="op" id="7136957">(</span><span class="ident" id="7136958">regexp</span><span class="op" id="7136964">,</span>&nbsp;<span class="ident" id="7136966">Perl</span><span class="op" id="7136970">)</span><span class="op" id="7136971">;</span>&nbsp;<span class="ident" id="7136973">err</span>&nbsp;<span class="op" id="7136977">!=</span>&nbsp;<span class="builtintype" id="7136980">nil</span>&nbsp;<span class="op" id="7136984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136989">t</span><span class="op" id="7136990">.</span><span class="ident" id="7136991">Errorf</span><span class="op" id="7136997">(</span><span class="string" id="7136998">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7137020">,</span>&nbsp;<span class="ident" id="7137022">regexp</span><span class="op" id="7137028">,</span>&nbsp;<span class="ident" id="7137030">err</span><span class="op" id="7137033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137041">if</span>&nbsp;<span class="ident" id="7137044">re</span><span class="op" id="7137046">,</span>&nbsp;<span class="ident" id="7137048">err</span>&nbsp;<span class="op" id="7137052">:=</span>&nbsp;<span class="ident" id="7137055">Parse</span><span class="op" id="7137060">(</span><span class="ident" id="7137061">regexp</span><span class="op" id="7137067">,</span>&nbsp;<span class="ident" id="7137069">POSIX</span><span class="op" id="7137074">)</span><span class="op" id="7137075">;</span>&nbsp;<span class="ident" id="7137077">err</span>&nbsp;<span class="op" id="7137081">==</span>&nbsp;<span class="builtintype" id="7137084">nil</span>&nbsp;<span class="op" id="7137088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137093">t</span><span class="op" id="7137094">.</span><span class="ident" id="7137095">Errorf</span><span class="op" id="7137101">(</span><span class="string" id="7137102">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7137146">,</span>&nbsp;<span class="ident" id="7137148">regexp</span><span class="op" id="7137154">,</span>&nbsp;<span class="ident" id="7137156">dump</span><span class="op" id="7137160">(</span><span class="ident" id="7137161">re</span><span class="op" id="7137163">)</span><span class="op" id="7137164">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137174">for</span>&nbsp;<span class="ident" id="7137178">_</span><span class="op" id="7137179">,</span>&nbsp;<span class="ident" id="7137181">regexp</span>&nbsp;<span class="op" id="7137188">:=</span>&nbsp;<span class="keyword" id="7137191">range</span>&nbsp;<span class="ident" id="7137197">onlyPOSIX</span>&nbsp;<span class="op" id="7137207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137211">if</span>&nbsp;<span class="ident" id="7137214">re</span><span class="op" id="7137216">,</span>&nbsp;<span class="ident" id="7137218">err</span>&nbsp;<span class="op" id="7137222">:=</span>&nbsp;<span class="ident" id="7137225">Parse</span><span class="op" id="7137230">(</span><span class="ident" id="7137231">regexp</span><span class="op" id="7137237">,</span>&nbsp;<span class="ident" id="7137239">Perl</span><span class="op" id="7137243">)</span><span class="op" id="7137244">;</span>&nbsp;<span class="ident" id="7137246">err</span>&nbsp;<span class="op" id="7137250">==</span>&nbsp;<span class="builtintype" id="7137253">nil</span>&nbsp;<span class="op" id="7137257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137262">t</span><span class="op" id="7137263">.</span><span class="ident" id="7137264">Errorf</span><span class="op" id="7137270">(</span><span class="string" id="7137271">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7137314">,</span>&nbsp;<span class="ident" id="7137316">regexp</span><span class="op" id="7137322">,</span>&nbsp;<span class="ident" id="7137324">dump</span><span class="op" id="7137328">(</span><span class="ident" id="7137329">re</span><span class="op" id="7137331">)</span><span class="op" id="7137332">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137340">if</span>&nbsp;<span class="ident" id="7137343">_</span><span class="op" id="7137344">,</span>&nbsp;<span class="ident" id="7137346">err</span>&nbsp;<span class="op" id="7137350">:=</span>&nbsp;<span class="ident" id="7137353">Parse</span><span class="op" id="7137358">(</span><span class="ident" id="7137359">regexp</span><span class="op" id="7137365">,</span>&nbsp;<span class="ident" id="7137367">POSIX</span><span class="op" id="7137372">)</span><span class="op" id="7137373">;</span>&nbsp;<span class="ident" id="7137375">err</span>&nbsp;<span class="op" id="7137379">!=</span>&nbsp;<span class="builtintype" id="7137382">nil</span>&nbsp;<span class="op" id="7137386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137391">t</span><span class="op" id="7137392">.</span><span class="ident" id="7137393">Errorf</span><span class="op" id="7137399">(</span><span class="string" id="7137400">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7137423">,</span>&nbsp;<span class="ident" id="7137425">regexp</span><span class="op" id="7137431">,</span>&nbsp;<span class="ident" id="7137433">err</span><span class="op" id="7137436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137443">}</span><br>
<span class="lineno">530</span><span class="op" id="7137445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137448">func</span>&nbsp;<span class="ident" id="7137453">TestToStringEquivalentParse</span><span class="op" id="7137480">(</span><span class="ident" id="7137481">t</span>&nbsp;<span class="op" id="7137483">*</span><span class="ident" id="7137484">testing</span><span class="op" id="7137491">.</span><span class="ident" id="7137492">T</span><span class="op" id="7137493">)</span>&nbsp;<span class="op" id="7137495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137498">for</span>&nbsp;<span class="ident" id="7137502">_</span><span class="op" id="7137503">,</span>&nbsp;<span class="ident" id="7137505">tt</span>&nbsp;<span class="op" id="7137508">:=</span>&nbsp;<span class="keyword" id="7137511">range</span>&nbsp;<span class="ident" id="7137517">parseTests</span>&nbsp;<span class="op" id="7137528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137532">re</span><span class="op" id="7137534">,</span>&nbsp;<span class="ident" id="7137536">err</span>&nbsp;<span class="op" id="7137540">:=</span>&nbsp;<span class="ident" id="7137543">Parse</span><span class="op" id="7137548">(</span><span class="ident" id="7137549">tt</span><span class="op" id="7137551">.</span><span class="ident" id="7137552">Regexp</span><span class="op" id="7137558">,</span>&nbsp;<span class="ident" id="7137560">testFlags</span><span class="op" id="7137569">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137573">if</span>&nbsp;<span class="ident" id="7137576">err</span>&nbsp;<span class="op" id="7137580">!=</span>&nbsp;<span class="builtintype" id="7137583">nil</span>&nbsp;<span class="op" id="7137587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137592">t</span><span class="op" id="7137593">.</span><span class="ident" id="7137594">Errorf</span><span class="op" id="7137600">(</span><span class="string" id="7137601">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7137617">,</span>&nbsp;<span class="ident" id="7137619">tt</span><span class="op" id="7137621">.</span><span class="ident" id="7137622">Regexp</span><span class="op" id="7137628">,</span>&nbsp;<span class="ident" id="7137630">err</span><span class="op" id="7137633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137638">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137653">if</span>&nbsp;<span class="ident" id="7137656">tt</span><span class="op" id="7137658">.</span><span class="ident" id="7137659">Dump</span>&nbsp;<span class="op" id="7137664">==</span>&nbsp;<span class="string" id="7137667">&#34;&#34;</span>&nbsp;<span class="op" id="7137670">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7137675">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137718">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137733">d</span>&nbsp;<span class="op" id="7137735">:=</span>&nbsp;<span class="ident" id="7137738">dump</span><span class="op" id="7137742">(</span><span class="ident" id="7137743">re</span><span class="op" id="7137745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137749">if</span>&nbsp;<span class="ident" id="7137752">d</span>&nbsp;<span class="op" id="7137754">!=</span>&nbsp;<span class="ident" id="7137757">tt</span><span class="op" id="7137759">.</span><span class="ident" id="7137760">Dump</span>&nbsp;<span class="op" id="7137765">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137770">t</span><span class="op" id="7137771">.</span><span class="ident" id="7137772">Errorf</span><span class="op" id="7137778">(</span><span class="string" id="7137779">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7137813">,</span>&nbsp;<span class="ident" id="7137815">tt</span><span class="op" id="7137817">.</span><span class="ident" id="7137818">Regexp</span><span class="op" id="7137824">,</span>&nbsp;<span class="ident" id="7137826">d</span><span class="op" id="7137827">,</span>&nbsp;<span class="ident" id="7137829">tt</span><span class="op" id="7137831">.</span><span class="ident" id="7137832">Dump</span><span class="op" id="7137836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137841">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137857">s</span>&nbsp;<span class="op" id="7137859">:=</span>&nbsp;<span class="ident" id="7137862">re</span><span class="op" id="7137864">.</span><span class="ident" id="7137865">String</span><span class="op" id="7137871">(</span><span class="op" id="7137872">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137876">if</span>&nbsp;<span class="ident" id="7137879">s</span>&nbsp;<span class="op" id="7137881">!=</span>&nbsp;<span class="ident" id="7137884">tt</span><span class="op" id="7137886">.</span><span class="ident" id="7137887">Regexp</span>&nbsp;<span class="op" id="7137894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7137899">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7137952">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138000">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138060">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7138111">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138167">nre</span><span class="op" id="7138170">,</span>&nbsp;<span class="ident" id="7138172">err</span>&nbsp;<span class="op" id="7138176">:=</span>&nbsp;<span class="ident" id="7138179">Parse</span><span class="op" id="7138184">(</span><span class="ident" id="7138185">s</span><span class="op" id="7138186">,</span>&nbsp;<span class="ident" id="7138188">testFlags</span><span class="op" id="7138197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138202">if</span>&nbsp;<span class="ident" id="7138205">err</span>&nbsp;<span class="op" id="7138209">!=</span>&nbsp;<span class="builtintype" id="7138212">nil</span>&nbsp;<span class="op" id="7138216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138222">t</span><span class="op" id="7138223">.</span><span class="ident" id="7138224">Errorf</span><span class="op" id="7138230">(</span><span class="string" id="7138231">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7138262">,</span>&nbsp;<span class="ident" id="7138264">tt</span><span class="op" id="7138266">.</span><span class="ident" id="7138267">Regexp</span><span class="op" id="7138273">,</span>&nbsp;<span class="ident" id="7138275">s</span><span class="op" id="7138276">,</span>&nbsp;<span class="ident" id="7138278">err</span><span class="op" id="7138281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138287">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138304">nd</span>&nbsp;<span class="op" id="7138307">:=</span>&nbsp;<span class="ident" id="7138310">dump</span><span class="op" id="7138314">(</span><span class="ident" id="7138315">nre</span><span class="op" id="7138318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138323">if</span>&nbsp;<span class="ident" id="7138326">d</span>&nbsp;<span class="op" id="7138328">!=</span>&nbsp;<span class="ident" id="7138331">nd</span>&nbsp;<span class="op" id="7138334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138340">t</span><span class="op" id="7138341">.</span><span class="ident" id="7138342">Errorf</span><span class="op" id="7138348">(</span><span class="string" id="7138349">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7138380">,</span>&nbsp;<span class="ident" id="7138382">tt</span><span class="op" id="7138384">.</span><span class="ident" id="7138385">Regexp</span><span class="op" id="7138391">,</span>&nbsp;<span class="ident" id="7138393">s</span><span class="op" id="7138394">,</span>&nbsp;<span class="ident" id="7138396">d</span><span class="op" id="7138397">,</span>&nbsp;<span class="ident" id="7138399">nd</span><span class="op" id="7138401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138406">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138412">ns</span>&nbsp;<span class="op" id="7138415">:=</span>&nbsp;<span class="ident" id="7138418">nre</span><span class="op" id="7138421">.</span><span class="ident" id="7138422">String</span><span class="op" id="7138428">(</span><span class="op" id="7138429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7138434">if</span>&nbsp;<span class="ident" id="7138437">s</span>&nbsp;<span class="op" id="7138439">!=</span>&nbsp;<span class="ident" id="7138442">ns</span>&nbsp;<span class="op" id="7138445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7138451">t</span><span class="op" id="7138452">.</span><span class="ident" id="7138453">Errorf</span><span class="op" id="7138459">(</span><span class="string" id="7138460">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7138486">,</span>&nbsp;<span class="ident" id="7138488">tt</span><span class="op" id="7138490">.</span><span class="ident" id="7138491">Regexp</span><span class="op" id="7138497">,</span>&nbsp;<span class="ident" id="7138499">s</span><span class="op" id="7138500">,</span>&nbsp;<span class="ident" id="7138502">ns</span><span class="op" id="7138504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138509">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138516">}</span><br>
<span class="lineno"></span><span class="op" id="7138518">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
