<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7873396">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7873452">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7873506">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7873557">package</span>&nbsp;<span class="ident" id="7873565">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873570">import</span>&nbsp;<span class="op" id="7873577">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7873580">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7873587">&#34;os/exec&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7873598">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7873608">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873611">func</span>&nbsp;<span class="op" id="7873616">(</span><span class="ident" id="7873617">ti</span>&nbsp;<span class="op" id="7873620">*</span><span class="ident" id="7873621"><a href="/net/interface_unix_test.go.html#7881723">testInterface</a></span><span class="op" id="7873634">)</span>&nbsp;<span class="ident" id="7873636">setBroadcast</span><span class="op" id="7873648">(</span><span class="ident" id="7873649">suffix</span>&nbsp;<span class="builtintype" id="7873656">int</span><span class="op" id="7873659">)</span>&nbsp;<span class="builtintype" id="7873661">error</span>&nbsp;<span class="op" id="7873667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873670"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7873672">.</span><span class="ident" id="7873673">name</span>&nbsp;<span class="op" id="7873678">=</span>&nbsp;<span class="ident" id="7873680"><a href="/net/interface_linux_test.go.html#7873580">fmt</a></span><span class="op" id="7873683">.</span><span class="ident" id="7873684">Sprintf</span><span class="op" id="7873691">(</span><span class="string" id="7873692">&#34;gotest%d&#34;</span><span class="op" id="7873702">,</span>&nbsp;<span class="ident" id="7873704"><a href="/net/interface_linux_test.go.html#7873649">suffix</a></span><span class="op" id="7873710">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873713">xname</span><span class="op" id="7873718">,</span>&nbsp;<span class="ident" id="7873720">err</span>&nbsp;<span class="op" id="7873724">:=</span>&nbsp;<span class="ident" id="7873727"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7873731">.</span><span class="ident" id="7873732">LookPath</span><span class="op" id="7873740">(</span><span class="string" id="7873741">&#34;ip&#34;</span><span class="op" id="7873745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873748">if</span>&nbsp;<span class="ident" id="7873751"><a href="/net/interface_linux_test.go.html#7873720">err</a></span>&nbsp;<span class="op" id="7873755">!=</span>&nbsp;<span class="ident" id="7873758">nil</span>&nbsp;<span class="op" id="7873762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873766">return</span>&nbsp;<span class="ident" id="7873773"><a href="/net/interface_linux_test.go.html#7873720">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873781"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7873783">.</span><span class="ident" id="7873784">setupCmds</span>&nbsp;<span class="op" id="7873794">=</span>&nbsp;<span class="builtinfunc" id="7873796">append</span><span class="op" id="7873802">(</span><span class="ident" id="7873803"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7873805">.</span><span class="ident" id="7873806">setupCmds</span><span class="op" id="7873815">,</span>&nbsp;<span class="op" id="7873817">&amp;</span><span class="ident" id="7873818"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7873822">.</span><span class="ident" id="7873823">Cmd</span><span class="op" id="7873826">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873830">Path</span><span class="op" id="7873834">:</span>&nbsp;<span class="ident" id="7873836"><a href="/net/interface_linux_test.go.html#7873713">xname</a></span><span class="op" id="7873841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873845">Args</span><span class="op" id="7873849">:</span>&nbsp;<span class="op" id="7873851">[</span><span class="op" id="7873852">]</span><span class="builtintype" id="7873853">string</span><span class="op" id="7873859">{</span><span class="string" id="7873860">&#34;ip&#34;</span><span class="op" id="7873864">,</span>&nbsp;<span class="string" id="7873866">&#34;link&#34;</span><span class="op" id="7873872">,</span>&nbsp;<span class="string" id="7873874">&#34;add&#34;</span><span class="op" id="7873879">,</span>&nbsp;<span class="ident" id="7873881"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7873883">.</span><span class="ident" id="7873884">name</span><span class="op" id="7873888">,</span>&nbsp;<span class="string" id="7873890">&#34;type&#34;</span><span class="op" id="7873896">,</span>&nbsp;<span class="string" id="7873898">&#34;dummy&#34;</span><span class="op" id="7873905">}</span><span class="op" id="7873906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873909">}</span><span class="op" id="7873910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873913"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7873915">.</span><span class="ident" id="7873916">teardownCmds</span>&nbsp;<span class="op" id="7873929">=</span>&nbsp;<span class="builtinfunc" id="7873931">append</span><span class="op" id="7873937">(</span><span class="ident" id="7873938"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7873940">.</span><span class="ident" id="7873941">teardownCmds</span><span class="op" id="7873953">,</span>&nbsp;<span class="op" id="7873955">&amp;</span><span class="ident" id="7873956"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7873960">.</span><span class="ident" id="7873961">Cmd</span><span class="op" id="7873964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873968">Path</span><span class="op" id="7873972">:</span>&nbsp;<span class="ident" id="7873974"><a href="/net/interface_linux_test.go.html#7873713">xname</a></span><span class="op" id="7873979">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873983">Args</span><span class="op" id="7873987">:</span>&nbsp;<span class="op" id="7873989">[</span><span class="op" id="7873990">]</span><span class="builtintype" id="7873991">string</span><span class="op" id="7873997">{</span><span class="string" id="7873998">&#34;ip&#34;</span><span class="op" id="7874002">,</span>&nbsp;<span class="string" id="7874004">&#34;link&#34;</span><span class="op" id="7874010">,</span>&nbsp;<span class="string" id="7874012">&#34;delete&#34;</span><span class="op" id="7874020">,</span>&nbsp;<span class="ident" id="7874022"><a href="/net/interface_linux_test.go.html#7873617">ti</a></span><span class="op" id="7874024">.</span><span class="ident" id="7874025">name</span><span class="op" id="7874029">,</span>&nbsp;<span class="string" id="7874031">&#34;type&#34;</span><span class="op" id="7874037">,</span>&nbsp;<span class="string" id="7874039">&#34;dummy&#34;</span><span class="op" id="7874046">}</span><span class="op" id="7874047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874050">}</span><span class="op" id="7874051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874054">return</span>&nbsp;<span class="ident" id="7874061">nil</span><br>
<span class="lineno"></span><span class="op" id="7874065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="7874068">func</span>&nbsp;<span class="op" id="7874073">(</span><span class="ident" id="7874074">ti</span>&nbsp;<span class="op" id="7874077">*</span><span class="ident" id="7874078"><a href="/net/interface_unix_test.go.html#7881723">testInterface</a></span><span class="op" id="7874091">)</span>&nbsp;<span class="ident" id="7874093">setPointToPoint</span><span class="op" id="7874108">(</span><span class="ident" id="7874109">suffix</span>&nbsp;<span class="builtintype" id="7874116">int</span><span class="op" id="7874119">,</span>&nbsp;<span class="ident" id="7874121">local</span><span class="op" id="7874126">,</span>&nbsp;<span class="ident" id="7874128">remote</span>&nbsp;<span class="builtintype" id="7874135">string</span><span class="op" id="7874141">)</span>&nbsp;<span class="builtintype" id="7874143">error</span>&nbsp;<span class="op" id="7874149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874152"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874154">.</span><span class="ident" id="7874155">name</span>&nbsp;<span class="op" id="7874160">=</span>&nbsp;<span class="ident" id="7874162"><a href="/net/interface_linux_test.go.html#7873580">fmt</a></span><span class="op" id="7874165">.</span><span class="ident" id="7874166">Sprintf</span><span class="op" id="7874173">(</span><span class="string" id="7874174">&#34;gotest%d&#34;</span><span class="op" id="7874184">,</span>&nbsp;<span class="ident" id="7874186"><a href="/net/interface_linux_test.go.html#7874109">suffix</a></span><span class="op" id="7874192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874195"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874197">.</span><span class="ident" id="7874198">local</span>&nbsp;<span class="op" id="7874204">=</span>&nbsp;<span class="ident" id="7874206"><a href="/net/interface_linux_test.go.html#7874121">local</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874213"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874215">.</span><span class="ident" id="7874216">remote</span>&nbsp;<span class="op" id="7874223">=</span>&nbsp;<span class="ident" id="7874225"><a href="/net/interface_linux_test.go.html#7874128">remote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874233">xname</span><span class="op" id="7874238">,</span>&nbsp;<span class="ident" id="7874240">err</span>&nbsp;<span class="op" id="7874244">:=</span>&nbsp;<span class="ident" id="7874247"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7874251">.</span><span class="ident" id="7874252">LookPath</span><span class="op" id="7874260">(</span><span class="string" id="7874261">&#34;ip&#34;</span><span class="op" id="7874265">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874268">if</span>&nbsp;<span class="ident" id="7874271"><a href="/net/interface_linux_test.go.html#7874240">err</a></span>&nbsp;<span class="op" id="7874275">!=</span>&nbsp;<span class="ident" id="7874278">nil</span>&nbsp;<span class="op" id="7874282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874286">return</span>&nbsp;<span class="ident" id="7874293"><a href="/net/interface_linux_test.go.html#7874240">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874301"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874303">.</span><span class="ident" id="7874304">setupCmds</span>&nbsp;<span class="op" id="7874314">=</span>&nbsp;<span class="builtinfunc" id="7874316">append</span><span class="op" id="7874322">(</span><span class="ident" id="7874323"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874325">.</span><span class="ident" id="7874326">setupCmds</span><span class="op" id="7874335">,</span>&nbsp;<span class="op" id="7874337">&amp;</span><span class="ident" id="7874338"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7874342">.</span><span class="ident" id="7874343">Cmd</span><span class="op" id="7874346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874350">Path</span><span class="op" id="7874354">:</span>&nbsp;<span class="ident" id="7874356"><a href="/net/interface_linux_test.go.html#7874233">xname</a></span><span class="op" id="7874361">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874365">Args</span><span class="op" id="7874369">:</span>&nbsp;<span class="op" id="7874371">[</span><span class="op" id="7874372">]</span><span class="builtintype" id="7874373">string</span><span class="op" id="7874379">{</span><span class="string" id="7874380">&#34;ip&#34;</span><span class="op" id="7874384">,</span>&nbsp;<span class="string" id="7874386">&#34;tunnel&#34;</span><span class="op" id="7874394">,</span>&nbsp;<span class="string" id="7874396">&#34;add&#34;</span><span class="op" id="7874401">,</span>&nbsp;<span class="ident" id="7874403"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874405">.</span><span class="ident" id="7874406">name</span><span class="op" id="7874410">,</span>&nbsp;<span class="string" id="7874412">&#34;mode&#34;</span><span class="op" id="7874418">,</span>&nbsp;<span class="string" id="7874420">&#34;gre&#34;</span><span class="op" id="7874425">,</span>&nbsp;<span class="string" id="7874427">&#34;local&#34;</span><span class="op" id="7874434">,</span>&nbsp;<span class="ident" id="7874436"><a href="/net/interface_linux_test.go.html#7874121">local</a></span><span class="op" id="7874441">,</span>&nbsp;<span class="string" id="7874443">&#34;remote&#34;</span><span class="op" id="7874451">,</span>&nbsp;<span class="ident" id="7874453"><a href="/net/interface_linux_test.go.html#7874128">remote</a></span><span class="op" id="7874459">}</span><span class="op" id="7874460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874463">}</span><span class="op" id="7874464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874467"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874469">.</span><span class="ident" id="7874470">teardownCmds</span>&nbsp;<span class="op" id="7874483">=</span>&nbsp;<span class="builtinfunc" id="7874485">append</span><span class="op" id="7874491">(</span><span class="ident" id="7874492"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874494">.</span><span class="ident" id="7874495">teardownCmds</span><span class="op" id="7874507">,</span>&nbsp;<span class="op" id="7874509">&amp;</span><span class="ident" id="7874510"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7874514">.</span><span class="ident" id="7874515">Cmd</span><span class="op" id="7874518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874522">Path</span><span class="op" id="7874526">:</span>&nbsp;<span class="ident" id="7874528"><a href="/net/interface_linux_test.go.html#7874233">xname</a></span><span class="op" id="7874533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874537">Args</span><span class="op" id="7874541">:</span>&nbsp;<span class="op" id="7874543">[</span><span class="op" id="7874544">]</span><span class="builtintype" id="7874545">string</span><span class="op" id="7874551">{</span><span class="string" id="7874552">&#34;ip&#34;</span><span class="op" id="7874556">,</span>&nbsp;<span class="string" id="7874558">&#34;tunnel&#34;</span><span class="op" id="7874566">,</span>&nbsp;<span class="string" id="7874568">&#34;del&#34;</span><span class="op" id="7874573">,</span>&nbsp;<span class="ident" id="7874575"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874577">.</span><span class="ident" id="7874578">name</span><span class="op" id="7874582">,</span>&nbsp;<span class="string" id="7874584">&#34;mode&#34;</span><span class="op" id="7874590">,</span>&nbsp;<span class="string" id="7874592">&#34;gre&#34;</span><span class="op" id="7874597">,</span>&nbsp;<span class="string" id="7874599">&#34;local&#34;</span><span class="op" id="7874606">,</span>&nbsp;<span class="ident" id="7874608"><a href="/net/interface_linux_test.go.html#7874121">local</a></span><span class="op" id="7874613">,</span>&nbsp;<span class="string" id="7874615">&#34;remote&#34;</span><span class="op" id="7874623">,</span>&nbsp;<span class="ident" id="7874625"><a href="/net/interface_linux_test.go.html#7874128">remote</a></span><span class="op" id="7874631">}</span><span class="op" id="7874632">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874635">}</span><span class="op" id="7874636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874639"><a href="/net/interface_linux_test.go.html#7874233">xname</a></span><span class="op" id="7874644">,</span>&nbsp;<span class="ident" id="7874646"><a href="/net/interface_linux_test.go.html#7874240">err</a></span>&nbsp;<span class="op" id="7874650">=</span>&nbsp;<span class="ident" id="7874652"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7874656">.</span><span class="ident" id="7874657">LookPath</span><span class="op" id="7874665">(</span><span class="string" id="7874666">&#34;ifconfig&#34;</span><span class="op" id="7874676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874679">if</span>&nbsp;<span class="ident" id="7874682"><a href="/net/interface_linux_test.go.html#7874240">err</a></span>&nbsp;<span class="op" id="7874686">!=</span>&nbsp;<span class="ident" id="7874689">nil</span>&nbsp;<span class="op" id="7874693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874697">return</span>&nbsp;<span class="ident" id="7874704"><a href="/net/interface_linux_test.go.html#7874240">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874709">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874712"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874714">.</span><span class="ident" id="7874715">setupCmds</span>&nbsp;<span class="op" id="7874725">=</span>&nbsp;<span class="builtinfunc" id="7874727">append</span><span class="op" id="7874733">(</span><span class="ident" id="7874734"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874736">.</span><span class="ident" id="7874737">setupCmds</span><span class="op" id="7874746">,</span>&nbsp;<span class="op" id="7874748">&amp;</span><span class="ident" id="7874749"><a href="/net/interface_linux_test.go.html#7873587">exec</a></span><span class="op" id="7874753">.</span><span class="ident" id="7874754">Cmd</span><span class="op" id="7874757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874761">Path</span><span class="op" id="7874765">:</span>&nbsp;<span class="ident" id="7874767"><a href="/net/interface_linux_test.go.html#7874233">xname</a></span><span class="op" id="7874772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874776">Args</span><span class="op" id="7874780">:</span>&nbsp;<span class="op" id="7874782">[</span><span class="op" id="7874783">]</span><span class="builtintype" id="7874784">string</span><span class="op" id="7874790">{</span><span class="string" id="7874791">&#34;ifconfig&#34;</span><span class="op" id="7874801">,</span>&nbsp;<span class="ident" id="7874803"><a href="/net/interface_linux_test.go.html#7874074">ti</a></span><span class="op" id="7874805">.</span><span class="ident" id="7874806">name</span><span class="op" id="7874810">,</span>&nbsp;<span class="string" id="7874812">&#34;inet&#34;</span><span class="op" id="7874818">,</span>&nbsp;<span class="ident" id="7874820"><a href="/net/interface_linux_test.go.html#7874121">local</a></span><span class="op" id="7874825">,</span>&nbsp;<span class="string" id="7874827">&#34;dstaddr&#34;</span><span class="op" id="7874836">,</span>&nbsp;<span class="ident" id="7874838"><a href="/net/interface_linux_test.go.html#7874128">remote</a></span><span class="op" id="7874844">}</span><span class="op" id="7874845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874848">}</span><span class="op" id="7874849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874852">return</span>&nbsp;<span class="ident" id="7874859">nil</span><br>
<span class="lineno">55</span><span class="op" id="7874863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874866">const</span>&nbsp;<span class="op" id="7874872">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874875">numOfTestIPv4MCAddrs</span>&nbsp;<span class="op" id="7874896">=</span>&nbsp;<span class="num" id="7874898">14</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874902">numOfTestIPv6MCAddrs</span>&nbsp;<span class="op" id="7874923">=</span>&nbsp;<span class="num" id="7874925">18</span><br>
<span class="lineno">60</span><span class="op" id="7874928">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874931">var</span>&nbsp;<span class="op" id="7874935">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874938">igmpInterfaceTable</span>&nbsp;<span class="op" id="7874957">=</span>&nbsp;<span class="op" id="7874959">[</span><span class="op" id="7874960">]</span><span class="ident" id="7874961"><a href="/net/interface.go.html#1406383">Interface</a></span><span class="op" id="7874970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874974">{</span><span class="ident" id="7874975">Name</span><span class="op" id="7874979">:</span>&nbsp;<span class="string" id="7874981">&#34;lo&#34;</span><span class="op" id="7874985">}</span><span class="op" id="7874986">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874990">{</span><span class="ident" id="7874991">Name</span><span class="op" id="7874995">:</span>&nbsp;<span class="string" id="7874997">&#34;eth0&#34;</span><span class="op" id="7875003">}</span><span class="op" id="7875004">,</span>&nbsp;<span class="op" id="7875006">{</span><span class="ident" id="7875007">Name</span><span class="op" id="7875011">:</span>&nbsp;<span class="string" id="7875013">&#34;eth1&#34;</span><span class="op" id="7875019">}</span><span class="op" id="7875020">,</span>&nbsp;<span class="op" id="7875022">{</span><span class="ident" id="7875023">Name</span><span class="op" id="7875027">:</span>&nbsp;<span class="string" id="7875029">&#34;eth2&#34;</span><span class="op" id="7875035">}</span><span class="op" id="7875036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875040">{</span><span class="ident" id="7875041">Name</span><span class="op" id="7875045">:</span>&nbsp;<span class="string" id="7875047">&#34;eth0.100&#34;</span><span class="op" id="7875057">}</span><span class="op" id="7875058">,</span>&nbsp;<span class="op" id="7875060">{</span><span class="ident" id="7875061">Name</span><span class="op" id="7875065">:</span>&nbsp;<span class="string" id="7875067">&#34;eth0.101&#34;</span><span class="op" id="7875077">}</span><span class="op" id="7875078">,</span>&nbsp;<span class="op" id="7875080">{</span><span class="ident" id="7875081">Name</span><span class="op" id="7875085">:</span>&nbsp;<span class="string" id="7875087">&#34;eth0.102&#34;</span><span class="op" id="7875097">}</span><span class="op" id="7875098">,</span>&nbsp;<span class="op" id="7875100">{</span><span class="ident" id="7875101">Name</span><span class="op" id="7875105">:</span>&nbsp;<span class="string" id="7875107">&#34;eth0.103&#34;</span><span class="op" id="7875117">}</span><span class="op" id="7875118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875122">{</span><span class="ident" id="7875123">Name</span><span class="op" id="7875127">:</span>&nbsp;<span class="string" id="7875129">&#34;device1tap2&#34;</span><span class="op" id="7875142">}</span><span class="op" id="7875143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875149">igmp6InterfaceTable</span>&nbsp;<span class="op" id="7875169">=</span>&nbsp;<span class="op" id="7875171">[</span><span class="op" id="7875172">]</span><span class="ident" id="7875173"><a href="/net/interface.go.html#1406383">Interface</a></span><span class="op" id="7875182">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875186">{</span><span class="ident" id="7875187">Name</span><span class="op" id="7875191">:</span>&nbsp;<span class="string" id="7875193">&#34;lo&#34;</span><span class="op" id="7875197">}</span><span class="op" id="7875198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875202">{</span><span class="ident" id="7875203">Name</span><span class="op" id="7875207">:</span>&nbsp;<span class="string" id="7875209">&#34;eth0&#34;</span><span class="op" id="7875215">}</span><span class="op" id="7875216">,</span>&nbsp;<span class="op" id="7875218">{</span><span class="ident" id="7875219">Name</span><span class="op" id="7875223">:</span>&nbsp;<span class="string" id="7875225">&#34;eth1&#34;</span><span class="op" id="7875231">}</span><span class="op" id="7875232">,</span>&nbsp;<span class="op" id="7875234">{</span><span class="ident" id="7875235">Name</span><span class="op" id="7875239">:</span>&nbsp;<span class="string" id="7875241">&#34;eth2&#34;</span><span class="op" id="7875247">}</span><span class="op" id="7875248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875252">{</span><span class="ident" id="7875253">Name</span><span class="op" id="7875257">:</span>&nbsp;<span class="string" id="7875259">&#34;eth0.100&#34;</span><span class="op" id="7875269">}</span><span class="op" id="7875270">,</span>&nbsp;<span class="op" id="7875272">{</span><span class="ident" id="7875273">Name</span><span class="op" id="7875277">:</span>&nbsp;<span class="string" id="7875279">&#34;eth0.101&#34;</span><span class="op" id="7875289">}</span><span class="op" id="7875290">,</span>&nbsp;<span class="op" id="7875292">{</span><span class="ident" id="7875293">Name</span><span class="op" id="7875297">:</span>&nbsp;<span class="string" id="7875299">&#34;eth0.102&#34;</span><span class="op" id="7875309">}</span><span class="op" id="7875310">,</span>&nbsp;<span class="op" id="7875312">{</span><span class="ident" id="7875313">Name</span><span class="op" id="7875317">:</span>&nbsp;<span class="string" id="7875319">&#34;eth0.103&#34;</span><span class="op" id="7875329">}</span><span class="op" id="7875330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875334">{</span><span class="ident" id="7875335">Name</span><span class="op" id="7875339">:</span>&nbsp;<span class="string" id="7875341">&#34;device1tap2&#34;</span><span class="op" id="7875354">}</span><span class="op" id="7875355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875359">{</span><span class="ident" id="7875360">Name</span><span class="op" id="7875364">:</span>&nbsp;<span class="string" id="7875366">&#34;pan0&#34;</span><span class="op" id="7875372">}</span><span class="op" id="7875373">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875376">}</span><br>
<span class="lineno"></span><span class="op" id="7875378">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7875381">func</span>&nbsp;<span class="ident" id="7875386">TestParseProcNet</span><span class="op" id="7875402">(</span><span class="ident" id="7875403">t</span>&nbsp;<span class="op" id="7875405">*</span><span class="ident" id="7875406"><a href="/net/interface_linux_test.go.html#7873598">testing</a></span><span class="op" id="7875413">.</span><span class="ident" id="7875414">T</span><span class="op" id="7875415">)</span>&nbsp;<span class="op" id="7875417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875420">defer</span>&nbsp;<span class="keyword" id="7875426">func</span><span class="op" id="7875430">(</span><span class="op" id="7875431">)</span>&nbsp;<span class="op" id="7875433">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875437">if</span>&nbsp;<span class="ident" id="7875440">p</span>&nbsp;<span class="op" id="7875442">:=</span>&nbsp;<span class="builtinfunc" id="7875445">recover</span><span class="op" id="7875452">(</span><span class="op" id="7875453">)</span><span class="op" id="7875454">;</span>&nbsp;<span class="ident" id="7875456"><a href="/net/interface_linux_test.go.html#7875440">p</a></span>&nbsp;<span class="op" id="7875458">!=</span>&nbsp;<span class="ident" id="7875461">nil</span>&nbsp;<span class="op" id="7875465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875470"><a href="/net/interface_linux_test.go.html#7875403">t</a></span><span class="op" id="7875471">.</span><span class="ident" id="7875472">Fatalf</span><span class="op" id="7875478">(</span><span class="string" id="7875479">&#34;parseProcNetIGMP&nbsp;or&nbsp;parseProtNetIGMP6&nbsp;panicked:&nbsp;%v&#34;</span><span class="op" id="7875531">,</span>&nbsp;<span class="ident" id="7875533"><a href="/net/interface_linux_test.go.html#7875440">p</a></span><span class="op" id="7875534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875541">}</span><span class="op" id="7875542">(</span><span class="op" id="7875543">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875547">var</span>&nbsp;<span class="ident" id="7875551">ifmat4</span>&nbsp;<span class="op" id="7875558">[</span><span class="op" id="7875559">]</span><span class="ident" id="7875560"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875566">for</span>&nbsp;<span class="ident" id="7875570">_</span><span class="op" id="7875571">,</span>&nbsp;<span class="ident" id="7875573">ifi</span>&nbsp;<span class="op" id="7875577">:=</span>&nbsp;<span class="keyword" id="7875580">range</span>&nbsp;<span class="ident" id="7875586"><a href="/net/interface_linux_test.go.html#7874938">igmpInterfaceTable</a></span>&nbsp;<span class="op" id="7875605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875609">ifmat</span>&nbsp;<span class="op" id="7875615">:=</span>&nbsp;<span class="ident" id="7875618"><a href="/net/interface_linux.go.html#1414747">parseProcNetIGMP</a></span><span class="op" id="7875634">(</span><span class="string" id="7875635">&#34;testdata/igmp&#34;</span><span class="op" id="7875650">,</span>&nbsp;<span class="op" id="7875652">&amp;</span><span class="ident" id="7875653"><a href="/net/interface_linux_test.go.html#7875573">ifi</a></span><span class="op" id="7875656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875660"><a href="/net/interface_linux_test.go.html#7875551">ifmat4</a></span>&nbsp;<span class="op" id="7875667">=</span>&nbsp;<span class="builtinfunc" id="7875669">append</span><span class="op" id="7875675">(</span><span class="ident" id="7875676"><a href="/net/interface_linux_test.go.html#7875551">ifmat4</a></span><span class="op" id="7875682">,</span>&nbsp;<span class="ident" id="7875684"><a href="/net/interface_linux_test.go.html#7875609">ifmat</a></span><span class="op" id="7875689">...</span><span class="op" id="7875692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875695">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875698">if</span>&nbsp;<span class="builtinfunc" id="7875701">len</span><span class="op" id="7875704">(</span><span class="ident" id="7875705"><a href="/net/interface_linux_test.go.html#7875551">ifmat4</a></span><span class="op" id="7875711">)</span>&nbsp;<span class="op" id="7875713">!=</span>&nbsp;<span class="ident" id="7875716"><a href="/net/interface_linux_test.go.html#7874875">numOfTestIPv4MCAddrs</a></span>&nbsp;<span class="op" id="7875737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875741"><a href="/net/interface_linux_test.go.html#7875403">t</a></span><span class="op" id="7875742">.</span><span class="ident" id="7875743">Fatalf</span><span class="op" id="7875749">(</span><span class="string" id="7875750">&#34;parseProcNetIGMP&nbsp;returns&nbsp;%v&nbsp;addresses,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7875802">,</span>&nbsp;<span class="builtinfunc" id="7875804">len</span><span class="op" id="7875807">(</span><span class="ident" id="7875808"><a href="/net/interface_linux_test.go.html#7875551">ifmat4</a></span><span class="op" id="7875814">)</span><span class="op" id="7875815">,</span>&nbsp;<span class="ident" id="7875817"><a href="/net/interface_linux_test.go.html#7874875">numOfTestIPv4MCAddrs</a></span><span class="op" id="7875837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875844">var</span>&nbsp;<span class="ident" id="7875848">ifmat6</span>&nbsp;<span class="op" id="7875855">[</span><span class="op" id="7875856">]</span><span class="ident" id="7875857"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875863">for</span>&nbsp;<span class="ident" id="7875867">_</span><span class="op" id="7875868">,</span>&nbsp;<span class="ident" id="7875870">ifi</span>&nbsp;<span class="op" id="7875874">:=</span>&nbsp;<span class="keyword" id="7875877">range</span>&nbsp;<span class="ident" id="7875883"><a href="/net/interface_linux_test.go.html#7875149">igmp6InterfaceTable</a></span>&nbsp;<span class="op" id="7875903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875907">ifmat</span>&nbsp;<span class="op" id="7875913">:=</span>&nbsp;<span class="ident" id="7875916"><a href="/net/interface_linux.go.html#1415633">parseProcNetIGMP6</a></span><span class="op" id="7875933">(</span><span class="string" id="7875934">&#34;testdata/igmp6&#34;</span><span class="op" id="7875950">,</span>&nbsp;<span class="op" id="7875952">&amp;</span><span class="ident" id="7875953"><a href="/net/interface_linux_test.go.html#7875870">ifi</a></span><span class="op" id="7875956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875960"><a href="/net/interface_linux_test.go.html#7875848">ifmat6</a></span>&nbsp;<span class="op" id="7875967">=</span>&nbsp;<span class="builtinfunc" id="7875969">append</span><span class="op" id="7875975">(</span><span class="ident" id="7875976"><a href="/net/interface_linux_test.go.html#7875848">ifmat6</a></span><span class="op" id="7875982">,</span>&nbsp;<span class="ident" id="7875984"><a href="/net/interface_linux_test.go.html#7875907">ifmat</a></span><span class="op" id="7875989">...</span><span class="op" id="7875992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875998">if</span>&nbsp;<span class="builtinfunc" id="7876001">len</span><span class="op" id="7876004">(</span><span class="ident" id="7876005"><a href="/net/interface_linux_test.go.html#7875848">ifmat6</a></span><span class="op" id="7876011">)</span>&nbsp;<span class="op" id="7876013">!=</span>&nbsp;<span class="ident" id="7876016"><a href="/net/interface_linux_test.go.html#7874902">numOfTestIPv6MCAddrs</a></span>&nbsp;<span class="op" id="7876037">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876041"><a href="/net/interface_linux_test.go.html#7875403">t</a></span><span class="op" id="7876042">.</span><span class="ident" id="7876043">Fatalf</span><span class="op" id="7876049">(</span><span class="string" id="7876050">&#34;parseProcNetIGMP6&nbsp;returns&nbsp;%v&nbsp;addresses,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7876103">,</span>&nbsp;<span class="builtinfunc" id="7876105">len</span><span class="op" id="7876108">(</span><span class="ident" id="7876109"><a href="/net/interface_linux_test.go.html#7875848">ifmat6</a></span><span class="op" id="7876115">)</span><span class="op" id="7876116">,</span>&nbsp;<span class="ident" id="7876118"><a href="/net/interface_linux_test.go.html#7874902">numOfTestIPv6MCAddrs</a></span><span class="op" id="7876138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876141">}</span><br>
<span class="lineno"></span><span class="op" id="7876143">}</span>
</div>
</body>
</html>
