<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html" class="current">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2529208">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2529263">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2529317">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2529368">package</span>&nbsp;<span class="ident" id="2529376">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2529380">import</span>&nbsp;<span class="op" id="2529387">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2529390">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2529401">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2529408">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2529411">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2529476">func</span>&nbsp;<span class="ident" id="2529481">Getpagesize</span><span class="op" id="2529492">(</span><span class="op" id="2529493">)</span>&nbsp;<span class="builtintype" id="2529495">int</span>&nbsp;<span class="op" id="2529499">{</span>&nbsp;<span class="keyword" id="2529501">return</span>&nbsp;<span class="ident" id="2529508">syscall</span><span class="op" id="2529515">.</span><span class="ident" id="2529516">Getpagesize</span><span class="op" id="2529527">(</span><span class="op" id="2529528">)</span>&nbsp;<span class="op" id="2529530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2529533">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2529599">type</span>&nbsp;<span class="ident" id="2529604">FileInfo</span>&nbsp;<span class="keyword" id="2529613">interface</span>&nbsp;<span class="op" id="2529623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2529626">Name</span><span class="op" id="2529630">(</span><span class="op" id="2529631">)</span>&nbsp;<span class="builtintype" id="2529633">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2529646">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2529672">Size</span><span class="op" id="2529676">(</span><span class="op" id="2529677">)</span>&nbsp;<span class="ident" id="2529679">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2529692">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2529759">Mode</span><span class="op" id="2529763">(</span><span class="op" id="2529764">)</span>&nbsp;<span class="ident" id="2529766">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2529779">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2529798">ModTime</span><span class="op" id="2529805">(</span><span class="op" id="2529806">)</span>&nbsp;<span class="ident" id="2529808">time</span><span class="op" id="2529812">.</span><span class="ident" id="2529813">Time</span>&nbsp;<span class="comment" id="2529818">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2529840">IsDir</span><span class="op" id="2529845">(</span><span class="op" id="2529846">)</span>&nbsp;<span class="builtintype" id="2529848">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2529860">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2529896">Sys</span><span class="op" id="2529899">(</span><span class="op" id="2529900">)</span>&nbsp;<span class="keyword" id="2529902">interface</span><span class="op" id="2529911">{</span><span class="op" id="2529912">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2529916">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2529959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2529962">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2530022">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2530083">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2530139">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2530199">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2530252">type</span>&nbsp;<span class="ident" id="2530257">FileMode</span>&nbsp;<span class="builtintype" id="2530266">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2530274">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2530351">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2530431">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2530507">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2530582">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2530628">const</span>&nbsp;<span class="op" id="2530634">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2530637">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2530682">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2530726">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2530741">FileMode</span>&nbsp;<span class="op" id="2530750">=</span>&nbsp;<span class="num" id="2530752">1</span>&nbsp;<span class="op" id="2530754">&lt;&lt;</span>&nbsp;<span class="op" id="2530757">(</span><span class="num" id="2530758">32</span>&nbsp;<span class="op" id="2530761">-</span>&nbsp;<span class="num" id="2530763">1</span>&nbsp;<span class="op" id="2530765">-</span>&nbsp;<span class="ident" id="2530767">iota</span><span class="op" id="2530771">)</span>&nbsp;<span class="comment" id="2530773">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2530795">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2530842">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2530861">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2530908">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2530929">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2530976">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531014">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531061">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531082">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531129">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531148">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531195">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531220">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531267">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531293">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531340">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531354">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531401">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531415">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531462">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531515">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531562">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2531577">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531642">ModeType</span>&nbsp;<span class="op" id="2531651">=</span>&nbsp;<span class="ident" id="2531653">ModeDir</span>&nbsp;<span class="op" id="2531661">|</span>&nbsp;<span class="ident" id="2531663">ModeSymlink</span>&nbsp;<span class="op" id="2531675">|</span>&nbsp;<span class="ident" id="2531677">ModeNamedPipe</span>&nbsp;<span class="op" id="2531691">|</span>&nbsp;<span class="ident" id="2531693">ModeSocket</span>&nbsp;<span class="op" id="2531704">|</span>&nbsp;<span class="ident" id="2531706">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531719">ModePerm</span>&nbsp;<span class="ident" id="2531728">FileMode</span>&nbsp;<span class="op" id="2531737">=</span>&nbsp;<span class="num" id="2531739">0777</span>&nbsp;<span class="comment" id="2531744">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2531763">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2531766">func</span>&nbsp;<span class="op" id="2531771">(</span><span class="ident" id="2531772">m</span>&nbsp;<span class="ident" id="2531774">FileMode</span><span class="op" id="2531782">)</span>&nbsp;<span class="ident" id="2531784">String</span><span class="op" id="2531790">(</span><span class="op" id="2531791">)</span>&nbsp;<span class="builtintype" id="2531793">string</span>&nbsp;<span class="op" id="2531800">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2531803">const</span>&nbsp;<span class="ident" id="2531809">str</span>&nbsp;<span class="op" id="2531813">=</span>&nbsp;<span class="string" id="2531815">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2531831">var</span>&nbsp;<span class="ident" id="2531835">buf</span>&nbsp;<span class="op" id="2531839">[</span><span class="num" id="2531840">32</span><span class="op" id="2531842">]</span><span class="builtintype" id="2531843">byte</span>&nbsp;<span class="comment" id="2531848">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531868">w</span>&nbsp;<span class="op" id="2531870">:=</span>&nbsp;<span class="num" id="2531873">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2531876">for</span>&nbsp;<span class="ident" id="2531880">i</span><span class="op" id="2531881">,</span>&nbsp;<span class="ident" id="2531883">c</span>&nbsp;<span class="op" id="2531885">:=</span>&nbsp;<span class="keyword" id="2531888">range</span>&nbsp;<span class="ident" id="2531894">str</span>&nbsp;<span class="op" id="2531898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2531902">if</span>&nbsp;<span class="ident" id="2531905">m</span><span class="op" id="2531906">&amp;</span><span class="op" id="2531907">(</span><span class="num" id="2531908">1</span><span class="op" id="2531909">&lt;&lt;</span><span class="builtintype" id="2531911">uint</span><span class="op" id="2531915">(</span><span class="num" id="2531916">32</span><span class="op" id="2531918">-</span><span class="num" id="2531919">1</span><span class="op" id="2531920">-</span><span class="ident" id="2531921">i</span><span class="op" id="2531922">)</span><span class="op" id="2531923">)</span>&nbsp;<span class="op" id="2531925">!=</span>&nbsp;<span class="num" id="2531928">0</span>&nbsp;<span class="op" id="2531930">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531935">buf</span><span class="op" id="2531938">[</span><span class="ident" id="2531939">w</span><span class="op" id="2531940">]</span>&nbsp;<span class="op" id="2531942">=</span>&nbsp;<span class="builtintype" id="2531944">byte</span><span class="op" id="2531948">(</span><span class="ident" id="2531949">c</span><span class="op" id="2531950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531955">w</span><span class="op" id="2531956">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2531961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2531964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2531967">if</span>&nbsp;<span class="ident" id="2531970">w</span>&nbsp;<span class="op" id="2531972">==</span>&nbsp;<span class="num" id="2531975">0</span>&nbsp;<span class="op" id="2531977">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531981">buf</span><span class="op" id="2531984">[</span><span class="ident" id="2531985">w</span><span class="op" id="2531986">]</span>&nbsp;<span class="op" id="2531988">=</span>&nbsp;<span class="string" id="2531990">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2531996">w</span><span class="op" id="2531997">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2532001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532004">const</span>&nbsp;<span class="ident" id="2532010">rwx</span>&nbsp;<span class="op" id="2532014">=</span>&nbsp;<span class="string" id="2532016">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532029">for</span>&nbsp;<span class="ident" id="2532033">i</span><span class="op" id="2532034">,</span>&nbsp;<span class="ident" id="2532036">c</span>&nbsp;<span class="op" id="2532038">:=</span>&nbsp;<span class="keyword" id="2532041">range</span>&nbsp;<span class="ident" id="2532047">rwx</span>&nbsp;<span class="op" id="2532051">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532055">if</span>&nbsp;<span class="ident" id="2532058">m</span><span class="op" id="2532059">&amp;</span><span class="op" id="2532060">(</span><span class="num" id="2532061">1</span><span class="op" id="2532062">&lt;&lt;</span><span class="builtintype" id="2532064">uint</span><span class="op" id="2532068">(</span><span class="num" id="2532069">9</span><span class="op" id="2532070">-</span><span class="num" id="2532071">1</span><span class="op" id="2532072">-</span><span class="ident" id="2532073">i</span><span class="op" id="2532074">)</span><span class="op" id="2532075">)</span>&nbsp;<span class="op" id="2532077">!=</span>&nbsp;<span class="num" id="2532080">0</span>&nbsp;<span class="op" id="2532082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2532087">buf</span><span class="op" id="2532090">[</span><span class="ident" id="2532091">w</span><span class="op" id="2532092">]</span>&nbsp;<span class="op" id="2532094">=</span>&nbsp;<span class="builtintype" id="2532096">byte</span><span class="op" id="2532100">(</span><span class="ident" id="2532101">c</span><span class="op" id="2532102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2532106">}</span>&nbsp;<span class="keyword" id="2532108">else</span>&nbsp;<span class="op" id="2532113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2532118">buf</span><span class="op" id="2532121">[</span><span class="ident" id="2532122">w</span><span class="op" id="2532123">]</span>&nbsp;<span class="op" id="2532125">=</span>&nbsp;<span class="string" id="2532127">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2532133">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2532137">w</span><span class="op" id="2532138">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2532142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532145">return</span>&nbsp;<span class="builtintype" id="2532152">string</span><span class="op" id="2532158">(</span><span class="ident" id="2532159">buf</span><span class="op" id="2532162">[</span><span class="op" id="2532163">:</span><span class="ident" id="2532164">w</span><span class="op" id="2532165">]</span><span class="op" id="2532166">)</span><br>
<span class="lineno"></span><span class="op" id="2532168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2532171">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2532221">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2532278">func</span>&nbsp;<span class="op" id="2532283">(</span><span class="ident" id="2532284">m</span>&nbsp;<span class="ident" id="2532286">FileMode</span><span class="op" id="2532294">)</span>&nbsp;<span class="ident" id="2532296">IsDir</span><span class="op" id="2532301">(</span><span class="op" id="2532302">)</span>&nbsp;<span class="builtintype" id="2532304">bool</span>&nbsp;<span class="op" id="2532309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532312">return</span>&nbsp;<span class="ident" id="2532319">m</span><span class="op" id="2532320">&amp;</span><span class="ident" id="2532321">ModeDir</span>&nbsp;<span class="op" id="2532329">!=</span>&nbsp;<span class="num" id="2532332">0</span><br>
<span class="lineno"></span><span class="op" id="2532334">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2532337">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2532394">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2532447">func</span>&nbsp;<span class="op" id="2532452">(</span><span class="ident" id="2532453">m</span>&nbsp;<span class="ident" id="2532455">FileMode</span><span class="op" id="2532463">)</span>&nbsp;<span class="ident" id="2532465">IsRegular</span><span class="op" id="2532474">(</span><span class="op" id="2532475">)</span>&nbsp;<span class="builtintype" id="2532477">bool</span>&nbsp;<span class="op" id="2532482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532485">return</span>&nbsp;<span class="ident" id="2532492">m</span><span class="op" id="2532493">&amp;</span><span class="ident" id="2532494">ModeType</span>&nbsp;<span class="op" id="2532503">==</span>&nbsp;<span class="num" id="2532506">0</span><br>
<span class="lineno">95</span><span class="op" id="2532508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2532511">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2532558">func</span>&nbsp;<span class="op" id="2532563">(</span><span class="ident" id="2532564">m</span>&nbsp;<span class="ident" id="2532566">FileMode</span><span class="op" id="2532574">)</span>&nbsp;<span class="ident" id="2532576">Perm</span><span class="op" id="2532580">(</span><span class="op" id="2532581">)</span>&nbsp;<span class="ident" id="2532583">FileMode</span>&nbsp;<span class="op" id="2532592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2532595">return</span>&nbsp;<span class="ident" id="2532602">m</span>&nbsp;<span class="op" id="2532604">&amp;</span>&nbsp;<span class="ident" id="2532606">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2532615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2532618">func</span>&nbsp;<span class="op" id="2532623">(</span><span class="ident" id="2532624">fs</span>&nbsp;<span class="op" id="2532627">*</span><span class="ident" id="2532628">fileStat</span><span class="op" id="2532636">)</span>&nbsp;<span class="ident" id="2532638">Name</span><span class="op" id="2532642">(</span><span class="op" id="2532643">)</span>&nbsp;<span class="builtintype" id="2532645">string</span>&nbsp;<span class="op" id="2532652">{</span>&nbsp;<span class="keyword" id="2532654">return</span>&nbsp;<span class="ident" id="2532661">fs</span><span class="op" id="2532663">.</span><span class="ident" id="2532664">name</span>&nbsp;<span class="op" id="2532669">}</span><br>
<span class="lineno"></span><span class="keyword" id="2532671">func</span>&nbsp;<span class="op" id="2532676">(</span><span class="ident" id="2532677">fs</span>&nbsp;<span class="op" id="2532680">*</span><span class="ident" id="2532681">fileStat</span><span class="op" id="2532689">)</span>&nbsp;<span class="ident" id="2532691">IsDir</span><span class="op" id="2532696">(</span><span class="op" id="2532697">)</span>&nbsp;<span class="builtintype" id="2532699">bool</span>&nbsp;&nbsp;<span class="op" id="2532705">{</span>&nbsp;<span class="keyword" id="2532707">return</span>&nbsp;<span class="ident" id="2532714">fs</span><span class="op" id="2532716">.</span><span class="ident" id="2532717">Mode</span><span class="op" id="2532721">(</span><span class="op" id="2532722">)</span><span class="op" id="2532723">.</span><span class="ident" id="2532724">IsDir</span><span class="op" id="2532729">(</span><span class="op" id="2532730">)</span>&nbsp;<span class="op" id="2532732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2532735">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2532799">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2532867">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2532935">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2532983">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2533052">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2533088">func</span>&nbsp;<span class="ident" id="2533093">SameFile</span><span class="op" id="2533101">(</span><span class="ident" id="2533102">fi1</span><span class="op" id="2533105">,</span>&nbsp;<span class="ident" id="2533107">fi2</span>&nbsp;<span class="ident" id="2533111">FileInfo</span><span class="op" id="2533119">)</span>&nbsp;<span class="builtintype" id="2533121">bool</span>&nbsp;<span class="op" id="2533126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2533129">fs1</span><span class="op" id="2533132">,</span>&nbsp;<span class="ident" id="2533134">ok1</span>&nbsp;<span class="op" id="2533138">:=</span>&nbsp;<span class="ident" id="2533141">fi1</span><span class="op" id="2533144">.</span><span class="op" id="2533145">(</span><span class="op" id="2533146">*</span><span class="ident" id="2533147">fileStat</span><span class="op" id="2533155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2533158">fs2</span><span class="op" id="2533161">,</span>&nbsp;<span class="ident" id="2533163">ok2</span>&nbsp;<span class="op" id="2533167">:=</span>&nbsp;<span class="ident" id="2533170">fi2</span><span class="op" id="2533173">.</span><span class="op" id="2533174">(</span><span class="op" id="2533175">*</span><span class="ident" id="2533176">fileStat</span><span class="op" id="2533184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2533187">if</span>&nbsp;<span class="op" id="2533190">!</span><span class="ident" id="2533191">ok1</span>&nbsp;<span class="op" id="2533195">||</span>&nbsp;<span class="op" id="2533198">!</span><span class="ident" id="2533199">ok2</span>&nbsp;<span class="op" id="2533203">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2533207">return</span>&nbsp;<span class="builtintype" id="2533214">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2533221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2533224">return</span>&nbsp;<span class="ident" id="2533231">sameFile</span><span class="op" id="2533239">(</span><span class="ident" id="2533240">fs1</span><span class="op" id="2533243">,</span>&nbsp;<span class="ident" id="2533245">fs2</span><span class="op" id="2533248">)</span><br>
<span class="lineno"></span><span class="op" id="2533250">}</span>
</div>
</body>
</html>
