<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html" class="current">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1418171">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1418226">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1418280">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1418331">package</span>&nbsp;<span class="ident" id="1418339">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1418348">import</span>&nbsp;<span class="string" id="1418355">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1418365">const</span>&nbsp;<span class="op" id="1418371">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418374">c0</span>&nbsp;<span class="op" id="1418377">=</span>&nbsp;<span class="builtintype" id="1418379">uintptr</span><span class="op" id="1418386">(</span><span class="op" id="1418387">(</span><span class="num" id="1418388">8</span><span class="op" id="1418389">-</span><span class="ident" id="1418390">ptrSize</span><span class="op" id="1418397">)</span><span class="op" id="1418398">/</span><span class="num" id="1418399">4</span><span class="op" id="1418400">*</span><span class="num" id="1418401">2860486313</span>&nbsp;<span class="op" id="1418412">+</span>&nbsp;<span class="op" id="1418414">(</span><span class="ident" id="1418415">ptrSize</span><span class="op" id="1418422">-</span><span class="num" id="1418423">4</span><span class="op" id="1418424">)</span><span class="op" id="1418425">/</span><span class="num" id="1418426">4</span><span class="op" id="1418427">*</span><span class="num" id="1418428">33054211828000289</span><span class="op" id="1418445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418448">c1</span>&nbsp;<span class="op" id="1418451">=</span>&nbsp;<span class="builtintype" id="1418453">uintptr</span><span class="op" id="1418460">(</span><span class="op" id="1418461">(</span><span class="num" id="1418462">8</span><span class="op" id="1418463">-</span><span class="ident" id="1418464">ptrSize</span><span class="op" id="1418471">)</span><span class="op" id="1418472">/</span><span class="num" id="1418473">4</span><span class="op" id="1418474">*</span><span class="num" id="1418475">3267000013</span>&nbsp;<span class="op" id="1418486">+</span>&nbsp;<span class="op" id="1418488">(</span><span class="ident" id="1418489">ptrSize</span><span class="op" id="1418496">-</span><span class="num" id="1418497">4</span><span class="op" id="1418498">)</span><span class="op" id="1418499">/</span><span class="num" id="1418500">4</span><span class="op" id="1418501">*</span><span class="num" id="1418502">23344194077549503</span><span class="op" id="1418519">)</span><br>
<span class="lineno"></span><span class="op" id="1418521">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1418524">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1418563">const</span>&nbsp;<span class="op" id="1418569">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418572">alg_MEM</span>&nbsp;<span class="op" id="1418580">=</span>&nbsp;<span class="ident" id="1418582">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418588">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418598">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418608">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418619">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418630">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418641">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418653">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418663">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418674">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418685">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418697">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418709">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418721">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418734">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418746">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418757">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418771">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418782">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418795">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418808">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418820">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418833">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1418841">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1418844">type</span>&nbsp;<span class="ident" id="1418849">typeAlg</span>&nbsp;<span class="keyword" id="1418857">struct</span>&nbsp;<span class="op" id="1418864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1418867">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1418913">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1418953">hash</span>&nbsp;<span class="keyword" id="1418958">func</span><span class="op" id="1418962">(</span><span class="ident" id="1418963">unsafe</span><span class="op" id="1418969">.</span><span class="ident" id="1418970">Pointer</span><span class="op" id="1418977">,</span>&nbsp;<span class="builtintype" id="1418979">uintptr</span><span class="op" id="1418986">,</span>&nbsp;<span class="builtintype" id="1418988">uintptr</span><span class="op" id="1418995">)</span>&nbsp;<span class="builtintype" id="1418997">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1419006">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1419054">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419106">equal</span>&nbsp;<span class="keyword" id="1419112">func</span><span class="op" id="1419116">(</span><span class="ident" id="1419117">unsafe</span><span class="op" id="1419123">.</span><span class="ident" id="1419124">Pointer</span><span class="op" id="1419131">,</span>&nbsp;<span class="ident" id="1419133">unsafe</span><span class="op" id="1419139">.</span><span class="ident" id="1419140">Pointer</span><span class="op" id="1419147">,</span>&nbsp;<span class="builtintype" id="1419149">uintptr</span><span class="op" id="1419156">)</span>&nbsp;<span class="builtintype" id="1419158">bool</span><br>
<span class="lineno"></span><span class="op" id="1419163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1419166">var</span>&nbsp;<span class="ident" id="1419170">algarray</span>&nbsp;<span class="op" id="1419179">=</span>&nbsp;<span class="op" id="1419181">[</span><span class="ident" id="1419182">alg_max</span><span class="op" id="1419189">]</span><span class="ident" id="1419190">typeAlg</span><span class="op" id="1419197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419200">alg_MEM</span><span class="op" id="1419207">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419214">{</span><span class="ident" id="1419215">memhash</span><span class="op" id="1419222">,</span>&nbsp;<span class="ident" id="1419224">memequal</span><span class="op" id="1419232">}</span><span class="op" id="1419233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419236">alg_MEM0</span><span class="op" id="1419244">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419250">{</span><span class="ident" id="1419251">memhash</span><span class="op" id="1419258">,</span>&nbsp;<span class="ident" id="1419260">memequal0</span><span class="op" id="1419269">}</span><span class="op" id="1419270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419273">alg_MEM8</span><span class="op" id="1419281">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419287">{</span><span class="ident" id="1419288">memhash</span><span class="op" id="1419295">,</span>&nbsp;<span class="ident" id="1419297">memequal8</span><span class="op" id="1419306">}</span><span class="op" id="1419307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419310">alg_MEM16</span><span class="op" id="1419319">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419324">{</span><span class="ident" id="1419325">memhash</span><span class="op" id="1419332">,</span>&nbsp;<span class="ident" id="1419334">memequal16</span><span class="op" id="1419344">}</span><span class="op" id="1419345">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419348">alg_MEM32</span><span class="op" id="1419357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419362">{</span><span class="ident" id="1419363">memhash</span><span class="op" id="1419370">,</span>&nbsp;<span class="ident" id="1419372">memequal32</span><span class="op" id="1419382">}</span><span class="op" id="1419383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419386">alg_MEM64</span><span class="op" id="1419395">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419400">{</span><span class="ident" id="1419401">memhash</span><span class="op" id="1419408">,</span>&nbsp;<span class="ident" id="1419410">memequal64</span><span class="op" id="1419420">}</span><span class="op" id="1419421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419424">alg_MEM128</span><span class="op" id="1419434">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1419438">{</span><span class="ident" id="1419439">memhash</span><span class="op" id="1419446">,</span>&nbsp;<span class="ident" id="1419448">memequal128</span><span class="op" id="1419459">}</span><span class="op" id="1419460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419463">alg_NOEQ</span><span class="op" id="1419471">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419477">{</span><span class="ident" id="1419478">nil</span><span class="op" id="1419481">,</span>&nbsp;<span class="ident" id="1419483">nil</span><span class="op" id="1419486">}</span><span class="op" id="1419487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419490">alg_NOEQ0</span><span class="op" id="1419499">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419504">{</span><span class="ident" id="1419505">nil</span><span class="op" id="1419508">,</span>&nbsp;<span class="ident" id="1419510">nil</span><span class="op" id="1419513">}</span><span class="op" id="1419514">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419517">alg_NOEQ8</span><span class="op" id="1419526">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419531">{</span><span class="ident" id="1419532">nil</span><span class="op" id="1419535">,</span>&nbsp;<span class="ident" id="1419537">nil</span><span class="op" id="1419540">}</span><span class="op" id="1419541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419544">alg_NOEQ16</span><span class="op" id="1419554">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1419558">{</span><span class="ident" id="1419559">nil</span><span class="op" id="1419562">,</span>&nbsp;<span class="ident" id="1419564">nil</span><span class="op" id="1419567">}</span><span class="op" id="1419568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419571">alg_NOEQ32</span><span class="op" id="1419581">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1419585">{</span><span class="ident" id="1419586">nil</span><span class="op" id="1419589">,</span>&nbsp;<span class="ident" id="1419591">nil</span><span class="op" id="1419594">}</span><span class="op" id="1419595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419598">alg_NOEQ64</span><span class="op" id="1419608">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1419612">{</span><span class="ident" id="1419613">nil</span><span class="op" id="1419616">,</span>&nbsp;<span class="ident" id="1419618">nil</span><span class="op" id="1419621">}</span><span class="op" id="1419622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419625">alg_NOEQ128</span><span class="op" id="1419636">:</span>&nbsp;&nbsp;<span class="op" id="1419639">{</span><span class="ident" id="1419640">nil</span><span class="op" id="1419643">,</span>&nbsp;<span class="ident" id="1419645">nil</span><span class="op" id="1419648">}</span><span class="op" id="1419649">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419652">alg_STRING</span><span class="op" id="1419662">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1419666">{</span><span class="ident" id="1419667">strhash</span><span class="op" id="1419674">,</span>&nbsp;<span class="ident" id="1419676">strequal</span><span class="op" id="1419684">}</span><span class="op" id="1419685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419688">alg_INTER</span><span class="op" id="1419697">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419702">{</span><span class="ident" id="1419703">interhash</span><span class="op" id="1419712">,</span>&nbsp;<span class="ident" id="1419714">interequal</span><span class="op" id="1419724">}</span><span class="op" id="1419725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419728">alg_NILINTER</span><span class="op" id="1419740">:</span>&nbsp;<span class="op" id="1419742">{</span><span class="ident" id="1419743">nilinterhash</span><span class="op" id="1419755">,</span>&nbsp;<span class="ident" id="1419757">nilinterequal</span><span class="op" id="1419770">}</span><span class="op" id="1419771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419774">alg_SLICE</span><span class="op" id="1419783">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1419788">{</span><span class="ident" id="1419789">nil</span><span class="op" id="1419792">,</span>&nbsp;<span class="ident" id="1419794">nil</span><span class="op" id="1419797">}</span><span class="op" id="1419798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419801">alg_FLOAT32</span><span class="op" id="1419812">:</span>&nbsp;&nbsp;<span class="op" id="1419815">{</span><span class="ident" id="1419816">f32hash</span><span class="op" id="1419823">,</span>&nbsp;<span class="ident" id="1419825">f32equal</span><span class="op" id="1419833">}</span><span class="op" id="1419834">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419837">alg_FLOAT64</span><span class="op" id="1419848">:</span>&nbsp;&nbsp;<span class="op" id="1419851">{</span><span class="ident" id="1419852">f64hash</span><span class="op" id="1419859">,</span>&nbsp;<span class="ident" id="1419861">f64equal</span><span class="op" id="1419869">}</span><span class="op" id="1419870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419873">alg_CPLX64</span><span class="op" id="1419883">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1419887">{</span><span class="ident" id="1419888">c64hash</span><span class="op" id="1419895">,</span>&nbsp;<span class="ident" id="1419897">c64equal</span><span class="op" id="1419905">}</span><span class="op" id="1419906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1419909">alg_CPLX128</span><span class="op" id="1419920">:</span>&nbsp;&nbsp;<span class="op" id="1419923">{</span><span class="ident" id="1419924">c128hash</span><span class="op" id="1419932">,</span>&nbsp;<span class="ident" id="1419934">c128equal</span><span class="op" id="1419943">}</span><span class="op" id="1419944">,</span><br>
<span class="lineno"></span><span class="op" id="1419946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1419949">const</span>&nbsp;<span class="ident" id="1419955">nacl</span>&nbsp;<span class="op" id="1419960">=</span>&nbsp;<span class="ident" id="1419962">GOOS</span>&nbsp;<span class="op" id="1419967">==</span>&nbsp;<span class="string" id="1419970">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1419978">var</span>&nbsp;<span class="ident" id="1419982">useAeshash</span>&nbsp;<span class="builtintype" id="1419993">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1419999">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1420013">func</span>&nbsp;<span class="ident" id="1420018">aeshash</span><span class="op" id="1420025">(</span><span class="ident" id="1420026">p</span>&nbsp;<span class="ident" id="1420028">unsafe</span><span class="op" id="1420034">.</span><span class="ident" id="1420035">Pointer</span><span class="op" id="1420042">,</span>&nbsp;<span class="ident" id="1420044">s</span><span class="op" id="1420045">,</span>&nbsp;<span class="ident" id="1420047">h</span>&nbsp;<span class="builtintype" id="1420049">uintptr</span><span class="op" id="1420056">)</span>&nbsp;<span class="builtintype" id="1420058">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1420066">func</span>&nbsp;<span class="ident" id="1420071">aeshash32</span><span class="op" id="1420080">(</span><span class="ident" id="1420081">p</span>&nbsp;<span class="ident" id="1420083">unsafe</span><span class="op" id="1420089">.</span><span class="ident" id="1420090">Pointer</span><span class="op" id="1420097">,</span>&nbsp;<span class="ident" id="1420099">s</span><span class="op" id="1420100">,</span>&nbsp;<span class="ident" id="1420102">h</span>&nbsp;<span class="builtintype" id="1420104">uintptr</span><span class="op" id="1420111">)</span>&nbsp;<span class="builtintype" id="1420113">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1420121">func</span>&nbsp;<span class="ident" id="1420126">aeshash64</span><span class="op" id="1420135">(</span><span class="ident" id="1420136">p</span>&nbsp;<span class="ident" id="1420138">unsafe</span><span class="op" id="1420144">.</span><span class="ident" id="1420145">Pointer</span><span class="op" id="1420152">,</span>&nbsp;<span class="ident" id="1420154">s</span><span class="op" id="1420155">,</span>&nbsp;<span class="ident" id="1420157">h</span>&nbsp;<span class="builtintype" id="1420159">uintptr</span><span class="op" id="1420166">)</span>&nbsp;<span class="builtintype" id="1420168">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1420176">func</span>&nbsp;<span class="ident" id="1420181">aeshashstr</span><span class="op" id="1420191">(</span><span class="ident" id="1420192">p</span>&nbsp;<span class="ident" id="1420194">unsafe</span><span class="op" id="1420200">.</span><span class="ident" id="1420201">Pointer</span><span class="op" id="1420208">,</span>&nbsp;<span class="ident" id="1420210">s</span><span class="op" id="1420211">,</span>&nbsp;<span class="ident" id="1420213">h</span>&nbsp;<span class="builtintype" id="1420215">uintptr</span><span class="op" id="1420222">)</span>&nbsp;<span class="builtintype" id="1420224">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1420233">func</span>&nbsp;<span class="ident" id="1420238">memhash</span><span class="op" id="1420245">(</span><span class="ident" id="1420246">p</span>&nbsp;<span class="ident" id="1420248">unsafe</span><span class="op" id="1420254">.</span><span class="ident" id="1420255">Pointer</span><span class="op" id="1420262">,</span>&nbsp;<span class="ident" id="1420264">s</span><span class="op" id="1420265">,</span>&nbsp;<span class="ident" id="1420267">h</span>&nbsp;<span class="builtintype" id="1420269">uintptr</span><span class="op" id="1420276">)</span>&nbsp;<span class="builtintype" id="1420278">uintptr</span>&nbsp;<span class="op" id="1420286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420289">if</span>&nbsp;<span class="op" id="1420292">!</span><span class="ident" id="1420293">nacl</span>&nbsp;<span class="op" id="1420298">&amp;&amp;</span>&nbsp;<span class="ident" id="1420301">useAeshash</span>&nbsp;<span class="op" id="1420312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420316">return</span>&nbsp;<span class="ident" id="1420323">aeshash</span><span class="op" id="1420330">(</span><span class="ident" id="1420331">p</span><span class="op" id="1420332">,</span>&nbsp;<span class="ident" id="1420334">s</span><span class="op" id="1420335">,</span>&nbsp;<span class="ident" id="1420337">h</span><span class="op" id="1420338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1420341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1420345">h</span>&nbsp;<span class="op" id="1420347">^=</span>&nbsp;<span class="ident" id="1420350">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420354">for</span>&nbsp;<span class="ident" id="1420358">s</span>&nbsp;<span class="op" id="1420360">&gt;</span>&nbsp;<span class="num" id="1420362">0</span>&nbsp;<span class="op" id="1420364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1420368">h</span>&nbsp;<span class="op" id="1420370">=</span>&nbsp;<span class="op" id="1420372">(</span><span class="ident" id="1420373">h</span>&nbsp;<span class="op" id="1420375">^</span>&nbsp;<span class="builtintype" id="1420377">uintptr</span><span class="op" id="1420384">(</span><span class="op" id="1420385">*</span><span class="op" id="1420386">(</span><span class="op" id="1420387">*</span><span class="builtintype" id="1420388">byte</span><span class="op" id="1420392">)</span><span class="op" id="1420393">(</span><span class="ident" id="1420394">p</span><span class="op" id="1420395">)</span><span class="op" id="1420396">)</span><span class="op" id="1420397">)</span>&nbsp;<span class="op" id="1420399">*</span>&nbsp;<span class="ident" id="1420401">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1420406">p</span>&nbsp;<span class="op" id="1420408">=</span>&nbsp;<span class="ident" id="1420410">add</span><span class="op" id="1420413">(</span><span class="ident" id="1420414">p</span><span class="op" id="1420415">,</span>&nbsp;<span class="num" id="1420417">1</span><span class="op" id="1420418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1420422">s</span><span class="op" id="1420423">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1420427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420430">return</span>&nbsp;<span class="ident" id="1420437">h</span><br>
<span class="lineno"></span><span class="op" id="1420439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1420442">func</span>&nbsp;<span class="ident" id="1420447">strhash</span><span class="op" id="1420454">(</span><span class="ident" id="1420455">a</span>&nbsp;<span class="ident" id="1420457">unsafe</span><span class="op" id="1420463">.</span><span class="ident" id="1420464">Pointer</span><span class="op" id="1420471">,</span>&nbsp;<span class="ident" id="1420473">s</span><span class="op" id="1420474">,</span>&nbsp;<span class="ident" id="1420476">h</span>&nbsp;<span class="builtintype" id="1420478">uintptr</span><span class="op" id="1420485">)</span>&nbsp;<span class="builtintype" id="1420487">uintptr</span>&nbsp;<span class="op" id="1420495">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420498">return</span>&nbsp;<span class="ident" id="1420505">memhash</span><span class="op" id="1420512">(</span><span class="op" id="1420513">(</span><span class="op" id="1420514">*</span><span class="ident" id="1420515">stringStruct</span><span class="op" id="1420527">)</span><span class="op" id="1420528">(</span><span class="ident" id="1420529">a</span><span class="op" id="1420530">)</span><span class="op" id="1420531">.</span><span class="ident" id="1420532">str</span><span class="op" id="1420535">,</span>&nbsp;<span class="builtintype" id="1420537">uintptr</span><span class="op" id="1420544">(</span><span class="builtinfunc" id="1420545">len</span><span class="op" id="1420548">(</span><span class="op" id="1420549">*</span><span class="op" id="1420550">(</span><span class="op" id="1420551">*</span><span class="builtintype" id="1420552">string</span><span class="op" id="1420558">)</span><span class="op" id="1420559">(</span><span class="ident" id="1420560">a</span><span class="op" id="1420561">)</span><span class="op" id="1420562">)</span><span class="op" id="1420563">)</span><span class="op" id="1420564">,</span>&nbsp;<span class="ident" id="1420566">h</span><span class="op" id="1420567">)</span><br>
<span class="lineno"></span><span class="op" id="1420569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1420572">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1420623">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1420678">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1420734">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1420767">func</span>&nbsp;<span class="ident" id="1420772">f32hash</span><span class="op" id="1420779">(</span><span class="ident" id="1420780">p</span>&nbsp;<span class="ident" id="1420782">unsafe</span><span class="op" id="1420788">.</span><span class="ident" id="1420789">Pointer</span><span class="op" id="1420796">,</span>&nbsp;<span class="ident" id="1420798">s</span><span class="op" id="1420799">,</span>&nbsp;<span class="ident" id="1420801">h</span>&nbsp;<span class="builtintype" id="1420803">uintptr</span><span class="op" id="1420810">)</span>&nbsp;<span class="builtintype" id="1420812">uintptr</span>&nbsp;<span class="op" id="1420820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1420823">f</span>&nbsp;<span class="op" id="1420825">:=</span>&nbsp;<span class="op" id="1420828">*</span><span class="op" id="1420829">(</span><span class="op" id="1420830">*</span><span class="builtintype" id="1420831">float32</span><span class="op" id="1420838">)</span><span class="op" id="1420839">(</span><span class="ident" id="1420840">p</span><span class="op" id="1420841">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420844">switch</span>&nbsp;<span class="op" id="1420851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420854">case</span>&nbsp;<span class="ident" id="1420859">f</span>&nbsp;<span class="op" id="1420861">==</span>&nbsp;<span class="num" id="1420864">0</span><span class="op" id="1420865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420869">return</span>&nbsp;<span class="ident" id="1420876">c1</span>&nbsp;<span class="op" id="1420879">*</span>&nbsp;<span class="op" id="1420881">(</span><span class="ident" id="1420882">c0</span>&nbsp;<span class="op" id="1420885">^</span>&nbsp;<span class="ident" id="1420887">h</span><span class="op" id="1420888">)</span>&nbsp;<span class="comment" id="1420890">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420901">case</span>&nbsp;<span class="ident" id="1420906">f</span>&nbsp;<span class="op" id="1420908">!=</span>&nbsp;<span class="ident" id="1420911">f</span><span class="op" id="1420912">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420916">return</span>&nbsp;<span class="ident" id="1420923">c1</span>&nbsp;<span class="op" id="1420926">*</span>&nbsp;<span class="op" id="1420928">(</span><span class="ident" id="1420929">c0</span>&nbsp;<span class="op" id="1420932">^</span>&nbsp;<span class="ident" id="1420934">h</span>&nbsp;<span class="op" id="1420936">^</span>&nbsp;<span class="builtintype" id="1420938">uintptr</span><span class="op" id="1420945">(</span><span class="ident" id="1420946">fastrand1</span><span class="op" id="1420955">(</span><span class="op" id="1420956">)</span><span class="op" id="1420957">)</span><span class="op" id="1420958">)</span>&nbsp;<span class="comment" id="1420960">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420980">default</span><span class="op" id="1420987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1420991">return</span>&nbsp;<span class="ident" id="1420998">memhash</span><span class="op" id="1421005">(</span><span class="ident" id="1421006">p</span><span class="op" id="1421007">,</span>&nbsp;<span class="num" id="1421009">4</span><span class="op" id="1421010">,</span>&nbsp;<span class="ident" id="1421012">h</span><span class="op" id="1421013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1421016">}</span><br>
<span class="lineno"></span><span class="op" id="1421018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1421021">func</span>&nbsp;<span class="ident" id="1421026">f64hash</span><span class="op" id="1421033">(</span><span class="ident" id="1421034">p</span>&nbsp;<span class="ident" id="1421036">unsafe</span><span class="op" id="1421042">.</span><span class="ident" id="1421043">Pointer</span><span class="op" id="1421050">,</span>&nbsp;<span class="ident" id="1421052">s</span><span class="op" id="1421053">,</span>&nbsp;<span class="ident" id="1421055">h</span>&nbsp;<span class="builtintype" id="1421057">uintptr</span><span class="op" id="1421064">)</span>&nbsp;<span class="builtintype" id="1421066">uintptr</span>&nbsp;<span class="op" id="1421074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421077">f</span>&nbsp;<span class="op" id="1421079">:=</span>&nbsp;<span class="op" id="1421082">*</span><span class="op" id="1421083">(</span><span class="op" id="1421084">*</span><span class="builtintype" id="1421085">float64</span><span class="op" id="1421092">)</span><span class="op" id="1421093">(</span><span class="ident" id="1421094">p</span><span class="op" id="1421095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421098">switch</span>&nbsp;<span class="op" id="1421105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421108">case</span>&nbsp;<span class="ident" id="1421113">f</span>&nbsp;<span class="op" id="1421115">==</span>&nbsp;<span class="num" id="1421118">0</span><span class="op" id="1421119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421123">return</span>&nbsp;<span class="ident" id="1421130">c1</span>&nbsp;<span class="op" id="1421133">*</span>&nbsp;<span class="op" id="1421135">(</span><span class="ident" id="1421136">c0</span>&nbsp;<span class="op" id="1421139">^</span>&nbsp;<span class="ident" id="1421141">h</span><span class="op" id="1421142">)</span>&nbsp;<span class="comment" id="1421144">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421155">case</span>&nbsp;<span class="ident" id="1421160">f</span>&nbsp;<span class="op" id="1421162">!=</span>&nbsp;<span class="ident" id="1421165">f</span><span class="op" id="1421166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421170">return</span>&nbsp;<span class="ident" id="1421177">c1</span>&nbsp;<span class="op" id="1421180">*</span>&nbsp;<span class="op" id="1421182">(</span><span class="ident" id="1421183">c0</span>&nbsp;<span class="op" id="1421186">^</span>&nbsp;<span class="ident" id="1421188">h</span>&nbsp;<span class="op" id="1421190">^</span>&nbsp;<span class="builtintype" id="1421192">uintptr</span><span class="op" id="1421199">(</span><span class="ident" id="1421200">fastrand1</span><span class="op" id="1421209">(</span><span class="op" id="1421210">)</span><span class="op" id="1421211">)</span><span class="op" id="1421212">)</span>&nbsp;<span class="comment" id="1421214">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421234">default</span><span class="op" id="1421241">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421245">return</span>&nbsp;<span class="ident" id="1421252">memhash</span><span class="op" id="1421259">(</span><span class="ident" id="1421260">p</span><span class="op" id="1421261">,</span>&nbsp;<span class="num" id="1421263">8</span><span class="op" id="1421264">,</span>&nbsp;<span class="ident" id="1421266">h</span><span class="op" id="1421267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1421270">}</span><br>
<span class="lineno">130</span><span class="op" id="1421272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1421275">func</span>&nbsp;<span class="ident" id="1421280">c64hash</span><span class="op" id="1421287">(</span><span class="ident" id="1421288">p</span>&nbsp;<span class="ident" id="1421290">unsafe</span><span class="op" id="1421296">.</span><span class="ident" id="1421297">Pointer</span><span class="op" id="1421304">,</span>&nbsp;<span class="ident" id="1421306">s</span><span class="op" id="1421307">,</span>&nbsp;<span class="ident" id="1421309">h</span>&nbsp;<span class="builtintype" id="1421311">uintptr</span><span class="op" id="1421318">)</span>&nbsp;<span class="builtintype" id="1421320">uintptr</span>&nbsp;<span class="op" id="1421328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421331">x</span>&nbsp;<span class="op" id="1421333">:=</span>&nbsp;<span class="op" id="1421336">(</span><span class="op" id="1421337">*</span><span class="op" id="1421338">[</span><span class="num" id="1421339">2</span><span class="op" id="1421340">]</span><span class="builtintype" id="1421341">float32</span><span class="op" id="1421348">)</span><span class="op" id="1421349">(</span><span class="ident" id="1421350">p</span><span class="op" id="1421351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421354">return</span>&nbsp;<span class="ident" id="1421361">f32hash</span><span class="op" id="1421368">(</span><span class="ident" id="1421369">unsafe</span><span class="op" id="1421375">.</span><span class="ident" id="1421376">Pointer</span><span class="op" id="1421383">(</span><span class="op" id="1421384">&amp;</span><span class="ident" id="1421385">x</span><span class="op" id="1421386">[</span><span class="num" id="1421387">1</span><span class="op" id="1421388">]</span><span class="op" id="1421389">)</span><span class="op" id="1421390">,</span>&nbsp;<span class="num" id="1421392">4</span><span class="op" id="1421393">,</span>&nbsp;<span class="ident" id="1421395">f32hash</span><span class="op" id="1421402">(</span><span class="ident" id="1421403">unsafe</span><span class="op" id="1421409">.</span><span class="ident" id="1421410">Pointer</span><span class="op" id="1421417">(</span><span class="op" id="1421418">&amp;</span><span class="ident" id="1421419">x</span><span class="op" id="1421420">[</span><span class="num" id="1421421">0</span><span class="op" id="1421422">]</span><span class="op" id="1421423">)</span><span class="op" id="1421424">,</span>&nbsp;<span class="num" id="1421426">4</span><span class="op" id="1421427">,</span>&nbsp;<span class="ident" id="1421429">h</span><span class="op" id="1421430">)</span><span class="op" id="1421431">)</span><br>
<span class="lineno">135</span><span class="op" id="1421433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1421436">func</span>&nbsp;<span class="ident" id="1421441">c128hash</span><span class="op" id="1421449">(</span><span class="ident" id="1421450">p</span>&nbsp;<span class="ident" id="1421452">unsafe</span><span class="op" id="1421458">.</span><span class="ident" id="1421459">Pointer</span><span class="op" id="1421466">,</span>&nbsp;<span class="ident" id="1421468">s</span><span class="op" id="1421469">,</span>&nbsp;<span class="ident" id="1421471">h</span>&nbsp;<span class="builtintype" id="1421473">uintptr</span><span class="op" id="1421480">)</span>&nbsp;<span class="builtintype" id="1421482">uintptr</span>&nbsp;<span class="op" id="1421490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421493">x</span>&nbsp;<span class="op" id="1421495">:=</span>&nbsp;<span class="op" id="1421498">(</span><span class="op" id="1421499">*</span><span class="op" id="1421500">[</span><span class="num" id="1421501">2</span><span class="op" id="1421502">]</span><span class="builtintype" id="1421503">float64</span><span class="op" id="1421510">)</span><span class="op" id="1421511">(</span><span class="ident" id="1421512">p</span><span class="op" id="1421513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421516">return</span>&nbsp;<span class="ident" id="1421523">f64hash</span><span class="op" id="1421530">(</span><span class="ident" id="1421531">unsafe</span><span class="op" id="1421537">.</span><span class="ident" id="1421538">Pointer</span><span class="op" id="1421545">(</span><span class="op" id="1421546">&amp;</span><span class="ident" id="1421547">x</span><span class="op" id="1421548">[</span><span class="num" id="1421549">1</span><span class="op" id="1421550">]</span><span class="op" id="1421551">)</span><span class="op" id="1421552">,</span>&nbsp;<span class="num" id="1421554">8</span><span class="op" id="1421555">,</span>&nbsp;<span class="ident" id="1421557">f64hash</span><span class="op" id="1421564">(</span><span class="ident" id="1421565">unsafe</span><span class="op" id="1421571">.</span><span class="ident" id="1421572">Pointer</span><span class="op" id="1421579">(</span><span class="op" id="1421580">&amp;</span><span class="ident" id="1421581">x</span><span class="op" id="1421582">[</span><span class="num" id="1421583">0</span><span class="op" id="1421584">]</span><span class="op" id="1421585">)</span><span class="op" id="1421586">,</span>&nbsp;<span class="num" id="1421588">8</span><span class="op" id="1421589">,</span>&nbsp;<span class="ident" id="1421591">h</span><span class="op" id="1421592">)</span><span class="op" id="1421593">)</span><br>
<span class="lineno">140</span><span class="op" id="1421595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1421598">func</span>&nbsp;<span class="ident" id="1421603">interhash</span><span class="op" id="1421612">(</span><span class="ident" id="1421613">p</span>&nbsp;<span class="ident" id="1421615">unsafe</span><span class="op" id="1421621">.</span><span class="ident" id="1421622">Pointer</span><span class="op" id="1421629">,</span>&nbsp;<span class="ident" id="1421631">s</span><span class="op" id="1421632">,</span>&nbsp;<span class="ident" id="1421634">h</span>&nbsp;<span class="builtintype" id="1421636">uintptr</span><span class="op" id="1421643">)</span>&nbsp;<span class="builtintype" id="1421645">uintptr</span>&nbsp;<span class="op" id="1421653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421656">a</span>&nbsp;<span class="op" id="1421658">:=</span>&nbsp;<span class="op" id="1421661">(</span><span class="op" id="1421662">*</span><span class="ident" id="1421663">iface</span><span class="op" id="1421668">)</span><span class="op" id="1421669">(</span><span class="ident" id="1421670">p</span><span class="op" id="1421671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421674">tab</span>&nbsp;<span class="op" id="1421678">:=</span>&nbsp;<span class="ident" id="1421681">a</span><span class="op" id="1421682">.</span><span class="ident" id="1421683">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421688">if</span>&nbsp;<span class="ident" id="1421691">tab</span>&nbsp;<span class="op" id="1421695">==</span>&nbsp;<span class="ident" id="1421698">nil</span>&nbsp;<span class="op" id="1421702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421706">return</span>&nbsp;<span class="ident" id="1421713">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1421716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421719">t</span>&nbsp;<span class="op" id="1421721">:=</span>&nbsp;<span class="ident" id="1421724">tab</span><span class="op" id="1421727">.</span><span class="ident" id="1421728">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1421735">fn</span>&nbsp;<span class="op" id="1421738">:=</span>&nbsp;<span class="ident" id="1421741">goalg</span><span class="op" id="1421746">(</span><span class="ident" id="1421747">t</span><span class="op" id="1421748">.</span><span class="ident" id="1421749">alg</span><span class="op" id="1421752">)</span><span class="op" id="1421753">.</span><span class="ident" id="1421754">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421760">if</span>&nbsp;<span class="ident" id="1421763">fn</span>&nbsp;<span class="op" id="1421766">==</span>&nbsp;<span class="ident" id="1421769">nil</span>&nbsp;<span class="op" id="1421773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1421777">panic</span><span class="op" id="1421782">(</span><span class="ident" id="1421783">errorString</span><span class="op" id="1421794">(</span><span class="string" id="1421795">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1421822">+</span>&nbsp;<span class="op" id="1421824">*</span><span class="ident" id="1421825">t</span><span class="op" id="1421826">.</span><span class="ident" id="1421827">_string</span><span class="op" id="1421834">)</span><span class="op" id="1421835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1421838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421841">if</span>&nbsp;<span class="ident" id="1421844">isDirectIface</span><span class="op" id="1421857">(</span><span class="ident" id="1421858">t</span><span class="op" id="1421859">)</span>&nbsp;<span class="op" id="1421861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421865">return</span>&nbsp;<span class="ident" id="1421872">c1</span>&nbsp;<span class="op" id="1421875">*</span>&nbsp;<span class="ident" id="1421877">fn</span><span class="op" id="1421879">(</span><span class="ident" id="1421880">unsafe</span><span class="op" id="1421886">.</span><span class="ident" id="1421887">Pointer</span><span class="op" id="1421894">(</span><span class="op" id="1421895">&amp;</span><span class="ident" id="1421896">a</span><span class="op" id="1421897">.</span><span class="ident" id="1421898">data</span><span class="op" id="1421902">)</span><span class="op" id="1421903">,</span>&nbsp;<span class="builtintype" id="1421905">uintptr</span><span class="op" id="1421912">(</span><span class="ident" id="1421913">t</span><span class="op" id="1421914">.</span><span class="ident" id="1421915">size</span><span class="op" id="1421919">)</span><span class="op" id="1421920">,</span>&nbsp;<span class="ident" id="1421922">h</span><span class="op" id="1421923">^</span><span class="ident" id="1421924">c0</span><span class="op" id="1421926">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1421929">}</span>&nbsp;<span class="keyword" id="1421931">else</span>&nbsp;<span class="op" id="1421936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1421940">return</span>&nbsp;<span class="ident" id="1421947">c1</span>&nbsp;<span class="op" id="1421950">*</span>&nbsp;<span class="ident" id="1421952">fn</span><span class="op" id="1421954">(</span><span class="ident" id="1421955">a</span><span class="op" id="1421956">.</span><span class="ident" id="1421957">data</span><span class="op" id="1421961">,</span>&nbsp;<span class="builtintype" id="1421963">uintptr</span><span class="op" id="1421970">(</span><span class="ident" id="1421971">t</span><span class="op" id="1421972">.</span><span class="ident" id="1421973">size</span><span class="op" id="1421977">)</span><span class="op" id="1421978">,</span>&nbsp;<span class="ident" id="1421980">h</span><span class="op" id="1421981">^</span><span class="ident" id="1421982">c0</span><span class="op" id="1421984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1421987">}</span><br>
<span class="lineno"></span><span class="op" id="1421989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1421992">func</span>&nbsp;<span class="ident" id="1421997">nilinterhash</span><span class="op" id="1422009">(</span><span class="ident" id="1422010">p</span>&nbsp;<span class="ident" id="1422012">unsafe</span><span class="op" id="1422018">.</span><span class="ident" id="1422019">Pointer</span><span class="op" id="1422026">,</span>&nbsp;<span class="ident" id="1422028">s</span><span class="op" id="1422029">,</span>&nbsp;<span class="ident" id="1422031">h</span>&nbsp;<span class="builtintype" id="1422033">uintptr</span><span class="op" id="1422040">)</span>&nbsp;<span class="builtintype" id="1422042">uintptr</span>&nbsp;<span class="op" id="1422050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1422053">a</span>&nbsp;<span class="op" id="1422055">:=</span>&nbsp;<span class="op" id="1422058">(</span><span class="op" id="1422059">*</span><span class="ident" id="1422060">eface</span><span class="op" id="1422065">)</span><span class="op" id="1422066">(</span><span class="ident" id="1422067">p</span><span class="op" id="1422068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1422071">t</span>&nbsp;<span class="op" id="1422073">:=</span>&nbsp;<span class="ident" id="1422076">a</span><span class="op" id="1422077">.</span><span class="ident" id="1422078">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422085">if</span>&nbsp;<span class="ident" id="1422088">t</span>&nbsp;<span class="op" id="1422090">==</span>&nbsp;<span class="ident" id="1422093">nil</span>&nbsp;<span class="op" id="1422097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422101">return</span>&nbsp;<span class="ident" id="1422108">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1422111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1422114">fn</span>&nbsp;<span class="op" id="1422117">:=</span>&nbsp;<span class="ident" id="1422120">goalg</span><span class="op" id="1422125">(</span><span class="ident" id="1422126">t</span><span class="op" id="1422127">.</span><span class="ident" id="1422128">alg</span><span class="op" id="1422131">)</span><span class="op" id="1422132">.</span><span class="ident" id="1422133">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422139">if</span>&nbsp;<span class="ident" id="1422142">fn</span>&nbsp;<span class="op" id="1422145">==</span>&nbsp;<span class="ident" id="1422148">nil</span>&nbsp;<span class="op" id="1422152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1422156">panic</span><span class="op" id="1422161">(</span><span class="ident" id="1422162">errorString</span><span class="op" id="1422173">(</span><span class="string" id="1422174">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1422201">+</span>&nbsp;<span class="op" id="1422203">*</span><span class="ident" id="1422204">t</span><span class="op" id="1422205">.</span><span class="ident" id="1422206">_string</span><span class="op" id="1422213">)</span><span class="op" id="1422214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1422217">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422220">if</span>&nbsp;<span class="ident" id="1422223">isDirectIface</span><span class="op" id="1422236">(</span><span class="ident" id="1422237">t</span><span class="op" id="1422238">)</span>&nbsp;<span class="op" id="1422240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422244">return</span>&nbsp;<span class="ident" id="1422251">c1</span>&nbsp;<span class="op" id="1422254">*</span>&nbsp;<span class="ident" id="1422256">fn</span><span class="op" id="1422258">(</span><span class="ident" id="1422259">unsafe</span><span class="op" id="1422265">.</span><span class="ident" id="1422266">Pointer</span><span class="op" id="1422273">(</span><span class="op" id="1422274">&amp;</span><span class="ident" id="1422275">a</span><span class="op" id="1422276">.</span><span class="ident" id="1422277">data</span><span class="op" id="1422281">)</span><span class="op" id="1422282">,</span>&nbsp;<span class="builtintype" id="1422284">uintptr</span><span class="op" id="1422291">(</span><span class="ident" id="1422292">t</span><span class="op" id="1422293">.</span><span class="ident" id="1422294">size</span><span class="op" id="1422298">)</span><span class="op" id="1422299">,</span>&nbsp;<span class="ident" id="1422301">h</span><span class="op" id="1422302">^</span><span class="ident" id="1422303">c0</span><span class="op" id="1422305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1422308">}</span>&nbsp;<span class="keyword" id="1422310">else</span>&nbsp;<span class="op" id="1422315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422319">return</span>&nbsp;<span class="ident" id="1422326">c1</span>&nbsp;<span class="op" id="1422329">*</span>&nbsp;<span class="ident" id="1422331">fn</span><span class="op" id="1422333">(</span><span class="ident" id="1422334">a</span><span class="op" id="1422335">.</span><span class="ident" id="1422336">data</span><span class="op" id="1422340">,</span>&nbsp;<span class="builtintype" id="1422342">uintptr</span><span class="op" id="1422349">(</span><span class="ident" id="1422350">t</span><span class="op" id="1422351">.</span><span class="ident" id="1422352">size</span><span class="op" id="1422356">)</span><span class="op" id="1422357">,</span>&nbsp;<span class="ident" id="1422359">h</span><span class="op" id="1422360">^</span><span class="ident" id="1422361">c0</span><span class="op" id="1422363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1422366">}</span><br>
<span class="lineno">175</span><span class="op" id="1422368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1422371">func</span>&nbsp;<span class="ident" id="1422376">memequal</span><span class="op" id="1422384">(</span><span class="ident" id="1422385">p</span><span class="op" id="1422386">,</span>&nbsp;<span class="ident" id="1422388">q</span>&nbsp;<span class="ident" id="1422390">unsafe</span><span class="op" id="1422396">.</span><span class="ident" id="1422397">Pointer</span><span class="op" id="1422404">,</span>&nbsp;<span class="ident" id="1422406">size</span>&nbsp;<span class="builtintype" id="1422411">uintptr</span><span class="op" id="1422418">)</span>&nbsp;<span class="builtintype" id="1422420">bool</span>&nbsp;<span class="op" id="1422425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422428">if</span>&nbsp;<span class="ident" id="1422431">p</span>&nbsp;<span class="op" id="1422433">==</span>&nbsp;<span class="ident" id="1422436">q</span>&nbsp;<span class="op" id="1422438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422442">return</span>&nbsp;<span class="builtintype" id="1422449">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1422455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422458">return</span>&nbsp;<span class="ident" id="1422465">memeq</span><span class="op" id="1422470">(</span><span class="ident" id="1422471">p</span><span class="op" id="1422472">,</span>&nbsp;<span class="ident" id="1422474">q</span><span class="op" id="1422475">,</span>&nbsp;<span class="ident" id="1422477">size</span><span class="op" id="1422481">)</span><br>
<span class="lineno"></span><span class="op" id="1422483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1422486">func</span>&nbsp;<span class="ident" id="1422491">memequal0</span><span class="op" id="1422500">(</span><span class="ident" id="1422501">p</span><span class="op" id="1422502">,</span>&nbsp;<span class="ident" id="1422504">q</span>&nbsp;<span class="ident" id="1422506">unsafe</span><span class="op" id="1422512">.</span><span class="ident" id="1422513">Pointer</span><span class="op" id="1422520">,</span>&nbsp;<span class="ident" id="1422522">size</span>&nbsp;<span class="builtintype" id="1422527">uintptr</span><span class="op" id="1422534">)</span>&nbsp;<span class="builtintype" id="1422536">bool</span>&nbsp;<span class="op" id="1422541">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422544">return</span>&nbsp;<span class="builtintype" id="1422551">true</span><br>
<span class="lineno"></span><span class="op" id="1422556">}</span><br>
<span class="lineno"></span><span class="keyword" id="1422558">func</span>&nbsp;<span class="ident" id="1422563">memequal8</span><span class="op" id="1422572">(</span><span class="ident" id="1422573">p</span><span class="op" id="1422574">,</span>&nbsp;<span class="ident" id="1422576">q</span>&nbsp;<span class="ident" id="1422578">unsafe</span><span class="op" id="1422584">.</span><span class="ident" id="1422585">Pointer</span><span class="op" id="1422592">,</span>&nbsp;<span class="ident" id="1422594">size</span>&nbsp;<span class="builtintype" id="1422599">uintptr</span><span class="op" id="1422606">)</span>&nbsp;<span class="builtintype" id="1422608">bool</span>&nbsp;<span class="op" id="1422613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422616">return</span>&nbsp;<span class="op" id="1422623">*</span><span class="op" id="1422624">(</span><span class="op" id="1422625">*</span><span class="builtintype" id="1422626">int8</span><span class="op" id="1422630">)</span><span class="op" id="1422631">(</span><span class="ident" id="1422632">p</span><span class="op" id="1422633">)</span>&nbsp;<span class="op" id="1422635">==</span>&nbsp;<span class="op" id="1422638">*</span><span class="op" id="1422639">(</span><span class="op" id="1422640">*</span><span class="builtintype" id="1422641">int8</span><span class="op" id="1422645">)</span><span class="op" id="1422646">(</span><span class="ident" id="1422647">q</span><span class="op" id="1422648">)</span><br>
<span class="lineno"></span><span class="op" id="1422650">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1422652">func</span>&nbsp;<span class="ident" id="1422657">memequal16</span><span class="op" id="1422667">(</span><span class="ident" id="1422668">p</span><span class="op" id="1422669">,</span>&nbsp;<span class="ident" id="1422671">q</span>&nbsp;<span class="ident" id="1422673">unsafe</span><span class="op" id="1422679">.</span><span class="ident" id="1422680">Pointer</span><span class="op" id="1422687">,</span>&nbsp;<span class="ident" id="1422689">size</span>&nbsp;<span class="builtintype" id="1422694">uintptr</span><span class="op" id="1422701">)</span>&nbsp;<span class="builtintype" id="1422703">bool</span>&nbsp;<span class="op" id="1422708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422711">return</span>&nbsp;<span class="op" id="1422718">*</span><span class="op" id="1422719">(</span><span class="op" id="1422720">*</span><span class="builtintype" id="1422721">int16</span><span class="op" id="1422726">)</span><span class="op" id="1422727">(</span><span class="ident" id="1422728">p</span><span class="op" id="1422729">)</span>&nbsp;<span class="op" id="1422731">==</span>&nbsp;<span class="op" id="1422734">*</span><span class="op" id="1422735">(</span><span class="op" id="1422736">*</span><span class="builtintype" id="1422737">int16</span><span class="op" id="1422742">)</span><span class="op" id="1422743">(</span><span class="ident" id="1422744">q</span><span class="op" id="1422745">)</span><br>
<span class="lineno"></span><span class="op" id="1422747">}</span><br>
<span class="lineno"></span><span class="keyword" id="1422749">func</span>&nbsp;<span class="ident" id="1422754">memequal32</span><span class="op" id="1422764">(</span><span class="ident" id="1422765">p</span><span class="op" id="1422766">,</span>&nbsp;<span class="ident" id="1422768">q</span>&nbsp;<span class="ident" id="1422770">unsafe</span><span class="op" id="1422776">.</span><span class="ident" id="1422777">Pointer</span><span class="op" id="1422784">,</span>&nbsp;<span class="ident" id="1422786">size</span>&nbsp;<span class="builtintype" id="1422791">uintptr</span><span class="op" id="1422798">)</span>&nbsp;<span class="builtintype" id="1422800">bool</span>&nbsp;<span class="op" id="1422805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422808">return</span>&nbsp;<span class="op" id="1422815">*</span><span class="op" id="1422816">(</span><span class="op" id="1422817">*</span><span class="builtintype" id="1422818">int32</span><span class="op" id="1422823">)</span><span class="op" id="1422824">(</span><span class="ident" id="1422825">p</span><span class="op" id="1422826">)</span>&nbsp;<span class="op" id="1422828">==</span>&nbsp;<span class="op" id="1422831">*</span><span class="op" id="1422832">(</span><span class="op" id="1422833">*</span><span class="builtintype" id="1422834">int32</span><span class="op" id="1422839">)</span><span class="op" id="1422840">(</span><span class="ident" id="1422841">q</span><span class="op" id="1422842">)</span><br>
<span class="lineno">195</span><span class="op" id="1422844">}</span><br>
<span class="lineno"></span><span class="keyword" id="1422846">func</span>&nbsp;<span class="ident" id="1422851">memequal64</span><span class="op" id="1422861">(</span><span class="ident" id="1422862">p</span><span class="op" id="1422863">,</span>&nbsp;<span class="ident" id="1422865">q</span>&nbsp;<span class="ident" id="1422867">unsafe</span><span class="op" id="1422873">.</span><span class="ident" id="1422874">Pointer</span><span class="op" id="1422881">,</span>&nbsp;<span class="ident" id="1422883">size</span>&nbsp;<span class="builtintype" id="1422888">uintptr</span><span class="op" id="1422895">)</span>&nbsp;<span class="builtintype" id="1422897">bool</span>&nbsp;<span class="op" id="1422902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1422905">return</span>&nbsp;<span class="op" id="1422912">*</span><span class="op" id="1422913">(</span><span class="op" id="1422914">*</span><span class="ident" id="1422915">int64</span><span class="op" id="1422920">)</span><span class="op" id="1422921">(</span><span class="ident" id="1422922">p</span><span class="op" id="1422923">)</span>&nbsp;<span class="op" id="1422925">==</span>&nbsp;<span class="op" id="1422928">*</span><span class="op" id="1422929">(</span><span class="op" id="1422930">*</span><span class="ident" id="1422931">int64</span><span class="op" id="1422936">)</span><span class="op" id="1422937">(</span><span class="ident" id="1422938">q</span><span class="op" id="1422939">)</span><br>
<span class="lineno"></span><span class="op" id="1422941">}</span><br>
<span class="lineno"></span><span class="keyword" id="1422943">func</span>&nbsp;<span class="ident" id="1422948">memequal128</span><span class="op" id="1422959">(</span><span class="ident" id="1422960">p</span><span class="op" id="1422961">,</span>&nbsp;<span class="ident" id="1422963">q</span>&nbsp;<span class="ident" id="1422965">unsafe</span><span class="op" id="1422971">.</span><span class="ident" id="1422972">Pointer</span><span class="op" id="1422979">,</span>&nbsp;<span class="ident" id="1422981">size</span>&nbsp;<span class="builtintype" id="1422986">uintptr</span><span class="op" id="1422993">)</span>&nbsp;<span class="builtintype" id="1422995">bool</span>&nbsp;<span class="op" id="1423000">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423003">return</span>&nbsp;<span class="op" id="1423010">*</span><span class="op" id="1423011">(</span><span class="op" id="1423012">*</span><span class="op" id="1423013">[</span><span class="num" id="1423014">2</span><span class="op" id="1423015">]</span><span class="ident" id="1423016">int64</span><span class="op" id="1423021">)</span><span class="op" id="1423022">(</span><span class="ident" id="1423023">p</span><span class="op" id="1423024">)</span>&nbsp;<span class="op" id="1423026">==</span>&nbsp;<span class="op" id="1423029">*</span><span class="op" id="1423030">(</span><span class="op" id="1423031">*</span><span class="op" id="1423032">[</span><span class="num" id="1423033">2</span><span class="op" id="1423034">]</span><span class="ident" id="1423035">int64</span><span class="op" id="1423040">)</span><span class="op" id="1423041">(</span><span class="ident" id="1423042">q</span><span class="op" id="1423043">)</span><br>
<span class="lineno"></span><span class="op" id="1423045">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423047">func</span>&nbsp;<span class="ident" id="1423052">f32equal</span><span class="op" id="1423060">(</span><span class="ident" id="1423061">p</span><span class="op" id="1423062">,</span>&nbsp;<span class="ident" id="1423064">q</span>&nbsp;<span class="ident" id="1423066">unsafe</span><span class="op" id="1423072">.</span><span class="ident" id="1423073">Pointer</span><span class="op" id="1423080">,</span>&nbsp;<span class="ident" id="1423082">size</span>&nbsp;<span class="builtintype" id="1423087">uintptr</span><span class="op" id="1423094">)</span>&nbsp;<span class="builtintype" id="1423096">bool</span>&nbsp;<span class="op" id="1423101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423104">return</span>&nbsp;<span class="op" id="1423111">*</span><span class="op" id="1423112">(</span><span class="op" id="1423113">*</span><span class="builtintype" id="1423114">float32</span><span class="op" id="1423121">)</span><span class="op" id="1423122">(</span><span class="ident" id="1423123">p</span><span class="op" id="1423124">)</span>&nbsp;<span class="op" id="1423126">==</span>&nbsp;<span class="op" id="1423129">*</span><span class="op" id="1423130">(</span><span class="op" id="1423131">*</span><span class="builtintype" id="1423132">float32</span><span class="op" id="1423139">)</span><span class="op" id="1423140">(</span><span class="ident" id="1423141">q</span><span class="op" id="1423142">)</span><br>
<span class="lineno"></span><span class="op" id="1423144">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1423146">func</span>&nbsp;<span class="ident" id="1423151">f64equal</span><span class="op" id="1423159">(</span><span class="ident" id="1423160">p</span><span class="op" id="1423161">,</span>&nbsp;<span class="ident" id="1423163">q</span>&nbsp;<span class="ident" id="1423165">unsafe</span><span class="op" id="1423171">.</span><span class="ident" id="1423172">Pointer</span><span class="op" id="1423179">,</span>&nbsp;<span class="ident" id="1423181">size</span>&nbsp;<span class="builtintype" id="1423186">uintptr</span><span class="op" id="1423193">)</span>&nbsp;<span class="builtintype" id="1423195">bool</span>&nbsp;<span class="op" id="1423200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423203">return</span>&nbsp;<span class="op" id="1423210">*</span><span class="op" id="1423211">(</span><span class="op" id="1423212">*</span><span class="builtintype" id="1423213">float64</span><span class="op" id="1423220">)</span><span class="op" id="1423221">(</span><span class="ident" id="1423222">p</span><span class="op" id="1423223">)</span>&nbsp;<span class="op" id="1423225">==</span>&nbsp;<span class="op" id="1423228">*</span><span class="op" id="1423229">(</span><span class="op" id="1423230">*</span><span class="builtintype" id="1423231">float64</span><span class="op" id="1423238">)</span><span class="op" id="1423239">(</span><span class="ident" id="1423240">q</span><span class="op" id="1423241">)</span><br>
<span class="lineno"></span><span class="op" id="1423243">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423245">func</span>&nbsp;<span class="ident" id="1423250">c64equal</span><span class="op" id="1423258">(</span><span class="ident" id="1423259">p</span><span class="op" id="1423260">,</span>&nbsp;<span class="ident" id="1423262">q</span>&nbsp;<span class="ident" id="1423264">unsafe</span><span class="op" id="1423270">.</span><span class="ident" id="1423271">Pointer</span><span class="op" id="1423278">,</span>&nbsp;<span class="ident" id="1423280">size</span>&nbsp;<span class="builtintype" id="1423285">uintptr</span><span class="op" id="1423292">)</span>&nbsp;<span class="builtintype" id="1423294">bool</span>&nbsp;<span class="op" id="1423299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423302">return</span>&nbsp;<span class="op" id="1423309">*</span><span class="op" id="1423310">(</span><span class="op" id="1423311">*</span><span class="builtintype" id="1423312">complex64</span><span class="op" id="1423321">)</span><span class="op" id="1423322">(</span><span class="ident" id="1423323">p</span><span class="op" id="1423324">)</span>&nbsp;<span class="op" id="1423326">==</span>&nbsp;<span class="op" id="1423329">*</span><span class="op" id="1423330">(</span><span class="op" id="1423331">*</span><span class="builtintype" id="1423332">complex64</span><span class="op" id="1423341">)</span><span class="op" id="1423342">(</span><span class="ident" id="1423343">q</span><span class="op" id="1423344">)</span><br>
<span class="lineno">210</span><span class="op" id="1423346">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423348">func</span>&nbsp;<span class="ident" id="1423353">c128equal</span><span class="op" id="1423362">(</span><span class="ident" id="1423363">p</span><span class="op" id="1423364">,</span>&nbsp;<span class="ident" id="1423366">q</span>&nbsp;<span class="ident" id="1423368">unsafe</span><span class="op" id="1423374">.</span><span class="ident" id="1423375">Pointer</span><span class="op" id="1423382">,</span>&nbsp;<span class="ident" id="1423384">size</span>&nbsp;<span class="builtintype" id="1423389">uintptr</span><span class="op" id="1423396">)</span>&nbsp;<span class="builtintype" id="1423398">bool</span>&nbsp;<span class="op" id="1423403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423406">return</span>&nbsp;<span class="op" id="1423413">*</span><span class="op" id="1423414">(</span><span class="op" id="1423415">*</span><span class="builtintype" id="1423416">complex128</span><span class="op" id="1423426">)</span><span class="op" id="1423427">(</span><span class="ident" id="1423428">p</span><span class="op" id="1423429">)</span>&nbsp;<span class="op" id="1423431">==</span>&nbsp;<span class="op" id="1423434">*</span><span class="op" id="1423435">(</span><span class="op" id="1423436">*</span><span class="builtintype" id="1423437">complex128</span><span class="op" id="1423447">)</span><span class="op" id="1423448">(</span><span class="ident" id="1423449">q</span><span class="op" id="1423450">)</span><br>
<span class="lineno"></span><span class="op" id="1423452">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423454">func</span>&nbsp;<span class="ident" id="1423459">strequal</span><span class="op" id="1423467">(</span><span class="ident" id="1423468">p</span><span class="op" id="1423469">,</span>&nbsp;<span class="ident" id="1423471">q</span>&nbsp;<span class="ident" id="1423473">unsafe</span><span class="op" id="1423479">.</span><span class="ident" id="1423480">Pointer</span><span class="op" id="1423487">,</span>&nbsp;<span class="ident" id="1423489">size</span>&nbsp;<span class="builtintype" id="1423494">uintptr</span><span class="op" id="1423501">)</span>&nbsp;<span class="builtintype" id="1423503">bool</span>&nbsp;<span class="op" id="1423508">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423511">return</span>&nbsp;<span class="op" id="1423518">*</span><span class="op" id="1423519">(</span><span class="op" id="1423520">*</span><span class="builtintype" id="1423521">string</span><span class="op" id="1423527">)</span><span class="op" id="1423528">(</span><span class="ident" id="1423529">p</span><span class="op" id="1423530">)</span>&nbsp;<span class="op" id="1423532">==</span>&nbsp;<span class="op" id="1423535">*</span><span class="op" id="1423536">(</span><span class="op" id="1423537">*</span><span class="builtintype" id="1423538">string</span><span class="op" id="1423544">)</span><span class="op" id="1423545">(</span><span class="ident" id="1423546">q</span><span class="op" id="1423547">)</span><br>
<span class="lineno"></span><span class="op" id="1423549">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423551">func</span>&nbsp;<span class="ident" id="1423556">interequal</span><span class="op" id="1423566">(</span><span class="ident" id="1423567">p</span><span class="op" id="1423568">,</span>&nbsp;<span class="ident" id="1423570">q</span>&nbsp;<span class="ident" id="1423572">unsafe</span><span class="op" id="1423578">.</span><span class="ident" id="1423579">Pointer</span><span class="op" id="1423586">,</span>&nbsp;<span class="ident" id="1423588">size</span>&nbsp;<span class="builtintype" id="1423593">uintptr</span><span class="op" id="1423600">)</span>&nbsp;<span class="builtintype" id="1423602">bool</span>&nbsp;<span class="op" id="1423607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423610">return</span>&nbsp;<span class="ident" id="1423617">ifaceeq</span><span class="op" id="1423624">(</span><span class="op" id="1423625">*</span><span class="op" id="1423626">(</span><span class="op" id="1423627">*</span><span class="keyword" id="1423628">interface</span>&nbsp;<span class="op" id="1423638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423642">f</span><span class="op" id="1423643">(</span><span class="op" id="1423644">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1423647">}</span><span class="op" id="1423648">)</span><span class="op" id="1423649">(</span><span class="ident" id="1423650">p</span><span class="op" id="1423651">)</span><span class="op" id="1423652">,</span>&nbsp;<span class="op" id="1423654">*</span><span class="op" id="1423655">(</span><span class="op" id="1423656">*</span><span class="keyword" id="1423657">interface</span>&nbsp;<span class="op" id="1423667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423671">f</span><span class="op" id="1423672">(</span><span class="op" id="1423673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1423676">}</span><span class="op" id="1423677">)</span><span class="op" id="1423678">(</span><span class="ident" id="1423679">q</span><span class="op" id="1423680">)</span><span class="op" id="1423681">)</span><br>
<span class="lineno"></span><span class="op" id="1423683">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423685">func</span>&nbsp;<span class="ident" id="1423690">nilinterequal</span><span class="op" id="1423703">(</span><span class="ident" id="1423704">p</span><span class="op" id="1423705">,</span>&nbsp;<span class="ident" id="1423707">q</span>&nbsp;<span class="ident" id="1423709">unsafe</span><span class="op" id="1423715">.</span><span class="ident" id="1423716">Pointer</span><span class="op" id="1423723">,</span>&nbsp;<span class="ident" id="1423725">size</span>&nbsp;<span class="builtintype" id="1423730">uintptr</span><span class="op" id="1423737">)</span>&nbsp;<span class="builtintype" id="1423739">bool</span>&nbsp;<span class="op" id="1423744">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423747">return</span>&nbsp;<span class="ident" id="1423754">efaceeq</span><span class="op" id="1423761">(</span><span class="op" id="1423762">*</span><span class="op" id="1423763">(</span><span class="op" id="1423764">*</span><span class="keyword" id="1423765">interface</span><span class="op" id="1423774">{</span><span class="op" id="1423775">}</span><span class="op" id="1423776">)</span><span class="op" id="1423777">(</span><span class="ident" id="1423778">p</span><span class="op" id="1423779">)</span><span class="op" id="1423780">,</span>&nbsp;<span class="op" id="1423782">*</span><span class="op" id="1423783">(</span><span class="op" id="1423784">*</span><span class="keyword" id="1423785">interface</span><span class="op" id="1423794">{</span><span class="op" id="1423795">}</span><span class="op" id="1423796">)</span><span class="op" id="1423797">(</span><span class="ident" id="1423798">q</span><span class="op" id="1423799">)</span><span class="op" id="1423800">)</span><br>
<span class="lineno"></span><span class="op" id="1423802">}</span><br>
<span class="lineno"></span><span class="keyword" id="1423804">func</span>&nbsp;<span class="ident" id="1423809">efaceeq</span><span class="op" id="1423816">(</span><span class="ident" id="1423817">p</span><span class="op" id="1423818">,</span>&nbsp;<span class="ident" id="1423820">q</span>&nbsp;<span class="keyword" id="1423822">interface</span><span class="op" id="1423831">{</span><span class="op" id="1423832">}</span><span class="op" id="1423833">)</span>&nbsp;<span class="builtintype" id="1423835">bool</span>&nbsp;<span class="op" id="1423840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423843">x</span>&nbsp;<span class="op" id="1423845">:=</span>&nbsp;<span class="op" id="1423848">(</span><span class="op" id="1423849">*</span><span class="ident" id="1423850">eface</span><span class="op" id="1423855">)</span><span class="op" id="1423856">(</span><span class="ident" id="1423857">unsafe</span><span class="op" id="1423863">.</span><span class="ident" id="1423864">Pointer</span><span class="op" id="1423871">(</span><span class="op" id="1423872">&amp;</span><span class="ident" id="1423873">p</span><span class="op" id="1423874">)</span><span class="op" id="1423875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423878">y</span>&nbsp;<span class="op" id="1423880">:=</span>&nbsp;<span class="op" id="1423883">(</span><span class="op" id="1423884">*</span><span class="ident" id="1423885">eface</span><span class="op" id="1423890">)</span><span class="op" id="1423891">(</span><span class="ident" id="1423892">unsafe</span><span class="op" id="1423898">.</span><span class="ident" id="1423899">Pointer</span><span class="op" id="1423906">(</span><span class="op" id="1423907">&amp;</span><span class="ident" id="1423908">q</span><span class="op" id="1423909">)</span><span class="op" id="1423910">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423913">t</span>&nbsp;<span class="op" id="1423915">:=</span>&nbsp;<span class="ident" id="1423918">x</span><span class="op" id="1423919">.</span><span class="ident" id="1423920">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423927">if</span>&nbsp;<span class="ident" id="1423930">t</span>&nbsp;<span class="op" id="1423932">!=</span>&nbsp;<span class="ident" id="1423935">y</span><span class="op" id="1423936">.</span><span class="ident" id="1423937">_type</span>&nbsp;<span class="op" id="1423943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423947">return</span>&nbsp;<span class="builtintype" id="1423954">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1423961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423964">if</span>&nbsp;<span class="ident" id="1423967">t</span>&nbsp;<span class="op" id="1423969">==</span>&nbsp;<span class="ident" id="1423972">nil</span>&nbsp;<span class="op" id="1423976">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1423980">return</span>&nbsp;<span class="builtintype" id="1423987">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1423993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1423996">eq</span>&nbsp;<span class="op" id="1423999">:=</span>&nbsp;<span class="ident" id="1424002">goalg</span><span class="op" id="1424007">(</span><span class="ident" id="1424008">t</span><span class="op" id="1424009">.</span><span class="ident" id="1424010">alg</span><span class="op" id="1424013">)</span><span class="op" id="1424014">.</span><span class="ident" id="1424015">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424022">if</span>&nbsp;<span class="ident" id="1424025">eq</span>&nbsp;<span class="op" id="1424028">==</span>&nbsp;<span class="ident" id="1424031">nil</span>&nbsp;<span class="op" id="1424035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1424039">panic</span><span class="op" id="1424044">(</span><span class="ident" id="1424045">errorString</span><span class="op" id="1424056">(</span><span class="string" id="1424057">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1424088">+</span>&nbsp;<span class="op" id="1424090">*</span><span class="ident" id="1424091">t</span><span class="op" id="1424092">.</span><span class="ident" id="1424093">_string</span><span class="op" id="1424100">)</span><span class="op" id="1424101">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1424104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424107">if</span>&nbsp;<span class="ident" id="1424110">isDirectIface</span><span class="op" id="1424123">(</span><span class="ident" id="1424124">t</span><span class="op" id="1424125">)</span>&nbsp;<span class="op" id="1424127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424131">return</span>&nbsp;<span class="ident" id="1424138">eq</span><span class="op" id="1424140">(</span><span class="ident" id="1424141">noescape</span><span class="op" id="1424149">(</span><span class="ident" id="1424150">unsafe</span><span class="op" id="1424156">.</span><span class="ident" id="1424157">Pointer</span><span class="op" id="1424164">(</span><span class="op" id="1424165">&amp;</span><span class="ident" id="1424166">x</span><span class="op" id="1424167">.</span><span class="ident" id="1424168">data</span><span class="op" id="1424172">)</span><span class="op" id="1424173">)</span><span class="op" id="1424174">,</span>&nbsp;<span class="ident" id="1424176">noescape</span><span class="op" id="1424184">(</span><span class="ident" id="1424185">unsafe</span><span class="op" id="1424191">.</span><span class="ident" id="1424192">Pointer</span><span class="op" id="1424199">(</span><span class="op" id="1424200">&amp;</span><span class="ident" id="1424201">y</span><span class="op" id="1424202">.</span><span class="ident" id="1424203">data</span><span class="op" id="1424207">)</span><span class="op" id="1424208">)</span><span class="op" id="1424209">,</span>&nbsp;<span class="builtintype" id="1424211">uintptr</span><span class="op" id="1424218">(</span><span class="ident" id="1424219">t</span><span class="op" id="1424220">.</span><span class="ident" id="1424221">size</span><span class="op" id="1424225">)</span><span class="op" id="1424226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1424229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424232">return</span>&nbsp;<span class="ident" id="1424239">eq</span><span class="op" id="1424241">(</span><span class="ident" id="1424242">x</span><span class="op" id="1424243">.</span><span class="ident" id="1424244">data</span><span class="op" id="1424248">,</span>&nbsp;<span class="ident" id="1424250">y</span><span class="op" id="1424251">.</span><span class="ident" id="1424252">data</span><span class="op" id="1424256">,</span>&nbsp;<span class="builtintype" id="1424258">uintptr</span><span class="op" id="1424265">(</span><span class="ident" id="1424266">t</span><span class="op" id="1424267">.</span><span class="ident" id="1424268">size</span><span class="op" id="1424272">)</span><span class="op" id="1424273">)</span><br>
<span class="lineno">245</span><span class="op" id="1424275">}</span><br>
<span class="lineno"></span><span class="keyword" id="1424277">func</span>&nbsp;<span class="ident" id="1424282">ifaceeq</span><span class="op" id="1424289">(</span><span class="ident" id="1424290">p</span><span class="op" id="1424291">,</span>&nbsp;<span class="ident" id="1424293">q</span>&nbsp;<span class="keyword" id="1424295">interface</span>&nbsp;<span class="op" id="1424305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424308">f</span><span class="op" id="1424309">(</span><span class="op" id="1424310">)</span><br>
<span class="lineno"></span><span class="op" id="1424312">}</span><span class="op" id="1424313">)</span>&nbsp;<span class="builtintype" id="1424315">bool</span>&nbsp;<span class="op" id="1424320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424323">x</span>&nbsp;<span class="op" id="1424325">:=</span>&nbsp;<span class="op" id="1424328">(</span><span class="op" id="1424329">*</span><span class="ident" id="1424330">iface</span><span class="op" id="1424335">)</span><span class="op" id="1424336">(</span><span class="ident" id="1424337">unsafe</span><span class="op" id="1424343">.</span><span class="ident" id="1424344">Pointer</span><span class="op" id="1424351">(</span><span class="op" id="1424352">&amp;</span><span class="ident" id="1424353">p</span><span class="op" id="1424354">)</span><span class="op" id="1424355">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424358">y</span>&nbsp;<span class="op" id="1424360">:=</span>&nbsp;<span class="op" id="1424363">(</span><span class="op" id="1424364">*</span><span class="ident" id="1424365">iface</span><span class="op" id="1424370">)</span><span class="op" id="1424371">(</span><span class="ident" id="1424372">unsafe</span><span class="op" id="1424378">.</span><span class="ident" id="1424379">Pointer</span><span class="op" id="1424386">(</span><span class="op" id="1424387">&amp;</span><span class="ident" id="1424388">q</span><span class="op" id="1424389">)</span><span class="op" id="1424390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424393">xtab</span>&nbsp;<span class="op" id="1424398">:=</span>&nbsp;<span class="ident" id="1424401">x</span><span class="op" id="1424402">.</span><span class="ident" id="1424403">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424408">if</span>&nbsp;<span class="ident" id="1424411">xtab</span>&nbsp;<span class="op" id="1424416">!=</span>&nbsp;<span class="ident" id="1424419">y</span><span class="op" id="1424420">.</span><span class="ident" id="1424421">tab</span>&nbsp;<span class="op" id="1424425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424429">return</span>&nbsp;<span class="builtintype" id="1424436">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1424443">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424446">if</span>&nbsp;<span class="ident" id="1424449">xtab</span>&nbsp;<span class="op" id="1424454">==</span>&nbsp;<span class="ident" id="1424457">nil</span>&nbsp;<span class="op" id="1424461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424465">return</span>&nbsp;<span class="builtintype" id="1424472">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1424478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424481">t</span>&nbsp;<span class="op" id="1424483">:=</span>&nbsp;<span class="ident" id="1424486">xtab</span><span class="op" id="1424490">.</span><span class="ident" id="1424491">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1424498">eq</span>&nbsp;<span class="op" id="1424501">:=</span>&nbsp;<span class="ident" id="1424504">goalg</span><span class="op" id="1424509">(</span><span class="ident" id="1424510">t</span><span class="op" id="1424511">.</span><span class="ident" id="1424512">alg</span><span class="op" id="1424515">)</span><span class="op" id="1424516">.</span><span class="ident" id="1424517">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424524">if</span>&nbsp;<span class="ident" id="1424527">eq</span>&nbsp;<span class="op" id="1424530">==</span>&nbsp;<span class="ident" id="1424533">nil</span>&nbsp;<span class="op" id="1424537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1424541">panic</span><span class="op" id="1424546">(</span><span class="ident" id="1424547">errorString</span><span class="op" id="1424558">(</span><span class="string" id="1424559">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1424590">+</span>&nbsp;<span class="op" id="1424592">*</span><span class="ident" id="1424593">t</span><span class="op" id="1424594">.</span><span class="ident" id="1424595">_string</span><span class="op" id="1424602">)</span><span class="op" id="1424603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1424606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424609">if</span>&nbsp;<span class="ident" id="1424612">isDirectIface</span><span class="op" id="1424625">(</span><span class="ident" id="1424626">t</span><span class="op" id="1424627">)</span>&nbsp;<span class="op" id="1424629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424633">return</span>&nbsp;<span class="ident" id="1424640">eq</span><span class="op" id="1424642">(</span><span class="ident" id="1424643">noescape</span><span class="op" id="1424651">(</span><span class="ident" id="1424652">unsafe</span><span class="op" id="1424658">.</span><span class="ident" id="1424659">Pointer</span><span class="op" id="1424666">(</span><span class="op" id="1424667">&amp;</span><span class="ident" id="1424668">x</span><span class="op" id="1424669">.</span><span class="ident" id="1424670">data</span><span class="op" id="1424674">)</span><span class="op" id="1424675">)</span><span class="op" id="1424676">,</span>&nbsp;<span class="ident" id="1424678">noescape</span><span class="op" id="1424686">(</span><span class="ident" id="1424687">unsafe</span><span class="op" id="1424693">.</span><span class="ident" id="1424694">Pointer</span><span class="op" id="1424701">(</span><span class="op" id="1424702">&amp;</span><span class="ident" id="1424703">y</span><span class="op" id="1424704">.</span><span class="ident" id="1424705">data</span><span class="op" id="1424709">)</span><span class="op" id="1424710">)</span><span class="op" id="1424711">,</span>&nbsp;<span class="builtintype" id="1424713">uintptr</span><span class="op" id="1424720">(</span><span class="ident" id="1424721">t</span><span class="op" id="1424722">.</span><span class="ident" id="1424723">size</span><span class="op" id="1424727">)</span><span class="op" id="1424728">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1424731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424734">return</span>&nbsp;<span class="ident" id="1424741">eq</span><span class="op" id="1424743">(</span><span class="ident" id="1424744">x</span><span class="op" id="1424745">.</span><span class="ident" id="1424746">data</span><span class="op" id="1424750">,</span>&nbsp;<span class="ident" id="1424752">y</span><span class="op" id="1424753">.</span><span class="ident" id="1424754">data</span><span class="op" id="1424758">,</span>&nbsp;<span class="builtintype" id="1424760">uintptr</span><span class="op" id="1424767">(</span><span class="ident" id="1424768">t</span><span class="op" id="1424769">.</span><span class="ident" id="1424770">size</span><span class="op" id="1424774">)</span><span class="op" id="1424775">)</span><br>
<span class="lineno"></span><span class="op" id="1424777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1424780">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1424842">func</span>&nbsp;<span class="ident" id="1424847">haveGoodHash</span><span class="op" id="1424859">(</span><span class="op" id="1424860">)</span>&nbsp;<span class="builtintype" id="1424862">bool</span>&nbsp;<span class="op" id="1424867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424870">return</span>&nbsp;<span class="ident" id="1424877">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1424888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1424891">func</span>&nbsp;<span class="ident" id="1424896">stringHash</span><span class="op" id="1424906">(</span><span class="ident" id="1424907">s</span>&nbsp;<span class="builtintype" id="1424909">string</span><span class="op" id="1424915">,</span>&nbsp;<span class="ident" id="1424917">seed</span>&nbsp;<span class="builtintype" id="1424922">uintptr</span><span class="op" id="1424929">)</span>&nbsp;<span class="builtintype" id="1424931">uintptr</span>&nbsp;<span class="op" id="1424939">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1424942">return</span>&nbsp;<span class="ident" id="1424949">algarray</span><span class="op" id="1424957">[</span><span class="ident" id="1424958">alg_STRING</span><span class="op" id="1424968">]</span><span class="op" id="1424969">.</span><span class="ident" id="1424970">hash</span><span class="op" id="1424974">(</span><span class="ident" id="1424975">noescape</span><span class="op" id="1424983">(</span><span class="ident" id="1424984">unsafe</span><span class="op" id="1424990">.</span><span class="ident" id="1424991">Pointer</span><span class="op" id="1424998">(</span><span class="op" id="1424999">&amp;</span><span class="ident" id="1425000">s</span><span class="op" id="1425001">)</span><span class="op" id="1425002">)</span><span class="op" id="1425003">,</span>&nbsp;<span class="ident" id="1425005">unsafe</span><span class="op" id="1425011">.</span><span class="ident" id="1425012">Sizeof</span><span class="op" id="1425018">(</span><span class="ident" id="1425019">s</span><span class="op" id="1425020">)</span><span class="op" id="1425021">,</span>&nbsp;<span class="ident" id="1425023">seed</span><span class="op" id="1425027">)</span><br>
<span class="lineno"></span><span class="op" id="1425029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1425032">func</span>&nbsp;<span class="ident" id="1425037">bytesHash</span><span class="op" id="1425046">(</span><span class="ident" id="1425047">b</span>&nbsp;<span class="op" id="1425049">[</span><span class="op" id="1425050">]</span><span class="builtintype" id="1425051">byte</span><span class="op" id="1425055">,</span>&nbsp;<span class="ident" id="1425057">seed</span>&nbsp;<span class="builtintype" id="1425062">uintptr</span><span class="op" id="1425069">)</span>&nbsp;<span class="builtintype" id="1425071">uintptr</span>&nbsp;<span class="op" id="1425079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1425082">s</span>&nbsp;<span class="op" id="1425084">:=</span>&nbsp;<span class="op" id="1425087">(</span><span class="op" id="1425088">*</span><span class="ident" id="1425089">sliceStruct</span><span class="op" id="1425100">)</span><span class="op" id="1425101">(</span><span class="ident" id="1425102">unsafe</span><span class="op" id="1425108">.</span><span class="ident" id="1425109">Pointer</span><span class="op" id="1425116">(</span><span class="op" id="1425117">&amp;</span><span class="ident" id="1425118">b</span><span class="op" id="1425119">)</span><span class="op" id="1425120">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1425123">return</span>&nbsp;<span class="ident" id="1425130">algarray</span><span class="op" id="1425138">[</span><span class="ident" id="1425139">alg_MEM</span><span class="op" id="1425146">]</span><span class="op" id="1425147">.</span><span class="ident" id="1425148">hash</span><span class="op" id="1425152">(</span><span class="ident" id="1425153">s</span><span class="op" id="1425154">.</span><span class="ident" id="1425155">array</span><span class="op" id="1425160">,</span>&nbsp;<span class="builtintype" id="1425162">uintptr</span><span class="op" id="1425169">(</span><span class="ident" id="1425170">s</span><span class="op" id="1425171">.</span><span class="builtinfunc" id="1425172">len</span><span class="op" id="1425175">)</span><span class="op" id="1425176">,</span>&nbsp;<span class="ident" id="1425178">seed</span><span class="op" id="1425182">)</span><br>
<span class="lineno"></span><span class="op" id="1425184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1425187">func</span>&nbsp;<span class="ident" id="1425192">int32Hash</span><span class="op" id="1425201">(</span><span class="ident" id="1425202">i</span>&nbsp;<span class="builtintype" id="1425204">uint32</span><span class="op" id="1425210">,</span>&nbsp;<span class="ident" id="1425212">seed</span>&nbsp;<span class="builtintype" id="1425217">uintptr</span><span class="op" id="1425224">)</span>&nbsp;<span class="builtintype" id="1425226">uintptr</span>&nbsp;<span class="op" id="1425234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1425237">return</span>&nbsp;<span class="ident" id="1425244">algarray</span><span class="op" id="1425252">[</span><span class="ident" id="1425253">alg_MEM32</span><span class="op" id="1425262">]</span><span class="op" id="1425263">.</span><span class="ident" id="1425264">hash</span><span class="op" id="1425268">(</span><span class="ident" id="1425269">noescape</span><span class="op" id="1425277">(</span><span class="ident" id="1425278">unsafe</span><span class="op" id="1425284">.</span><span class="ident" id="1425285">Pointer</span><span class="op" id="1425292">(</span><span class="op" id="1425293">&amp;</span><span class="ident" id="1425294">i</span><span class="op" id="1425295">)</span><span class="op" id="1425296">)</span><span class="op" id="1425297">,</span>&nbsp;<span class="num" id="1425299">4</span><span class="op" id="1425300">,</span>&nbsp;<span class="ident" id="1425302">seed</span><span class="op" id="1425306">)</span><br>
<span class="lineno">285</span><span class="op" id="1425308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1425311">func</span>&nbsp;<span class="ident" id="1425316">int64Hash</span><span class="op" id="1425325">(</span><span class="ident" id="1425326">i</span>&nbsp;<span class="ident" id="1425328">uint64</span><span class="op" id="1425334">,</span>&nbsp;<span class="ident" id="1425336">seed</span>&nbsp;<span class="builtintype" id="1425341">uintptr</span><span class="op" id="1425348">)</span>&nbsp;<span class="builtintype" id="1425350">uintptr</span>&nbsp;<span class="op" id="1425358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1425361">return</span>&nbsp;<span class="ident" id="1425368">algarray</span><span class="op" id="1425376">[</span><span class="ident" id="1425377">alg_MEM64</span><span class="op" id="1425386">]</span><span class="op" id="1425387">.</span><span class="ident" id="1425388">hash</span><span class="op" id="1425392">(</span><span class="ident" id="1425393">noescape</span><span class="op" id="1425401">(</span><span class="ident" id="1425402">unsafe</span><span class="op" id="1425408">.</span><span class="ident" id="1425409">Pointer</span><span class="op" id="1425416">(</span><span class="op" id="1425417">&amp;</span><span class="ident" id="1425418">i</span><span class="op" id="1425419">)</span><span class="op" id="1425420">)</span><span class="op" id="1425421">,</span>&nbsp;<span class="num" id="1425423">8</span><span class="op" id="1425424">,</span>&nbsp;<span class="ident" id="1425426">seed</span><span class="op" id="1425430">)</span><br>
<span class="lineno"></span><span class="op" id="1425432">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1425435">func</span>&nbsp;<span class="ident" id="1425440">efaceHash</span><span class="op" id="1425449">(</span><span class="ident" id="1425450">i</span>&nbsp;<span class="keyword" id="1425452">interface</span><span class="op" id="1425461">{</span><span class="op" id="1425462">}</span><span class="op" id="1425463">,</span>&nbsp;<span class="ident" id="1425465">seed</span>&nbsp;<span class="builtintype" id="1425470">uintptr</span><span class="op" id="1425477">)</span>&nbsp;<span class="builtintype" id="1425479">uintptr</span>&nbsp;<span class="op" id="1425487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1425490">return</span>&nbsp;<span class="ident" id="1425497">algarray</span><span class="op" id="1425505">[</span><span class="ident" id="1425506">alg_NILINTER</span><span class="op" id="1425518">]</span><span class="op" id="1425519">.</span><span class="ident" id="1425520">hash</span><span class="op" id="1425524">(</span><span class="ident" id="1425525">noescape</span><span class="op" id="1425533">(</span><span class="ident" id="1425534">unsafe</span><span class="op" id="1425540">.</span><span class="ident" id="1425541">Pointer</span><span class="op" id="1425548">(</span><span class="op" id="1425549">&amp;</span><span class="ident" id="1425550">i</span><span class="op" id="1425551">)</span><span class="op" id="1425552">)</span><span class="op" id="1425553">,</span>&nbsp;<span class="ident" id="1425555">unsafe</span><span class="op" id="1425561">.</span><span class="ident" id="1425562">Sizeof</span><span class="op" id="1425568">(</span><span class="ident" id="1425569">i</span><span class="op" id="1425570">)</span><span class="op" id="1425571">,</span>&nbsp;<span class="ident" id="1425573">seed</span><span class="op" id="1425577">)</span><br>
<span class="lineno"></span><span class="op" id="1425579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1425582">func</span>&nbsp;<span class="ident" id="1425587">ifaceHash</span><span class="op" id="1425596">(</span><span class="ident" id="1425597">i</span>&nbsp;<span class="keyword" id="1425599">interface</span>&nbsp;<span class="op" id="1425609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1425612">F</span><span class="op" id="1425613">(</span><span class="op" id="1425614">)</span><br>
<span class="lineno"></span><span class="op" id="1425616">}</span><span class="op" id="1425617">,</span>&nbsp;<span class="ident" id="1425619">seed</span>&nbsp;<span class="builtintype" id="1425624">uintptr</span><span class="op" id="1425631">)</span>&nbsp;<span class="builtintype" id="1425633">uintptr</span>&nbsp;<span class="op" id="1425641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1425644">return</span>&nbsp;<span class="ident" id="1425651">algarray</span><span class="op" id="1425659">[</span><span class="ident" id="1425660">alg_INTER</span><span class="op" id="1425669">]</span><span class="op" id="1425670">.</span><span class="ident" id="1425671">hash</span><span class="op" id="1425675">(</span><span class="ident" id="1425676">noescape</span><span class="op" id="1425684">(</span><span class="ident" id="1425685">unsafe</span><span class="op" id="1425691">.</span><span class="ident" id="1425692">Pointer</span><span class="op" id="1425699">(</span><span class="op" id="1425700">&amp;</span><span class="ident" id="1425701">i</span><span class="op" id="1425702">)</span><span class="op" id="1425703">)</span><span class="op" id="1425704">,</span>&nbsp;<span class="ident" id="1425706">unsafe</span><span class="op" id="1425712">.</span><span class="ident" id="1425713">Sizeof</span><span class="op" id="1425719">(</span><span class="ident" id="1425720">i</span><span class="op" id="1425721">)</span><span class="op" id="1425722">,</span>&nbsp;<span class="ident" id="1425724">seed</span><span class="op" id="1425728">)</span><br>
<span class="lineno"></span><span class="op" id="1425730">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1425733">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1425763">func</span>&nbsp;<span class="ident" id="1425768">memclrBytes</span><span class="op" id="1425779">(</span><span class="ident" id="1425780">b</span>&nbsp;<span class="op" id="1425782">[</span><span class="op" id="1425783">]</span><span class="builtintype" id="1425784">byte</span><span class="op" id="1425788">)</span>&nbsp;<span class="op" id="1425790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1425793">s</span>&nbsp;<span class="op" id="1425795">:=</span>&nbsp;<span class="op" id="1425798">(</span><span class="op" id="1425799">*</span><span class="ident" id="1425800">sliceStruct</span><span class="op" id="1425811">)</span><span class="op" id="1425812">(</span><span class="ident" id="1425813">unsafe</span><span class="op" id="1425819">.</span><span class="ident" id="1425820">Pointer</span><span class="op" id="1425827">(</span><span class="op" id="1425828">&amp;</span><span class="ident" id="1425829">b</span><span class="op" id="1425830">)</span><span class="op" id="1425831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1425834">memclr</span><span class="op" id="1425840">(</span><span class="ident" id="1425841">s</span><span class="op" id="1425842">.</span><span class="ident" id="1425843">array</span><span class="op" id="1425848">,</span>&nbsp;<span class="builtintype" id="1425850">uintptr</span><span class="op" id="1425857">(</span><span class="ident" id="1425858">s</span><span class="op" id="1425859">.</span><span class="builtinfunc" id="1425860">len</span><span class="op" id="1425863">)</span><span class="op" id="1425864">)</span><br>
<span class="lineno">305</span><span class="op" id="1425866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1425869">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1425946">func</span>&nbsp;<span class="ident" id="1425951">goalg</span><span class="op" id="1425956">(</span><span class="ident" id="1425957">a</span>&nbsp;<span class="ident" id="1425959">unsafe</span><span class="op" id="1425965">.</span><span class="ident" id="1425966">Pointer</span><span class="op" id="1425973">)</span>&nbsp;<span class="op" id="1425975">*</span><span class="ident" id="1425976">typeAlg</span>&nbsp;<span class="op" id="1425984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1425987">return</span>&nbsp;<span class="op" id="1425994">(</span><span class="op" id="1425995">*</span><span class="ident" id="1425996">typeAlg</span><span class="op" id="1426003">)</span><span class="op" id="1426004">(</span><span class="ident" id="1426005">a</span><span class="op" id="1426006">)</span><br>
<span class="lineno">310</span><span class="op" id="1426008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1426011">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1426040">const</span>&nbsp;<span class="ident" id="1426046">hashRandomBytes</span>&nbsp;<span class="op" id="1426062">=</span>&nbsp;<span class="num" id="1426064">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1426068">var</span>&nbsp;<span class="ident" id="1426072">aeskeysched</span>&nbsp;<span class="op" id="1426084">[</span><span class="ident" id="1426085">hashRandomBytes</span><span class="op" id="1426100">]</span><span class="builtintype" id="1426101">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1426107">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1426121">func</span>&nbsp;<span class="ident" id="1426126">get_random_data</span><span class="op" id="1426141">(</span><span class="ident" id="1426142">rnd</span>&nbsp;<span class="op" id="1426146">*</span><span class="ident" id="1426147">unsafe</span><span class="op" id="1426153">.</span><span class="ident" id="1426154">Pointer</span><span class="op" id="1426161">,</span>&nbsp;<span class="ident" id="1426163">n</span>&nbsp;<span class="op" id="1426165">*</span><span class="builtintype" id="1426166">int32</span><span class="op" id="1426171">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1426174">func</span>&nbsp;<span class="ident" id="1426179">init</span><span class="op" id="1426183">(</span><span class="op" id="1426184">)</span>&nbsp;<span class="op" id="1426186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426189">if</span>&nbsp;<span class="ident" id="1426192">theGoos</span>&nbsp;<span class="op" id="1426200">==</span>&nbsp;<span class="string" id="1426203">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1426210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426214">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1426222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1426226">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426293">if</span>&nbsp;<span class="op" id="1426296">(</span><span class="ident" id="1426297">cpuid_ecx</span><span class="op" id="1426306">&amp;</span><span class="op" id="1426307">(</span><span class="num" id="1426308">1</span><span class="op" id="1426309">&lt;&lt;</span><span class="num" id="1426311">25</span><span class="op" id="1426313">)</span><span class="op" id="1426314">)</span>&nbsp;<span class="op" id="1426316">!=</span>&nbsp;<span class="num" id="1426319">0</span>&nbsp;<span class="op" id="1426321">&amp;&amp;</span>&nbsp;<span class="comment" id="1426324">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1426342">(</span><span class="ident" id="1426343">cpuid_ecx</span><span class="op" id="1426352">&amp;</span><span class="op" id="1426353">(</span><span class="num" id="1426354">1</span><span class="op" id="1426355">&lt;&lt;</span><span class="num" id="1426357">9</span><span class="op" id="1426358">)</span><span class="op" id="1426359">)</span>&nbsp;<span class="op" id="1426361">!=</span>&nbsp;<span class="num" id="1426364">0</span>&nbsp;<span class="op" id="1426366">&amp;&amp;</span>&nbsp;<span class="comment" id="1426369">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1426388">(</span><span class="ident" id="1426389">cpuid_ecx</span><span class="op" id="1426398">&amp;</span><span class="op" id="1426399">(</span><span class="num" id="1426400">1</span><span class="op" id="1426401">&lt;&lt;</span><span class="num" id="1426403">19</span><span class="op" id="1426405">)</span><span class="op" id="1426406">)</span>&nbsp;<span class="op" id="1426408">!=</span>&nbsp;<span class="num" id="1426411">0</span>&nbsp;<span class="op" id="1426413">{</span>&nbsp;<span class="comment" id="1426415">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426440">useAeshash</span>&nbsp;<span class="op" id="1426451">=</span>&nbsp;<span class="builtintype" id="1426453">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426460">algarray</span><span class="op" id="1426468">[</span><span class="ident" id="1426469">alg_MEM</span><span class="op" id="1426476">]</span><span class="op" id="1426477">.</span><span class="ident" id="1426478">hash</span>&nbsp;<span class="op" id="1426483">=</span>&nbsp;<span class="ident" id="1426485">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426495">algarray</span><span class="op" id="1426503">[</span><span class="ident" id="1426504">alg_MEM8</span><span class="op" id="1426512">]</span><span class="op" id="1426513">.</span><span class="ident" id="1426514">hash</span>&nbsp;<span class="op" id="1426519">=</span>&nbsp;<span class="ident" id="1426521">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426531">algarray</span><span class="op" id="1426539">[</span><span class="ident" id="1426540">alg_MEM16</span><span class="op" id="1426549">]</span><span class="op" id="1426550">.</span><span class="ident" id="1426551">hash</span>&nbsp;<span class="op" id="1426556">=</span>&nbsp;<span class="ident" id="1426558">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426568">algarray</span><span class="op" id="1426576">[</span><span class="ident" id="1426577">alg_MEM32</span><span class="op" id="1426586">]</span><span class="op" id="1426587">.</span><span class="ident" id="1426588">hash</span>&nbsp;<span class="op" id="1426593">=</span>&nbsp;<span class="ident" id="1426595">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426607">algarray</span><span class="op" id="1426615">[</span><span class="ident" id="1426616">alg_MEM64</span><span class="op" id="1426625">]</span><span class="op" id="1426626">.</span><span class="ident" id="1426627">hash</span>&nbsp;<span class="op" id="1426632">=</span>&nbsp;<span class="ident" id="1426634">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426646">algarray</span><span class="op" id="1426654">[</span><span class="ident" id="1426655">alg_MEM128</span><span class="op" id="1426665">]</span><span class="op" id="1426666">.</span><span class="ident" id="1426667">hash</span>&nbsp;<span class="op" id="1426672">=</span>&nbsp;<span class="ident" id="1426674">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426684">algarray</span><span class="op" id="1426692">[</span><span class="ident" id="1426693">alg_STRING</span><span class="op" id="1426703">]</span><span class="op" id="1426704">.</span><span class="ident" id="1426705">hash</span>&nbsp;<span class="op" id="1426710">=</span>&nbsp;<span class="ident" id="1426712">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1426725">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426803">var</span>&nbsp;<span class="ident" id="1426807">rnd</span>&nbsp;<span class="ident" id="1426811">unsafe</span><span class="op" id="1426817">.</span><span class="ident" id="1426818">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426828">var</span>&nbsp;<span class="ident" id="1426832">n</span>&nbsp;<span class="builtintype" id="1426834">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426842">get_random_data</span><span class="op" id="1426857">(</span><span class="op" id="1426858">&amp;</span><span class="ident" id="1426859">rnd</span><span class="op" id="1426862">,</span>&nbsp;<span class="op" id="1426864">&amp;</span><span class="ident" id="1426865">n</span><span class="op" id="1426866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426870">if</span>&nbsp;<span class="ident" id="1426873">n</span>&nbsp;<span class="op" id="1426875">&gt;</span>&nbsp;<span class="ident" id="1426877">hashRandomBytes</span>&nbsp;<span class="op" id="1426893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426898">n</span>&nbsp;<span class="op" id="1426900">=</span>&nbsp;<span class="ident" id="1426902">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1426920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1426924">memmove</span><span class="op" id="1426931">(</span><span class="ident" id="1426932">unsafe</span><span class="op" id="1426938">.</span><span class="ident" id="1426939">Pointer</span><span class="op" id="1426946">(</span><span class="op" id="1426947">&amp;</span><span class="ident" id="1426948">aeskeysched</span><span class="op" id="1426959">[</span><span class="num" id="1426960">0</span><span class="op" id="1426961">]</span><span class="op" id="1426962">)</span><span class="op" id="1426963">,</span>&nbsp;<span class="ident" id="1426965">rnd</span><span class="op" id="1426968">,</span>&nbsp;<span class="builtintype" id="1426970">uintptr</span><span class="op" id="1426977">(</span><span class="ident" id="1426978">n</span><span class="op" id="1426979">)</span><span class="op" id="1426980">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1426984">if</span>&nbsp;<span class="ident" id="1426987">n</span>&nbsp;<span class="op" id="1426989">&lt;</span>&nbsp;<span class="ident" id="1426991">hashRandomBytes</span>&nbsp;<span class="op" id="1427007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1427012">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1427060">for</span>&nbsp;<span class="ident" id="1427064">t</span>&nbsp;<span class="op" id="1427066">:=</span>&nbsp;<span class="ident" id="1427069">nanotime</span><span class="op" id="1427077">(</span><span class="op" id="1427078">)</span><span class="op" id="1427079">;</span>&nbsp;<span class="ident" id="1427081">n</span>&nbsp;<span class="op" id="1427083">&lt;</span>&nbsp;<span class="ident" id="1427085">hashRandomBytes</span><span class="op" id="1427100">;</span>&nbsp;<span class="ident" id="1427102">n</span><span class="op" id="1427103">++</span>&nbsp;<span class="op" id="1427106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1427112">aeskeysched</span><span class="op" id="1427123">[</span><span class="ident" id="1427124">n</span><span class="op" id="1427125">]</span>&nbsp;<span class="op" id="1427127">=</span>&nbsp;<span class="builtintype" id="1427129">byte</span><span class="op" id="1427133">(</span><span class="ident" id="1427134">t</span>&nbsp;<span class="op" id="1427136">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1427139">uint</span><span class="op" id="1427143">(</span><span class="num" id="1427144">8</span><span class="op" id="1427145">*</span><span class="op" id="1427146">(</span><span class="ident" id="1427147">n</span><span class="op" id="1427148">%</span><span class="num" id="1427149">8</span><span class="op" id="1427150">)</span><span class="op" id="1427151">)</span><span class="op" id="1427152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1427157">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1427161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1427164">}</span><br>
<span class="lineno"></span><span class="op" id="1427166">}</span>
</div>
</body>
</html>
