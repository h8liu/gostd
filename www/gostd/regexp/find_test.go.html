<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7416420">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7416475">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7416529">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7416580">package</span>&nbsp;<span class="ident" id="7416588">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416596">import</span>&nbsp;<span class="op" id="7416603">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7416606">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7416613">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7416624">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7416634">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7416637">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7416714">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7416794">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7416877">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7416955">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7417002">type</span>&nbsp;<span class="ident" id="7417007">FindTest</span>&nbsp;<span class="keyword" id="7417016">struct</span>&nbsp;<span class="op" id="7417023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417026">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7417034">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417042">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7417050">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417058">matches</span>&nbsp;<span class="op" id="7417066">[</span><span class="op" id="7417067">]</span><span class="op" id="7417068">[</span><span class="op" id="7417069">]</span><span class="builtintype" id="7417070">int</span><br>
<span class="lineno"></span><span class="op" id="7417074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417077">func</span>&nbsp;<span class="op" id="7417082">(</span><span class="ident" id="7417083">t</span>&nbsp;<span class="ident" id="7417085">FindTest</span><span class="op" id="7417093">)</span>&nbsp;<span class="ident" id="7417095">String</span><span class="op" id="7417101">(</span><span class="op" id="7417102">)</span>&nbsp;<span class="builtintype" id="7417104">string</span>&nbsp;<span class="op" id="7417111">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417114">return</span>&nbsp;<span class="ident" id="7417121">fmt</span><span class="op" id="7417124">.</span><span class="ident" id="7417125">Sprintf</span><span class="op" id="7417132">(</span><span class="string" id="7417133">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7417153">,</span>&nbsp;<span class="ident" id="7417155">t</span><span class="op" id="7417156">.</span><span class="ident" id="7417157">pat</span><span class="op" id="7417160">,</span>&nbsp;<span class="ident" id="7417162">t</span><span class="op" id="7417163">.</span><span class="ident" id="7417164">text</span><span class="op" id="7417168">)</span><br>
<span class="lineno"></span><span class="op" id="7417170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417173">var</span>&nbsp;<span class="ident" id="7417177">findTests</span>&nbsp;<span class="op" id="7417187">=</span>&nbsp;<span class="op" id="7417189">[</span><span class="op" id="7417190">]</span><span class="ident" id="7417191">FindTest</span><span class="op" id="7417199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417202">{</span><span class="string" id="7417203">``</span><span class="op" id="7417205">,</span>&nbsp;<span class="string" id="7417207">``</span><span class="op" id="7417209">,</span>&nbsp;<span class="ident" id="7417211">build</span><span class="op" id="7417216">(</span><span class="num" id="7417217">1</span><span class="op" id="7417218">,</span>&nbsp;<span class="num" id="7417220">0</span><span class="op" id="7417221">,</span>&nbsp;<span class="num" id="7417223">0</span><span class="op" id="7417224">)</span><span class="op" id="7417225">}</span><span class="op" id="7417226">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417229">{</span><span class="string" id="7417230">`^abcdefg`</span><span class="op" id="7417240">,</span>&nbsp;<span class="string" id="7417242">&#34;abcdefg&#34;</span><span class="op" id="7417251">,</span>&nbsp;<span class="ident" id="7417253">build</span><span class="op" id="7417258">(</span><span class="num" id="7417259">1</span><span class="op" id="7417260">,</span>&nbsp;<span class="num" id="7417262">0</span><span class="op" id="7417263">,</span>&nbsp;<span class="num" id="7417265">7</span><span class="op" id="7417266">)</span><span class="op" id="7417267">}</span><span class="op" id="7417268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417271">{</span><span class="string" id="7417272">`a+`</span><span class="op" id="7417276">,</span>&nbsp;<span class="string" id="7417278">&#34;baaab&#34;</span><span class="op" id="7417285">,</span>&nbsp;<span class="ident" id="7417287">build</span><span class="op" id="7417292">(</span><span class="num" id="7417293">1</span><span class="op" id="7417294">,</span>&nbsp;<span class="num" id="7417296">1</span><span class="op" id="7417297">,</span>&nbsp;<span class="num" id="7417299">4</span><span class="op" id="7417300">)</span><span class="op" id="7417301">}</span><span class="op" id="7417302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417305">{</span><span class="string" id="7417306">&#34;abcd..&#34;</span><span class="op" id="7417314">,</span>&nbsp;<span class="string" id="7417316">&#34;abcdef&#34;</span><span class="op" id="7417324">,</span>&nbsp;<span class="ident" id="7417326">build</span><span class="op" id="7417331">(</span><span class="num" id="7417332">1</span><span class="op" id="7417333">,</span>&nbsp;<span class="num" id="7417335">0</span><span class="op" id="7417336">,</span>&nbsp;<span class="num" id="7417338">6</span><span class="op" id="7417339">)</span><span class="op" id="7417340">}</span><span class="op" id="7417341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417344">{</span><span class="string" id="7417345">`a`</span><span class="op" id="7417348">,</span>&nbsp;<span class="string" id="7417350">&#34;a&#34;</span><span class="op" id="7417353">,</span>&nbsp;<span class="ident" id="7417355">build</span><span class="op" id="7417360">(</span><span class="num" id="7417361">1</span><span class="op" id="7417362">,</span>&nbsp;<span class="num" id="7417364">0</span><span class="op" id="7417365">,</span>&nbsp;<span class="num" id="7417367">1</span><span class="op" id="7417368">)</span><span class="op" id="7417369">}</span><span class="op" id="7417370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417373">{</span><span class="string" id="7417374">`x`</span><span class="op" id="7417377">,</span>&nbsp;<span class="string" id="7417379">&#34;y&#34;</span><span class="op" id="7417382">,</span>&nbsp;<span class="ident" id="7417384">nil</span><span class="op" id="7417387">}</span><span class="op" id="7417388">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417391">{</span><span class="string" id="7417392">`b`</span><span class="op" id="7417395">,</span>&nbsp;<span class="string" id="7417397">&#34;abc&#34;</span><span class="op" id="7417402">,</span>&nbsp;<span class="ident" id="7417404">build</span><span class="op" id="7417409">(</span><span class="num" id="7417410">1</span><span class="op" id="7417411">,</span>&nbsp;<span class="num" id="7417413">1</span><span class="op" id="7417414">,</span>&nbsp;<span class="num" id="7417416">2</span><span class="op" id="7417417">)</span><span class="op" id="7417418">}</span><span class="op" id="7417419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417422">{</span><span class="string" id="7417423">`.`</span><span class="op" id="7417426">,</span>&nbsp;<span class="string" id="7417428">&#34;a&#34;</span><span class="op" id="7417431">,</span>&nbsp;<span class="ident" id="7417433">build</span><span class="op" id="7417438">(</span><span class="num" id="7417439">1</span><span class="op" id="7417440">,</span>&nbsp;<span class="num" id="7417442">0</span><span class="op" id="7417443">,</span>&nbsp;<span class="num" id="7417445">1</span><span class="op" id="7417446">)</span><span class="op" id="7417447">}</span><span class="op" id="7417448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417451">{</span><span class="string" id="7417452">`.*`</span><span class="op" id="7417456">,</span>&nbsp;<span class="string" id="7417458">&#34;abcdef&#34;</span><span class="op" id="7417466">,</span>&nbsp;<span class="ident" id="7417468">build</span><span class="op" id="7417473">(</span><span class="num" id="7417474">1</span><span class="op" id="7417475">,</span>&nbsp;<span class="num" id="7417477">0</span><span class="op" id="7417478">,</span>&nbsp;<span class="num" id="7417480">6</span><span class="op" id="7417481">)</span><span class="op" id="7417482">}</span><span class="op" id="7417483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417486">{</span><span class="string" id="7417487">`^`</span><span class="op" id="7417490">,</span>&nbsp;<span class="string" id="7417492">&#34;abcde&#34;</span><span class="op" id="7417499">,</span>&nbsp;<span class="ident" id="7417501">build</span><span class="op" id="7417506">(</span><span class="num" id="7417507">1</span><span class="op" id="7417508">,</span>&nbsp;<span class="num" id="7417510">0</span><span class="op" id="7417511">,</span>&nbsp;<span class="num" id="7417513">0</span><span class="op" id="7417514">)</span><span class="op" id="7417515">}</span><span class="op" id="7417516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417519">{</span><span class="string" id="7417520">`$`</span><span class="op" id="7417523">,</span>&nbsp;<span class="string" id="7417525">&#34;abcde&#34;</span><span class="op" id="7417532">,</span>&nbsp;<span class="ident" id="7417534">build</span><span class="op" id="7417539">(</span><span class="num" id="7417540">1</span><span class="op" id="7417541">,</span>&nbsp;<span class="num" id="7417543">5</span><span class="op" id="7417544">,</span>&nbsp;<span class="num" id="7417546">5</span><span class="op" id="7417547">)</span><span class="op" id="7417548">}</span><span class="op" id="7417549">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417552">{</span><span class="string" id="7417553">`^abcd$`</span><span class="op" id="7417561">,</span>&nbsp;<span class="string" id="7417563">&#34;abcd&#34;</span><span class="op" id="7417569">,</span>&nbsp;<span class="ident" id="7417571">build</span><span class="op" id="7417576">(</span><span class="num" id="7417577">1</span><span class="op" id="7417578">,</span>&nbsp;<span class="num" id="7417580">0</span><span class="op" id="7417581">,</span>&nbsp;<span class="num" id="7417583">4</span><span class="op" id="7417584">)</span><span class="op" id="7417585">}</span><span class="op" id="7417586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417589">{</span><span class="string" id="7417590">`^bcd&#39;`</span><span class="op" id="7417597">,</span>&nbsp;<span class="string" id="7417599">&#34;abcdef&#34;</span><span class="op" id="7417607">,</span>&nbsp;<span class="ident" id="7417609">nil</span><span class="op" id="7417612">}</span><span class="op" id="7417613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417616">{</span><span class="string" id="7417617">`^abcd$`</span><span class="op" id="7417625">,</span>&nbsp;<span class="string" id="7417627">&#34;abcde&#34;</span><span class="op" id="7417634">,</span>&nbsp;<span class="ident" id="7417636">nil</span><span class="op" id="7417639">}</span><span class="op" id="7417640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417643">{</span><span class="string" id="7417644">`a+`</span><span class="op" id="7417648">,</span>&nbsp;<span class="string" id="7417650">&#34;baaab&#34;</span><span class="op" id="7417657">,</span>&nbsp;<span class="ident" id="7417659">build</span><span class="op" id="7417664">(</span><span class="num" id="7417665">1</span><span class="op" id="7417666">,</span>&nbsp;<span class="num" id="7417668">1</span><span class="op" id="7417669">,</span>&nbsp;<span class="num" id="7417671">4</span><span class="op" id="7417672">)</span><span class="op" id="7417673">}</span><span class="op" id="7417674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417677">{</span><span class="string" id="7417678">`a*`</span><span class="op" id="7417682">,</span>&nbsp;<span class="string" id="7417684">&#34;baaab&#34;</span><span class="op" id="7417691">,</span>&nbsp;<span class="ident" id="7417693">build</span><span class="op" id="7417698">(</span><span class="num" id="7417699">3</span><span class="op" id="7417700">,</span>&nbsp;<span class="num" id="7417702">0</span><span class="op" id="7417703">,</span>&nbsp;<span class="num" id="7417705">0</span><span class="op" id="7417706">,</span>&nbsp;<span class="num" id="7417708">1</span><span class="op" id="7417709">,</span>&nbsp;<span class="num" id="7417711">4</span><span class="op" id="7417712">,</span>&nbsp;<span class="num" id="7417714">5</span><span class="op" id="7417715">,</span>&nbsp;<span class="num" id="7417717">5</span><span class="op" id="7417718">)</span><span class="op" id="7417719">}</span><span class="op" id="7417720">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417723">{</span><span class="string" id="7417724">`[a-z]+`</span><span class="op" id="7417732">,</span>&nbsp;<span class="string" id="7417734">&#34;abcd&#34;</span><span class="op" id="7417740">,</span>&nbsp;<span class="ident" id="7417742">build</span><span class="op" id="7417747">(</span><span class="num" id="7417748">1</span><span class="op" id="7417749">,</span>&nbsp;<span class="num" id="7417751">0</span><span class="op" id="7417752">,</span>&nbsp;<span class="num" id="7417754">4</span><span class="op" id="7417755">)</span><span class="op" id="7417756">}</span><span class="op" id="7417757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417760">{</span><span class="string" id="7417761">`[^a-z]+`</span><span class="op" id="7417770">,</span>&nbsp;<span class="string" id="7417772">&#34;ab1234cd&#34;</span><span class="op" id="7417782">,</span>&nbsp;<span class="ident" id="7417784">build</span><span class="op" id="7417789">(</span><span class="num" id="7417790">1</span><span class="op" id="7417791">,</span>&nbsp;<span class="num" id="7417793">2</span><span class="op" id="7417794">,</span>&nbsp;<span class="num" id="7417796">6</span><span class="op" id="7417797">)</span><span class="op" id="7417798">}</span><span class="op" id="7417799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417802">{</span><span class="string" id="7417803">`[a\-\]z]+`</span><span class="op" id="7417814">,</span>&nbsp;<span class="string" id="7417816">&#34;az]-bcz&#34;</span><span class="op" id="7417825">,</span>&nbsp;<span class="ident" id="7417827">build</span><span class="op" id="7417832">(</span><span class="num" id="7417833">2</span><span class="op" id="7417834">,</span>&nbsp;<span class="num" id="7417836">0</span><span class="op" id="7417837">,</span>&nbsp;<span class="num" id="7417839">4</span><span class="op" id="7417840">,</span>&nbsp;<span class="num" id="7417842">6</span><span class="op" id="7417843">,</span>&nbsp;<span class="num" id="7417845">7</span><span class="op" id="7417846">)</span><span class="op" id="7417847">}</span><span class="op" id="7417848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417851">{</span><span class="string" id="7417852">`[^\n]+`</span><span class="op" id="7417860">,</span>&nbsp;<span class="string" id="7417862">&#34;abcd\n&#34;</span><span class="op" id="7417870">,</span>&nbsp;<span class="ident" id="7417872">build</span><span class="op" id="7417877">(</span><span class="num" id="7417878">1</span><span class="op" id="7417879">,</span>&nbsp;<span class="num" id="7417881">0</span><span class="op" id="7417882">,</span>&nbsp;<span class="num" id="7417884">4</span><span class="op" id="7417885">)</span><span class="op" id="7417886">}</span><span class="op" id="7417887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417890">{</span><span class="string" id="7417891">`[日本語]+`</span><span class="op" id="7417905">,</span>&nbsp;<span class="string" id="7417907">&#34;日本語日本語&#34;</span><span class="op" id="7417927">,</span>&nbsp;<span class="ident" id="7417929">build</span><span class="op" id="7417934">(</span><span class="num" id="7417935">1</span><span class="op" id="7417936">,</span>&nbsp;<span class="num" id="7417938">0</span><span class="op" id="7417939">,</span>&nbsp;<span class="num" id="7417941">18</span><span class="op" id="7417943">)</span><span class="op" id="7417944">}</span><span class="op" id="7417945">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417948">{</span><span class="string" id="7417949">`日本語+`</span><span class="op" id="7417961">,</span>&nbsp;<span class="string" id="7417963">&#34;日本語&#34;</span><span class="op" id="7417974">,</span>&nbsp;<span class="ident" id="7417976">build</span><span class="op" id="7417981">(</span><span class="num" id="7417982">1</span><span class="op" id="7417983">,</span>&nbsp;<span class="num" id="7417985">0</span><span class="op" id="7417986">,</span>&nbsp;<span class="num" id="7417988">9</span><span class="op" id="7417989">)</span><span class="op" id="7417990">}</span><span class="op" id="7417991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417994">{</span><span class="string" id="7417995">`日本語+`</span><span class="op" id="7418007">,</span>&nbsp;<span class="string" id="7418009">&#34;日本語語語語&#34;</span><span class="op" id="7418029">,</span>&nbsp;<span class="ident" id="7418031">build</span><span class="op" id="7418036">(</span><span class="num" id="7418037">1</span><span class="op" id="7418038">,</span>&nbsp;<span class="num" id="7418040">0</span><span class="op" id="7418041">,</span>&nbsp;<span class="num" id="7418043">18</span><span class="op" id="7418045">)</span><span class="op" id="7418046">}</span><span class="op" id="7418047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418050">{</span><span class="string" id="7418051">`()`</span><span class="op" id="7418055">,</span>&nbsp;<span class="string" id="7418057">&#34;&#34;</span><span class="op" id="7418059">,</span>&nbsp;<span class="ident" id="7418061">build</span><span class="op" id="7418066">(</span><span class="num" id="7418067">1</span><span class="op" id="7418068">,</span>&nbsp;<span class="num" id="7418070">0</span><span class="op" id="7418071">,</span>&nbsp;<span class="num" id="7418073">0</span><span class="op" id="7418074">,</span>&nbsp;<span class="num" id="7418076">0</span><span class="op" id="7418077">,</span>&nbsp;<span class="num" id="7418079">0</span><span class="op" id="7418080">)</span><span class="op" id="7418081">}</span><span class="op" id="7418082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418085">{</span><span class="string" id="7418086">`(a)`</span><span class="op" id="7418091">,</span>&nbsp;<span class="string" id="7418093">&#34;a&#34;</span><span class="op" id="7418096">,</span>&nbsp;<span class="ident" id="7418098">build</span><span class="op" id="7418103">(</span><span class="num" id="7418104">1</span><span class="op" id="7418105">,</span>&nbsp;<span class="num" id="7418107">0</span><span class="op" id="7418108">,</span>&nbsp;<span class="num" id="7418110">1</span><span class="op" id="7418111">,</span>&nbsp;<span class="num" id="7418113">0</span><span class="op" id="7418114">,</span>&nbsp;<span class="num" id="7418116">1</span><span class="op" id="7418117">)</span><span class="op" id="7418118">}</span><span class="op" id="7418119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418122">{</span><span class="string" id="7418123">`(.)(.)`</span><span class="op" id="7418131">,</span>&nbsp;<span class="string" id="7418133">&#34;日a&#34;</span><span class="op" id="7418139">,</span>&nbsp;<span class="ident" id="7418141">build</span><span class="op" id="7418146">(</span><span class="num" id="7418147">1</span><span class="op" id="7418148">,</span>&nbsp;<span class="num" id="7418150">0</span><span class="op" id="7418151">,</span>&nbsp;<span class="num" id="7418153">4</span><span class="op" id="7418154">,</span>&nbsp;<span class="num" id="7418156">0</span><span class="op" id="7418157">,</span>&nbsp;<span class="num" id="7418159">3</span><span class="op" id="7418160">,</span>&nbsp;<span class="num" id="7418162">3</span><span class="op" id="7418163">,</span>&nbsp;<span class="num" id="7418165">4</span><span class="op" id="7418166">)</span><span class="op" id="7418167">}</span><span class="op" id="7418168">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418171">{</span><span class="string" id="7418172">`(.*)`</span><span class="op" id="7418178">,</span>&nbsp;<span class="string" id="7418180">&#34;&#34;</span><span class="op" id="7418182">,</span>&nbsp;<span class="ident" id="7418184">build</span><span class="op" id="7418189">(</span><span class="num" id="7418190">1</span><span class="op" id="7418191">,</span>&nbsp;<span class="num" id="7418193">0</span><span class="op" id="7418194">,</span>&nbsp;<span class="num" id="7418196">0</span><span class="op" id="7418197">,</span>&nbsp;<span class="num" id="7418199">0</span><span class="op" id="7418200">,</span>&nbsp;<span class="num" id="7418202">0</span><span class="op" id="7418203">)</span><span class="op" id="7418204">}</span><span class="op" id="7418205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418208">{</span><span class="string" id="7418209">`(.*)`</span><span class="op" id="7418215">,</span>&nbsp;<span class="string" id="7418217">&#34;abcd&#34;</span><span class="op" id="7418223">,</span>&nbsp;<span class="ident" id="7418225">build</span><span class="op" id="7418230">(</span><span class="num" id="7418231">1</span><span class="op" id="7418232">,</span>&nbsp;<span class="num" id="7418234">0</span><span class="op" id="7418235">,</span>&nbsp;<span class="num" id="7418237">4</span><span class="op" id="7418238">,</span>&nbsp;<span class="num" id="7418240">0</span><span class="op" id="7418241">,</span>&nbsp;<span class="num" id="7418243">4</span><span class="op" id="7418244">)</span><span class="op" id="7418245">}</span><span class="op" id="7418246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418249">{</span><span class="string" id="7418250">`(..)(..)`</span><span class="op" id="7418260">,</span>&nbsp;<span class="string" id="7418262">&#34;abcd&#34;</span><span class="op" id="7418268">,</span>&nbsp;<span class="ident" id="7418270">build</span><span class="op" id="7418275">(</span><span class="num" id="7418276">1</span><span class="op" id="7418277">,</span>&nbsp;<span class="num" id="7418279">0</span><span class="op" id="7418280">,</span>&nbsp;<span class="num" id="7418282">4</span><span class="op" id="7418283">,</span>&nbsp;<span class="num" id="7418285">0</span><span class="op" id="7418286">,</span>&nbsp;<span class="num" id="7418288">2</span><span class="op" id="7418289">,</span>&nbsp;<span class="num" id="7418291">2</span><span class="op" id="7418292">,</span>&nbsp;<span class="num" id="7418294">4</span><span class="op" id="7418295">)</span><span class="op" id="7418296">}</span><span class="op" id="7418297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418300">{</span><span class="string" id="7418301">`(([^xyz]*)(d))`</span><span class="op" id="7418317">,</span>&nbsp;<span class="string" id="7418319">&#34;abcd&#34;</span><span class="op" id="7418325">,</span>&nbsp;<span class="ident" id="7418327">build</span><span class="op" id="7418332">(</span><span class="num" id="7418333">1</span><span class="op" id="7418334">,</span>&nbsp;<span class="num" id="7418336">0</span><span class="op" id="7418337">,</span>&nbsp;<span class="num" id="7418339">4</span><span class="op" id="7418340">,</span>&nbsp;<span class="num" id="7418342">0</span><span class="op" id="7418343">,</span>&nbsp;<span class="num" id="7418345">4</span><span class="op" id="7418346">,</span>&nbsp;<span class="num" id="7418348">0</span><span class="op" id="7418349">,</span>&nbsp;<span class="num" id="7418351">3</span><span class="op" id="7418352">,</span>&nbsp;<span class="num" id="7418354">3</span><span class="op" id="7418355">,</span>&nbsp;<span class="num" id="7418357">4</span><span class="op" id="7418358">)</span><span class="op" id="7418359">}</span><span class="op" id="7418360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418363">{</span><span class="string" id="7418364">`((a|b|c)*(d))`</span><span class="op" id="7418379">,</span>&nbsp;<span class="string" id="7418381">&#34;abcd&#34;</span><span class="op" id="7418387">,</span>&nbsp;<span class="ident" id="7418389">build</span><span class="op" id="7418394">(</span><span class="num" id="7418395">1</span><span class="op" id="7418396">,</span>&nbsp;<span class="num" id="7418398">0</span><span class="op" id="7418399">,</span>&nbsp;<span class="num" id="7418401">4</span><span class="op" id="7418402">,</span>&nbsp;<span class="num" id="7418404">0</span><span class="op" id="7418405">,</span>&nbsp;<span class="num" id="7418407">4</span><span class="op" id="7418408">,</span>&nbsp;<span class="num" id="7418410">2</span><span class="op" id="7418411">,</span>&nbsp;<span class="num" id="7418413">3</span><span class="op" id="7418414">,</span>&nbsp;<span class="num" id="7418416">3</span><span class="op" id="7418417">,</span>&nbsp;<span class="num" id="7418419">4</span><span class="op" id="7418420">)</span><span class="op" id="7418421">}</span><span class="op" id="7418422">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418425">{</span><span class="string" id="7418426">`(((a|b|c)*)(d))`</span><span class="op" id="7418443">,</span>&nbsp;<span class="string" id="7418445">&#34;abcd&#34;</span><span class="op" id="7418451">,</span>&nbsp;<span class="ident" id="7418453">build</span><span class="op" id="7418458">(</span><span class="num" id="7418459">1</span><span class="op" id="7418460">,</span>&nbsp;<span class="num" id="7418462">0</span><span class="op" id="7418463">,</span>&nbsp;<span class="num" id="7418465">4</span><span class="op" id="7418466">,</span>&nbsp;<span class="num" id="7418468">0</span><span class="op" id="7418469">,</span>&nbsp;<span class="num" id="7418471">4</span><span class="op" id="7418472">,</span>&nbsp;<span class="num" id="7418474">0</span><span class="op" id="7418475">,</span>&nbsp;<span class="num" id="7418477">3</span><span class="op" id="7418478">,</span>&nbsp;<span class="num" id="7418480">2</span><span class="op" id="7418481">,</span>&nbsp;<span class="num" id="7418483">3</span><span class="op" id="7418484">,</span>&nbsp;<span class="num" id="7418486">3</span><span class="op" id="7418487">,</span>&nbsp;<span class="num" id="7418489">4</span><span class="op" id="7418490">)</span><span class="op" id="7418491">}</span><span class="op" id="7418492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418495">{</span><span class="string" id="7418496">`\a\f\n\r\t\v`</span><span class="op" id="7418510">,</span>&nbsp;<span class="string" id="7418512">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7418526">,</span>&nbsp;<span class="ident" id="7418528">build</span><span class="op" id="7418533">(</span><span class="num" id="7418534">1</span><span class="op" id="7418535">,</span>&nbsp;<span class="num" id="7418537">0</span><span class="op" id="7418538">,</span>&nbsp;<span class="num" id="7418540">6</span><span class="op" id="7418541">)</span><span class="op" id="7418542">}</span><span class="op" id="7418543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418546">{</span><span class="string" id="7418547">`[\a\f\n\r\t\v]+`</span><span class="op" id="7418564">,</span>&nbsp;<span class="string" id="7418566">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7418580">,</span>&nbsp;<span class="ident" id="7418582">build</span><span class="op" id="7418587">(</span><span class="num" id="7418588">1</span><span class="op" id="7418589">,</span>&nbsp;<span class="num" id="7418591">0</span><span class="op" id="7418592">,</span>&nbsp;<span class="num" id="7418594">6</span><span class="op" id="7418595">)</span><span class="op" id="7418596">}</span><span class="op" id="7418597">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418601">{</span><span class="string" id="7418602">`a*(|(b))c*`</span><span class="op" id="7418614">,</span>&nbsp;<span class="string" id="7418616">&#34;aacc&#34;</span><span class="op" id="7418622">,</span>&nbsp;<span class="ident" id="7418624">build</span><span class="op" id="7418629">(</span><span class="num" id="7418630">1</span><span class="op" id="7418631">,</span>&nbsp;<span class="num" id="7418633">0</span><span class="op" id="7418634">,</span>&nbsp;<span class="num" id="7418636">4</span><span class="op" id="7418637">,</span>&nbsp;<span class="num" id="7418639">2</span><span class="op" id="7418640">,</span>&nbsp;<span class="num" id="7418642">2</span><span class="op" id="7418643">,</span>&nbsp;<span class="op" id="7418645">-</span><span class="num" id="7418646">1</span><span class="op" id="7418647">,</span>&nbsp;<span class="op" id="7418649">-</span><span class="num" id="7418650">1</span><span class="op" id="7418651">)</span><span class="op" id="7418652">}</span><span class="op" id="7418653">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418656">{</span><span class="string" id="7418657">`(.*).*`</span><span class="op" id="7418665">,</span>&nbsp;<span class="string" id="7418667">&#34;ab&#34;</span><span class="op" id="7418671">,</span>&nbsp;<span class="ident" id="7418673">build</span><span class="op" id="7418678">(</span><span class="num" id="7418679">1</span><span class="op" id="7418680">,</span>&nbsp;<span class="num" id="7418682">0</span><span class="op" id="7418683">,</span>&nbsp;<span class="num" id="7418685">2</span><span class="op" id="7418686">,</span>&nbsp;<span class="num" id="7418688">0</span><span class="op" id="7418689">,</span>&nbsp;<span class="num" id="7418691">2</span><span class="op" id="7418692">)</span><span class="op" id="7418693">}</span><span class="op" id="7418694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418697">{</span><span class="string" id="7418698">`[.]`</span><span class="op" id="7418703">,</span>&nbsp;<span class="string" id="7418705">&#34;.&#34;</span><span class="op" id="7418708">,</span>&nbsp;<span class="ident" id="7418710">build</span><span class="op" id="7418715">(</span><span class="num" id="7418716">1</span><span class="op" id="7418717">,</span>&nbsp;<span class="num" id="7418719">0</span><span class="op" id="7418720">,</span>&nbsp;<span class="num" id="7418722">1</span><span class="op" id="7418723">)</span><span class="op" id="7418724">}</span><span class="op" id="7418725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418728">{</span><span class="string" id="7418729">`/$`</span><span class="op" id="7418733">,</span>&nbsp;<span class="string" id="7418735">&#34;/abc/&#34;</span><span class="op" id="7418742">,</span>&nbsp;<span class="ident" id="7418744">build</span><span class="op" id="7418749">(</span><span class="num" id="7418750">1</span><span class="op" id="7418751">,</span>&nbsp;<span class="num" id="7418753">4</span><span class="op" id="7418754">,</span>&nbsp;<span class="num" id="7418756">5</span><span class="op" id="7418757">)</span><span class="op" id="7418758">}</span><span class="op" id="7418759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418762">{</span><span class="string" id="7418763">`/$`</span><span class="op" id="7418767">,</span>&nbsp;<span class="string" id="7418769">&#34;/abc&#34;</span><span class="op" id="7418775">,</span>&nbsp;<span class="ident" id="7418777">nil</span><span class="op" id="7418780">}</span><span class="op" id="7418781">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7418785">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418806">{</span><span class="string" id="7418807">`.`</span><span class="op" id="7418810">,</span>&nbsp;<span class="string" id="7418812">&#34;abc&#34;</span><span class="op" id="7418817">,</span>&nbsp;<span class="ident" id="7418819">build</span><span class="op" id="7418824">(</span><span class="num" id="7418825">3</span><span class="op" id="7418826">,</span>&nbsp;<span class="num" id="7418828">0</span><span class="op" id="7418829">,</span>&nbsp;<span class="num" id="7418831">1</span><span class="op" id="7418832">,</span>&nbsp;<span class="num" id="7418834">1</span><span class="op" id="7418835">,</span>&nbsp;<span class="num" id="7418837">2</span><span class="op" id="7418838">,</span>&nbsp;<span class="num" id="7418840">2</span><span class="op" id="7418841">,</span>&nbsp;<span class="num" id="7418843">3</span><span class="op" id="7418844">)</span><span class="op" id="7418845">}</span><span class="op" id="7418846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418849">{</span><span class="string" id="7418850">`(.)`</span><span class="op" id="7418855">,</span>&nbsp;<span class="string" id="7418857">&#34;abc&#34;</span><span class="op" id="7418862">,</span>&nbsp;<span class="ident" id="7418864">build</span><span class="op" id="7418869">(</span><span class="num" id="7418870">3</span><span class="op" id="7418871">,</span>&nbsp;<span class="num" id="7418873">0</span><span class="op" id="7418874">,</span>&nbsp;<span class="num" id="7418876">1</span><span class="op" id="7418877">,</span>&nbsp;<span class="num" id="7418879">0</span><span class="op" id="7418880">,</span>&nbsp;<span class="num" id="7418882">1</span><span class="op" id="7418883">,</span>&nbsp;<span class="num" id="7418885">1</span><span class="op" id="7418886">,</span>&nbsp;<span class="num" id="7418888">2</span><span class="op" id="7418889">,</span>&nbsp;<span class="num" id="7418891">1</span><span class="op" id="7418892">,</span>&nbsp;<span class="num" id="7418894">2</span><span class="op" id="7418895">,</span>&nbsp;<span class="num" id="7418897">2</span><span class="op" id="7418898">,</span>&nbsp;<span class="num" id="7418900">3</span><span class="op" id="7418901">,</span>&nbsp;<span class="num" id="7418903">2</span><span class="op" id="7418904">,</span>&nbsp;<span class="num" id="7418906">3</span><span class="op" id="7418907">)</span><span class="op" id="7418908">}</span><span class="op" id="7418909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418912">{</span><span class="string" id="7418913">`.(.)`</span><span class="op" id="7418919">,</span>&nbsp;<span class="string" id="7418921">&#34;abcd&#34;</span><span class="op" id="7418927">,</span>&nbsp;<span class="ident" id="7418929">build</span><span class="op" id="7418934">(</span><span class="num" id="7418935">2</span><span class="op" id="7418936">,</span>&nbsp;<span class="num" id="7418938">0</span><span class="op" id="7418939">,</span>&nbsp;<span class="num" id="7418941">2</span><span class="op" id="7418942">,</span>&nbsp;<span class="num" id="7418944">1</span><span class="op" id="7418945">,</span>&nbsp;<span class="num" id="7418947">2</span><span class="op" id="7418948">,</span>&nbsp;<span class="num" id="7418950">2</span><span class="op" id="7418951">,</span>&nbsp;<span class="num" id="7418953">4</span><span class="op" id="7418954">,</span>&nbsp;<span class="num" id="7418956">3</span><span class="op" id="7418957">,</span>&nbsp;<span class="num" id="7418959">4</span><span class="op" id="7418960">)</span><span class="op" id="7418961">}</span><span class="op" id="7418962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7418965">{</span><span class="string" id="7418966">`ab*`</span><span class="op" id="7418971">,</span>&nbsp;<span class="string" id="7418973">&#34;abbaab&#34;</span><span class="op" id="7418981">,</span>&nbsp;<span class="ident" id="7418983">build</span><span class="op" id="7418988">(</span><span class="num" id="7418989">3</span><span class="op" id="7418990">,</span>&nbsp;<span class="num" id="7418992">0</span><span class="op" id="7418993">,</span>&nbsp;<span class="num" id="7418995">3</span><span class="op" id="7418996">,</span>&nbsp;<span class="num" id="7418998">3</span><span class="op" id="7418999">,</span>&nbsp;<span class="num" id="7419001">4</span><span class="op" id="7419002">,</span>&nbsp;<span class="num" id="7419004">4</span><span class="op" id="7419005">,</span>&nbsp;<span class="num" id="7419007">6</span><span class="op" id="7419008">)</span><span class="op" id="7419009">}</span><span class="op" id="7419010">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419013">{</span><span class="string" id="7419014">`a(b*)`</span><span class="op" id="7419021">,</span>&nbsp;<span class="string" id="7419023">&#34;abbaab&#34;</span><span class="op" id="7419031">,</span>&nbsp;<span class="ident" id="7419033">build</span><span class="op" id="7419038">(</span><span class="num" id="7419039">3</span><span class="op" id="7419040">,</span>&nbsp;<span class="num" id="7419042">0</span><span class="op" id="7419043">,</span>&nbsp;<span class="num" id="7419045">3</span><span class="op" id="7419046">,</span>&nbsp;<span class="num" id="7419048">1</span><span class="op" id="7419049">,</span>&nbsp;<span class="num" id="7419051">3</span><span class="op" id="7419052">,</span>&nbsp;<span class="num" id="7419054">3</span><span class="op" id="7419055">,</span>&nbsp;<span class="num" id="7419057">4</span><span class="op" id="7419058">,</span>&nbsp;<span class="num" id="7419060">4</span><span class="op" id="7419061">,</span>&nbsp;<span class="num" id="7419063">4</span><span class="op" id="7419064">,</span>&nbsp;<span class="num" id="7419066">4</span><span class="op" id="7419067">,</span>&nbsp;<span class="num" id="7419069">6</span><span class="op" id="7419070">,</span>&nbsp;<span class="num" id="7419072">5</span><span class="op" id="7419073">,</span>&nbsp;<span class="num" id="7419075">6</span><span class="op" id="7419076">)</span><span class="op" id="7419077">}</span><span class="op" id="7419078">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7419082">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419097">{</span><span class="string" id="7419098">`ab$`</span><span class="op" id="7419103">,</span>&nbsp;<span class="string" id="7419105">&#34;cab&#34;</span><span class="op" id="7419110">,</span>&nbsp;<span class="ident" id="7419112">build</span><span class="op" id="7419117">(</span><span class="num" id="7419118">1</span><span class="op" id="7419119">,</span>&nbsp;<span class="num" id="7419121">1</span><span class="op" id="7419122">,</span>&nbsp;<span class="num" id="7419124">3</span><span class="op" id="7419125">)</span><span class="op" id="7419126">}</span><span class="op" id="7419127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419130">{</span><span class="string" id="7419131">`axxb$`</span><span class="op" id="7419138">,</span>&nbsp;<span class="string" id="7419140">&#34;axxcb&#34;</span><span class="op" id="7419147">,</span>&nbsp;<span class="ident" id="7419149">nil</span><span class="op" id="7419152">}</span><span class="op" id="7419153">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419156">{</span><span class="string" id="7419157">`data`</span><span class="op" id="7419163">,</span>&nbsp;<span class="string" id="7419165">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7419176">,</span>&nbsp;<span class="ident" id="7419178">build</span><span class="op" id="7419183">(</span><span class="num" id="7419184">1</span><span class="op" id="7419185">,</span>&nbsp;<span class="num" id="7419187">5</span><span class="op" id="7419188">,</span>&nbsp;<span class="num" id="7419190">9</span><span class="op" id="7419191">)</span><span class="op" id="7419192">}</span><span class="op" id="7419193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419196">{</span><span class="string" id="7419197">`da(.)a$`</span><span class="op" id="7419206">,</span>&nbsp;<span class="string" id="7419208">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7419219">,</span>&nbsp;<span class="ident" id="7419221">build</span><span class="op" id="7419226">(</span><span class="num" id="7419227">1</span><span class="op" id="7419228">,</span>&nbsp;<span class="num" id="7419230">5</span><span class="op" id="7419231">,</span>&nbsp;<span class="num" id="7419233">9</span><span class="op" id="7419234">,</span>&nbsp;<span class="num" id="7419236">7</span><span class="op" id="7419237">,</span>&nbsp;<span class="num" id="7419239">8</span><span class="op" id="7419240">)</span><span class="op" id="7419241">}</span><span class="op" id="7419242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419245">{</span><span class="string" id="7419246">`zx+`</span><span class="op" id="7419251">,</span>&nbsp;<span class="string" id="7419253">&#34;zzx&#34;</span><span class="op" id="7419258">,</span>&nbsp;<span class="ident" id="7419260">build</span><span class="op" id="7419265">(</span><span class="num" id="7419266">1</span><span class="op" id="7419267">,</span>&nbsp;<span class="num" id="7419269">1</span><span class="op" id="7419270">,</span>&nbsp;<span class="num" id="7419272">3</span><span class="op" id="7419273">)</span><span class="op" id="7419274">}</span><span class="op" id="7419275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419278">{</span><span class="string" id="7419279">`ab$`</span><span class="op" id="7419284">,</span>&nbsp;<span class="string" id="7419286">&#34;abcab&#34;</span><span class="op" id="7419293">,</span>&nbsp;<span class="ident" id="7419295">build</span><span class="op" id="7419300">(</span><span class="num" id="7419301">1</span><span class="op" id="7419302">,</span>&nbsp;<span class="num" id="7419304">3</span><span class="op" id="7419305">,</span>&nbsp;<span class="num" id="7419307">5</span><span class="op" id="7419308">)</span><span class="op" id="7419309">}</span><span class="op" id="7419310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419313">{</span><span class="string" id="7419314">`(aa)*$`</span><span class="op" id="7419322">,</span>&nbsp;<span class="string" id="7419324">&#34;a&#34;</span><span class="op" id="7419327">,</span>&nbsp;<span class="ident" id="7419329">build</span><span class="op" id="7419334">(</span><span class="num" id="7419335">1</span><span class="op" id="7419336">,</span>&nbsp;<span class="num" id="7419338">1</span><span class="op" id="7419339">,</span>&nbsp;<span class="num" id="7419341">1</span><span class="op" id="7419342">,</span>&nbsp;<span class="op" id="7419344">-</span><span class="num" id="7419345">1</span><span class="op" id="7419346">,</span>&nbsp;<span class="op" id="7419348">-</span><span class="num" id="7419349">1</span><span class="op" id="7419350">)</span><span class="op" id="7419351">}</span><span class="op" id="7419352">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419355">{</span><span class="string" id="7419356">`(?:.|(?:.a))`</span><span class="op" id="7419370">,</span>&nbsp;<span class="string" id="7419372">&#34;&#34;</span><span class="op" id="7419374">,</span>&nbsp;<span class="ident" id="7419376">nil</span><span class="op" id="7419379">}</span><span class="op" id="7419380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419383">{</span><span class="string" id="7419384">`(?:A(?:A|a))`</span><span class="op" id="7419398">,</span>&nbsp;<span class="string" id="7419400">&#34;Aa&#34;</span><span class="op" id="7419404">,</span>&nbsp;<span class="ident" id="7419406">build</span><span class="op" id="7419411">(</span><span class="num" id="7419412">1</span><span class="op" id="7419413">,</span>&nbsp;<span class="num" id="7419415">0</span><span class="op" id="7419416">,</span>&nbsp;<span class="num" id="7419418">2</span><span class="op" id="7419419">)</span><span class="op" id="7419420">}</span><span class="op" id="7419421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419424">{</span><span class="string" id="7419425">`(?:A|(?:A|a))`</span><span class="op" id="7419440">,</span>&nbsp;<span class="string" id="7419442">&#34;a&#34;</span><span class="op" id="7419445">,</span>&nbsp;<span class="ident" id="7419447">build</span><span class="op" id="7419452">(</span><span class="num" id="7419453">1</span><span class="op" id="7419454">,</span>&nbsp;<span class="num" id="7419456">0</span><span class="op" id="7419457">,</span>&nbsp;<span class="num" id="7419459">1</span><span class="op" id="7419460">)</span><span class="op" id="7419461">}</span><span class="op" id="7419462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419465">{</span><span class="string" id="7419466">`(a){0}`</span><span class="op" id="7419474">,</span>&nbsp;<span class="string" id="7419476">&#34;&#34;</span><span class="op" id="7419478">,</span>&nbsp;<span class="ident" id="7419480">build</span><span class="op" id="7419485">(</span><span class="num" id="7419486">1</span><span class="op" id="7419487">,</span>&nbsp;<span class="num" id="7419489">0</span><span class="op" id="7419490">,</span>&nbsp;<span class="num" id="7419492">0</span><span class="op" id="7419493">,</span>&nbsp;<span class="op" id="7419495">-</span><span class="num" id="7419496">1</span><span class="op" id="7419497">,</span>&nbsp;<span class="op" id="7419499">-</span><span class="num" id="7419500">1</span><span class="op" id="7419501">)</span><span class="op" id="7419502">}</span><span class="op" id="7419503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419506">{</span><span class="string" id="7419507">`(?-s)(?:(?:^).)`</span><span class="op" id="7419524">,</span>&nbsp;<span class="string" id="7419526">&#34;\n&#34;</span><span class="op" id="7419530">,</span>&nbsp;<span class="ident" id="7419532">nil</span><span class="op" id="7419535">}</span><span class="op" id="7419536">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419539">{</span><span class="string" id="7419540">`(?s)(?:(?:^).)`</span><span class="op" id="7419556">,</span>&nbsp;<span class="string" id="7419558">&#34;\n&#34;</span><span class="op" id="7419562">,</span>&nbsp;<span class="ident" id="7419564">build</span><span class="op" id="7419569">(</span><span class="num" id="7419570">1</span><span class="op" id="7419571">,</span>&nbsp;<span class="num" id="7419573">0</span><span class="op" id="7419574">,</span>&nbsp;<span class="num" id="7419576">1</span><span class="op" id="7419577">)</span><span class="op" id="7419578">}</span><span class="op" id="7419579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419582">{</span><span class="string" id="7419583">`(?:(?:^).)`</span><span class="op" id="7419595">,</span>&nbsp;<span class="string" id="7419597">&#34;\n&#34;</span><span class="op" id="7419601">,</span>&nbsp;<span class="ident" id="7419603">nil</span><span class="op" id="7419606">}</span><span class="op" id="7419607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419610">{</span><span class="string" id="7419611">`\b`</span><span class="op" id="7419615">,</span>&nbsp;<span class="string" id="7419617">&#34;x&#34;</span><span class="op" id="7419620">,</span>&nbsp;<span class="ident" id="7419622">build</span><span class="op" id="7419627">(</span><span class="num" id="7419628">2</span><span class="op" id="7419629">,</span>&nbsp;<span class="num" id="7419631">0</span><span class="op" id="7419632">,</span>&nbsp;<span class="num" id="7419634">0</span><span class="op" id="7419635">,</span>&nbsp;<span class="num" id="7419637">1</span><span class="op" id="7419638">,</span>&nbsp;<span class="num" id="7419640">1</span><span class="op" id="7419641">)</span><span class="op" id="7419642">}</span><span class="op" id="7419643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419646">{</span><span class="string" id="7419647">`\b`</span><span class="op" id="7419651">,</span>&nbsp;<span class="string" id="7419653">&#34;xx&#34;</span><span class="op" id="7419657">,</span>&nbsp;<span class="ident" id="7419659">build</span><span class="op" id="7419664">(</span><span class="num" id="7419665">2</span><span class="op" id="7419666">,</span>&nbsp;<span class="num" id="7419668">0</span><span class="op" id="7419669">,</span>&nbsp;<span class="num" id="7419671">0</span><span class="op" id="7419672">,</span>&nbsp;<span class="num" id="7419674">2</span><span class="op" id="7419675">,</span>&nbsp;<span class="num" id="7419677">2</span><span class="op" id="7419678">)</span><span class="op" id="7419679">}</span><span class="op" id="7419680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419683">{</span><span class="string" id="7419684">`\b`</span><span class="op" id="7419688">,</span>&nbsp;<span class="string" id="7419690">&#34;x&nbsp;y&#34;</span><span class="op" id="7419695">,</span>&nbsp;<span class="ident" id="7419697">build</span><span class="op" id="7419702">(</span><span class="num" id="7419703">4</span><span class="op" id="7419704">,</span>&nbsp;<span class="num" id="7419706">0</span><span class="op" id="7419707">,</span>&nbsp;<span class="num" id="7419709">0</span><span class="op" id="7419710">,</span>&nbsp;<span class="num" id="7419712">1</span><span class="op" id="7419713">,</span>&nbsp;<span class="num" id="7419715">1</span><span class="op" id="7419716">,</span>&nbsp;<span class="num" id="7419718">2</span><span class="op" id="7419719">,</span>&nbsp;<span class="num" id="7419721">2</span><span class="op" id="7419722">,</span>&nbsp;<span class="num" id="7419724">3</span><span class="op" id="7419725">,</span>&nbsp;<span class="num" id="7419727">3</span><span class="op" id="7419728">)</span><span class="op" id="7419729">}</span><span class="op" id="7419730">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419733">{</span><span class="string" id="7419734">`\b`</span><span class="op" id="7419738">,</span>&nbsp;<span class="string" id="7419740">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7419747">,</span>&nbsp;<span class="ident" id="7419749">build</span><span class="op" id="7419754">(</span><span class="num" id="7419755">4</span><span class="op" id="7419756">,</span>&nbsp;<span class="num" id="7419758">0</span><span class="op" id="7419759">,</span>&nbsp;<span class="num" id="7419761">0</span><span class="op" id="7419762">,</span>&nbsp;<span class="num" id="7419764">2</span><span class="op" id="7419765">,</span>&nbsp;<span class="num" id="7419767">2</span><span class="op" id="7419768">,</span>&nbsp;<span class="num" id="7419770">3</span><span class="op" id="7419771">,</span>&nbsp;<span class="num" id="7419773">3</span><span class="op" id="7419774">,</span>&nbsp;<span class="num" id="7419776">5</span><span class="op" id="7419777">,</span>&nbsp;<span class="num" id="7419779">5</span><span class="op" id="7419780">)</span><span class="op" id="7419781">}</span><span class="op" id="7419782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419785">{</span><span class="string" id="7419786">`\B`</span><span class="op" id="7419790">,</span>&nbsp;<span class="string" id="7419792">&#34;x&#34;</span><span class="op" id="7419795">,</span>&nbsp;<span class="ident" id="7419797">nil</span><span class="op" id="7419800">}</span><span class="op" id="7419801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419804">{</span><span class="string" id="7419805">`\B`</span><span class="op" id="7419809">,</span>&nbsp;<span class="string" id="7419811">&#34;xx&#34;</span><span class="op" id="7419815">,</span>&nbsp;<span class="ident" id="7419817">build</span><span class="op" id="7419822">(</span><span class="num" id="7419823">1</span><span class="op" id="7419824">,</span>&nbsp;<span class="num" id="7419826">1</span><span class="op" id="7419827">,</span>&nbsp;<span class="num" id="7419829">1</span><span class="op" id="7419830">)</span><span class="op" id="7419831">}</span><span class="op" id="7419832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419835">{</span><span class="string" id="7419836">`\B`</span><span class="op" id="7419840">,</span>&nbsp;<span class="string" id="7419842">&#34;x&nbsp;y&#34;</span><span class="op" id="7419847">,</span>&nbsp;<span class="ident" id="7419849">nil</span><span class="op" id="7419852">}</span><span class="op" id="7419853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419856">{</span><span class="string" id="7419857">`\B`</span><span class="op" id="7419861">,</span>&nbsp;<span class="string" id="7419863">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7419870">,</span>&nbsp;<span class="ident" id="7419872">build</span><span class="op" id="7419877">(</span><span class="num" id="7419878">2</span><span class="op" id="7419879">,</span>&nbsp;<span class="num" id="7419881">1</span><span class="op" id="7419882">,</span>&nbsp;<span class="num" id="7419884">1</span><span class="op" id="7419885">,</span>&nbsp;<span class="num" id="7419887">4</span><span class="op" id="7419888">,</span>&nbsp;<span class="num" id="7419890">4</span><span class="op" id="7419891">)</span><span class="op" id="7419892">}</span><span class="op" id="7419893">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7419897">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419911">{</span><span class="string" id="7419912">`[^\S\s]`</span><span class="op" id="7419921">,</span>&nbsp;<span class="string" id="7419923">&#34;abcd&#34;</span><span class="op" id="7419929">,</span>&nbsp;<span class="ident" id="7419931">nil</span><span class="op" id="7419934">}</span><span class="op" id="7419935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419938">{</span><span class="string" id="7419939">`[^\S[:space:]]`</span><span class="op" id="7419955">,</span>&nbsp;<span class="string" id="7419957">&#34;abcd&#34;</span><span class="op" id="7419963">,</span>&nbsp;<span class="ident" id="7419965">nil</span><span class="op" id="7419968">}</span><span class="op" id="7419969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419972">{</span><span class="string" id="7419973">`[^\D\d]`</span><span class="op" id="7419982">,</span>&nbsp;<span class="string" id="7419984">&#34;abcd&#34;</span><span class="op" id="7419990">,</span>&nbsp;<span class="ident" id="7419992">nil</span><span class="op" id="7419995">}</span><span class="op" id="7419996">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7419999">{</span><span class="string" id="7420000">`[^\D[:digit:]]`</span><span class="op" id="7420016">,</span>&nbsp;<span class="string" id="7420018">&#34;abcd&#34;</span><span class="op" id="7420024">,</span>&nbsp;<span class="ident" id="7420026">nil</span><span class="op" id="7420029">}</span><span class="op" id="7420030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420033">{</span><span class="string" id="7420034">`(?i)\W`</span><span class="op" id="7420042">,</span>&nbsp;<span class="string" id="7420044">&#34;x&#34;</span><span class="op" id="7420047">,</span>&nbsp;<span class="ident" id="7420049">nil</span><span class="op" id="7420052">}</span><span class="op" id="7420053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420056">{</span><span class="string" id="7420057">`(?i)\W`</span><span class="op" id="7420065">,</span>&nbsp;<span class="string" id="7420067">&#34;k&#34;</span><span class="op" id="7420070">,</span>&nbsp;<span class="ident" id="7420072">nil</span><span class="op" id="7420075">}</span><span class="op" id="7420076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420079">{</span><span class="string" id="7420080">`(?i)\W`</span><span class="op" id="7420088">,</span>&nbsp;<span class="string" id="7420090">&#34;s&#34;</span><span class="op" id="7420093">,</span>&nbsp;<span class="ident" id="7420095">nil</span><span class="op" id="7420098">}</span><span class="op" id="7420099">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7420103">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420144">{</span><span class="string" id="7420145">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7420209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7420213">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7420246">,</span>&nbsp;<span class="ident" id="7420248">build</span><span class="op" id="7420253">(</span><span class="num" id="7420254">1</span><span class="op" id="7420255">,</span>&nbsp;<span class="num" id="7420257">0</span><span class="op" id="7420258">,</span>&nbsp;<span class="num" id="7420260">31</span><span class="op" id="7420262">)</span><span class="op" id="7420263">}</span><span class="op" id="7420264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420267">{</span><span class="string" id="7420268">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7420335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7420339">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7420372">,</span>&nbsp;<span class="ident" id="7420374">build</span><span class="op" id="7420379">(</span><span class="num" id="7420380">1</span><span class="op" id="7420381">,</span>&nbsp;<span class="num" id="7420383">0</span><span class="op" id="7420384">,</span>&nbsp;<span class="num" id="7420386">31</span><span class="op" id="7420388">)</span><span class="op" id="7420389">}</span><span class="op" id="7420390">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420393">{</span><span class="string" id="7420394">&#34;\\`&#34;</span><span class="op" id="7420399">,</span>&nbsp;<span class="string" id="7420401">&#34;`&#34;</span><span class="op" id="7420404">,</span>&nbsp;<span class="ident" id="7420406">build</span><span class="op" id="7420411">(</span><span class="num" id="7420412">1</span><span class="op" id="7420413">,</span>&nbsp;<span class="num" id="7420415">0</span><span class="op" id="7420416">,</span>&nbsp;<span class="num" id="7420418">1</span><span class="op" id="7420419">)</span><span class="op" id="7420420">}</span><span class="op" id="7420421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420424">{</span><span class="string" id="7420425">&#34;[\\`]+&#34;</span><span class="op" id="7420433">,</span>&nbsp;<span class="string" id="7420435">&#34;`&#34;</span><span class="op" id="7420438">,</span>&nbsp;<span class="ident" id="7420440">build</span><span class="op" id="7420445">(</span><span class="num" id="7420446">1</span><span class="op" id="7420447">,</span>&nbsp;<span class="num" id="7420449">0</span><span class="op" id="7420450">,</span>&nbsp;<span class="num" id="7420452">1</span><span class="op" id="7420453">)</span><span class="op" id="7420454">}</span><span class="op" id="7420455">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7420459">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420507">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7420511">&#34;.&#34;</span><span class="op" id="7420514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7420518">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7420556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7420560">build</span><span class="op" id="7420565">(</span><span class="num" id="7420566">36</span><span class="op" id="7420568">,</span>&nbsp;<span class="num" id="7420570">0</span><span class="op" id="7420571">,</span>&nbsp;<span class="num" id="7420573">1</span><span class="op" id="7420574">,</span>&nbsp;<span class="num" id="7420576">1</span><span class="op" id="7420577">,</span>&nbsp;<span class="num" id="7420579">2</span><span class="op" id="7420580">,</span>&nbsp;<span class="num" id="7420582">2</span><span class="op" id="7420583">,</span>&nbsp;<span class="num" id="7420585">3</span><span class="op" id="7420586">,</span>&nbsp;<span class="num" id="7420588">3</span><span class="op" id="7420589">,</span>&nbsp;<span class="num" id="7420591">4</span><span class="op" id="7420592">,</span>&nbsp;<span class="num" id="7420594">4</span><span class="op" id="7420595">,</span>&nbsp;<span class="num" id="7420597">5</span><span class="op" id="7420598">,</span>&nbsp;<span class="num" id="7420600">5</span><span class="op" id="7420601">,</span>&nbsp;<span class="num" id="7420603">6</span><span class="op" id="7420604">,</span>&nbsp;<span class="num" id="7420606">6</span><span class="op" id="7420607">,</span>&nbsp;<span class="num" id="7420609">7</span><span class="op" id="7420610">,</span>&nbsp;<span class="num" id="7420612">7</span><span class="op" id="7420613">,</span>&nbsp;<span class="num" id="7420615">8</span><span class="op" id="7420616">,</span>&nbsp;<span class="num" id="7420618">8</span><span class="op" id="7420619">,</span>&nbsp;<span class="num" id="7420621">9</span><span class="op" id="7420622">,</span>&nbsp;<span class="num" id="7420624">9</span><span class="op" id="7420625">,</span>&nbsp;<span class="num" id="7420627">10</span><span class="op" id="7420629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7420634">10</span><span class="op" id="7420636">,</span>&nbsp;<span class="num" id="7420638">11</span><span class="op" id="7420640">,</span>&nbsp;<span class="num" id="7420642">11</span><span class="op" id="7420644">,</span>&nbsp;<span class="num" id="7420646">12</span><span class="op" id="7420648">,</span>&nbsp;<span class="num" id="7420650">12</span><span class="op" id="7420652">,</span>&nbsp;<span class="num" id="7420654">13</span><span class="op" id="7420656">,</span>&nbsp;<span class="num" id="7420658">13</span><span class="op" id="7420660">,</span>&nbsp;<span class="num" id="7420662">14</span><span class="op" id="7420664">,</span>&nbsp;<span class="num" id="7420666">14</span><span class="op" id="7420668">,</span>&nbsp;<span class="num" id="7420670">15</span><span class="op" id="7420672">,</span>&nbsp;<span class="num" id="7420674">15</span><span class="op" id="7420676">,</span>&nbsp;<span class="num" id="7420678">16</span><span class="op" id="7420680">,</span>&nbsp;<span class="num" id="7420682">16</span><span class="op" id="7420684">,</span>&nbsp;<span class="num" id="7420686">17</span><span class="op" id="7420688">,</span>&nbsp;<span class="num" id="7420690">17</span><span class="op" id="7420692">,</span>&nbsp;<span class="num" id="7420694">18</span><span class="op" id="7420696">,</span>&nbsp;<span class="num" id="7420698">18</span><span class="op" id="7420700">,</span>&nbsp;<span class="num" id="7420702">19</span><span class="op" id="7420704">,</span>&nbsp;<span class="num" id="7420706">19</span><span class="op" id="7420708">,</span>&nbsp;<span class="num" id="7420710">20</span><span class="op" id="7420712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7420717">20</span><span class="op" id="7420719">,</span>&nbsp;<span class="num" id="7420721">21</span><span class="op" id="7420723">,</span>&nbsp;<span class="num" id="7420725">21</span><span class="op" id="7420727">,</span>&nbsp;<span class="num" id="7420729">22</span><span class="op" id="7420731">,</span>&nbsp;<span class="num" id="7420733">22</span><span class="op" id="7420735">,</span>&nbsp;<span class="num" id="7420737">23</span><span class="op" id="7420739">,</span>&nbsp;<span class="num" id="7420741">23</span><span class="op" id="7420743">,</span>&nbsp;<span class="num" id="7420745">24</span><span class="op" id="7420747">,</span>&nbsp;<span class="num" id="7420749">24</span><span class="op" id="7420751">,</span>&nbsp;<span class="num" id="7420753">25</span><span class="op" id="7420755">,</span>&nbsp;<span class="num" id="7420757">25</span><span class="op" id="7420759">,</span>&nbsp;<span class="num" id="7420761">26</span><span class="op" id="7420763">,</span>&nbsp;<span class="num" id="7420765">26</span><span class="op" id="7420767">,</span>&nbsp;<span class="num" id="7420769">27</span><span class="op" id="7420771">,</span>&nbsp;<span class="num" id="7420773">27</span><span class="op" id="7420775">,</span>&nbsp;<span class="num" id="7420777">28</span><span class="op" id="7420779">,</span>&nbsp;<span class="num" id="7420781">28</span><span class="op" id="7420783">,</span>&nbsp;<span class="num" id="7420785">29</span><span class="op" id="7420787">,</span>&nbsp;<span class="num" id="7420789">29</span><span class="op" id="7420791">,</span>&nbsp;<span class="num" id="7420793">30</span><span class="op" id="7420795">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7420800">30</span><span class="op" id="7420802">,</span>&nbsp;<span class="num" id="7420804">31</span><span class="op" id="7420806">,</span>&nbsp;<span class="num" id="7420808">31</span><span class="op" id="7420810">,</span>&nbsp;<span class="num" id="7420812">32</span><span class="op" id="7420814">,</span>&nbsp;<span class="num" id="7420816">32</span><span class="op" id="7420818">,</span>&nbsp;<span class="num" id="7420820">33</span><span class="op" id="7420822">,</span>&nbsp;<span class="num" id="7420824">33</span><span class="op" id="7420826">,</span>&nbsp;<span class="num" id="7420828">34</span><span class="op" id="7420830">,</span>&nbsp;<span class="num" id="7420832">34</span><span class="op" id="7420834">,</span>&nbsp;<span class="num" id="7420836">35</span><span class="op" id="7420838">,</span>&nbsp;<span class="num" id="7420840">35</span><span class="op" id="7420842">,</span>&nbsp;<span class="num" id="7420844">36</span><span class="op" id="7420846">)</span><span class="op" id="7420847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7420850">}</span><span class="op" id="7420851">,</span><br>
<span class="lineno"></span><span class="op" id="7420853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7420856">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7420934">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7420994">func</span>&nbsp;<span class="ident" id="7420999">build</span><span class="op" id="7421004">(</span><span class="ident" id="7421005">n</span>&nbsp;<span class="builtintype" id="7421007">int</span><span class="op" id="7421010">,</span>&nbsp;<span class="ident" id="7421012">x</span>&nbsp;<span class="op" id="7421014">...</span><span class="builtintype" id="7421017">int</span><span class="op" id="7421020">)</span>&nbsp;<span class="op" id="7421022">[</span><span class="op" id="7421023">]</span><span class="op" id="7421024">[</span><span class="op" id="7421025">]</span><span class="builtintype" id="7421026">int</span>&nbsp;<span class="op" id="7421030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421033">ret</span>&nbsp;<span class="op" id="7421037">:=</span>&nbsp;<span class="builtinfunc" id="7421040">make</span><span class="op" id="7421044">(</span><span class="op" id="7421045">[</span><span class="op" id="7421046">]</span><span class="op" id="7421047">[</span><span class="op" id="7421048">]</span><span class="builtintype" id="7421049">int</span><span class="op" id="7421052">,</span>&nbsp;<span class="ident" id="7421054">n</span><span class="op" id="7421055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421058">runLength</span>&nbsp;<span class="op" id="7421068">:=</span>&nbsp;<span class="builtinfunc" id="7421071">len</span><span class="op" id="7421074">(</span><span class="ident" id="7421075">x</span><span class="op" id="7421076">)</span>&nbsp;<span class="op" id="7421078">/</span>&nbsp;<span class="ident" id="7421080">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421083">j</span>&nbsp;<span class="op" id="7421085">:=</span>&nbsp;<span class="num" id="7421088">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421091">for</span>&nbsp;<span class="ident" id="7421095">i</span>&nbsp;<span class="op" id="7421097">:=</span>&nbsp;<span class="keyword" id="7421100">range</span>&nbsp;<span class="ident" id="7421106">ret</span>&nbsp;<span class="op" id="7421110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421114">ret</span><span class="op" id="7421117">[</span><span class="ident" id="7421118">i</span><span class="op" id="7421119">]</span>&nbsp;<span class="op" id="7421121">=</span>&nbsp;<span class="builtinfunc" id="7421123">make</span><span class="op" id="7421127">(</span><span class="op" id="7421128">[</span><span class="op" id="7421129">]</span><span class="builtintype" id="7421130">int</span><span class="op" id="7421133">,</span>&nbsp;<span class="ident" id="7421135">runLength</span><span class="op" id="7421144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7421148">copy</span><span class="op" id="7421152">(</span><span class="ident" id="7421153">ret</span><span class="op" id="7421156">[</span><span class="ident" id="7421157">i</span><span class="op" id="7421158">]</span><span class="op" id="7421159">,</span>&nbsp;<span class="ident" id="7421161">x</span><span class="op" id="7421162">[</span><span class="ident" id="7421163">j</span><span class="op" id="7421164">:</span><span class="op" id="7421165">]</span><span class="op" id="7421166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421170">j</span>&nbsp;<span class="op" id="7421172">+=</span>&nbsp;<span class="ident" id="7421175">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421187">if</span>&nbsp;<span class="ident" id="7421190">j</span>&nbsp;<span class="op" id="7421192">&gt;</span>&nbsp;<span class="builtinfunc" id="7421194">len</span><span class="op" id="7421197">(</span><span class="ident" id="7421198">x</span><span class="op" id="7421199">)</span>&nbsp;<span class="op" id="7421201">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7421206">panic</span><span class="op" id="7421211">(</span><span class="string" id="7421212">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7421233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7421237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7421240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421243">return</span>&nbsp;<span class="ident" id="7421250">ret</span><br>
<span class="lineno"></span><span class="op" id="7421254">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7421257">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7421285">func</span>&nbsp;<span class="ident" id="7421290">TestFind</span><span class="op" id="7421298">(</span><span class="ident" id="7421299">t</span>&nbsp;<span class="op" id="7421301">*</span><span class="ident" id="7421302">testing</span><span class="op" id="7421309">.</span><span class="ident" id="7421310">T</span><span class="op" id="7421311">)</span>&nbsp;<span class="op" id="7421313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421316">for</span>&nbsp;<span class="ident" id="7421320">_</span><span class="op" id="7421321">,</span>&nbsp;<span class="ident" id="7421323">test</span>&nbsp;<span class="op" id="7421328">:=</span>&nbsp;<span class="keyword" id="7421331">range</span>&nbsp;<span class="ident" id="7421337">findTests</span>&nbsp;<span class="op" id="7421347">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421351">re</span>&nbsp;<span class="op" id="7421354">:=</span>&nbsp;<span class="ident" id="7421357">MustCompile</span><span class="op" id="7421368">(</span><span class="ident" id="7421369">test</span><span class="op" id="7421373">.</span><span class="ident" id="7421374">pat</span><span class="op" id="7421377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421381">if</span>&nbsp;<span class="ident" id="7421384">re</span><span class="op" id="7421386">.</span><span class="ident" id="7421387">String</span><span class="op" id="7421393">(</span><span class="op" id="7421394">)</span>&nbsp;<span class="op" id="7421396">!=</span>&nbsp;<span class="ident" id="7421399">test</span><span class="op" id="7421403">.</span><span class="ident" id="7421404">pat</span>&nbsp;<span class="op" id="7421408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421413">t</span><span class="op" id="7421414">.</span><span class="ident" id="7421415">Errorf</span><span class="op" id="7421421">(</span><span class="string" id="7421422">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7421455">,</span>&nbsp;<span class="ident" id="7421457">re</span><span class="op" id="7421459">.</span><span class="ident" id="7421460">String</span><span class="op" id="7421466">(</span><span class="op" id="7421467">)</span><span class="op" id="7421468">,</span>&nbsp;<span class="ident" id="7421470">test</span><span class="op" id="7421474">.</span><span class="ident" id="7421475">pat</span><span class="op" id="7421478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7421482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421486">result</span>&nbsp;<span class="op" id="7421493">:=</span>&nbsp;<span class="ident" id="7421496">re</span><span class="op" id="7421498">.</span><span class="ident" id="7421499">Find</span><span class="op" id="7421503">(</span><span class="op" id="7421504">[</span><span class="op" id="7421505">]</span><span class="builtintype" id="7421506">byte</span><span class="op" id="7421510">(</span><span class="ident" id="7421511">test</span><span class="op" id="7421515">.</span><span class="ident" id="7421516">text</span><span class="op" id="7421520">)</span><span class="op" id="7421521">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421525">switch</span>&nbsp;<span class="op" id="7421532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421536">case</span>&nbsp;<span class="builtinfunc" id="7421541">len</span><span class="op" id="7421544">(</span><span class="ident" id="7421545">test</span><span class="op" id="7421549">.</span><span class="ident" id="7421550">matches</span><span class="op" id="7421557">)</span>&nbsp;<span class="op" id="7421559">==</span>&nbsp;<span class="num" id="7421562">0</span>&nbsp;<span class="op" id="7421564">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7421567">len</span><span class="op" id="7421570">(</span><span class="ident" id="7421571">result</span><span class="op" id="7421577">)</span>&nbsp;<span class="op" id="7421579">==</span>&nbsp;<span class="num" id="7421582">0</span><span class="op" id="7421583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7421588">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421596">case</span>&nbsp;<span class="ident" id="7421601">test</span><span class="op" id="7421605">.</span><span class="ident" id="7421606">matches</span>&nbsp;<span class="op" id="7421614">==</span>&nbsp;<span class="ident" id="7421617">nil</span>&nbsp;<span class="op" id="7421621">&amp;&amp;</span>&nbsp;<span class="ident" id="7421624">result</span>&nbsp;<span class="op" id="7421631">!=</span>&nbsp;<span class="ident" id="7421634">nil</span><span class="op" id="7421637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421642">t</span><span class="op" id="7421643">.</span><span class="ident" id="7421644">Errorf</span><span class="op" id="7421650">(</span><span class="string" id="7421651">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7421683">,</span>&nbsp;<span class="ident" id="7421685">test</span><span class="op" id="7421689">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421693">case</span>&nbsp;<span class="ident" id="7421698">test</span><span class="op" id="7421702">.</span><span class="ident" id="7421703">matches</span>&nbsp;<span class="op" id="7421711">!=</span>&nbsp;<span class="ident" id="7421714">nil</span>&nbsp;<span class="op" id="7421718">&amp;&amp;</span>&nbsp;<span class="ident" id="7421721">result</span>&nbsp;<span class="op" id="7421728">==</span>&nbsp;<span class="ident" id="7421731">nil</span><span class="op" id="7421734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421739">t</span><span class="op" id="7421740">.</span><span class="ident" id="7421741">Errorf</span><span class="op" id="7421747">(</span><span class="string" id="7421748">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7421778">,</span>&nbsp;<span class="ident" id="7421780">test</span><span class="op" id="7421784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421788">case</span>&nbsp;<span class="ident" id="7421793">test</span><span class="op" id="7421797">.</span><span class="ident" id="7421798">matches</span>&nbsp;<span class="op" id="7421806">!=</span>&nbsp;<span class="ident" id="7421809">nil</span>&nbsp;<span class="op" id="7421813">&amp;&amp;</span>&nbsp;<span class="ident" id="7421816">result</span>&nbsp;<span class="op" id="7421823">!=</span>&nbsp;<span class="ident" id="7421826">nil</span><span class="op" id="7421829">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421834">expect</span>&nbsp;<span class="op" id="7421841">:=</span>&nbsp;<span class="ident" id="7421844">test</span><span class="op" id="7421848">.</span><span class="ident" id="7421849">text</span><span class="op" id="7421853">[</span><span class="ident" id="7421854">test</span><span class="op" id="7421858">.</span><span class="ident" id="7421859">matches</span><span class="op" id="7421866">[</span><span class="num" id="7421867">0</span><span class="op" id="7421868">]</span><span class="op" id="7421869">[</span><span class="num" id="7421870">0</span><span class="op" id="7421871">]</span><span class="op" id="7421872">:</span><span class="ident" id="7421873">test</span><span class="op" id="7421877">.</span><span class="ident" id="7421878">matches</span><span class="op" id="7421885">[</span><span class="num" id="7421886">0</span><span class="op" id="7421887">]</span><span class="op" id="7421888">[</span><span class="num" id="7421889">1</span><span class="op" id="7421890">]</span><span class="op" id="7421891">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7421896">if</span>&nbsp;<span class="ident" id="7421899">expect</span>&nbsp;<span class="op" id="7421906">!=</span>&nbsp;<span class="builtintype" id="7421909">string</span><span class="op" id="7421915">(</span><span class="ident" id="7421916">result</span><span class="op" id="7421922">)</span>&nbsp;<span class="op" id="7421924">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7421930">t</span><span class="op" id="7421931">.</span><span class="ident" id="7421932">Errorf</span><span class="op" id="7421938">(</span><span class="string" id="7421939">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7421963">,</span>&nbsp;<span class="ident" id="7421965">expect</span><span class="op" id="7421971">,</span>&nbsp;<span class="ident" id="7421973">result</span><span class="op" id="7421979">,</span>&nbsp;<span class="ident" id="7421981">test</span><span class="op" id="7421985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7421990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7421994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7421997">}</span><br>
<span class="lineno"></span><span class="op" id="7421999">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7422002">func</span>&nbsp;<span class="ident" id="7422007">TestFindString</span><span class="op" id="7422021">(</span><span class="ident" id="7422022">t</span>&nbsp;<span class="op" id="7422024">*</span><span class="ident" id="7422025">testing</span><span class="op" id="7422032">.</span><span class="ident" id="7422033">T</span><span class="op" id="7422034">)</span>&nbsp;<span class="op" id="7422036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422039">for</span>&nbsp;<span class="ident" id="7422043">_</span><span class="op" id="7422044">,</span>&nbsp;<span class="ident" id="7422046">test</span>&nbsp;<span class="op" id="7422051">:=</span>&nbsp;<span class="keyword" id="7422054">range</span>&nbsp;<span class="ident" id="7422060">findTests</span>&nbsp;<span class="op" id="7422070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7422074">result</span>&nbsp;<span class="op" id="7422081">:=</span>&nbsp;<span class="ident" id="7422084">MustCompile</span><span class="op" id="7422095">(</span><span class="ident" id="7422096">test</span><span class="op" id="7422100">.</span><span class="ident" id="7422101">pat</span><span class="op" id="7422104">)</span><span class="op" id="7422105">.</span><span class="ident" id="7422106">FindString</span><span class="op" id="7422116">(</span><span class="ident" id="7422117">test</span><span class="op" id="7422121">.</span><span class="ident" id="7422122">text</span><span class="op" id="7422126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422130">switch</span>&nbsp;<span class="op" id="7422137">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422141">case</span>&nbsp;<span class="builtinfunc" id="7422146">len</span><span class="op" id="7422149">(</span><span class="ident" id="7422150">test</span><span class="op" id="7422154">.</span><span class="ident" id="7422155">matches</span><span class="op" id="7422162">)</span>&nbsp;<span class="op" id="7422164">==</span>&nbsp;<span class="num" id="7422167">0</span>&nbsp;<span class="op" id="7422169">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7422172">len</span><span class="op" id="7422175">(</span><span class="ident" id="7422176">result</span><span class="op" id="7422182">)</span>&nbsp;<span class="op" id="7422184">==</span>&nbsp;<span class="num" id="7422187">0</span><span class="op" id="7422188">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7422193">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422201">case</span>&nbsp;<span class="ident" id="7422206">test</span><span class="op" id="7422210">.</span><span class="ident" id="7422211">matches</span>&nbsp;<span class="op" id="7422219">==</span>&nbsp;<span class="ident" id="7422222">nil</span>&nbsp;<span class="op" id="7422226">&amp;&amp;</span>&nbsp;<span class="ident" id="7422229">result</span>&nbsp;<span class="op" id="7422236">!=</span>&nbsp;<span class="string" id="7422239">&#34;&#34;</span><span class="op" id="7422241">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7422246">t</span><span class="op" id="7422247">.</span><span class="ident" id="7422248">Errorf</span><span class="op" id="7422254">(</span><span class="string" id="7422255">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7422287">,</span>&nbsp;<span class="ident" id="7422289">test</span><span class="op" id="7422293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422297">case</span>&nbsp;<span class="ident" id="7422302">test</span><span class="op" id="7422306">.</span><span class="ident" id="7422307">matches</span>&nbsp;<span class="op" id="7422315">!=</span>&nbsp;<span class="ident" id="7422318">nil</span>&nbsp;<span class="op" id="7422322">&amp;&amp;</span>&nbsp;<span class="ident" id="7422325">result</span>&nbsp;<span class="op" id="7422332">==</span>&nbsp;<span class="string" id="7422335">&#34;&#34;</span><span class="op" id="7422337">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7422342">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422422">if</span>&nbsp;<span class="ident" id="7422425">test</span><span class="op" id="7422429">.</span><span class="ident" id="7422430">matches</span><span class="op" id="7422437">[</span><span class="num" id="7422438">0</span><span class="op" id="7422439">]</span><span class="op" id="7422440">[</span><span class="num" id="7422441">0</span><span class="op" id="7422442">]</span>&nbsp;<span class="op" id="7422444">!=</span>&nbsp;<span class="ident" id="7422447">test</span><span class="op" id="7422451">.</span><span class="ident" id="7422452">matches</span><span class="op" id="7422459">[</span><span class="num" id="7422460">0</span><span class="op" id="7422461">]</span><span class="op" id="7422462">[</span><span class="num" id="7422463">1</span><span class="op" id="7422464">]</span>&nbsp;<span class="op" id="7422466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7422472">t</span><span class="op" id="7422473">.</span><span class="ident" id="7422474">Errorf</span><span class="op" id="7422480">(</span><span class="string" id="7422481">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7422511">,</span>&nbsp;<span class="ident" id="7422513">test</span><span class="op" id="7422517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7422522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422526">case</span>&nbsp;<span class="ident" id="7422531">test</span><span class="op" id="7422535">.</span><span class="ident" id="7422536">matches</span>&nbsp;<span class="op" id="7422544">!=</span>&nbsp;<span class="ident" id="7422547">nil</span>&nbsp;<span class="op" id="7422551">&amp;&amp;</span>&nbsp;<span class="ident" id="7422554">result</span>&nbsp;<span class="op" id="7422561">!=</span>&nbsp;<span class="string" id="7422564">&#34;&#34;</span><span class="op" id="7422566">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7422571">expect</span>&nbsp;<span class="op" id="7422578">:=</span>&nbsp;<span class="ident" id="7422581">test</span><span class="op" id="7422585">.</span><span class="ident" id="7422586">text</span><span class="op" id="7422590">[</span><span class="ident" id="7422591">test</span><span class="op" id="7422595">.</span><span class="ident" id="7422596">matches</span><span class="op" id="7422603">[</span><span class="num" id="7422604">0</span><span class="op" id="7422605">]</span><span class="op" id="7422606">[</span><span class="num" id="7422607">0</span><span class="op" id="7422608">]</span><span class="op" id="7422609">:</span><span class="ident" id="7422610">test</span><span class="op" id="7422614">.</span><span class="ident" id="7422615">matches</span><span class="op" id="7422622">[</span><span class="num" id="7422623">0</span><span class="op" id="7422624">]</span><span class="op" id="7422625">[</span><span class="num" id="7422626">1</span><span class="op" id="7422627">]</span><span class="op" id="7422628">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422633">if</span>&nbsp;<span class="ident" id="7422636">expect</span>&nbsp;<span class="op" id="7422643">!=</span>&nbsp;<span class="ident" id="7422646">result</span>&nbsp;<span class="op" id="7422653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7422659">t</span><span class="op" id="7422660">.</span><span class="ident" id="7422661">Errorf</span><span class="op" id="7422667">(</span><span class="string" id="7422668">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7422692">,</span>&nbsp;<span class="ident" id="7422694">expect</span><span class="op" id="7422700">,</span>&nbsp;<span class="ident" id="7422702">result</span><span class="op" id="7422708">,</span>&nbsp;<span class="ident" id="7422710">test</span><span class="op" id="7422714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7422719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7422723">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7422726">}</span><br>
<span class="lineno"></span><span class="op" id="7422728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7422731">func</span>&nbsp;<span class="ident" id="7422736">testFindIndex</span><span class="op" id="7422749">(</span><span class="ident" id="7422750">test</span>&nbsp;<span class="op" id="7422755">*</span><span class="ident" id="7422756">FindTest</span><span class="op" id="7422764">,</span>&nbsp;<span class="ident" id="7422766">result</span>&nbsp;<span class="op" id="7422773">[</span><span class="op" id="7422774">]</span><span class="builtintype" id="7422775">int</span><span class="op" id="7422778">,</span>&nbsp;<span class="ident" id="7422780">t</span>&nbsp;<span class="op" id="7422782">*</span><span class="ident" id="7422783">testing</span><span class="op" id="7422790">.</span><span class="ident" id="7422791">T</span><span class="op" id="7422792">)</span>&nbsp;<span class="op" id="7422794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422797">switch</span>&nbsp;<span class="op" id="7422804">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422807">case</span>&nbsp;<span class="builtinfunc" id="7422812">len</span><span class="op" id="7422815">(</span><span class="ident" id="7422816">test</span><span class="op" id="7422820">.</span><span class="ident" id="7422821">matches</span><span class="op" id="7422828">)</span>&nbsp;<span class="op" id="7422830">==</span>&nbsp;<span class="num" id="7422833">0</span>&nbsp;<span class="op" id="7422835">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7422838">len</span><span class="op" id="7422841">(</span><span class="ident" id="7422842">result</span><span class="op" id="7422848">)</span>&nbsp;<span class="op" id="7422850">==</span>&nbsp;<span class="num" id="7422853">0</span><span class="op" id="7422854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7422858">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422865">case</span>&nbsp;<span class="ident" id="7422870">test</span><span class="op" id="7422874">.</span><span class="ident" id="7422875">matches</span>&nbsp;<span class="op" id="7422883">==</span>&nbsp;<span class="ident" id="7422886">nil</span>&nbsp;<span class="op" id="7422890">&amp;&amp;</span>&nbsp;<span class="ident" id="7422893">result</span>&nbsp;<span class="op" id="7422900">!=</span>&nbsp;<span class="ident" id="7422903">nil</span><span class="op" id="7422906">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7422910">t</span><span class="op" id="7422911">.</span><span class="ident" id="7422912">Errorf</span><span class="op" id="7422918">(</span><span class="string" id="7422919">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7422951">,</span>&nbsp;<span class="ident" id="7422953">test</span><span class="op" id="7422957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7422960">case</span>&nbsp;<span class="ident" id="7422965">test</span><span class="op" id="7422969">.</span><span class="ident" id="7422970">matches</span>&nbsp;<span class="op" id="7422978">!=</span>&nbsp;<span class="ident" id="7422981">nil</span>&nbsp;<span class="op" id="7422985">&amp;&amp;</span>&nbsp;<span class="ident" id="7422988">result</span>&nbsp;<span class="op" id="7422995">==</span>&nbsp;<span class="ident" id="7422998">nil</span><span class="op" id="7423001">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423005">t</span><span class="op" id="7423006">.</span><span class="ident" id="7423007">Errorf</span><span class="op" id="7423013">(</span><span class="string" id="7423014">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7423044">,</span>&nbsp;<span class="ident" id="7423046">test</span><span class="op" id="7423050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423053">case</span>&nbsp;<span class="ident" id="7423058">test</span><span class="op" id="7423062">.</span><span class="ident" id="7423063">matches</span>&nbsp;<span class="op" id="7423071">!=</span>&nbsp;<span class="ident" id="7423074">nil</span>&nbsp;<span class="op" id="7423078">&amp;&amp;</span>&nbsp;<span class="ident" id="7423081">result</span>&nbsp;<span class="op" id="7423088">!=</span>&nbsp;<span class="ident" id="7423091">nil</span><span class="op" id="7423094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423098">expect</span>&nbsp;<span class="op" id="7423105">:=</span>&nbsp;<span class="ident" id="7423108">test</span><span class="op" id="7423112">.</span><span class="ident" id="7423113">matches</span><span class="op" id="7423120">[</span><span class="num" id="7423121">0</span><span class="op" id="7423122">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423126">if</span>&nbsp;<span class="ident" id="7423129">expect</span><span class="op" id="7423135">[</span><span class="num" id="7423136">0</span><span class="op" id="7423137">]</span>&nbsp;<span class="op" id="7423139">!=</span>&nbsp;<span class="ident" id="7423142">result</span><span class="op" id="7423148">[</span><span class="num" id="7423149">0</span><span class="op" id="7423150">]</span>&nbsp;<span class="op" id="7423152">||</span>&nbsp;<span class="ident" id="7423155">expect</span><span class="op" id="7423161">[</span><span class="num" id="7423162">1</span><span class="op" id="7423163">]</span>&nbsp;<span class="op" id="7423165">!=</span>&nbsp;<span class="ident" id="7423168">result</span><span class="op" id="7423174">[</span><span class="num" id="7423175">1</span><span class="op" id="7423176">]</span>&nbsp;<span class="op" id="7423178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423183">t</span><span class="op" id="7423184">.</span><span class="ident" id="7423185">Errorf</span><span class="op" id="7423191">(</span><span class="string" id="7423192">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7423216">,</span>&nbsp;<span class="ident" id="7423218">expect</span><span class="op" id="7423224">,</span>&nbsp;<span class="ident" id="7423226">result</span><span class="op" id="7423232">,</span>&nbsp;<span class="ident" id="7423234">test</span><span class="op" id="7423238">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7423242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7423245">}</span><br>
<span class="lineno"></span><span class="op" id="7423247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423250">func</span>&nbsp;<span class="ident" id="7423255">TestFindIndex</span><span class="op" id="7423268">(</span><span class="ident" id="7423269">t</span>&nbsp;<span class="op" id="7423271">*</span><span class="ident" id="7423272">testing</span><span class="op" id="7423279">.</span><span class="ident" id="7423280">T</span><span class="op" id="7423281">)</span>&nbsp;<span class="op" id="7423283">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423286">for</span>&nbsp;<span class="ident" id="7423290">_</span><span class="op" id="7423291">,</span>&nbsp;<span class="ident" id="7423293">test</span>&nbsp;<span class="op" id="7423298">:=</span>&nbsp;<span class="keyword" id="7423301">range</span>&nbsp;<span class="ident" id="7423307">findTests</span>&nbsp;<span class="op" id="7423317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423321">testFindIndex</span><span class="op" id="7423334">(</span><span class="op" id="7423335">&amp;</span><span class="ident" id="7423336">test</span><span class="op" id="7423340">,</span>&nbsp;<span class="ident" id="7423342">MustCompile</span><span class="op" id="7423353">(</span><span class="ident" id="7423354">test</span><span class="op" id="7423358">.</span><span class="ident" id="7423359">pat</span><span class="op" id="7423362">)</span><span class="op" id="7423363">.</span><span class="ident" id="7423364">FindIndex</span><span class="op" id="7423373">(</span><span class="op" id="7423374">[</span><span class="op" id="7423375">]</span><span class="builtintype" id="7423376">byte</span><span class="op" id="7423380">(</span><span class="ident" id="7423381">test</span><span class="op" id="7423385">.</span><span class="ident" id="7423386">text</span><span class="op" id="7423390">)</span><span class="op" id="7423391">)</span><span class="op" id="7423392">,</span>&nbsp;<span class="ident" id="7423394">t</span><span class="op" id="7423395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7423398">}</span><br>
<span class="lineno"></span><span class="op" id="7423400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7423403">func</span>&nbsp;<span class="ident" id="7423408">TestFindStringIndex</span><span class="op" id="7423427">(</span><span class="ident" id="7423428">t</span>&nbsp;<span class="op" id="7423430">*</span><span class="ident" id="7423431">testing</span><span class="op" id="7423438">.</span><span class="ident" id="7423439">T</span><span class="op" id="7423440">)</span>&nbsp;<span class="op" id="7423442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423445">for</span>&nbsp;<span class="ident" id="7423449">_</span><span class="op" id="7423450">,</span>&nbsp;<span class="ident" id="7423452">test</span>&nbsp;<span class="op" id="7423457">:=</span>&nbsp;<span class="keyword" id="7423460">range</span>&nbsp;<span class="ident" id="7423466">findTests</span>&nbsp;<span class="op" id="7423476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423480">testFindIndex</span><span class="op" id="7423493">(</span><span class="op" id="7423494">&amp;</span><span class="ident" id="7423495">test</span><span class="op" id="7423499">,</span>&nbsp;<span class="ident" id="7423501">MustCompile</span><span class="op" id="7423512">(</span><span class="ident" id="7423513">test</span><span class="op" id="7423517">.</span><span class="ident" id="7423518">pat</span><span class="op" id="7423521">)</span><span class="op" id="7423522">.</span><span class="ident" id="7423523">FindStringIndex</span><span class="op" id="7423538">(</span><span class="ident" id="7423539">test</span><span class="op" id="7423543">.</span><span class="ident" id="7423544">text</span><span class="op" id="7423548">)</span><span class="op" id="7423549">,</span>&nbsp;<span class="ident" id="7423551">t</span><span class="op" id="7423552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7423555">}</span><br>
<span class="lineno"></span><span class="op" id="7423557">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7423560">func</span>&nbsp;<span class="ident" id="7423565">TestFindReaderIndex</span><span class="op" id="7423584">(</span><span class="ident" id="7423585">t</span>&nbsp;<span class="op" id="7423587">*</span><span class="ident" id="7423588">testing</span><span class="op" id="7423595">.</span><span class="ident" id="7423596">T</span><span class="op" id="7423597">)</span>&nbsp;<span class="op" id="7423599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423602">for</span>&nbsp;<span class="ident" id="7423606">_</span><span class="op" id="7423607">,</span>&nbsp;<span class="ident" id="7423609">test</span>&nbsp;<span class="op" id="7423614">:=</span>&nbsp;<span class="keyword" id="7423617">range</span>&nbsp;<span class="ident" id="7423623">findTests</span>&nbsp;<span class="op" id="7423633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423637">testFindIndex</span><span class="op" id="7423650">(</span><span class="op" id="7423651">&amp;</span><span class="ident" id="7423652">test</span><span class="op" id="7423656">,</span>&nbsp;<span class="ident" id="7423658">MustCompile</span><span class="op" id="7423669">(</span><span class="ident" id="7423670">test</span><span class="op" id="7423674">.</span><span class="ident" id="7423675">pat</span><span class="op" id="7423678">)</span><span class="op" id="7423679">.</span><span class="ident" id="7423680">FindReaderIndex</span><span class="op" id="7423695">(</span><span class="ident" id="7423696">strings</span><span class="op" id="7423703">.</span><span class="ident" id="7423704">NewReader</span><span class="op" id="7423713">(</span><span class="ident" id="7423714">test</span><span class="op" id="7423718">.</span><span class="ident" id="7423719">text</span><span class="op" id="7423723">)</span><span class="op" id="7423724">)</span><span class="op" id="7423725">,</span>&nbsp;<span class="ident" id="7423727">t</span><span class="op" id="7423728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7423731">}</span><br>
<span class="lineno">225</span><span class="op" id="7423733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7423736">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423771">func</span>&nbsp;<span class="ident" id="7423776">TestFindAll</span><span class="op" id="7423787">(</span><span class="ident" id="7423788">t</span>&nbsp;<span class="op" id="7423790">*</span><span class="ident" id="7423791">testing</span><span class="op" id="7423798">.</span><span class="ident" id="7423799">T</span><span class="op" id="7423800">)</span>&nbsp;<span class="op" id="7423802">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423805">for</span>&nbsp;<span class="ident" id="7423809">_</span><span class="op" id="7423810">,</span>&nbsp;<span class="ident" id="7423812">test</span>&nbsp;<span class="op" id="7423817">:=</span>&nbsp;<span class="keyword" id="7423820">range</span>&nbsp;<span class="ident" id="7423826">findTests</span>&nbsp;<span class="op" id="7423836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7423840">result</span>&nbsp;<span class="op" id="7423847">:=</span>&nbsp;<span class="ident" id="7423850">MustCompile</span><span class="op" id="7423861">(</span><span class="ident" id="7423862">test</span><span class="op" id="7423866">.</span><span class="ident" id="7423867">pat</span><span class="op" id="7423870">)</span><span class="op" id="7423871">.</span><span class="ident" id="7423872">FindAll</span><span class="op" id="7423879">(</span><span class="op" id="7423880">[</span><span class="op" id="7423881">]</span><span class="builtintype" id="7423882">byte</span><span class="op" id="7423886">(</span><span class="ident" id="7423887">test</span><span class="op" id="7423891">.</span><span class="ident" id="7423892">text</span><span class="op" id="7423896">)</span><span class="op" id="7423897">,</span>&nbsp;<span class="op" id="7423899">-</span><span class="num" id="7423900">1</span><span class="op" id="7423901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423905">switch</span>&nbsp;<span class="op" id="7423912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423916">case</span>&nbsp;<span class="ident" id="7423921">test</span><span class="op" id="7423925">.</span><span class="ident" id="7423926">matches</span>&nbsp;<span class="op" id="7423934">==</span>&nbsp;<span class="ident" id="7423937">nil</span>&nbsp;<span class="op" id="7423941">&amp;&amp;</span>&nbsp;<span class="ident" id="7423944">result</span>&nbsp;<span class="op" id="7423951">==</span>&nbsp;<span class="ident" id="7423954">nil</span><span class="op" id="7423957">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7423962">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7423970">case</span>&nbsp;<span class="ident" id="7423975">test</span><span class="op" id="7423979">.</span><span class="ident" id="7423980">matches</span>&nbsp;<span class="op" id="7423988">==</span>&nbsp;<span class="ident" id="7423991">nil</span>&nbsp;<span class="op" id="7423995">&amp;&amp;</span>&nbsp;<span class="ident" id="7423998">result</span>&nbsp;<span class="op" id="7424005">!=</span>&nbsp;<span class="ident" id="7424008">nil</span><span class="op" id="7424011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424016">t</span><span class="op" id="7424017">.</span><span class="ident" id="7424018">Errorf</span><span class="op" id="7424024">(</span><span class="string" id="7424025">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7424057">,</span>&nbsp;<span class="ident" id="7424059">test</span><span class="op" id="7424063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424067">case</span>&nbsp;<span class="ident" id="7424072">test</span><span class="op" id="7424076">.</span><span class="ident" id="7424077">matches</span>&nbsp;<span class="op" id="7424085">!=</span>&nbsp;<span class="ident" id="7424088">nil</span>&nbsp;<span class="op" id="7424092">&amp;&amp;</span>&nbsp;<span class="ident" id="7424095">result</span>&nbsp;<span class="op" id="7424102">==</span>&nbsp;<span class="ident" id="7424105">nil</span><span class="op" id="7424108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424113">t</span><span class="op" id="7424114">.</span><span class="ident" id="7424115">Fatalf</span><span class="op" id="7424121">(</span><span class="string" id="7424122">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7424152">,</span>&nbsp;<span class="ident" id="7424154">test</span><span class="op" id="7424158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424162">case</span>&nbsp;<span class="ident" id="7424167">test</span><span class="op" id="7424171">.</span><span class="ident" id="7424172">matches</span>&nbsp;<span class="op" id="7424180">!=</span>&nbsp;<span class="ident" id="7424183">nil</span>&nbsp;<span class="op" id="7424187">&amp;&amp;</span>&nbsp;<span class="ident" id="7424190">result</span>&nbsp;<span class="op" id="7424197">!=</span>&nbsp;<span class="ident" id="7424200">nil</span><span class="op" id="7424203">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424208">if</span>&nbsp;<span class="builtinfunc" id="7424211">len</span><span class="op" id="7424214">(</span><span class="ident" id="7424215">test</span><span class="op" id="7424219">.</span><span class="ident" id="7424220">matches</span><span class="op" id="7424227">)</span>&nbsp;<span class="op" id="7424229">!=</span>&nbsp;<span class="builtinfunc" id="7424232">len</span><span class="op" id="7424235">(</span><span class="ident" id="7424236">result</span><span class="op" id="7424242">)</span>&nbsp;<span class="op" id="7424244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424250">t</span><span class="op" id="7424251">.</span><span class="ident" id="7424252">Errorf</span><span class="op" id="7424258">(</span><span class="string" id="7424259">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7424292">,</span>&nbsp;<span class="builtinfunc" id="7424294">len</span><span class="op" id="7424297">(</span><span class="ident" id="7424298">test</span><span class="op" id="7424302">.</span><span class="ident" id="7424303">matches</span><span class="op" id="7424310">)</span><span class="op" id="7424311">,</span>&nbsp;<span class="builtinfunc" id="7424313">len</span><span class="op" id="7424316">(</span><span class="ident" id="7424317">result</span><span class="op" id="7424323">)</span><span class="op" id="7424324">,</span>&nbsp;<span class="ident" id="7424326">test</span><span class="op" id="7424330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424336">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7424348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424353">for</span>&nbsp;<span class="ident" id="7424357">k</span><span class="op" id="7424358">,</span>&nbsp;<span class="ident" id="7424360">e</span>&nbsp;<span class="op" id="7424362">:=</span>&nbsp;<span class="keyword" id="7424365">range</span>&nbsp;<span class="ident" id="7424371">test</span><span class="op" id="7424375">.</span><span class="ident" id="7424376">matches</span>&nbsp;<span class="op" id="7424384">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424390">expect</span>&nbsp;<span class="op" id="7424397">:=</span>&nbsp;<span class="ident" id="7424400">test</span><span class="op" id="7424404">.</span><span class="ident" id="7424405">text</span><span class="op" id="7424409">[</span><span class="ident" id="7424410">e</span><span class="op" id="7424411">[</span><span class="num" id="7424412">0</span><span class="op" id="7424413">]</span><span class="op" id="7424414">:</span><span class="ident" id="7424415">e</span><span class="op" id="7424416">[</span><span class="num" id="7424417">1</span><span class="op" id="7424418">]</span><span class="op" id="7424419">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424425">if</span>&nbsp;<span class="ident" id="7424428">expect</span>&nbsp;<span class="op" id="7424435">!=</span>&nbsp;<span class="builtintype" id="7424438">string</span><span class="op" id="7424444">(</span><span class="ident" id="7424445">result</span><span class="op" id="7424451">[</span><span class="ident" id="7424452">k</span><span class="op" id="7424453">]</span><span class="op" id="7424454">)</span>&nbsp;<span class="op" id="7424456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424463">t</span><span class="op" id="7424464">.</span><span class="ident" id="7424465">Errorf</span><span class="op" id="7424471">(</span><span class="string" id="7424472">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7424506">,</span>&nbsp;<span class="ident" id="7424508">k</span><span class="op" id="7424509">,</span>&nbsp;<span class="ident" id="7424511">expect</span><span class="op" id="7424517">,</span>&nbsp;<span class="ident" id="7424519">result</span><span class="op" id="7424525">[</span><span class="ident" id="7424526">k</span><span class="op" id="7424527">]</span><span class="op" id="7424528">,</span>&nbsp;<span class="ident" id="7424530">test</span><span class="op" id="7424534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7424540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7424545">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7424549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7424552">}</span><br>
<span class="lineno"></span><span class="op" id="7424554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7424557">func</span>&nbsp;<span class="ident" id="7424562">TestFindAllString</span><span class="op" id="7424579">(</span><span class="ident" id="7424580">t</span>&nbsp;<span class="op" id="7424582">*</span><span class="ident" id="7424583">testing</span><span class="op" id="7424590">.</span><span class="ident" id="7424591">T</span><span class="op" id="7424592">)</span>&nbsp;<span class="op" id="7424594">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424597">for</span>&nbsp;<span class="ident" id="7424601">_</span><span class="op" id="7424602">,</span>&nbsp;<span class="ident" id="7424604">test</span>&nbsp;<span class="op" id="7424609">:=</span>&nbsp;<span class="keyword" id="7424612">range</span>&nbsp;<span class="ident" id="7424618">findTests</span>&nbsp;<span class="op" id="7424628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424632">result</span>&nbsp;<span class="op" id="7424639">:=</span>&nbsp;<span class="ident" id="7424642">MustCompile</span><span class="op" id="7424653">(</span><span class="ident" id="7424654">test</span><span class="op" id="7424658">.</span><span class="ident" id="7424659">pat</span><span class="op" id="7424662">)</span><span class="op" id="7424663">.</span><span class="ident" id="7424664">FindAllString</span><span class="op" id="7424677">(</span><span class="ident" id="7424678">test</span><span class="op" id="7424682">.</span><span class="ident" id="7424683">text</span><span class="op" id="7424687">,</span>&nbsp;<span class="op" id="7424689">-</span><span class="num" id="7424690">1</span><span class="op" id="7424691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424695">switch</span>&nbsp;<span class="op" id="7424702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424706">case</span>&nbsp;<span class="ident" id="7424711">test</span><span class="op" id="7424715">.</span><span class="ident" id="7424716">matches</span>&nbsp;<span class="op" id="7424724">==</span>&nbsp;<span class="ident" id="7424727">nil</span>&nbsp;<span class="op" id="7424731">&amp;&amp;</span>&nbsp;<span class="ident" id="7424734">result</span>&nbsp;<span class="op" id="7424741">==</span>&nbsp;<span class="ident" id="7424744">nil</span><span class="op" id="7424747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7424752">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424760">case</span>&nbsp;<span class="ident" id="7424765">test</span><span class="op" id="7424769">.</span><span class="ident" id="7424770">matches</span>&nbsp;<span class="op" id="7424778">==</span>&nbsp;<span class="ident" id="7424781">nil</span>&nbsp;<span class="op" id="7424785">&amp;&amp;</span>&nbsp;<span class="ident" id="7424788">result</span>&nbsp;<span class="op" id="7424795">!=</span>&nbsp;<span class="ident" id="7424798">nil</span><span class="op" id="7424801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424806">t</span><span class="op" id="7424807">.</span><span class="ident" id="7424808">Errorf</span><span class="op" id="7424814">(</span><span class="string" id="7424815">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7424847">,</span>&nbsp;<span class="ident" id="7424849">test</span><span class="op" id="7424853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424857">case</span>&nbsp;<span class="ident" id="7424862">test</span><span class="op" id="7424866">.</span><span class="ident" id="7424867">matches</span>&nbsp;<span class="op" id="7424875">!=</span>&nbsp;<span class="ident" id="7424878">nil</span>&nbsp;<span class="op" id="7424882">&amp;&amp;</span>&nbsp;<span class="ident" id="7424885">result</span>&nbsp;<span class="op" id="7424892">==</span>&nbsp;<span class="ident" id="7424895">nil</span><span class="op" id="7424898">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7424903">t</span><span class="op" id="7424904">.</span><span class="ident" id="7424905">Errorf</span><span class="op" id="7424911">(</span><span class="string" id="7424912">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7424942">,</span>&nbsp;<span class="ident" id="7424944">test</span><span class="op" id="7424948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424952">case</span>&nbsp;<span class="ident" id="7424957">test</span><span class="op" id="7424961">.</span><span class="ident" id="7424962">matches</span>&nbsp;<span class="op" id="7424970">!=</span>&nbsp;<span class="ident" id="7424973">nil</span>&nbsp;<span class="op" id="7424977">&amp;&amp;</span>&nbsp;<span class="ident" id="7424980">result</span>&nbsp;<span class="op" id="7424987">!=</span>&nbsp;<span class="ident" id="7424990">nil</span><span class="op" id="7424993">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7424998">if</span>&nbsp;<span class="builtinfunc" id="7425001">len</span><span class="op" id="7425004">(</span><span class="ident" id="7425005">test</span><span class="op" id="7425009">.</span><span class="ident" id="7425010">matches</span><span class="op" id="7425017">)</span>&nbsp;<span class="op" id="7425019">!=</span>&nbsp;<span class="builtinfunc" id="7425022">len</span><span class="op" id="7425025">(</span><span class="ident" id="7425026">result</span><span class="op" id="7425032">)</span>&nbsp;<span class="op" id="7425034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425040">t</span><span class="op" id="7425041">.</span><span class="ident" id="7425042">Errorf</span><span class="op" id="7425048">(</span><span class="string" id="7425049">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7425082">,</span>&nbsp;<span class="builtinfunc" id="7425084">len</span><span class="op" id="7425087">(</span><span class="ident" id="7425088">test</span><span class="op" id="7425092">.</span><span class="ident" id="7425093">matches</span><span class="op" id="7425100">)</span><span class="op" id="7425101">,</span>&nbsp;<span class="builtinfunc" id="7425103">len</span><span class="op" id="7425106">(</span><span class="ident" id="7425107">result</span><span class="op" id="7425113">)</span><span class="op" id="7425114">,</span>&nbsp;<span class="ident" id="7425116">test</span><span class="op" id="7425120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425126">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425143">for</span>&nbsp;<span class="ident" id="7425147">k</span><span class="op" id="7425148">,</span>&nbsp;<span class="ident" id="7425150">e</span>&nbsp;<span class="op" id="7425152">:=</span>&nbsp;<span class="keyword" id="7425155">range</span>&nbsp;<span class="ident" id="7425161">test</span><span class="op" id="7425165">.</span><span class="ident" id="7425166">matches</span>&nbsp;<span class="op" id="7425174">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425180">expect</span>&nbsp;<span class="op" id="7425187">:=</span>&nbsp;<span class="ident" id="7425190">test</span><span class="op" id="7425194">.</span><span class="ident" id="7425195">text</span><span class="op" id="7425199">[</span><span class="ident" id="7425200">e</span><span class="op" id="7425201">[</span><span class="num" id="7425202">0</span><span class="op" id="7425203">]</span><span class="op" id="7425204">:</span><span class="ident" id="7425205">e</span><span class="op" id="7425206">[</span><span class="num" id="7425207">1</span><span class="op" id="7425208">]</span><span class="op" id="7425209">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425215">if</span>&nbsp;<span class="ident" id="7425218">expect</span>&nbsp;<span class="op" id="7425225">!=</span>&nbsp;<span class="ident" id="7425228">result</span><span class="op" id="7425234">[</span><span class="ident" id="7425235">k</span><span class="op" id="7425236">]</span>&nbsp;<span class="op" id="7425238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425245">t</span><span class="op" id="7425246">.</span><span class="ident" id="7425247">Errorf</span><span class="op" id="7425253">(</span><span class="string" id="7425254">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7425278">,</span>&nbsp;<span class="ident" id="7425280">expect</span><span class="op" id="7425286">,</span>&nbsp;<span class="ident" id="7425288">result</span><span class="op" id="7425294">,</span>&nbsp;<span class="ident" id="7425296">test</span><span class="op" id="7425300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425311">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425318">}</span><br>
<span class="lineno"></span><span class="op" id="7425320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425323">func</span>&nbsp;<span class="ident" id="7425328">testFindAllIndex</span><span class="op" id="7425344">(</span><span class="ident" id="7425345">test</span>&nbsp;<span class="op" id="7425350">*</span><span class="ident" id="7425351">FindTest</span><span class="op" id="7425359">,</span>&nbsp;<span class="ident" id="7425361">result</span>&nbsp;<span class="op" id="7425368">[</span><span class="op" id="7425369">]</span><span class="op" id="7425370">[</span><span class="op" id="7425371">]</span><span class="builtintype" id="7425372">int</span><span class="op" id="7425375">,</span>&nbsp;<span class="ident" id="7425377">t</span>&nbsp;<span class="op" id="7425379">*</span><span class="ident" id="7425380">testing</span><span class="op" id="7425387">.</span><span class="ident" id="7425388">T</span><span class="op" id="7425389">)</span>&nbsp;<span class="op" id="7425391">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425394">switch</span>&nbsp;<span class="op" id="7425401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425404">case</span>&nbsp;<span class="ident" id="7425409">test</span><span class="op" id="7425413">.</span><span class="ident" id="7425414">matches</span>&nbsp;<span class="op" id="7425422">==</span>&nbsp;<span class="ident" id="7425425">nil</span>&nbsp;<span class="op" id="7425429">&amp;&amp;</span>&nbsp;<span class="ident" id="7425432">result</span>&nbsp;<span class="op" id="7425439">==</span>&nbsp;<span class="ident" id="7425442">nil</span><span class="op" id="7425445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7425449">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425456">case</span>&nbsp;<span class="ident" id="7425461">test</span><span class="op" id="7425465">.</span><span class="ident" id="7425466">matches</span>&nbsp;<span class="op" id="7425474">==</span>&nbsp;<span class="ident" id="7425477">nil</span>&nbsp;<span class="op" id="7425481">&amp;&amp;</span>&nbsp;<span class="ident" id="7425484">result</span>&nbsp;<span class="op" id="7425491">!=</span>&nbsp;<span class="ident" id="7425494">nil</span><span class="op" id="7425497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425501">t</span><span class="op" id="7425502">.</span><span class="ident" id="7425503">Errorf</span><span class="op" id="7425509">(</span><span class="string" id="7425510">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7425542">,</span>&nbsp;<span class="ident" id="7425544">test</span><span class="op" id="7425548">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425551">case</span>&nbsp;<span class="ident" id="7425556">test</span><span class="op" id="7425560">.</span><span class="ident" id="7425561">matches</span>&nbsp;<span class="op" id="7425569">!=</span>&nbsp;<span class="ident" id="7425572">nil</span>&nbsp;<span class="op" id="7425576">&amp;&amp;</span>&nbsp;<span class="ident" id="7425579">result</span>&nbsp;<span class="op" id="7425586">==</span>&nbsp;<span class="ident" id="7425589">nil</span><span class="op" id="7425592">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425596">t</span><span class="op" id="7425597">.</span><span class="ident" id="7425598">Errorf</span><span class="op" id="7425604">(</span><span class="string" id="7425605">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7425635">,</span>&nbsp;<span class="ident" id="7425637">test</span><span class="op" id="7425641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425644">case</span>&nbsp;<span class="ident" id="7425649">test</span><span class="op" id="7425653">.</span><span class="ident" id="7425654">matches</span>&nbsp;<span class="op" id="7425662">!=</span>&nbsp;<span class="ident" id="7425665">nil</span>&nbsp;<span class="op" id="7425669">&amp;&amp;</span>&nbsp;<span class="ident" id="7425672">result</span>&nbsp;<span class="op" id="7425679">!=</span>&nbsp;<span class="ident" id="7425682">nil</span><span class="op" id="7425685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425689">if</span>&nbsp;<span class="builtinfunc" id="7425692">len</span><span class="op" id="7425695">(</span><span class="ident" id="7425696">test</span><span class="op" id="7425700">.</span><span class="ident" id="7425701">matches</span><span class="op" id="7425708">)</span>&nbsp;<span class="op" id="7425710">!=</span>&nbsp;<span class="builtinfunc" id="7425713">len</span><span class="op" id="7425716">(</span><span class="ident" id="7425717">result</span><span class="op" id="7425723">)</span>&nbsp;<span class="op" id="7425725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425730">t</span><span class="op" id="7425731">.</span><span class="ident" id="7425732">Errorf</span><span class="op" id="7425738">(</span><span class="string" id="7425739">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7425772">,</span>&nbsp;<span class="builtinfunc" id="7425774">len</span><span class="op" id="7425777">(</span><span class="ident" id="7425778">test</span><span class="op" id="7425782">.</span><span class="ident" id="7425783">matches</span><span class="op" id="7425790">)</span><span class="op" id="7425791">,</span>&nbsp;<span class="builtinfunc" id="7425793">len</span><span class="op" id="7425796">(</span><span class="ident" id="7425797">result</span><span class="op" id="7425803">)</span><span class="op" id="7425804">,</span>&nbsp;<span class="ident" id="7425806">test</span><span class="op" id="7425810">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425815">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425828">for</span>&nbsp;<span class="ident" id="7425832">k</span><span class="op" id="7425833">,</span>&nbsp;<span class="ident" id="7425835">e</span>&nbsp;<span class="op" id="7425837">:=</span>&nbsp;<span class="keyword" id="7425840">range</span>&nbsp;<span class="ident" id="7425846">test</span><span class="op" id="7425850">.</span><span class="ident" id="7425851">matches</span>&nbsp;<span class="op" id="7425859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7425864">if</span>&nbsp;<span class="ident" id="7425867">e</span><span class="op" id="7425868">[</span><span class="num" id="7425869">0</span><span class="op" id="7425870">]</span>&nbsp;<span class="op" id="7425872">!=</span>&nbsp;<span class="ident" id="7425875">result</span><span class="op" id="7425881">[</span><span class="ident" id="7425882">k</span><span class="op" id="7425883">]</span><span class="op" id="7425884">[</span><span class="num" id="7425885">0</span><span class="op" id="7425886">]</span>&nbsp;<span class="op" id="7425888">||</span>&nbsp;<span class="ident" id="7425891">e</span><span class="op" id="7425892">[</span><span class="num" id="7425893">1</span><span class="op" id="7425894">]</span>&nbsp;<span class="op" id="7425896">!=</span>&nbsp;<span class="ident" id="7425899">result</span><span class="op" id="7425905">[</span><span class="ident" id="7425906">k</span><span class="op" id="7425907">]</span><span class="op" id="7425908">[</span><span class="num" id="7425909">1</span><span class="op" id="7425910">]</span>&nbsp;<span class="op" id="7425912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7425918">t</span><span class="op" id="7425919">.</span><span class="ident" id="7425920">Errorf</span><span class="op" id="7425926">(</span><span class="string" id="7425927">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7425961">,</span>&nbsp;<span class="ident" id="7425963">k</span><span class="op" id="7425964">,</span>&nbsp;<span class="ident" id="7425966">e</span><span class="op" id="7425967">,</span>&nbsp;<span class="ident" id="7425969">result</span><span class="op" id="7425975">[</span><span class="ident" id="7425976">k</span><span class="op" id="7425977">]</span><span class="op" id="7425978">,</span>&nbsp;<span class="ident" id="7425980">test</span><span class="op" id="7425984">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7425996">}</span><br>
<span class="lineno"></span><span class="op" id="7425998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7426001">func</span>&nbsp;<span class="ident" id="7426006">TestFindAllIndex</span><span class="op" id="7426022">(</span><span class="ident" id="7426023">t</span>&nbsp;<span class="op" id="7426025">*</span><span class="ident" id="7426026">testing</span><span class="op" id="7426033">.</span><span class="ident" id="7426034">T</span><span class="op" id="7426035">)</span>&nbsp;<span class="op" id="7426037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426040">for</span>&nbsp;<span class="ident" id="7426044">_</span><span class="op" id="7426045">,</span>&nbsp;<span class="ident" id="7426047">test</span>&nbsp;<span class="op" id="7426052">:=</span>&nbsp;<span class="keyword" id="7426055">range</span>&nbsp;<span class="ident" id="7426061">findTests</span>&nbsp;<span class="op" id="7426071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7426075">testFindAllIndex</span><span class="op" id="7426091">(</span><span class="op" id="7426092">&amp;</span><span class="ident" id="7426093">test</span><span class="op" id="7426097">,</span>&nbsp;<span class="ident" id="7426099">MustCompile</span><span class="op" id="7426110">(</span><span class="ident" id="7426111">test</span><span class="op" id="7426115">.</span><span class="ident" id="7426116">pat</span><span class="op" id="7426119">)</span><span class="op" id="7426120">.</span><span class="ident" id="7426121">FindAllIndex</span><span class="op" id="7426133">(</span><span class="op" id="7426134">[</span><span class="op" id="7426135">]</span><span class="builtintype" id="7426136">byte</span><span class="op" id="7426140">(</span><span class="ident" id="7426141">test</span><span class="op" id="7426145">.</span><span class="ident" id="7426146">text</span><span class="op" id="7426150">)</span><span class="op" id="7426151">,</span>&nbsp;<span class="op" id="7426153">-</span><span class="num" id="7426154">1</span><span class="op" id="7426155">)</span><span class="op" id="7426156">,</span>&nbsp;<span class="ident" id="7426158">t</span><span class="op" id="7426159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426162">}</span><br>
<span class="lineno"></span><span class="op" id="7426164">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7426167">func</span>&nbsp;<span class="ident" id="7426172">TestFindAllStringIndex</span><span class="op" id="7426194">(</span><span class="ident" id="7426195">t</span>&nbsp;<span class="op" id="7426197">*</span><span class="ident" id="7426198">testing</span><span class="op" id="7426205">.</span><span class="ident" id="7426206">T</span><span class="op" id="7426207">)</span>&nbsp;<span class="op" id="7426209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426212">for</span>&nbsp;<span class="ident" id="7426216">_</span><span class="op" id="7426217">,</span>&nbsp;<span class="ident" id="7426219">test</span>&nbsp;<span class="op" id="7426224">:=</span>&nbsp;<span class="keyword" id="7426227">range</span>&nbsp;<span class="ident" id="7426233">findTests</span>&nbsp;<span class="op" id="7426243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7426247">testFindAllIndex</span><span class="op" id="7426263">(</span><span class="op" id="7426264">&amp;</span><span class="ident" id="7426265">test</span><span class="op" id="7426269">,</span>&nbsp;<span class="ident" id="7426271">MustCompile</span><span class="op" id="7426282">(</span><span class="ident" id="7426283">test</span><span class="op" id="7426287">.</span><span class="ident" id="7426288">pat</span><span class="op" id="7426291">)</span><span class="op" id="7426292">.</span><span class="ident" id="7426293">FindAllStringIndex</span><span class="op" id="7426311">(</span><span class="ident" id="7426312">test</span><span class="op" id="7426316">.</span><span class="ident" id="7426317">text</span><span class="op" id="7426321">,</span>&nbsp;<span class="op" id="7426323">-</span><span class="num" id="7426324">1</span><span class="op" id="7426325">)</span><span class="op" id="7426326">,</span>&nbsp;<span class="ident" id="7426328">t</span><span class="op" id="7426329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426332">}</span><br>
<span class="lineno">310</span><span class="op" id="7426334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7426337">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426370">func</span>&nbsp;<span class="ident" id="7426375">testSubmatchBytes</span><span class="op" id="7426392">(</span><span class="ident" id="7426393">test</span>&nbsp;<span class="op" id="7426398">*</span><span class="ident" id="7426399">FindTest</span><span class="op" id="7426407">,</span>&nbsp;<span class="ident" id="7426409">n</span>&nbsp;<span class="builtintype" id="7426411">int</span><span class="op" id="7426414">,</span>&nbsp;<span class="ident" id="7426416">submatches</span>&nbsp;<span class="op" id="7426427">[</span><span class="op" id="7426428">]</span><span class="builtintype" id="7426429">int</span><span class="op" id="7426432">,</span>&nbsp;<span class="ident" id="7426434">result</span>&nbsp;<span class="op" id="7426441">[</span><span class="op" id="7426442">]</span><span class="op" id="7426443">[</span><span class="op" id="7426444">]</span><span class="builtintype" id="7426445">byte</span><span class="op" id="7426449">,</span>&nbsp;<span class="ident" id="7426451">t</span>&nbsp;<span class="op" id="7426453">*</span><span class="ident" id="7426454">testing</span><span class="op" id="7426461">.</span><span class="ident" id="7426462">T</span><span class="op" id="7426463">)</span>&nbsp;<span class="op" id="7426465">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426468">if</span>&nbsp;<span class="builtinfunc" id="7426471">len</span><span class="op" id="7426474">(</span><span class="ident" id="7426475">submatches</span><span class="op" id="7426485">)</span>&nbsp;<span class="op" id="7426487">!=</span>&nbsp;<span class="builtinfunc" id="7426490">len</span><span class="op" id="7426493">(</span><span class="ident" id="7426494">result</span><span class="op" id="7426500">)</span><span class="op" id="7426501">*</span><span class="num" id="7426502">2</span>&nbsp;<span class="op" id="7426504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7426508">t</span><span class="op" id="7426509">.</span><span class="ident" id="7426510">Errorf</span><span class="op" id="7426516">(</span><span class="string" id="7426517">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7426563">,</span>&nbsp;<span class="ident" id="7426565">n</span><span class="op" id="7426566">,</span>&nbsp;<span class="builtinfunc" id="7426568">len</span><span class="op" id="7426571">(</span><span class="ident" id="7426572">submatches</span><span class="op" id="7426582">)</span><span class="op" id="7426583">/</span><span class="num" id="7426584">2</span><span class="op" id="7426585">,</span>&nbsp;<span class="builtinfunc" id="7426587">len</span><span class="op" id="7426590">(</span><span class="ident" id="7426591">result</span><span class="op" id="7426597">)</span><span class="op" id="7426598">,</span>&nbsp;<span class="ident" id="7426600">test</span><span class="op" id="7426604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426608">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426619">for</span>&nbsp;<span class="ident" id="7426623">k</span>&nbsp;<span class="op" id="7426625">:=</span>&nbsp;<span class="num" id="7426628">0</span><span class="op" id="7426629">;</span>&nbsp;<span class="ident" id="7426631">k</span>&nbsp;<span class="op" id="7426633">&lt;</span>&nbsp;<span class="builtinfunc" id="7426635">len</span><span class="op" id="7426638">(</span><span class="ident" id="7426639">submatches</span><span class="op" id="7426649">)</span><span class="op" id="7426650">;</span>&nbsp;<span class="ident" id="7426652">k</span>&nbsp;<span class="op" id="7426654">+=</span>&nbsp;<span class="num" id="7426657">2</span>&nbsp;<span class="op" id="7426659">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426663">if</span>&nbsp;<span class="ident" id="7426666">submatches</span><span class="op" id="7426676">[</span><span class="ident" id="7426677">k</span><span class="op" id="7426678">]</span>&nbsp;<span class="op" id="7426680">==</span>&nbsp;<span class="op" id="7426683">-</span><span class="num" id="7426684">1</span>&nbsp;<span class="op" id="7426686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426691">if</span>&nbsp;<span class="ident" id="7426694">result</span><span class="op" id="7426700">[</span><span class="ident" id="7426701">k</span><span class="op" id="7426702">/</span><span class="num" id="7426703">2</span><span class="op" id="7426704">]</span>&nbsp;<span class="op" id="7426706">!=</span>&nbsp;<span class="ident" id="7426709">nil</span>&nbsp;<span class="op" id="7426713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7426719">t</span><span class="op" id="7426720">.</span><span class="ident" id="7426721">Errorf</span><span class="op" id="7426727">(</span><span class="string" id="7426728">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7426763">,</span>&nbsp;<span class="ident" id="7426765">n</span><span class="op" id="7426766">,</span>&nbsp;<span class="ident" id="7426768">result</span><span class="op" id="7426774">,</span>&nbsp;<span class="ident" id="7426776">test</span><span class="op" id="7426780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426790">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7426805">expect</span>&nbsp;<span class="op" id="7426812">:=</span>&nbsp;<span class="ident" id="7426815">test</span><span class="op" id="7426819">.</span><span class="ident" id="7426820">text</span><span class="op" id="7426824">[</span><span class="ident" id="7426825">submatches</span><span class="op" id="7426835">[</span><span class="ident" id="7426836">k</span><span class="op" id="7426837">]</span><span class="op" id="7426838">:</span><span class="ident" id="7426839">submatches</span><span class="op" id="7426849">[</span><span class="ident" id="7426850">k</span><span class="op" id="7426851">+</span><span class="num" id="7426852">1</span><span class="op" id="7426853">]</span><span class="op" id="7426854">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426858">if</span>&nbsp;<span class="ident" id="7426861">expect</span>&nbsp;<span class="op" id="7426868">!=</span>&nbsp;<span class="builtintype" id="7426871">string</span><span class="op" id="7426877">(</span><span class="ident" id="7426878">result</span><span class="op" id="7426884">[</span><span class="ident" id="7426885">k</span><span class="op" id="7426886">/</span><span class="num" id="7426887">2</span><span class="op" id="7426888">]</span><span class="op" id="7426889">)</span>&nbsp;<span class="op" id="7426891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7426896">t</span><span class="op" id="7426897">.</span><span class="ident" id="7426898">Errorf</span><span class="op" id="7426904">(</span><span class="string" id="7426905">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7426939">,</span>&nbsp;<span class="ident" id="7426941">n</span><span class="op" id="7426942">,</span>&nbsp;<span class="ident" id="7426944">expect</span><span class="op" id="7426950">,</span>&nbsp;<span class="ident" id="7426952">result</span><span class="op" id="7426958">,</span>&nbsp;<span class="ident" id="7426960">test</span><span class="op" id="7426964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7426969">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7426981">}</span><br>
<span class="lineno"></span><span class="op" id="7426983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426986">func</span>&nbsp;<span class="ident" id="7426991">TestFindSubmatch</span><span class="op" id="7427007">(</span><span class="ident" id="7427008">t</span>&nbsp;<span class="op" id="7427010">*</span><span class="ident" id="7427011">testing</span><span class="op" id="7427018">.</span><span class="ident" id="7427019">T</span><span class="op" id="7427020">)</span>&nbsp;<span class="op" id="7427022">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427025">for</span>&nbsp;<span class="ident" id="7427029">_</span><span class="op" id="7427030">,</span>&nbsp;<span class="ident" id="7427032">test</span>&nbsp;<span class="op" id="7427037">:=</span>&nbsp;<span class="keyword" id="7427040">range</span>&nbsp;<span class="ident" id="7427046">findTests</span>&nbsp;<span class="op" id="7427056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427060">result</span>&nbsp;<span class="op" id="7427067">:=</span>&nbsp;<span class="ident" id="7427070">MustCompile</span><span class="op" id="7427081">(</span><span class="ident" id="7427082">test</span><span class="op" id="7427086">.</span><span class="ident" id="7427087">pat</span><span class="op" id="7427090">)</span><span class="op" id="7427091">.</span><span class="ident" id="7427092">FindSubmatch</span><span class="op" id="7427104">(</span><span class="op" id="7427105">[</span><span class="op" id="7427106">]</span><span class="builtintype" id="7427107">byte</span><span class="op" id="7427111">(</span><span class="ident" id="7427112">test</span><span class="op" id="7427116">.</span><span class="ident" id="7427117">text</span><span class="op" id="7427121">)</span><span class="op" id="7427122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427126">switch</span>&nbsp;<span class="op" id="7427133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427137">case</span>&nbsp;<span class="ident" id="7427142">test</span><span class="op" id="7427146">.</span><span class="ident" id="7427147">matches</span>&nbsp;<span class="op" id="7427155">==</span>&nbsp;<span class="ident" id="7427158">nil</span>&nbsp;<span class="op" id="7427162">&amp;&amp;</span>&nbsp;<span class="ident" id="7427165">result</span>&nbsp;<span class="op" id="7427172">==</span>&nbsp;<span class="ident" id="7427175">nil</span><span class="op" id="7427178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7427183">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427191">case</span>&nbsp;<span class="ident" id="7427196">test</span><span class="op" id="7427200">.</span><span class="ident" id="7427201">matches</span>&nbsp;<span class="op" id="7427209">==</span>&nbsp;<span class="ident" id="7427212">nil</span>&nbsp;<span class="op" id="7427216">&amp;&amp;</span>&nbsp;<span class="ident" id="7427219">result</span>&nbsp;<span class="op" id="7427226">!=</span>&nbsp;<span class="ident" id="7427229">nil</span><span class="op" id="7427232">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427237">t</span><span class="op" id="7427238">.</span><span class="ident" id="7427239">Errorf</span><span class="op" id="7427245">(</span><span class="string" id="7427246">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7427278">,</span>&nbsp;<span class="ident" id="7427280">test</span><span class="op" id="7427284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427288">case</span>&nbsp;<span class="ident" id="7427293">test</span><span class="op" id="7427297">.</span><span class="ident" id="7427298">matches</span>&nbsp;<span class="op" id="7427306">!=</span>&nbsp;<span class="ident" id="7427309">nil</span>&nbsp;<span class="op" id="7427313">&amp;&amp;</span>&nbsp;<span class="ident" id="7427316">result</span>&nbsp;<span class="op" id="7427323">==</span>&nbsp;<span class="ident" id="7427326">nil</span><span class="op" id="7427329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427334">t</span><span class="op" id="7427335">.</span><span class="ident" id="7427336">Errorf</span><span class="op" id="7427342">(</span><span class="string" id="7427343">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7427373">,</span>&nbsp;<span class="ident" id="7427375">test</span><span class="op" id="7427379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427383">case</span>&nbsp;<span class="ident" id="7427388">test</span><span class="op" id="7427392">.</span><span class="ident" id="7427393">matches</span>&nbsp;<span class="op" id="7427401">!=</span>&nbsp;<span class="ident" id="7427404">nil</span>&nbsp;<span class="op" id="7427408">&amp;&amp;</span>&nbsp;<span class="ident" id="7427411">result</span>&nbsp;<span class="op" id="7427418">!=</span>&nbsp;<span class="ident" id="7427421">nil</span><span class="op" id="7427424">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427429">testSubmatchBytes</span><span class="op" id="7427446">(</span><span class="op" id="7427447">&amp;</span><span class="ident" id="7427448">test</span><span class="op" id="7427452">,</span>&nbsp;<span class="num" id="7427454">0</span><span class="op" id="7427455">,</span>&nbsp;<span class="ident" id="7427457">test</span><span class="op" id="7427461">.</span><span class="ident" id="7427462">matches</span><span class="op" id="7427469">[</span><span class="num" id="7427470">0</span><span class="op" id="7427471">]</span><span class="op" id="7427472">,</span>&nbsp;<span class="ident" id="7427474">result</span><span class="op" id="7427480">,</span>&nbsp;<span class="ident" id="7427482">t</span><span class="op" id="7427483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427490">}</span><br>
<span class="lineno"></span><span class="op" id="7427492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7427495">func</span>&nbsp;<span class="ident" id="7427500">testSubmatchString</span><span class="op" id="7427518">(</span><span class="ident" id="7427519">test</span>&nbsp;<span class="op" id="7427524">*</span><span class="ident" id="7427525">FindTest</span><span class="op" id="7427533">,</span>&nbsp;<span class="ident" id="7427535">n</span>&nbsp;<span class="builtintype" id="7427537">int</span><span class="op" id="7427540">,</span>&nbsp;<span class="ident" id="7427542">submatches</span>&nbsp;<span class="op" id="7427553">[</span><span class="op" id="7427554">]</span><span class="builtintype" id="7427555">int</span><span class="op" id="7427558">,</span>&nbsp;<span class="ident" id="7427560">result</span>&nbsp;<span class="op" id="7427567">[</span><span class="op" id="7427568">]</span><span class="builtintype" id="7427569">string</span><span class="op" id="7427575">,</span>&nbsp;<span class="ident" id="7427577">t</span>&nbsp;<span class="op" id="7427579">*</span><span class="ident" id="7427580">testing</span><span class="op" id="7427587">.</span><span class="ident" id="7427588">T</span><span class="op" id="7427589">)</span>&nbsp;<span class="op" id="7427591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427594">if</span>&nbsp;<span class="builtinfunc" id="7427597">len</span><span class="op" id="7427600">(</span><span class="ident" id="7427601">submatches</span><span class="op" id="7427611">)</span>&nbsp;<span class="op" id="7427613">!=</span>&nbsp;<span class="builtinfunc" id="7427616">len</span><span class="op" id="7427619">(</span><span class="ident" id="7427620">result</span><span class="op" id="7427626">)</span><span class="op" id="7427627">*</span><span class="num" id="7427628">2</span>&nbsp;<span class="op" id="7427630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427634">t</span><span class="op" id="7427635">.</span><span class="ident" id="7427636">Errorf</span><span class="op" id="7427642">(</span><span class="string" id="7427643">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7427689">,</span>&nbsp;<span class="ident" id="7427691">n</span><span class="op" id="7427692">,</span>&nbsp;<span class="builtinfunc" id="7427694">len</span><span class="op" id="7427697">(</span><span class="ident" id="7427698">submatches</span><span class="op" id="7427708">)</span><span class="op" id="7427709">/</span><span class="num" id="7427710">2</span><span class="op" id="7427711">,</span>&nbsp;<span class="builtinfunc" id="7427713">len</span><span class="op" id="7427716">(</span><span class="ident" id="7427717">result</span><span class="op" id="7427723">)</span><span class="op" id="7427724">,</span>&nbsp;<span class="ident" id="7427726">test</span><span class="op" id="7427730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427734">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427742">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427745">for</span>&nbsp;<span class="ident" id="7427749">k</span>&nbsp;<span class="op" id="7427751">:=</span>&nbsp;<span class="num" id="7427754">0</span><span class="op" id="7427755">;</span>&nbsp;<span class="ident" id="7427757">k</span>&nbsp;<span class="op" id="7427759">&lt;</span>&nbsp;<span class="builtinfunc" id="7427761">len</span><span class="op" id="7427764">(</span><span class="ident" id="7427765">submatches</span><span class="op" id="7427775">)</span><span class="op" id="7427776">;</span>&nbsp;<span class="ident" id="7427778">k</span>&nbsp;<span class="op" id="7427780">+=</span>&nbsp;<span class="num" id="7427783">2</span>&nbsp;<span class="op" id="7427785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427789">if</span>&nbsp;<span class="ident" id="7427792">submatches</span><span class="op" id="7427802">[</span><span class="ident" id="7427803">k</span><span class="op" id="7427804">]</span>&nbsp;<span class="op" id="7427806">==</span>&nbsp;<span class="op" id="7427809">-</span><span class="num" id="7427810">1</span>&nbsp;<span class="op" id="7427812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427817">if</span>&nbsp;<span class="ident" id="7427820">result</span><span class="op" id="7427826">[</span><span class="ident" id="7427827">k</span><span class="op" id="7427828">/</span><span class="num" id="7427829">2</span><span class="op" id="7427830">]</span>&nbsp;<span class="op" id="7427832">!=</span>&nbsp;<span class="string" id="7427835">&#34;&#34;</span>&nbsp;<span class="op" id="7427838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427844">t</span><span class="op" id="7427845">.</span><span class="ident" id="7427846">Errorf</span><span class="op" id="7427852">(</span><span class="string" id="7427853">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7427888">,</span>&nbsp;<span class="ident" id="7427890">n</span><span class="op" id="7427891">,</span>&nbsp;<span class="ident" id="7427893">result</span><span class="op" id="7427899">,</span>&nbsp;<span class="ident" id="7427901">test</span><span class="op" id="7427905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427910">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427915">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7427926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7427930">expect</span>&nbsp;<span class="op" id="7427937">:=</span>&nbsp;<span class="ident" id="7427940">test</span><span class="op" id="7427944">.</span><span class="ident" id="7427945">text</span><span class="op" id="7427949">[</span><span class="ident" id="7427950">submatches</span><span class="op" id="7427960">[</span><span class="ident" id="7427961">k</span><span class="op" id="7427962">]</span><span class="op" id="7427963">:</span><span class="ident" id="7427964">submatches</span><span class="op" id="7427974">[</span><span class="ident" id="7427975">k</span><span class="op" id="7427976">+</span><span class="num" id="7427977">1</span><span class="op" id="7427978">]</span><span class="op" id="7427979">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7427983">if</span>&nbsp;<span class="ident" id="7427986">expect</span>&nbsp;<span class="op" id="7427993">!=</span>&nbsp;<span class="ident" id="7427996">result</span><span class="op" id="7428002">[</span><span class="ident" id="7428003">k</span><span class="op" id="7428004">/</span><span class="num" id="7428005">2</span><span class="op" id="7428006">]</span>&nbsp;<span class="op" id="7428008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428013">t</span><span class="op" id="7428014">.</span><span class="ident" id="7428015">Errorf</span><span class="op" id="7428021">(</span><span class="string" id="7428022">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7428056">,</span>&nbsp;<span class="ident" id="7428058">n</span><span class="op" id="7428059">,</span>&nbsp;<span class="ident" id="7428061">expect</span><span class="op" id="7428067">,</span>&nbsp;<span class="ident" id="7428069">result</span><span class="op" id="7428075">,</span>&nbsp;<span class="ident" id="7428077">test</span><span class="op" id="7428081">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428086">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428098">}</span><br>
<span class="lineno"></span><span class="op" id="7428100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7428103">func</span>&nbsp;<span class="ident" id="7428108">TestFindStringSubmatch</span><span class="op" id="7428130">(</span><span class="ident" id="7428131">t</span>&nbsp;<span class="op" id="7428133">*</span><span class="ident" id="7428134">testing</span><span class="op" id="7428141">.</span><span class="ident" id="7428142">T</span><span class="op" id="7428143">)</span>&nbsp;<span class="op" id="7428145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428148">for</span>&nbsp;<span class="ident" id="7428152">_</span><span class="op" id="7428153">,</span>&nbsp;<span class="ident" id="7428155">test</span>&nbsp;<span class="op" id="7428160">:=</span>&nbsp;<span class="keyword" id="7428163">range</span>&nbsp;<span class="ident" id="7428169">findTests</span>&nbsp;<span class="op" id="7428179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428183">result</span>&nbsp;<span class="op" id="7428190">:=</span>&nbsp;<span class="ident" id="7428193">MustCompile</span><span class="op" id="7428204">(</span><span class="ident" id="7428205">test</span><span class="op" id="7428209">.</span><span class="ident" id="7428210">pat</span><span class="op" id="7428213">)</span><span class="op" id="7428214">.</span><span class="ident" id="7428215">FindStringSubmatch</span><span class="op" id="7428233">(</span><span class="ident" id="7428234">test</span><span class="op" id="7428238">.</span><span class="ident" id="7428239">text</span><span class="op" id="7428243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428247">switch</span>&nbsp;<span class="op" id="7428254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428258">case</span>&nbsp;<span class="ident" id="7428263">test</span><span class="op" id="7428267">.</span><span class="ident" id="7428268">matches</span>&nbsp;<span class="op" id="7428276">==</span>&nbsp;<span class="ident" id="7428279">nil</span>&nbsp;<span class="op" id="7428283">&amp;&amp;</span>&nbsp;<span class="ident" id="7428286">result</span>&nbsp;<span class="op" id="7428293">==</span>&nbsp;<span class="ident" id="7428296">nil</span><span class="op" id="7428299">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7428304">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428312">case</span>&nbsp;<span class="ident" id="7428317">test</span><span class="op" id="7428321">.</span><span class="ident" id="7428322">matches</span>&nbsp;<span class="op" id="7428330">==</span>&nbsp;<span class="ident" id="7428333">nil</span>&nbsp;<span class="op" id="7428337">&amp;&amp;</span>&nbsp;<span class="ident" id="7428340">result</span>&nbsp;<span class="op" id="7428347">!=</span>&nbsp;<span class="ident" id="7428350">nil</span><span class="op" id="7428353">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428358">t</span><span class="op" id="7428359">.</span><span class="ident" id="7428360">Errorf</span><span class="op" id="7428366">(</span><span class="string" id="7428367">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7428399">,</span>&nbsp;<span class="ident" id="7428401">test</span><span class="op" id="7428405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428409">case</span>&nbsp;<span class="ident" id="7428414">test</span><span class="op" id="7428418">.</span><span class="ident" id="7428419">matches</span>&nbsp;<span class="op" id="7428427">!=</span>&nbsp;<span class="ident" id="7428430">nil</span>&nbsp;<span class="op" id="7428434">&amp;&amp;</span>&nbsp;<span class="ident" id="7428437">result</span>&nbsp;<span class="op" id="7428444">==</span>&nbsp;<span class="ident" id="7428447">nil</span><span class="op" id="7428450">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428455">t</span><span class="op" id="7428456">.</span><span class="ident" id="7428457">Errorf</span><span class="op" id="7428463">(</span><span class="string" id="7428464">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7428494">,</span>&nbsp;<span class="ident" id="7428496">test</span><span class="op" id="7428500">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428504">case</span>&nbsp;<span class="ident" id="7428509">test</span><span class="op" id="7428513">.</span><span class="ident" id="7428514">matches</span>&nbsp;<span class="op" id="7428522">!=</span>&nbsp;<span class="ident" id="7428525">nil</span>&nbsp;<span class="op" id="7428529">&amp;&amp;</span>&nbsp;<span class="ident" id="7428532">result</span>&nbsp;<span class="op" id="7428539">!=</span>&nbsp;<span class="ident" id="7428542">nil</span><span class="op" id="7428545">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428550">testSubmatchString</span><span class="op" id="7428568">(</span><span class="op" id="7428569">&amp;</span><span class="ident" id="7428570">test</span><span class="op" id="7428574">,</span>&nbsp;<span class="num" id="7428576">0</span><span class="op" id="7428577">,</span>&nbsp;<span class="ident" id="7428579">test</span><span class="op" id="7428583">.</span><span class="ident" id="7428584">matches</span><span class="op" id="7428591">[</span><span class="num" id="7428592">0</span><span class="op" id="7428593">]</span><span class="op" id="7428594">,</span>&nbsp;<span class="ident" id="7428596">result</span><span class="op" id="7428602">,</span>&nbsp;<span class="ident" id="7428604">t</span><span class="op" id="7428605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428612">}</span><br>
<span class="lineno"></span><span class="op" id="7428614">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7428617">func</span>&nbsp;<span class="ident" id="7428622">testSubmatchIndices</span><span class="op" id="7428641">(</span><span class="ident" id="7428642">test</span>&nbsp;<span class="op" id="7428647">*</span><span class="ident" id="7428648">FindTest</span><span class="op" id="7428656">,</span>&nbsp;<span class="ident" id="7428658">n</span>&nbsp;<span class="builtintype" id="7428660">int</span><span class="op" id="7428663">,</span>&nbsp;<span class="ident" id="7428665">expect</span><span class="op" id="7428671">,</span>&nbsp;<span class="ident" id="7428673">result</span>&nbsp;<span class="op" id="7428680">[</span><span class="op" id="7428681">]</span><span class="builtintype" id="7428682">int</span><span class="op" id="7428685">,</span>&nbsp;<span class="ident" id="7428687">t</span>&nbsp;<span class="op" id="7428689">*</span><span class="ident" id="7428690">testing</span><span class="op" id="7428697">.</span><span class="ident" id="7428698">T</span><span class="op" id="7428699">)</span>&nbsp;<span class="op" id="7428701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428704">if</span>&nbsp;<span class="builtinfunc" id="7428707">len</span><span class="op" id="7428710">(</span><span class="ident" id="7428711">expect</span><span class="op" id="7428717">)</span>&nbsp;<span class="op" id="7428719">!=</span>&nbsp;<span class="builtinfunc" id="7428722">len</span><span class="op" id="7428725">(</span><span class="ident" id="7428726">result</span><span class="op" id="7428732">)</span>&nbsp;<span class="op" id="7428734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428738">t</span><span class="op" id="7428739">.</span><span class="ident" id="7428740">Errorf</span><span class="op" id="7428746">(</span><span class="string" id="7428747">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7428790">,</span>&nbsp;<span class="ident" id="7428792">n</span><span class="op" id="7428793">,</span>&nbsp;<span class="builtinfunc" id="7428795">len</span><span class="op" id="7428798">(</span><span class="ident" id="7428799">expect</span><span class="op" id="7428805">)</span><span class="op" id="7428806">/</span><span class="num" id="7428807">2</span><span class="op" id="7428808">,</span>&nbsp;<span class="builtinfunc" id="7428810">len</span><span class="op" id="7428813">(</span><span class="ident" id="7428814">result</span><span class="op" id="7428820">)</span><span class="op" id="7428821">/</span><span class="num" id="7428822">2</span><span class="op" id="7428823">,</span>&nbsp;<span class="ident" id="7428825">test</span><span class="op" id="7428829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428833">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428844">for</span>&nbsp;<span class="ident" id="7428848">k</span><span class="op" id="7428849">,</span>&nbsp;<span class="ident" id="7428851">e</span>&nbsp;<span class="op" id="7428853">:=</span>&nbsp;<span class="keyword" id="7428856">range</span>&nbsp;<span class="ident" id="7428862">expect</span>&nbsp;<span class="op" id="7428869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7428873">if</span>&nbsp;<span class="ident" id="7428876">e</span>&nbsp;<span class="op" id="7428878">!=</span>&nbsp;<span class="ident" id="7428881">result</span><span class="op" id="7428887">[</span><span class="ident" id="7428888">k</span><span class="op" id="7428889">]</span>&nbsp;<span class="op" id="7428891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7428896">t</span><span class="op" id="7428897">.</span><span class="ident" id="7428898">Errorf</span><span class="op" id="7428904">(</span><span class="string" id="7428905">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7428955">,</span>&nbsp;<span class="ident" id="7428957">n</span><span class="op" id="7428958">,</span>&nbsp;<span class="ident" id="7428960">expect</span><span class="op" id="7428966">,</span>&nbsp;<span class="ident" id="7428968">result</span><span class="op" id="7428974">,</span>&nbsp;<span class="ident" id="7428976">test</span><span class="op" id="7428980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428984">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7428987">}</span><br>
<span class="lineno"></span><span class="op" id="7428989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7428992">func</span>&nbsp;<span class="ident" id="7428997">testFindSubmatchIndex</span><span class="op" id="7429018">(</span><span class="ident" id="7429019">test</span>&nbsp;<span class="op" id="7429024">*</span><span class="ident" id="7429025">FindTest</span><span class="op" id="7429033">,</span>&nbsp;<span class="ident" id="7429035">result</span>&nbsp;<span class="op" id="7429042">[</span><span class="op" id="7429043">]</span><span class="builtintype" id="7429044">int</span><span class="op" id="7429047">,</span>&nbsp;<span class="ident" id="7429049">t</span>&nbsp;<span class="op" id="7429051">*</span><span class="ident" id="7429052">testing</span><span class="op" id="7429059">.</span><span class="ident" id="7429060">T</span><span class="op" id="7429061">)</span>&nbsp;<span class="op" id="7429063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429066">switch</span>&nbsp;<span class="op" id="7429073">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429076">case</span>&nbsp;<span class="ident" id="7429081">test</span><span class="op" id="7429085">.</span><span class="ident" id="7429086">matches</span>&nbsp;<span class="op" id="7429094">==</span>&nbsp;<span class="ident" id="7429097">nil</span>&nbsp;<span class="op" id="7429101">&amp;&amp;</span>&nbsp;<span class="ident" id="7429104">result</span>&nbsp;<span class="op" id="7429111">==</span>&nbsp;<span class="ident" id="7429114">nil</span><span class="op" id="7429117">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7429121">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429128">case</span>&nbsp;<span class="ident" id="7429133">test</span><span class="op" id="7429137">.</span><span class="ident" id="7429138">matches</span>&nbsp;<span class="op" id="7429146">==</span>&nbsp;<span class="ident" id="7429149">nil</span>&nbsp;<span class="op" id="7429153">&amp;&amp;</span>&nbsp;<span class="ident" id="7429156">result</span>&nbsp;<span class="op" id="7429163">!=</span>&nbsp;<span class="ident" id="7429166">nil</span><span class="op" id="7429169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429173">t</span><span class="op" id="7429174">.</span><span class="ident" id="7429175">Errorf</span><span class="op" id="7429181">(</span><span class="string" id="7429182">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7429214">,</span>&nbsp;<span class="ident" id="7429216">test</span><span class="op" id="7429220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429223">case</span>&nbsp;<span class="ident" id="7429228">test</span><span class="op" id="7429232">.</span><span class="ident" id="7429233">matches</span>&nbsp;<span class="op" id="7429241">!=</span>&nbsp;<span class="ident" id="7429244">nil</span>&nbsp;<span class="op" id="7429248">&amp;&amp;</span>&nbsp;<span class="ident" id="7429251">result</span>&nbsp;<span class="op" id="7429258">==</span>&nbsp;<span class="ident" id="7429261">nil</span><span class="op" id="7429264">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429268">t</span><span class="op" id="7429269">.</span><span class="ident" id="7429270">Errorf</span><span class="op" id="7429276">(</span><span class="string" id="7429277">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7429307">,</span>&nbsp;<span class="ident" id="7429309">test</span><span class="op" id="7429313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429316">case</span>&nbsp;<span class="ident" id="7429321">test</span><span class="op" id="7429325">.</span><span class="ident" id="7429326">matches</span>&nbsp;<span class="op" id="7429334">!=</span>&nbsp;<span class="ident" id="7429337">nil</span>&nbsp;<span class="op" id="7429341">&amp;&amp;</span>&nbsp;<span class="ident" id="7429344">result</span>&nbsp;<span class="op" id="7429351">!=</span>&nbsp;<span class="ident" id="7429354">nil</span><span class="op" id="7429357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429361">testSubmatchIndices</span><span class="op" id="7429380">(</span><span class="ident" id="7429381">test</span><span class="op" id="7429385">,</span>&nbsp;<span class="num" id="7429387">0</span><span class="op" id="7429388">,</span>&nbsp;<span class="ident" id="7429390">test</span><span class="op" id="7429394">.</span><span class="ident" id="7429395">matches</span><span class="op" id="7429402">[</span><span class="num" id="7429403">0</span><span class="op" id="7429404">]</span><span class="op" id="7429405">,</span>&nbsp;<span class="ident" id="7429407">result</span><span class="op" id="7429413">,</span>&nbsp;<span class="ident" id="7429415">t</span><span class="op" id="7429416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429419">}</span><br>
<span class="lineno"></span><span class="op" id="7429421">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7429424">func</span>&nbsp;<span class="ident" id="7429429">TestFindSubmatchIndex</span><span class="op" id="7429450">(</span><span class="ident" id="7429451">t</span>&nbsp;<span class="op" id="7429453">*</span><span class="ident" id="7429454">testing</span><span class="op" id="7429461">.</span><span class="ident" id="7429462">T</span><span class="op" id="7429463">)</span>&nbsp;<span class="op" id="7429465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429468">for</span>&nbsp;<span class="ident" id="7429472">_</span><span class="op" id="7429473">,</span>&nbsp;<span class="ident" id="7429475">test</span>&nbsp;<span class="op" id="7429480">:=</span>&nbsp;<span class="keyword" id="7429483">range</span>&nbsp;<span class="ident" id="7429489">findTests</span>&nbsp;<span class="op" id="7429499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429503">testFindSubmatchIndex</span><span class="op" id="7429524">(</span><span class="op" id="7429525">&amp;</span><span class="ident" id="7429526">test</span><span class="op" id="7429530">,</span>&nbsp;<span class="ident" id="7429532">MustCompile</span><span class="op" id="7429543">(</span><span class="ident" id="7429544">test</span><span class="op" id="7429548">.</span><span class="ident" id="7429549">pat</span><span class="op" id="7429552">)</span><span class="op" id="7429553">.</span><span class="ident" id="7429554">FindSubmatchIndex</span><span class="op" id="7429571">(</span><span class="op" id="7429572">[</span><span class="op" id="7429573">]</span><span class="builtintype" id="7429574">byte</span><span class="op" id="7429578">(</span><span class="ident" id="7429579">test</span><span class="op" id="7429583">.</span><span class="ident" id="7429584">text</span><span class="op" id="7429588">)</span><span class="op" id="7429589">)</span><span class="op" id="7429590">,</span>&nbsp;<span class="ident" id="7429592">t</span><span class="op" id="7429593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429596">}</span><br>
<span class="lineno">415</span><span class="op" id="7429598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7429601">func</span>&nbsp;<span class="ident" id="7429606">TestFindStringSubmatchIndex</span><span class="op" id="7429633">(</span><span class="ident" id="7429634">t</span>&nbsp;<span class="op" id="7429636">*</span><span class="ident" id="7429637">testing</span><span class="op" id="7429644">.</span><span class="ident" id="7429645">T</span><span class="op" id="7429646">)</span>&nbsp;<span class="op" id="7429648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429651">for</span>&nbsp;<span class="ident" id="7429655">_</span><span class="op" id="7429656">,</span>&nbsp;<span class="ident" id="7429658">test</span>&nbsp;<span class="op" id="7429663">:=</span>&nbsp;<span class="keyword" id="7429666">range</span>&nbsp;<span class="ident" id="7429672">findTests</span>&nbsp;<span class="op" id="7429682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429686">testFindSubmatchIndex</span><span class="op" id="7429707">(</span><span class="op" id="7429708">&amp;</span><span class="ident" id="7429709">test</span><span class="op" id="7429713">,</span>&nbsp;<span class="ident" id="7429715">MustCompile</span><span class="op" id="7429726">(</span><span class="ident" id="7429727">test</span><span class="op" id="7429731">.</span><span class="ident" id="7429732">pat</span><span class="op" id="7429735">)</span><span class="op" id="7429736">.</span><span class="ident" id="7429737">FindStringSubmatchIndex</span><span class="op" id="7429760">(</span><span class="ident" id="7429761">test</span><span class="op" id="7429765">.</span><span class="ident" id="7429766">text</span><span class="op" id="7429770">)</span><span class="op" id="7429771">,</span>&nbsp;<span class="ident" id="7429773">t</span><span class="op" id="7429774">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429777">}</span><br>
<span class="lineno"></span><span class="op" id="7429779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7429782">func</span>&nbsp;<span class="ident" id="7429787">TestFindReaderSubmatchIndex</span><span class="op" id="7429814">(</span><span class="ident" id="7429815">t</span>&nbsp;<span class="op" id="7429817">*</span><span class="ident" id="7429818">testing</span><span class="op" id="7429825">.</span><span class="ident" id="7429826">T</span><span class="op" id="7429827">)</span>&nbsp;<span class="op" id="7429829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7429832">for</span>&nbsp;<span class="ident" id="7429836">_</span><span class="op" id="7429837">,</span>&nbsp;<span class="ident" id="7429839">test</span>&nbsp;<span class="op" id="7429844">:=</span>&nbsp;<span class="keyword" id="7429847">range</span>&nbsp;<span class="ident" id="7429853">findTests</span>&nbsp;<span class="op" id="7429863">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7429867">testFindSubmatchIndex</span><span class="op" id="7429888">(</span><span class="op" id="7429889">&amp;</span><span class="ident" id="7429890">test</span><span class="op" id="7429894">,</span>&nbsp;<span class="ident" id="7429896">MustCompile</span><span class="op" id="7429907">(</span><span class="ident" id="7429908">test</span><span class="op" id="7429912">.</span><span class="ident" id="7429913">pat</span><span class="op" id="7429916">)</span><span class="op" id="7429917">.</span><span class="ident" id="7429918">FindReaderSubmatchIndex</span><span class="op" id="7429941">(</span><span class="ident" id="7429942">strings</span><span class="op" id="7429949">.</span><span class="ident" id="7429950">NewReader</span><span class="op" id="7429959">(</span><span class="ident" id="7429960">test</span><span class="op" id="7429964">.</span><span class="ident" id="7429965">text</span><span class="op" id="7429969">)</span><span class="op" id="7429970">)</span><span class="op" id="7429971">,</span>&nbsp;<span class="ident" id="7429973">t</span><span class="op" id="7429974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7429977">}</span><br>
<span class="lineno"></span><span class="op" id="7429979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7429982">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7430026">func</span>&nbsp;<span class="ident" id="7430031">TestFindAllSubmatch</span><span class="op" id="7430050">(</span><span class="ident" id="7430051">t</span>&nbsp;<span class="op" id="7430053">*</span><span class="ident" id="7430054">testing</span><span class="op" id="7430061">.</span><span class="ident" id="7430062">T</span><span class="op" id="7430063">)</span>&nbsp;<span class="op" id="7430065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430068">for</span>&nbsp;<span class="ident" id="7430072">_</span><span class="op" id="7430073">,</span>&nbsp;<span class="ident" id="7430075">test</span>&nbsp;<span class="op" id="7430080">:=</span>&nbsp;<span class="keyword" id="7430083">range</span>&nbsp;<span class="ident" id="7430089">findTests</span>&nbsp;<span class="op" id="7430099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430103">result</span>&nbsp;<span class="op" id="7430110">:=</span>&nbsp;<span class="ident" id="7430113">MustCompile</span><span class="op" id="7430124">(</span><span class="ident" id="7430125">test</span><span class="op" id="7430129">.</span><span class="ident" id="7430130">pat</span><span class="op" id="7430133">)</span><span class="op" id="7430134">.</span><span class="ident" id="7430135">FindAllSubmatch</span><span class="op" id="7430150">(</span><span class="op" id="7430151">[</span><span class="op" id="7430152">]</span><span class="builtintype" id="7430153">byte</span><span class="op" id="7430157">(</span><span class="ident" id="7430158">test</span><span class="op" id="7430162">.</span><span class="ident" id="7430163">text</span><span class="op" id="7430167">)</span><span class="op" id="7430168">,</span>&nbsp;<span class="op" id="7430170">-</span><span class="num" id="7430171">1</span><span class="op" id="7430172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430176">switch</span>&nbsp;<span class="op" id="7430183">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430187">case</span>&nbsp;<span class="ident" id="7430192">test</span><span class="op" id="7430196">.</span><span class="ident" id="7430197">matches</span>&nbsp;<span class="op" id="7430205">==</span>&nbsp;<span class="ident" id="7430208">nil</span>&nbsp;<span class="op" id="7430212">&amp;&amp;</span>&nbsp;<span class="ident" id="7430215">result</span>&nbsp;<span class="op" id="7430222">==</span>&nbsp;<span class="ident" id="7430225">nil</span><span class="op" id="7430228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7430233">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430241">case</span>&nbsp;<span class="ident" id="7430246">test</span><span class="op" id="7430250">.</span><span class="ident" id="7430251">matches</span>&nbsp;<span class="op" id="7430259">==</span>&nbsp;<span class="ident" id="7430262">nil</span>&nbsp;<span class="op" id="7430266">&amp;&amp;</span>&nbsp;<span class="ident" id="7430269">result</span>&nbsp;<span class="op" id="7430276">!=</span>&nbsp;<span class="ident" id="7430279">nil</span><span class="op" id="7430282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430287">t</span><span class="op" id="7430288">.</span><span class="ident" id="7430289">Errorf</span><span class="op" id="7430295">(</span><span class="string" id="7430296">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7430328">,</span>&nbsp;<span class="ident" id="7430330">test</span><span class="op" id="7430334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430338">case</span>&nbsp;<span class="ident" id="7430343">test</span><span class="op" id="7430347">.</span><span class="ident" id="7430348">matches</span>&nbsp;<span class="op" id="7430356">!=</span>&nbsp;<span class="ident" id="7430359">nil</span>&nbsp;<span class="op" id="7430363">&amp;&amp;</span>&nbsp;<span class="ident" id="7430366">result</span>&nbsp;<span class="op" id="7430373">==</span>&nbsp;<span class="ident" id="7430376">nil</span><span class="op" id="7430379">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430384">t</span><span class="op" id="7430385">.</span><span class="ident" id="7430386">Errorf</span><span class="op" id="7430392">(</span><span class="string" id="7430393">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7430423">,</span>&nbsp;<span class="ident" id="7430425">test</span><span class="op" id="7430429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430433">case</span>&nbsp;<span class="builtinfunc" id="7430438">len</span><span class="op" id="7430441">(</span><span class="ident" id="7430442">test</span><span class="op" id="7430446">.</span><span class="ident" id="7430447">matches</span><span class="op" id="7430454">)</span>&nbsp;<span class="op" id="7430456">!=</span>&nbsp;<span class="builtinfunc" id="7430459">len</span><span class="op" id="7430462">(</span><span class="ident" id="7430463">result</span><span class="op" id="7430469">)</span><span class="op" id="7430470">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430475">t</span><span class="op" id="7430476">.</span><span class="ident" id="7430477">Errorf</span><span class="op" id="7430483">(</span><span class="string" id="7430484">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7430517">,</span>&nbsp;<span class="builtinfunc" id="7430519">len</span><span class="op" id="7430522">(</span><span class="ident" id="7430523">test</span><span class="op" id="7430527">.</span><span class="ident" id="7430528">matches</span><span class="op" id="7430535">)</span><span class="op" id="7430536">,</span>&nbsp;<span class="builtinfunc" id="7430538">len</span><span class="op" id="7430541">(</span><span class="ident" id="7430542">result</span><span class="op" id="7430548">)</span><span class="op" id="7430549">,</span>&nbsp;<span class="ident" id="7430551">test</span><span class="op" id="7430555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430559">case</span>&nbsp;<span class="ident" id="7430564">test</span><span class="op" id="7430568">.</span><span class="ident" id="7430569">matches</span>&nbsp;<span class="op" id="7430577">!=</span>&nbsp;<span class="ident" id="7430580">nil</span>&nbsp;<span class="op" id="7430584">&amp;&amp;</span>&nbsp;<span class="ident" id="7430587">result</span>&nbsp;<span class="op" id="7430594">!=</span>&nbsp;<span class="ident" id="7430597">nil</span><span class="op" id="7430600">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430605">for</span>&nbsp;<span class="ident" id="7430609">k</span><span class="op" id="7430610">,</span>&nbsp;<span class="ident" id="7430612">match</span>&nbsp;<span class="op" id="7430618">:=</span>&nbsp;<span class="keyword" id="7430621">range</span>&nbsp;<span class="ident" id="7430627">test</span><span class="op" id="7430631">.</span><span class="ident" id="7430632">matches</span>&nbsp;<span class="op" id="7430640">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430646">testSubmatchBytes</span><span class="op" id="7430663">(</span><span class="op" id="7430664">&amp;</span><span class="ident" id="7430665">test</span><span class="op" id="7430669">,</span>&nbsp;<span class="ident" id="7430671">k</span><span class="op" id="7430672">,</span>&nbsp;<span class="ident" id="7430674">match</span><span class="op" id="7430679">,</span>&nbsp;<span class="ident" id="7430681">result</span><span class="op" id="7430687">[</span><span class="ident" id="7430688">k</span><span class="op" id="7430689">]</span><span class="op" id="7430690">,</span>&nbsp;<span class="ident" id="7430692">t</span><span class="op" id="7430693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7430705">}</span><br>
<span class="lineno"></span><span class="op" id="7430707">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7430710">func</span>&nbsp;<span class="ident" id="7430715">TestFindAllStringSubmatch</span><span class="op" id="7430740">(</span><span class="ident" id="7430741">t</span>&nbsp;<span class="op" id="7430743">*</span><span class="ident" id="7430744">testing</span><span class="op" id="7430751">.</span><span class="ident" id="7430752">T</span><span class="op" id="7430753">)</span>&nbsp;<span class="op" id="7430755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430758">for</span>&nbsp;<span class="ident" id="7430762">_</span><span class="op" id="7430763">,</span>&nbsp;<span class="ident" id="7430765">test</span>&nbsp;<span class="op" id="7430770">:=</span>&nbsp;<span class="keyword" id="7430773">range</span>&nbsp;<span class="ident" id="7430779">findTests</span>&nbsp;<span class="op" id="7430789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430793">result</span>&nbsp;<span class="op" id="7430800">:=</span>&nbsp;<span class="ident" id="7430803">MustCompile</span><span class="op" id="7430814">(</span><span class="ident" id="7430815">test</span><span class="op" id="7430819">.</span><span class="ident" id="7430820">pat</span><span class="op" id="7430823">)</span><span class="op" id="7430824">.</span><span class="ident" id="7430825">FindAllStringSubmatch</span><span class="op" id="7430846">(</span><span class="ident" id="7430847">test</span><span class="op" id="7430851">.</span><span class="ident" id="7430852">text</span><span class="op" id="7430856">,</span>&nbsp;<span class="op" id="7430858">-</span><span class="num" id="7430859">1</span><span class="op" id="7430860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430864">switch</span>&nbsp;<span class="op" id="7430871">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430875">case</span>&nbsp;<span class="ident" id="7430880">test</span><span class="op" id="7430884">.</span><span class="ident" id="7430885">matches</span>&nbsp;<span class="op" id="7430893">==</span>&nbsp;<span class="ident" id="7430896">nil</span>&nbsp;<span class="op" id="7430900">&amp;&amp;</span>&nbsp;<span class="ident" id="7430903">result</span>&nbsp;<span class="op" id="7430910">==</span>&nbsp;<span class="ident" id="7430913">nil</span><span class="op" id="7430916">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7430921">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7430929">case</span>&nbsp;<span class="ident" id="7430934">test</span><span class="op" id="7430938">.</span><span class="ident" id="7430939">matches</span>&nbsp;<span class="op" id="7430947">==</span>&nbsp;<span class="ident" id="7430950">nil</span>&nbsp;<span class="op" id="7430954">&amp;&amp;</span>&nbsp;<span class="ident" id="7430957">result</span>&nbsp;<span class="op" id="7430964">!=</span>&nbsp;<span class="ident" id="7430967">nil</span><span class="op" id="7430970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7430975">t</span><span class="op" id="7430976">.</span><span class="ident" id="7430977">Errorf</span><span class="op" id="7430983">(</span><span class="string" id="7430984">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7431016">,</span>&nbsp;<span class="ident" id="7431018">test</span><span class="op" id="7431022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431026">case</span>&nbsp;<span class="ident" id="7431031">test</span><span class="op" id="7431035">.</span><span class="ident" id="7431036">matches</span>&nbsp;<span class="op" id="7431044">!=</span>&nbsp;<span class="ident" id="7431047">nil</span>&nbsp;<span class="op" id="7431051">&amp;&amp;</span>&nbsp;<span class="ident" id="7431054">result</span>&nbsp;<span class="op" id="7431061">==</span>&nbsp;<span class="ident" id="7431064">nil</span><span class="op" id="7431067">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431072">t</span><span class="op" id="7431073">.</span><span class="ident" id="7431074">Errorf</span><span class="op" id="7431080">(</span><span class="string" id="7431081">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7431111">,</span>&nbsp;<span class="ident" id="7431113">test</span><span class="op" id="7431117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431121">case</span>&nbsp;<span class="builtinfunc" id="7431126">len</span><span class="op" id="7431129">(</span><span class="ident" id="7431130">test</span><span class="op" id="7431134">.</span><span class="ident" id="7431135">matches</span><span class="op" id="7431142">)</span>&nbsp;<span class="op" id="7431144">!=</span>&nbsp;<span class="builtinfunc" id="7431147">len</span><span class="op" id="7431150">(</span><span class="ident" id="7431151">result</span><span class="op" id="7431157">)</span><span class="op" id="7431158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431163">t</span><span class="op" id="7431164">.</span><span class="ident" id="7431165">Errorf</span><span class="op" id="7431171">(</span><span class="string" id="7431172">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7431205">,</span>&nbsp;<span class="builtinfunc" id="7431207">len</span><span class="op" id="7431210">(</span><span class="ident" id="7431211">test</span><span class="op" id="7431215">.</span><span class="ident" id="7431216">matches</span><span class="op" id="7431223">)</span><span class="op" id="7431224">,</span>&nbsp;<span class="builtinfunc" id="7431226">len</span><span class="op" id="7431229">(</span><span class="ident" id="7431230">result</span><span class="op" id="7431236">)</span><span class="op" id="7431237">,</span>&nbsp;<span class="ident" id="7431239">test</span><span class="op" id="7431243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431247">case</span>&nbsp;<span class="ident" id="7431252">test</span><span class="op" id="7431256">.</span><span class="ident" id="7431257">matches</span>&nbsp;<span class="op" id="7431265">!=</span>&nbsp;<span class="ident" id="7431268">nil</span>&nbsp;<span class="op" id="7431272">&amp;&amp;</span>&nbsp;<span class="ident" id="7431275">result</span>&nbsp;<span class="op" id="7431282">!=</span>&nbsp;<span class="ident" id="7431285">nil</span><span class="op" id="7431288">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431293">for</span>&nbsp;<span class="ident" id="7431297">k</span><span class="op" id="7431298">,</span>&nbsp;<span class="ident" id="7431300">match</span>&nbsp;<span class="op" id="7431306">:=</span>&nbsp;<span class="keyword" id="7431309">range</span>&nbsp;<span class="ident" id="7431315">test</span><span class="op" id="7431319">.</span><span class="ident" id="7431320">matches</span>&nbsp;<span class="op" id="7431328">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431334">testSubmatchString</span><span class="op" id="7431352">(</span><span class="op" id="7431353">&amp;</span><span class="ident" id="7431354">test</span><span class="op" id="7431358">,</span>&nbsp;<span class="ident" id="7431360">k</span><span class="op" id="7431361">,</span>&nbsp;<span class="ident" id="7431363">match</span><span class="op" id="7431368">,</span>&nbsp;<span class="ident" id="7431370">result</span><span class="op" id="7431376">[</span><span class="ident" id="7431377">k</span><span class="op" id="7431378">]</span><span class="op" id="7431379">,</span>&nbsp;<span class="ident" id="7431381">t</span><span class="op" id="7431382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431394">}</span><br>
<span class="lineno"></span><span class="op" id="7431396">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7431399">func</span>&nbsp;<span class="ident" id="7431404">testFindAllSubmatchIndex</span><span class="op" id="7431428">(</span><span class="ident" id="7431429">test</span>&nbsp;<span class="op" id="7431434">*</span><span class="ident" id="7431435">FindTest</span><span class="op" id="7431443">,</span>&nbsp;<span class="ident" id="7431445">result</span>&nbsp;<span class="op" id="7431452">[</span><span class="op" id="7431453">]</span><span class="op" id="7431454">[</span><span class="op" id="7431455">]</span><span class="builtintype" id="7431456">int</span><span class="op" id="7431459">,</span>&nbsp;<span class="ident" id="7431461">t</span>&nbsp;<span class="op" id="7431463">*</span><span class="ident" id="7431464">testing</span><span class="op" id="7431471">.</span><span class="ident" id="7431472">T</span><span class="op" id="7431473">)</span>&nbsp;<span class="op" id="7431475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431478">switch</span>&nbsp;<span class="op" id="7431485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431488">case</span>&nbsp;<span class="ident" id="7431493">test</span><span class="op" id="7431497">.</span><span class="ident" id="7431498">matches</span>&nbsp;<span class="op" id="7431506">==</span>&nbsp;<span class="ident" id="7431509">nil</span>&nbsp;<span class="op" id="7431513">&amp;&amp;</span>&nbsp;<span class="ident" id="7431516">result</span>&nbsp;<span class="op" id="7431523">==</span>&nbsp;<span class="ident" id="7431526">nil</span><span class="op" id="7431529">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7431533">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431540">case</span>&nbsp;<span class="ident" id="7431545">test</span><span class="op" id="7431549">.</span><span class="ident" id="7431550">matches</span>&nbsp;<span class="op" id="7431558">==</span>&nbsp;<span class="ident" id="7431561">nil</span>&nbsp;<span class="op" id="7431565">&amp;&amp;</span>&nbsp;<span class="ident" id="7431568">result</span>&nbsp;<span class="op" id="7431575">!=</span>&nbsp;<span class="ident" id="7431578">nil</span><span class="op" id="7431581">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431585">t</span><span class="op" id="7431586">.</span><span class="ident" id="7431587">Errorf</span><span class="op" id="7431593">(</span><span class="string" id="7431594">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7431626">,</span>&nbsp;<span class="ident" id="7431628">test</span><span class="op" id="7431632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431635">case</span>&nbsp;<span class="ident" id="7431640">test</span><span class="op" id="7431644">.</span><span class="ident" id="7431645">matches</span>&nbsp;<span class="op" id="7431653">!=</span>&nbsp;<span class="ident" id="7431656">nil</span>&nbsp;<span class="op" id="7431660">&amp;&amp;</span>&nbsp;<span class="ident" id="7431663">result</span>&nbsp;<span class="op" id="7431670">==</span>&nbsp;<span class="ident" id="7431673">nil</span><span class="op" id="7431676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431680">t</span><span class="op" id="7431681">.</span><span class="ident" id="7431682">Errorf</span><span class="op" id="7431688">(</span><span class="string" id="7431689">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7431719">,</span>&nbsp;<span class="ident" id="7431721">test</span><span class="op" id="7431725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431728">case</span>&nbsp;<span class="builtinfunc" id="7431733">len</span><span class="op" id="7431736">(</span><span class="ident" id="7431737">test</span><span class="op" id="7431741">.</span><span class="ident" id="7431742">matches</span><span class="op" id="7431749">)</span>&nbsp;<span class="op" id="7431751">!=</span>&nbsp;<span class="builtinfunc" id="7431754">len</span><span class="op" id="7431757">(</span><span class="ident" id="7431758">result</span><span class="op" id="7431764">)</span><span class="op" id="7431765">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431769">t</span><span class="op" id="7431770">.</span><span class="ident" id="7431771">Errorf</span><span class="op" id="7431777">(</span><span class="string" id="7431778">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7431811">,</span>&nbsp;<span class="builtinfunc" id="7431813">len</span><span class="op" id="7431816">(</span><span class="ident" id="7431817">test</span><span class="op" id="7431821">.</span><span class="ident" id="7431822">matches</span><span class="op" id="7431829">)</span><span class="op" id="7431830">,</span>&nbsp;<span class="builtinfunc" id="7431832">len</span><span class="op" id="7431835">(</span><span class="ident" id="7431836">result</span><span class="op" id="7431842">)</span><span class="op" id="7431843">,</span>&nbsp;<span class="ident" id="7431845">test</span><span class="op" id="7431849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431852">case</span>&nbsp;<span class="ident" id="7431857">test</span><span class="op" id="7431861">.</span><span class="ident" id="7431862">matches</span>&nbsp;<span class="op" id="7431870">!=</span>&nbsp;<span class="ident" id="7431873">nil</span>&nbsp;<span class="op" id="7431877">&amp;&amp;</span>&nbsp;<span class="ident" id="7431880">result</span>&nbsp;<span class="op" id="7431887">!=</span>&nbsp;<span class="ident" id="7431890">nil</span><span class="op" id="7431893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7431897">for</span>&nbsp;<span class="ident" id="7431901">k</span><span class="op" id="7431902">,</span>&nbsp;<span class="ident" id="7431904">match</span>&nbsp;<span class="op" id="7431910">:=</span>&nbsp;<span class="keyword" id="7431913">range</span>&nbsp;<span class="ident" id="7431919">test</span><span class="op" id="7431923">.</span><span class="ident" id="7431924">matches</span>&nbsp;<span class="op" id="7431932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7431937">testSubmatchIndices</span><span class="op" id="7431956">(</span><span class="ident" id="7431957">test</span><span class="op" id="7431961">,</span>&nbsp;<span class="ident" id="7431963">k</span><span class="op" id="7431964">,</span>&nbsp;<span class="ident" id="7431966">match</span><span class="op" id="7431971">,</span>&nbsp;<span class="ident" id="7431973">result</span><span class="op" id="7431979">[</span><span class="ident" id="7431980">k</span><span class="op" id="7431981">]</span><span class="op" id="7431982">,</span>&nbsp;<span class="ident" id="7431984">t</span><span class="op" id="7431985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431989">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7431992">}</span><br>
<span class="lineno"></span><span class="op" id="7431994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7431997">func</span>&nbsp;<span class="ident" id="7432002">TestFindAllSubmatchIndex</span><span class="op" id="7432026">(</span><span class="ident" id="7432027">t</span>&nbsp;<span class="op" id="7432029">*</span><span class="ident" id="7432030">testing</span><span class="op" id="7432037">.</span><span class="ident" id="7432038">T</span><span class="op" id="7432039">)</span>&nbsp;<span class="op" id="7432041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7432044">for</span>&nbsp;<span class="ident" id="7432048">_</span><span class="op" id="7432049">,</span>&nbsp;<span class="ident" id="7432051">test</span>&nbsp;<span class="op" id="7432056">:=</span>&nbsp;<span class="keyword" id="7432059">range</span>&nbsp;<span class="ident" id="7432065">findTests</span>&nbsp;<span class="op" id="7432075">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432079">testFindAllSubmatchIndex</span><span class="op" id="7432103">(</span><span class="op" id="7432104">&amp;</span><span class="ident" id="7432105">test</span><span class="op" id="7432109">,</span>&nbsp;<span class="ident" id="7432111">MustCompile</span><span class="op" id="7432122">(</span><span class="ident" id="7432123">test</span><span class="op" id="7432127">.</span><span class="ident" id="7432128">pat</span><span class="op" id="7432131">)</span><span class="op" id="7432132">.</span><span class="ident" id="7432133">FindAllSubmatchIndex</span><span class="op" id="7432153">(</span><span class="op" id="7432154">[</span><span class="op" id="7432155">]</span><span class="builtintype" id="7432156">byte</span><span class="op" id="7432160">(</span><span class="ident" id="7432161">test</span><span class="op" id="7432165">.</span><span class="ident" id="7432166">text</span><span class="op" id="7432170">)</span><span class="op" id="7432171">,</span>&nbsp;<span class="op" id="7432173">-</span><span class="num" id="7432174">1</span><span class="op" id="7432175">)</span><span class="op" id="7432176">,</span>&nbsp;<span class="ident" id="7432178">t</span><span class="op" id="7432179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432182">}</span><br>
<span class="lineno"></span><span class="op" id="7432184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7432187">func</span>&nbsp;<span class="ident" id="7432192">TestFindAllStringSubmatchIndex</span><span class="op" id="7432222">(</span><span class="ident" id="7432223">t</span>&nbsp;<span class="op" id="7432225">*</span><span class="ident" id="7432226">testing</span><span class="op" id="7432233">.</span><span class="ident" id="7432234">T</span><span class="op" id="7432235">)</span>&nbsp;<span class="op" id="7432237">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7432240">for</span>&nbsp;<span class="ident" id="7432244">_</span><span class="op" id="7432245">,</span>&nbsp;<span class="ident" id="7432247">test</span>&nbsp;<span class="op" id="7432252">:=</span>&nbsp;<span class="keyword" id="7432255">range</span>&nbsp;<span class="ident" id="7432261">findTests</span>&nbsp;<span class="op" id="7432271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7432275">testFindAllSubmatchIndex</span><span class="op" id="7432299">(</span><span class="op" id="7432300">&amp;</span><span class="ident" id="7432301">test</span><span class="op" id="7432305">,</span>&nbsp;<span class="ident" id="7432307">MustCompile</span><span class="op" id="7432318">(</span><span class="ident" id="7432319">test</span><span class="op" id="7432323">.</span><span class="ident" id="7432324">pat</span><span class="op" id="7432327">)</span><span class="op" id="7432328">.</span><span class="ident" id="7432329">FindAllStringSubmatchIndex</span><span class="op" id="7432355">(</span><span class="ident" id="7432356">test</span><span class="op" id="7432360">.</span><span class="ident" id="7432361">text</span><span class="op" id="7432365">,</span>&nbsp;<span class="op" id="7432367">-</span><span class="num" id="7432368">1</span><span class="op" id="7432369">)</span><span class="op" id="7432370">,</span>&nbsp;<span class="ident" id="7432372">t</span><span class="op" id="7432373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7432376">}</span><br>
<span class="lineno"></span><span class="op" id="7432378">}</span>
</div>
</body>
</html>
