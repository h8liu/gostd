<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5383664">package</span>&nbsp;<span class="ident" id="5383672">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5383679">import</span>&nbsp;<span class="op" id="5383686">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5383689">&#34;bytes&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5383698">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5383717">&#34;fmt&#34;</span><br>
<span class="lineno"></span><span class="op" id="5383723">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5383726">//&nbsp;Line&nbsp;is&nbsp;a&nbsp;disassembled&nbsp;line</span><br>
<span class="lineno">10</span><span class="keyword" id="5383757">type</span>&nbsp;<span class="ident" id="5383762">Line</span>&nbsp;<span class="keyword" id="5383767">struct</span>&nbsp;<span class="op" id="5383774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383777">Addr</span>&nbsp;<span class="builtintype" id="5383782">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383791">Inst</span>&nbsp;<span class="builtintype" id="5383796">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383804">Str</span>&nbsp;&nbsp;<span class="builtintype" id="5383809">string</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383818">IsJump</span>&nbsp;<span class="builtintype" id="5383825">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383831">To</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5383838">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383846">ToLine</span>&nbsp;<span class="op" id="5383853">*</span><span class="ident" id="5383854"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383762">Line</a></span><br>
<span class="lineno"></span><span class="op" id="5383859">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="5383862">func</span>&nbsp;<span class="ident" id="5383867">printables</span><span class="op" id="5383877">(</span><span class="ident" id="5383878">bs</span>&nbsp;<span class="op" id="5383881">[</span><span class="op" id="5383882">]</span><span class="builtintype" id="5383883">byte</span><span class="op" id="5383887">)</span>&nbsp;<span class="builtintype" id="5383889">string</span>&nbsp;<span class="op" id="5383896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383899">ret</span>&nbsp;<span class="op" id="5383903">:=</span>&nbsp;<span class="string" id="5383906">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383910">for</span>&nbsp;<span class="ident" id="5383914">_</span><span class="op" id="5383915">,</span>&nbsp;<span class="ident" id="5383917">b</span>&nbsp;<span class="op" id="5383919">:=</span>&nbsp;<span class="keyword" id="5383922">range</span>&nbsp;<span class="ident" id="5383928"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383878">bs</a></span>&nbsp;<span class="op" id="5383931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383935">r</span>&nbsp;<span class="op" id="5383937">:=</span>&nbsp;<span class="builtintype" id="5383940">rune</span><span class="op" id="5383944">(</span><span class="ident" id="5383945"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383917">b</a></span><span class="op" id="5383946">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383950">if</span>&nbsp;<span class="ident" id="5383953"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383935">r</a></span>&nbsp;<span class="op" id="5383955">&gt;=</span>&nbsp;<span class="string" id="5383958">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="5383962">&amp;&amp;</span>&nbsp;<span class="ident" id="5383965"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383935">r</a></span>&nbsp;<span class="op" id="5383967">&lt;=</span>&nbsp;<span class="string" id="5383970">&#39;~&#39;</span>&nbsp;<span class="op" id="5383974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383979"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383899">ret</a></span>&nbsp;<span class="op" id="5383983">+=</span>&nbsp;<span class="builtintype" id="5383986">string</span><span class="op" id="5383992">(</span><span class="ident" id="5383993"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383935">r</a></span><span class="op" id="5383994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383998">}</span>&nbsp;<span class="keyword" id="5384000">else</span>&nbsp;<span class="op" id="5384005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384010"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383899">ret</a></span>&nbsp;<span class="op" id="5384014">+=</span>&nbsp;<span class="string" id="5384017">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384023">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384029">return</span>&nbsp;<span class="ident" id="5384036"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383899">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5384040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5384043">var</span>&nbsp;<span class="ident" id="5384047">enc</span>&nbsp;<span class="op" id="5384051">=</span>&nbsp;<span class="ident" id="5384053"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383698">binary</a></span><span class="op" id="5384059">.</span><span class="ident" id="5384060">LittleEndian</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="5384074">func</span>&nbsp;<span class="op" id="5384079">(</span><span class="ident" id="5384080">line</span>&nbsp;<span class="op" id="5384085">*</span><span class="ident" id="5384086"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383762">Line</a></span><span class="op" id="5384090">)</span>&nbsp;<span class="ident" id="5384092">String</span><span class="op" id="5384098">(</span><span class="op" id="5384099">)</span>&nbsp;<span class="builtintype" id="5384101">string</span>&nbsp;<span class="op" id="5384108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384111">ret</span>&nbsp;<span class="op" id="5384115">:=</span>&nbsp;<span class="builtinfunc" id="5384118">new</span><span class="op" id="5384121">(</span><span class="ident" id="5384122"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383689">bytes</a></span><span class="op" id="5384127">.</span><span class="ident" id="5384128">Buffer</span><span class="op" id="5384134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384137">var</span>&nbsp;<span class="ident" id="5384141">buf</span>&nbsp;<span class="op" id="5384145">[</span><span class="num" id="5384146">4</span><span class="op" id="5384147">]</span><span class="builtintype" id="5384148">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384154"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384047">enc</a></span><span class="op" id="5384157">.</span><span class="ident" id="5384158">PutUint32</span><span class="op" id="5384167">(</span><span class="ident" id="5384168"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384141">buf</a></span><span class="op" id="5384171">[</span><span class="op" id="5384172">:</span><span class="op" id="5384173">]</span><span class="op" id="5384174">,</span>&nbsp;<span class="ident" id="5384176"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384080">line</a></span><span class="op" id="5384180">.</span><span class="ident" id="5384181">Inst</span><span class="op" id="5384185">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384189"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383717">fmt</a></span><span class="op" id="5384192">.</span><span class="ident" id="5384193">Fprintf</span><span class="op" id="5384200">(</span><span class="ident" id="5384201"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384111">ret</a></span><span class="op" id="5384204">,</span>&nbsp;<span class="string" id="5384206">&#34;%08x:&nbsp;&nbsp;%&nbsp;02x&#34;</span><span class="op" id="5384220">,</span>&nbsp;<span class="ident" id="5384222"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384080">line</a></span><span class="op" id="5384226">.</span><span class="ident" id="5384227">Addr</span><span class="op" id="5384231">,</span>&nbsp;<span class="ident" id="5384233"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384141">buf</a></span><span class="op" id="5384236">[</span><span class="op" id="5384237">:</span><span class="op" id="5384238">]</span><span class="op" id="5384239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384242"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383717">fmt</a></span><span class="op" id="5384245">.</span><span class="ident" id="5384246">Fprintf</span><span class="op" id="5384253">(</span><span class="ident" id="5384254"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384111">ret</a></span><span class="op" id="5384257">,</span>&nbsp;<span class="string" id="5384259">&#34;&nbsp;&nbsp;&nbsp;%s&#34;</span><span class="op" id="5384266">,</span>&nbsp;<span class="ident" id="5384268"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383867">printables</a></span><span class="op" id="5384278">(</span><span class="ident" id="5384279"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384141">buf</a></span><span class="op" id="5384282">[</span><span class="op" id="5384283">:</span><span class="op" id="5384284">]</span><span class="op" id="5384285">)</span><span class="op" id="5384286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384289"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383717">fmt</a></span><span class="op" id="5384292">.</span><span class="ident" id="5384293">Fprintf</span><span class="op" id="5384300">(</span><span class="ident" id="5384301"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384111">ret</a></span><span class="op" id="5384304">,</span>&nbsp;<span class="string" id="5384306">&#34;&nbsp;&nbsp;&nbsp;&nbsp;%s&#34;</span><span class="op" id="5384314">,</span>&nbsp;<span class="ident" id="5384316"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384080">line</a></span><span class="op" id="5384320">.</span><span class="ident" id="5384321">Str</span><span class="op" id="5384324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384327">if</span>&nbsp;<span class="ident" id="5384330"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384080">line</a></span><span class="op" id="5384334">.</span><span class="ident" id="5384335">IsJump</span>&nbsp;<span class="op" id="5384342">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384346"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383717">fmt</a></span><span class="op" id="5384349">.</span><span class="ident" id="5384350">Fprintf</span><span class="op" id="5384357">(</span><span class="ident" id="5384358"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384111">ret</a></span><span class="op" id="5384361">,</span>&nbsp;<span class="string" id="5384363">&#34;&nbsp;&nbsp;&nbsp;//&nbsp;%08x&#34;</span><span class="op" id="5384375">,</span>&nbsp;<span class="ident" id="5384377"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384080">line</a></span><span class="op" id="5384381">.</span><span class="ident" id="5384382">To</span><span class="op" id="5384384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384391">return</span>&nbsp;<span class="ident" id="5384398"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384111">ret</a></span><span class="op" id="5384401">.</span><span class="ident" id="5384402">String</span><span class="op" id="5384408">(</span><span class="op" id="5384409">)</span><br>
<span class="lineno"></span><span class="op" id="5384411">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5384414">func</span>&nbsp;<span class="ident" id="5384419">newLine</span><span class="op" id="5384426">(</span><span class="ident" id="5384427">addr</span>&nbsp;<span class="builtintype" id="5384432">uint32</span><span class="op" id="5384438">,</span>&nbsp;<span class="ident" id="5384440">in</span>&nbsp;<span class="builtintype" id="5384443">uint32</span><span class="op" id="5384449">)</span>&nbsp;<span class="op" id="5384451">*</span><span class="ident" id="5384452"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383762">Line</a></span>&nbsp;<span class="op" id="5384457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384460">ret</span>&nbsp;<span class="op" id="5384464">:=</span>&nbsp;<span class="builtinfunc" id="5384467">new</span><span class="op" id="5384470">(</span><span class="ident" id="5384471"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383762">Line</a></span><span class="op" id="5384475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384478"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384460">ret</a></span><span class="op" id="5384481">.</span><span class="ident" id="5384482">Addr</span>&nbsp;<span class="op" id="5384487">=</span>&nbsp;<span class="ident" id="5384489"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384427">addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384495"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384460">ret</a></span><span class="op" id="5384498">.</span><span class="ident" id="5384499">Inst</span>&nbsp;<span class="op" id="5384504">=</span>&nbsp;<span class="ident" id="5384506"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384440">in</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384510">return</span>&nbsp;<span class="ident" id="5384517"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384460">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5384521">}</span>
</div>
</body>
</html>
