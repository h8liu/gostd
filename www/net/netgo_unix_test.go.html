<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6878890">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6878945">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6878999">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6879050">//&nbsp;+build&nbsp;!cgo&nbsp;netgo</span><br>
<span class="lineno"></span><span class="comment" id="6879071">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6879136">package</span>&nbsp;<span class="ident" id="6879144">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="6879149">import</span>&nbsp;<span class="string" id="6879156">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6879167">func</span>&nbsp;<span class="ident" id="6879172">TestGoLookupIP</span><span class="op" id="6879186">(</span><span class="ident" id="6879187">t</span>&nbsp;<span class="op" id="6879189">*</span><span class="ident" id="6879190"><a href="/net/netgo_unix_test.go.html#6879156">testing</a></span><span class="op" id="6879197">.</span><span class="ident" id="6879198">T</span><span class="op" id="6879199">)</span>&nbsp;<span class="op" id="6879201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879204">host</span>&nbsp;<span class="op" id="6879209">:=</span>&nbsp;<span class="string" id="6879212">&#34;localhost&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879225">_</span><span class="op" id="6879226">,</span>&nbsp;<span class="ident" id="6879228">err</span><span class="op" id="6879231">,</span>&nbsp;<span class="ident" id="6879233">ok</span>&nbsp;<span class="op" id="6879236">:=</span>&nbsp;<span class="ident" id="6879239"><a href="/net/cgo_stub.go.html#2517165">cgoLookupIP</a></span><span class="op" id="6879250">(</span><span class="ident" id="6879251"><a href="/net/netgo_unix_test.go.html#6879204">host</a></span><span class="op" id="6879255">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879258">if</span>&nbsp;<span class="ident" id="6879261"><a href="/net/netgo_unix_test.go.html#6879233">ok</a></span>&nbsp;<span class="op" id="6879264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879268"><a href="/net/netgo_unix_test.go.html#6879187">t</a></span><span class="op" id="6879269">.</span><span class="ident" id="6879270">Errorf</span><span class="op" id="6879276">(</span><span class="string" id="6879277">&#34;cgoLookupIP&nbsp;must&nbsp;be&nbsp;a&nbsp;placeholder&#34;</span><span class="op" id="6879312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879318">if</span>&nbsp;<span class="ident" id="6879321"><a href="/net/netgo_unix_test.go.html#6879228">err</a></span>&nbsp;<span class="op" id="6879325">!=</span>&nbsp;<span class="ident" id="6879328">nil</span>&nbsp;<span class="op" id="6879332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879336"><a href="/net/netgo_unix_test.go.html#6879187">t</a></span><span class="op" id="6879337">.</span><span class="ident" id="6879338">Errorf</span><span class="op" id="6879344">(</span><span class="string" id="6879345">&#34;cgoLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6879369">,</span>&nbsp;<span class="ident" id="6879371"><a href="/net/netgo_unix_test.go.html#6879228">err</a></span><span class="op" id="6879374">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6879380">if</span>&nbsp;<span class="ident" id="6879383">_</span><span class="op" id="6879384">,</span>&nbsp;<span class="ident" id="6879386">err</span>&nbsp;<span class="op" id="6879390">:=</span>&nbsp;<span class="ident" id="6879393"><a href="/net/dnsclient_unix.go.html#2541824">goLookupIP</a></span><span class="op" id="6879403">(</span><span class="ident" id="6879404"><a href="/net/netgo_unix_test.go.html#6879204">host</a></span><span class="op" id="6879408">)</span><span class="op" id="6879409">;</span>&nbsp;<span class="ident" id="6879411"><a href="/net/netgo_unix_test.go.html#6879386">err</a></span>&nbsp;<span class="op" id="6879415">!=</span>&nbsp;<span class="ident" id="6879418">nil</span>&nbsp;<span class="op" id="6879422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6879426"><a href="/net/netgo_unix_test.go.html#6879187">t</a></span><span class="op" id="6879427">.</span><span class="ident" id="6879428">Errorf</span><span class="op" id="6879434">(</span><span class="string" id="6879435">&#34;goLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6879458">,</span>&nbsp;<span class="ident" id="6879460"><a href="/net/netgo_unix_test.go.html#6879386">err</a></span><span class="op" id="6879463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6879466">}</span><br>
<span class="lineno"></span><span class="op" id="6879468">}</span>
</div>
</body>
</html>
