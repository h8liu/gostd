<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html" class="current">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7155258">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7155313">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7155367">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7155418">package</span>&nbsp;<span class="ident" id="7155426">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7155434">import</span>&nbsp;<span class="op" id="7155441">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7155444">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7155451">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7155462">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7155472">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7155475">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7155552">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7155632">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7155715">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7155793">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7155840">type</span>&nbsp;<span class="ident" id="7155845">FindTest</span>&nbsp;<span class="keyword" id="7155854">struct</span>&nbsp;<span class="op" id="7155861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155864">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7155872">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155880">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7155888">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7155896">matches</span>&nbsp;<span class="op" id="7155904">[</span><span class="op" id="7155905">]</span><span class="op" id="7155906">[</span><span class="op" id="7155907">]</span><span class="builtintype" id="7155908">int</span><br>
<span class="lineno"></span><span class="op" id="7155912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7155915">func</span>&nbsp;<span class="op" id="7155920">(</span><span class="ident" id="7155921">t</span>&nbsp;<span class="ident" id="7155923">FindTest</span><span class="op" id="7155931">)</span>&nbsp;<span class="ident" id="7155933">String</span><span class="op" id="7155939">(</span><span class="op" id="7155940">)</span>&nbsp;<span class="builtintype" id="7155942">string</span>&nbsp;<span class="op" id="7155949">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7155952">return</span>&nbsp;<span class="ident" id="7155959">fmt</span><span class="op" id="7155962">.</span><span class="ident" id="7155963">Sprintf</span><span class="op" id="7155970">(</span><span class="string" id="7155971">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7155991">,</span>&nbsp;<span class="ident" id="7155993">t</span><span class="op" id="7155994">.</span><span class="ident" id="7155995">pat</span><span class="op" id="7155998">,</span>&nbsp;<span class="ident" id="7156000">t</span><span class="op" id="7156001">.</span><span class="ident" id="7156002">text</span><span class="op" id="7156006">)</span><br>
<span class="lineno"></span><span class="op" id="7156008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7156011">var</span>&nbsp;<span class="ident" id="7156015">findTests</span>&nbsp;<span class="op" id="7156025">=</span>&nbsp;<span class="op" id="7156027">[</span><span class="op" id="7156028">]</span><span class="ident" id="7156029">FindTest</span><span class="op" id="7156037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156040">{</span><span class="string" id="7156041">``</span><span class="op" id="7156043">,</span>&nbsp;<span class="string" id="7156045">``</span><span class="op" id="7156047">,</span>&nbsp;<span class="ident" id="7156049">build</span><span class="op" id="7156054">(</span><span class="num" id="7156055">1</span><span class="op" id="7156056">,</span>&nbsp;<span class="num" id="7156058">0</span><span class="op" id="7156059">,</span>&nbsp;<span class="num" id="7156061">0</span><span class="op" id="7156062">)</span><span class="op" id="7156063">}</span><span class="op" id="7156064">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156067">{</span><span class="string" id="7156068">`^abcdefg`</span><span class="op" id="7156078">,</span>&nbsp;<span class="string" id="7156080">&#34;abcdefg&#34;</span><span class="op" id="7156089">,</span>&nbsp;<span class="ident" id="7156091">build</span><span class="op" id="7156096">(</span><span class="num" id="7156097">1</span><span class="op" id="7156098">,</span>&nbsp;<span class="num" id="7156100">0</span><span class="op" id="7156101">,</span>&nbsp;<span class="num" id="7156103">7</span><span class="op" id="7156104">)</span><span class="op" id="7156105">}</span><span class="op" id="7156106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156109">{</span><span class="string" id="7156110">`a+`</span><span class="op" id="7156114">,</span>&nbsp;<span class="string" id="7156116">&#34;baaab&#34;</span><span class="op" id="7156123">,</span>&nbsp;<span class="ident" id="7156125">build</span><span class="op" id="7156130">(</span><span class="num" id="7156131">1</span><span class="op" id="7156132">,</span>&nbsp;<span class="num" id="7156134">1</span><span class="op" id="7156135">,</span>&nbsp;<span class="num" id="7156137">4</span><span class="op" id="7156138">)</span><span class="op" id="7156139">}</span><span class="op" id="7156140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156143">{</span><span class="string" id="7156144">&#34;abcd..&#34;</span><span class="op" id="7156152">,</span>&nbsp;<span class="string" id="7156154">&#34;abcdef&#34;</span><span class="op" id="7156162">,</span>&nbsp;<span class="ident" id="7156164">build</span><span class="op" id="7156169">(</span><span class="num" id="7156170">1</span><span class="op" id="7156171">,</span>&nbsp;<span class="num" id="7156173">0</span><span class="op" id="7156174">,</span>&nbsp;<span class="num" id="7156176">6</span><span class="op" id="7156177">)</span><span class="op" id="7156178">}</span><span class="op" id="7156179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156182">{</span><span class="string" id="7156183">`a`</span><span class="op" id="7156186">,</span>&nbsp;<span class="string" id="7156188">&#34;a&#34;</span><span class="op" id="7156191">,</span>&nbsp;<span class="ident" id="7156193">build</span><span class="op" id="7156198">(</span><span class="num" id="7156199">1</span><span class="op" id="7156200">,</span>&nbsp;<span class="num" id="7156202">0</span><span class="op" id="7156203">,</span>&nbsp;<span class="num" id="7156205">1</span><span class="op" id="7156206">)</span><span class="op" id="7156207">}</span><span class="op" id="7156208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156211">{</span><span class="string" id="7156212">`x`</span><span class="op" id="7156215">,</span>&nbsp;<span class="string" id="7156217">&#34;y&#34;</span><span class="op" id="7156220">,</span>&nbsp;<span class="builtintype" id="7156222">nil</span><span class="op" id="7156225">}</span><span class="op" id="7156226">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156229">{</span><span class="string" id="7156230">`b`</span><span class="op" id="7156233">,</span>&nbsp;<span class="string" id="7156235">&#34;abc&#34;</span><span class="op" id="7156240">,</span>&nbsp;<span class="ident" id="7156242">build</span><span class="op" id="7156247">(</span><span class="num" id="7156248">1</span><span class="op" id="7156249">,</span>&nbsp;<span class="num" id="7156251">1</span><span class="op" id="7156252">,</span>&nbsp;<span class="num" id="7156254">2</span><span class="op" id="7156255">)</span><span class="op" id="7156256">}</span><span class="op" id="7156257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156260">{</span><span class="string" id="7156261">`.`</span><span class="op" id="7156264">,</span>&nbsp;<span class="string" id="7156266">&#34;a&#34;</span><span class="op" id="7156269">,</span>&nbsp;<span class="ident" id="7156271">build</span><span class="op" id="7156276">(</span><span class="num" id="7156277">1</span><span class="op" id="7156278">,</span>&nbsp;<span class="num" id="7156280">0</span><span class="op" id="7156281">,</span>&nbsp;<span class="num" id="7156283">1</span><span class="op" id="7156284">)</span><span class="op" id="7156285">}</span><span class="op" id="7156286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156289">{</span><span class="string" id="7156290">`.*`</span><span class="op" id="7156294">,</span>&nbsp;<span class="string" id="7156296">&#34;abcdef&#34;</span><span class="op" id="7156304">,</span>&nbsp;<span class="ident" id="7156306">build</span><span class="op" id="7156311">(</span><span class="num" id="7156312">1</span><span class="op" id="7156313">,</span>&nbsp;<span class="num" id="7156315">0</span><span class="op" id="7156316">,</span>&nbsp;<span class="num" id="7156318">6</span><span class="op" id="7156319">)</span><span class="op" id="7156320">}</span><span class="op" id="7156321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156324">{</span><span class="string" id="7156325">`^`</span><span class="op" id="7156328">,</span>&nbsp;<span class="string" id="7156330">&#34;abcde&#34;</span><span class="op" id="7156337">,</span>&nbsp;<span class="ident" id="7156339">build</span><span class="op" id="7156344">(</span><span class="num" id="7156345">1</span><span class="op" id="7156346">,</span>&nbsp;<span class="num" id="7156348">0</span><span class="op" id="7156349">,</span>&nbsp;<span class="num" id="7156351">0</span><span class="op" id="7156352">)</span><span class="op" id="7156353">}</span><span class="op" id="7156354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156357">{</span><span class="string" id="7156358">`$`</span><span class="op" id="7156361">,</span>&nbsp;<span class="string" id="7156363">&#34;abcde&#34;</span><span class="op" id="7156370">,</span>&nbsp;<span class="ident" id="7156372">build</span><span class="op" id="7156377">(</span><span class="num" id="7156378">1</span><span class="op" id="7156379">,</span>&nbsp;<span class="num" id="7156381">5</span><span class="op" id="7156382">,</span>&nbsp;<span class="num" id="7156384">5</span><span class="op" id="7156385">)</span><span class="op" id="7156386">}</span><span class="op" id="7156387">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156390">{</span><span class="string" id="7156391">`^abcd$`</span><span class="op" id="7156399">,</span>&nbsp;<span class="string" id="7156401">&#34;abcd&#34;</span><span class="op" id="7156407">,</span>&nbsp;<span class="ident" id="7156409">build</span><span class="op" id="7156414">(</span><span class="num" id="7156415">1</span><span class="op" id="7156416">,</span>&nbsp;<span class="num" id="7156418">0</span><span class="op" id="7156419">,</span>&nbsp;<span class="num" id="7156421">4</span><span class="op" id="7156422">)</span><span class="op" id="7156423">}</span><span class="op" id="7156424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156427">{</span><span class="string" id="7156428">`^bcd&#39;`</span><span class="op" id="7156435">,</span>&nbsp;<span class="string" id="7156437">&#34;abcdef&#34;</span><span class="op" id="7156445">,</span>&nbsp;<span class="builtintype" id="7156447">nil</span><span class="op" id="7156450">}</span><span class="op" id="7156451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156454">{</span><span class="string" id="7156455">`^abcd$`</span><span class="op" id="7156463">,</span>&nbsp;<span class="string" id="7156465">&#34;abcde&#34;</span><span class="op" id="7156472">,</span>&nbsp;<span class="builtintype" id="7156474">nil</span><span class="op" id="7156477">}</span><span class="op" id="7156478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156481">{</span><span class="string" id="7156482">`a+`</span><span class="op" id="7156486">,</span>&nbsp;<span class="string" id="7156488">&#34;baaab&#34;</span><span class="op" id="7156495">,</span>&nbsp;<span class="ident" id="7156497">build</span><span class="op" id="7156502">(</span><span class="num" id="7156503">1</span><span class="op" id="7156504">,</span>&nbsp;<span class="num" id="7156506">1</span><span class="op" id="7156507">,</span>&nbsp;<span class="num" id="7156509">4</span><span class="op" id="7156510">)</span><span class="op" id="7156511">}</span><span class="op" id="7156512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156515">{</span><span class="string" id="7156516">`a*`</span><span class="op" id="7156520">,</span>&nbsp;<span class="string" id="7156522">&#34;baaab&#34;</span><span class="op" id="7156529">,</span>&nbsp;<span class="ident" id="7156531">build</span><span class="op" id="7156536">(</span><span class="num" id="7156537">3</span><span class="op" id="7156538">,</span>&nbsp;<span class="num" id="7156540">0</span><span class="op" id="7156541">,</span>&nbsp;<span class="num" id="7156543">0</span><span class="op" id="7156544">,</span>&nbsp;<span class="num" id="7156546">1</span><span class="op" id="7156547">,</span>&nbsp;<span class="num" id="7156549">4</span><span class="op" id="7156550">,</span>&nbsp;<span class="num" id="7156552">5</span><span class="op" id="7156553">,</span>&nbsp;<span class="num" id="7156555">5</span><span class="op" id="7156556">)</span><span class="op" id="7156557">}</span><span class="op" id="7156558">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156561">{</span><span class="string" id="7156562">`[a-z]+`</span><span class="op" id="7156570">,</span>&nbsp;<span class="string" id="7156572">&#34;abcd&#34;</span><span class="op" id="7156578">,</span>&nbsp;<span class="ident" id="7156580">build</span><span class="op" id="7156585">(</span><span class="num" id="7156586">1</span><span class="op" id="7156587">,</span>&nbsp;<span class="num" id="7156589">0</span><span class="op" id="7156590">,</span>&nbsp;<span class="num" id="7156592">4</span><span class="op" id="7156593">)</span><span class="op" id="7156594">}</span><span class="op" id="7156595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156598">{</span><span class="string" id="7156599">`[^a-z]+`</span><span class="op" id="7156608">,</span>&nbsp;<span class="string" id="7156610">&#34;ab1234cd&#34;</span><span class="op" id="7156620">,</span>&nbsp;<span class="ident" id="7156622">build</span><span class="op" id="7156627">(</span><span class="num" id="7156628">1</span><span class="op" id="7156629">,</span>&nbsp;<span class="num" id="7156631">2</span><span class="op" id="7156632">,</span>&nbsp;<span class="num" id="7156634">6</span><span class="op" id="7156635">)</span><span class="op" id="7156636">}</span><span class="op" id="7156637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156640">{</span><span class="string" id="7156641">`[a\-\]z]+`</span><span class="op" id="7156652">,</span>&nbsp;<span class="string" id="7156654">&#34;az]-bcz&#34;</span><span class="op" id="7156663">,</span>&nbsp;<span class="ident" id="7156665">build</span><span class="op" id="7156670">(</span><span class="num" id="7156671">2</span><span class="op" id="7156672">,</span>&nbsp;<span class="num" id="7156674">0</span><span class="op" id="7156675">,</span>&nbsp;<span class="num" id="7156677">4</span><span class="op" id="7156678">,</span>&nbsp;<span class="num" id="7156680">6</span><span class="op" id="7156681">,</span>&nbsp;<span class="num" id="7156683">7</span><span class="op" id="7156684">)</span><span class="op" id="7156685">}</span><span class="op" id="7156686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156689">{</span><span class="string" id="7156690">`[^\n]+`</span><span class="op" id="7156698">,</span>&nbsp;<span class="string" id="7156700">&#34;abcd\n&#34;</span><span class="op" id="7156708">,</span>&nbsp;<span class="ident" id="7156710">build</span><span class="op" id="7156715">(</span><span class="num" id="7156716">1</span><span class="op" id="7156717">,</span>&nbsp;<span class="num" id="7156719">0</span><span class="op" id="7156720">,</span>&nbsp;<span class="num" id="7156722">4</span><span class="op" id="7156723">)</span><span class="op" id="7156724">}</span><span class="op" id="7156725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156728">{</span><span class="string" id="7156729">`[日本語]+`</span><span class="op" id="7156743">,</span>&nbsp;<span class="string" id="7156745">&#34;日本語日本語&#34;</span><span class="op" id="7156765">,</span>&nbsp;<span class="ident" id="7156767">build</span><span class="op" id="7156772">(</span><span class="num" id="7156773">1</span><span class="op" id="7156774">,</span>&nbsp;<span class="num" id="7156776">0</span><span class="op" id="7156777">,</span>&nbsp;<span class="num" id="7156779">18</span><span class="op" id="7156781">)</span><span class="op" id="7156782">}</span><span class="op" id="7156783">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156786">{</span><span class="string" id="7156787">`日本語+`</span><span class="op" id="7156799">,</span>&nbsp;<span class="string" id="7156801">&#34;日本語&#34;</span><span class="op" id="7156812">,</span>&nbsp;<span class="ident" id="7156814">build</span><span class="op" id="7156819">(</span><span class="num" id="7156820">1</span><span class="op" id="7156821">,</span>&nbsp;<span class="num" id="7156823">0</span><span class="op" id="7156824">,</span>&nbsp;<span class="num" id="7156826">9</span><span class="op" id="7156827">)</span><span class="op" id="7156828">}</span><span class="op" id="7156829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156832">{</span><span class="string" id="7156833">`日本語+`</span><span class="op" id="7156845">,</span>&nbsp;<span class="string" id="7156847">&#34;日本語語語語&#34;</span><span class="op" id="7156867">,</span>&nbsp;<span class="ident" id="7156869">build</span><span class="op" id="7156874">(</span><span class="num" id="7156875">1</span><span class="op" id="7156876">,</span>&nbsp;<span class="num" id="7156878">0</span><span class="op" id="7156879">,</span>&nbsp;<span class="num" id="7156881">18</span><span class="op" id="7156883">)</span><span class="op" id="7156884">}</span><span class="op" id="7156885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156888">{</span><span class="string" id="7156889">`()`</span><span class="op" id="7156893">,</span>&nbsp;<span class="string" id="7156895">&#34;&#34;</span><span class="op" id="7156897">,</span>&nbsp;<span class="ident" id="7156899">build</span><span class="op" id="7156904">(</span><span class="num" id="7156905">1</span><span class="op" id="7156906">,</span>&nbsp;<span class="num" id="7156908">0</span><span class="op" id="7156909">,</span>&nbsp;<span class="num" id="7156911">0</span><span class="op" id="7156912">,</span>&nbsp;<span class="num" id="7156914">0</span><span class="op" id="7156915">,</span>&nbsp;<span class="num" id="7156917">0</span><span class="op" id="7156918">)</span><span class="op" id="7156919">}</span><span class="op" id="7156920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156923">{</span><span class="string" id="7156924">`(a)`</span><span class="op" id="7156929">,</span>&nbsp;<span class="string" id="7156931">&#34;a&#34;</span><span class="op" id="7156934">,</span>&nbsp;<span class="ident" id="7156936">build</span><span class="op" id="7156941">(</span><span class="num" id="7156942">1</span><span class="op" id="7156943">,</span>&nbsp;<span class="num" id="7156945">0</span><span class="op" id="7156946">,</span>&nbsp;<span class="num" id="7156948">1</span><span class="op" id="7156949">,</span>&nbsp;<span class="num" id="7156951">0</span><span class="op" id="7156952">,</span>&nbsp;<span class="num" id="7156954">1</span><span class="op" id="7156955">)</span><span class="op" id="7156956">}</span><span class="op" id="7156957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7156960">{</span><span class="string" id="7156961">`(.)(.)`</span><span class="op" id="7156969">,</span>&nbsp;<span class="string" id="7156971">&#34;日a&#34;</span><span class="op" id="7156977">,</span>&nbsp;<span class="ident" id="7156979">build</span><span class="op" id="7156984">(</span><span class="num" id="7156985">1</span><span class="op" id="7156986">,</span>&nbsp;<span class="num" id="7156988">0</span><span class="op" id="7156989">,</span>&nbsp;<span class="num" id="7156991">4</span><span class="op" id="7156992">,</span>&nbsp;<span class="num" id="7156994">0</span><span class="op" id="7156995">,</span>&nbsp;<span class="num" id="7156997">3</span><span class="op" id="7156998">,</span>&nbsp;<span class="num" id="7157000">3</span><span class="op" id="7157001">,</span>&nbsp;<span class="num" id="7157003">4</span><span class="op" id="7157004">)</span><span class="op" id="7157005">}</span><span class="op" id="7157006">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157009">{</span><span class="string" id="7157010">`(.*)`</span><span class="op" id="7157016">,</span>&nbsp;<span class="string" id="7157018">&#34;&#34;</span><span class="op" id="7157020">,</span>&nbsp;<span class="ident" id="7157022">build</span><span class="op" id="7157027">(</span><span class="num" id="7157028">1</span><span class="op" id="7157029">,</span>&nbsp;<span class="num" id="7157031">0</span><span class="op" id="7157032">,</span>&nbsp;<span class="num" id="7157034">0</span><span class="op" id="7157035">,</span>&nbsp;<span class="num" id="7157037">0</span><span class="op" id="7157038">,</span>&nbsp;<span class="num" id="7157040">0</span><span class="op" id="7157041">)</span><span class="op" id="7157042">}</span><span class="op" id="7157043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157046">{</span><span class="string" id="7157047">`(.*)`</span><span class="op" id="7157053">,</span>&nbsp;<span class="string" id="7157055">&#34;abcd&#34;</span><span class="op" id="7157061">,</span>&nbsp;<span class="ident" id="7157063">build</span><span class="op" id="7157068">(</span><span class="num" id="7157069">1</span><span class="op" id="7157070">,</span>&nbsp;<span class="num" id="7157072">0</span><span class="op" id="7157073">,</span>&nbsp;<span class="num" id="7157075">4</span><span class="op" id="7157076">,</span>&nbsp;<span class="num" id="7157078">0</span><span class="op" id="7157079">,</span>&nbsp;<span class="num" id="7157081">4</span><span class="op" id="7157082">)</span><span class="op" id="7157083">}</span><span class="op" id="7157084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157087">{</span><span class="string" id="7157088">`(..)(..)`</span><span class="op" id="7157098">,</span>&nbsp;<span class="string" id="7157100">&#34;abcd&#34;</span><span class="op" id="7157106">,</span>&nbsp;<span class="ident" id="7157108">build</span><span class="op" id="7157113">(</span><span class="num" id="7157114">1</span><span class="op" id="7157115">,</span>&nbsp;<span class="num" id="7157117">0</span><span class="op" id="7157118">,</span>&nbsp;<span class="num" id="7157120">4</span><span class="op" id="7157121">,</span>&nbsp;<span class="num" id="7157123">0</span><span class="op" id="7157124">,</span>&nbsp;<span class="num" id="7157126">2</span><span class="op" id="7157127">,</span>&nbsp;<span class="num" id="7157129">2</span><span class="op" id="7157130">,</span>&nbsp;<span class="num" id="7157132">4</span><span class="op" id="7157133">)</span><span class="op" id="7157134">}</span><span class="op" id="7157135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157138">{</span><span class="string" id="7157139">`(([^xyz]*)(d))`</span><span class="op" id="7157155">,</span>&nbsp;<span class="string" id="7157157">&#34;abcd&#34;</span><span class="op" id="7157163">,</span>&nbsp;<span class="ident" id="7157165">build</span><span class="op" id="7157170">(</span><span class="num" id="7157171">1</span><span class="op" id="7157172">,</span>&nbsp;<span class="num" id="7157174">0</span><span class="op" id="7157175">,</span>&nbsp;<span class="num" id="7157177">4</span><span class="op" id="7157178">,</span>&nbsp;<span class="num" id="7157180">0</span><span class="op" id="7157181">,</span>&nbsp;<span class="num" id="7157183">4</span><span class="op" id="7157184">,</span>&nbsp;<span class="num" id="7157186">0</span><span class="op" id="7157187">,</span>&nbsp;<span class="num" id="7157189">3</span><span class="op" id="7157190">,</span>&nbsp;<span class="num" id="7157192">3</span><span class="op" id="7157193">,</span>&nbsp;<span class="num" id="7157195">4</span><span class="op" id="7157196">)</span><span class="op" id="7157197">}</span><span class="op" id="7157198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157201">{</span><span class="string" id="7157202">`((a|b|c)*(d))`</span><span class="op" id="7157217">,</span>&nbsp;<span class="string" id="7157219">&#34;abcd&#34;</span><span class="op" id="7157225">,</span>&nbsp;<span class="ident" id="7157227">build</span><span class="op" id="7157232">(</span><span class="num" id="7157233">1</span><span class="op" id="7157234">,</span>&nbsp;<span class="num" id="7157236">0</span><span class="op" id="7157237">,</span>&nbsp;<span class="num" id="7157239">4</span><span class="op" id="7157240">,</span>&nbsp;<span class="num" id="7157242">0</span><span class="op" id="7157243">,</span>&nbsp;<span class="num" id="7157245">4</span><span class="op" id="7157246">,</span>&nbsp;<span class="num" id="7157248">2</span><span class="op" id="7157249">,</span>&nbsp;<span class="num" id="7157251">3</span><span class="op" id="7157252">,</span>&nbsp;<span class="num" id="7157254">3</span><span class="op" id="7157255">,</span>&nbsp;<span class="num" id="7157257">4</span><span class="op" id="7157258">)</span><span class="op" id="7157259">}</span><span class="op" id="7157260">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157263">{</span><span class="string" id="7157264">`(((a|b|c)*)(d))`</span><span class="op" id="7157281">,</span>&nbsp;<span class="string" id="7157283">&#34;abcd&#34;</span><span class="op" id="7157289">,</span>&nbsp;<span class="ident" id="7157291">build</span><span class="op" id="7157296">(</span><span class="num" id="7157297">1</span><span class="op" id="7157298">,</span>&nbsp;<span class="num" id="7157300">0</span><span class="op" id="7157301">,</span>&nbsp;<span class="num" id="7157303">4</span><span class="op" id="7157304">,</span>&nbsp;<span class="num" id="7157306">0</span><span class="op" id="7157307">,</span>&nbsp;<span class="num" id="7157309">4</span><span class="op" id="7157310">,</span>&nbsp;<span class="num" id="7157312">0</span><span class="op" id="7157313">,</span>&nbsp;<span class="num" id="7157315">3</span><span class="op" id="7157316">,</span>&nbsp;<span class="num" id="7157318">2</span><span class="op" id="7157319">,</span>&nbsp;<span class="num" id="7157321">3</span><span class="op" id="7157322">,</span>&nbsp;<span class="num" id="7157324">3</span><span class="op" id="7157325">,</span>&nbsp;<span class="num" id="7157327">4</span><span class="op" id="7157328">)</span><span class="op" id="7157329">}</span><span class="op" id="7157330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157333">{</span><span class="string" id="7157334">`\a\f\n\r\t\v`</span><span class="op" id="7157348">,</span>&nbsp;<span class="string" id="7157350">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7157364">,</span>&nbsp;<span class="ident" id="7157366">build</span><span class="op" id="7157371">(</span><span class="num" id="7157372">1</span><span class="op" id="7157373">,</span>&nbsp;<span class="num" id="7157375">0</span><span class="op" id="7157376">,</span>&nbsp;<span class="num" id="7157378">6</span><span class="op" id="7157379">)</span><span class="op" id="7157380">}</span><span class="op" id="7157381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157384">{</span><span class="string" id="7157385">`[\a\f\n\r\t\v]+`</span><span class="op" id="7157402">,</span>&nbsp;<span class="string" id="7157404">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7157418">,</span>&nbsp;<span class="ident" id="7157420">build</span><span class="op" id="7157425">(</span><span class="num" id="7157426">1</span><span class="op" id="7157427">,</span>&nbsp;<span class="num" id="7157429">0</span><span class="op" id="7157430">,</span>&nbsp;<span class="num" id="7157432">6</span><span class="op" id="7157433">)</span><span class="op" id="7157434">}</span><span class="op" id="7157435">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157439">{</span><span class="string" id="7157440">`a*(|(b))c*`</span><span class="op" id="7157452">,</span>&nbsp;<span class="string" id="7157454">&#34;aacc&#34;</span><span class="op" id="7157460">,</span>&nbsp;<span class="ident" id="7157462">build</span><span class="op" id="7157467">(</span><span class="num" id="7157468">1</span><span class="op" id="7157469">,</span>&nbsp;<span class="num" id="7157471">0</span><span class="op" id="7157472">,</span>&nbsp;<span class="num" id="7157474">4</span><span class="op" id="7157475">,</span>&nbsp;<span class="num" id="7157477">2</span><span class="op" id="7157478">,</span>&nbsp;<span class="num" id="7157480">2</span><span class="op" id="7157481">,</span>&nbsp;<span class="op" id="7157483">-</span><span class="num" id="7157484">1</span><span class="op" id="7157485">,</span>&nbsp;<span class="op" id="7157487">-</span><span class="num" id="7157488">1</span><span class="op" id="7157489">)</span><span class="op" id="7157490">}</span><span class="op" id="7157491">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157494">{</span><span class="string" id="7157495">`(.*).*`</span><span class="op" id="7157503">,</span>&nbsp;<span class="string" id="7157505">&#34;ab&#34;</span><span class="op" id="7157509">,</span>&nbsp;<span class="ident" id="7157511">build</span><span class="op" id="7157516">(</span><span class="num" id="7157517">1</span><span class="op" id="7157518">,</span>&nbsp;<span class="num" id="7157520">0</span><span class="op" id="7157521">,</span>&nbsp;<span class="num" id="7157523">2</span><span class="op" id="7157524">,</span>&nbsp;<span class="num" id="7157526">0</span><span class="op" id="7157527">,</span>&nbsp;<span class="num" id="7157529">2</span><span class="op" id="7157530">)</span><span class="op" id="7157531">}</span><span class="op" id="7157532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157535">{</span><span class="string" id="7157536">`[.]`</span><span class="op" id="7157541">,</span>&nbsp;<span class="string" id="7157543">&#34;.&#34;</span><span class="op" id="7157546">,</span>&nbsp;<span class="ident" id="7157548">build</span><span class="op" id="7157553">(</span><span class="num" id="7157554">1</span><span class="op" id="7157555">,</span>&nbsp;<span class="num" id="7157557">0</span><span class="op" id="7157558">,</span>&nbsp;<span class="num" id="7157560">1</span><span class="op" id="7157561">)</span><span class="op" id="7157562">}</span><span class="op" id="7157563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157566">{</span><span class="string" id="7157567">`/$`</span><span class="op" id="7157571">,</span>&nbsp;<span class="string" id="7157573">&#34;/abc/&#34;</span><span class="op" id="7157580">,</span>&nbsp;<span class="ident" id="7157582">build</span><span class="op" id="7157587">(</span><span class="num" id="7157588">1</span><span class="op" id="7157589">,</span>&nbsp;<span class="num" id="7157591">4</span><span class="op" id="7157592">,</span>&nbsp;<span class="num" id="7157594">5</span><span class="op" id="7157595">)</span><span class="op" id="7157596">}</span><span class="op" id="7157597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157600">{</span><span class="string" id="7157601">`/$`</span><span class="op" id="7157605">,</span>&nbsp;<span class="string" id="7157607">&#34;/abc&#34;</span><span class="op" id="7157613">,</span>&nbsp;<span class="builtintype" id="7157615">nil</span><span class="op" id="7157618">}</span><span class="op" id="7157619">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7157623">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157644">{</span><span class="string" id="7157645">`.`</span><span class="op" id="7157648">,</span>&nbsp;<span class="string" id="7157650">&#34;abc&#34;</span><span class="op" id="7157655">,</span>&nbsp;<span class="ident" id="7157657">build</span><span class="op" id="7157662">(</span><span class="num" id="7157663">3</span><span class="op" id="7157664">,</span>&nbsp;<span class="num" id="7157666">0</span><span class="op" id="7157667">,</span>&nbsp;<span class="num" id="7157669">1</span><span class="op" id="7157670">,</span>&nbsp;<span class="num" id="7157672">1</span><span class="op" id="7157673">,</span>&nbsp;<span class="num" id="7157675">2</span><span class="op" id="7157676">,</span>&nbsp;<span class="num" id="7157678">2</span><span class="op" id="7157679">,</span>&nbsp;<span class="num" id="7157681">3</span><span class="op" id="7157682">)</span><span class="op" id="7157683">}</span><span class="op" id="7157684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157687">{</span><span class="string" id="7157688">`(.)`</span><span class="op" id="7157693">,</span>&nbsp;<span class="string" id="7157695">&#34;abc&#34;</span><span class="op" id="7157700">,</span>&nbsp;<span class="ident" id="7157702">build</span><span class="op" id="7157707">(</span><span class="num" id="7157708">3</span><span class="op" id="7157709">,</span>&nbsp;<span class="num" id="7157711">0</span><span class="op" id="7157712">,</span>&nbsp;<span class="num" id="7157714">1</span><span class="op" id="7157715">,</span>&nbsp;<span class="num" id="7157717">0</span><span class="op" id="7157718">,</span>&nbsp;<span class="num" id="7157720">1</span><span class="op" id="7157721">,</span>&nbsp;<span class="num" id="7157723">1</span><span class="op" id="7157724">,</span>&nbsp;<span class="num" id="7157726">2</span><span class="op" id="7157727">,</span>&nbsp;<span class="num" id="7157729">1</span><span class="op" id="7157730">,</span>&nbsp;<span class="num" id="7157732">2</span><span class="op" id="7157733">,</span>&nbsp;<span class="num" id="7157735">2</span><span class="op" id="7157736">,</span>&nbsp;<span class="num" id="7157738">3</span><span class="op" id="7157739">,</span>&nbsp;<span class="num" id="7157741">2</span><span class="op" id="7157742">,</span>&nbsp;<span class="num" id="7157744">3</span><span class="op" id="7157745">)</span><span class="op" id="7157746">}</span><span class="op" id="7157747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157750">{</span><span class="string" id="7157751">`.(.)`</span><span class="op" id="7157757">,</span>&nbsp;<span class="string" id="7157759">&#34;abcd&#34;</span><span class="op" id="7157765">,</span>&nbsp;<span class="ident" id="7157767">build</span><span class="op" id="7157772">(</span><span class="num" id="7157773">2</span><span class="op" id="7157774">,</span>&nbsp;<span class="num" id="7157776">0</span><span class="op" id="7157777">,</span>&nbsp;<span class="num" id="7157779">2</span><span class="op" id="7157780">,</span>&nbsp;<span class="num" id="7157782">1</span><span class="op" id="7157783">,</span>&nbsp;<span class="num" id="7157785">2</span><span class="op" id="7157786">,</span>&nbsp;<span class="num" id="7157788">2</span><span class="op" id="7157789">,</span>&nbsp;<span class="num" id="7157791">4</span><span class="op" id="7157792">,</span>&nbsp;<span class="num" id="7157794">3</span><span class="op" id="7157795">,</span>&nbsp;<span class="num" id="7157797">4</span><span class="op" id="7157798">)</span><span class="op" id="7157799">}</span><span class="op" id="7157800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157803">{</span><span class="string" id="7157804">`ab*`</span><span class="op" id="7157809">,</span>&nbsp;<span class="string" id="7157811">&#34;abbaab&#34;</span><span class="op" id="7157819">,</span>&nbsp;<span class="ident" id="7157821">build</span><span class="op" id="7157826">(</span><span class="num" id="7157827">3</span><span class="op" id="7157828">,</span>&nbsp;<span class="num" id="7157830">0</span><span class="op" id="7157831">,</span>&nbsp;<span class="num" id="7157833">3</span><span class="op" id="7157834">,</span>&nbsp;<span class="num" id="7157836">3</span><span class="op" id="7157837">,</span>&nbsp;<span class="num" id="7157839">4</span><span class="op" id="7157840">,</span>&nbsp;<span class="num" id="7157842">4</span><span class="op" id="7157843">,</span>&nbsp;<span class="num" id="7157845">6</span><span class="op" id="7157846">)</span><span class="op" id="7157847">}</span><span class="op" id="7157848">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157851">{</span><span class="string" id="7157852">`a(b*)`</span><span class="op" id="7157859">,</span>&nbsp;<span class="string" id="7157861">&#34;abbaab&#34;</span><span class="op" id="7157869">,</span>&nbsp;<span class="ident" id="7157871">build</span><span class="op" id="7157876">(</span><span class="num" id="7157877">3</span><span class="op" id="7157878">,</span>&nbsp;<span class="num" id="7157880">0</span><span class="op" id="7157881">,</span>&nbsp;<span class="num" id="7157883">3</span><span class="op" id="7157884">,</span>&nbsp;<span class="num" id="7157886">1</span><span class="op" id="7157887">,</span>&nbsp;<span class="num" id="7157889">3</span><span class="op" id="7157890">,</span>&nbsp;<span class="num" id="7157892">3</span><span class="op" id="7157893">,</span>&nbsp;<span class="num" id="7157895">4</span><span class="op" id="7157896">,</span>&nbsp;<span class="num" id="7157898">4</span><span class="op" id="7157899">,</span>&nbsp;<span class="num" id="7157901">4</span><span class="op" id="7157902">,</span>&nbsp;<span class="num" id="7157904">4</span><span class="op" id="7157905">,</span>&nbsp;<span class="num" id="7157907">6</span><span class="op" id="7157908">,</span>&nbsp;<span class="num" id="7157910">5</span><span class="op" id="7157911">,</span>&nbsp;<span class="num" id="7157913">6</span><span class="op" id="7157914">)</span><span class="op" id="7157915">}</span><span class="op" id="7157916">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7157920">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157935">{</span><span class="string" id="7157936">`ab$`</span><span class="op" id="7157941">,</span>&nbsp;<span class="string" id="7157943">&#34;cab&#34;</span><span class="op" id="7157948">,</span>&nbsp;<span class="ident" id="7157950">build</span><span class="op" id="7157955">(</span><span class="num" id="7157956">1</span><span class="op" id="7157957">,</span>&nbsp;<span class="num" id="7157959">1</span><span class="op" id="7157960">,</span>&nbsp;<span class="num" id="7157962">3</span><span class="op" id="7157963">)</span><span class="op" id="7157964">}</span><span class="op" id="7157965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157968">{</span><span class="string" id="7157969">`axxb$`</span><span class="op" id="7157976">,</span>&nbsp;<span class="string" id="7157978">&#34;axxcb&#34;</span><span class="op" id="7157985">,</span>&nbsp;<span class="builtintype" id="7157987">nil</span><span class="op" id="7157990">}</span><span class="op" id="7157991">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7157994">{</span><span class="string" id="7157995">`data`</span><span class="op" id="7158001">,</span>&nbsp;<span class="string" id="7158003">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7158014">,</span>&nbsp;<span class="ident" id="7158016">build</span><span class="op" id="7158021">(</span><span class="num" id="7158022">1</span><span class="op" id="7158023">,</span>&nbsp;<span class="num" id="7158025">5</span><span class="op" id="7158026">,</span>&nbsp;<span class="num" id="7158028">9</span><span class="op" id="7158029">)</span><span class="op" id="7158030">}</span><span class="op" id="7158031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158034">{</span><span class="string" id="7158035">`da(.)a$`</span><span class="op" id="7158044">,</span>&nbsp;<span class="string" id="7158046">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7158057">,</span>&nbsp;<span class="ident" id="7158059">build</span><span class="op" id="7158064">(</span><span class="num" id="7158065">1</span><span class="op" id="7158066">,</span>&nbsp;<span class="num" id="7158068">5</span><span class="op" id="7158069">,</span>&nbsp;<span class="num" id="7158071">9</span><span class="op" id="7158072">,</span>&nbsp;<span class="num" id="7158074">7</span><span class="op" id="7158075">,</span>&nbsp;<span class="num" id="7158077">8</span><span class="op" id="7158078">)</span><span class="op" id="7158079">}</span><span class="op" id="7158080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158083">{</span><span class="string" id="7158084">`zx+`</span><span class="op" id="7158089">,</span>&nbsp;<span class="string" id="7158091">&#34;zzx&#34;</span><span class="op" id="7158096">,</span>&nbsp;<span class="ident" id="7158098">build</span><span class="op" id="7158103">(</span><span class="num" id="7158104">1</span><span class="op" id="7158105">,</span>&nbsp;<span class="num" id="7158107">1</span><span class="op" id="7158108">,</span>&nbsp;<span class="num" id="7158110">3</span><span class="op" id="7158111">)</span><span class="op" id="7158112">}</span><span class="op" id="7158113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158116">{</span><span class="string" id="7158117">`ab$`</span><span class="op" id="7158122">,</span>&nbsp;<span class="string" id="7158124">&#34;abcab&#34;</span><span class="op" id="7158131">,</span>&nbsp;<span class="ident" id="7158133">build</span><span class="op" id="7158138">(</span><span class="num" id="7158139">1</span><span class="op" id="7158140">,</span>&nbsp;<span class="num" id="7158142">3</span><span class="op" id="7158143">,</span>&nbsp;<span class="num" id="7158145">5</span><span class="op" id="7158146">)</span><span class="op" id="7158147">}</span><span class="op" id="7158148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158151">{</span><span class="string" id="7158152">`(aa)*$`</span><span class="op" id="7158160">,</span>&nbsp;<span class="string" id="7158162">&#34;a&#34;</span><span class="op" id="7158165">,</span>&nbsp;<span class="ident" id="7158167">build</span><span class="op" id="7158172">(</span><span class="num" id="7158173">1</span><span class="op" id="7158174">,</span>&nbsp;<span class="num" id="7158176">1</span><span class="op" id="7158177">,</span>&nbsp;<span class="num" id="7158179">1</span><span class="op" id="7158180">,</span>&nbsp;<span class="op" id="7158182">-</span><span class="num" id="7158183">1</span><span class="op" id="7158184">,</span>&nbsp;<span class="op" id="7158186">-</span><span class="num" id="7158187">1</span><span class="op" id="7158188">)</span><span class="op" id="7158189">}</span><span class="op" id="7158190">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158193">{</span><span class="string" id="7158194">`(?:.|(?:.a))`</span><span class="op" id="7158208">,</span>&nbsp;<span class="string" id="7158210">&#34;&#34;</span><span class="op" id="7158212">,</span>&nbsp;<span class="builtintype" id="7158214">nil</span><span class="op" id="7158217">}</span><span class="op" id="7158218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158221">{</span><span class="string" id="7158222">`(?:A(?:A|a))`</span><span class="op" id="7158236">,</span>&nbsp;<span class="string" id="7158238">&#34;Aa&#34;</span><span class="op" id="7158242">,</span>&nbsp;<span class="ident" id="7158244">build</span><span class="op" id="7158249">(</span><span class="num" id="7158250">1</span><span class="op" id="7158251">,</span>&nbsp;<span class="num" id="7158253">0</span><span class="op" id="7158254">,</span>&nbsp;<span class="num" id="7158256">2</span><span class="op" id="7158257">)</span><span class="op" id="7158258">}</span><span class="op" id="7158259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158262">{</span><span class="string" id="7158263">`(?:A|(?:A|a))`</span><span class="op" id="7158278">,</span>&nbsp;<span class="string" id="7158280">&#34;a&#34;</span><span class="op" id="7158283">,</span>&nbsp;<span class="ident" id="7158285">build</span><span class="op" id="7158290">(</span><span class="num" id="7158291">1</span><span class="op" id="7158292">,</span>&nbsp;<span class="num" id="7158294">0</span><span class="op" id="7158295">,</span>&nbsp;<span class="num" id="7158297">1</span><span class="op" id="7158298">)</span><span class="op" id="7158299">}</span><span class="op" id="7158300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158303">{</span><span class="string" id="7158304">`(a){0}`</span><span class="op" id="7158312">,</span>&nbsp;<span class="string" id="7158314">&#34;&#34;</span><span class="op" id="7158316">,</span>&nbsp;<span class="ident" id="7158318">build</span><span class="op" id="7158323">(</span><span class="num" id="7158324">1</span><span class="op" id="7158325">,</span>&nbsp;<span class="num" id="7158327">0</span><span class="op" id="7158328">,</span>&nbsp;<span class="num" id="7158330">0</span><span class="op" id="7158331">,</span>&nbsp;<span class="op" id="7158333">-</span><span class="num" id="7158334">1</span><span class="op" id="7158335">,</span>&nbsp;<span class="op" id="7158337">-</span><span class="num" id="7158338">1</span><span class="op" id="7158339">)</span><span class="op" id="7158340">}</span><span class="op" id="7158341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158344">{</span><span class="string" id="7158345">`(?-s)(?:(?:^).)`</span><span class="op" id="7158362">,</span>&nbsp;<span class="string" id="7158364">&#34;\n&#34;</span><span class="op" id="7158368">,</span>&nbsp;<span class="builtintype" id="7158370">nil</span><span class="op" id="7158373">}</span><span class="op" id="7158374">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158377">{</span><span class="string" id="7158378">`(?s)(?:(?:^).)`</span><span class="op" id="7158394">,</span>&nbsp;<span class="string" id="7158396">&#34;\n&#34;</span><span class="op" id="7158400">,</span>&nbsp;<span class="ident" id="7158402">build</span><span class="op" id="7158407">(</span><span class="num" id="7158408">1</span><span class="op" id="7158409">,</span>&nbsp;<span class="num" id="7158411">0</span><span class="op" id="7158412">,</span>&nbsp;<span class="num" id="7158414">1</span><span class="op" id="7158415">)</span><span class="op" id="7158416">}</span><span class="op" id="7158417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158420">{</span><span class="string" id="7158421">`(?:(?:^).)`</span><span class="op" id="7158433">,</span>&nbsp;<span class="string" id="7158435">&#34;\n&#34;</span><span class="op" id="7158439">,</span>&nbsp;<span class="builtintype" id="7158441">nil</span><span class="op" id="7158444">}</span><span class="op" id="7158445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158448">{</span><span class="string" id="7158449">`\b`</span><span class="op" id="7158453">,</span>&nbsp;<span class="string" id="7158455">&#34;x&#34;</span><span class="op" id="7158458">,</span>&nbsp;<span class="ident" id="7158460">build</span><span class="op" id="7158465">(</span><span class="num" id="7158466">2</span><span class="op" id="7158467">,</span>&nbsp;<span class="num" id="7158469">0</span><span class="op" id="7158470">,</span>&nbsp;<span class="num" id="7158472">0</span><span class="op" id="7158473">,</span>&nbsp;<span class="num" id="7158475">1</span><span class="op" id="7158476">,</span>&nbsp;<span class="num" id="7158478">1</span><span class="op" id="7158479">)</span><span class="op" id="7158480">}</span><span class="op" id="7158481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158484">{</span><span class="string" id="7158485">`\b`</span><span class="op" id="7158489">,</span>&nbsp;<span class="string" id="7158491">&#34;xx&#34;</span><span class="op" id="7158495">,</span>&nbsp;<span class="ident" id="7158497">build</span><span class="op" id="7158502">(</span><span class="num" id="7158503">2</span><span class="op" id="7158504">,</span>&nbsp;<span class="num" id="7158506">0</span><span class="op" id="7158507">,</span>&nbsp;<span class="num" id="7158509">0</span><span class="op" id="7158510">,</span>&nbsp;<span class="num" id="7158512">2</span><span class="op" id="7158513">,</span>&nbsp;<span class="num" id="7158515">2</span><span class="op" id="7158516">)</span><span class="op" id="7158517">}</span><span class="op" id="7158518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158521">{</span><span class="string" id="7158522">`\b`</span><span class="op" id="7158526">,</span>&nbsp;<span class="string" id="7158528">&#34;x&nbsp;y&#34;</span><span class="op" id="7158533">,</span>&nbsp;<span class="ident" id="7158535">build</span><span class="op" id="7158540">(</span><span class="num" id="7158541">4</span><span class="op" id="7158542">,</span>&nbsp;<span class="num" id="7158544">0</span><span class="op" id="7158545">,</span>&nbsp;<span class="num" id="7158547">0</span><span class="op" id="7158548">,</span>&nbsp;<span class="num" id="7158550">1</span><span class="op" id="7158551">,</span>&nbsp;<span class="num" id="7158553">1</span><span class="op" id="7158554">,</span>&nbsp;<span class="num" id="7158556">2</span><span class="op" id="7158557">,</span>&nbsp;<span class="num" id="7158559">2</span><span class="op" id="7158560">,</span>&nbsp;<span class="num" id="7158562">3</span><span class="op" id="7158563">,</span>&nbsp;<span class="num" id="7158565">3</span><span class="op" id="7158566">)</span><span class="op" id="7158567">}</span><span class="op" id="7158568">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158571">{</span><span class="string" id="7158572">`\b`</span><span class="op" id="7158576">,</span>&nbsp;<span class="string" id="7158578">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7158585">,</span>&nbsp;<span class="ident" id="7158587">build</span><span class="op" id="7158592">(</span><span class="num" id="7158593">4</span><span class="op" id="7158594">,</span>&nbsp;<span class="num" id="7158596">0</span><span class="op" id="7158597">,</span>&nbsp;<span class="num" id="7158599">0</span><span class="op" id="7158600">,</span>&nbsp;<span class="num" id="7158602">2</span><span class="op" id="7158603">,</span>&nbsp;<span class="num" id="7158605">2</span><span class="op" id="7158606">,</span>&nbsp;<span class="num" id="7158608">3</span><span class="op" id="7158609">,</span>&nbsp;<span class="num" id="7158611">3</span><span class="op" id="7158612">,</span>&nbsp;<span class="num" id="7158614">5</span><span class="op" id="7158615">,</span>&nbsp;<span class="num" id="7158617">5</span><span class="op" id="7158618">)</span><span class="op" id="7158619">}</span><span class="op" id="7158620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158623">{</span><span class="string" id="7158624">`\B`</span><span class="op" id="7158628">,</span>&nbsp;<span class="string" id="7158630">&#34;x&#34;</span><span class="op" id="7158633">,</span>&nbsp;<span class="builtintype" id="7158635">nil</span><span class="op" id="7158638">}</span><span class="op" id="7158639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158642">{</span><span class="string" id="7158643">`\B`</span><span class="op" id="7158647">,</span>&nbsp;<span class="string" id="7158649">&#34;xx&#34;</span><span class="op" id="7158653">,</span>&nbsp;<span class="ident" id="7158655">build</span><span class="op" id="7158660">(</span><span class="num" id="7158661">1</span><span class="op" id="7158662">,</span>&nbsp;<span class="num" id="7158664">1</span><span class="op" id="7158665">,</span>&nbsp;<span class="num" id="7158667">1</span><span class="op" id="7158668">)</span><span class="op" id="7158669">}</span><span class="op" id="7158670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158673">{</span><span class="string" id="7158674">`\B`</span><span class="op" id="7158678">,</span>&nbsp;<span class="string" id="7158680">&#34;x&nbsp;y&#34;</span><span class="op" id="7158685">,</span>&nbsp;<span class="builtintype" id="7158687">nil</span><span class="op" id="7158690">}</span><span class="op" id="7158691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158694">{</span><span class="string" id="7158695">`\B`</span><span class="op" id="7158699">,</span>&nbsp;<span class="string" id="7158701">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7158708">,</span>&nbsp;<span class="ident" id="7158710">build</span><span class="op" id="7158715">(</span><span class="num" id="7158716">2</span><span class="op" id="7158717">,</span>&nbsp;<span class="num" id="7158719">1</span><span class="op" id="7158720">,</span>&nbsp;<span class="num" id="7158722">1</span><span class="op" id="7158723">,</span>&nbsp;<span class="num" id="7158725">4</span><span class="op" id="7158726">,</span>&nbsp;<span class="num" id="7158728">4</span><span class="op" id="7158729">)</span><span class="op" id="7158730">}</span><span class="op" id="7158731">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7158735">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158749">{</span><span class="string" id="7158750">`[^\S\s]`</span><span class="op" id="7158759">,</span>&nbsp;<span class="string" id="7158761">&#34;abcd&#34;</span><span class="op" id="7158767">,</span>&nbsp;<span class="builtintype" id="7158769">nil</span><span class="op" id="7158772">}</span><span class="op" id="7158773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158776">{</span><span class="string" id="7158777">`[^\S[:space:]]`</span><span class="op" id="7158793">,</span>&nbsp;<span class="string" id="7158795">&#34;abcd&#34;</span><span class="op" id="7158801">,</span>&nbsp;<span class="builtintype" id="7158803">nil</span><span class="op" id="7158806">}</span><span class="op" id="7158807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158810">{</span><span class="string" id="7158811">`[^\D\d]`</span><span class="op" id="7158820">,</span>&nbsp;<span class="string" id="7158822">&#34;abcd&#34;</span><span class="op" id="7158828">,</span>&nbsp;<span class="builtintype" id="7158830">nil</span><span class="op" id="7158833">}</span><span class="op" id="7158834">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158837">{</span><span class="string" id="7158838">`[^\D[:digit:]]`</span><span class="op" id="7158854">,</span>&nbsp;<span class="string" id="7158856">&#34;abcd&#34;</span><span class="op" id="7158862">,</span>&nbsp;<span class="builtintype" id="7158864">nil</span><span class="op" id="7158867">}</span><span class="op" id="7158868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158871">{</span><span class="string" id="7158872">`(?i)\W`</span><span class="op" id="7158880">,</span>&nbsp;<span class="string" id="7158882">&#34;x&#34;</span><span class="op" id="7158885">,</span>&nbsp;<span class="builtintype" id="7158887">nil</span><span class="op" id="7158890">}</span><span class="op" id="7158891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158894">{</span><span class="string" id="7158895">`(?i)\W`</span><span class="op" id="7158903">,</span>&nbsp;<span class="string" id="7158905">&#34;k&#34;</span><span class="op" id="7158908">,</span>&nbsp;<span class="builtintype" id="7158910">nil</span><span class="op" id="7158913">}</span><span class="op" id="7158914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158917">{</span><span class="string" id="7158918">`(?i)\W`</span><span class="op" id="7158926">,</span>&nbsp;<span class="string" id="7158928">&#34;s&#34;</span><span class="op" id="7158931">,</span>&nbsp;<span class="builtintype" id="7158933">nil</span><span class="op" id="7158936">}</span><span class="op" id="7158937">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7158941">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7158982">{</span><span class="string" id="7158983">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7159047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7159051">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7159084">,</span>&nbsp;<span class="ident" id="7159086">build</span><span class="op" id="7159091">(</span><span class="num" id="7159092">1</span><span class="op" id="7159093">,</span>&nbsp;<span class="num" id="7159095">0</span><span class="op" id="7159096">,</span>&nbsp;<span class="num" id="7159098">31</span><span class="op" id="7159100">)</span><span class="op" id="7159101">}</span><span class="op" id="7159102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7159105">{</span><span class="string" id="7159106">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7159173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7159177">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7159210">,</span>&nbsp;<span class="ident" id="7159212">build</span><span class="op" id="7159217">(</span><span class="num" id="7159218">1</span><span class="op" id="7159219">,</span>&nbsp;<span class="num" id="7159221">0</span><span class="op" id="7159222">,</span>&nbsp;<span class="num" id="7159224">31</span><span class="op" id="7159226">)</span><span class="op" id="7159227">}</span><span class="op" id="7159228">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7159231">{</span><span class="string" id="7159232">&#34;\\`&#34;</span><span class="op" id="7159237">,</span>&nbsp;<span class="string" id="7159239">&#34;`&#34;</span><span class="op" id="7159242">,</span>&nbsp;<span class="ident" id="7159244">build</span><span class="op" id="7159249">(</span><span class="num" id="7159250">1</span><span class="op" id="7159251">,</span>&nbsp;<span class="num" id="7159253">0</span><span class="op" id="7159254">,</span>&nbsp;<span class="num" id="7159256">1</span><span class="op" id="7159257">)</span><span class="op" id="7159258">}</span><span class="op" id="7159259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7159262">{</span><span class="string" id="7159263">&#34;[\\`]+&#34;</span><span class="op" id="7159271">,</span>&nbsp;<span class="string" id="7159273">&#34;`&#34;</span><span class="op" id="7159276">,</span>&nbsp;<span class="ident" id="7159278">build</span><span class="op" id="7159283">(</span><span class="num" id="7159284">1</span><span class="op" id="7159285">,</span>&nbsp;<span class="num" id="7159287">0</span><span class="op" id="7159288">,</span>&nbsp;<span class="num" id="7159290">1</span><span class="op" id="7159291">)</span><span class="op" id="7159292">}</span><span class="op" id="7159293">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7159297">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7159345">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7159349">&#34;.&#34;</span><span class="op" id="7159352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7159356">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7159394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7159398">build</span><span class="op" id="7159403">(</span><span class="num" id="7159404">36</span><span class="op" id="7159406">,</span>&nbsp;<span class="num" id="7159408">0</span><span class="op" id="7159409">,</span>&nbsp;<span class="num" id="7159411">1</span><span class="op" id="7159412">,</span>&nbsp;<span class="num" id="7159414">1</span><span class="op" id="7159415">,</span>&nbsp;<span class="num" id="7159417">2</span><span class="op" id="7159418">,</span>&nbsp;<span class="num" id="7159420">2</span><span class="op" id="7159421">,</span>&nbsp;<span class="num" id="7159423">3</span><span class="op" id="7159424">,</span>&nbsp;<span class="num" id="7159426">3</span><span class="op" id="7159427">,</span>&nbsp;<span class="num" id="7159429">4</span><span class="op" id="7159430">,</span>&nbsp;<span class="num" id="7159432">4</span><span class="op" id="7159433">,</span>&nbsp;<span class="num" id="7159435">5</span><span class="op" id="7159436">,</span>&nbsp;<span class="num" id="7159438">5</span><span class="op" id="7159439">,</span>&nbsp;<span class="num" id="7159441">6</span><span class="op" id="7159442">,</span>&nbsp;<span class="num" id="7159444">6</span><span class="op" id="7159445">,</span>&nbsp;<span class="num" id="7159447">7</span><span class="op" id="7159448">,</span>&nbsp;<span class="num" id="7159450">7</span><span class="op" id="7159451">,</span>&nbsp;<span class="num" id="7159453">8</span><span class="op" id="7159454">,</span>&nbsp;<span class="num" id="7159456">8</span><span class="op" id="7159457">,</span>&nbsp;<span class="num" id="7159459">9</span><span class="op" id="7159460">,</span>&nbsp;<span class="num" id="7159462">9</span><span class="op" id="7159463">,</span>&nbsp;<span class="num" id="7159465">10</span><span class="op" id="7159467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7159472">10</span><span class="op" id="7159474">,</span>&nbsp;<span class="num" id="7159476">11</span><span class="op" id="7159478">,</span>&nbsp;<span class="num" id="7159480">11</span><span class="op" id="7159482">,</span>&nbsp;<span class="num" id="7159484">12</span><span class="op" id="7159486">,</span>&nbsp;<span class="num" id="7159488">12</span><span class="op" id="7159490">,</span>&nbsp;<span class="num" id="7159492">13</span><span class="op" id="7159494">,</span>&nbsp;<span class="num" id="7159496">13</span><span class="op" id="7159498">,</span>&nbsp;<span class="num" id="7159500">14</span><span class="op" id="7159502">,</span>&nbsp;<span class="num" id="7159504">14</span><span class="op" id="7159506">,</span>&nbsp;<span class="num" id="7159508">15</span><span class="op" id="7159510">,</span>&nbsp;<span class="num" id="7159512">15</span><span class="op" id="7159514">,</span>&nbsp;<span class="num" id="7159516">16</span><span class="op" id="7159518">,</span>&nbsp;<span class="num" id="7159520">16</span><span class="op" id="7159522">,</span>&nbsp;<span class="num" id="7159524">17</span><span class="op" id="7159526">,</span>&nbsp;<span class="num" id="7159528">17</span><span class="op" id="7159530">,</span>&nbsp;<span class="num" id="7159532">18</span><span class="op" id="7159534">,</span>&nbsp;<span class="num" id="7159536">18</span><span class="op" id="7159538">,</span>&nbsp;<span class="num" id="7159540">19</span><span class="op" id="7159542">,</span>&nbsp;<span class="num" id="7159544">19</span><span class="op" id="7159546">,</span>&nbsp;<span class="num" id="7159548">20</span><span class="op" id="7159550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7159555">20</span><span class="op" id="7159557">,</span>&nbsp;<span class="num" id="7159559">21</span><span class="op" id="7159561">,</span>&nbsp;<span class="num" id="7159563">21</span><span class="op" id="7159565">,</span>&nbsp;<span class="num" id="7159567">22</span><span class="op" id="7159569">,</span>&nbsp;<span class="num" id="7159571">22</span><span class="op" id="7159573">,</span>&nbsp;<span class="num" id="7159575">23</span><span class="op" id="7159577">,</span>&nbsp;<span class="num" id="7159579">23</span><span class="op" id="7159581">,</span>&nbsp;<span class="num" id="7159583">24</span><span class="op" id="7159585">,</span>&nbsp;<span class="num" id="7159587">24</span><span class="op" id="7159589">,</span>&nbsp;<span class="num" id="7159591">25</span><span class="op" id="7159593">,</span>&nbsp;<span class="num" id="7159595">25</span><span class="op" id="7159597">,</span>&nbsp;<span class="num" id="7159599">26</span><span class="op" id="7159601">,</span>&nbsp;<span class="num" id="7159603">26</span><span class="op" id="7159605">,</span>&nbsp;<span class="num" id="7159607">27</span><span class="op" id="7159609">,</span>&nbsp;<span class="num" id="7159611">27</span><span class="op" id="7159613">,</span>&nbsp;<span class="num" id="7159615">28</span><span class="op" id="7159617">,</span>&nbsp;<span class="num" id="7159619">28</span><span class="op" id="7159621">,</span>&nbsp;<span class="num" id="7159623">29</span><span class="op" id="7159625">,</span>&nbsp;<span class="num" id="7159627">29</span><span class="op" id="7159629">,</span>&nbsp;<span class="num" id="7159631">30</span><span class="op" id="7159633">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7159638">30</span><span class="op" id="7159640">,</span>&nbsp;<span class="num" id="7159642">31</span><span class="op" id="7159644">,</span>&nbsp;<span class="num" id="7159646">31</span><span class="op" id="7159648">,</span>&nbsp;<span class="num" id="7159650">32</span><span class="op" id="7159652">,</span>&nbsp;<span class="num" id="7159654">32</span><span class="op" id="7159656">,</span>&nbsp;<span class="num" id="7159658">33</span><span class="op" id="7159660">,</span>&nbsp;<span class="num" id="7159662">33</span><span class="op" id="7159664">,</span>&nbsp;<span class="num" id="7159666">34</span><span class="op" id="7159668">,</span>&nbsp;<span class="num" id="7159670">34</span><span class="op" id="7159672">,</span>&nbsp;<span class="num" id="7159674">35</span><span class="op" id="7159676">,</span>&nbsp;<span class="num" id="7159678">35</span><span class="op" id="7159680">,</span>&nbsp;<span class="num" id="7159682">36</span><span class="op" id="7159684">)</span><span class="op" id="7159685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7159688">}</span><span class="op" id="7159689">,</span><br>
<span class="lineno"></span><span class="op" id="7159691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7159694">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7159772">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7159832">func</span>&nbsp;<span class="ident" id="7159837">build</span><span class="op" id="7159842">(</span><span class="ident" id="7159843">n</span>&nbsp;<span class="builtintype" id="7159845">int</span><span class="op" id="7159848">,</span>&nbsp;<span class="ident" id="7159850">x</span>&nbsp;<span class="op" id="7159852">...</span><span class="builtintype" id="7159855">int</span><span class="op" id="7159858">)</span>&nbsp;<span class="op" id="7159860">[</span><span class="op" id="7159861">]</span><span class="op" id="7159862">[</span><span class="op" id="7159863">]</span><span class="builtintype" id="7159864">int</span>&nbsp;<span class="op" id="7159868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7159871">ret</span>&nbsp;<span class="op" id="7159875">:=</span>&nbsp;<span class="builtinfunc" id="7159878">make</span><span class="op" id="7159882">(</span><span class="op" id="7159883">[</span><span class="op" id="7159884">]</span><span class="op" id="7159885">[</span><span class="op" id="7159886">]</span><span class="builtintype" id="7159887">int</span><span class="op" id="7159890">,</span>&nbsp;<span class="ident" id="7159892">n</span><span class="op" id="7159893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7159896">runLength</span>&nbsp;<span class="op" id="7159906">:=</span>&nbsp;<span class="builtinfunc" id="7159909">len</span><span class="op" id="7159912">(</span><span class="ident" id="7159913">x</span><span class="op" id="7159914">)</span>&nbsp;<span class="op" id="7159916">/</span>&nbsp;<span class="ident" id="7159918">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7159921">j</span>&nbsp;<span class="op" id="7159923">:=</span>&nbsp;<span class="num" id="7159926">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7159929">for</span>&nbsp;<span class="ident" id="7159933">i</span>&nbsp;<span class="op" id="7159935">:=</span>&nbsp;<span class="keyword" id="7159938">range</span>&nbsp;<span class="ident" id="7159944">ret</span>&nbsp;<span class="op" id="7159948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7159952">ret</span><span class="op" id="7159955">[</span><span class="ident" id="7159956">i</span><span class="op" id="7159957">]</span>&nbsp;<span class="op" id="7159959">=</span>&nbsp;<span class="builtinfunc" id="7159961">make</span><span class="op" id="7159965">(</span><span class="op" id="7159966">[</span><span class="op" id="7159967">]</span><span class="builtintype" id="7159968">int</span><span class="op" id="7159971">,</span>&nbsp;<span class="ident" id="7159973">runLength</span><span class="op" id="7159982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7159986">copy</span><span class="op" id="7159990">(</span><span class="ident" id="7159991">ret</span><span class="op" id="7159994">[</span><span class="ident" id="7159995">i</span><span class="op" id="7159996">]</span><span class="op" id="7159997">,</span>&nbsp;<span class="ident" id="7159999">x</span><span class="op" id="7160000">[</span><span class="ident" id="7160001">j</span><span class="op" id="7160002">:</span><span class="op" id="7160003">]</span><span class="op" id="7160004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160008">j</span>&nbsp;<span class="op" id="7160010">+=</span>&nbsp;<span class="ident" id="7160013">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160025">if</span>&nbsp;<span class="ident" id="7160028">j</span>&nbsp;<span class="op" id="7160030">&gt;</span>&nbsp;<span class="builtinfunc" id="7160032">len</span><span class="op" id="7160035">(</span><span class="ident" id="7160036">x</span><span class="op" id="7160037">)</span>&nbsp;<span class="op" id="7160039">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7160044">panic</span><span class="op" id="7160049">(</span><span class="string" id="7160050">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7160071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7160075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7160078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160081">return</span>&nbsp;<span class="ident" id="7160088">ret</span><br>
<span class="lineno"></span><span class="op" id="7160092">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7160095">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7160123">func</span>&nbsp;<span class="ident" id="7160128">TestFind</span><span class="op" id="7160136">(</span><span class="ident" id="7160137">t</span>&nbsp;<span class="op" id="7160139">*</span><span class="ident" id="7160140">testing</span><span class="op" id="7160147">.</span><span class="ident" id="7160148">T</span><span class="op" id="7160149">)</span>&nbsp;<span class="op" id="7160151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160154">for</span>&nbsp;<span class="ident" id="7160158">_</span><span class="op" id="7160159">,</span>&nbsp;<span class="ident" id="7160161">test</span>&nbsp;<span class="op" id="7160166">:=</span>&nbsp;<span class="keyword" id="7160169">range</span>&nbsp;<span class="ident" id="7160175">findTests</span>&nbsp;<span class="op" id="7160185">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160189">re</span>&nbsp;<span class="op" id="7160192">:=</span>&nbsp;<span class="ident" id="7160195">MustCompile</span><span class="op" id="7160206">(</span><span class="ident" id="7160207">test</span><span class="op" id="7160211">.</span><span class="ident" id="7160212">pat</span><span class="op" id="7160215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160219">if</span>&nbsp;<span class="ident" id="7160222">re</span><span class="op" id="7160224">.</span><span class="ident" id="7160225">String</span><span class="op" id="7160231">(</span><span class="op" id="7160232">)</span>&nbsp;<span class="op" id="7160234">!=</span>&nbsp;<span class="ident" id="7160237">test</span><span class="op" id="7160241">.</span><span class="ident" id="7160242">pat</span>&nbsp;<span class="op" id="7160246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160251">t</span><span class="op" id="7160252">.</span><span class="ident" id="7160253">Errorf</span><span class="op" id="7160259">(</span><span class="string" id="7160260">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7160293">,</span>&nbsp;<span class="ident" id="7160295">re</span><span class="op" id="7160297">.</span><span class="ident" id="7160298">String</span><span class="op" id="7160304">(</span><span class="op" id="7160305">)</span><span class="op" id="7160306">,</span>&nbsp;<span class="ident" id="7160308">test</span><span class="op" id="7160312">.</span><span class="ident" id="7160313">pat</span><span class="op" id="7160316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7160320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160324">result</span>&nbsp;<span class="op" id="7160331">:=</span>&nbsp;<span class="ident" id="7160334">re</span><span class="op" id="7160336">.</span><span class="ident" id="7160337">Find</span><span class="op" id="7160341">(</span><span class="op" id="7160342">[</span><span class="op" id="7160343">]</span><span class="builtintype" id="7160344">byte</span><span class="op" id="7160348">(</span><span class="ident" id="7160349">test</span><span class="op" id="7160353">.</span><span class="ident" id="7160354">text</span><span class="op" id="7160358">)</span><span class="op" id="7160359">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160363">switch</span>&nbsp;<span class="op" id="7160370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160374">case</span>&nbsp;<span class="builtinfunc" id="7160379">len</span><span class="op" id="7160382">(</span><span class="ident" id="7160383">test</span><span class="op" id="7160387">.</span><span class="ident" id="7160388">matches</span><span class="op" id="7160395">)</span>&nbsp;<span class="op" id="7160397">==</span>&nbsp;<span class="num" id="7160400">0</span>&nbsp;<span class="op" id="7160402">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7160405">len</span><span class="op" id="7160408">(</span><span class="ident" id="7160409">result</span><span class="op" id="7160415">)</span>&nbsp;<span class="op" id="7160417">==</span>&nbsp;<span class="num" id="7160420">0</span><span class="op" id="7160421">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7160426">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160434">case</span>&nbsp;<span class="ident" id="7160439">test</span><span class="op" id="7160443">.</span><span class="ident" id="7160444">matches</span>&nbsp;<span class="op" id="7160452">==</span>&nbsp;<span class="builtintype" id="7160455">nil</span>&nbsp;<span class="op" id="7160459">&amp;&amp;</span>&nbsp;<span class="ident" id="7160462">result</span>&nbsp;<span class="op" id="7160469">!=</span>&nbsp;<span class="builtintype" id="7160472">nil</span><span class="op" id="7160475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160480">t</span><span class="op" id="7160481">.</span><span class="ident" id="7160482">Errorf</span><span class="op" id="7160488">(</span><span class="string" id="7160489">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7160521">,</span>&nbsp;<span class="ident" id="7160523">test</span><span class="op" id="7160527">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160531">case</span>&nbsp;<span class="ident" id="7160536">test</span><span class="op" id="7160540">.</span><span class="ident" id="7160541">matches</span>&nbsp;<span class="op" id="7160549">!=</span>&nbsp;<span class="builtintype" id="7160552">nil</span>&nbsp;<span class="op" id="7160556">&amp;&amp;</span>&nbsp;<span class="ident" id="7160559">result</span>&nbsp;<span class="op" id="7160566">==</span>&nbsp;<span class="builtintype" id="7160569">nil</span><span class="op" id="7160572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160577">t</span><span class="op" id="7160578">.</span><span class="ident" id="7160579">Errorf</span><span class="op" id="7160585">(</span><span class="string" id="7160586">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7160616">,</span>&nbsp;<span class="ident" id="7160618">test</span><span class="op" id="7160622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160626">case</span>&nbsp;<span class="ident" id="7160631">test</span><span class="op" id="7160635">.</span><span class="ident" id="7160636">matches</span>&nbsp;<span class="op" id="7160644">!=</span>&nbsp;<span class="builtintype" id="7160647">nil</span>&nbsp;<span class="op" id="7160651">&amp;&amp;</span>&nbsp;<span class="ident" id="7160654">result</span>&nbsp;<span class="op" id="7160661">!=</span>&nbsp;<span class="builtintype" id="7160664">nil</span><span class="op" id="7160667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160672">expect</span>&nbsp;<span class="op" id="7160679">:=</span>&nbsp;<span class="ident" id="7160682">test</span><span class="op" id="7160686">.</span><span class="ident" id="7160687">text</span><span class="op" id="7160691">[</span><span class="ident" id="7160692">test</span><span class="op" id="7160696">.</span><span class="ident" id="7160697">matches</span><span class="op" id="7160704">[</span><span class="num" id="7160705">0</span><span class="op" id="7160706">]</span><span class="op" id="7160707">[</span><span class="num" id="7160708">0</span><span class="op" id="7160709">]</span><span class="op" id="7160710">:</span><span class="ident" id="7160711">test</span><span class="op" id="7160715">.</span><span class="ident" id="7160716">matches</span><span class="op" id="7160723">[</span><span class="num" id="7160724">0</span><span class="op" id="7160725">]</span><span class="op" id="7160726">[</span><span class="num" id="7160727">1</span><span class="op" id="7160728">]</span><span class="op" id="7160729">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160734">if</span>&nbsp;<span class="ident" id="7160737">expect</span>&nbsp;<span class="op" id="7160744">!=</span>&nbsp;<span class="builtintype" id="7160747">string</span><span class="op" id="7160753">(</span><span class="ident" id="7160754">result</span><span class="op" id="7160760">)</span>&nbsp;<span class="op" id="7160762">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160768">t</span><span class="op" id="7160769">.</span><span class="ident" id="7160770">Errorf</span><span class="op" id="7160776">(</span><span class="string" id="7160777">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7160801">,</span>&nbsp;<span class="ident" id="7160803">expect</span><span class="op" id="7160809">,</span>&nbsp;<span class="ident" id="7160811">result</span><span class="op" id="7160817">,</span>&nbsp;<span class="ident" id="7160819">test</span><span class="op" id="7160823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7160828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7160832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7160835">}</span><br>
<span class="lineno"></span><span class="op" id="7160837">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7160840">func</span>&nbsp;<span class="ident" id="7160845">TestFindString</span><span class="op" id="7160859">(</span><span class="ident" id="7160860">t</span>&nbsp;<span class="op" id="7160862">*</span><span class="ident" id="7160863">testing</span><span class="op" id="7160870">.</span><span class="ident" id="7160871">T</span><span class="op" id="7160872">)</span>&nbsp;<span class="op" id="7160874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160877">for</span>&nbsp;<span class="ident" id="7160881">_</span><span class="op" id="7160882">,</span>&nbsp;<span class="ident" id="7160884">test</span>&nbsp;<span class="op" id="7160889">:=</span>&nbsp;<span class="keyword" id="7160892">range</span>&nbsp;<span class="ident" id="7160898">findTests</span>&nbsp;<span class="op" id="7160908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7160912">result</span>&nbsp;<span class="op" id="7160919">:=</span>&nbsp;<span class="ident" id="7160922">MustCompile</span><span class="op" id="7160933">(</span><span class="ident" id="7160934">test</span><span class="op" id="7160938">.</span><span class="ident" id="7160939">pat</span><span class="op" id="7160942">)</span><span class="op" id="7160943">.</span><span class="ident" id="7160944">FindString</span><span class="op" id="7160954">(</span><span class="ident" id="7160955">test</span><span class="op" id="7160959">.</span><span class="ident" id="7160960">text</span><span class="op" id="7160964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160968">switch</span>&nbsp;<span class="op" id="7160975">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7160979">case</span>&nbsp;<span class="builtinfunc" id="7160984">len</span><span class="op" id="7160987">(</span><span class="ident" id="7160988">test</span><span class="op" id="7160992">.</span><span class="ident" id="7160993">matches</span><span class="op" id="7161000">)</span>&nbsp;<span class="op" id="7161002">==</span>&nbsp;<span class="num" id="7161005">0</span>&nbsp;<span class="op" id="7161007">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7161010">len</span><span class="op" id="7161013">(</span><span class="ident" id="7161014">result</span><span class="op" id="7161020">)</span>&nbsp;<span class="op" id="7161022">==</span>&nbsp;<span class="num" id="7161025">0</span><span class="op" id="7161026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7161031">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161039">case</span>&nbsp;<span class="ident" id="7161044">test</span><span class="op" id="7161048">.</span><span class="ident" id="7161049">matches</span>&nbsp;<span class="op" id="7161057">==</span>&nbsp;<span class="builtintype" id="7161060">nil</span>&nbsp;<span class="op" id="7161064">&amp;&amp;</span>&nbsp;<span class="ident" id="7161067">result</span>&nbsp;<span class="op" id="7161074">!=</span>&nbsp;<span class="string" id="7161077">&#34;&#34;</span><span class="op" id="7161079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161084">t</span><span class="op" id="7161085">.</span><span class="ident" id="7161086">Errorf</span><span class="op" id="7161092">(</span><span class="string" id="7161093">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7161125">,</span>&nbsp;<span class="ident" id="7161127">test</span><span class="op" id="7161131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161135">case</span>&nbsp;<span class="ident" id="7161140">test</span><span class="op" id="7161144">.</span><span class="ident" id="7161145">matches</span>&nbsp;<span class="op" id="7161153">!=</span>&nbsp;<span class="builtintype" id="7161156">nil</span>&nbsp;<span class="op" id="7161160">&amp;&amp;</span>&nbsp;<span class="ident" id="7161163">result</span>&nbsp;<span class="op" id="7161170">==</span>&nbsp;<span class="string" id="7161173">&#34;&#34;</span><span class="op" id="7161175">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7161180">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161260">if</span>&nbsp;<span class="ident" id="7161263">test</span><span class="op" id="7161267">.</span><span class="ident" id="7161268">matches</span><span class="op" id="7161275">[</span><span class="num" id="7161276">0</span><span class="op" id="7161277">]</span><span class="op" id="7161278">[</span><span class="num" id="7161279">0</span><span class="op" id="7161280">]</span>&nbsp;<span class="op" id="7161282">!=</span>&nbsp;<span class="ident" id="7161285">test</span><span class="op" id="7161289">.</span><span class="ident" id="7161290">matches</span><span class="op" id="7161297">[</span><span class="num" id="7161298">0</span><span class="op" id="7161299">]</span><span class="op" id="7161300">[</span><span class="num" id="7161301">1</span><span class="op" id="7161302">]</span>&nbsp;<span class="op" id="7161304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161310">t</span><span class="op" id="7161311">.</span><span class="ident" id="7161312">Errorf</span><span class="op" id="7161318">(</span><span class="string" id="7161319">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7161349">,</span>&nbsp;<span class="ident" id="7161351">test</span><span class="op" id="7161355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7161360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161364">case</span>&nbsp;<span class="ident" id="7161369">test</span><span class="op" id="7161373">.</span><span class="ident" id="7161374">matches</span>&nbsp;<span class="op" id="7161382">!=</span>&nbsp;<span class="builtintype" id="7161385">nil</span>&nbsp;<span class="op" id="7161389">&amp;&amp;</span>&nbsp;<span class="ident" id="7161392">result</span>&nbsp;<span class="op" id="7161399">!=</span>&nbsp;<span class="string" id="7161402">&#34;&#34;</span><span class="op" id="7161404">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161409">expect</span>&nbsp;<span class="op" id="7161416">:=</span>&nbsp;<span class="ident" id="7161419">test</span><span class="op" id="7161423">.</span><span class="ident" id="7161424">text</span><span class="op" id="7161428">[</span><span class="ident" id="7161429">test</span><span class="op" id="7161433">.</span><span class="ident" id="7161434">matches</span><span class="op" id="7161441">[</span><span class="num" id="7161442">0</span><span class="op" id="7161443">]</span><span class="op" id="7161444">[</span><span class="num" id="7161445">0</span><span class="op" id="7161446">]</span><span class="op" id="7161447">:</span><span class="ident" id="7161448">test</span><span class="op" id="7161452">.</span><span class="ident" id="7161453">matches</span><span class="op" id="7161460">[</span><span class="num" id="7161461">0</span><span class="op" id="7161462">]</span><span class="op" id="7161463">[</span><span class="num" id="7161464">1</span><span class="op" id="7161465">]</span><span class="op" id="7161466">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161471">if</span>&nbsp;<span class="ident" id="7161474">expect</span>&nbsp;<span class="op" id="7161481">!=</span>&nbsp;<span class="ident" id="7161484">result</span>&nbsp;<span class="op" id="7161491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161497">t</span><span class="op" id="7161498">.</span><span class="ident" id="7161499">Errorf</span><span class="op" id="7161505">(</span><span class="string" id="7161506">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7161530">,</span>&nbsp;<span class="ident" id="7161532">expect</span><span class="op" id="7161538">,</span>&nbsp;<span class="ident" id="7161540">result</span><span class="op" id="7161546">,</span>&nbsp;<span class="ident" id="7161548">test</span><span class="op" id="7161552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7161557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7161561">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7161564">}</span><br>
<span class="lineno"></span><span class="op" id="7161566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7161569">func</span>&nbsp;<span class="ident" id="7161574">testFindIndex</span><span class="op" id="7161587">(</span><span class="ident" id="7161588">test</span>&nbsp;<span class="op" id="7161593">*</span><span class="ident" id="7161594">FindTest</span><span class="op" id="7161602">,</span>&nbsp;<span class="ident" id="7161604">result</span>&nbsp;<span class="op" id="7161611">[</span><span class="op" id="7161612">]</span><span class="builtintype" id="7161613">int</span><span class="op" id="7161616">,</span>&nbsp;<span class="ident" id="7161618">t</span>&nbsp;<span class="op" id="7161620">*</span><span class="ident" id="7161621">testing</span><span class="op" id="7161628">.</span><span class="ident" id="7161629">T</span><span class="op" id="7161630">)</span>&nbsp;<span class="op" id="7161632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161635">switch</span>&nbsp;<span class="op" id="7161642">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161645">case</span>&nbsp;<span class="builtinfunc" id="7161650">len</span><span class="op" id="7161653">(</span><span class="ident" id="7161654">test</span><span class="op" id="7161658">.</span><span class="ident" id="7161659">matches</span><span class="op" id="7161666">)</span>&nbsp;<span class="op" id="7161668">==</span>&nbsp;<span class="num" id="7161671">0</span>&nbsp;<span class="op" id="7161673">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7161676">len</span><span class="op" id="7161679">(</span><span class="ident" id="7161680">result</span><span class="op" id="7161686">)</span>&nbsp;<span class="op" id="7161688">==</span>&nbsp;<span class="num" id="7161691">0</span><span class="op" id="7161692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7161696">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161703">case</span>&nbsp;<span class="ident" id="7161708">test</span><span class="op" id="7161712">.</span><span class="ident" id="7161713">matches</span>&nbsp;<span class="op" id="7161721">==</span>&nbsp;<span class="builtintype" id="7161724">nil</span>&nbsp;<span class="op" id="7161728">&amp;&amp;</span>&nbsp;<span class="ident" id="7161731">result</span>&nbsp;<span class="op" id="7161738">!=</span>&nbsp;<span class="builtintype" id="7161741">nil</span><span class="op" id="7161744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161748">t</span><span class="op" id="7161749">.</span><span class="ident" id="7161750">Errorf</span><span class="op" id="7161756">(</span><span class="string" id="7161757">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7161789">,</span>&nbsp;<span class="ident" id="7161791">test</span><span class="op" id="7161795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161798">case</span>&nbsp;<span class="ident" id="7161803">test</span><span class="op" id="7161807">.</span><span class="ident" id="7161808">matches</span>&nbsp;<span class="op" id="7161816">!=</span>&nbsp;<span class="builtintype" id="7161819">nil</span>&nbsp;<span class="op" id="7161823">&amp;&amp;</span>&nbsp;<span class="ident" id="7161826">result</span>&nbsp;<span class="op" id="7161833">==</span>&nbsp;<span class="builtintype" id="7161836">nil</span><span class="op" id="7161839">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161843">t</span><span class="op" id="7161844">.</span><span class="ident" id="7161845">Errorf</span><span class="op" id="7161851">(</span><span class="string" id="7161852">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7161882">,</span>&nbsp;<span class="ident" id="7161884">test</span><span class="op" id="7161888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161891">case</span>&nbsp;<span class="ident" id="7161896">test</span><span class="op" id="7161900">.</span><span class="ident" id="7161901">matches</span>&nbsp;<span class="op" id="7161909">!=</span>&nbsp;<span class="builtintype" id="7161912">nil</span>&nbsp;<span class="op" id="7161916">&amp;&amp;</span>&nbsp;<span class="ident" id="7161919">result</span>&nbsp;<span class="op" id="7161926">!=</span>&nbsp;<span class="builtintype" id="7161929">nil</span><span class="op" id="7161932">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7161936">expect</span>&nbsp;<span class="op" id="7161943">:=</span>&nbsp;<span class="ident" id="7161946">test</span><span class="op" id="7161950">.</span><span class="ident" id="7161951">matches</span><span class="op" id="7161958">[</span><span class="num" id="7161959">0</span><span class="op" id="7161960">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7161964">if</span>&nbsp;<span class="ident" id="7161967">expect</span><span class="op" id="7161973">[</span><span class="num" id="7161974">0</span><span class="op" id="7161975">]</span>&nbsp;<span class="op" id="7161977">!=</span>&nbsp;<span class="ident" id="7161980">result</span><span class="op" id="7161986">[</span><span class="num" id="7161987">0</span><span class="op" id="7161988">]</span>&nbsp;<span class="op" id="7161990">||</span>&nbsp;<span class="ident" id="7161993">expect</span><span class="op" id="7161999">[</span><span class="num" id="7162000">1</span><span class="op" id="7162001">]</span>&nbsp;<span class="op" id="7162003">!=</span>&nbsp;<span class="ident" id="7162006">result</span><span class="op" id="7162012">[</span><span class="num" id="7162013">1</span><span class="op" id="7162014">]</span>&nbsp;<span class="op" id="7162016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162021">t</span><span class="op" id="7162022">.</span><span class="ident" id="7162023">Errorf</span><span class="op" id="7162029">(</span><span class="string" id="7162030">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7162054">,</span>&nbsp;<span class="ident" id="7162056">expect</span><span class="op" id="7162062">,</span>&nbsp;<span class="ident" id="7162064">result</span><span class="op" id="7162070">,</span>&nbsp;<span class="ident" id="7162072">test</span><span class="op" id="7162076">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7162080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7162083">}</span><br>
<span class="lineno"></span><span class="op" id="7162085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7162088">func</span>&nbsp;<span class="ident" id="7162093">TestFindIndex</span><span class="op" id="7162106">(</span><span class="ident" id="7162107">t</span>&nbsp;<span class="op" id="7162109">*</span><span class="ident" id="7162110">testing</span><span class="op" id="7162117">.</span><span class="ident" id="7162118">T</span><span class="op" id="7162119">)</span>&nbsp;<span class="op" id="7162121">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162124">for</span>&nbsp;<span class="ident" id="7162128">_</span><span class="op" id="7162129">,</span>&nbsp;<span class="ident" id="7162131">test</span>&nbsp;<span class="op" id="7162136">:=</span>&nbsp;<span class="keyword" id="7162139">range</span>&nbsp;<span class="ident" id="7162145">findTests</span>&nbsp;<span class="op" id="7162155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162159">testFindIndex</span><span class="op" id="7162172">(</span><span class="op" id="7162173">&amp;</span><span class="ident" id="7162174">test</span><span class="op" id="7162178">,</span>&nbsp;<span class="ident" id="7162180">MustCompile</span><span class="op" id="7162191">(</span><span class="ident" id="7162192">test</span><span class="op" id="7162196">.</span><span class="ident" id="7162197">pat</span><span class="op" id="7162200">)</span><span class="op" id="7162201">.</span><span class="ident" id="7162202">FindIndex</span><span class="op" id="7162211">(</span><span class="op" id="7162212">[</span><span class="op" id="7162213">]</span><span class="builtintype" id="7162214">byte</span><span class="op" id="7162218">(</span><span class="ident" id="7162219">test</span><span class="op" id="7162223">.</span><span class="ident" id="7162224">text</span><span class="op" id="7162228">)</span><span class="op" id="7162229">)</span><span class="op" id="7162230">,</span>&nbsp;<span class="ident" id="7162232">t</span><span class="op" id="7162233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7162236">}</span><br>
<span class="lineno"></span><span class="op" id="7162238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7162241">func</span>&nbsp;<span class="ident" id="7162246">TestFindStringIndex</span><span class="op" id="7162265">(</span><span class="ident" id="7162266">t</span>&nbsp;<span class="op" id="7162268">*</span><span class="ident" id="7162269">testing</span><span class="op" id="7162276">.</span><span class="ident" id="7162277">T</span><span class="op" id="7162278">)</span>&nbsp;<span class="op" id="7162280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162283">for</span>&nbsp;<span class="ident" id="7162287">_</span><span class="op" id="7162288">,</span>&nbsp;<span class="ident" id="7162290">test</span>&nbsp;<span class="op" id="7162295">:=</span>&nbsp;<span class="keyword" id="7162298">range</span>&nbsp;<span class="ident" id="7162304">findTests</span>&nbsp;<span class="op" id="7162314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162318">testFindIndex</span><span class="op" id="7162331">(</span><span class="op" id="7162332">&amp;</span><span class="ident" id="7162333">test</span><span class="op" id="7162337">,</span>&nbsp;<span class="ident" id="7162339">MustCompile</span><span class="op" id="7162350">(</span><span class="ident" id="7162351">test</span><span class="op" id="7162355">.</span><span class="ident" id="7162356">pat</span><span class="op" id="7162359">)</span><span class="op" id="7162360">.</span><span class="ident" id="7162361">FindStringIndex</span><span class="op" id="7162376">(</span><span class="ident" id="7162377">test</span><span class="op" id="7162381">.</span><span class="ident" id="7162382">text</span><span class="op" id="7162386">)</span><span class="op" id="7162387">,</span>&nbsp;<span class="ident" id="7162389">t</span><span class="op" id="7162390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7162393">}</span><br>
<span class="lineno"></span><span class="op" id="7162395">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7162398">func</span>&nbsp;<span class="ident" id="7162403">TestFindReaderIndex</span><span class="op" id="7162422">(</span><span class="ident" id="7162423">t</span>&nbsp;<span class="op" id="7162425">*</span><span class="ident" id="7162426">testing</span><span class="op" id="7162433">.</span><span class="ident" id="7162434">T</span><span class="op" id="7162435">)</span>&nbsp;<span class="op" id="7162437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162440">for</span>&nbsp;<span class="ident" id="7162444">_</span><span class="op" id="7162445">,</span>&nbsp;<span class="ident" id="7162447">test</span>&nbsp;<span class="op" id="7162452">:=</span>&nbsp;<span class="keyword" id="7162455">range</span>&nbsp;<span class="ident" id="7162461">findTests</span>&nbsp;<span class="op" id="7162471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162475">testFindIndex</span><span class="op" id="7162488">(</span><span class="op" id="7162489">&amp;</span><span class="ident" id="7162490">test</span><span class="op" id="7162494">,</span>&nbsp;<span class="ident" id="7162496">MustCompile</span><span class="op" id="7162507">(</span><span class="ident" id="7162508">test</span><span class="op" id="7162512">.</span><span class="ident" id="7162513">pat</span><span class="op" id="7162516">)</span><span class="op" id="7162517">.</span><span class="ident" id="7162518">FindReaderIndex</span><span class="op" id="7162533">(</span><span class="ident" id="7162534">strings</span><span class="op" id="7162541">.</span><span class="ident" id="7162542">NewReader</span><span class="op" id="7162551">(</span><span class="ident" id="7162552">test</span><span class="op" id="7162556">.</span><span class="ident" id="7162557">text</span><span class="op" id="7162561">)</span><span class="op" id="7162562">)</span><span class="op" id="7162563">,</span>&nbsp;<span class="ident" id="7162565">t</span><span class="op" id="7162566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7162569">}</span><br>
<span class="lineno">225</span><span class="op" id="7162571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7162574">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7162609">func</span>&nbsp;<span class="ident" id="7162614">TestFindAll</span><span class="op" id="7162625">(</span><span class="ident" id="7162626">t</span>&nbsp;<span class="op" id="7162628">*</span><span class="ident" id="7162629">testing</span><span class="op" id="7162636">.</span><span class="ident" id="7162637">T</span><span class="op" id="7162638">)</span>&nbsp;<span class="op" id="7162640">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162643">for</span>&nbsp;<span class="ident" id="7162647">_</span><span class="op" id="7162648">,</span>&nbsp;<span class="ident" id="7162650">test</span>&nbsp;<span class="op" id="7162655">:=</span>&nbsp;<span class="keyword" id="7162658">range</span>&nbsp;<span class="ident" id="7162664">findTests</span>&nbsp;<span class="op" id="7162674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162678">result</span>&nbsp;<span class="op" id="7162685">:=</span>&nbsp;<span class="ident" id="7162688">MustCompile</span><span class="op" id="7162699">(</span><span class="ident" id="7162700">test</span><span class="op" id="7162704">.</span><span class="ident" id="7162705">pat</span><span class="op" id="7162708">)</span><span class="op" id="7162709">.</span><span class="ident" id="7162710">FindAll</span><span class="op" id="7162717">(</span><span class="op" id="7162718">[</span><span class="op" id="7162719">]</span><span class="builtintype" id="7162720">byte</span><span class="op" id="7162724">(</span><span class="ident" id="7162725">test</span><span class="op" id="7162729">.</span><span class="ident" id="7162730">text</span><span class="op" id="7162734">)</span><span class="op" id="7162735">,</span>&nbsp;<span class="op" id="7162737">-</span><span class="num" id="7162738">1</span><span class="op" id="7162739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162743">switch</span>&nbsp;<span class="op" id="7162750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162754">case</span>&nbsp;<span class="ident" id="7162759">test</span><span class="op" id="7162763">.</span><span class="ident" id="7162764">matches</span>&nbsp;<span class="op" id="7162772">==</span>&nbsp;<span class="builtintype" id="7162775">nil</span>&nbsp;<span class="op" id="7162779">&amp;&amp;</span>&nbsp;<span class="ident" id="7162782">result</span>&nbsp;<span class="op" id="7162789">==</span>&nbsp;<span class="builtintype" id="7162792">nil</span><span class="op" id="7162795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7162800">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162808">case</span>&nbsp;<span class="ident" id="7162813">test</span><span class="op" id="7162817">.</span><span class="ident" id="7162818">matches</span>&nbsp;<span class="op" id="7162826">==</span>&nbsp;<span class="builtintype" id="7162829">nil</span>&nbsp;<span class="op" id="7162833">&amp;&amp;</span>&nbsp;<span class="ident" id="7162836">result</span>&nbsp;<span class="op" id="7162843">!=</span>&nbsp;<span class="builtintype" id="7162846">nil</span><span class="op" id="7162849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162854">t</span><span class="op" id="7162855">.</span><span class="ident" id="7162856">Errorf</span><span class="op" id="7162862">(</span><span class="string" id="7162863">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7162895">,</span>&nbsp;<span class="ident" id="7162897">test</span><span class="op" id="7162901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7162905">case</span>&nbsp;<span class="ident" id="7162910">test</span><span class="op" id="7162914">.</span><span class="ident" id="7162915">matches</span>&nbsp;<span class="op" id="7162923">!=</span>&nbsp;<span class="builtintype" id="7162926">nil</span>&nbsp;<span class="op" id="7162930">&amp;&amp;</span>&nbsp;<span class="ident" id="7162933">result</span>&nbsp;<span class="op" id="7162940">==</span>&nbsp;<span class="builtintype" id="7162943">nil</span><span class="op" id="7162946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7162951">t</span><span class="op" id="7162952">.</span><span class="ident" id="7162953">Fatalf</span><span class="op" id="7162959">(</span><span class="string" id="7162960">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7162990">,</span>&nbsp;<span class="ident" id="7162992">test</span><span class="op" id="7162996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163000">case</span>&nbsp;<span class="ident" id="7163005">test</span><span class="op" id="7163009">.</span><span class="ident" id="7163010">matches</span>&nbsp;<span class="op" id="7163018">!=</span>&nbsp;<span class="builtintype" id="7163021">nil</span>&nbsp;<span class="op" id="7163025">&amp;&amp;</span>&nbsp;<span class="ident" id="7163028">result</span>&nbsp;<span class="op" id="7163035">!=</span>&nbsp;<span class="builtintype" id="7163038">nil</span><span class="op" id="7163041">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163046">if</span>&nbsp;<span class="builtinfunc" id="7163049">len</span><span class="op" id="7163052">(</span><span class="ident" id="7163053">test</span><span class="op" id="7163057">.</span><span class="ident" id="7163058">matches</span><span class="op" id="7163065">)</span>&nbsp;<span class="op" id="7163067">!=</span>&nbsp;<span class="builtinfunc" id="7163070">len</span><span class="op" id="7163073">(</span><span class="ident" id="7163074">result</span><span class="op" id="7163080">)</span>&nbsp;<span class="op" id="7163082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163088">t</span><span class="op" id="7163089">.</span><span class="ident" id="7163090">Errorf</span><span class="op" id="7163096">(</span><span class="string" id="7163097">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7163130">,</span>&nbsp;<span class="builtinfunc" id="7163132">len</span><span class="op" id="7163135">(</span><span class="ident" id="7163136">test</span><span class="op" id="7163140">.</span><span class="ident" id="7163141">matches</span><span class="op" id="7163148">)</span><span class="op" id="7163149">,</span>&nbsp;<span class="builtinfunc" id="7163151">len</span><span class="op" id="7163154">(</span><span class="ident" id="7163155">result</span><span class="op" id="7163161">)</span><span class="op" id="7163162">,</span>&nbsp;<span class="ident" id="7163164">test</span><span class="op" id="7163168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163174">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163191">for</span>&nbsp;<span class="ident" id="7163195">k</span><span class="op" id="7163196">,</span>&nbsp;<span class="ident" id="7163198">e</span>&nbsp;<span class="op" id="7163200">:=</span>&nbsp;<span class="keyword" id="7163203">range</span>&nbsp;<span class="ident" id="7163209">test</span><span class="op" id="7163213">.</span><span class="ident" id="7163214">matches</span>&nbsp;<span class="op" id="7163222">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163228">expect</span>&nbsp;<span class="op" id="7163235">:=</span>&nbsp;<span class="ident" id="7163238">test</span><span class="op" id="7163242">.</span><span class="ident" id="7163243">text</span><span class="op" id="7163247">[</span><span class="ident" id="7163248">e</span><span class="op" id="7163249">[</span><span class="num" id="7163250">0</span><span class="op" id="7163251">]</span><span class="op" id="7163252">:</span><span class="ident" id="7163253">e</span><span class="op" id="7163254">[</span><span class="num" id="7163255">1</span><span class="op" id="7163256">]</span><span class="op" id="7163257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163263">if</span>&nbsp;<span class="ident" id="7163266">expect</span>&nbsp;<span class="op" id="7163273">!=</span>&nbsp;<span class="builtintype" id="7163276">string</span><span class="op" id="7163282">(</span><span class="ident" id="7163283">result</span><span class="op" id="7163289">[</span><span class="ident" id="7163290">k</span><span class="op" id="7163291">]</span><span class="op" id="7163292">)</span>&nbsp;<span class="op" id="7163294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163301">t</span><span class="op" id="7163302">.</span><span class="ident" id="7163303">Errorf</span><span class="op" id="7163309">(</span><span class="string" id="7163310">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7163344">,</span>&nbsp;<span class="ident" id="7163346">k</span><span class="op" id="7163347">,</span>&nbsp;<span class="ident" id="7163349">expect</span><span class="op" id="7163355">,</span>&nbsp;<span class="ident" id="7163357">result</span><span class="op" id="7163363">[</span><span class="ident" id="7163364">k</span><span class="op" id="7163365">]</span><span class="op" id="7163366">,</span>&nbsp;<span class="ident" id="7163368">test</span><span class="op" id="7163372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163383">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163390">}</span><br>
<span class="lineno"></span><span class="op" id="7163392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7163395">func</span>&nbsp;<span class="ident" id="7163400">TestFindAllString</span><span class="op" id="7163417">(</span><span class="ident" id="7163418">t</span>&nbsp;<span class="op" id="7163420">*</span><span class="ident" id="7163421">testing</span><span class="op" id="7163428">.</span><span class="ident" id="7163429">T</span><span class="op" id="7163430">)</span>&nbsp;<span class="op" id="7163432">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163435">for</span>&nbsp;<span class="ident" id="7163439">_</span><span class="op" id="7163440">,</span>&nbsp;<span class="ident" id="7163442">test</span>&nbsp;<span class="op" id="7163447">:=</span>&nbsp;<span class="keyword" id="7163450">range</span>&nbsp;<span class="ident" id="7163456">findTests</span>&nbsp;<span class="op" id="7163466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163470">result</span>&nbsp;<span class="op" id="7163477">:=</span>&nbsp;<span class="ident" id="7163480">MustCompile</span><span class="op" id="7163491">(</span><span class="ident" id="7163492">test</span><span class="op" id="7163496">.</span><span class="ident" id="7163497">pat</span><span class="op" id="7163500">)</span><span class="op" id="7163501">.</span><span class="ident" id="7163502">FindAllString</span><span class="op" id="7163515">(</span><span class="ident" id="7163516">test</span><span class="op" id="7163520">.</span><span class="ident" id="7163521">text</span><span class="op" id="7163525">,</span>&nbsp;<span class="op" id="7163527">-</span><span class="num" id="7163528">1</span><span class="op" id="7163529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163533">switch</span>&nbsp;<span class="op" id="7163540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163544">case</span>&nbsp;<span class="ident" id="7163549">test</span><span class="op" id="7163553">.</span><span class="ident" id="7163554">matches</span>&nbsp;<span class="op" id="7163562">==</span>&nbsp;<span class="builtintype" id="7163565">nil</span>&nbsp;<span class="op" id="7163569">&amp;&amp;</span>&nbsp;<span class="ident" id="7163572">result</span>&nbsp;<span class="op" id="7163579">==</span>&nbsp;<span class="builtintype" id="7163582">nil</span><span class="op" id="7163585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7163590">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163598">case</span>&nbsp;<span class="ident" id="7163603">test</span><span class="op" id="7163607">.</span><span class="ident" id="7163608">matches</span>&nbsp;<span class="op" id="7163616">==</span>&nbsp;<span class="builtintype" id="7163619">nil</span>&nbsp;<span class="op" id="7163623">&amp;&amp;</span>&nbsp;<span class="ident" id="7163626">result</span>&nbsp;<span class="op" id="7163633">!=</span>&nbsp;<span class="builtintype" id="7163636">nil</span><span class="op" id="7163639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163644">t</span><span class="op" id="7163645">.</span><span class="ident" id="7163646">Errorf</span><span class="op" id="7163652">(</span><span class="string" id="7163653">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7163685">,</span>&nbsp;<span class="ident" id="7163687">test</span><span class="op" id="7163691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163695">case</span>&nbsp;<span class="ident" id="7163700">test</span><span class="op" id="7163704">.</span><span class="ident" id="7163705">matches</span>&nbsp;<span class="op" id="7163713">!=</span>&nbsp;<span class="builtintype" id="7163716">nil</span>&nbsp;<span class="op" id="7163720">&amp;&amp;</span>&nbsp;<span class="ident" id="7163723">result</span>&nbsp;<span class="op" id="7163730">==</span>&nbsp;<span class="builtintype" id="7163733">nil</span><span class="op" id="7163736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163741">t</span><span class="op" id="7163742">.</span><span class="ident" id="7163743">Errorf</span><span class="op" id="7163749">(</span><span class="string" id="7163750">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7163780">,</span>&nbsp;<span class="ident" id="7163782">test</span><span class="op" id="7163786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163790">case</span>&nbsp;<span class="ident" id="7163795">test</span><span class="op" id="7163799">.</span><span class="ident" id="7163800">matches</span>&nbsp;<span class="op" id="7163808">!=</span>&nbsp;<span class="builtintype" id="7163811">nil</span>&nbsp;<span class="op" id="7163815">&amp;&amp;</span>&nbsp;<span class="ident" id="7163818">result</span>&nbsp;<span class="op" id="7163825">!=</span>&nbsp;<span class="builtintype" id="7163828">nil</span><span class="op" id="7163831">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163836">if</span>&nbsp;<span class="builtinfunc" id="7163839">len</span><span class="op" id="7163842">(</span><span class="ident" id="7163843">test</span><span class="op" id="7163847">.</span><span class="ident" id="7163848">matches</span><span class="op" id="7163855">)</span>&nbsp;<span class="op" id="7163857">!=</span>&nbsp;<span class="builtinfunc" id="7163860">len</span><span class="op" id="7163863">(</span><span class="ident" id="7163864">result</span><span class="op" id="7163870">)</span>&nbsp;<span class="op" id="7163872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163878">t</span><span class="op" id="7163879">.</span><span class="ident" id="7163880">Errorf</span><span class="op" id="7163886">(</span><span class="string" id="7163887">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7163920">,</span>&nbsp;<span class="builtinfunc" id="7163922">len</span><span class="op" id="7163925">(</span><span class="ident" id="7163926">test</span><span class="op" id="7163930">.</span><span class="ident" id="7163931">matches</span><span class="op" id="7163938">)</span><span class="op" id="7163939">,</span>&nbsp;<span class="builtinfunc" id="7163941">len</span><span class="op" id="7163944">(</span><span class="ident" id="7163945">result</span><span class="op" id="7163951">)</span><span class="op" id="7163952">,</span>&nbsp;<span class="ident" id="7163954">test</span><span class="op" id="7163958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163964">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163981">for</span>&nbsp;<span class="ident" id="7163985">k</span><span class="op" id="7163986">,</span>&nbsp;<span class="ident" id="7163988">e</span>&nbsp;<span class="op" id="7163990">:=</span>&nbsp;<span class="keyword" id="7163993">range</span>&nbsp;<span class="ident" id="7163999">test</span><span class="op" id="7164003">.</span><span class="ident" id="7164004">matches</span>&nbsp;<span class="op" id="7164012">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164018">expect</span>&nbsp;<span class="op" id="7164025">:=</span>&nbsp;<span class="ident" id="7164028">test</span><span class="op" id="7164032">.</span><span class="ident" id="7164033">text</span><span class="op" id="7164037">[</span><span class="ident" id="7164038">e</span><span class="op" id="7164039">[</span><span class="num" id="7164040">0</span><span class="op" id="7164041">]</span><span class="op" id="7164042">:</span><span class="ident" id="7164043">e</span><span class="op" id="7164044">[</span><span class="num" id="7164045">1</span><span class="op" id="7164046">]</span><span class="op" id="7164047">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164053">if</span>&nbsp;<span class="ident" id="7164056">expect</span>&nbsp;<span class="op" id="7164063">!=</span>&nbsp;<span class="ident" id="7164066">result</span><span class="op" id="7164072">[</span><span class="ident" id="7164073">k</span><span class="op" id="7164074">]</span>&nbsp;<span class="op" id="7164076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164083">t</span><span class="op" id="7164084">.</span><span class="ident" id="7164085">Errorf</span><span class="op" id="7164091">(</span><span class="string" id="7164092">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7164116">,</span>&nbsp;<span class="ident" id="7164118">expect</span><span class="op" id="7164124">,</span>&nbsp;<span class="ident" id="7164126">result</span><span class="op" id="7164132">,</span>&nbsp;<span class="ident" id="7164134">test</span><span class="op" id="7164138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164149">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164156">}</span><br>
<span class="lineno"></span><span class="op" id="7164158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7164161">func</span>&nbsp;<span class="ident" id="7164166">testFindAllIndex</span><span class="op" id="7164182">(</span><span class="ident" id="7164183">test</span>&nbsp;<span class="op" id="7164188">*</span><span class="ident" id="7164189">FindTest</span><span class="op" id="7164197">,</span>&nbsp;<span class="ident" id="7164199">result</span>&nbsp;<span class="op" id="7164206">[</span><span class="op" id="7164207">]</span><span class="op" id="7164208">[</span><span class="op" id="7164209">]</span><span class="builtintype" id="7164210">int</span><span class="op" id="7164213">,</span>&nbsp;<span class="ident" id="7164215">t</span>&nbsp;<span class="op" id="7164217">*</span><span class="ident" id="7164218">testing</span><span class="op" id="7164225">.</span><span class="ident" id="7164226">T</span><span class="op" id="7164227">)</span>&nbsp;<span class="op" id="7164229">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164232">switch</span>&nbsp;<span class="op" id="7164239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164242">case</span>&nbsp;<span class="ident" id="7164247">test</span><span class="op" id="7164251">.</span><span class="ident" id="7164252">matches</span>&nbsp;<span class="op" id="7164260">==</span>&nbsp;<span class="builtintype" id="7164263">nil</span>&nbsp;<span class="op" id="7164267">&amp;&amp;</span>&nbsp;<span class="ident" id="7164270">result</span>&nbsp;<span class="op" id="7164277">==</span>&nbsp;<span class="builtintype" id="7164280">nil</span><span class="op" id="7164283">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7164287">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164294">case</span>&nbsp;<span class="ident" id="7164299">test</span><span class="op" id="7164303">.</span><span class="ident" id="7164304">matches</span>&nbsp;<span class="op" id="7164312">==</span>&nbsp;<span class="builtintype" id="7164315">nil</span>&nbsp;<span class="op" id="7164319">&amp;&amp;</span>&nbsp;<span class="ident" id="7164322">result</span>&nbsp;<span class="op" id="7164329">!=</span>&nbsp;<span class="builtintype" id="7164332">nil</span><span class="op" id="7164335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164339">t</span><span class="op" id="7164340">.</span><span class="ident" id="7164341">Errorf</span><span class="op" id="7164347">(</span><span class="string" id="7164348">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7164380">,</span>&nbsp;<span class="ident" id="7164382">test</span><span class="op" id="7164386">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164389">case</span>&nbsp;<span class="ident" id="7164394">test</span><span class="op" id="7164398">.</span><span class="ident" id="7164399">matches</span>&nbsp;<span class="op" id="7164407">!=</span>&nbsp;<span class="builtintype" id="7164410">nil</span>&nbsp;<span class="op" id="7164414">&amp;&amp;</span>&nbsp;<span class="ident" id="7164417">result</span>&nbsp;<span class="op" id="7164424">==</span>&nbsp;<span class="builtintype" id="7164427">nil</span><span class="op" id="7164430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164434">t</span><span class="op" id="7164435">.</span><span class="ident" id="7164436">Errorf</span><span class="op" id="7164442">(</span><span class="string" id="7164443">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7164473">,</span>&nbsp;<span class="ident" id="7164475">test</span><span class="op" id="7164479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164482">case</span>&nbsp;<span class="ident" id="7164487">test</span><span class="op" id="7164491">.</span><span class="ident" id="7164492">matches</span>&nbsp;<span class="op" id="7164500">!=</span>&nbsp;<span class="builtintype" id="7164503">nil</span>&nbsp;<span class="op" id="7164507">&amp;&amp;</span>&nbsp;<span class="ident" id="7164510">result</span>&nbsp;<span class="op" id="7164517">!=</span>&nbsp;<span class="builtintype" id="7164520">nil</span><span class="op" id="7164523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164527">if</span>&nbsp;<span class="builtinfunc" id="7164530">len</span><span class="op" id="7164533">(</span><span class="ident" id="7164534">test</span><span class="op" id="7164538">.</span><span class="ident" id="7164539">matches</span><span class="op" id="7164546">)</span>&nbsp;<span class="op" id="7164548">!=</span>&nbsp;<span class="builtinfunc" id="7164551">len</span><span class="op" id="7164554">(</span><span class="ident" id="7164555">result</span><span class="op" id="7164561">)</span>&nbsp;<span class="op" id="7164563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164568">t</span><span class="op" id="7164569">.</span><span class="ident" id="7164570">Errorf</span><span class="op" id="7164576">(</span><span class="string" id="7164577">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7164610">,</span>&nbsp;<span class="builtinfunc" id="7164612">len</span><span class="op" id="7164615">(</span><span class="ident" id="7164616">test</span><span class="op" id="7164620">.</span><span class="ident" id="7164621">matches</span><span class="op" id="7164628">)</span><span class="op" id="7164629">,</span>&nbsp;<span class="builtinfunc" id="7164631">len</span><span class="op" id="7164634">(</span><span class="ident" id="7164635">result</span><span class="op" id="7164641">)</span><span class="op" id="7164642">,</span>&nbsp;<span class="ident" id="7164644">test</span><span class="op" id="7164648">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164653">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164666">for</span>&nbsp;<span class="ident" id="7164670">k</span><span class="op" id="7164671">,</span>&nbsp;<span class="ident" id="7164673">e</span>&nbsp;<span class="op" id="7164675">:=</span>&nbsp;<span class="keyword" id="7164678">range</span>&nbsp;<span class="ident" id="7164684">test</span><span class="op" id="7164688">.</span><span class="ident" id="7164689">matches</span>&nbsp;<span class="op" id="7164697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164702">if</span>&nbsp;<span class="ident" id="7164705">e</span><span class="op" id="7164706">[</span><span class="num" id="7164707">0</span><span class="op" id="7164708">]</span>&nbsp;<span class="op" id="7164710">!=</span>&nbsp;<span class="ident" id="7164713">result</span><span class="op" id="7164719">[</span><span class="ident" id="7164720">k</span><span class="op" id="7164721">]</span><span class="op" id="7164722">[</span><span class="num" id="7164723">0</span><span class="op" id="7164724">]</span>&nbsp;<span class="op" id="7164726">||</span>&nbsp;<span class="ident" id="7164729">e</span><span class="op" id="7164730">[</span><span class="num" id="7164731">1</span><span class="op" id="7164732">]</span>&nbsp;<span class="op" id="7164734">!=</span>&nbsp;<span class="ident" id="7164737">result</span><span class="op" id="7164743">[</span><span class="ident" id="7164744">k</span><span class="op" id="7164745">]</span><span class="op" id="7164746">[</span><span class="num" id="7164747">1</span><span class="op" id="7164748">]</span>&nbsp;<span class="op" id="7164750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164756">t</span><span class="op" id="7164757">.</span><span class="ident" id="7164758">Errorf</span><span class="op" id="7164764">(</span><span class="string" id="7164765">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7164799">,</span>&nbsp;<span class="ident" id="7164801">k</span><span class="op" id="7164802">,</span>&nbsp;<span class="ident" id="7164804">e</span><span class="op" id="7164805">,</span>&nbsp;<span class="ident" id="7164807">result</span><span class="op" id="7164813">[</span><span class="ident" id="7164814">k</span><span class="op" id="7164815">]</span><span class="op" id="7164816">,</span>&nbsp;<span class="ident" id="7164818">test</span><span class="op" id="7164822">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164834">}</span><br>
<span class="lineno"></span><span class="op" id="7164836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7164839">func</span>&nbsp;<span class="ident" id="7164844">TestFindAllIndex</span><span class="op" id="7164860">(</span><span class="ident" id="7164861">t</span>&nbsp;<span class="op" id="7164863">*</span><span class="ident" id="7164864">testing</span><span class="op" id="7164871">.</span><span class="ident" id="7164872">T</span><span class="op" id="7164873">)</span>&nbsp;<span class="op" id="7164875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164878">for</span>&nbsp;<span class="ident" id="7164882">_</span><span class="op" id="7164883">,</span>&nbsp;<span class="ident" id="7164885">test</span>&nbsp;<span class="op" id="7164890">:=</span>&nbsp;<span class="keyword" id="7164893">range</span>&nbsp;<span class="ident" id="7164899">findTests</span>&nbsp;<span class="op" id="7164909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164913">testFindAllIndex</span><span class="op" id="7164929">(</span><span class="op" id="7164930">&amp;</span><span class="ident" id="7164931">test</span><span class="op" id="7164935">,</span>&nbsp;<span class="ident" id="7164937">MustCompile</span><span class="op" id="7164948">(</span><span class="ident" id="7164949">test</span><span class="op" id="7164953">.</span><span class="ident" id="7164954">pat</span><span class="op" id="7164957">)</span><span class="op" id="7164958">.</span><span class="ident" id="7164959">FindAllIndex</span><span class="op" id="7164971">(</span><span class="op" id="7164972">[</span><span class="op" id="7164973">]</span><span class="builtintype" id="7164974">byte</span><span class="op" id="7164978">(</span><span class="ident" id="7164979">test</span><span class="op" id="7164983">.</span><span class="ident" id="7164984">text</span><span class="op" id="7164988">)</span><span class="op" id="7164989">,</span>&nbsp;<span class="op" id="7164991">-</span><span class="num" id="7164992">1</span><span class="op" id="7164993">)</span><span class="op" id="7164994">,</span>&nbsp;<span class="ident" id="7164996">t</span><span class="op" id="7164997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165000">}</span><br>
<span class="lineno"></span><span class="op" id="7165002">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7165005">func</span>&nbsp;<span class="ident" id="7165010">TestFindAllStringIndex</span><span class="op" id="7165032">(</span><span class="ident" id="7165033">t</span>&nbsp;<span class="op" id="7165035">*</span><span class="ident" id="7165036">testing</span><span class="op" id="7165043">.</span><span class="ident" id="7165044">T</span><span class="op" id="7165045">)</span>&nbsp;<span class="op" id="7165047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165050">for</span>&nbsp;<span class="ident" id="7165054">_</span><span class="op" id="7165055">,</span>&nbsp;<span class="ident" id="7165057">test</span>&nbsp;<span class="op" id="7165062">:=</span>&nbsp;<span class="keyword" id="7165065">range</span>&nbsp;<span class="ident" id="7165071">findTests</span>&nbsp;<span class="op" id="7165081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165085">testFindAllIndex</span><span class="op" id="7165101">(</span><span class="op" id="7165102">&amp;</span><span class="ident" id="7165103">test</span><span class="op" id="7165107">,</span>&nbsp;<span class="ident" id="7165109">MustCompile</span><span class="op" id="7165120">(</span><span class="ident" id="7165121">test</span><span class="op" id="7165125">.</span><span class="ident" id="7165126">pat</span><span class="op" id="7165129">)</span><span class="op" id="7165130">.</span><span class="ident" id="7165131">FindAllStringIndex</span><span class="op" id="7165149">(</span><span class="ident" id="7165150">test</span><span class="op" id="7165154">.</span><span class="ident" id="7165155">text</span><span class="op" id="7165159">,</span>&nbsp;<span class="op" id="7165161">-</span><span class="num" id="7165162">1</span><span class="op" id="7165163">)</span><span class="op" id="7165164">,</span>&nbsp;<span class="ident" id="7165166">t</span><span class="op" id="7165167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165170">}</span><br>
<span class="lineno">310</span><span class="op" id="7165172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7165175">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7165208">func</span>&nbsp;<span class="ident" id="7165213">testSubmatchBytes</span><span class="op" id="7165230">(</span><span class="ident" id="7165231">test</span>&nbsp;<span class="op" id="7165236">*</span><span class="ident" id="7165237">FindTest</span><span class="op" id="7165245">,</span>&nbsp;<span class="ident" id="7165247">n</span>&nbsp;<span class="builtintype" id="7165249">int</span><span class="op" id="7165252">,</span>&nbsp;<span class="ident" id="7165254">submatches</span>&nbsp;<span class="op" id="7165265">[</span><span class="op" id="7165266">]</span><span class="builtintype" id="7165267">int</span><span class="op" id="7165270">,</span>&nbsp;<span class="ident" id="7165272">result</span>&nbsp;<span class="op" id="7165279">[</span><span class="op" id="7165280">]</span><span class="op" id="7165281">[</span><span class="op" id="7165282">]</span><span class="builtintype" id="7165283">byte</span><span class="op" id="7165287">,</span>&nbsp;<span class="ident" id="7165289">t</span>&nbsp;<span class="op" id="7165291">*</span><span class="ident" id="7165292">testing</span><span class="op" id="7165299">.</span><span class="ident" id="7165300">T</span><span class="op" id="7165301">)</span>&nbsp;<span class="op" id="7165303">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165306">if</span>&nbsp;<span class="builtinfunc" id="7165309">len</span><span class="op" id="7165312">(</span><span class="ident" id="7165313">submatches</span><span class="op" id="7165323">)</span>&nbsp;<span class="op" id="7165325">!=</span>&nbsp;<span class="builtinfunc" id="7165328">len</span><span class="op" id="7165331">(</span><span class="ident" id="7165332">result</span><span class="op" id="7165338">)</span><span class="op" id="7165339">*</span><span class="num" id="7165340">2</span>&nbsp;<span class="op" id="7165342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165346">t</span><span class="op" id="7165347">.</span><span class="ident" id="7165348">Errorf</span><span class="op" id="7165354">(</span><span class="string" id="7165355">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7165401">,</span>&nbsp;<span class="ident" id="7165403">n</span><span class="op" id="7165404">,</span>&nbsp;<span class="builtinfunc" id="7165406">len</span><span class="op" id="7165409">(</span><span class="ident" id="7165410">submatches</span><span class="op" id="7165420">)</span><span class="op" id="7165421">/</span><span class="num" id="7165422">2</span><span class="op" id="7165423">,</span>&nbsp;<span class="builtinfunc" id="7165425">len</span><span class="op" id="7165428">(</span><span class="ident" id="7165429">result</span><span class="op" id="7165435">)</span><span class="op" id="7165436">,</span>&nbsp;<span class="ident" id="7165438">test</span><span class="op" id="7165442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165446">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165457">for</span>&nbsp;<span class="ident" id="7165461">k</span>&nbsp;<span class="op" id="7165463">:=</span>&nbsp;<span class="num" id="7165466">0</span><span class="op" id="7165467">;</span>&nbsp;<span class="ident" id="7165469">k</span>&nbsp;<span class="op" id="7165471">&lt;</span>&nbsp;<span class="builtinfunc" id="7165473">len</span><span class="op" id="7165476">(</span><span class="ident" id="7165477">submatches</span><span class="op" id="7165487">)</span><span class="op" id="7165488">;</span>&nbsp;<span class="ident" id="7165490">k</span>&nbsp;<span class="op" id="7165492">+=</span>&nbsp;<span class="num" id="7165495">2</span>&nbsp;<span class="op" id="7165497">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165501">if</span>&nbsp;<span class="ident" id="7165504">submatches</span><span class="op" id="7165514">[</span><span class="ident" id="7165515">k</span><span class="op" id="7165516">]</span>&nbsp;<span class="op" id="7165518">==</span>&nbsp;<span class="op" id="7165521">-</span><span class="num" id="7165522">1</span>&nbsp;<span class="op" id="7165524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165529">if</span>&nbsp;<span class="ident" id="7165532">result</span><span class="op" id="7165538">[</span><span class="ident" id="7165539">k</span><span class="op" id="7165540">/</span><span class="num" id="7165541">2</span><span class="op" id="7165542">]</span>&nbsp;<span class="op" id="7165544">!=</span>&nbsp;<span class="builtintype" id="7165547">nil</span>&nbsp;<span class="op" id="7165551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165557">t</span><span class="op" id="7165558">.</span><span class="ident" id="7165559">Errorf</span><span class="op" id="7165565">(</span><span class="string" id="7165566">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7165601">,</span>&nbsp;<span class="ident" id="7165603">n</span><span class="op" id="7165604">,</span>&nbsp;<span class="ident" id="7165606">result</span><span class="op" id="7165612">,</span>&nbsp;<span class="ident" id="7165614">test</span><span class="op" id="7165618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165628">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165643">expect</span>&nbsp;<span class="op" id="7165650">:=</span>&nbsp;<span class="ident" id="7165653">test</span><span class="op" id="7165657">.</span><span class="ident" id="7165658">text</span><span class="op" id="7165662">[</span><span class="ident" id="7165663">submatches</span><span class="op" id="7165673">[</span><span class="ident" id="7165674">k</span><span class="op" id="7165675">]</span><span class="op" id="7165676">:</span><span class="ident" id="7165677">submatches</span><span class="op" id="7165687">[</span><span class="ident" id="7165688">k</span><span class="op" id="7165689">+</span><span class="num" id="7165690">1</span><span class="op" id="7165691">]</span><span class="op" id="7165692">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165696">if</span>&nbsp;<span class="ident" id="7165699">expect</span>&nbsp;<span class="op" id="7165706">!=</span>&nbsp;<span class="builtintype" id="7165709">string</span><span class="op" id="7165715">(</span><span class="ident" id="7165716">result</span><span class="op" id="7165722">[</span><span class="ident" id="7165723">k</span><span class="op" id="7165724">/</span><span class="num" id="7165725">2</span><span class="op" id="7165726">]</span><span class="op" id="7165727">)</span>&nbsp;<span class="op" id="7165729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165734">t</span><span class="op" id="7165735">.</span><span class="ident" id="7165736">Errorf</span><span class="op" id="7165742">(</span><span class="string" id="7165743">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7165777">,</span>&nbsp;<span class="ident" id="7165779">n</span><span class="op" id="7165780">,</span>&nbsp;<span class="ident" id="7165782">expect</span><span class="op" id="7165788">,</span>&nbsp;<span class="ident" id="7165790">result</span><span class="op" id="7165796">,</span>&nbsp;<span class="ident" id="7165798">test</span><span class="op" id="7165802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165807">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165819">}</span><br>
<span class="lineno"></span><span class="op" id="7165821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7165824">func</span>&nbsp;<span class="ident" id="7165829">TestFindSubmatch</span><span class="op" id="7165845">(</span><span class="ident" id="7165846">t</span>&nbsp;<span class="op" id="7165848">*</span><span class="ident" id="7165849">testing</span><span class="op" id="7165856">.</span><span class="ident" id="7165857">T</span><span class="op" id="7165858">)</span>&nbsp;<span class="op" id="7165860">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165863">for</span>&nbsp;<span class="ident" id="7165867">_</span><span class="op" id="7165868">,</span>&nbsp;<span class="ident" id="7165870">test</span>&nbsp;<span class="op" id="7165875">:=</span>&nbsp;<span class="keyword" id="7165878">range</span>&nbsp;<span class="ident" id="7165884">findTests</span>&nbsp;<span class="op" id="7165894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165898">result</span>&nbsp;<span class="op" id="7165905">:=</span>&nbsp;<span class="ident" id="7165908">MustCompile</span><span class="op" id="7165919">(</span><span class="ident" id="7165920">test</span><span class="op" id="7165924">.</span><span class="ident" id="7165925">pat</span><span class="op" id="7165928">)</span><span class="op" id="7165929">.</span><span class="ident" id="7165930">FindSubmatch</span><span class="op" id="7165942">(</span><span class="op" id="7165943">[</span><span class="op" id="7165944">]</span><span class="builtintype" id="7165945">byte</span><span class="op" id="7165949">(</span><span class="ident" id="7165950">test</span><span class="op" id="7165954">.</span><span class="ident" id="7165955">text</span><span class="op" id="7165959">)</span><span class="op" id="7165960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165964">switch</span>&nbsp;<span class="op" id="7165971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7165975">case</span>&nbsp;<span class="ident" id="7165980">test</span><span class="op" id="7165984">.</span><span class="ident" id="7165985">matches</span>&nbsp;<span class="op" id="7165993">==</span>&nbsp;<span class="builtintype" id="7165996">nil</span>&nbsp;<span class="op" id="7166000">&amp;&amp;</span>&nbsp;<span class="ident" id="7166003">result</span>&nbsp;<span class="op" id="7166010">==</span>&nbsp;<span class="builtintype" id="7166013">nil</span><span class="op" id="7166016">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7166021">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166029">case</span>&nbsp;<span class="ident" id="7166034">test</span><span class="op" id="7166038">.</span><span class="ident" id="7166039">matches</span>&nbsp;<span class="op" id="7166047">==</span>&nbsp;<span class="builtintype" id="7166050">nil</span>&nbsp;<span class="op" id="7166054">&amp;&amp;</span>&nbsp;<span class="ident" id="7166057">result</span>&nbsp;<span class="op" id="7166064">!=</span>&nbsp;<span class="builtintype" id="7166067">nil</span><span class="op" id="7166070">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166075">t</span><span class="op" id="7166076">.</span><span class="ident" id="7166077">Errorf</span><span class="op" id="7166083">(</span><span class="string" id="7166084">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7166116">,</span>&nbsp;<span class="ident" id="7166118">test</span><span class="op" id="7166122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166126">case</span>&nbsp;<span class="ident" id="7166131">test</span><span class="op" id="7166135">.</span><span class="ident" id="7166136">matches</span>&nbsp;<span class="op" id="7166144">!=</span>&nbsp;<span class="builtintype" id="7166147">nil</span>&nbsp;<span class="op" id="7166151">&amp;&amp;</span>&nbsp;<span class="ident" id="7166154">result</span>&nbsp;<span class="op" id="7166161">==</span>&nbsp;<span class="builtintype" id="7166164">nil</span><span class="op" id="7166167">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166172">t</span><span class="op" id="7166173">.</span><span class="ident" id="7166174">Errorf</span><span class="op" id="7166180">(</span><span class="string" id="7166181">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7166211">,</span>&nbsp;<span class="ident" id="7166213">test</span><span class="op" id="7166217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166221">case</span>&nbsp;<span class="ident" id="7166226">test</span><span class="op" id="7166230">.</span><span class="ident" id="7166231">matches</span>&nbsp;<span class="op" id="7166239">!=</span>&nbsp;<span class="builtintype" id="7166242">nil</span>&nbsp;<span class="op" id="7166246">&amp;&amp;</span>&nbsp;<span class="ident" id="7166249">result</span>&nbsp;<span class="op" id="7166256">!=</span>&nbsp;<span class="builtintype" id="7166259">nil</span><span class="op" id="7166262">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166267">testSubmatchBytes</span><span class="op" id="7166284">(</span><span class="op" id="7166285">&amp;</span><span class="ident" id="7166286">test</span><span class="op" id="7166290">,</span>&nbsp;<span class="num" id="7166292">0</span><span class="op" id="7166293">,</span>&nbsp;<span class="ident" id="7166295">test</span><span class="op" id="7166299">.</span><span class="ident" id="7166300">matches</span><span class="op" id="7166307">[</span><span class="num" id="7166308">0</span><span class="op" id="7166309">]</span><span class="op" id="7166310">,</span>&nbsp;<span class="ident" id="7166312">result</span><span class="op" id="7166318">,</span>&nbsp;<span class="ident" id="7166320">t</span><span class="op" id="7166321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166328">}</span><br>
<span class="lineno"></span><span class="op" id="7166330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7166333">func</span>&nbsp;<span class="ident" id="7166338">testSubmatchString</span><span class="op" id="7166356">(</span><span class="ident" id="7166357">test</span>&nbsp;<span class="op" id="7166362">*</span><span class="ident" id="7166363">FindTest</span><span class="op" id="7166371">,</span>&nbsp;<span class="ident" id="7166373">n</span>&nbsp;<span class="builtintype" id="7166375">int</span><span class="op" id="7166378">,</span>&nbsp;<span class="ident" id="7166380">submatches</span>&nbsp;<span class="op" id="7166391">[</span><span class="op" id="7166392">]</span><span class="builtintype" id="7166393">int</span><span class="op" id="7166396">,</span>&nbsp;<span class="ident" id="7166398">result</span>&nbsp;<span class="op" id="7166405">[</span><span class="op" id="7166406">]</span><span class="builtintype" id="7166407">string</span><span class="op" id="7166413">,</span>&nbsp;<span class="ident" id="7166415">t</span>&nbsp;<span class="op" id="7166417">*</span><span class="ident" id="7166418">testing</span><span class="op" id="7166425">.</span><span class="ident" id="7166426">T</span><span class="op" id="7166427">)</span>&nbsp;<span class="op" id="7166429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166432">if</span>&nbsp;<span class="builtinfunc" id="7166435">len</span><span class="op" id="7166438">(</span><span class="ident" id="7166439">submatches</span><span class="op" id="7166449">)</span>&nbsp;<span class="op" id="7166451">!=</span>&nbsp;<span class="builtinfunc" id="7166454">len</span><span class="op" id="7166457">(</span><span class="ident" id="7166458">result</span><span class="op" id="7166464">)</span><span class="op" id="7166465">*</span><span class="num" id="7166466">2</span>&nbsp;<span class="op" id="7166468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166472">t</span><span class="op" id="7166473">.</span><span class="ident" id="7166474">Errorf</span><span class="op" id="7166480">(</span><span class="string" id="7166481">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7166527">,</span>&nbsp;<span class="ident" id="7166529">n</span><span class="op" id="7166530">,</span>&nbsp;<span class="builtinfunc" id="7166532">len</span><span class="op" id="7166535">(</span><span class="ident" id="7166536">submatches</span><span class="op" id="7166546">)</span><span class="op" id="7166547">/</span><span class="num" id="7166548">2</span><span class="op" id="7166549">,</span>&nbsp;<span class="builtinfunc" id="7166551">len</span><span class="op" id="7166554">(</span><span class="ident" id="7166555">result</span><span class="op" id="7166561">)</span><span class="op" id="7166562">,</span>&nbsp;<span class="ident" id="7166564">test</span><span class="op" id="7166568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166572">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166580">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166583">for</span>&nbsp;<span class="ident" id="7166587">k</span>&nbsp;<span class="op" id="7166589">:=</span>&nbsp;<span class="num" id="7166592">0</span><span class="op" id="7166593">;</span>&nbsp;<span class="ident" id="7166595">k</span>&nbsp;<span class="op" id="7166597">&lt;</span>&nbsp;<span class="builtinfunc" id="7166599">len</span><span class="op" id="7166602">(</span><span class="ident" id="7166603">submatches</span><span class="op" id="7166613">)</span><span class="op" id="7166614">;</span>&nbsp;<span class="ident" id="7166616">k</span>&nbsp;<span class="op" id="7166618">+=</span>&nbsp;<span class="num" id="7166621">2</span>&nbsp;<span class="op" id="7166623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166627">if</span>&nbsp;<span class="ident" id="7166630">submatches</span><span class="op" id="7166640">[</span><span class="ident" id="7166641">k</span><span class="op" id="7166642">]</span>&nbsp;<span class="op" id="7166644">==</span>&nbsp;<span class="op" id="7166647">-</span><span class="num" id="7166648">1</span>&nbsp;<span class="op" id="7166650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166655">if</span>&nbsp;<span class="ident" id="7166658">result</span><span class="op" id="7166664">[</span><span class="ident" id="7166665">k</span><span class="op" id="7166666">/</span><span class="num" id="7166667">2</span><span class="op" id="7166668">]</span>&nbsp;<span class="op" id="7166670">!=</span>&nbsp;<span class="string" id="7166673">&#34;&#34;</span>&nbsp;<span class="op" id="7166676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166682">t</span><span class="op" id="7166683">.</span><span class="ident" id="7166684">Errorf</span><span class="op" id="7166690">(</span><span class="string" id="7166691">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7166726">,</span>&nbsp;<span class="ident" id="7166728">n</span><span class="op" id="7166729">,</span>&nbsp;<span class="ident" id="7166731">result</span><span class="op" id="7166737">,</span>&nbsp;<span class="ident" id="7166739">test</span><span class="op" id="7166743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166748">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166753">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166768">expect</span>&nbsp;<span class="op" id="7166775">:=</span>&nbsp;<span class="ident" id="7166778">test</span><span class="op" id="7166782">.</span><span class="ident" id="7166783">text</span><span class="op" id="7166787">[</span><span class="ident" id="7166788">submatches</span><span class="op" id="7166798">[</span><span class="ident" id="7166799">k</span><span class="op" id="7166800">]</span><span class="op" id="7166801">:</span><span class="ident" id="7166802">submatches</span><span class="op" id="7166812">[</span><span class="ident" id="7166813">k</span><span class="op" id="7166814">+</span><span class="num" id="7166815">1</span><span class="op" id="7166816">]</span><span class="op" id="7166817">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166821">if</span>&nbsp;<span class="ident" id="7166824">expect</span>&nbsp;<span class="op" id="7166831">!=</span>&nbsp;<span class="ident" id="7166834">result</span><span class="op" id="7166840">[</span><span class="ident" id="7166841">k</span><span class="op" id="7166842">/</span><span class="num" id="7166843">2</span><span class="op" id="7166844">]</span>&nbsp;<span class="op" id="7166846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7166851">t</span><span class="op" id="7166852">.</span><span class="ident" id="7166853">Errorf</span><span class="op" id="7166859">(</span><span class="string" id="7166860">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7166894">,</span>&nbsp;<span class="ident" id="7166896">n</span><span class="op" id="7166897">,</span>&nbsp;<span class="ident" id="7166899">expect</span><span class="op" id="7166905">,</span>&nbsp;<span class="ident" id="7166907">result</span><span class="op" id="7166913">,</span>&nbsp;<span class="ident" id="7166915">test</span><span class="op" id="7166919">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166924">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7166936">}</span><br>
<span class="lineno"></span><span class="op" id="7166938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7166941">func</span>&nbsp;<span class="ident" id="7166946">TestFindStringSubmatch</span><span class="op" id="7166968">(</span><span class="ident" id="7166969">t</span>&nbsp;<span class="op" id="7166971">*</span><span class="ident" id="7166972">testing</span><span class="op" id="7166979">.</span><span class="ident" id="7166980">T</span><span class="op" id="7166981">)</span>&nbsp;<span class="op" id="7166983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7166986">for</span>&nbsp;<span class="ident" id="7166990">_</span><span class="op" id="7166991">,</span>&nbsp;<span class="ident" id="7166993">test</span>&nbsp;<span class="op" id="7166998">:=</span>&nbsp;<span class="keyword" id="7167001">range</span>&nbsp;<span class="ident" id="7167007">findTests</span>&nbsp;<span class="op" id="7167017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7167021">result</span>&nbsp;<span class="op" id="7167028">:=</span>&nbsp;<span class="ident" id="7167031">MustCompile</span><span class="op" id="7167042">(</span><span class="ident" id="7167043">test</span><span class="op" id="7167047">.</span><span class="ident" id="7167048">pat</span><span class="op" id="7167051">)</span><span class="op" id="7167052">.</span><span class="ident" id="7167053">FindStringSubmatch</span><span class="op" id="7167071">(</span><span class="ident" id="7167072">test</span><span class="op" id="7167076">.</span><span class="ident" id="7167077">text</span><span class="op" id="7167081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167085">switch</span>&nbsp;<span class="op" id="7167092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167096">case</span>&nbsp;<span class="ident" id="7167101">test</span><span class="op" id="7167105">.</span><span class="ident" id="7167106">matches</span>&nbsp;<span class="op" id="7167114">==</span>&nbsp;<span class="builtintype" id="7167117">nil</span>&nbsp;<span class="op" id="7167121">&amp;&amp;</span>&nbsp;<span class="ident" id="7167124">result</span>&nbsp;<span class="op" id="7167131">==</span>&nbsp;<span class="builtintype" id="7167134">nil</span><span class="op" id="7167137">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7167142">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167150">case</span>&nbsp;<span class="ident" id="7167155">test</span><span class="op" id="7167159">.</span><span class="ident" id="7167160">matches</span>&nbsp;<span class="op" id="7167168">==</span>&nbsp;<span class="builtintype" id="7167171">nil</span>&nbsp;<span class="op" id="7167175">&amp;&amp;</span>&nbsp;<span class="ident" id="7167178">result</span>&nbsp;<span class="op" id="7167185">!=</span>&nbsp;<span class="builtintype" id="7167188">nil</span><span class="op" id="7167191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7167196">t</span><span class="op" id="7167197">.</span><span class="ident" id="7167198">Errorf</span><span class="op" id="7167204">(</span><span class="string" id="7167205">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7167237">,</span>&nbsp;<span class="ident" id="7167239">test</span><span class="op" id="7167243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167247">case</span>&nbsp;<span class="ident" id="7167252">test</span><span class="op" id="7167256">.</span><span class="ident" id="7167257">matches</span>&nbsp;<span class="op" id="7167265">!=</span>&nbsp;<span class="builtintype" id="7167268">nil</span>&nbsp;<span class="op" id="7167272">&amp;&amp;</span>&nbsp;<span class="ident" id="7167275">result</span>&nbsp;<span class="op" id="7167282">==</span>&nbsp;<span class="builtintype" id="7167285">nil</span><span class="op" id="7167288">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7167293">t</span><span class="op" id="7167294">.</span><span class="ident" id="7167295">Errorf</span><span class="op" id="7167301">(</span><span class="string" id="7167302">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7167332">,</span>&nbsp;<span class="ident" id="7167334">test</span><span class="op" id="7167338">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167342">case</span>&nbsp;<span class="ident" id="7167347">test</span><span class="op" id="7167351">.</span><span class="ident" id="7167352">matches</span>&nbsp;<span class="op" id="7167360">!=</span>&nbsp;<span class="builtintype" id="7167363">nil</span>&nbsp;<span class="op" id="7167367">&amp;&amp;</span>&nbsp;<span class="ident" id="7167370">result</span>&nbsp;<span class="op" id="7167377">!=</span>&nbsp;<span class="builtintype" id="7167380">nil</span><span class="op" id="7167383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7167388">testSubmatchString</span><span class="op" id="7167406">(</span><span class="op" id="7167407">&amp;</span><span class="ident" id="7167408">test</span><span class="op" id="7167412">,</span>&nbsp;<span class="num" id="7167414">0</span><span class="op" id="7167415">,</span>&nbsp;<span class="ident" id="7167417">test</span><span class="op" id="7167421">.</span><span class="ident" id="7167422">matches</span><span class="op" id="7167429">[</span><span class="num" id="7167430">0</span><span class="op" id="7167431">]</span><span class="op" id="7167432">,</span>&nbsp;<span class="ident" id="7167434">result</span><span class="op" id="7167440">,</span>&nbsp;<span class="ident" id="7167442">t</span><span class="op" id="7167443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7167447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7167450">}</span><br>
<span class="lineno"></span><span class="op" id="7167452">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7167455">func</span>&nbsp;<span class="ident" id="7167460">testSubmatchIndices</span><span class="op" id="7167479">(</span><span class="ident" id="7167480">test</span>&nbsp;<span class="op" id="7167485">*</span><span class="ident" id="7167486">FindTest</span><span class="op" id="7167494">,</span>&nbsp;<span class="ident" id="7167496">n</span>&nbsp;<span class="builtintype" id="7167498">int</span><span class="op" id="7167501">,</span>&nbsp;<span class="ident" id="7167503">expect</span><span class="op" id="7167509">,</span>&nbsp;<span class="ident" id="7167511">result</span>&nbsp;<span class="op" id="7167518">[</span><span class="op" id="7167519">]</span><span class="builtintype" id="7167520">int</span><span class="op" id="7167523">,</span>&nbsp;<span class="ident" id="7167525">t</span>&nbsp;<span class="op" id="7167527">*</span><span class="ident" id="7167528">testing</span><span class="op" id="7167535">.</span><span class="ident" id="7167536">T</span><span class="op" id="7167537">)</span>&nbsp;<span class="op" id="7167539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167542">if</span>&nbsp;<span class="builtinfunc" id="7167545">len</span><span class="op" id="7167548">(</span><span class="ident" id="7167549">expect</span><span class="op" id="7167555">)</span>&nbsp;<span class="op" id="7167557">!=</span>&nbsp;<span class="builtinfunc" id="7167560">len</span><span class="op" id="7167563">(</span><span class="ident" id="7167564">result</span><span class="op" id="7167570">)</span>&nbsp;<span class="op" id="7167572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7167576">t</span><span class="op" id="7167577">.</span><span class="ident" id="7167578">Errorf</span><span class="op" id="7167584">(</span><span class="string" id="7167585">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7167628">,</span>&nbsp;<span class="ident" id="7167630">n</span><span class="op" id="7167631">,</span>&nbsp;<span class="builtinfunc" id="7167633">len</span><span class="op" id="7167636">(</span><span class="ident" id="7167637">expect</span><span class="op" id="7167643">)</span><span class="op" id="7167644">/</span><span class="num" id="7167645">2</span><span class="op" id="7167646">,</span>&nbsp;<span class="builtinfunc" id="7167648">len</span><span class="op" id="7167651">(</span><span class="ident" id="7167652">result</span><span class="op" id="7167658">)</span><span class="op" id="7167659">/</span><span class="num" id="7167660">2</span><span class="op" id="7167661">,</span>&nbsp;<span class="ident" id="7167663">test</span><span class="op" id="7167667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167671">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7167679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167682">for</span>&nbsp;<span class="ident" id="7167686">k</span><span class="op" id="7167687">,</span>&nbsp;<span class="ident" id="7167689">e</span>&nbsp;<span class="op" id="7167691">:=</span>&nbsp;<span class="keyword" id="7167694">range</span>&nbsp;<span class="ident" id="7167700">expect</span>&nbsp;<span class="op" id="7167707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167711">if</span>&nbsp;<span class="ident" id="7167714">e</span>&nbsp;<span class="op" id="7167716">!=</span>&nbsp;<span class="ident" id="7167719">result</span><span class="op" id="7167725">[</span><span class="ident" id="7167726">k</span><span class="op" id="7167727">]</span>&nbsp;<span class="op" id="7167729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7167734">t</span><span class="op" id="7167735">.</span><span class="ident" id="7167736">Errorf</span><span class="op" id="7167742">(</span><span class="string" id="7167743">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7167793">,</span>&nbsp;<span class="ident" id="7167795">n</span><span class="op" id="7167796">,</span>&nbsp;<span class="ident" id="7167798">expect</span><span class="op" id="7167804">,</span>&nbsp;<span class="ident" id="7167806">result</span><span class="op" id="7167812">,</span>&nbsp;<span class="ident" id="7167814">test</span><span class="op" id="7167818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7167822">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7167825">}</span><br>
<span class="lineno"></span><span class="op" id="7167827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7167830">func</span>&nbsp;<span class="ident" id="7167835">testFindSubmatchIndex</span><span class="op" id="7167856">(</span><span class="ident" id="7167857">test</span>&nbsp;<span class="op" id="7167862">*</span><span class="ident" id="7167863">FindTest</span><span class="op" id="7167871">,</span>&nbsp;<span class="ident" id="7167873">result</span>&nbsp;<span class="op" id="7167880">[</span><span class="op" id="7167881">]</span><span class="builtintype" id="7167882">int</span><span class="op" id="7167885">,</span>&nbsp;<span class="ident" id="7167887">t</span>&nbsp;<span class="op" id="7167889">*</span><span class="ident" id="7167890">testing</span><span class="op" id="7167897">.</span><span class="ident" id="7167898">T</span><span class="op" id="7167899">)</span>&nbsp;<span class="op" id="7167901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167904">switch</span>&nbsp;<span class="op" id="7167911">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167914">case</span>&nbsp;<span class="ident" id="7167919">test</span><span class="op" id="7167923">.</span><span class="ident" id="7167924">matches</span>&nbsp;<span class="op" id="7167932">==</span>&nbsp;<span class="builtintype" id="7167935">nil</span>&nbsp;<span class="op" id="7167939">&amp;&amp;</span>&nbsp;<span class="ident" id="7167942">result</span>&nbsp;<span class="op" id="7167949">==</span>&nbsp;<span class="builtintype" id="7167952">nil</span><span class="op" id="7167955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7167959">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7167966">case</span>&nbsp;<span class="ident" id="7167971">test</span><span class="op" id="7167975">.</span><span class="ident" id="7167976">matches</span>&nbsp;<span class="op" id="7167984">==</span>&nbsp;<span class="builtintype" id="7167987">nil</span>&nbsp;<span class="op" id="7167991">&amp;&amp;</span>&nbsp;<span class="ident" id="7167994">result</span>&nbsp;<span class="op" id="7168001">!=</span>&nbsp;<span class="builtintype" id="7168004">nil</span><span class="op" id="7168007">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168011">t</span><span class="op" id="7168012">.</span><span class="ident" id="7168013">Errorf</span><span class="op" id="7168019">(</span><span class="string" id="7168020">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7168052">,</span>&nbsp;<span class="ident" id="7168054">test</span><span class="op" id="7168058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7168061">case</span>&nbsp;<span class="ident" id="7168066">test</span><span class="op" id="7168070">.</span><span class="ident" id="7168071">matches</span>&nbsp;<span class="op" id="7168079">!=</span>&nbsp;<span class="builtintype" id="7168082">nil</span>&nbsp;<span class="op" id="7168086">&amp;&amp;</span>&nbsp;<span class="ident" id="7168089">result</span>&nbsp;<span class="op" id="7168096">==</span>&nbsp;<span class="builtintype" id="7168099">nil</span><span class="op" id="7168102">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168106">t</span><span class="op" id="7168107">.</span><span class="ident" id="7168108">Errorf</span><span class="op" id="7168114">(</span><span class="string" id="7168115">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7168145">,</span>&nbsp;<span class="ident" id="7168147">test</span><span class="op" id="7168151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7168154">case</span>&nbsp;<span class="ident" id="7168159">test</span><span class="op" id="7168163">.</span><span class="ident" id="7168164">matches</span>&nbsp;<span class="op" id="7168172">!=</span>&nbsp;<span class="builtintype" id="7168175">nil</span>&nbsp;<span class="op" id="7168179">&amp;&amp;</span>&nbsp;<span class="ident" id="7168182">result</span>&nbsp;<span class="op" id="7168189">!=</span>&nbsp;<span class="builtintype" id="7168192">nil</span><span class="op" id="7168195">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168199">testSubmatchIndices</span><span class="op" id="7168218">(</span><span class="ident" id="7168219">test</span><span class="op" id="7168223">,</span>&nbsp;<span class="num" id="7168225">0</span><span class="op" id="7168226">,</span>&nbsp;<span class="ident" id="7168228">test</span><span class="op" id="7168232">.</span><span class="ident" id="7168233">matches</span><span class="op" id="7168240">[</span><span class="num" id="7168241">0</span><span class="op" id="7168242">]</span><span class="op" id="7168243">,</span>&nbsp;<span class="ident" id="7168245">result</span><span class="op" id="7168251">,</span>&nbsp;<span class="ident" id="7168253">t</span><span class="op" id="7168254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7168257">}</span><br>
<span class="lineno"></span><span class="op" id="7168259">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7168262">func</span>&nbsp;<span class="ident" id="7168267">TestFindSubmatchIndex</span><span class="op" id="7168288">(</span><span class="ident" id="7168289">t</span>&nbsp;<span class="op" id="7168291">*</span><span class="ident" id="7168292">testing</span><span class="op" id="7168299">.</span><span class="ident" id="7168300">T</span><span class="op" id="7168301">)</span>&nbsp;<span class="op" id="7168303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7168306">for</span>&nbsp;<span class="ident" id="7168310">_</span><span class="op" id="7168311">,</span>&nbsp;<span class="ident" id="7168313">test</span>&nbsp;<span class="op" id="7168318">:=</span>&nbsp;<span class="keyword" id="7168321">range</span>&nbsp;<span class="ident" id="7168327">findTests</span>&nbsp;<span class="op" id="7168337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168341">testFindSubmatchIndex</span><span class="op" id="7168362">(</span><span class="op" id="7168363">&amp;</span><span class="ident" id="7168364">test</span><span class="op" id="7168368">,</span>&nbsp;<span class="ident" id="7168370">MustCompile</span><span class="op" id="7168381">(</span><span class="ident" id="7168382">test</span><span class="op" id="7168386">.</span><span class="ident" id="7168387">pat</span><span class="op" id="7168390">)</span><span class="op" id="7168391">.</span><span class="ident" id="7168392">FindSubmatchIndex</span><span class="op" id="7168409">(</span><span class="op" id="7168410">[</span><span class="op" id="7168411">]</span><span class="builtintype" id="7168412">byte</span><span class="op" id="7168416">(</span><span class="ident" id="7168417">test</span><span class="op" id="7168421">.</span><span class="ident" id="7168422">text</span><span class="op" id="7168426">)</span><span class="op" id="7168427">)</span><span class="op" id="7168428">,</span>&nbsp;<span class="ident" id="7168430">t</span><span class="op" id="7168431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7168434">}</span><br>
<span class="lineno">415</span><span class="op" id="7168436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7168439">func</span>&nbsp;<span class="ident" id="7168444">TestFindStringSubmatchIndex</span><span class="op" id="7168471">(</span><span class="ident" id="7168472">t</span>&nbsp;<span class="op" id="7168474">*</span><span class="ident" id="7168475">testing</span><span class="op" id="7168482">.</span><span class="ident" id="7168483">T</span><span class="op" id="7168484">)</span>&nbsp;<span class="op" id="7168486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7168489">for</span>&nbsp;<span class="ident" id="7168493">_</span><span class="op" id="7168494">,</span>&nbsp;<span class="ident" id="7168496">test</span>&nbsp;<span class="op" id="7168501">:=</span>&nbsp;<span class="keyword" id="7168504">range</span>&nbsp;<span class="ident" id="7168510">findTests</span>&nbsp;<span class="op" id="7168520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168524">testFindSubmatchIndex</span><span class="op" id="7168545">(</span><span class="op" id="7168546">&amp;</span><span class="ident" id="7168547">test</span><span class="op" id="7168551">,</span>&nbsp;<span class="ident" id="7168553">MustCompile</span><span class="op" id="7168564">(</span><span class="ident" id="7168565">test</span><span class="op" id="7168569">.</span><span class="ident" id="7168570">pat</span><span class="op" id="7168573">)</span><span class="op" id="7168574">.</span><span class="ident" id="7168575">FindStringSubmatchIndex</span><span class="op" id="7168598">(</span><span class="ident" id="7168599">test</span><span class="op" id="7168603">.</span><span class="ident" id="7168604">text</span><span class="op" id="7168608">)</span><span class="op" id="7168609">,</span>&nbsp;<span class="ident" id="7168611">t</span><span class="op" id="7168612">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7168615">}</span><br>
<span class="lineno"></span><span class="op" id="7168617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7168620">func</span>&nbsp;<span class="ident" id="7168625">TestFindReaderSubmatchIndex</span><span class="op" id="7168652">(</span><span class="ident" id="7168653">t</span>&nbsp;<span class="op" id="7168655">*</span><span class="ident" id="7168656">testing</span><span class="op" id="7168663">.</span><span class="ident" id="7168664">T</span><span class="op" id="7168665">)</span>&nbsp;<span class="op" id="7168667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7168670">for</span>&nbsp;<span class="ident" id="7168674">_</span><span class="op" id="7168675">,</span>&nbsp;<span class="ident" id="7168677">test</span>&nbsp;<span class="op" id="7168682">:=</span>&nbsp;<span class="keyword" id="7168685">range</span>&nbsp;<span class="ident" id="7168691">findTests</span>&nbsp;<span class="op" id="7168701">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168705">testFindSubmatchIndex</span><span class="op" id="7168726">(</span><span class="op" id="7168727">&amp;</span><span class="ident" id="7168728">test</span><span class="op" id="7168732">,</span>&nbsp;<span class="ident" id="7168734">MustCompile</span><span class="op" id="7168745">(</span><span class="ident" id="7168746">test</span><span class="op" id="7168750">.</span><span class="ident" id="7168751">pat</span><span class="op" id="7168754">)</span><span class="op" id="7168755">.</span><span class="ident" id="7168756">FindReaderSubmatchIndex</span><span class="op" id="7168779">(</span><span class="ident" id="7168780">strings</span><span class="op" id="7168787">.</span><span class="ident" id="7168788">NewReader</span><span class="op" id="7168797">(</span><span class="ident" id="7168798">test</span><span class="op" id="7168802">.</span><span class="ident" id="7168803">text</span><span class="op" id="7168807">)</span><span class="op" id="7168808">)</span><span class="op" id="7168809">,</span>&nbsp;<span class="ident" id="7168811">t</span><span class="op" id="7168812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7168815">}</span><br>
<span class="lineno"></span><span class="op" id="7168817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7168820">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7168864">func</span>&nbsp;<span class="ident" id="7168869">TestFindAllSubmatch</span><span class="op" id="7168888">(</span><span class="ident" id="7168889">t</span>&nbsp;<span class="op" id="7168891">*</span><span class="ident" id="7168892">testing</span><span class="op" id="7168899">.</span><span class="ident" id="7168900">T</span><span class="op" id="7168901">)</span>&nbsp;<span class="op" id="7168903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7168906">for</span>&nbsp;<span class="ident" id="7168910">_</span><span class="op" id="7168911">,</span>&nbsp;<span class="ident" id="7168913">test</span>&nbsp;<span class="op" id="7168918">:=</span>&nbsp;<span class="keyword" id="7168921">range</span>&nbsp;<span class="ident" id="7168927">findTests</span>&nbsp;<span class="op" id="7168937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7168941">result</span>&nbsp;<span class="op" id="7168948">:=</span>&nbsp;<span class="ident" id="7168951">MustCompile</span><span class="op" id="7168962">(</span><span class="ident" id="7168963">test</span><span class="op" id="7168967">.</span><span class="ident" id="7168968">pat</span><span class="op" id="7168971">)</span><span class="op" id="7168972">.</span><span class="ident" id="7168973">FindAllSubmatch</span><span class="op" id="7168988">(</span><span class="op" id="7168989">[</span><span class="op" id="7168990">]</span><span class="builtintype" id="7168991">byte</span><span class="op" id="7168995">(</span><span class="ident" id="7168996">test</span><span class="op" id="7169000">.</span><span class="ident" id="7169001">text</span><span class="op" id="7169005">)</span><span class="op" id="7169006">,</span>&nbsp;<span class="op" id="7169008">-</span><span class="num" id="7169009">1</span><span class="op" id="7169010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169014">switch</span>&nbsp;<span class="op" id="7169021">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169025">case</span>&nbsp;<span class="ident" id="7169030">test</span><span class="op" id="7169034">.</span><span class="ident" id="7169035">matches</span>&nbsp;<span class="op" id="7169043">==</span>&nbsp;<span class="builtintype" id="7169046">nil</span>&nbsp;<span class="op" id="7169050">&amp;&amp;</span>&nbsp;<span class="ident" id="7169053">result</span>&nbsp;<span class="op" id="7169060">==</span>&nbsp;<span class="builtintype" id="7169063">nil</span><span class="op" id="7169066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7169071">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169079">case</span>&nbsp;<span class="ident" id="7169084">test</span><span class="op" id="7169088">.</span><span class="ident" id="7169089">matches</span>&nbsp;<span class="op" id="7169097">==</span>&nbsp;<span class="builtintype" id="7169100">nil</span>&nbsp;<span class="op" id="7169104">&amp;&amp;</span>&nbsp;<span class="ident" id="7169107">result</span>&nbsp;<span class="op" id="7169114">!=</span>&nbsp;<span class="builtintype" id="7169117">nil</span><span class="op" id="7169120">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169125">t</span><span class="op" id="7169126">.</span><span class="ident" id="7169127">Errorf</span><span class="op" id="7169133">(</span><span class="string" id="7169134">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7169166">,</span>&nbsp;<span class="ident" id="7169168">test</span><span class="op" id="7169172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169176">case</span>&nbsp;<span class="ident" id="7169181">test</span><span class="op" id="7169185">.</span><span class="ident" id="7169186">matches</span>&nbsp;<span class="op" id="7169194">!=</span>&nbsp;<span class="builtintype" id="7169197">nil</span>&nbsp;<span class="op" id="7169201">&amp;&amp;</span>&nbsp;<span class="ident" id="7169204">result</span>&nbsp;<span class="op" id="7169211">==</span>&nbsp;<span class="builtintype" id="7169214">nil</span><span class="op" id="7169217">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169222">t</span><span class="op" id="7169223">.</span><span class="ident" id="7169224">Errorf</span><span class="op" id="7169230">(</span><span class="string" id="7169231">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7169261">,</span>&nbsp;<span class="ident" id="7169263">test</span><span class="op" id="7169267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169271">case</span>&nbsp;<span class="builtinfunc" id="7169276">len</span><span class="op" id="7169279">(</span><span class="ident" id="7169280">test</span><span class="op" id="7169284">.</span><span class="ident" id="7169285">matches</span><span class="op" id="7169292">)</span>&nbsp;<span class="op" id="7169294">!=</span>&nbsp;<span class="builtinfunc" id="7169297">len</span><span class="op" id="7169300">(</span><span class="ident" id="7169301">result</span><span class="op" id="7169307">)</span><span class="op" id="7169308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169313">t</span><span class="op" id="7169314">.</span><span class="ident" id="7169315">Errorf</span><span class="op" id="7169321">(</span><span class="string" id="7169322">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7169355">,</span>&nbsp;<span class="builtinfunc" id="7169357">len</span><span class="op" id="7169360">(</span><span class="ident" id="7169361">test</span><span class="op" id="7169365">.</span><span class="ident" id="7169366">matches</span><span class="op" id="7169373">)</span><span class="op" id="7169374">,</span>&nbsp;<span class="builtinfunc" id="7169376">len</span><span class="op" id="7169379">(</span><span class="ident" id="7169380">result</span><span class="op" id="7169386">)</span><span class="op" id="7169387">,</span>&nbsp;<span class="ident" id="7169389">test</span><span class="op" id="7169393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169397">case</span>&nbsp;<span class="ident" id="7169402">test</span><span class="op" id="7169406">.</span><span class="ident" id="7169407">matches</span>&nbsp;<span class="op" id="7169415">!=</span>&nbsp;<span class="builtintype" id="7169418">nil</span>&nbsp;<span class="op" id="7169422">&amp;&amp;</span>&nbsp;<span class="ident" id="7169425">result</span>&nbsp;<span class="op" id="7169432">!=</span>&nbsp;<span class="builtintype" id="7169435">nil</span><span class="op" id="7169438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169443">for</span>&nbsp;<span class="ident" id="7169447">k</span><span class="op" id="7169448">,</span>&nbsp;<span class="ident" id="7169450">match</span>&nbsp;<span class="op" id="7169456">:=</span>&nbsp;<span class="keyword" id="7169459">range</span>&nbsp;<span class="ident" id="7169465">test</span><span class="op" id="7169469">.</span><span class="ident" id="7169470">matches</span>&nbsp;<span class="op" id="7169478">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169484">testSubmatchBytes</span><span class="op" id="7169501">(</span><span class="op" id="7169502">&amp;</span><span class="ident" id="7169503">test</span><span class="op" id="7169507">,</span>&nbsp;<span class="ident" id="7169509">k</span><span class="op" id="7169510">,</span>&nbsp;<span class="ident" id="7169512">match</span><span class="op" id="7169517">,</span>&nbsp;<span class="ident" id="7169519">result</span><span class="op" id="7169525">[</span><span class="ident" id="7169526">k</span><span class="op" id="7169527">]</span><span class="op" id="7169528">,</span>&nbsp;<span class="ident" id="7169530">t</span><span class="op" id="7169531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7169536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7169540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7169543">}</span><br>
<span class="lineno"></span><span class="op" id="7169545">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7169548">func</span>&nbsp;<span class="ident" id="7169553">TestFindAllStringSubmatch</span><span class="op" id="7169578">(</span><span class="ident" id="7169579">t</span>&nbsp;<span class="op" id="7169581">*</span><span class="ident" id="7169582">testing</span><span class="op" id="7169589">.</span><span class="ident" id="7169590">T</span><span class="op" id="7169591">)</span>&nbsp;<span class="op" id="7169593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169596">for</span>&nbsp;<span class="ident" id="7169600">_</span><span class="op" id="7169601">,</span>&nbsp;<span class="ident" id="7169603">test</span>&nbsp;<span class="op" id="7169608">:=</span>&nbsp;<span class="keyword" id="7169611">range</span>&nbsp;<span class="ident" id="7169617">findTests</span>&nbsp;<span class="op" id="7169627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169631">result</span>&nbsp;<span class="op" id="7169638">:=</span>&nbsp;<span class="ident" id="7169641">MustCompile</span><span class="op" id="7169652">(</span><span class="ident" id="7169653">test</span><span class="op" id="7169657">.</span><span class="ident" id="7169658">pat</span><span class="op" id="7169661">)</span><span class="op" id="7169662">.</span><span class="ident" id="7169663">FindAllStringSubmatch</span><span class="op" id="7169684">(</span><span class="ident" id="7169685">test</span><span class="op" id="7169689">.</span><span class="ident" id="7169690">text</span><span class="op" id="7169694">,</span>&nbsp;<span class="op" id="7169696">-</span><span class="num" id="7169697">1</span><span class="op" id="7169698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169702">switch</span>&nbsp;<span class="op" id="7169709">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169713">case</span>&nbsp;<span class="ident" id="7169718">test</span><span class="op" id="7169722">.</span><span class="ident" id="7169723">matches</span>&nbsp;<span class="op" id="7169731">==</span>&nbsp;<span class="builtintype" id="7169734">nil</span>&nbsp;<span class="op" id="7169738">&amp;&amp;</span>&nbsp;<span class="ident" id="7169741">result</span>&nbsp;<span class="op" id="7169748">==</span>&nbsp;<span class="builtintype" id="7169751">nil</span><span class="op" id="7169754">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7169759">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169767">case</span>&nbsp;<span class="ident" id="7169772">test</span><span class="op" id="7169776">.</span><span class="ident" id="7169777">matches</span>&nbsp;<span class="op" id="7169785">==</span>&nbsp;<span class="builtintype" id="7169788">nil</span>&nbsp;<span class="op" id="7169792">&amp;&amp;</span>&nbsp;<span class="ident" id="7169795">result</span>&nbsp;<span class="op" id="7169802">!=</span>&nbsp;<span class="builtintype" id="7169805">nil</span><span class="op" id="7169808">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169813">t</span><span class="op" id="7169814">.</span><span class="ident" id="7169815">Errorf</span><span class="op" id="7169821">(</span><span class="string" id="7169822">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7169854">,</span>&nbsp;<span class="ident" id="7169856">test</span><span class="op" id="7169860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169864">case</span>&nbsp;<span class="ident" id="7169869">test</span><span class="op" id="7169873">.</span><span class="ident" id="7169874">matches</span>&nbsp;<span class="op" id="7169882">!=</span>&nbsp;<span class="builtintype" id="7169885">nil</span>&nbsp;<span class="op" id="7169889">&amp;&amp;</span>&nbsp;<span class="ident" id="7169892">result</span>&nbsp;<span class="op" id="7169899">==</span>&nbsp;<span class="builtintype" id="7169902">nil</span><span class="op" id="7169905">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7169910">t</span><span class="op" id="7169911">.</span><span class="ident" id="7169912">Errorf</span><span class="op" id="7169918">(</span><span class="string" id="7169919">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7169949">,</span>&nbsp;<span class="ident" id="7169951">test</span><span class="op" id="7169955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7169959">case</span>&nbsp;<span class="builtinfunc" id="7169964">len</span><span class="op" id="7169967">(</span><span class="ident" id="7169968">test</span><span class="op" id="7169972">.</span><span class="ident" id="7169973">matches</span><span class="op" id="7169980">)</span>&nbsp;<span class="op" id="7169982">!=</span>&nbsp;<span class="builtinfunc" id="7169985">len</span><span class="op" id="7169988">(</span><span class="ident" id="7169989">result</span><span class="op" id="7169995">)</span><span class="op" id="7169996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170001">t</span><span class="op" id="7170002">.</span><span class="ident" id="7170003">Errorf</span><span class="op" id="7170009">(</span><span class="string" id="7170010">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7170043">,</span>&nbsp;<span class="builtinfunc" id="7170045">len</span><span class="op" id="7170048">(</span><span class="ident" id="7170049">test</span><span class="op" id="7170053">.</span><span class="ident" id="7170054">matches</span><span class="op" id="7170061">)</span><span class="op" id="7170062">,</span>&nbsp;<span class="builtinfunc" id="7170064">len</span><span class="op" id="7170067">(</span><span class="ident" id="7170068">result</span><span class="op" id="7170074">)</span><span class="op" id="7170075">,</span>&nbsp;<span class="ident" id="7170077">test</span><span class="op" id="7170081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170085">case</span>&nbsp;<span class="ident" id="7170090">test</span><span class="op" id="7170094">.</span><span class="ident" id="7170095">matches</span>&nbsp;<span class="op" id="7170103">!=</span>&nbsp;<span class="builtintype" id="7170106">nil</span>&nbsp;<span class="op" id="7170110">&amp;&amp;</span>&nbsp;<span class="ident" id="7170113">result</span>&nbsp;<span class="op" id="7170120">!=</span>&nbsp;<span class="builtintype" id="7170123">nil</span><span class="op" id="7170126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170131">for</span>&nbsp;<span class="ident" id="7170135">k</span><span class="op" id="7170136">,</span>&nbsp;<span class="ident" id="7170138">match</span>&nbsp;<span class="op" id="7170144">:=</span>&nbsp;<span class="keyword" id="7170147">range</span>&nbsp;<span class="ident" id="7170153">test</span><span class="op" id="7170157">.</span><span class="ident" id="7170158">matches</span>&nbsp;<span class="op" id="7170166">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170172">testSubmatchString</span><span class="op" id="7170190">(</span><span class="op" id="7170191">&amp;</span><span class="ident" id="7170192">test</span><span class="op" id="7170196">,</span>&nbsp;<span class="ident" id="7170198">k</span><span class="op" id="7170199">,</span>&nbsp;<span class="ident" id="7170201">match</span><span class="op" id="7170206">,</span>&nbsp;<span class="ident" id="7170208">result</span><span class="op" id="7170214">[</span><span class="ident" id="7170215">k</span><span class="op" id="7170216">]</span><span class="op" id="7170217">,</span>&nbsp;<span class="ident" id="7170219">t</span><span class="op" id="7170220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7170225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7170229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7170232">}</span><br>
<span class="lineno"></span><span class="op" id="7170234">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7170237">func</span>&nbsp;<span class="ident" id="7170242">testFindAllSubmatchIndex</span><span class="op" id="7170266">(</span><span class="ident" id="7170267">test</span>&nbsp;<span class="op" id="7170272">*</span><span class="ident" id="7170273">FindTest</span><span class="op" id="7170281">,</span>&nbsp;<span class="ident" id="7170283">result</span>&nbsp;<span class="op" id="7170290">[</span><span class="op" id="7170291">]</span><span class="op" id="7170292">[</span><span class="op" id="7170293">]</span><span class="builtintype" id="7170294">int</span><span class="op" id="7170297">,</span>&nbsp;<span class="ident" id="7170299">t</span>&nbsp;<span class="op" id="7170301">*</span><span class="ident" id="7170302">testing</span><span class="op" id="7170309">.</span><span class="ident" id="7170310">T</span><span class="op" id="7170311">)</span>&nbsp;<span class="op" id="7170313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170316">switch</span>&nbsp;<span class="op" id="7170323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170326">case</span>&nbsp;<span class="ident" id="7170331">test</span><span class="op" id="7170335">.</span><span class="ident" id="7170336">matches</span>&nbsp;<span class="op" id="7170344">==</span>&nbsp;<span class="builtintype" id="7170347">nil</span>&nbsp;<span class="op" id="7170351">&amp;&amp;</span>&nbsp;<span class="ident" id="7170354">result</span>&nbsp;<span class="op" id="7170361">==</span>&nbsp;<span class="builtintype" id="7170364">nil</span><span class="op" id="7170367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7170371">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170378">case</span>&nbsp;<span class="ident" id="7170383">test</span><span class="op" id="7170387">.</span><span class="ident" id="7170388">matches</span>&nbsp;<span class="op" id="7170396">==</span>&nbsp;<span class="builtintype" id="7170399">nil</span>&nbsp;<span class="op" id="7170403">&amp;&amp;</span>&nbsp;<span class="ident" id="7170406">result</span>&nbsp;<span class="op" id="7170413">!=</span>&nbsp;<span class="builtintype" id="7170416">nil</span><span class="op" id="7170419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170423">t</span><span class="op" id="7170424">.</span><span class="ident" id="7170425">Errorf</span><span class="op" id="7170431">(</span><span class="string" id="7170432">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7170464">,</span>&nbsp;<span class="ident" id="7170466">test</span><span class="op" id="7170470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170473">case</span>&nbsp;<span class="ident" id="7170478">test</span><span class="op" id="7170482">.</span><span class="ident" id="7170483">matches</span>&nbsp;<span class="op" id="7170491">!=</span>&nbsp;<span class="builtintype" id="7170494">nil</span>&nbsp;<span class="op" id="7170498">&amp;&amp;</span>&nbsp;<span class="ident" id="7170501">result</span>&nbsp;<span class="op" id="7170508">==</span>&nbsp;<span class="builtintype" id="7170511">nil</span><span class="op" id="7170514">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170518">t</span><span class="op" id="7170519">.</span><span class="ident" id="7170520">Errorf</span><span class="op" id="7170526">(</span><span class="string" id="7170527">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7170557">,</span>&nbsp;<span class="ident" id="7170559">test</span><span class="op" id="7170563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170566">case</span>&nbsp;<span class="builtinfunc" id="7170571">len</span><span class="op" id="7170574">(</span><span class="ident" id="7170575">test</span><span class="op" id="7170579">.</span><span class="ident" id="7170580">matches</span><span class="op" id="7170587">)</span>&nbsp;<span class="op" id="7170589">!=</span>&nbsp;<span class="builtinfunc" id="7170592">len</span><span class="op" id="7170595">(</span><span class="ident" id="7170596">result</span><span class="op" id="7170602">)</span><span class="op" id="7170603">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170607">t</span><span class="op" id="7170608">.</span><span class="ident" id="7170609">Errorf</span><span class="op" id="7170615">(</span><span class="string" id="7170616">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7170649">,</span>&nbsp;<span class="builtinfunc" id="7170651">len</span><span class="op" id="7170654">(</span><span class="ident" id="7170655">test</span><span class="op" id="7170659">.</span><span class="ident" id="7170660">matches</span><span class="op" id="7170667">)</span><span class="op" id="7170668">,</span>&nbsp;<span class="builtinfunc" id="7170670">len</span><span class="op" id="7170673">(</span><span class="ident" id="7170674">result</span><span class="op" id="7170680">)</span><span class="op" id="7170681">,</span>&nbsp;<span class="ident" id="7170683">test</span><span class="op" id="7170687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170690">case</span>&nbsp;<span class="ident" id="7170695">test</span><span class="op" id="7170699">.</span><span class="ident" id="7170700">matches</span>&nbsp;<span class="op" id="7170708">!=</span>&nbsp;<span class="builtintype" id="7170711">nil</span>&nbsp;<span class="op" id="7170715">&amp;&amp;</span>&nbsp;<span class="ident" id="7170718">result</span>&nbsp;<span class="op" id="7170725">!=</span>&nbsp;<span class="builtintype" id="7170728">nil</span><span class="op" id="7170731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170735">for</span>&nbsp;<span class="ident" id="7170739">k</span><span class="op" id="7170740">,</span>&nbsp;<span class="ident" id="7170742">match</span>&nbsp;<span class="op" id="7170748">:=</span>&nbsp;<span class="keyword" id="7170751">range</span>&nbsp;<span class="ident" id="7170757">test</span><span class="op" id="7170761">.</span><span class="ident" id="7170762">matches</span>&nbsp;<span class="op" id="7170770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170775">testSubmatchIndices</span><span class="op" id="7170794">(</span><span class="ident" id="7170795">test</span><span class="op" id="7170799">,</span>&nbsp;<span class="ident" id="7170801">k</span><span class="op" id="7170802">,</span>&nbsp;<span class="ident" id="7170804">match</span><span class="op" id="7170809">,</span>&nbsp;<span class="ident" id="7170811">result</span><span class="op" id="7170817">[</span><span class="ident" id="7170818">k</span><span class="op" id="7170819">]</span><span class="op" id="7170820">,</span>&nbsp;<span class="ident" id="7170822">t</span><span class="op" id="7170823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7170827">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7170830">}</span><br>
<span class="lineno"></span><span class="op" id="7170832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7170835">func</span>&nbsp;<span class="ident" id="7170840">TestFindAllSubmatchIndex</span><span class="op" id="7170864">(</span><span class="ident" id="7170865">t</span>&nbsp;<span class="op" id="7170867">*</span><span class="ident" id="7170868">testing</span><span class="op" id="7170875">.</span><span class="ident" id="7170876">T</span><span class="op" id="7170877">)</span>&nbsp;<span class="op" id="7170879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7170882">for</span>&nbsp;<span class="ident" id="7170886">_</span><span class="op" id="7170887">,</span>&nbsp;<span class="ident" id="7170889">test</span>&nbsp;<span class="op" id="7170894">:=</span>&nbsp;<span class="keyword" id="7170897">range</span>&nbsp;<span class="ident" id="7170903">findTests</span>&nbsp;<span class="op" id="7170913">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7170917">testFindAllSubmatchIndex</span><span class="op" id="7170941">(</span><span class="op" id="7170942">&amp;</span><span class="ident" id="7170943">test</span><span class="op" id="7170947">,</span>&nbsp;<span class="ident" id="7170949">MustCompile</span><span class="op" id="7170960">(</span><span class="ident" id="7170961">test</span><span class="op" id="7170965">.</span><span class="ident" id="7170966">pat</span><span class="op" id="7170969">)</span><span class="op" id="7170970">.</span><span class="ident" id="7170971">FindAllSubmatchIndex</span><span class="op" id="7170991">(</span><span class="op" id="7170992">[</span><span class="op" id="7170993">]</span><span class="builtintype" id="7170994">byte</span><span class="op" id="7170998">(</span><span class="ident" id="7170999">test</span><span class="op" id="7171003">.</span><span class="ident" id="7171004">text</span><span class="op" id="7171008">)</span><span class="op" id="7171009">,</span>&nbsp;<span class="op" id="7171011">-</span><span class="num" id="7171012">1</span><span class="op" id="7171013">)</span><span class="op" id="7171014">,</span>&nbsp;<span class="ident" id="7171016">t</span><span class="op" id="7171017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171020">}</span><br>
<span class="lineno"></span><span class="op" id="7171022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7171025">func</span>&nbsp;<span class="ident" id="7171030">TestFindAllStringSubmatchIndex</span><span class="op" id="7171060">(</span><span class="ident" id="7171061">t</span>&nbsp;<span class="op" id="7171063">*</span><span class="ident" id="7171064">testing</span><span class="op" id="7171071">.</span><span class="ident" id="7171072">T</span><span class="op" id="7171073">)</span>&nbsp;<span class="op" id="7171075">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7171078">for</span>&nbsp;<span class="ident" id="7171082">_</span><span class="op" id="7171083">,</span>&nbsp;<span class="ident" id="7171085">test</span>&nbsp;<span class="op" id="7171090">:=</span>&nbsp;<span class="keyword" id="7171093">range</span>&nbsp;<span class="ident" id="7171099">findTests</span>&nbsp;<span class="op" id="7171109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7171113">testFindAllSubmatchIndex</span><span class="op" id="7171137">(</span><span class="op" id="7171138">&amp;</span><span class="ident" id="7171139">test</span><span class="op" id="7171143">,</span>&nbsp;<span class="ident" id="7171145">MustCompile</span><span class="op" id="7171156">(</span><span class="ident" id="7171157">test</span><span class="op" id="7171161">.</span><span class="ident" id="7171162">pat</span><span class="op" id="7171165">)</span><span class="op" id="7171166">.</span><span class="ident" id="7171167">FindAllStringSubmatchIndex</span><span class="op" id="7171193">(</span><span class="ident" id="7171194">test</span><span class="op" id="7171198">.</span><span class="ident" id="7171199">text</span><span class="op" id="7171203">,</span>&nbsp;<span class="op" id="7171205">-</span><span class="num" id="7171206">1</span><span class="op" id="7171207">)</span><span class="op" id="7171208">,</span>&nbsp;<span class="ident" id="7171210">t</span><span class="op" id="7171211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171214">}</span><br>
<span class="lineno"></span><span class="op" id="7171216">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
