<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html" class="current">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4947270">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4947329">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4947384">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4947438">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4947489">package</span>&nbsp;<span class="ident" id="4947497">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4947502">import</span>&nbsp;<span class="op" id="4947509">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4947512">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4947522">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4947525">var</span>&nbsp;<span class="ident" id="4947529">encArrayHelper</span>&nbsp;<span class="op" id="4947544">=</span>&nbsp;<span class="keyword" id="4947546">map</span><span class="op" id="4947549">[</span><span class="ident" id="4947550">reflect</span><span class="op" id="4947557">.</span><span class="ident" id="4947558">Kind</span><span class="op" id="4947562">]</span><span class="ident" id="4947563">encHelper</span><span class="op" id="4947572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947575">reflect</span><span class="op" id="4947582">.</span><span class="ident" id="4947583">Bool</span><span class="op" id="4947587">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947595">encBoolArray</span><span class="op" id="4947607">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947610">reflect</span><span class="op" id="4947617">.</span><span class="ident" id="4947618">Complex64</span><span class="op" id="4947627">:</span>&nbsp;&nbsp;<span class="ident" id="4947630">encComplex64Array</span><span class="op" id="4947647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947650">reflect</span><span class="op" id="4947657">.</span><span class="ident" id="4947658">Complex128</span><span class="op" id="4947668">:</span>&nbsp;<span class="ident" id="4947670">encComplex128Array</span><span class="op" id="4947688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947691">reflect</span><span class="op" id="4947698">.</span><span class="ident" id="4947699">Float32</span><span class="op" id="4947706">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947711">encFloat32Array</span><span class="op" id="4947726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947729">reflect</span><span class="op" id="4947736">.</span><span class="ident" id="4947737">Float64</span><span class="op" id="4947744">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947749">encFloat64Array</span><span class="op" id="4947764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947767">reflect</span><span class="op" id="4947774">.</span><span class="ident" id="4947775">Int</span><span class="op" id="4947778">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947787">encIntArray</span><span class="op" id="4947798">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947801">reflect</span><span class="op" id="4947808">.</span><span class="ident" id="4947809">Int16</span><span class="op" id="4947814">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947821">encInt16Array</span><span class="op" id="4947834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947837">reflect</span><span class="op" id="4947844">.</span><span class="ident" id="4947845">Int32</span><span class="op" id="4947850">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947857">encInt32Array</span><span class="op" id="4947870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947873">reflect</span><span class="op" id="4947880">.</span><span class="ident" id="4947881">Int64</span><span class="op" id="4947886">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947893">encInt64Array</span><span class="op" id="4947906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947909">reflect</span><span class="op" id="4947916">.</span><span class="ident" id="4947917">Int8</span><span class="op" id="4947921">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947929">encInt8Array</span><span class="op" id="4947941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947944">reflect</span><span class="op" id="4947951">.</span><span class="ident" id="4947952">String</span><span class="op" id="4947958">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947964">encStringArray</span><span class="op" id="4947978">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947981">reflect</span><span class="op" id="4947988">.</span><span class="ident" id="4947989">Uint</span><span class="op" id="4947993">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948001">encUintArray</span><span class="op" id="4948013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948016">reflect</span><span class="op" id="4948023">.</span><span class="ident" id="4948024">Uint16</span><span class="op" id="4948030">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948036">encUint16Array</span><span class="op" id="4948050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948053">reflect</span><span class="op" id="4948060">.</span><span class="ident" id="4948061">Uint32</span><span class="op" id="4948067">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948073">encUint32Array</span><span class="op" id="4948087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948090">reflect</span><span class="op" id="4948097">.</span><span class="ident" id="4948098">Uint64</span><span class="op" id="4948104">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948110">encUint64Array</span><span class="op" id="4948124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948127">reflect</span><span class="op" id="4948134">.</span><span class="ident" id="4948135">Uintptr</span><span class="op" id="4948142">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948147">encUintptrArray</span><span class="op" id="4948162">,</span><br>
<span class="lineno">30</span><span class="op" id="4948164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4948167">var</span>&nbsp;<span class="ident" id="4948171">encSliceHelper</span>&nbsp;<span class="op" id="4948186">=</span>&nbsp;<span class="keyword" id="4948188">map</span><span class="op" id="4948191">[</span><span class="ident" id="4948192">reflect</span><span class="op" id="4948199">.</span><span class="ident" id="4948200">Kind</span><span class="op" id="4948204">]</span><span class="ident" id="4948205">encHelper</span><span class="op" id="4948214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948217">reflect</span><span class="op" id="4948224">.</span><span class="ident" id="4948225">Bool</span><span class="op" id="4948229">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948237">encBoolSlice</span><span class="op" id="4948249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948252">reflect</span><span class="op" id="4948259">.</span><span class="ident" id="4948260">Complex64</span><span class="op" id="4948269">:</span>&nbsp;&nbsp;<span class="ident" id="4948272">encComplex64Slice</span><span class="op" id="4948289">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948292">reflect</span><span class="op" id="4948299">.</span><span class="ident" id="4948300">Complex128</span><span class="op" id="4948310">:</span>&nbsp;<span class="ident" id="4948312">encComplex128Slice</span><span class="op" id="4948330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948333">reflect</span><span class="op" id="4948340">.</span><span class="ident" id="4948341">Float32</span><span class="op" id="4948348">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948353">encFloat32Slice</span><span class="op" id="4948368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948371">reflect</span><span class="op" id="4948378">.</span><span class="ident" id="4948379">Float64</span><span class="op" id="4948386">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948391">encFloat64Slice</span><span class="op" id="4948406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948409">reflect</span><span class="op" id="4948416">.</span><span class="ident" id="4948417">Int</span><span class="op" id="4948420">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948429">encIntSlice</span><span class="op" id="4948440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948443">reflect</span><span class="op" id="4948450">.</span><span class="ident" id="4948451">Int16</span><span class="op" id="4948456">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948463">encInt16Slice</span><span class="op" id="4948476">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948479">reflect</span><span class="op" id="4948486">.</span><span class="ident" id="4948487">Int32</span><span class="op" id="4948492">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948499">encInt32Slice</span><span class="op" id="4948512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948515">reflect</span><span class="op" id="4948522">.</span><span class="ident" id="4948523">Int64</span><span class="op" id="4948528">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948535">encInt64Slice</span><span class="op" id="4948548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948551">reflect</span><span class="op" id="4948558">.</span><span class="ident" id="4948559">Int8</span><span class="op" id="4948563">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948571">encInt8Slice</span><span class="op" id="4948583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948586">reflect</span><span class="op" id="4948593">.</span><span class="ident" id="4948594">String</span><span class="op" id="4948600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948606">encStringSlice</span><span class="op" id="4948620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948623">reflect</span><span class="op" id="4948630">.</span><span class="ident" id="4948631">Uint</span><span class="op" id="4948635">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948643">encUintSlice</span><span class="op" id="4948655">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948658">reflect</span><span class="op" id="4948665">.</span><span class="ident" id="4948666">Uint16</span><span class="op" id="4948672">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948678">encUint16Slice</span><span class="op" id="4948692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948695">reflect</span><span class="op" id="4948702">.</span><span class="ident" id="4948703">Uint32</span><span class="op" id="4948709">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948715">encUint32Slice</span><span class="op" id="4948729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948732">reflect</span><span class="op" id="4948739">.</span><span class="ident" id="4948740">Uint64</span><span class="op" id="4948746">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948752">encUint64Slice</span><span class="op" id="4948766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948769">reflect</span><span class="op" id="4948776">.</span><span class="ident" id="4948777">Uintptr</span><span class="op" id="4948784">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948789">encUintptrSlice</span><span class="op" id="4948804">,</span><br>
<span class="lineno"></span><span class="op" id="4948806">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4948809">func</span>&nbsp;<span class="ident" id="4948814">encBoolArray</span><span class="op" id="4948826">(</span><span class="ident" id="4948827">state</span>&nbsp;<span class="op" id="4948833">*</span><span class="ident" id="4948834">encoderState</span><span class="op" id="4948846">,</span>&nbsp;<span class="ident" id="4948848">v</span>&nbsp;<span class="ident" id="4948850">reflect</span><span class="op" id="4948857">.</span><span class="ident" id="4948858">Value</span><span class="op" id="4948863">)</span>&nbsp;<span class="builtintype" id="4948865">bool</span>&nbsp;<span class="op" id="4948870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4948873">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948914">if</span>&nbsp;<span class="op" id="4948917">!</span><span class="ident" id="4948918">v</span><span class="op" id="4948919">.</span><span class="ident" id="4948920">CanAddr</span><span class="op" id="4948927">(</span><span class="op" id="4948928">)</span>&nbsp;<span class="op" id="4948930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948934">return</span>&nbsp;<span class="builtintype" id="4948941">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4948948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948951">return</span>&nbsp;<span class="ident" id="4948958">encBoolSlice</span><span class="op" id="4948970">(</span><span class="ident" id="4948971">state</span><span class="op" id="4948976">,</span>&nbsp;<span class="ident" id="4948978">v</span><span class="op" id="4948979">.</span><span class="ident" id="4948980">Slice</span><span class="op" id="4948985">(</span><span class="num" id="4948986">0</span><span class="op" id="4948987">,</span>&nbsp;<span class="ident" id="4948989">v</span><span class="op" id="4948990">.</span><span class="ident" id="4948991">Len</span><span class="op" id="4948994">(</span><span class="op" id="4948995">)</span><span class="op" id="4948996">)</span><span class="op" id="4948997">)</span><br>
<span class="lineno"></span><span class="op" id="4948999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4949002">func</span>&nbsp;<span class="ident" id="4949007">encBoolSlice</span><span class="op" id="4949019">(</span><span class="ident" id="4949020">state</span>&nbsp;<span class="op" id="4949026">*</span><span class="ident" id="4949027">encoderState</span><span class="op" id="4949039">,</span>&nbsp;<span class="ident" id="4949041">v</span>&nbsp;<span class="ident" id="4949043">reflect</span><span class="op" id="4949050">.</span><span class="ident" id="4949051">Value</span><span class="op" id="4949056">)</span>&nbsp;<span class="builtintype" id="4949058">bool</span>&nbsp;<span class="op" id="4949063">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949066">slice</span><span class="op" id="4949071">,</span>&nbsp;<span class="ident" id="4949073">ok</span>&nbsp;<span class="op" id="4949076">:=</span>&nbsp;<span class="ident" id="4949079">v</span><span class="op" id="4949080">.</span><span class="ident" id="4949081">Interface</span><span class="op" id="4949090">(</span><span class="op" id="4949091">)</span><span class="op" id="4949092">.</span><span class="op" id="4949093">(</span><span class="op" id="4949094">[</span><span class="op" id="4949095">]</span><span class="builtintype" id="4949096">bool</span><span class="op" id="4949100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949103">if</span>&nbsp;<span class="op" id="4949106">!</span><span class="ident" id="4949107">ok</span>&nbsp;<span class="op" id="4949110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4949114">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949189">return</span>&nbsp;<span class="builtintype" id="4949196">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949203">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949206">for</span>&nbsp;<span class="ident" id="4949210">_</span><span class="op" id="4949211">,</span>&nbsp;<span class="ident" id="4949213">x</span>&nbsp;<span class="op" id="4949215">:=</span>&nbsp;<span class="keyword" id="4949218">range</span>&nbsp;<span class="ident" id="4949224">slice</span>&nbsp;<span class="op" id="4949230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949234">if</span>&nbsp;<span class="ident" id="4949237">x</span>&nbsp;<span class="op" id="4949239">!=</span>&nbsp;<span class="builtintype" id="4949242">false</span>&nbsp;<span class="op" id="4949248">||</span>&nbsp;<span class="ident" id="4949251">state</span><span class="op" id="4949256">.</span><span class="ident" id="4949257">sendZero</span>&nbsp;<span class="op" id="4949266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949271">if</span>&nbsp;<span class="ident" id="4949274">x</span>&nbsp;<span class="op" id="4949276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949282">state</span><span class="op" id="4949287">.</span><span class="ident" id="4949288">encodeUint</span><span class="op" id="4949298">(</span><span class="num" id="4949299">1</span><span class="op" id="4949300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949305">}</span>&nbsp;<span class="keyword" id="4949307">else</span>&nbsp;<span class="op" id="4949312">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949318">state</span><span class="op" id="4949323">.</span><span class="ident" id="4949324">encodeUint</span><span class="op" id="4949334">(</span><span class="num" id="4949335">0</span><span class="op" id="4949336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949351">return</span>&nbsp;<span class="builtintype" id="4949358">true</span><br>
<span class="lineno">75</span><span class="op" id="4949363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4949366">func</span>&nbsp;<span class="ident" id="4949371">encComplex64Array</span><span class="op" id="4949388">(</span><span class="ident" id="4949389">state</span>&nbsp;<span class="op" id="4949395">*</span><span class="ident" id="4949396">encoderState</span><span class="op" id="4949408">,</span>&nbsp;<span class="ident" id="4949410">v</span>&nbsp;<span class="ident" id="4949412">reflect</span><span class="op" id="4949419">.</span><span class="ident" id="4949420">Value</span><span class="op" id="4949425">)</span>&nbsp;<span class="builtintype" id="4949427">bool</span>&nbsp;<span class="op" id="4949432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4949435">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949476">if</span>&nbsp;<span class="op" id="4949479">!</span><span class="ident" id="4949480">v</span><span class="op" id="4949481">.</span><span class="ident" id="4949482">CanAddr</span><span class="op" id="4949489">(</span><span class="op" id="4949490">)</span>&nbsp;<span class="op" id="4949492">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949496">return</span>&nbsp;<span class="builtintype" id="4949503">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949513">return</span>&nbsp;<span class="ident" id="4949520">encComplex64Slice</span><span class="op" id="4949537">(</span><span class="ident" id="4949538">state</span><span class="op" id="4949543">,</span>&nbsp;<span class="ident" id="4949545">v</span><span class="op" id="4949546">.</span><span class="ident" id="4949547">Slice</span><span class="op" id="4949552">(</span><span class="num" id="4949553">0</span><span class="op" id="4949554">,</span>&nbsp;<span class="ident" id="4949556">v</span><span class="op" id="4949557">.</span><span class="ident" id="4949558">Len</span><span class="op" id="4949561">(</span><span class="op" id="4949562">)</span><span class="op" id="4949563">)</span><span class="op" id="4949564">)</span><br>
<span class="lineno"></span><span class="op" id="4949566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="4949569">func</span>&nbsp;<span class="ident" id="4949574">encComplex64Slice</span><span class="op" id="4949591">(</span><span class="ident" id="4949592">state</span>&nbsp;<span class="op" id="4949598">*</span><span class="ident" id="4949599">encoderState</span><span class="op" id="4949611">,</span>&nbsp;<span class="ident" id="4949613">v</span>&nbsp;<span class="ident" id="4949615">reflect</span><span class="op" id="4949622">.</span><span class="ident" id="4949623">Value</span><span class="op" id="4949628">)</span>&nbsp;<span class="builtintype" id="4949630">bool</span>&nbsp;<span class="op" id="4949635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949638">slice</span><span class="op" id="4949643">,</span>&nbsp;<span class="ident" id="4949645">ok</span>&nbsp;<span class="op" id="4949648">:=</span>&nbsp;<span class="ident" id="4949651">v</span><span class="op" id="4949652">.</span><span class="ident" id="4949653">Interface</span><span class="op" id="4949662">(</span><span class="op" id="4949663">)</span><span class="op" id="4949664">.</span><span class="op" id="4949665">(</span><span class="op" id="4949666">[</span><span class="op" id="4949667">]</span><span class="builtintype" id="4949668">complex64</span><span class="op" id="4949677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949680">if</span>&nbsp;<span class="op" id="4949683">!</span><span class="ident" id="4949684">ok</span>&nbsp;<span class="op" id="4949687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4949691">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949776">return</span>&nbsp;<span class="builtintype" id="4949783">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949793">for</span>&nbsp;<span class="ident" id="4949797">_</span><span class="op" id="4949798">,</span>&nbsp;<span class="ident" id="4949800">x</span>&nbsp;<span class="op" id="4949802">:=</span>&nbsp;<span class="keyword" id="4949805">range</span>&nbsp;<span class="ident" id="4949811">slice</span>&nbsp;<span class="op" id="4949817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949821">if</span>&nbsp;<span class="ident" id="4949824">x</span>&nbsp;<span class="op" id="4949826">!=</span>&nbsp;<span class="num" id="4949829">0</span><span class="op" id="4949830">+</span><span class="num" id="4949831">0i</span>&nbsp;<span class="op" id="4949834">||</span>&nbsp;<span class="ident" id="4949837">state</span><span class="op" id="4949842">.</span><span class="ident" id="4949843">sendZero</span>&nbsp;<span class="op" id="4949852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949857">rpart</span>&nbsp;<span class="op" id="4949863">:=</span>&nbsp;<span class="ident" id="4949866">floatBits</span><span class="op" id="4949875">(</span><span class="builtintype" id="4949876">float64</span><span class="op" id="4949883">(</span><span class="builtinfunc" id="4949884">real</span><span class="op" id="4949888">(</span><span class="ident" id="4949889">x</span><span class="op" id="4949890">)</span><span class="op" id="4949891">)</span><span class="op" id="4949892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949897">ipart</span>&nbsp;<span class="op" id="4949903">:=</span>&nbsp;<span class="ident" id="4949906">floatBits</span><span class="op" id="4949915">(</span><span class="builtintype" id="4949916">float64</span><span class="op" id="4949923">(</span><span class="builtinfunc" id="4949924">imag</span><span class="op" id="4949928">(</span><span class="ident" id="4949929">x</span><span class="op" id="4949930">)</span><span class="op" id="4949931">)</span><span class="op" id="4949932">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949937">state</span><span class="op" id="4949942">.</span><span class="ident" id="4949943">encodeUint</span><span class="op" id="4949953">(</span><span class="ident" id="4949954">rpart</span><span class="op" id="4949959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949964">state</span><span class="op" id="4949969">.</span><span class="ident" id="4949970">encodeUint</span><span class="op" id="4949980">(</span><span class="ident" id="4949981">ipart</span><span class="op" id="4949986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949996">return</span>&nbsp;<span class="builtintype" id="4950003">true</span><br>
<span class="lineno">100</span><span class="op" id="4950008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4950011">func</span>&nbsp;<span class="ident" id="4950016">encComplex128Array</span><span class="op" id="4950034">(</span><span class="ident" id="4950035">state</span>&nbsp;<span class="op" id="4950041">*</span><span class="ident" id="4950042">encoderState</span><span class="op" id="4950054">,</span>&nbsp;<span class="ident" id="4950056">v</span>&nbsp;<span class="ident" id="4950058">reflect</span><span class="op" id="4950065">.</span><span class="ident" id="4950066">Value</span><span class="op" id="4950071">)</span>&nbsp;<span class="builtintype" id="4950073">bool</span>&nbsp;<span class="op" id="4950078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950081">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950122">if</span>&nbsp;<span class="op" id="4950125">!</span><span class="ident" id="4950126">v</span><span class="op" id="4950127">.</span><span class="ident" id="4950128">CanAddr</span><span class="op" id="4950135">(</span><span class="op" id="4950136">)</span>&nbsp;<span class="op" id="4950138">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950142">return</span>&nbsp;<span class="builtintype" id="4950149">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950159">return</span>&nbsp;<span class="ident" id="4950166">encComplex128Slice</span><span class="op" id="4950184">(</span><span class="ident" id="4950185">state</span><span class="op" id="4950190">,</span>&nbsp;<span class="ident" id="4950192">v</span><span class="op" id="4950193">.</span><span class="ident" id="4950194">Slice</span><span class="op" id="4950199">(</span><span class="num" id="4950200">0</span><span class="op" id="4950201">,</span>&nbsp;<span class="ident" id="4950203">v</span><span class="op" id="4950204">.</span><span class="ident" id="4950205">Len</span><span class="op" id="4950208">(</span><span class="op" id="4950209">)</span><span class="op" id="4950210">)</span><span class="op" id="4950211">)</span><br>
<span class="lineno"></span><span class="op" id="4950213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="4950216">func</span>&nbsp;<span class="ident" id="4950221">encComplex128Slice</span><span class="op" id="4950239">(</span><span class="ident" id="4950240">state</span>&nbsp;<span class="op" id="4950246">*</span><span class="ident" id="4950247">encoderState</span><span class="op" id="4950259">,</span>&nbsp;<span class="ident" id="4950261">v</span>&nbsp;<span class="ident" id="4950263">reflect</span><span class="op" id="4950270">.</span><span class="ident" id="4950271">Value</span><span class="op" id="4950276">)</span>&nbsp;<span class="builtintype" id="4950278">bool</span>&nbsp;<span class="op" id="4950283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950286">slice</span><span class="op" id="4950291">,</span>&nbsp;<span class="ident" id="4950293">ok</span>&nbsp;<span class="op" id="4950296">:=</span>&nbsp;<span class="ident" id="4950299">v</span><span class="op" id="4950300">.</span><span class="ident" id="4950301">Interface</span><span class="op" id="4950310">(</span><span class="op" id="4950311">)</span><span class="op" id="4950312">.</span><span class="op" id="4950313">(</span><span class="op" id="4950314">[</span><span class="op" id="4950315">]</span><span class="builtintype" id="4950316">complex128</span><span class="op" id="4950326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950329">if</span>&nbsp;<span class="op" id="4950332">!</span><span class="ident" id="4950333">ok</span>&nbsp;<span class="op" id="4950336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950340">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950427">return</span>&nbsp;<span class="builtintype" id="4950434">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950444">for</span>&nbsp;<span class="ident" id="4950448">_</span><span class="op" id="4950449">,</span>&nbsp;<span class="ident" id="4950451">x</span>&nbsp;<span class="op" id="4950453">:=</span>&nbsp;<span class="keyword" id="4950456">range</span>&nbsp;<span class="ident" id="4950462">slice</span>&nbsp;<span class="op" id="4950468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950472">if</span>&nbsp;<span class="ident" id="4950475">x</span>&nbsp;<span class="op" id="4950477">!=</span>&nbsp;<span class="num" id="4950480">0</span><span class="op" id="4950481">+</span><span class="num" id="4950482">0i</span>&nbsp;<span class="op" id="4950485">||</span>&nbsp;<span class="ident" id="4950488">state</span><span class="op" id="4950493">.</span><span class="ident" id="4950494">sendZero</span>&nbsp;<span class="op" id="4950503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950508">rpart</span>&nbsp;<span class="op" id="4950514">:=</span>&nbsp;<span class="ident" id="4950517">floatBits</span><span class="op" id="4950526">(</span><span class="builtinfunc" id="4950527">real</span><span class="op" id="4950531">(</span><span class="ident" id="4950532">x</span><span class="op" id="4950533">)</span><span class="op" id="4950534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950539">ipart</span>&nbsp;<span class="op" id="4950545">:=</span>&nbsp;<span class="ident" id="4950548">floatBits</span><span class="op" id="4950557">(</span><span class="builtinfunc" id="4950558">imag</span><span class="op" id="4950562">(</span><span class="ident" id="4950563">x</span><span class="op" id="4950564">)</span><span class="op" id="4950565">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950570">state</span><span class="op" id="4950575">.</span><span class="ident" id="4950576">encodeUint</span><span class="op" id="4950586">(</span><span class="ident" id="4950587">rpart</span><span class="op" id="4950592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950597">state</span><span class="op" id="4950602">.</span><span class="ident" id="4950603">encodeUint</span><span class="op" id="4950613">(</span><span class="ident" id="4950614">ipart</span><span class="op" id="4950619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950629">return</span>&nbsp;<span class="builtintype" id="4950636">true</span><br>
<span class="lineno">125</span><span class="op" id="4950641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4950644">func</span>&nbsp;<span class="ident" id="4950649">encFloat32Array</span><span class="op" id="4950664">(</span><span class="ident" id="4950665">state</span>&nbsp;<span class="op" id="4950671">*</span><span class="ident" id="4950672">encoderState</span><span class="op" id="4950684">,</span>&nbsp;<span class="ident" id="4950686">v</span>&nbsp;<span class="ident" id="4950688">reflect</span><span class="op" id="4950695">.</span><span class="ident" id="4950696">Value</span><span class="op" id="4950701">)</span>&nbsp;<span class="builtintype" id="4950703">bool</span>&nbsp;<span class="op" id="4950708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950711">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950752">if</span>&nbsp;<span class="op" id="4950755">!</span><span class="ident" id="4950756">v</span><span class="op" id="4950757">.</span><span class="ident" id="4950758">CanAddr</span><span class="op" id="4950765">(</span><span class="op" id="4950766">)</span>&nbsp;<span class="op" id="4950768">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950772">return</span>&nbsp;<span class="builtintype" id="4950779">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950789">return</span>&nbsp;<span class="ident" id="4950796">encFloat32Slice</span><span class="op" id="4950811">(</span><span class="ident" id="4950812">state</span><span class="op" id="4950817">,</span>&nbsp;<span class="ident" id="4950819">v</span><span class="op" id="4950820">.</span><span class="ident" id="4950821">Slice</span><span class="op" id="4950826">(</span><span class="num" id="4950827">0</span><span class="op" id="4950828">,</span>&nbsp;<span class="ident" id="4950830">v</span><span class="op" id="4950831">.</span><span class="ident" id="4950832">Len</span><span class="op" id="4950835">(</span><span class="op" id="4950836">)</span><span class="op" id="4950837">)</span><span class="op" id="4950838">)</span><br>
<span class="lineno"></span><span class="op" id="4950840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="4950843">func</span>&nbsp;<span class="ident" id="4950848">encFloat32Slice</span><span class="op" id="4950863">(</span><span class="ident" id="4950864">state</span>&nbsp;<span class="op" id="4950870">*</span><span class="ident" id="4950871">encoderState</span><span class="op" id="4950883">,</span>&nbsp;<span class="ident" id="4950885">v</span>&nbsp;<span class="ident" id="4950887">reflect</span><span class="op" id="4950894">.</span><span class="ident" id="4950895">Value</span><span class="op" id="4950900">)</span>&nbsp;<span class="builtintype" id="4950902">bool</span>&nbsp;<span class="op" id="4950907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950910">slice</span><span class="op" id="4950915">,</span>&nbsp;<span class="ident" id="4950917">ok</span>&nbsp;<span class="op" id="4950920">:=</span>&nbsp;<span class="ident" id="4950923">v</span><span class="op" id="4950924">.</span><span class="ident" id="4950925">Interface</span><span class="op" id="4950934">(</span><span class="op" id="4950935">)</span><span class="op" id="4950936">.</span><span class="op" id="4950937">(</span><span class="op" id="4950938">[</span><span class="op" id="4950939">]</span><span class="builtintype" id="4950940">float32</span><span class="op" id="4950947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950950">if</span>&nbsp;<span class="op" id="4950953">!</span><span class="ident" id="4950954">ok</span>&nbsp;<span class="op" id="4950957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950961">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951042">return</span>&nbsp;<span class="builtintype" id="4951049">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951059">for</span>&nbsp;<span class="ident" id="4951063">_</span><span class="op" id="4951064">,</span>&nbsp;<span class="ident" id="4951066">x</span>&nbsp;<span class="op" id="4951068">:=</span>&nbsp;<span class="keyword" id="4951071">range</span>&nbsp;<span class="ident" id="4951077">slice</span>&nbsp;<span class="op" id="4951083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951087">if</span>&nbsp;<span class="ident" id="4951090">x</span>&nbsp;<span class="op" id="4951092">!=</span>&nbsp;<span class="num" id="4951095">0</span>&nbsp;<span class="op" id="4951097">||</span>&nbsp;<span class="ident" id="4951100">state</span><span class="op" id="4951105">.</span><span class="ident" id="4951106">sendZero</span>&nbsp;<span class="op" id="4951115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951120">bits</span>&nbsp;<span class="op" id="4951125">:=</span>&nbsp;<span class="ident" id="4951128">floatBits</span><span class="op" id="4951137">(</span><span class="builtintype" id="4951138">float64</span><span class="op" id="4951145">(</span><span class="ident" id="4951146">x</span><span class="op" id="4951147">)</span><span class="op" id="4951148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951153">state</span><span class="op" id="4951158">.</span><span class="ident" id="4951159">encodeUint</span><span class="op" id="4951169">(</span><span class="ident" id="4951170">bits</span><span class="op" id="4951174">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951184">return</span>&nbsp;<span class="builtintype" id="4951191">true</span><br>
<span class="lineno"></span><span class="op" id="4951196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="4951199">func</span>&nbsp;<span class="ident" id="4951204">encFloat64Array</span><span class="op" id="4951219">(</span><span class="ident" id="4951220">state</span>&nbsp;<span class="op" id="4951226">*</span><span class="ident" id="4951227">encoderState</span><span class="op" id="4951239">,</span>&nbsp;<span class="ident" id="4951241">v</span>&nbsp;<span class="ident" id="4951243">reflect</span><span class="op" id="4951250">.</span><span class="ident" id="4951251">Value</span><span class="op" id="4951256">)</span>&nbsp;<span class="builtintype" id="4951258">bool</span>&nbsp;<span class="op" id="4951263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4951266">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951307">if</span>&nbsp;<span class="op" id="4951310">!</span><span class="ident" id="4951311">v</span><span class="op" id="4951312">.</span><span class="ident" id="4951313">CanAddr</span><span class="op" id="4951320">(</span><span class="op" id="4951321">)</span>&nbsp;<span class="op" id="4951323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951327">return</span>&nbsp;<span class="builtintype" id="4951334">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951341">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951344">return</span>&nbsp;<span class="ident" id="4951351">encFloat64Slice</span><span class="op" id="4951366">(</span><span class="ident" id="4951367">state</span><span class="op" id="4951372">,</span>&nbsp;<span class="ident" id="4951374">v</span><span class="op" id="4951375">.</span><span class="ident" id="4951376">Slice</span><span class="op" id="4951381">(</span><span class="num" id="4951382">0</span><span class="op" id="4951383">,</span>&nbsp;<span class="ident" id="4951385">v</span><span class="op" id="4951386">.</span><span class="ident" id="4951387">Len</span><span class="op" id="4951390">(</span><span class="op" id="4951391">)</span><span class="op" id="4951392">)</span><span class="op" id="4951393">)</span><br>
<span class="lineno"></span><span class="op" id="4951395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4951398">func</span>&nbsp;<span class="ident" id="4951403">encFloat64Slice</span><span class="op" id="4951418">(</span><span class="ident" id="4951419">state</span>&nbsp;<span class="op" id="4951425">*</span><span class="ident" id="4951426">encoderState</span><span class="op" id="4951438">,</span>&nbsp;<span class="ident" id="4951440">v</span>&nbsp;<span class="ident" id="4951442">reflect</span><span class="op" id="4951449">.</span><span class="ident" id="4951450">Value</span><span class="op" id="4951455">)</span>&nbsp;<span class="builtintype" id="4951457">bool</span>&nbsp;<span class="op" id="4951462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951465">slice</span><span class="op" id="4951470">,</span>&nbsp;<span class="ident" id="4951472">ok</span>&nbsp;<span class="op" id="4951475">:=</span>&nbsp;<span class="ident" id="4951478">v</span><span class="op" id="4951479">.</span><span class="ident" id="4951480">Interface</span><span class="op" id="4951489">(</span><span class="op" id="4951490">)</span><span class="op" id="4951491">.</span><span class="op" id="4951492">(</span><span class="op" id="4951493">[</span><span class="op" id="4951494">]</span><span class="builtintype" id="4951495">float64</span><span class="op" id="4951502">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951505">if</span>&nbsp;<span class="op" id="4951508">!</span><span class="ident" id="4951509">ok</span>&nbsp;<span class="op" id="4951512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4951516">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951597">return</span>&nbsp;<span class="builtintype" id="4951604">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951614">for</span>&nbsp;<span class="ident" id="4951618">_</span><span class="op" id="4951619">,</span>&nbsp;<span class="ident" id="4951621">x</span>&nbsp;<span class="op" id="4951623">:=</span>&nbsp;<span class="keyword" id="4951626">range</span>&nbsp;<span class="ident" id="4951632">slice</span>&nbsp;<span class="op" id="4951638">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951642">if</span>&nbsp;<span class="ident" id="4951645">x</span>&nbsp;<span class="op" id="4951647">!=</span>&nbsp;<span class="num" id="4951650">0</span>&nbsp;<span class="op" id="4951652">||</span>&nbsp;<span class="ident" id="4951655">state</span><span class="op" id="4951660">.</span><span class="ident" id="4951661">sendZero</span>&nbsp;<span class="op" id="4951670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951675">bits</span>&nbsp;<span class="op" id="4951680">:=</span>&nbsp;<span class="ident" id="4951683">floatBits</span><span class="op" id="4951692">(</span><span class="ident" id="4951693">x</span><span class="op" id="4951694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951699">state</span><span class="op" id="4951704">.</span><span class="ident" id="4951705">encodeUint</span><span class="op" id="4951715">(</span><span class="ident" id="4951716">bits</span><span class="op" id="4951720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951727">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951730">return</span>&nbsp;<span class="builtintype" id="4951737">true</span><br>
<span class="lineno"></span><span class="op" id="4951742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4951745">func</span>&nbsp;<span class="ident" id="4951750">encIntArray</span><span class="op" id="4951761">(</span><span class="ident" id="4951762">state</span>&nbsp;<span class="op" id="4951768">*</span><span class="ident" id="4951769">encoderState</span><span class="op" id="4951781">,</span>&nbsp;<span class="ident" id="4951783">v</span>&nbsp;<span class="ident" id="4951785">reflect</span><span class="op" id="4951792">.</span><span class="ident" id="4951793">Value</span><span class="op" id="4951798">)</span>&nbsp;<span class="builtintype" id="4951800">bool</span>&nbsp;<span class="op" id="4951805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4951808">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951849">if</span>&nbsp;<span class="op" id="4951852">!</span><span class="ident" id="4951853">v</span><span class="op" id="4951854">.</span><span class="ident" id="4951855">CanAddr</span><span class="op" id="4951862">(</span><span class="op" id="4951863">)</span>&nbsp;<span class="op" id="4951865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951869">return</span>&nbsp;<span class="builtintype" id="4951876">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951886">return</span>&nbsp;<span class="ident" id="4951893">encIntSlice</span><span class="op" id="4951904">(</span><span class="ident" id="4951905">state</span><span class="op" id="4951910">,</span>&nbsp;<span class="ident" id="4951912">v</span><span class="op" id="4951913">.</span><span class="ident" id="4951914">Slice</span><span class="op" id="4951919">(</span><span class="num" id="4951920">0</span><span class="op" id="4951921">,</span>&nbsp;<span class="ident" id="4951923">v</span><span class="op" id="4951924">.</span><span class="ident" id="4951925">Len</span><span class="op" id="4951928">(</span><span class="op" id="4951929">)</span><span class="op" id="4951930">)</span><span class="op" id="4951931">)</span><br>
<span class="lineno"></span><span class="op" id="4951933">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="4951936">func</span>&nbsp;<span class="ident" id="4951941">encIntSlice</span><span class="op" id="4951952">(</span><span class="ident" id="4951953">state</span>&nbsp;<span class="op" id="4951959">*</span><span class="ident" id="4951960">encoderState</span><span class="op" id="4951972">,</span>&nbsp;<span class="ident" id="4951974">v</span>&nbsp;<span class="ident" id="4951976">reflect</span><span class="op" id="4951983">.</span><span class="ident" id="4951984">Value</span><span class="op" id="4951989">)</span>&nbsp;<span class="builtintype" id="4951991">bool</span>&nbsp;<span class="op" id="4951996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951999">slice</span><span class="op" id="4952004">,</span>&nbsp;<span class="ident" id="4952006">ok</span>&nbsp;<span class="op" id="4952009">:=</span>&nbsp;<span class="ident" id="4952012">v</span><span class="op" id="4952013">.</span><span class="ident" id="4952014">Interface</span><span class="op" id="4952023">(</span><span class="op" id="4952024">)</span><span class="op" id="4952025">.</span><span class="op" id="4952026">(</span><span class="op" id="4952027">[</span><span class="op" id="4952028">]</span><span class="builtintype" id="4952029">int</span><span class="op" id="4952032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952035">if</span>&nbsp;<span class="op" id="4952038">!</span><span class="ident" id="4952039">ok</span>&nbsp;<span class="op" id="4952042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4952046">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952119">return</span>&nbsp;<span class="builtintype" id="4952126">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952136">for</span>&nbsp;<span class="ident" id="4952140">_</span><span class="op" id="4952141">,</span>&nbsp;<span class="ident" id="4952143">x</span>&nbsp;<span class="op" id="4952145">:=</span>&nbsp;<span class="keyword" id="4952148">range</span>&nbsp;<span class="ident" id="4952154">slice</span>&nbsp;<span class="op" id="4952160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952164">if</span>&nbsp;<span class="ident" id="4952167">x</span>&nbsp;<span class="op" id="4952169">!=</span>&nbsp;<span class="num" id="4952172">0</span>&nbsp;<span class="op" id="4952174">||</span>&nbsp;<span class="ident" id="4952177">state</span><span class="op" id="4952182">.</span><span class="ident" id="4952183">sendZero</span>&nbsp;<span class="op" id="4952192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952197">state</span><span class="op" id="4952202">.</span><span class="ident" id="4952203">encodeInt</span><span class="op" id="4952212">(</span><span class="ident" id="4952213">int64</span><span class="op" id="4952218">(</span><span class="ident" id="4952219">x</span><span class="op" id="4952220">)</span><span class="op" id="4952221">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952231">return</span>&nbsp;<span class="builtintype" id="4952238">true</span><br>
<span class="lineno"></span><span class="op" id="4952243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="4952246">func</span>&nbsp;<span class="ident" id="4952251">encInt16Array</span><span class="op" id="4952264">(</span><span class="ident" id="4952265">state</span>&nbsp;<span class="op" id="4952271">*</span><span class="ident" id="4952272">encoderState</span><span class="op" id="4952284">,</span>&nbsp;<span class="ident" id="4952286">v</span>&nbsp;<span class="ident" id="4952288">reflect</span><span class="op" id="4952295">.</span><span class="ident" id="4952296">Value</span><span class="op" id="4952301">)</span>&nbsp;<span class="builtintype" id="4952303">bool</span>&nbsp;<span class="op" id="4952308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4952311">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952352">if</span>&nbsp;<span class="op" id="4952355">!</span><span class="ident" id="4952356">v</span><span class="op" id="4952357">.</span><span class="ident" id="4952358">CanAddr</span><span class="op" id="4952365">(</span><span class="op" id="4952366">)</span>&nbsp;<span class="op" id="4952368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952372">return</span>&nbsp;<span class="builtintype" id="4952379">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952386">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952389">return</span>&nbsp;<span class="ident" id="4952396">encInt16Slice</span><span class="op" id="4952409">(</span><span class="ident" id="4952410">state</span><span class="op" id="4952415">,</span>&nbsp;<span class="ident" id="4952417">v</span><span class="op" id="4952418">.</span><span class="ident" id="4952419">Slice</span><span class="op" id="4952424">(</span><span class="num" id="4952425">0</span><span class="op" id="4952426">,</span>&nbsp;<span class="ident" id="4952428">v</span><span class="op" id="4952429">.</span><span class="ident" id="4952430">Len</span><span class="op" id="4952433">(</span><span class="op" id="4952434">)</span><span class="op" id="4952435">)</span><span class="op" id="4952436">)</span><br>
<span class="lineno"></span><span class="op" id="4952438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4952441">func</span>&nbsp;<span class="ident" id="4952446">encInt16Slice</span><span class="op" id="4952459">(</span><span class="ident" id="4952460">state</span>&nbsp;<span class="op" id="4952466">*</span><span class="ident" id="4952467">encoderState</span><span class="op" id="4952479">,</span>&nbsp;<span class="ident" id="4952481">v</span>&nbsp;<span class="ident" id="4952483">reflect</span><span class="op" id="4952490">.</span><span class="ident" id="4952491">Value</span><span class="op" id="4952496">)</span>&nbsp;<span class="builtintype" id="4952498">bool</span>&nbsp;<span class="op" id="4952503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952506">slice</span><span class="op" id="4952511">,</span>&nbsp;<span class="ident" id="4952513">ok</span>&nbsp;<span class="op" id="4952516">:=</span>&nbsp;<span class="ident" id="4952519">v</span><span class="op" id="4952520">.</span><span class="ident" id="4952521">Interface</span><span class="op" id="4952530">(</span><span class="op" id="4952531">)</span><span class="op" id="4952532">.</span><span class="op" id="4952533">(</span><span class="op" id="4952534">[</span><span class="op" id="4952535">]</span><span class="builtintype" id="4952536">int16</span><span class="op" id="4952541">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952544">if</span>&nbsp;<span class="op" id="4952547">!</span><span class="ident" id="4952548">ok</span>&nbsp;<span class="op" id="4952551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4952555">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952632">return</span>&nbsp;<span class="builtintype" id="4952639">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952649">for</span>&nbsp;<span class="ident" id="4952653">_</span><span class="op" id="4952654">,</span>&nbsp;<span class="ident" id="4952656">x</span>&nbsp;<span class="op" id="4952658">:=</span>&nbsp;<span class="keyword" id="4952661">range</span>&nbsp;<span class="ident" id="4952667">slice</span>&nbsp;<span class="op" id="4952673">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952677">if</span>&nbsp;<span class="ident" id="4952680">x</span>&nbsp;<span class="op" id="4952682">!=</span>&nbsp;<span class="num" id="4952685">0</span>&nbsp;<span class="op" id="4952687">||</span>&nbsp;<span class="ident" id="4952690">state</span><span class="op" id="4952695">.</span><span class="ident" id="4952696">sendZero</span>&nbsp;<span class="op" id="4952705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952710">state</span><span class="op" id="4952715">.</span><span class="ident" id="4952716">encodeInt</span><span class="op" id="4952725">(</span><span class="ident" id="4952726">int64</span><span class="op" id="4952731">(</span><span class="ident" id="4952732">x</span><span class="op" id="4952733">)</span><span class="op" id="4952734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952744">return</span>&nbsp;<span class="builtintype" id="4952751">true</span><br>
<span class="lineno">215</span><span class="op" id="4952756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4952759">func</span>&nbsp;<span class="ident" id="4952764">encInt32Array</span><span class="op" id="4952777">(</span><span class="ident" id="4952778">state</span>&nbsp;<span class="op" id="4952784">*</span><span class="ident" id="4952785">encoderState</span><span class="op" id="4952797">,</span>&nbsp;<span class="ident" id="4952799">v</span>&nbsp;<span class="ident" id="4952801">reflect</span><span class="op" id="4952808">.</span><span class="ident" id="4952809">Value</span><span class="op" id="4952814">)</span>&nbsp;<span class="builtintype" id="4952816">bool</span>&nbsp;<span class="op" id="4952821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4952824">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952865">if</span>&nbsp;<span class="op" id="4952868">!</span><span class="ident" id="4952869">v</span><span class="op" id="4952870">.</span><span class="ident" id="4952871">CanAddr</span><span class="op" id="4952878">(</span><span class="op" id="4952879">)</span>&nbsp;<span class="op" id="4952881">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952885">return</span>&nbsp;<span class="builtintype" id="4952892">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952902">return</span>&nbsp;<span class="ident" id="4952909">encInt32Slice</span><span class="op" id="4952922">(</span><span class="ident" id="4952923">state</span><span class="op" id="4952928">,</span>&nbsp;<span class="ident" id="4952930">v</span><span class="op" id="4952931">.</span><span class="ident" id="4952932">Slice</span><span class="op" id="4952937">(</span><span class="num" id="4952938">0</span><span class="op" id="4952939">,</span>&nbsp;<span class="ident" id="4952941">v</span><span class="op" id="4952942">.</span><span class="ident" id="4952943">Len</span><span class="op" id="4952946">(</span><span class="op" id="4952947">)</span><span class="op" id="4952948">)</span><span class="op" id="4952949">)</span><br>
<span class="lineno"></span><span class="op" id="4952951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="4952954">func</span>&nbsp;<span class="ident" id="4952959">encInt32Slice</span><span class="op" id="4952972">(</span><span class="ident" id="4952973">state</span>&nbsp;<span class="op" id="4952979">*</span><span class="ident" id="4952980">encoderState</span><span class="op" id="4952992">,</span>&nbsp;<span class="ident" id="4952994">v</span>&nbsp;<span class="ident" id="4952996">reflect</span><span class="op" id="4953003">.</span><span class="ident" id="4953004">Value</span><span class="op" id="4953009">)</span>&nbsp;<span class="builtintype" id="4953011">bool</span>&nbsp;<span class="op" id="4953016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953019">slice</span><span class="op" id="4953024">,</span>&nbsp;<span class="ident" id="4953026">ok</span>&nbsp;<span class="op" id="4953029">:=</span>&nbsp;<span class="ident" id="4953032">v</span><span class="op" id="4953033">.</span><span class="ident" id="4953034">Interface</span><span class="op" id="4953043">(</span><span class="op" id="4953044">)</span><span class="op" id="4953045">.</span><span class="op" id="4953046">(</span><span class="op" id="4953047">[</span><span class="op" id="4953048">]</span><span class="builtintype" id="4953049">int32</span><span class="op" id="4953054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953057">if</span>&nbsp;<span class="op" id="4953060">!</span><span class="ident" id="4953061">ok</span>&nbsp;<span class="op" id="4953064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4953068">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953145">return</span>&nbsp;<span class="builtintype" id="4953152">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953162">for</span>&nbsp;<span class="ident" id="4953166">_</span><span class="op" id="4953167">,</span>&nbsp;<span class="ident" id="4953169">x</span>&nbsp;<span class="op" id="4953171">:=</span>&nbsp;<span class="keyword" id="4953174">range</span>&nbsp;<span class="ident" id="4953180">slice</span>&nbsp;<span class="op" id="4953186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953190">if</span>&nbsp;<span class="ident" id="4953193">x</span>&nbsp;<span class="op" id="4953195">!=</span>&nbsp;<span class="num" id="4953198">0</span>&nbsp;<span class="op" id="4953200">||</span>&nbsp;<span class="ident" id="4953203">state</span><span class="op" id="4953208">.</span><span class="ident" id="4953209">sendZero</span>&nbsp;<span class="op" id="4953218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953223">state</span><span class="op" id="4953228">.</span><span class="ident" id="4953229">encodeInt</span><span class="op" id="4953238">(</span><span class="ident" id="4953239">int64</span><span class="op" id="4953244">(</span><span class="ident" id="4953245">x</span><span class="op" id="4953246">)</span><span class="op" id="4953247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953251">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953257">return</span>&nbsp;<span class="builtintype" id="4953264">true</span><br>
<span class="lineno"></span><span class="op" id="4953269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4953272">func</span>&nbsp;<span class="ident" id="4953277">encInt64Array</span><span class="op" id="4953290">(</span><span class="ident" id="4953291">state</span>&nbsp;<span class="op" id="4953297">*</span><span class="ident" id="4953298">encoderState</span><span class="op" id="4953310">,</span>&nbsp;<span class="ident" id="4953312">v</span>&nbsp;<span class="ident" id="4953314">reflect</span><span class="op" id="4953321">.</span><span class="ident" id="4953322">Value</span><span class="op" id="4953327">)</span>&nbsp;<span class="builtintype" id="4953329">bool</span>&nbsp;<span class="op" id="4953334">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4953337">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953378">if</span>&nbsp;<span class="op" id="4953381">!</span><span class="ident" id="4953382">v</span><span class="op" id="4953383">.</span><span class="ident" id="4953384">CanAddr</span><span class="op" id="4953391">(</span><span class="op" id="4953392">)</span>&nbsp;<span class="op" id="4953394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953398">return</span>&nbsp;<span class="builtintype" id="4953405">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953415">return</span>&nbsp;<span class="ident" id="4953422">encInt64Slice</span><span class="op" id="4953435">(</span><span class="ident" id="4953436">state</span><span class="op" id="4953441">,</span>&nbsp;<span class="ident" id="4953443">v</span><span class="op" id="4953444">.</span><span class="ident" id="4953445">Slice</span><span class="op" id="4953450">(</span><span class="num" id="4953451">0</span><span class="op" id="4953452">,</span>&nbsp;<span class="ident" id="4953454">v</span><span class="op" id="4953455">.</span><span class="ident" id="4953456">Len</span><span class="op" id="4953459">(</span><span class="op" id="4953460">)</span><span class="op" id="4953461">)</span><span class="op" id="4953462">)</span><br>
<span class="lineno">245</span><span class="op" id="4953464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4953467">func</span>&nbsp;<span class="ident" id="4953472">encInt64Slice</span><span class="op" id="4953485">(</span><span class="ident" id="4953486">state</span>&nbsp;<span class="op" id="4953492">*</span><span class="ident" id="4953493">encoderState</span><span class="op" id="4953505">,</span>&nbsp;<span class="ident" id="4953507">v</span>&nbsp;<span class="ident" id="4953509">reflect</span><span class="op" id="4953516">.</span><span class="ident" id="4953517">Value</span><span class="op" id="4953522">)</span>&nbsp;<span class="builtintype" id="4953524">bool</span>&nbsp;<span class="op" id="4953529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953532">slice</span><span class="op" id="4953537">,</span>&nbsp;<span class="ident" id="4953539">ok</span>&nbsp;<span class="op" id="4953542">:=</span>&nbsp;<span class="ident" id="4953545">v</span><span class="op" id="4953546">.</span><span class="ident" id="4953547">Interface</span><span class="op" id="4953556">(</span><span class="op" id="4953557">)</span><span class="op" id="4953558">.</span><span class="op" id="4953559">(</span><span class="op" id="4953560">[</span><span class="op" id="4953561">]</span><span class="ident" id="4953562">int64</span><span class="op" id="4953567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953570">if</span>&nbsp;<span class="op" id="4953573">!</span><span class="ident" id="4953574">ok</span>&nbsp;<span class="op" id="4953577">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4953581">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953658">return</span>&nbsp;<span class="builtintype" id="4953665">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953675">for</span>&nbsp;<span class="ident" id="4953679">_</span><span class="op" id="4953680">,</span>&nbsp;<span class="ident" id="4953682">x</span>&nbsp;<span class="op" id="4953684">:=</span>&nbsp;<span class="keyword" id="4953687">range</span>&nbsp;<span class="ident" id="4953693">slice</span>&nbsp;<span class="op" id="4953699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953703">if</span>&nbsp;<span class="ident" id="4953706">x</span>&nbsp;<span class="op" id="4953708">!=</span>&nbsp;<span class="num" id="4953711">0</span>&nbsp;<span class="op" id="4953713">||</span>&nbsp;<span class="ident" id="4953716">state</span><span class="op" id="4953721">.</span><span class="ident" id="4953722">sendZero</span>&nbsp;<span class="op" id="4953731">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953736">state</span><span class="op" id="4953741">.</span><span class="ident" id="4953742">encodeInt</span><span class="op" id="4953751">(</span><span class="ident" id="4953752">x</span><span class="op" id="4953753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953763">return</span>&nbsp;<span class="builtintype" id="4953770">true</span><br>
<span class="lineno"></span><span class="op" id="4953775">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4953778">func</span>&nbsp;<span class="ident" id="4953783">encInt8Array</span><span class="op" id="4953795">(</span><span class="ident" id="4953796">state</span>&nbsp;<span class="op" id="4953802">*</span><span class="ident" id="4953803">encoderState</span><span class="op" id="4953815">,</span>&nbsp;<span class="ident" id="4953817">v</span>&nbsp;<span class="ident" id="4953819">reflect</span><span class="op" id="4953826">.</span><span class="ident" id="4953827">Value</span><span class="op" id="4953832">)</span>&nbsp;<span class="builtintype" id="4953834">bool</span>&nbsp;<span class="op" id="4953839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4953842">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953883">if</span>&nbsp;<span class="op" id="4953886">!</span><span class="ident" id="4953887">v</span><span class="op" id="4953888">.</span><span class="ident" id="4953889">CanAddr</span><span class="op" id="4953896">(</span><span class="op" id="4953897">)</span>&nbsp;<span class="op" id="4953899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953903">return</span>&nbsp;<span class="builtintype" id="4953910">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953920">return</span>&nbsp;<span class="ident" id="4953927">encInt8Slice</span><span class="op" id="4953939">(</span><span class="ident" id="4953940">state</span><span class="op" id="4953945">,</span>&nbsp;<span class="ident" id="4953947">v</span><span class="op" id="4953948">.</span><span class="ident" id="4953949">Slice</span><span class="op" id="4953954">(</span><span class="num" id="4953955">0</span><span class="op" id="4953956">,</span>&nbsp;<span class="ident" id="4953958">v</span><span class="op" id="4953959">.</span><span class="ident" id="4953960">Len</span><span class="op" id="4953963">(</span><span class="op" id="4953964">)</span><span class="op" id="4953965">)</span><span class="op" id="4953966">)</span><br>
<span class="lineno"></span><span class="op" id="4953968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4953971">func</span>&nbsp;<span class="ident" id="4953976">encInt8Slice</span><span class="op" id="4953988">(</span><span class="ident" id="4953989">state</span>&nbsp;<span class="op" id="4953995">*</span><span class="ident" id="4953996">encoderState</span><span class="op" id="4954008">,</span>&nbsp;<span class="ident" id="4954010">v</span>&nbsp;<span class="ident" id="4954012">reflect</span><span class="op" id="4954019">.</span><span class="ident" id="4954020">Value</span><span class="op" id="4954025">)</span>&nbsp;<span class="builtintype" id="4954027">bool</span>&nbsp;<span class="op" id="4954032">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4954035">slice</span><span class="op" id="4954040">,</span>&nbsp;<span class="ident" id="4954042">ok</span>&nbsp;<span class="op" id="4954045">:=</span>&nbsp;<span class="ident" id="4954048">v</span><span class="op" id="4954049">.</span><span class="ident" id="4954050">Interface</span><span class="op" id="4954059">(</span><span class="op" id="4954060">)</span><span class="op" id="4954061">.</span><span class="op" id="4954062">(</span><span class="op" id="4954063">[</span><span class="op" id="4954064">]</span><span class="builtintype" id="4954065">int8</span><span class="op" id="4954069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954072">if</span>&nbsp;<span class="op" id="4954075">!</span><span class="ident" id="4954076">ok</span>&nbsp;<span class="op" id="4954079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4954083">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954158">return</span>&nbsp;<span class="builtintype" id="4954165">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954172">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954175">for</span>&nbsp;<span class="ident" id="4954179">_</span><span class="op" id="4954180">,</span>&nbsp;<span class="ident" id="4954182">x</span>&nbsp;<span class="op" id="4954184">:=</span>&nbsp;<span class="keyword" id="4954187">range</span>&nbsp;<span class="ident" id="4954193">slice</span>&nbsp;<span class="op" id="4954199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954203">if</span>&nbsp;<span class="ident" id="4954206">x</span>&nbsp;<span class="op" id="4954208">!=</span>&nbsp;<span class="num" id="4954211">0</span>&nbsp;<span class="op" id="4954213">||</span>&nbsp;<span class="ident" id="4954216">state</span><span class="op" id="4954221">.</span><span class="ident" id="4954222">sendZero</span>&nbsp;<span class="op" id="4954231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4954236">state</span><span class="op" id="4954241">.</span><span class="ident" id="4954242">encodeInt</span><span class="op" id="4954251">(</span><span class="ident" id="4954252">int64</span><span class="op" id="4954257">(</span><span class="ident" id="4954258">x</span><span class="op" id="4954259">)</span><span class="op" id="4954260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954267">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954270">return</span>&nbsp;<span class="builtintype" id="4954277">true</span><br>
<span class="lineno"></span><span class="op" id="4954282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4954285">func</span>&nbsp;<span class="ident" id="4954290">encStringArray</span><span class="op" id="4954304">(</span><span class="ident" id="4954305">state</span>&nbsp;<span class="op" id="4954311">*</span><span class="ident" id="4954312">encoderState</span><span class="op" id="4954324">,</span>&nbsp;<span class="ident" id="4954326">v</span>&nbsp;<span class="ident" id="4954328">reflect</span><span class="op" id="4954335">.</span><span class="ident" id="4954336">Value</span><span class="op" id="4954341">)</span>&nbsp;<span class="builtintype" id="4954343">bool</span>&nbsp;<span class="op" id="4954348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4954351">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954392">if</span>&nbsp;<span class="op" id="4954395">!</span><span class="ident" id="4954396">v</span><span class="op" id="4954397">.</span><span class="ident" id="4954398">CanAddr</span><span class="op" id="4954405">(</span><span class="op" id="4954406">)</span>&nbsp;<span class="op" id="4954408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954412">return</span>&nbsp;<span class="builtintype" id="4954419">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954429">return</span>&nbsp;<span class="ident" id="4954436">encStringSlice</span><span class="op" id="4954450">(</span><span class="ident" id="4954451">state</span><span class="op" id="4954456">,</span>&nbsp;<span class="ident" id="4954458">v</span><span class="op" id="4954459">.</span><span class="ident" id="4954460">Slice</span><span class="op" id="4954465">(</span><span class="num" id="4954466">0</span><span class="op" id="4954467">,</span>&nbsp;<span class="ident" id="4954469">v</span><span class="op" id="4954470">.</span><span class="ident" id="4954471">Len</span><span class="op" id="4954474">(</span><span class="op" id="4954475">)</span><span class="op" id="4954476">)</span><span class="op" id="4954477">)</span><br>
<span class="lineno"></span><span class="op" id="4954479">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="4954482">func</span>&nbsp;<span class="ident" id="4954487">encStringSlice</span><span class="op" id="4954501">(</span><span class="ident" id="4954502">state</span>&nbsp;<span class="op" id="4954508">*</span><span class="ident" id="4954509">encoderState</span><span class="op" id="4954521">,</span>&nbsp;<span class="ident" id="4954523">v</span>&nbsp;<span class="ident" id="4954525">reflect</span><span class="op" id="4954532">.</span><span class="ident" id="4954533">Value</span><span class="op" id="4954538">)</span>&nbsp;<span class="builtintype" id="4954540">bool</span>&nbsp;<span class="op" id="4954545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4954548">slice</span><span class="op" id="4954553">,</span>&nbsp;<span class="ident" id="4954555">ok</span>&nbsp;<span class="op" id="4954558">:=</span>&nbsp;<span class="ident" id="4954561">v</span><span class="op" id="4954562">.</span><span class="ident" id="4954563">Interface</span><span class="op" id="4954572">(</span><span class="op" id="4954573">)</span><span class="op" id="4954574">.</span><span class="op" id="4954575">(</span><span class="op" id="4954576">[</span><span class="op" id="4954577">]</span><span class="builtintype" id="4954578">string</span><span class="op" id="4954584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954587">if</span>&nbsp;<span class="op" id="4954590">!</span><span class="ident" id="4954591">ok</span>&nbsp;<span class="op" id="4954594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4954598">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954677">return</span>&nbsp;<span class="builtintype" id="4954684">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954694">for</span>&nbsp;<span class="ident" id="4954698">_</span><span class="op" id="4954699">,</span>&nbsp;<span class="ident" id="4954701">x</span>&nbsp;<span class="op" id="4954703">:=</span>&nbsp;<span class="keyword" id="4954706">range</span>&nbsp;<span class="ident" id="4954712">slice</span>&nbsp;<span class="op" id="4954718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954722">if</span>&nbsp;<span class="ident" id="4954725">x</span>&nbsp;<span class="op" id="4954727">!=</span>&nbsp;<span class="string" id="4954730">&#34;&#34;</span>&nbsp;<span class="op" id="4954733">||</span>&nbsp;<span class="ident" id="4954736">state</span><span class="op" id="4954741">.</span><span class="ident" id="4954742">sendZero</span>&nbsp;<span class="op" id="4954751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4954756">state</span><span class="op" id="4954761">.</span><span class="ident" id="4954762">encodeUint</span><span class="op" id="4954772">(</span><span class="ident" id="4954773">uint64</span><span class="op" id="4954779">(</span><span class="builtinfunc" id="4954780">len</span><span class="op" id="4954783">(</span><span class="ident" id="4954784">x</span><span class="op" id="4954785">)</span><span class="op" id="4954786">)</span><span class="op" id="4954787">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4954792">state</span><span class="op" id="4954797">.</span><span class="ident" id="4954798">b</span><span class="op" id="4954799">.</span><span class="ident" id="4954800">WriteString</span><span class="op" id="4954811">(</span><span class="ident" id="4954812">x</span><span class="op" id="4954813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954823">return</span>&nbsp;<span class="builtintype" id="4954830">true</span><br>
<span class="lineno"></span><span class="op" id="4954835">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="4954838">func</span>&nbsp;<span class="ident" id="4954843">encUintArray</span><span class="op" id="4954855">(</span><span class="ident" id="4954856">state</span>&nbsp;<span class="op" id="4954862">*</span><span class="ident" id="4954863">encoderState</span><span class="op" id="4954875">,</span>&nbsp;<span class="ident" id="4954877">v</span>&nbsp;<span class="ident" id="4954879">reflect</span><span class="op" id="4954886">.</span><span class="ident" id="4954887">Value</span><span class="op" id="4954892">)</span>&nbsp;<span class="builtintype" id="4954894">bool</span>&nbsp;<span class="op" id="4954899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4954902">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954943">if</span>&nbsp;<span class="op" id="4954946">!</span><span class="ident" id="4954947">v</span><span class="op" id="4954948">.</span><span class="ident" id="4954949">CanAddr</span><span class="op" id="4954956">(</span><span class="op" id="4954957">)</span>&nbsp;<span class="op" id="4954959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954963">return</span>&nbsp;<span class="builtintype" id="4954970">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4954977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954980">return</span>&nbsp;<span class="ident" id="4954987">encUintSlice</span><span class="op" id="4954999">(</span><span class="ident" id="4955000">state</span><span class="op" id="4955005">,</span>&nbsp;<span class="ident" id="4955007">v</span><span class="op" id="4955008">.</span><span class="ident" id="4955009">Slice</span><span class="op" id="4955014">(</span><span class="num" id="4955015">0</span><span class="op" id="4955016">,</span>&nbsp;<span class="ident" id="4955018">v</span><span class="op" id="4955019">.</span><span class="ident" id="4955020">Len</span><span class="op" id="4955023">(</span><span class="op" id="4955024">)</span><span class="op" id="4955025">)</span><span class="op" id="4955026">)</span><br>
<span class="lineno"></span><span class="op" id="4955028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4955031">func</span>&nbsp;<span class="ident" id="4955036">encUintSlice</span><span class="op" id="4955048">(</span><span class="ident" id="4955049">state</span>&nbsp;<span class="op" id="4955055">*</span><span class="ident" id="4955056">encoderState</span><span class="op" id="4955068">,</span>&nbsp;<span class="ident" id="4955070">v</span>&nbsp;<span class="ident" id="4955072">reflect</span><span class="op" id="4955079">.</span><span class="ident" id="4955080">Value</span><span class="op" id="4955085">)</span>&nbsp;<span class="builtintype" id="4955087">bool</span>&nbsp;<span class="op" id="4955092">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4955095">slice</span><span class="op" id="4955100">,</span>&nbsp;<span class="ident" id="4955102">ok</span>&nbsp;<span class="op" id="4955105">:=</span>&nbsp;<span class="ident" id="4955108">v</span><span class="op" id="4955109">.</span><span class="ident" id="4955110">Interface</span><span class="op" id="4955119">(</span><span class="op" id="4955120">)</span><span class="op" id="4955121">.</span><span class="op" id="4955122">(</span><span class="op" id="4955123">[</span><span class="op" id="4955124">]</span><span class="builtintype" id="4955125">uint</span><span class="op" id="4955129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955132">if</span>&nbsp;<span class="op" id="4955135">!</span><span class="ident" id="4955136">ok</span>&nbsp;<span class="op" id="4955139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4955143">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955218">return</span>&nbsp;<span class="builtintype" id="4955225">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955232">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955235">for</span>&nbsp;<span class="ident" id="4955239">_</span><span class="op" id="4955240">,</span>&nbsp;<span class="ident" id="4955242">x</span>&nbsp;<span class="op" id="4955244">:=</span>&nbsp;<span class="keyword" id="4955247">range</span>&nbsp;<span class="ident" id="4955253">slice</span>&nbsp;<span class="op" id="4955259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955263">if</span>&nbsp;<span class="ident" id="4955266">x</span>&nbsp;<span class="op" id="4955268">!=</span>&nbsp;<span class="num" id="4955271">0</span>&nbsp;<span class="op" id="4955273">||</span>&nbsp;<span class="ident" id="4955276">state</span><span class="op" id="4955281">.</span><span class="ident" id="4955282">sendZero</span>&nbsp;<span class="op" id="4955291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4955296">state</span><span class="op" id="4955301">.</span><span class="ident" id="4955302">encodeUint</span><span class="op" id="4955312">(</span><span class="ident" id="4955313">uint64</span><span class="op" id="4955319">(</span><span class="ident" id="4955320">x</span><span class="op" id="4955321">)</span><span class="op" id="4955322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955329">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955332">return</span>&nbsp;<span class="builtintype" id="4955339">true</span><br>
<span class="lineno"></span><span class="op" id="4955344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4955347">func</span>&nbsp;<span class="ident" id="4955352">encUint16Array</span><span class="op" id="4955366">(</span><span class="ident" id="4955367">state</span>&nbsp;<span class="op" id="4955373">*</span><span class="ident" id="4955374">encoderState</span><span class="op" id="4955386">,</span>&nbsp;<span class="ident" id="4955388">v</span>&nbsp;<span class="ident" id="4955390">reflect</span><span class="op" id="4955397">.</span><span class="ident" id="4955398">Value</span><span class="op" id="4955403">)</span>&nbsp;<span class="builtintype" id="4955405">bool</span>&nbsp;<span class="op" id="4955410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4955413">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955454">if</span>&nbsp;<span class="op" id="4955457">!</span><span class="ident" id="4955458">v</span><span class="op" id="4955459">.</span><span class="ident" id="4955460">CanAddr</span><span class="op" id="4955467">(</span><span class="op" id="4955468">)</span>&nbsp;<span class="op" id="4955470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955474">return</span>&nbsp;<span class="builtintype" id="4955481">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955491">return</span>&nbsp;<span class="ident" id="4955498">encUint16Slice</span><span class="op" id="4955512">(</span><span class="ident" id="4955513">state</span><span class="op" id="4955518">,</span>&nbsp;<span class="ident" id="4955520">v</span><span class="op" id="4955521">.</span><span class="ident" id="4955522">Slice</span><span class="op" id="4955527">(</span><span class="num" id="4955528">0</span><span class="op" id="4955529">,</span>&nbsp;<span class="ident" id="4955531">v</span><span class="op" id="4955532">.</span><span class="ident" id="4955533">Len</span><span class="op" id="4955536">(</span><span class="op" id="4955537">)</span><span class="op" id="4955538">)</span><span class="op" id="4955539">)</span><br>
<span class="lineno"></span><span class="op" id="4955541">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="4955544">func</span>&nbsp;<span class="ident" id="4955549">encUint16Slice</span><span class="op" id="4955563">(</span><span class="ident" id="4955564">state</span>&nbsp;<span class="op" id="4955570">*</span><span class="ident" id="4955571">encoderState</span><span class="op" id="4955583">,</span>&nbsp;<span class="ident" id="4955585">v</span>&nbsp;<span class="ident" id="4955587">reflect</span><span class="op" id="4955594">.</span><span class="ident" id="4955595">Value</span><span class="op" id="4955600">)</span>&nbsp;<span class="builtintype" id="4955602">bool</span>&nbsp;<span class="op" id="4955607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4955610">slice</span><span class="op" id="4955615">,</span>&nbsp;<span class="ident" id="4955617">ok</span>&nbsp;<span class="op" id="4955620">:=</span>&nbsp;<span class="ident" id="4955623">v</span><span class="op" id="4955624">.</span><span class="ident" id="4955625">Interface</span><span class="op" id="4955634">(</span><span class="op" id="4955635">)</span><span class="op" id="4955636">.</span><span class="op" id="4955637">(</span><span class="op" id="4955638">[</span><span class="op" id="4955639">]</span><span class="builtintype" id="4955640">uint16</span><span class="op" id="4955646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955649">if</span>&nbsp;<span class="op" id="4955652">!</span><span class="ident" id="4955653">ok</span>&nbsp;<span class="op" id="4955656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4955660">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955739">return</span>&nbsp;<span class="builtintype" id="4955746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955756">for</span>&nbsp;<span class="ident" id="4955760">_</span><span class="op" id="4955761">,</span>&nbsp;<span class="ident" id="4955763">x</span>&nbsp;<span class="op" id="4955765">:=</span>&nbsp;<span class="keyword" id="4955768">range</span>&nbsp;<span class="ident" id="4955774">slice</span>&nbsp;<span class="op" id="4955780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955784">if</span>&nbsp;<span class="ident" id="4955787">x</span>&nbsp;<span class="op" id="4955789">!=</span>&nbsp;<span class="num" id="4955792">0</span>&nbsp;<span class="op" id="4955794">||</span>&nbsp;<span class="ident" id="4955797">state</span><span class="op" id="4955802">.</span><span class="ident" id="4955803">sendZero</span>&nbsp;<span class="op" id="4955812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4955817">state</span><span class="op" id="4955822">.</span><span class="ident" id="4955823">encodeUint</span><span class="op" id="4955833">(</span><span class="ident" id="4955834">uint64</span><span class="op" id="4955840">(</span><span class="ident" id="4955841">x</span><span class="op" id="4955842">)</span><span class="op" id="4955843">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955853">return</span>&nbsp;<span class="builtintype" id="4955860">true</span><br>
<span class="lineno"></span><span class="op" id="4955865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="4955868">func</span>&nbsp;<span class="ident" id="4955873">encUint32Array</span><span class="op" id="4955887">(</span><span class="ident" id="4955888">state</span>&nbsp;<span class="op" id="4955894">*</span><span class="ident" id="4955895">encoderState</span><span class="op" id="4955907">,</span>&nbsp;<span class="ident" id="4955909">v</span>&nbsp;<span class="ident" id="4955911">reflect</span><span class="op" id="4955918">.</span><span class="ident" id="4955919">Value</span><span class="op" id="4955924">)</span>&nbsp;<span class="builtintype" id="4955926">bool</span>&nbsp;<span class="op" id="4955931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4955934">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955975">if</span>&nbsp;<span class="op" id="4955978">!</span><span class="ident" id="4955979">v</span><span class="op" id="4955980">.</span><span class="ident" id="4955981">CanAddr</span><span class="op" id="4955988">(</span><span class="op" id="4955989">)</span>&nbsp;<span class="op" id="4955991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955995">return</span>&nbsp;<span class="builtintype" id="4956002">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956009">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956012">return</span>&nbsp;<span class="ident" id="4956019">encUint32Slice</span><span class="op" id="4956033">(</span><span class="ident" id="4956034">state</span><span class="op" id="4956039">,</span>&nbsp;<span class="ident" id="4956041">v</span><span class="op" id="4956042">.</span><span class="ident" id="4956043">Slice</span><span class="op" id="4956048">(</span><span class="num" id="4956049">0</span><span class="op" id="4956050">,</span>&nbsp;<span class="ident" id="4956052">v</span><span class="op" id="4956053">.</span><span class="ident" id="4956054">Len</span><span class="op" id="4956057">(</span><span class="op" id="4956058">)</span><span class="op" id="4956059">)</span><span class="op" id="4956060">)</span><br>
<span class="lineno"></span><span class="op" id="4956062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4956065">func</span>&nbsp;<span class="ident" id="4956070">encUint32Slice</span><span class="op" id="4956084">(</span><span class="ident" id="4956085">state</span>&nbsp;<span class="op" id="4956091">*</span><span class="ident" id="4956092">encoderState</span><span class="op" id="4956104">,</span>&nbsp;<span class="ident" id="4956106">v</span>&nbsp;<span class="ident" id="4956108">reflect</span><span class="op" id="4956115">.</span><span class="ident" id="4956116">Value</span><span class="op" id="4956121">)</span>&nbsp;<span class="builtintype" id="4956123">bool</span>&nbsp;<span class="op" id="4956128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956131">slice</span><span class="op" id="4956136">,</span>&nbsp;<span class="ident" id="4956138">ok</span>&nbsp;<span class="op" id="4956141">:=</span>&nbsp;<span class="ident" id="4956144">v</span><span class="op" id="4956145">.</span><span class="ident" id="4956146">Interface</span><span class="op" id="4956155">(</span><span class="op" id="4956156">)</span><span class="op" id="4956157">.</span><span class="op" id="4956158">(</span><span class="op" id="4956159">[</span><span class="op" id="4956160">]</span><span class="builtintype" id="4956161">uint32</span><span class="op" id="4956167">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956170">if</span>&nbsp;<span class="op" id="4956173">!</span><span class="ident" id="4956174">ok</span>&nbsp;<span class="op" id="4956177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4956181">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956260">return</span>&nbsp;<span class="builtintype" id="4956267">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956277">for</span>&nbsp;<span class="ident" id="4956281">_</span><span class="op" id="4956282">,</span>&nbsp;<span class="ident" id="4956284">x</span>&nbsp;<span class="op" id="4956286">:=</span>&nbsp;<span class="keyword" id="4956289">range</span>&nbsp;<span class="ident" id="4956295">slice</span>&nbsp;<span class="op" id="4956301">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956305">if</span>&nbsp;<span class="ident" id="4956308">x</span>&nbsp;<span class="op" id="4956310">!=</span>&nbsp;<span class="num" id="4956313">0</span>&nbsp;<span class="op" id="4956315">||</span>&nbsp;<span class="ident" id="4956318">state</span><span class="op" id="4956323">.</span><span class="ident" id="4956324">sendZero</span>&nbsp;<span class="op" id="4956333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956338">state</span><span class="op" id="4956343">.</span><span class="ident" id="4956344">encodeUint</span><span class="op" id="4956354">(</span><span class="ident" id="4956355">uint64</span><span class="op" id="4956361">(</span><span class="ident" id="4956362">x</span><span class="op" id="4956363">)</span><span class="op" id="4956364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956374">return</span>&nbsp;<span class="builtintype" id="4956381">true</span><br>
<span class="lineno">370</span><span class="op" id="4956386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4956389">func</span>&nbsp;<span class="ident" id="4956394">encUint64Array</span><span class="op" id="4956408">(</span><span class="ident" id="4956409">state</span>&nbsp;<span class="op" id="4956415">*</span><span class="ident" id="4956416">encoderState</span><span class="op" id="4956428">,</span>&nbsp;<span class="ident" id="4956430">v</span>&nbsp;<span class="ident" id="4956432">reflect</span><span class="op" id="4956439">.</span><span class="ident" id="4956440">Value</span><span class="op" id="4956445">)</span>&nbsp;<span class="builtintype" id="4956447">bool</span>&nbsp;<span class="op" id="4956452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4956455">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956496">if</span>&nbsp;<span class="op" id="4956499">!</span><span class="ident" id="4956500">v</span><span class="op" id="4956501">.</span><span class="ident" id="4956502">CanAddr</span><span class="op" id="4956509">(</span><span class="op" id="4956510">)</span>&nbsp;<span class="op" id="4956512">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956516">return</span>&nbsp;<span class="builtintype" id="4956523">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956533">return</span>&nbsp;<span class="ident" id="4956540">encUint64Slice</span><span class="op" id="4956554">(</span><span class="ident" id="4956555">state</span><span class="op" id="4956560">,</span>&nbsp;<span class="ident" id="4956562">v</span><span class="op" id="4956563">.</span><span class="ident" id="4956564">Slice</span><span class="op" id="4956569">(</span><span class="num" id="4956570">0</span><span class="op" id="4956571">,</span>&nbsp;<span class="ident" id="4956573">v</span><span class="op" id="4956574">.</span><span class="ident" id="4956575">Len</span><span class="op" id="4956578">(</span><span class="op" id="4956579">)</span><span class="op" id="4956580">)</span><span class="op" id="4956581">)</span><br>
<span class="lineno"></span><span class="op" id="4956583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="4956586">func</span>&nbsp;<span class="ident" id="4956591">encUint64Slice</span><span class="op" id="4956605">(</span><span class="ident" id="4956606">state</span>&nbsp;<span class="op" id="4956612">*</span><span class="ident" id="4956613">encoderState</span><span class="op" id="4956625">,</span>&nbsp;<span class="ident" id="4956627">v</span>&nbsp;<span class="ident" id="4956629">reflect</span><span class="op" id="4956636">.</span><span class="ident" id="4956637">Value</span><span class="op" id="4956642">)</span>&nbsp;<span class="builtintype" id="4956644">bool</span>&nbsp;<span class="op" id="4956649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956652">slice</span><span class="op" id="4956657">,</span>&nbsp;<span class="ident" id="4956659">ok</span>&nbsp;<span class="op" id="4956662">:=</span>&nbsp;<span class="ident" id="4956665">v</span><span class="op" id="4956666">.</span><span class="ident" id="4956667">Interface</span><span class="op" id="4956676">(</span><span class="op" id="4956677">)</span><span class="op" id="4956678">.</span><span class="op" id="4956679">(</span><span class="op" id="4956680">[</span><span class="op" id="4956681">]</span><span class="ident" id="4956682">uint64</span><span class="op" id="4956688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956691">if</span>&nbsp;<span class="op" id="4956694">!</span><span class="ident" id="4956695">ok</span>&nbsp;<span class="op" id="4956698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4956702">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956781">return</span>&nbsp;<span class="builtintype" id="4956788">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956798">for</span>&nbsp;<span class="ident" id="4956802">_</span><span class="op" id="4956803">,</span>&nbsp;<span class="ident" id="4956805">x</span>&nbsp;<span class="op" id="4956807">:=</span>&nbsp;<span class="keyword" id="4956810">range</span>&nbsp;<span class="ident" id="4956816">slice</span>&nbsp;<span class="op" id="4956822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956826">if</span>&nbsp;<span class="ident" id="4956829">x</span>&nbsp;<span class="op" id="4956831">!=</span>&nbsp;<span class="num" id="4956834">0</span>&nbsp;<span class="op" id="4956836">||</span>&nbsp;<span class="ident" id="4956839">state</span><span class="op" id="4956844">.</span><span class="ident" id="4956845">sendZero</span>&nbsp;<span class="op" id="4956854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956859">state</span><span class="op" id="4956864">.</span><span class="ident" id="4956865">encodeUint</span><span class="op" id="4956875">(</span><span class="ident" id="4956876">x</span><span class="op" id="4956877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956881">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956887">return</span>&nbsp;<span class="builtintype" id="4956894">true</span><br>
<span class="lineno"></span><span class="op" id="4956899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4956902">func</span>&nbsp;<span class="ident" id="4956907">encUintptrArray</span><span class="op" id="4956922">(</span><span class="ident" id="4956923">state</span>&nbsp;<span class="op" id="4956929">*</span><span class="ident" id="4956930">encoderState</span><span class="op" id="4956942">,</span>&nbsp;<span class="ident" id="4956944">v</span>&nbsp;<span class="ident" id="4956946">reflect</span><span class="op" id="4956953">.</span><span class="ident" id="4956954">Value</span><span class="op" id="4956959">)</span>&nbsp;<span class="builtintype" id="4956961">bool</span>&nbsp;<span class="op" id="4956966">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4956969">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957010">if</span>&nbsp;<span class="op" id="4957013">!</span><span class="ident" id="4957014">v</span><span class="op" id="4957015">.</span><span class="ident" id="4957016">CanAddr</span><span class="op" id="4957023">(</span><span class="op" id="4957024">)</span>&nbsp;<span class="op" id="4957026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957030">return</span>&nbsp;<span class="builtintype" id="4957037">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957047">return</span>&nbsp;<span class="ident" id="4957054">encUintptrSlice</span><span class="op" id="4957069">(</span><span class="ident" id="4957070">state</span><span class="op" id="4957075">,</span>&nbsp;<span class="ident" id="4957077">v</span><span class="op" id="4957078">.</span><span class="ident" id="4957079">Slice</span><span class="op" id="4957084">(</span><span class="num" id="4957085">0</span><span class="op" id="4957086">,</span>&nbsp;<span class="ident" id="4957088">v</span><span class="op" id="4957089">.</span><span class="ident" id="4957090">Len</span><span class="op" id="4957093">(</span><span class="op" id="4957094">)</span><span class="op" id="4957095">)</span><span class="op" id="4957096">)</span><br>
<span class="lineno">400</span><span class="op" id="4957098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4957101">func</span>&nbsp;<span class="ident" id="4957106">encUintptrSlice</span><span class="op" id="4957121">(</span><span class="ident" id="4957122">state</span>&nbsp;<span class="op" id="4957128">*</span><span class="ident" id="4957129">encoderState</span><span class="op" id="4957141">,</span>&nbsp;<span class="ident" id="4957143">v</span>&nbsp;<span class="ident" id="4957145">reflect</span><span class="op" id="4957152">.</span><span class="ident" id="4957153">Value</span><span class="op" id="4957158">)</span>&nbsp;<span class="builtintype" id="4957160">bool</span>&nbsp;<span class="op" id="4957165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4957168">slice</span><span class="op" id="4957173">,</span>&nbsp;<span class="ident" id="4957175">ok</span>&nbsp;<span class="op" id="4957178">:=</span>&nbsp;<span class="ident" id="4957181">v</span><span class="op" id="4957182">.</span><span class="ident" id="4957183">Interface</span><span class="op" id="4957192">(</span><span class="op" id="4957193">)</span><span class="op" id="4957194">.</span><span class="op" id="4957195">(</span><span class="op" id="4957196">[</span><span class="op" id="4957197">]</span><span class="builtintype" id="4957198">uintptr</span><span class="op" id="4957205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957208">if</span>&nbsp;<span class="op" id="4957211">!</span><span class="ident" id="4957212">ok</span>&nbsp;<span class="op" id="4957215">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4957219">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957300">return</span>&nbsp;<span class="builtintype" id="4957307">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957317">for</span>&nbsp;<span class="ident" id="4957321">_</span><span class="op" id="4957322">,</span>&nbsp;<span class="ident" id="4957324">x</span>&nbsp;<span class="op" id="4957326">:=</span>&nbsp;<span class="keyword" id="4957329">range</span>&nbsp;<span class="ident" id="4957335">slice</span>&nbsp;<span class="op" id="4957341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957345">if</span>&nbsp;<span class="ident" id="4957348">x</span>&nbsp;<span class="op" id="4957350">!=</span>&nbsp;<span class="num" id="4957353">0</span>&nbsp;<span class="op" id="4957355">||</span>&nbsp;<span class="ident" id="4957358">state</span><span class="op" id="4957363">.</span><span class="ident" id="4957364">sendZero</span>&nbsp;<span class="op" id="4957373">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4957378">state</span><span class="op" id="4957383">.</span><span class="ident" id="4957384">encodeUint</span><span class="op" id="4957394">(</span><span class="ident" id="4957395">uint64</span><span class="op" id="4957401">(</span><span class="ident" id="4957402">x</span><span class="op" id="4957403">)</span><span class="op" id="4957404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957414">return</span>&nbsp;<span class="builtintype" id="4957421">true</span><br>
<span class="lineno"></span><span class="op" id="4957426">}</span>
</div>
</body>
</html>
