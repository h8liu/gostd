<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7936188">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7936243">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7936297">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7936348">//&nbsp;+build&nbsp;!cgo&nbsp;netgo</span><br>
<span class="lineno"></span><span class="comment" id="7936369">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936434">package</span>&nbsp;<span class="ident" id="7936442">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="7936447">import</span>&nbsp;<span class="string" id="7936454">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936465">func</span>&nbsp;<span class="ident" id="7936470">TestGoLookupIP</span><span class="op" id="7936484">(</span><span class="ident" id="7936485">t</span>&nbsp;<span class="op" id="7936487">*</span><span class="ident" id="7936488"><a href="/net/netgo_unix_test.go.html#7936454">testing</a></span><span class="op" id="7936495">.</span><span class="ident" id="7936496">T</span><span class="op" id="7936497">)</span>&nbsp;<span class="op" id="7936499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936502">host</span>&nbsp;<span class="op" id="7936507">:=</span>&nbsp;<span class="string" id="7936510">&#34;localhost&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936523">_</span><span class="op" id="7936524">,</span>&nbsp;<span class="ident" id="7936526">err</span><span class="op" id="7936529">,</span>&nbsp;<span class="ident" id="7936531">ok</span>&nbsp;<span class="op" id="7936534">:=</span>&nbsp;<span class="ident" id="7936537"><a href="/net/cgo_stub.go.html#1330024">cgoLookupIP</a></span><span class="op" id="7936548">(</span><span class="ident" id="7936549"><a href="/net/netgo_unix_test.go.html#7936502">host</a></span><span class="op" id="7936553">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936556">if</span>&nbsp;<span class="ident" id="7936559"><a href="/net/netgo_unix_test.go.html#7936531">ok</a></span>&nbsp;<span class="op" id="7936562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936566"><a href="/net/netgo_unix_test.go.html#7936485">t</a></span><span class="op" id="7936567">.</span><span class="ident" id="7936568">Errorf</span><span class="op" id="7936574">(</span><span class="string" id="7936575">&#34;cgoLookupIP&nbsp;must&nbsp;be&nbsp;a&nbsp;placeholder&#34;</span><span class="op" id="7936610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936616">if</span>&nbsp;<span class="ident" id="7936619"><a href="/net/netgo_unix_test.go.html#7936526">err</a></span>&nbsp;<span class="op" id="7936623">!=</span>&nbsp;<span class="ident" id="7936626">nil</span>&nbsp;<span class="op" id="7936630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936634"><a href="/net/netgo_unix_test.go.html#7936485">t</a></span><span class="op" id="7936635">.</span><span class="ident" id="7936636">Errorf</span><span class="op" id="7936642">(</span><span class="string" id="7936643">&#34;cgoLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7936667">,</span>&nbsp;<span class="ident" id="7936669"><a href="/net/netgo_unix_test.go.html#7936526">err</a></span><span class="op" id="7936672">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936678">if</span>&nbsp;<span class="ident" id="7936681">_</span><span class="op" id="7936682">,</span>&nbsp;<span class="ident" id="7936684">err</span>&nbsp;<span class="op" id="7936688">:=</span>&nbsp;<span class="ident" id="7936691"><a href="/net/dnsclient_unix.go.html#1354683">goLookupIP</a></span><span class="op" id="7936701">(</span><span class="ident" id="7936702"><a href="/net/netgo_unix_test.go.html#7936502">host</a></span><span class="op" id="7936706">)</span><span class="op" id="7936707">;</span>&nbsp;<span class="ident" id="7936709"><a href="/net/netgo_unix_test.go.html#7936684">err</a></span>&nbsp;<span class="op" id="7936713">!=</span>&nbsp;<span class="ident" id="7936716">nil</span>&nbsp;<span class="op" id="7936720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936724"><a href="/net/netgo_unix_test.go.html#7936485">t</a></span><span class="op" id="7936725">.</span><span class="ident" id="7936726">Errorf</span><span class="op" id="7936732">(</span><span class="string" id="7936733">&#34;goLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7936756">,</span>&nbsp;<span class="ident" id="7936758"><a href="/net/netgo_unix_test.go.html#7936684">err</a></span><span class="op" id="7936761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936764">}</span><br>
<span class="lineno"></span><span class="op" id="7936766">}</span>
</div>
</body>
</html>
