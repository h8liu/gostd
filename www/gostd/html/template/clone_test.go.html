<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html" class="current">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7863411">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7863466">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7863520">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7863571">package</span>&nbsp;<span class="ident" id="7863579">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863589">import</span>&nbsp;<span class="op" id="7863596">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863599">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863608">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863618">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863631">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7863642">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="7863664">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7863667">func</span>&nbsp;<span class="ident" id="7863672">TestAddParseTree</span><span class="op" id="7863688">(</span><span class="ident" id="7863689">t</span>&nbsp;<span class="op" id="7863691">*</span><span class="ident" id="7863692">testing</span><span class="op" id="7863699">.</span><span class="ident" id="7863700">T</span><span class="op" id="7863701">)</span>&nbsp;<span class="op" id="7863703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863706">root</span>&nbsp;<span class="op" id="7863711">:=</span>&nbsp;<span class="ident" id="7863714">Must</span><span class="op" id="7863718">(</span><span class="ident" id="7863719">New</span><span class="op" id="7863722">(</span><span class="string" id="7863723">&#34;root&#34;</span><span class="op" id="7863729">)</span><span class="op" id="7863730">.</span><span class="ident" id="7863731">Parse</span><span class="op" id="7863736">(</span><span class="string" id="7863737">`{{define&nbsp;&#34;a&#34;}}&nbsp;{{.}}&nbsp;{{template&nbsp;&#34;b&#34;}}&nbsp;{{.}}&nbsp;&#34;&gt;&lt;/a&gt;{{end}}`</span><span class="op" id="7863796">)</span><span class="op" id="7863797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863800">tree</span><span class="op" id="7863804">,</span>&nbsp;<span class="ident" id="7863806">err</span>&nbsp;<span class="op" id="7863810">:=</span>&nbsp;<span class="ident" id="7863813">parse</span><span class="op" id="7863818">.</span><span class="ident" id="7863819">Parse</span><span class="op" id="7863824">(</span><span class="string" id="7863825">&#34;t&#34;</span><span class="op" id="7863828">,</span>&nbsp;<span class="string" id="7863830">`{{define&nbsp;&#34;b&#34;}}&lt;a&nbsp;href=&#34;{{end}}`</span><span class="op" id="7863862">,</span>&nbsp;<span class="string" id="7863864">&#34;&#34;</span><span class="op" id="7863866">,</span>&nbsp;<span class="string" id="7863868">&#34;&#34;</span><span class="op" id="7863870">,</span>&nbsp;<span class="builtintype" id="7863872">nil</span><span class="op" id="7863875">,</span>&nbsp;<span class="builtintype" id="7863877">nil</span><span class="op" id="7863880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7863883">if</span>&nbsp;<span class="ident" id="7863886">err</span>&nbsp;<span class="op" id="7863890">!=</span>&nbsp;<span class="builtintype" id="7863893">nil</span>&nbsp;<span class="op" id="7863897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863901">t</span><span class="op" id="7863902">.</span><span class="ident" id="7863903">Fatal</span><span class="op" id="7863908">(</span><span class="ident" id="7863909">err</span><span class="op" id="7863912">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7863915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863918">added</span>&nbsp;<span class="op" id="7863924">:=</span>&nbsp;<span class="ident" id="7863927">Must</span><span class="op" id="7863931">(</span><span class="ident" id="7863932">root</span><span class="op" id="7863936">.</span><span class="ident" id="7863937">AddParseTree</span><span class="op" id="7863949">(</span><span class="string" id="7863950">&#34;b&#34;</span><span class="op" id="7863953">,</span>&nbsp;<span class="ident" id="7863955">tree</span><span class="op" id="7863959">[</span><span class="string" id="7863960">&#34;b&#34;</span><span class="op" id="7863963">]</span><span class="op" id="7863964">)</span><span class="op" id="7863965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863968">b</span>&nbsp;<span class="op" id="7863970">:=</span>&nbsp;<span class="builtinfunc" id="7863973">new</span><span class="op" id="7863976">(</span><span class="ident" id="7863977">bytes</span><span class="op" id="7863982">.</span><span class="ident" id="7863983">Buffer</span><span class="op" id="7863989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7863992">err</span>&nbsp;<span class="op" id="7863996">=</span>&nbsp;<span class="ident" id="7863998">added</span><span class="op" id="7864003">.</span><span class="ident" id="7864004">ExecuteTemplate</span><span class="op" id="7864019">(</span><span class="ident" id="7864020">b</span><span class="op" id="7864021">,</span>&nbsp;<span class="string" id="7864023">&#34;a&#34;</span><span class="op" id="7864026">,</span>&nbsp;<span class="string" id="7864028">&#34;1&gt;0&#34;</span><span class="op" id="7864033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864036">if</span>&nbsp;<span class="ident" id="7864039">err</span>&nbsp;<span class="op" id="7864043">!=</span>&nbsp;<span class="builtintype" id="7864046">nil</span>&nbsp;<span class="op" id="7864050">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864054">t</span><span class="op" id="7864055">.</span><span class="ident" id="7864056">Fatal</span><span class="op" id="7864061">(</span><span class="ident" id="7864062">err</span><span class="op" id="7864065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864071">if</span>&nbsp;<span class="ident" id="7864074">got</span><span class="op" id="7864077">,</span>&nbsp;<span class="ident" id="7864079">want</span>&nbsp;<span class="op" id="7864084">:=</span>&nbsp;<span class="ident" id="7864087">b</span><span class="op" id="7864088">.</span><span class="ident" id="7864089">String</span><span class="op" id="7864095">(</span><span class="op" id="7864096">)</span><span class="op" id="7864097">,</span>&nbsp;<span class="string" id="7864099">`&nbsp;1&amp;gt;0&nbsp;&lt;a&nbsp;href=&#34;&nbsp;1%3e0&nbsp;&#34;&gt;&lt;/a&gt;`</span><span class="op" id="7864131">;</span>&nbsp;<span class="ident" id="7864133">got</span>&nbsp;<span class="op" id="7864137">!=</span>&nbsp;<span class="ident" id="7864140">want</span>&nbsp;<span class="op" id="7864145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864149">t</span><span class="op" id="7864150">.</span><span class="ident" id="7864151">Errorf</span><span class="op" id="7864157">(</span><span class="string" id="7864158">&#34;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7864174">,</span>&nbsp;<span class="ident" id="7864176">got</span><span class="op" id="7864179">,</span>&nbsp;<span class="ident" id="7864181">want</span><span class="op" id="7864185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864188">}</span><br>
<span class="lineno">30</span><span class="op" id="7864190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7864193">func</span>&nbsp;<span class="ident" id="7864198">TestClone</span><span class="op" id="7864207">(</span><span class="ident" id="7864208">t</span>&nbsp;<span class="op" id="7864210">*</span><span class="ident" id="7864211">testing</span><span class="op" id="7864218">.</span><span class="ident" id="7864219">T</span><span class="op" id="7864220">)</span>&nbsp;<span class="op" id="7864222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864225">//&nbsp;The&nbsp;{{.}}&nbsp;will&nbsp;be&nbsp;executed&nbsp;with&nbsp;data&nbsp;&#34;&lt;i&gt;*/&#34;&nbsp;in&nbsp;different&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864297">//&nbsp;In&nbsp;the&nbsp;t0&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;text&nbsp;context.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864351">//&nbsp;In&nbsp;the&nbsp;t1&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;URL&nbsp;context.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864404">//&nbsp;In&nbsp;the&nbsp;t2&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;JavaScript&nbsp;context.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864464">//&nbsp;In&nbsp;the&nbsp;t3&nbsp;template,&nbsp;it&nbsp;will&nbsp;be&nbsp;in&nbsp;a&nbsp;CSS&nbsp;context.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864517">const</span>&nbsp;<span class="ident" id="7864523">tmpl</span>&nbsp;<span class="op" id="7864528">=</span>&nbsp;<span class="string" id="7864530">`{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;lhs&#34;}}{{.}}{{template&nbsp;&#34;rhs&#34;}}{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864596">b</span>&nbsp;<span class="op" id="7864598">:=</span>&nbsp;<span class="builtinfunc" id="7864601">new</span><span class="op" id="7864604">(</span><span class="ident" id="7864605">bytes</span><span class="op" id="7864610">.</span><span class="ident" id="7864611">Buffer</span><span class="op" id="7864617">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864621">//&nbsp;Create&nbsp;an&nbsp;incomplete&nbsp;template&nbsp;t0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864659">t0</span>&nbsp;<span class="op" id="7864662">:=</span>&nbsp;<span class="ident" id="7864665">Must</span><span class="op" id="7864669">(</span><span class="ident" id="7864670">New</span><span class="op" id="7864673">(</span><span class="string" id="7864674">&#34;t0&#34;</span><span class="op" id="7864678">)</span><span class="op" id="7864679">.</span><span class="ident" id="7864680">Parse</span><span class="op" id="7864685">(</span><span class="ident" id="7864686">tmpl</span><span class="op" id="7864690">)</span><span class="op" id="7864691">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864695">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t1.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864715">t1</span>&nbsp;<span class="op" id="7864718">:=</span>&nbsp;<span class="ident" id="7864721">Must</span><span class="op" id="7864725">(</span><span class="ident" id="7864726">t0</span><span class="op" id="7864728">.</span><span class="ident" id="7864729">Clone</span><span class="op" id="7864734">(</span><span class="op" id="7864735">)</span><span class="op" id="7864736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864739">Must</span><span class="op" id="7864743">(</span><span class="ident" id="7864744">t1</span><span class="op" id="7864746">.</span><span class="ident" id="7864747">Parse</span><span class="op" id="7864752">(</span><span class="string" id="7864753">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;a&nbsp;href=&#34;&nbsp;{{end}}`</span><span class="op" id="7864789">)</span><span class="op" id="7864790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864793">Must</span><span class="op" id="7864797">(</span><span class="ident" id="7864798">t1</span><span class="op" id="7864800">.</span><span class="ident" id="7864801">Parse</span><span class="op" id="7864806">(</span><span class="string" id="7864807">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;&#34;&gt;&lt;/a&gt;&nbsp;{{end}}`</span><span class="op" id="7864840">)</span><span class="op" id="7864841">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7864845">//&nbsp;Execute&nbsp;t1.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864861">b</span><span class="op" id="7864862">.</span><span class="ident" id="7864863">Reset</span><span class="op" id="7864868">(</span><span class="op" id="7864869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864872">if</span>&nbsp;<span class="ident" id="7864875">err</span>&nbsp;<span class="op" id="7864879">:=</span>&nbsp;<span class="ident" id="7864882">t1</span><span class="op" id="7864884">.</span><span class="ident" id="7864885">ExecuteTemplate</span><span class="op" id="7864900">(</span><span class="ident" id="7864901">b</span><span class="op" id="7864902">,</span>&nbsp;<span class="string" id="7864904">&#34;a&#34;</span><span class="op" id="7864907">,</span>&nbsp;<span class="string" id="7864909">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7864916">)</span><span class="op" id="7864917">;</span>&nbsp;<span class="ident" id="7864919">err</span>&nbsp;<span class="op" id="7864923">!=</span>&nbsp;<span class="builtintype" id="7864926">nil</span>&nbsp;<span class="op" id="7864930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7864934">t</span><span class="op" id="7864935">.</span><span class="ident" id="7864936">Fatal</span><span class="op" id="7864941">(</span><span class="ident" id="7864942">err</span><span class="op" id="7864945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7864948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7864951">if</span>&nbsp;<span class="ident" id="7864954">got</span><span class="op" id="7864957">,</span>&nbsp;<span class="ident" id="7864959">want</span>&nbsp;<span class="op" id="7864964">:=</span>&nbsp;<span class="ident" id="7864967">b</span><span class="op" id="7864968">.</span><span class="ident" id="7864969">String</span><span class="op" id="7864975">(</span><span class="op" id="7864976">)</span><span class="op" id="7864977">,</span>&nbsp;<span class="string" id="7864979">`&nbsp;&lt;a&nbsp;href=&#34;&nbsp;%3ci%3e*/&nbsp;&#34;&gt;&lt;/a&gt;&nbsp;`</span><span class="op" id="7865009">;</span>&nbsp;<span class="ident" id="7865011">got</span>&nbsp;<span class="op" id="7865015">!=</span>&nbsp;<span class="ident" id="7865018">want</span>&nbsp;<span class="op" id="7865023">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865027">t</span><span class="op" id="7865028">.</span><span class="ident" id="7865029">Errorf</span><span class="op" id="7865035">(</span><span class="string" id="7865036">&#34;t1:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7865056">,</span>&nbsp;<span class="ident" id="7865058">got</span><span class="op" id="7865061">,</span>&nbsp;<span class="ident" id="7865063">want</span><span class="op" id="7865067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865074">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865094">t2</span>&nbsp;<span class="op" id="7865097">:=</span>&nbsp;<span class="ident" id="7865100">Must</span><span class="op" id="7865104">(</span><span class="ident" id="7865105">t0</span><span class="op" id="7865107">.</span><span class="ident" id="7865108">Clone</span><span class="op" id="7865113">(</span><span class="op" id="7865114">)</span><span class="op" id="7865115">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865118">Must</span><span class="op" id="7865122">(</span><span class="ident" id="7865123">t2</span><span class="op" id="7865125">.</span><span class="ident" id="7865126">Parse</span><span class="op" id="7865131">(</span><span class="string" id="7865132">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;p&nbsp;onclick=&#34;javascript:&nbsp;{{end}}`</span><span class="op" id="7865182">)</span><span class="op" id="7865183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865186">Must</span><span class="op" id="7865190">(</span><span class="ident" id="7865191">t2</span><span class="op" id="7865193">.</span><span class="ident" id="7865194">Parse</span><span class="op" id="7865199">(</span><span class="string" id="7865200">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;&#34;&gt;&lt;/p&gt;&nbsp;{{end}}`</span><span class="op" id="7865233">)</span><span class="op" id="7865234">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865238">//&nbsp;Execute&nbsp;t2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865254">b</span><span class="op" id="7865255">.</span><span class="ident" id="7865256">Reset</span><span class="op" id="7865261">(</span><span class="op" id="7865262">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7865265">if</span>&nbsp;<span class="ident" id="7865268">err</span>&nbsp;<span class="op" id="7865272">:=</span>&nbsp;<span class="ident" id="7865275">t2</span><span class="op" id="7865277">.</span><span class="ident" id="7865278">ExecuteTemplate</span><span class="op" id="7865293">(</span><span class="ident" id="7865294">b</span><span class="op" id="7865295">,</span>&nbsp;<span class="string" id="7865297">&#34;a&#34;</span><span class="op" id="7865300">,</span>&nbsp;<span class="string" id="7865302">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7865309">)</span><span class="op" id="7865310">;</span>&nbsp;<span class="ident" id="7865312">err</span>&nbsp;<span class="op" id="7865316">!=</span>&nbsp;<span class="builtintype" id="7865319">nil</span>&nbsp;<span class="op" id="7865323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865327">t</span><span class="op" id="7865328">.</span><span class="ident" id="7865329">Fatal</span><span class="op" id="7865334">(</span><span class="ident" id="7865335">err</span><span class="op" id="7865338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7865344">if</span>&nbsp;<span class="ident" id="7865347">got</span><span class="op" id="7865350">,</span>&nbsp;<span class="ident" id="7865352">want</span>&nbsp;<span class="op" id="7865357">:=</span>&nbsp;<span class="ident" id="7865360">b</span><span class="op" id="7865361">.</span><span class="ident" id="7865362">String</span><span class="op" id="7865368">(</span><span class="op" id="7865369">)</span><span class="op" id="7865370">,</span>&nbsp;<span class="string" id="7865372">`&nbsp;&lt;p&nbsp;onclick=&#34;javascript:&nbsp;&amp;#34;\u003ci\u003e*/&amp;#34;&nbsp;&#34;&gt;&lt;/p&gt;&nbsp;`</span><span class="op" id="7865432">;</span>&nbsp;<span class="ident" id="7865434">got</span>&nbsp;<span class="op" id="7865438">!=</span>&nbsp;<span class="ident" id="7865441">want</span>&nbsp;<span class="op" id="7865446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865450">t</span><span class="op" id="7865451">.</span><span class="ident" id="7865452">Errorf</span><span class="op" id="7865458">(</span><span class="string" id="7865459">&#34;t2:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7865479">,</span>&nbsp;<span class="ident" id="7865481">got</span><span class="op" id="7865484">,</span>&nbsp;<span class="ident" id="7865486">want</span><span class="op" id="7865490">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865497">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t3,&nbsp;but&nbsp;do&nbsp;not&nbsp;execute&nbsp;t3&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865544">t3</span>&nbsp;<span class="op" id="7865547">:=</span>&nbsp;<span class="ident" id="7865550">Must</span><span class="op" id="7865554">(</span><span class="ident" id="7865555">t0</span><span class="op" id="7865557">.</span><span class="ident" id="7865558">Clone</span><span class="op" id="7865563">(</span><span class="op" id="7865564">)</span><span class="op" id="7865565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865568">Must</span><span class="op" id="7865572">(</span><span class="ident" id="7865573">t3</span><span class="op" id="7865575">.</span><span class="ident" id="7865576">Parse</span><span class="op" id="7865581">(</span><span class="string" id="7865582">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;style&gt;&nbsp;{{end}}`</span><span class="op" id="7865616">)</span><span class="op" id="7865617">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865620">Must</span><span class="op" id="7865624">(</span><span class="ident" id="7865625">t3</span><span class="op" id="7865627">.</span><span class="ident" id="7865628">Parse</span><span class="op" id="7865633">(</span><span class="string" id="7865634">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;&lt;/style&gt;&nbsp;{{end}}`</span><span class="op" id="7865669">)</span><span class="op" id="7865670">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865674">//&nbsp;Complete&nbsp;t0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865691">Must</span><span class="op" id="7865695">(</span><span class="ident" id="7865696">t0</span><span class="op" id="7865698">.</span><span class="ident" id="7865699">Parse</span><span class="op" id="7865704">(</span><span class="string" id="7865705">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;(&nbsp;{{end}}`</span><span class="op" id="7865733">)</span><span class="op" id="7865734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865737">Must</span><span class="op" id="7865741">(</span><span class="ident" id="7865742">t0</span><span class="op" id="7865744">.</span><span class="ident" id="7865745">Parse</span><span class="op" id="7865750">(</span><span class="string" id="7865751">`{{define&nbsp;&#34;rhs&#34;}}&nbsp;)&nbsp;{{end}}`</span><span class="op" id="7865779">)</span><span class="op" id="7865780">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865784">//&nbsp;Clone&nbsp;t0&nbsp;as&nbsp;t4.&nbsp;Redefining&nbsp;the&nbsp;&#34;lhs&#34;&nbsp;template&nbsp;should&nbsp;fail.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865847">t4</span>&nbsp;<span class="op" id="7865850">:=</span>&nbsp;<span class="ident" id="7865853">Must</span><span class="op" id="7865857">(</span><span class="ident" id="7865858">t0</span><span class="op" id="7865860">.</span><span class="ident" id="7865861">Clone</span><span class="op" id="7865866">(</span><span class="op" id="7865867">)</span><span class="op" id="7865868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7865871">if</span>&nbsp;<span class="ident" id="7865874">_</span><span class="op" id="7865875">,</span>&nbsp;<span class="ident" id="7865877">err</span>&nbsp;<span class="op" id="7865881">:=</span>&nbsp;<span class="ident" id="7865884">t4</span><span class="op" id="7865886">.</span><span class="ident" id="7865887">Parse</span><span class="op" id="7865892">(</span><span class="string" id="7865893">`{{define&nbsp;&#34;lhs&#34;}}&nbsp;FAIL&nbsp;{{end}}`</span><span class="op" id="7865924">)</span><span class="op" id="7865925">;</span>&nbsp;<span class="ident" id="7865927">err</span>&nbsp;<span class="op" id="7865931">==</span>&nbsp;<span class="builtintype" id="7865934">nil</span>&nbsp;<span class="op" id="7865938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7865942">t</span><span class="op" id="7865943">.</span><span class="ident" id="7865944">Error</span><span class="op" id="7865949">(</span><span class="string" id="7865950">`redefine&nbsp;&#34;lhs&#34;:&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7865992">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7865999">//&nbsp;Execute&nbsp;t0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866015">b</span><span class="op" id="7866016">.</span><span class="ident" id="7866017">Reset</span><span class="op" id="7866022">(</span><span class="op" id="7866023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866026">if</span>&nbsp;<span class="ident" id="7866029">err</span>&nbsp;<span class="op" id="7866033">:=</span>&nbsp;<span class="ident" id="7866036">t0</span><span class="op" id="7866038">.</span><span class="ident" id="7866039">ExecuteTemplate</span><span class="op" id="7866054">(</span><span class="ident" id="7866055">b</span><span class="op" id="7866056">,</span>&nbsp;<span class="string" id="7866058">&#34;a&#34;</span><span class="op" id="7866061">,</span>&nbsp;<span class="string" id="7866063">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7866070">)</span><span class="op" id="7866071">;</span>&nbsp;<span class="ident" id="7866073">err</span>&nbsp;<span class="op" id="7866077">!=</span>&nbsp;<span class="builtintype" id="7866080">nil</span>&nbsp;<span class="op" id="7866084">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866088">t</span><span class="op" id="7866089">.</span><span class="ident" id="7866090">Fatal</span><span class="op" id="7866095">(</span><span class="ident" id="7866096">err</span><span class="op" id="7866099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866105">if</span>&nbsp;<span class="ident" id="7866108">got</span><span class="op" id="7866111">,</span>&nbsp;<span class="ident" id="7866113">want</span>&nbsp;<span class="op" id="7866118">:=</span>&nbsp;<span class="ident" id="7866121">b</span><span class="op" id="7866122">.</span><span class="ident" id="7866123">String</span><span class="op" id="7866129">(</span><span class="op" id="7866130">)</span><span class="op" id="7866131">,</span>&nbsp;<span class="string" id="7866133">`&nbsp;(&nbsp;&amp;lt;i&amp;gt;*/&nbsp;)&nbsp;`</span><span class="op" id="7866152">;</span>&nbsp;<span class="ident" id="7866154">got</span>&nbsp;<span class="op" id="7866158">!=</span>&nbsp;<span class="ident" id="7866161">want</span>&nbsp;<span class="op" id="7866166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866170">t</span><span class="op" id="7866171">.</span><span class="ident" id="7866172">Errorf</span><span class="op" id="7866178">(</span><span class="string" id="7866179">&#34;t0:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7866199">,</span>&nbsp;<span class="ident" id="7866201">got</span><span class="op" id="7866204">,</span>&nbsp;<span class="ident" id="7866206">want</span><span class="op" id="7866210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866213">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866217">//&nbsp;Clone&nbsp;t0.&nbsp;This&nbsp;should&nbsp;fail,&nbsp;as&nbsp;t0&nbsp;has&nbsp;already&nbsp;executed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866277">if</span>&nbsp;<span class="ident" id="7866280">_</span><span class="op" id="7866281">,</span>&nbsp;<span class="ident" id="7866283">err</span>&nbsp;<span class="op" id="7866287">:=</span>&nbsp;<span class="ident" id="7866290">t0</span><span class="op" id="7866292">.</span><span class="ident" id="7866293">Clone</span><span class="op" id="7866298">(</span><span class="op" id="7866299">)</span><span class="op" id="7866300">;</span>&nbsp;<span class="ident" id="7866302">err</span>&nbsp;<span class="op" id="7866306">==</span>&nbsp;<span class="builtintype" id="7866309">nil</span>&nbsp;<span class="op" id="7866313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866317">t</span><span class="op" id="7866318">.</span><span class="ident" id="7866319">Error</span><span class="op" id="7866324">(</span><span class="string" id="7866325">`t0.Clone():&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7866363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866366">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866370">//&nbsp;Similarly,&nbsp;cloning&nbsp;sub-templates&nbsp;should&nbsp;fail.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866420">if</span>&nbsp;<span class="ident" id="7866423">_</span><span class="op" id="7866424">,</span>&nbsp;<span class="ident" id="7866426">err</span>&nbsp;<span class="op" id="7866430">:=</span>&nbsp;<span class="ident" id="7866433">t0</span><span class="op" id="7866435">.</span><span class="ident" id="7866436">Lookup</span><span class="op" id="7866442">(</span><span class="string" id="7866443">&#34;a&#34;</span><span class="op" id="7866446">)</span><span class="op" id="7866447">.</span><span class="ident" id="7866448">Clone</span><span class="op" id="7866453">(</span><span class="op" id="7866454">)</span><span class="op" id="7866455">;</span>&nbsp;<span class="ident" id="7866457">err</span>&nbsp;<span class="op" id="7866461">==</span>&nbsp;<span class="builtintype" id="7866464">nil</span>&nbsp;<span class="op" id="7866468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866472">t</span><span class="op" id="7866473">.</span><span class="ident" id="7866474">Error</span><span class="op" id="7866479">(</span><span class="string" id="7866480">`t0.Lookup(&#34;a&#34;).Clone():&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7866530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866533">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866536">if</span>&nbsp;<span class="ident" id="7866539">_</span><span class="op" id="7866540">,</span>&nbsp;<span class="ident" id="7866542">err</span>&nbsp;<span class="op" id="7866546">:=</span>&nbsp;<span class="ident" id="7866549">t0</span><span class="op" id="7866551">.</span><span class="ident" id="7866552">Lookup</span><span class="op" id="7866558">(</span><span class="string" id="7866559">&#34;lhs&#34;</span><span class="op" id="7866564">)</span><span class="op" id="7866565">.</span><span class="ident" id="7866566">Clone</span><span class="op" id="7866571">(</span><span class="op" id="7866572">)</span><span class="op" id="7866573">;</span>&nbsp;<span class="ident" id="7866575">err</span>&nbsp;<span class="op" id="7866579">==</span>&nbsp;<span class="builtintype" id="7866582">nil</span>&nbsp;<span class="op" id="7866586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866590">t</span><span class="op" id="7866591">.</span><span class="ident" id="7866592">Error</span><span class="op" id="7866597">(</span><span class="string" id="7866598">`t0.Lookup(&#34;lhs&#34;).Clone():&nbsp;got&nbsp;nil&nbsp;err&nbsp;want&nbsp;non-nil`</span><span class="op" id="7866650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866657">//&nbsp;Execute&nbsp;t3.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866673">b</span><span class="op" id="7866674">.</span><span class="ident" id="7866675">Reset</span><span class="op" id="7866680">(</span><span class="op" id="7866681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866684">if</span>&nbsp;<span class="ident" id="7866687">err</span>&nbsp;<span class="op" id="7866691">:=</span>&nbsp;<span class="ident" id="7866694">t3</span><span class="op" id="7866696">.</span><span class="ident" id="7866697">ExecuteTemplate</span><span class="op" id="7866712">(</span><span class="ident" id="7866713">b</span><span class="op" id="7866714">,</span>&nbsp;<span class="string" id="7866716">&#34;a&#34;</span><span class="op" id="7866719">,</span>&nbsp;<span class="string" id="7866721">&#34;&lt;i&gt;*/&#34;</span><span class="op" id="7866728">)</span><span class="op" id="7866729">;</span>&nbsp;<span class="ident" id="7866731">err</span>&nbsp;<span class="op" id="7866735">!=</span>&nbsp;<span class="builtintype" id="7866738">nil</span>&nbsp;<span class="op" id="7866742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866746">t</span><span class="op" id="7866747">.</span><span class="ident" id="7866748">Fatal</span><span class="op" id="7866753">(</span><span class="ident" id="7866754">err</span><span class="op" id="7866757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866763">if</span>&nbsp;<span class="ident" id="7866766">got</span><span class="op" id="7866769">,</span>&nbsp;<span class="ident" id="7866771">want</span>&nbsp;<span class="op" id="7866776">:=</span>&nbsp;<span class="ident" id="7866779">b</span><span class="op" id="7866780">.</span><span class="ident" id="7866781">String</span><span class="op" id="7866787">(</span><span class="op" id="7866788">)</span><span class="op" id="7866789">,</span>&nbsp;<span class="string" id="7866791">`&nbsp;&lt;style&gt;&nbsp;ZgotmplZ&nbsp;&lt;/style&gt;&nbsp;`</span><span class="op" id="7866820">;</span>&nbsp;<span class="ident" id="7866822">got</span>&nbsp;<span class="op" id="7866826">!=</span>&nbsp;<span class="ident" id="7866829">want</span>&nbsp;<span class="op" id="7866834">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866838">t</span><span class="op" id="7866839">.</span><span class="ident" id="7866840">Errorf</span><span class="op" id="7866846">(</span><span class="string" id="7866847">&#34;t3:&nbsp;got&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7866867">,</span>&nbsp;<span class="ident" id="7866869">got</span><span class="op" id="7866872">,</span>&nbsp;<span class="ident" id="7866874">want</span><span class="op" id="7866878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866881">}</span><br>
<span class="lineno"></span><span class="op" id="7866883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7866886">func</span>&nbsp;<span class="ident" id="7866891">TestTemplates</span><span class="op" id="7866904">(</span><span class="ident" id="7866905">t</span>&nbsp;<span class="op" id="7866907">*</span><span class="ident" id="7866908">testing</span><span class="op" id="7866915">.</span><span class="ident" id="7866916">T</span><span class="op" id="7866917">)</span>&nbsp;<span class="op" id="7866919">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866922">names</span>&nbsp;<span class="op" id="7866928">:=</span>&nbsp;<span class="op" id="7866931">[</span><span class="op" id="7866932">]</span><span class="builtintype" id="7866933">string</span><span class="op" id="7866939">{</span><span class="string" id="7866940">&#34;t0&#34;</span><span class="op" id="7866944">,</span>&nbsp;<span class="string" id="7866946">&#34;a&#34;</span><span class="op" id="7866949">,</span>&nbsp;<span class="string" id="7866951">&#34;lhs&#34;</span><span class="op" id="7866956">,</span>&nbsp;<span class="string" id="7866958">&#34;rhs&#34;</span><span class="op" id="7866963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7866966">//&nbsp;Some&nbsp;template&nbsp;definitions&nbsp;borrowed&nbsp;from&nbsp;TestClone.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867021">const</span>&nbsp;<span class="ident" id="7867027">tmpl</span>&nbsp;<span class="op" id="7867032">=</span>&nbsp;<span class="string" id="7867034">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;lhs&#34;}}{{.}}{{template&nbsp;&#34;rhs&#34;}}{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;lhs&#34;}}&nbsp;&lt;a&nbsp;href=&#34;&nbsp;{{end}}<br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;rhs&#34;}}&nbsp;&#34;&gt;&lt;/a&gt;&nbsp;{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867174">t0</span>&nbsp;<span class="op" id="7867177">:=</span>&nbsp;<span class="ident" id="7867180">Must</span><span class="op" id="7867184">(</span><span class="ident" id="7867185">New</span><span class="op" id="7867188">(</span><span class="string" id="7867189">&#34;t0&#34;</span><span class="op" id="7867193">)</span><span class="op" id="7867194">.</span><span class="ident" id="7867195">Parse</span><span class="op" id="7867200">(</span><span class="ident" id="7867201">tmpl</span><span class="op" id="7867205">)</span><span class="op" id="7867206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867209">templates</span>&nbsp;<span class="op" id="7867219">:=</span>&nbsp;<span class="ident" id="7867222">t0</span><span class="op" id="7867224">.</span><span class="ident" id="7867225">Templates</span><span class="op" id="7867234">(</span><span class="op" id="7867235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867238">if</span>&nbsp;<span class="builtinfunc" id="7867241">len</span><span class="op" id="7867244">(</span><span class="ident" id="7867245">templates</span><span class="op" id="7867254">)</span>&nbsp;<span class="op" id="7867256">!=</span>&nbsp;<span class="builtinfunc" id="7867259">len</span><span class="op" id="7867262">(</span><span class="ident" id="7867263">names</span><span class="op" id="7867268">)</span>&nbsp;<span class="op" id="7867270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867274">t</span><span class="op" id="7867275">.</span><span class="ident" id="7867276">Errorf</span><span class="op" id="7867282">(</span><span class="string" id="7867283">&#34;expected&nbsp;%d&nbsp;templates;&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7867314">,</span>&nbsp;<span class="builtinfunc" id="7867316">len</span><span class="op" id="7867319">(</span><span class="ident" id="7867320">names</span><span class="op" id="7867325">)</span><span class="op" id="7867326">,</span>&nbsp;<span class="builtinfunc" id="7867328">len</span><span class="op" id="7867331">(</span><span class="ident" id="7867332">templates</span><span class="op" id="7867341">)</span><span class="op" id="7867342">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867348">for</span>&nbsp;<span class="ident" id="7867352">_</span><span class="op" id="7867353">,</span>&nbsp;<span class="ident" id="7867355">name</span>&nbsp;<span class="op" id="7867360">:=</span>&nbsp;<span class="keyword" id="7867363">range</span>&nbsp;<span class="ident" id="7867369">names</span>&nbsp;<span class="op" id="7867375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867379">found</span>&nbsp;<span class="op" id="7867385">:=</span>&nbsp;<span class="builtintype" id="7867388">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867396">for</span>&nbsp;<span class="ident" id="7867400">_</span><span class="op" id="7867401">,</span>&nbsp;<span class="ident" id="7867403">tmpl</span>&nbsp;<span class="op" id="7867408">:=</span>&nbsp;<span class="keyword" id="7867411">range</span>&nbsp;<span class="ident" id="7867417">templates</span>&nbsp;<span class="op" id="7867427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867432">if</span>&nbsp;<span class="ident" id="7867435">name</span>&nbsp;<span class="op" id="7867440">==</span>&nbsp;<span class="ident" id="7867443">tmpl</span><span class="op" id="7867447">.</span><span class="ident" id="7867448">text</span><span class="op" id="7867452">.</span><span class="ident" id="7867453">Name</span><span class="op" id="7867457">(</span><span class="op" id="7867458">)</span>&nbsp;<span class="op" id="7867460">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867466">found</span>&nbsp;<span class="op" id="7867472">=</span>&nbsp;<span class="builtintype" id="7867474">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867483">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7867500">if</span>&nbsp;<span class="op" id="7867503">!</span><span class="ident" id="7867504">found</span>&nbsp;<span class="op" id="7867510">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867515">t</span><span class="op" id="7867516">.</span><span class="ident" id="7867517">Error</span><span class="op" id="7867522">(</span><span class="string" id="7867523">&#34;could&nbsp;not&nbsp;find&nbsp;template&#34;</span><span class="op" id="7867548">,</span>&nbsp;<span class="ident" id="7867550">name</span><span class="op" id="7867554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867561">}</span><br>
<span class="lineno"></span><span class="op" id="7867563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="7867566">//&nbsp;This&nbsp;used&nbsp;to&nbsp;crash;&nbsp;http://golang.org/issue/3281</span><br>
<span class="lineno"></span><span class="keyword" id="7867618">func</span>&nbsp;<span class="ident" id="7867623">TestCloneCrash</span><span class="op" id="7867637">(</span><span class="ident" id="7867638">t</span>&nbsp;<span class="op" id="7867640">*</span><span class="ident" id="7867641">testing</span><span class="op" id="7867648">.</span><span class="ident" id="7867649">T</span><span class="op" id="7867650">)</span>&nbsp;<span class="op" id="7867652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867655">t1</span>&nbsp;<span class="op" id="7867658">:=</span>&nbsp;<span class="ident" id="7867661">New</span><span class="op" id="7867664">(</span><span class="string" id="7867665">&#34;all&#34;</span><span class="op" id="7867670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867673">Must</span><span class="op" id="7867677">(</span><span class="ident" id="7867678">t1</span><span class="op" id="7867680">.</span><span class="ident" id="7867681">New</span><span class="op" id="7867684">(</span><span class="string" id="7867685">&#34;t1&#34;</span><span class="op" id="7867689">)</span><span class="op" id="7867690">.</span><span class="ident" id="7867691">Parse</span><span class="op" id="7867696">(</span><span class="string" id="7867697">`{{define&nbsp;&#34;foo&#34;}}foo{{end}}`</span><span class="op" id="7867725">)</span><span class="op" id="7867726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867729">t1</span><span class="op" id="7867731">.</span><span class="ident" id="7867732">Clone</span><span class="op" id="7867737">(</span><span class="op" id="7867738">)</span><br>
<span class="lineno">150</span><span class="op" id="7867740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7867743">//&nbsp;Ensure&nbsp;that&nbsp;this&nbsp;guarantee&nbsp;from&nbsp;the&nbsp;docs&nbsp;is&nbsp;upheld:</span><br>
<span class="lineno"></span><span class="comment" id="7867798">//&nbsp;&#34;Further&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;in&nbsp;the&nbsp;copy&nbsp;will&nbsp;add&nbsp;templates</span><br>
<span class="lineno"></span><span class="comment" id="7867856">//&nbsp;to&nbsp;the&nbsp;copy&nbsp;but&nbsp;not&nbsp;to&nbsp;the&nbsp;original.&#34;</span><br>
<span class="lineno">155</span><span class="keyword" id="7867897">func</span>&nbsp;<span class="ident" id="7867902">TestCloneThenParse</span><span class="op" id="7867920">(</span><span class="ident" id="7867921">t</span>&nbsp;<span class="op" id="7867923">*</span><span class="ident" id="7867924">testing</span><span class="op" id="7867931">.</span><span class="ident" id="7867932">T</span><span class="op" id="7867933">)</span>&nbsp;<span class="op" id="7867935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7867938">t0</span>&nbsp;<span class="op" id="7867941">:=</span>&nbsp;<span class="ident" id="7867944">Must</span><span class="op" id="7867948">(</span><span class="ident" id="7867949">New</span><span class="op" id="7867952">(</span><span class="string" id="7867953">&#34;t0&#34;</span><span class="op" id="7867957">)</span><span class="op" id="7867958">.</span><span class="ident" id="7867959">Parse</span><span class="op" id="7867964">(</span><span class="string" id="7867965">`{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;embedded&#34;}}{{end}}`</span><span class="op" id="7868011">)</span><span class="op" id="7868012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868015">t1</span>&nbsp;<span class="op" id="7868018">:=</span>&nbsp;<span class="ident" id="7868021">Must</span><span class="op" id="7868025">(</span><span class="ident" id="7868026">t0</span><span class="op" id="7868028">.</span><span class="ident" id="7868029">Clone</span><span class="op" id="7868034">(</span><span class="op" id="7868035">)</span><span class="op" id="7868036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868039">Must</span><span class="op" id="7868043">(</span><span class="ident" id="7868044">t1</span><span class="op" id="7868046">.</span><span class="ident" id="7868047">Parse</span><span class="op" id="7868052">(</span><span class="string" id="7868053">`{{define&nbsp;&#34;embedded&#34;}}t1{{end}}`</span><span class="op" id="7868085">)</span><span class="op" id="7868086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7868089">if</span>&nbsp;<span class="builtinfunc" id="7868092">len</span><span class="op" id="7868095">(</span><span class="ident" id="7868096">t0</span><span class="op" id="7868098">.</span><span class="ident" id="7868099">Templates</span><span class="op" id="7868108">(</span><span class="op" id="7868109">)</span><span class="op" id="7868110">)</span><span class="op" id="7868111">+</span><span class="num" id="7868112">1</span>&nbsp;<span class="op" id="7868114">!=</span>&nbsp;<span class="builtinfunc" id="7868117">len</span><span class="op" id="7868120">(</span><span class="ident" id="7868121">t1</span><span class="op" id="7868123">.</span><span class="ident" id="7868124">Templates</span><span class="op" id="7868133">(</span><span class="op" id="7868134">)</span><span class="op" id="7868135">)</span>&nbsp;<span class="op" id="7868137">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868141">t</span><span class="op" id="7868142">.</span><span class="ident" id="7868143">Error</span><span class="op" id="7868148">(</span><span class="string" id="7868149">&#34;adding&nbsp;a&nbsp;template&nbsp;to&nbsp;a&nbsp;clone&nbsp;added&nbsp;it&nbsp;to&nbsp;the&nbsp;original&#34;</span><span class="op" id="7868204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868210">//&nbsp;double&nbsp;check&nbsp;that&nbsp;the&nbsp;embedded&nbsp;template&nbsp;isn&#39;t&nbsp;available&nbsp;in&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868286">err</span>&nbsp;<span class="op" id="7868290">:=</span>&nbsp;<span class="ident" id="7868293">t0</span><span class="op" id="7868295">.</span><span class="ident" id="7868296">ExecuteTemplate</span><span class="op" id="7868311">(</span><span class="ident" id="7868312">ioutil</span><span class="op" id="7868318">.</span><span class="ident" id="7868319">Discard</span><span class="op" id="7868326">,</span>&nbsp;<span class="string" id="7868328">&#34;a&#34;</span><span class="op" id="7868331">,</span>&nbsp;<span class="builtintype" id="7868333">nil</span><span class="op" id="7868336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7868339">if</span>&nbsp;<span class="ident" id="7868342">err</span>&nbsp;<span class="op" id="7868346">==</span>&nbsp;<span class="builtintype" id="7868349">nil</span>&nbsp;<span class="op" id="7868353">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868357">t</span><span class="op" id="7868358">.</span><span class="ident" id="7868359">Error</span><span class="op" id="7868364">(</span><span class="string" id="7868365">&#34;expected&nbsp;&#39;no&nbsp;such&nbsp;template&#39;&nbsp;error&#34;</span><span class="op" id="7868400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868403">}</span><br>
<span class="lineno"></span><span class="op" id="7868405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7868408">//&nbsp;https://code.google.com/p/go/issues/detail?id=5980</span><br>
<span class="lineno">170</span><span class="keyword" id="7868462">func</span>&nbsp;<span class="ident" id="7868467">TestFuncMapWorksAfterClone</span><span class="op" id="7868493">(</span><span class="ident" id="7868494">t</span>&nbsp;<span class="op" id="7868496">*</span><span class="ident" id="7868497">testing</span><span class="op" id="7868504">.</span><span class="ident" id="7868505">T</span><span class="op" id="7868506">)</span>&nbsp;<span class="op" id="7868508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868511">funcs</span>&nbsp;<span class="op" id="7868517">:=</span>&nbsp;<span class="ident" id="7868520">FuncMap</span><span class="op" id="7868527">{</span><span class="string" id="7868528">&#34;customFunc&#34;</span><span class="op" id="7868540">:</span>&nbsp;<span class="keyword" id="7868542">func</span><span class="op" id="7868546">(</span><span class="op" id="7868547">)</span>&nbsp;<span class="op" id="7868549">(</span><span class="builtintype" id="7868550">string</span><span class="op" id="7868556">,</span>&nbsp;<span class="builtintype" id="7868558">error</span><span class="op" id="7868563">)</span>&nbsp;<span class="op" id="7868565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7868569">return</span>&nbsp;<span class="string" id="7868576">&#34;&#34;</span><span class="op" id="7868578">,</span>&nbsp;<span class="ident" id="7868580">errors</span><span class="op" id="7868586">.</span><span class="ident" id="7868587">New</span><span class="op" id="7868590">(</span><span class="string" id="7868591">&#34;issue5980&#34;</span><span class="op" id="7868602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7868605">}</span><span class="op" id="7868606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868610">//&nbsp;get&nbsp;the&nbsp;expected&nbsp;error&nbsp;output&nbsp;(no&nbsp;clone)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868655">uncloned</span>&nbsp;<span class="op" id="7868664">:=</span>&nbsp;<span class="ident" id="7868667">Must</span><span class="op" id="7868671">(</span><span class="ident" id="7868672">New</span><span class="op" id="7868675">(</span><span class="string" id="7868676">&#34;&#34;</span><span class="op" id="7868678">)</span><span class="op" id="7868679">.</span><span class="ident" id="7868680">Funcs</span><span class="op" id="7868685">(</span><span class="ident" id="7868686">funcs</span><span class="op" id="7868691">)</span><span class="op" id="7868692">.</span><span class="ident" id="7868693">Parse</span><span class="op" id="7868698">(</span><span class="string" id="7868699">&#34;{{customFunc}}&#34;</span><span class="op" id="7868715">)</span><span class="op" id="7868716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868719">wantErr</span>&nbsp;<span class="op" id="7868727">:=</span>&nbsp;<span class="ident" id="7868730">uncloned</span><span class="op" id="7868738">.</span><span class="ident" id="7868739">Execute</span><span class="op" id="7868746">(</span><span class="ident" id="7868747">ioutil</span><span class="op" id="7868753">.</span><span class="ident" id="7868754">Discard</span><span class="op" id="7868761">,</span>&nbsp;<span class="builtintype" id="7868763">nil</span><span class="op" id="7868766">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868770">//&nbsp;toClone&nbsp;must&nbsp;be&nbsp;the&nbsp;same&nbsp;as&nbsp;uncloned.&nbsp;It&nbsp;has&nbsp;to&nbsp;be&nbsp;recreated&nbsp;from&nbsp;scratch,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7868849">//&nbsp;since&nbsp;cloning&nbsp;cannot&nbsp;occur&nbsp;after&nbsp;execution.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868897">toClone</span>&nbsp;<span class="op" id="7868905">:=</span>&nbsp;<span class="ident" id="7868908">Must</span><span class="op" id="7868912">(</span><span class="ident" id="7868913">New</span><span class="op" id="7868916">(</span><span class="string" id="7868917">&#34;&#34;</span><span class="op" id="7868919">)</span><span class="op" id="7868920">.</span><span class="ident" id="7868921">Funcs</span><span class="op" id="7868926">(</span><span class="ident" id="7868927">funcs</span><span class="op" id="7868932">)</span><span class="op" id="7868933">.</span><span class="ident" id="7868934">Parse</span><span class="op" id="7868939">(</span><span class="string" id="7868940">&#34;{{customFunc}}&#34;</span><span class="op" id="7868956">)</span><span class="op" id="7868957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868960">cloned</span>&nbsp;<span class="op" id="7868967">:=</span>&nbsp;<span class="ident" id="7868970">Must</span><span class="op" id="7868974">(</span><span class="ident" id="7868975">toClone</span><span class="op" id="7868982">.</span><span class="ident" id="7868983">Clone</span><span class="op" id="7868988">(</span><span class="op" id="7868989">)</span><span class="op" id="7868990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7868993">gotErr</span>&nbsp;<span class="op" id="7869000">:=</span>&nbsp;<span class="ident" id="7869003">cloned</span><span class="op" id="7869009">.</span><span class="ident" id="7869010">Execute</span><span class="op" id="7869017">(</span><span class="ident" id="7869018">ioutil</span><span class="op" id="7869024">.</span><span class="ident" id="7869025">Discard</span><span class="op" id="7869032">,</span>&nbsp;<span class="builtintype" id="7869034">nil</span><span class="op" id="7869037">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7869041">if</span>&nbsp;<span class="ident" id="7869044">wantErr</span><span class="op" id="7869051">.</span><span class="ident" id="7869052">Error</span><span class="op" id="7869057">(</span><span class="op" id="7869058">)</span>&nbsp;<span class="op" id="7869060">!=</span>&nbsp;<span class="ident" id="7869063">gotErr</span><span class="op" id="7869069">.</span><span class="ident" id="7869070">Error</span><span class="op" id="7869075">(</span><span class="op" id="7869076">)</span>&nbsp;<span class="op" id="7869078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7869082">t</span><span class="op" id="7869083">.</span><span class="ident" id="7869084">Errorf</span><span class="op" id="7869090">(</span><span class="string" id="7869091">&#34;clone&nbsp;error&nbsp;message&nbsp;mismatch&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7869136">,</span>&nbsp;<span class="ident" id="7869138">wantErr</span><span class="op" id="7869145">,</span>&nbsp;<span class="ident" id="7869147">gotErr</span><span class="op" id="7869153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7869156">}</span><br>
<span class="lineno"></span><span class="op" id="7869158">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
