<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5839053">package</span>&nbsp;<span class="ident" id="5839061">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5839067">import</span>&nbsp;<span class="op" id="5839074">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5839077">&#34;fmt&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5839084">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="5839089">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5839092">//&nbsp;ErrorList&nbsp;saves&nbsp;a&nbsp;list&nbsp;of&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5839127">type</span>&nbsp;<span class="ident" id="5839132">ErrorList</span>&nbsp;<span class="keyword" id="5839142">struct</span>&nbsp;<span class="op" id="5839149">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839152">Errs</span>&nbsp;<span class="op" id="5839157">[</span><span class="op" id="5839158">]</span><span class="op" id="5839159">*</span><span class="ident" id="5839160">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839168">Max</span>&nbsp;<span class="builtintype" id="5839172">int</span><br>
<span class="lineno"></span><span class="op" id="5839176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5839179">//&nbsp;NewErrList&nbsp;creates&nbsp;a&nbsp;new&nbsp;error&nbsp;list&nbsp;with&nbsp;default&nbsp;(20)&nbsp;maximum</span><br>
<span class="lineno"></span><span class="comment" id="5839244">//&nbsp;lines&nbsp;of&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="5839264">func</span>&nbsp;<span class="ident" id="5839269">NewErrList</span><span class="op" id="5839279">(</span><span class="op" id="5839280">)</span>&nbsp;<span class="op" id="5839282">*</span><span class="ident" id="5839283">ErrorList</span>&nbsp;<span class="op" id="5839293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839296">ret</span>&nbsp;<span class="op" id="5839300">:=</span>&nbsp;<span class="builtinfunc" id="5839303">new</span><span class="op" id="5839306">(</span><span class="ident" id="5839307">ErrorList</span><span class="op" id="5839316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839319">ret</span><span class="op" id="5839322">.</span><span class="ident" id="5839323">Max</span>&nbsp;<span class="op" id="5839327">=</span>&nbsp;<span class="num" id="5839329">20</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839334">return</span>&nbsp;<span class="ident" id="5839341">ret</span><br>
<span class="lineno"></span><span class="op" id="5839345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5839348">//&nbsp;Add&nbsp;appends&nbsp;the&nbsp;error&nbsp;to&nbsp;the&nbsp;list</span><br>
<span class="lineno">25</span><span class="keyword" id="5839385">func</span>&nbsp;<span class="op" id="5839390">(</span><span class="ident" id="5839391">lst</span>&nbsp;<span class="op" id="5839395">*</span><span class="ident" id="5839396">ErrorList</span><span class="op" id="5839405">)</span>&nbsp;<span class="ident" id="5839407">Add</span><span class="op" id="5839410">(</span><span class="ident" id="5839411">e</span>&nbsp;<span class="op" id="5839413">*</span><span class="ident" id="5839414">Error</span><span class="op" id="5839419">)</span>&nbsp;<span class="op" id="5839421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839424">if</span>&nbsp;<span class="builtinfunc" id="5839427">len</span><span class="op" id="5839430">(</span><span class="ident" id="5839431">lst</span><span class="op" id="5839434">.</span><span class="ident" id="5839435">Errs</span><span class="op" id="5839439">)</span>&nbsp;<span class="op" id="5839441">&gt;=</span>&nbsp;<span class="ident" id="5839444">lst</span><span class="op" id="5839447">.</span><span class="ident" id="5839448">Max</span>&nbsp;<span class="op" id="5839452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839456">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839468">lst</span><span class="op" id="5839471">.</span><span class="ident" id="5839472">Errs</span>&nbsp;<span class="op" id="5839477">=</span>&nbsp;<span class="builtinfunc" id="5839479">append</span><span class="op" id="5839485">(</span><span class="ident" id="5839486">lst</span><span class="op" id="5839489">.</span><span class="ident" id="5839490">Errs</span><span class="op" id="5839494">,</span>&nbsp;<span class="ident" id="5839496">e</span><span class="op" id="5839497">)</span><br>
<span class="lineno"></span><span class="op" id="5839499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5839502">//&nbsp;Addf&nbsp;appends&nbsp;a&nbsp;new&nbsp;error&nbsp;with&nbsp;particular&nbsp;position&nbsp;and&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="5839567">func</span>&nbsp;<span class="op" id="5839572">(</span><span class="ident" id="5839573">lst</span>&nbsp;<span class="op" id="5839577">*</span><span class="ident" id="5839578">ErrorList</span><span class="op" id="5839587">)</span>&nbsp;<span class="ident" id="5839589">Addf</span><span class="op" id="5839593">(</span><span class="ident" id="5839594">p</span>&nbsp;<span class="op" id="5839596">*</span><span class="ident" id="5839597">Pos</span><span class="op" id="5839600">,</span>&nbsp;<span class="ident" id="5839602">f</span>&nbsp;<span class="builtintype" id="5839604">string</span><span class="op" id="5839610">,</span>&nbsp;<span class="ident" id="5839612">args</span>&nbsp;<span class="op" id="5839617">...</span><span class="keyword" id="5839620">interface</span><span class="op" id="5839629">{</span><span class="op" id="5839630">}</span><span class="op" id="5839631">)</span>&nbsp;<span class="op" id="5839633">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839636">lst</span><span class="op" id="5839639">.</span><span class="ident" id="5839640">Add</span><span class="op" id="5839643">(</span><span class="op" id="5839644">&amp;</span><span class="ident" id="5839645">Error</span><span class="op" id="5839650">{</span><span class="ident" id="5839651">p</span><span class="op" id="5839652">,</span>&nbsp;<span class="ident" id="5839654">fmt</span><span class="op" id="5839657">.</span><span class="ident" id="5839658">Errorf</span><span class="op" id="5839664">(</span><span class="ident" id="5839665">f</span><span class="op" id="5839666">,</span>&nbsp;<span class="ident" id="5839668">args</span><span class="op" id="5839672">...</span><span class="op" id="5839675">)</span><span class="op" id="5839676">}</span><span class="op" id="5839677">)</span><br>
<span class="lineno"></span><span class="op" id="5839679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5839682">//&nbsp;Print&nbsp;prints&nbsp;to&nbsp;the&nbsp;writer&nbsp;(maximume&nbsp;lst.MaxPrint&nbsp;errors).</span><br>
<span class="lineno"></span><span class="keyword" id="5839744">func</span>&nbsp;<span class="op" id="5839749">(</span><span class="ident" id="5839750">lst</span>&nbsp;<span class="op" id="5839754">*</span><span class="ident" id="5839755">ErrorList</span><span class="op" id="5839764">)</span>&nbsp;<span class="ident" id="5839766">Print</span><span class="op" id="5839771">(</span><span class="ident" id="5839772">w</span>&nbsp;<span class="ident" id="5839774">io</span><span class="op" id="5839776">.</span><span class="ident" id="5839777">Writer</span><span class="op" id="5839783">)</span>&nbsp;<span class="builtintype" id="5839785">error</span>&nbsp;<span class="op" id="5839791">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839794">for</span>&nbsp;<span class="ident" id="5839798">_</span><span class="op" id="5839799">,</span>&nbsp;<span class="ident" id="5839801">e</span>&nbsp;<span class="op" id="5839803">:=</span>&nbsp;<span class="keyword" id="5839806">range</span>&nbsp;<span class="ident" id="5839812">lst</span><span class="op" id="5839815">.</span><span class="ident" id="5839816">Errs</span>&nbsp;<span class="op" id="5839821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839825">_</span><span class="op" id="5839826">,</span>&nbsp;<span class="ident" id="5839828">pe</span>&nbsp;<span class="op" id="5839831">:=</span>&nbsp;<span class="ident" id="5839834">fmt</span><span class="op" id="5839837">.</span><span class="ident" id="5839838">Fprintln</span><span class="op" id="5839846">(</span><span class="ident" id="5839847">w</span><span class="op" id="5839848">,</span>&nbsp;<span class="ident" id="5839850">e</span><span class="op" id="5839851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839855">if</span>&nbsp;<span class="ident" id="5839858">pe</span>&nbsp;<span class="op" id="5839861">!=</span>&nbsp;<span class="ident" id="5839864">nil</span>&nbsp;<span class="op" id="5839868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839873">return</span>&nbsp;<span class="ident" id="5839880">pe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839885">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839892">return</span>&nbsp;<span class="ident" id="5839899">nil</span><br>
<span class="lineno"></span><span class="op" id="5839903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5839906">//&nbsp;SingleErr&nbsp;returns&nbsp;an&nbsp;error&nbsp;array&nbsp;with&nbsp;one&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5839958">func</span>&nbsp;<span class="ident" id="5839963">SingleErr</span><span class="op" id="5839972">(</span><span class="ident" id="5839973">e</span>&nbsp;<span class="builtintype" id="5839975">error</span><span class="op" id="5839980">)</span>&nbsp;<span class="op" id="5839982">[</span><span class="op" id="5839983">]</span><span class="op" id="5839984">*</span><span class="ident" id="5839985">Error</span>&nbsp;<span class="op" id="5839991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839994">return</span>&nbsp;<span class="op" id="5840001">[</span><span class="op" id="5840002">]</span><span class="op" id="5840003">*</span><span class="ident" id="5840004">Error</span><span class="op" id="5840009">{</span><span class="op" id="5840010">{</span><span class="ident" id="5840011">Err</span><span class="op" id="5840014">:</span>&nbsp;<span class="ident" id="5840016">e</span><span class="op" id="5840017">}</span><span class="op" id="5840018">}</span><br>
<span class="lineno"></span><span class="op" id="5840020">}</span>
</div>
</body>
</html>
