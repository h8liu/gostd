<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/printer</h2>
<ul>
<li><a href="/gostd/go/printer/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/printer/nodes.go.html" class="current">nodes.go</a></li>
<li><a href="/gostd/go/printer/performance_test.go.html">performance_test.go</a></li>
<li><a href="/gostd/go/printer/printer.go.html">printer.go</a></li>
<li><a href="/gostd/go/printer/printer_test.go.html">printer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5799800">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5799855">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5799909">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5799960">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;printing&nbsp;of&nbsp;AST&nbsp;nodes;&nbsp;specifically</span><br>
<span class="lineno"></span><span class="comment" id="5800020">//&nbsp;expressions,&nbsp;statements,&nbsp;declarations,&nbsp;and&nbsp;files.&nbsp;It&nbsp;uses</span><br>
<span class="lineno"></span><span class="comment" id="5800081">//&nbsp;the&nbsp;print&nbsp;functionality&nbsp;implemented&nbsp;in&nbsp;printer.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5800136">package</span>&nbsp;<span class="ident" id="5800144">printer</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5800153">import</span>&nbsp;<span class="op" id="5800160">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5800163">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5800172">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5800182">&#34;go/token&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5800194">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="5800209">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5800212">//&nbsp;Formatting&nbsp;issues:</span><br>
<span class="lineno"></span><span class="comment" id="5800234">//&nbsp;-&nbsp;better&nbsp;comment&nbsp;formatting&nbsp;for&nbsp;/*-style&nbsp;comments&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;line&nbsp;(e.g.&nbsp;a&nbsp;declaration)</span><br>
<span class="lineno">20</span><span class="comment" id="5800329">//&nbsp;&nbsp;&nbsp;when&nbsp;the&nbsp;comment&nbsp;spans&nbsp;multiple&nbsp;lines;&nbsp;if&nbsp;such&nbsp;a&nbsp;comment&nbsp;is&nbsp;just&nbsp;two&nbsp;lines,&nbsp;formatting&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5800424">//&nbsp;&nbsp;&nbsp;not&nbsp;idempotent</span><br>
<span class="lineno"></span><span class="comment" id="5800444">//&nbsp;-&nbsp;formatting&nbsp;of&nbsp;expression&nbsp;lists</span><br>
<span class="lineno"></span><span class="comment" id="5800480">//&nbsp;-&nbsp;should&nbsp;use&nbsp;blank&nbsp;instead&nbsp;of&nbsp;tab&nbsp;to&nbsp;separate&nbsp;one-line&nbsp;function&nbsp;bodies&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="5800559">//&nbsp;&nbsp;&nbsp;the&nbsp;function&nbsp;header&nbsp;unless&nbsp;there&nbsp;is&nbsp;a&nbsp;group&nbsp;of&nbsp;consecutive&nbsp;one-liners</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="5800635">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5800715">//&nbsp;Common&nbsp;AST&nbsp;nodes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5800737">//&nbsp;Print&nbsp;as&nbsp;many&nbsp;newlines&nbsp;as&nbsp;necessary&nbsp;(but&nbsp;at&nbsp;least&nbsp;min&nbsp;newlines)&nbsp;to&nbsp;get&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="5800814">//&nbsp;the&nbsp;current&nbsp;line.&nbsp;ws&nbsp;is&nbsp;printed&nbsp;before&nbsp;the&nbsp;first&nbsp;line&nbsp;break.&nbsp;If&nbsp;newSection</span><br>
<span class="lineno"></span><span class="comment" id="5800892">//&nbsp;is&nbsp;set,&nbsp;the&nbsp;first&nbsp;line&nbsp;break&nbsp;is&nbsp;printed&nbsp;as&nbsp;formfeed.&nbsp;Returns&nbsp;true&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="5800968">//&nbsp;line&nbsp;break&nbsp;was&nbsp;printed;&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="5801020">//</span><br>
<span class="lineno"></span><span class="comment" id="5801023">//&nbsp;TODO(gri):&nbsp;linebreak&nbsp;may&nbsp;add&nbsp;too&nbsp;many&nbsp;lines&nbsp;if&nbsp;the&nbsp;next&nbsp;statement&nbsp;at&nbsp;&#34;line&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="5801102">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;preceded&nbsp;by&nbsp;comments&nbsp;because&nbsp;the&nbsp;computation&nbsp;of&nbsp;n&nbsp;assumes</span><br>
<span class="lineno"></span><span class="comment" id="5801177">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;current&nbsp;position&nbsp;before&nbsp;the&nbsp;comment&nbsp;and&nbsp;the&nbsp;target&nbsp;position</span><br>
<span class="lineno"></span><span class="comment" id="5801255">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after&nbsp;the&nbsp;comment.&nbsp;Thus,&nbsp;after&nbsp;interspersing&nbsp;such&nbsp;comments,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5801333">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space&nbsp;taken&nbsp;up&nbsp;by&nbsp;them&nbsp;is&nbsp;not&nbsp;considered&nbsp;to&nbsp;reduce&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5801412">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;linebreaks.&nbsp;At&nbsp;the&nbsp;moment&nbsp;there&nbsp;is&nbsp;no&nbsp;easy&nbsp;way&nbsp;to&nbsp;know&nbsp;about</span><br>
<span class="lineno">40</span><span class="comment" id="5801487">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;(not&nbsp;yet&nbsp;interspersed)&nbsp;comments&nbsp;in&nbsp;this&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="5801558">//</span><br>
<span class="lineno"></span><span class="keyword" id="5801561">func</span>&nbsp;<span class="op" id="5801566">(</span><span class="ident" id="5801567">p</span>&nbsp;<span class="op" id="5801569">*</span><span class="ident" id="5801570"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5801577">)</span>&nbsp;<span class="ident" id="5801579">linebreak</span><span class="op" id="5801588">(</span><span class="ident" id="5801589">line</span><span class="op" id="5801593">,</span>&nbsp;<span class="ident" id="5801595">min</span>&nbsp;<span class="builtintype" id="5801599">int</span><span class="op" id="5801602">,</span>&nbsp;<span class="ident" id="5801604">ws</span>&nbsp;<span class="ident" id="5801607"><a href="/gostd/go/printer/printer.go.html#5842972">whiteSpace</a></span><span class="op" id="5801617">,</span>&nbsp;<span class="ident" id="5801619">newSection</span>&nbsp;<span class="builtintype" id="5801630">bool</span><span class="op" id="5801634">)</span>&nbsp;<span class="op" id="5801636">(</span><span class="ident" id="5801637">printedBreak</span>&nbsp;<span class="builtintype" id="5801650">bool</span><span class="op" id="5801654">)</span>&nbsp;<span class="op" id="5801656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801659">n</span>&nbsp;<span class="op" id="5801661">:=</span>&nbsp;<span class="ident" id="5801664"><a href="/gostd/go/printer/printer.go.html#5866883">nlimit</a></span><span class="op" id="5801670">(</span><span class="ident" id="5801671"><a href="/gostd/go/printer/nodes.go.html#5801589">line</a></span>&nbsp;<span class="op" id="5801676">-</span>&nbsp;<span class="ident" id="5801678"><a href="/gostd/go/printer/nodes.go.html#5801567">p</a></span><span class="op" id="5801679">.</span><span class="ident" id="5801680"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5801683">.</span><span class="ident" id="5801684"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span><span class="op" id="5801688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801691">if</span>&nbsp;<span class="ident" id="5801694"><a href="/gostd/go/printer/nodes.go.html#5801659">n</a></span>&nbsp;<span class="op" id="5801696">&lt;</span>&nbsp;<span class="ident" id="5801698"><a href="/gostd/go/printer/nodes.go.html#5801595">min</a></span>&nbsp;<span class="op" id="5801702">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801706"><a href="/gostd/go/printer/nodes.go.html#5801659">n</a></span>&nbsp;<span class="op" id="5801708">=</span>&nbsp;<span class="ident" id="5801710"><a href="/gostd/go/printer/nodes.go.html#5801595">min</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801718">if</span>&nbsp;<span class="ident" id="5801721"><a href="/gostd/go/printer/nodes.go.html#5801659">n</a></span>&nbsp;<span class="op" id="5801723">&gt;</span>&nbsp;<span class="num" id="5801725">0</span>&nbsp;<span class="op" id="5801727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801731"><a href="/gostd/go/printer/nodes.go.html#5801567">p</a></span><span class="op" id="5801732">.</span><span class="builtinfunc" id="5801733"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5801738">(</span><span class="ident" id="5801739"><a href="/gostd/go/printer/nodes.go.html#5801604">ws</a></span><span class="op" id="5801741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801745">if</span>&nbsp;<span class="ident" id="5801748"><a href="/gostd/go/printer/nodes.go.html#5801619">newSection</a></span>&nbsp;<span class="op" id="5801759">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801764"><a href="/gostd/go/printer/nodes.go.html#5801567">p</a></span><span class="op" id="5801765">.</span><span class="builtinfunc" id="5801766"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5801771">(</span><span class="ident" id="5801772"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5801780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801785"><a href="/gostd/go/printer/nodes.go.html#5801659">n</a></span><span class="op" id="5801786">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801795">for</span>&nbsp;<span class="op" id="5801799">;</span>&nbsp;<span class="ident" id="5801801"><a href="/gostd/go/printer/nodes.go.html#5801659">n</a></span>&nbsp;<span class="op" id="5801803">&gt;</span>&nbsp;<span class="num" id="5801805">0</span><span class="op" id="5801806">;</span>&nbsp;<span class="ident" id="5801808"><a href="/gostd/go/printer/nodes.go.html#5801659">n</a></span><span class="op" id="5801809">--</span>&nbsp;<span class="op" id="5801812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801817"><a href="/gostd/go/printer/nodes.go.html#5801567">p</a></span><span class="op" id="5801818">.</span><span class="builtinfunc" id="5801819"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5801824">(</span><span class="ident" id="5801825"><a href="/gostd/go/printer/printer.go.html#5843081">newline</a></span><span class="op" id="5801832">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801840"><a href="/gostd/go/printer/nodes.go.html#5801637">printedBreak</a></span>&nbsp;<span class="op" id="5801853">=</span>&nbsp;<span class="builtintype" id="5801855">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801864">return</span><br>
<span class="lineno"></span><span class="op" id="5801871">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5801874">//&nbsp;setComment&nbsp;sets&nbsp;g&nbsp;as&nbsp;the&nbsp;next&nbsp;comment&nbsp;if&nbsp;g&nbsp;!=&nbsp;nil&nbsp;and&nbsp;if&nbsp;node&nbsp;comments</span><br>
<span class="lineno"></span><span class="comment" id="5801948">//&nbsp;are&nbsp;enabled&nbsp;-&nbsp;this&nbsp;mode&nbsp;is&nbsp;used&nbsp;when&nbsp;printing&nbsp;source&nbsp;code&nbsp;fragments&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="5802024">//&nbsp;as&nbsp;exports&nbsp;only.&nbsp;It&nbsp;assumes&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;pending&nbsp;comment&nbsp;in&nbsp;p.comments</span><br>
<span class="lineno"></span><span class="comment" id="5802102">//&nbsp;and&nbsp;at&nbsp;most&nbsp;one&nbsp;pending&nbsp;comment&nbsp;in&nbsp;the&nbsp;p.comment&nbsp;cache.</span><br>
<span class="lineno">65</span><span class="keyword" id="5802161">func</span>&nbsp;<span class="op" id="5802166">(</span><span class="ident" id="5802167">p</span>&nbsp;<span class="op" id="5802169">*</span><span class="ident" id="5802170"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5802177">)</span>&nbsp;<span class="ident" id="5802179">setComment</span><span class="op" id="5802189">(</span><span class="ident" id="5802190">g</span>&nbsp;<span class="op" id="5802192">*</span><span class="ident" id="5802193"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5802196">.</span><span class="ident" id="5802197"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="5802209">)</span>&nbsp;<span class="op" id="5802211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802214">if</span>&nbsp;<span class="ident" id="5802217"><a href="/gostd/go/printer/nodes.go.html#5802190">g</a></span>&nbsp;<span class="op" id="5802219">==</span>&nbsp;<span class="builtintype" id="5802222">nil</span>&nbsp;<span class="op" id="5802226">||</span>&nbsp;<span class="op" id="5802229">!</span><span class="ident" id="5802230"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802231">.</span><span class="ident" id="5802232"><a href="/gostd/go/printer/printer.go.html#5845077">useNodeComments</a></span>&nbsp;<span class="op" id="5802248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802252">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802263">if</span>&nbsp;<span class="ident" id="5802266"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802267">.</span><span class="ident" id="5802268"><a href="/gostd/go/printer/printer.go.html#5845026">comments</a></span>&nbsp;<span class="op" id="5802277">==</span>&nbsp;<span class="builtintype" id="5802280">nil</span>&nbsp;<span class="op" id="5802284">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802288">//&nbsp;initialize&nbsp;p.comments&nbsp;lazily</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802322"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802323">.</span><span class="ident" id="5802324"><a href="/gostd/go/printer/printer.go.html#5845026">comments</a></span>&nbsp;<span class="op" id="5802333">=</span>&nbsp;<span class="builtinfunc" id="5802335">make</span><span class="op" id="5802339">(</span><span class="op" id="5802340">[</span><span class="op" id="5802341">]</span><span class="op" id="5802342">*</span><span class="ident" id="5802343"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5802346">.</span><span class="ident" id="5802347"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="5802359">,</span>&nbsp;<span class="num" id="5802361">1</span><span class="op" id="5802362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802365">}</span>&nbsp;<span class="keyword" id="5802367">else</span>&nbsp;<span class="keyword" id="5802372">if</span>&nbsp;<span class="ident" id="5802375"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802376">.</span><span class="ident" id="5802377"><a href="/gostd/go/printer/printer.go.html#5843476">cindex</a></span>&nbsp;<span class="op" id="5802384">&lt;</span>&nbsp;<span class="builtinfunc" id="5802386">len</span><span class="op" id="5802389">(</span><span class="ident" id="5802390"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802391">.</span><span class="ident" id="5802392"><a href="/gostd/go/printer/printer.go.html#5845026">comments</a></span><span class="op" id="5802400">)</span>&nbsp;<span class="op" id="5802402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802406">//&nbsp;for&nbsp;some&nbsp;reason&nbsp;there&nbsp;are&nbsp;pending&nbsp;comments;&nbsp;this</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802460">//&nbsp;should&nbsp;never&nbsp;happen&nbsp;-&nbsp;handle&nbsp;gracefully&nbsp;and&nbsp;flush</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802515">//&nbsp;all&nbsp;comments&nbsp;up&nbsp;to&nbsp;g,&nbsp;ignore&nbsp;anything&nbsp;after&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802569"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802570">.</span><span class="ident" id="5802571"><a href="/gostd/go/printer/printer.go.html#5871758">flush</a></span><span class="op" id="5802576">(</span><span class="ident" id="5802577"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802578">.</span><span class="ident" id="5802579"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5802585">(</span><span class="ident" id="5802586"><a href="/gostd/go/printer/nodes.go.html#5802190">g</a></span><span class="op" id="5802587">.</span><span class="ident" id="5802588"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span><span class="op" id="5802592">[</span><span class="num" id="5802593">0</span><span class="op" id="5802594">]</span><span class="op" id="5802595">.</span><span class="ident" id="5802596"><a href="/gostd/go/ast/ast.go.html#3795803">Pos</a></span><span class="op" id="5802599">(</span><span class="op" id="5802600">)</span><span class="op" id="5802601">)</span><span class="op" id="5802602">,</span>&nbsp;<span class="ident" id="5802604"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5802609">.</span><span class="ident" id="5802610"><a href="/gostd/go/token/token.go.html#3889684">ILLEGAL</a></span><span class="op" id="5802617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802621"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802622">.</span><span class="ident" id="5802623"><a href="/gostd/go/printer/printer.go.html#5845026">comments</a></span>&nbsp;<span class="op" id="5802632">=</span>&nbsp;<span class="ident" id="5802634"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802635">.</span><span class="ident" id="5802636"><a href="/gostd/go/printer/printer.go.html#5845026">comments</a></span><span class="op" id="5802644">[</span><span class="num" id="5802645">0</span><span class="op" id="5802646">:</span><span class="num" id="5802647">1</span><span class="op" id="5802648">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802652">//&nbsp;in&nbsp;debug&nbsp;mode,&nbsp;report&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802685"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802686">.</span><span class="ident" id="5802687"><a href="/gostd/go/printer/printer.go.html#5845789">internalError</a></span><span class="op" id="5802700">(</span><span class="string" id="5802701">&#34;setComment&nbsp;found&nbsp;pending&nbsp;comments&#34;</span><span class="op" id="5802736">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802742"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802743">.</span><span class="ident" id="5802744"><a href="/gostd/go/printer/printer.go.html#5845026">comments</a></span><span class="op" id="5802752">[</span><span class="num" id="5802753">0</span><span class="op" id="5802754">]</span>&nbsp;<span class="op" id="5802756">=</span>&nbsp;<span class="ident" id="5802758"><a href="/gostd/go/printer/nodes.go.html#5802190">g</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802761"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802762">.</span><span class="ident" id="5802763"><a href="/gostd/go/printer/printer.go.html#5843476">cindex</a></span>&nbsp;<span class="op" id="5802770">=</span>&nbsp;<span class="num" id="5802772">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802775">//&nbsp;don&#39;t&nbsp;overwrite&nbsp;any&nbsp;pending&nbsp;comment&nbsp;in&nbsp;the&nbsp;p.comment&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802838">//&nbsp;(there&nbsp;may&nbsp;be&nbsp;a&nbsp;pending&nbsp;comment&nbsp;when&nbsp;a&nbsp;line&nbsp;comment&nbsp;is</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802897">//&nbsp;immediately&nbsp;followed&nbsp;by&nbsp;a&nbsp;lead&nbsp;comment&nbsp;with&nbsp;no&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802954">//&nbsp;tokens&nbsp;between)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802974">if</span>&nbsp;<span class="ident" id="5802977"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5802978">.</span><span class="ident" id="5802979"><a href="/gostd/go/printer/printer.go.html#5843607">commentOffset</a></span>&nbsp;<span class="op" id="5802993">==</span>&nbsp;<span class="ident" id="5802996"><a href="/gostd/go/printer/printer.go.html#5842942">infinity</a></span>&nbsp;<span class="op" id="5803005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803009"><a href="/gostd/go/printer/nodes.go.html#5802167">p</a></span><span class="op" id="5803010">.</span><span class="ident" id="5803011"><a href="/gostd/go/printer/printer.go.html#5846539">nextComment</a></span><span class="op" id="5803022">(</span><span class="op" id="5803023">)</span>&nbsp;<span class="comment" id="5803025">//&nbsp;get&nbsp;comment&nbsp;ready&nbsp;for&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803055">}</span><br>
<span class="lineno">90</span><span class="op" id="5803057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5803060">type</span>&nbsp;<span class="ident" id="5803065">exprListMode</span>&nbsp;<span class="builtintype" id="5803078">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5803084">const</span>&nbsp;<span class="op" id="5803090">(</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803093">commaTerm</span>&nbsp;<span class="ident" id="5803103"><a href="/gostd/go/printer/nodes.go.html#5803065">exprListMode</a></span>&nbsp;<span class="op" id="5803116">=</span>&nbsp;<span class="num" id="5803118">1</span>&nbsp;<span class="op" id="5803120">&lt;&lt;</span>&nbsp;<span class="ident" id="5803123">iota</span>&nbsp;<span class="comment" id="5803128">//&nbsp;list&nbsp;is&nbsp;optionally&nbsp;terminated&nbsp;by&nbsp;a&nbsp;comma</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803173">noIndent</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5803208">//&nbsp;no&nbsp;extra&nbsp;indentation&nbsp;in&nbsp;multi-line&nbsp;lists</span><br>
<span class="lineno"></span><span class="op" id="5803252">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5803255">//&nbsp;If&nbsp;indent&nbsp;is&nbsp;set,&nbsp;a&nbsp;multi-line&nbsp;identifier&nbsp;list&nbsp;is&nbsp;indented&nbsp;after&nbsp;the</span><br>
<span class="lineno">100</span><span class="comment" id="5803327">//&nbsp;first&nbsp;linebreak&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="5803359">func</span>&nbsp;<span class="op" id="5803364">(</span><span class="ident" id="5803365">p</span>&nbsp;<span class="op" id="5803367">*</span><span class="ident" id="5803368"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5803375">)</span>&nbsp;<span class="ident" id="5803377">identList</span><span class="op" id="5803386">(</span><span class="ident" id="5803387">list</span>&nbsp;<span class="op" id="5803392">[</span><span class="op" id="5803393">]</span><span class="op" id="5803394">*</span><span class="ident" id="5803395"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5803398">.</span><span class="ident" id="5803399"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5803404">,</span>&nbsp;<span class="ident" id="5803406">indent</span>&nbsp;<span class="builtintype" id="5803413">bool</span><span class="op" id="5803417">)</span>&nbsp;<span class="op" id="5803419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5803422">//&nbsp;convert&nbsp;into&nbsp;an&nbsp;expression&nbsp;list&nbsp;so&nbsp;we&nbsp;can&nbsp;re-use&nbsp;exprList&nbsp;formatting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803495">xlist</span>&nbsp;<span class="op" id="5803501">:=</span>&nbsp;<span class="builtinfunc" id="5803504">make</span><span class="op" id="5803508">(</span><span class="op" id="5803509">[</span><span class="op" id="5803510">]</span><span class="ident" id="5803511"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5803514">.</span><span class="ident" id="5803515"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5803519">,</span>&nbsp;<span class="builtinfunc" id="5803521">len</span><span class="op" id="5803524">(</span><span class="ident" id="5803525"><a href="/gostd/go/printer/nodes.go.html#5803387">list</a></span><span class="op" id="5803529">)</span><span class="op" id="5803530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803533">for</span>&nbsp;<span class="ident" id="5803537">i</span><span class="op" id="5803538">,</span>&nbsp;<span class="ident" id="5803540">x</span>&nbsp;<span class="op" id="5803542">:=</span>&nbsp;<span class="keyword" id="5803545">range</span>&nbsp;<span class="ident" id="5803551"><a href="/gostd/go/printer/nodes.go.html#5803387">list</a></span>&nbsp;<span class="op" id="5803556">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803560"><a href="/gostd/go/printer/nodes.go.html#5803495">xlist</a></span><span class="op" id="5803565">[</span><span class="ident" id="5803566"><a href="/gostd/go/printer/nodes.go.html#5803537">i</a></span><span class="op" id="5803567">]</span>&nbsp;<span class="op" id="5803569">=</span>&nbsp;<span class="ident" id="5803571"><a href="/gostd/go/printer/nodes.go.html#5803540">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803577">var</span>&nbsp;<span class="ident" id="5803581">mode</span>&nbsp;<span class="ident" id="5803586"><a href="/gostd/go/printer/nodes.go.html#5803065">exprListMode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803600">if</span>&nbsp;<span class="op" id="5803603">!</span><span class="ident" id="5803604"><a href="/gostd/go/printer/nodes.go.html#5803406">indent</a></span>&nbsp;<span class="op" id="5803611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803615"><a href="/gostd/go/printer/nodes.go.html#5803581">mode</a></span>&nbsp;<span class="op" id="5803620">=</span>&nbsp;<span class="ident" id="5803622"><a href="/gostd/go/printer/nodes.go.html#5803173">noIndent</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803635"><a href="/gostd/go/printer/nodes.go.html#5803365">p</a></span><span class="op" id="5803636">.</span><span class="ident" id="5803637"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5803645">(</span><span class="ident" id="5803646"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5803651">.</span><span class="ident" id="5803652"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5803657">,</span>&nbsp;<span class="ident" id="5803659"><a href="/gostd/go/printer/nodes.go.html#5803495">xlist</a></span><span class="op" id="5803664">,</span>&nbsp;<span class="num" id="5803666">1</span><span class="op" id="5803667">,</span>&nbsp;<span class="ident" id="5803669"><a href="/gostd/go/printer/nodes.go.html#5803581">mode</a></span><span class="op" id="5803673">,</span>&nbsp;<span class="ident" id="5803675"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5803680">.</span><span class="ident" id="5803681"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5803686">)</span><br>
<span class="lineno"></span><span class="op" id="5803688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5803691">//&nbsp;Print&nbsp;a&nbsp;list&nbsp;of&nbsp;expressions.&nbsp;If&nbsp;the&nbsp;list&nbsp;spans&nbsp;multiple</span><br>
<span class="lineno">115</span><span class="comment" id="5803750">//&nbsp;source&nbsp;lines,&nbsp;the&nbsp;original&nbsp;line&nbsp;breaks&nbsp;are&nbsp;respected&nbsp;between</span><br>
<span class="lineno"></span><span class="comment" id="5803814">//&nbsp;expressions.</span><br>
<span class="lineno"></span><span class="comment" id="5803830">//</span><br>
<span class="lineno"></span><span class="comment" id="5803833">//&nbsp;TODO(gri)&nbsp;Consider&nbsp;rewriting&nbsp;this&nbsp;to&nbsp;be&nbsp;independent&nbsp;of&nbsp;[]ast.Expr</span><br>
<span class="lineno"></span><span class="comment" id="5803902">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;the&nbsp;algorithm&nbsp;for&nbsp;any&nbsp;kind&nbsp;of&nbsp;list</span><br>
<span class="lineno">120</span><span class="comment" id="5803969">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(e.g.,&nbsp;pass&nbsp;list&nbsp;via&nbsp;a&nbsp;channel&nbsp;over&nbsp;which&nbsp;to&nbsp;range).</span><br>
<span class="lineno"></span><span class="keyword" id="5804035">func</span>&nbsp;<span class="op" id="5804040">(</span><span class="ident" id="5804041">p</span>&nbsp;<span class="op" id="5804043">*</span><span class="ident" id="5804044"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5804051">)</span>&nbsp;<span class="ident" id="5804053">exprList</span><span class="op" id="5804061">(</span><span class="ident" id="5804062">prev0</span>&nbsp;<span class="ident" id="5804068"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5804073">.</span><span class="ident" id="5804074"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5804077">,</span>&nbsp;<span class="ident" id="5804079">list</span>&nbsp;<span class="op" id="5804084">[</span><span class="op" id="5804085">]</span><span class="ident" id="5804086"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5804089">.</span><span class="ident" id="5804090"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5804094">,</span>&nbsp;<span class="ident" id="5804096">depth</span>&nbsp;<span class="builtintype" id="5804102">int</span><span class="op" id="5804105">,</span>&nbsp;<span class="ident" id="5804107">mode</span>&nbsp;<span class="ident" id="5804112"><a href="/gostd/go/printer/nodes.go.html#5803065">exprListMode</a></span><span class="op" id="5804124">,</span>&nbsp;<span class="ident" id="5804126">next0</span>&nbsp;<span class="ident" id="5804132"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5804137">.</span><span class="ident" id="5804138"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5804141">)</span>&nbsp;<span class="op" id="5804143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804146">if</span>&nbsp;<span class="builtinfunc" id="5804149">len</span><span class="op" id="5804152">(</span><span class="ident" id="5804153"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span><span class="op" id="5804157">)</span>&nbsp;<span class="op" id="5804159">==</span>&nbsp;<span class="num" id="5804162">0</span>&nbsp;<span class="op" id="5804164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804168">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804176">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804180">prev</span>&nbsp;<span class="op" id="5804185">:=</span>&nbsp;<span class="ident" id="5804188"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5804189">.</span><span class="ident" id="5804190"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5804196">(</span><span class="ident" id="5804197"><a href="/gostd/go/printer/nodes.go.html#5804062">prev0</a></span><span class="op" id="5804202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804205">next</span>&nbsp;<span class="op" id="5804210">:=</span>&nbsp;<span class="ident" id="5804213"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5804214">.</span><span class="ident" id="5804215"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5804221">(</span><span class="ident" id="5804222"><a href="/gostd/go/printer/nodes.go.html#5804126">next0</a></span><span class="op" id="5804227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804230">line</span>&nbsp;<span class="op" id="5804235">:=</span>&nbsp;<span class="ident" id="5804238"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5804239">.</span><span class="ident" id="5804240"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5804247">(</span><span class="ident" id="5804248"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span><span class="op" id="5804252">[</span><span class="num" id="5804253">0</span><span class="op" id="5804254">]</span><span class="op" id="5804255">.</span><span class="ident" id="5804256"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5804259">(</span><span class="op" id="5804260">)</span><span class="op" id="5804261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804264">endLine</span>&nbsp;<span class="op" id="5804272">:=</span>&nbsp;<span class="ident" id="5804275"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5804276">.</span><span class="ident" id="5804277"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5804284">(</span><span class="ident" id="5804285"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span><span class="op" id="5804289">[</span><span class="builtinfunc" id="5804290">len</span><span class="op" id="5804293">(</span><span class="ident" id="5804294"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span><span class="op" id="5804298">)</span><span class="op" id="5804299">-</span><span class="num" id="5804300">1</span><span class="op" id="5804301">]</span><span class="op" id="5804302">.</span><span class="ident" id="5804303"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5804306">(</span><span class="op" id="5804307">)</span><span class="op" id="5804308">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804312">if</span>&nbsp;<span class="ident" id="5804315"><a href="/gostd/go/printer/nodes.go.html#5804180">prev</a></span><span class="op" id="5804319">.</span><span class="ident" id="5804320"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5804327">(</span><span class="op" id="5804328">)</span>&nbsp;<span class="op" id="5804330">&amp;&amp;</span>&nbsp;<span class="ident" id="5804333"><a href="/gostd/go/printer/nodes.go.html#5804180">prev</a></span><span class="op" id="5804337">.</span><span class="ident" id="5804338"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5804343">==</span>&nbsp;<span class="ident" id="5804346"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span>&nbsp;<span class="op" id="5804351">&amp;&amp;</span>&nbsp;<span class="ident" id="5804354"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span>&nbsp;<span class="op" id="5804359">==</span>&nbsp;<span class="ident" id="5804362"><a href="/gostd/go/printer/nodes.go.html#5804264">endLine</a></span>&nbsp;<span class="op" id="5804370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804374">//&nbsp;all&nbsp;list&nbsp;entries&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804413">for</span>&nbsp;<span class="ident" id="5804417">i</span><span class="op" id="5804418">,</span>&nbsp;<span class="ident" id="5804420">x</span>&nbsp;<span class="op" id="5804422">:=</span>&nbsp;<span class="keyword" id="5804425">range</span>&nbsp;<span class="ident" id="5804431"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span>&nbsp;<span class="op" id="5804436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804441">if</span>&nbsp;<span class="ident" id="5804444"><a href="/gostd/go/printer/nodes.go.html#5804417">i</a></span>&nbsp;<span class="op" id="5804446">&gt;</span>&nbsp;<span class="num" id="5804448">0</span>&nbsp;<span class="op" id="5804450">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804456">//&nbsp;use&nbsp;position&nbsp;of&nbsp;expression&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804513">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804565"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5804566">.</span><span class="builtinfunc" id="5804567"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5804572">(</span><span class="ident" id="5804573"><a href="/gostd/go/printer/nodes.go.html#5804420">x</a></span><span class="op" id="5804574">.</span><span class="ident" id="5804575"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5804578">(</span><span class="op" id="5804579">)</span><span class="op" id="5804580">,</span>&nbsp;<span class="ident" id="5804582"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5804587">.</span><span class="ident" id="5804588"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5804593">,</span>&nbsp;<span class="ident" id="5804595"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5804600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804610"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5804611">.</span><span class="ident" id="5804612"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5804617">(</span><span class="ident" id="5804618"><a href="/gostd/go/printer/nodes.go.html#5804420">x</a></span><span class="op" id="5804619">,</span>&nbsp;<span class="ident" id="5804621"><a href="/gostd/go/printer/nodes.go.html#5804096">depth</a></span><span class="op" id="5804626">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804634">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804646">//&nbsp;list&nbsp;entries&nbsp;span&nbsp;multiple&nbsp;lines;</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804684">//&nbsp;use&nbsp;source&nbsp;code&nbsp;positions&nbsp;to&nbsp;guide&nbsp;line&nbsp;breaks</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804736">//&nbsp;don&#39;t&nbsp;add&nbsp;extra&nbsp;indentation&nbsp;if&nbsp;noIndent&nbsp;is&nbsp;set;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804788">//&nbsp;i.e.,&nbsp;pretend&nbsp;that&nbsp;the&nbsp;first&nbsp;line&nbsp;is&nbsp;already&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804846">ws</span>&nbsp;<span class="op" id="5804849">:=</span>&nbsp;<span class="ident" id="5804852"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804860">if</span>&nbsp;<span class="ident" id="5804863"><a href="/gostd/go/printer/nodes.go.html#5804107">mode</a></span><span class="op" id="5804867">&amp;</span><span class="ident" id="5804868"><a href="/gostd/go/printer/nodes.go.html#5803173">noIndent</a></span>&nbsp;<span class="op" id="5804877">==</span>&nbsp;<span class="num" id="5804880">0</span>&nbsp;<span class="op" id="5804882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804886"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span>&nbsp;<span class="op" id="5804889">=</span>&nbsp;<span class="ident" id="5804891"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804903">//&nbsp;the&nbsp;first&nbsp;linebreak&nbsp;is&nbsp;always&nbsp;a&nbsp;formfeed&nbsp;since&nbsp;this&nbsp;section&nbsp;must&nbsp;not</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804976">//&nbsp;depend&nbsp;on&nbsp;any&nbsp;previous&nbsp;formatting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805014">prevBreak</span>&nbsp;<span class="op" id="5805024">:=</span>&nbsp;<span class="op" id="5805027">-</span><span class="num" id="5805028">1</span>&nbsp;<span class="comment" id="5805030">//&nbsp;index&nbsp;of&nbsp;last&nbsp;expression&nbsp;that&nbsp;was&nbsp;followed&nbsp;by&nbsp;a&nbsp;linebreak</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5805092">if</span>&nbsp;<span class="ident" id="5805095"><a href="/gostd/go/printer/nodes.go.html#5804180">prev</a></span><span class="op" id="5805099">.</span><span class="ident" id="5805100"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5805107">(</span><span class="op" id="5805108">)</span>&nbsp;<span class="op" id="5805110">&amp;&amp;</span>&nbsp;<span class="ident" id="5805113"><a href="/gostd/go/printer/nodes.go.html#5804180">prev</a></span><span class="op" id="5805117">.</span><span class="ident" id="5805118"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5805123">&lt;</span>&nbsp;<span class="ident" id="5805125"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span>&nbsp;<span class="op" id="5805130">&amp;&amp;</span>&nbsp;<span class="ident" id="5805133"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5805134">.</span><span class="ident" id="5805135"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5805144">(</span><span class="ident" id="5805145"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span><span class="op" id="5805149">,</span>&nbsp;<span class="num" id="5805151">0</span><span class="op" id="5805152">,</span>&nbsp;<span class="ident" id="5805154"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span><span class="op" id="5805156">,</span>&nbsp;<span class="builtintype" id="5805158">true</span><span class="op" id="5805162">)</span>&nbsp;<span class="op" id="5805164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805168"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span>&nbsp;<span class="op" id="5805171">=</span>&nbsp;<span class="ident" id="5805173"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805182"><a href="/gostd/go/printer/nodes.go.html#5805014">prevBreak</a></span>&nbsp;<span class="op" id="5805192">=</span>&nbsp;<span class="num" id="5805194">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5805197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805201">//&nbsp;initialize&nbsp;expression/key&nbsp;size:&nbsp;a&nbsp;zero&nbsp;value&nbsp;indicates&nbsp;expr/key&nbsp;doesn&#39;t&nbsp;fit&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805298">size</span>&nbsp;<span class="op" id="5805303">:=</span>&nbsp;<span class="num" id="5805306">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805310">//&nbsp;print&nbsp;all&nbsp;list&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805338">prevLine</span>&nbsp;<span class="op" id="5805347">:=</span>&nbsp;<span class="ident" id="5805350"><a href="/gostd/go/printer/nodes.go.html#5804180">prev</a></span><span class="op" id="5805354">.</span><span class="ident" id="5805355"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5805361">for</span>&nbsp;<span class="ident" id="5805365">i</span><span class="op" id="5805366">,</span>&nbsp;<span class="ident" id="5805368">x</span>&nbsp;<span class="op" id="5805370">:=</span>&nbsp;<span class="keyword" id="5805373">range</span>&nbsp;<span class="ident" id="5805379"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span>&nbsp;<span class="op" id="5805384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805388"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span>&nbsp;<span class="op" id="5805393">=</span>&nbsp;<span class="ident" id="5805395"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5805396">.</span><span class="ident" id="5805397"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5805404">(</span><span class="ident" id="5805405"><a href="/gostd/go/printer/nodes.go.html#5805368">x</a></span><span class="op" id="5805406">.</span><span class="ident" id="5805407"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5805410">(</span><span class="op" id="5805411">)</span><span class="op" id="5805412">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805417">//&nbsp;determine&nbsp;if&nbsp;the&nbsp;next&nbsp;linebreak,&nbsp;if&nbsp;any,&nbsp;needs&nbsp;to&nbsp;use&nbsp;formfeed:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805486">//&nbsp;in&nbsp;general,&nbsp;use&nbsp;the&nbsp;entire&nbsp;node&nbsp;size&nbsp;to&nbsp;make&nbsp;the&nbsp;decision;&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805554">//&nbsp;key:value&nbsp;expressions,&nbsp;use&nbsp;the&nbsp;key&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805599">//&nbsp;TODO(gri)&nbsp;for&nbsp;a&nbsp;better&nbsp;result,&nbsp;should&nbsp;probably&nbsp;incorporate&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805668">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;and&nbsp;the&nbsp;node&nbsp;size&nbsp;into&nbsp;the&nbsp;decision&nbsp;process</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805735">useFF</span>&nbsp;<span class="op" id="5805741">:=</span>&nbsp;<span class="builtintype" id="5805744">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805752">//&nbsp;determine&nbsp;element&nbsp;size:&nbsp;all&nbsp;bets&nbsp;are&nbsp;off&nbsp;if&nbsp;we&nbsp;don&#39;t&nbsp;have</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805815">//&nbsp;position&nbsp;information&nbsp;for&nbsp;the&nbsp;previous&nbsp;and&nbsp;next&nbsp;token&nbsp;(likely</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805881">//&nbsp;generated&nbsp;code&nbsp;-&nbsp;simply&nbsp;ignore&nbsp;the&nbsp;size&nbsp;in&nbsp;this&nbsp;case&nbsp;by&nbsp;setting</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5805950">//&nbsp;it&nbsp;to&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5805964">prevSize</span>&nbsp;<span class="op" id="5805973">:=</span>&nbsp;<span class="ident" id="5805976"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5805983">const</span>&nbsp;<span class="ident" id="5805989">infinity</span>&nbsp;<span class="op" id="5805998">=</span>&nbsp;<span class="num" id="5806000">1e6</span>&nbsp;<span class="comment" id="5806004">//&nbsp;larger&nbsp;than&nbsp;any&nbsp;source&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806037"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5806042">=</span>&nbsp;<span class="ident" id="5806044"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5806045">.</span><span class="ident" id="5806046"><a href="/gostd/go/printer/nodes.go.html#5837559">nodeSize</a></span><span class="op" id="5806054">(</span><span class="ident" id="5806055"><a href="/gostd/go/printer/nodes.go.html#5805368">x</a></span><span class="op" id="5806056">,</span>&nbsp;<span class="ident" id="5806058"><a href="/gostd/go/printer/nodes.go.html#5805989">infinity</a></span><span class="op" id="5806066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806070">pair</span><span class="op" id="5806074">,</span>&nbsp;<span class="ident" id="5806076">isPair</span>&nbsp;<span class="op" id="5806083">:=</span>&nbsp;<span class="ident" id="5806086"><a href="/gostd/go/printer/nodes.go.html#5805368">x</a></span><span class="op" id="5806087">.</span><span class="op" id="5806088">(</span><span class="op" id="5806089">*</span><span class="ident" id="5806090"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5806093">.</span><span class="ident" id="5806094"><a href="/gostd/go/ast/ast.go.html#3803798">KeyValueExpr</a></span><span class="op" id="5806106">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806110">if</span>&nbsp;<span class="ident" id="5806113"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5806118">&lt;=</span>&nbsp;<span class="ident" id="5806121"><a href="/gostd/go/printer/nodes.go.html#5805989">infinity</a></span>&nbsp;<span class="op" id="5806130">&amp;&amp;</span>&nbsp;<span class="ident" id="5806133"><a href="/gostd/go/printer/nodes.go.html#5804180">prev</a></span><span class="op" id="5806137">.</span><span class="ident" id="5806138"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5806145">(</span><span class="op" id="5806146">)</span>&nbsp;<span class="op" id="5806148">&amp;&amp;</span>&nbsp;<span class="ident" id="5806151"><a href="/gostd/go/printer/nodes.go.html#5804205">next</a></span><span class="op" id="5806155">.</span><span class="ident" id="5806156"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5806163">(</span><span class="op" id="5806164">)</span>&nbsp;<span class="op" id="5806166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806171">//&nbsp;x&nbsp;fits&nbsp;on&nbsp;a&nbsp;single&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806201">if</span>&nbsp;<span class="ident" id="5806204"><a href="/gostd/go/printer/nodes.go.html#5806076">isPair</a></span>&nbsp;<span class="op" id="5806211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806217"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5806222">=</span>&nbsp;<span class="ident" id="5806224"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5806225">.</span><span class="ident" id="5806226"><a href="/gostd/go/printer/nodes.go.html#5837559">nodeSize</a></span><span class="op" id="5806234">(</span><span class="ident" id="5806235"><a href="/gostd/go/printer/nodes.go.html#5806070">pair</a></span><span class="op" id="5806239">.</span><span class="ident" id="5806240"><a href="/gostd/go/ast/ast.go.html#3803822">Key</a></span><span class="op" id="5806243">,</span>&nbsp;<span class="ident" id="5806245"><a href="/gostd/go/printer/nodes.go.html#5805989">infinity</a></span><span class="op" id="5806253">)</span>&nbsp;<span class="comment" id="5806255">//&nbsp;size&nbsp;&lt;=&nbsp;infinity</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5806278">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5806282">}</span>&nbsp;<span class="keyword" id="5806284">else</span>&nbsp;<span class="op" id="5806289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806294">//&nbsp;size&nbsp;too&nbsp;large&nbsp;or&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;good&nbsp;layout&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806356"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5806361">=</span>&nbsp;<span class="num" id="5806363">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5806367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806372">//&nbsp;if&nbsp;the&nbsp;previous&nbsp;line&nbsp;and&nbsp;the&nbsp;current&nbsp;line&nbsp;had&nbsp;single-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806431">//&nbsp;line-expressions&nbsp;and&nbsp;the&nbsp;key&nbsp;sizes&nbsp;are&nbsp;small&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806488">//&nbsp;the&nbsp;ratio&nbsp;between&nbsp;the&nbsp;key&nbsp;sizes&nbsp;does&nbsp;not&nbsp;exceed&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806543">//&nbsp;threshold,&nbsp;align&nbsp;columns&nbsp;and&nbsp;do&nbsp;not&nbsp;use&nbsp;formfeed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806597">if</span>&nbsp;<span class="ident" id="5806600"><a href="/gostd/go/printer/nodes.go.html#5805964">prevSize</a></span>&nbsp;<span class="op" id="5806609">&gt;</span>&nbsp;<span class="num" id="5806611">0</span>&nbsp;<span class="op" id="5806613">&amp;&amp;</span>&nbsp;<span class="ident" id="5806616"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5806621">&gt;</span>&nbsp;<span class="num" id="5806623">0</span>&nbsp;<span class="op" id="5806625">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806630">const</span>&nbsp;<span class="ident" id="5806636">smallSize</span>&nbsp;<span class="op" id="5806646">=</span>&nbsp;<span class="num" id="5806648">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806654">if</span>&nbsp;<span class="ident" id="5806657"><a href="/gostd/go/printer/nodes.go.html#5805964">prevSize</a></span>&nbsp;<span class="op" id="5806666">&lt;=</span>&nbsp;<span class="ident" id="5806669"><a href="/gostd/go/printer/nodes.go.html#5806636">smallSize</a></span>&nbsp;<span class="op" id="5806679">&amp;&amp;</span>&nbsp;<span class="ident" id="5806682"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5806687">&lt;=</span>&nbsp;<span class="ident" id="5806690"><a href="/gostd/go/printer/nodes.go.html#5806636">smallSize</a></span>&nbsp;<span class="op" id="5806700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806706"><a href="/gostd/go/printer/nodes.go.html#5805735">useFF</a></span>&nbsp;<span class="op" id="5806712">=</span>&nbsp;<span class="builtintype" id="5806714">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5806723">}</span>&nbsp;<span class="keyword" id="5806725">else</span>&nbsp;<span class="op" id="5806730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806736">const</span>&nbsp;<span class="ident" id="5806742">r</span>&nbsp;<span class="op" id="5806744">=</span>&nbsp;<span class="num" id="5806746">4</span>&nbsp;<span class="comment" id="5806748">//&nbsp;threshold</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806765">ratio</span>&nbsp;<span class="op" id="5806771">:=</span>&nbsp;<span class="builtintype" id="5806774">float64</span><span class="op" id="5806781">(</span><span class="ident" id="5806782"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span><span class="op" id="5806786">)</span>&nbsp;<span class="op" id="5806788">/</span>&nbsp;<span class="builtintype" id="5806790">float64</span><span class="op" id="5806797">(</span><span class="ident" id="5806798"><a href="/gostd/go/printer/nodes.go.html#5805964">prevSize</a></span><span class="op" id="5806806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806812"><a href="/gostd/go/printer/nodes.go.html#5805735">useFF</a></span>&nbsp;<span class="op" id="5806818">=</span>&nbsp;<span class="ident" id="5806820"><a href="/gostd/go/printer/nodes.go.html#5806765">ratio</a></span>&nbsp;<span class="op" id="5806826">&lt;=</span>&nbsp;<span class="num" id="5806829">1.0</span><span class="op" id="5806832">/</span><span class="ident" id="5806833"><a href="/gostd/go/printer/nodes.go.html#5806742">r</a></span>&nbsp;<span class="op" id="5806835">||</span>&nbsp;<span class="ident" id="5806838"><a href="/gostd/go/printer/nodes.go.html#5806742">r</a></span>&nbsp;<span class="op" id="5806840">&lt;=</span>&nbsp;<span class="ident" id="5806843"><a href="/gostd/go/printer/nodes.go.html#5806765">ratio</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5806852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5806856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5806861">needsLinebreak</span>&nbsp;<span class="op" id="5806876">:=</span>&nbsp;<span class="num" id="5806879">0</span>&nbsp;<span class="op" id="5806881">&lt;</span>&nbsp;<span class="ident" id="5806883"><a href="/gostd/go/printer/nodes.go.html#5805338">prevLine</a></span>&nbsp;<span class="op" id="5806892">&amp;&amp;</span>&nbsp;<span class="ident" id="5806895"><a href="/gostd/go/printer/nodes.go.html#5805338">prevLine</a></span>&nbsp;<span class="op" id="5806904">&lt;</span>&nbsp;<span class="ident" id="5806906"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5806913">if</span>&nbsp;<span class="ident" id="5806916"><a href="/gostd/go/printer/nodes.go.html#5805365">i</a></span>&nbsp;<span class="op" id="5806918">&gt;</span>&nbsp;<span class="num" id="5806920">0</span>&nbsp;<span class="op" id="5806922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806927">//&nbsp;use&nbsp;position&nbsp;of&nbsp;expression&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5806983">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807039">//&nbsp;only&nbsp;if&nbsp;the&nbsp;expression&nbsp;is&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5807088">if</span>&nbsp;<span class="op" id="5807091">!</span><span class="ident" id="5807092"><a href="/gostd/go/printer/nodes.go.html#5806861">needsLinebreak</a></span>&nbsp;<span class="op" id="5807107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807113"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807114">.</span><span class="builtinfunc" id="5807115"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5807120">(</span><span class="ident" id="5807121"><a href="/gostd/go/printer/nodes.go.html#5805368">x</a></span><span class="op" id="5807122">.</span><span class="ident" id="5807123"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5807126">(</span><span class="op" id="5807127">)</span><span class="op" id="5807128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5807133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807138"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807139">.</span><span class="builtinfunc" id="5807140"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5807145">(</span><span class="ident" id="5807146"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5807151">.</span><span class="ident" id="5807152"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5807157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807162">needsBlank</span>&nbsp;<span class="op" id="5807173">:=</span>&nbsp;<span class="builtintype" id="5807176">true</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5807184">if</span>&nbsp;<span class="ident" id="5807187"><a href="/gostd/go/printer/nodes.go.html#5806861">needsLinebreak</a></span>&nbsp;<span class="op" id="5807202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807208">//&nbsp;lines&nbsp;are&nbsp;broken&nbsp;using&nbsp;newlines&nbsp;so&nbsp;comments&nbsp;remain&nbsp;aligned</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807274">//&nbsp;unless&nbsp;forceFF&nbsp;is&nbsp;set&nbsp;or&nbsp;there&nbsp;are&nbsp;multiple&nbsp;expressions&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807340">//&nbsp;the&nbsp;same&nbsp;line&nbsp;in&nbsp;which&nbsp;case&nbsp;formfeed&nbsp;is&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5807392">if</span>&nbsp;<span class="ident" id="5807395"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807396">.</span><span class="ident" id="5807397"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5807406">(</span><span class="ident" id="5807407"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span><span class="op" id="5807411">,</span>&nbsp;<span class="num" id="5807413">0</span><span class="op" id="5807414">,</span>&nbsp;<span class="ident" id="5807416"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span><span class="op" id="5807418">,</span>&nbsp;<span class="ident" id="5807420"><a href="/gostd/go/printer/nodes.go.html#5805735">useFF</a></span>&nbsp;<span class="op" id="5807426">||</span>&nbsp;<span class="ident" id="5807429"><a href="/gostd/go/printer/nodes.go.html#5805014">prevBreak</a></span><span class="op" id="5807438">+</span><span class="num" id="5807439">1</span>&nbsp;<span class="op" id="5807441">&lt;</span>&nbsp;<span class="ident" id="5807443"><a href="/gostd/go/printer/nodes.go.html#5805365">i</a></span><span class="op" id="5807444">)</span>&nbsp;<span class="op" id="5807446">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807453"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span>&nbsp;<span class="op" id="5807456">=</span>&nbsp;<span class="ident" id="5807458"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807470"><a href="/gostd/go/printer/nodes.go.html#5805014">prevBreak</a></span>&nbsp;<span class="op" id="5807480">=</span>&nbsp;<span class="ident" id="5807482"><a href="/gostd/go/printer/nodes.go.html#5805365">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807489"><a href="/gostd/go/printer/nodes.go.html#5807162">needsBlank</a></span>&nbsp;<span class="op" id="5807500">=</span>&nbsp;<span class="builtintype" id="5807502">false</span>&nbsp;<span class="comment" id="5807508">//&nbsp;we&nbsp;got&nbsp;a&nbsp;line&nbsp;break&nbsp;instead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5807543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5807548">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5807553">if</span>&nbsp;<span class="ident" id="5807556"><a href="/gostd/go/printer/nodes.go.html#5807162">needsBlank</a></span>&nbsp;<span class="op" id="5807567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807573"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807574">.</span><span class="builtinfunc" id="5807575"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5807580">(</span><span class="ident" id="5807581"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5807586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5807591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5807595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5807600">if</span>&nbsp;<span class="builtinfunc" id="5807603">len</span><span class="op" id="5807606">(</span><span class="ident" id="5807607"><a href="/gostd/go/printer/nodes.go.html#5804079">list</a></span><span class="op" id="5807611">)</span>&nbsp;<span class="op" id="5807613">&gt;</span>&nbsp;<span class="num" id="5807615">1</span>&nbsp;<span class="op" id="5807617">&amp;&amp;</span>&nbsp;<span class="ident" id="5807620"><a href="/gostd/go/printer/nodes.go.html#5806076">isPair</a></span>&nbsp;<span class="op" id="5807627">&amp;&amp;</span>&nbsp;<span class="ident" id="5807630"><a href="/gostd/go/printer/nodes.go.html#5805298">size</a></span>&nbsp;<span class="op" id="5807635">&gt;</span>&nbsp;<span class="num" id="5807637">0</span>&nbsp;<span class="op" id="5807639">&amp;&amp;</span>&nbsp;<span class="ident" id="5807642"><a href="/gostd/go/printer/nodes.go.html#5806861">needsLinebreak</a></span>&nbsp;<span class="op" id="5807657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807662">//&nbsp;we&nbsp;have&nbsp;a&nbsp;key:value&nbsp;expression&nbsp;that&nbsp;fits&nbsp;onto&nbsp;one&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807723">//&nbsp;and&nbsp;it&#39;s&nbsp;not&nbsp;on&nbsp;the&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;prior&nbsp;expression:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807784">//&nbsp;use&nbsp;a&nbsp;column&nbsp;for&nbsp;the&nbsp;key&nbsp;such&nbsp;that&nbsp;consecutive&nbsp;entries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807845">//&nbsp;can&nbsp;align&nbsp;if&nbsp;possible</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5807873">//&nbsp;(needsLinebreak&nbsp;is&nbsp;set&nbsp;if&nbsp;we&nbsp;started&nbsp;a&nbsp;new&nbsp;line&nbsp;before)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807935"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807936">.</span><span class="ident" id="5807937"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5807941">(</span><span class="ident" id="5807942"><a href="/gostd/go/printer/nodes.go.html#5806070">pair</a></span><span class="op" id="5807946">.</span><span class="ident" id="5807947"><a href="/gostd/go/ast/ast.go.html#3803822">Key</a></span><span class="op" id="5807950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807955"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807956">.</span><span class="builtinfunc" id="5807957"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5807962">(</span><span class="ident" id="5807963"><a href="/gostd/go/printer/nodes.go.html#5806070">pair</a></span><span class="op" id="5807967">.</span><span class="ident" id="5807968"><a href="/gostd/go/ast/ast.go.html#3803835">Colon</a></span><span class="op" id="5807973">,</span>&nbsp;<span class="ident" id="5807975"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5807980">.</span><span class="ident" id="5807981"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5807986">,</span>&nbsp;<span class="ident" id="5807988"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><span class="op" id="5807992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5807997"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5807998">.</span><span class="ident" id="5807999"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5808003">(</span><span class="ident" id="5808004"><a href="/gostd/go/printer/nodes.go.html#5806070">pair</a></span><span class="op" id="5808008">.</span><span class="ident" id="5808009"><a href="/gostd/go/ast/ast.go.html#3803872">Value</a></span><span class="op" id="5808014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808018">}</span>&nbsp;<span class="keyword" id="5808020">else</span>&nbsp;<span class="op" id="5808025">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808030"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5808031">.</span><span class="ident" id="5808032"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5808037">(</span><span class="ident" id="5808038"><a href="/gostd/go/printer/nodes.go.html#5805368">x</a></span><span class="op" id="5808039">,</span>&nbsp;<span class="ident" id="5808041"><a href="/gostd/go/printer/nodes.go.html#5804096">depth</a></span><span class="op" id="5808046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808055"><a href="/gostd/go/printer/nodes.go.html#5805338">prevLine</a></span>&nbsp;<span class="op" id="5808064">=</span>&nbsp;<span class="ident" id="5808066"><a href="/gostd/go/printer/nodes.go.html#5804230">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808072">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808076">if</span>&nbsp;<span class="ident" id="5808079"><a href="/gostd/go/printer/nodes.go.html#5804107">mode</a></span><span class="op" id="5808083">&amp;</span><span class="ident" id="5808084"><a href="/gostd/go/printer/nodes.go.html#5803093">commaTerm</a></span>&nbsp;<span class="op" id="5808094">!=</span>&nbsp;<span class="num" id="5808097">0</span>&nbsp;<span class="op" id="5808099">&amp;&amp;</span>&nbsp;<span class="ident" id="5808102"><a href="/gostd/go/printer/nodes.go.html#5804205">next</a></span><span class="op" id="5808106">.</span><span class="ident" id="5808107"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5808114">(</span><span class="op" id="5808115">)</span>&nbsp;<span class="op" id="5808117">&amp;&amp;</span>&nbsp;<span class="ident" id="5808120"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5808121">.</span><span class="ident" id="5808122"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5808125">.</span><span class="ident" id="5808126"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5808131">&lt;</span>&nbsp;<span class="ident" id="5808133"><a href="/gostd/go/printer/nodes.go.html#5804205">next</a></span><span class="op" id="5808137">.</span><span class="ident" id="5808138"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5808143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5808147">//&nbsp;print&nbsp;a&nbsp;terminating&nbsp;comma&nbsp;if&nbsp;the&nbsp;next&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808213"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5808214">.</span><span class="builtinfunc" id="5808215"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5808220">(</span><span class="ident" id="5808221"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5808226">.</span><span class="ident" id="5808227"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5808232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808236">if</span>&nbsp;<span class="ident" id="5808239"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span>&nbsp;<span class="op" id="5808242">==</span>&nbsp;<span class="ident" id="5808245"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span>&nbsp;<span class="op" id="5808252">&amp;&amp;</span>&nbsp;<span class="ident" id="5808255"><a href="/gostd/go/printer/nodes.go.html#5804107">mode</a></span><span class="op" id="5808259">&amp;</span><span class="ident" id="5808260"><a href="/gostd/go/printer/nodes.go.html#5803173">noIndent</a></span>&nbsp;<span class="op" id="5808269">==</span>&nbsp;<span class="num" id="5808272">0</span>&nbsp;<span class="op" id="5808274">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5808279">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808309"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5808310">.</span><span class="builtinfunc" id="5808311"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5808316">(</span><span class="ident" id="5808317"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5808325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808333"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5808334">.</span><span class="builtinfunc" id="5808335"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5808340">(</span><span class="ident" id="5808341"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5808349">)</span>&nbsp;<span class="comment" id="5808351">//&nbsp;terminating&nbsp;comma&nbsp;needs&nbsp;a&nbsp;line&nbsp;break&nbsp;to&nbsp;look&nbsp;good</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808406">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808418">if</span>&nbsp;<span class="ident" id="5808421"><a href="/gostd/go/printer/nodes.go.html#5804846">ws</a></span>&nbsp;<span class="op" id="5808424">==</span>&nbsp;<span class="ident" id="5808427"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span>&nbsp;<span class="op" id="5808434">&amp;&amp;</span>&nbsp;<span class="ident" id="5808437"><a href="/gostd/go/printer/nodes.go.html#5804107">mode</a></span><span class="op" id="5808441">&amp;</span><span class="ident" id="5808442"><a href="/gostd/go/printer/nodes.go.html#5803173">noIndent</a></span>&nbsp;<span class="op" id="5808451">==</span>&nbsp;<span class="num" id="5808454">0</span>&nbsp;<span class="op" id="5808456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5808460">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808489"><a href="/gostd/go/printer/nodes.go.html#5804041">p</a></span><span class="op" id="5808490">.</span><span class="builtinfunc" id="5808491"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5808496">(</span><span class="ident" id="5808497"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5808505">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808508">}</span><br>
<span class="lineno"></span><span class="op" id="5808510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5808513">func</span>&nbsp;<span class="op" id="5808518">(</span><span class="ident" id="5808519">p</span>&nbsp;<span class="op" id="5808521">*</span><span class="ident" id="5808522"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5808529">)</span>&nbsp;<span class="ident" id="5808531">parameters</span><span class="op" id="5808541">(</span><span class="ident" id="5808542">fields</span>&nbsp;<span class="op" id="5808549">*</span><span class="ident" id="5808550"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5808553">.</span><span class="ident" id="5808554"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5808563">)</span>&nbsp;<span class="op" id="5808565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808568"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5808569">.</span><span class="builtinfunc" id="5808570"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5808575">(</span><span class="ident" id="5808576"><a href="/gostd/go/printer/nodes.go.html#5808542">fields</a></span><span class="op" id="5808582">.</span><span class="ident" id="5808583"><a href="/gostd/go/ast/ast.go.html#3798878">Opening</a></span><span class="op" id="5808590">,</span>&nbsp;<span class="ident" id="5808592"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5808597">.</span><span class="ident" id="5808598"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5808604">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808607">if</span>&nbsp;<span class="builtinfunc" id="5808610">len</span><span class="op" id="5808613">(</span><span class="ident" id="5808614"><a href="/gostd/go/printer/nodes.go.html#5808542">fields</a></span><span class="op" id="5808620">.</span><span class="ident" id="5808621"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5808625">)</span>&nbsp;<span class="op" id="5808627">&gt;</span>&nbsp;<span class="num" id="5808629">0</span>&nbsp;<span class="op" id="5808631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808635">prevLine</span>&nbsp;<span class="op" id="5808644">:=</span>&nbsp;<span class="ident" id="5808647"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5808648">.</span><span class="ident" id="5808649"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5808656">(</span><span class="ident" id="5808657"><a href="/gostd/go/printer/nodes.go.html#5808542">fields</a></span><span class="op" id="5808663">.</span><span class="ident" id="5808664"><a href="/gostd/go/ast/ast.go.html#3798878">Opening</a></span><span class="op" id="5808671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808675">ws</span>&nbsp;<span class="op" id="5808678">:=</span>&nbsp;<span class="ident" id="5808681"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808690">for</span>&nbsp;<span class="ident" id="5808694">i</span><span class="op" id="5808695">,</span>&nbsp;<span class="ident" id="5808697">par</span>&nbsp;<span class="op" id="5808701">:=</span>&nbsp;<span class="keyword" id="5808704">range</span>&nbsp;<span class="ident" id="5808710"><a href="/gostd/go/printer/nodes.go.html#5808542">fields</a></span><span class="op" id="5808716">.</span><span class="ident" id="5808717"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span>&nbsp;<span class="op" id="5808722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5808727">//&nbsp;determine&nbsp;par&nbsp;begin&nbsp;and&nbsp;end&nbsp;line&nbsp;(may&nbsp;be&nbsp;different</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5808784">//&nbsp;if&nbsp;there&nbsp;are&nbsp;multiple&nbsp;parameter&nbsp;names&nbsp;for&nbsp;this&nbsp;par</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5808841">//&nbsp;or&nbsp;the&nbsp;type&nbsp;is&nbsp;on&nbsp;a&nbsp;separate&nbsp;line)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808882">var</span>&nbsp;<span class="ident" id="5808886">parLineBeg</span>&nbsp;<span class="builtintype" id="5808897">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5808904">if</span>&nbsp;<span class="builtinfunc" id="5808907">len</span><span class="op" id="5808910">(</span><span class="ident" id="5808911"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5808914">.</span><span class="ident" id="5808915"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5808920">)</span>&nbsp;<span class="op" id="5808922">&gt;</span>&nbsp;<span class="num" id="5808924">0</span>&nbsp;<span class="op" id="5808926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808932"><a href="/gostd/go/printer/nodes.go.html#5808886">parLineBeg</a></span>&nbsp;<span class="op" id="5808943">=</span>&nbsp;<span class="ident" id="5808945"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5808946">.</span><span class="ident" id="5808947"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5808954">(</span><span class="ident" id="5808955"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5808958">.</span><span class="ident" id="5808959"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5808964">[</span><span class="num" id="5808965">0</span><span class="op" id="5808966">]</span><span class="op" id="5808967">.</span><span class="ident" id="5808968"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="5808971">(</span><span class="op" id="5808972">)</span><span class="op" id="5808973">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5808978">}</span>&nbsp;<span class="keyword" id="5808980">else</span>&nbsp;<span class="op" id="5808985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5808991"><a href="/gostd/go/printer/nodes.go.html#5808886">parLineBeg</a></span>&nbsp;<span class="op" id="5809002">=</span>&nbsp;<span class="ident" id="5809004"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5809005">.</span><span class="ident" id="5809006"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5809013">(</span><span class="ident" id="5809014"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5809017">.</span><span class="ident" id="5809018"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5809022">.</span><span class="ident" id="5809023"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5809026">(</span><span class="op" id="5809027">)</span><span class="op" id="5809028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5809033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5809038">var</span>&nbsp;<span class="ident" id="5809042">parLineEnd</span>&nbsp;<span class="op" id="5809053">=</span>&nbsp;<span class="ident" id="5809055"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5809056">.</span><span class="ident" id="5809057"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5809064">(</span><span class="ident" id="5809065"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5809068">.</span><span class="ident" id="5809069"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5809073">.</span><span class="ident" id="5809074"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5809077">(</span><span class="op" id="5809078">)</span><span class="op" id="5809079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809084">//&nbsp;separating&nbsp;&#34;,&#34;&nbsp;if&nbsp;needed</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5809115">needsLinebreak</span>&nbsp;<span class="op" id="5809130">:=</span>&nbsp;<span class="num" id="5809133">0</span>&nbsp;<span class="op" id="5809135">&lt;</span>&nbsp;<span class="ident" id="5809137"><a href="/gostd/go/printer/nodes.go.html#5808635">prevLine</a></span>&nbsp;<span class="op" id="5809146">&amp;&amp;</span>&nbsp;<span class="ident" id="5809149"><a href="/gostd/go/printer/nodes.go.html#5808635">prevLine</a></span>&nbsp;<span class="op" id="5809158">&lt;</span>&nbsp;<span class="ident" id="5809160"><a href="/gostd/go/printer/nodes.go.html#5808886">parLineBeg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5809174">if</span>&nbsp;<span class="ident" id="5809177"><a href="/gostd/go/printer/nodes.go.html#5808694">i</a></span>&nbsp;<span class="op" id="5809179">&gt;</span>&nbsp;<span class="num" id="5809181">0</span>&nbsp;<span class="op" id="5809183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809189">//&nbsp;use&nbsp;position&nbsp;of&nbsp;parameter&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809245">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comma&nbsp;placement,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809300">//&nbsp;only&nbsp;if&nbsp;the&nbsp;next&nbsp;parameter&nbsp;is&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5809354">if</span>&nbsp;<span class="op" id="5809357">!</span><span class="ident" id="5809358"><a href="/gostd/go/printer/nodes.go.html#5809115">needsLinebreak</a></span>&nbsp;<span class="op" id="5809373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5809380"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5809381">.</span><span class="builtinfunc" id="5809382"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5809387">(</span><span class="ident" id="5809388"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5809391">.</span><span class="ident" id="5809392"><a href="/gostd/go/ast/ast.go.html#3798579">Pos</a></span><span class="op" id="5809395">(</span><span class="op" id="5809396">)</span><span class="op" id="5809397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5809403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5809409"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5809410">.</span><span class="builtinfunc" id="5809411"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5809416">(</span><span class="ident" id="5809417"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5809422">.</span><span class="ident" id="5809423"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5809428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5809433">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809438">//&nbsp;separator&nbsp;if&nbsp;needed&nbsp;(linebreak&nbsp;or&nbsp;blank)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5809485">if</span>&nbsp;<span class="ident" id="5809488"><a href="/gostd/go/printer/nodes.go.html#5809115">needsLinebreak</a></span>&nbsp;<span class="op" id="5809503">&amp;&amp;</span>&nbsp;<span class="ident" id="5809506"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5809507">.</span><span class="ident" id="5809508"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5809517">(</span><span class="ident" id="5809518"><a href="/gostd/go/printer/nodes.go.html#5808886">parLineBeg</a></span><span class="op" id="5809528">,</span>&nbsp;<span class="num" id="5809530">0</span><span class="op" id="5809531">,</span>&nbsp;<span class="ident" id="5809533"><a href="/gostd/go/printer/nodes.go.html#5808675">ws</a></span><span class="op" id="5809535">,</span>&nbsp;<span class="builtintype" id="5809537">true</span><span class="op" id="5809541">)</span>&nbsp;<span class="op" id="5809543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809549">//&nbsp;break&nbsp;line&nbsp;if&nbsp;the&nbsp;opening&nbsp;&#34;(&#34;&nbsp;or&nbsp;previous&nbsp;parameter&nbsp;ended&nbsp;on&nbsp;a&nbsp;different&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5809634"><a href="/gostd/go/printer/nodes.go.html#5808675">ws</a></span>&nbsp;<span class="op" id="5809637">=</span>&nbsp;<span class="ident" id="5809639"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5809649">}</span>&nbsp;<span class="keyword" id="5809651">else</span>&nbsp;<span class="keyword" id="5809656">if</span>&nbsp;<span class="ident" id="5809659"><a href="/gostd/go/printer/nodes.go.html#5808694">i</a></span>&nbsp;<span class="op" id="5809661">&gt;</span>&nbsp;<span class="num" id="5809663">0</span>&nbsp;<span class="op" id="5809665">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5809671"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5809672">.</span><span class="builtinfunc" id="5809673"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5809678">(</span><span class="ident" id="5809679"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5809684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5809689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809694">//&nbsp;parameter&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5809716">if</span>&nbsp;<span class="builtinfunc" id="5809719">len</span><span class="op" id="5809722">(</span><span class="ident" id="5809723"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5809726">.</span><span class="ident" id="5809727"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5809732">)</span>&nbsp;<span class="op" id="5809734">&gt;</span>&nbsp;<span class="num" id="5809736">0</span>&nbsp;<span class="op" id="5809738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809744">//&nbsp;Very&nbsp;subtle:&nbsp;If&nbsp;we&nbsp;indented&nbsp;before&nbsp;(ws&nbsp;==&nbsp;ignore),&nbsp;identList</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809812">//&nbsp;won&#39;t&nbsp;indent&nbsp;again.&nbsp;If&nbsp;we&nbsp;didn&#39;t&nbsp;(ws&nbsp;==&nbsp;indent),&nbsp;identList&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809883">//&nbsp;indent&nbsp;if&nbsp;the&nbsp;identList&nbsp;spans&nbsp;multiple&nbsp;lines,&nbsp;and&nbsp;it&nbsp;will&nbsp;outdent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5809956">//&nbsp;again&nbsp;at&nbsp;the&nbsp;end&nbsp;(and&nbsp;still&nbsp;ws&nbsp;==&nbsp;indent).&nbsp;Thus,&nbsp;a&nbsp;subsequent&nbsp;indent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810032">//&nbsp;by&nbsp;a&nbsp;linebreak&nbsp;call&nbsp;after&nbsp;a&nbsp;type,&nbsp;or&nbsp;in&nbsp;the&nbsp;next&nbsp;multi-line&nbsp;identList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810109">//&nbsp;will&nbsp;do&nbsp;the&nbsp;right&nbsp;thing.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810141"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810142">.</span><span class="ident" id="5810143"><a href="/gostd/go/printer/nodes.go.html#5803377">identList</a></span><span class="op" id="5810152">(</span><span class="ident" id="5810153"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5810156">.</span><span class="ident" id="5810157"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5810162">,</span>&nbsp;<span class="ident" id="5810164"><a href="/gostd/go/printer/nodes.go.html#5808675">ws</a></span>&nbsp;<span class="op" id="5810167">==</span>&nbsp;<span class="ident" id="5810170"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5810176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810182"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810183">.</span><span class="builtinfunc" id="5810184"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5810189">(</span><span class="ident" id="5810190"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5810195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810205">//&nbsp;parameter&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810226"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810227">.</span><span class="ident" id="5810228"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5810232">(</span><span class="ident" id="5810233"><a href="/gostd/go/printer/nodes.go.html#5826951">stripParensAlways</a></span><span class="op" id="5810250">(</span><span class="ident" id="5810251"><a href="/gostd/go/printer/nodes.go.html#5808697">par</a></span><span class="op" id="5810254">.</span><span class="ident" id="5810255"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5810259">)</span><span class="op" id="5810260">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810265"><a href="/gostd/go/printer/nodes.go.html#5808635">prevLine</a></span>&nbsp;<span class="op" id="5810274">=</span>&nbsp;<span class="ident" id="5810276"><a href="/gostd/go/printer/nodes.go.html#5809042">parLineEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810293">//&nbsp;if&nbsp;the&nbsp;closing&nbsp;&#34;)&#34;&nbsp;is&nbsp;on&nbsp;a&nbsp;separate&nbsp;line&nbsp;from&nbsp;the&nbsp;last&nbsp;parameter,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810364">//&nbsp;print&nbsp;an&nbsp;additional&nbsp;&#34;,&#34;&nbsp;and&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5810408">if</span>&nbsp;<span class="ident" id="5810411">closing</span>&nbsp;<span class="op" id="5810419">:=</span>&nbsp;<span class="ident" id="5810422"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810423">.</span><span class="ident" id="5810424"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5810431">(</span><span class="ident" id="5810432"><a href="/gostd/go/printer/nodes.go.html#5808542">fields</a></span><span class="op" id="5810438">.</span><span class="ident" id="5810439"><a href="/gostd/go/ast/ast.go.html#3798987">Closing</a></span><span class="op" id="5810446">)</span><span class="op" id="5810447">;</span>&nbsp;<span class="num" id="5810449">0</span>&nbsp;<span class="op" id="5810451">&lt;</span>&nbsp;<span class="ident" id="5810453"><a href="/gostd/go/printer/nodes.go.html#5808635">prevLine</a></span>&nbsp;<span class="op" id="5810462">&amp;&amp;</span>&nbsp;<span class="ident" id="5810465"><a href="/gostd/go/printer/nodes.go.html#5808635">prevLine</a></span>&nbsp;<span class="op" id="5810474">&lt;</span>&nbsp;<span class="ident" id="5810476"><a href="/gostd/go/printer/nodes.go.html#5810411">closing</a></span>&nbsp;<span class="op" id="5810484">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810489"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810490">.</span><span class="builtinfunc" id="5810491"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5810496">(</span><span class="ident" id="5810497"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5810502">.</span><span class="ident" id="5810503"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5810508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810513"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810514">.</span><span class="ident" id="5810515"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5810524">(</span><span class="ident" id="5810525"><a href="/gostd/go/printer/nodes.go.html#5810411">closing</a></span><span class="op" id="5810532">,</span>&nbsp;<span class="num" id="5810534">0</span><span class="op" id="5810535">,</span>&nbsp;<span class="ident" id="5810537"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5810543">,</span>&nbsp;<span class="builtintype" id="5810545">true</span><span class="op" id="5810549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810557">//&nbsp;unindent&nbsp;if&nbsp;we&nbsp;indented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5810586">if</span>&nbsp;<span class="ident" id="5810589"><a href="/gostd/go/printer/nodes.go.html#5808675">ws</a></span>&nbsp;<span class="op" id="5810592">==</span>&nbsp;<span class="ident" id="5810595"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span>&nbsp;<span class="op" id="5810602">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810607"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810608">.</span><span class="builtinfunc" id="5810609"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5810614">(</span><span class="ident" id="5810615"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5810623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810633"><a href="/gostd/go/printer/nodes.go.html#5808519">p</a></span><span class="op" id="5810634">.</span><span class="builtinfunc" id="5810635"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5810640">(</span><span class="ident" id="5810641"><a href="/gostd/go/printer/nodes.go.html#5808542">fields</a></span><span class="op" id="5810647">.</span><span class="ident" id="5810648"><a href="/gostd/go/ast/ast.go.html#3798987">Closing</a></span><span class="op" id="5810655">,</span>&nbsp;<span class="ident" id="5810657"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5810662">.</span><span class="ident" id="5810663"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5810669">)</span><br>
<span class="lineno"></span><span class="op" id="5810671">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="5810674">func</span>&nbsp;<span class="op" id="5810679">(</span><span class="ident" id="5810680">p</span>&nbsp;<span class="op" id="5810682">*</span><span class="ident" id="5810683"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5810690">)</span>&nbsp;<span class="ident" id="5810692">signature</span><span class="op" id="5810701">(</span><span class="ident" id="5810702">params</span><span class="op" id="5810708">,</span>&nbsp;<span class="ident" id="5810710">result</span>&nbsp;<span class="op" id="5810717">*</span><span class="ident" id="5810718"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5810721">.</span><span class="ident" id="5810722"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5810731">)</span>&nbsp;<span class="op" id="5810733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5810736">if</span>&nbsp;<span class="ident" id="5810739"><a href="/gostd/go/printer/nodes.go.html#5810702">params</a></span>&nbsp;<span class="op" id="5810746">!=</span>&nbsp;<span class="builtintype" id="5810749">nil</span>&nbsp;<span class="op" id="5810753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810757"><a href="/gostd/go/printer/nodes.go.html#5810680">p</a></span><span class="op" id="5810758">.</span><span class="ident" id="5810759"><a href="/gostd/go/printer/nodes.go.html#5808531">parameters</a></span><span class="op" id="5810769">(</span><span class="ident" id="5810770"><a href="/gostd/go/printer/nodes.go.html#5810702">params</a></span><span class="op" id="5810776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810779">}</span>&nbsp;<span class="keyword" id="5810781">else</span>&nbsp;<span class="op" id="5810786">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810790"><a href="/gostd/go/printer/nodes.go.html#5810680">p</a></span><span class="op" id="5810791">.</span><span class="builtinfunc" id="5810792"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5810797">(</span><span class="ident" id="5810798"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5810803">.</span><span class="ident" id="5810804"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5810810">,</span>&nbsp;<span class="ident" id="5810812"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5810817">.</span><span class="ident" id="5810818"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5810824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5810827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810830">n</span>&nbsp;<span class="op" id="5810832">:=</span>&nbsp;<span class="ident" id="5810835"><a href="/gostd/go/printer/nodes.go.html#5810710">result</a></span><span class="op" id="5810841">.</span><span class="ident" id="5810842"><a href="/gostd/go/ast/ast.go.html#3799677">NumFields</a></span><span class="op" id="5810851">(</span><span class="op" id="5810852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5810855">if</span>&nbsp;<span class="ident" id="5810858"><a href="/gostd/go/printer/nodes.go.html#5810830">n</a></span>&nbsp;<span class="op" id="5810860">&gt;</span>&nbsp;<span class="num" id="5810862">0</span>&nbsp;<span class="op" id="5810864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810868">//&nbsp;result&nbsp;!=&nbsp;nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810887"><a href="/gostd/go/printer/nodes.go.html#5810680">p</a></span><span class="op" id="5810888">.</span><span class="builtinfunc" id="5810889"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5810894">(</span><span class="ident" id="5810895"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5810900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5810904">if</span>&nbsp;<span class="ident" id="5810907"><a href="/gostd/go/printer/nodes.go.html#5810830">n</a></span>&nbsp;<span class="op" id="5810909">==</span>&nbsp;<span class="num" id="5810912">1</span>&nbsp;<span class="op" id="5810914">&amp;&amp;</span>&nbsp;<span class="ident" id="5810917"><a href="/gostd/go/printer/nodes.go.html#5810710">result</a></span><span class="op" id="5810923">.</span><span class="ident" id="5810924"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5810928">[</span><span class="num" id="5810929">0</span><span class="op" id="5810930">]</span><span class="op" id="5810931">.</span><span class="ident" id="5810932"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span>&nbsp;<span class="op" id="5810938">==</span>&nbsp;<span class="builtintype" id="5810941">nil</span>&nbsp;<span class="op" id="5810945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5810950">//&nbsp;single&nbsp;anonymous&nbsp;result;&nbsp;no&nbsp;()&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5810989"><a href="/gostd/go/printer/nodes.go.html#5810680">p</a></span><span class="op" id="5810990">.</span><span class="ident" id="5810991"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5810995">(</span><span class="ident" id="5810996"><a href="/gostd/go/printer/nodes.go.html#5826951">stripParensAlways</a></span><span class="op" id="5811013">(</span><span class="ident" id="5811014"><a href="/gostd/go/printer/nodes.go.html#5810710">result</a></span><span class="op" id="5811020">.</span><span class="ident" id="5811021"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5811025">[</span><span class="num" id="5811026">0</span><span class="op" id="5811027">]</span><span class="op" id="5811028">.</span><span class="ident" id="5811029"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5811033">)</span><span class="op" id="5811034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811039">return</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811052"><a href="/gostd/go/printer/nodes.go.html#5810680">p</a></span><span class="op" id="5811053">.</span><span class="ident" id="5811054"><a href="/gostd/go/printer/nodes.go.html#5808531">parameters</a></span><span class="op" id="5811064">(</span><span class="ident" id="5811065"><a href="/gostd/go/printer/nodes.go.html#5810710">result</a></span><span class="op" id="5811071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811074">}</span><br>
<span class="lineno"></span><span class="op" id="5811076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5811079">func</span>&nbsp;<span class="ident" id="5811084">identListSize</span><span class="op" id="5811097">(</span><span class="ident" id="5811098">list</span>&nbsp;<span class="op" id="5811103">[</span><span class="op" id="5811104">]</span><span class="op" id="5811105">*</span><span class="ident" id="5811106"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5811109">.</span><span class="ident" id="5811110"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5811115">,</span>&nbsp;<span class="ident" id="5811117">maxSize</span>&nbsp;<span class="builtintype" id="5811125">int</span><span class="op" id="5811128">)</span>&nbsp;<span class="op" id="5811130">(</span><span class="ident" id="5811131">size</span>&nbsp;<span class="builtintype" id="5811136">int</span><span class="op" id="5811139">)</span>&nbsp;<span class="op" id="5811141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811144">for</span>&nbsp;<span class="ident" id="5811148">i</span><span class="op" id="5811149">,</span>&nbsp;<span class="ident" id="5811151">x</span>&nbsp;<span class="op" id="5811153">:=</span>&nbsp;<span class="keyword" id="5811156">range</span>&nbsp;<span class="ident" id="5811162"><a href="/gostd/go/printer/nodes.go.html#5811098">list</a></span>&nbsp;<span class="op" id="5811167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811171">if</span>&nbsp;<span class="ident" id="5811174"><a href="/gostd/go/printer/nodes.go.html#5811148">i</a></span>&nbsp;<span class="op" id="5811176">&gt;</span>&nbsp;<span class="num" id="5811178">0</span>&nbsp;<span class="op" id="5811180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811185"><a href="/gostd/go/printer/nodes.go.html#5811131">size</a></span>&nbsp;<span class="op" id="5811190">+=</span>&nbsp;<span class="builtinfunc" id="5811193">len</span><span class="op" id="5811196">(</span><span class="string" id="5811197">&#34;,&nbsp;&#34;</span><span class="op" id="5811201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811205">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811209"><a href="/gostd/go/printer/nodes.go.html#5811131">size</a></span>&nbsp;<span class="op" id="5811214">+=</span>&nbsp;<span class="ident" id="5811217"><a href="/gostd/go/printer/nodes.go.html#5800194">utf8</a></span><span class="op" id="5811221">.</span><span class="ident" id="5811222"><a href="/gostd/unicode/utf8/utf8.go.html#1814113">RuneCountInString</a></span><span class="op" id="5811239">(</span><span class="ident" id="5811240"><a href="/gostd/go/printer/nodes.go.html#5811151">x</a></span><span class="op" id="5811241">.</span><span class="ident" id="5811242"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5811246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811250">if</span>&nbsp;<span class="ident" id="5811253"><a href="/gostd/go/printer/nodes.go.html#5811131">size</a></span>&nbsp;<span class="op" id="5811258">&gt;=</span>&nbsp;<span class="ident" id="5811261"><a href="/gostd/go/printer/nodes.go.html#5811117">maxSize</a></span>&nbsp;<span class="op" id="5811269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811274">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811285">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811288">return</span><br>
<span class="lineno"></span><span class="op" id="5811295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5811298">func</span>&nbsp;<span class="op" id="5811303">(</span><span class="ident" id="5811304">p</span>&nbsp;<span class="op" id="5811306">*</span><span class="ident" id="5811307"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5811314">)</span>&nbsp;<span class="ident" id="5811316">isOneLineFieldList</span><span class="op" id="5811334">(</span><span class="ident" id="5811335">list</span>&nbsp;<span class="op" id="5811340">[</span><span class="op" id="5811341">]</span><span class="op" id="5811342">*</span><span class="ident" id="5811343"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5811346">.</span><span class="ident" id="5811347"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5811352">)</span>&nbsp;<span class="builtintype" id="5811354">bool</span>&nbsp;<span class="op" id="5811359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811362">if</span>&nbsp;<span class="builtinfunc" id="5811365">len</span><span class="op" id="5811368">(</span><span class="ident" id="5811369"><a href="/gostd/go/printer/nodes.go.html#5811335">list</a></span><span class="op" id="5811373">)</span>&nbsp;<span class="op" id="5811375">!=</span>&nbsp;<span class="num" id="5811378">1</span>&nbsp;<span class="op" id="5811380">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811384">return</span>&nbsp;<span class="builtintype" id="5811391">false</span>&nbsp;<span class="comment" id="5811397">//&nbsp;allow&nbsp;only&nbsp;one&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811425">f</span>&nbsp;<span class="op" id="5811427">:=</span>&nbsp;<span class="ident" id="5811430"><a href="/gostd/go/printer/nodes.go.html#5811335">list</a></span><span class="op" id="5811434">[</span><span class="num" id="5811435">0</span><span class="op" id="5811436">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811439">if</span>&nbsp;<span class="ident" id="5811442"><a href="/gostd/go/printer/nodes.go.html#5811425">f</a></span><span class="op" id="5811443">.</span><span class="ident" id="5811444"><a href="/gostd/go/ast/ast.go.html#3798469">Tag</a></span>&nbsp;<span class="op" id="5811448">!=</span>&nbsp;<span class="builtintype" id="5811451">nil</span>&nbsp;<span class="op" id="5811455">||</span>&nbsp;<span class="ident" id="5811458"><a href="/gostd/go/printer/nodes.go.html#5811425">f</a></span><span class="op" id="5811459">.</span><span class="ident" id="5811460"><a href="/gostd/go/ast/ast.go.html#3798513">Comment</a></span>&nbsp;<span class="op" id="5811468">!=</span>&nbsp;<span class="builtintype" id="5811471">nil</span>&nbsp;<span class="op" id="5811475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811479">return</span>&nbsp;<span class="builtintype" id="5811486">false</span>&nbsp;<span class="comment" id="5811492">//&nbsp;don&#39;t&nbsp;allow&nbsp;tags&nbsp;or&nbsp;comments</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5811528">//&nbsp;only&nbsp;name(s)&nbsp;and&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811554">const</span>&nbsp;<span class="ident" id="5811560">maxSize</span>&nbsp;<span class="op" id="5811568">=</span>&nbsp;<span class="num" id="5811570">30</span>&nbsp;<span class="comment" id="5811573">//&nbsp;adjust&nbsp;as&nbsp;appropriate,&nbsp;this&nbsp;is&nbsp;an&nbsp;approximate&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811629">namesSize</span>&nbsp;<span class="op" id="5811639">:=</span>&nbsp;<span class="ident" id="5811642"><a href="/gostd/go/printer/nodes.go.html#5811084">identListSize</a></span><span class="op" id="5811655">(</span><span class="ident" id="5811656"><a href="/gostd/go/printer/nodes.go.html#5811425">f</a></span><span class="op" id="5811657">.</span><span class="ident" id="5811658"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5811663">,</span>&nbsp;<span class="ident" id="5811665"><a href="/gostd/go/printer/nodes.go.html#5811560">maxSize</a></span><span class="op" id="5811672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811675">if</span>&nbsp;<span class="ident" id="5811678"><a href="/gostd/go/printer/nodes.go.html#5811629">namesSize</a></span>&nbsp;<span class="op" id="5811688">&gt;</span>&nbsp;<span class="num" id="5811690">0</span>&nbsp;<span class="op" id="5811692">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811696"><a href="/gostd/go/printer/nodes.go.html#5811629">namesSize</a></span>&nbsp;<span class="op" id="5811706">=</span>&nbsp;<span class="num" id="5811708">1</span>&nbsp;<span class="comment" id="5811710">//&nbsp;blank&nbsp;between&nbsp;names&nbsp;and&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5811744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811747">typeSize</span>&nbsp;<span class="op" id="5811756">:=</span>&nbsp;<span class="ident" id="5811759"><a href="/gostd/go/printer/nodes.go.html#5811304">p</a></span><span class="op" id="5811760">.</span><span class="ident" id="5811761"><a href="/gostd/go/printer/nodes.go.html#5837559">nodeSize</a></span><span class="op" id="5811769">(</span><span class="ident" id="5811770"><a href="/gostd/go/printer/nodes.go.html#5811425">f</a></span><span class="op" id="5811771">.</span><span class="ident" id="5811772"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5811776">,</span>&nbsp;<span class="ident" id="5811778"><a href="/gostd/go/printer/nodes.go.html#5811560">maxSize</a></span><span class="op" id="5811785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5811788">return</span>&nbsp;<span class="ident" id="5811795"><a href="/gostd/go/printer/nodes.go.html#5811629">namesSize</a></span><span class="op" id="5811804">+</span><span class="ident" id="5811805"><a href="/gostd/go/printer/nodes.go.html#5811747">typeSize</a></span>&nbsp;<span class="op" id="5811814">&lt;=</span>&nbsp;<span class="ident" id="5811817"><a href="/gostd/go/printer/nodes.go.html#5811560">maxSize</a></span><br>
<span class="lineno"></span><span class="op" id="5811825">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="5811828">func</span>&nbsp;<span class="op" id="5811833">(</span><span class="ident" id="5811834">p</span>&nbsp;<span class="op" id="5811836">*</span><span class="ident" id="5811837"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5811844">)</span>&nbsp;<span class="ident" id="5811846">setLineComment</span><span class="op" id="5811860">(</span><span class="ident" id="5811861">text</span>&nbsp;<span class="builtintype" id="5811866">string</span><span class="op" id="5811872">)</span>&nbsp;<span class="op" id="5811874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5811877"><a href="/gostd/go/printer/nodes.go.html#5811834">p</a></span><span class="op" id="5811878">.</span><span class="ident" id="5811879"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5811889">(</span><span class="op" id="5811890">&amp;</span><span class="ident" id="5811891"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5811894">.</span><span class="ident" id="5811895"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="5811907">{</span><span class="ident" id="5811908"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span><span class="op" id="5811912">:</span>&nbsp;<span class="op" id="5811914">[</span><span class="op" id="5811915">]</span><span class="op" id="5811916">*</span><span class="ident" id="5811917"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5811920">.</span><span class="ident" id="5811921"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><span class="op" id="5811928">{</span><span class="op" id="5811929">{</span><span class="ident" id="5811930"><a href="/gostd/go/ast/ast.go.html#3795654">Slash</a></span><span class="op" id="5811935">:</span>&nbsp;<span class="ident" id="5811937"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5811942">.</span><span class="ident" id="5811943"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5811948">,</span>&nbsp;<span class="ident" id="5811950"><a href="/gostd/go/ast/ast.go.html#3795711">Text</a></span><span class="op" id="5811954">:</span>&nbsp;<span class="ident" id="5811956"><a href="/gostd/go/printer/nodes.go.html#5811861">text</a></span><span class="op" id="5811960">}</span><span class="op" id="5811961">}</span><span class="op" id="5811962">}</span><span class="op" id="5811963">)</span><br>
<span class="lineno"></span><span class="op" id="5811965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="keyword" id="5811968">func</span>&nbsp;<span class="op" id="5811973">(</span><span class="ident" id="5811974">p</span>&nbsp;<span class="op" id="5811976">*</span><span class="ident" id="5811977"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5811984">)</span>&nbsp;<span class="ident" id="5811986">fieldList</span><span class="op" id="5811995">(</span><span class="ident" id="5811996">fields</span>&nbsp;<span class="op" id="5812003">*</span><span class="ident" id="5812004"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5812007">.</span><span class="ident" id="5812008"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5812017">,</span>&nbsp;<span class="ident" id="5812019">isStruct</span><span class="op" id="5812027">,</span>&nbsp;<span class="ident" id="5812029">isIncomplete</span>&nbsp;<span class="builtintype" id="5812042">bool</span><span class="op" id="5812046">)</span>&nbsp;<span class="op" id="5812048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812051">lbrace</span>&nbsp;<span class="op" id="5812058">:=</span>&nbsp;<span class="ident" id="5812061"><a href="/gostd/go/printer/nodes.go.html#5811996">fields</a></span><span class="op" id="5812067">.</span><span class="ident" id="5812068"><a href="/gostd/go/ast/ast.go.html#3798878">Opening</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812077">list</span>&nbsp;<span class="op" id="5812082">:=</span>&nbsp;<span class="ident" id="5812085"><a href="/gostd/go/printer/nodes.go.html#5811996">fields</a></span><span class="op" id="5812091">.</span><span class="ident" id="5812092"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812098">rbrace</span>&nbsp;<span class="op" id="5812105">:=</span>&nbsp;<span class="ident" id="5812108"><a href="/gostd/go/printer/nodes.go.html#5811996">fields</a></span><span class="op" id="5812114">.</span><span class="ident" id="5812115"><a href="/gostd/go/ast/ast.go.html#3798987">Closing</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812124">hasComments</span>&nbsp;<span class="op" id="5812136">:=</span>&nbsp;<span class="ident" id="5812139"><a href="/gostd/go/printer/nodes.go.html#5812029">isIncomplete</a></span>&nbsp;<span class="op" id="5812152">||</span>&nbsp;<span class="ident" id="5812155"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812156">.</span><span class="ident" id="5812157"><a href="/gostd/go/printer/printer.go.html#5847174">commentBefore</a></span><span class="op" id="5812170">(</span><span class="ident" id="5812171"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812172">.</span><span class="ident" id="5812173"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5812179">(</span><span class="ident" id="5812180"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5812186">)</span><span class="op" id="5812187">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812190">srcIsOneLine</span>&nbsp;<span class="op" id="5812203">:=</span>&nbsp;<span class="ident" id="5812206"><a href="/gostd/go/printer/nodes.go.html#5812051">lbrace</a></span><span class="op" id="5812212">.</span><span class="ident" id="5812213"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5812220">(</span><span class="op" id="5812221">)</span>&nbsp;<span class="op" id="5812223">&amp;&amp;</span>&nbsp;<span class="ident" id="5812226"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5812232">.</span><span class="ident" id="5812233"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5812240">(</span><span class="op" id="5812241">)</span>&nbsp;<span class="op" id="5812243">&amp;&amp;</span>&nbsp;<span class="ident" id="5812246"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812247">.</span><span class="ident" id="5812248"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5812255">(</span><span class="ident" id="5812256"><a href="/gostd/go/printer/nodes.go.html#5812051">lbrace</a></span><span class="op" id="5812262">)</span>&nbsp;<span class="op" id="5812264">==</span>&nbsp;<span class="ident" id="5812267"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812268">.</span><span class="ident" id="5812269"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5812276">(</span><span class="ident" id="5812277"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5812283">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5812287">if</span>&nbsp;<span class="op" id="5812290">!</span><span class="ident" id="5812291"><a href="/gostd/go/printer/nodes.go.html#5812124">hasComments</a></span>&nbsp;<span class="op" id="5812303">&amp;&amp;</span>&nbsp;<span class="ident" id="5812306"><a href="/gostd/go/printer/nodes.go.html#5812190">srcIsOneLine</a></span>&nbsp;<span class="op" id="5812319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5812323">//&nbsp;possibly&nbsp;a&nbsp;one-line&nbsp;struct/interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5812365">if</span>&nbsp;<span class="builtinfunc" id="5812368">len</span><span class="op" id="5812371">(</span><span class="ident" id="5812372"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5812376">)</span>&nbsp;<span class="op" id="5812378">==</span>&nbsp;<span class="num" id="5812381">0</span>&nbsp;<span class="op" id="5812383">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5812388">//&nbsp;no&nbsp;blank&nbsp;between&nbsp;keyword&nbsp;and&nbsp;{}&nbsp;in&nbsp;this&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812439"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812440">.</span><span class="builtinfunc" id="5812441"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5812446">(</span><span class="ident" id="5812447"><a href="/gostd/go/printer/nodes.go.html#5812051">lbrace</a></span><span class="op" id="5812453">,</span>&nbsp;<span class="ident" id="5812455"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5812460">.</span><span class="ident" id="5812461"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5812467">,</span>&nbsp;<span class="ident" id="5812469"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5812475">,</span>&nbsp;<span class="ident" id="5812477"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5812482">.</span><span class="ident" id="5812483"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5812489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5812494">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5812503">}</span>&nbsp;<span class="keyword" id="5812505">else</span>&nbsp;<span class="keyword" id="5812510">if</span>&nbsp;<span class="ident" id="5812513"><a href="/gostd/go/printer/nodes.go.html#5812019">isStruct</a></span>&nbsp;<span class="op" id="5812522">&amp;&amp;</span>&nbsp;<span class="ident" id="5812525"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812526">.</span><span class="ident" id="5812527"><a href="/gostd/go/printer/nodes.go.html#5811316">isOneLineFieldList</a></span><span class="op" id="5812545">(</span><span class="ident" id="5812546"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5812550">)</span>&nbsp;<span class="op" id="5812552">{</span>&nbsp;<span class="comment" id="5812554">//&nbsp;for&nbsp;now&nbsp;ignore&nbsp;interfaces</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5812586">//&nbsp;small&nbsp;enough&nbsp;-&nbsp;print&nbsp;on&nbsp;one&nbsp;line</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5812625">//&nbsp;(don&#39;t&nbsp;use&nbsp;identList&nbsp;and&nbsp;ignore&nbsp;source&nbsp;line&nbsp;breaks)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812683"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812684">.</span><span class="builtinfunc" id="5812685"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5812690">(</span><span class="ident" id="5812691"><a href="/gostd/go/printer/nodes.go.html#5812051">lbrace</a></span><span class="op" id="5812697">,</span>&nbsp;<span class="ident" id="5812699"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5812704">.</span><span class="ident" id="5812705"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5812711">,</span>&nbsp;<span class="ident" id="5812713"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5812718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812723">f</span>&nbsp;<span class="op" id="5812725">:=</span>&nbsp;<span class="ident" id="5812728"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5812732">[</span><span class="num" id="5812733">0</span><span class="op" id="5812734">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5812739">for</span>&nbsp;<span class="ident" id="5812743">i</span><span class="op" id="5812744">,</span>&nbsp;<span class="ident" id="5812746">x</span>&nbsp;<span class="op" id="5812748">:=</span>&nbsp;<span class="keyword" id="5812751">range</span>&nbsp;<span class="ident" id="5812757"><a href="/gostd/go/printer/nodes.go.html#5812723">f</a></span><span class="op" id="5812758">.</span><span class="ident" id="5812759"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span>&nbsp;<span class="op" id="5812765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5812771">if</span>&nbsp;<span class="ident" id="5812774"><a href="/gostd/go/printer/nodes.go.html#5812743">i</a></span>&nbsp;<span class="op" id="5812776">&gt;</span>&nbsp;<span class="num" id="5812778">0</span>&nbsp;<span class="op" id="5812780">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5812787">//&nbsp;no&nbsp;comments&nbsp;so&nbsp;no&nbsp;need&nbsp;for&nbsp;comma&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812837"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812838">.</span><span class="builtinfunc" id="5812839"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5812844">(</span><span class="ident" id="5812845"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5812850">.</span><span class="ident" id="5812851"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5812856">,</span>&nbsp;<span class="ident" id="5812858"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5812863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5812869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812875"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812876">.</span><span class="ident" id="5812877"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5812881">(</span><span class="ident" id="5812882"><a href="/gostd/go/printer/nodes.go.html#5812746">x</a></span><span class="op" id="5812883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5812888">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5812893">if</span>&nbsp;<span class="builtinfunc" id="5812896">len</span><span class="op" id="5812899">(</span><span class="ident" id="5812900"><a href="/gostd/go/printer/nodes.go.html#5812723">f</a></span><span class="op" id="5812901">.</span><span class="ident" id="5812902"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5812907">)</span>&nbsp;<span class="op" id="5812909">&gt;</span>&nbsp;<span class="num" id="5812911">0</span>&nbsp;<span class="op" id="5812913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812919"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812920">.</span><span class="builtinfunc" id="5812921"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5812926">(</span><span class="ident" id="5812927"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5812932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5812937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812942"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812943">.</span><span class="ident" id="5812944"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5812948">(</span><span class="ident" id="5812949"><a href="/gostd/go/printer/nodes.go.html#5812723">f</a></span><span class="op" id="5812950">.</span><span class="ident" id="5812951"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5812955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5812960"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5812961">.</span><span class="builtinfunc" id="5812962"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5812967">(</span><span class="ident" id="5812968"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5812973">,</span>&nbsp;<span class="ident" id="5812975"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5812981">,</span>&nbsp;<span class="ident" id="5812983"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5812988">.</span><span class="ident" id="5812989"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5812995">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813000">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5813015">//&nbsp;hasComments&nbsp;||&nbsp;!srcIsOneLine</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813049"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813050">.</span><span class="builtinfunc" id="5813051"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813056">(</span><span class="ident" id="5813057"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5813062">,</span>&nbsp;<span class="ident" id="5813064"><a href="/gostd/go/printer/nodes.go.html#5812051">lbrace</a></span><span class="op" id="5813070">,</span>&nbsp;<span class="ident" id="5813072"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5813077">.</span><span class="ident" id="5813078"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5813084">,</span>&nbsp;<span class="ident" id="5813086"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5813092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813095">if</span>&nbsp;<span class="ident" id="5813098"><a href="/gostd/go/printer/nodes.go.html#5812124">hasComments</a></span>&nbsp;<span class="op" id="5813110">||</span>&nbsp;<span class="builtinfunc" id="5813113">len</span><span class="op" id="5813116">(</span><span class="ident" id="5813117"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5813121">)</span>&nbsp;<span class="op" id="5813123">&gt;</span>&nbsp;<span class="num" id="5813125">0</span>&nbsp;<span class="op" id="5813127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813131"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813132">.</span><span class="builtinfunc" id="5813133"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813138">(</span><span class="ident" id="5813139"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5813147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813154">if</span>&nbsp;<span class="ident" id="5813157"><a href="/gostd/go/printer/nodes.go.html#5812019">isStruct</a></span>&nbsp;<span class="op" id="5813166">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813171">sep</span>&nbsp;<span class="op" id="5813175">:=</span>&nbsp;<span class="ident" id="5813178"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813185">if</span>&nbsp;<span class="builtinfunc" id="5813188">len</span><span class="op" id="5813191">(</span><span class="ident" id="5813192"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5813196">)</span>&nbsp;<span class="op" id="5813198">==</span>&nbsp;<span class="num" id="5813201">1</span>&nbsp;<span class="op" id="5813203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813208"><a href="/gostd/go/printer/nodes.go.html#5813171">sep</a></span>&nbsp;<span class="op" id="5813212">=</span>&nbsp;<span class="ident" id="5813214"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813226">var</span>&nbsp;<span class="ident" id="5813230">line</span>&nbsp;<span class="builtintype" id="5813235">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813241">for</span>&nbsp;<span class="ident" id="5813245">i</span><span class="op" id="5813246">,</span>&nbsp;<span class="ident" id="5813248">f</span>&nbsp;<span class="op" id="5813250">:=</span>&nbsp;<span class="keyword" id="5813253">range</span>&nbsp;<span class="ident" id="5813259"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span>&nbsp;<span class="op" id="5813264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813269">if</span>&nbsp;<span class="ident" id="5813272"><a href="/gostd/go/printer/nodes.go.html#5813245">i</a></span>&nbsp;<span class="op" id="5813274">&gt;</span>&nbsp;<span class="num" id="5813276">0</span>&nbsp;<span class="op" id="5813278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813284"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813285">.</span><span class="ident" id="5813286"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5813295">(</span><span class="ident" id="5813296"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813297">.</span><span class="ident" id="5813298"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5813305">(</span><span class="ident" id="5813306"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813307">.</span><span class="ident" id="5813308"><a href="/gostd/go/ast/ast.go.html#3798579">Pos</a></span><span class="op" id="5813311">(</span><span class="op" id="5813312">)</span><span class="op" id="5813313">)</span><span class="op" id="5813314">,</span>&nbsp;<span class="num" id="5813316">1</span><span class="op" id="5813317">,</span>&nbsp;<span class="ident" id="5813319"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5813325">,</span>&nbsp;<span class="ident" id="5813327"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813328">.</span><span class="ident" id="5813329"><a href="/gostd/go/printer/printer.go.html#5848352">linesFrom</a></span><span class="op" id="5813338">(</span><span class="ident" id="5813339"><a href="/gostd/go/printer/nodes.go.html#5813230">line</a></span><span class="op" id="5813343">)</span>&nbsp;<span class="op" id="5813345">&gt;</span>&nbsp;<span class="num" id="5813347">0</span><span class="op" id="5813348">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813358">extraTabs</span>&nbsp;<span class="op" id="5813368">:=</span>&nbsp;<span class="num" id="5813371">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813376"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813377">.</span><span class="ident" id="5813378"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5813388">(</span><span class="ident" id="5813389"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813390">.</span><span class="ident" id="5813391"><a href="/gostd/go/ast/ast.go.html#3798274">Doc</a></span><span class="op" id="5813394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813399"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813400">.</span><span class="ident" id="5813401"><a href="/gostd/go/printer/printer.go.html#5848018">recordLine</a></span><span class="op" id="5813411">(</span><span class="op" id="5813412">&amp;</span><span class="ident" id="5813413"><a href="/gostd/go/printer/nodes.go.html#5813230">line</a></span><span class="op" id="5813417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813422">if</span>&nbsp;<span class="builtinfunc" id="5813425">len</span><span class="op" id="5813428">(</span><span class="ident" id="5813429"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813430">.</span><span class="ident" id="5813431"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5813436">)</span>&nbsp;<span class="op" id="5813438">&gt;</span>&nbsp;<span class="num" id="5813440">0</span>&nbsp;<span class="op" id="5813442">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5813448">//&nbsp;named&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813468"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813469">.</span><span class="ident" id="5813470"><a href="/gostd/go/printer/nodes.go.html#5803377">identList</a></span><span class="op" id="5813479">(</span><span class="ident" id="5813480"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813481">.</span><span class="ident" id="5813482"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5813487">,</span>&nbsp;<span class="builtintype" id="5813489">false</span><span class="op" id="5813494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813500"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813501">.</span><span class="builtinfunc" id="5813502"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813507">(</span><span class="ident" id="5813508"><a href="/gostd/go/printer/nodes.go.html#5813171">sep</a></span><span class="op" id="5813511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813517"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813518">.</span><span class="ident" id="5813519"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5813523">(</span><span class="ident" id="5813524"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813525">.</span><span class="ident" id="5813526"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5813530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813536"><a href="/gostd/go/printer/nodes.go.html#5813358">extraTabs</a></span>&nbsp;<span class="op" id="5813546">=</span>&nbsp;<span class="num" id="5813548">1</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813553">}</span>&nbsp;<span class="keyword" id="5813555">else</span>&nbsp;<span class="op" id="5813560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5813566">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813589"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813590">.</span><span class="ident" id="5813591"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5813595">(</span><span class="ident" id="5813596"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813597">.</span><span class="ident" id="5813598"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5813602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813608"><a href="/gostd/go/printer/nodes.go.html#5813358">extraTabs</a></span>&nbsp;<span class="op" id="5813618">=</span>&nbsp;<span class="num" id="5813620">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813625">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813630">if</span>&nbsp;<span class="ident" id="5813633"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813634">.</span><span class="ident" id="5813635"><a href="/gostd/go/ast/ast.go.html#3798469">Tag</a></span>&nbsp;<span class="op" id="5813639">!=</span>&nbsp;<span class="builtintype" id="5813642">nil</span>&nbsp;<span class="op" id="5813646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813652">if</span>&nbsp;<span class="builtinfunc" id="5813655">len</span><span class="op" id="5813658">(</span><span class="ident" id="5813659"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813660">.</span><span class="ident" id="5813661"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5813666">)</span>&nbsp;<span class="op" id="5813668">&gt;</span>&nbsp;<span class="num" id="5813670">0</span>&nbsp;<span class="op" id="5813672">&amp;&amp;</span>&nbsp;<span class="ident" id="5813675"><a href="/gostd/go/printer/nodes.go.html#5813171">sep</a></span>&nbsp;<span class="op" id="5813679">==</span>&nbsp;<span class="ident" id="5813682"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span>&nbsp;<span class="op" id="5813687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813694"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813695">.</span><span class="builtinfunc" id="5813696"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813701">(</span><span class="ident" id="5813702"><a href="/gostd/go/printer/nodes.go.html#5813171">sep</a></span><span class="op" id="5813705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813717"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813718">.</span><span class="builtinfunc" id="5813719"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813724">(</span><span class="ident" id="5813725"><a href="/gostd/go/printer/nodes.go.html#5813171">sep</a></span><span class="op" id="5813728">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813734"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813735">.</span><span class="ident" id="5813736"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5813740">(</span><span class="ident" id="5813741"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813742">.</span><span class="ident" id="5813743"><a href="/gostd/go/ast/ast.go.html#3798469">Tag</a></span><span class="op" id="5813746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813752"><a href="/gostd/go/printer/nodes.go.html#5813358">extraTabs</a></span>&nbsp;<span class="op" id="5813762">=</span>&nbsp;<span class="num" id="5813764">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813774">if</span>&nbsp;<span class="ident" id="5813777"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813778">.</span><span class="ident" id="5813779"><a href="/gostd/go/ast/ast.go.html#3798513">Comment</a></span>&nbsp;<span class="op" id="5813787">!=</span>&nbsp;<span class="builtintype" id="5813790">nil</span>&nbsp;<span class="op" id="5813794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813800">for</span>&nbsp;<span class="op" id="5813804">;</span>&nbsp;<span class="ident" id="5813806"><a href="/gostd/go/printer/nodes.go.html#5813358">extraTabs</a></span>&nbsp;<span class="op" id="5813816">&gt;</span>&nbsp;<span class="num" id="5813818">0</span><span class="op" id="5813819">;</span>&nbsp;<span class="ident" id="5813821"><a href="/gostd/go/printer/nodes.go.html#5813358">extraTabs</a></span><span class="op" id="5813830">--</span>&nbsp;<span class="op" id="5813833">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813840"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813841">.</span><span class="builtinfunc" id="5813842"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813847">(</span><span class="ident" id="5813848"><a href="/gostd/go/printer/nodes.go.html#5813171">sep</a></span><span class="op" id="5813851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813863"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813864">.</span><span class="ident" id="5813865"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5813875">(</span><span class="ident" id="5813876"><a href="/gostd/go/printer/nodes.go.html#5813248">f</a></span><span class="op" id="5813877">.</span><span class="ident" id="5813878"><a href="/gostd/go/ast/ast.go.html#3798513">Comment</a></span><span class="op" id="5813885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813894">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813898">if</span>&nbsp;<span class="ident" id="5813901"><a href="/gostd/go/printer/nodes.go.html#5812029">isIncomplete</a></span>&nbsp;<span class="op" id="5813914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5813919">if</span>&nbsp;<span class="builtinfunc" id="5813922">len</span><span class="op" id="5813925">(</span><span class="ident" id="5813926"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5813930">)</span>&nbsp;<span class="op" id="5813932">&gt;</span>&nbsp;<span class="num" id="5813934">0</span>&nbsp;<span class="op" id="5813936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813942"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813943">.</span><span class="builtinfunc" id="5813944"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5813949">(</span><span class="ident" id="5813950"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5813958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5813963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5813968"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813969">.</span><span class="ident" id="5813970"><a href="/gostd/go/printer/printer.go.html#5871758">flush</a></span><span class="op" id="5813975">(</span><span class="ident" id="5813976"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5813977">.</span><span class="ident" id="5813978"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5813984">(</span><span class="ident" id="5813985"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5813991">)</span><span class="op" id="5813992">,</span>&nbsp;<span class="ident" id="5813994"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5813999">.</span><span class="ident" id="5814000"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5814006">)</span>&nbsp;<span class="comment" id="5814008">//&nbsp;make&nbsp;sure&nbsp;we&nbsp;don&#39;t&nbsp;lose&nbsp;the&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814060"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814061">.</span><span class="ident" id="5814062"><a href="/gostd/go/printer/nodes.go.html#5811846">setLineComment</a></span><span class="op" id="5814076">(</span><span class="string" id="5814077">&#34;//&nbsp;contains&nbsp;filtered&nbsp;or&nbsp;unexported&nbsp;fields&#34;</span><span class="op" id="5814120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814128">}</span>&nbsp;<span class="keyword" id="5814130">else</span>&nbsp;<span class="op" id="5814135">{</span>&nbsp;<span class="comment" id="5814137">//&nbsp;interface</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5814153">var</span>&nbsp;<span class="ident" id="5814157">line</span>&nbsp;<span class="builtintype" id="5814162">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5814168">for</span>&nbsp;<span class="ident" id="5814172">i</span><span class="op" id="5814173">,</span>&nbsp;<span class="ident" id="5814175">f</span>&nbsp;<span class="op" id="5814177">:=</span>&nbsp;<span class="keyword" id="5814180">range</span>&nbsp;<span class="ident" id="5814186"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span>&nbsp;<span class="op" id="5814191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5814196">if</span>&nbsp;<span class="ident" id="5814199"><a href="/gostd/go/printer/nodes.go.html#5814172">i</a></span>&nbsp;<span class="op" id="5814201">&gt;</span>&nbsp;<span class="num" id="5814203">0</span>&nbsp;<span class="op" id="5814205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814211"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814212">.</span><span class="ident" id="5814213"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5814222">(</span><span class="ident" id="5814223"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814224">.</span><span class="ident" id="5814225"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5814232">(</span><span class="ident" id="5814233"><a href="/gostd/go/printer/nodes.go.html#5814175">f</a></span><span class="op" id="5814234">.</span><span class="ident" id="5814235"><a href="/gostd/go/ast/ast.go.html#3798579">Pos</a></span><span class="op" id="5814238">(</span><span class="op" id="5814239">)</span><span class="op" id="5814240">)</span><span class="op" id="5814241">,</span>&nbsp;<span class="num" id="5814243">1</span><span class="op" id="5814244">,</span>&nbsp;<span class="ident" id="5814246"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5814252">,</span>&nbsp;<span class="ident" id="5814254"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814255">.</span><span class="ident" id="5814256"><a href="/gostd/go/printer/printer.go.html#5848352">linesFrom</a></span><span class="op" id="5814265">(</span><span class="ident" id="5814266"><a href="/gostd/go/printer/nodes.go.html#5814157">line</a></span><span class="op" id="5814270">)</span>&nbsp;<span class="op" id="5814272">&gt;</span>&nbsp;<span class="num" id="5814274">0</span><span class="op" id="5814275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814280">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814285"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814286">.</span><span class="ident" id="5814287"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5814297">(</span><span class="ident" id="5814298"><a href="/gostd/go/printer/nodes.go.html#5814175">f</a></span><span class="op" id="5814299">.</span><span class="ident" id="5814300"><a href="/gostd/go/ast/ast.go.html#3798274">Doc</a></span><span class="op" id="5814303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814308"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814309">.</span><span class="ident" id="5814310"><a href="/gostd/go/printer/printer.go.html#5848018">recordLine</a></span><span class="op" id="5814320">(</span><span class="op" id="5814321">&amp;</span><span class="ident" id="5814322"><a href="/gostd/go/printer/nodes.go.html#5814157">line</a></span><span class="op" id="5814326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5814331">if</span>&nbsp;<span class="ident" id="5814334">ftyp</span><span class="op" id="5814338">,</span>&nbsp;<span class="ident" id="5814340">isFtyp</span>&nbsp;<span class="op" id="5814347">:=</span>&nbsp;<span class="ident" id="5814350"><a href="/gostd/go/printer/nodes.go.html#5814175">f</a></span><span class="op" id="5814351">.</span><span class="ident" id="5814352"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5814356">.</span><span class="op" id="5814357">(</span><span class="op" id="5814358">*</span><span class="ident" id="5814359"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5814362">.</span><span class="ident" id="5814363"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="5814371">)</span><span class="op" id="5814372">;</span>&nbsp;<span class="ident" id="5814374"><a href="/gostd/go/printer/nodes.go.html#5814340">isFtyp</a></span>&nbsp;<span class="op" id="5814381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5814387">//&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814401"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814402">.</span><span class="ident" id="5814403"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5814407">(</span><span class="ident" id="5814408"><a href="/gostd/go/printer/nodes.go.html#5814175">f</a></span><span class="op" id="5814409">.</span><span class="ident" id="5814410"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5814415">[</span><span class="num" id="5814416">0</span><span class="op" id="5814417">]</span><span class="op" id="5814418">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814424"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814425">.</span><span class="ident" id="5814426"><a href="/gostd/go/printer/nodes.go.html#5810692">signature</a></span><span class="op" id="5814435">(</span><span class="ident" id="5814436"><a href="/gostd/go/printer/nodes.go.html#5814334">ftyp</a></span><span class="op" id="5814440">.</span><span class="ident" id="5814441"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="5814447">,</span>&nbsp;<span class="ident" id="5814449"><a href="/gostd/go/printer/nodes.go.html#5814334">ftyp</a></span><span class="op" id="5814453">.</span><span class="ident" id="5814454"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="5814461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814466">}</span>&nbsp;<span class="keyword" id="5814468">else</span>&nbsp;<span class="op" id="5814473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5814479">//&nbsp;embedded&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814505"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814506">.</span><span class="ident" id="5814507"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5814511">(</span><span class="ident" id="5814512"><a href="/gostd/go/printer/nodes.go.html#5814175">f</a></span><span class="op" id="5814513">.</span><span class="ident" id="5814514"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5814518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814523">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814528"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814529">.</span><span class="ident" id="5814530"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5814540">(</span><span class="ident" id="5814541"><a href="/gostd/go/printer/nodes.go.html#5814175">f</a></span><span class="op" id="5814542">.</span><span class="ident" id="5814543"><a href="/gostd/go/ast/ast.go.html#3798513">Comment</a></span><span class="op" id="5814550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5814558">if</span>&nbsp;<span class="ident" id="5814561"><a href="/gostd/go/printer/nodes.go.html#5812029">isIncomplete</a></span>&nbsp;<span class="op" id="5814574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5814579">if</span>&nbsp;<span class="builtinfunc" id="5814582">len</span><span class="op" id="5814585">(</span><span class="ident" id="5814586"><a href="/gostd/go/printer/nodes.go.html#5812077">list</a></span><span class="op" id="5814590">)</span>&nbsp;<span class="op" id="5814592">&gt;</span>&nbsp;<span class="num" id="5814594">0</span>&nbsp;<span class="op" id="5814596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814602"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814603">.</span><span class="builtinfunc" id="5814604"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5814609">(</span><span class="ident" id="5814610"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5814618">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814628"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814629">.</span><span class="ident" id="5814630"><a href="/gostd/go/printer/printer.go.html#5871758">flush</a></span><span class="op" id="5814635">(</span><span class="ident" id="5814636"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814637">.</span><span class="ident" id="5814638"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5814644">(</span><span class="ident" id="5814645"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5814651">)</span><span class="op" id="5814652">,</span>&nbsp;<span class="ident" id="5814654"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5814659">.</span><span class="ident" id="5814660"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5814666">)</span>&nbsp;<span class="comment" id="5814668">//&nbsp;make&nbsp;sure&nbsp;we&nbsp;don&#39;t&nbsp;lose&nbsp;the&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814720"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814721">.</span><span class="ident" id="5814722"><a href="/gostd/go/printer/nodes.go.html#5811846">setLineComment</a></span><span class="op" id="5814736">(</span><span class="string" id="5814737">&#34;//&nbsp;contains&nbsp;filtered&nbsp;or&nbsp;unexported&nbsp;methods&#34;</span><span class="op" id="5814781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5814789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5814792"><a href="/gostd/go/printer/nodes.go.html#5811974">p</a></span><span class="op" id="5814793">.</span><span class="builtinfunc" id="5814794"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5814799">(</span><span class="ident" id="5814800"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5814808">,</span>&nbsp;<span class="ident" id="5814810"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5814818">,</span>&nbsp;<span class="ident" id="5814820"><a href="/gostd/go/printer/nodes.go.html#5812098">rbrace</a></span><span class="op" id="5814826">,</span>&nbsp;<span class="ident" id="5814828"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5814833">.</span><span class="ident" id="5814834"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5814840">)</span><br>
<span class="lineno"></span><span class="op" id="5814842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5814845">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">505</span><span class="comment" id="5814925">//&nbsp;Expressions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5814941">func</span>&nbsp;<span class="ident" id="5814946">walkBinary</span><span class="op" id="5814956">(</span><span class="ident" id="5814957">e</span>&nbsp;<span class="op" id="5814959">*</span><span class="ident" id="5814960"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5814963">.</span><span class="ident" id="5814964"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5814974">)</span>&nbsp;<span class="op" id="5814976">(</span><span class="ident" id="5814977">has4</span><span class="op" id="5814981">,</span>&nbsp;<span class="ident" id="5814983">has5</span>&nbsp;<span class="builtintype" id="5814988">bool</span><span class="op" id="5814992">,</span>&nbsp;<span class="ident" id="5814994">maxProblem</span>&nbsp;<span class="builtintype" id="5815005">int</span><span class="op" id="5815008">)</span>&nbsp;<span class="op" id="5815010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815013">switch</span>&nbsp;<span class="ident" id="5815020"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815021">.</span><span class="ident" id="5815022"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5815024">.</span><span class="ident" id="5815025"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5815035">(</span><span class="op" id="5815036">)</span>&nbsp;<span class="op" id="5815038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815041">case</span>&nbsp;<span class="num" id="5815046">4</span><span class="op" id="5815047">:</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815051"><a href="/gostd/go/printer/nodes.go.html#5814977">has4</a></span>&nbsp;<span class="op" id="5815056">=</span>&nbsp;<span class="builtintype" id="5815058">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815064">case</span>&nbsp;<span class="num" id="5815069">5</span><span class="op" id="5815070">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815074"><a href="/gostd/go/printer/nodes.go.html#5814983">has5</a></span>&nbsp;<span class="op" id="5815079">=</span>&nbsp;<span class="builtintype" id="5815081">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815091">switch</span>&nbsp;<span class="ident" id="5815098">l</span>&nbsp;<span class="op" id="5815100">:=</span>&nbsp;<span class="ident" id="5815103"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815104">.</span><span class="ident" id="5815105"><a href="/gostd/go/ast/ast.go.html#3803566">X</a></span><span class="op" id="5815106">.</span><span class="op" id="5815107">(</span><span class="keyword" id="5815108">type</span><span class="op" id="5815112">)</span>&nbsp;<span class="op" id="5815114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815117">case</span>&nbsp;<span class="op" id="5815122">*</span><span class="ident" id="5815123"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5815126">.</span><span class="ident" id="5815127"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5815137">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815141">if</span>&nbsp;<span class="ident" id="5815144"><a href="/gostd/go/printer/nodes.go.html#5815098">l</a></span><span class="op" id="5815145">.</span><span class="ident" id="5815146"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5815148">.</span><span class="ident" id="5815149"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5815159">(</span><span class="op" id="5815160">)</span>&nbsp;<span class="op" id="5815162">&lt;</span>&nbsp;<span class="ident" id="5815164"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815165">.</span><span class="ident" id="5815166"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5815168">.</span><span class="ident" id="5815169"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5815179">(</span><span class="op" id="5815180">)</span>&nbsp;<span class="op" id="5815182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5815187">//&nbsp;parens&nbsp;will&nbsp;be&nbsp;inserted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5815218">//&nbsp;pretend&nbsp;this&nbsp;is&nbsp;an&nbsp;*ast.ParenExpr&nbsp;and&nbsp;do&nbsp;nothing.</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815274">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815286">h4</span><span class="op" id="5815288">,</span>&nbsp;<span class="ident" id="5815290">h5</span><span class="op" id="5815292">,</span>&nbsp;<span class="ident" id="5815294">mp</span>&nbsp;<span class="op" id="5815297">:=</span>&nbsp;<span class="ident" id="5815300"><a href="/gostd/go/printer/nodes.go.html#5814946">walkBinary</a></span><span class="op" id="5815310">(</span><span class="ident" id="5815311"><a href="/gostd/go/printer/nodes.go.html#5815098">l</a></span><span class="op" id="5815312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815316"><a href="/gostd/go/printer/nodes.go.html#5814977">has4</a></span>&nbsp;<span class="op" id="5815321">=</span>&nbsp;<span class="ident" id="5815323"><a href="/gostd/go/printer/nodes.go.html#5814977">has4</a></span>&nbsp;<span class="op" id="5815328">||</span>&nbsp;<span class="ident" id="5815331"><a href="/gostd/go/printer/nodes.go.html#5815286">h4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815336"><a href="/gostd/go/printer/nodes.go.html#5814983">has5</a></span>&nbsp;<span class="op" id="5815341">=</span>&nbsp;<span class="ident" id="5815343"><a href="/gostd/go/printer/nodes.go.html#5814983">has5</a></span>&nbsp;<span class="op" id="5815348">||</span>&nbsp;<span class="ident" id="5815351"><a href="/gostd/go/printer/nodes.go.html#5815290">h5</a></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815356">if</span>&nbsp;<span class="ident" id="5815359"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815370">&lt;</span>&nbsp;<span class="ident" id="5815372"><a href="/gostd/go/printer/nodes.go.html#5815294">mp</a></span>&nbsp;<span class="op" id="5815375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815380"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815391">=</span>&nbsp;<span class="ident" id="5815393"><a href="/gostd/go/printer/nodes.go.html#5815294">mp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815405">switch</span>&nbsp;<span class="ident" id="5815412">r</span>&nbsp;<span class="op" id="5815414">:=</span>&nbsp;<span class="ident" id="5815417"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815418">.</span><span class="ident" id="5815419"><a href="/gostd/go/ast/ast.go.html#3803672">Y</a></span><span class="op" id="5815420">.</span><span class="op" id="5815421">(</span><span class="keyword" id="5815422">type</span><span class="op" id="5815426">)</span>&nbsp;<span class="op" id="5815428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815431">case</span>&nbsp;<span class="op" id="5815436">*</span><span class="ident" id="5815437"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5815440">.</span><span class="ident" id="5815441"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5815451">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815455">if</span>&nbsp;<span class="ident" id="5815458"><a href="/gostd/go/printer/nodes.go.html#5815412">r</a></span><span class="op" id="5815459">.</span><span class="ident" id="5815460"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5815462">.</span><span class="ident" id="5815463"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5815473">(</span><span class="op" id="5815474">)</span>&nbsp;<span class="op" id="5815476">&lt;=</span>&nbsp;<span class="ident" id="5815479"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815480">.</span><span class="ident" id="5815481"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5815483">.</span><span class="ident" id="5815484"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5815494">(</span><span class="op" id="5815495">)</span>&nbsp;<span class="op" id="5815497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5815502">//&nbsp;parens&nbsp;will&nbsp;be&nbsp;inserted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5815533">//&nbsp;pretend&nbsp;this&nbsp;is&nbsp;an&nbsp;*ast.ParenExpr&nbsp;and&nbsp;do&nbsp;nothing.</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815589">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815601">h4</span><span class="op" id="5815603">,</span>&nbsp;<span class="ident" id="5815605">h5</span><span class="op" id="5815607">,</span>&nbsp;<span class="ident" id="5815609">mp</span>&nbsp;<span class="op" id="5815612">:=</span>&nbsp;<span class="ident" id="5815615"><a href="/gostd/go/printer/nodes.go.html#5814946">walkBinary</a></span><span class="op" id="5815625">(</span><span class="ident" id="5815626"><a href="/gostd/go/printer/nodes.go.html#5815412">r</a></span><span class="op" id="5815627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815631"><a href="/gostd/go/printer/nodes.go.html#5814977">has4</a></span>&nbsp;<span class="op" id="5815636">=</span>&nbsp;<span class="ident" id="5815638"><a href="/gostd/go/printer/nodes.go.html#5814977">has4</a></span>&nbsp;<span class="op" id="5815643">||</span>&nbsp;<span class="ident" id="5815646"><a href="/gostd/go/printer/nodes.go.html#5815601">h4</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815651"><a href="/gostd/go/printer/nodes.go.html#5814983">has5</a></span>&nbsp;<span class="op" id="5815656">=</span>&nbsp;<span class="ident" id="5815658"><a href="/gostd/go/printer/nodes.go.html#5814983">has5</a></span>&nbsp;<span class="op" id="5815663">||</span>&nbsp;<span class="ident" id="5815666"><a href="/gostd/go/printer/nodes.go.html#5815605">h5</a></span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815671">if</span>&nbsp;<span class="ident" id="5815674"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815685">&lt;</span>&nbsp;<span class="ident" id="5815687"><a href="/gostd/go/printer/nodes.go.html#5815609">mp</a></span>&nbsp;<span class="op" id="5815690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815695"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815706">=</span>&nbsp;<span class="ident" id="5815708"><a href="/gostd/go/printer/nodes.go.html#5815609">mp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815717">case</span>&nbsp;<span class="op" id="5815722">*</span><span class="ident" id="5815723"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5815726">.</span><span class="ident" id="5815727"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="5815735">:</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815739">if</span>&nbsp;<span class="ident" id="5815742"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815743">.</span><span class="ident" id="5815744"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span>&nbsp;<span class="op" id="5815747">==</span>&nbsp;<span class="ident" id="5815750"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5815755">.</span><span class="ident" id="5815756"><a href="/gostd/go/token/token.go.html#3890012">QUO</a></span>&nbsp;<span class="op" id="5815760">{</span>&nbsp;<span class="comment" id="5815762">//&nbsp;`*/`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815773"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815784">=</span>&nbsp;<span class="num" id="5815786">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815794">case</span>&nbsp;<span class="op" id="5815799">*</span><span class="ident" id="5815800"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5815803">.</span><span class="ident" id="5815804"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5815813">:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815817">switch</span>&nbsp;<span class="ident" id="5815824"><a href="/gostd/go/printer/nodes.go.html#5814957">e</a></span><span class="op" id="5815825">.</span><span class="ident" id="5815826"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5815828">.</span><span class="ident" id="5815829"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="5815835">(</span><span class="op" id="5815836">)</span>&nbsp;<span class="op" id="5815838">+</span>&nbsp;<span class="ident" id="5815840"><a href="/gostd/go/printer/nodes.go.html#5815412">r</a></span><span class="op" id="5815841">.</span><span class="ident" id="5815842"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span><span class="op" id="5815844">.</span><span class="ident" id="5815845"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="5815851">(</span><span class="op" id="5815852">)</span>&nbsp;<span class="op" id="5815854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815858">case</span>&nbsp;<span class="string" id="5815863">&#34;/*&#34;</span><span class="op" id="5815867">,</span>&nbsp;<span class="string" id="5815869">&#34;&amp;&amp;&#34;</span><span class="op" id="5815873">,</span>&nbsp;<span class="string" id="5815875">&#34;&amp;^&#34;</span><span class="op" id="5815879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815884"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815895">=</span>&nbsp;<span class="num" id="5815897">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815901">case</span>&nbsp;<span class="string" id="5815906">&#34;++&#34;</span><span class="op" id="5815910">,</span>&nbsp;<span class="string" id="5815912">&#34;--&#34;</span><span class="op" id="5815916">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815921">if</span>&nbsp;<span class="ident" id="5815924"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815935">&lt;</span>&nbsp;<span class="num" id="5815937">4</span>&nbsp;<span class="op" id="5815939">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5815945"><a href="/gostd/go/printer/nodes.go.html#5814994">maxProblem</a></span>&nbsp;<span class="op" id="5815956">=</span>&nbsp;<span class="num" id="5815958">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5815970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5815973">return</span><br>
<span class="lineno">560</span><span class="op" id="5815980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5815983">func</span>&nbsp;<span class="ident" id="5815988">cutoff</span><span class="op" id="5815994">(</span><span class="ident" id="5815995">e</span>&nbsp;<span class="op" id="5815997">*</span><span class="ident" id="5815998"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5816001">.</span><span class="ident" id="5816002"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5816012">,</span>&nbsp;<span class="ident" id="5816014">depth</span>&nbsp;<span class="builtintype" id="5816020">int</span><span class="op" id="5816023">)</span>&nbsp;<span class="builtintype" id="5816025">int</span>&nbsp;<span class="op" id="5816029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5816032">has4</span><span class="op" id="5816036">,</span>&nbsp;<span class="ident" id="5816038">has5</span><span class="op" id="5816042">,</span>&nbsp;<span class="ident" id="5816044">maxProblem</span>&nbsp;<span class="op" id="5816055">:=</span>&nbsp;<span class="ident" id="5816058"><a href="/gostd/go/printer/nodes.go.html#5814946">walkBinary</a></span><span class="op" id="5816068">(</span><span class="ident" id="5816069"><a href="/gostd/go/printer/nodes.go.html#5815995">e</a></span><span class="op" id="5816070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816073">if</span>&nbsp;<span class="ident" id="5816076"><a href="/gostd/go/printer/nodes.go.html#5816044">maxProblem</a></span>&nbsp;<span class="op" id="5816087">&gt;</span>&nbsp;<span class="num" id="5816089">0</span>&nbsp;<span class="op" id="5816091">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816095">return</span>&nbsp;<span class="ident" id="5816102"><a href="/gostd/go/printer/nodes.go.html#5816044">maxProblem</a></span>&nbsp;<span class="op" id="5816113">+</span>&nbsp;<span class="num" id="5816115">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5816118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816121">if</span>&nbsp;<span class="ident" id="5816124"><a href="/gostd/go/printer/nodes.go.html#5816032">has4</a></span>&nbsp;<span class="op" id="5816129">&amp;&amp;</span>&nbsp;<span class="ident" id="5816132"><a href="/gostd/go/printer/nodes.go.html#5816038">has5</a></span>&nbsp;<span class="op" id="5816137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816141">if</span>&nbsp;<span class="ident" id="5816144"><a href="/gostd/go/printer/nodes.go.html#5816014">depth</a></span>&nbsp;<span class="op" id="5816150">==</span>&nbsp;<span class="num" id="5816153">1</span>&nbsp;<span class="op" id="5816155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816160">return</span>&nbsp;<span class="num" id="5816167">5</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5816171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816175">return</span>&nbsp;<span class="num" id="5816182">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5816185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816188">if</span>&nbsp;<span class="ident" id="5816191"><a href="/gostd/go/printer/nodes.go.html#5816014">depth</a></span>&nbsp;<span class="op" id="5816197">==</span>&nbsp;<span class="num" id="5816200">1</span>&nbsp;<span class="op" id="5816202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816206">return</span>&nbsp;<span class="num" id="5816213">6</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5816216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816219">return</span>&nbsp;<span class="num" id="5816226">4</span><br>
<span class="lineno"></span><span class="op" id="5816228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5816231">func</span>&nbsp;<span class="ident" id="5816236">diffPrec</span><span class="op" id="5816244">(</span><span class="ident" id="5816245">expr</span>&nbsp;<span class="ident" id="5816250"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5816253">.</span><span class="ident" id="5816254"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5816258">,</span>&nbsp;<span class="ident" id="5816260">prec</span>&nbsp;<span class="builtintype" id="5816265">int</span><span class="op" id="5816268">)</span>&nbsp;<span class="builtintype" id="5816270">int</span>&nbsp;<span class="op" id="5816274">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5816277">x</span><span class="op" id="5816278">,</span>&nbsp;<span class="ident" id="5816280">ok</span>&nbsp;<span class="op" id="5816283">:=</span>&nbsp;<span class="ident" id="5816286"><a href="/gostd/go/printer/nodes.go.html#5816245">expr</a></span><span class="op" id="5816290">.</span><span class="op" id="5816291">(</span><span class="op" id="5816292">*</span><span class="ident" id="5816293"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5816296">.</span><span class="ident" id="5816297"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5816307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816310">if</span>&nbsp;<span class="op" id="5816313">!</span><span class="ident" id="5816314"><a href="/gostd/go/printer/nodes.go.html#5816280">ok</a></span>&nbsp;<span class="op" id="5816317">||</span>&nbsp;<span class="ident" id="5816320"><a href="/gostd/go/printer/nodes.go.html#5816260">prec</a></span>&nbsp;<span class="op" id="5816325">!=</span>&nbsp;<span class="ident" id="5816328"><a href="/gostd/go/printer/nodes.go.html#5816277">x</a></span><span class="op" id="5816329">.</span><span class="ident" id="5816330"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5816332">.</span><span class="ident" id="5816333"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5816343">(</span><span class="op" id="5816344">)</span>&nbsp;<span class="op" id="5816346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816350">return</span>&nbsp;<span class="num" id="5816357">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5816360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816363">return</span>&nbsp;<span class="num" id="5816370">0</span><br>
<span class="lineno">585</span><span class="op" id="5816372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5816375">func</span>&nbsp;<span class="ident" id="5816380">reduceDepth</span><span class="op" id="5816391">(</span><span class="ident" id="5816392">depth</span>&nbsp;<span class="builtintype" id="5816398">int</span><span class="op" id="5816401">)</span>&nbsp;<span class="builtintype" id="5816403">int</span>&nbsp;<span class="op" id="5816407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5816410"><a href="/gostd/go/printer/nodes.go.html#5816392">depth</a></span><span class="op" id="5816415">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816419">if</span>&nbsp;<span class="ident" id="5816422"><a href="/gostd/go/printer/nodes.go.html#5816392">depth</a></span>&nbsp;<span class="op" id="5816428">&lt;</span>&nbsp;<span class="num" id="5816430">1</span>&nbsp;<span class="op" id="5816432">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5816436"><a href="/gostd/go/printer/nodes.go.html#5816392">depth</a></span>&nbsp;<span class="op" id="5816442">=</span>&nbsp;<span class="num" id="5816444">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5816447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5816450">return</span>&nbsp;<span class="ident" id="5816457"><a href="/gostd/go/printer/nodes.go.html#5816392">depth</a></span><br>
<span class="lineno"></span><span class="op" id="5816463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="5816466">//&nbsp;Format&nbsp;the&nbsp;binary&nbsp;expression:&nbsp;decide&nbsp;the&nbsp;cutoff&nbsp;and&nbsp;then&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5816534">//&nbsp;Let&#39;s&nbsp;call&nbsp;depth&nbsp;==&nbsp;1&nbsp;Normal&nbsp;mode,&nbsp;and&nbsp;depth&nbsp;&gt;&nbsp;1&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno"></span><span class="comment" id="5816600">//&nbsp;(Algorithm&nbsp;suggestion&nbsp;by&nbsp;Russ&nbsp;Cox.)</span><br>
<span class="lineno"></span><span class="comment" id="5816639">//</span><br>
<span class="lineno"></span><span class="comment" id="5816642">//&nbsp;The&nbsp;precedences&nbsp;are:</span><br>
<span class="lineno">600</span><span class="comment" id="5816666">//&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;/&nbsp;&nbsp;%&nbsp;&nbsp;&lt;&lt;&nbsp;&nbsp;&gt;&gt;&nbsp;&nbsp;&amp;&nbsp;&nbsp;&amp;^</span><br>
<span class="lineno"></span><span class="comment" id="5816706">//&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;-&nbsp;&nbsp;|&nbsp;&nbsp;^</span><br>
<span class="lineno"></span><span class="comment" id="5816734">//&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&nbsp;&nbsp;!=&nbsp;&nbsp;&lt;&nbsp;&nbsp;&lt;=&nbsp;&nbsp;&gt;&nbsp;&nbsp;&gt;=</span><br>
<span class="lineno"></span><span class="comment" id="5816772">//&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;</span><br>
<span class="lineno"></span><span class="comment" id="5816792">//&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||</span><br>
<span class="lineno">605</span><span class="comment" id="5816812">//</span><br>
<span class="lineno"></span><span class="comment" id="5816815">//&nbsp;The&nbsp;only&nbsp;decision&nbsp;is&nbsp;whether&nbsp;there&nbsp;will&nbsp;be&nbsp;spaces&nbsp;around&nbsp;levels&nbsp;4&nbsp;and&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="5816891">//&nbsp;There&nbsp;are&nbsp;never&nbsp;spaces&nbsp;at&nbsp;level&nbsp;6&nbsp;(unary),&nbsp;and&nbsp;always&nbsp;spaces&nbsp;at&nbsp;levels&nbsp;3&nbsp;and&nbsp;below.</span><br>
<span class="lineno"></span><span class="comment" id="5816978">//</span><br>
<span class="lineno"></span><span class="comment" id="5816981">//&nbsp;To&nbsp;choose&nbsp;the&nbsp;cutoff,&nbsp;look&nbsp;at&nbsp;the&nbsp;whole&nbsp;expression&nbsp;but&nbsp;excluding&nbsp;primary</span><br>
<span class="lineno">610</span><span class="comment" id="5817057">//&nbsp;expressions&nbsp;(function&nbsp;calls,&nbsp;parenthesized&nbsp;exprs),&nbsp;and&nbsp;apply&nbsp;these&nbsp;rules:</span><br>
<span class="lineno"></span><span class="comment" id="5817134">//</span><br>
<span class="lineno"></span><span class="comment" id="5817137">//&nbsp;&nbsp;&nbsp;&nbsp;1)&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;binary&nbsp;operator&nbsp;with&nbsp;a&nbsp;right&nbsp;side&nbsp;unary&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="5817205">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;would&nbsp;clash&nbsp;without&nbsp;a&nbsp;space,&nbsp;the&nbsp;cutoff&nbsp;must&nbsp;be&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="5817276">//</span><br>
<span class="lineno">615</span><span class="comment" id="5817279">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;&nbsp;&nbsp;6</span><br>
<span class="lineno"></span><span class="comment" id="5817288">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;&nbsp;&nbsp;&nbsp;6</span><br>
<span class="lineno"></span><span class="comment" id="5817297">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;^&nbsp;&nbsp;&nbsp;&nbsp;6</span><br>
<span class="lineno"></span><span class="comment" id="5817306">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++&nbsp;&nbsp;&nbsp;&nbsp;5</span><br>
<span class="lineno"></span><span class="comment" id="5817315">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;&nbsp;&nbsp;&nbsp;5</span><br>
<span class="lineno">620</span><span class="comment" id="5817324">//</span><br>
<span class="lineno"></span><span class="comment" id="5817327">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Comparison&nbsp;operators&nbsp;always&nbsp;have&nbsp;spaces&nbsp;around&nbsp;them.)</span><br>
<span class="lineno"></span><span class="comment" id="5817393">//</span><br>
<span class="lineno"></span><span class="comment" id="5817396">//&nbsp;&nbsp;&nbsp;&nbsp;2)&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;mix&nbsp;of&nbsp;level&nbsp;5&nbsp;and&nbsp;level&nbsp;4&nbsp;operators,&nbsp;then&nbsp;the&nbsp;cutoff</span><br>
<span class="lineno"></span><span class="comment" id="5817470">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;5&nbsp;(use&nbsp;spaces&nbsp;to&nbsp;distinguish&nbsp;precedence)&nbsp;in&nbsp;Normal&nbsp;mode</span><br>
<span class="lineno">625</span><span class="comment" id="5817535">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;4&nbsp;(never&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno"></span><span class="comment" id="5817583">//</span><br>
<span class="lineno"></span><span class="comment" id="5817586">//&nbsp;&nbsp;&nbsp;&nbsp;3)&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;level&nbsp;4&nbsp;operators&nbsp;or&nbsp;no&nbsp;level&nbsp;5&nbsp;operators,&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5817660">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cutoff&nbsp;is&nbsp;6&nbsp;(always&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Normal&nbsp;mode</span><br>
<span class="lineno"></span><span class="comment" id="5817713">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;4&nbsp;(never&nbsp;use&nbsp;spaces)&nbsp;in&nbsp;Compact&nbsp;mode.</span><br>
<span class="lineno">630</span><span class="comment" id="5817761">//</span><br>
<span class="lineno"></span><span class="keyword" id="5817764">func</span>&nbsp;<span class="op" id="5817769">(</span><span class="ident" id="5817770">p</span>&nbsp;<span class="op" id="5817772">*</span><span class="ident" id="5817773"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5817780">)</span>&nbsp;<span class="ident" id="5817782">binaryExpr</span><span class="op" id="5817792">(</span><span class="ident" id="5817793">x</span>&nbsp;<span class="op" id="5817795">*</span><span class="ident" id="5817796"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5817799">.</span><span class="ident" id="5817800"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5817810">,</span>&nbsp;<span class="ident" id="5817812">prec1</span><span class="op" id="5817817">,</span>&nbsp;<span class="ident" id="5817819">cutoff</span><span class="op" id="5817825">,</span>&nbsp;<span class="ident" id="5817827">depth</span>&nbsp;<span class="builtintype" id="5817833">int</span><span class="op" id="5817836">)</span>&nbsp;<span class="op" id="5817838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5817841">prec</span>&nbsp;<span class="op" id="5817846">:=</span>&nbsp;<span class="ident" id="5817849"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5817850">.</span><span class="ident" id="5817851"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5817853">.</span><span class="ident" id="5817854"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5817864">(</span><span class="op" id="5817865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5817868">if</span>&nbsp;<span class="ident" id="5817871"><a href="/gostd/go/printer/nodes.go.html#5817841">prec</a></span>&nbsp;<span class="op" id="5817876">&lt;</span>&nbsp;<span class="ident" id="5817878"><a href="/gostd/go/printer/nodes.go.html#5817812">prec1</a></span>&nbsp;<span class="op" id="5817884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5817888">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5817912">//&nbsp;Note:&nbsp;The&nbsp;parser&nbsp;inserts&nbsp;an&nbsp;ast.ParenExpr&nbsp;node;&nbsp;thus&nbsp;this&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5817980">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;only&nbsp;occur&nbsp;if&nbsp;the&nbsp;AST&nbsp;is&nbsp;created&nbsp;in&nbsp;a&nbsp;different&nbsp;way.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818048"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818049">.</span><span class="builtinfunc" id="5818050"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818055">(</span><span class="ident" id="5818056"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5818061">.</span><span class="ident" id="5818062"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5818068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818072"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818073">.</span><span class="ident" id="5818074"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5818079">(</span><span class="ident" id="5818080"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818081">,</span>&nbsp;<span class="ident" id="5818083"><a href="/gostd/go/printer/nodes.go.html#5816380">reduceDepth</a></span><span class="op" id="5818094">(</span><span class="ident" id="5818095"><a href="/gostd/go/printer/nodes.go.html#5817827">depth</a></span><span class="op" id="5818100">)</span><span class="op" id="5818101">)</span>&nbsp;<span class="comment" id="5818103">//&nbsp;parentheses&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818144"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818145">.</span><span class="builtinfunc" id="5818146"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818151">(</span><span class="ident" id="5818152"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5818157">.</span><span class="ident" id="5818158"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5818164">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818168">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5818176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818180">printBlank</span>&nbsp;<span class="op" id="5818191">:=</span>&nbsp;<span class="ident" id="5818194"><a href="/gostd/go/printer/nodes.go.html#5817841">prec</a></span>&nbsp;<span class="op" id="5818199">&lt;</span>&nbsp;<span class="ident" id="5818201"><a href="/gostd/go/printer/nodes.go.html#5817819">cutoff</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818210">ws</span>&nbsp;<span class="op" id="5818213">:=</span>&nbsp;<span class="ident" id="5818216"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818224"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818225">.</span><span class="ident" id="5818226"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5818231">(</span><span class="ident" id="5818232"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818233">.</span><span class="ident" id="5818234"><a href="/gostd/go/ast/ast.go.html#3803566">X</a></span><span class="op" id="5818235">,</span>&nbsp;<span class="ident" id="5818237"><a href="/gostd/go/printer/nodes.go.html#5817841">prec</a></span><span class="op" id="5818241">,</span>&nbsp;<span class="ident" id="5818243"><a href="/gostd/go/printer/nodes.go.html#5817827">depth</a></span><span class="op" id="5818248">+</span><span class="ident" id="5818249"><a href="/gostd/go/printer/nodes.go.html#5816236">diffPrec</a></span><span class="op" id="5818257">(</span><span class="ident" id="5818258"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818259">.</span><span class="ident" id="5818260"><a href="/gostd/go/ast/ast.go.html#3803566">X</a></span><span class="op" id="5818261">,</span>&nbsp;<span class="ident" id="5818263"><a href="/gostd/go/printer/nodes.go.html#5817841">prec</a></span><span class="op" id="5818267">)</span><span class="op" id="5818268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818271">if</span>&nbsp;<span class="ident" id="5818274"><a href="/gostd/go/printer/nodes.go.html#5818180">printBlank</a></span>&nbsp;<span class="op" id="5818285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818289"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818290">.</span><span class="builtinfunc" id="5818291"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818296">(</span><span class="ident" id="5818297"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5818302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5818305">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818308">xline</span>&nbsp;<span class="op" id="5818314">:=</span>&nbsp;<span class="ident" id="5818317"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818318">.</span><span class="ident" id="5818319"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5818322">.</span><span class="ident" id="5818323"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="comment" id="5818328">//&nbsp;before&nbsp;the&nbsp;operator&nbsp;(it&nbsp;may&nbsp;be&nbsp;on&nbsp;the&nbsp;next&nbsp;line!)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818382">yline</span>&nbsp;<span class="op" id="5818388">:=</span>&nbsp;<span class="ident" id="5818391"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818392">.</span><span class="ident" id="5818393"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5818400">(</span><span class="ident" id="5818401"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818402">.</span><span class="ident" id="5818403"><a href="/gostd/go/ast/ast.go.html#3803672">Y</a></span><span class="op" id="5818404">.</span><span class="ident" id="5818405"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5818408">(</span><span class="op" id="5818409">)</span><span class="op" id="5818410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818413"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818414">.</span><span class="builtinfunc" id="5818415"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818420">(</span><span class="ident" id="5818421"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818422">.</span><span class="ident" id="5818423"><a href="/gostd/go/ast/ast.go.html#3803602">OpPos</a></span><span class="op" id="5818428">,</span>&nbsp;<span class="ident" id="5818430"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818431">.</span><span class="ident" id="5818432"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5818434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818437">if</span>&nbsp;<span class="ident" id="5818440"><a href="/gostd/go/printer/nodes.go.html#5818308">xline</a></span>&nbsp;<span class="op" id="5818446">!=</span>&nbsp;<span class="ident" id="5818449"><a href="/gostd/go/printer/nodes.go.html#5818382">yline</a></span>&nbsp;<span class="op" id="5818455">&amp;&amp;</span>&nbsp;<span class="ident" id="5818458"><a href="/gostd/go/printer/nodes.go.html#5818308">xline</a></span>&nbsp;<span class="op" id="5818464">&gt;</span>&nbsp;<span class="num" id="5818466">0</span>&nbsp;<span class="op" id="5818468">&amp;&amp;</span>&nbsp;<span class="ident" id="5818471"><a href="/gostd/go/printer/nodes.go.html#5818382">yline</a></span>&nbsp;<span class="op" id="5818477">&gt;</span>&nbsp;<span class="num" id="5818479">0</span>&nbsp;<span class="op" id="5818481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5818485">//&nbsp;at&nbsp;least&nbsp;one&nbsp;line&nbsp;break,&nbsp;but&nbsp;respect&nbsp;an&nbsp;extra&nbsp;empty&nbsp;line</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5818547">//&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818566">if</span>&nbsp;<span class="ident" id="5818569"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818570">.</span><span class="ident" id="5818571"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5818580">(</span><span class="ident" id="5818581"><a href="/gostd/go/printer/nodes.go.html#5818382">yline</a></span><span class="op" id="5818586">,</span>&nbsp;<span class="num" id="5818588">1</span><span class="op" id="5818589">,</span>&nbsp;<span class="ident" id="5818591"><a href="/gostd/go/printer/nodes.go.html#5818210">ws</a></span><span class="op" id="5818593">,</span>&nbsp;<span class="builtintype" id="5818595">true</span><span class="op" id="5818599">)</span>&nbsp;<span class="op" id="5818601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818606"><a href="/gostd/go/printer/nodes.go.html#5818210">ws</a></span>&nbsp;<span class="op" id="5818609">=</span>&nbsp;<span class="ident" id="5818611"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818621"><a href="/gostd/go/printer/nodes.go.html#5818180">printBlank</a></span>&nbsp;<span class="op" id="5818632">=</span>&nbsp;<span class="builtintype" id="5818634">false</span>&nbsp;<span class="comment" id="5818640">//&nbsp;no&nbsp;blank&nbsp;after&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5818671">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5818674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818677">if</span>&nbsp;<span class="ident" id="5818680"><a href="/gostd/go/printer/nodes.go.html#5818180">printBlank</a></span>&nbsp;<span class="op" id="5818691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818695"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818696">.</span><span class="builtinfunc" id="5818697"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818702">(</span><span class="ident" id="5818703"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5818708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5818711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818714"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818715">.</span><span class="ident" id="5818716"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5818721">(</span><span class="ident" id="5818722"><a href="/gostd/go/printer/nodes.go.html#5817793">x</a></span><span class="op" id="5818723">.</span><span class="ident" id="5818724"><a href="/gostd/go/ast/ast.go.html#3803672">Y</a></span><span class="op" id="5818725">,</span>&nbsp;<span class="ident" id="5818727"><a href="/gostd/go/printer/nodes.go.html#5817841">prec</a></span><span class="op" id="5818731">+</span><span class="num" id="5818732">1</span><span class="op" id="5818733">,</span>&nbsp;<span class="ident" id="5818735"><a href="/gostd/go/printer/nodes.go.html#5817827">depth</a></span><span class="op" id="5818740">+</span><span class="num" id="5818741">1</span><span class="op" id="5818742">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818745">if</span>&nbsp;<span class="ident" id="5818748"><a href="/gostd/go/printer/nodes.go.html#5818210">ws</a></span>&nbsp;<span class="op" id="5818751">==</span>&nbsp;<span class="ident" id="5818754"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span>&nbsp;<span class="op" id="5818761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818765"><a href="/gostd/go/printer/nodes.go.html#5817770">p</a></span><span class="op" id="5818766">.</span><span class="builtinfunc" id="5818767"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818772">(</span><span class="ident" id="5818773"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5818781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5818784">}</span><br>
<span class="lineno"></span><span class="op" id="5818786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">670</span><span class="keyword" id="5818789">func</span>&nbsp;<span class="ident" id="5818794">isBinary</span><span class="op" id="5818802">(</span><span class="ident" id="5818803">expr</span>&nbsp;<span class="ident" id="5818808"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5818811">.</span><span class="ident" id="5818812"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5818816">)</span>&nbsp;<span class="builtintype" id="5818818">bool</span>&nbsp;<span class="op" id="5818823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818826">_</span><span class="op" id="5818827">,</span>&nbsp;<span class="ident" id="5818829">ok</span>&nbsp;<span class="op" id="5818832">:=</span>&nbsp;<span class="ident" id="5818835"><a href="/gostd/go/printer/nodes.go.html#5818803">expr</a></span><span class="op" id="5818839">.</span><span class="op" id="5818840">(</span><span class="op" id="5818841">*</span><span class="ident" id="5818842"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5818845">.</span><span class="ident" id="5818846"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5818856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818859">return</span>&nbsp;<span class="ident" id="5818866"><a href="/gostd/go/printer/nodes.go.html#5818829">ok</a></span><br>
<span class="lineno"></span><span class="op" id="5818869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="5818872">func</span>&nbsp;<span class="op" id="5818877">(</span><span class="ident" id="5818878">p</span>&nbsp;<span class="op" id="5818880">*</span><span class="ident" id="5818881"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5818888">)</span>&nbsp;<span class="ident" id="5818890">expr1</span><span class="op" id="5818895">(</span><span class="ident" id="5818896">expr</span>&nbsp;<span class="ident" id="5818901"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5818904">.</span><span class="ident" id="5818905"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5818909">,</span>&nbsp;<span class="ident" id="5818911">prec1</span><span class="op" id="5818916">,</span>&nbsp;<span class="ident" id="5818918">depth</span>&nbsp;<span class="builtintype" id="5818924">int</span><span class="op" id="5818927">)</span>&nbsp;<span class="op" id="5818929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5818932"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5818933">.</span><span class="builtinfunc" id="5818934"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5818939">(</span><span class="ident" id="5818940"><a href="/gostd/go/printer/nodes.go.html#5818896">expr</a></span><span class="op" id="5818944">.</span><span class="ident" id="5818945"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5818948">(</span><span class="op" id="5818949">)</span><span class="op" id="5818950">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818954">switch</span>&nbsp;<span class="ident" id="5818961">x</span>&nbsp;<span class="op" id="5818963">:=</span>&nbsp;<span class="ident" id="5818966"><a href="/gostd/go/printer/nodes.go.html#5818896">expr</a></span><span class="op" id="5818970">.</span><span class="op" id="5818971">(</span><span class="keyword" id="5818972">type</span><span class="op" id="5818976">)</span>&nbsp;<span class="op" id="5818978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5818981">case</span>&nbsp;<span class="op" id="5818986">*</span><span class="ident" id="5818987"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5818990">.</span><span class="ident" id="5818991"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5818998">:</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819002"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819003">.</span><span class="builtinfunc" id="5819004"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819009">(</span><span class="string" id="5819010">&#34;BadExpr&#34;</span><span class="op" id="5819019">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819023">case</span>&nbsp;<span class="op" id="5819028">*</span><span class="ident" id="5819029"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819032">.</span><span class="ident" id="5819033"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5819038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819042"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819043">.</span><span class="builtinfunc" id="5819044"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819049">(</span><span class="ident" id="5819050"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819051">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819055">case</span>&nbsp;<span class="op" id="5819060">*</span><span class="ident" id="5819061"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819064">.</span><span class="ident" id="5819065"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5819075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819079">if</span>&nbsp;<span class="ident" id="5819082"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span>&nbsp;<span class="op" id="5819088">&lt;</span>&nbsp;<span class="num" id="5819090">1</span>&nbsp;<span class="op" id="5819092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819097"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819098">.</span><span class="ident" id="5819099"><a href="/gostd/go/printer/printer.go.html#5845789">internalError</a></span><span class="op" id="5819112">(</span><span class="string" id="5819113">&#34;depth&nbsp;&lt;&nbsp;1:&#34;</span><span class="op" id="5819125">,</span>&nbsp;<span class="ident" id="5819127"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5819132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819137"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span>&nbsp;<span class="op" id="5819143">=</span>&nbsp;<span class="num" id="5819145">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5819149">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819153"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819154">.</span><span class="ident" id="5819155"><a href="/gostd/go/printer/nodes.go.html#5817782">binaryExpr</a></span><span class="op" id="5819165">(</span><span class="ident" id="5819166"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819167">,</span>&nbsp;<span class="ident" id="5819169"><a href="/gostd/go/printer/nodes.go.html#5818911">prec1</a></span><span class="op" id="5819174">,</span>&nbsp;<span class="ident" id="5819176"><a href="/gostd/go/printer/nodes.go.html#5815988">cutoff</a></span><span class="op" id="5819182">(</span><span class="ident" id="5819183"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819184">,</span>&nbsp;<span class="ident" id="5819186"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5819191">)</span><span class="op" id="5819192">,</span>&nbsp;<span class="ident" id="5819194"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5819199">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819203">case</span>&nbsp;<span class="op" id="5819208">*</span><span class="ident" id="5819209"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819212">.</span><span class="ident" id="5819213"><a href="/gostd/go/ast/ast.go.html#3803798">KeyValueExpr</a></span><span class="op" id="5819225">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819229"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819230">.</span><span class="ident" id="5819231"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5819235">(</span><span class="ident" id="5819236"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819237">.</span><span class="ident" id="5819238"><a href="/gostd/go/ast/ast.go.html#3803822">Key</a></span><span class="op" id="5819241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819245"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819246">.</span><span class="builtinfunc" id="5819247"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819252">(</span><span class="ident" id="5819253"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819254">.</span><span class="ident" id="5819255"><a href="/gostd/go/ast/ast.go.html#3803835">Colon</a></span><span class="op" id="5819260">,</span>&nbsp;<span class="ident" id="5819262"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819267">.</span><span class="ident" id="5819268"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5819273">,</span>&nbsp;<span class="ident" id="5819275"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5819280">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819284"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819285">.</span><span class="ident" id="5819286"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5819290">(</span><span class="ident" id="5819291"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819292">.</span><span class="ident" id="5819293"><a href="/gostd/go/ast/ast.go.html#3803872">Value</a></span><span class="op" id="5819298">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819302">case</span>&nbsp;<span class="op" id="5819307">*</span><span class="ident" id="5819308"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819311">.</span><span class="ident" id="5819312"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="5819320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819324">const</span>&nbsp;<span class="ident" id="5819330">prec</span>&nbsp;<span class="op" id="5819335">=</span>&nbsp;<span class="ident" id="5819337"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819342">.</span><span class="ident" id="5819343"><a href="/gostd/go/token/token.go.html#3893297">UnaryPrec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819355">if</span>&nbsp;<span class="ident" id="5819358"><a href="/gostd/go/printer/nodes.go.html#5819330">prec</a></span>&nbsp;<span class="op" id="5819363">&lt;</span>&nbsp;<span class="ident" id="5819365"><a href="/gostd/go/printer/nodes.go.html#5818911">prec1</a></span>&nbsp;<span class="op" id="5819371">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5819376">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819401"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819402">.</span><span class="builtinfunc" id="5819403"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819408">(</span><span class="ident" id="5819409"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819414">.</span><span class="ident" id="5819415"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5819421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819426"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819427">.</span><span class="builtinfunc" id="5819428"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819433">(</span><span class="ident" id="5819434"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819439">.</span><span class="ident" id="5819440"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span><span class="op" id="5819443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819448"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819449">.</span><span class="ident" id="5819450"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5819454">(</span><span class="ident" id="5819455"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819456">.</span><span class="ident" id="5819457"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="5819458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819463"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819464">.</span><span class="builtinfunc" id="5819465"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819470">(</span><span class="ident" id="5819471"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819476">.</span><span class="ident" id="5819477"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5819483">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5819487">}</span>&nbsp;<span class="keyword" id="5819489">else</span>&nbsp;<span class="op" id="5819494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5819499">//&nbsp;no&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819527"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819528">.</span><span class="builtinfunc" id="5819529"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819534">(</span><span class="ident" id="5819535"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819540">.</span><span class="ident" id="5819541"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span><span class="op" id="5819544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819549"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819550">.</span><span class="ident" id="5819551"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5819555">(</span><span class="ident" id="5819556"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819557">.</span><span class="ident" id="5819558"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="5819559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5819563">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819567">case</span>&nbsp;<span class="op" id="5819572">*</span><span class="ident" id="5819573"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819576">.</span><span class="ident" id="5819577"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5819586">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819590">const</span>&nbsp;<span class="ident" id="5819596">prec</span>&nbsp;<span class="op" id="5819601">=</span>&nbsp;<span class="ident" id="5819603"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819608">.</span><span class="ident" id="5819609"><a href="/gostd/go/token/token.go.html#3893297">UnaryPrec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819621">if</span>&nbsp;<span class="ident" id="5819624"><a href="/gostd/go/printer/nodes.go.html#5819596">prec</a></span>&nbsp;<span class="op" id="5819629">&lt;</span>&nbsp;<span class="ident" id="5819631"><a href="/gostd/go/printer/nodes.go.html#5818911">prec1</a></span>&nbsp;<span class="op" id="5819637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5819642">//&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819667"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819668">.</span><span class="builtinfunc" id="5819669"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819674">(</span><span class="ident" id="5819675"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819680">.</span><span class="ident" id="5819681"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5819687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819692"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819693">.</span><span class="ident" id="5819694"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5819698">(</span><span class="ident" id="5819699"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819705"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819706">.</span><span class="builtinfunc" id="5819707"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819712">(</span><span class="ident" id="5819713"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819718">.</span><span class="ident" id="5819719"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5819725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5819729">}</span>&nbsp;<span class="keyword" id="5819731">else</span>&nbsp;<span class="op" id="5819736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5819741">//&nbsp;no&nbsp;parenthesis&nbsp;needed</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819769"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819770">.</span><span class="builtinfunc" id="5819771"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819776">(</span><span class="ident" id="5819777"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819778">.</span><span class="ident" id="5819779"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span><span class="op" id="5819781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819786">if</span>&nbsp;<span class="ident" id="5819789"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819790">.</span><span class="ident" id="5819791"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span>&nbsp;<span class="op" id="5819794">==</span>&nbsp;<span class="ident" id="5819797"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5819802">.</span><span class="ident" id="5819803"><a href="/gostd/go/token/token.go.html#3890882">RANGE</a></span>&nbsp;<span class="op" id="5819809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5819815">//&nbsp;TODO(gri)&nbsp;Remove&nbsp;this&nbsp;code&nbsp;if&nbsp;it&nbsp;cannot&nbsp;be&nbsp;reached.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819874"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819875">.</span><span class="builtinfunc" id="5819876"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819881">(</span><span class="ident" id="5819882"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5819887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5819892">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819897"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819898">.</span><span class="ident" id="5819899"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5819904">(</span><span class="ident" id="5819905"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819906">.</span><span class="ident" id="5819907"><a href="/gostd/go/ast/ast.go.html#3803456">X</a></span><span class="op" id="5819908">,</span>&nbsp;<span class="ident" id="5819910"><a href="/gostd/go/printer/nodes.go.html#5819596">prec</a></span><span class="op" id="5819914">,</span>&nbsp;<span class="ident" id="5819916"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5819921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5819925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819929">case</span>&nbsp;<span class="op" id="5819934">*</span><span class="ident" id="5819935"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819938">.</span><span class="ident" id="5819939"><a href="/gostd/go/ast/ast.go.html#3800698">BasicLit</a></span><span class="op" id="5819947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819951"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819952">.</span><span class="builtinfunc" id="5819953"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5819958">(</span><span class="ident" id="5819959"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819960">)</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5819964">case</span>&nbsp;<span class="op" id="5819969">*</span><span class="ident" id="5819970"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5819973">.</span><span class="ident" id="5819974"><a href="/gostd/go/ast/ast.go.html#3801010">FuncLit</a></span><span class="op" id="5819981">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819985"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5819986">.</span><span class="ident" id="5819987"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5819991">(</span><span class="ident" id="5819992"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5819993">.</span><span class="ident" id="5819994"><a href="/gostd/go/ast/ast.go.html#3801029">Type</a></span><span class="op" id="5819998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820002"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820003">.</span><span class="ident" id="5820004"><a href="/gostd/go/printer/nodes.go.html#5839670">adjBlock</a></span><span class="op" id="5820012">(</span><span class="ident" id="5820013"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820014">.</span><span class="ident" id="5820015"><a href="/gostd/go/printer/nodes.go.html#5840445">distanceFrom</a></span><span class="op" id="5820027">(</span><span class="ident" id="5820028"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820029">.</span><span class="ident" id="5820030"><a href="/gostd/go/ast/ast.go.html#3801029">Type</a></span><span class="op" id="5820034">.</span><span class="ident" id="5820035"><a href="/gostd/go/ast/ast.go.html#3806892">Pos</a></span><span class="op" id="5820038">(</span><span class="op" id="5820039">)</span><span class="op" id="5820040">)</span><span class="op" id="5820041">,</span>&nbsp;<span class="ident" id="5820043"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5820048">,</span>&nbsp;<span class="ident" id="5820050"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820051">.</span><span class="ident" id="5820052"><a href="/gostd/go/ast/ast.go.html#3801064">Body</a></span><span class="op" id="5820056">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820060">case</span>&nbsp;<span class="op" id="5820065">*</span><span class="ident" id="5820066"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5820069">.</span><span class="ident" id="5820070"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5820079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820083">if</span>&nbsp;<span class="ident" id="5820086">_</span><span class="op" id="5820087">,</span>&nbsp;<span class="ident" id="5820089">hasParens</span>&nbsp;<span class="op" id="5820099">:=</span>&nbsp;<span class="ident" id="5820102"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820103">.</span><span class="ident" id="5820104"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5820105">.</span><span class="op" id="5820106">(</span><span class="op" id="5820107">*</span><span class="ident" id="5820108"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5820111">.</span><span class="ident" id="5820112"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5820121">)</span><span class="op" id="5820122">;</span>&nbsp;<span class="ident" id="5820124"><a href="/gostd/go/printer/nodes.go.html#5820089">hasParens</a></span>&nbsp;<span class="op" id="5820134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5820139">//&nbsp;don&#39;t&nbsp;print&nbsp;parentheses&nbsp;around&nbsp;an&nbsp;already&nbsp;parenthesized&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5820212">//&nbsp;TODO(gri)&nbsp;consider&nbsp;making&nbsp;this&nbsp;more&nbsp;general&nbsp;and&nbsp;incorporate&nbsp;precedence&nbsp;levels</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820296"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820297">.</span><span class="ident" id="5820298"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5820303">(</span><span class="ident" id="5820304"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820305">.</span><span class="ident" id="5820306"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5820307">,</span>&nbsp;<span class="ident" id="5820309"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5820314">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5820318">}</span>&nbsp;<span class="keyword" id="5820320">else</span>&nbsp;<span class="op" id="5820325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820330"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820331">.</span><span class="builtinfunc" id="5820332"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820337">(</span><span class="ident" id="5820338"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820343">.</span><span class="ident" id="5820344"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5820350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820355"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820356">.</span><span class="ident" id="5820357"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5820362">(</span><span class="ident" id="5820363"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820364">.</span><span class="ident" id="5820365"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5820366">,</span>&nbsp;<span class="ident" id="5820368"><a href="/gostd/go/printer/nodes.go.html#5816380">reduceDepth</a></span><span class="op" id="5820379">(</span><span class="ident" id="5820380"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5820385">)</span><span class="op" id="5820386">)</span>&nbsp;<span class="comment" id="5820388">//&nbsp;parentheses&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820430"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820431">.</span><span class="builtinfunc" id="5820432"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820437">(</span><span class="ident" id="5820438"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820439">.</span><span class="ident" id="5820440"><a href="/gostd/go/ast/ast.go.html#3801527">Rparen</a></span><span class="op" id="5820446">,</span>&nbsp;<span class="ident" id="5820448"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820453">.</span><span class="ident" id="5820454"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5820460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5820464">}</span><br>
<span class="lineno">745</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820468">case</span>&nbsp;<span class="op" id="5820473">*</span><span class="ident" id="5820474"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5820477">.</span><span class="ident" id="5820478"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5820490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820494"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820495">.</span><span class="ident" id="5820496"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5820501">(</span><span class="ident" id="5820502"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820503">.</span><span class="ident" id="5820504"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="5820505">,</span>&nbsp;<span class="ident" id="5820507"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820512">.</span><span class="ident" id="5820513"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5820524">,</span>&nbsp;<span class="ident" id="5820526"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5820531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820535"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820536">.</span><span class="builtinfunc" id="5820537"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820542">(</span><span class="ident" id="5820543"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820548">.</span><span class="ident" id="5820549"><a href="/gostd/go/token/token.go.html#3890615">PERIOD</a></span><span class="op" id="5820555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820559">if</span>&nbsp;<span class="ident" id="5820562">line</span>&nbsp;<span class="op" id="5820567">:=</span>&nbsp;<span class="ident" id="5820570"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820571">.</span><span class="ident" id="5820572"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5820579">(</span><span class="ident" id="5820580"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820581">.</span><span class="ident" id="5820582"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5820585">.</span><span class="ident" id="5820586"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="5820589">(</span><span class="op" id="5820590">)</span><span class="op" id="5820591">)</span><span class="op" id="5820592">;</span>&nbsp;<span class="ident" id="5820594"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820595">.</span><span class="ident" id="5820596"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5820599">.</span><span class="ident" id="5820600"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5820607">(</span><span class="op" id="5820608">)</span>&nbsp;<span class="op" id="5820610">&amp;&amp;</span>&nbsp;<span class="ident" id="5820613"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820614">.</span><span class="ident" id="5820615"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5820618">.</span><span class="ident" id="5820619"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5820624">&lt;</span>&nbsp;<span class="ident" id="5820626"><a href="/gostd/go/printer/nodes.go.html#5820562">line</a></span>&nbsp;<span class="op" id="5820631">{</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820636"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820637">.</span><span class="builtinfunc" id="5820638"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820643">(</span><span class="ident" id="5820644"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5820650">,</span>&nbsp;<span class="ident" id="5820652"><a href="/gostd/go/printer/printer.go.html#5843081">newline</a></span><span class="op" id="5820659">,</span>&nbsp;<span class="ident" id="5820661"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820662">.</span><span class="ident" id="5820663"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5820666">.</span><span class="ident" id="5820667"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="5820670">(</span><span class="op" id="5820671">)</span><span class="op" id="5820672">,</span>&nbsp;<span class="ident" id="5820674"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820675">.</span><span class="ident" id="5820676"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5820679">,</span>&nbsp;<span class="ident" id="5820681"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5820689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5820693">}</span>&nbsp;<span class="keyword" id="5820695">else</span>&nbsp;<span class="op" id="5820700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820705"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820706">.</span><span class="builtinfunc" id="5820707"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820712">(</span><span class="ident" id="5820713"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820714">.</span><span class="ident" id="5820715"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5820718">.</span><span class="ident" id="5820719"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="5820722">(</span><span class="op" id="5820723">)</span><span class="op" id="5820724">,</span>&nbsp;<span class="ident" id="5820726"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820727">.</span><span class="ident" id="5820728"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5820731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5820735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820739">case</span>&nbsp;<span class="op" id="5820744">*</span><span class="ident" id="5820745"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5820748">.</span><span class="ident" id="5820749"><a href="/gostd/go/ast/ast.go.html#3802482">TypeAssertExpr</a></span><span class="op" id="5820763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820767"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820768">.</span><span class="ident" id="5820769"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5820774">(</span><span class="ident" id="5820775"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820776">.</span><span class="ident" id="5820777"><a href="/gostd/go/ast/ast.go.html#3802508">X</a></span><span class="op" id="5820778">,</span>&nbsp;<span class="ident" id="5820780"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820785">.</span><span class="ident" id="5820786"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5820797">,</span>&nbsp;<span class="ident" id="5820799"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5820804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820808"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820809">.</span><span class="builtinfunc" id="5820810"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820815">(</span><span class="ident" id="5820816"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820821">.</span><span class="ident" id="5820822"><a href="/gostd/go/token/token.go.html#3890615">PERIOD</a></span><span class="op" id="5820828">,</span>&nbsp;<span class="ident" id="5820830"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820831">.</span><span class="ident" id="5820832"><a href="/gostd/go/ast/ast.go.html#3802541">Lparen</a></span><span class="op" id="5820838">,</span>&nbsp;<span class="ident" id="5820840"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820845">.</span><span class="ident" id="5820846"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5820852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820856">if</span>&nbsp;<span class="ident" id="5820859"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820860">.</span><span class="ident" id="5820861"><a href="/gostd/go/ast/ast.go.html#3802579">Type</a></span>&nbsp;<span class="op" id="5820866">!=</span>&nbsp;<span class="builtintype" id="5820869">nil</span>&nbsp;<span class="op" id="5820873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820878"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820879">.</span><span class="ident" id="5820880"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5820884">(</span><span class="ident" id="5820885"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820886">.</span><span class="ident" id="5820887"><a href="/gostd/go/ast/ast.go.html#3802579">Type</a></span><span class="op" id="5820891">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5820895">}</span>&nbsp;<span class="keyword" id="5820897">else</span>&nbsp;<span class="op" id="5820902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820907"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820908">.</span><span class="builtinfunc" id="5820909"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820914">(</span><span class="ident" id="5820915"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820920">.</span><span class="ident" id="5820921"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="5820925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5820929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820933"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5820934">.</span><span class="builtinfunc" id="5820935"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5820940">(</span><span class="ident" id="5820941"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5820942">.</span><span class="ident" id="5820943"><a href="/gostd/go/ast/ast.go.html#3802647">Rparen</a></span><span class="op" id="5820949">,</span>&nbsp;<span class="ident" id="5820951"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5820956">.</span><span class="ident" id="5820957"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5820963">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5820967">case</span>&nbsp;<span class="op" id="5820972">*</span><span class="ident" id="5820973"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5820976">.</span><span class="ident" id="5820977"><a href="/gostd/go/ast/ast.go.html#3801795">IndexExpr</a></span><span class="op" id="5820986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5820990">//&nbsp;TODO(gri):&nbsp;should&nbsp;treat[]&nbsp;like&nbsp;parentheses&nbsp;and&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821066"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821067">.</span><span class="ident" id="5821068"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5821073">(</span><span class="ident" id="5821074"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821075">.</span><span class="ident" id="5821076"><a href="/gostd/go/ast/ast.go.html#3801816">X</a></span><span class="op" id="5821077">,</span>&nbsp;<span class="ident" id="5821079"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821084">.</span><span class="ident" id="5821085"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5821096">,</span>&nbsp;<span class="num" id="5821098">1</span><span class="op" id="5821099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821103"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821104">.</span><span class="builtinfunc" id="5821105"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5821110">(</span><span class="ident" id="5821111"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821112">.</span><span class="ident" id="5821113"><a href="/gostd/go/ast/ast.go.html#3801849">Lbrack</a></span><span class="op" id="5821119">,</span>&nbsp;<span class="ident" id="5821121"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821126">.</span><span class="ident" id="5821127"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5821133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821137"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821138">.</span><span class="ident" id="5821139"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5821144">(</span><span class="ident" id="5821145"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821146">.</span><span class="ident" id="5821147"><a href="/gostd/go/ast/ast.go.html#3801887">Index</a></span><span class="op" id="5821152">,</span>&nbsp;<span class="ident" id="5821154"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5821159">+</span><span class="num" id="5821160">1</span><span class="op" id="5821161">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821165"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821166">.</span><span class="builtinfunc" id="5821167"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5821172">(</span><span class="ident" id="5821173"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821174">.</span><span class="ident" id="5821175"><a href="/gostd/go/ast/ast.go.html#3801926">Rbrack</a></span><span class="op" id="5821181">,</span>&nbsp;<span class="ident" id="5821183"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821188">.</span><span class="ident" id="5821189"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5821195">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821199">case</span>&nbsp;<span class="op" id="5821204">*</span><span class="ident" id="5821205"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5821208">.</span><span class="ident" id="5821209"><a href="/gostd/go/ast/ast.go.html#3802041">SliceExpr</a></span><span class="op" id="5821218">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821222">//&nbsp;TODO(gri):&nbsp;should&nbsp;treat[]&nbsp;like&nbsp;parentheses&nbsp;and&nbsp;undo&nbsp;one&nbsp;level&nbsp;of&nbsp;depth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821298"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821299">.</span><span class="ident" id="5821300"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5821305">(</span><span class="ident" id="5821306"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821307">.</span><span class="ident" id="5821308"><a href="/gostd/go/ast/ast.go.html#3802062">X</a></span><span class="op" id="5821309">,</span>&nbsp;<span class="ident" id="5821311"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821316">.</span><span class="ident" id="5821317"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5821328">,</span>&nbsp;<span class="num" id="5821330">1</span><span class="op" id="5821331">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821335"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821336">.</span><span class="builtinfunc" id="5821337"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5821342">(</span><span class="ident" id="5821343"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821344">.</span><span class="ident" id="5821345"><a href="/gostd/go/ast/ast.go.html#3802095">Lbrack</a></span><span class="op" id="5821351">,</span>&nbsp;<span class="ident" id="5821353"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821358">.</span><span class="ident" id="5821359"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5821365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821369">indices</span>&nbsp;<span class="op" id="5821377">:=</span>&nbsp;<span class="op" id="5821380">[</span><span class="op" id="5821381">]</span><span class="ident" id="5821382"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5821385">.</span><span class="ident" id="5821386"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5821390">{</span><span class="ident" id="5821391"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821392">.</span><span class="ident" id="5821393"><a href="/gostd/go/ast/ast.go.html#3802133">Low</a></span><span class="op" id="5821396">,</span>&nbsp;<span class="ident" id="5821398"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821399">.</span><span class="ident" id="5821400"><a href="/gostd/go/ast/ast.go.html#3802184">High</a></span><span class="op" id="5821404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821408">if</span>&nbsp;<span class="ident" id="5821411"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821412">.</span><span class="ident" id="5821413"><a href="/gostd/go/ast/ast.go.html#3802233">Max</a></span>&nbsp;<span class="op" id="5821417">!=</span>&nbsp;<span class="builtintype" id="5821420">nil</span>&nbsp;<span class="op" id="5821424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821429"><a href="/gostd/go/printer/nodes.go.html#5821369">indices</a></span>&nbsp;<span class="op" id="5821437">=</span>&nbsp;<span class="builtinfunc" id="5821439">append</span><span class="op" id="5821445">(</span><span class="ident" id="5821446"><a href="/gostd/go/printer/nodes.go.html#5821369">indices</a></span><span class="op" id="5821453">,</span>&nbsp;<span class="ident" id="5821455"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821456">.</span><span class="ident" id="5821457"><a href="/gostd/go/ast/ast.go.html#3802233">Max</a></span><span class="op" id="5821460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821464">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821468">for</span>&nbsp;<span class="ident" id="5821472">i</span><span class="op" id="5821473">,</span>&nbsp;<span class="ident" id="5821475">y</span>&nbsp;<span class="op" id="5821477">:=</span>&nbsp;<span class="keyword" id="5821480">range</span>&nbsp;<span class="ident" id="5821486"><a href="/gostd/go/printer/nodes.go.html#5821369">indices</a></span>&nbsp;<span class="op" id="5821494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821499">if</span>&nbsp;<span class="ident" id="5821502"><a href="/gostd/go/printer/nodes.go.html#5821472">i</a></span>&nbsp;<span class="op" id="5821504">&gt;</span>&nbsp;<span class="num" id="5821506">0</span>&nbsp;<span class="op" id="5821508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821514">//&nbsp;blanks&nbsp;around&nbsp;&#34;:&#34;&nbsp;if&nbsp;both&nbsp;sides&nbsp;exist&nbsp;and&nbsp;either&nbsp;side&nbsp;is&nbsp;a&nbsp;binary&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821598">//&nbsp;TODO(gri)&nbsp;once&nbsp;we&nbsp;have&nbsp;committed&nbsp;a&nbsp;variant&nbsp;of&nbsp;a[i:j:k]&nbsp;we&nbsp;may&nbsp;want&nbsp;to&nbsp;fine-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821681">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tune&nbsp;the&nbsp;formatting&nbsp;here</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821723">x</span>&nbsp;<span class="op" id="5821725">:=</span>&nbsp;<span class="ident" id="5821728"><a href="/gostd/go/printer/nodes.go.html#5821369">indices</a></span><span class="op" id="5821735">[</span><span class="ident" id="5821736"><a href="/gostd/go/printer/nodes.go.html#5821472">i</a></span><span class="op" id="5821737">-</span><span class="num" id="5821738">1</span><span class="op" id="5821739">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821745">if</span>&nbsp;<span class="ident" id="5821748"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span>&nbsp;<span class="op" id="5821754">&lt;=</span>&nbsp;<span class="num" id="5821757">1</span>&nbsp;<span class="op" id="5821759">&amp;&amp;</span>&nbsp;<span class="ident" id="5821762"><a href="/gostd/go/printer/nodes.go.html#5821723">x</a></span>&nbsp;<span class="op" id="5821764">!=</span>&nbsp;<span class="builtintype" id="5821767">nil</span>&nbsp;<span class="op" id="5821771">&amp;&amp;</span>&nbsp;<span class="ident" id="5821774"><a href="/gostd/go/printer/nodes.go.html#5821475">y</a></span>&nbsp;<span class="op" id="5821776">!=</span>&nbsp;<span class="builtintype" id="5821779">nil</span>&nbsp;<span class="op" id="5821783">&amp;&amp;</span>&nbsp;<span class="op" id="5821786">(</span><span class="ident" id="5821787"><a href="/gostd/go/printer/nodes.go.html#5818794">isBinary</a></span><span class="op" id="5821795">(</span><span class="ident" id="5821796"><a href="/gostd/go/printer/nodes.go.html#5821723">x</a></span><span class="op" id="5821797">)</span>&nbsp;<span class="op" id="5821799">||</span>&nbsp;<span class="ident" id="5821802"><a href="/gostd/go/printer/nodes.go.html#5818794">isBinary</a></span><span class="op" id="5821810">(</span><span class="ident" id="5821811"><a href="/gostd/go/printer/nodes.go.html#5821475">y</a></span><span class="op" id="5821812">)</span><span class="op" id="5821813">)</span>&nbsp;<span class="op" id="5821815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821822"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821823">.</span><span class="builtinfunc" id="5821824"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5821829">(</span><span class="ident" id="5821830"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5821835">,</span>&nbsp;<span class="ident" id="5821837"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821842">.</span><span class="ident" id="5821843"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5821848">,</span>&nbsp;<span class="ident" id="5821850"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5821855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821861">}</span>&nbsp;<span class="keyword" id="5821863">else</span>&nbsp;<span class="op" id="5821868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821875"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821876">.</span><span class="builtinfunc" id="5821877"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5821882">(</span><span class="ident" id="5821883"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821888">.</span><span class="ident" id="5821889"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5821894">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821910">if</span>&nbsp;<span class="ident" id="5821913"><a href="/gostd/go/printer/nodes.go.html#5821475">y</a></span>&nbsp;<span class="op" id="5821915">!=</span>&nbsp;<span class="builtintype" id="5821918">nil</span>&nbsp;<span class="op" id="5821922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821928"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821929">.</span><span class="ident" id="5821930"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5821935">(</span><span class="ident" id="5821936"><a href="/gostd/go/printer/nodes.go.html#5821475">y</a></span><span class="op" id="5821937">,</span>&nbsp;<span class="ident" id="5821939"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5821944">+</span><span class="num" id="5821945">1</span><span class="op" id="5821946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821951">}</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821959"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5821960">.</span><span class="builtinfunc" id="5821961"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5821966">(</span><span class="ident" id="5821967"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5821968">.</span><span class="ident" id="5821969"><a href="/gostd/go/ast/ast.go.html#3802352">Rbrack</a></span><span class="op" id="5821975">,</span>&nbsp;<span class="ident" id="5821977"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5821982">.</span><span class="ident" id="5821983"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5821989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821993">case</span>&nbsp;<span class="op" id="5821998">*</span><span class="ident" id="5821999"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5822002">.</span><span class="ident" id="5822003"><a href="/gostd/go/ast/ast.go.html#3802763">CallExpr</a></span><span class="op" id="5822011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822015">if</span>&nbsp;<span class="builtinfunc" id="5822018">len</span><span class="op" id="5822021">(</span><span class="ident" id="5822022"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822023">.</span><span class="ident" id="5822024"><a href="/gostd/go/ast/ast.go.html#3802867">Args</a></span><span class="op" id="5822028">)</span>&nbsp;<span class="op" id="5822030">&gt;</span>&nbsp;<span class="num" id="5822032">1</span>&nbsp;<span class="op" id="5822034">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822039"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5822044">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822053">if</span>&nbsp;<span class="ident" id="5822056">_</span><span class="op" id="5822057">,</span>&nbsp;<span class="ident" id="5822059">ok</span>&nbsp;<span class="op" id="5822062">:=</span>&nbsp;<span class="ident" id="5822065"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822066">.</span><span class="ident" id="5822067"><a href="/gostd/go/ast/ast.go.html#3802783">Fun</a></span><span class="op" id="5822070">.</span><span class="op" id="5822071">(</span><span class="op" id="5822072">*</span><span class="ident" id="5822073"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5822076">.</span><span class="ident" id="5822077"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="5822085">)</span><span class="op" id="5822086">;</span>&nbsp;<span class="ident" id="5822088"><a href="/gostd/go/printer/nodes.go.html#5822059">ok</a></span>&nbsp;<span class="op" id="5822091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5822096">//&nbsp;conversions&nbsp;to&nbsp;literal&nbsp;function&nbsp;types&nbsp;require&nbsp;parentheses&nbsp;around&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822176"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822177">.</span><span class="builtinfunc" id="5822178"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822183">(</span><span class="ident" id="5822184"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822189">.</span><span class="ident" id="5822190"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5822196">)</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822201"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822202">.</span><span class="ident" id="5822203"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5822208">(</span><span class="ident" id="5822209"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822210">.</span><span class="ident" id="5822211"><a href="/gostd/go/ast/ast.go.html#3802783">Fun</a></span><span class="op" id="5822214">,</span>&nbsp;<span class="ident" id="5822216"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822221">.</span><span class="ident" id="5822222"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5822233">,</span>&nbsp;<span class="ident" id="5822235"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5822240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822245"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822246">.</span><span class="builtinfunc" id="5822247"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822252">(</span><span class="ident" id="5822253"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822258">.</span><span class="ident" id="5822259"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5822265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822269">}</span>&nbsp;<span class="keyword" id="5822271">else</span>&nbsp;<span class="op" id="5822276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822281"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822282">.</span><span class="ident" id="5822283"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5822288">(</span><span class="ident" id="5822289"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822290">.</span><span class="ident" id="5822291"><a href="/gostd/go/ast/ast.go.html#3802783">Fun</a></span><span class="op" id="5822294">,</span>&nbsp;<span class="ident" id="5822296"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822301">.</span><span class="ident" id="5822302"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5822313">,</span>&nbsp;<span class="ident" id="5822315"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5822320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822324">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822328"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822329">.</span><span class="builtinfunc" id="5822330"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822335">(</span><span class="ident" id="5822336"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822337">.</span><span class="ident" id="5822338"><a href="/gostd/go/ast/ast.go.html#3802827">Lparen</a></span><span class="op" id="5822344">,</span>&nbsp;<span class="ident" id="5822346"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822351">.</span><span class="ident" id="5822352"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5822358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822362">if</span>&nbsp;<span class="ident" id="5822365"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822366">.</span><span class="ident" id="5822367"><a href="/gostd/go/ast/ast.go.html#3802918">Ellipsis</a></span><span class="op" id="5822375">.</span><span class="ident" id="5822376"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5822383">(</span><span class="op" id="5822384">)</span>&nbsp;<span class="op" id="5822386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822391"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822392">.</span><span class="ident" id="5822393"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5822401">(</span><span class="ident" id="5822402"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822403">.</span><span class="ident" id="5822404"><a href="/gostd/go/ast/ast.go.html#3802827">Lparen</a></span><span class="op" id="5822410">,</span>&nbsp;<span class="ident" id="5822412"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822413">.</span><span class="ident" id="5822414"><a href="/gostd/go/ast/ast.go.html#3802867">Args</a></span><span class="op" id="5822418">,</span>&nbsp;<span class="ident" id="5822420"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5822425">,</span>&nbsp;<span class="num" id="5822427">0</span><span class="op" id="5822428">,</span>&nbsp;<span class="ident" id="5822430"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822431">.</span><span class="ident" id="5822432"><a href="/gostd/go/ast/ast.go.html#3802918">Ellipsis</a></span><span class="op" id="5822440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822445"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822446">.</span><span class="builtinfunc" id="5822447"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822452">(</span><span class="ident" id="5822453"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822454">.</span><span class="ident" id="5822455"><a href="/gostd/go/ast/ast.go.html#3802918">Ellipsis</a></span><span class="op" id="5822463">,</span>&nbsp;<span class="ident" id="5822465"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822470">.</span><span class="ident" id="5822471"><a href="/gostd/go/token/token.go.html#3890545">ELLIPSIS</a></span><span class="op" id="5822479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822484">if</span>&nbsp;<span class="ident" id="5822487"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822488">.</span><span class="ident" id="5822489"><a href="/gostd/go/ast/ast.go.html#3802968">Rparen</a></span><span class="op" id="5822495">.</span><span class="ident" id="5822496"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5822503">(</span><span class="op" id="5822504">)</span>&nbsp;<span class="op" id="5822506">&amp;&amp;</span>&nbsp;<span class="ident" id="5822509"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822510">.</span><span class="ident" id="5822511"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5822518">(</span><span class="ident" id="5822519"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822520">.</span><span class="ident" id="5822521"><a href="/gostd/go/ast/ast.go.html#3802918">Ellipsis</a></span><span class="op" id="5822529">)</span>&nbsp;<span class="op" id="5822531">&lt;</span>&nbsp;<span class="ident" id="5822533"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822534">.</span><span class="ident" id="5822535"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5822542">(</span><span class="ident" id="5822543"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822544">.</span><span class="ident" id="5822545"><a href="/gostd/go/ast/ast.go.html#3802968">Rparen</a></span><span class="op" id="5822551">)</span>&nbsp;<span class="op" id="5822553">{</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822559"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822560">.</span><span class="builtinfunc" id="5822561"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822566">(</span><span class="ident" id="5822567"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822572">.</span><span class="ident" id="5822573"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5822578">,</span>&nbsp;<span class="ident" id="5822580"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5822588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822597">}</span>&nbsp;<span class="keyword" id="5822599">else</span>&nbsp;<span class="op" id="5822604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822609"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822610">.</span><span class="ident" id="5822611"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5822619">(</span><span class="ident" id="5822620"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822621">.</span><span class="ident" id="5822622"><a href="/gostd/go/ast/ast.go.html#3802827">Lparen</a></span><span class="op" id="5822628">,</span>&nbsp;<span class="ident" id="5822630"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822631">.</span><span class="ident" id="5822632"><a href="/gostd/go/ast/ast.go.html#3802867">Args</a></span><span class="op" id="5822636">,</span>&nbsp;<span class="ident" id="5822638"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5822643">,</span>&nbsp;<span class="ident" id="5822645"><a href="/gostd/go/printer/nodes.go.html#5803093">commaTerm</a></span><span class="op" id="5822654">,</span>&nbsp;<span class="ident" id="5822656"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822657">.</span><span class="ident" id="5822658"><a href="/gostd/go/ast/ast.go.html#3802968">Rparen</a></span><span class="op" id="5822664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822668">}</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822672"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822673">.</span><span class="builtinfunc" id="5822674"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822679">(</span><span class="ident" id="5822680"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822681">.</span><span class="ident" id="5822682"><a href="/gostd/go/ast/ast.go.html#3802968">Rparen</a></span><span class="op" id="5822688">,</span>&nbsp;<span class="ident" id="5822690"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822695">.</span><span class="ident" id="5822696"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5822702">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822706">case</span>&nbsp;<span class="op" id="5822711">*</span><span class="ident" id="5822712"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5822715">.</span><span class="ident" id="5822716"><a href="/gostd/go/ast/ast.go.html#3801158">CompositeLit</a></span><span class="op" id="5822728">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5822732">//&nbsp;composite&nbsp;literal&nbsp;elements&nbsp;that&nbsp;are&nbsp;composite&nbsp;literals&nbsp;themselves&nbsp;may&nbsp;have&nbsp;the&nbsp;type&nbsp;omitted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822829">if</span>&nbsp;<span class="ident" id="5822832"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822833">.</span><span class="ident" id="5822834"><a href="/gostd/go/ast/ast.go.html#3801182">Type</a></span>&nbsp;<span class="op" id="5822839">!=</span>&nbsp;<span class="builtintype" id="5822842">nil</span>&nbsp;<span class="op" id="5822846">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822851"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822852">.</span><span class="ident" id="5822853"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5822858">(</span><span class="ident" id="5822859"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822860">.</span><span class="ident" id="5822861"><a href="/gostd/go/ast/ast.go.html#3801182">Type</a></span><span class="op" id="5822865">,</span>&nbsp;<span class="ident" id="5822867"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822872">.</span><span class="ident" id="5822873"><a href="/gostd/go/token/token.go.html#3893314">HighestPrec</a></span><span class="op" id="5822884">,</span>&nbsp;<span class="ident" id="5822886"><a href="/gostd/go/printer/nodes.go.html#5818918">depth</a></span><span class="op" id="5822891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822899"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822900">.</span><span class="builtinfunc" id="5822901"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5822906">(</span><span class="ident" id="5822907"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822908">.</span><span class="ident" id="5822909"><a href="/gostd/go/ast/ast.go.html#3801225">Lbrace</a></span><span class="op" id="5822915">,</span>&nbsp;<span class="ident" id="5822917"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5822922">.</span><span class="ident" id="5822923"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5822929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822933"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5822934">.</span><span class="ident" id="5822935"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5822943">(</span><span class="ident" id="5822944"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822945">.</span><span class="ident" id="5822946"><a href="/gostd/go/ast/ast.go.html#3801225">Lbrace</a></span><span class="op" id="5822952">,</span>&nbsp;<span class="ident" id="5822954"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822955">.</span><span class="ident" id="5822956"><a href="/gostd/go/ast/ast.go.html#3801263">Elts</a></span><span class="op" id="5822960">,</span>&nbsp;<span class="num" id="5822962">1</span><span class="op" id="5822963">,</span>&nbsp;<span class="ident" id="5822965"><a href="/gostd/go/printer/nodes.go.html#5803093">commaTerm</a></span><span class="op" id="5822974">,</span>&nbsp;<span class="ident" id="5822976"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5822977">.</span><span class="ident" id="5822978"><a href="/gostd/go/ast/ast.go.html#3801320">Rbrace</a></span><span class="op" id="5822984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5822988">//&nbsp;do&nbsp;not&nbsp;insert&nbsp;extra&nbsp;line&nbsp;break&nbsp;following&nbsp;a&nbsp;/*-style&nbsp;comment</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823053">//&nbsp;before&nbsp;the&nbsp;closing&nbsp;&#39;}&#39;&nbsp;as&nbsp;it&nbsp;might&nbsp;break&nbsp;the&nbsp;code&nbsp;if&nbsp;there</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823117">//&nbsp;is&nbsp;no&nbsp;trailing&nbsp;&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823141">mode</span>&nbsp;<span class="op" id="5823146">:=</span>&nbsp;<span class="ident" id="5823149"><a href="/gostd/go/printer/printer.go.html#5843359">noExtraLinebreak</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823168">//&nbsp;do&nbsp;not&nbsp;insert&nbsp;extra&nbsp;blank&nbsp;following&nbsp;a&nbsp;/*-style&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823228">//&nbsp;before&nbsp;the&nbsp;closing&nbsp;&#39;}&#39;&nbsp;unless&nbsp;the&nbsp;literal&nbsp;is&nbsp;empty</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823284">if</span>&nbsp;<span class="builtinfunc" id="5823287">len</span><span class="op" id="5823290">(</span><span class="ident" id="5823291"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823292">.</span><span class="ident" id="5823293"><a href="/gostd/go/ast/ast.go.html#3801263">Elts</a></span><span class="op" id="5823297">)</span>&nbsp;<span class="op" id="5823299">&gt;</span>&nbsp;<span class="num" id="5823301">0</span>&nbsp;<span class="op" id="5823303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823308"><a href="/gostd/go/printer/nodes.go.html#5823141">mode</a></span>&nbsp;<span class="op" id="5823313">|=</span>&nbsp;<span class="ident" id="5823316"><a href="/gostd/go/printer/printer.go.html#5843276">noExtraBlank</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823335"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823336">.</span><span class="builtinfunc" id="5823337"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823342">(</span><span class="ident" id="5823343"><a href="/gostd/go/printer/nodes.go.html#5823141">mode</a></span><span class="op" id="5823347">,</span>&nbsp;<span class="ident" id="5823349"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823350">.</span><span class="ident" id="5823351"><a href="/gostd/go/ast/ast.go.html#3801320">Rbrace</a></span><span class="op" id="5823357">,</span>&nbsp;<span class="ident" id="5823359"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823364">.</span><span class="ident" id="5823365"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5823371">,</span>&nbsp;<span class="ident" id="5823373"><a href="/gostd/go/printer/nodes.go.html#5823141">mode</a></span><span class="op" id="5823377">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823381">case</span>&nbsp;<span class="op" id="5823386">*</span><span class="ident" id="5823387"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823390">.</span><span class="ident" id="5823391"><a href="/gostd/go/ast/ast.go.html#3800500">Ellipsis</a></span><span class="op" id="5823399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823403"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823404">.</span><span class="builtinfunc" id="5823405"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823410">(</span><span class="ident" id="5823411"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823416">.</span><span class="ident" id="5823417"><a href="/gostd/go/token/token.go.html#3890545">ELLIPSIS</a></span><span class="op" id="5823425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823429">if</span>&nbsp;<span class="ident" id="5823432"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823433">.</span><span class="ident" id="5823434"><a href="/gostd/go/ast/ast.go.html#3800562">Elt</a></span>&nbsp;<span class="op" id="5823438">!=</span>&nbsp;<span class="builtintype" id="5823441">nil</span>&nbsp;<span class="op" id="5823445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823450"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823451">.</span><span class="ident" id="5823452"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5823456">(</span><span class="ident" id="5823457"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823458">.</span><span class="ident" id="5823459"><a href="/gostd/go/ast/ast.go.html#3800562">Elt</a></span><span class="op" id="5823462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823466">}</span><br>
<span class="lineno">845</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823470">case</span>&nbsp;<span class="op" id="5823475">*</span><span class="ident" id="5823476"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823479">.</span><span class="ident" id="5823480"><a href="/gostd/go/ast/ast.go.html#3804223">ArrayType</a></span><span class="op" id="5823489">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823493"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823494">.</span><span class="builtinfunc" id="5823495"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823500">(</span><span class="ident" id="5823501"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823506">.</span><span class="ident" id="5823507"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5823513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823517">if</span>&nbsp;<span class="ident" id="5823520"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823521">.</span><span class="ident" id="5823522"><a href="/gostd/go/ast/ast.go.html#3804282">Len</a></span>&nbsp;<span class="op" id="5823526">!=</span>&nbsp;<span class="builtintype" id="5823529">nil</span>&nbsp;<span class="op" id="5823533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823538"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823539">.</span><span class="ident" id="5823540"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5823544">(</span><span class="ident" id="5823545"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823546">.</span><span class="ident" id="5823547"><a href="/gostd/go/ast/ast.go.html#3804282">Len</a></span><span class="op" id="5823550">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823558"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823559">.</span><span class="builtinfunc" id="5823560"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823565">(</span><span class="ident" id="5823566"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823571">.</span><span class="ident" id="5823572"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5823578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823582"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823583">.</span><span class="ident" id="5823584"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5823588">(</span><span class="ident" id="5823589"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823590">.</span><span class="ident" id="5823591"><a href="/gostd/go/ast/ast.go.html#3804362">Elt</a></span><span class="op" id="5823594">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823598">case</span>&nbsp;<span class="op" id="5823603">*</span><span class="ident" id="5823604"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823607">.</span><span class="ident" id="5823608"><a href="/gostd/go/ast/ast.go.html#3804448">StructType</a></span><span class="op" id="5823618">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823622"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823623">.</span><span class="builtinfunc" id="5823624"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823629">(</span><span class="ident" id="5823630"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823635">.</span><span class="ident" id="5823636"><a href="/gostd/go/token/token.go.html#3890906">STRUCT</a></span><span class="op" id="5823642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823646"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823647">.</span><span class="ident" id="5823648"><a href="/gostd/go/printer/nodes.go.html#5811986">fieldList</a></span><span class="op" id="5823657">(</span><span class="ident" id="5823658"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823659">.</span><span class="ident" id="5823660"><a href="/gostd/go/ast/ast.go.html#3804526">Fields</a></span><span class="op" id="5823666">,</span>&nbsp;<span class="builtintype" id="5823668">true</span><span class="op" id="5823672">,</span>&nbsp;<span class="ident" id="5823674"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823675">.</span><span class="ident" id="5823676"><a href="/gostd/go/ast/ast.go.html#3804580">Incomplete</a></span><span class="op" id="5823686">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823690">case</span>&nbsp;<span class="op" id="5823695">*</span><span class="ident" id="5823696"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823699">.</span><span class="ident" id="5823700"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="5823708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823712"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823713">.</span><span class="builtinfunc" id="5823714"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823719">(</span><span class="ident" id="5823720"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823725">.</span><span class="ident" id="5823726"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="5823730">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823734"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823735">.</span><span class="ident" id="5823736"><a href="/gostd/go/printer/nodes.go.html#5810692">signature</a></span><span class="op" id="5823745">(</span><span class="ident" id="5823746"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823747">.</span><span class="ident" id="5823748"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="5823754">,</span>&nbsp;<span class="ident" id="5823756"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823757">.</span><span class="ident" id="5823758"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="5823765">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823769">case</span>&nbsp;<span class="op" id="5823774">*</span><span class="ident" id="5823775"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823778">.</span><span class="ident" id="5823779"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span><span class="op" id="5823792">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823796"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823797">.</span><span class="builtinfunc" id="5823798"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823803">(</span><span class="ident" id="5823804"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823809">.</span><span class="ident" id="5823810"><a href="/gostd/go/token/token.go.html#3890857">INTERFACE</a></span><span class="op" id="5823819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823823"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823824">.</span><span class="ident" id="5823825"><a href="/gostd/go/printer/nodes.go.html#5811986">fieldList</a></span><span class="op" id="5823834">(</span><span class="ident" id="5823835"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823836">.</span><span class="ident" id="5823837"><a href="/gostd/go/ast/ast.go.html#3805124">Methods</a></span><span class="op" id="5823844">,</span>&nbsp;<span class="builtintype" id="5823846">false</span><span class="op" id="5823851">,</span>&nbsp;<span class="ident" id="5823853"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823854">.</span><span class="ident" id="5823855"><a href="/gostd/go/ast/ast.go.html#3805167">Incomplete</a></span><span class="op" id="5823865">)</span><br>
<span class="lineno">865</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823869">case</span>&nbsp;<span class="op" id="5823874">*</span><span class="ident" id="5823875"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823878">.</span><span class="ident" id="5823879"><a href="/gostd/go/ast/ast.go.html#3805296">MapType</a></span><span class="op" id="5823886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823890"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823891">.</span><span class="builtinfunc" id="5823892"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823897">(</span><span class="ident" id="5823898"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823903">.</span><span class="ident" id="5823904"><a href="/gostd/go/token/token.go.html#3890868">MAP</a></span><span class="op" id="5823907">,</span>&nbsp;<span class="ident" id="5823909"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823914">.</span><span class="ident" id="5823915"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5823921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823925"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823926">.</span><span class="ident" id="5823927"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5823931">(</span><span class="ident" id="5823932"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823933">.</span><span class="ident" id="5823934"><a href="/gostd/go/ast/ast.go.html#3805362">Key</a></span><span class="op" id="5823937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823941"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823942">.</span><span class="builtinfunc" id="5823943"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5823948">(</span><span class="ident" id="5823949"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5823954">.</span><span class="ident" id="5823955"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5823961">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823965"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5823966">.</span><span class="ident" id="5823967"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5823971">(</span><span class="ident" id="5823972"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5823973">.</span><span class="ident" id="5823974"><a href="/gostd/go/ast/ast.go.html#3805375">Value</a></span><span class="op" id="5823979">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823983">case</span>&nbsp;<span class="op" id="5823988">*</span><span class="ident" id="5823989"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5823992">.</span><span class="ident" id="5823993"><a href="/gostd/go/ast/ast.go.html#3805438">ChanType</a></span><span class="op" id="5824001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824005">switch</span>&nbsp;<span class="ident" id="5824012"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5824013">.</span><span class="ident" id="5824014"><a href="/gostd/go/ast/ast.go.html#3805610">Dir</a></span>&nbsp;<span class="op" id="5824018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824022">case</span>&nbsp;<span class="ident" id="5824027"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824030">.</span><span class="ident" id="5824031"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span>&nbsp;<span class="op" id="5824036">|</span>&nbsp;<span class="ident" id="5824038"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824041">.</span><span class="ident" id="5824042"><a href="/gostd/go/ast/ast.go.html#3804031">RECV</a></span><span class="op" id="5824046">:</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824051"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5824052">.</span><span class="builtinfunc" id="5824053"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5824058">(</span><span class="ident" id="5824059"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824064">.</span><span class="ident" id="5824065"><a href="/gostd/go/token/token.go.html#3890763">CHAN</a></span><span class="op" id="5824069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824073">case</span>&nbsp;<span class="ident" id="5824078"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824081">.</span><span class="ident" id="5824082"><a href="/gostd/go/ast/ast.go.html#3804031">RECV</a></span><span class="op" id="5824086">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824091"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5824092">.</span><span class="builtinfunc" id="5824093"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5824098">(</span><span class="ident" id="5824099"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824104">.</span><span class="ident" id="5824105"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5824110">,</span>&nbsp;<span class="ident" id="5824112"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824117">.</span><span class="ident" id="5824118"><a href="/gostd/go/token/token.go.html#3890763">CHAN</a></span><span class="op" id="5824122">)</span>&nbsp;<span class="comment" id="5824124">//&nbsp;x.Arrow&nbsp;and&nbsp;x.Pos()&nbsp;are&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824162">case</span>&nbsp;<span class="ident" id="5824167"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824170">.</span><span class="ident" id="5824171"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span><span class="op" id="5824175">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824180"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5824181">.</span><span class="builtinfunc" id="5824182"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5824187">(</span><span class="ident" id="5824188"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824193">.</span><span class="ident" id="5824194"><a href="/gostd/go/token/token.go.html#3890763">CHAN</a></span><span class="op" id="5824198">,</span>&nbsp;<span class="ident" id="5824200"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5824201">.</span><span class="ident" id="5824202"><a href="/gostd/go/ast/ast.go.html#3805538">Arrow</a></span><span class="op" id="5824207">,</span>&nbsp;<span class="ident" id="5824209"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824214">.</span><span class="ident" id="5824215"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5824220">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824228"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5824229">.</span><span class="builtinfunc" id="5824230"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5824235">(</span><span class="ident" id="5824236"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5824241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824245"><a href="/gostd/go/printer/nodes.go.html#5818878">p</a></span><span class="op" id="5824246">.</span><span class="ident" id="5824247"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5824251">(</span><span class="ident" id="5824252"><a href="/gostd/go/printer/nodes.go.html#5818961">x</a></span><span class="op" id="5824253">.</span><span class="ident" id="5824254"><a href="/gostd/go/ast/ast.go.html#3805649">Value</a></span><span class="op" id="5824259">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824263">default</span><span class="op" id="5824270">:</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5824274">panic</span><span class="op" id="5824279">(</span><span class="string" id="5824280">&#34;unreachable&#34;</span><span class="op" id="5824293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824300">return</span><br>
<span class="lineno"></span><span class="op" id="5824307">}</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span><span class="keyword" id="5824310">func</span>&nbsp;<span class="op" id="5824315">(</span><span class="ident" id="5824316">p</span>&nbsp;<span class="op" id="5824318">*</span><span class="ident" id="5824319"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5824326">)</span>&nbsp;<span class="ident" id="5824328">expr0</span><span class="op" id="5824333">(</span><span class="ident" id="5824334">x</span>&nbsp;<span class="ident" id="5824336"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824339">.</span><span class="ident" id="5824340"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5824344">,</span>&nbsp;<span class="ident" id="5824346">depth</span>&nbsp;<span class="builtintype" id="5824352">int</span><span class="op" id="5824355">)</span>&nbsp;<span class="op" id="5824357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824360"><a href="/gostd/go/printer/nodes.go.html#5824316">p</a></span><span class="op" id="5824361">.</span><span class="ident" id="5824362"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5824367">(</span><span class="ident" id="5824368"><a href="/gostd/go/printer/nodes.go.html#5824334">x</a></span><span class="op" id="5824369">,</span>&nbsp;<span class="ident" id="5824371"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824376">.</span><span class="ident" id="5824377"><a href="/gostd/go/token/token.go.html#3893263">LowestPrec</a></span><span class="op" id="5824387">,</span>&nbsp;<span class="ident" id="5824389"><a href="/gostd/go/printer/nodes.go.html#5824346">depth</a></span><span class="op" id="5824394">)</span><br>
<span class="lineno"></span><span class="op" id="5824396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">895</span><span class="keyword" id="5824399">func</span>&nbsp;<span class="op" id="5824404">(</span><span class="ident" id="5824405">p</span>&nbsp;<span class="op" id="5824407">*</span><span class="ident" id="5824408"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5824415">)</span>&nbsp;<span class="ident" id="5824417">expr</span><span class="op" id="5824421">(</span><span class="ident" id="5824422">x</span>&nbsp;<span class="ident" id="5824424"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824427">.</span><span class="ident" id="5824428"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5824432">)</span>&nbsp;<span class="op" id="5824434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824437">const</span>&nbsp;<span class="ident" id="5824443">depth</span>&nbsp;<span class="op" id="5824449">=</span>&nbsp;<span class="num" id="5824451">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824454"><a href="/gostd/go/printer/nodes.go.html#5824405">p</a></span><span class="op" id="5824455">.</span><span class="ident" id="5824456"><a href="/gostd/go/printer/nodes.go.html#5818890">expr1</a></span><span class="op" id="5824461">(</span><span class="ident" id="5824462"><a href="/gostd/go/printer/nodes.go.html#5824422">x</a></span><span class="op" id="5824463">,</span>&nbsp;<span class="ident" id="5824465"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5824470">.</span><span class="ident" id="5824471"><a href="/gostd/go/token/token.go.html#3893263">LowestPrec</a></span><span class="op" id="5824481">,</span>&nbsp;<span class="ident" id="5824483"><a href="/gostd/go/printer/nodes.go.html#5824443">depth</a></span><span class="op" id="5824488">)</span><br>
<span class="lineno"></span><span class="op" id="5824490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">900</span><span class="comment" id="5824493">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5824573">//&nbsp;Statements</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5824588">//&nbsp;Print&nbsp;the&nbsp;statement&nbsp;list&nbsp;indented,&nbsp;but&nbsp;without&nbsp;a&nbsp;newline&nbsp;after&nbsp;the&nbsp;last&nbsp;statement.</span><br>
<span class="lineno"></span><span class="comment" id="5824674">//&nbsp;Extra&nbsp;line&nbsp;breaks&nbsp;between&nbsp;statements&nbsp;in&nbsp;the&nbsp;source&nbsp;are&nbsp;respected&nbsp;but&nbsp;at&nbsp;most&nbsp;one</span><br>
<span class="lineno">905</span><span class="comment" id="5824758">//&nbsp;empty&nbsp;line&nbsp;is&nbsp;printed&nbsp;between&nbsp;statements.</span><br>
<span class="lineno"></span><span class="keyword" id="5824803">func</span>&nbsp;<span class="op" id="5824808">(</span><span class="ident" id="5824809">p</span>&nbsp;<span class="op" id="5824811">*</span><span class="ident" id="5824812"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5824819">)</span>&nbsp;<span class="ident" id="5824821">stmtList</span><span class="op" id="5824829">(</span><span class="ident" id="5824830">list</span>&nbsp;<span class="op" id="5824835">[</span><span class="op" id="5824836">]</span><span class="ident" id="5824837"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5824840">.</span><span class="ident" id="5824841"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="5824845">,</span>&nbsp;<span class="ident" id="5824847">nindent</span>&nbsp;<span class="builtintype" id="5824855">int</span><span class="op" id="5824858">,</span>&nbsp;<span class="ident" id="5824860">nextIsRBrace</span>&nbsp;<span class="builtintype" id="5824873">bool</span><span class="op" id="5824877">)</span>&nbsp;<span class="op" id="5824879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824882">if</span>&nbsp;<span class="ident" id="5824885"><a href="/gostd/go/printer/nodes.go.html#5824847">nindent</a></span>&nbsp;<span class="op" id="5824893">&gt;</span>&nbsp;<span class="num" id="5824895">0</span>&nbsp;<span class="op" id="5824897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824901"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5824902">.</span><span class="builtinfunc" id="5824903"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5824908">(</span><span class="ident" id="5824909"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5824915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824918">}</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824921">var</span>&nbsp;<span class="ident" id="5824925">line</span>&nbsp;<span class="builtintype" id="5824930">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824935">i</span>&nbsp;<span class="op" id="5824937">:=</span>&nbsp;<span class="num" id="5824940">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824943">for</span>&nbsp;<span class="ident" id="5824947">_</span><span class="op" id="5824948">,</span>&nbsp;<span class="ident" id="5824950">s</span>&nbsp;<span class="op" id="5824952">:=</span>&nbsp;<span class="keyword" id="5824955">range</span>&nbsp;<span class="ident" id="5824961"><a href="/gostd/go/printer/nodes.go.html#5824830">list</a></span>&nbsp;<span class="op" id="5824966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5824970">//&nbsp;ignore&nbsp;empty&nbsp;statements&nbsp;(was&nbsp;issue&nbsp;3466)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825016">if</span>&nbsp;<span class="ident" id="5825019">_</span><span class="op" id="5825020">,</span>&nbsp;<span class="ident" id="5825022">isEmpty</span>&nbsp;<span class="op" id="5825030">:=</span>&nbsp;<span class="ident" id="5825033"><a href="/gostd/go/printer/nodes.go.html#5824950">s</a></span><span class="op" id="5825034">.</span><span class="op" id="5825035">(</span><span class="op" id="5825036">*</span><span class="ident" id="5825037"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5825040">.</span><span class="ident" id="5825041"><a href="/gostd/go/ast/ast.go.html#3811268">EmptyStmt</a></span><span class="op" id="5825050">)</span><span class="op" id="5825051">;</span>&nbsp;<span class="op" id="5825053">!</span><span class="ident" id="5825054"><a href="/gostd/go/printer/nodes.go.html#5825022">isEmpty</a></span>&nbsp;<span class="op" id="5825062">{</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825067">//&nbsp;nindent&nbsp;==&nbsp;0&nbsp;only&nbsp;for&nbsp;lists&nbsp;of&nbsp;switch/select&nbsp;case&nbsp;clauses;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825132">//&nbsp;in&nbsp;those&nbsp;cases&nbsp;each&nbsp;clause&nbsp;is&nbsp;a&nbsp;new&nbsp;section</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825182">if</span>&nbsp;<span class="builtinfunc" id="5825185">len</span><span class="op" id="5825188">(</span><span class="ident" id="5825189"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825190">.</span><span class="ident" id="5825191"><a href="/gostd/go/printer/printer.go.html#5843932">output</a></span><span class="op" id="5825197">)</span>&nbsp;<span class="op" id="5825199">&gt;</span>&nbsp;<span class="num" id="5825201">0</span>&nbsp;<span class="op" id="5825203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825209">//&nbsp;only&nbsp;print&nbsp;line&nbsp;break&nbsp;if&nbsp;we&nbsp;are&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825283">//&nbsp;(i.e.,&nbsp;we&nbsp;are&nbsp;not&nbsp;printing&nbsp;only&nbsp;a&nbsp;partial&nbsp;program)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825341"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825342">.</span><span class="ident" id="5825343"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5825352">(</span><span class="ident" id="5825353"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825354">.</span><span class="ident" id="5825355"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5825362">(</span><span class="ident" id="5825363"><a href="/gostd/go/printer/nodes.go.html#5824950">s</a></span><span class="op" id="5825364">.</span><span class="ident" id="5825365"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5825368">(</span><span class="op" id="5825369">)</span><span class="op" id="5825370">)</span><span class="op" id="5825371">,</span>&nbsp;<span class="num" id="5825373">1</span><span class="op" id="5825374">,</span>&nbsp;<span class="ident" id="5825376"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5825382">,</span>&nbsp;<span class="ident" id="5825384"><a href="/gostd/go/printer/nodes.go.html#5824935">i</a></span>&nbsp;<span class="op" id="5825386">==</span>&nbsp;<span class="num" id="5825389">0</span>&nbsp;<span class="op" id="5825391">||</span>&nbsp;<span class="ident" id="5825394"><a href="/gostd/go/printer/nodes.go.html#5824847">nindent</a></span>&nbsp;<span class="op" id="5825402">==</span>&nbsp;<span class="num" id="5825405">0</span>&nbsp;<span class="op" id="5825407">||</span>&nbsp;<span class="ident" id="5825410"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825411">.</span><span class="ident" id="5825412"><a href="/gostd/go/printer/printer.go.html#5848352">linesFrom</a></span><span class="op" id="5825421">(</span><span class="ident" id="5825422"><a href="/gostd/go/printer/nodes.go.html#5824925">line</a></span><span class="op" id="5825426">)</span>&nbsp;<span class="op" id="5825428">&gt;</span>&nbsp;<span class="num" id="5825430">0</span><span class="op" id="5825431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825441"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825442">.</span><span class="ident" id="5825443"><a href="/gostd/go/printer/printer.go.html#5848018">recordLine</a></span><span class="op" id="5825453">(</span><span class="op" id="5825454">&amp;</span><span class="ident" id="5825455"><a href="/gostd/go/printer/nodes.go.html#5824925">line</a></span><span class="op" id="5825459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825464"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825465">.</span><span class="ident" id="5825466"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5825470">(</span><span class="ident" id="5825471"><a href="/gostd/go/printer/nodes.go.html#5824950">s</a></span><span class="op" id="5825472">,</span>&nbsp;<span class="ident" id="5825474"><a href="/gostd/go/printer/nodes.go.html#5824860">nextIsRBrace</a></span>&nbsp;<span class="op" id="5825487">&amp;&amp;</span>&nbsp;<span class="ident" id="5825490"><a href="/gostd/go/printer/nodes.go.html#5824935">i</a></span>&nbsp;<span class="op" id="5825492">==</span>&nbsp;<span class="builtinfunc" id="5825495">len</span><span class="op" id="5825498">(</span><span class="ident" id="5825499"><a href="/gostd/go/printer/nodes.go.html#5824830">list</a></span><span class="op" id="5825503">)</span><span class="op" id="5825504">-</span><span class="num" id="5825505">1</span><span class="op" id="5825506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825511">//&nbsp;labeled&nbsp;statements&nbsp;put&nbsp;labels&nbsp;on&nbsp;a&nbsp;separate&nbsp;line,&nbsp;but&nbsp;here</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825576">//&nbsp;we&nbsp;only&nbsp;care&nbsp;about&nbsp;the&nbsp;start&nbsp;line&nbsp;of&nbsp;the&nbsp;actual&nbsp;statement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825640">//&nbsp;without&nbsp;label&nbsp;-&nbsp;correct&nbsp;line&nbsp;for&nbsp;each&nbsp;label</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825690">for</span>&nbsp;<span class="ident" id="5825694">t</span>&nbsp;<span class="op" id="5825696">:=</span>&nbsp;<span class="ident" id="5825699"><a href="/gostd/go/printer/nodes.go.html#5824950">s</a></span><span class="op" id="5825700">;</span>&nbsp;<span class="op" id="5825702">;</span>&nbsp;<span class="op" id="5825704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825710">lt</span><span class="op" id="5825712">,</span>&nbsp;<span class="ident" id="5825714">_</span>&nbsp;<span class="op" id="5825716">:=</span>&nbsp;<span class="ident" id="5825719"><a href="/gostd/go/printer/nodes.go.html#5825694">t</a></span><span class="op" id="5825720">.</span><span class="op" id="5825721">(</span><span class="op" id="5825722">*</span><span class="ident" id="5825723"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5825726">.</span><span class="ident" id="5825727"><a href="/gostd/go/ast/ast.go.html#3811398">LabeledStmt</a></span><span class="op" id="5825738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825744">if</span>&nbsp;<span class="ident" id="5825747"><a href="/gostd/go/printer/nodes.go.html#5825710">lt</a></span>&nbsp;<span class="op" id="5825750">==</span>&nbsp;<span class="builtintype" id="5825753">nil</span>&nbsp;<span class="op" id="5825757">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825764">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825780"><a href="/gostd/go/printer/nodes.go.html#5824925">line</a></span><span class="op" id="5825784">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825791"><a href="/gostd/go/printer/nodes.go.html#5825694">t</a></span>&nbsp;<span class="op" id="5825793">=</span>&nbsp;<span class="ident" id="5825795"><a href="/gostd/go/printer/nodes.go.html#5825710">lt</a></span><span class="op" id="5825797">.</span><span class="ident" id="5825798"><a href="/gostd/go/ast/ast.go.html#3811473">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825806">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825811"><a href="/gostd/go/printer/nodes.go.html#5824935">i</a></span><span class="op" id="5825812">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825823">if</span>&nbsp;<span class="ident" id="5825826"><a href="/gostd/go/printer/nodes.go.html#5824847">nindent</a></span>&nbsp;<span class="op" id="5825834">&gt;</span>&nbsp;<span class="num" id="5825836">0</span>&nbsp;<span class="op" id="5825838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825842"><a href="/gostd/go/printer/nodes.go.html#5824809">p</a></span><span class="op" id="5825843">.</span><span class="builtinfunc" id="5825844"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5825849">(</span><span class="ident" id="5825850"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5825858">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825861">}</span><br>
<span class="lineno"></span><span class="op" id="5825863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5825866">//&nbsp;block&nbsp;prints&nbsp;an&nbsp;*ast.BlockStmt;&nbsp;it&nbsp;always&nbsp;spans&nbsp;at&nbsp;least&nbsp;two&nbsp;lines.</span><br>
<span class="lineno"></span><span class="keyword" id="5825937">func</span>&nbsp;<span class="op" id="5825942">(</span><span class="ident" id="5825943">p</span>&nbsp;<span class="op" id="5825945">*</span><span class="ident" id="5825946"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5825953">)</span>&nbsp;<span class="ident" id="5825955">block</span><span class="op" id="5825960">(</span><span class="ident" id="5825961">b</span>&nbsp;<span class="op" id="5825963">*</span><span class="ident" id="5825964"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5825967">.</span><span class="ident" id="5825968"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5825977">,</span>&nbsp;<span class="ident" id="5825979">nindent</span>&nbsp;<span class="builtintype" id="5825987">int</span><span class="op" id="5825990">)</span>&nbsp;<span class="op" id="5825992">{</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825995"><a href="/gostd/go/printer/nodes.go.html#5825943">p</a></span><span class="op" id="5825996">.</span><span class="builtinfunc" id="5825997"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5826002">(</span><span class="ident" id="5826003"><a href="/gostd/go/printer/nodes.go.html#5825961">b</a></span><span class="op" id="5826004">.</span><span class="ident" id="5826005"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="5826011">,</span>&nbsp;<span class="ident" id="5826013"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5826018">.</span><span class="ident" id="5826019"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5826025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826028"><a href="/gostd/go/printer/nodes.go.html#5825943">p</a></span><span class="op" id="5826029">.</span><span class="ident" id="5826030"><a href="/gostd/go/printer/nodes.go.html#5824821">stmtList</a></span><span class="op" id="5826038">(</span><span class="ident" id="5826039"><a href="/gostd/go/printer/nodes.go.html#5825961">b</a></span><span class="op" id="5826040">.</span><span class="ident" id="5826041"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5826045">,</span>&nbsp;<span class="ident" id="5826047"><a href="/gostd/go/printer/nodes.go.html#5825979">nindent</a></span><span class="op" id="5826054">,</span>&nbsp;<span class="builtintype" id="5826056">true</span><span class="op" id="5826060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826063"><a href="/gostd/go/printer/nodes.go.html#5825943">p</a></span><span class="op" id="5826064">.</span><span class="ident" id="5826065"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5826074">(</span><span class="ident" id="5826075"><a href="/gostd/go/printer/nodes.go.html#5825943">p</a></span><span class="op" id="5826076">.</span><span class="ident" id="5826077"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5826084">(</span><span class="ident" id="5826085"><a href="/gostd/go/printer/nodes.go.html#5825961">b</a></span><span class="op" id="5826086">.</span><span class="ident" id="5826087"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5826093">)</span><span class="op" id="5826094">,</span>&nbsp;<span class="num" id="5826096">1</span><span class="op" id="5826097">,</span>&nbsp;<span class="ident" id="5826099"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5826105">,</span>&nbsp;<span class="builtintype" id="5826107">true</span><span class="op" id="5826111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826114"><a href="/gostd/go/printer/nodes.go.html#5825943">p</a></span><span class="op" id="5826115">.</span><span class="builtinfunc" id="5826116"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5826121">(</span><span class="ident" id="5826122"><a href="/gostd/go/printer/nodes.go.html#5825961">b</a></span><span class="op" id="5826123">.</span><span class="ident" id="5826124"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5826130">,</span>&nbsp;<span class="ident" id="5826132"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5826137">.</span><span class="ident" id="5826138"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5826144">)</span><br>
<span class="lineno"></span><span class="op" id="5826146">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span><span class="keyword" id="5826149">func</span>&nbsp;<span class="ident" id="5826154">isTypeName</span><span class="op" id="5826164">(</span><span class="ident" id="5826165">x</span>&nbsp;<span class="ident" id="5826167"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826170">.</span><span class="ident" id="5826171"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5826175">)</span>&nbsp;<span class="builtintype" id="5826177">bool</span>&nbsp;<span class="op" id="5826182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826185">switch</span>&nbsp;<span class="ident" id="5826192">t</span>&nbsp;<span class="op" id="5826194">:=</span>&nbsp;<span class="ident" id="5826197"><a href="/gostd/go/printer/nodes.go.html#5826165">x</a></span><span class="op" id="5826198">.</span><span class="op" id="5826199">(</span><span class="keyword" id="5826200">type</span><span class="op" id="5826204">)</span>&nbsp;<span class="op" id="5826206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826209">case</span>&nbsp;<span class="op" id="5826214">*</span><span class="ident" id="5826215"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826218">.</span><span class="ident" id="5826219"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5826224">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826228">return</span>&nbsp;<span class="builtintype" id="5826235">true</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826241">case</span>&nbsp;<span class="op" id="5826246">*</span><span class="ident" id="5826247"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826250">.</span><span class="ident" id="5826251"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5826263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826267">return</span>&nbsp;<span class="ident" id="5826274"><a href="/gostd/go/printer/nodes.go.html#5826154">isTypeName</a></span><span class="op" id="5826284">(</span><span class="ident" id="5826285"><a href="/gostd/go/printer/nodes.go.html#5826192">t</a></span><span class="op" id="5826286">.</span><span class="ident" id="5826287"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="5826288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826294">return</span>&nbsp;<span class="builtintype" id="5826301">false</span><br>
<span class="lineno"></span><span class="op" id="5826307">}</span><br>
<span class="lineno">960</span><br>
<span class="lineno"></span><span class="keyword" id="5826310">func</span>&nbsp;<span class="ident" id="5826315">stripParens</span><span class="op" id="5826326">(</span><span class="ident" id="5826327">x</span>&nbsp;<span class="ident" id="5826329"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826332">.</span><span class="ident" id="5826333"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5826337">)</span>&nbsp;<span class="ident" id="5826339"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826342">.</span><span class="ident" id="5826343"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5826348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826351">if</span>&nbsp;<span class="ident" id="5826354">px</span><span class="op" id="5826356">,</span>&nbsp;<span class="ident" id="5826358">strip</span>&nbsp;<span class="op" id="5826364">:=</span>&nbsp;<span class="ident" id="5826367"><a href="/gostd/go/printer/nodes.go.html#5826327">x</a></span><span class="op" id="5826368">.</span><span class="op" id="5826369">(</span><span class="op" id="5826370">*</span><span class="ident" id="5826371"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826374">.</span><span class="ident" id="5826375"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5826384">)</span><span class="op" id="5826385">;</span>&nbsp;<span class="ident" id="5826387"><a href="/gostd/go/printer/nodes.go.html#5826358">strip</a></span>&nbsp;<span class="op" id="5826393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826397">//&nbsp;parentheses&nbsp;must&nbsp;not&nbsp;be&nbsp;stripped&nbsp;if&nbsp;there&nbsp;are&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826452">//&nbsp;unparenthesized&nbsp;composite&nbsp;literals&nbsp;starting&nbsp;with</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826506">//&nbsp;a&nbsp;type&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826523"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826526">.</span><span class="ident" id="5826527"><a href="/gostd/go/ast/walk.go.html#3873431">Inspect</a></span><span class="op" id="5826534">(</span><span class="ident" id="5826535"><a href="/gostd/go/printer/nodes.go.html#5826354">px</a></span><span class="op" id="5826537">.</span><span class="ident" id="5826538"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5826539">,</span>&nbsp;<span class="keyword" id="5826541">func</span><span class="op" id="5826545">(</span><span class="ident" id="5826546">node</span>&nbsp;<span class="ident" id="5826551"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826554">.</span><span class="ident" id="5826555"><a href="/gostd/go/ast/ast.go.html#3795014">Node</a></span><span class="op" id="5826559">)</span>&nbsp;<span class="builtintype" id="5826561">bool</span>&nbsp;<span class="op" id="5826566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826571">switch</span>&nbsp;<span class="ident" id="5826578">x</span>&nbsp;<span class="op" id="5826580">:=</span>&nbsp;<span class="ident" id="5826583"><a href="/gostd/go/printer/nodes.go.html#5826546">node</a></span><span class="op" id="5826587">.</span><span class="op" id="5826588">(</span><span class="keyword" id="5826589">type</span><span class="op" id="5826593">)</span>&nbsp;<span class="op" id="5826595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826600">case</span>&nbsp;<span class="op" id="5826605">*</span><span class="ident" id="5826606"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826609">.</span><span class="ident" id="5826610"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5826619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826625">//&nbsp;parentheses&nbsp;protect&nbsp;enclosed&nbsp;composite&nbsp;literals</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826680">return</span>&nbsp;<span class="builtintype" id="5826687">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826696">case</span>&nbsp;<span class="op" id="5826701">*</span><span class="ident" id="5826702"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826705">.</span><span class="ident" id="5826706"><a href="/gostd/go/ast/ast.go.html#3801158">CompositeLit</a></span><span class="op" id="5826718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826724">if</span>&nbsp;<span class="ident" id="5826727"><a href="/gostd/go/printer/nodes.go.html#5826154">isTypeName</a></span><span class="op" id="5826737">(</span><span class="ident" id="5826738"><a href="/gostd/go/printer/nodes.go.html#5826578">x</a></span><span class="op" id="5826739">.</span><span class="ident" id="5826740"><a href="/gostd/go/ast/ast.go.html#3801182">Type</a></span><span class="op" id="5826744">)</span>&nbsp;<span class="op" id="5826746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826753"><a href="/gostd/go/printer/nodes.go.html#5826358">strip</a></span>&nbsp;<span class="op" id="5826759">=</span>&nbsp;<span class="builtintype" id="5826761">false</span>&nbsp;<span class="comment" id="5826767">//&nbsp;do&nbsp;not&nbsp;strip&nbsp;parentheses</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826799">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826805">return</span>&nbsp;<span class="builtintype" id="5826812">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826826">//&nbsp;in&nbsp;all&nbsp;other&nbsp;cases,&nbsp;keep&nbsp;inspecting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826868">return</span>&nbsp;<span class="builtintype" id="5826875">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826882">}</span><span class="op" id="5826883">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826887">if</span>&nbsp;<span class="ident" id="5826890"><a href="/gostd/go/printer/nodes.go.html#5826358">strip</a></span>&nbsp;<span class="op" id="5826896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826901">return</span>&nbsp;<span class="ident" id="5826908"><a href="/gostd/go/printer/nodes.go.html#5826315">stripParens</a></span><span class="op" id="5826919">(</span><span class="ident" id="5826920"><a href="/gostd/go/printer/nodes.go.html#5826354">px</a></span><span class="op" id="5826922">.</span><span class="ident" id="5826923"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5826924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826934">return</span>&nbsp;<span class="ident" id="5826941"><a href="/gostd/go/printer/nodes.go.html#5826327">x</a></span><br>
<span class="lineno">985</span><span class="op" id="5826943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826946">func</span>&nbsp;<span class="ident" id="5826951">stripParensAlways</span><span class="op" id="5826968">(</span><span class="ident" id="5826969">x</span>&nbsp;<span class="ident" id="5826971"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826974">.</span><span class="ident" id="5826975"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5826979">)</span>&nbsp;<span class="ident" id="5826981"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5826984">.</span><span class="ident" id="5826985"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5826990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826993">if</span>&nbsp;<span class="ident" id="5826996">x</span><span class="op" id="5826997">,</span>&nbsp;<span class="ident" id="5826999">ok</span>&nbsp;<span class="op" id="5827002">:=</span>&nbsp;<span class="ident" id="5827005"><a href="/gostd/go/printer/nodes.go.html#5826969">x</a></span><span class="op" id="5827006">.</span><span class="op" id="5827007">(</span><span class="op" id="5827008">*</span><span class="ident" id="5827009"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5827012">.</span><span class="ident" id="5827013"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5827022">)</span><span class="op" id="5827023">;</span>&nbsp;<span class="ident" id="5827025"><a href="/gostd/go/printer/nodes.go.html#5826999">ok</a></span>&nbsp;<span class="op" id="5827028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827032">return</span>&nbsp;<span class="ident" id="5827039"><a href="/gostd/go/printer/nodes.go.html#5826951">stripParensAlways</a></span><span class="op" id="5827056">(</span><span class="ident" id="5827057"><a href="/gostd/go/printer/nodes.go.html#5826996">x</a></span><span class="op" id="5827058">.</span><span class="ident" id="5827059"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5827060">)</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827066">return</span>&nbsp;<span class="ident" id="5827073"><a href="/gostd/go/printer/nodes.go.html#5826969">x</a></span><br>
<span class="lineno"></span><span class="op" id="5827075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5827078">func</span>&nbsp;<span class="op" id="5827083">(</span><span class="ident" id="5827084">p</span>&nbsp;<span class="op" id="5827086">*</span><span class="ident" id="5827087"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5827094">)</span>&nbsp;<span class="ident" id="5827096">controlClause</span><span class="op" id="5827109">(</span><span class="ident" id="5827110">isForStmt</span>&nbsp;<span class="builtintype" id="5827120">bool</span><span class="op" id="5827124">,</span>&nbsp;<span class="ident" id="5827126">init</span>&nbsp;<span class="ident" id="5827131"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5827134">.</span><span class="ident" id="5827135"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="5827139">,</span>&nbsp;<span class="ident" id="5827141">expr</span>&nbsp;<span class="ident" id="5827146"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5827149">.</span><span class="ident" id="5827150"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5827154">,</span>&nbsp;<span class="ident" id="5827156">post</span>&nbsp;<span class="ident" id="5827161"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5827164">.</span><span class="ident" id="5827165"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="5827169">)</span>&nbsp;<span class="op" id="5827171">{</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827174"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827175">.</span><span class="builtinfunc" id="5827176"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5827181">(</span><span class="ident" id="5827182"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5827187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827190">needsBlank</span>&nbsp;<span class="op" id="5827201">:=</span>&nbsp;<span class="builtintype" id="5827204">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827211">if</span>&nbsp;<span class="ident" id="5827214"><a href="/gostd/go/printer/nodes.go.html#5827126">init</a></span>&nbsp;<span class="op" id="5827219">==</span>&nbsp;<span class="builtintype" id="5827222">nil</span>&nbsp;<span class="op" id="5827226">&amp;&amp;</span>&nbsp;<span class="ident" id="5827229"><a href="/gostd/go/printer/nodes.go.html#5827156">post</a></span>&nbsp;<span class="op" id="5827234">==</span>&nbsp;<span class="builtintype" id="5827237">nil</span>&nbsp;<span class="op" id="5827241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5827245">//&nbsp;no&nbsp;semicolons&nbsp;required</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827273">if</span>&nbsp;<span class="ident" id="5827276"><a href="/gostd/go/printer/nodes.go.html#5827141">expr</a></span>&nbsp;<span class="op" id="5827281">!=</span>&nbsp;<span class="builtintype" id="5827284">nil</span>&nbsp;<span class="op" id="5827288">{</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827293"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827294">.</span><span class="ident" id="5827295"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5827299">(</span><span class="ident" id="5827300"><a href="/gostd/go/printer/nodes.go.html#5826315">stripParens</a></span><span class="op" id="5827311">(</span><span class="ident" id="5827312"><a href="/gostd/go/printer/nodes.go.html#5827141">expr</a></span><span class="op" id="5827316">)</span><span class="op" id="5827317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827322"><a href="/gostd/go/printer/nodes.go.html#5827190">needsBlank</a></span>&nbsp;<span class="op" id="5827333">=</span>&nbsp;<span class="builtintype" id="5827335">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827345">}</span>&nbsp;<span class="keyword" id="5827347">else</span>&nbsp;<span class="op" id="5827352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5827356">//&nbsp;all&nbsp;semicolons&nbsp;required</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5827385">//&nbsp;(they&nbsp;are&nbsp;not&nbsp;separators,&nbsp;print&nbsp;them&nbsp;explicitly)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827439">if</span>&nbsp;<span class="ident" id="5827442"><a href="/gostd/go/printer/nodes.go.html#5827126">init</a></span>&nbsp;<span class="op" id="5827447">!=</span>&nbsp;<span class="builtintype" id="5827450">nil</span>&nbsp;<span class="op" id="5827454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827459"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827460">.</span><span class="ident" id="5827461"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5827465">(</span><span class="ident" id="5827466"><a href="/gostd/go/printer/nodes.go.html#5827126">init</a></span><span class="op" id="5827470">,</span>&nbsp;<span class="builtintype" id="5827472">false</span><span class="op" id="5827477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827485"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827486">.</span><span class="builtinfunc" id="5827487"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5827492">(</span><span class="ident" id="5827493"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5827498">.</span><span class="ident" id="5827499"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span><span class="op" id="5827508">,</span>&nbsp;<span class="ident" id="5827510"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5827515">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827519">if</span>&nbsp;<span class="ident" id="5827522"><a href="/gostd/go/printer/nodes.go.html#5827141">expr</a></span>&nbsp;<span class="op" id="5827527">!=</span>&nbsp;<span class="builtintype" id="5827530">nil</span>&nbsp;<span class="op" id="5827534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827539"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827540">.</span><span class="ident" id="5827541"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5827545">(</span><span class="ident" id="5827546"><a href="/gostd/go/printer/nodes.go.html#5826315">stripParens</a></span><span class="op" id="5827557">(</span><span class="ident" id="5827558"><a href="/gostd/go/printer/nodes.go.html#5827141">expr</a></span><span class="op" id="5827562">)</span><span class="op" id="5827563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827568"><a href="/gostd/go/printer/nodes.go.html#5827190">needsBlank</a></span>&nbsp;<span class="op" id="5827579">=</span>&nbsp;<span class="builtintype" id="5827581">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827592">if</span>&nbsp;<span class="ident" id="5827595"><a href="/gostd/go/printer/nodes.go.html#5827110">isForStmt</a></span>&nbsp;<span class="op" id="5827605">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827610"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827611">.</span><span class="builtinfunc" id="5827612"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5827617">(</span><span class="ident" id="5827618"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5827623">.</span><span class="ident" id="5827624"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span><span class="op" id="5827633">,</span>&nbsp;<span class="ident" id="5827635"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5827640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827645"><a href="/gostd/go/printer/nodes.go.html#5827190">needsBlank</a></span>&nbsp;<span class="op" id="5827656">=</span>&nbsp;<span class="builtintype" id="5827658">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827667">if</span>&nbsp;<span class="ident" id="5827670"><a href="/gostd/go/printer/nodes.go.html#5827156">post</a></span>&nbsp;<span class="op" id="5827675">!=</span>&nbsp;<span class="builtintype" id="5827678">nil</span>&nbsp;<span class="op" id="5827682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827688"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827689">.</span><span class="ident" id="5827690"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5827694">(</span><span class="ident" id="5827695"><a href="/gostd/go/printer/nodes.go.html#5827156">post</a></span><span class="op" id="5827699">,</span>&nbsp;<span class="builtintype" id="5827701">false</span><span class="op" id="5827706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827712"><a href="/gostd/go/printer/nodes.go.html#5827190">needsBlank</a></span>&nbsp;<span class="op" id="5827723">=</span>&nbsp;<span class="builtintype" id="5827725">true</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827743">if</span>&nbsp;<span class="ident" id="5827746"><a href="/gostd/go/printer/nodes.go.html#5827190">needsBlank</a></span>&nbsp;<span class="op" id="5827757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827761"><a href="/gostd/go/printer/nodes.go.html#5827084">p</a></span><span class="op" id="5827762">.</span><span class="builtinfunc" id="5827763"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5827768">(</span><span class="ident" id="5827769"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5827774">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827777">}</span><br>
<span class="lineno"></span><span class="op" id="5827779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5827782">//&nbsp;indentList&nbsp;reports&nbsp;whether&nbsp;an&nbsp;expression&nbsp;list&nbsp;would&nbsp;look&nbsp;better&nbsp;if&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5827855">//&nbsp;were&nbsp;indented&nbsp;wholesale&nbsp;(starting&nbsp;with&nbsp;the&nbsp;very&nbsp;first&nbsp;element,&nbsp;rather</span><br>
<span class="lineno">1030</span><span class="comment" id="5827928">//&nbsp;than&nbsp;starting&nbsp;at&nbsp;the&nbsp;first&nbsp;line&nbsp;break).</span><br>
<span class="lineno"></span><span class="comment" id="5827971">//</span><br>
<span class="lineno"></span><span class="keyword" id="5827974">func</span>&nbsp;<span class="op" id="5827979">(</span><span class="ident" id="5827980">p</span>&nbsp;<span class="op" id="5827982">*</span><span class="ident" id="5827983"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5827990">)</span>&nbsp;<span class="ident" id="5827992">indentList</span><span class="op" id="5828002">(</span><span class="ident" id="5828003">list</span>&nbsp;<span class="op" id="5828008">[</span><span class="op" id="5828009">]</span><span class="ident" id="5828010"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5828013">.</span><span class="ident" id="5828014"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5828018">)</span>&nbsp;<span class="builtintype" id="5828020">bool</span>&nbsp;<span class="op" id="5828025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828028">//&nbsp;Heuristic:&nbsp;indentList&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;than&nbsp;one&nbsp;multi-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828101">//&nbsp;line&nbsp;element&nbsp;in&nbsp;the&nbsp;list,&nbsp;or&nbsp;if&nbsp;there&nbsp;is&nbsp;any&nbsp;element&nbsp;that&nbsp;is&nbsp;not</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828170">//&nbsp;starting&nbsp;on&nbsp;the&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;one&nbsp;ends.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828226">if</span>&nbsp;<span class="builtinfunc" id="5828229">len</span><span class="op" id="5828232">(</span><span class="ident" id="5828233"><a href="/gostd/go/printer/nodes.go.html#5828003">list</a></span><span class="op" id="5828237">)</span>&nbsp;<span class="op" id="5828239">&gt;=</span>&nbsp;<span class="num" id="5828242">2</span>&nbsp;<span class="op" id="5828244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828248">var</span>&nbsp;<span class="ident" id="5828252">b</span>&nbsp;<span class="op" id="5828254">=</span>&nbsp;<span class="ident" id="5828256"><a href="/gostd/go/printer/nodes.go.html#5827980">p</a></span><span class="op" id="5828257">.</span><span class="ident" id="5828258"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5828265">(</span><span class="ident" id="5828266"><a href="/gostd/go/printer/nodes.go.html#5828003">list</a></span><span class="op" id="5828270">[</span><span class="num" id="5828271">0</span><span class="op" id="5828272">]</span><span class="op" id="5828273">.</span><span class="ident" id="5828274"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5828277">(</span><span class="op" id="5828278">)</span><span class="op" id="5828279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828283">var</span>&nbsp;<span class="ident" id="5828287">e</span>&nbsp;<span class="op" id="5828289">=</span>&nbsp;<span class="ident" id="5828291"><a href="/gostd/go/printer/nodes.go.html#5827980">p</a></span><span class="op" id="5828292">.</span><span class="ident" id="5828293"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5828300">(</span><span class="ident" id="5828301"><a href="/gostd/go/printer/nodes.go.html#5828003">list</a></span><span class="op" id="5828305">[</span><span class="builtinfunc" id="5828306">len</span><span class="op" id="5828309">(</span><span class="ident" id="5828310"><a href="/gostd/go/printer/nodes.go.html#5828003">list</a></span><span class="op" id="5828314">)</span><span class="op" id="5828315">-</span><span class="num" id="5828316">1</span><span class="op" id="5828317">]</span><span class="op" id="5828318">.</span><span class="ident" id="5828319"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5828322">(</span><span class="op" id="5828323">)</span><span class="op" id="5828324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828328">if</span>&nbsp;<span class="num" id="5828331">0</span>&nbsp;<span class="op" id="5828333">&lt;</span>&nbsp;<span class="ident" id="5828335"><a href="/gostd/go/printer/nodes.go.html#5828252">b</a></span>&nbsp;<span class="op" id="5828337">&amp;&amp;</span>&nbsp;<span class="ident" id="5828340"><a href="/gostd/go/printer/nodes.go.html#5828252">b</a></span>&nbsp;<span class="op" id="5828342">&lt;</span>&nbsp;<span class="ident" id="5828344"><a href="/gostd/go/printer/nodes.go.html#5828287">e</a></span>&nbsp;<span class="op" id="5828346">{</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828351">//&nbsp;list&nbsp;spans&nbsp;multiple&nbsp;lines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828383">n</span>&nbsp;<span class="op" id="5828385">:=</span>&nbsp;<span class="num" id="5828388">0</span>&nbsp;<span class="comment" id="5828390">//&nbsp;multi-line&nbsp;element&nbsp;count</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828421">line</span>&nbsp;<span class="op" id="5828426">:=</span>&nbsp;<span class="ident" id="5828429"><a href="/gostd/go/printer/nodes.go.html#5828252">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828434">for</span>&nbsp;<span class="ident" id="5828438">_</span><span class="op" id="5828439">,</span>&nbsp;<span class="ident" id="5828441">x</span>&nbsp;<span class="op" id="5828443">:=</span>&nbsp;<span class="keyword" id="5828446">range</span>&nbsp;<span class="ident" id="5828452"><a href="/gostd/go/printer/nodes.go.html#5828003">list</a></span>&nbsp;<span class="op" id="5828457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828463">xb</span>&nbsp;<span class="op" id="5828466">:=</span>&nbsp;<span class="ident" id="5828469"><a href="/gostd/go/printer/nodes.go.html#5827980">p</a></span><span class="op" id="5828470">.</span><span class="ident" id="5828471"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5828478">(</span><span class="ident" id="5828479"><a href="/gostd/go/printer/nodes.go.html#5828441">x</a></span><span class="op" id="5828480">.</span><span class="ident" id="5828481"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5828484">(</span><span class="op" id="5828485">)</span><span class="op" id="5828486">)</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828492">xe</span>&nbsp;<span class="op" id="5828495">:=</span>&nbsp;<span class="ident" id="5828498"><a href="/gostd/go/printer/nodes.go.html#5827980">p</a></span><span class="op" id="5828499">.</span><span class="ident" id="5828500"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5828507">(</span><span class="ident" id="5828508"><a href="/gostd/go/printer/nodes.go.html#5828441">x</a></span><span class="op" id="5828509">.</span><span class="ident" id="5828510"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5828513">(</span><span class="op" id="5828514">)</span><span class="op" id="5828515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828521">if</span>&nbsp;<span class="ident" id="5828524"><a href="/gostd/go/printer/nodes.go.html#5828421">line</a></span>&nbsp;<span class="op" id="5828529">&lt;</span>&nbsp;<span class="ident" id="5828531"><a href="/gostd/go/printer/nodes.go.html#5828463">xb</a></span>&nbsp;<span class="op" id="5828534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828541">//&nbsp;x&nbsp;is&nbsp;not&nbsp;starting&nbsp;on&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828579">//&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;one&nbsp;ended</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828618">return</span>&nbsp;<span class="builtintype" id="5828625">true</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828640">if</span>&nbsp;<span class="ident" id="5828643"><a href="/gostd/go/printer/nodes.go.html#5828463">xb</a></span>&nbsp;<span class="op" id="5828646">&lt;</span>&nbsp;<span class="ident" id="5828648"><a href="/gostd/go/printer/nodes.go.html#5828492">xe</a></span>&nbsp;<span class="op" id="5828651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828658">//&nbsp;x&nbsp;is&nbsp;a&nbsp;multi-line&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828692"><a href="/gostd/go/printer/nodes.go.html#5828383">n</a></span><span class="op" id="5828693">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828700">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828706"><a href="/gostd/go/printer/nodes.go.html#5828421">line</a></span>&nbsp;<span class="op" id="5828711">=</span>&nbsp;<span class="ident" id="5828713"><a href="/gostd/go/printer/nodes.go.html#5828492">xe</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828724">return</span>&nbsp;<span class="ident" id="5828731"><a href="/gostd/go/printer/nodes.go.html#5828383">n</a></span>&nbsp;<span class="op" id="5828733">&gt;</span>&nbsp;<span class="num" id="5828735">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828742">}</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828745">return</span>&nbsp;<span class="builtintype" id="5828752">false</span><br>
<span class="lineno"></span><span class="op" id="5828758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5828761">func</span>&nbsp;<span class="op" id="5828766">(</span><span class="ident" id="5828767">p</span>&nbsp;<span class="op" id="5828769">*</span><span class="ident" id="5828770"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5828777">)</span>&nbsp;<span class="ident" id="5828779">stmt</span><span class="op" id="5828783">(</span><span class="ident" id="5828784">stmt</span>&nbsp;<span class="ident" id="5828789"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5828792">.</span><span class="ident" id="5828793"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="5828797">,</span>&nbsp;<span class="ident" id="5828799">nextIsRBrace</span>&nbsp;<span class="builtintype" id="5828812">bool</span><span class="op" id="5828816">)</span>&nbsp;<span class="op" id="5828818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828821"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5828822">.</span><span class="builtinfunc" id="5828823"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5828828">(</span><span class="ident" id="5828829"><a href="/gostd/go/printer/nodes.go.html#5828784">stmt</a></span><span class="op" id="5828833">.</span><span class="ident" id="5828834"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5828837">(</span><span class="op" id="5828838">)</span><span class="op" id="5828839">)</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828843">switch</span>&nbsp;<span class="ident" id="5828850">s</span>&nbsp;<span class="op" id="5828852">:=</span>&nbsp;<span class="ident" id="5828855"><a href="/gostd/go/printer/nodes.go.html#5828784">stmt</a></span><span class="op" id="5828859">.</span><span class="op" id="5828860">(</span><span class="keyword" id="5828861">type</span><span class="op" id="5828865">)</span>&nbsp;<span class="op" id="5828867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828870">case</span>&nbsp;<span class="op" id="5828875">*</span><span class="ident" id="5828876"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5828879">.</span><span class="ident" id="5828880"><a href="/gostd/go/ast/ast.go.html#3810887">BadStmt</a></span><span class="op" id="5828887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828891"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5828892">.</span><span class="builtinfunc" id="5828893"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5828898">(</span><span class="string" id="5828899">&#34;BadStmt&#34;</span><span class="op" id="5828908">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828912">case</span>&nbsp;<span class="op" id="5828917">*</span><span class="ident" id="5828918"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5828921">.</span><span class="ident" id="5828922"><a href="/gostd/go/ast/ast.go.html#3811031">DeclStmt</a></span><span class="op" id="5828930">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828934"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5828935">.</span><span class="ident" id="5828936"><a href="/gostd/go/printer/nodes.go.html#5840955">decl</a></span><span class="op" id="5828940">(</span><span class="ident" id="5828941"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5828942">.</span><span class="ident" id="5828943"><a href="/gostd/go/ast/ast.go.html#3811051">Decl</a></span><span class="op" id="5828947">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828951">case</span>&nbsp;<span class="op" id="5828956">*</span><span class="ident" id="5828957"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5828960">.</span><span class="ident" id="5828961"><a href="/gostd/go/ast/ast.go.html#3811268">EmptyStmt</a></span><span class="op" id="5828970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828974">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828993">case</span>&nbsp;<span class="op" id="5828998">*</span><span class="ident" id="5828999"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5829002">.</span><span class="ident" id="5829003"><a href="/gostd/go/ast/ast.go.html#3811398">LabeledStmt</a></span><span class="op" id="5829014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829018">//&nbsp;a&nbsp;&#34;correcting&#34;&nbsp;unindent&nbsp;immediately&nbsp;following&nbsp;a&nbsp;line&nbsp;break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829082">//&nbsp;is&nbsp;applied&nbsp;before&nbsp;the&nbsp;line&nbsp;break&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829143">//&nbsp;between&nbsp;(see&nbsp;writeWhitespace)</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829178"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829179">.</span><span class="builtinfunc" id="5829180"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5829185">(</span><span class="ident" id="5829186"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5829194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829198"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829199">.</span><span class="ident" id="5829200"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5829204">(</span><span class="ident" id="5829205"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829206">.</span><span class="ident" id="5829207"><a href="/gostd/go/ast/ast.go.html#3811421">Label</a></span><span class="op" id="5829212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829216"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829217">.</span><span class="builtinfunc" id="5829218"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5829223">(</span><span class="ident" id="5829224"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829225">.</span><span class="ident" id="5829226"><a href="/gostd/go/ast/ast.go.html#3811436">Colon</a></span><span class="op" id="5829231">,</span>&nbsp;<span class="ident" id="5829233"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5829238">.</span><span class="ident" id="5829239"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5829244">,</span>&nbsp;<span class="ident" id="5829246"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5829252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829256">if</span>&nbsp;<span class="ident" id="5829259">e</span><span class="op" id="5829260">,</span>&nbsp;<span class="ident" id="5829262">isEmpty</span>&nbsp;<span class="op" id="5829270">:=</span>&nbsp;<span class="ident" id="5829273"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829274">.</span><span class="ident" id="5829275"><a href="/gostd/go/ast/ast.go.html#3811473">Stmt</a></span><span class="op" id="5829279">.</span><span class="op" id="5829280">(</span><span class="op" id="5829281">*</span><span class="ident" id="5829282"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5829285">.</span><span class="ident" id="5829286"><a href="/gostd/go/ast/ast.go.html#3811268">EmptyStmt</a></span><span class="op" id="5829295">)</span><span class="op" id="5829296">;</span>&nbsp;<span class="ident" id="5829298"><a href="/gostd/go/printer/nodes.go.html#5829262">isEmpty</a></span>&nbsp;<span class="op" id="5829306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829311">if</span>&nbsp;<span class="op" id="5829314">!</span><span class="ident" id="5829315"><a href="/gostd/go/printer/nodes.go.html#5828799">nextIsRBrace</a></span>&nbsp;<span class="op" id="5829328">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829334"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829335">.</span><span class="builtinfunc" id="5829336"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5829341">(</span><span class="ident" id="5829342"><a href="/gostd/go/printer/printer.go.html#5843081">newline</a></span><span class="op" id="5829349">,</span>&nbsp;<span class="ident" id="5829351"><a href="/gostd/go/printer/nodes.go.html#5829259">e</a></span><span class="op" id="5829352">.</span><span class="ident" id="5829353"><a href="/gostd/go/ast/ast.go.html#3815559">Pos</a></span><span class="op" id="5829356">(</span><span class="op" id="5829357">)</span><span class="op" id="5829358">,</span>&nbsp;<span class="ident" id="5829360"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5829365">.</span><span class="ident" id="5829366"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span><span class="op" id="5829375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829381">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829394">}</span>&nbsp;<span class="keyword" id="5829396">else</span>&nbsp;<span class="op" id="5829401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829406"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829407">.</span><span class="ident" id="5829408"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5829417">(</span><span class="ident" id="5829418"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829419">.</span><span class="ident" id="5829420"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5829427">(</span><span class="ident" id="5829428"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829429">.</span><span class="ident" id="5829430"><a href="/gostd/go/ast/ast.go.html#3811473">Stmt</a></span><span class="op" id="5829434">.</span><span class="ident" id="5829435"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5829438">(</span><span class="op" id="5829439">)</span><span class="op" id="5829440">)</span><span class="op" id="5829441">,</span>&nbsp;<span class="num" id="5829443">1</span><span class="op" id="5829444">,</span>&nbsp;<span class="ident" id="5829446"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5829452">,</span>&nbsp;<span class="builtintype" id="5829454">true</span><span class="op" id="5829458">)</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829466"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829467">.</span><span class="ident" id="5829468"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5829472">(</span><span class="ident" id="5829473"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829474">.</span><span class="ident" id="5829475"><a href="/gostd/go/ast/ast.go.html#3811473">Stmt</a></span><span class="op" id="5829479">,</span>&nbsp;<span class="ident" id="5829481"><a href="/gostd/go/printer/nodes.go.html#5828799">nextIsRBrace</a></span><span class="op" id="5829493">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829497">case</span>&nbsp;<span class="op" id="5829502">*</span><span class="ident" id="5829503"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5829506">.</span><span class="ident" id="5829507"><a href="/gostd/go/ast/ast.go.html#3811577">ExprStmt</a></span><span class="op" id="5829515">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829519">const</span>&nbsp;<span class="ident" id="5829525">depth</span>&nbsp;<span class="op" id="5829531">=</span>&nbsp;<span class="num" id="5829533">1</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829537"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829538">.</span><span class="ident" id="5829539"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5829544">(</span><span class="ident" id="5829545"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829546">.</span><span class="ident" id="5829547"><a href="/gostd/go/ast/ast.go.html#3811597">X</a></span><span class="op" id="5829548">,</span>&nbsp;<span class="ident" id="5829550"><a href="/gostd/go/printer/nodes.go.html#5829525">depth</a></span><span class="op" id="5829555">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829559">case</span>&nbsp;<span class="op" id="5829564">*</span><span class="ident" id="5829565"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5829568">.</span><span class="ident" id="5829569"><a href="/gostd/go/ast/ast.go.html#3811672">SendStmt</a></span><span class="op" id="5829577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829581">const</span>&nbsp;<span class="ident" id="5829587">depth</span>&nbsp;<span class="op" id="5829593">=</span>&nbsp;<span class="num" id="5829595">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829599"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829600">.</span><span class="ident" id="5829601"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5829606">(</span><span class="ident" id="5829607"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829608">.</span><span class="ident" id="5829609"><a href="/gostd/go/ast/ast.go.html#3811692">Chan</a></span><span class="op" id="5829613">,</span>&nbsp;<span class="ident" id="5829615"><a href="/gostd/go/printer/nodes.go.html#5829587">depth</a></span><span class="op" id="5829620">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829624"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829625">.</span><span class="builtinfunc" id="5829626"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5829631">(</span><span class="ident" id="5829632"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5829637">,</span>&nbsp;<span class="ident" id="5829639"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829640">.</span><span class="ident" id="5829641"><a href="/gostd/go/ast/ast.go.html#3811705">Arrow</a></span><span class="op" id="5829646">,</span>&nbsp;<span class="ident" id="5829648"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5829653">.</span><span class="ident" id="5829654"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5829659">,</span>&nbsp;<span class="ident" id="5829661"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5829666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829670"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829671">.</span><span class="ident" id="5829672"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5829677">(</span><span class="ident" id="5829678"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829679">.</span><span class="ident" id="5829680"><a href="/gostd/go/ast/ast.go.html#3811743">Value</a></span><span class="op" id="5829685">,</span>&nbsp;<span class="ident" id="5829687"><a href="/gostd/go/printer/nodes.go.html#5829587">depth</a></span><span class="op" id="5829692">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829696">case</span>&nbsp;<span class="op" id="5829701">*</span><span class="ident" id="5829702"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5829705">.</span><span class="ident" id="5829706"><a href="/gostd/go/ast/ast.go.html#3811830">IncDecStmt</a></span><span class="op" id="5829716">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829720">const</span>&nbsp;<span class="ident" id="5829726">depth</span>&nbsp;<span class="op" id="5829732">=</span>&nbsp;<span class="num" id="5829734">1</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829738"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829739">.</span><span class="ident" id="5829740"><a href="/gostd/go/printer/nodes.go.html#5824328">expr0</a></span><span class="op" id="5829745">(</span><span class="ident" id="5829746"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829747">.</span><span class="ident" id="5829748"><a href="/gostd/go/ast/ast.go.html#3811852">X</a></span><span class="op" id="5829749">,</span>&nbsp;<span class="ident" id="5829751"><a href="/gostd/go/printer/nodes.go.html#5829726">depth</a></span><span class="op" id="5829756">+</span><span class="num" id="5829757">1</span><span class="op" id="5829758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829762"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829763">.</span><span class="builtinfunc" id="5829764"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5829769">(</span><span class="ident" id="5829770"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829771">.</span><span class="ident" id="5829772"><a href="/gostd/go/ast/ast.go.html#3811866">TokPos</a></span><span class="op" id="5829778">,</span>&nbsp;<span class="ident" id="5829780"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829781">.</span><span class="ident" id="5829782"><a href="/gostd/go/ast/ast.go.html#3811906">Tok</a></span><span class="op" id="5829785">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829789">case</span>&nbsp;<span class="op" id="5829794">*</span><span class="ident" id="5829795"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5829798">.</span><span class="ident" id="5829799"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="5829809">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829813">var</span>&nbsp;<span class="ident" id="5829817">depth</span>&nbsp;<span class="op" id="5829823">=</span>&nbsp;<span class="num" id="5829825">1</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829829">if</span>&nbsp;<span class="builtinfunc" id="5829832">len</span><span class="op" id="5829835">(</span><span class="ident" id="5829836"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829837">.</span><span class="ident" id="5829838"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="5829841">)</span>&nbsp;<span class="op" id="5829843">&gt;</span>&nbsp;<span class="num" id="5829845">1</span>&nbsp;<span class="op" id="5829847">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5829850">len</span><span class="op" id="5829853">(</span><span class="ident" id="5829854"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829855">.</span><span class="ident" id="5829856"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="5829859">)</span>&nbsp;<span class="op" id="5829861">&gt;</span>&nbsp;<span class="num" id="5829863">1</span>&nbsp;<span class="op" id="5829865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829870"><a href="/gostd/go/printer/nodes.go.html#5829817">depth</a></span><span class="op" id="5829875">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829884"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829885">.</span><span class="ident" id="5829886"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5829894">(</span><span class="ident" id="5829895"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829896">.</span><span class="ident" id="5829897"><a href="/gostd/go/ast/ast.go.html#3815879">Pos</a></span><span class="op" id="5829900">(</span><span class="op" id="5829901">)</span><span class="op" id="5829902">,</span>&nbsp;<span class="ident" id="5829904"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829905">.</span><span class="ident" id="5829906"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="5829909">,</span>&nbsp;<span class="ident" id="5829911"><a href="/gostd/go/printer/nodes.go.html#5829817">depth</a></span><span class="op" id="5829916">,</span>&nbsp;<span class="num" id="5829918">0</span><span class="op" id="5829919">,</span>&nbsp;<span class="ident" id="5829921"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829922">.</span><span class="ident" id="5829923"><a href="/gostd/go/ast/ast.go.html#3812071">TokPos</a></span><span class="op" id="5829929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829933"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829934">.</span><span class="builtinfunc" id="5829935"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5829940">(</span><span class="ident" id="5829941"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5829946">,</span>&nbsp;<span class="ident" id="5829948"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829949">.</span><span class="ident" id="5829950"><a href="/gostd/go/ast/ast.go.html#3812071">TokPos</a></span><span class="op" id="5829956">,</span>&nbsp;<span class="ident" id="5829958"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829959">.</span><span class="ident" id="5829960"><a href="/gostd/go/ast/ast.go.html#3812111">Tok</a></span><span class="op" id="5829963">,</span>&nbsp;<span class="ident" id="5829965"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5829970">)</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829974"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5829975">.</span><span class="ident" id="5829976"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5829984">(</span><span class="ident" id="5829985"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829986">.</span><span class="ident" id="5829987"><a href="/gostd/go/ast/ast.go.html#3812071">TokPos</a></span><span class="op" id="5829993">,</span>&nbsp;<span class="ident" id="5829995"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5829996">.</span><span class="ident" id="5829997"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="5830000">,</span>&nbsp;<span class="ident" id="5830002"><a href="/gostd/go/printer/nodes.go.html#5829817">depth</a></span><span class="op" id="5830007">,</span>&nbsp;<span class="num" id="5830009">0</span><span class="op" id="5830010">,</span>&nbsp;<span class="ident" id="5830012"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830017">.</span><span class="ident" id="5830018"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5830023">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830027">case</span>&nbsp;<span class="op" id="5830032">*</span><span class="ident" id="5830033"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5830036">.</span><span class="ident" id="5830037"><a href="/gostd/go/ast/ast.go.html#3812224">GoStmt</a></span><span class="op" id="5830043">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830047"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830048">.</span><span class="builtinfunc" id="5830049"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830054">(</span><span class="ident" id="5830055"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830060">.</span><span class="ident" id="5830061"><a href="/gostd/go/token/token.go.html#3890834">GO</a></span><span class="op" id="5830063">,</span>&nbsp;<span class="ident" id="5830065"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5830070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830074"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830075">.</span><span class="ident" id="5830076"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5830080">(</span><span class="ident" id="5830081"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830082">.</span><span class="ident" id="5830083"><a href="/gostd/go/ast/ast.go.html#3812287">Call</a></span><span class="op" id="5830087">)</span><br>
<span class="lineno">1120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830091">case</span>&nbsp;<span class="op" id="5830096">*</span><span class="ident" id="5830097"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5830100">.</span><span class="ident" id="5830101"><a href="/gostd/go/ast/ast.go.html#3812358">DeferStmt</a></span><span class="op" id="5830110">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830114"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830115">.</span><span class="builtinfunc" id="5830116"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830121">(</span><span class="ident" id="5830122"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830127">.</span><span class="ident" id="5830128"><a href="/gostd/go/token/token.go.html#3890796">DEFER</a></span><span class="op" id="5830133">,</span>&nbsp;<span class="ident" id="5830135"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5830140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830144"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830145">.</span><span class="ident" id="5830146"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5830150">(</span><span class="ident" id="5830151"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830152">.</span><span class="ident" id="5830153"><a href="/gostd/go/ast/ast.go.html#3812428">Call</a></span><span class="op" id="5830157">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830161">case</span>&nbsp;<span class="op" id="5830166">*</span><span class="ident" id="5830167"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5830170">.</span><span class="ident" id="5830171"><a href="/gostd/go/ast/ast.go.html#3812502">ReturnStmt</a></span><span class="op" id="5830181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830185"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830186">.</span><span class="builtinfunc" id="5830187"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830192">(</span><span class="ident" id="5830193"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830198">.</span><span class="ident" id="5830199"><a href="/gostd/go/token/token.go.html#3890889">RETURN</a></span><span class="op" id="5830205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830209">if</span>&nbsp;<span class="ident" id="5830212"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830213">.</span><span class="ident" id="5830214"><a href="/gostd/go/ast/ast.go.html#3812576">Results</a></span>&nbsp;<span class="op" id="5830222">!=</span>&nbsp;<span class="builtintype" id="5830225">nil</span>&nbsp;<span class="op" id="5830229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830234"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830235">.</span><span class="builtinfunc" id="5830236"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830241">(</span><span class="ident" id="5830242"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5830247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830252">//&nbsp;Use&nbsp;indentList&nbsp;heuristic&nbsp;to&nbsp;make&nbsp;corner&nbsp;cases&nbsp;look</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830309">//&nbsp;better&nbsp;(issue&nbsp;1207).&nbsp;A&nbsp;more&nbsp;systematic&nbsp;approach&nbsp;would</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830369">//&nbsp;always&nbsp;indent,&nbsp;but&nbsp;this&nbsp;would&nbsp;cause&nbsp;significant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830423">//&nbsp;reformatting&nbsp;of&nbsp;the&nbsp;code&nbsp;base&nbsp;and&nbsp;not&nbsp;necessarily</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830479">//&nbsp;lead&nbsp;to&nbsp;more&nbsp;nicely&nbsp;formatted&nbsp;code&nbsp;in&nbsp;general.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830532">if</span>&nbsp;<span class="ident" id="5830535"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830536">.</span><span class="ident" id="5830537"><a href="/gostd/go/printer/nodes.go.html#5827992">indentList</a></span><span class="op" id="5830547">(</span><span class="ident" id="5830548"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830549">.</span><span class="ident" id="5830550"><a href="/gostd/go/ast/ast.go.html#3812576">Results</a></span><span class="op" id="5830557">)</span>&nbsp;<span class="op" id="5830559">{</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830565"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830566">.</span><span class="builtinfunc" id="5830567"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830572">(</span><span class="ident" id="5830573"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5830579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830585"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830586">.</span><span class="ident" id="5830587"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5830595">(</span><span class="ident" id="5830596"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830597">.</span><span class="ident" id="5830598"><a href="/gostd/go/ast/ast.go.html#3816063">Pos</a></span><span class="op" id="5830601">(</span><span class="op" id="5830602">)</span><span class="op" id="5830603">,</span>&nbsp;<span class="ident" id="5830605"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830606">.</span><span class="ident" id="5830607"><a href="/gostd/go/ast/ast.go.html#3812576">Results</a></span><span class="op" id="5830614">,</span>&nbsp;<span class="num" id="5830616">1</span><span class="op" id="5830617">,</span>&nbsp;<span class="ident" id="5830619"><a href="/gostd/go/printer/nodes.go.html#5803173">noIndent</a></span><span class="op" id="5830627">,</span>&nbsp;<span class="ident" id="5830629"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830634">.</span><span class="ident" id="5830635"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5830640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830646"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830647">.</span><span class="builtinfunc" id="5830648"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830653">(</span><span class="ident" id="5830654"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5830662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830667">}</span>&nbsp;<span class="keyword" id="5830669">else</span>&nbsp;<span class="op" id="5830674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830680"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830681">.</span><span class="ident" id="5830682"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5830690">(</span><span class="ident" id="5830691"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830692">.</span><span class="ident" id="5830693"><a href="/gostd/go/ast/ast.go.html#3816063">Pos</a></span><span class="op" id="5830696">(</span><span class="op" id="5830697">)</span><span class="op" id="5830698">,</span>&nbsp;<span class="ident" id="5830700"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830701">.</span><span class="ident" id="5830702"><a href="/gostd/go/ast/ast.go.html#3812576">Results</a></span><span class="op" id="5830709">,</span>&nbsp;<span class="num" id="5830711">1</span><span class="op" id="5830712">,</span>&nbsp;<span class="num" id="5830714">0</span><span class="op" id="5830715">,</span>&nbsp;<span class="ident" id="5830717"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830722">.</span><span class="ident" id="5830723"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5830728">)</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830741">case</span>&nbsp;<span class="op" id="5830746">*</span><span class="ident" id="5830747"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5830750">.</span><span class="ident" id="5830751"><a href="/gostd/go/ast/ast.go.html#3812721">BranchStmt</a></span><span class="op" id="5830761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830765"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830766">.</span><span class="builtinfunc" id="5830767"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830772">(</span><span class="ident" id="5830773"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830774">.</span><span class="ident" id="5830775"><a href="/gostd/go/ast/ast.go.html#3812783">Tok</a></span><span class="op" id="5830778">)</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830782">if</span>&nbsp;<span class="ident" id="5830785"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830786">.</span><span class="ident" id="5830787"><a href="/gostd/go/ast/ast.go.html#3812858">Label</a></span>&nbsp;<span class="op" id="5830793">!=</span>&nbsp;<span class="builtintype" id="5830796">nil</span>&nbsp;<span class="op" id="5830800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830805"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830806">.</span><span class="builtinfunc" id="5830807"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830812">(</span><span class="ident" id="5830813"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5830818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830823"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830824">.</span><span class="ident" id="5830825"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5830829">(</span><span class="ident" id="5830830"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830831">.</span><span class="ident" id="5830832"><a href="/gostd/go/ast/ast.go.html#3812858">Label</a></span><span class="op" id="5830837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830845">case</span>&nbsp;<span class="op" id="5830850">*</span><span class="ident" id="5830851"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5830854">.</span><span class="ident" id="5830855"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5830864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830868"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830869">.</span><span class="ident" id="5830870"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5830875">(</span><span class="ident" id="5830876"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830877">,</span>&nbsp;<span class="num" id="5830879">1</span><span class="op" id="5830880">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830884">case</span>&nbsp;<span class="op" id="5830889">*</span><span class="ident" id="5830890"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5830893">.</span><span class="ident" id="5830894"><a href="/gostd/go/ast/ast.go.html#3813124">IfStmt</a></span><span class="op" id="5830900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830904"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830905">.</span><span class="builtinfunc" id="5830906"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5830911">(</span><span class="ident" id="5830912"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5830917">.</span><span class="ident" id="5830918"><a href="/gostd/go/token/token.go.html#3890844">IF</a></span><span class="op" id="5830920">)</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830924"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830925">.</span><span class="ident" id="5830926"><a href="/gostd/go/printer/nodes.go.html#5827096">controlClause</a></span><span class="op" id="5830939">(</span><span class="builtintype" id="5830940">false</span><span class="op" id="5830945">,</span>&nbsp;<span class="ident" id="5830947"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830948">.</span><span class="ident" id="5830949"><a href="/gostd/go/ast/ast.go.html#3813187">Init</a></span><span class="op" id="5830953">,</span>&nbsp;<span class="ident" id="5830955"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830956">.</span><span class="ident" id="5830957"><a href="/gostd/go/ast/ast.go.html#3813240">Cond</a></span><span class="op" id="5830961">,</span>&nbsp;<span class="builtintype" id="5830963">nil</span><span class="op" id="5830966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830970"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5830971">.</span><span class="ident" id="5830972"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5830977">(</span><span class="ident" id="5830978"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830979">.</span><span class="ident" id="5830980"><a href="/gostd/go/ast/ast.go.html#3813270">Body</a></span><span class="op" id="5830984">,</span>&nbsp;<span class="num" id="5830986">1</span><span class="op" id="5830987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830991">if</span>&nbsp;<span class="ident" id="5830994"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5830995">.</span><span class="ident" id="5830996"><a href="/gostd/go/ast/ast.go.html#3813288">Else</a></span>&nbsp;<span class="op" id="5831001">!=</span>&nbsp;<span class="builtintype" id="5831004">nil</span>&nbsp;<span class="op" id="5831008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831013"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831014">.</span><span class="builtinfunc" id="5831015"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831020">(</span><span class="ident" id="5831021"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831026">,</span>&nbsp;<span class="ident" id="5831028"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831033">.</span><span class="ident" id="5831034"><a href="/gostd/go/token/token.go.html#3890803">ELSE</a></span><span class="op" id="5831038">,</span>&nbsp;<span class="ident" id="5831040"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831050">switch</span>&nbsp;<span class="ident" id="5831057"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831058">.</span><span class="ident" id="5831059"><a href="/gostd/go/ast/ast.go.html#3813288">Else</a></span><span class="op" id="5831063">.</span><span class="op" id="5831064">(</span><span class="keyword" id="5831065">type</span><span class="op" id="5831069">)</span>&nbsp;<span class="op" id="5831071">{</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831076">case</span>&nbsp;<span class="op" id="5831081">*</span><span class="ident" id="5831082"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5831085">.</span><span class="ident" id="5831086"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5831095">,</span>&nbsp;<span class="op" id="5831097">*</span><span class="ident" id="5831098"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5831101">.</span><span class="ident" id="5831102"><a href="/gostd/go/ast/ast.go.html#3813124">IfStmt</a></span><span class="op" id="5831108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831114"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831115">.</span><span class="ident" id="5831116"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5831120">(</span><span class="ident" id="5831121"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831122">.</span><span class="ident" id="5831123"><a href="/gostd/go/ast/ast.go.html#3813288">Else</a></span><span class="op" id="5831127">,</span>&nbsp;<span class="ident" id="5831129"><a href="/gostd/go/printer/nodes.go.html#5828799">nextIsRBrace</a></span><span class="op" id="5831141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831146">default</span><span class="op" id="5831153">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831159"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831160">.</span><span class="builtinfunc" id="5831161"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831166">(</span><span class="ident" id="5831167"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831172">.</span><span class="ident" id="5831173"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5831179">,</span>&nbsp;<span class="ident" id="5831181"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5831187">,</span>&nbsp;<span class="ident" id="5831189"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5831197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831203"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831204">.</span><span class="ident" id="5831205"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5831209">(</span><span class="ident" id="5831210"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831211">.</span><span class="ident" id="5831212"><a href="/gostd/go/ast/ast.go.html#3813288">Else</a></span><span class="op" id="5831216">,</span>&nbsp;<span class="builtintype" id="5831218">true</span><span class="op" id="5831222">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831228"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831229">.</span><span class="builtinfunc" id="5831230"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831235">(</span><span class="ident" id="5831236"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5831244">,</span>&nbsp;<span class="ident" id="5831246"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5831254">,</span>&nbsp;<span class="ident" id="5831256"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831261">.</span><span class="ident" id="5831262"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5831268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831281">case</span>&nbsp;<span class="op" id="5831286">*</span><span class="ident" id="5831287"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5831290">.</span><span class="ident" id="5831291"><a href="/gostd/go/ast/ast.go.html#3813404">CaseClause</a></span><span class="op" id="5831301">:</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831305">if</span>&nbsp;<span class="ident" id="5831308"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831309">.</span><span class="ident" id="5831310"><a href="/gostd/go/ast/ast.go.html#3813487">List</a></span>&nbsp;<span class="op" id="5831315">!=</span>&nbsp;<span class="builtintype" id="5831318">nil</span>&nbsp;<span class="op" id="5831322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831327"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831328">.</span><span class="builtinfunc" id="5831329"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831334">(</span><span class="ident" id="5831335"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831340">.</span><span class="ident" id="5831341"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span><span class="op" id="5831345">,</span>&nbsp;<span class="ident" id="5831347"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831357"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831358">.</span><span class="ident" id="5831359"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5831367">(</span><span class="ident" id="5831368"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831369">.</span><span class="ident" id="5831370"><a href="/gostd/go/ast/ast.go.html#3816303">Pos</a></span><span class="op" id="5831373">(</span><span class="op" id="5831374">)</span><span class="op" id="5831375">,</span>&nbsp;<span class="ident" id="5831377"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831378">.</span><span class="ident" id="5831379"><a href="/gostd/go/ast/ast.go.html#3813487">List</a></span><span class="op" id="5831383">,</span>&nbsp;<span class="num" id="5831385">1</span><span class="op" id="5831386">,</span>&nbsp;<span class="num" id="5831388">0</span><span class="op" id="5831389">,</span>&nbsp;<span class="ident" id="5831391"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831392">.</span><span class="ident" id="5831393"><a href="/gostd/go/ast/ast.go.html#3813561">Colon</a></span><span class="op" id="5831398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831402">}</span>&nbsp;<span class="keyword" id="5831404">else</span>&nbsp;<span class="op" id="5831409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831414"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831415">.</span><span class="builtinfunc" id="5831416"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831421">(</span><span class="ident" id="5831422"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831427">.</span><span class="ident" id="5831428"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span><span class="op" id="5831435">)</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831443"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831444">.</span><span class="builtinfunc" id="5831445"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831450">(</span><span class="ident" id="5831451"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831452">.</span><span class="ident" id="5831453"><a href="/gostd/go/ast/ast.go.html#3813561">Colon</a></span><span class="op" id="5831458">,</span>&nbsp;<span class="ident" id="5831460"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831465">.</span><span class="ident" id="5831466"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5831471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831475"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831476">.</span><span class="ident" id="5831477"><a href="/gostd/go/printer/nodes.go.html#5824821">stmtList</a></span><span class="op" id="5831485">(</span><span class="ident" id="5831486"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831487">.</span><span class="ident" id="5831488"><a href="/gostd/go/ast/ast.go.html#3813598">Body</a></span><span class="op" id="5831492">,</span>&nbsp;<span class="num" id="5831494">1</span><span class="op" id="5831495">,</span>&nbsp;<span class="ident" id="5831497"><a href="/gostd/go/printer/nodes.go.html#5828799">nextIsRBrace</a></span><span class="op" id="5831509">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831513">case</span>&nbsp;<span class="op" id="5831518">*</span><span class="ident" id="5831519"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5831522">.</span><span class="ident" id="5831523"><a href="/gostd/go/ast/ast.go.html#3813710">SwitchStmt</a></span><span class="op" id="5831533">:</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831537"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831538">.</span><span class="builtinfunc" id="5831539"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831544">(</span><span class="ident" id="5831545"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831550">.</span><span class="ident" id="5831551"><a href="/gostd/go/token/token.go.html#3890914">SWITCH</a></span><span class="op" id="5831557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831561"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831562">.</span><span class="ident" id="5831563"><a href="/gostd/go/printer/nodes.go.html#5827096">controlClause</a></span><span class="op" id="5831576">(</span><span class="builtintype" id="5831577">false</span><span class="op" id="5831582">,</span>&nbsp;<span class="ident" id="5831584"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831585">.</span><span class="ident" id="5831586"><a href="/gostd/go/ast/ast.go.html#3813784">Init</a></span><span class="op" id="5831590">,</span>&nbsp;<span class="ident" id="5831592"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831593">.</span><span class="ident" id="5831594"><a href="/gostd/go/ast/ast.go.html#3813840">Tag</a></span><span class="op" id="5831597">,</span>&nbsp;<span class="builtintype" id="5831599">nil</span><span class="op" id="5831602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831606"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831607">.</span><span class="ident" id="5831608"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5831613">(</span><span class="ident" id="5831614"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831615">.</span><span class="ident" id="5831616"><a href="/gostd/go/ast/ast.go.html#3813886">Body</a></span><span class="op" id="5831620">,</span>&nbsp;<span class="num" id="5831622">0</span><span class="op" id="5831623">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831627">case</span>&nbsp;<span class="op" id="5831632">*</span><span class="ident" id="5831633"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5831636">.</span><span class="ident" id="5831637"><a href="/gostd/go/ast/ast.go.html#3813992">TypeSwitchStmt</a></span><span class="op" id="5831651">:</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831655"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831656">.</span><span class="builtinfunc" id="5831657"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831662">(</span><span class="ident" id="5831663"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831668">.</span><span class="ident" id="5831669"><a href="/gostd/go/token/token.go.html#3890914">SWITCH</a></span><span class="op" id="5831675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831679">if</span>&nbsp;<span class="ident" id="5831682"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831683">.</span><span class="ident" id="5831684"><a href="/gostd/go/ast/ast.go.html#3814070">Init</a></span>&nbsp;<span class="op" id="5831689">!=</span>&nbsp;<span class="builtintype" id="5831692">nil</span>&nbsp;<span class="op" id="5831696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831701"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831702">.</span><span class="builtinfunc" id="5831703"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831708">(</span><span class="ident" id="5831709"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831719"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831720">.</span><span class="ident" id="5831721"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5831725">(</span><span class="ident" id="5831726"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831727">.</span><span class="ident" id="5831728"><a href="/gostd/go/ast/ast.go.html#3814070">Init</a></span><span class="op" id="5831732">,</span>&nbsp;<span class="builtintype" id="5831734">false</span><span class="op" id="5831739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831744"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831745">.</span><span class="builtinfunc" id="5831746"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831751">(</span><span class="ident" id="5831752"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831757">.</span><span class="ident" id="5831758"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span><span class="op" id="5831767">)</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831775"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831776">.</span><span class="builtinfunc" id="5831777"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831782">(</span><span class="ident" id="5831783"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831792"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831793">.</span><span class="ident" id="5831794"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5831798">(</span><span class="ident" id="5831799"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831800">.</span><span class="ident" id="5831801"><a href="/gostd/go/ast/ast.go.html#3814126">Assign</a></span><span class="op" id="5831807">,</span>&nbsp;<span class="builtintype" id="5831809">false</span><span class="op" id="5831814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831818"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831819">.</span><span class="builtinfunc" id="5831820"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831825">(</span><span class="ident" id="5831826"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831835"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831836">.</span><span class="ident" id="5831837"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5831842">(</span><span class="ident" id="5831843"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831844">.</span><span class="ident" id="5831845"><a href="/gostd/go/ast/ast.go.html#3814175">Body</a></span><span class="op" id="5831849">,</span>&nbsp;<span class="num" id="5831851">0</span><span class="op" id="5831852">)</span><br>
<span class="lineno">1195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831856">case</span>&nbsp;<span class="op" id="5831861">*</span><span class="ident" id="5831862"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5831865">.</span><span class="ident" id="5831866"><a href="/gostd/go/ast/ast.go.html#3814281">CommClause</a></span><span class="op" id="5831876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831880">if</span>&nbsp;<span class="ident" id="5831883"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831884">.</span><span class="ident" id="5831885"><a href="/gostd/go/ast/ast.go.html#3814364">Comm</a></span>&nbsp;<span class="op" id="5831890">!=</span>&nbsp;<span class="builtintype" id="5831893">nil</span>&nbsp;<span class="op" id="5831897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831902"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831903">.</span><span class="builtinfunc" id="5831904"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831909">(</span><span class="ident" id="5831910"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831915">.</span><span class="ident" id="5831916"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span><span class="op" id="5831920">,</span>&nbsp;<span class="ident" id="5831922"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5831927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831932"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831933">.</span><span class="ident" id="5831934"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5831938">(</span><span class="ident" id="5831939"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5831940">.</span><span class="ident" id="5831941"><a href="/gostd/go/ast/ast.go.html#3814364">Comm</a></span><span class="op" id="5831945">,</span>&nbsp;<span class="builtintype" id="5831947">false</span><span class="op" id="5831952">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831956">}</span>&nbsp;<span class="keyword" id="5831958">else</span>&nbsp;<span class="op" id="5831963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831968"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831969">.</span><span class="builtinfunc" id="5831970"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5831975">(</span><span class="ident" id="5831976"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5831981">.</span><span class="ident" id="5831982"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span><span class="op" id="5831989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831997"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5831998">.</span><span class="builtinfunc" id="5831999"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832004">(</span><span class="ident" id="5832005"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832006">.</span><span class="ident" id="5832007"><a href="/gostd/go/ast/ast.go.html#3814435">Colon</a></span><span class="op" id="5832012">,</span>&nbsp;<span class="ident" id="5832014"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832019">.</span><span class="ident" id="5832020"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5832025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832029"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832030">.</span><span class="ident" id="5832031"><a href="/gostd/go/printer/nodes.go.html#5824821">stmtList</a></span><span class="op" id="5832039">(</span><span class="ident" id="5832040"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832041">.</span><span class="ident" id="5832042"><a href="/gostd/go/ast/ast.go.html#3814472">Body</a></span><span class="op" id="5832046">,</span>&nbsp;<span class="num" id="5832048">1</span><span class="op" id="5832049">,</span>&nbsp;<span class="ident" id="5832051"><a href="/gostd/go/printer/nodes.go.html#5828799">nextIsRBrace</a></span><span class="op" id="5832063">)</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832067">case</span>&nbsp;<span class="op" id="5832072">*</span><span class="ident" id="5832073"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5832076">.</span><span class="ident" id="5832077"><a href="/gostd/go/ast/ast.go.html#3814573">SelectStmt</a></span><span class="op" id="5832087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832091"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832092">.</span><span class="builtinfunc" id="5832093"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832098">(</span><span class="ident" id="5832099"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832104">.</span><span class="ident" id="5832105"><a href="/gostd/go/token/token.go.html#3890898">SELECT</a></span><span class="op" id="5832111">,</span>&nbsp;<span class="ident" id="5832113"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832122">body</span>&nbsp;<span class="op" id="5832127">:=</span>&nbsp;<span class="ident" id="5832130"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832131">.</span><span class="ident" id="5832132"><a href="/gostd/go/ast/ast.go.html#3814647">Body</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832139">if</span>&nbsp;<span class="builtinfunc" id="5832142">len</span><span class="op" id="5832145">(</span><span class="ident" id="5832146"><a href="/gostd/go/printer/nodes.go.html#5832122">body</a></span><span class="op" id="5832150">.</span><span class="ident" id="5832151"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5832155">)</span>&nbsp;<span class="op" id="5832157">==</span>&nbsp;<span class="num" id="5832160">0</span>&nbsp;<span class="op" id="5832162">&amp;&amp;</span>&nbsp;<span class="op" id="5832165">!</span><span class="ident" id="5832166"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832167">.</span><span class="ident" id="5832168"><a href="/gostd/go/printer/printer.go.html#5847174">commentBefore</a></span><span class="op" id="5832181">(</span><span class="ident" id="5832182"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832183">.</span><span class="ident" id="5832184"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5832190">(</span><span class="ident" id="5832191"><a href="/gostd/go/printer/nodes.go.html#5832122">body</a></span><span class="op" id="5832195">.</span><span class="ident" id="5832196"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5832202">)</span><span class="op" id="5832203">)</span>&nbsp;<span class="op" id="5832205">{</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5832210">//&nbsp;print&nbsp;empty&nbsp;select&nbsp;statement&nbsp;w/o&nbsp;comments&nbsp;on&nbsp;one&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832270"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832271">.</span><span class="builtinfunc" id="5832272"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832277">(</span><span class="ident" id="5832278"><a href="/gostd/go/printer/nodes.go.html#5832122">body</a></span><span class="op" id="5832282">.</span><span class="ident" id="5832283"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="5832289">,</span>&nbsp;<span class="ident" id="5832291"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832296">.</span><span class="ident" id="5832297"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5832303">,</span>&nbsp;<span class="ident" id="5832305"><a href="/gostd/go/printer/nodes.go.html#5832122">body</a></span><span class="op" id="5832309">.</span><span class="ident" id="5832310"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5832316">,</span>&nbsp;<span class="ident" id="5832318"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832323">.</span><span class="ident" id="5832324"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5832330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832334">}</span>&nbsp;<span class="keyword" id="5832336">else</span>&nbsp;<span class="op" id="5832341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832346"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832347">.</span><span class="ident" id="5832348"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5832353">(</span><span class="ident" id="5832354"><a href="/gostd/go/printer/nodes.go.html#5832122">body</a></span><span class="op" id="5832358">,</span>&nbsp;<span class="num" id="5832360">0</span><span class="op" id="5832361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832365">}</span><br>
<span class="lineno">1215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832369">case</span>&nbsp;<span class="op" id="5832374">*</span><span class="ident" id="5832375"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5832378">.</span><span class="ident" id="5832379"><a href="/gostd/go/ast/ast.go.html#3814732">ForStmt</a></span><span class="op" id="5832386">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832390"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832391">.</span><span class="builtinfunc" id="5832392"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832397">(</span><span class="ident" id="5832398"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832403">.</span><span class="ident" id="5832404"><a href="/gostd/go/token/token.go.html#3890822">FOR</a></span><span class="op" id="5832407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832411"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832412">.</span><span class="ident" id="5832413"><a href="/gostd/go/printer/nodes.go.html#5827096">controlClause</a></span><span class="op" id="5832426">(</span><span class="builtintype" id="5832427">true</span><span class="op" id="5832431">,</span>&nbsp;<span class="ident" id="5832433"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832434">.</span><span class="ident" id="5832435"><a href="/gostd/go/ast/ast.go.html#3814797">Init</a></span><span class="op" id="5832439">,</span>&nbsp;<span class="ident" id="5832441"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832442">.</span><span class="ident" id="5832443"><a href="/gostd/go/ast/ast.go.html#3814850">Cond</a></span><span class="op" id="5832447">,</span>&nbsp;<span class="ident" id="5832449"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832450">.</span><span class="ident" id="5832451"><a href="/gostd/go/ast/ast.go.html#3814888">Post</a></span><span class="op" id="5832455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832459"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832460">.</span><span class="ident" id="5832461"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5832466">(</span><span class="ident" id="5832467"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832468">.</span><span class="ident" id="5832469"><a href="/gostd/go/ast/ast.go.html#3814941">Body</a></span><span class="op" id="5832473">,</span>&nbsp;<span class="num" id="5832475">1</span><span class="op" id="5832476">)</span><br>
<span class="lineno">1220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832480">case</span>&nbsp;<span class="op" id="5832485">*</span><span class="ident" id="5832486"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5832489">.</span><span class="ident" id="5832490"><a href="/gostd/go/ast/ast.go.html#3815026">RangeStmt</a></span><span class="op" id="5832499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832503"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832504">.</span><span class="builtinfunc" id="5832505"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832510">(</span><span class="ident" id="5832511"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832516">.</span><span class="ident" id="5832517"><a href="/gostd/go/token/token.go.html#3890822">FOR</a></span><span class="op" id="5832520">,</span>&nbsp;<span class="ident" id="5832522"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832531">if</span>&nbsp;<span class="ident" id="5832534"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832535">.</span><span class="ident" id="5832536"><a href="/gostd/go/ast/ast.go.html#3815101">Key</a></span>&nbsp;<span class="op" id="5832540">!=</span>&nbsp;<span class="builtintype" id="5832543">nil</span>&nbsp;<span class="op" id="5832547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832552"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832553">.</span><span class="ident" id="5832554"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5832558">(</span><span class="ident" id="5832559"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832560">.</span><span class="ident" id="5832561"><a href="/gostd/go/ast/ast.go.html#3815101">Key</a></span><span class="op" id="5832564">)</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832569">if</span>&nbsp;<span class="ident" id="5832572"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832573">.</span><span class="ident" id="5832574"><a href="/gostd/go/ast/ast.go.html#3815106">Value</a></span>&nbsp;<span class="op" id="5832580">!=</span>&nbsp;<span class="builtintype" id="5832583">nil</span>&nbsp;<span class="op" id="5832587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5832593">//&nbsp;use&nbsp;position&nbsp;of&nbsp;value&nbsp;following&nbsp;the&nbsp;comma&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5832645">//&nbsp;comma&nbsp;position&nbsp;for&nbsp;correct&nbsp;comment&nbsp;placement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832697"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832698">.</span><span class="builtinfunc" id="5832699"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832704">(</span><span class="ident" id="5832705"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832706">.</span><span class="ident" id="5832707"><a href="/gostd/go/ast/ast.go.html#3815106">Value</a></span><span class="op" id="5832712">.</span><span class="ident" id="5832713"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5832716">(</span><span class="op" id="5832717">)</span><span class="op" id="5832718">,</span>&nbsp;<span class="ident" id="5832720"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832725">.</span><span class="ident" id="5832726"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span><span class="op" id="5832731">,</span>&nbsp;<span class="ident" id="5832733"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832744"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832745">.</span><span class="ident" id="5832746"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5832750">(</span><span class="ident" id="5832751"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832752">.</span><span class="ident" id="5832753"><a href="/gostd/go/ast/ast.go.html#3815106">Value</a></span><span class="op" id="5832758">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832768"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832769">.</span><span class="builtinfunc" id="5832770"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832775">(</span><span class="ident" id="5832776"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832781">,</span>&nbsp;<span class="ident" id="5832783"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832784">.</span><span class="ident" id="5832785"><a href="/gostd/go/ast/ast.go.html#3815151">TokPos</a></span><span class="op" id="5832791">,</span>&nbsp;<span class="ident" id="5832793"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832794">.</span><span class="ident" id="5832795"><a href="/gostd/go/ast/ast.go.html#3815218">Tok</a></span><span class="op" id="5832798">,</span>&nbsp;<span class="ident" id="5832800"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832813"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832814">.</span><span class="builtinfunc" id="5832815"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832820">(</span><span class="ident" id="5832821"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5832826">.</span><span class="ident" id="5832827"><a href="/gostd/go/token/token.go.html#3890882">RANGE</a></span><span class="op" id="5832832">,</span>&nbsp;<span class="ident" id="5832834"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832843"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832844">.</span><span class="ident" id="5832845"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5832849">(</span><span class="ident" id="5832850"><a href="/gostd/go/printer/nodes.go.html#5826315">stripParens</a></span><span class="op" id="5832861">(</span><span class="ident" id="5832862"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832863">.</span><span class="ident" id="5832864"><a href="/gostd/go/ast/ast.go.html#3815284">X</a></span><span class="op" id="5832865">)</span><span class="op" id="5832866">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832870"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832871">.</span><span class="builtinfunc" id="5832872"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5832877">(</span><span class="ident" id="5832878"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5832883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832887"><a href="/gostd/go/printer/nodes.go.html#5828767">p</a></span><span class="op" id="5832888">.</span><span class="ident" id="5832889"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5832894">(</span><span class="ident" id="5832895"><a href="/gostd/go/printer/nodes.go.html#5828850">s</a></span><span class="op" id="5832896">.</span><span class="ident" id="5832897"><a href="/gostd/go/ast/ast.go.html#3815332">Body</a></span><span class="op" id="5832901">,</span>&nbsp;<span class="num" id="5832903">1</span><span class="op" id="5832904">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832908">default</span><span class="op" id="5832915">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5832919">panic</span><span class="op" id="5832924">(</span><span class="string" id="5832925">&#34;unreachable&#34;</span><span class="op" id="5832938">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832945">return</span><br>
<span class="lineno"></span><span class="op" id="5832952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1245</span><span class="comment" id="5832955">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5833035">//&nbsp;Declarations</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5833052">//&nbsp;The&nbsp;keepTypeColumn&nbsp;function&nbsp;determines&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;of&nbsp;a&nbsp;series&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5833128">//&nbsp;consecutive&nbsp;const&nbsp;or&nbsp;var&nbsp;declarations&nbsp;must&nbsp;be&nbsp;kept,&nbsp;or&nbsp;if&nbsp;initialization</span><br>
<span class="lineno">1250</span><span class="comment" id="5833204">//&nbsp;values&nbsp;(V)&nbsp;can&nbsp;be&nbsp;placed&nbsp;in&nbsp;the&nbsp;type&nbsp;column&nbsp;(T)&nbsp;instead.&nbsp;The&nbsp;i&#39;th&nbsp;entry</span><br>
<span class="lineno"></span><span class="comment" id="5833279">//&nbsp;in&nbsp;the&nbsp;result&nbsp;slice&nbsp;is&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;in&nbsp;spec[i]&nbsp;must&nbsp;be&nbsp;kept.</span><br>
<span class="lineno"></span><span class="comment" id="5833354">//</span><br>
<span class="lineno"></span><span class="comment" id="5833357">//&nbsp;For&nbsp;example,&nbsp;the&nbsp;declaration:</span><br>
<span class="lineno"></span><span class="comment" id="5833390">//</span><br>
<span class="lineno">1255</span><span class="comment" id="5833393">//&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;(</span><br>
<span class="lineno"></span><span class="comment" id="5833404">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foobar&nbsp;int&nbsp;=&nbsp;42&nbsp;//&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="5833435">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;7&nbsp;&nbsp;//&nbsp;comment</span><br>
<span class="lineno"></span><span class="comment" id="5833466">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foo</span><br>
<span class="lineno"></span><span class="comment" id="5833474">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar&nbsp;=&nbsp;991</span><br>
<span class="lineno">1260</span><span class="comment" id="5833500">//&nbsp;&nbsp;&nbsp;&nbsp;)</span><br>
<span class="lineno"></span><span class="comment" id="5833505">//</span><br>
<span class="lineno"></span><span class="comment" id="5833508">//&nbsp;leads&nbsp;to&nbsp;the&nbsp;type/values&nbsp;matrix&nbsp;below.&nbsp;A&nbsp;run&nbsp;of&nbsp;value&nbsp;columns&nbsp;(V)&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="5833581">//&nbsp;be&nbsp;moved&nbsp;into&nbsp;the&nbsp;type&nbsp;column&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;type&nbsp;for&nbsp;any&nbsp;of&nbsp;the&nbsp;values</span><br>
<span class="lineno"></span><span class="comment" id="5833656">//&nbsp;in&nbsp;that&nbsp;column&nbsp;(we&nbsp;only&nbsp;move&nbsp;entire&nbsp;columns&nbsp;so&nbsp;that&nbsp;they&nbsp;align&nbsp;properly).</span><br>
<span class="lineno">1265</span><span class="comment" id="5833733">//</span><br>
<span class="lineno"></span><span class="comment" id="5833736">//&nbsp;&nbsp;&nbsp;&nbsp;matrix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatted&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span><br>
<span class="lineno"></span><span class="comment" id="5833774">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matrix</span><br>
<span class="lineno"></span><span class="comment" id="5833803">//&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;a&nbsp;T&nbsp;and&nbsp;so&nbsp;the&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5833873">//&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column&nbsp;must&nbsp;be&nbsp;kept</span><br>
<span class="lineno">1270</span><span class="comment" id="5833934">//&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false</span><br>
<span class="lineno"></span><span class="comment" id="5833971">//&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;is&nbsp;moved&nbsp;into&nbsp;T&nbsp;column</span><br>
<span class="lineno"></span><span class="comment" id="5834037">//</span><br>
<span class="lineno"></span><span class="keyword" id="5834040">func</span>&nbsp;<span class="ident" id="5834045">keepTypeColumn</span><span class="op" id="5834059">(</span><span class="ident" id="5834060">specs</span>&nbsp;<span class="op" id="5834066">[</span><span class="op" id="5834067">]</span><span class="ident" id="5834068"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5834071">.</span><span class="ident" id="5834072"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><span class="op" id="5834076">)</span>&nbsp;<span class="op" id="5834078">[</span><span class="op" id="5834079">]</span><span class="builtintype" id="5834080">bool</span>&nbsp;<span class="op" id="5834085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834088">m</span>&nbsp;<span class="op" id="5834090">:=</span>&nbsp;<span class="builtinfunc" id="5834093">make</span><span class="op" id="5834097">(</span><span class="op" id="5834098">[</span><span class="op" id="5834099">]</span><span class="builtintype" id="5834100">bool</span><span class="op" id="5834104">,</span>&nbsp;<span class="builtinfunc" id="5834106">len</span><span class="op" id="5834109">(</span><span class="ident" id="5834110"><a href="/gostd/go/printer/nodes.go.html#5834060">specs</a></span><span class="op" id="5834115">)</span><span class="op" id="5834116">)</span><br>
<span class="lineno">1275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834120">populate</span>&nbsp;<span class="op" id="5834129">:=</span>&nbsp;<span class="keyword" id="5834132">func</span><span class="op" id="5834136">(</span><span class="ident" id="5834137">i</span><span class="op" id="5834138">,</span>&nbsp;<span class="ident" id="5834140">j</span>&nbsp;<span class="builtintype" id="5834142">int</span><span class="op" id="5834145">,</span>&nbsp;<span class="ident" id="5834147">keepType</span>&nbsp;<span class="builtintype" id="5834156">bool</span><span class="op" id="5834160">)</span>&nbsp;<span class="op" id="5834162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834166">if</span>&nbsp;<span class="ident" id="5834169"><a href="/gostd/go/printer/nodes.go.html#5834147">keepType</a></span>&nbsp;<span class="op" id="5834178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834183">for</span>&nbsp;<span class="op" id="5834187">;</span>&nbsp;<span class="ident" id="5834189"><a href="/gostd/go/printer/nodes.go.html#5834137">i</a></span>&nbsp;<span class="op" id="5834191">&lt;</span>&nbsp;<span class="ident" id="5834193"><a href="/gostd/go/printer/nodes.go.html#5834140">j</a></span><span class="op" id="5834194">;</span>&nbsp;<span class="ident" id="5834196"><a href="/gostd/go/printer/nodes.go.html#5834137">i</a></span><span class="op" id="5834197">++</span>&nbsp;<span class="op" id="5834200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834206"><a href="/gostd/go/printer/nodes.go.html#5834088">m</a></span><span class="op" id="5834207">[</span><span class="ident" id="5834208"><a href="/gostd/go/printer/nodes.go.html#5834137">i</a></span><span class="op" id="5834209">]</span>&nbsp;<span class="op" id="5834211">=</span>&nbsp;<span class="builtintype" id="5834213">true</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834232">i0</span>&nbsp;<span class="op" id="5834235">:=</span>&nbsp;<span class="op" id="5834238">-</span><span class="num" id="5834239">1</span>&nbsp;<span class="comment" id="5834241">//&nbsp;if&nbsp;i0&nbsp;&gt;=&nbsp;0&nbsp;we&nbsp;are&nbsp;in&nbsp;a&nbsp;run&nbsp;and&nbsp;i0&nbsp;is&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;run</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834303">var</span>&nbsp;<span class="ident" id="5834307">keepType</span>&nbsp;<span class="builtintype" id="5834316">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834322">for</span>&nbsp;<span class="ident" id="5834326">i</span><span class="op" id="5834327">,</span>&nbsp;<span class="ident" id="5834329">s</span>&nbsp;<span class="op" id="5834331">:=</span>&nbsp;<span class="keyword" id="5834334">range</span>&nbsp;<span class="ident" id="5834340"><a href="/gostd/go/printer/nodes.go.html#5834060">specs</a></span>&nbsp;<span class="op" id="5834346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834350">t</span>&nbsp;<span class="op" id="5834352">:=</span>&nbsp;<span class="ident" id="5834355"><a href="/gostd/go/printer/nodes.go.html#5834329">s</a></span><span class="op" id="5834356">.</span><span class="op" id="5834357">(</span><span class="op" id="5834358">*</span><span class="ident" id="5834359"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5834362">.</span><span class="ident" id="5834363"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="5834372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834376">if</span>&nbsp;<span class="ident" id="5834379"><a href="/gostd/go/printer/nodes.go.html#5834350">t</a></span><span class="op" id="5834380">.</span><span class="ident" id="5834381"><a href="/gostd/go/ast/ast.go.html#3820216">Values</a></span>&nbsp;<span class="op" id="5834388">!=</span>&nbsp;<span class="builtintype" id="5834391">nil</span>&nbsp;<span class="op" id="5834395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834400">if</span>&nbsp;<span class="ident" id="5834403"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span>&nbsp;<span class="op" id="5834406">&lt;</span>&nbsp;<span class="num" id="5834408">0</span>&nbsp;<span class="op" id="5834410">{</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5834416">//&nbsp;start&nbsp;of&nbsp;a&nbsp;run&nbsp;of&nbsp;ValueSpecs&nbsp;with&nbsp;non-nil&nbsp;Values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834472"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span>&nbsp;<span class="op" id="5834475">=</span>&nbsp;<span class="ident" id="5834477"><a href="/gostd/go/printer/nodes.go.html#5834326">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834483"><a href="/gostd/go/printer/nodes.go.html#5834307">keepType</a></span>&nbsp;<span class="op" id="5834492">=</span>&nbsp;<span class="builtintype" id="5834494">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834507">}</span>&nbsp;<span class="keyword" id="5834509">else</span>&nbsp;<span class="op" id="5834514">{</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834519">if</span>&nbsp;<span class="ident" id="5834522"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span>&nbsp;<span class="op" id="5834525">&gt;=</span>&nbsp;<span class="num" id="5834528">0</span>&nbsp;<span class="op" id="5834530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5834536">//&nbsp;end&nbsp;of&nbsp;a&nbsp;run</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834556"><a href="/gostd/go/printer/nodes.go.html#5834120">populate</a></span><span class="op" id="5834564">(</span><span class="ident" id="5834565"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span><span class="op" id="5834567">,</span>&nbsp;<span class="ident" id="5834569"><a href="/gostd/go/printer/nodes.go.html#5834326">i</a></span><span class="op" id="5834570">,</span>&nbsp;<span class="ident" id="5834572"><a href="/gostd/go/printer/nodes.go.html#5834307">keepType</a></span><span class="op" id="5834580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834586"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span>&nbsp;<span class="op" id="5834589">=</span>&nbsp;<span class="op" id="5834591">-</span><span class="num" id="5834592">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834597">}</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834605">if</span>&nbsp;<span class="ident" id="5834608"><a href="/gostd/go/printer/nodes.go.html#5834350">t</a></span><span class="op" id="5834609">.</span><span class="ident" id="5834610"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span>&nbsp;<span class="op" id="5834615">!=</span>&nbsp;<span class="builtintype" id="5834618">nil</span>&nbsp;<span class="op" id="5834622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834627"><a href="/gostd/go/printer/nodes.go.html#5834307">keepType</a></span>&nbsp;<span class="op" id="5834636">=</span>&nbsp;<span class="builtintype" id="5834638">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834648">}</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834651">if</span>&nbsp;<span class="ident" id="5834654"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span>&nbsp;<span class="op" id="5834657">&gt;=</span>&nbsp;<span class="num" id="5834660">0</span>&nbsp;<span class="op" id="5834662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5834666">//&nbsp;end&nbsp;of&nbsp;a&nbsp;run</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834684"><a href="/gostd/go/printer/nodes.go.html#5834120">populate</a></span><span class="op" id="5834692">(</span><span class="ident" id="5834693"><a href="/gostd/go/printer/nodes.go.html#5834232">i0</a></span><span class="op" id="5834695">,</span>&nbsp;<span class="builtinfunc" id="5834697">len</span><span class="op" id="5834700">(</span><span class="ident" id="5834701"><a href="/gostd/go/printer/nodes.go.html#5834060">specs</a></span><span class="op" id="5834706">)</span><span class="op" id="5834707">,</span>&nbsp;<span class="ident" id="5834709"><a href="/gostd/go/printer/nodes.go.html#5834307">keepType</a></span><span class="op" id="5834717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834724">return</span>&nbsp;<span class="ident" id="5834731"><a href="/gostd/go/printer/nodes.go.html#5834088">m</a></span><br>
<span class="lineno"></span><span class="op" id="5834733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5834736">func</span>&nbsp;<span class="op" id="5834741">(</span><span class="ident" id="5834742">p</span>&nbsp;<span class="op" id="5834744">*</span><span class="ident" id="5834745"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5834752">)</span>&nbsp;<span class="ident" id="5834754">valueSpec</span><span class="op" id="5834763">(</span><span class="ident" id="5834764">s</span>&nbsp;<span class="op" id="5834766">*</span><span class="ident" id="5834767"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5834770">.</span><span class="ident" id="5834771"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="5834780">,</span>&nbsp;<span class="ident" id="5834782">keepType</span>&nbsp;<span class="builtintype" id="5834791">bool</span><span class="op" id="5834795">)</span>&nbsp;<span class="op" id="5834797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834800"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5834801">.</span><span class="ident" id="5834802"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5834812">(</span><span class="ident" id="5834813"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5834814">.</span><span class="ident" id="5834815"><a href="/gostd/go/ast/ast.go.html#3820054">Doc</a></span><span class="op" id="5834818">)</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834821"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5834822">.</span><span class="ident" id="5834823"><a href="/gostd/go/printer/nodes.go.html#5803377">identList</a></span><span class="op" id="5834832">(</span><span class="ident" id="5834833"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5834834">.</span><span class="ident" id="5834835"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span><span class="op" id="5834840">,</span>&nbsp;<span class="builtintype" id="5834842">false</span><span class="op" id="5834847">)</span>&nbsp;<span class="comment" id="5834849">//&nbsp;always&nbsp;present</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834868">extraTabs</span>&nbsp;<span class="op" id="5834878">:=</span>&nbsp;<span class="num" id="5834881">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834884">if</span>&nbsp;<span class="ident" id="5834887"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5834888">.</span><span class="ident" id="5834889"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span>&nbsp;<span class="op" id="5834894">!=</span>&nbsp;<span class="builtintype" id="5834897">nil</span>&nbsp;<span class="op" id="5834901">||</span>&nbsp;<span class="ident" id="5834904"><a href="/gostd/go/printer/nodes.go.html#5834782">keepType</a></span>&nbsp;<span class="op" id="5834913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834917"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5834918">.</span><span class="builtinfunc" id="5834919"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5834924">(</span><span class="ident" id="5834925"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><span class="op" id="5834929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834933"><a href="/gostd/go/printer/nodes.go.html#5834868">extraTabs</a></span><span class="op" id="5834942">--</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834949">if</span>&nbsp;<span class="ident" id="5834952"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5834953">.</span><span class="ident" id="5834954"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span>&nbsp;<span class="op" id="5834959">!=</span>&nbsp;<span class="builtintype" id="5834962">nil</span>&nbsp;<span class="op" id="5834966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5834970"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5834971">.</span><span class="ident" id="5834972"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5834976">(</span><span class="ident" id="5834977"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5834978">.</span><span class="ident" id="5834979"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span><span class="op" id="5834983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5834986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5834989">if</span>&nbsp;<span class="ident" id="5834992"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5834993">.</span><span class="ident" id="5834994"><a href="/gostd/go/ast/ast.go.html#3820216">Values</a></span>&nbsp;<span class="op" id="5835001">!=</span>&nbsp;<span class="builtintype" id="5835004">nil</span>&nbsp;<span class="op" id="5835008">{</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835012"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5835013">.</span><span class="builtinfunc" id="5835014"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5835019">(</span><span class="ident" id="5835020"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><span class="op" id="5835024">,</span>&nbsp;<span class="ident" id="5835026"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5835031">.</span><span class="ident" id="5835032"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span><span class="op" id="5835038">,</span>&nbsp;<span class="ident" id="5835040"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5835045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835049"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5835050">.</span><span class="ident" id="5835051"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5835059">(</span><span class="ident" id="5835060"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5835065">.</span><span class="ident" id="5835066"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5835071">,</span>&nbsp;<span class="ident" id="5835073"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5835074">.</span><span class="ident" id="5835075"><a href="/gostd/go/ast/ast.go.html#3820216">Values</a></span><span class="op" id="5835081">,</span>&nbsp;<span class="num" id="5835083">1</span><span class="op" id="5835084">,</span>&nbsp;<span class="num" id="5835086">0</span><span class="op" id="5835087">,</span>&nbsp;<span class="ident" id="5835089"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5835094">.</span><span class="ident" id="5835095"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5835100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835104"><a href="/gostd/go/printer/nodes.go.html#5834868">extraTabs</a></span><span class="op" id="5835113">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5835117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835120">if</span>&nbsp;<span class="ident" id="5835123"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5835124">.</span><span class="ident" id="5835125"><a href="/gostd/go/ast/ast.go.html#3820266">Comment</a></span>&nbsp;<span class="op" id="5835133">!=</span>&nbsp;<span class="builtintype" id="5835136">nil</span>&nbsp;<span class="op" id="5835140">{</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835144">for</span>&nbsp;<span class="op" id="5835148">;</span>&nbsp;<span class="ident" id="5835150"><a href="/gostd/go/printer/nodes.go.html#5834868">extraTabs</a></span>&nbsp;<span class="op" id="5835160">&gt;</span>&nbsp;<span class="num" id="5835162">0</span><span class="op" id="5835163">;</span>&nbsp;<span class="ident" id="5835165"><a href="/gostd/go/printer/nodes.go.html#5834868">extraTabs</a></span><span class="op" id="5835174">--</span>&nbsp;<span class="op" id="5835177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835182"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5835183">.</span><span class="builtinfunc" id="5835184"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5835189">(</span><span class="ident" id="5835190"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><span class="op" id="5835194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5835198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835202"><a href="/gostd/go/printer/nodes.go.html#5834742">p</a></span><span class="op" id="5835203">.</span><span class="ident" id="5835204"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5835214">(</span><span class="ident" id="5835215"><a href="/gostd/go/printer/nodes.go.html#5834764">s</a></span><span class="op" id="5835216">.</span><span class="ident" id="5835217"><a href="/gostd/go/ast/ast.go.html#3820266">Comment</a></span><span class="op" id="5835224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5835227">}</span><br>
<span class="lineno">1335</span><span class="op" id="5835229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5835232">//&nbsp;The&nbsp;parameter&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;specs&nbsp;in&nbsp;the&nbsp;group.&nbsp;If&nbsp;doIndent&nbsp;is&nbsp;set,</span><br>
<span class="lineno"></span><span class="comment" id="5835308">//&nbsp;multi-line&nbsp;identifier&nbsp;lists&nbsp;in&nbsp;the&nbsp;spec&nbsp;are&nbsp;indented&nbsp;when&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span><span class="comment" id="5835379">//&nbsp;linebreak&nbsp;is&nbsp;encountered.</span><br>
<span class="lineno">1340</span><span class="comment" id="5835408">//</span><br>
<span class="lineno"></span><span class="keyword" id="5835411">func</span>&nbsp;<span class="op" id="5835416">(</span><span class="ident" id="5835417">p</span>&nbsp;<span class="op" id="5835419">*</span><span class="ident" id="5835420"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5835427">)</span>&nbsp;<span class="ident" id="5835429">spec</span><span class="op" id="5835433">(</span><span class="ident" id="5835434">spec</span>&nbsp;<span class="ident" id="5835439"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5835442">.</span><span class="ident" id="5835443"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><span class="op" id="5835447">,</span>&nbsp;<span class="ident" id="5835449">n</span>&nbsp;<span class="builtintype" id="5835451">int</span><span class="op" id="5835454">,</span>&nbsp;<span class="ident" id="5835456">doIndent</span>&nbsp;<span class="builtintype" id="5835465">bool</span><span class="op" id="5835469">)</span>&nbsp;<span class="op" id="5835471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835474">switch</span>&nbsp;<span class="ident" id="5835481">s</span>&nbsp;<span class="op" id="5835483">:=</span>&nbsp;<span class="ident" id="5835486"><a href="/gostd/go/printer/nodes.go.html#5835434">spec</a></span><span class="op" id="5835490">.</span><span class="op" id="5835491">(</span><span class="keyword" id="5835492">type</span><span class="op" id="5835496">)</span>&nbsp;<span class="op" id="5835498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835501">case</span>&nbsp;<span class="op" id="5835506">*</span><span class="ident" id="5835507"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5835510">.</span><span class="ident" id="5835511"><a href="/gostd/go/ast/ast.go.html#3819609">ImportSpec</a></span><span class="op" id="5835521">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835525"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835526">.</span><span class="ident" id="5835527"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5835537">(</span><span class="ident" id="5835538"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835539">.</span><span class="ident" id="5835540"><a href="/gostd/go/ast/ast.go.html#3819631">Doc</a></span><span class="op" id="5835543">)</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835547">if</span>&nbsp;<span class="ident" id="5835550"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835551">.</span><span class="ident" id="5835552"><a href="/gostd/go/ast/ast.go.html#3819691">Name</a></span>&nbsp;<span class="op" id="5835557">!=</span>&nbsp;<span class="builtintype" id="5835560">nil</span>&nbsp;<span class="op" id="5835564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835569"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835570">.</span><span class="ident" id="5835571"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5835575">(</span><span class="ident" id="5835576"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835577">.</span><span class="ident" id="5835578"><a href="/gostd/go/ast/ast.go.html#3819691">Name</a></span><span class="op" id="5835582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835587"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835588">.</span><span class="builtinfunc" id="5835589"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5835594">(</span><span class="ident" id="5835595"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5835600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5835604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835608"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835609">.</span><span class="ident" id="5835610"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5835614">(</span><span class="ident" id="5835615"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835616">.</span><span class="ident" id="5835617"><a href="/gostd/go/ast/ast.go.html#3819761">Path</a></span><span class="op" id="5835621">)</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835625"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835626">.</span><span class="ident" id="5835627"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5835637">(</span><span class="ident" id="5835638"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835639">.</span><span class="ident" id="5835640"><a href="/gostd/go/ast/ast.go.html#3819800">Comment</a></span><span class="op" id="5835647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835651"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835652">.</span><span class="builtinfunc" id="5835653"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5835658">(</span><span class="ident" id="5835659"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835660">.</span><span class="ident" id="5835661"><a href="/gostd/go/ast/ast.go.html#3819849">EndPos</a></span><span class="op" id="5835667">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835671">case</span>&nbsp;<span class="op" id="5835676">*</span><span class="ident" id="5835677"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5835680">.</span><span class="ident" id="5835681"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="5835690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835694">if</span>&nbsp;<span class="ident" id="5835697"><a href="/gostd/go/printer/nodes.go.html#5835449">n</a></span>&nbsp;<span class="op" id="5835699">!=</span>&nbsp;<span class="num" id="5835702">1</span>&nbsp;<span class="op" id="5835704">{</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835709"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835710">.</span><span class="ident" id="5835711"><a href="/gostd/go/printer/printer.go.html#5845789">internalError</a></span><span class="op" id="5835724">(</span><span class="string" id="5835725">&#34;expected&nbsp;n&nbsp;=&nbsp;1;&nbsp;got&#34;</span><span class="op" id="5835746">,</span>&nbsp;<span class="ident" id="5835748"><a href="/gostd/go/printer/nodes.go.html#5835449">n</a></span><span class="op" id="5835749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5835753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835757"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835758">.</span><span class="ident" id="5835759"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5835769">(</span><span class="ident" id="5835770"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835771">.</span><span class="ident" id="5835772"><a href="/gostd/go/ast/ast.go.html#3820054">Doc</a></span><span class="op" id="5835775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835779"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835780">.</span><span class="ident" id="5835781"><a href="/gostd/go/printer/nodes.go.html#5803377">identList</a></span><span class="op" id="5835790">(</span><span class="ident" id="5835791"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835792">.</span><span class="ident" id="5835793"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span><span class="op" id="5835798">,</span>&nbsp;<span class="ident" id="5835800"><a href="/gostd/go/printer/nodes.go.html#5835456">doIndent</a></span><span class="op" id="5835808">)</span>&nbsp;<span class="comment" id="5835810">//&nbsp;always&nbsp;present</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835830">if</span>&nbsp;<span class="ident" id="5835833"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835834">.</span><span class="ident" id="5835835"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span>&nbsp;<span class="op" id="5835840">!=</span>&nbsp;<span class="builtintype" id="5835843">nil</span>&nbsp;<span class="op" id="5835847">{</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835852"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835853">.</span><span class="builtinfunc" id="5835854"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5835859">(</span><span class="ident" id="5835860"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5835865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835870"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835871">.</span><span class="ident" id="5835872"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5835876">(</span><span class="ident" id="5835877"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835878">.</span><span class="ident" id="5835879"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span><span class="op" id="5835883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5835887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5835891">if</span>&nbsp;<span class="ident" id="5835894"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835895">.</span><span class="ident" id="5835896"><a href="/gostd/go/ast/ast.go.html#3820216">Values</a></span>&nbsp;<span class="op" id="5835903">!=</span>&nbsp;<span class="builtintype" id="5835906">nil</span>&nbsp;<span class="op" id="5835910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835915"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835916">.</span><span class="builtinfunc" id="5835917"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5835922">(</span><span class="ident" id="5835923"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5835928">,</span>&nbsp;<span class="ident" id="5835930"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5835935">.</span><span class="ident" id="5835936"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span><span class="op" id="5835942">,</span>&nbsp;<span class="ident" id="5835944"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5835949">)</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5835954"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5835955">.</span><span class="ident" id="5835956"><a href="/gostd/go/printer/nodes.go.html#5804053">exprList</a></span><span class="op" id="5835964">(</span><span class="ident" id="5835965"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5835970">.</span><span class="ident" id="5835971"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5835976">,</span>&nbsp;<span class="ident" id="5835978"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5835979">.</span><span class="ident" id="5835980"><a href="/gostd/go/ast/ast.go.html#3820216">Values</a></span><span class="op" id="5835986">,</span>&nbsp;<span class="num" id="5835988">1</span><span class="op" id="5835989">,</span>&nbsp;<span class="num" id="5835991">0</span><span class="op" id="5835992">,</span>&nbsp;<span class="ident" id="5835994"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5835999">.</span><span class="ident" id="5836000"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5836005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836013"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836014">.</span><span class="ident" id="5836015"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5836025">(</span><span class="ident" id="5836026"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5836027">.</span><span class="ident" id="5836028"><a href="/gostd/go/ast/ast.go.html#3820266">Comment</a></span><span class="op" id="5836035">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836039">case</span>&nbsp;<span class="op" id="5836044">*</span><span class="ident" id="5836045"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5836048">.</span><span class="ident" id="5836049"><a href="/gostd/go/ast/ast.go.html#3820391">TypeSpec</a></span><span class="op" id="5836057">:</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836061"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836062">.</span><span class="ident" id="5836063"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5836073">(</span><span class="ident" id="5836074"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5836075">.</span><span class="ident" id="5836076"><a href="/gostd/go/ast/ast.go.html#3820411">Doc</a></span><span class="op" id="5836079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836083"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836084">.</span><span class="ident" id="5836085"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5836089">(</span><span class="ident" id="5836090"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5836091">.</span><span class="ident" id="5836092"><a href="/gostd/go/ast/ast.go.html#3820471">Name</a></span><span class="op" id="5836096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836100">if</span>&nbsp;<span class="ident" id="5836103"><a href="/gostd/go/printer/nodes.go.html#5835449">n</a></span>&nbsp;<span class="op" id="5836105">==</span>&nbsp;<span class="num" id="5836108">1</span>&nbsp;<span class="op" id="5836110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836115"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836116">.</span><span class="builtinfunc" id="5836117"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5836122">(</span><span class="ident" id="5836123"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5836128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836132">}</span>&nbsp;<span class="keyword" id="5836134">else</span>&nbsp;<span class="op" id="5836139">{</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836144"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836145">.</span><span class="builtinfunc" id="5836146"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5836151">(</span><span class="ident" id="5836152"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><span class="op" id="5836156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836164"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836165">.</span><span class="ident" id="5836166"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5836170">(</span><span class="ident" id="5836171"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5836172">.</span><span class="ident" id="5836173"><a href="/gostd/go/ast/ast.go.html#3820508">Type</a></span><span class="op" id="5836177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836181"><a href="/gostd/go/printer/nodes.go.html#5835417">p</a></span><span class="op" id="5836182">.</span><span class="ident" id="5836183"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5836193">(</span><span class="ident" id="5836194"><a href="/gostd/go/printer/nodes.go.html#5835481">s</a></span><span class="op" id="5836195">.</span><span class="ident" id="5836196"><a href="/gostd/go/ast/ast.go.html#3820605">Comment</a></span><span class="op" id="5836203">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836207">default</span><span class="op" id="5836214">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5836218">panic</span><span class="op" id="5836223">(</span><span class="string" id="5836224">&#34;unreachable&#34;</span><span class="op" id="5836237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836240">}</span><br>
<span class="lineno"></span><span class="op" id="5836242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1385</span><span class="keyword" id="5836245">func</span>&nbsp;<span class="op" id="5836250">(</span><span class="ident" id="5836251">p</span>&nbsp;<span class="op" id="5836253">*</span><span class="ident" id="5836254"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5836261">)</span>&nbsp;<span class="ident" id="5836263">genDecl</span><span class="op" id="5836270">(</span><span class="ident" id="5836271">d</span>&nbsp;<span class="op" id="5836273">*</span><span class="ident" id="5836274"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5836277">.</span><span class="ident" id="5836278"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="5836285">)</span>&nbsp;<span class="op" id="5836287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836290"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836291">.</span><span class="ident" id="5836292"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5836302">(</span><span class="ident" id="5836303"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836304">.</span><span class="ident" id="5836305"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span><span class="op" id="5836308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836311"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836312">.</span><span class="builtinfunc" id="5836313"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5836318">(</span><span class="ident" id="5836319"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836320">.</span><span class="ident" id="5836321"><a href="/gostd/go/ast/ast.go.html#3822984">Pos</a></span><span class="op" id="5836324">(</span><span class="op" id="5836325">)</span><span class="op" id="5836326">,</span>&nbsp;<span class="ident" id="5836328"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836329">.</span><span class="ident" id="5836330"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span><span class="op" id="5836333">,</span>&nbsp;<span class="ident" id="5836335"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5836340">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836344">if</span>&nbsp;<span class="ident" id="5836347"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836348">.</span><span class="ident" id="5836349"><a href="/gostd/go/ast/ast.go.html#3822333">Lparen</a></span><span class="op" id="5836355">.</span><span class="ident" id="5836356"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5836363">(</span><span class="op" id="5836364">)</span>&nbsp;<span class="op" id="5836366">{</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5836370">//&nbsp;group&nbsp;of&nbsp;parenthesized&nbsp;declarations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836411"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836412">.</span><span class="builtinfunc" id="5836413"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5836418">(</span><span class="ident" id="5836419"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836420">.</span><span class="ident" id="5836421"><a href="/gostd/go/ast/ast.go.html#3822333">Lparen</a></span><span class="op" id="5836427">,</span>&nbsp;<span class="ident" id="5836429"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5836434">.</span><span class="ident" id="5836435"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5836441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836445">if</span>&nbsp;<span class="ident" id="5836448">n</span>&nbsp;<span class="op" id="5836450">:=</span>&nbsp;<span class="builtinfunc" id="5836453">len</span><span class="op" id="5836456">(</span><span class="ident" id="5836457"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836458">.</span><span class="ident" id="5836459"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="5836464">)</span><span class="op" id="5836465">;</span>&nbsp;<span class="ident" id="5836467"><a href="/gostd/go/printer/nodes.go.html#5836448">n</a></span>&nbsp;<span class="op" id="5836469">&gt;</span>&nbsp;<span class="num" id="5836471">0</span>&nbsp;<span class="op" id="5836473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836478"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836479">.</span><span class="builtinfunc" id="5836480"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5836485">(</span><span class="ident" id="5836486"><a href="/gostd/go/printer/printer.go.html#5843139">indent</a></span><span class="op" id="5836492">,</span>&nbsp;<span class="ident" id="5836494"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5836502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836507">if</span>&nbsp;<span class="ident" id="5836510"><a href="/gostd/go/printer/nodes.go.html#5836448">n</a></span>&nbsp;<span class="op" id="5836512">&gt;</span>&nbsp;<span class="num" id="5836514">1</span>&nbsp;<span class="op" id="5836516">&amp;&amp;</span>&nbsp;<span class="op" id="5836519">(</span><span class="ident" id="5836520"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836521">.</span><span class="ident" id="5836522"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span>&nbsp;<span class="op" id="5836526">==</span>&nbsp;<span class="ident" id="5836529"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5836534">.</span><span class="ident" id="5836535"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span>&nbsp;<span class="op" id="5836541">||</span>&nbsp;<span class="ident" id="5836544"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836545">.</span><span class="ident" id="5836546"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span>&nbsp;<span class="op" id="5836550">==</span>&nbsp;<span class="ident" id="5836553"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5836558">.</span><span class="ident" id="5836559"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="5836562">)</span>&nbsp;<span class="op" id="5836564">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5836570">//&nbsp;two&nbsp;or&nbsp;more&nbsp;grouped&nbsp;const/var&nbsp;declarations:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5836621">//&nbsp;determine&nbsp;if&nbsp;the&nbsp;type&nbsp;column&nbsp;must&nbsp;be&nbsp;kept</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836670">keepType</span>&nbsp;<span class="op" id="5836679">:=</span>&nbsp;<span class="ident" id="5836682"><a href="/gostd/go/printer/nodes.go.html#5834045">keepTypeColumn</a></span><span class="op" id="5836696">(</span><span class="ident" id="5836697"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836698">.</span><span class="ident" id="5836699"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="5836704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836710">var</span>&nbsp;<span class="ident" id="5836714">line</span>&nbsp;<span class="builtintype" id="5836719">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836727">for</span>&nbsp;<span class="ident" id="5836731">i</span><span class="op" id="5836732">,</span>&nbsp;<span class="ident" id="5836734">s</span>&nbsp;<span class="op" id="5836736">:=</span>&nbsp;<span class="keyword" id="5836739">range</span>&nbsp;<span class="ident" id="5836745"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836746">.</span><span class="ident" id="5836747"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span>&nbsp;<span class="op" id="5836753">{</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836760">if</span>&nbsp;<span class="ident" id="5836763"><a href="/gostd/go/printer/nodes.go.html#5836731">i</a></span>&nbsp;<span class="op" id="5836765">&gt;</span>&nbsp;<span class="num" id="5836767">0</span>&nbsp;<span class="op" id="5836769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836777"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836778">.</span><span class="ident" id="5836779"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5836788">(</span><span class="ident" id="5836789"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836790">.</span><span class="ident" id="5836791"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5836798">(</span><span class="ident" id="5836799"><a href="/gostd/go/printer/nodes.go.html#5836734">s</a></span><span class="op" id="5836800">.</span><span class="ident" id="5836801"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5836804">(</span><span class="op" id="5836805">)</span><span class="op" id="5836806">)</span><span class="op" id="5836807">,</span>&nbsp;<span class="num" id="5836809">1</span><span class="op" id="5836810">,</span>&nbsp;<span class="ident" id="5836812"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5836818">,</span>&nbsp;<span class="ident" id="5836820"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836821">.</span><span class="ident" id="5836822"><a href="/gostd/go/printer/printer.go.html#5848352">linesFrom</a></span><span class="op" id="5836831">(</span><span class="ident" id="5836832"><a href="/gostd/go/printer/nodes.go.html#5836714">line</a></span><span class="op" id="5836836">)</span>&nbsp;<span class="op" id="5836838">&gt;</span>&nbsp;<span class="num" id="5836840">0</span><span class="op" id="5836841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836855"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836856">.</span><span class="ident" id="5836857"><a href="/gostd/go/printer/printer.go.html#5848018">recordLine</a></span><span class="op" id="5836867">(</span><span class="op" id="5836868">&amp;</span><span class="ident" id="5836869"><a href="/gostd/go/printer/nodes.go.html#5836714">line</a></span><span class="op" id="5836873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5836880"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5836881">.</span><span class="ident" id="5836882"><a href="/gostd/go/printer/nodes.go.html#5834754">valueSpec</a></span><span class="op" id="5836891">(</span><span class="ident" id="5836892"><a href="/gostd/go/printer/nodes.go.html#5836734">s</a></span><span class="op" id="5836893">.</span><span class="op" id="5836894">(</span><span class="op" id="5836895">*</span><span class="ident" id="5836896"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5836899">.</span><span class="ident" id="5836900"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="5836909">)</span><span class="op" id="5836910">,</span>&nbsp;<span class="ident" id="5836912"><a href="/gostd/go/printer/nodes.go.html#5836670">keepType</a></span><span class="op" id="5836920">[</span><span class="ident" id="5836921"><a href="/gostd/go/printer/nodes.go.html#5836731">i</a></span><span class="op" id="5836922">]</span><span class="op" id="5836923">)</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836934">}</span>&nbsp;<span class="keyword" id="5836936">else</span>&nbsp;<span class="op" id="5836941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836947">var</span>&nbsp;<span class="ident" id="5836951">line</span>&nbsp;<span class="builtintype" id="5836956">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836964">for</span>&nbsp;<span class="ident" id="5836968">i</span><span class="op" id="5836969">,</span>&nbsp;<span class="ident" id="5836971">s</span>&nbsp;<span class="op" id="5836973">:=</span>&nbsp;<span class="keyword" id="5836976">range</span>&nbsp;<span class="ident" id="5836982"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5836983">.</span><span class="ident" id="5836984"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span>&nbsp;<span class="op" id="5836990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5836997">if</span>&nbsp;<span class="ident" id="5837000"><a href="/gostd/go/printer/nodes.go.html#5836968">i</a></span>&nbsp;<span class="op" id="5837002">&gt;</span>&nbsp;<span class="num" id="5837004">0</span>&nbsp;<span class="op" id="5837006">{</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837014"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837015">.</span><span class="ident" id="5837016"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5837025">(</span><span class="ident" id="5837026"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837027">.</span><span class="ident" id="5837028"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5837035">(</span><span class="ident" id="5837036"><a href="/gostd/go/printer/nodes.go.html#5836971">s</a></span><span class="op" id="5837037">.</span><span class="ident" id="5837038"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5837041">(</span><span class="op" id="5837042">)</span><span class="op" id="5837043">)</span><span class="op" id="5837044">,</span>&nbsp;<span class="num" id="5837046">1</span><span class="op" id="5837047">,</span>&nbsp;<span class="ident" id="5837049"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5837055">,</span>&nbsp;<span class="ident" id="5837057"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837058">.</span><span class="ident" id="5837059"><a href="/gostd/go/printer/printer.go.html#5848352">linesFrom</a></span><span class="op" id="5837068">(</span><span class="ident" id="5837069"><a href="/gostd/go/printer/nodes.go.html#5836951">line</a></span><span class="op" id="5837073">)</span>&nbsp;<span class="op" id="5837075">&gt;</span>&nbsp;<span class="num" id="5837077">0</span><span class="op" id="5837078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837092"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837093">.</span><span class="ident" id="5837094"><a href="/gostd/go/printer/printer.go.html#5848018">recordLine</a></span><span class="op" id="5837104">(</span><span class="op" id="5837105">&amp;</span><span class="ident" id="5837106"><a href="/gostd/go/printer/nodes.go.html#5836951">line</a></span><span class="op" id="5837110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837117"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837118">.</span><span class="ident" id="5837119"><a href="/gostd/go/printer/nodes.go.html#5835429">spec</a></span><span class="op" id="5837123">(</span><span class="ident" id="5837124"><a href="/gostd/go/printer/nodes.go.html#5836971">s</a></span><span class="op" id="5837125">,</span>&nbsp;<span class="ident" id="5837127"><a href="/gostd/go/printer/nodes.go.html#5836448">n</a></span><span class="op" id="5837128">,</span>&nbsp;<span class="builtintype" id="5837130">false</span><span class="op" id="5837135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837141">}</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837151"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837152">.</span><span class="builtinfunc" id="5837153"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5837158">(</span><span class="ident" id="5837159"><a href="/gostd/go/printer/printer.go.html#5843167">unindent</a></span><span class="op" id="5837167">,</span>&nbsp;<span class="ident" id="5837169"><a href="/gostd/go/printer/printer.go.html#5843110">formfeed</a></span><span class="op" id="5837177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837185"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837186">.</span><span class="builtinfunc" id="5837187"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5837192">(</span><span class="ident" id="5837193"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5837194">.</span><span class="ident" id="5837195"><a href="/gostd/go/ast/ast.go.html#3822399">Rparen</a></span><span class="op" id="5837201">,</span>&nbsp;<span class="ident" id="5837203"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5837208">.</span><span class="ident" id="5837209"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5837215">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837219">}</span>&nbsp;<span class="keyword" id="5837221">else</span>&nbsp;<span class="op" id="5837226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837230">//&nbsp;single&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837254"><a href="/gostd/go/printer/nodes.go.html#5836251">p</a></span><span class="op" id="5837255">.</span><span class="ident" id="5837256"><a href="/gostd/go/printer/nodes.go.html#5835429">spec</a></span><span class="op" id="5837260">(</span><span class="ident" id="5837261"><a href="/gostd/go/printer/nodes.go.html#5836271">d</a></span><span class="op" id="5837262">.</span><span class="ident" id="5837263"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="5837268">[</span><span class="num" id="5837269">0</span><span class="op" id="5837270">]</span><span class="op" id="5837271">,</span>&nbsp;<span class="num" id="5837273">1</span><span class="op" id="5837274">,</span>&nbsp;<span class="builtintype" id="5837276">true</span><span class="op" id="5837280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837283">}</span><br>
<span class="lineno"></span><span class="op" id="5837285">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="comment" id="5837288">//&nbsp;nodeSize&nbsp;determines&nbsp;the&nbsp;size&nbsp;of&nbsp;n&nbsp;in&nbsp;chars&nbsp;after&nbsp;formatting.</span><br>
<span class="lineno"></span><span class="comment" id="5837352">//&nbsp;The&nbsp;result&nbsp;is&nbsp;&lt;=&nbsp;maxSize&nbsp;if&nbsp;the&nbsp;node&nbsp;fits&nbsp;on&nbsp;one&nbsp;line&nbsp;with&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="5837417">//&nbsp;most&nbsp;maxSize&nbsp;chars&nbsp;and&nbsp;the&nbsp;formatted&nbsp;output&nbsp;doesn&#39;t&nbsp;contain</span><br>
<span class="lineno"></span><span class="comment" id="5837480">//&nbsp;any&nbsp;control&nbsp;chars.&nbsp;Otherwise,&nbsp;the&nbsp;result&nbsp;is&nbsp;&gt;&nbsp;maxSize.</span><br>
<span class="lineno">1430</span><span class="comment" id="5837538">//</span><br>
<span class="lineno"></span><span class="keyword" id="5837541">func</span>&nbsp;<span class="op" id="5837546">(</span><span class="ident" id="5837547">p</span>&nbsp;<span class="op" id="5837549">*</span><span class="ident" id="5837550"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5837557">)</span>&nbsp;<span class="ident" id="5837559">nodeSize</span><span class="op" id="5837567">(</span><span class="ident" id="5837568">n</span>&nbsp;<span class="ident" id="5837570"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5837573">.</span><span class="ident" id="5837574"><a href="/gostd/go/ast/ast.go.html#3795014">Node</a></span><span class="op" id="5837578">,</span>&nbsp;<span class="ident" id="5837580">maxSize</span>&nbsp;<span class="builtintype" id="5837588">int</span><span class="op" id="5837591">)</span>&nbsp;<span class="op" id="5837593">(</span><span class="ident" id="5837594">size</span>&nbsp;<span class="builtintype" id="5837599">int</span><span class="op" id="5837602">)</span>&nbsp;<span class="op" id="5837604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837607">//&nbsp;nodeSize&nbsp;invokes&nbsp;the&nbsp;printer,&nbsp;which&nbsp;may&nbsp;invoke&nbsp;nodeSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837667">//&nbsp;recursively.&nbsp;For&nbsp;deep&nbsp;composite&nbsp;literal&nbsp;nests,&nbsp;this&nbsp;can</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837727">//&nbsp;lead&nbsp;to&nbsp;an&nbsp;exponential&nbsp;algorithm.&nbsp;Remember&nbsp;previous</span><br>
<span class="lineno">1435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837783">//&nbsp;results&nbsp;to&nbsp;prune&nbsp;the&nbsp;recursion&nbsp;(was&nbsp;issue&nbsp;1628).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5837836">if</span>&nbsp;<span class="ident" id="5837839">size</span><span class="op" id="5837843">,</span>&nbsp;<span class="ident" id="5837845">found</span>&nbsp;<span class="op" id="5837851">:=</span>&nbsp;<span class="ident" id="5837854"><a href="/gostd/go/printer/nodes.go.html#5837547">p</a></span><span class="op" id="5837855">.</span><span class="ident" id="5837856"><a href="/gostd/go/printer/printer.go.html#5845292">nodeSizes</a></span><span class="op" id="5837865">[</span><span class="ident" id="5837866"><a href="/gostd/go/printer/nodes.go.html#5837568">n</a></span><span class="op" id="5837867">]</span><span class="op" id="5837868">;</span>&nbsp;<span class="ident" id="5837870"><a href="/gostd/go/printer/nodes.go.html#5837845">found</a></span>&nbsp;<span class="op" id="5837876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5837880">return</span>&nbsp;<span class="ident" id="5837887"><a href="/gostd/go/printer/nodes.go.html#5837839">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837897"><a href="/gostd/go/printer/nodes.go.html#5837594">size</a></span>&nbsp;<span class="op" id="5837902">=</span>&nbsp;<span class="ident" id="5837904"><a href="/gostd/go/printer/nodes.go.html#5837580">maxSize</a></span>&nbsp;<span class="op" id="5837912">+</span>&nbsp;<span class="num" id="5837914">1</span>&nbsp;<span class="comment" id="5837916">//&nbsp;assume&nbsp;n&nbsp;doesn&#39;t&nbsp;fit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5837941"><a href="/gostd/go/printer/nodes.go.html#5837547">p</a></span><span class="op" id="5837942">.</span><span class="ident" id="5837943"><a href="/gostd/go/printer/printer.go.html#5845292">nodeSizes</a></span><span class="op" id="5837952">[</span><span class="ident" id="5837953"><a href="/gostd/go/printer/nodes.go.html#5837568">n</a></span><span class="op" id="5837954">]</span>&nbsp;<span class="op" id="5837956">=</span>&nbsp;<span class="ident" id="5837958"><a href="/gostd/go/printer/nodes.go.html#5837594">size</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837965">//&nbsp;nodeSize&nbsp;computation&nbsp;must&nbsp;be&nbsp;independent&nbsp;of&nbsp;particular</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5838024">//&nbsp;style&nbsp;so&nbsp;that&nbsp;we&nbsp;always&nbsp;get&nbsp;the&nbsp;same&nbsp;decision;&nbsp;print</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5838081">//&nbsp;in&nbsp;RawFormat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5838098">cfg</span>&nbsp;<span class="op" id="5838102">:=</span>&nbsp;<span class="ident" id="5838105"><a href="/gostd/go/printer/printer.go.html#5877536">Config</a></span><span class="op" id="5838111">{</span><span class="ident" id="5838112"><a href="/gostd/go/printer/printer.go.html#5877553">Mode</a></span><span class="op" id="5838116">:</span>&nbsp;<span class="ident" id="5838118"><a href="/gostd/go/printer/printer.go.html#5877154">RawFormat</a></span><span class="op" id="5838127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838130">var</span>&nbsp;<span class="ident" id="5838134">buf</span>&nbsp;<span class="ident" id="5838138"><a href="/gostd/go/printer/nodes.go.html#5800163">bytes</a></span><span class="op" id="5838143">.</span><span class="ident" id="5838144"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838152">if</span>&nbsp;<span class="ident" id="5838155">err</span>&nbsp;<span class="op" id="5838159">:=</span>&nbsp;<span class="ident" id="5838162"><a href="/gostd/go/printer/nodes.go.html#5838098">cfg</a></span><span class="op" id="5838165">.</span><span class="ident" id="5838166"><a href="/gostd/go/printer/printer.go.html#5877795">fprint</a></span><span class="op" id="5838172">(</span><span class="op" id="5838173">&amp;</span><span class="ident" id="5838174"><a href="/gostd/go/printer/nodes.go.html#5838134">buf</a></span><span class="op" id="5838177">,</span>&nbsp;<span class="ident" id="5838179"><a href="/gostd/go/printer/nodes.go.html#5837547">p</a></span><span class="op" id="5838180">.</span><span class="ident" id="5838181"><a href="/gostd/go/printer/printer.go.html#5843892">fset</a></span><span class="op" id="5838185">,</span>&nbsp;<span class="ident" id="5838187"><a href="/gostd/go/printer/nodes.go.html#5837568">n</a></span><span class="op" id="5838188">,</span>&nbsp;<span class="ident" id="5838190"><a href="/gostd/go/printer/nodes.go.html#5837547">p</a></span><span class="op" id="5838191">.</span><span class="ident" id="5838192"><a href="/gostd/go/printer/printer.go.html#5845292">nodeSizes</a></span><span class="op" id="5838201">)</span><span class="op" id="5838202">;</span>&nbsp;<span class="ident" id="5838204"><a href="/gostd/go/printer/nodes.go.html#5838155">err</a></span>&nbsp;<span class="op" id="5838208">!=</span>&nbsp;<span class="builtintype" id="5838211">nil</span>&nbsp;<span class="op" id="5838215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838219">return</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5838227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838230">if</span>&nbsp;<span class="ident" id="5838233"><a href="/gostd/go/printer/nodes.go.html#5838134">buf</a></span><span class="op" id="5838236">.</span><span class="ident" id="5838237"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="5838240">(</span><span class="op" id="5838241">)</span>&nbsp;<span class="op" id="5838243">&lt;=</span>&nbsp;<span class="ident" id="5838246"><a href="/gostd/go/printer/nodes.go.html#5837580">maxSize</a></span>&nbsp;<span class="op" id="5838254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838258">for</span>&nbsp;<span class="ident" id="5838262">_</span><span class="op" id="5838263">,</span>&nbsp;<span class="ident" id="5838265">ch</span>&nbsp;<span class="op" id="5838268">:=</span>&nbsp;<span class="keyword" id="5838271">range</span>&nbsp;<span class="ident" id="5838277"><a href="/gostd/go/printer/nodes.go.html#5838134">buf</a></span><span class="op" id="5838280">.</span><span class="ident" id="5838281"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="5838286">(</span><span class="op" id="5838287">)</span>&nbsp;<span class="op" id="5838289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838294">if</span>&nbsp;<span class="ident" id="5838297"><a href="/gostd/go/printer/nodes.go.html#5838265">ch</a></span>&nbsp;<span class="op" id="5838300">&lt;</span>&nbsp;<span class="string" id="5838302">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="5838306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838312">return</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5838322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5838326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5838330"><a href="/gostd/go/printer/nodes.go.html#5837594">size</a></span>&nbsp;<span class="op" id="5838335">=</span>&nbsp;<span class="ident" id="5838337"><a href="/gostd/go/printer/nodes.go.html#5838134">buf</a></span><span class="op" id="5838340">.</span><span class="ident" id="5838341"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="5838344">(</span><span class="op" id="5838345">)</span>&nbsp;<span class="comment" id="5838347">//&nbsp;n&nbsp;fits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5838359"><a href="/gostd/go/printer/nodes.go.html#5837547">p</a></span><span class="op" id="5838360">.</span><span class="ident" id="5838361"><a href="/gostd/go/printer/printer.go.html#5845292">nodeSizes</a></span><span class="op" id="5838370">[</span><span class="ident" id="5838371"><a href="/gostd/go/printer/nodes.go.html#5837568">n</a></span><span class="op" id="5838372">]</span>&nbsp;<span class="op" id="5838374">=</span>&nbsp;<span class="ident" id="5838376"><a href="/gostd/go/printer/nodes.go.html#5837594">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5838382">}</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838385">return</span><br>
<span class="lineno"></span><span class="op" id="5838392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838395">//&nbsp;bodySize&nbsp;is&nbsp;like&nbsp;nodeSize&nbsp;but&nbsp;it&nbsp;is&nbsp;specialized&nbsp;for&nbsp;*ast.BlockStmt&#39;s.</span><br>
<span class="lineno"></span><span class="keyword" id="5838468">func</span>&nbsp;<span class="op" id="5838473">(</span><span class="ident" id="5838474">p</span>&nbsp;<span class="op" id="5838476">*</span><span class="ident" id="5838477"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5838484">)</span>&nbsp;<span class="ident" id="5838486">bodySize</span><span class="op" id="5838494">(</span><span class="ident" id="5838495">b</span>&nbsp;<span class="op" id="5838497">*</span><span class="ident" id="5838498"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5838501">.</span><span class="ident" id="5838502"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5838511">,</span>&nbsp;<span class="ident" id="5838513">maxSize</span>&nbsp;<span class="builtintype" id="5838521">int</span><span class="op" id="5838524">)</span>&nbsp;<span class="builtintype" id="5838526">int</span>&nbsp;<span class="op" id="5838530">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5838533">pos1</span>&nbsp;<span class="op" id="5838538">:=</span>&nbsp;<span class="ident" id="5838541"><a href="/gostd/go/printer/nodes.go.html#5838495">b</a></span><span class="op" id="5838542">.</span><span class="ident" id="5838543"><a href="/gostd/go/ast/ast.go.html#3816184">Pos</a></span><span class="op" id="5838546">(</span><span class="op" id="5838547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5838550">pos2</span>&nbsp;<span class="op" id="5838555">:=</span>&nbsp;<span class="ident" id="5838558"><a href="/gostd/go/printer/nodes.go.html#5838495">b</a></span><span class="op" id="5838559">.</span><span class="ident" id="5838560"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838568">if</span>&nbsp;<span class="ident" id="5838571"><a href="/gostd/go/printer/nodes.go.html#5838533">pos1</a></span><span class="op" id="5838575">.</span><span class="ident" id="5838576"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5838583">(</span><span class="op" id="5838584">)</span>&nbsp;<span class="op" id="5838586">&amp;&amp;</span>&nbsp;<span class="ident" id="5838589"><a href="/gostd/go/printer/nodes.go.html#5838550">pos2</a></span><span class="op" id="5838593">.</span><span class="ident" id="5838594"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5838601">(</span><span class="op" id="5838602">)</span>&nbsp;<span class="op" id="5838604">&amp;&amp;</span>&nbsp;<span class="ident" id="5838607"><a href="/gostd/go/printer/nodes.go.html#5838474">p</a></span><span class="op" id="5838608">.</span><span class="ident" id="5838609"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5838616">(</span><span class="ident" id="5838617"><a href="/gostd/go/printer/nodes.go.html#5838533">pos1</a></span><span class="op" id="5838621">)</span>&nbsp;<span class="op" id="5838623">!=</span>&nbsp;<span class="ident" id="5838626"><a href="/gostd/go/printer/nodes.go.html#5838474">p</a></span><span class="op" id="5838627">.</span><span class="ident" id="5838628"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5838635">(</span><span class="ident" id="5838636"><a href="/gostd/go/printer/nodes.go.html#5838550">pos2</a></span><span class="op" id="5838640">)</span>&nbsp;<span class="op" id="5838642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5838646">//&nbsp;opening&nbsp;and&nbsp;closing&nbsp;brace&nbsp;are&nbsp;on&nbsp;different&nbsp;lines&nbsp;-&nbsp;don&#39;t&nbsp;make&nbsp;it&nbsp;a&nbsp;one-liner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838728">return</span>&nbsp;<span class="ident" id="5838735"><a href="/gostd/go/printer/nodes.go.html#5838513">maxSize</a></span>&nbsp;<span class="op" id="5838743">+</span>&nbsp;<span class="num" id="5838745">1</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5838748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838751">if</span>&nbsp;<span class="builtinfunc" id="5838754">len</span><span class="op" id="5838757">(</span><span class="ident" id="5838758"><a href="/gostd/go/printer/nodes.go.html#5838495">b</a></span><span class="op" id="5838759">.</span><span class="ident" id="5838760"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5838764">)</span>&nbsp;<span class="op" id="5838766">&gt;</span>&nbsp;<span class="num" id="5838768">5</span>&nbsp;<span class="op" id="5838770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5838774">//&nbsp;too&nbsp;many&nbsp;statements&nbsp;-&nbsp;don&#39;t&nbsp;make&nbsp;it&nbsp;a&nbsp;one-liner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838827">return</span>&nbsp;<span class="ident" id="5838834"><a href="/gostd/go/printer/nodes.go.html#5838513">maxSize</a></span>&nbsp;<span class="op" id="5838842">+</span>&nbsp;<span class="num" id="5838844">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5838847">}</span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5838850">//&nbsp;otherwise,&nbsp;estimate&nbsp;body&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5838884">bodySize</span>&nbsp;<span class="op" id="5838893">:=</span>&nbsp;<span class="ident" id="5838896"><a href="/gostd/go/printer/nodes.go.html#5838474">p</a></span><span class="op" id="5838897">.</span><span class="ident" id="5838898"><a href="/gostd/go/printer/printer.go.html#5847429">commentSizeBefore</a></span><span class="op" id="5838915">(</span><span class="ident" id="5838916"><a href="/gostd/go/printer/nodes.go.html#5838474">p</a></span><span class="op" id="5838917">.</span><span class="ident" id="5838918"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5838924">(</span><span class="ident" id="5838925"><a href="/gostd/go/printer/nodes.go.html#5838550">pos2</a></span><span class="op" id="5838929">)</span><span class="op" id="5838930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838933">for</span>&nbsp;<span class="ident" id="5838937">i</span><span class="op" id="5838938">,</span>&nbsp;<span class="ident" id="5838940">s</span>&nbsp;<span class="op" id="5838942">:=</span>&nbsp;<span class="keyword" id="5838945">range</span>&nbsp;<span class="ident" id="5838951"><a href="/gostd/go/printer/nodes.go.html#5838495">b</a></span><span class="op" id="5838952">.</span><span class="ident" id="5838953"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span>&nbsp;<span class="op" id="5838958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838962">if</span>&nbsp;<span class="ident" id="5838965"><a href="/gostd/go/printer/nodes.go.html#5838884">bodySize</a></span>&nbsp;<span class="op" id="5838974">&gt;</span>&nbsp;<span class="ident" id="5838976"><a href="/gostd/go/printer/nodes.go.html#5838513">maxSize</a></span>&nbsp;<span class="op" id="5838984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5838989">break</span>&nbsp;<span class="comment" id="5838995">//&nbsp;no&nbsp;need&nbsp;to&nbsp;continue</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5839020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839024">if</span>&nbsp;<span class="ident" id="5839027"><a href="/gostd/go/printer/nodes.go.html#5838937">i</a></span>&nbsp;<span class="op" id="5839029">&gt;</span>&nbsp;<span class="num" id="5839031">0</span>&nbsp;<span class="op" id="5839033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5839038"><a href="/gostd/go/printer/nodes.go.html#5838884">bodySize</a></span>&nbsp;<span class="op" id="5839047">+=</span>&nbsp;<span class="num" id="5839050">2</span>&nbsp;<span class="comment" id="5839052">//&nbsp;space&nbsp;for&nbsp;a&nbsp;semicolon&nbsp;and&nbsp;blank</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5839089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5839093"><a href="/gostd/go/printer/nodes.go.html#5838884">bodySize</a></span>&nbsp;<span class="op" id="5839102">+=</span>&nbsp;<span class="ident" id="5839105"><a href="/gostd/go/printer/nodes.go.html#5838474">p</a></span><span class="op" id="5839106">.</span><span class="ident" id="5839107"><a href="/gostd/go/printer/nodes.go.html#5837559">nodeSize</a></span><span class="op" id="5839115">(</span><span class="ident" id="5839116"><a href="/gostd/go/printer/nodes.go.html#5838940">s</a></span><span class="op" id="5839117">,</span>&nbsp;<span class="ident" id="5839119"><a href="/gostd/go/printer/nodes.go.html#5838513">maxSize</a></span><span class="op" id="5839126">)</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5839129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839132">return</span>&nbsp;<span class="ident" id="5839139"><a href="/gostd/go/printer/nodes.go.html#5838884">bodySize</a></span><br>
<span class="lineno"></span><span class="op" id="5839148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5839151">//&nbsp;adjBlock&nbsp;prints&nbsp;an&nbsp;&#34;adjacent&#34;&nbsp;block&nbsp;(e.g.,&nbsp;a&nbsp;for-loop&nbsp;or&nbsp;function&nbsp;body)&nbsp;following</span><br>
<span class="lineno">1490</span><span class="comment" id="5839236">//&nbsp;a&nbsp;header&nbsp;(e.g.,&nbsp;a&nbsp;for-loop&nbsp;control&nbsp;clause&nbsp;or&nbsp;function&nbsp;signature)&nbsp;of&nbsp;given&nbsp;headerSize.</span><br>
<span class="lineno"></span><span class="comment" id="5839325">//&nbsp;If&nbsp;the&nbsp;header&#39;s&nbsp;and&nbsp;block&#39;s&nbsp;size&nbsp;are&nbsp;&#34;small&nbsp;enough&#34;&nbsp;and&nbsp;the&nbsp;block&nbsp;is&nbsp;&#34;simple&nbsp;enough&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="5839414">//&nbsp;the&nbsp;block&nbsp;is&nbsp;printed&nbsp;on&nbsp;the&nbsp;current&nbsp;line,&nbsp;without&nbsp;line&nbsp;breaks,&nbsp;spaced&nbsp;from&nbsp;the&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="5839503">//&nbsp;by&nbsp;sep.&nbsp;Otherwise&nbsp;the&nbsp;block&#39;s&nbsp;opening&nbsp;&#34;{&#34;&nbsp;is&nbsp;printed&nbsp;on&nbsp;the&nbsp;current&nbsp;line,&nbsp;followed&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="5839592">//&nbsp;lines&nbsp;for&nbsp;the&nbsp;block&#39;s&nbsp;statements&nbsp;and&nbsp;its&nbsp;closing&nbsp;&#34;}&#34;.</span><br>
<span class="lineno">1495</span><span class="comment" id="5839649">//</span><br>
<span class="lineno"></span><span class="keyword" id="5839652">func</span>&nbsp;<span class="op" id="5839657">(</span><span class="ident" id="5839658">p</span>&nbsp;<span class="op" id="5839660">*</span><span class="ident" id="5839661"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5839668">)</span>&nbsp;<span class="ident" id="5839670">adjBlock</span><span class="op" id="5839678">(</span><span class="ident" id="5839679">headerSize</span>&nbsp;<span class="builtintype" id="5839690">int</span><span class="op" id="5839693">,</span>&nbsp;<span class="ident" id="5839695">sep</span>&nbsp;<span class="ident" id="5839699"><a href="/gostd/go/printer/printer.go.html#5842972">whiteSpace</a></span><span class="op" id="5839709">,</span>&nbsp;<span class="ident" id="5839711">b</span>&nbsp;<span class="op" id="5839713">*</span><span class="ident" id="5839714"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5839717">.</span><span class="ident" id="5839718"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5839727">)</span>&nbsp;<span class="op" id="5839729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839732">if</span>&nbsp;<span class="ident" id="5839735"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span>&nbsp;<span class="op" id="5839737">==</span>&nbsp;<span class="builtintype" id="5839740">nil</span>&nbsp;<span class="op" id="5839744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839748">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5839756">}</span><br>
<span class="lineno">1500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839760">const</span>&nbsp;<span class="ident" id="5839766">maxSize</span>&nbsp;<span class="op" id="5839774">=</span>&nbsp;<span class="num" id="5839776">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839781">if</span>&nbsp;<span class="ident" id="5839784"><a href="/gostd/go/printer/nodes.go.html#5839679">headerSize</a></span><span class="op" id="5839794">+</span><span class="ident" id="5839795"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5839796">.</span><span class="ident" id="5839797"><a href="/gostd/go/printer/nodes.go.html#5838486">bodySize</a></span><span class="op" id="5839805">(</span><span class="ident" id="5839806"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5839807">,</span>&nbsp;<span class="ident" id="5839809"><a href="/gostd/go/printer/nodes.go.html#5839766">maxSize</a></span><span class="op" id="5839816">)</span>&nbsp;<span class="op" id="5839818">&lt;=</span>&nbsp;<span class="ident" id="5839821"><a href="/gostd/go/printer/nodes.go.html#5839766">maxSize</a></span>&nbsp;<span class="op" id="5839829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5839833"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5839834">.</span><span class="builtinfunc" id="5839835"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5839840">(</span><span class="ident" id="5839841"><a href="/gostd/go/printer/nodes.go.html#5839695">sep</a></span><span class="op" id="5839844">,</span>&nbsp;<span class="ident" id="5839846"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5839847">.</span><span class="ident" id="5839848"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="5839854">,</span>&nbsp;<span class="ident" id="5839856"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5839861">.</span><span class="ident" id="5839862"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5839868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839872">if</span>&nbsp;<span class="builtinfunc" id="5839875">len</span><span class="op" id="5839878">(</span><span class="ident" id="5839879"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5839880">.</span><span class="ident" id="5839881"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5839885">)</span>&nbsp;<span class="op" id="5839887">&gt;</span>&nbsp;<span class="num" id="5839889">0</span>&nbsp;<span class="op" id="5839891">{</span><br>
<span class="lineno">1505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5839896"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5839897">.</span><span class="builtinfunc" id="5839898"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5839903">(</span><span class="ident" id="5839904"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5839909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839914">for</span>&nbsp;<span class="ident" id="5839918">i</span><span class="op" id="5839919">,</span>&nbsp;<span class="ident" id="5839921">s</span>&nbsp;<span class="op" id="5839923">:=</span>&nbsp;<span class="keyword" id="5839926">range</span>&nbsp;<span class="ident" id="5839932"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5839933">.</span><span class="ident" id="5839934"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span>&nbsp;<span class="op" id="5839939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5839945">if</span>&nbsp;<span class="ident" id="5839948"><a href="/gostd/go/printer/nodes.go.html#5839918">i</a></span>&nbsp;<span class="op" id="5839950">&gt;</span>&nbsp;<span class="num" id="5839952">0</span>&nbsp;<span class="op" id="5839954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5839961"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5839962">.</span><span class="builtinfunc" id="5839963"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5839968">(</span><span class="ident" id="5839969"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5839974">.</span><span class="ident" id="5839975"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span><span class="op" id="5839984">,</span>&nbsp;<span class="ident" id="5839986"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5839991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5839997">}</span><br>
<span class="lineno">1510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840003"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5840004">.</span><span class="ident" id="5840005"><a href="/gostd/go/printer/nodes.go.html#5828779">stmt</a></span><span class="op" id="5840009">(</span><span class="ident" id="5840010"><a href="/gostd/go/printer/nodes.go.html#5839921">s</a></span><span class="op" id="5840011">,</span>&nbsp;<span class="ident" id="5840013"><a href="/gostd/go/printer/nodes.go.html#5839918">i</a></span>&nbsp;<span class="op" id="5840015">==</span>&nbsp;<span class="builtinfunc" id="5840018">len</span><span class="op" id="5840021">(</span><span class="ident" id="5840022"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5840023">.</span><span class="ident" id="5840024"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5840028">)</span><span class="op" id="5840029">-</span><span class="num" id="5840030">1</span><span class="op" id="5840031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840041"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5840042">.</span><span class="builtinfunc" id="5840043"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5840048">(</span><span class="ident" id="5840049"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5840054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840062"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5840063">.</span><span class="builtinfunc" id="5840064"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5840069">(</span><span class="ident" id="5840070"><a href="/gostd/go/printer/printer.go.html#5843359">noExtraLinebreak</a></span><span class="op" id="5840086">,</span>&nbsp;<span class="ident" id="5840088"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5840089">.</span><span class="ident" id="5840090"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5840096">,</span>&nbsp;<span class="ident" id="5840098"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5840103">.</span><span class="ident" id="5840104"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5840110">,</span>&nbsp;<span class="ident" id="5840112"><a href="/gostd/go/printer/printer.go.html#5843359">noExtraLinebreak</a></span><span class="op" id="5840128">)</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840132">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840144">if</span>&nbsp;<span class="ident" id="5840147"><a href="/gostd/go/printer/nodes.go.html#5839695">sep</a></span>&nbsp;<span class="op" id="5840151">!=</span>&nbsp;<span class="ident" id="5840154"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span>&nbsp;<span class="op" id="5840161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840165"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5840166">.</span><span class="builtinfunc" id="5840167"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5840172">(</span><span class="ident" id="5840173"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5840178">)</span>&nbsp;<span class="comment" id="5840180">//&nbsp;always&nbsp;use&nbsp;blank</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840204"><a href="/gostd/go/printer/nodes.go.html#5839658">p</a></span><span class="op" id="5840205">.</span><span class="ident" id="5840206"><a href="/gostd/go/printer/nodes.go.html#5825955">block</a></span><span class="op" id="5840211">(</span><span class="ident" id="5840212"><a href="/gostd/go/printer/nodes.go.html#5839711">b</a></span><span class="op" id="5840213">,</span>&nbsp;<span class="num" id="5840215">1</span><span class="op" id="5840216">)</span><br>
<span class="lineno"></span><span class="op" id="5840218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5840221">//&nbsp;distanceFrom&nbsp;returns&nbsp;the&nbsp;column&nbsp;difference&nbsp;between&nbsp;from&nbsp;and&nbsp;p.pos&nbsp;(the&nbsp;current</span><br>
<span class="lineno">1525</span><span class="comment" id="5840303">//&nbsp;estimated&nbsp;position)&nbsp;if&nbsp;both&nbsp;are&nbsp;on&nbsp;the&nbsp;same&nbsp;line;&nbsp;if&nbsp;they&nbsp;are&nbsp;on&nbsp;different&nbsp;lines</span><br>
<span class="lineno"></span><span class="comment" id="5840387">//&nbsp;(or&nbsp;unknown)&nbsp;the&nbsp;result&nbsp;is&nbsp;infinity.</span><br>
<span class="lineno"></span><span class="keyword" id="5840427">func</span>&nbsp;<span class="op" id="5840432">(</span><span class="ident" id="5840433">p</span>&nbsp;<span class="op" id="5840435">*</span><span class="ident" id="5840436"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5840443">)</span>&nbsp;<span class="ident" id="5840445">distanceFrom</span><span class="op" id="5840457">(</span><span class="ident" id="5840458">from</span>&nbsp;<span class="ident" id="5840463"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5840468">.</span><span class="ident" id="5840469"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5840472">)</span>&nbsp;<span class="builtintype" id="5840474">int</span>&nbsp;<span class="op" id="5840478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840481">if</span>&nbsp;<span class="ident" id="5840484"><a href="/gostd/go/printer/nodes.go.html#5840458">from</a></span><span class="op" id="5840488">.</span><span class="ident" id="5840489"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5840496">(</span><span class="op" id="5840497">)</span>&nbsp;<span class="op" id="5840499">&amp;&amp;</span>&nbsp;<span class="ident" id="5840502"><a href="/gostd/go/printer/nodes.go.html#5840433">p</a></span><span class="op" id="5840503">.</span><span class="ident" id="5840504"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5840507">.</span><span class="ident" id="5840508"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="5840515">(</span><span class="op" id="5840516">)</span>&nbsp;<span class="op" id="5840518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840522">if</span>&nbsp;<span class="ident" id="5840525">f</span>&nbsp;<span class="op" id="5840527">:=</span>&nbsp;<span class="ident" id="5840530"><a href="/gostd/go/printer/nodes.go.html#5840433">p</a></span><span class="op" id="5840531">.</span><span class="ident" id="5840532"><a href="/gostd/go/printer/printer.go.html#5848425">posFor</a></span><span class="op" id="5840538">(</span><span class="ident" id="5840539"><a href="/gostd/go/printer/nodes.go.html#5840458">from</a></span><span class="op" id="5840543">)</span><span class="op" id="5840544">;</span>&nbsp;<span class="ident" id="5840546"><a href="/gostd/go/printer/nodes.go.html#5840525">f</a></span><span class="op" id="5840547">.</span><span class="ident" id="5840548"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5840553">==</span>&nbsp;<span class="ident" id="5840556"><a href="/gostd/go/printer/nodes.go.html#5840433">p</a></span><span class="op" id="5840557">.</span><span class="ident" id="5840558"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5840561">.</span><span class="ident" id="5840562"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5840567">{</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840572">return</span>&nbsp;<span class="ident" id="5840579"><a href="/gostd/go/printer/nodes.go.html#5840433">p</a></span><span class="op" id="5840580">.</span><span class="ident" id="5840581"><a href="/gostd/go/printer/printer.go.html#5844690">pos</a></span><span class="op" id="5840584">.</span><span class="ident" id="5840585"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span>&nbsp;<span class="op" id="5840592">-</span>&nbsp;<span class="ident" id="5840594"><a href="/gostd/go/printer/nodes.go.html#5840525">f</a></span><span class="op" id="5840595">.</span><span class="ident" id="5840596"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840611">return</span>&nbsp;<span class="ident" id="5840618"><a href="/gostd/go/printer/printer.go.html#5842942">infinity</a></span><br>
<span class="lineno"></span><span class="op" id="5840627">}</span><br>
<span class="lineno">1535</span><br>
<span class="lineno"></span><span class="keyword" id="5840630">func</span>&nbsp;<span class="op" id="5840635">(</span><span class="ident" id="5840636">p</span>&nbsp;<span class="op" id="5840638">*</span><span class="ident" id="5840639"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5840646">)</span>&nbsp;<span class="ident" id="5840648">funcDecl</span><span class="op" id="5840656">(</span><span class="ident" id="5840657">d</span>&nbsp;<span class="op" id="5840659">*</span><span class="ident" id="5840660"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5840663">.</span><span class="ident" id="5840664"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="5840672">)</span>&nbsp;<span class="op" id="5840674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840677"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840678">.</span><span class="ident" id="5840679"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5840689">(</span><span class="ident" id="5840690"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840691">.</span><span class="ident" id="5840692"><a href="/gostd/go/ast/ast.go.html#3822523">Doc</a></span><span class="op" id="5840695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840698"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840699">.</span><span class="builtinfunc" id="5840700"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5840705">(</span><span class="ident" id="5840706"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840707">.</span><span class="ident" id="5840708"><a href="/gostd/go/ast/ast.go.html#3823040">Pos</a></span><span class="op" id="5840711">(</span><span class="op" id="5840712">)</span><span class="op" id="5840713">,</span>&nbsp;<span class="ident" id="5840715"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5840720">.</span><span class="ident" id="5840721"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="5840725">,</span>&nbsp;<span class="ident" id="5840727"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5840732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840735">if</span>&nbsp;<span class="ident" id="5840738"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840739">.</span><span class="ident" id="5840740"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span>&nbsp;<span class="op" id="5840745">!=</span>&nbsp;<span class="builtintype" id="5840748">nil</span>&nbsp;<span class="op" id="5840752">{</span><br>
<span class="lineno">1540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840756"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840757">.</span><span class="ident" id="5840758"><a href="/gostd/go/printer/nodes.go.html#5808531">parameters</a></span><span class="op" id="5840768">(</span><span class="ident" id="5840769"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840770">.</span><span class="ident" id="5840771"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="5840775">)</span>&nbsp;<span class="comment" id="5840777">//&nbsp;method:&nbsp;print&nbsp;receiver</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840805"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840806">.</span><span class="builtinfunc" id="5840807"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5840812">(</span><span class="ident" id="5840813"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5840818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5840821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840824"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840825">.</span><span class="ident" id="5840826"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5840830">(</span><span class="ident" id="5840831"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840832">.</span><span class="ident" id="5840833"><a href="/gostd/go/ast/ast.go.html#3822643">Name</a></span><span class="op" id="5840837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840840"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840841">.</span><span class="ident" id="5840842"><a href="/gostd/go/printer/nodes.go.html#5810692">signature</a></span><span class="op" id="5840851">(</span><span class="ident" id="5840852"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840853">.</span><span class="ident" id="5840854"><a href="/gostd/go/ast/ast.go.html#3822688">Type</a></span><span class="op" id="5840858">.</span><span class="ident" id="5840859"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="5840865">,</span>&nbsp;<span class="ident" id="5840867"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840868">.</span><span class="ident" id="5840869"><a href="/gostd/go/ast/ast.go.html#3822688">Type</a></span><span class="op" id="5840873">.</span><span class="ident" id="5840874"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="5840881">)</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5840884"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840885">.</span><span class="ident" id="5840886"><a href="/gostd/go/printer/nodes.go.html#5839670">adjBlock</a></span><span class="op" id="5840894">(</span><span class="ident" id="5840895"><a href="/gostd/go/printer/nodes.go.html#5840636">p</a></span><span class="op" id="5840896">.</span><span class="ident" id="5840897"><a href="/gostd/go/printer/nodes.go.html#5840445">distanceFrom</a></span><span class="op" id="5840909">(</span><span class="ident" id="5840910"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840911">.</span><span class="ident" id="5840912"><a href="/gostd/go/ast/ast.go.html#3823040">Pos</a></span><span class="op" id="5840915">(</span><span class="op" id="5840916">)</span><span class="op" id="5840917">)</span><span class="op" id="5840918">,</span>&nbsp;<span class="ident" id="5840920"><a href="/gostd/go/printer/printer.go.html#5843052">vtab</a></span><span class="op" id="5840924">,</span>&nbsp;<span class="ident" id="5840926"><a href="/gostd/go/printer/nodes.go.html#5840657">d</a></span><span class="op" id="5840927">.</span><span class="ident" id="5840928"><a href="/gostd/go/ast/ast.go.html#3822784">Body</a></span><span class="op" id="5840932">)</span><br>
<span class="lineno"></span><span class="op" id="5840934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5840937">func</span>&nbsp;<span class="op" id="5840942">(</span><span class="ident" id="5840943">p</span>&nbsp;<span class="op" id="5840945">*</span><span class="ident" id="5840946"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5840953">)</span>&nbsp;<span class="ident" id="5840955">decl</span><span class="op" id="5840959">(</span><span class="ident" id="5840960">decl</span>&nbsp;<span class="ident" id="5840965"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5840968">.</span><span class="ident" id="5840969"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><span class="op" id="5840973">)</span>&nbsp;<span class="op" id="5840975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5840978">switch</span>&nbsp;<span class="ident" id="5840985">d</span>&nbsp;<span class="op" id="5840987">:=</span>&nbsp;<span class="ident" id="5840990"><a href="/gostd/go/printer/nodes.go.html#5840960">decl</a></span><span class="op" id="5840994">.</span><span class="op" id="5840995">(</span><span class="keyword" id="5840996">type</span><span class="op" id="5841000">)</span>&nbsp;<span class="op" id="5841002">{</span><br>
<span class="lineno">1550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841005">case</span>&nbsp;<span class="op" id="5841010">*</span><span class="ident" id="5841011"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841014">.</span><span class="ident" id="5841015"><a href="/gostd/go/ast/ast.go.html#3821698">BadDecl</a></span><span class="op" id="5841022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841026"><a href="/gostd/go/printer/nodes.go.html#5840943">p</a></span><span class="op" id="5841027">.</span><span class="builtinfunc" id="5841028"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5841033">(</span><span class="ident" id="5841034"><a href="/gostd/go/printer/nodes.go.html#5840985">d</a></span><span class="op" id="5841035">.</span><span class="ident" id="5841036"><a href="/gostd/go/ast/ast.go.html#3822931">Pos</a></span><span class="op" id="5841039">(</span><span class="op" id="5841040">)</span><span class="op" id="5841041">,</span>&nbsp;<span class="string" id="5841043">&#34;BadDecl&#34;</span><span class="op" id="5841052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841055">case</span>&nbsp;<span class="op" id="5841060">*</span><span class="ident" id="5841061"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841064">.</span><span class="ident" id="5841065"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="5841072">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841076"><a href="/gostd/go/printer/nodes.go.html#5840943">p</a></span><span class="op" id="5841077">.</span><span class="ident" id="5841078"><a href="/gostd/go/printer/nodes.go.html#5836263">genDecl</a></span><span class="op" id="5841085">(</span><span class="ident" id="5841086"><a href="/gostd/go/printer/nodes.go.html#5840985">d</a></span><span class="op" id="5841087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841090">case</span>&nbsp;<span class="op" id="5841095">*</span><span class="ident" id="5841096"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841099">.</span><span class="ident" id="5841100"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="5841108">:</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841112"><a href="/gostd/go/printer/nodes.go.html#5840943">p</a></span><span class="op" id="5841113">.</span><span class="ident" id="5841114"><a href="/gostd/go/printer/nodes.go.html#5840648">funcDecl</a></span><span class="op" id="5841122">(</span><span class="ident" id="5841123"><a href="/gostd/go/printer/nodes.go.html#5840985">d</a></span><span class="op" id="5841124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841127">default</span><span class="op" id="5841134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5841138">panic</span><span class="op" id="5841143">(</span><span class="string" id="5841144">&#34;unreachable&#34;</span><span class="op" id="5841157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5841160">}</span><br>
<span class="lineno"></span><span class="op" id="5841162">}</span><br>
<span class="lineno">1560</span><br>
<span class="lineno"></span><span class="comment" id="5841165">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5841245">//&nbsp;Files</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5841255">func</span>&nbsp;<span class="ident" id="5841260">declToken</span><span class="op" id="5841269">(</span><span class="ident" id="5841270">decl</span>&nbsp;<span class="ident" id="5841275"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841278">.</span><span class="ident" id="5841279"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><span class="op" id="5841283">)</span>&nbsp;<span class="op" id="5841285">(</span><span class="ident" id="5841286">tok</span>&nbsp;<span class="ident" id="5841290"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5841295">.</span><span class="ident" id="5841296"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="5841301">)</span>&nbsp;<span class="op" id="5841303">{</span><br>
<span class="lineno">1565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841306"><a href="/gostd/go/printer/nodes.go.html#5841286">tok</a></span>&nbsp;<span class="op" id="5841310">=</span>&nbsp;<span class="ident" id="5841312"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5841317">.</span><span class="ident" id="5841318"><a href="/gostd/go/token/token.go.html#3889684">ILLEGAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841327">switch</span>&nbsp;<span class="ident" id="5841334">d</span>&nbsp;<span class="op" id="5841336">:=</span>&nbsp;<span class="ident" id="5841339"><a href="/gostd/go/printer/nodes.go.html#5841270">decl</a></span><span class="op" id="5841343">.</span><span class="op" id="5841344">(</span><span class="keyword" id="5841345">type</span><span class="op" id="5841349">)</span>&nbsp;<span class="op" id="5841351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841354">case</span>&nbsp;<span class="op" id="5841359">*</span><span class="ident" id="5841360"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841363">.</span><span class="ident" id="5841364"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="5841371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841375"><a href="/gostd/go/printer/nodes.go.html#5841286">tok</a></span>&nbsp;<span class="op" id="5841379">=</span>&nbsp;<span class="ident" id="5841381"><a href="/gostd/go/printer/nodes.go.html#5841334">d</a></span><span class="op" id="5841382">.</span><span class="ident" id="5841383"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841388">case</span>&nbsp;<span class="op" id="5841393">*</span><span class="ident" id="5841394"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841397">.</span><span class="ident" id="5841398"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="5841406">:</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841410"><a href="/gostd/go/printer/nodes.go.html#5841286">tok</a></span>&nbsp;<span class="op" id="5841414">=</span>&nbsp;<span class="ident" id="5841416"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5841421">.</span><span class="ident" id="5841422"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5841428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841431">return</span><br>
<span class="lineno"></span><span class="op" id="5841438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1575</span><span class="keyword" id="5841441">func</span>&nbsp;<span class="op" id="5841446">(</span><span class="ident" id="5841447">p</span>&nbsp;<span class="op" id="5841449">*</span><span class="ident" id="5841450"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5841457">)</span>&nbsp;<span class="ident" id="5841459">declList</span><span class="op" id="5841467">(</span><span class="ident" id="5841468">list</span>&nbsp;<span class="op" id="5841473">[</span><span class="op" id="5841474">]</span><span class="ident" id="5841475"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5841478">.</span><span class="ident" id="5841479"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><span class="op" id="5841483">)</span>&nbsp;<span class="op" id="5841485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841488">tok</span>&nbsp;<span class="op" id="5841492">:=</span>&nbsp;<span class="ident" id="5841495"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5841500">.</span><span class="ident" id="5841501"><a href="/gostd/go/token/token.go.html#3889684">ILLEGAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5841510">for</span>&nbsp;<span class="ident" id="5841514">_</span><span class="op" id="5841515">,</span>&nbsp;<span class="ident" id="5841517">d</span>&nbsp;<span class="op" id="5841519">:=</span>&nbsp;<span class="keyword" id="5841522">range</span>&nbsp;<span class="ident" id="5841528"><a href="/gostd/go/printer/nodes.go.html#5841468">list</a></span>&nbsp;<span class="op" id="5841533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841537">prev</span>&nbsp;<span class="op" id="5841542">:=</span>&nbsp;<span class="ident" id="5841545"><a href="/gostd/go/printer/nodes.go.html#5841488">tok</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5841551"><a href="/gostd/go/printer/nodes.go.html#5841488">tok</a></span>&nbsp;<span class="op" id="5841555">=</span>&nbsp;<span class="ident" id="5841557"><a href="/gostd/go/printer/nodes.go.html#5841260">declToken</a></span><span class="op" id="5841566">(</span><span class="ident" id="5841567"><a href="/gostd/go/printer/nodes.go.html#5841517">d</a></span><span class="op" id="5841568">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841572">//&nbsp;If&nbsp;the&nbsp;declaration&nbsp;token&nbsp;changed&nbsp;(e.g.,&nbsp;from&nbsp;CONST&nbsp;to&nbsp;TYPE)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841637">//&nbsp;or&nbsp;the&nbsp;next&nbsp;declaration&nbsp;has&nbsp;documentation&nbsp;associated&nbsp;with&nbsp;it,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841704">//&nbsp;print&nbsp;an&nbsp;empty&nbsp;line&nbsp;between&nbsp;top-level&nbsp;declarations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841761">//&nbsp;(because&nbsp;p.linebreak&nbsp;is&nbsp;called&nbsp;with&nbsp;the&nbsp;position&nbsp;of&nbsp;d,&nbsp;which</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841827">//&nbsp;is&nbsp;past&nbsp;any&nbsp;documentation,&nbsp;the&nbsp;minimum&nbsp;requirement&nbsp;is&nbsp;satisfied</span><br>
<span class="lineno">1585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841896">//&nbsp;even&nbsp;w/o&nbsp;the&nbsp;extra&nbsp;getDoc(d)&nbsp;nil-check&nbsp;-&nbsp;leave&nbsp;it&nbsp;in&nbsp;case&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5841963">//&nbsp;linebreak&nbsp;logic&nbsp;improves&nbsp;-&nbsp;there&#39;s&nbsp;already&nbsp;a&nbsp;TODO).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5842020">if</span>&nbsp;<span class="builtinfunc" id="5842023">len</span><span class="op" id="5842026">(</span><span class="ident" id="5842027"><a href="/gostd/go/printer/nodes.go.html#5841447">p</a></span><span class="op" id="5842028">.</span><span class="ident" id="5842029"><a href="/gostd/go/printer/printer.go.html#5843932">output</a></span><span class="op" id="5842035">)</span>&nbsp;<span class="op" id="5842037">&gt;</span>&nbsp;<span class="num" id="5842039">0</span>&nbsp;<span class="op" id="5842041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5842046">//&nbsp;only&nbsp;print&nbsp;line&nbsp;break&nbsp;if&nbsp;we&nbsp;are&nbsp;not&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5842119">//&nbsp;(i.e.,&nbsp;we&nbsp;are&nbsp;not&nbsp;printing&nbsp;only&nbsp;a&nbsp;partial&nbsp;program)</span><br>
<span class="lineno">1590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842176">min</span>&nbsp;<span class="op" id="5842180">:=</span>&nbsp;<span class="num" id="5842183">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5842188">if</span>&nbsp;<span class="ident" id="5842191"><a href="/gostd/go/printer/nodes.go.html#5841537">prev</a></span>&nbsp;<span class="op" id="5842196">!=</span>&nbsp;<span class="ident" id="5842199"><a href="/gostd/go/printer/nodes.go.html#5841488">tok</a></span>&nbsp;<span class="op" id="5842203">||</span>&nbsp;<span class="ident" id="5842206"><a href="/gostd/go/printer/printer.go.html#5872166">getDoc</a></span><span class="op" id="5842212">(</span><span class="ident" id="5842213"><a href="/gostd/go/printer/nodes.go.html#5841517">d</a></span><span class="op" id="5842214">)</span>&nbsp;<span class="op" id="5842216">!=</span>&nbsp;<span class="builtintype" id="5842219">nil</span>&nbsp;<span class="op" id="5842223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842229"><a href="/gostd/go/printer/nodes.go.html#5842176">min</a></span>&nbsp;<span class="op" id="5842233">=</span>&nbsp;<span class="num" id="5842235">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5842240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842245"><a href="/gostd/go/printer/nodes.go.html#5841447">p</a></span><span class="op" id="5842246">.</span><span class="ident" id="5842247"><a href="/gostd/go/printer/nodes.go.html#5801579">linebreak</a></span><span class="op" id="5842256">(</span><span class="ident" id="5842257"><a href="/gostd/go/printer/nodes.go.html#5841447">p</a></span><span class="op" id="5842258">.</span><span class="ident" id="5842259"><a href="/gostd/go/printer/printer.go.html#5848576">lineFor</a></span><span class="op" id="5842266">(</span><span class="ident" id="5842267"><a href="/gostd/go/printer/nodes.go.html#5841517">d</a></span><span class="op" id="5842268">.</span><span class="ident" id="5842269"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5842272">(</span><span class="op" id="5842273">)</span><span class="op" id="5842274">)</span><span class="op" id="5842275">,</span>&nbsp;<span class="ident" id="5842277"><a href="/gostd/go/printer/nodes.go.html#5842176">min</a></span><span class="op" id="5842280">,</span>&nbsp;<span class="ident" id="5842282"><a href="/gostd/go/printer/printer.go.html#5842998">ignore</a></span><span class="op" id="5842288">,</span>&nbsp;<span class="builtintype" id="5842290">false</span><span class="op" id="5842295">)</span><br>
<span class="lineno">1595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5842299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842303"><a href="/gostd/go/printer/nodes.go.html#5841447">p</a></span><span class="op" id="5842304">.</span><span class="ident" id="5842305"><a href="/gostd/go/printer/nodes.go.html#5840955">decl</a></span><span class="op" id="5842309">(</span><span class="ident" id="5842310"><a href="/gostd/go/printer/nodes.go.html#5841517">d</a></span><span class="op" id="5842311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5842314">}</span><br>
<span class="lineno"></span><span class="op" id="5842316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1600</span><span class="keyword" id="5842319">func</span>&nbsp;<span class="op" id="5842324">(</span><span class="ident" id="5842325">p</span>&nbsp;<span class="op" id="5842327">*</span><span class="ident" id="5842328"><a href="/gostd/go/printer/printer.go.html#5843809">printer</a></span><span class="op" id="5842335">)</span>&nbsp;<span class="ident" id="5842337">file</span><span class="op" id="5842341">(</span><span class="ident" id="5842342">src</span>&nbsp;<span class="op" id="5842346">*</span><span class="ident" id="5842347"><a href="/gostd/go/printer/nodes.go.html#5800172">ast</a></span><span class="op" id="5842350">.</span><span class="ident" id="5842351"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="5842355">)</span>&nbsp;<span class="op" id="5842357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842360"><a href="/gostd/go/printer/nodes.go.html#5842325">p</a></span><span class="op" id="5842361">.</span><span class="ident" id="5842362"><a href="/gostd/go/printer/nodes.go.html#5802179">setComment</a></span><span class="op" id="5842372">(</span><span class="ident" id="5842373"><a href="/gostd/go/printer/nodes.go.html#5842342">src</a></span><span class="op" id="5842376">.</span><span class="ident" id="5842377"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span><span class="op" id="5842380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842383"><a href="/gostd/go/printer/nodes.go.html#5842325">p</a></span><span class="op" id="5842384">.</span><span class="builtinfunc" id="5842385"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5842390">(</span><span class="ident" id="5842391"><a href="/gostd/go/printer/nodes.go.html#5842342">src</a></span><span class="op" id="5842394">.</span><span class="ident" id="5842395"><a href="/gostd/go/ast/ast.go.html#3824384">Pos</a></span><span class="op" id="5842398">(</span><span class="op" id="5842399">)</span><span class="op" id="5842400">,</span>&nbsp;<span class="ident" id="5842402"><a href="/gostd/go/printer/nodes.go.html#5800182">token</a></span><span class="op" id="5842407">.</span><span class="ident" id="5842408"><a href="/gostd/go/token/token.go.html#3890873">PACKAGE</a></span><span class="op" id="5842415">,</span>&nbsp;<span class="ident" id="5842417"><a href="/gostd/go/printer/printer.go.html#5843024">blank</a></span><span class="op" id="5842422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842425"><a href="/gostd/go/printer/nodes.go.html#5842325">p</a></span><span class="op" id="5842426">.</span><span class="ident" id="5842427"><a href="/gostd/go/printer/nodes.go.html#5824417">expr</a></span><span class="op" id="5842431">(</span><span class="ident" id="5842432"><a href="/gostd/go/printer/nodes.go.html#5842342">src</a></span><span class="op" id="5842435">.</span><span class="ident" id="5842436"><a href="/gostd/go/ast/ast.go.html#3824009">Name</a></span><span class="op" id="5842440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842443"><a href="/gostd/go/printer/nodes.go.html#5842325">p</a></span><span class="op" id="5842444">.</span><span class="ident" id="5842445"><a href="/gostd/go/printer/nodes.go.html#5841459">declList</a></span><span class="op" id="5842453">(</span><span class="ident" id="5842454"><a href="/gostd/go/printer/nodes.go.html#5842342">src</a></span><span class="op" id="5842457">.</span><span class="ident" id="5842458"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span><span class="op" id="5842463">)</span><br>
<span class="lineno">1605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5842466"><a href="/gostd/go/printer/nodes.go.html#5842325">p</a></span><span class="op" id="5842467">.</span><span class="builtinfunc" id="5842468"><a href="/gostd/go/printer/printer.go.html#5867937">print</a></span><span class="op" id="5842473">(</span><span class="ident" id="5842474"><a href="/gostd/go/printer/printer.go.html#5843081">newline</a></span><span class="op" id="5842481">)</span><br>
<span class="lineno"></span><span class="op" id="5842483">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
