<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3698678">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3698734">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3698788">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3698839">package</span>&nbsp;<span class="ident" id="3698847">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3698853">//&nbsp;JSON&nbsp;value&nbsp;parser&nbsp;state&nbsp;machine.</span><br>
<span class="lineno"></span><span class="comment" id="3698889">//&nbsp;Just&nbsp;about&nbsp;at&nbsp;the&nbsp;limit&nbsp;of&nbsp;what&nbsp;is&nbsp;reasonable&nbsp;to&nbsp;write&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="comment" id="3698956">//&nbsp;Some&nbsp;parts&nbsp;are&nbsp;a&nbsp;bit&nbsp;tedious,&nbsp;but&nbsp;overall&nbsp;it&nbsp;nicely&nbsp;factors&nbsp;out&nbsp;the</span><br>
<span class="lineno">10</span><span class="comment" id="3699027">//&nbsp;otherwise&nbsp;common&nbsp;code&nbsp;from&nbsp;the&nbsp;multiple&nbsp;scanning&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3699089">//&nbsp;in&nbsp;this&nbsp;package&nbsp;(Compact,&nbsp;Indent,&nbsp;checkValid,&nbsp;nextValue,&nbsp;etc).</span><br>
<span class="lineno"></span><span class="comment" id="3699155">//</span><br>
<span class="lineno"></span><span class="comment" id="3699158">//&nbsp;This&nbsp;file&nbsp;starts&nbsp;with&nbsp;two&nbsp;simple&nbsp;examples&nbsp;using&nbsp;the&nbsp;scanner</span><br>
<span class="lineno"></span><span class="comment" id="3699221">//&nbsp;before&nbsp;diving&nbsp;into&nbsp;the&nbsp;scanner&nbsp;itself.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="3699264">import</span>&nbsp;<span class="string" id="3699271">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3699282">//&nbsp;checkValid&nbsp;verifies&nbsp;that&nbsp;data&nbsp;is&nbsp;valid&nbsp;JSON-encoded&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="3699343">//&nbsp;scan&nbsp;is&nbsp;passed&nbsp;in&nbsp;for&nbsp;use&nbsp;by&nbsp;checkValid&nbsp;to&nbsp;avoid&nbsp;an&nbsp;allocation.</span><br>
<span class="lineno">20</span><span class="keyword" id="3699410">func</span>&nbsp;<span class="ident" id="3699415">checkValid</span><span class="op" id="3699425">(</span><span class="ident" id="3699426">data</span>&nbsp;<span class="op" id="3699431">[</span><span class="op" id="3699432">]</span><span class="builtintype" id="3699433">byte</span><span class="op" id="3699437">,</span>&nbsp;<span class="ident" id="3699439">scan</span>&nbsp;<span class="op" id="3699444">*</span><span class="ident" id="3699445"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3699452">)</span>&nbsp;<span class="builtintype" id="3699454">error</span>&nbsp;<span class="op" id="3699460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3699463"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699467">.</span><span class="ident" id="3699468">reset</span><span class="op" id="3699473">(</span><span class="op" id="3699474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699477">for</span>&nbsp;<span class="ident" id="3699481">_</span><span class="op" id="3699482">,</span>&nbsp;<span class="ident" id="3699484">c</span>&nbsp;<span class="op" id="3699486">:=</span>&nbsp;<span class="keyword" id="3699489">range</span>&nbsp;<span class="ident" id="3699495"><a href="/encoding/json/scanner.go.html#3699426">data</a></span>&nbsp;<span class="op" id="3699500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3699504"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699508">.</span><span class="ident" id="3699509">bytes</span><span class="op" id="3699514">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699519">if</span>&nbsp;<span class="ident" id="3699522"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699526">.</span><span class="ident" id="3699527">step</span><span class="op" id="3699531">(</span><span class="ident" id="3699532"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699536">,</span>&nbsp;<span class="builtintype" id="3699538">int</span><span class="op" id="3699541">(</span><span class="ident" id="3699542"><a href="/encoding/json/scanner.go.html#3699484">c</a></span><span class="op" id="3699543">)</span><span class="op" id="3699544">)</span>&nbsp;<span class="op" id="3699546">==</span>&nbsp;<span class="ident" id="3699549"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span>&nbsp;<span class="op" id="3699559">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699564">return</span>&nbsp;<span class="ident" id="3699571"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699575">.</span><span class="ident" id="3699576">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3699582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3699585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699588">if</span>&nbsp;<span class="ident" id="3699591"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699595">.</span><span class="ident" id="3699596">eof</span><span class="op" id="3699599">(</span><span class="op" id="3699600">)</span>&nbsp;<span class="op" id="3699602">==</span>&nbsp;<span class="ident" id="3699605"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span>&nbsp;<span class="op" id="3699615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699619">return</span>&nbsp;<span class="ident" id="3699626"><a href="/encoding/json/scanner.go.html#3699439">scan</a></span><span class="op" id="3699630">.</span><span class="ident" id="3699631">err</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3699636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699639">return</span>&nbsp;<span class="ident" id="3699646">nil</span><br>
<span class="lineno"></span><span class="op" id="3699650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3699653">//&nbsp;nextValue&nbsp;splits&nbsp;data&nbsp;after&nbsp;the&nbsp;next&nbsp;whole&nbsp;JSON&nbsp;value,</span><br>
<span class="lineno">35</span><span class="comment" id="3699711">//&nbsp;returning&nbsp;that&nbsp;value&nbsp;and&nbsp;the&nbsp;bytes&nbsp;that&nbsp;follow&nbsp;it&nbsp;as&nbsp;separate&nbsp;slices.</span><br>
<span class="lineno"></span><span class="comment" id="3699784">//&nbsp;scan&nbsp;is&nbsp;passed&nbsp;in&nbsp;for&nbsp;use&nbsp;by&nbsp;nextValue&nbsp;to&nbsp;avoid&nbsp;an&nbsp;allocation.</span><br>
<span class="lineno"></span><span class="keyword" id="3699850">func</span>&nbsp;<span class="ident" id="3699855">nextValue</span><span class="op" id="3699864">(</span><span class="ident" id="3699865">data</span>&nbsp;<span class="op" id="3699870">[</span><span class="op" id="3699871">]</span><span class="builtintype" id="3699872">byte</span><span class="op" id="3699876">,</span>&nbsp;<span class="ident" id="3699878">scan</span>&nbsp;<span class="op" id="3699883">*</span><span class="ident" id="3699884"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3699891">)</span>&nbsp;<span class="op" id="3699893">(</span><span class="ident" id="3699894">value</span><span class="op" id="3699899">,</span>&nbsp;<span class="ident" id="3699901">rest</span>&nbsp;<span class="op" id="3699906">[</span><span class="op" id="3699907">]</span><span class="builtintype" id="3699908">byte</span><span class="op" id="3699912">,</span>&nbsp;<span class="ident" id="3699914">err</span>&nbsp;<span class="builtintype" id="3699918">error</span><span class="op" id="3699923">)</span>&nbsp;<span class="op" id="3699925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3699928"><a href="/encoding/json/scanner.go.html#3699878">scan</a></span><span class="op" id="3699932">.</span><span class="ident" id="3699933">reset</span><span class="op" id="3699938">(</span><span class="op" id="3699939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3699942">for</span>&nbsp;<span class="ident" id="3699946">i</span><span class="op" id="3699947">,</span>&nbsp;<span class="ident" id="3699949">c</span>&nbsp;<span class="op" id="3699951">:=</span>&nbsp;<span class="keyword" id="3699954">range</span>&nbsp;<span class="ident" id="3699960"><a href="/encoding/json/scanner.go.html#3699865">data</a></span>&nbsp;<span class="op" id="3699965">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3699969">v</span>&nbsp;<span class="op" id="3699971">:=</span>&nbsp;<span class="ident" id="3699974"><a href="/encoding/json/scanner.go.html#3699878">scan</a></span><span class="op" id="3699978">.</span><span class="ident" id="3699979">step</span><span class="op" id="3699983">(</span><span class="ident" id="3699984"><a href="/encoding/json/scanner.go.html#3699878">scan</a></span><span class="op" id="3699988">,</span>&nbsp;<span class="builtintype" id="3699990">int</span><span class="op" id="3699993">(</span><span class="ident" id="3699994"><a href="/encoding/json/scanner.go.html#3699949">c</a></span><span class="op" id="3699995">)</span><span class="op" id="3699996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700000">if</span>&nbsp;<span class="ident" id="3700003"><a href="/encoding/json/scanner.go.html#3699969">v</a></span>&nbsp;<span class="op" id="3700005">&gt;=</span>&nbsp;<span class="ident" id="3700008"><a href="/encoding/json/scanner.go.html#3702831">scanEnd</a></span>&nbsp;<span class="op" id="3700016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700021">switch</span>&nbsp;<span class="ident" id="3700028"><a href="/encoding/json/scanner.go.html#3699969">v</a></span>&nbsp;<span class="op" id="3700030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700035">case</span>&nbsp;<span class="ident" id="3700040"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span><span class="op" id="3700049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700055">return</span>&nbsp;<span class="ident" id="3700062">nil</span><span class="op" id="3700065">,</span>&nbsp;<span class="ident" id="3700067">nil</span><span class="op" id="3700070">,</span>&nbsp;<span class="ident" id="3700072"><a href="/encoding/json/scanner.go.html#3699878">scan</a></span><span class="op" id="3700076">.</span><span class="ident" id="3700077">err</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700084">case</span>&nbsp;<span class="ident" id="3700089"><a href="/encoding/json/scanner.go.html#3702831">scanEnd</a></span><span class="op" id="3700096">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700102">return</span>&nbsp;<span class="ident" id="3700109"><a href="/encoding/json/scanner.go.html#3699865">data</a></span><span class="op" id="3700113">[</span><span class="num" id="3700114">0</span><span class="op" id="3700115">:</span><span class="ident" id="3700116"><a href="/encoding/json/scanner.go.html#3699946">i</a></span><span class="op" id="3700117">]</span><span class="op" id="3700118">,</span>&nbsp;<span class="ident" id="3700120"><a href="/encoding/json/scanner.go.html#3699865">data</a></span><span class="op" id="3700124">[</span><span class="ident" id="3700125"><a href="/encoding/json/scanner.go.html#3699946">i</a></span><span class="op" id="3700126">:</span><span class="op" id="3700127">]</span><span class="op" id="3700128">,</span>&nbsp;<span class="ident" id="3700130">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3700137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3700141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3700144">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700147">if</span>&nbsp;<span class="ident" id="3700150"><a href="/encoding/json/scanner.go.html#3699878">scan</a></span><span class="op" id="3700154">.</span><span class="ident" id="3700155">eof</span><span class="op" id="3700158">(</span><span class="op" id="3700159">)</span>&nbsp;<span class="op" id="3700161">==</span>&nbsp;<span class="ident" id="3700164"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span>&nbsp;<span class="op" id="3700174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700178">return</span>&nbsp;<span class="ident" id="3700185">nil</span><span class="op" id="3700188">,</span>&nbsp;<span class="ident" id="3700190">nil</span><span class="op" id="3700193">,</span>&nbsp;<span class="ident" id="3700195"><a href="/encoding/json/scanner.go.html#3699878">scan</a></span><span class="op" id="3700199">.</span><span class="ident" id="3700200">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3700205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3700208">return</span>&nbsp;<span class="ident" id="3700215"><a href="/encoding/json/scanner.go.html#3699865">data</a></span><span class="op" id="3700219">,</span>&nbsp;<span class="ident" id="3700221">nil</span><span class="op" id="3700224">,</span>&nbsp;<span class="ident" id="3700226">nil</span><br>
<span class="lineno"></span><span class="op" id="3700230">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="3700233">//&nbsp;A&nbsp;SyntaxError&nbsp;is&nbsp;a&nbsp;description&nbsp;of&nbsp;a&nbsp;JSON&nbsp;syntax&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3700291">type</span>&nbsp;<span class="ident" id="3700296">SyntaxError</span>&nbsp;<span class="keyword" id="3700308">struct</span>&nbsp;<span class="op" id="3700315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3700318">msg</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3700325">string</span>&nbsp;<span class="comment" id="3700332">//&nbsp;description&nbsp;of&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3700357">Offset</span>&nbsp;<span class="ident" id="3700364">int64</span>&nbsp;&nbsp;<span class="comment" id="3700371">//&nbsp;error&nbsp;occurred&nbsp;after&nbsp;reading&nbsp;Offset&nbsp;bytes</span><br>
<span class="lineno">60</span><span class="op" id="3700416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3700419">func</span>&nbsp;<span class="op" id="3700424">(</span><span class="ident" id="3700425">e</span>&nbsp;<span class="op" id="3700427">*</span><span class="ident" id="3700428"><a href="/encoding/json/scanner.go.html#3700296">SyntaxError</a></span><span class="op" id="3700439">)</span>&nbsp;<span class="ident" id="3700441">Error</span><span class="op" id="3700446">(</span><span class="op" id="3700447">)</span>&nbsp;<span class="builtintype" id="3700449">string</span>&nbsp;<span class="op" id="3700456">{</span>&nbsp;<span class="keyword" id="3700458">return</span>&nbsp;<span class="ident" id="3700465"><a href="/encoding/json/scanner.go.html#3700425">e</a></span><span class="op" id="3700466">.</span><span class="ident" id="3700467">msg</span>&nbsp;<span class="op" id="3700471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3700474">//&nbsp;A&nbsp;scanner&nbsp;is&nbsp;a&nbsp;JSON&nbsp;scanning&nbsp;state&nbsp;machine.</span><br>
<span class="lineno">65</span><span class="comment" id="3700521">//&nbsp;Callers&nbsp;call&nbsp;scan.reset()&nbsp;and&nbsp;then&nbsp;pass&nbsp;bytes&nbsp;in&nbsp;one&nbsp;at&nbsp;a&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="3700587">//&nbsp;by&nbsp;calling&nbsp;scan.step(&amp;scan,&nbsp;c)&nbsp;for&nbsp;each&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="3700636">//&nbsp;The&nbsp;return&nbsp;value,&nbsp;referred&nbsp;to&nbsp;as&nbsp;an&nbsp;opcode,&nbsp;tells&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3700693">//&nbsp;caller&nbsp;about&nbsp;significant&nbsp;parsing&nbsp;events&nbsp;like&nbsp;beginning</span><br>
<span class="lineno"></span><span class="comment" id="3700751">//&nbsp;and&nbsp;ending&nbsp;literals,&nbsp;objects,&nbsp;and&nbsp;arrays,&nbsp;so&nbsp;that&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3700808">//&nbsp;caller&nbsp;can&nbsp;follow&nbsp;along&nbsp;if&nbsp;it&nbsp;wishes.</span><br>
<span class="lineno"></span><span class="comment" id="3700849">//&nbsp;The&nbsp;return&nbsp;value&nbsp;scanEnd&nbsp;indicates&nbsp;that&nbsp;a&nbsp;single&nbsp;top-level</span><br>
<span class="lineno"></span><span class="comment" id="3700911">//&nbsp;JSON&nbsp;value&nbsp;has&nbsp;been&nbsp;completed,&nbsp;*before*&nbsp;the&nbsp;byte&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3700968">//&nbsp;just&nbsp;got&nbsp;passed&nbsp;in.&nbsp;&nbsp;(The&nbsp;indication&nbsp;must&nbsp;be&nbsp;delayed&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span><span class="comment" id="3701033">//&nbsp;to&nbsp;recognize&nbsp;the&nbsp;end&nbsp;of&nbsp;numbers:&nbsp;is&nbsp;123&nbsp;a&nbsp;whole&nbsp;value&nbsp;or</span><br>
<span class="lineno">75</span><span class="comment" id="3701093">//&nbsp;the&nbsp;beginning&nbsp;of&nbsp;12345e+6?).</span><br>
<span class="lineno"></span><span class="keyword" id="3701125">type</span>&nbsp;<span class="ident" id="3701130">scanner</span>&nbsp;<span class="keyword" id="3701138">struct</span>&nbsp;<span class="op" id="3701145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701148">//&nbsp;The&nbsp;step&nbsp;is&nbsp;a&nbsp;func&nbsp;to&nbsp;be&nbsp;called&nbsp;to&nbsp;execute&nbsp;the&nbsp;next&nbsp;transition.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701216">//&nbsp;Also&nbsp;tried&nbsp;using&nbsp;an&nbsp;integer&nbsp;constant&nbsp;and&nbsp;a&nbsp;single&nbsp;func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701275">//&nbsp;with&nbsp;a&nbsp;switch,&nbsp;but&nbsp;using&nbsp;the&nbsp;func&nbsp;directly&nbsp;was&nbsp;10%&nbsp;faster</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701337">//&nbsp;on&nbsp;a&nbsp;64-bit&nbsp;Mac&nbsp;Mini,&nbsp;and&nbsp;it&#39;s&nbsp;nicer&nbsp;to&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701387">step</span>&nbsp;<span class="keyword" id="3701392">func</span><span class="op" id="3701396">(</span><span class="op" id="3701397">*</span><span class="ident" id="3701398"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3701405">,</span>&nbsp;<span class="builtintype" id="3701407">int</span><span class="op" id="3701410">)</span>&nbsp;<span class="builtintype" id="3701412">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701418">//&nbsp;Reached&nbsp;end&nbsp;of&nbsp;top-level&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701454">endTop</span>&nbsp;<span class="builtintype" id="3701461">bool</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701468">//&nbsp;Stack&nbsp;of&nbsp;what&nbsp;we&#39;re&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;-&nbsp;array&nbsp;values,&nbsp;object&nbsp;keys,&nbsp;object&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701553">parseState</span>&nbsp;<span class="op" id="3701564">[</span><span class="op" id="3701565">]</span><span class="builtintype" id="3701566">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701572">//&nbsp;Error&nbsp;that&nbsp;happened,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701605">err</span>&nbsp;<span class="builtintype" id="3701609">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701617">//&nbsp;1-byte&nbsp;redo&nbsp;(see&nbsp;undo&nbsp;method)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701651">redo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3701661">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701667">redoCode</span>&nbsp;&nbsp;<span class="builtintype" id="3701677">int</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701682">redoState</span>&nbsp;<span class="keyword" id="3701692">func</span><span class="op" id="3701696">(</span><span class="op" id="3701697">*</span><span class="ident" id="3701698"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3701705">,</span>&nbsp;<span class="builtintype" id="3701707">int</span><span class="op" id="3701710">)</span>&nbsp;<span class="builtintype" id="3701712">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3701718">//&nbsp;total&nbsp;bytes&nbsp;consumed,&nbsp;updated&nbsp;by&nbsp;decoder.Decode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3701770">bytes</span>&nbsp;<span class="ident" id="3701776">int64</span><br>
<span class="lineno"></span><span class="op" id="3701782">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="3701785">//&nbsp;These&nbsp;values&nbsp;are&nbsp;returned&nbsp;by&nbsp;the&nbsp;state&nbsp;transition&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3701848">//&nbsp;assigned&nbsp;to&nbsp;scanner.state&nbsp;and&nbsp;the&nbsp;method&nbsp;scanner.eof.</span><br>
<span class="lineno"></span><span class="comment" id="3701905">//&nbsp;They&nbsp;give&nbsp;details&nbsp;about&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;the&nbsp;scan&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3701967">//&nbsp;callers&nbsp;might&nbsp;be&nbsp;interested&nbsp;to&nbsp;know&nbsp;about.</span><br>
<span class="lineno">105</span><span class="comment" id="3702013">//&nbsp;It&nbsp;is&nbsp;okay&nbsp;to&nbsp;ignore&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;any&nbsp;particular</span><br>
<span class="lineno"></span><span class="comment" id="3702072">//&nbsp;call&nbsp;to&nbsp;scanner.state:&nbsp;if&nbsp;one&nbsp;call&nbsp;returns&nbsp;scanError,</span><br>
<span class="lineno"></span><span class="comment" id="3702129">//&nbsp;every&nbsp;subsequent&nbsp;call&nbsp;will&nbsp;return&nbsp;scanError&nbsp;too.</span><br>
<span class="lineno"></span><span class="keyword" id="3702181">const</span>&nbsp;<span class="op" id="3702187">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3702190">//&nbsp;Continue.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702204">scanContinue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3702221">=</span>&nbsp;<span class="ident" id="3702223">iota</span>&nbsp;<span class="comment" id="3702228">//&nbsp;uninteresting&nbsp;byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702251">scanBeginLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702275">//&nbsp;end&nbsp;implied&nbsp;by&nbsp;next&nbsp;result&nbsp;!=&nbsp;scanContinue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702322">scanBeginObject</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702346">//&nbsp;begin&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702363">scanObjectKey</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702387">//&nbsp;just&nbsp;finished&nbsp;object&nbsp;key&nbsp;(string)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702425">scanObjectValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702449">//&nbsp;just&nbsp;finished&nbsp;non-last&nbsp;object&nbsp;value</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702489">scanEndObject</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702513">//&nbsp;end&nbsp;object&nbsp;(implies&nbsp;scanObjectValue&nbsp;if&nbsp;possible)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702566">scanBeginArray</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702590">//&nbsp;begin&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702606">scanArrayValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702630">//&nbsp;just&nbsp;finished&nbsp;array&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702660">scanEndArray</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702684">//&nbsp;end&nbsp;array&nbsp;(implies&nbsp;scanArrayValue&nbsp;if&nbsp;possible)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702735">scanSkipSpace</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3702759">//&nbsp;space&nbsp;byte;&nbsp;can&nbsp;skip;&nbsp;known&nbsp;to&nbsp;be&nbsp;last&nbsp;&#34;continue&#34;&nbsp;result</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3702821">//&nbsp;Stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702831">scanEnd</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3702841">//&nbsp;top-level&nbsp;value&nbsp;ended&nbsp;*before*&nbsp;this&nbsp;byte;&nbsp;known&nbsp;to&nbsp;be&nbsp;first&nbsp;&#34;stop&#34;&nbsp;result</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3702919">scanError</span>&nbsp;<span class="comment" id="3702929">//&nbsp;hit&nbsp;an&nbsp;error,&nbsp;scanner.err.</span><br>
<span class="lineno"></span><span class="op" id="3702959">)</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="3702962">//&nbsp;These&nbsp;values&nbsp;are&nbsp;stored&nbsp;in&nbsp;the&nbsp;parseState&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="3703014">//&nbsp;They&nbsp;give&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;a&nbsp;composite&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="3703066">//&nbsp;being&nbsp;scanned.&nbsp;&nbsp;If&nbsp;the&nbsp;parser&nbsp;is&nbsp;inside&nbsp;a&nbsp;nested&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="3703124">//&nbsp;the&nbsp;parseState&nbsp;describes&nbsp;the&nbsp;nested&nbsp;state,&nbsp;outermost&nbsp;at&nbsp;entry&nbsp;0.</span><br>
<span class="lineno">130</span><span class="keyword" id="3703192">const</span>&nbsp;<span class="op" id="3703198">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703201">parseObjectKey</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3703218">=</span>&nbsp;<span class="ident" id="3703220">iota</span>&nbsp;<span class="comment" id="3703225">//&nbsp;parsing&nbsp;object&nbsp;key&nbsp;(before&nbsp;colon)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703263">parseObjectValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3703287">//&nbsp;parsing&nbsp;object&nbsp;value&nbsp;(after&nbsp;colon)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703326">parseArrayValue</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3703350">//&nbsp;parsing&nbsp;array&nbsp;value</span><br>
<span class="lineno"></span><span class="op" id="3703373">)</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="3703376">//&nbsp;reset&nbsp;prepares&nbsp;the&nbsp;scanner&nbsp;for&nbsp;use.</span><br>
<span class="lineno"></span><span class="comment" id="3703415">//&nbsp;It&nbsp;must&nbsp;be&nbsp;called&nbsp;before&nbsp;calling&nbsp;s.step.</span><br>
<span class="lineno"></span><span class="keyword" id="3703459">func</span>&nbsp;<span class="op" id="3703464">(</span><span class="ident" id="3703465">s</span>&nbsp;<span class="op" id="3703467">*</span><span class="ident" id="3703468"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3703475">)</span>&nbsp;<span class="ident" id="3703477">reset</span><span class="op" id="3703482">(</span><span class="op" id="3703483">)</span>&nbsp;<span class="op" id="3703485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703488"><a href="/encoding/json/scanner.go.html#3703465">s</a></span><span class="op" id="3703489">.</span><span class="ident" id="3703490">step</span>&nbsp;<span class="op" id="3703495">=</span>&nbsp;<span class="ident" id="3703497"><a href="/encoding/json/scanner.go.html#3704847">stateBeginValue</a></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703514"><a href="/encoding/json/scanner.go.html#3703465">s</a></span><span class="op" id="3703515">.</span><span class="ident" id="3703516">parseState</span>&nbsp;<span class="op" id="3703527">=</span>&nbsp;<span class="ident" id="3703529"><a href="/encoding/json/scanner.go.html#3703465">s</a></span><span class="op" id="3703530">.</span><span class="ident" id="3703531">parseState</span><span class="op" id="3703541">[</span><span class="num" id="3703542">0</span><span class="op" id="3703543">:</span><span class="num" id="3703544">0</span><span class="op" id="3703545">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703548"><a href="/encoding/json/scanner.go.html#3703465">s</a></span><span class="op" id="3703549">.</span><span class="ident" id="3703550">err</span>&nbsp;<span class="op" id="3703554">=</span>&nbsp;<span class="ident" id="3703556">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703561"><a href="/encoding/json/scanner.go.html#3703465">s</a></span><span class="op" id="3703562">.</span><span class="ident" id="3703563">redo</span>&nbsp;<span class="op" id="3703568">=</span>&nbsp;<span class="ident" id="3703570">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703577"><a href="/encoding/json/scanner.go.html#3703465">s</a></span><span class="op" id="3703578">.</span><span class="ident" id="3703579">endTop</span>&nbsp;<span class="op" id="3703586">=</span>&nbsp;<span class="ident" id="3703588">false</span><br>
<span class="lineno"></span><span class="op" id="3703594">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="3703597">//&nbsp;eof&nbsp;tells&nbsp;the&nbsp;scanner&nbsp;that&nbsp;the&nbsp;end&nbsp;of&nbsp;input&nbsp;has&nbsp;been&nbsp;reached.</span><br>
<span class="lineno"></span><span class="comment" id="3703662">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;scan&nbsp;status&nbsp;just&nbsp;as&nbsp;s.step&nbsp;does.</span><br>
<span class="lineno"></span><span class="keyword" id="3703711">func</span>&nbsp;<span class="op" id="3703716">(</span><span class="ident" id="3703717">s</span>&nbsp;<span class="op" id="3703719">*</span><span class="ident" id="3703720"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3703727">)</span>&nbsp;<span class="ident" id="3703729">eof</span><span class="op" id="3703732">(</span><span class="op" id="3703733">)</span>&nbsp;<span class="builtintype" id="3703735">int</span>&nbsp;<span class="op" id="3703739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703742">if</span>&nbsp;<span class="ident" id="3703745"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703746">.</span><span class="ident" id="3703747">err</span>&nbsp;<span class="op" id="3703751">!=</span>&nbsp;<span class="ident" id="3703754">nil</span>&nbsp;<span class="op" id="3703758">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703762">return</span>&nbsp;<span class="ident" id="3703769"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3703780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703783">if</span>&nbsp;<span class="ident" id="3703786"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703787">.</span><span class="ident" id="3703788">endTop</span>&nbsp;<span class="op" id="3703795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703799">return</span>&nbsp;<span class="ident" id="3703806"><a href="/encoding/json/scanner.go.html#3702831">scanEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3703815">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703818"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703819">.</span><span class="ident" id="3703820">step</span><span class="op" id="3703824">(</span><span class="ident" id="3703825"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703826">,</span>&nbsp;<span class="string" id="3703828">&#39;&nbsp;&#39;</span><span class="op" id="3703831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703834">if</span>&nbsp;<span class="ident" id="3703837"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703838">.</span><span class="ident" id="3703839">endTop</span>&nbsp;<span class="op" id="3703846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703850">return</span>&nbsp;<span class="ident" id="3703857"><a href="/encoding/json/scanner.go.html#3702831">scanEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3703866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703869">if</span>&nbsp;<span class="ident" id="3703872"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703873">.</span><span class="ident" id="3703874">err</span>&nbsp;<span class="op" id="3703878">==</span>&nbsp;<span class="ident" id="3703881">nil</span>&nbsp;<span class="op" id="3703885">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3703889"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703890">.</span><span class="ident" id="3703891">err</span>&nbsp;<span class="op" id="3703895">=</span>&nbsp;<span class="op" id="3703897">&amp;</span><span class="ident" id="3703898"><a href="/encoding/json/scanner.go.html#3700296">SyntaxError</a></span><span class="op" id="3703909">{</span><span class="string" id="3703910">&#34;unexpected&nbsp;end&nbsp;of&nbsp;JSON&nbsp;input&#34;</span><span class="op" id="3703940">,</span>&nbsp;<span class="ident" id="3703942"><a href="/encoding/json/scanner.go.html#3703717">s</a></span><span class="op" id="3703943">.</span><span class="ident" id="3703944">bytes</span><span class="op" id="3703949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3703952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3703955">return</span>&nbsp;<span class="ident" id="3703962"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span><br>
<span class="lineno"></span><span class="op" id="3703972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="3703975">//&nbsp;pushParseState&nbsp;pushes&nbsp;a&nbsp;new&nbsp;parse&nbsp;state&nbsp;p&nbsp;onto&nbsp;the&nbsp;parse&nbsp;stack.</span><br>
<span class="lineno"></span><span class="keyword" id="3704042">func</span>&nbsp;<span class="op" id="3704047">(</span><span class="ident" id="3704048">s</span>&nbsp;<span class="op" id="3704050">*</span><span class="ident" id="3704051"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3704058">)</span>&nbsp;<span class="ident" id="3704060">pushParseState</span><span class="op" id="3704074">(</span><span class="ident" id="3704075">p</span>&nbsp;<span class="builtintype" id="3704077">int</span><span class="op" id="3704080">)</span>&nbsp;<span class="op" id="3704082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704085"><a href="/encoding/json/scanner.go.html#3704048">s</a></span><span class="op" id="3704086">.</span><span class="ident" id="3704087">parseState</span>&nbsp;<span class="op" id="3704098">=</span>&nbsp;<span class="builtinfunc" id="3704100">append</span><span class="op" id="3704106">(</span><span class="ident" id="3704107"><a href="/encoding/json/scanner.go.html#3704048">s</a></span><span class="op" id="3704108">.</span><span class="ident" id="3704109">parseState</span><span class="op" id="3704119">,</span>&nbsp;<span class="ident" id="3704121"><a href="/encoding/json/scanner.go.html#3704075">p</a></span><span class="op" id="3704122">)</span><br>
<span class="lineno"></span><span class="op" id="3704124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="comment" id="3704127">//&nbsp;popParseState&nbsp;pops&nbsp;a&nbsp;parse&nbsp;state&nbsp;(already&nbsp;obtained)&nbsp;off&nbsp;the&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="3704196">//&nbsp;and&nbsp;updates&nbsp;s.step&nbsp;accordingly.</span><br>
<span class="lineno"></span><span class="keyword" id="3704231">func</span>&nbsp;<span class="op" id="3704236">(</span><span class="ident" id="3704237">s</span>&nbsp;<span class="op" id="3704239">*</span><span class="ident" id="3704240"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3704247">)</span>&nbsp;<span class="ident" id="3704249">popParseState</span><span class="op" id="3704262">(</span><span class="op" id="3704263">)</span>&nbsp;<span class="op" id="3704265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704268">n</span>&nbsp;<span class="op" id="3704270">:=</span>&nbsp;<span class="builtinfunc" id="3704273">len</span><span class="op" id="3704276">(</span><span class="ident" id="3704277"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704278">.</span><span class="ident" id="3704279">parseState</span><span class="op" id="3704289">)</span>&nbsp;<span class="op" id="3704291">-</span>&nbsp;<span class="num" id="3704293">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704296"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704297">.</span><span class="ident" id="3704298">parseState</span>&nbsp;<span class="op" id="3704309">=</span>&nbsp;<span class="ident" id="3704311"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704312">.</span><span class="ident" id="3704313">parseState</span><span class="op" id="3704323">[</span><span class="num" id="3704324">0</span><span class="op" id="3704325">:</span><span class="ident" id="3704326"><a href="/encoding/json/scanner.go.html#3704268">n</a></span><span class="op" id="3704327">]</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704330"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704331">.</span><span class="ident" id="3704332">redo</span>&nbsp;<span class="op" id="3704337">=</span>&nbsp;<span class="ident" id="3704339">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704346">if</span>&nbsp;<span class="ident" id="3704349"><a href="/encoding/json/scanner.go.html#3704268">n</a></span>&nbsp;<span class="op" id="3704351">==</span>&nbsp;<span class="num" id="3704354">0</span>&nbsp;<span class="op" id="3704356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704360"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704361">.</span><span class="ident" id="3704362">step</span>&nbsp;<span class="op" id="3704367">=</span>&nbsp;<span class="ident" id="3704369"><a href="/encoding/json/scanner.go.html#3707633">stateEndTop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704383"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704384">.</span><span class="ident" id="3704385">endTop</span>&nbsp;<span class="op" id="3704392">=</span>&nbsp;<span class="ident" id="3704394">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3704400">}</span>&nbsp;<span class="keyword" id="3704402">else</span>&nbsp;<span class="op" id="3704407">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704411"><a href="/encoding/json/scanner.go.html#3704237">s</a></span><span class="op" id="3704412">.</span><span class="ident" id="3704413">step</span>&nbsp;<span class="op" id="3704418">=</span>&nbsp;<span class="ident" id="3704420"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3704435">}</span><br>
<span class="lineno"></span><span class="op" id="3704437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3704440">func</span>&nbsp;<span class="ident" id="3704445">isSpace</span><span class="op" id="3704452">(</span><span class="ident" id="3704453">c</span>&nbsp;<span class="builtintype" id="3704455">rune</span><span class="op" id="3704459">)</span>&nbsp;<span class="builtintype" id="3704461">bool</span>&nbsp;<span class="op" id="3704466">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704469">return</span>&nbsp;<span class="ident" id="3704476"><a href="/encoding/json/scanner.go.html#3704453">c</a></span>&nbsp;<span class="op" id="3704478">==</span>&nbsp;<span class="string" id="3704481">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3704485">||</span>&nbsp;<span class="ident" id="3704488"><a href="/encoding/json/scanner.go.html#3704453">c</a></span>&nbsp;<span class="op" id="3704490">==</span>&nbsp;<span class="string" id="3704493">&#39;\t&#39;</span>&nbsp;<span class="op" id="3704498">||</span>&nbsp;<span class="ident" id="3704501"><a href="/encoding/json/scanner.go.html#3704453">c</a></span>&nbsp;<span class="op" id="3704503">==</span>&nbsp;<span class="string" id="3704506">&#39;\r&#39;</span>&nbsp;<span class="op" id="3704511">||</span>&nbsp;<span class="ident" id="3704514"><a href="/encoding/json/scanner.go.html#3704453">c</a></span>&nbsp;<span class="op" id="3704516">==</span>&nbsp;<span class="string" id="3704519">&#39;\n&#39;</span><br>
<span class="lineno"></span><span class="op" id="3704524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3704527">//&nbsp;stateBeginValueOrEmpty&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`[`.</span><br>
<span class="lineno"></span><span class="keyword" id="3704585">func</span>&nbsp;<span class="ident" id="3704590">stateBeginValueOrEmpty</span><span class="op" id="3704612">(</span><span class="ident" id="3704613">s</span>&nbsp;<span class="op" id="3704615">*</span><span class="ident" id="3704616"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3704623">,</span>&nbsp;<span class="ident" id="3704625">c</span>&nbsp;<span class="builtintype" id="3704627">int</span><span class="op" id="3704630">)</span>&nbsp;<span class="builtintype" id="3704632">int</span>&nbsp;<span class="op" id="3704636">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704639">if</span>&nbsp;<span class="ident" id="3704642"><a href="/encoding/json/scanner.go.html#3704625">c</a></span>&nbsp;<span class="op" id="3704644">&lt;=</span>&nbsp;<span class="string" id="3704647">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3704651">&amp;&amp;</span>&nbsp;<span class="ident" id="3704654"><a href="/encoding/json/scanner.go.html#3704445">isSpace</a></span><span class="op" id="3704661">(</span><span class="builtintype" id="3704662">rune</span><span class="op" id="3704666">(</span><span class="ident" id="3704667"><a href="/encoding/json/scanner.go.html#3704625">c</a></span><span class="op" id="3704668">)</span><span class="op" id="3704669">)</span>&nbsp;<span class="op" id="3704671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704675">return</span>&nbsp;<span class="ident" id="3704682"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3704697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704700">if</span>&nbsp;<span class="ident" id="3704703"><a href="/encoding/json/scanner.go.html#3704625">c</a></span>&nbsp;<span class="op" id="3704705">==</span>&nbsp;<span class="string" id="3704708">&#39;]&#39;</span>&nbsp;<span class="op" id="3704712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704716">return</span>&nbsp;<span class="ident" id="3704723"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><span class="op" id="3704736">(</span><span class="ident" id="3704737"><a href="/encoding/json/scanner.go.html#3704613">s</a></span><span class="op" id="3704738">,</span>&nbsp;<span class="ident" id="3704740"><a href="/encoding/json/scanner.go.html#3704625">c</a></span><span class="op" id="3704741">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3704744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704747">return</span>&nbsp;<span class="ident" id="3704754"><a href="/encoding/json/scanner.go.html#3704847">stateBeginValue</a></span><span class="op" id="3704769">(</span><span class="ident" id="3704770"><a href="/encoding/json/scanner.go.html#3704613">s</a></span><span class="op" id="3704771">,</span>&nbsp;<span class="ident" id="3704773"><a href="/encoding/json/scanner.go.html#3704625">c</a></span><span class="op" id="3704774">)</span><br>
<span class="lineno"></span><span class="op" id="3704776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3704779">//&nbsp;stateBeginValue&nbsp;is&nbsp;the&nbsp;state&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;input.</span><br>
<span class="lineno">200</span><span class="keyword" id="3704842">func</span>&nbsp;<span class="ident" id="3704847">stateBeginValue</span><span class="op" id="3704862">(</span><span class="ident" id="3704863">s</span>&nbsp;<span class="op" id="3704865">*</span><span class="ident" id="3704866"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3704873">,</span>&nbsp;<span class="ident" id="3704875">c</span>&nbsp;<span class="builtintype" id="3704877">int</span><span class="op" id="3704880">)</span>&nbsp;<span class="builtintype" id="3704882">int</span>&nbsp;<span class="op" id="3704886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704889">if</span>&nbsp;<span class="ident" id="3704892"><a href="/encoding/json/scanner.go.html#3704875">c</a></span>&nbsp;<span class="op" id="3704894">&lt;=</span>&nbsp;<span class="string" id="3704897">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3704901">&amp;&amp;</span>&nbsp;<span class="ident" id="3704904"><a href="/encoding/json/scanner.go.html#3704445">isSpace</a></span><span class="op" id="3704911">(</span><span class="builtintype" id="3704912">rune</span><span class="op" id="3704916">(</span><span class="ident" id="3704917"><a href="/encoding/json/scanner.go.html#3704875">c</a></span><span class="op" id="3704918">)</span><span class="op" id="3704919">)</span>&nbsp;<span class="op" id="3704921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704925">return</span>&nbsp;<span class="ident" id="3704932"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3704947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704950">switch</span>&nbsp;<span class="ident" id="3704957"><a href="/encoding/json/scanner.go.html#3704875">c</a></span>&nbsp;<span class="op" id="3704959">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3704962">case</span>&nbsp;<span class="string" id="3704967">&#39;{&#39;</span><span class="op" id="3704970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3704974"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3704975">.</span><span class="ident" id="3704976">step</span>&nbsp;<span class="op" id="3704981">=</span>&nbsp;<span class="ident" id="3704983"><a href="/encoding/json/scanner.go.html#3705817">stateBeginStringOrEmpty</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705009"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705010">.</span><span class="ident" id="3705011">pushParseState</span><span class="op" id="3705025">(</span><span class="ident" id="3705026"><a href="/encoding/json/scanner.go.html#3703201">parseObjectKey</a></span><span class="op" id="3705040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705044">return</span>&nbsp;<span class="ident" id="3705051"><a href="/encoding/json/scanner.go.html#3702322">scanBeginObject</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705068">case</span>&nbsp;<span class="string" id="3705073">&#39;[&#39;</span><span class="op" id="3705076">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705080"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705081">.</span><span class="ident" id="3705082">step</span>&nbsp;<span class="op" id="3705087">=</span>&nbsp;<span class="ident" id="3705089"><a href="/encoding/json/scanner.go.html#3704590">stateBeginValueOrEmpty</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705114"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705115">.</span><span class="ident" id="3705116">pushParseState</span><span class="op" id="3705130">(</span><span class="ident" id="3705131"><a href="/encoding/json/scanner.go.html#3703326">parseArrayValue</a></span><span class="op" id="3705146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705150">return</span>&nbsp;<span class="ident" id="3705157"><a href="/encoding/json/scanner.go.html#3702566">scanBeginArray</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705173">case</span>&nbsp;<span class="string" id="3705178">&#39;&#34;&#39;</span><span class="op" id="3705181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705185"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705186">.</span><span class="ident" id="3705187">step</span>&nbsp;<span class="op" id="3705192">=</span>&nbsp;<span class="ident" id="3705194"><a href="/encoding/json/scanner.go.html#3707887">stateInString</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705210">return</span>&nbsp;<span class="ident" id="3705217"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705235">case</span>&nbsp;<span class="string" id="3705240">&#39;-&#39;</span><span class="op" id="3705243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705247"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705248">.</span><span class="ident" id="3705249">step</span>&nbsp;<span class="op" id="3705254">=</span>&nbsp;<span class="ident" id="3705256"><a href="/encoding/json/scanner.go.html#3709888">stateNeg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705267">return</span>&nbsp;<span class="ident" id="3705274"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705292">case</span>&nbsp;<span class="string" id="3705297">&#39;0&#39;</span><span class="op" id="3705300">:</span>&nbsp;<span class="comment" id="3705302">//&nbsp;beginning&nbsp;of&nbsp;0.123</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705326"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705327">.</span><span class="ident" id="3705328">step</span>&nbsp;<span class="op" id="3705333">=</span>&nbsp;<span class="ident" id="3705335"><a href="/encoding/json/scanner.go.html#3710412">state0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705344">return</span>&nbsp;<span class="ident" id="3705351"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705369">case</span>&nbsp;<span class="string" id="3705374">&#39;t&#39;</span><span class="op" id="3705377">:</span>&nbsp;<span class="comment" id="3705379">//&nbsp;beginning&nbsp;of&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705402"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705403">.</span><span class="ident" id="3705404">step</span>&nbsp;<span class="op" id="3705409">=</span>&nbsp;<span class="ident" id="3705411"><a href="/encoding/json/scanner.go.html#3712215">stateT</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705420">return</span>&nbsp;<span class="ident" id="3705427"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705445">case</span>&nbsp;<span class="string" id="3705450">&#39;f&#39;</span><span class="op" id="3705453">:</span>&nbsp;<span class="comment" id="3705455">//&nbsp;beginning&nbsp;of&nbsp;false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705479"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705480">.</span><span class="ident" id="3705481">step</span>&nbsp;<span class="op" id="3705486">=</span>&nbsp;<span class="ident" id="3705488"><a href="/encoding/json/scanner.go.html#3712816">stateF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705497">return</span>&nbsp;<span class="ident" id="3705504"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705522">case</span>&nbsp;<span class="string" id="3705527">&#39;n&#39;</span><span class="op" id="3705530">:</span>&nbsp;<span class="comment" id="3705532">//&nbsp;beginning&nbsp;of&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705555"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705556">.</span><span class="ident" id="3705557">step</span>&nbsp;<span class="op" id="3705562">=</span>&nbsp;<span class="ident" id="3705564"><a href="/encoding/json/scanner.go.html#3713627">stateN</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705573">return</span>&nbsp;<span class="ident" id="3705580"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3705598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705601">if</span>&nbsp;<span class="string" id="3705604">&#39;1&#39;</span>&nbsp;<span class="op" id="3705608">&lt;=</span>&nbsp;<span class="ident" id="3705611"><a href="/encoding/json/scanner.go.html#3704875">c</a></span>&nbsp;<span class="op" id="3705613">&amp;&amp;</span>&nbsp;<span class="ident" id="3705616"><a href="/encoding/json/scanner.go.html#3704875">c</a></span>&nbsp;<span class="op" id="3705618">&lt;=</span>&nbsp;<span class="string" id="3705621">&#39;9&#39;</span>&nbsp;<span class="op" id="3705625">{</span>&nbsp;<span class="comment" id="3705627">//&nbsp;beginning&nbsp;of&nbsp;1234.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705652"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705653">.</span><span class="ident" id="3705654">step</span>&nbsp;<span class="op" id="3705659">=</span>&nbsp;<span class="ident" id="3705661"><a href="/encoding/json/scanner.go.html#3710223">state1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705670">return</span>&nbsp;<span class="ident" id="3705677"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3705695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705698">return</span>&nbsp;<span class="ident" id="3705705"><a href="/encoding/json/scanner.go.html#3704863">s</a></span><span class="op" id="3705706">.</span><span class="builtintype" id="3705707">error</span><span class="op" id="3705712">(</span><span class="ident" id="3705713"><a href="/encoding/json/scanner.go.html#3704875">c</a></span><span class="op" id="3705714">,</span>&nbsp;<span class="string" id="3705716">&#34;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="3705748">)</span><br>
<span class="lineno"></span><span class="op" id="3705750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3705753">//&nbsp;stateBeginStringOrEmpty&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`{`.</span><br>
<span class="lineno">240</span><span class="keyword" id="3705812">func</span>&nbsp;<span class="ident" id="3705817">stateBeginStringOrEmpty</span><span class="op" id="3705840">(</span><span class="ident" id="3705841">s</span>&nbsp;<span class="op" id="3705843">*</span><span class="ident" id="3705844"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3705851">,</span>&nbsp;<span class="ident" id="3705853">c</span>&nbsp;<span class="builtintype" id="3705855">int</span><span class="op" id="3705858">)</span>&nbsp;<span class="builtintype" id="3705860">int</span>&nbsp;<span class="op" id="3705864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705867">if</span>&nbsp;<span class="ident" id="3705870"><a href="/encoding/json/scanner.go.html#3705853">c</a></span>&nbsp;<span class="op" id="3705872">&lt;=</span>&nbsp;<span class="string" id="3705875">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3705879">&amp;&amp;</span>&nbsp;<span class="ident" id="3705882"><a href="/encoding/json/scanner.go.html#3704445">isSpace</a></span><span class="op" id="3705889">(</span><span class="builtintype" id="3705890">rune</span><span class="op" id="3705894">(</span><span class="ident" id="3705895"><a href="/encoding/json/scanner.go.html#3705853">c</a></span><span class="op" id="3705896">)</span><span class="op" id="3705897">)</span>&nbsp;<span class="op" id="3705899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705903">return</span>&nbsp;<span class="ident" id="3705910"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3705925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3705928">if</span>&nbsp;<span class="ident" id="3705931"><a href="/encoding/json/scanner.go.html#3705853">c</a></span>&nbsp;<span class="op" id="3705933">==</span>&nbsp;<span class="string" id="3705936">&#39;}&#39;</span>&nbsp;<span class="op" id="3705940">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705944">n</span>&nbsp;<span class="op" id="3705946">:=</span>&nbsp;<span class="builtinfunc" id="3705949">len</span><span class="op" id="3705952">(</span><span class="ident" id="3705953"><a href="/encoding/json/scanner.go.html#3705841">s</a></span><span class="op" id="3705954">.</span><span class="ident" id="3705955">parseState</span><span class="op" id="3705965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3705969"><a href="/encoding/json/scanner.go.html#3705841">s</a></span><span class="op" id="3705970">.</span><span class="ident" id="3705971">parseState</span><span class="op" id="3705981">[</span><span class="ident" id="3705982"><a href="/encoding/json/scanner.go.html#3705944">n</a></span><span class="op" id="3705983">-</span><span class="num" id="3705984">1</span><span class="op" id="3705985">]</span>&nbsp;<span class="op" id="3705987">=</span>&nbsp;<span class="ident" id="3705989"><a href="/encoding/json/scanner.go.html#3703263">parseObjectValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706008">return</span>&nbsp;<span class="ident" id="3706015"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><span class="op" id="3706028">(</span><span class="ident" id="3706029"><a href="/encoding/json/scanner.go.html#3705841">s</a></span><span class="op" id="3706030">,</span>&nbsp;<span class="ident" id="3706032"><a href="/encoding/json/scanner.go.html#3705853">c</a></span><span class="op" id="3706033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3706036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706039">return</span>&nbsp;<span class="ident" id="3706046"><a href="/encoding/json/scanner.go.html#3706142">stateBeginString</a></span><span class="op" id="3706062">(</span><span class="ident" id="3706063"><a href="/encoding/json/scanner.go.html#3705841">s</a></span><span class="op" id="3706064">,</span>&nbsp;<span class="ident" id="3706066"><a href="/encoding/json/scanner.go.html#3705853">c</a></span><span class="op" id="3706067">)</span><br>
<span class="lineno">250</span><span class="op" id="3706069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3706072">//&nbsp;stateBeginString&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`{&#34;key&#34;:&nbsp;value,`.</span><br>
<span class="lineno"></span><span class="keyword" id="3706137">func</span>&nbsp;<span class="ident" id="3706142">stateBeginString</span><span class="op" id="3706158">(</span><span class="ident" id="3706159">s</span>&nbsp;<span class="op" id="3706161">*</span><span class="ident" id="3706162"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3706169">,</span>&nbsp;<span class="ident" id="3706171">c</span>&nbsp;<span class="builtintype" id="3706173">int</span><span class="op" id="3706176">)</span>&nbsp;<span class="builtintype" id="3706178">int</span>&nbsp;<span class="op" id="3706182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706185">if</span>&nbsp;<span class="ident" id="3706188"><a href="/encoding/json/scanner.go.html#3706171">c</a></span>&nbsp;<span class="op" id="3706190">&lt;=</span>&nbsp;<span class="string" id="3706193">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3706197">&amp;&amp;</span>&nbsp;<span class="ident" id="3706200"><a href="/encoding/json/scanner.go.html#3704445">isSpace</a></span><span class="op" id="3706207">(</span><span class="builtintype" id="3706208">rune</span><span class="op" id="3706212">(</span><span class="ident" id="3706213"><a href="/encoding/json/scanner.go.html#3706171">c</a></span><span class="op" id="3706214">)</span><span class="op" id="3706215">)</span>&nbsp;<span class="op" id="3706217">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706221">return</span>&nbsp;<span class="ident" id="3706228"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3706243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706246">if</span>&nbsp;<span class="ident" id="3706249"><a href="/encoding/json/scanner.go.html#3706171">c</a></span>&nbsp;<span class="op" id="3706251">==</span>&nbsp;<span class="string" id="3706254">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3706258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706262"><a href="/encoding/json/scanner.go.html#3706159">s</a></span><span class="op" id="3706263">.</span><span class="ident" id="3706264">step</span>&nbsp;<span class="op" id="3706269">=</span>&nbsp;<span class="ident" id="3706271"><a href="/encoding/json/scanner.go.html#3707887">stateInString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706287">return</span>&nbsp;<span class="ident" id="3706294"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3706312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706315">return</span>&nbsp;<span class="ident" id="3706322"><a href="/encoding/json/scanner.go.html#3706159">s</a></span><span class="op" id="3706323">.</span><span class="builtintype" id="3706324">error</span><span class="op" id="3706329">(</span><span class="ident" id="3706330"><a href="/encoding/json/scanner.go.html#3706171">c</a></span><span class="op" id="3706331">,</span>&nbsp;<span class="string" id="3706333">&#34;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;object&nbsp;key&nbsp;string&#34;</span><span class="op" id="3706377">)</span><br>
<span class="lineno"></span><span class="op" id="3706379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3706382">//&nbsp;stateEndValue&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;completing&nbsp;a&nbsp;value,</span><br>
<span class="lineno">265</span><span class="comment" id="3706438">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`{}`&nbsp;or&nbsp;`true`&nbsp;or&nbsp;`[&#34;x&#34;`.</span><br>
<span class="lineno"></span><span class="keyword" id="3706489">func</span>&nbsp;<span class="ident" id="3706494">stateEndValue</span><span class="op" id="3706507">(</span><span class="ident" id="3706508">s</span>&nbsp;<span class="op" id="3706510">*</span><span class="ident" id="3706511"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3706518">,</span>&nbsp;<span class="ident" id="3706520">c</span>&nbsp;<span class="builtintype" id="3706522">int</span><span class="op" id="3706525">)</span>&nbsp;<span class="builtintype" id="3706527">int</span>&nbsp;<span class="op" id="3706531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706534">n</span>&nbsp;<span class="op" id="3706536">:=</span>&nbsp;<span class="builtinfunc" id="3706539">len</span><span class="op" id="3706542">(</span><span class="ident" id="3706543"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706544">.</span><span class="ident" id="3706545">parseState</span><span class="op" id="3706555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706558">if</span>&nbsp;<span class="ident" id="3706561"><a href="/encoding/json/scanner.go.html#3706534">n</a></span>&nbsp;<span class="op" id="3706563">==</span>&nbsp;<span class="num" id="3706566">0</span>&nbsp;<span class="op" id="3706568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3706572">//&nbsp;Completed&nbsp;top-level&nbsp;before&nbsp;the&nbsp;current&nbsp;byte.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706622"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706623">.</span><span class="ident" id="3706624">step</span>&nbsp;<span class="op" id="3706629">=</span>&nbsp;<span class="ident" id="3706631"><a href="/encoding/json/scanner.go.html#3707633">stateEndTop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706645"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706646">.</span><span class="ident" id="3706647">endTop</span>&nbsp;<span class="op" id="3706654">=</span>&nbsp;<span class="ident" id="3706656">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706663">return</span>&nbsp;<span class="ident" id="3706670"><a href="/encoding/json/scanner.go.html#3707633">stateEndTop</a></span><span class="op" id="3706681">(</span><span class="ident" id="3706682"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706683">,</span>&nbsp;<span class="ident" id="3706685"><a href="/encoding/json/scanner.go.html#3706520">c</a></span><span class="op" id="3706686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3706689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706692">if</span>&nbsp;<span class="ident" id="3706695"><a href="/encoding/json/scanner.go.html#3706520">c</a></span>&nbsp;<span class="op" id="3706697">&lt;=</span>&nbsp;<span class="string" id="3706700">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3706704">&amp;&amp;</span>&nbsp;<span class="ident" id="3706707"><a href="/encoding/json/scanner.go.html#3704445">isSpace</a></span><span class="op" id="3706714">(</span><span class="builtintype" id="3706715">rune</span><span class="op" id="3706719">(</span><span class="ident" id="3706720"><a href="/encoding/json/scanner.go.html#3706520">c</a></span><span class="op" id="3706721">)</span><span class="op" id="3706722">)</span>&nbsp;<span class="op" id="3706724">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706728"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706729">.</span><span class="ident" id="3706730">step</span>&nbsp;<span class="op" id="3706735">=</span>&nbsp;<span class="ident" id="3706737"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706753">return</span>&nbsp;<span class="ident" id="3706760"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3706775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706778">ps</span>&nbsp;<span class="op" id="3706781">:=</span>&nbsp;<span class="ident" id="3706784"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706785">.</span><span class="ident" id="3706786">parseState</span><span class="op" id="3706796">[</span><span class="ident" id="3706797"><a href="/encoding/json/scanner.go.html#3706534">n</a></span><span class="op" id="3706798">-</span><span class="num" id="3706799">1</span><span class="op" id="3706800">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706803">switch</span>&nbsp;<span class="ident" id="3706810"><a href="/encoding/json/scanner.go.html#3706778">ps</a></span>&nbsp;<span class="op" id="3706813">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706816">case</span>&nbsp;<span class="ident" id="3706821"><a href="/encoding/json/scanner.go.html#3703201">parseObjectKey</a></span><span class="op" id="3706835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706839">if</span>&nbsp;<span class="ident" id="3706842"><a href="/encoding/json/scanner.go.html#3706520">c</a></span>&nbsp;<span class="op" id="3706844">==</span>&nbsp;<span class="string" id="3706847">&#39;:&#39;</span>&nbsp;<span class="op" id="3706851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706856"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706857">.</span><span class="ident" id="3706858">parseState</span><span class="op" id="3706868">[</span><span class="ident" id="3706869"><a href="/encoding/json/scanner.go.html#3706534">n</a></span><span class="op" id="3706870">-</span><span class="num" id="3706871">1</span><span class="op" id="3706872">]</span>&nbsp;<span class="op" id="3706874">=</span>&nbsp;<span class="ident" id="3706876"><a href="/encoding/json/scanner.go.html#3703263">parseObjectValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3706896"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706897">.</span><span class="ident" id="3706898">step</span>&nbsp;<span class="op" id="3706903">=</span>&nbsp;<span class="ident" id="3706905"><a href="/encoding/json/scanner.go.html#3704847">stateBeginValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706924">return</span>&nbsp;<span class="ident" id="3706931"><a href="/encoding/json/scanner.go.html#3702363">scanObjectKey</a></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3706947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706951">return</span>&nbsp;<span class="ident" id="3706958"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3706959">.</span><span class="builtintype" id="3706960">error</span><span class="op" id="3706965">(</span><span class="ident" id="3706966"><a href="/encoding/json/scanner.go.html#3706520">c</a></span><span class="op" id="3706967">,</span>&nbsp;<span class="string" id="3706969">&#34;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="3706987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3706990">case</span>&nbsp;<span class="ident" id="3706995"><a href="/encoding/json/scanner.go.html#3703263">parseObjectValue</a></span><span class="op" id="3707011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707015">if</span>&nbsp;<span class="ident" id="3707018"><a href="/encoding/json/scanner.go.html#3706520">c</a></span>&nbsp;<span class="op" id="3707020">==</span>&nbsp;<span class="string" id="3707023">&#39;,&#39;</span>&nbsp;<span class="op" id="3707027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707032"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707033">.</span><span class="ident" id="3707034">parseState</span><span class="op" id="3707044">[</span><span class="ident" id="3707045"><a href="/encoding/json/scanner.go.html#3706534">n</a></span><span class="op" id="3707046">-</span><span class="num" id="3707047">1</span><span class="op" id="3707048">]</span>&nbsp;<span class="op" id="3707050">=</span>&nbsp;<span class="ident" id="3707052"><a href="/encoding/json/scanner.go.html#3703201">parseObjectKey</a></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707070"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707071">.</span><span class="ident" id="3707072">step</span>&nbsp;<span class="op" id="3707077">=</span>&nbsp;<span class="ident" id="3707079"><a href="/encoding/json/scanner.go.html#3706142">stateBeginString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707099">return</span>&nbsp;<span class="ident" id="3707106"><a href="/encoding/json/scanner.go.html#3702425">scanObjectValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707128">if</span>&nbsp;<span class="ident" id="3707131"><a href="/encoding/json/scanner.go.html#3706520">c</a></span>&nbsp;<span class="op" id="3707133">==</span>&nbsp;<span class="string" id="3707136">&#39;}&#39;</span>&nbsp;<span class="op" id="3707140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707145"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707146">.</span><span class="ident" id="3707147">popParseState</span><span class="op" id="3707160">(</span><span class="op" id="3707161">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707166">return</span>&nbsp;<span class="ident" id="3707173"><a href="/encoding/json/scanner.go.html#3702489">scanEndObject</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707193">return</span>&nbsp;<span class="ident" id="3707200"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707201">.</span><span class="builtintype" id="3707202">error</span><span class="op" id="3707207">(</span><span class="ident" id="3707208"><a href="/encoding/json/scanner.go.html#3706520">c</a></span><span class="op" id="3707209">,</span>&nbsp;<span class="string" id="3707211">&#34;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="3707240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707243">case</span>&nbsp;<span class="ident" id="3707248"><a href="/encoding/json/scanner.go.html#3703326">parseArrayValue</a></span><span class="op" id="3707263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707267">if</span>&nbsp;<span class="ident" id="3707270"><a href="/encoding/json/scanner.go.html#3706520">c</a></span>&nbsp;<span class="op" id="3707272">==</span>&nbsp;<span class="string" id="3707275">&#39;,&#39;</span>&nbsp;<span class="op" id="3707279">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707284"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707285">.</span><span class="ident" id="3707286">step</span>&nbsp;<span class="op" id="3707291">=</span>&nbsp;<span class="ident" id="3707293"><a href="/encoding/json/scanner.go.html#3704847">stateBeginValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707312">return</span>&nbsp;<span class="ident" id="3707319"><a href="/encoding/json/scanner.go.html#3702606">scanArrayValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707340">if</span>&nbsp;<span class="ident" id="3707343"><a href="/encoding/json/scanner.go.html#3706520">c</a></span>&nbsp;<span class="op" id="3707345">==</span>&nbsp;<span class="string" id="3707348">&#39;]&#39;</span>&nbsp;<span class="op" id="3707352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707357"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707358">.</span><span class="ident" id="3707359">popParseState</span><span class="op" id="3707372">(</span><span class="op" id="3707373">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707378">return</span>&nbsp;<span class="ident" id="3707385"><a href="/encoding/json/scanner.go.html#3702660">scanEndArray</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707404">return</span>&nbsp;<span class="ident" id="3707411"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707412">.</span><span class="builtintype" id="3707413">error</span><span class="op" id="3707418">(</span><span class="ident" id="3707419"><a href="/encoding/json/scanner.go.html#3706520">c</a></span><span class="op" id="3707420">,</span>&nbsp;<span class="string" id="3707422">&#34;after&nbsp;array&nbsp;element&#34;</span><span class="op" id="3707443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707449">return</span>&nbsp;<span class="ident" id="3707456"><a href="/encoding/json/scanner.go.html#3706508">s</a></span><span class="op" id="3707457">.</span><span class="builtintype" id="3707458">error</span><span class="op" id="3707463">(</span><span class="ident" id="3707464"><a href="/encoding/json/scanner.go.html#3706520">c</a></span><span class="op" id="3707465">,</span>&nbsp;<span class="string" id="3707467">&#34;&#34;</span><span class="op" id="3707469">)</span><br>
<span class="lineno">310</span><span class="op" id="3707471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3707474">//&nbsp;stateEndTop&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;finishing&nbsp;the&nbsp;top-level&nbsp;value,</span><br>
<span class="lineno"></span><span class="comment" id="3707539">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`{}`&nbsp;or&nbsp;`[1,2,3]`.</span><br>
<span class="lineno"></span><span class="comment" id="3707583">//&nbsp;Only&nbsp;space&nbsp;characters&nbsp;should&nbsp;be&nbsp;seen&nbsp;now.</span><br>
<span class="lineno">315</span><span class="keyword" id="3707628">func</span>&nbsp;<span class="ident" id="3707633">stateEndTop</span><span class="op" id="3707644">(</span><span class="ident" id="3707645">s</span>&nbsp;<span class="op" id="3707647">*</span><span class="ident" id="3707648"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3707655">,</span>&nbsp;<span class="ident" id="3707657">c</span>&nbsp;<span class="builtintype" id="3707659">int</span><span class="op" id="3707662">)</span>&nbsp;<span class="builtintype" id="3707664">int</span>&nbsp;<span class="op" id="3707668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707671">if</span>&nbsp;<span class="ident" id="3707674"><a href="/encoding/json/scanner.go.html#3707657">c</a></span>&nbsp;<span class="op" id="3707676">!=</span>&nbsp;<span class="string" id="3707679">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3707683">&amp;&amp;</span>&nbsp;<span class="ident" id="3707686"><a href="/encoding/json/scanner.go.html#3707657">c</a></span>&nbsp;<span class="op" id="3707688">!=</span>&nbsp;<span class="string" id="3707691">&#39;\t&#39;</span>&nbsp;<span class="op" id="3707696">&amp;&amp;</span>&nbsp;<span class="ident" id="3707699"><a href="/encoding/json/scanner.go.html#3707657">c</a></span>&nbsp;<span class="op" id="3707701">!=</span>&nbsp;<span class="string" id="3707704">&#39;\r&#39;</span>&nbsp;<span class="op" id="3707709">&amp;&amp;</span>&nbsp;<span class="ident" id="3707712"><a href="/encoding/json/scanner.go.html#3707657">c</a></span>&nbsp;<span class="op" id="3707714">!=</span>&nbsp;<span class="string" id="3707717">&#39;\n&#39;</span>&nbsp;<span class="op" id="3707722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3707726">//&nbsp;Complain&nbsp;about&nbsp;non-space&nbsp;byte&nbsp;on&nbsp;next&nbsp;call.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707775"><a href="/encoding/json/scanner.go.html#3707645">s</a></span><span class="op" id="3707776">.</span><span class="builtintype" id="3707777">error</span><span class="op" id="3707782">(</span><span class="ident" id="3707783"><a href="/encoding/json/scanner.go.html#3707657">c</a></span><span class="op" id="3707784">,</span>&nbsp;<span class="string" id="3707786">&#34;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="3707809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707812">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707815">return</span>&nbsp;<span class="ident" id="3707822"><a href="/encoding/json/scanner.go.html#3702831">scanEnd</a></span><br>
<span class="lineno"></span><span class="op" id="3707830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3707833">//&nbsp;stateInString&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;`.</span><br>
<span class="lineno"></span><span class="keyword" id="3707882">func</span>&nbsp;<span class="ident" id="3707887">stateInString</span><span class="op" id="3707900">(</span><span class="ident" id="3707901">s</span>&nbsp;<span class="op" id="3707903">*</span><span class="ident" id="3707904"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3707911">,</span>&nbsp;<span class="ident" id="3707913">c</span>&nbsp;<span class="builtintype" id="3707915">int</span><span class="op" id="3707918">)</span>&nbsp;<span class="builtintype" id="3707920">int</span>&nbsp;<span class="op" id="3707924">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707927">if</span>&nbsp;<span class="ident" id="3707930"><a href="/encoding/json/scanner.go.html#3707913">c</a></span>&nbsp;<span class="op" id="3707932">==</span>&nbsp;<span class="string" id="3707935">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3707939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3707943"><a href="/encoding/json/scanner.go.html#3707901">s</a></span><span class="op" id="3707944">.</span><span class="ident" id="3707945">step</span>&nbsp;<span class="op" id="3707950">=</span>&nbsp;<span class="ident" id="3707952"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707968">return</span>&nbsp;<span class="ident" id="3707975"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3707989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3707992">if</span>&nbsp;<span class="ident" id="3707995"><a href="/encoding/json/scanner.go.html#3707913">c</a></span>&nbsp;<span class="op" id="3707997">==</span>&nbsp;<span class="string" id="3708000">&#39;\\&#39;</span>&nbsp;<span class="op" id="3708005">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3708009"><a href="/encoding/json/scanner.go.html#3707901">s</a></span><span class="op" id="3708010">.</span><span class="ident" id="3708011">step</span>&nbsp;<span class="op" id="3708016">=</span>&nbsp;<span class="ident" id="3708018"><a href="/encoding/json/scanner.go.html#3708224">stateInStringEsc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708037">return</span>&nbsp;<span class="ident" id="3708044"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3708058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708061">if</span>&nbsp;<span class="ident" id="3708064"><a href="/encoding/json/scanner.go.html#3707913">c</a></span>&nbsp;<span class="op" id="3708066">&lt;</span>&nbsp;<span class="num" id="3708068">0x20</span>&nbsp;<span class="op" id="3708073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708077">return</span>&nbsp;<span class="ident" id="3708084"><a href="/encoding/json/scanner.go.html#3707901">s</a></span><span class="op" id="3708085">.</span><span class="builtintype" id="3708086">error</span><span class="op" id="3708091">(</span><span class="ident" id="3708092"><a href="/encoding/json/scanner.go.html#3707913">c</a></span><span class="op" id="3708093">,</span>&nbsp;<span class="string" id="3708095">&#34;in&nbsp;string&nbsp;literal&#34;</span><span class="op" id="3708114">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3708117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708120">return</span>&nbsp;<span class="ident" id="3708127"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span><span class="op" id="3708140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3708143">//&nbsp;stateInStringEsc&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno">340</span><span class="keyword" id="3708219">func</span>&nbsp;<span class="ident" id="3708224">stateInStringEsc</span><span class="op" id="3708240">(</span><span class="ident" id="3708241">s</span>&nbsp;<span class="op" id="3708243">*</span><span class="ident" id="3708244"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3708251">,</span>&nbsp;<span class="ident" id="3708253">c</span>&nbsp;<span class="builtintype" id="3708255">int</span><span class="op" id="3708258">)</span>&nbsp;<span class="builtintype" id="3708260">int</span>&nbsp;<span class="op" id="3708264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708267">switch</span>&nbsp;<span class="ident" id="3708274"><a href="/encoding/json/scanner.go.html#3708253">c</a></span>&nbsp;<span class="op" id="3708276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708279">case</span>&nbsp;<span class="string" id="3708284">&#39;b&#39;</span><span class="op" id="3708287">,</span>&nbsp;<span class="string" id="3708289">&#39;f&#39;</span><span class="op" id="3708292">,</span>&nbsp;<span class="string" id="3708294">&#39;n&#39;</span><span class="op" id="3708297">,</span>&nbsp;<span class="string" id="3708299">&#39;r&#39;</span><span class="op" id="3708302">,</span>&nbsp;<span class="string" id="3708304">&#39;t&#39;</span><span class="op" id="3708307">,</span>&nbsp;<span class="string" id="3708309">&#39;\\&#39;</span><span class="op" id="3708313">,</span>&nbsp;<span class="string" id="3708315">&#39;/&#39;</span><span class="op" id="3708318">,</span>&nbsp;<span class="string" id="3708320">&#39;&#34;&#39;</span><span class="op" id="3708323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3708327"><a href="/encoding/json/scanner.go.html#3708241">s</a></span><span class="op" id="3708328">.</span><span class="ident" id="3708329">step</span>&nbsp;<span class="op" id="3708334">=</span>&nbsp;<span class="ident" id="3708336"><a href="/encoding/json/scanner.go.html#3707887">stateInString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708352">return</span>&nbsp;<span class="ident" id="3708359"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3708373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708376">if</span>&nbsp;<span class="ident" id="3708379"><a href="/encoding/json/scanner.go.html#3708253">c</a></span>&nbsp;<span class="op" id="3708381">==</span>&nbsp;<span class="string" id="3708384">&#39;u&#39;</span>&nbsp;<span class="op" id="3708388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3708392"><a href="/encoding/json/scanner.go.html#3708241">s</a></span><span class="op" id="3708393">.</span><span class="ident" id="3708394">step</span>&nbsp;<span class="op" id="3708399">=</span>&nbsp;<span class="ident" id="3708401"><a href="/encoding/json/scanner.go.html#3708574">stateInStringEscU</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708421">return</span>&nbsp;<span class="ident" id="3708428"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3708442">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708445">return</span>&nbsp;<span class="ident" id="3708452"><a href="/encoding/json/scanner.go.html#3708241">s</a></span><span class="op" id="3708453">.</span><span class="builtintype" id="3708454">error</span><span class="op" id="3708459">(</span><span class="ident" id="3708460"><a href="/encoding/json/scanner.go.html#3708253">c</a></span><span class="op" id="3708461">,</span>&nbsp;<span class="string" id="3708463">&#34;in&nbsp;string&nbsp;escape&nbsp;code&#34;</span><span class="op" id="3708486">)</span><br>
<span class="lineno"></span><span class="op" id="3708488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3708491">//&nbsp;stateInStringEscU&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3708569">func</span>&nbsp;<span class="ident" id="3708574">stateInStringEscU</span><span class="op" id="3708591">(</span><span class="ident" id="3708592">s</span>&nbsp;<span class="op" id="3708594">*</span><span class="ident" id="3708595"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3708602">,</span>&nbsp;<span class="ident" id="3708604">c</span>&nbsp;<span class="builtintype" id="3708606">int</span><span class="op" id="3708609">)</span>&nbsp;<span class="builtintype" id="3708611">int</span>&nbsp;<span class="op" id="3708615">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708618">if</span>&nbsp;<span class="string" id="3708621">&#39;0&#39;</span>&nbsp;<span class="op" id="3708625">&lt;=</span>&nbsp;<span class="ident" id="3708628"><a href="/encoding/json/scanner.go.html#3708604">c</a></span>&nbsp;<span class="op" id="3708630">&amp;&amp;</span>&nbsp;<span class="ident" id="3708633"><a href="/encoding/json/scanner.go.html#3708604">c</a></span>&nbsp;<span class="op" id="3708635">&lt;=</span>&nbsp;<span class="string" id="3708638">&#39;9&#39;</span>&nbsp;<span class="op" id="3708642">||</span>&nbsp;<span class="string" id="3708645">&#39;a&#39;</span>&nbsp;<span class="op" id="3708649">&lt;=</span>&nbsp;<span class="ident" id="3708652"><a href="/encoding/json/scanner.go.html#3708604">c</a></span>&nbsp;<span class="op" id="3708654">&amp;&amp;</span>&nbsp;<span class="ident" id="3708657"><a href="/encoding/json/scanner.go.html#3708604">c</a></span>&nbsp;<span class="op" id="3708659">&lt;=</span>&nbsp;<span class="string" id="3708662">&#39;f&#39;</span>&nbsp;<span class="op" id="3708666">||</span>&nbsp;<span class="string" id="3708669">&#39;A&#39;</span>&nbsp;<span class="op" id="3708673">&lt;=</span>&nbsp;<span class="ident" id="3708676"><a href="/encoding/json/scanner.go.html#3708604">c</a></span>&nbsp;<span class="op" id="3708678">&amp;&amp;</span>&nbsp;<span class="ident" id="3708681"><a href="/encoding/json/scanner.go.html#3708604">c</a></span>&nbsp;<span class="op" id="3708683">&lt;=</span>&nbsp;<span class="string" id="3708686">&#39;F&#39;</span>&nbsp;<span class="op" id="3708690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3708694"><a href="/encoding/json/scanner.go.html#3708592">s</a></span><span class="op" id="3708695">.</span><span class="ident" id="3708696">step</span>&nbsp;<span class="op" id="3708701">=</span>&nbsp;<span class="ident" id="3708703"><a href="/encoding/json/scanner.go.html#3708905">stateInStringEscU1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708724">return</span>&nbsp;<span class="ident" id="3708731"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3708745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3708748">//&nbsp;numbers</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708760">return</span>&nbsp;<span class="ident" id="3708767"><a href="/encoding/json/scanner.go.html#3708592">s</a></span><span class="op" id="3708768">.</span><span class="builtintype" id="3708769">error</span><span class="op" id="3708774">(</span><span class="ident" id="3708775"><a href="/encoding/json/scanner.go.html#3708604">c</a></span><span class="op" id="3708776">,</span>&nbsp;<span class="string" id="3708778">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="3708815">)</span><br>
<span class="lineno"></span><span class="op" id="3708817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3708820">//&nbsp;stateInStringEscU1&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u1`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3708900">func</span>&nbsp;<span class="ident" id="3708905">stateInStringEscU1</span><span class="op" id="3708923">(</span><span class="ident" id="3708924">s</span>&nbsp;<span class="op" id="3708926">*</span><span class="ident" id="3708927"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3708934">,</span>&nbsp;<span class="ident" id="3708936">c</span>&nbsp;<span class="builtintype" id="3708938">int</span><span class="op" id="3708941">)</span>&nbsp;<span class="builtintype" id="3708943">int</span>&nbsp;<span class="op" id="3708947">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3708950">if</span>&nbsp;<span class="string" id="3708953">&#39;0&#39;</span>&nbsp;<span class="op" id="3708957">&lt;=</span>&nbsp;<span class="ident" id="3708960"><a href="/encoding/json/scanner.go.html#3708936">c</a></span>&nbsp;<span class="op" id="3708962">&amp;&amp;</span>&nbsp;<span class="ident" id="3708965"><a href="/encoding/json/scanner.go.html#3708936">c</a></span>&nbsp;<span class="op" id="3708967">&lt;=</span>&nbsp;<span class="string" id="3708970">&#39;9&#39;</span>&nbsp;<span class="op" id="3708974">||</span>&nbsp;<span class="string" id="3708977">&#39;a&#39;</span>&nbsp;<span class="op" id="3708981">&lt;=</span>&nbsp;<span class="ident" id="3708984"><a href="/encoding/json/scanner.go.html#3708936">c</a></span>&nbsp;<span class="op" id="3708986">&amp;&amp;</span>&nbsp;<span class="ident" id="3708989"><a href="/encoding/json/scanner.go.html#3708936">c</a></span>&nbsp;<span class="op" id="3708991">&lt;=</span>&nbsp;<span class="string" id="3708994">&#39;f&#39;</span>&nbsp;<span class="op" id="3708998">||</span>&nbsp;<span class="string" id="3709001">&#39;A&#39;</span>&nbsp;<span class="op" id="3709005">&lt;=</span>&nbsp;<span class="ident" id="3709008"><a href="/encoding/json/scanner.go.html#3708936">c</a></span>&nbsp;<span class="op" id="3709010">&amp;&amp;</span>&nbsp;<span class="ident" id="3709013"><a href="/encoding/json/scanner.go.html#3708936">c</a></span>&nbsp;<span class="op" id="3709015">&lt;=</span>&nbsp;<span class="string" id="3709018">&#39;F&#39;</span>&nbsp;<span class="op" id="3709022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3709026"><a href="/encoding/json/scanner.go.html#3708924">s</a></span><span class="op" id="3709027">.</span><span class="ident" id="3709028">step</span>&nbsp;<span class="op" id="3709033">=</span>&nbsp;<span class="ident" id="3709035"><a href="/encoding/json/scanner.go.html#3709240">stateInStringEscU12</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709057">return</span>&nbsp;<span class="ident" id="3709064"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3709078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3709081">//&nbsp;numbers</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709093">return</span>&nbsp;<span class="ident" id="3709100"><a href="/encoding/json/scanner.go.html#3708924">s</a></span><span class="op" id="3709101">.</span><span class="builtintype" id="3709102">error</span><span class="op" id="3709107">(</span><span class="ident" id="3709108"><a href="/encoding/json/scanner.go.html#3708936">c</a></span><span class="op" id="3709109">,</span>&nbsp;<span class="string" id="3709111">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="3709148">)</span><br>
<span class="lineno"></span><span class="op" id="3709150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3709153">//&nbsp;stateInStringEscU12&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u12`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3709235">func</span>&nbsp;<span class="ident" id="3709240">stateInStringEscU12</span><span class="op" id="3709259">(</span><span class="ident" id="3709260">s</span>&nbsp;<span class="op" id="3709262">*</span><span class="ident" id="3709263"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3709270">,</span>&nbsp;<span class="ident" id="3709272">c</span>&nbsp;<span class="builtintype" id="3709274">int</span><span class="op" id="3709277">)</span>&nbsp;<span class="builtintype" id="3709279">int</span>&nbsp;<span class="op" id="3709283">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709286">if</span>&nbsp;<span class="string" id="3709289">&#39;0&#39;</span>&nbsp;<span class="op" id="3709293">&lt;=</span>&nbsp;<span class="ident" id="3709296"><a href="/encoding/json/scanner.go.html#3709272">c</a></span>&nbsp;<span class="op" id="3709298">&amp;&amp;</span>&nbsp;<span class="ident" id="3709301"><a href="/encoding/json/scanner.go.html#3709272">c</a></span>&nbsp;<span class="op" id="3709303">&lt;=</span>&nbsp;<span class="string" id="3709306">&#39;9&#39;</span>&nbsp;<span class="op" id="3709310">||</span>&nbsp;<span class="string" id="3709313">&#39;a&#39;</span>&nbsp;<span class="op" id="3709317">&lt;=</span>&nbsp;<span class="ident" id="3709320"><a href="/encoding/json/scanner.go.html#3709272">c</a></span>&nbsp;<span class="op" id="3709322">&amp;&amp;</span>&nbsp;<span class="ident" id="3709325"><a href="/encoding/json/scanner.go.html#3709272">c</a></span>&nbsp;<span class="op" id="3709327">&lt;=</span>&nbsp;<span class="string" id="3709330">&#39;f&#39;</span>&nbsp;<span class="op" id="3709334">||</span>&nbsp;<span class="string" id="3709337">&#39;A&#39;</span>&nbsp;<span class="op" id="3709341">&lt;=</span>&nbsp;<span class="ident" id="3709344"><a href="/encoding/json/scanner.go.html#3709272">c</a></span>&nbsp;<span class="op" id="3709346">&amp;&amp;</span>&nbsp;<span class="ident" id="3709349"><a href="/encoding/json/scanner.go.html#3709272">c</a></span>&nbsp;<span class="op" id="3709351">&lt;=</span>&nbsp;<span class="string" id="3709354">&#39;F&#39;</span>&nbsp;<span class="op" id="3709358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3709362"><a href="/encoding/json/scanner.go.html#3709260">s</a></span><span class="op" id="3709363">.</span><span class="ident" id="3709364">step</span>&nbsp;<span class="op" id="3709369">=</span>&nbsp;<span class="ident" id="3709371"><a href="/encoding/json/scanner.go.html#3709579">stateInStringEscU123</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709394">return</span>&nbsp;<span class="ident" id="3709401"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3709415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3709418">//&nbsp;numbers</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709430">return</span>&nbsp;<span class="ident" id="3709437"><a href="/encoding/json/scanner.go.html#3709260">s</a></span><span class="op" id="3709438">.</span><span class="builtintype" id="3709439">error</span><span class="op" id="3709444">(</span><span class="ident" id="3709445"><a href="/encoding/json/scanner.go.html#3709272">c</a></span><span class="op" id="3709446">,</span>&nbsp;<span class="string" id="3709448">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="3709485">)</span><br>
<span class="lineno"></span><span class="op" id="3709487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3709490">//&nbsp;stateInStringEscU123&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`&#34;\u123`&nbsp;during&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3709574">func</span>&nbsp;<span class="ident" id="3709579">stateInStringEscU123</span><span class="op" id="3709599">(</span><span class="ident" id="3709600">s</span>&nbsp;<span class="op" id="3709602">*</span><span class="ident" id="3709603"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3709610">,</span>&nbsp;<span class="ident" id="3709612">c</span>&nbsp;<span class="builtintype" id="3709614">int</span><span class="op" id="3709617">)</span>&nbsp;<span class="builtintype" id="3709619">int</span>&nbsp;<span class="op" id="3709623">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709626">if</span>&nbsp;<span class="string" id="3709629">&#39;0&#39;</span>&nbsp;<span class="op" id="3709633">&lt;=</span>&nbsp;<span class="ident" id="3709636"><a href="/encoding/json/scanner.go.html#3709612">c</a></span>&nbsp;<span class="op" id="3709638">&amp;&amp;</span>&nbsp;<span class="ident" id="3709641"><a href="/encoding/json/scanner.go.html#3709612">c</a></span>&nbsp;<span class="op" id="3709643">&lt;=</span>&nbsp;<span class="string" id="3709646">&#39;9&#39;</span>&nbsp;<span class="op" id="3709650">||</span>&nbsp;<span class="string" id="3709653">&#39;a&#39;</span>&nbsp;<span class="op" id="3709657">&lt;=</span>&nbsp;<span class="ident" id="3709660"><a href="/encoding/json/scanner.go.html#3709612">c</a></span>&nbsp;<span class="op" id="3709662">&amp;&amp;</span>&nbsp;<span class="ident" id="3709665"><a href="/encoding/json/scanner.go.html#3709612">c</a></span>&nbsp;<span class="op" id="3709667">&lt;=</span>&nbsp;<span class="string" id="3709670">&#39;f&#39;</span>&nbsp;<span class="op" id="3709674">||</span>&nbsp;<span class="string" id="3709677">&#39;A&#39;</span>&nbsp;<span class="op" id="3709681">&lt;=</span>&nbsp;<span class="ident" id="3709684"><a href="/encoding/json/scanner.go.html#3709612">c</a></span>&nbsp;<span class="op" id="3709686">&amp;&amp;</span>&nbsp;<span class="ident" id="3709689"><a href="/encoding/json/scanner.go.html#3709612">c</a></span>&nbsp;<span class="op" id="3709691">&lt;=</span>&nbsp;<span class="string" id="3709694">&#39;F&#39;</span>&nbsp;<span class="op" id="3709698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3709702"><a href="/encoding/json/scanner.go.html#3709600">s</a></span><span class="op" id="3709703">.</span><span class="ident" id="3709704">step</span>&nbsp;<span class="op" id="3709709">=</span>&nbsp;<span class="ident" id="3709711"><a href="/encoding/json/scanner.go.html#3707887">stateInString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709727">return</span>&nbsp;<span class="ident" id="3709734"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3709748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3709751">//&nbsp;numbers</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709763">return</span>&nbsp;<span class="ident" id="3709770"><a href="/encoding/json/scanner.go.html#3709600">s</a></span><span class="op" id="3709771">.</span><span class="builtintype" id="3709772">error</span><span class="op" id="3709777">(</span><span class="ident" id="3709778"><a href="/encoding/json/scanner.go.html#3709612">c</a></span><span class="op" id="3709779">,</span>&nbsp;<span class="string" id="3709781">&#34;in&nbsp;\\u&nbsp;hexadecimal&nbsp;character&nbsp;escape&#34;</span><span class="op" id="3709818">)</span><br>
<span class="lineno"></span><span class="op" id="3709820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3709823">//&nbsp;stateNeg&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`-`&nbsp;during&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="3709883">func</span>&nbsp;<span class="ident" id="3709888">stateNeg</span><span class="op" id="3709896">(</span><span class="ident" id="3709897">s</span>&nbsp;<span class="op" id="3709899">*</span><span class="ident" id="3709900"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3709907">,</span>&nbsp;<span class="ident" id="3709909">c</span>&nbsp;<span class="builtintype" id="3709911">int</span><span class="op" id="3709914">)</span>&nbsp;<span class="builtintype" id="3709916">int</span>&nbsp;<span class="op" id="3709920">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709923">if</span>&nbsp;<span class="ident" id="3709926"><a href="/encoding/json/scanner.go.html#3709909">c</a></span>&nbsp;<span class="op" id="3709928">==</span>&nbsp;<span class="string" id="3709931">&#39;0&#39;</span>&nbsp;<span class="op" id="3709935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3709939"><a href="/encoding/json/scanner.go.html#3709897">s</a></span><span class="op" id="3709940">.</span><span class="ident" id="3709941">step</span>&nbsp;<span class="op" id="3709946">=</span>&nbsp;<span class="ident" id="3709948"><a href="/encoding/json/scanner.go.html#3710412">state0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709957">return</span>&nbsp;<span class="ident" id="3709964"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3709978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3709981">if</span>&nbsp;<span class="string" id="3709984">&#39;1&#39;</span>&nbsp;<span class="op" id="3709988">&lt;=</span>&nbsp;<span class="ident" id="3709991"><a href="/encoding/json/scanner.go.html#3709909">c</a></span>&nbsp;<span class="op" id="3709993">&amp;&amp;</span>&nbsp;<span class="ident" id="3709996"><a href="/encoding/json/scanner.go.html#3709909">c</a></span>&nbsp;<span class="op" id="3709998">&lt;=</span>&nbsp;<span class="string" id="3710001">&#39;9&#39;</span>&nbsp;<span class="op" id="3710005">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3710009"><a href="/encoding/json/scanner.go.html#3709897">s</a></span><span class="op" id="3710010">.</span><span class="ident" id="3710011">step</span>&nbsp;<span class="op" id="3710016">=</span>&nbsp;<span class="ident" id="3710018"><a href="/encoding/json/scanner.go.html#3710223">state1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710027">return</span>&nbsp;<span class="ident" id="3710034"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3710048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710051">return</span>&nbsp;<span class="ident" id="3710058"><a href="/encoding/json/scanner.go.html#3709897">s</a></span><span class="op" id="3710059">.</span><span class="builtintype" id="3710060">error</span><span class="op" id="3710065">(</span><span class="ident" id="3710066"><a href="/encoding/json/scanner.go.html#3709909">c</a></span><span class="op" id="3710067">,</span>&nbsp;<span class="string" id="3710069">&#34;in&nbsp;numeric&nbsp;literal&#34;</span><span class="op" id="3710089">)</span><br>
<span class="lineno"></span><span class="op" id="3710091">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="comment" id="3710094">//&nbsp;state1&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;a&nbsp;non-zero&nbsp;integer&nbsp;during&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="3710167">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`1`&nbsp;or&nbsp;`100`&nbsp;but&nbsp;not&nbsp;`0`.</span><br>
<span class="lineno"></span><span class="keyword" id="3710218">func</span>&nbsp;<span class="ident" id="3710223">state1</span><span class="op" id="3710229">(</span><span class="ident" id="3710230">s</span>&nbsp;<span class="op" id="3710232">*</span><span class="ident" id="3710233"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3710240">,</span>&nbsp;<span class="ident" id="3710242">c</span>&nbsp;<span class="builtintype" id="3710244">int</span><span class="op" id="3710247">)</span>&nbsp;<span class="builtintype" id="3710249">int</span>&nbsp;<span class="op" id="3710253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710256">if</span>&nbsp;<span class="string" id="3710259">&#39;0&#39;</span>&nbsp;<span class="op" id="3710263">&lt;=</span>&nbsp;<span class="ident" id="3710266"><a href="/encoding/json/scanner.go.html#3710242">c</a></span>&nbsp;<span class="op" id="3710268">&amp;&amp;</span>&nbsp;<span class="ident" id="3710271"><a href="/encoding/json/scanner.go.html#3710242">c</a></span>&nbsp;<span class="op" id="3710273">&lt;=</span>&nbsp;<span class="string" id="3710276">&#39;9&#39;</span>&nbsp;<span class="op" id="3710280">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3710284"><a href="/encoding/json/scanner.go.html#3710230">s</a></span><span class="op" id="3710285">.</span><span class="ident" id="3710286">step</span>&nbsp;<span class="op" id="3710291">=</span>&nbsp;<span class="ident" id="3710293"><a href="/encoding/json/scanner.go.html#3710223">state1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710302">return</span>&nbsp;<span class="ident" id="3710309"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3710323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710326">return</span>&nbsp;<span class="ident" id="3710333"><a href="/encoding/json/scanner.go.html#3710412">state0</a></span><span class="op" id="3710339">(</span><span class="ident" id="3710340"><a href="/encoding/json/scanner.go.html#3710230">s</a></span><span class="op" id="3710341">,</span>&nbsp;<span class="ident" id="3710343"><a href="/encoding/json/scanner.go.html#3710242">c</a></span><span class="op" id="3710344">)</span><br>
<span class="lineno"></span><span class="op" id="3710346">}</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span><span class="comment" id="3710349">//&nbsp;state0&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`0`&nbsp;during&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="3710407">func</span>&nbsp;<span class="ident" id="3710412">state0</span><span class="op" id="3710418">(</span><span class="ident" id="3710419">s</span>&nbsp;<span class="op" id="3710421">*</span><span class="ident" id="3710422"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3710429">,</span>&nbsp;<span class="ident" id="3710431">c</span>&nbsp;<span class="builtintype" id="3710433">int</span><span class="op" id="3710436">)</span>&nbsp;<span class="builtintype" id="3710438">int</span>&nbsp;<span class="op" id="3710442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710445">if</span>&nbsp;<span class="ident" id="3710448"><a href="/encoding/json/scanner.go.html#3710431">c</a></span>&nbsp;<span class="op" id="3710450">==</span>&nbsp;<span class="string" id="3710453">&#39;.&#39;</span>&nbsp;<span class="op" id="3710457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3710461"><a href="/encoding/json/scanner.go.html#3710419">s</a></span><span class="op" id="3710462">.</span><span class="ident" id="3710463">step</span>&nbsp;<span class="op" id="3710468">=</span>&nbsp;<span class="ident" id="3710470"><a href="/encoding/json/scanner.go.html#3710723">stateDot</a></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710481">return</span>&nbsp;<span class="ident" id="3710488"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3710502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710505">if</span>&nbsp;<span class="ident" id="3710508"><a href="/encoding/json/scanner.go.html#3710431">c</a></span>&nbsp;<span class="op" id="3710510">==</span>&nbsp;<span class="string" id="3710513">&#39;e&#39;</span>&nbsp;<span class="op" id="3710517">||</span>&nbsp;<span class="ident" id="3710520"><a href="/encoding/json/scanner.go.html#3710431">c</a></span>&nbsp;<span class="op" id="3710522">==</span>&nbsp;<span class="string" id="3710525">&#39;E&#39;</span>&nbsp;<span class="op" id="3710529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3710533"><a href="/encoding/json/scanner.go.html#3710419">s</a></span><span class="op" id="3710534">.</span><span class="ident" id="3710535">step</span>&nbsp;<span class="op" id="3710540">=</span>&nbsp;<span class="ident" id="3710542"><a href="/encoding/json/scanner.go.html#3711363">stateE</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710551">return</span>&nbsp;<span class="ident" id="3710558"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3710572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710575">return</span>&nbsp;<span class="ident" id="3710582"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><span class="op" id="3710595">(</span><span class="ident" id="3710596"><a href="/encoding/json/scanner.go.html#3710419">s</a></span><span class="op" id="3710597">,</span>&nbsp;<span class="ident" id="3710599"><a href="/encoding/json/scanner.go.html#3710431">c</a></span><span class="op" id="3710600">)</span><br>
<span class="lineno"></span><span class="op" id="3710602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3710605">//&nbsp;stateDot&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;integer&nbsp;and&nbsp;decimal&nbsp;point&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno">430</span><span class="comment" id="3710687">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`1.`.</span><br>
<span class="lineno"></span><span class="keyword" id="3710718">func</span>&nbsp;<span class="ident" id="3710723">stateDot</span><span class="op" id="3710731">(</span><span class="ident" id="3710732">s</span>&nbsp;<span class="op" id="3710734">*</span><span class="ident" id="3710735"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3710742">,</span>&nbsp;<span class="ident" id="3710744">c</span>&nbsp;<span class="builtintype" id="3710746">int</span><span class="op" id="3710749">)</span>&nbsp;<span class="builtintype" id="3710751">int</span>&nbsp;<span class="op" id="3710755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710758">if</span>&nbsp;<span class="string" id="3710761">&#39;0&#39;</span>&nbsp;<span class="op" id="3710765">&lt;=</span>&nbsp;<span class="ident" id="3710768"><a href="/encoding/json/scanner.go.html#3710744">c</a></span>&nbsp;<span class="op" id="3710770">&amp;&amp;</span>&nbsp;<span class="ident" id="3710773"><a href="/encoding/json/scanner.go.html#3710744">c</a></span>&nbsp;<span class="op" id="3710775">&lt;=</span>&nbsp;<span class="string" id="3710778">&#39;9&#39;</span>&nbsp;<span class="op" id="3710782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3710786"><a href="/encoding/json/scanner.go.html#3710732">s</a></span><span class="op" id="3710787">.</span><span class="ident" id="3710788">step</span>&nbsp;<span class="op" id="3710793">=</span>&nbsp;<span class="ident" id="3710795"><a href="/encoding/json/scanner.go.html#3711035">stateDot0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710807">return</span>&nbsp;<span class="ident" id="3710814"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3710828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3710831">return</span>&nbsp;<span class="ident" id="3710838"><a href="/encoding/json/scanner.go.html#3710732">s</a></span><span class="op" id="3710839">.</span><span class="builtintype" id="3710840">error</span><span class="op" id="3710845">(</span><span class="ident" id="3710846"><a href="/encoding/json/scanner.go.html#3710744">c</a></span><span class="op" id="3710847">,</span>&nbsp;<span class="string" id="3710849">&#34;after&nbsp;decimal&nbsp;point&nbsp;in&nbsp;numeric&nbsp;literal&#34;</span><span class="op" id="3710889">)</span><br>
<span class="lineno"></span><span class="op" id="3710891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3710894">//&nbsp;stateDot0&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;integer,&nbsp;decimal&nbsp;point,&nbsp;and&nbsp;subsequent</span><br>
<span class="lineno">440</span><span class="comment" id="3710977">//&nbsp;digits&nbsp;of&nbsp;a&nbsp;number,&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`3.14`.</span><br>
<span class="lineno"></span><span class="keyword" id="3711030">func</span>&nbsp;<span class="ident" id="3711035">stateDot0</span><span class="op" id="3711044">(</span><span class="ident" id="3711045">s</span>&nbsp;<span class="op" id="3711047">*</span><span class="ident" id="3711048"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3711055">,</span>&nbsp;<span class="ident" id="3711057">c</span>&nbsp;<span class="builtintype" id="3711059">int</span><span class="op" id="3711062">)</span>&nbsp;<span class="builtintype" id="3711064">int</span>&nbsp;<span class="op" id="3711068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711071">if</span>&nbsp;<span class="string" id="3711074">&#39;0&#39;</span>&nbsp;<span class="op" id="3711078">&lt;=</span>&nbsp;<span class="ident" id="3711081"><a href="/encoding/json/scanner.go.html#3711057">c</a></span>&nbsp;<span class="op" id="3711083">&amp;&amp;</span>&nbsp;<span class="ident" id="3711086"><a href="/encoding/json/scanner.go.html#3711057">c</a></span>&nbsp;<span class="op" id="3711088">&lt;=</span>&nbsp;<span class="string" id="3711091">&#39;9&#39;</span>&nbsp;<span class="op" id="3711095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3711099"><a href="/encoding/json/scanner.go.html#3711045">s</a></span><span class="op" id="3711100">.</span><span class="ident" id="3711101">step</span>&nbsp;<span class="op" id="3711106">=</span>&nbsp;<span class="ident" id="3711108"><a href="/encoding/json/scanner.go.html#3711035">stateDot0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711120">return</span>&nbsp;<span class="ident" id="3711127"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3711141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711144">if</span>&nbsp;<span class="ident" id="3711147"><a href="/encoding/json/scanner.go.html#3711057">c</a></span>&nbsp;<span class="op" id="3711149">==</span>&nbsp;<span class="string" id="3711152">&#39;e&#39;</span>&nbsp;<span class="op" id="3711156">||</span>&nbsp;<span class="ident" id="3711159"><a href="/encoding/json/scanner.go.html#3711057">c</a></span>&nbsp;<span class="op" id="3711161">==</span>&nbsp;<span class="string" id="3711164">&#39;E&#39;</span>&nbsp;<span class="op" id="3711168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3711172"><a href="/encoding/json/scanner.go.html#3711045">s</a></span><span class="op" id="3711173">.</span><span class="ident" id="3711174">step</span>&nbsp;<span class="op" id="3711179">=</span>&nbsp;<span class="ident" id="3711181"><a href="/encoding/json/scanner.go.html#3711363">stateE</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711190">return</span>&nbsp;<span class="ident" id="3711197"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3711211">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711214">return</span>&nbsp;<span class="ident" id="3711221"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><span class="op" id="3711234">(</span><span class="ident" id="3711235"><a href="/encoding/json/scanner.go.html#3711045">s</a></span><span class="op" id="3711236">,</span>&nbsp;<span class="ident" id="3711238"><a href="/encoding/json/scanner.go.html#3711057">c</a></span><span class="op" id="3711239">)</span><br>
<span class="lineno"></span><span class="op" id="3711241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3711244">//&nbsp;stateE&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;mantissa&nbsp;and&nbsp;e&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="3711313">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`314e`&nbsp;or&nbsp;`0.314e`.</span><br>
<span class="lineno">455</span><span class="keyword" id="3711358">func</span>&nbsp;<span class="ident" id="3711363">stateE</span><span class="op" id="3711369">(</span><span class="ident" id="3711370">s</span>&nbsp;<span class="op" id="3711372">*</span><span class="ident" id="3711373"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3711380">,</span>&nbsp;<span class="ident" id="3711382">c</span>&nbsp;<span class="builtintype" id="3711384">int</span><span class="op" id="3711387">)</span>&nbsp;<span class="builtintype" id="3711389">int</span>&nbsp;<span class="op" id="3711393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711396">if</span>&nbsp;<span class="ident" id="3711399"><a href="/encoding/json/scanner.go.html#3711382">c</a></span>&nbsp;<span class="op" id="3711401">==</span>&nbsp;<span class="string" id="3711404">&#39;+&#39;</span>&nbsp;<span class="op" id="3711408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3711412"><a href="/encoding/json/scanner.go.html#3711370">s</a></span><span class="op" id="3711413">.</span><span class="ident" id="3711414">step</span>&nbsp;<span class="op" id="3711419">=</span>&nbsp;<span class="ident" id="3711421"><a href="/encoding/json/scanner.go.html#3711679">stateESign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711434">return</span>&nbsp;<span class="ident" id="3711441"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3711455">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711458">if</span>&nbsp;<span class="ident" id="3711461"><a href="/encoding/json/scanner.go.html#3711382">c</a></span>&nbsp;<span class="op" id="3711463">==</span>&nbsp;<span class="string" id="3711466">&#39;-&#39;</span>&nbsp;<span class="op" id="3711470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3711474"><a href="/encoding/json/scanner.go.html#3711370">s</a></span><span class="op" id="3711475">.</span><span class="ident" id="3711476">step</span>&nbsp;<span class="op" id="3711481">=</span>&nbsp;<span class="ident" id="3711483"><a href="/encoding/json/scanner.go.html#3711679">stateESign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711496">return</span>&nbsp;<span class="ident" id="3711503"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3711517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711520">return</span>&nbsp;<span class="ident" id="3711527"><a href="/encoding/json/scanner.go.html#3711679">stateESign</a></span><span class="op" id="3711537">(</span><span class="ident" id="3711538"><a href="/encoding/json/scanner.go.html#3711370">s</a></span><span class="op" id="3711539">,</span>&nbsp;<span class="ident" id="3711541"><a href="/encoding/json/scanner.go.html#3711382">c</a></span><span class="op" id="3711542">)</span><br>
<span class="lineno">465</span><span class="op" id="3711544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3711547">//&nbsp;stateESign&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;mantissa,&nbsp;e,&nbsp;and&nbsp;sign&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="3711627">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`314e-`&nbsp;or&nbsp;`0.314e+`.</span><br>
<span class="lineno"></span><span class="keyword" id="3711674">func</span>&nbsp;<span class="ident" id="3711679">stateESign</span><span class="op" id="3711689">(</span><span class="ident" id="3711690">s</span>&nbsp;<span class="op" id="3711692">*</span><span class="ident" id="3711693"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3711700">,</span>&nbsp;<span class="ident" id="3711702">c</span>&nbsp;<span class="builtintype" id="3711704">int</span><span class="op" id="3711707">)</span>&nbsp;<span class="builtintype" id="3711709">int</span>&nbsp;<span class="op" id="3711713">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711716">if</span>&nbsp;<span class="string" id="3711719">&#39;0&#39;</span>&nbsp;<span class="op" id="3711723">&lt;=</span>&nbsp;<span class="ident" id="3711726"><a href="/encoding/json/scanner.go.html#3711702">c</a></span>&nbsp;<span class="op" id="3711728">&amp;&amp;</span>&nbsp;<span class="ident" id="3711731"><a href="/encoding/json/scanner.go.html#3711702">c</a></span>&nbsp;<span class="op" id="3711733">&lt;=</span>&nbsp;<span class="string" id="3711736">&#39;9&#39;</span>&nbsp;<span class="op" id="3711740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3711744"><a href="/encoding/json/scanner.go.html#3711690">s</a></span><span class="op" id="3711745">.</span><span class="ident" id="3711746">step</span>&nbsp;<span class="op" id="3711751">=</span>&nbsp;<span class="ident" id="3711753"><a href="/encoding/json/scanner.go.html#3712033">stateE0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711763">return</span>&nbsp;<span class="ident" id="3711770"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3711784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3711787">return</span>&nbsp;<span class="ident" id="3711794"><a href="/encoding/json/scanner.go.html#3711690">s</a></span><span class="op" id="3711795">.</span><span class="builtintype" id="3711796">error</span><span class="op" id="3711801">(</span><span class="ident" id="3711802"><a href="/encoding/json/scanner.go.html#3711702">c</a></span><span class="op" id="3711803">,</span>&nbsp;<span class="string" id="3711805">&#34;in&nbsp;exponent&nbsp;of&nbsp;numeric&nbsp;literal&#34;</span><span class="op" id="3711837">)</span><br>
<span class="lineno">475</span><span class="op" id="3711839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3711842">//&nbsp;stateE0&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;the&nbsp;mantissa,&nbsp;e,&nbsp;optional&nbsp;sign,</span><br>
<span class="lineno"></span><span class="comment" id="3711912">//&nbsp;and&nbsp;at&nbsp;least&nbsp;one&nbsp;digit&nbsp;of&nbsp;the&nbsp;exponent&nbsp;in&nbsp;a&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="3711967">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`314e-2`&nbsp;or&nbsp;`0.314e+1`&nbsp;or&nbsp;`3.14e0`.</span><br>
<span class="lineno">480</span><span class="keyword" id="3712028">func</span>&nbsp;<span class="ident" id="3712033">stateE0</span><span class="op" id="3712040">(</span><span class="ident" id="3712041">s</span>&nbsp;<span class="op" id="3712043">*</span><span class="ident" id="3712044"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3712051">,</span>&nbsp;<span class="ident" id="3712053">c</span>&nbsp;<span class="builtintype" id="3712055">int</span><span class="op" id="3712058">)</span>&nbsp;<span class="builtintype" id="3712060">int</span>&nbsp;<span class="op" id="3712064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712067">if</span>&nbsp;<span class="string" id="3712070">&#39;0&#39;</span>&nbsp;<span class="op" id="3712074">&lt;=</span>&nbsp;<span class="ident" id="3712077"><a href="/encoding/json/scanner.go.html#3712053">c</a></span>&nbsp;<span class="op" id="3712079">&amp;&amp;</span>&nbsp;<span class="ident" id="3712082"><a href="/encoding/json/scanner.go.html#3712053">c</a></span>&nbsp;<span class="op" id="3712084">&lt;=</span>&nbsp;<span class="string" id="3712087">&#39;9&#39;</span>&nbsp;<span class="op" id="3712091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3712095"><a href="/encoding/json/scanner.go.html#3712041">s</a></span><span class="op" id="3712096">.</span><span class="ident" id="3712097">step</span>&nbsp;<span class="op" id="3712102">=</span>&nbsp;<span class="ident" id="3712104"><a href="/encoding/json/scanner.go.html#3712033">stateE0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712114">return</span>&nbsp;<span class="ident" id="3712121"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3712135">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712138">return</span>&nbsp;<span class="ident" id="3712145"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><span class="op" id="3712158">(</span><span class="ident" id="3712159"><a href="/encoding/json/scanner.go.html#3712041">s</a></span><span class="op" id="3712160">,</span>&nbsp;<span class="ident" id="3712162"><a href="/encoding/json/scanner.go.html#3712053">c</a></span><span class="op" id="3712163">)</span><br>
<span class="lineno"></span><span class="op" id="3712165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3712168">//&nbsp;stateT&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`t`.</span><br>
<span class="lineno"></span><span class="keyword" id="3712210">func</span>&nbsp;<span class="ident" id="3712215">stateT</span><span class="op" id="3712221">(</span><span class="ident" id="3712222">s</span>&nbsp;<span class="op" id="3712224">*</span><span class="ident" id="3712225"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3712232">,</span>&nbsp;<span class="ident" id="3712234">c</span>&nbsp;<span class="builtintype" id="3712236">int</span><span class="op" id="3712239">)</span>&nbsp;<span class="builtintype" id="3712241">int</span>&nbsp;<span class="op" id="3712245">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712248">if</span>&nbsp;<span class="ident" id="3712251"><a href="/encoding/json/scanner.go.html#3712234">c</a></span>&nbsp;<span class="op" id="3712253">==</span>&nbsp;<span class="string" id="3712256">&#39;r&#39;</span>&nbsp;<span class="op" id="3712260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3712264"><a href="/encoding/json/scanner.go.html#3712222">s</a></span><span class="op" id="3712265">.</span><span class="ident" id="3712266">step</span>&nbsp;<span class="op" id="3712271">=</span>&nbsp;<span class="ident" id="3712273"><a href="/encoding/json/scanner.go.html#3712412">stateTr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712283">return</span>&nbsp;<span class="ident" id="3712290"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3712304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712307">return</span>&nbsp;<span class="ident" id="3712314"><a href="/encoding/json/scanner.go.html#3712222">s</a></span><span class="op" id="3712315">.</span><span class="builtintype" id="3712316">error</span><span class="op" id="3712321">(</span><span class="ident" id="3712322"><a href="/encoding/json/scanner.go.html#3712234">c</a></span><span class="op" id="3712323">,</span>&nbsp;<span class="string" id="3712325">&#34;in&nbsp;literal&nbsp;true&nbsp;(expecting&nbsp;&#39;r&#39;)&#34;</span><span class="op" id="3712358">)</span><br>
<span class="lineno">495</span><span class="op" id="3712360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3712363">//&nbsp;stateTr&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`tr`.</span><br>
<span class="lineno"></span><span class="keyword" id="3712407">func</span>&nbsp;<span class="ident" id="3712412">stateTr</span><span class="op" id="3712419">(</span><span class="ident" id="3712420">s</span>&nbsp;<span class="op" id="3712422">*</span><span class="ident" id="3712423"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3712430">,</span>&nbsp;<span class="ident" id="3712432">c</span>&nbsp;<span class="builtintype" id="3712434">int</span><span class="op" id="3712437">)</span>&nbsp;<span class="builtintype" id="3712439">int</span>&nbsp;<span class="op" id="3712443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712446">if</span>&nbsp;<span class="ident" id="3712449"><a href="/encoding/json/scanner.go.html#3712432">c</a></span>&nbsp;<span class="op" id="3712451">==</span>&nbsp;<span class="string" id="3712454">&#39;u&#39;</span>&nbsp;<span class="op" id="3712458">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3712462"><a href="/encoding/json/scanner.go.html#3712420">s</a></span><span class="op" id="3712463">.</span><span class="ident" id="3712464">step</span>&nbsp;<span class="op" id="3712469">=</span>&nbsp;<span class="ident" id="3712471"><a href="/encoding/json/scanner.go.html#3712613">stateTru</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712482">return</span>&nbsp;<span class="ident" id="3712489"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3712503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712506">return</span>&nbsp;<span class="ident" id="3712513"><a href="/encoding/json/scanner.go.html#3712420">s</a></span><span class="op" id="3712514">.</span><span class="builtintype" id="3712515">error</span><span class="op" id="3712520">(</span><span class="ident" id="3712521"><a href="/encoding/json/scanner.go.html#3712432">c</a></span><span class="op" id="3712522">,</span>&nbsp;<span class="string" id="3712524">&#34;in&nbsp;literal&nbsp;true&nbsp;(expecting&nbsp;&#39;u&#39;)&#34;</span><span class="op" id="3712557">)</span><br>
<span class="lineno"></span><span class="op" id="3712559">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="comment" id="3712562">//&nbsp;stateTru&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`tru`.</span><br>
<span class="lineno"></span><span class="keyword" id="3712608">func</span>&nbsp;<span class="ident" id="3712613">stateTru</span><span class="op" id="3712621">(</span><span class="ident" id="3712622">s</span>&nbsp;<span class="op" id="3712624">*</span><span class="ident" id="3712625"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3712632">,</span>&nbsp;<span class="ident" id="3712634">c</span>&nbsp;<span class="builtintype" id="3712636">int</span><span class="op" id="3712639">)</span>&nbsp;<span class="builtintype" id="3712641">int</span>&nbsp;<span class="op" id="3712645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712648">if</span>&nbsp;<span class="ident" id="3712651"><a href="/encoding/json/scanner.go.html#3712634">c</a></span>&nbsp;<span class="op" id="3712653">==</span>&nbsp;<span class="string" id="3712656">&#39;e&#39;</span>&nbsp;<span class="op" id="3712660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3712664"><a href="/encoding/json/scanner.go.html#3712622">s</a></span><span class="op" id="3712665">.</span><span class="ident" id="3712666">step</span>&nbsp;<span class="op" id="3712671">=</span>&nbsp;<span class="ident" id="3712673"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712689">return</span>&nbsp;<span class="ident" id="3712696"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3712710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712713">return</span>&nbsp;<span class="ident" id="3712720"><a href="/encoding/json/scanner.go.html#3712622">s</a></span><span class="op" id="3712721">.</span><span class="builtintype" id="3712722">error</span><span class="op" id="3712727">(</span><span class="ident" id="3712728"><a href="/encoding/json/scanner.go.html#3712634">c</a></span><span class="op" id="3712729">,</span>&nbsp;<span class="string" id="3712731">&#34;in&nbsp;literal&nbsp;true&nbsp;(expecting&nbsp;&#39;e&#39;)&#34;</span><span class="op" id="3712764">)</span><br>
<span class="lineno"></span><span class="op" id="3712766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="3712769">//&nbsp;stateF&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`f`.</span><br>
<span class="lineno"></span><span class="keyword" id="3712811">func</span>&nbsp;<span class="ident" id="3712816">stateF</span><span class="op" id="3712822">(</span><span class="ident" id="3712823">s</span>&nbsp;<span class="op" id="3712825">*</span><span class="ident" id="3712826"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3712833">,</span>&nbsp;<span class="ident" id="3712835">c</span>&nbsp;<span class="builtintype" id="3712837">int</span><span class="op" id="3712840">)</span>&nbsp;<span class="builtintype" id="3712842">int</span>&nbsp;<span class="op" id="3712846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712849">if</span>&nbsp;<span class="ident" id="3712852"><a href="/encoding/json/scanner.go.html#3712835">c</a></span>&nbsp;<span class="op" id="3712854">==</span>&nbsp;<span class="string" id="3712857">&#39;a&#39;</span>&nbsp;<span class="op" id="3712861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3712865"><a href="/encoding/json/scanner.go.html#3712823">s</a></span><span class="op" id="3712866">.</span><span class="ident" id="3712867">step</span>&nbsp;<span class="op" id="3712872">=</span>&nbsp;<span class="ident" id="3712874"><a href="/encoding/json/scanner.go.html#3713014">stateFa</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712884">return</span>&nbsp;<span class="ident" id="3712891"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3712905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3712908">return</span>&nbsp;<span class="ident" id="3712915"><a href="/encoding/json/scanner.go.html#3712823">s</a></span><span class="op" id="3712916">.</span><span class="builtintype" id="3712917">error</span><span class="op" id="3712922">(</span><span class="ident" id="3712923"><a href="/encoding/json/scanner.go.html#3712835">c</a></span><span class="op" id="3712924">,</span>&nbsp;<span class="string" id="3712926">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;a&#39;)&#34;</span><span class="op" id="3712960">)</span><br>
<span class="lineno"></span><span class="op" id="3712962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3712965">//&nbsp;stateFa&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`fa`.</span><br>
<span class="lineno">525</span><span class="keyword" id="3713009">func</span>&nbsp;<span class="ident" id="3713014">stateFa</span><span class="op" id="3713021">(</span><span class="ident" id="3713022">s</span>&nbsp;<span class="op" id="3713024">*</span><span class="ident" id="3713025"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3713032">,</span>&nbsp;<span class="ident" id="3713034">c</span>&nbsp;<span class="builtintype" id="3713036">int</span><span class="op" id="3713039">)</span>&nbsp;<span class="builtintype" id="3713041">int</span>&nbsp;<span class="op" id="3713045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713048">if</span>&nbsp;<span class="ident" id="3713051"><a href="/encoding/json/scanner.go.html#3713034">c</a></span>&nbsp;<span class="op" id="3713053">==</span>&nbsp;<span class="string" id="3713056">&#39;l&#39;</span>&nbsp;<span class="op" id="3713060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3713064"><a href="/encoding/json/scanner.go.html#3713022">s</a></span><span class="op" id="3713065">.</span><span class="ident" id="3713066">step</span>&nbsp;<span class="op" id="3713071">=</span>&nbsp;<span class="ident" id="3713073"><a href="/encoding/json/scanner.go.html#3713216">stateFal</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713084">return</span>&nbsp;<span class="ident" id="3713091"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3713105">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713108">return</span>&nbsp;<span class="ident" id="3713115"><a href="/encoding/json/scanner.go.html#3713022">s</a></span><span class="op" id="3713116">.</span><span class="builtintype" id="3713117">error</span><span class="op" id="3713122">(</span><span class="ident" id="3713123"><a href="/encoding/json/scanner.go.html#3713034">c</a></span><span class="op" id="3713124">,</span>&nbsp;<span class="string" id="3713126">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;l&#39;)&#34;</span><span class="op" id="3713160">)</span><br>
<span class="lineno"></span><span class="op" id="3713162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3713165">//&nbsp;stateFal&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`fal`.</span><br>
<span class="lineno"></span><span class="keyword" id="3713211">func</span>&nbsp;<span class="ident" id="3713216">stateFal</span><span class="op" id="3713224">(</span><span class="ident" id="3713225">s</span>&nbsp;<span class="op" id="3713227">*</span><span class="ident" id="3713228"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3713235">,</span>&nbsp;<span class="ident" id="3713237">c</span>&nbsp;<span class="builtintype" id="3713239">int</span><span class="op" id="3713242">)</span>&nbsp;<span class="builtintype" id="3713244">int</span>&nbsp;<span class="op" id="3713248">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713251">if</span>&nbsp;<span class="ident" id="3713254"><a href="/encoding/json/scanner.go.html#3713237">c</a></span>&nbsp;<span class="op" id="3713256">==</span>&nbsp;<span class="string" id="3713259">&#39;s&#39;</span>&nbsp;<span class="op" id="3713263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3713267"><a href="/encoding/json/scanner.go.html#3713225">s</a></span><span class="op" id="3713268">.</span><span class="ident" id="3713269">step</span>&nbsp;<span class="op" id="3713274">=</span>&nbsp;<span class="ident" id="3713276"><a href="/encoding/json/scanner.go.html#3713422">stateFals</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713288">return</span>&nbsp;<span class="ident" id="3713295"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3713309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713312">return</span>&nbsp;<span class="ident" id="3713319"><a href="/encoding/json/scanner.go.html#3713225">s</a></span><span class="op" id="3713320">.</span><span class="builtintype" id="3713321">error</span><span class="op" id="3713326">(</span><span class="ident" id="3713327"><a href="/encoding/json/scanner.go.html#3713237">c</a></span><span class="op" id="3713328">,</span>&nbsp;<span class="string" id="3713330">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;s&#39;)&#34;</span><span class="op" id="3713364">)</span><br>
<span class="lineno">540</span><span class="op" id="3713366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3713369">//&nbsp;stateFals&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`fals`.</span><br>
<span class="lineno"></span><span class="keyword" id="3713417">func</span>&nbsp;<span class="ident" id="3713422">stateFals</span><span class="op" id="3713431">(</span><span class="ident" id="3713432">s</span>&nbsp;<span class="op" id="3713434">*</span><span class="ident" id="3713435"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3713442">,</span>&nbsp;<span class="ident" id="3713444">c</span>&nbsp;<span class="builtintype" id="3713446">int</span><span class="op" id="3713449">)</span>&nbsp;<span class="builtintype" id="3713451">int</span>&nbsp;<span class="op" id="3713455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713458">if</span>&nbsp;<span class="ident" id="3713461"><a href="/encoding/json/scanner.go.html#3713444">c</a></span>&nbsp;<span class="op" id="3713463">==</span>&nbsp;<span class="string" id="3713466">&#39;e&#39;</span>&nbsp;<span class="op" id="3713470">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3713474"><a href="/encoding/json/scanner.go.html#3713432">s</a></span><span class="op" id="3713475">.</span><span class="ident" id="3713476">step</span>&nbsp;<span class="op" id="3713481">=</span>&nbsp;<span class="ident" id="3713483"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713499">return</span>&nbsp;<span class="ident" id="3713506"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3713520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713523">return</span>&nbsp;<span class="ident" id="3713530"><a href="/encoding/json/scanner.go.html#3713432">s</a></span><span class="op" id="3713531">.</span><span class="builtintype" id="3713532">error</span><span class="op" id="3713537">(</span><span class="ident" id="3713538"><a href="/encoding/json/scanner.go.html#3713444">c</a></span><span class="op" id="3713539">,</span>&nbsp;<span class="string" id="3713541">&#34;in&nbsp;literal&nbsp;false&nbsp;(expecting&nbsp;&#39;e&#39;)&#34;</span><span class="op" id="3713575">)</span><br>
<span class="lineno"></span><span class="op" id="3713577">}</span><br>
<span class="lineno">550</span><br>
<span class="lineno"></span><span class="comment" id="3713580">//&nbsp;stateN&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`n`.</span><br>
<span class="lineno"></span><span class="keyword" id="3713622">func</span>&nbsp;<span class="ident" id="3713627">stateN</span><span class="op" id="3713633">(</span><span class="ident" id="3713634">s</span>&nbsp;<span class="op" id="3713636">*</span><span class="ident" id="3713637"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3713644">,</span>&nbsp;<span class="ident" id="3713646">c</span>&nbsp;<span class="builtintype" id="3713648">int</span><span class="op" id="3713651">)</span>&nbsp;<span class="builtintype" id="3713653">int</span>&nbsp;<span class="op" id="3713657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713660">if</span>&nbsp;<span class="ident" id="3713663"><a href="/encoding/json/scanner.go.html#3713646">c</a></span>&nbsp;<span class="op" id="3713665">==</span>&nbsp;<span class="string" id="3713668">&#39;u&#39;</span>&nbsp;<span class="op" id="3713672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3713676"><a href="/encoding/json/scanner.go.html#3713634">s</a></span><span class="op" id="3713677">.</span><span class="ident" id="3713678">step</span>&nbsp;<span class="op" id="3713683">=</span>&nbsp;<span class="ident" id="3713685"><a href="/encoding/json/scanner.go.html#3713824">stateNu</a></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713695">return</span>&nbsp;<span class="ident" id="3713702"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3713716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713719">return</span>&nbsp;<span class="ident" id="3713726"><a href="/encoding/json/scanner.go.html#3713634">s</a></span><span class="op" id="3713727">.</span><span class="builtintype" id="3713728">error</span><span class="op" id="3713733">(</span><span class="ident" id="3713734"><a href="/encoding/json/scanner.go.html#3713646">c</a></span><span class="op" id="3713735">,</span>&nbsp;<span class="string" id="3713737">&#34;in&nbsp;literal&nbsp;null&nbsp;(expecting&nbsp;&#39;u&#39;)&#34;</span><span class="op" id="3713770">)</span><br>
<span class="lineno"></span><span class="op" id="3713772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span><span class="comment" id="3713775">//&nbsp;stateNu&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`nu`.</span><br>
<span class="lineno"></span><span class="keyword" id="3713819">func</span>&nbsp;<span class="ident" id="3713824">stateNu</span><span class="op" id="3713831">(</span><span class="ident" id="3713832">s</span>&nbsp;<span class="op" id="3713834">*</span><span class="ident" id="3713835"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3713842">,</span>&nbsp;<span class="ident" id="3713844">c</span>&nbsp;<span class="builtintype" id="3713846">int</span><span class="op" id="3713849">)</span>&nbsp;<span class="builtintype" id="3713851">int</span>&nbsp;<span class="op" id="3713855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713858">if</span>&nbsp;<span class="ident" id="3713861"><a href="/encoding/json/scanner.go.html#3713844">c</a></span>&nbsp;<span class="op" id="3713863">==</span>&nbsp;<span class="string" id="3713866">&#39;l&#39;</span>&nbsp;<span class="op" id="3713870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3713874"><a href="/encoding/json/scanner.go.html#3713832">s</a></span><span class="op" id="3713875">.</span><span class="ident" id="3713876">step</span>&nbsp;<span class="op" id="3713881">=</span>&nbsp;<span class="ident" id="3713883"><a href="/encoding/json/scanner.go.html#3714025">stateNul</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713894">return</span>&nbsp;<span class="ident" id="3713901"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3713915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3713918">return</span>&nbsp;<span class="ident" id="3713925"><a href="/encoding/json/scanner.go.html#3713832">s</a></span><span class="op" id="3713926">.</span><span class="builtintype" id="3713927">error</span><span class="op" id="3713932">(</span><span class="ident" id="3713933"><a href="/encoding/json/scanner.go.html#3713844">c</a></span><span class="op" id="3713934">,</span>&nbsp;<span class="string" id="3713936">&#34;in&nbsp;literal&nbsp;null&nbsp;(expecting&nbsp;&#39;l&#39;)&#34;</span><span class="op" id="3713969">)</span><br>
<span class="lineno"></span><span class="op" id="3713971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3713974">//&nbsp;stateNul&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reading&nbsp;`nul`.</span><br>
<span class="lineno">570</span><span class="keyword" id="3714020">func</span>&nbsp;<span class="ident" id="3714025">stateNul</span><span class="op" id="3714033">(</span><span class="ident" id="3714034">s</span>&nbsp;<span class="op" id="3714036">*</span><span class="ident" id="3714037"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3714044">,</span>&nbsp;<span class="ident" id="3714046">c</span>&nbsp;<span class="builtintype" id="3714048">int</span><span class="op" id="3714051">)</span>&nbsp;<span class="builtintype" id="3714053">int</span>&nbsp;<span class="op" id="3714057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714060">if</span>&nbsp;<span class="ident" id="3714063"><a href="/encoding/json/scanner.go.html#3714046">c</a></span>&nbsp;<span class="op" id="3714065">==</span>&nbsp;<span class="string" id="3714068">&#39;l&#39;</span>&nbsp;<span class="op" id="3714072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3714076"><a href="/encoding/json/scanner.go.html#3714034">s</a></span><span class="op" id="3714077">.</span><span class="ident" id="3714078">step</span>&nbsp;<span class="op" id="3714083">=</span>&nbsp;<span class="ident" id="3714085"><a href="/encoding/json/scanner.go.html#3706494">stateEndValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714101">return</span>&nbsp;<span class="ident" id="3714108"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3714122">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714125">return</span>&nbsp;<span class="ident" id="3714132"><a href="/encoding/json/scanner.go.html#3714034">s</a></span><span class="op" id="3714133">.</span><span class="builtintype" id="3714134">error</span><span class="op" id="3714139">(</span><span class="ident" id="3714140"><a href="/encoding/json/scanner.go.html#3714046">c</a></span><span class="op" id="3714141">,</span>&nbsp;<span class="string" id="3714143">&#34;in&nbsp;literal&nbsp;null&nbsp;(expecting&nbsp;&#39;l&#39;)&#34;</span><span class="op" id="3714176">)</span><br>
<span class="lineno"></span><span class="op" id="3714178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3714181">//&nbsp;stateError&nbsp;is&nbsp;the&nbsp;state&nbsp;after&nbsp;reaching&nbsp;a&nbsp;syntax&nbsp;error,</span><br>
<span class="lineno"></span><span class="comment" id="3714239">//&nbsp;such&nbsp;as&nbsp;after&nbsp;reading&nbsp;`[1}`&nbsp;or&nbsp;`5.1.2`.</span><br>
<span class="lineno">580</span><span class="keyword" id="3714282">func</span>&nbsp;<span class="ident" id="3714287">stateError</span><span class="op" id="3714297">(</span><span class="ident" id="3714298">s</span>&nbsp;<span class="op" id="3714300">*</span><span class="ident" id="3714301"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3714308">,</span>&nbsp;<span class="ident" id="3714310">c</span>&nbsp;<span class="builtintype" id="3714312">int</span><span class="op" id="3714315">)</span>&nbsp;<span class="builtintype" id="3714317">int</span>&nbsp;<span class="op" id="3714321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714324">return</span>&nbsp;<span class="ident" id="3714331"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span><br>
<span class="lineno"></span><span class="op" id="3714341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3714344">//&nbsp;error&nbsp;records&nbsp;an&nbsp;error&nbsp;and&nbsp;switches&nbsp;to&nbsp;the&nbsp;error&nbsp;state.</span><br>
<span class="lineno">585</span><span class="keyword" id="3714403">func</span>&nbsp;<span class="op" id="3714408">(</span><span class="ident" id="3714409">s</span>&nbsp;<span class="op" id="3714411">*</span><span class="ident" id="3714412"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3714419">)</span>&nbsp;<span class="builtintype" id="3714421">error</span><span class="op" id="3714426">(</span><span class="ident" id="3714427">c</span>&nbsp;<span class="builtintype" id="3714429">int</span><span class="op" id="3714432">,</span>&nbsp;<span class="ident" id="3714434">context</span>&nbsp;<span class="builtintype" id="3714442">string</span><span class="op" id="3714448">)</span>&nbsp;<span class="builtintype" id="3714450">int</span>&nbsp;<span class="op" id="3714454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3714457"><a href="/encoding/json/scanner.go.html#3714409">s</a></span><span class="op" id="3714458">.</span><span class="ident" id="3714459">step</span>&nbsp;<span class="op" id="3714464">=</span>&nbsp;<span class="ident" id="3714466"><a href="/encoding/json/scanner.go.html#3714287">stateError</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3714478"><a href="/encoding/json/scanner.go.html#3714409">s</a></span><span class="op" id="3714479">.</span><span class="ident" id="3714480">err</span>&nbsp;<span class="op" id="3714484">=</span>&nbsp;<span class="op" id="3714486">&amp;</span><span class="ident" id="3714487"><a href="/encoding/json/scanner.go.html#3700296">SyntaxError</a></span><span class="op" id="3714498">{</span><span class="string" id="3714499">&#34;invalid&nbsp;character&nbsp;&#34;</span>&nbsp;<span class="op" id="3714520">+</span>&nbsp;<span class="ident" id="3714522"><a href="/encoding/json/scanner.go.html#3714640">quoteChar</a></span><span class="op" id="3714531">(</span><span class="ident" id="3714532"><a href="/encoding/json/scanner.go.html#3714427">c</a></span><span class="op" id="3714533">)</span>&nbsp;<span class="op" id="3714535">+</span>&nbsp;<span class="string" id="3714537">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="3714541">+</span>&nbsp;<span class="ident" id="3714543"><a href="/encoding/json/scanner.go.html#3714434">context</a></span><span class="op" id="3714550">,</span>&nbsp;<span class="ident" id="3714552"><a href="/encoding/json/scanner.go.html#3714409">s</a></span><span class="op" id="3714553">.</span><span class="ident" id="3714554">bytes</span><span class="op" id="3714559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714562">return</span>&nbsp;<span class="ident" id="3714569"><a href="/encoding/json/scanner.go.html#3702919">scanError</a></span><br>
<span class="lineno"></span><span class="op" id="3714579">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3714582">//&nbsp;quoteChar&nbsp;formats&nbsp;c&nbsp;as&nbsp;a&nbsp;quoted&nbsp;character&nbsp;literal</span><br>
<span class="lineno"></span><span class="keyword" id="3714635">func</span>&nbsp;<span class="ident" id="3714640">quoteChar</span><span class="op" id="3714649">(</span><span class="ident" id="3714650">c</span>&nbsp;<span class="builtintype" id="3714652">int</span><span class="op" id="3714655">)</span>&nbsp;<span class="builtintype" id="3714657">string</span>&nbsp;<span class="op" id="3714664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3714667">//&nbsp;special&nbsp;cases&nbsp;-&nbsp;different&nbsp;from&nbsp;quoted&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714717">if</span>&nbsp;<span class="ident" id="3714720"><a href="/encoding/json/scanner.go.html#3714650">c</a></span>&nbsp;<span class="op" id="3714722">==</span>&nbsp;<span class="string" id="3714725">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="3714730">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714734">return</span>&nbsp;<span class="string" id="3714741">`&#39;\&#39;&#39;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3714749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714752">if</span>&nbsp;<span class="ident" id="3714755"><a href="/encoding/json/scanner.go.html#3714650">c</a></span>&nbsp;<span class="op" id="3714757">==</span>&nbsp;<span class="string" id="3714760">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3714764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714768">return</span>&nbsp;<span class="string" id="3714775">`&#39;&#34;&#39;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3714782">}</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3714786">//&nbsp;use&nbsp;quoted&nbsp;string&nbsp;with&nbsp;different&nbsp;quotation&nbsp;marks</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3714839">s</span>&nbsp;<span class="op" id="3714841">:=</span>&nbsp;<span class="ident" id="3714844"><a href="/encoding/json/scanner.go.html#3699271">strconv</a></span><span class="op" id="3714851">.</span><span class="ident" id="3714852">Quote</span><span class="op" id="3714857">(</span><span class="builtintype" id="3714858">string</span><span class="op" id="3714864">(</span><span class="ident" id="3714865"><a href="/encoding/json/scanner.go.html#3714650">c</a></span><span class="op" id="3714866">)</span><span class="op" id="3714867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3714870">return</span>&nbsp;<span class="string" id="3714877">&#34;&#39;&#34;</span>&nbsp;<span class="op" id="3714881">+</span>&nbsp;<span class="ident" id="3714883"><a href="/encoding/json/scanner.go.html#3714839">s</a></span><span class="op" id="3714884">[</span><span class="num" id="3714885">1</span><span class="op" id="3714886">:</span><span class="builtinfunc" id="3714887">len</span><span class="op" id="3714890">(</span><span class="ident" id="3714891"><a href="/encoding/json/scanner.go.html#3714839">s</a></span><span class="op" id="3714892">)</span><span class="op" id="3714893">-</span><span class="num" id="3714894">1</span><span class="op" id="3714895">]</span>&nbsp;<span class="op" id="3714897">+</span>&nbsp;<span class="string" id="3714899">&#34;&#39;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3714903">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span><span class="comment" id="3714906">//&nbsp;undo&nbsp;causes&nbsp;the&nbsp;scanner&nbsp;to&nbsp;return&nbsp;scanCode&nbsp;from&nbsp;the&nbsp;next&nbsp;state&nbsp;transition.</span><br>
<span class="lineno"></span><span class="comment" id="3714984">//&nbsp;This&nbsp;gives&nbsp;callers&nbsp;a&nbsp;simple&nbsp;1-byte&nbsp;undo&nbsp;mechanism.</span><br>
<span class="lineno"></span><span class="keyword" id="3715038">func</span>&nbsp;<span class="op" id="3715043">(</span><span class="ident" id="3715044">s</span>&nbsp;<span class="op" id="3715046">*</span><span class="ident" id="3715047"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3715054">)</span>&nbsp;<span class="ident" id="3715056">undo</span><span class="op" id="3715060">(</span><span class="ident" id="3715061">scanCode</span>&nbsp;<span class="builtintype" id="3715070">int</span><span class="op" id="3715073">)</span>&nbsp;<span class="op" id="3715075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3715078">if</span>&nbsp;<span class="ident" id="3715081"><a href="/encoding/json/scanner.go.html#3715044">s</a></span><span class="op" id="3715082">.</span><span class="ident" id="3715083">redo</span>&nbsp;<span class="op" id="3715088">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3715092">panic</span><span class="op" id="3715097">(</span><span class="string" id="3715098">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;scanner&#34;</span><span class="op" id="3715128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3715131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3715134"><a href="/encoding/json/scanner.go.html#3715044">s</a></span><span class="op" id="3715135">.</span><span class="ident" id="3715136">redoCode</span>&nbsp;<span class="op" id="3715145">=</span>&nbsp;<span class="ident" id="3715147"><a href="/encoding/json/scanner.go.html#3715061">scanCode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3715157"><a href="/encoding/json/scanner.go.html#3715044">s</a></span><span class="op" id="3715158">.</span><span class="ident" id="3715159">redoState</span>&nbsp;<span class="op" id="3715169">=</span>&nbsp;<span class="ident" id="3715171"><a href="/encoding/json/scanner.go.html#3715044">s</a></span><span class="op" id="3715172">.</span><span class="ident" id="3715173">step</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3715179"><a href="/encoding/json/scanner.go.html#3715044">s</a></span><span class="op" id="3715180">.</span><span class="ident" id="3715181">step</span>&nbsp;<span class="op" id="3715186">=</span>&nbsp;<span class="ident" id="3715188"><a href="/encoding/json/scanner.go.html#3715277">stateRedo</a></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3715199"><a href="/encoding/json/scanner.go.html#3715044">s</a></span><span class="op" id="3715200">.</span><span class="ident" id="3715201">redo</span>&nbsp;<span class="op" id="3715206">=</span>&nbsp;<span class="ident" id="3715208">true</span><br>
<span class="lineno"></span><span class="op" id="3715213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3715216">//&nbsp;stateRedo&nbsp;helps&nbsp;implement&nbsp;the&nbsp;scanner&#39;s&nbsp;1-byte&nbsp;undo.</span><br>
<span class="lineno"></span><span class="keyword" id="3715272">func</span>&nbsp;<span class="ident" id="3715277">stateRedo</span><span class="op" id="3715286">(</span><span class="ident" id="3715287">s</span>&nbsp;<span class="op" id="3715289">*</span><span class="ident" id="3715290"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><span class="op" id="3715297">,</span>&nbsp;<span class="ident" id="3715299">c</span>&nbsp;<span class="builtintype" id="3715301">int</span><span class="op" id="3715304">)</span>&nbsp;<span class="builtintype" id="3715306">int</span>&nbsp;<span class="op" id="3715310">{</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3715313"><a href="/encoding/json/scanner.go.html#3715287">s</a></span><span class="op" id="3715314">.</span><span class="ident" id="3715315">redo</span>&nbsp;<span class="op" id="3715320">=</span>&nbsp;<span class="ident" id="3715322">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3715329"><a href="/encoding/json/scanner.go.html#3715287">s</a></span><span class="op" id="3715330">.</span><span class="ident" id="3715331">step</span>&nbsp;<span class="op" id="3715336">=</span>&nbsp;<span class="ident" id="3715338"><a href="/encoding/json/scanner.go.html#3715287">s</a></span><span class="op" id="3715339">.</span><span class="ident" id="3715340">redoState</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3715351">return</span>&nbsp;<span class="ident" id="3715358"><a href="/encoding/json/scanner.go.html#3715287">s</a></span><span class="op" id="3715359">.</span><span class="ident" id="3715360">redoCode</span><br>
<span class="lineno"></span><span class="op" id="3715369">}</span>
</div>
</body>
</html>
