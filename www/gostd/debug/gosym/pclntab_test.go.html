<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6882109">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6882165">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6882219">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6882270">package</span>&nbsp;<span class="ident" id="6882278">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882285">import</span>&nbsp;<span class="op" id="6882292">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882295">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882308">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882315">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882328">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882334">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882345">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882362">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882373">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6882384">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6882394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882397">var</span>&nbsp;<span class="op" id="6882401">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882404">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6882421">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882429">pclinetestBinary</span>&nbsp;<span class="builtintype" id="6882446">string</span><br>
<span class="lineno"></span><span class="op" id="6882453">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882456">func</span>&nbsp;<span class="ident" id="6882461">dotest</span><span class="op" id="6882467">(</span><span class="ident" id="6882468">self</span>&nbsp;<span class="builtintype" id="6882473">bool</span><span class="op" id="6882477">)</span>&nbsp;<span class="builtintype" id="6882479">bool</span>&nbsp;<span class="op" id="6882484">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6882487">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882531">if</span>&nbsp;<span class="ident" id="6882534">runtime</span><span class="op" id="6882541">.</span><span class="ident" id="6882542">GOARCH</span>&nbsp;<span class="op" id="6882549">!=</span>&nbsp;<span class="string" id="6882552">&#34;amd64&#34;</span>&nbsp;<span class="op" id="6882560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882564">return</span>&nbsp;<span class="builtintype" id="6882571">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6882581">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882635">if</span>&nbsp;<span class="ident" id="6882638">self</span>&nbsp;<span class="op" id="6882643">&amp;&amp;</span>&nbsp;<span class="ident" id="6882646">runtime</span><span class="op" id="6882653">.</span><span class="ident" id="6882654">GOOS</span>&nbsp;<span class="op" id="6882659">!=</span>&nbsp;<span class="string" id="6882662">&#34;linux&#34;</span>&nbsp;<span class="op" id="6882670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882674">return</span>&nbsp;<span class="builtintype" id="6882681">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6882691">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882732">if</span>&nbsp;<span class="ident" id="6882735">runtime</span><span class="op" id="6882742">.</span><span class="ident" id="6882743">GOOS</span>&nbsp;<span class="op" id="6882748">==</span>&nbsp;<span class="string" id="6882751">&#34;windows&#34;</span>&nbsp;<span class="op" id="6882761">||</span>&nbsp;<span class="ident" id="6882764">runtime</span><span class="op" id="6882771">.</span><span class="ident" id="6882772">GOOS</span>&nbsp;<span class="op" id="6882777">==</span>&nbsp;<span class="string" id="6882780">&#34;plan9&#34;</span>&nbsp;<span class="op" id="6882788">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882792">return</span>&nbsp;<span class="builtintype" id="6882799">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882809">if</span>&nbsp;<span class="ident" id="6882812">pclinetestBinary</span>&nbsp;<span class="op" id="6882829">!=</span>&nbsp;<span class="string" id="6882832">&#34;&#34;</span>&nbsp;<span class="op" id="6882835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882839">return</span>&nbsp;<span class="builtintype" id="6882846">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882852">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882855">var</span>&nbsp;<span class="ident" id="6882859">err</span>&nbsp;<span class="builtintype" id="6882863">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882870">pclineTempDir</span><span class="op" id="6882883">,</span>&nbsp;<span class="ident" id="6882885">err</span>&nbsp;<span class="op" id="6882889">=</span>&nbsp;<span class="ident" id="6882891">ioutil</span><span class="op" id="6882897">.</span><span class="ident" id="6882898">TempDir</span><span class="op" id="6882905">(</span><span class="string" id="6882906">&#34;&#34;</span><span class="op" id="6882908">,</span>&nbsp;<span class="string" id="6882910">&#34;pclinetest&#34;</span><span class="op" id="6882922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882925">if</span>&nbsp;<span class="ident" id="6882928">err</span>&nbsp;<span class="op" id="6882932">!=</span>&nbsp;<span class="ident" id="6882935">nil</span>&nbsp;<span class="op" id="6882939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6882943">panic</span><span class="op" id="6882948">(</span><span class="ident" id="6882949">err</span><span class="op" id="6882952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882955">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882958">if</span>&nbsp;<span class="ident" id="6882961">strings</span><span class="op" id="6882968">.</span><span class="ident" id="6882969">Contains</span><span class="op" id="6882977">(</span><span class="ident" id="6882978">pclineTempDir</span><span class="op" id="6882991">,</span>&nbsp;<span class="string" id="6882993">&#34;&nbsp;&#34;</span><span class="op" id="6882996">)</span>&nbsp;<span class="op" id="6882998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6883002">panic</span><span class="op" id="6883007">(</span><span class="string" id="6883008">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="6883037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6883043">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6883099">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6883167">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883228">pclinetestBinary</span>&nbsp;<span class="op" id="6883245">=</span>&nbsp;<span class="ident" id="6883247">filepath</span><span class="op" id="6883255">.</span><span class="ident" id="6883256">Join</span><span class="op" id="6883260">(</span><span class="ident" id="6883261">pclineTempDir</span><span class="op" id="6883274">,</span>&nbsp;<span class="string" id="6883276">&#34;pclinetest&#34;</span><span class="op" id="6883288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883291">command</span>&nbsp;<span class="op" id="6883299">:=</span>&nbsp;<span class="ident" id="6883302">fmt</span><span class="op" id="6883305">.</span><span class="ident" id="6883306">Sprintf</span><span class="op" id="6883313">(</span><span class="string" id="6883314">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="6883391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883395">pclinetestBinary</span><span class="op" id="6883411">,</span>&nbsp;<span class="ident" id="6883413">pclinetestBinary</span><span class="op" id="6883429">,</span>&nbsp;<span class="ident" id="6883431">pclinetestBinary</span><span class="op" id="6883447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883450">cmd</span>&nbsp;<span class="op" id="6883454">:=</span>&nbsp;<span class="ident" id="6883457">exec</span><span class="op" id="6883461">.</span><span class="ident" id="6883462">Command</span><span class="op" id="6883469">(</span><span class="string" id="6883470">&#34;sh&#34;</span><span class="op" id="6883474">,</span>&nbsp;<span class="string" id="6883476">&#34;-c&#34;</span><span class="op" id="6883480">,</span>&nbsp;<span class="ident" id="6883482">command</span><span class="op" id="6883489">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883492">cmd</span><span class="op" id="6883495">.</span><span class="ident" id="6883496">Stdout</span>&nbsp;<span class="op" id="6883503">=</span>&nbsp;<span class="ident" id="6883505">os</span><span class="op" id="6883507">.</span><span class="ident" id="6883508">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883516">cmd</span><span class="op" id="6883519">.</span><span class="ident" id="6883520">Stderr</span>&nbsp;<span class="op" id="6883527">=</span>&nbsp;<span class="ident" id="6883529">os</span><span class="op" id="6883531">.</span><span class="ident" id="6883532">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883540">if</span>&nbsp;<span class="ident" id="6883543">err</span>&nbsp;<span class="op" id="6883547">:=</span>&nbsp;<span class="ident" id="6883550">cmd</span><span class="op" id="6883553">.</span><span class="ident" id="6883554">Run</span><span class="op" id="6883557">(</span><span class="op" id="6883558">)</span><span class="op" id="6883559">;</span>&nbsp;<span class="ident" id="6883561">err</span>&nbsp;<span class="op" id="6883565">!=</span>&nbsp;<span class="ident" id="6883568">nil</span>&nbsp;<span class="op" id="6883572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6883576">panic</span><span class="op" id="6883581">(</span><span class="ident" id="6883582">err</span><span class="op" id="6883585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883588">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883591">return</span>&nbsp;<span class="builtintype" id="6883598">true</span><br>
<span class="lineno"></span><span class="op" id="6883603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883606">func</span>&nbsp;<span class="ident" id="6883611">endtest</span><span class="op" id="6883618">(</span><span class="op" id="6883619">)</span>&nbsp;<span class="op" id="6883621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883624">if</span>&nbsp;<span class="ident" id="6883627">pclineTempDir</span>&nbsp;<span class="op" id="6883641">!=</span>&nbsp;<span class="string" id="6883644">&#34;&#34;</span>&nbsp;<span class="op" id="6883647">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883651">os</span><span class="op" id="6883653">.</span><span class="ident" id="6883654">RemoveAll</span><span class="op" id="6883663">(</span><span class="ident" id="6883664">pclineTempDir</span><span class="op" id="6883677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883681">pclineTempDir</span>&nbsp;<span class="op" id="6883695">=</span>&nbsp;<span class="string" id="6883697">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883702">pclinetestBinary</span>&nbsp;<span class="op" id="6883719">=</span>&nbsp;<span class="string" id="6883721">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883725">}</span><br>
<span class="lineno"></span><span class="op" id="6883727">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6883730">func</span>&nbsp;<span class="ident" id="6883735">getTable</span><span class="op" id="6883743">(</span><span class="ident" id="6883744">t</span>&nbsp;<span class="op" id="6883746">*</span><span class="ident" id="6883747">testing</span><span class="op" id="6883754">.</span><span class="ident" id="6883755">T</span><span class="op" id="6883756">)</span>&nbsp;<span class="op" id="6883758">*</span><span class="ident" id="6883759">Table</span>&nbsp;<span class="op" id="6883765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883768">f</span><span class="op" id="6883769">,</span>&nbsp;<span class="ident" id="6883771">tab</span>&nbsp;<span class="op" id="6883775">:=</span>&nbsp;<span class="ident" id="6883778">crack</span><span class="op" id="6883783">(</span><span class="ident" id="6883784">os</span><span class="op" id="6883786">.</span><span class="ident" id="6883787">Args</span><span class="op" id="6883791">[</span><span class="num" id="6883792">0</span><span class="op" id="6883793">]</span><span class="op" id="6883794">,</span>&nbsp;<span class="ident" id="6883796">t</span><span class="op" id="6883797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883800">f</span><span class="op" id="6883801">.</span><span class="ident" id="6883802">Close</span><span class="op" id="6883807">(</span><span class="op" id="6883808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883811">return</span>&nbsp;<span class="ident" id="6883818">tab</span><br>
<span class="lineno">75</span><span class="op" id="6883822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883825">func</span>&nbsp;<span class="ident" id="6883830">crack</span><span class="op" id="6883835">(</span><span class="ident" id="6883836">file</span>&nbsp;<span class="builtintype" id="6883841">string</span><span class="op" id="6883847">,</span>&nbsp;<span class="ident" id="6883849">t</span>&nbsp;<span class="op" id="6883851">*</span><span class="ident" id="6883852">testing</span><span class="op" id="6883859">.</span><span class="ident" id="6883860">T</span><span class="op" id="6883861">)</span>&nbsp;<span class="op" id="6883863">(</span><span class="op" id="6883864">*</span><span class="ident" id="6883865">elf</span><span class="op" id="6883868">.</span><span class="ident" id="6883869">File</span><span class="op" id="6883873">,</span>&nbsp;<span class="op" id="6883875">*</span><span class="ident" id="6883876">Table</span><span class="op" id="6883881">)</span>&nbsp;<span class="op" id="6883883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6883886">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883900">f</span><span class="op" id="6883901">,</span>&nbsp;<span class="ident" id="6883903">err</span>&nbsp;<span class="op" id="6883907">:=</span>&nbsp;<span class="ident" id="6883910">elf</span><span class="op" id="6883913">.</span><span class="ident" id="6883914">Open</span><span class="op" id="6883918">(</span><span class="ident" id="6883919">file</span><span class="op" id="6883923">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883926">if</span>&nbsp;<span class="ident" id="6883929">err</span>&nbsp;<span class="op" id="6883933">!=</span>&nbsp;<span class="ident" id="6883936">nil</span>&nbsp;<span class="op" id="6883940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883944">t</span><span class="op" id="6883945">.</span><span class="ident" id="6883946">Fatal</span><span class="op" id="6883951">(</span><span class="ident" id="6883952">err</span><span class="op" id="6883955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883961">return</span>&nbsp;<span class="ident" id="6883968">parse</span><span class="op" id="6883973">(</span><span class="ident" id="6883974">file</span><span class="op" id="6883978">,</span>&nbsp;<span class="ident" id="6883980">f</span><span class="op" id="6883981">,</span>&nbsp;<span class="ident" id="6883983">t</span><span class="op" id="6883984">)</span><br>
<span class="lineno"></span><span class="op" id="6883986">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="6883989">func</span>&nbsp;<span class="ident" id="6883994">parse</span><span class="op" id="6883999">(</span><span class="ident" id="6884000">file</span>&nbsp;<span class="builtintype" id="6884005">string</span><span class="op" id="6884011">,</span>&nbsp;<span class="ident" id="6884013">f</span>&nbsp;<span class="op" id="6884015">*</span><span class="ident" id="6884016">elf</span><span class="op" id="6884019">.</span><span class="ident" id="6884020">File</span><span class="op" id="6884024">,</span>&nbsp;<span class="ident" id="6884026">t</span>&nbsp;<span class="op" id="6884028">*</span><span class="ident" id="6884029">testing</span><span class="op" id="6884036">.</span><span class="ident" id="6884037">T</span><span class="op" id="6884038">)</span>&nbsp;<span class="op" id="6884040">(</span><span class="op" id="6884041">*</span><span class="ident" id="6884042">elf</span><span class="op" id="6884045">.</span><span class="ident" id="6884046">File</span><span class="op" id="6884050">,</span>&nbsp;<span class="op" id="6884052">*</span><span class="ident" id="6884053">Table</span><span class="op" id="6884058">)</span>&nbsp;<span class="op" id="6884060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884063">symdat</span><span class="op" id="6884069">,</span>&nbsp;<span class="ident" id="6884071">err</span>&nbsp;<span class="op" id="6884075">:=</span>&nbsp;<span class="ident" id="6884078">f</span><span class="op" id="6884079">.</span><span class="ident" id="6884080">Section</span><span class="op" id="6884087">(</span><span class="string" id="6884088">&#34;.gosymtab&#34;</span><span class="op" id="6884099">)</span><span class="op" id="6884100">.</span><span class="ident" id="6884101">Data</span><span class="op" id="6884105">(</span><span class="op" id="6884106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884109">if</span>&nbsp;<span class="ident" id="6884112">err</span>&nbsp;<span class="op" id="6884116">!=</span>&nbsp;<span class="ident" id="6884119">nil</span>&nbsp;<span class="op" id="6884123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884127">f</span><span class="op" id="6884128">.</span><span class="ident" id="6884129">Close</span><span class="op" id="6884134">(</span><span class="op" id="6884135">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884139">t</span><span class="op" id="6884140">.</span><span class="ident" id="6884141">Fatalf</span><span class="op" id="6884147">(</span><span class="string" id="6884148">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="6884173">,</span>&nbsp;<span class="ident" id="6884175">file</span><span class="op" id="6884179">,</span>&nbsp;<span class="ident" id="6884181">err</span><span class="op" id="6884184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884190">pclndat</span><span class="op" id="6884197">,</span>&nbsp;<span class="ident" id="6884199">err</span>&nbsp;<span class="op" id="6884203">:=</span>&nbsp;<span class="ident" id="6884206">f</span><span class="op" id="6884207">.</span><span class="ident" id="6884208">Section</span><span class="op" id="6884215">(</span><span class="string" id="6884216">&#34;.gopclntab&#34;</span><span class="op" id="6884228">)</span><span class="op" id="6884229">.</span><span class="ident" id="6884230">Data</span><span class="op" id="6884234">(</span><span class="op" id="6884235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884238">if</span>&nbsp;<span class="ident" id="6884241">err</span>&nbsp;<span class="op" id="6884245">!=</span>&nbsp;<span class="ident" id="6884248">nil</span>&nbsp;<span class="op" id="6884252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884256">f</span><span class="op" id="6884257">.</span><span class="ident" id="6884258">Close</span><span class="op" id="6884263">(</span><span class="op" id="6884264">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884268">t</span><span class="op" id="6884269">.</span><span class="ident" id="6884270">Fatalf</span><span class="op" id="6884276">(</span><span class="string" id="6884277">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="6884303">,</span>&nbsp;<span class="ident" id="6884305">file</span><span class="op" id="6884309">,</span>&nbsp;<span class="ident" id="6884311">err</span><span class="op" id="6884314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884321">pcln</span>&nbsp;<span class="op" id="6884326">:=</span>&nbsp;<span class="ident" id="6884329">NewLineTable</span><span class="op" id="6884341">(</span><span class="ident" id="6884342">pclndat</span><span class="op" id="6884349">,</span>&nbsp;<span class="ident" id="6884351">f</span><span class="op" id="6884352">.</span><span class="ident" id="6884353">Section</span><span class="op" id="6884360">(</span><span class="string" id="6884361">&#34;.text&#34;</span><span class="op" id="6884368">)</span><span class="op" id="6884369">.</span><span class="ident" id="6884370">Addr</span><span class="op" id="6884374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884377">tab</span><span class="op" id="6884380">,</span>&nbsp;<span class="ident" id="6884382">err</span>&nbsp;<span class="op" id="6884386">:=</span>&nbsp;<span class="ident" id="6884389">NewTable</span><span class="op" id="6884397">(</span><span class="ident" id="6884398">symdat</span><span class="op" id="6884404">,</span>&nbsp;<span class="ident" id="6884406">pcln</span><span class="op" id="6884410">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884413">if</span>&nbsp;<span class="ident" id="6884416">err</span>&nbsp;<span class="op" id="6884420">!=</span>&nbsp;<span class="ident" id="6884423">nil</span>&nbsp;<span class="op" id="6884427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884431">f</span><span class="op" id="6884432">.</span><span class="ident" id="6884433">Close</span><span class="op" id="6884438">(</span><span class="op" id="6884439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884443">t</span><span class="op" id="6884444">.</span><span class="ident" id="6884445">Fatalf</span><span class="op" id="6884451">(</span><span class="string" id="6884452">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="6884477">,</span>&nbsp;<span class="ident" id="6884479">file</span><span class="op" id="6884483">,</span>&nbsp;<span class="ident" id="6884485">err</span><span class="op" id="6884488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884495">return</span>&nbsp;<span class="ident" id="6884502">f</span><span class="op" id="6884503">,</span>&nbsp;<span class="ident" id="6884505">tab</span><br>
<span class="lineno"></span><span class="op" id="6884509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6884512">var</span>&nbsp;<span class="ident" id="6884516">goarch</span>&nbsp;<span class="op" id="6884523">=</span>&nbsp;<span class="ident" id="6884525">os</span><span class="op" id="6884527">.</span><span class="ident" id="6884528">Getenv</span><span class="op" id="6884534">(</span><span class="string" id="6884535">&#34;O&#34;</span><span class="op" id="6884538">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6884541">func</span>&nbsp;<span class="ident" id="6884546">TestLineFromAline</span><span class="op" id="6884563">(</span><span class="ident" id="6884564">t</span>&nbsp;<span class="op" id="6884566">*</span><span class="ident" id="6884567">testing</span><span class="op" id="6884574">.</span><span class="ident" id="6884575">T</span><span class="op" id="6884576">)</span>&nbsp;<span class="op" id="6884578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884581">if</span>&nbsp;<span class="op" id="6884584">!</span><span class="ident" id="6884585">dotest</span><span class="op" id="6884591">(</span><span class="builtintype" id="6884592">true</span><span class="op" id="6884596">)</span>&nbsp;<span class="op" id="6884598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884602">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884613">defer</span>&nbsp;<span class="ident" id="6884619">endtest</span><span class="op" id="6884626">(</span><span class="op" id="6884627">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884631">tab</span>&nbsp;<span class="op" id="6884635">:=</span>&nbsp;<span class="ident" id="6884638">getTable</span><span class="op" id="6884646">(</span><span class="ident" id="6884647">t</span><span class="op" id="6884648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884651">if</span>&nbsp;<span class="ident" id="6884654">tab</span><span class="op" id="6884657">.</span><span class="ident" id="6884658">go12line</span>&nbsp;<span class="op" id="6884667">!=</span>&nbsp;<span class="ident" id="6884670">nil</span>&nbsp;<span class="op" id="6884674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6884678">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884724">t</span><span class="op" id="6884725">.</span><span class="ident" id="6884726">Skip</span><span class="op" id="6884730">(</span><span class="string" id="6884731">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="6884768">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6884775">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884800">pkg</span>&nbsp;<span class="op" id="6884804">:=</span>&nbsp;<span class="ident" id="6884807">tab</span><span class="op" id="6884810">.</span><span class="ident" id="6884811">LookupFunc</span><span class="op" id="6884821">(</span><span class="string" id="6884822">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="6884853">)</span><span class="op" id="6884854">.</span><span class="ident" id="6884855">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6884860">if</span>&nbsp;<span class="ident" id="6884863">pkg</span>&nbsp;<span class="op" id="6884867">==</span>&nbsp;<span class="ident" id="6884870">nil</span>&nbsp;<span class="op" id="6884874">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884878">t</span><span class="op" id="6884879">.</span><span class="ident" id="6884880">Fatalf</span><span class="op" id="6884886">(</span><span class="string" id="6884887">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="6884896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6884899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6884903">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6884961">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6884991">lastline</span>&nbsp;<span class="op" id="6885000">:=</span>&nbsp;<span class="builtinfunc" id="6885003">make</span><span class="op" id="6885007">(</span><span class="keyword" id="6885008">map</span><span class="op" id="6885011">[</span><span class="builtintype" id="6885012">string</span><span class="op" id="6885018">]</span><span class="builtintype" id="6885019">int</span><span class="op" id="6885022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885025">final</span>&nbsp;<span class="op" id="6885031">:=</span>&nbsp;<span class="op" id="6885034">-</span><span class="num" id="6885035">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885038">for</span>&nbsp;<span class="ident" id="6885042">i</span>&nbsp;<span class="op" id="6885044">:=</span>&nbsp;<span class="num" id="6885047">0</span><span class="op" id="6885048">;</span>&nbsp;<span class="ident" id="6885050">i</span>&nbsp;<span class="op" id="6885052">&lt;</span>&nbsp;<span class="num" id="6885054">10000</span><span class="op" id="6885059">;</span>&nbsp;<span class="ident" id="6885061">i</span><span class="op" id="6885062">++</span>&nbsp;<span class="op" id="6885065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885069">path</span><span class="op" id="6885073">,</span>&nbsp;<span class="ident" id="6885075">line</span>&nbsp;<span class="op" id="6885080">:=</span>&nbsp;<span class="ident" id="6885083">pkg</span><span class="op" id="6885086">.</span><span class="ident" id="6885087">lineFromAline</span><span class="op" id="6885100">(</span><span class="ident" id="6885101">i</span><span class="op" id="6885102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6885106">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885135">if</span>&nbsp;<span class="ident" id="6885138">path</span>&nbsp;<span class="op" id="6885143">==</span>&nbsp;<span class="string" id="6885146">&#34;&#34;</span>&nbsp;<span class="op" id="6885149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885154">if</span>&nbsp;<span class="ident" id="6885157">final</span>&nbsp;<span class="op" id="6885163">==</span>&nbsp;<span class="op" id="6885166">-</span><span class="num" id="6885167">1</span>&nbsp;<span class="op" id="6885169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885175">final</span>&nbsp;<span class="op" id="6885181">=</span>&nbsp;<span class="ident" id="6885183">i</span>&nbsp;<span class="op" id="6885185">-</span>&nbsp;<span class="num" id="6885187">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885197">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885208">}</span>&nbsp;<span class="keyword" id="6885210">else</span>&nbsp;<span class="keyword" id="6885215">if</span>&nbsp;<span class="ident" id="6885218">final</span>&nbsp;<span class="op" id="6885224">!=</span>&nbsp;<span class="op" id="6885227">-</span><span class="num" id="6885228">1</span>&nbsp;<span class="op" id="6885230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885235">t</span><span class="op" id="6885236">.</span><span class="ident" id="6885237">Fatalf</span><span class="op" id="6885243">(</span><span class="string" id="6885244">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="6885326">,</span>&nbsp;<span class="ident" id="6885328">final</span><span class="op" id="6885333">,</span>&nbsp;<span class="ident" id="6885335">i</span><span class="op" id="6885336">,</span>&nbsp;<span class="ident" id="6885338">path</span><span class="op" id="6885342">,</span>&nbsp;<span class="ident" id="6885344">line</span><span class="op" id="6885348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6885356">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885413">if</span>&nbsp;<span class="ident" id="6885416">line</span>&nbsp;<span class="op" id="6885421">==</span>&nbsp;<span class="num" id="6885424">1</span>&nbsp;<span class="op" id="6885426">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885431">lastline</span><span class="op" id="6885439">[</span><span class="ident" id="6885440">path</span><span class="op" id="6885444">]</span>&nbsp;<span class="op" id="6885446">=</span>&nbsp;<span class="num" id="6885448">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885453">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6885468">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885513">ll</span><span class="op" id="6885515">,</span>&nbsp;<span class="ident" id="6885517">ok</span>&nbsp;<span class="op" id="6885520">:=</span>&nbsp;<span class="ident" id="6885523">lastline</span><span class="op" id="6885531">[</span><span class="ident" id="6885532">path</span><span class="op" id="6885536">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885540">if</span>&nbsp;<span class="op" id="6885543">!</span><span class="ident" id="6885544">ok</span>&nbsp;<span class="op" id="6885547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885552">t</span><span class="op" id="6885553">.</span><span class="ident" id="6885554">Errorf</span><span class="op" id="6885560">(</span><span class="string" id="6885561">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="6885588">,</span>&nbsp;<span class="ident" id="6885590">path</span><span class="op" id="6885594">,</span>&nbsp;<span class="ident" id="6885596">line</span><span class="op" id="6885600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885604">}</span>&nbsp;<span class="keyword" id="6885606">else</span>&nbsp;<span class="keyword" id="6885611">if</span>&nbsp;<span class="ident" id="6885614">line</span>&nbsp;<span class="op" id="6885619">!=</span>&nbsp;<span class="ident" id="6885622">ll</span><span class="op" id="6885624">+</span><span class="num" id="6885625">1</span>&nbsp;<span class="op" id="6885627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885632">t</span><span class="op" id="6885633">.</span><span class="ident" id="6885634">Fatalf</span><span class="op" id="6885640">(</span><span class="string" id="6885641">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6885689">,</span>&nbsp;<span class="ident" id="6885691">path</span><span class="op" id="6885695">,</span>&nbsp;<span class="ident" id="6885697">ll</span><span class="op" id="6885699">+</span><span class="num" id="6885700">1</span><span class="op" id="6885701">,</span>&nbsp;<span class="ident" id="6885703">line</span><span class="op" id="6885707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885711">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885715">lastline</span><span class="op" id="6885723">[</span><span class="ident" id="6885724">path</span><span class="op" id="6885728">]</span>&nbsp;<span class="op" id="6885730">=</span>&nbsp;<span class="ident" id="6885732">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885741">if</span>&nbsp;<span class="ident" id="6885744">final</span>&nbsp;<span class="op" id="6885750">==</span>&nbsp;<span class="op" id="6885753">-</span><span class="num" id="6885754">1</span>&nbsp;<span class="op" id="6885756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885760">t</span><span class="op" id="6885761">.</span><span class="ident" id="6885762">Errorf</span><span class="op" id="6885768">(</span><span class="string" id="6885769">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="6885798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885801">}</span><br>
<span class="lineno">160</span><span class="op" id="6885803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6885806">func</span>&nbsp;<span class="ident" id="6885811">TestLineAline</span><span class="op" id="6885824">(</span><span class="ident" id="6885825">t</span>&nbsp;<span class="op" id="6885827">*</span><span class="ident" id="6885828">testing</span><span class="op" id="6885835">.</span><span class="ident" id="6885836">T</span><span class="op" id="6885837">)</span>&nbsp;<span class="op" id="6885839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885842">if</span>&nbsp;<span class="op" id="6885845">!</span><span class="ident" id="6885846">dotest</span><span class="op" id="6885852">(</span><span class="builtintype" id="6885853">true</span><span class="op" id="6885857">)</span>&nbsp;<span class="op" id="6885859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885863">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6885871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885874">defer</span>&nbsp;<span class="ident" id="6885880">endtest</span><span class="op" id="6885887">(</span><span class="op" id="6885888">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885892">tab</span>&nbsp;<span class="op" id="6885896">:=</span>&nbsp;<span class="ident" id="6885899">getTable</span><span class="op" id="6885907">(</span><span class="ident" id="6885908">t</span><span class="op" id="6885909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6885912">if</span>&nbsp;<span class="ident" id="6885915">tab</span><span class="op" id="6885918">.</span><span class="ident" id="6885919">go12line</span>&nbsp;<span class="op" id="6885928">!=</span>&nbsp;<span class="ident" id="6885931">nil</span>&nbsp;<span class="op" id="6885935">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6885939">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6885985">t</span><span class="op" id="6885986">.</span><span class="ident" id="6885987">Skip</span><span class="op" id="6885991">(</span><span class="string" id="6885992">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="6886029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886036">for</span>&nbsp;<span class="ident" id="6886040">_</span><span class="op" id="6886041">,</span>&nbsp;<span class="ident" id="6886043">o</span>&nbsp;<span class="op" id="6886045">:=</span>&nbsp;<span class="keyword" id="6886048">range</span>&nbsp;<span class="ident" id="6886054">tab</span><span class="op" id="6886057">.</span><span class="ident" id="6886058">Files</span>&nbsp;<span class="op" id="6886064">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886068">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886118">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886175">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886229">found</span>&nbsp;<span class="op" id="6886235">:=</span>&nbsp;<span class="builtinfunc" id="6886238">make</span><span class="op" id="6886242">(</span><span class="keyword" id="6886243">map</span><span class="op" id="6886246">[</span><span class="builtintype" id="6886247">string</span><span class="op" id="6886253">]</span><span class="builtintype" id="6886254">int</span><span class="op" id="6886257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886261">for</span>&nbsp;<span class="ident" id="6886265">i</span>&nbsp;<span class="op" id="6886267">:=</span>&nbsp;<span class="num" id="6886270">0</span><span class="op" id="6886271">;</span>&nbsp;<span class="ident" id="6886273">i</span>&nbsp;<span class="op" id="6886275">&lt;</span>&nbsp;<span class="num" id="6886277">1000</span><span class="op" id="6886281">;</span>&nbsp;<span class="ident" id="6886283">i</span><span class="op" id="6886284">++</span>&nbsp;<span class="op" id="6886287">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886292">path</span><span class="op" id="6886296">,</span>&nbsp;<span class="ident" id="6886298">line</span>&nbsp;<span class="op" id="6886303">:=</span>&nbsp;<span class="ident" id="6886306">o</span><span class="op" id="6886307">.</span><span class="ident" id="6886308">lineFromAline</span><span class="op" id="6886321">(</span><span class="ident" id="6886322">i</span><span class="op" id="6886323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886328">if</span>&nbsp;<span class="ident" id="6886331">path</span>&nbsp;<span class="op" id="6886336">==</span>&nbsp;<span class="string" id="6886339">&#34;&#34;</span>&nbsp;<span class="op" id="6886342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886348">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886363">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886426">if</span>&nbsp;<span class="builtinfunc" id="6886429">len</span><span class="op" id="6886432">(</span><span class="ident" id="6886433">path</span><span class="op" id="6886437">)</span>&nbsp;<span class="op" id="6886439">&gt;</span>&nbsp;<span class="num" id="6886441">4</span>&nbsp;<span class="op" id="6886443">&amp;&amp;</span>&nbsp;<span class="ident" id="6886446">path</span><span class="op" id="6886450">[</span><span class="builtinfunc" id="6886451">len</span><span class="op" id="6886454">(</span><span class="ident" id="6886455">path</span><span class="op" id="6886459">)</span><span class="op" id="6886460">-</span><span class="num" id="6886461">4</span><span class="op" id="6886462">:</span><span class="op" id="6886463">]</span>&nbsp;<span class="op" id="6886465">==</span>&nbsp;<span class="string" id="6886468">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="6886475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886481">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886499">if</span>&nbsp;<span class="ident" id="6886502">minline</span><span class="op" id="6886509">,</span>&nbsp;<span class="ident" id="6886511">ok</span>&nbsp;<span class="op" id="6886514">:=</span>&nbsp;<span class="ident" id="6886517">found</span><span class="op" id="6886522">[</span><span class="ident" id="6886523">path</span><span class="op" id="6886527">]</span><span class="op" id="6886528">;</span>&nbsp;<span class="ident" id="6886530">path</span>&nbsp;<span class="op" id="6886535">!=</span>&nbsp;<span class="string" id="6886538">&#34;&#34;</span>&nbsp;<span class="op" id="6886541">&amp;&amp;</span>&nbsp;<span class="ident" id="6886544">ok</span>&nbsp;<span class="op" id="6886547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886553">if</span>&nbsp;<span class="ident" id="6886556">minline</span>&nbsp;<span class="op" id="6886564">&gt;=</span>&nbsp;<span class="ident" id="6886567">line</span>&nbsp;<span class="op" id="6886572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886579">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886619">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886632">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886642">found</span><span class="op" id="6886647">[</span><span class="ident" id="6886648">path</span><span class="op" id="6886652">]</span>&nbsp;<span class="op" id="6886654">=</span>&nbsp;<span class="ident" id="6886656">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886665">a</span><span class="op" id="6886666">,</span>&nbsp;<span class="ident" id="6886668">err</span>&nbsp;<span class="op" id="6886672">:=</span>&nbsp;<span class="ident" id="6886675">o</span><span class="op" id="6886676">.</span><span class="ident" id="6886677">alineFromLine</span><span class="op" id="6886690">(</span><span class="ident" id="6886691">path</span><span class="op" id="6886695">,</span>&nbsp;<span class="ident" id="6886697">line</span><span class="op" id="6886701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886706">if</span>&nbsp;<span class="ident" id="6886709">err</span>&nbsp;<span class="op" id="6886713">!=</span>&nbsp;<span class="ident" id="6886716">nil</span>&nbsp;<span class="op" id="6886720">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886726">t</span><span class="op" id="6886727">.</span><span class="ident" id="6886728">Errorf</span><span class="op" id="6886734">(</span><span class="string" id="6886735">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6886818">,</span>&nbsp;<span class="ident" id="6886820">i</span><span class="op" id="6886821">,</span>&nbsp;<span class="ident" id="6886823">o</span><span class="op" id="6886824">.</span><span class="ident" id="6886825">Paths</span><span class="op" id="6886830">[</span><span class="num" id="6886831">0</span><span class="op" id="6886832">]</span><span class="op" id="6886833">.</span><span class="ident" id="6886834">Name</span><span class="op" id="6886838">,</span>&nbsp;<span class="ident" id="6886840">path</span><span class="op" id="6886844">,</span>&nbsp;<span class="ident" id="6886846">line</span><span class="op" id="6886850">,</span>&nbsp;<span class="ident" id="6886852">err</span><span class="op" id="6886855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6886860">}</span>&nbsp;<span class="keyword" id="6886862">else</span>&nbsp;<span class="keyword" id="6886867">if</span>&nbsp;<span class="ident" id="6886870">a</span>&nbsp;<span class="op" id="6886872">!=</span>&nbsp;<span class="ident" id="6886875">i</span>&nbsp;<span class="op" id="6886877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886883">t</span><span class="op" id="6886884">.</span><span class="ident" id="6886885">Errorf</span><span class="op" id="6886891">(</span><span class="string" id="6886892">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="6886976">,</span>&nbsp;<span class="ident" id="6886978">i</span><span class="op" id="6886979">,</span>&nbsp;<span class="ident" id="6886981">o</span><span class="op" id="6886982">.</span><span class="ident" id="6886983">Paths</span><span class="op" id="6886988">[</span><span class="num" id="6886989">0</span><span class="op" id="6886990">]</span><span class="op" id="6886991">.</span><span class="ident" id="6886992">Name</span><span class="op" id="6886996">,</span>&nbsp;<span class="ident" id="6886998">path</span><span class="op" id="6887002">,</span>&nbsp;<span class="ident" id="6887004">line</span><span class="op" id="6887008">,</span>&nbsp;<span class="ident" id="6887010">a</span><span class="op" id="6887011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887020">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887023">}</span><br>
<span class="lineno"></span><span class="op" id="6887025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6887028">func</span>&nbsp;<span class="ident" id="6887033">TestPCLine</span><span class="op" id="6887043">(</span><span class="ident" id="6887044">t</span>&nbsp;<span class="op" id="6887046">*</span><span class="ident" id="6887047">testing</span><span class="op" id="6887054">.</span><span class="ident" id="6887055">T</span><span class="op" id="6887056">)</span>&nbsp;<span class="op" id="6887058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887061">if</span>&nbsp;<span class="op" id="6887064">!</span><span class="ident" id="6887065">dotest</span><span class="op" id="6887071">(</span><span class="builtintype" id="6887072">false</span><span class="op" id="6887077">)</span>&nbsp;<span class="op" id="6887079">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887083">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887094">defer</span>&nbsp;<span class="ident" id="6887100">endtest</span><span class="op" id="6887107">(</span><span class="op" id="6887108">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887112">f</span><span class="op" id="6887113">,</span>&nbsp;<span class="ident" id="6887115">tab</span>&nbsp;<span class="op" id="6887119">:=</span>&nbsp;<span class="ident" id="6887122">crack</span><span class="op" id="6887127">(</span><span class="ident" id="6887128">pclinetestBinary</span><span class="op" id="6887144">,</span>&nbsp;<span class="ident" id="6887146">t</span><span class="op" id="6887147">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887150">text</span>&nbsp;<span class="op" id="6887155">:=</span>&nbsp;<span class="ident" id="6887158">f</span><span class="op" id="6887159">.</span><span class="ident" id="6887160">Section</span><span class="op" id="6887167">(</span><span class="string" id="6887168">&#34;.text&#34;</span><span class="op" id="6887175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887178">textdat</span><span class="op" id="6887185">,</span>&nbsp;<span class="ident" id="6887187">err</span>&nbsp;<span class="op" id="6887191">:=</span>&nbsp;<span class="ident" id="6887194">text</span><span class="op" id="6887198">.</span><span class="ident" id="6887199">Data</span><span class="op" id="6887203">(</span><span class="op" id="6887204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887207">if</span>&nbsp;<span class="ident" id="6887210">err</span>&nbsp;<span class="op" id="6887214">!=</span>&nbsp;<span class="ident" id="6887217">nil</span>&nbsp;<span class="op" id="6887221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887225">t</span><span class="op" id="6887226">.</span><span class="ident" id="6887227">Fatalf</span><span class="op" id="6887233">(</span><span class="string" id="6887234">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="6887253">,</span>&nbsp;<span class="ident" id="6887255">err</span><span class="op" id="6887258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887261">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6887265">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887283">sym</span>&nbsp;<span class="op" id="6887287">:=</span>&nbsp;<span class="ident" id="6887290">tab</span><span class="op" id="6887293">.</span><span class="ident" id="6887294">LookupFunc</span><span class="op" id="6887304">(</span><span class="string" id="6887305">&#34;linefrompc&#34;</span><span class="op" id="6887317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887320">wantLine</span>&nbsp;<span class="op" id="6887329">:=</span>&nbsp;<span class="num" id="6887332">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887335">for</span>&nbsp;<span class="ident" id="6887339">pc</span>&nbsp;<span class="op" id="6887342">:=</span>&nbsp;<span class="ident" id="6887345">sym</span><span class="op" id="6887348">.</span><span class="ident" id="6887349">Entry</span><span class="op" id="6887354">;</span>&nbsp;<span class="ident" id="6887356">pc</span>&nbsp;<span class="op" id="6887359">&lt;</span>&nbsp;<span class="ident" id="6887361">sym</span><span class="op" id="6887364">.</span><span class="ident" id="6887365">End</span><span class="op" id="6887368">;</span>&nbsp;<span class="ident" id="6887370">pc</span><span class="op" id="6887372">++</span>&nbsp;<span class="op" id="6887375">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887379">off</span>&nbsp;<span class="op" id="6887383">:=</span>&nbsp;<span class="ident" id="6887386">pc</span>&nbsp;<span class="op" id="6887389">-</span>&nbsp;<span class="ident" id="6887391">text</span><span class="op" id="6887395">.</span><span class="ident" id="6887396">Addr</span>&nbsp;<span class="comment" id="6887401">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887448">if</span>&nbsp;<span class="ident" id="6887451">textdat</span><span class="op" id="6887458">[</span><span class="ident" id="6887459">off</span><span class="op" id="6887462">]</span>&nbsp;<span class="op" id="6887464">==</span>&nbsp;<span class="num" id="6887467">255</span>&nbsp;<span class="op" id="6887471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887476">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887488">wantLine</span>&nbsp;<span class="op" id="6887497">+=</span>&nbsp;<span class="builtintype" id="6887500">int</span><span class="op" id="6887503">(</span><span class="ident" id="6887504">textdat</span><span class="op" id="6887511">[</span><span class="ident" id="6887512">off</span><span class="op" id="6887515">]</span><span class="op" id="6887516">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887520">t</span><span class="op" id="6887521">.</span><span class="ident" id="6887522">Logf</span><span class="op" id="6887526">(</span><span class="string" id="6887527">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="6887551">,</span>&nbsp;<span class="ident" id="6887553">off</span><span class="op" id="6887556">,</span>&nbsp;<span class="ident" id="6887558">textdat</span><span class="op" id="6887565">[</span><span class="ident" id="6887566">off</span><span class="op" id="6887569">]</span><span class="op" id="6887570">,</span>&nbsp;<span class="ident" id="6887572">sym</span><span class="op" id="6887575">.</span><span class="ident" id="6887576">End</span><span class="op" id="6887579">-</span><span class="ident" id="6887580">pc</span><span class="op" id="6887582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887586">file</span><span class="op" id="6887590">,</span>&nbsp;<span class="ident" id="6887592">line</span><span class="op" id="6887596">,</span>&nbsp;<span class="ident" id="6887598">fn</span>&nbsp;<span class="op" id="6887601">:=</span>&nbsp;<span class="ident" id="6887604">tab</span><span class="op" id="6887607">.</span><span class="ident" id="6887608">PCToLine</span><span class="op" id="6887616">(</span><span class="ident" id="6887617">pc</span><span class="op" id="6887619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887623">if</span>&nbsp;<span class="ident" id="6887626">fn</span>&nbsp;<span class="op" id="6887629">==</span>&nbsp;<span class="ident" id="6887632">nil</span>&nbsp;<span class="op" id="6887636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887641">t</span><span class="op" id="6887642">.</span><span class="ident" id="6887643">Errorf</span><span class="op" id="6887649">(</span><span class="string" id="6887650">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="6887680">,</span>&nbsp;<span class="ident" id="6887682">pc</span><span class="op" id="6887684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887688">}</span>&nbsp;<span class="keyword" id="6887690">else</span>&nbsp;<span class="keyword" id="6887695">if</span>&nbsp;<span class="op" id="6887698">!</span><span class="ident" id="6887699">strings</span><span class="op" id="6887706">.</span><span class="ident" id="6887707">HasSuffix</span><span class="op" id="6887716">(</span><span class="ident" id="6887717">file</span><span class="op" id="6887721">,</span>&nbsp;<span class="string" id="6887723">&#34;pclinetest.asm&#34;</span><span class="op" id="6887739">)</span>&nbsp;<span class="op" id="6887741">||</span>&nbsp;<span class="ident" id="6887744">line</span>&nbsp;<span class="op" id="6887749">!=</span>&nbsp;<span class="ident" id="6887752">wantLine</span>&nbsp;<span class="op" id="6887761">||</span>&nbsp;<span class="ident" id="6887764">fn</span>&nbsp;<span class="op" id="6887767">!=</span>&nbsp;<span class="ident" id="6887770">sym</span>&nbsp;<span class="op" id="6887774">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887779">t</span><span class="op" id="6887780">.</span><span class="ident" id="6887781">Errorf</span><span class="op" id="6887787">(</span><span class="string" id="6887788">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="6887833">,</span>&nbsp;<span class="ident" id="6887835">pc</span><span class="op" id="6887837">,</span>&nbsp;<span class="ident" id="6887839">file</span><span class="op" id="6887843">,</span>&nbsp;<span class="ident" id="6887845">line</span><span class="op" id="6887849">,</span>&nbsp;<span class="ident" id="6887851">fn</span><span class="op" id="6887853">.</span><span class="ident" id="6887854">Name</span><span class="op" id="6887858">,</span>&nbsp;<span class="string" id="6887860">&#34;pclinetest.asm&#34;</span><span class="op" id="6887876">,</span>&nbsp;<span class="ident" id="6887878">wantLine</span><span class="op" id="6887886">,</span>&nbsp;<span class="ident" id="6887888">sym</span><span class="op" id="6887891">.</span><span class="ident" id="6887892">Name</span><span class="op" id="6887896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6887907">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887925">sym</span>&nbsp;<span class="op" id="6887929">=</span>&nbsp;<span class="ident" id="6887931">tab</span><span class="op" id="6887934">.</span><span class="ident" id="6887935">LookupFunc</span><span class="op" id="6887945">(</span><span class="string" id="6887946">&#34;pcfromline&#34;</span><span class="op" id="6887958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887961">lookupline</span>&nbsp;<span class="op" id="6887972">:=</span>&nbsp;<span class="op" id="6887975">-</span><span class="num" id="6887976">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887979">wantLine</span>&nbsp;<span class="op" id="6887988">=</span>&nbsp;<span class="num" id="6887990">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887993">off</span>&nbsp;<span class="op" id="6887997">:=</span>&nbsp;<span class="ident" id="6888000">uint64</span><span class="op" id="6888006">(</span><span class="num" id="6888007">0</span><span class="op" id="6888008">)</span>&nbsp;<span class="comment" id="6888010">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888056">for</span>&nbsp;<span class="ident" id="6888060">pc</span>&nbsp;<span class="op" id="6888063">:=</span>&nbsp;<span class="ident" id="6888066">sym</span><span class="op" id="6888069">.</span><span class="ident" id="6888070">Value</span><span class="op" id="6888075">;</span>&nbsp;<span class="ident" id="6888077">pc</span>&nbsp;<span class="op" id="6888080">&lt;</span>&nbsp;<span class="ident" id="6888082">sym</span><span class="op" id="6888085">.</span><span class="ident" id="6888086">End</span><span class="op" id="6888089">;</span>&nbsp;<span class="ident" id="6888091">pc</span>&nbsp;<span class="op" id="6888094">+=</span>&nbsp;<span class="num" id="6888097">2</span>&nbsp;<span class="op" id="6888099">+</span>&nbsp;<span class="ident" id="6888101">uint64</span><span class="op" id="6888107">(</span><span class="ident" id="6888108">textdat</span><span class="op" id="6888115">[</span><span class="ident" id="6888116">off</span><span class="op" id="6888119">]</span><span class="op" id="6888120">)</span>&nbsp;<span class="op" id="6888122">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888126">file</span><span class="op" id="6888130">,</span>&nbsp;<span class="ident" id="6888132">line</span><span class="op" id="6888136">,</span>&nbsp;<span class="ident" id="6888138">fn</span>&nbsp;<span class="op" id="6888141">:=</span>&nbsp;<span class="ident" id="6888144">tab</span><span class="op" id="6888147">.</span><span class="ident" id="6888148">PCToLine</span><span class="op" id="6888156">(</span><span class="ident" id="6888157">pc</span><span class="op" id="6888159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888163">off</span>&nbsp;<span class="op" id="6888167">=</span>&nbsp;<span class="ident" id="6888169">pc</span>&nbsp;<span class="op" id="6888172">-</span>&nbsp;<span class="ident" id="6888174">text</span><span class="op" id="6888178">.</span><span class="ident" id="6888179">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888186">if</span>&nbsp;<span class="ident" id="6888189">textdat</span><span class="op" id="6888196">[</span><span class="ident" id="6888197">off</span><span class="op" id="6888200">]</span>&nbsp;<span class="op" id="6888202">==</span>&nbsp;<span class="num" id="6888205">255</span>&nbsp;<span class="op" id="6888209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888214">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888222">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888226">wantLine</span>&nbsp;<span class="op" id="6888235">+=</span>&nbsp;<span class="builtintype" id="6888238">int</span><span class="op" id="6888241">(</span><span class="ident" id="6888242">textdat</span><span class="op" id="6888249">[</span><span class="ident" id="6888250">off</span><span class="op" id="6888253">]</span><span class="op" id="6888254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888258">if</span>&nbsp;<span class="ident" id="6888261">line</span>&nbsp;<span class="op" id="6888266">!=</span>&nbsp;<span class="ident" id="6888269">wantLine</span>&nbsp;<span class="op" id="6888278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888283">t</span><span class="op" id="6888284">.</span><span class="ident" id="6888285">Errorf</span><span class="op" id="6888291">(</span><span class="string" id="6888292">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6888342">,</span>&nbsp;<span class="ident" id="6888344">wantLine</span><span class="op" id="6888352">,</span>&nbsp;<span class="ident" id="6888354">pc</span><span class="op" id="6888356">,</span>&nbsp;<span class="ident" id="6888358">line</span><span class="op" id="6888362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888367">off</span>&nbsp;<span class="op" id="6888371">=</span>&nbsp;<span class="ident" id="6888373">pc</span>&nbsp;<span class="op" id="6888376">+</span>&nbsp;<span class="num" id="6888378">1</span>&nbsp;<span class="op" id="6888380">-</span>&nbsp;<span class="ident" id="6888382">text</span><span class="op" id="6888386">.</span><span class="ident" id="6888387">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888395">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888410">if</span>&nbsp;<span class="ident" id="6888413">lookupline</span>&nbsp;<span class="op" id="6888424">==</span>&nbsp;<span class="op" id="6888427">-</span><span class="num" id="6888428">1</span>&nbsp;<span class="op" id="6888430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888435">lookupline</span>&nbsp;<span class="op" id="6888446">=</span>&nbsp;<span class="ident" id="6888448">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888459">for</span>&nbsp;<span class="op" id="6888463">;</span>&nbsp;<span class="ident" id="6888465">lookupline</span>&nbsp;<span class="op" id="6888476">&lt;=</span>&nbsp;<span class="ident" id="6888479">line</span><span class="op" id="6888483">;</span>&nbsp;<span class="ident" id="6888485">lookupline</span><span class="op" id="6888495">++</span>&nbsp;<span class="op" id="6888498">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888503">pc2</span><span class="op" id="6888506">,</span>&nbsp;<span class="ident" id="6888508">fn2</span><span class="op" id="6888511">,</span>&nbsp;<span class="ident" id="6888513">err</span>&nbsp;<span class="op" id="6888517">:=</span>&nbsp;<span class="ident" id="6888520">tab</span><span class="op" id="6888523">.</span><span class="ident" id="6888524">LineToPC</span><span class="op" id="6888532">(</span><span class="ident" id="6888533">file</span><span class="op" id="6888537">,</span>&nbsp;<span class="ident" id="6888539">lookupline</span><span class="op" id="6888549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888554">if</span>&nbsp;<span class="ident" id="6888557">lookupline</span>&nbsp;<span class="op" id="6888568">!=</span>&nbsp;<span class="ident" id="6888571">line</span>&nbsp;<span class="op" id="6888576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6888582">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888620">if</span>&nbsp;<span class="ident" id="6888623">err</span>&nbsp;<span class="op" id="6888627">==</span>&nbsp;<span class="ident" id="6888630">nil</span>&nbsp;<span class="op" id="6888634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888641">t</span><span class="op" id="6888642">.</span><span class="ident" id="6888643">Errorf</span><span class="op" id="6888649">(</span><span class="string" id="6888650">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="6888691">,</span>&nbsp;<span class="ident" id="6888693">lookupline</span><span class="op" id="6888703">,</span>&nbsp;<span class="ident" id="6888705">pc2</span><span class="op" id="6888708">,</span>&nbsp;<span class="ident" id="6888710">fn2</span><span class="op" id="6888713">.</span><span class="ident" id="6888714">Name</span><span class="op" id="6888718">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888729">}</span>&nbsp;<span class="keyword" id="6888731">else</span>&nbsp;<span class="keyword" id="6888736">if</span>&nbsp;<span class="ident" id="6888739">err</span>&nbsp;<span class="op" id="6888743">!=</span>&nbsp;<span class="ident" id="6888746">nil</span>&nbsp;<span class="op" id="6888750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888756">t</span><span class="op" id="6888757">.</span><span class="ident" id="6888758">Errorf</span><span class="op" id="6888764">(</span><span class="string" id="6888765">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6888798">,</span>&nbsp;<span class="ident" id="6888800">lookupline</span><span class="op" id="6888810">,</span>&nbsp;<span class="ident" id="6888812">err</span><span class="op" id="6888815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888820">}</span>&nbsp;<span class="keyword" id="6888822">else</span>&nbsp;<span class="keyword" id="6888827">if</span>&nbsp;<span class="ident" id="6888830">pc</span>&nbsp;<span class="op" id="6888833">!=</span>&nbsp;<span class="ident" id="6888836">pc2</span>&nbsp;<span class="op" id="6888840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888846">t</span><span class="op" id="6888847">.</span><span class="ident" id="6888848">Errorf</span><span class="op" id="6888854">(</span><span class="string" id="6888855">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="6888905">,</span>&nbsp;<span class="ident" id="6888907">pc</span><span class="op" id="6888909">,</span>&nbsp;<span class="ident" id="6888911">fn</span><span class="op" id="6888913">.</span><span class="ident" id="6888914">Name</span><span class="op" id="6888918">,</span>&nbsp;<span class="ident" id="6888920">line</span><span class="op" id="6888924">,</span>&nbsp;<span class="ident" id="6888926">pc2</span><span class="op" id="6888929">,</span>&nbsp;<span class="ident" id="6888931">fn2</span><span class="op" id="6888934">.</span><span class="ident" id="6888935">Name</span><span class="op" id="6888939">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888952">off</span>&nbsp;<span class="op" id="6888956">=</span>&nbsp;<span class="ident" id="6888958">pc</span>&nbsp;<span class="op" id="6888961">+</span>&nbsp;<span class="num" id="6888963">1</span>&nbsp;<span class="op" id="6888965">-</span>&nbsp;<span class="ident" id="6888967">text</span><span class="op" id="6888971">.</span><span class="ident" id="6888972">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888978">}</span><br>
<span class="lineno"></span><span class="op" id="6888980">}</span>
</div>
</body>
</html>
