<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7227208">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7227263">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7227317">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7227368">package</span>&nbsp;<span class="ident" id="7227376">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227381">import</span>&nbsp;<span class="op" id="7227388">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7227391">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7227400">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7227410">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227413">type</span>&nbsp;<span class="ident" id="7227418">encDecTest</span>&nbsp;<span class="keyword" id="7227429">struct</span>&nbsp;<span class="op" id="7227436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227439">enc</span>&nbsp;<span class="builtintype" id="7227443">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227451">dec</span>&nbsp;<span class="op" id="7227455">[</span><span class="op" id="7227456">]</span><span class="builtintype" id="7227457">byte</span><br>
<span class="lineno">15</span><span class="op" id="7227462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227465">var</span>&nbsp;<span class="ident" id="7227469">encDecTests</span>&nbsp;<span class="op" id="7227481">=</span>&nbsp;<span class="op" id="7227483">[</span><span class="op" id="7227484">]</span><span class="ident" id="7227485">encDecTest</span><span class="op" id="7227495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227498">{</span><span class="string" id="7227499">&#34;&#34;</span><span class="op" id="7227501">,</span>&nbsp;<span class="op" id="7227503">[</span><span class="op" id="7227504">]</span><span class="builtintype" id="7227505">byte</span><span class="op" id="7227509">{</span><span class="op" id="7227510">}</span><span class="op" id="7227511">}</span><span class="op" id="7227512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227515">{</span><span class="string" id="7227516">&#34;0001020304050607&#34;</span><span class="op" id="7227534">,</span>&nbsp;<span class="op" id="7227536">[</span><span class="op" id="7227537">]</span><span class="builtintype" id="7227538">byte</span><span class="op" id="7227542">{</span><span class="num" id="7227543">0</span><span class="op" id="7227544">,</span>&nbsp;<span class="num" id="7227546">1</span><span class="op" id="7227547">,</span>&nbsp;<span class="num" id="7227549">2</span><span class="op" id="7227550">,</span>&nbsp;<span class="num" id="7227552">3</span><span class="op" id="7227553">,</span>&nbsp;<span class="num" id="7227555">4</span><span class="op" id="7227556">,</span>&nbsp;<span class="num" id="7227558">5</span><span class="op" id="7227559">,</span>&nbsp;<span class="num" id="7227561">6</span><span class="op" id="7227562">,</span>&nbsp;<span class="num" id="7227564">7</span><span class="op" id="7227565">}</span><span class="op" id="7227566">}</span><span class="op" id="7227567">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227570">{</span><span class="string" id="7227571">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="7227589">,</span>&nbsp;<span class="op" id="7227591">[</span><span class="op" id="7227592">]</span><span class="builtintype" id="7227593">byte</span><span class="op" id="7227597">{</span><span class="num" id="7227598">8</span><span class="op" id="7227599">,</span>&nbsp;<span class="num" id="7227601">9</span><span class="op" id="7227602">,</span>&nbsp;<span class="num" id="7227604">10</span><span class="op" id="7227606">,</span>&nbsp;<span class="num" id="7227608">11</span><span class="op" id="7227610">,</span>&nbsp;<span class="num" id="7227612">12</span><span class="op" id="7227614">,</span>&nbsp;<span class="num" id="7227616">13</span><span class="op" id="7227618">,</span>&nbsp;<span class="num" id="7227620">14</span><span class="op" id="7227622">,</span>&nbsp;<span class="num" id="7227624">15</span><span class="op" id="7227626">}</span><span class="op" id="7227627">}</span><span class="op" id="7227628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227631">{</span><span class="string" id="7227632">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="7227650">,</span>&nbsp;<span class="op" id="7227652">[</span><span class="op" id="7227653">]</span><span class="builtintype" id="7227654">byte</span><span class="op" id="7227658">{</span><span class="num" id="7227659">0xf0</span><span class="op" id="7227663">,</span>&nbsp;<span class="num" id="7227665">0xf1</span><span class="op" id="7227669">,</span>&nbsp;<span class="num" id="7227671">0xf2</span><span class="op" id="7227675">,</span>&nbsp;<span class="num" id="7227677">0xf3</span><span class="op" id="7227681">,</span>&nbsp;<span class="num" id="7227683">0xf4</span><span class="op" id="7227687">,</span>&nbsp;<span class="num" id="7227689">0xf5</span><span class="op" id="7227693">,</span>&nbsp;<span class="num" id="7227695">0xf6</span><span class="op" id="7227699">,</span>&nbsp;<span class="num" id="7227701">0xf7</span><span class="op" id="7227705">}</span><span class="op" id="7227706">}</span><span class="op" id="7227707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227710">{</span><span class="string" id="7227711">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="7227729">,</span>&nbsp;<span class="op" id="7227731">[</span><span class="op" id="7227732">]</span><span class="builtintype" id="7227733">byte</span><span class="op" id="7227737">{</span><span class="num" id="7227738">0xf8</span><span class="op" id="7227742">,</span>&nbsp;<span class="num" id="7227744">0xf9</span><span class="op" id="7227748">,</span>&nbsp;<span class="num" id="7227750">0xfa</span><span class="op" id="7227754">,</span>&nbsp;<span class="num" id="7227756">0xfb</span><span class="op" id="7227760">,</span>&nbsp;<span class="num" id="7227762">0xfc</span><span class="op" id="7227766">,</span>&nbsp;<span class="num" id="7227768">0xfd</span><span class="op" id="7227772">,</span>&nbsp;<span class="num" id="7227774">0xfe</span><span class="op" id="7227778">,</span>&nbsp;<span class="num" id="7227780">0xff</span><span class="op" id="7227784">}</span><span class="op" id="7227785">}</span><span class="op" id="7227786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227789">{</span><span class="string" id="7227790">&#34;67&#34;</span><span class="op" id="7227794">,</span>&nbsp;<span class="op" id="7227796">[</span><span class="op" id="7227797">]</span><span class="builtintype" id="7227798">byte</span><span class="op" id="7227802">{</span><span class="string" id="7227803">&#39;g&#39;</span><span class="op" id="7227806">}</span><span class="op" id="7227807">}</span><span class="op" id="7227808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7227811">{</span><span class="string" id="7227812">&#34;e3a1&#34;</span><span class="op" id="7227818">,</span>&nbsp;<span class="op" id="7227820">[</span><span class="op" id="7227821">]</span><span class="builtintype" id="7227822">byte</span><span class="op" id="7227826">{</span><span class="num" id="7227827">0xe3</span><span class="op" id="7227831">,</span>&nbsp;<span class="num" id="7227833">0xa1</span><span class="op" id="7227837">}</span><span class="op" id="7227838">}</span><span class="op" id="7227839">,</span><br>
<span class="lineno">25</span><span class="op" id="7227841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7227844">func</span>&nbsp;<span class="ident" id="7227849">TestEncode</span><span class="op" id="7227859">(</span><span class="ident" id="7227860">t</span>&nbsp;<span class="op" id="7227862">*</span><span class="ident" id="7227863">testing</span><span class="op" id="7227870">.</span><span class="ident" id="7227871">T</span><span class="op" id="7227872">)</span>&nbsp;<span class="op" id="7227874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227877">for</span>&nbsp;<span class="ident" id="7227881">i</span><span class="op" id="7227882">,</span>&nbsp;<span class="ident" id="7227884">test</span>&nbsp;<span class="op" id="7227889">:=</span>&nbsp;<span class="keyword" id="7227892">range</span>&nbsp;<span class="ident" id="7227898">encDecTests</span>&nbsp;<span class="op" id="7227910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227914">dst</span>&nbsp;<span class="op" id="7227918">:=</span>&nbsp;<span class="builtinfunc" id="7227921">make</span><span class="op" id="7227925">(</span><span class="op" id="7227926">[</span><span class="op" id="7227927">]</span><span class="builtintype" id="7227928">byte</span><span class="op" id="7227932">,</span>&nbsp;<span class="ident" id="7227934">EncodedLen</span><span class="op" id="7227944">(</span><span class="builtinfunc" id="7227945">len</span><span class="op" id="7227948">(</span><span class="ident" id="7227949">test</span><span class="op" id="7227953">.</span><span class="ident" id="7227954">dec</span><span class="op" id="7227957">)</span><span class="op" id="7227958">)</span><span class="op" id="7227959">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7227963">n</span>&nbsp;<span class="op" id="7227965">:=</span>&nbsp;<span class="ident" id="7227968">Encode</span><span class="op" id="7227974">(</span><span class="ident" id="7227975">dst</span><span class="op" id="7227978">,</span>&nbsp;<span class="ident" id="7227980">test</span><span class="op" id="7227984">.</span><span class="ident" id="7227985">dec</span><span class="op" id="7227988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7227992">if</span>&nbsp;<span class="ident" id="7227995">n</span>&nbsp;<span class="op" id="7227997">!=</span>&nbsp;<span class="builtinfunc" id="7228000">len</span><span class="op" id="7228003">(</span><span class="ident" id="7228004">dst</span><span class="op" id="7228007">)</span>&nbsp;<span class="op" id="7228009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228014">t</span><span class="op" id="7228015">.</span><span class="ident" id="7228016">Errorf</span><span class="op" id="7228022">(</span><span class="string" id="7228023">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="7228064">,</span>&nbsp;<span class="ident" id="7228066">i</span><span class="op" id="7228067">,</span>&nbsp;<span class="ident" id="7228069">n</span><span class="op" id="7228070">,</span>&nbsp;<span class="builtinfunc" id="7228072">len</span><span class="op" id="7228075">(</span><span class="ident" id="7228076">dst</span><span class="op" id="7228079">)</span><span class="op" id="7228080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228088">if</span>&nbsp;<span class="builtintype" id="7228091">string</span><span class="op" id="7228097">(</span><span class="ident" id="7228098">dst</span><span class="op" id="7228101">)</span>&nbsp;<span class="op" id="7228103">!=</span>&nbsp;<span class="ident" id="7228106">test</span><span class="op" id="7228110">.</span><span class="ident" id="7228111">enc</span>&nbsp;<span class="op" id="7228115">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228120">t</span><span class="op" id="7228121">.</span><span class="ident" id="7228122">Errorf</span><span class="op" id="7228128">(</span><span class="string" id="7228129">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7228154">,</span>&nbsp;<span class="ident" id="7228156">i</span><span class="op" id="7228157">,</span>&nbsp;<span class="ident" id="7228159">dst</span><span class="op" id="7228162">,</span>&nbsp;<span class="ident" id="7228164">test</span><span class="op" id="7228168">.</span><span class="ident" id="7228169">enc</span><span class="op" id="7228172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228179">}</span><br>
<span class="lineno"></span><span class="op" id="7228181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7228184">func</span>&nbsp;<span class="ident" id="7228189">TestDecode</span><span class="op" id="7228199">(</span><span class="ident" id="7228200">t</span>&nbsp;<span class="op" id="7228202">*</span><span class="ident" id="7228203">testing</span><span class="op" id="7228210">.</span><span class="ident" id="7228211">T</span><span class="op" id="7228212">)</span>&nbsp;<span class="op" id="7228214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7228217">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7228271">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228305">decTests</span>&nbsp;<span class="op" id="7228314">:=</span>&nbsp;<span class="builtinfunc" id="7228317">append</span><span class="op" id="7228323">(</span><span class="ident" id="7228324">encDecTests</span><span class="op" id="7228335">,</span>&nbsp;<span class="ident" id="7228337">encDecTest</span><span class="op" id="7228347">{</span><span class="string" id="7228348">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="7228366">,</span>&nbsp;<span class="op" id="7228368">[</span><span class="op" id="7228369">]</span><span class="builtintype" id="7228370">byte</span><span class="op" id="7228374">{</span><span class="num" id="7228375">0xf8</span><span class="op" id="7228379">,</span>&nbsp;<span class="num" id="7228381">0xf9</span><span class="op" id="7228385">,</span>&nbsp;<span class="num" id="7228387">0xfa</span><span class="op" id="7228391">,</span>&nbsp;<span class="num" id="7228393">0xfb</span><span class="op" id="7228397">,</span>&nbsp;<span class="num" id="7228399">0xfc</span><span class="op" id="7228403">,</span>&nbsp;<span class="num" id="7228405">0xfd</span><span class="op" id="7228409">,</span>&nbsp;<span class="num" id="7228411">0xfe</span><span class="op" id="7228415">,</span>&nbsp;<span class="num" id="7228417">0xff</span><span class="op" id="7228421">}</span><span class="op" id="7228422">}</span><span class="op" id="7228423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228426">for</span>&nbsp;<span class="ident" id="7228430">i</span><span class="op" id="7228431">,</span>&nbsp;<span class="ident" id="7228433">test</span>&nbsp;<span class="op" id="7228438">:=</span>&nbsp;<span class="keyword" id="7228441">range</span>&nbsp;<span class="ident" id="7228447">decTests</span>&nbsp;<span class="op" id="7228456">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228460">dst</span>&nbsp;<span class="op" id="7228464">:=</span>&nbsp;<span class="builtinfunc" id="7228467">make</span><span class="op" id="7228471">(</span><span class="op" id="7228472">[</span><span class="op" id="7228473">]</span><span class="builtintype" id="7228474">byte</span><span class="op" id="7228478">,</span>&nbsp;<span class="ident" id="7228480">DecodedLen</span><span class="op" id="7228490">(</span><span class="builtinfunc" id="7228491">len</span><span class="op" id="7228494">(</span><span class="ident" id="7228495">test</span><span class="op" id="7228499">.</span><span class="ident" id="7228500">enc</span><span class="op" id="7228503">)</span><span class="op" id="7228504">)</span><span class="op" id="7228505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228509">n</span><span class="op" id="7228510">,</span>&nbsp;<span class="ident" id="7228512">err</span>&nbsp;<span class="op" id="7228516">:=</span>&nbsp;<span class="ident" id="7228519">Decode</span><span class="op" id="7228525">(</span><span class="ident" id="7228526">dst</span><span class="op" id="7228529">,</span>&nbsp;<span class="op" id="7228531">[</span><span class="op" id="7228532">]</span><span class="builtintype" id="7228533">byte</span><span class="op" id="7228537">(</span><span class="ident" id="7228538">test</span><span class="op" id="7228542">.</span><span class="ident" id="7228543">enc</span><span class="op" id="7228546">)</span><span class="op" id="7228547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228551">if</span>&nbsp;<span class="ident" id="7228554">err</span>&nbsp;<span class="op" id="7228558">!=</span>&nbsp;<span class="ident" id="7228561">nil</span>&nbsp;<span class="op" id="7228565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228570">t</span><span class="op" id="7228571">.</span><span class="ident" id="7228572">Errorf</span><span class="op" id="7228578">(</span><span class="string" id="7228579">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="7228618">,</span>&nbsp;<span class="ident" id="7228620">i</span><span class="op" id="7228621">,</span>&nbsp;<span class="ident" id="7228623">n</span><span class="op" id="7228624">,</span>&nbsp;<span class="builtinfunc" id="7228626">len</span><span class="op" id="7228629">(</span><span class="ident" id="7228630">dst</span><span class="op" id="7228633">)</span><span class="op" id="7228634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228638">}</span>&nbsp;<span class="keyword" id="7228640">else</span>&nbsp;<span class="keyword" id="7228645">if</span>&nbsp;<span class="op" id="7228648">!</span><span class="ident" id="7228649">bytes</span><span class="op" id="7228654">.</span><span class="ident" id="7228655">Equal</span><span class="op" id="7228660">(</span><span class="ident" id="7228661">dst</span><span class="op" id="7228664">,</span>&nbsp;<span class="ident" id="7228666">test</span><span class="op" id="7228670">.</span><span class="ident" id="7228671">dec</span><span class="op" id="7228674">)</span>&nbsp;<span class="op" id="7228676">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228681">t</span><span class="op" id="7228682">.</span><span class="ident" id="7228683">Errorf</span><span class="op" id="7228689">(</span><span class="string" id="7228690">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7228715">,</span>&nbsp;<span class="ident" id="7228717">i</span><span class="op" id="7228718">,</span>&nbsp;<span class="ident" id="7228720">dst</span><span class="op" id="7228723">,</span>&nbsp;<span class="ident" id="7228725">test</span><span class="op" id="7228729">.</span><span class="ident" id="7228730">dec</span><span class="op" id="7228733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228740">}</span><br>
<span class="lineno"></span><span class="op" id="7228742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7228745">func</span>&nbsp;<span class="ident" id="7228750">TestEncodeToString</span><span class="op" id="7228768">(</span><span class="ident" id="7228769">t</span>&nbsp;<span class="op" id="7228771">*</span><span class="ident" id="7228772">testing</span><span class="op" id="7228779">.</span><span class="ident" id="7228780">T</span><span class="op" id="7228781">)</span>&nbsp;<span class="op" id="7228783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228786">for</span>&nbsp;<span class="ident" id="7228790">i</span><span class="op" id="7228791">,</span>&nbsp;<span class="ident" id="7228793">test</span>&nbsp;<span class="op" id="7228798">:=</span>&nbsp;<span class="keyword" id="7228801">range</span>&nbsp;<span class="ident" id="7228807">encDecTests</span>&nbsp;<span class="op" id="7228819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228823">s</span>&nbsp;<span class="op" id="7228825">:=</span>&nbsp;<span class="ident" id="7228828">EncodeToString</span><span class="op" id="7228842">(</span><span class="ident" id="7228843">test</span><span class="op" id="7228847">.</span><span class="ident" id="7228848">dec</span><span class="op" id="7228851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228855">if</span>&nbsp;<span class="ident" id="7228858">s</span>&nbsp;<span class="op" id="7228860">!=</span>&nbsp;<span class="ident" id="7228863">test</span><span class="op" id="7228867">.</span><span class="ident" id="7228868">enc</span>&nbsp;<span class="op" id="7228872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228877">t</span><span class="op" id="7228878">.</span><span class="ident" id="7228879">Errorf</span><span class="op" id="7228885">(</span><span class="string" id="7228886">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="7228906">,</span>&nbsp;<span class="ident" id="7228908">i</span><span class="op" id="7228909">,</span>&nbsp;<span class="ident" id="7228911">s</span><span class="op" id="7228912">,</span>&nbsp;<span class="ident" id="7228914">test</span><span class="op" id="7228918">.</span><span class="ident" id="7228919">enc</span><span class="op" id="7228922">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228929">}</span><br>
<span class="lineno"></span><span class="op" id="7228931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7228934">func</span>&nbsp;<span class="ident" id="7228939">TestDecodeString</span><span class="op" id="7228955">(</span><span class="ident" id="7228956">t</span>&nbsp;<span class="op" id="7228958">*</span><span class="ident" id="7228959">testing</span><span class="op" id="7228966">.</span><span class="ident" id="7228967">T</span><span class="op" id="7228968">)</span>&nbsp;<span class="op" id="7228970">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7228973">for</span>&nbsp;<span class="ident" id="7228977">i</span><span class="op" id="7228978">,</span>&nbsp;<span class="ident" id="7228980">test</span>&nbsp;<span class="op" id="7228985">:=</span>&nbsp;<span class="keyword" id="7228988">range</span>&nbsp;<span class="ident" id="7228994">encDecTests</span>&nbsp;<span class="op" id="7229006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229010">dst</span><span class="op" id="7229013">,</span>&nbsp;<span class="ident" id="7229015">err</span>&nbsp;<span class="op" id="7229019">:=</span>&nbsp;<span class="ident" id="7229022">DecodeString</span><span class="op" id="7229034">(</span><span class="ident" id="7229035">test</span><span class="op" id="7229039">.</span><span class="ident" id="7229040">enc</span><span class="op" id="7229043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229047">if</span>&nbsp;<span class="ident" id="7229050">err</span>&nbsp;<span class="op" id="7229054">!=</span>&nbsp;<span class="ident" id="7229057">nil</span>&nbsp;<span class="op" id="7229061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229066">t</span><span class="op" id="7229067">.</span><span class="ident" id="7229068">Errorf</span><span class="op" id="7229074">(</span><span class="string" id="7229075">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="7229106">,</span>&nbsp;<span class="ident" id="7229108">i</span><span class="op" id="7229109">,</span>&nbsp;<span class="ident" id="7229111">err</span><span class="op" id="7229114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229119">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229134">if</span>&nbsp;<span class="op" id="7229137">!</span><span class="ident" id="7229138">bytes</span><span class="op" id="7229143">.</span><span class="ident" id="7229144">Equal</span><span class="op" id="7229149">(</span><span class="ident" id="7229150">dst</span><span class="op" id="7229153">,</span>&nbsp;<span class="ident" id="7229155">test</span><span class="op" id="7229159">.</span><span class="ident" id="7229160">dec</span><span class="op" id="7229163">)</span>&nbsp;<span class="op" id="7229165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229170">t</span><span class="op" id="7229171">.</span><span class="ident" id="7229172">Errorf</span><span class="op" id="7229178">(</span><span class="string" id="7229179">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="7229204">,</span>&nbsp;<span class="ident" id="7229206">i</span><span class="op" id="7229207">,</span>&nbsp;<span class="ident" id="7229209">dst</span><span class="op" id="7229212">,</span>&nbsp;<span class="ident" id="7229214">test</span><span class="op" id="7229218">.</span><span class="ident" id="7229219">dec</span><span class="op" id="7229222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229229">}</span><br>
<span class="lineno">75</span><span class="op" id="7229231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7229234">type</span>&nbsp;<span class="ident" id="7229239">errTest</span>&nbsp;<span class="keyword" id="7229247">struct</span>&nbsp;<span class="op" id="7229254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229257">in</span>&nbsp;&nbsp;<span class="builtintype" id="7229261">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229269">err</span>&nbsp;<span class="builtintype" id="7229273">string</span><br>
<span class="lineno">80</span><span class="op" id="7229280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7229283">var</span>&nbsp;<span class="ident" id="7229287">errTests</span>&nbsp;<span class="op" id="7229296">=</span>&nbsp;<span class="op" id="7229298">[</span><span class="op" id="7229299">]</span><span class="ident" id="7229300">errTest</span><span class="op" id="7229307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229310">{</span><span class="string" id="7229311">&#34;0&#34;</span><span class="op" id="7229314">,</span>&nbsp;<span class="string" id="7229316">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="7229353">}</span><span class="op" id="7229354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229357">{</span><span class="string" id="7229358">&#34;0g&#34;</span><span class="op" id="7229362">,</span>&nbsp;<span class="string" id="7229364">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7229404">}</span><span class="op" id="7229405">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229408">{</span><span class="string" id="7229409">&#34;00gg&#34;</span><span class="op" id="7229415">,</span>&nbsp;<span class="string" id="7229417">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7229457">}</span><span class="op" id="7229458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229461">{</span><span class="string" id="7229462">&#34;0\x01&#34;</span><span class="op" id="7229469">,</span>&nbsp;<span class="string" id="7229471">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="7229507">}</span><span class="op" id="7229508">,</span><br>
<span class="lineno"></span><span class="op" id="7229510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7229513">func</span>&nbsp;<span class="ident" id="7229518">TestInvalidErr</span><span class="op" id="7229532">(</span><span class="ident" id="7229533">t</span>&nbsp;<span class="op" id="7229535">*</span><span class="ident" id="7229536">testing</span><span class="op" id="7229543">.</span><span class="ident" id="7229544">T</span><span class="op" id="7229545">)</span>&nbsp;<span class="op" id="7229547">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229550">for</span>&nbsp;<span class="ident" id="7229554">i</span><span class="op" id="7229555">,</span>&nbsp;<span class="ident" id="7229557">test</span>&nbsp;<span class="op" id="7229562">:=</span>&nbsp;<span class="keyword" id="7229565">range</span>&nbsp;<span class="ident" id="7229571">errTests</span>&nbsp;<span class="op" id="7229580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229584">dst</span>&nbsp;<span class="op" id="7229588">:=</span>&nbsp;<span class="builtinfunc" id="7229591">make</span><span class="op" id="7229595">(</span><span class="op" id="7229596">[</span><span class="op" id="7229597">]</span><span class="builtintype" id="7229598">byte</span><span class="op" id="7229602">,</span>&nbsp;<span class="ident" id="7229604">DecodedLen</span><span class="op" id="7229614">(</span><span class="builtinfunc" id="7229615">len</span><span class="op" id="7229618">(</span><span class="ident" id="7229619">test</span><span class="op" id="7229623">.</span><span class="ident" id="7229624">in</span><span class="op" id="7229626">)</span><span class="op" id="7229627">)</span><span class="op" id="7229628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229632">_</span><span class="op" id="7229633">,</span>&nbsp;<span class="ident" id="7229635">err</span>&nbsp;<span class="op" id="7229639">:=</span>&nbsp;<span class="ident" id="7229642">Decode</span><span class="op" id="7229648">(</span><span class="ident" id="7229649">dst</span><span class="op" id="7229652">,</span>&nbsp;<span class="op" id="7229654">[</span><span class="op" id="7229655">]</span><span class="builtintype" id="7229656">byte</span><span class="op" id="7229660">(</span><span class="ident" id="7229661">test</span><span class="op" id="7229665">.</span><span class="ident" id="7229666">in</span><span class="op" id="7229668">)</span><span class="op" id="7229669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229673">if</span>&nbsp;<span class="ident" id="7229676">err</span>&nbsp;<span class="op" id="7229680">==</span>&nbsp;<span class="ident" id="7229683">nil</span>&nbsp;<span class="op" id="7229687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229692">t</span><span class="op" id="7229693">.</span><span class="ident" id="7229694">Errorf</span><span class="op" id="7229700">(</span><span class="string" id="7229701">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7229732">,</span>&nbsp;<span class="ident" id="7229734">i</span><span class="op" id="7229735">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229739">}</span>&nbsp;<span class="keyword" id="7229741">else</span>&nbsp;<span class="keyword" id="7229746">if</span>&nbsp;<span class="ident" id="7229749">err</span><span class="op" id="7229752">.</span><span class="ident" id="7229753">Error</span><span class="op" id="7229758">(</span><span class="op" id="7229759">)</span>&nbsp;<span class="op" id="7229761">!=</span>&nbsp;<span class="ident" id="7229764">test</span><span class="op" id="7229768">.</span><span class="ident" id="7229769">err</span>&nbsp;<span class="op" id="7229773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229778">t</span><span class="op" id="7229779">.</span><span class="ident" id="7229780">Errorf</span><span class="op" id="7229786">(</span><span class="string" id="7229787">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7229810">,</span>&nbsp;<span class="ident" id="7229812">i</span><span class="op" id="7229813">,</span>&nbsp;<span class="ident" id="7229815">err</span><span class="op" id="7229818">,</span>&nbsp;<span class="ident" id="7229820">test</span><span class="op" id="7229824">.</span><span class="ident" id="7229825">err</span><span class="op" id="7229828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229835">}</span><br>
<span class="lineno"></span><span class="op" id="7229837">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7229840">func</span>&nbsp;<span class="ident" id="7229845">TestInvalidStringErr</span><span class="op" id="7229865">(</span><span class="ident" id="7229866">t</span>&nbsp;<span class="op" id="7229868">*</span><span class="ident" id="7229869">testing</span><span class="op" id="7229876">.</span><span class="ident" id="7229877">T</span><span class="op" id="7229878">)</span>&nbsp;<span class="op" id="7229880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229883">for</span>&nbsp;<span class="ident" id="7229887">i</span><span class="op" id="7229888">,</span>&nbsp;<span class="ident" id="7229890">test</span>&nbsp;<span class="op" id="7229895">:=</span>&nbsp;<span class="keyword" id="7229898">range</span>&nbsp;<span class="ident" id="7229904">errTests</span>&nbsp;<span class="op" id="7229913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229917">_</span><span class="op" id="7229918">,</span>&nbsp;<span class="ident" id="7229920">err</span>&nbsp;<span class="op" id="7229924">:=</span>&nbsp;<span class="ident" id="7229927">DecodeString</span><span class="op" id="7229939">(</span><span class="ident" id="7229940">test</span><span class="op" id="7229944">.</span><span class="ident" id="7229945">in</span><span class="op" id="7229947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229951">if</span>&nbsp;<span class="ident" id="7229954">err</span>&nbsp;<span class="op" id="7229958">==</span>&nbsp;<span class="ident" id="7229961">nil</span>&nbsp;<span class="op" id="7229965">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229970">t</span><span class="op" id="7229971">.</span><span class="ident" id="7229972">Errorf</span><span class="op" id="7229978">(</span><span class="string" id="7229979">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7230010">,</span>&nbsp;<span class="ident" id="7230012">i</span><span class="op" id="7230013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230017">}</span>&nbsp;<span class="keyword" id="7230019">else</span>&nbsp;<span class="keyword" id="7230024">if</span>&nbsp;<span class="ident" id="7230027">err</span><span class="op" id="7230030">.</span><span class="ident" id="7230031">Error</span><span class="op" id="7230036">(</span><span class="op" id="7230037">)</span>&nbsp;<span class="op" id="7230039">!=</span>&nbsp;<span class="ident" id="7230042">test</span><span class="op" id="7230046">.</span><span class="ident" id="7230047">err</span>&nbsp;<span class="op" id="7230051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230056">t</span><span class="op" id="7230057">.</span><span class="ident" id="7230058">Errorf</span><span class="op" id="7230064">(</span><span class="string" id="7230065">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7230088">,</span>&nbsp;<span class="ident" id="7230090">i</span><span class="op" id="7230091">,</span>&nbsp;<span class="ident" id="7230093">err</span><span class="op" id="7230096">,</span>&nbsp;<span class="ident" id="7230098">test</span><span class="op" id="7230102">.</span><span class="ident" id="7230103">err</span><span class="op" id="7230106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230113">}</span><br>
<span class="lineno">110</span><span class="op" id="7230115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7230118">func</span>&nbsp;<span class="ident" id="7230123">TestDumper</span><span class="op" id="7230133">(</span><span class="ident" id="7230134">t</span>&nbsp;<span class="op" id="7230136">*</span><span class="ident" id="7230137">testing</span><span class="op" id="7230144">.</span><span class="ident" id="7230145">T</span><span class="op" id="7230146">)</span>&nbsp;<span class="op" id="7230148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230151">var</span>&nbsp;<span class="ident" id="7230155">in</span>&nbsp;<span class="op" id="7230158">[</span><span class="num" id="7230159">40</span><span class="op" id="7230161">]</span><span class="builtintype" id="7230162">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230168">for</span>&nbsp;<span class="ident" id="7230172">i</span>&nbsp;<span class="op" id="7230174">:=</span>&nbsp;<span class="keyword" id="7230177">range</span>&nbsp;<span class="ident" id="7230183">in</span>&nbsp;<span class="op" id="7230186">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230190">in</span><span class="op" id="7230192">[</span><span class="ident" id="7230193">i</span><span class="op" id="7230194">]</span>&nbsp;<span class="op" id="7230196">=</span>&nbsp;<span class="builtintype" id="7230198">byte</span><span class="op" id="7230202">(</span><span class="ident" id="7230203">i</span>&nbsp;<span class="op" id="7230205">+</span>&nbsp;<span class="num" id="7230207">30</span><span class="op" id="7230209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230216">for</span>&nbsp;<span class="ident" id="7230220">stride</span>&nbsp;<span class="op" id="7230227">:=</span>&nbsp;<span class="num" id="7230230">1</span><span class="op" id="7230231">;</span>&nbsp;<span class="ident" id="7230233">stride</span>&nbsp;<span class="op" id="7230240">&lt;</span>&nbsp;<span class="builtinfunc" id="7230242">len</span><span class="op" id="7230245">(</span><span class="ident" id="7230246">in</span><span class="op" id="7230248">)</span><span class="op" id="7230249">;</span>&nbsp;<span class="ident" id="7230251">stride</span><span class="op" id="7230257">++</span>&nbsp;<span class="op" id="7230260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230264">var</span>&nbsp;<span class="ident" id="7230268">out</span>&nbsp;<span class="ident" id="7230272">bytes</span><span class="op" id="7230277">.</span><span class="ident" id="7230278">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230287">dumper</span>&nbsp;<span class="op" id="7230294">:=</span>&nbsp;<span class="ident" id="7230297">Dumper</span><span class="op" id="7230303">(</span><span class="op" id="7230304">&amp;</span><span class="ident" id="7230305">out</span><span class="op" id="7230308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230312">done</span>&nbsp;<span class="op" id="7230317">:=</span>&nbsp;<span class="num" id="7230320">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230324">for</span>&nbsp;<span class="ident" id="7230328">done</span>&nbsp;<span class="op" id="7230333">&lt;</span>&nbsp;<span class="builtinfunc" id="7230335">len</span><span class="op" id="7230338">(</span><span class="ident" id="7230339">in</span><span class="op" id="7230341">)</span>&nbsp;<span class="op" id="7230343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230348">todo</span>&nbsp;<span class="op" id="7230353">:=</span>&nbsp;<span class="ident" id="7230356">done</span>&nbsp;<span class="op" id="7230361">+</span>&nbsp;<span class="ident" id="7230363">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230373">if</span>&nbsp;<span class="ident" id="7230376">todo</span>&nbsp;<span class="op" id="7230381">&gt;</span>&nbsp;<span class="builtinfunc" id="7230383">len</span><span class="op" id="7230386">(</span><span class="ident" id="7230387">in</span><span class="op" id="7230389">)</span>&nbsp;<span class="op" id="7230391">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230397">todo</span>&nbsp;<span class="op" id="7230402">=</span>&nbsp;<span class="builtinfunc" id="7230404">len</span><span class="op" id="7230407">(</span><span class="ident" id="7230408">in</span><span class="op" id="7230410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230420">dumper</span><span class="op" id="7230426">.</span><span class="ident" id="7230427">Write</span><span class="op" id="7230432">(</span><span class="ident" id="7230433">in</span><span class="op" id="7230435">[</span><span class="ident" id="7230436">done</span><span class="op" id="7230440">:</span><span class="ident" id="7230441">todo</span><span class="op" id="7230445">]</span><span class="op" id="7230446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230451">done</span>&nbsp;<span class="op" id="7230456">=</span>&nbsp;<span class="ident" id="7230458">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230465">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230470">dumper</span><span class="op" id="7230476">.</span><span class="ident" id="7230477">Close</span><span class="op" id="7230482">(</span><span class="op" id="7230483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230487">if</span>&nbsp;<span class="op" id="7230490">!</span><span class="ident" id="7230491">bytes</span><span class="op" id="7230496">.</span><span class="ident" id="7230497">Equal</span><span class="op" id="7230502">(</span><span class="ident" id="7230503">out</span><span class="op" id="7230506">.</span><span class="ident" id="7230507">Bytes</span><span class="op" id="7230512">(</span><span class="op" id="7230513">)</span><span class="op" id="7230514">,</span>&nbsp;<span class="ident" id="7230516">expectedHexDump</span><span class="op" id="7230531">)</span>&nbsp;<span class="op" id="7230533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230538">t</span><span class="op" id="7230539">.</span><span class="ident" id="7230540">Errorf</span><span class="op" id="7230546">(</span><span class="string" id="7230547">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7230587">,</span>&nbsp;<span class="ident" id="7230589">stride</span><span class="op" id="7230595">,</span>&nbsp;<span class="ident" id="7230597">out</span><span class="op" id="7230600">.</span><span class="ident" id="7230601">Bytes</span><span class="op" id="7230606">(</span><span class="op" id="7230607">)</span><span class="op" id="7230608">,</span>&nbsp;<span class="ident" id="7230610">expectedHexDump</span><span class="op" id="7230625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230629">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230632">}</span><br>
<span class="lineno"></span><span class="op" id="7230634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7230637">func</span>&nbsp;<span class="ident" id="7230642">TestDump</span><span class="op" id="7230650">(</span><span class="ident" id="7230651">t</span>&nbsp;<span class="op" id="7230653">*</span><span class="ident" id="7230654">testing</span><span class="op" id="7230661">.</span><span class="ident" id="7230662">T</span><span class="op" id="7230663">)</span>&nbsp;<span class="op" id="7230665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230668">var</span>&nbsp;<span class="ident" id="7230672">in</span>&nbsp;<span class="op" id="7230675">[</span><span class="num" id="7230676">40</span><span class="op" id="7230678">]</span><span class="builtintype" id="7230679">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230685">for</span>&nbsp;<span class="ident" id="7230689">i</span>&nbsp;<span class="op" id="7230691">:=</span>&nbsp;<span class="keyword" id="7230694">range</span>&nbsp;<span class="ident" id="7230700">in</span>&nbsp;<span class="op" id="7230703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230707">in</span><span class="op" id="7230709">[</span><span class="ident" id="7230710">i</span><span class="op" id="7230711">]</span>&nbsp;<span class="op" id="7230713">=</span>&nbsp;<span class="builtintype" id="7230715">byte</span><span class="op" id="7230719">(</span><span class="ident" id="7230720">i</span>&nbsp;<span class="op" id="7230722">+</span>&nbsp;<span class="num" id="7230724">30</span><span class="op" id="7230726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230733">out</span>&nbsp;<span class="op" id="7230737">:=</span>&nbsp;<span class="op" id="7230740">[</span><span class="op" id="7230741">]</span><span class="builtintype" id="7230742">byte</span><span class="op" id="7230746">(</span><span class="ident" id="7230747">Dump</span><span class="op" id="7230751">(</span><span class="ident" id="7230752">in</span><span class="op" id="7230754">[</span><span class="op" id="7230755">:</span><span class="op" id="7230756">]</span><span class="op" id="7230757">)</span><span class="op" id="7230758">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230761">if</span>&nbsp;<span class="op" id="7230764">!</span><span class="ident" id="7230765">bytes</span><span class="op" id="7230770">.</span><span class="ident" id="7230771">Equal</span><span class="op" id="7230776">(</span><span class="ident" id="7230777">out</span><span class="op" id="7230780">,</span>&nbsp;<span class="ident" id="7230782">expectedHexDump</span><span class="op" id="7230797">)</span>&nbsp;<span class="op" id="7230799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230803">t</span><span class="op" id="7230804">.</span><span class="ident" id="7230805">Errorf</span><span class="op" id="7230811">(</span><span class="string" id="7230812">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7230833">,</span>&nbsp;<span class="ident" id="7230835">out</span><span class="op" id="7230838">,</span>&nbsp;<span class="ident" id="7230840">expectedHexDump</span><span class="op" id="7230855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230858">}</span><br>
<span class="lineno"></span><span class="op" id="7230860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="7230863">var</span>&nbsp;<span class="ident" id="7230867">expectedHexDump</span>&nbsp;<span class="op" id="7230883">=</span>&nbsp;<span class="op" id="7230885">[</span><span class="op" id="7230886">]</span><span class="builtintype" id="7230887">byte</span><span class="op" id="7230891">(</span><span class="string" id="7230892">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="7231123">)</span>
</div>
</body>
</html>
