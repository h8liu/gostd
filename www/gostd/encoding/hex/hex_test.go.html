<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6523763">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6523818">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6523872">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6523923">package</span>&nbsp;<span class="ident" id="6523931">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6523936">import</span>&nbsp;<span class="op" id="6523943">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6523946">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6523955">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6523965">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6523968">type</span>&nbsp;<span class="ident" id="6523973">encDecTest</span>&nbsp;<span class="keyword" id="6523984">struct</span>&nbsp;<span class="op" id="6523991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6523994">enc</span>&nbsp;<span class="builtintype" id="6523998">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6524006">dec</span>&nbsp;<span class="op" id="6524010">[</span><span class="op" id="6524011">]</span><span class="builtintype" id="6524012">byte</span><br>
<span class="lineno">15</span><span class="op" id="6524017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6524020">var</span>&nbsp;<span class="ident" id="6524024">encDecTests</span>&nbsp;<span class="op" id="6524036">=</span>&nbsp;<span class="op" id="6524038">[</span><span class="op" id="6524039">]</span><span class="ident" id="6524040">encDecTest</span><span class="op" id="6524050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524053">{</span><span class="string" id="6524054">&#34;&#34;</span><span class="op" id="6524056">,</span>&nbsp;<span class="op" id="6524058">[</span><span class="op" id="6524059">]</span><span class="builtintype" id="6524060">byte</span><span class="op" id="6524064">{</span><span class="op" id="6524065">}</span><span class="op" id="6524066">}</span><span class="op" id="6524067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524070">{</span><span class="string" id="6524071">&#34;0001020304050607&#34;</span><span class="op" id="6524089">,</span>&nbsp;<span class="op" id="6524091">[</span><span class="op" id="6524092">]</span><span class="builtintype" id="6524093">byte</span><span class="op" id="6524097">{</span><span class="num" id="6524098">0</span><span class="op" id="6524099">,</span>&nbsp;<span class="num" id="6524101">1</span><span class="op" id="6524102">,</span>&nbsp;<span class="num" id="6524104">2</span><span class="op" id="6524105">,</span>&nbsp;<span class="num" id="6524107">3</span><span class="op" id="6524108">,</span>&nbsp;<span class="num" id="6524110">4</span><span class="op" id="6524111">,</span>&nbsp;<span class="num" id="6524113">5</span><span class="op" id="6524114">,</span>&nbsp;<span class="num" id="6524116">6</span><span class="op" id="6524117">,</span>&nbsp;<span class="num" id="6524119">7</span><span class="op" id="6524120">}</span><span class="op" id="6524121">}</span><span class="op" id="6524122">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524125">{</span><span class="string" id="6524126">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="6524144">,</span>&nbsp;<span class="op" id="6524146">[</span><span class="op" id="6524147">]</span><span class="builtintype" id="6524148">byte</span><span class="op" id="6524152">{</span><span class="num" id="6524153">8</span><span class="op" id="6524154">,</span>&nbsp;<span class="num" id="6524156">9</span><span class="op" id="6524157">,</span>&nbsp;<span class="num" id="6524159">10</span><span class="op" id="6524161">,</span>&nbsp;<span class="num" id="6524163">11</span><span class="op" id="6524165">,</span>&nbsp;<span class="num" id="6524167">12</span><span class="op" id="6524169">,</span>&nbsp;<span class="num" id="6524171">13</span><span class="op" id="6524173">,</span>&nbsp;<span class="num" id="6524175">14</span><span class="op" id="6524177">,</span>&nbsp;<span class="num" id="6524179">15</span><span class="op" id="6524181">}</span><span class="op" id="6524182">}</span><span class="op" id="6524183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524186">{</span><span class="string" id="6524187">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="6524205">,</span>&nbsp;<span class="op" id="6524207">[</span><span class="op" id="6524208">]</span><span class="builtintype" id="6524209">byte</span><span class="op" id="6524213">{</span><span class="num" id="6524214">0xf0</span><span class="op" id="6524218">,</span>&nbsp;<span class="num" id="6524220">0xf1</span><span class="op" id="6524224">,</span>&nbsp;<span class="num" id="6524226">0xf2</span><span class="op" id="6524230">,</span>&nbsp;<span class="num" id="6524232">0xf3</span><span class="op" id="6524236">,</span>&nbsp;<span class="num" id="6524238">0xf4</span><span class="op" id="6524242">,</span>&nbsp;<span class="num" id="6524244">0xf5</span><span class="op" id="6524248">,</span>&nbsp;<span class="num" id="6524250">0xf6</span><span class="op" id="6524254">,</span>&nbsp;<span class="num" id="6524256">0xf7</span><span class="op" id="6524260">}</span><span class="op" id="6524261">}</span><span class="op" id="6524262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524265">{</span><span class="string" id="6524266">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="6524284">,</span>&nbsp;<span class="op" id="6524286">[</span><span class="op" id="6524287">]</span><span class="builtintype" id="6524288">byte</span><span class="op" id="6524292">{</span><span class="num" id="6524293">0xf8</span><span class="op" id="6524297">,</span>&nbsp;<span class="num" id="6524299">0xf9</span><span class="op" id="6524303">,</span>&nbsp;<span class="num" id="6524305">0xfa</span><span class="op" id="6524309">,</span>&nbsp;<span class="num" id="6524311">0xfb</span><span class="op" id="6524315">,</span>&nbsp;<span class="num" id="6524317">0xfc</span><span class="op" id="6524321">,</span>&nbsp;<span class="num" id="6524323">0xfd</span><span class="op" id="6524327">,</span>&nbsp;<span class="num" id="6524329">0xfe</span><span class="op" id="6524333">,</span>&nbsp;<span class="num" id="6524335">0xff</span><span class="op" id="6524339">}</span><span class="op" id="6524340">}</span><span class="op" id="6524341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524344">{</span><span class="string" id="6524345">&#34;67&#34;</span><span class="op" id="6524349">,</span>&nbsp;<span class="op" id="6524351">[</span><span class="op" id="6524352">]</span><span class="builtintype" id="6524353">byte</span><span class="op" id="6524357">{</span><span class="string" id="6524358">&#39;g&#39;</span><span class="op" id="6524361">}</span><span class="op" id="6524362">}</span><span class="op" id="6524363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524366">{</span><span class="string" id="6524367">&#34;e3a1&#34;</span><span class="op" id="6524373">,</span>&nbsp;<span class="op" id="6524375">[</span><span class="op" id="6524376">]</span><span class="builtintype" id="6524377">byte</span><span class="op" id="6524381">{</span><span class="num" id="6524382">0xe3</span><span class="op" id="6524386">,</span>&nbsp;<span class="num" id="6524388">0xa1</span><span class="op" id="6524392">}</span><span class="op" id="6524393">}</span><span class="op" id="6524394">,</span><br>
<span class="lineno">25</span><span class="op" id="6524396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6524399">func</span>&nbsp;<span class="ident" id="6524404">TestEncode</span><span class="op" id="6524414">(</span><span class="ident" id="6524415">t</span>&nbsp;<span class="op" id="6524417">*</span><span class="ident" id="6524418">testing</span><span class="op" id="6524425">.</span><span class="ident" id="6524426">T</span><span class="op" id="6524427">)</span>&nbsp;<span class="op" id="6524429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6524432">for</span>&nbsp;<span class="ident" id="6524436">i</span><span class="op" id="6524437">,</span>&nbsp;<span class="ident" id="6524439">test</span>&nbsp;<span class="op" id="6524444">:=</span>&nbsp;<span class="keyword" id="6524447">range</span>&nbsp;<span class="ident" id="6524453">encDecTests</span>&nbsp;<span class="op" id="6524465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6524469">dst</span>&nbsp;<span class="op" id="6524473">:=</span>&nbsp;<span class="builtinfunc" id="6524476">make</span><span class="op" id="6524480">(</span><span class="op" id="6524481">[</span><span class="op" id="6524482">]</span><span class="builtintype" id="6524483">byte</span><span class="op" id="6524487">,</span>&nbsp;<span class="ident" id="6524489">EncodedLen</span><span class="op" id="6524499">(</span><span class="builtinfunc" id="6524500">len</span><span class="op" id="6524503">(</span><span class="ident" id="6524504">test</span><span class="op" id="6524508">.</span><span class="ident" id="6524509">dec</span><span class="op" id="6524512">)</span><span class="op" id="6524513">)</span><span class="op" id="6524514">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6524518">n</span>&nbsp;<span class="op" id="6524520">:=</span>&nbsp;<span class="ident" id="6524523">Encode</span><span class="op" id="6524529">(</span><span class="ident" id="6524530">dst</span><span class="op" id="6524533">,</span>&nbsp;<span class="ident" id="6524535">test</span><span class="op" id="6524539">.</span><span class="ident" id="6524540">dec</span><span class="op" id="6524543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6524547">if</span>&nbsp;<span class="ident" id="6524550">n</span>&nbsp;<span class="op" id="6524552">!=</span>&nbsp;<span class="builtinfunc" id="6524555">len</span><span class="op" id="6524558">(</span><span class="ident" id="6524559">dst</span><span class="op" id="6524562">)</span>&nbsp;<span class="op" id="6524564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6524569">t</span><span class="op" id="6524570">.</span><span class="ident" id="6524571">Errorf</span><span class="op" id="6524577">(</span><span class="string" id="6524578">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="6524619">,</span>&nbsp;<span class="ident" id="6524621">i</span><span class="op" id="6524622">,</span>&nbsp;<span class="ident" id="6524624">n</span><span class="op" id="6524625">,</span>&nbsp;<span class="builtinfunc" id="6524627">len</span><span class="op" id="6524630">(</span><span class="ident" id="6524631">dst</span><span class="op" id="6524634">)</span><span class="op" id="6524635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6524643">if</span>&nbsp;<span class="builtintype" id="6524646">string</span><span class="op" id="6524652">(</span><span class="ident" id="6524653">dst</span><span class="op" id="6524656">)</span>&nbsp;<span class="op" id="6524658">!=</span>&nbsp;<span class="ident" id="6524661">test</span><span class="op" id="6524665">.</span><span class="ident" id="6524666">enc</span>&nbsp;<span class="op" id="6524670">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6524675">t</span><span class="op" id="6524676">.</span><span class="ident" id="6524677">Errorf</span><span class="op" id="6524683">(</span><span class="string" id="6524684">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6524709">,</span>&nbsp;<span class="ident" id="6524711">i</span><span class="op" id="6524712">,</span>&nbsp;<span class="ident" id="6524714">dst</span><span class="op" id="6524717">,</span>&nbsp;<span class="ident" id="6524719">test</span><span class="op" id="6524723">.</span><span class="ident" id="6524724">enc</span><span class="op" id="6524727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6524734">}</span><br>
<span class="lineno"></span><span class="op" id="6524736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6524739">func</span>&nbsp;<span class="ident" id="6524744">TestDecode</span><span class="op" id="6524754">(</span><span class="ident" id="6524755">t</span>&nbsp;<span class="op" id="6524757">*</span><span class="ident" id="6524758">testing</span><span class="op" id="6524765">.</span><span class="ident" id="6524766">T</span><span class="op" id="6524767">)</span>&nbsp;<span class="op" id="6524769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6524772">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6524826">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6524860">decTests</span>&nbsp;<span class="op" id="6524869">:=</span>&nbsp;<span class="builtinfunc" id="6524872">append</span><span class="op" id="6524878">(</span><span class="ident" id="6524879">encDecTests</span><span class="op" id="6524890">,</span>&nbsp;<span class="ident" id="6524892">encDecTest</span><span class="op" id="6524902">{</span><span class="string" id="6524903">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="6524921">,</span>&nbsp;<span class="op" id="6524923">[</span><span class="op" id="6524924">]</span><span class="builtintype" id="6524925">byte</span><span class="op" id="6524929">{</span><span class="num" id="6524930">0xf8</span><span class="op" id="6524934">,</span>&nbsp;<span class="num" id="6524936">0xf9</span><span class="op" id="6524940">,</span>&nbsp;<span class="num" id="6524942">0xfa</span><span class="op" id="6524946">,</span>&nbsp;<span class="num" id="6524948">0xfb</span><span class="op" id="6524952">,</span>&nbsp;<span class="num" id="6524954">0xfc</span><span class="op" id="6524958">,</span>&nbsp;<span class="num" id="6524960">0xfd</span><span class="op" id="6524964">,</span>&nbsp;<span class="num" id="6524966">0xfe</span><span class="op" id="6524970">,</span>&nbsp;<span class="num" id="6524972">0xff</span><span class="op" id="6524976">}</span><span class="op" id="6524977">}</span><span class="op" id="6524978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6524981">for</span>&nbsp;<span class="ident" id="6524985">i</span><span class="op" id="6524986">,</span>&nbsp;<span class="ident" id="6524988">test</span>&nbsp;<span class="op" id="6524993">:=</span>&nbsp;<span class="keyword" id="6524996">range</span>&nbsp;<span class="ident" id="6525002">decTests</span>&nbsp;<span class="op" id="6525011">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525015">dst</span>&nbsp;<span class="op" id="6525019">:=</span>&nbsp;<span class="builtinfunc" id="6525022">make</span><span class="op" id="6525026">(</span><span class="op" id="6525027">[</span><span class="op" id="6525028">]</span><span class="builtintype" id="6525029">byte</span><span class="op" id="6525033">,</span>&nbsp;<span class="ident" id="6525035">DecodedLen</span><span class="op" id="6525045">(</span><span class="builtinfunc" id="6525046">len</span><span class="op" id="6525049">(</span><span class="ident" id="6525050">test</span><span class="op" id="6525054">.</span><span class="ident" id="6525055">enc</span><span class="op" id="6525058">)</span><span class="op" id="6525059">)</span><span class="op" id="6525060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525064">n</span><span class="op" id="6525065">,</span>&nbsp;<span class="ident" id="6525067">err</span>&nbsp;<span class="op" id="6525071">:=</span>&nbsp;<span class="ident" id="6525074">Decode</span><span class="op" id="6525080">(</span><span class="ident" id="6525081">dst</span><span class="op" id="6525084">,</span>&nbsp;<span class="op" id="6525086">[</span><span class="op" id="6525087">]</span><span class="builtintype" id="6525088">byte</span><span class="op" id="6525092">(</span><span class="ident" id="6525093">test</span><span class="op" id="6525097">.</span><span class="ident" id="6525098">enc</span><span class="op" id="6525101">)</span><span class="op" id="6525102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525106">if</span>&nbsp;<span class="ident" id="6525109">err</span>&nbsp;<span class="op" id="6525113">!=</span>&nbsp;<span class="ident" id="6525116">nil</span>&nbsp;<span class="op" id="6525120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525125">t</span><span class="op" id="6525126">.</span><span class="ident" id="6525127">Errorf</span><span class="op" id="6525133">(</span><span class="string" id="6525134">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="6525173">,</span>&nbsp;<span class="ident" id="6525175">i</span><span class="op" id="6525176">,</span>&nbsp;<span class="ident" id="6525178">n</span><span class="op" id="6525179">,</span>&nbsp;<span class="builtinfunc" id="6525181">len</span><span class="op" id="6525184">(</span><span class="ident" id="6525185">dst</span><span class="op" id="6525188">)</span><span class="op" id="6525189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525193">}</span>&nbsp;<span class="keyword" id="6525195">else</span>&nbsp;<span class="keyword" id="6525200">if</span>&nbsp;<span class="op" id="6525203">!</span><span class="ident" id="6525204">bytes</span><span class="op" id="6525209">.</span><span class="ident" id="6525210">Equal</span><span class="op" id="6525215">(</span><span class="ident" id="6525216">dst</span><span class="op" id="6525219">,</span>&nbsp;<span class="ident" id="6525221">test</span><span class="op" id="6525225">.</span><span class="ident" id="6525226">dec</span><span class="op" id="6525229">)</span>&nbsp;<span class="op" id="6525231">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525236">t</span><span class="op" id="6525237">.</span><span class="ident" id="6525238">Errorf</span><span class="op" id="6525244">(</span><span class="string" id="6525245">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6525270">,</span>&nbsp;<span class="ident" id="6525272">i</span><span class="op" id="6525273">,</span>&nbsp;<span class="ident" id="6525275">dst</span><span class="op" id="6525278">,</span>&nbsp;<span class="ident" id="6525280">test</span><span class="op" id="6525284">.</span><span class="ident" id="6525285">dec</span><span class="op" id="6525288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525295">}</span><br>
<span class="lineno"></span><span class="op" id="6525297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6525300">func</span>&nbsp;<span class="ident" id="6525305">TestEncodeToString</span><span class="op" id="6525323">(</span><span class="ident" id="6525324">t</span>&nbsp;<span class="op" id="6525326">*</span><span class="ident" id="6525327">testing</span><span class="op" id="6525334">.</span><span class="ident" id="6525335">T</span><span class="op" id="6525336">)</span>&nbsp;<span class="op" id="6525338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525341">for</span>&nbsp;<span class="ident" id="6525345">i</span><span class="op" id="6525346">,</span>&nbsp;<span class="ident" id="6525348">test</span>&nbsp;<span class="op" id="6525353">:=</span>&nbsp;<span class="keyword" id="6525356">range</span>&nbsp;<span class="ident" id="6525362">encDecTests</span>&nbsp;<span class="op" id="6525374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525378">s</span>&nbsp;<span class="op" id="6525380">:=</span>&nbsp;<span class="ident" id="6525383">EncodeToString</span><span class="op" id="6525397">(</span><span class="ident" id="6525398">test</span><span class="op" id="6525402">.</span><span class="ident" id="6525403">dec</span><span class="op" id="6525406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525410">if</span>&nbsp;<span class="ident" id="6525413">s</span>&nbsp;<span class="op" id="6525415">!=</span>&nbsp;<span class="ident" id="6525418">test</span><span class="op" id="6525422">.</span><span class="ident" id="6525423">enc</span>&nbsp;<span class="op" id="6525427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525432">t</span><span class="op" id="6525433">.</span><span class="ident" id="6525434">Errorf</span><span class="op" id="6525440">(</span><span class="string" id="6525441">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="6525461">,</span>&nbsp;<span class="ident" id="6525463">i</span><span class="op" id="6525464">,</span>&nbsp;<span class="ident" id="6525466">s</span><span class="op" id="6525467">,</span>&nbsp;<span class="ident" id="6525469">test</span><span class="op" id="6525473">.</span><span class="ident" id="6525474">enc</span><span class="op" id="6525477">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525484">}</span><br>
<span class="lineno"></span><span class="op" id="6525486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6525489">func</span>&nbsp;<span class="ident" id="6525494">TestDecodeString</span><span class="op" id="6525510">(</span><span class="ident" id="6525511">t</span>&nbsp;<span class="op" id="6525513">*</span><span class="ident" id="6525514">testing</span><span class="op" id="6525521">.</span><span class="ident" id="6525522">T</span><span class="op" id="6525523">)</span>&nbsp;<span class="op" id="6525525">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525528">for</span>&nbsp;<span class="ident" id="6525532">i</span><span class="op" id="6525533">,</span>&nbsp;<span class="ident" id="6525535">test</span>&nbsp;<span class="op" id="6525540">:=</span>&nbsp;<span class="keyword" id="6525543">range</span>&nbsp;<span class="ident" id="6525549">encDecTests</span>&nbsp;<span class="op" id="6525561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525565">dst</span><span class="op" id="6525568">,</span>&nbsp;<span class="ident" id="6525570">err</span>&nbsp;<span class="op" id="6525574">:=</span>&nbsp;<span class="ident" id="6525577">DecodeString</span><span class="op" id="6525589">(</span><span class="ident" id="6525590">test</span><span class="op" id="6525594">.</span><span class="ident" id="6525595">enc</span><span class="op" id="6525598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525602">if</span>&nbsp;<span class="ident" id="6525605">err</span>&nbsp;<span class="op" id="6525609">!=</span>&nbsp;<span class="ident" id="6525612">nil</span>&nbsp;<span class="op" id="6525616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525621">t</span><span class="op" id="6525622">.</span><span class="ident" id="6525623">Errorf</span><span class="op" id="6525629">(</span><span class="string" id="6525630">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="6525661">,</span>&nbsp;<span class="ident" id="6525663">i</span><span class="op" id="6525664">,</span>&nbsp;<span class="ident" id="6525666">err</span><span class="op" id="6525669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525674">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6525689">if</span>&nbsp;<span class="op" id="6525692">!</span><span class="ident" id="6525693">bytes</span><span class="op" id="6525698">.</span><span class="ident" id="6525699">Equal</span><span class="op" id="6525704">(</span><span class="ident" id="6525705">dst</span><span class="op" id="6525708">,</span>&nbsp;<span class="ident" id="6525710">test</span><span class="op" id="6525714">.</span><span class="ident" id="6525715">dec</span><span class="op" id="6525718">)</span>&nbsp;<span class="op" id="6525720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525725">t</span><span class="op" id="6525726">.</span><span class="ident" id="6525727">Errorf</span><span class="op" id="6525733">(</span><span class="string" id="6525734">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="6525759">,</span>&nbsp;<span class="ident" id="6525761">i</span><span class="op" id="6525762">,</span>&nbsp;<span class="ident" id="6525764">dst</span><span class="op" id="6525767">,</span>&nbsp;<span class="ident" id="6525769">test</span><span class="op" id="6525773">.</span><span class="ident" id="6525774">dec</span><span class="op" id="6525777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525784">}</span><br>
<span class="lineno">75</span><span class="op" id="6525786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6525789">type</span>&nbsp;<span class="ident" id="6525794">errTest</span>&nbsp;<span class="keyword" id="6525802">struct</span>&nbsp;<span class="op" id="6525809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525812">in</span>&nbsp;&nbsp;<span class="builtintype" id="6525816">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6525824">err</span>&nbsp;<span class="builtintype" id="6525828">string</span><br>
<span class="lineno">80</span><span class="op" id="6525835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6525838">var</span>&nbsp;<span class="ident" id="6525842">errTests</span>&nbsp;<span class="op" id="6525851">=</span>&nbsp;<span class="op" id="6525853">[</span><span class="op" id="6525854">]</span><span class="ident" id="6525855">errTest</span><span class="op" id="6525862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525865">{</span><span class="string" id="6525866">&#34;0&#34;</span><span class="op" id="6525869">,</span>&nbsp;<span class="string" id="6525871">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="6525908">}</span><span class="op" id="6525909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525912">{</span><span class="string" id="6525913">&#34;0g&#34;</span><span class="op" id="6525917">,</span>&nbsp;<span class="string" id="6525919">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6525959">}</span><span class="op" id="6525960">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6525963">{</span><span class="string" id="6525964">&#34;00gg&#34;</span><span class="op" id="6525970">,</span>&nbsp;<span class="string" id="6525972">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6526012">}</span><span class="op" id="6526013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526016">{</span><span class="string" id="6526017">&#34;0\x01&#34;</span><span class="op" id="6526024">,</span>&nbsp;<span class="string" id="6526026">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="6526062">}</span><span class="op" id="6526063">,</span><br>
<span class="lineno"></span><span class="op" id="6526065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6526068">func</span>&nbsp;<span class="ident" id="6526073">TestInvalidErr</span><span class="op" id="6526087">(</span><span class="ident" id="6526088">t</span>&nbsp;<span class="op" id="6526090">*</span><span class="ident" id="6526091">testing</span><span class="op" id="6526098">.</span><span class="ident" id="6526099">T</span><span class="op" id="6526100">)</span>&nbsp;<span class="op" id="6526102">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526105">for</span>&nbsp;<span class="ident" id="6526109">i</span><span class="op" id="6526110">,</span>&nbsp;<span class="ident" id="6526112">test</span>&nbsp;<span class="op" id="6526117">:=</span>&nbsp;<span class="keyword" id="6526120">range</span>&nbsp;<span class="ident" id="6526126">errTests</span>&nbsp;<span class="op" id="6526135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526139">dst</span>&nbsp;<span class="op" id="6526143">:=</span>&nbsp;<span class="builtinfunc" id="6526146">make</span><span class="op" id="6526150">(</span><span class="op" id="6526151">[</span><span class="op" id="6526152">]</span><span class="builtintype" id="6526153">byte</span><span class="op" id="6526157">,</span>&nbsp;<span class="ident" id="6526159">DecodedLen</span><span class="op" id="6526169">(</span><span class="builtinfunc" id="6526170">len</span><span class="op" id="6526173">(</span><span class="ident" id="6526174">test</span><span class="op" id="6526178">.</span><span class="ident" id="6526179">in</span><span class="op" id="6526181">)</span><span class="op" id="6526182">)</span><span class="op" id="6526183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526187">_</span><span class="op" id="6526188">,</span>&nbsp;<span class="ident" id="6526190">err</span>&nbsp;<span class="op" id="6526194">:=</span>&nbsp;<span class="ident" id="6526197">Decode</span><span class="op" id="6526203">(</span><span class="ident" id="6526204">dst</span><span class="op" id="6526207">,</span>&nbsp;<span class="op" id="6526209">[</span><span class="op" id="6526210">]</span><span class="builtintype" id="6526211">byte</span><span class="op" id="6526215">(</span><span class="ident" id="6526216">test</span><span class="op" id="6526220">.</span><span class="ident" id="6526221">in</span><span class="op" id="6526223">)</span><span class="op" id="6526224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526228">if</span>&nbsp;<span class="ident" id="6526231">err</span>&nbsp;<span class="op" id="6526235">==</span>&nbsp;<span class="ident" id="6526238">nil</span>&nbsp;<span class="op" id="6526242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526247">t</span><span class="op" id="6526248">.</span><span class="ident" id="6526249">Errorf</span><span class="op" id="6526255">(</span><span class="string" id="6526256">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6526287">,</span>&nbsp;<span class="ident" id="6526289">i</span><span class="op" id="6526290">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526294">}</span>&nbsp;<span class="keyword" id="6526296">else</span>&nbsp;<span class="keyword" id="6526301">if</span>&nbsp;<span class="ident" id="6526304">err</span><span class="op" id="6526307">.</span><span class="ident" id="6526308">Error</span><span class="op" id="6526313">(</span><span class="op" id="6526314">)</span>&nbsp;<span class="op" id="6526316">!=</span>&nbsp;<span class="ident" id="6526319">test</span><span class="op" id="6526323">.</span><span class="ident" id="6526324">err</span>&nbsp;<span class="op" id="6526328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526333">t</span><span class="op" id="6526334">.</span><span class="ident" id="6526335">Errorf</span><span class="op" id="6526341">(</span><span class="string" id="6526342">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6526365">,</span>&nbsp;<span class="ident" id="6526367">i</span><span class="op" id="6526368">,</span>&nbsp;<span class="ident" id="6526370">err</span><span class="op" id="6526373">,</span>&nbsp;<span class="ident" id="6526375">test</span><span class="op" id="6526379">.</span><span class="ident" id="6526380">err</span><span class="op" id="6526383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526390">}</span><br>
<span class="lineno"></span><span class="op" id="6526392">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="6526395">func</span>&nbsp;<span class="ident" id="6526400">TestInvalidStringErr</span><span class="op" id="6526420">(</span><span class="ident" id="6526421">t</span>&nbsp;<span class="op" id="6526423">*</span><span class="ident" id="6526424">testing</span><span class="op" id="6526431">.</span><span class="ident" id="6526432">T</span><span class="op" id="6526433">)</span>&nbsp;<span class="op" id="6526435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526438">for</span>&nbsp;<span class="ident" id="6526442">i</span><span class="op" id="6526443">,</span>&nbsp;<span class="ident" id="6526445">test</span>&nbsp;<span class="op" id="6526450">:=</span>&nbsp;<span class="keyword" id="6526453">range</span>&nbsp;<span class="ident" id="6526459">errTests</span>&nbsp;<span class="op" id="6526468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526472">_</span><span class="op" id="6526473">,</span>&nbsp;<span class="ident" id="6526475">err</span>&nbsp;<span class="op" id="6526479">:=</span>&nbsp;<span class="ident" id="6526482">DecodeString</span><span class="op" id="6526494">(</span><span class="ident" id="6526495">test</span><span class="op" id="6526499">.</span><span class="ident" id="6526500">in</span><span class="op" id="6526502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526506">if</span>&nbsp;<span class="ident" id="6526509">err</span>&nbsp;<span class="op" id="6526513">==</span>&nbsp;<span class="ident" id="6526516">nil</span>&nbsp;<span class="op" id="6526520">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526525">t</span><span class="op" id="6526526">.</span><span class="ident" id="6526527">Errorf</span><span class="op" id="6526533">(</span><span class="string" id="6526534">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6526565">,</span>&nbsp;<span class="ident" id="6526567">i</span><span class="op" id="6526568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526572">}</span>&nbsp;<span class="keyword" id="6526574">else</span>&nbsp;<span class="keyword" id="6526579">if</span>&nbsp;<span class="ident" id="6526582">err</span><span class="op" id="6526585">.</span><span class="ident" id="6526586">Error</span><span class="op" id="6526591">(</span><span class="op" id="6526592">)</span>&nbsp;<span class="op" id="6526594">!=</span>&nbsp;<span class="ident" id="6526597">test</span><span class="op" id="6526601">.</span><span class="ident" id="6526602">err</span>&nbsp;<span class="op" id="6526606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526611">t</span><span class="op" id="6526612">.</span><span class="ident" id="6526613">Errorf</span><span class="op" id="6526619">(</span><span class="string" id="6526620">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6526643">,</span>&nbsp;<span class="ident" id="6526645">i</span><span class="op" id="6526646">,</span>&nbsp;<span class="ident" id="6526648">err</span><span class="op" id="6526651">,</span>&nbsp;<span class="ident" id="6526653">test</span><span class="op" id="6526657">.</span><span class="ident" id="6526658">err</span><span class="op" id="6526661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526668">}</span><br>
<span class="lineno">110</span><span class="op" id="6526670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6526673">func</span>&nbsp;<span class="ident" id="6526678">TestDumper</span><span class="op" id="6526688">(</span><span class="ident" id="6526689">t</span>&nbsp;<span class="op" id="6526691">*</span><span class="ident" id="6526692">testing</span><span class="op" id="6526699">.</span><span class="ident" id="6526700">T</span><span class="op" id="6526701">)</span>&nbsp;<span class="op" id="6526703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526706">var</span>&nbsp;<span class="ident" id="6526710">in</span>&nbsp;<span class="op" id="6526713">[</span><span class="num" id="6526714">40</span><span class="op" id="6526716">]</span><span class="builtintype" id="6526717">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526723">for</span>&nbsp;<span class="ident" id="6526727">i</span>&nbsp;<span class="op" id="6526729">:=</span>&nbsp;<span class="keyword" id="6526732">range</span>&nbsp;<span class="ident" id="6526738">in</span>&nbsp;<span class="op" id="6526741">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526745">in</span><span class="op" id="6526747">[</span><span class="ident" id="6526748">i</span><span class="op" id="6526749">]</span>&nbsp;<span class="op" id="6526751">=</span>&nbsp;<span class="builtintype" id="6526753">byte</span><span class="op" id="6526757">(</span><span class="ident" id="6526758">i</span>&nbsp;<span class="op" id="6526760">+</span>&nbsp;<span class="num" id="6526762">30</span><span class="op" id="6526764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526771">for</span>&nbsp;<span class="ident" id="6526775">stride</span>&nbsp;<span class="op" id="6526782">:=</span>&nbsp;<span class="num" id="6526785">1</span><span class="op" id="6526786">;</span>&nbsp;<span class="ident" id="6526788">stride</span>&nbsp;<span class="op" id="6526795">&lt;</span>&nbsp;<span class="builtinfunc" id="6526797">len</span><span class="op" id="6526800">(</span><span class="ident" id="6526801">in</span><span class="op" id="6526803">)</span><span class="op" id="6526804">;</span>&nbsp;<span class="ident" id="6526806">stride</span><span class="op" id="6526812">++</span>&nbsp;<span class="op" id="6526815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526819">var</span>&nbsp;<span class="ident" id="6526823">out</span>&nbsp;<span class="ident" id="6526827">bytes</span><span class="op" id="6526832">.</span><span class="ident" id="6526833">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526842">dumper</span>&nbsp;<span class="op" id="6526849">:=</span>&nbsp;<span class="ident" id="6526852">Dumper</span><span class="op" id="6526858">(</span><span class="op" id="6526859">&amp;</span><span class="ident" id="6526860">out</span><span class="op" id="6526863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526867">done</span>&nbsp;<span class="op" id="6526872">:=</span>&nbsp;<span class="num" id="6526875">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526879">for</span>&nbsp;<span class="ident" id="6526883">done</span>&nbsp;<span class="op" id="6526888">&lt;</span>&nbsp;<span class="builtinfunc" id="6526890">len</span><span class="op" id="6526893">(</span><span class="ident" id="6526894">in</span><span class="op" id="6526896">)</span>&nbsp;<span class="op" id="6526898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526903">todo</span>&nbsp;<span class="op" id="6526908">:=</span>&nbsp;<span class="ident" id="6526911">done</span>&nbsp;<span class="op" id="6526916">+</span>&nbsp;<span class="ident" id="6526918">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6526928">if</span>&nbsp;<span class="ident" id="6526931">todo</span>&nbsp;<span class="op" id="6526936">&gt;</span>&nbsp;<span class="builtinfunc" id="6526938">len</span><span class="op" id="6526941">(</span><span class="ident" id="6526942">in</span><span class="op" id="6526944">)</span>&nbsp;<span class="op" id="6526946">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526952">todo</span>&nbsp;<span class="op" id="6526957">=</span>&nbsp;<span class="builtinfunc" id="6526959">len</span><span class="op" id="6526962">(</span><span class="ident" id="6526963">in</span><span class="op" id="6526965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6526970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6526975">dumper</span><span class="op" id="6526981">.</span><span class="ident" id="6526982">Write</span><span class="op" id="6526987">(</span><span class="ident" id="6526988">in</span><span class="op" id="6526990">[</span><span class="ident" id="6526991">done</span><span class="op" id="6526995">:</span><span class="ident" id="6526996">todo</span><span class="op" id="6527000">]</span><span class="op" id="6527001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6527006">done</span>&nbsp;<span class="op" id="6527011">=</span>&nbsp;<span class="ident" id="6527013">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6527020">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6527025">dumper</span><span class="op" id="6527031">.</span><span class="ident" id="6527032">Close</span><span class="op" id="6527037">(</span><span class="op" id="6527038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6527042">if</span>&nbsp;<span class="op" id="6527045">!</span><span class="ident" id="6527046">bytes</span><span class="op" id="6527051">.</span><span class="ident" id="6527052">Equal</span><span class="op" id="6527057">(</span><span class="ident" id="6527058">out</span><span class="op" id="6527061">.</span><span class="ident" id="6527062">Bytes</span><span class="op" id="6527067">(</span><span class="op" id="6527068">)</span><span class="op" id="6527069">,</span>&nbsp;<span class="ident" id="6527071">expectedHexDump</span><span class="op" id="6527086">)</span>&nbsp;<span class="op" id="6527088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6527093">t</span><span class="op" id="6527094">.</span><span class="ident" id="6527095">Errorf</span><span class="op" id="6527101">(</span><span class="string" id="6527102">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6527142">,</span>&nbsp;<span class="ident" id="6527144">stride</span><span class="op" id="6527150">,</span>&nbsp;<span class="ident" id="6527152">out</span><span class="op" id="6527155">.</span><span class="ident" id="6527156">Bytes</span><span class="op" id="6527161">(</span><span class="op" id="6527162">)</span><span class="op" id="6527163">,</span>&nbsp;<span class="ident" id="6527165">expectedHexDump</span><span class="op" id="6527180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6527184">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6527187">}</span><br>
<span class="lineno"></span><span class="op" id="6527189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6527192">func</span>&nbsp;<span class="ident" id="6527197">TestDump</span><span class="op" id="6527205">(</span><span class="ident" id="6527206">t</span>&nbsp;<span class="op" id="6527208">*</span><span class="ident" id="6527209">testing</span><span class="op" id="6527216">.</span><span class="ident" id="6527217">T</span><span class="op" id="6527218">)</span>&nbsp;<span class="op" id="6527220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6527223">var</span>&nbsp;<span class="ident" id="6527227">in</span>&nbsp;<span class="op" id="6527230">[</span><span class="num" id="6527231">40</span><span class="op" id="6527233">]</span><span class="builtintype" id="6527234">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6527240">for</span>&nbsp;<span class="ident" id="6527244">i</span>&nbsp;<span class="op" id="6527246">:=</span>&nbsp;<span class="keyword" id="6527249">range</span>&nbsp;<span class="ident" id="6527255">in</span>&nbsp;<span class="op" id="6527258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6527262">in</span><span class="op" id="6527264">[</span><span class="ident" id="6527265">i</span><span class="op" id="6527266">]</span>&nbsp;<span class="op" id="6527268">=</span>&nbsp;<span class="builtintype" id="6527270">byte</span><span class="op" id="6527274">(</span><span class="ident" id="6527275">i</span>&nbsp;<span class="op" id="6527277">+</span>&nbsp;<span class="num" id="6527279">30</span><span class="op" id="6527281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6527284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6527288">out</span>&nbsp;<span class="op" id="6527292">:=</span>&nbsp;<span class="op" id="6527295">[</span><span class="op" id="6527296">]</span><span class="builtintype" id="6527297">byte</span><span class="op" id="6527301">(</span><span class="ident" id="6527302">Dump</span><span class="op" id="6527306">(</span><span class="ident" id="6527307">in</span><span class="op" id="6527309">[</span><span class="op" id="6527310">:</span><span class="op" id="6527311">]</span><span class="op" id="6527312">)</span><span class="op" id="6527313">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6527316">if</span>&nbsp;<span class="op" id="6527319">!</span><span class="ident" id="6527320">bytes</span><span class="op" id="6527325">.</span><span class="ident" id="6527326">Equal</span><span class="op" id="6527331">(</span><span class="ident" id="6527332">out</span><span class="op" id="6527335">,</span>&nbsp;<span class="ident" id="6527337">expectedHexDump</span><span class="op" id="6527352">)</span>&nbsp;<span class="op" id="6527354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6527358">t</span><span class="op" id="6527359">.</span><span class="ident" id="6527360">Errorf</span><span class="op" id="6527366">(</span><span class="string" id="6527367">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6527388">,</span>&nbsp;<span class="ident" id="6527390">out</span><span class="op" id="6527393">,</span>&nbsp;<span class="ident" id="6527395">expectedHexDump</span><span class="op" id="6527410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6527413">}</span><br>
<span class="lineno"></span><span class="op" id="6527415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="6527418">var</span>&nbsp;<span class="ident" id="6527422">expectedHexDump</span>&nbsp;<span class="op" id="6527438">=</span>&nbsp;<span class="op" id="6527440">[</span><span class="op" id="6527441">]</span><span class="builtintype" id="6527442">byte</span><span class="op" id="6527446">(</span><span class="string" id="6527447">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="6527678">)</span>
</div>
</body>
</html>
