<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html" class="current">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6457169">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6457225">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6457279">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6457330">package</span>&nbsp;<span class="ident" id="6457338">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6457343">import</span>&nbsp;<span class="op" id="6457350">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6457353">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6457364">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6457374">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6457377">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="6457445">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6457512">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="6457522">func</span>&nbsp;<span class="ident" id="6457527">loopbackInterface</span><span class="op" id="6457544">(</span><span class="op" id="6457545">)</span>&nbsp;<span class="op" id="6457547">*</span><span class="ident" id="6457548">Interface</span>&nbsp;<span class="op" id="6457558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6457561">ift</span><span class="op" id="6457564">,</span>&nbsp;<span class="ident" id="6457566">err</span>&nbsp;<span class="op" id="6457570">:=</span>&nbsp;<span class="ident" id="6457573">Interfaces</span><span class="op" id="6457583">(</span><span class="op" id="6457584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457587">if</span>&nbsp;<span class="ident" id="6457590">err</span>&nbsp;<span class="op" id="6457594">!=</span>&nbsp;<span class="builtintype" id="6457597">nil</span>&nbsp;<span class="op" id="6457601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457605">return</span>&nbsp;<span class="builtintype" id="6457612">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6457617">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457620">for</span>&nbsp;<span class="ident" id="6457624">_</span><span class="op" id="6457625">,</span>&nbsp;<span class="ident" id="6457627">ifi</span>&nbsp;<span class="op" id="6457631">:=</span>&nbsp;<span class="keyword" id="6457634">range</span>&nbsp;<span class="ident" id="6457640">ift</span>&nbsp;<span class="op" id="6457644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457648">if</span>&nbsp;<span class="ident" id="6457651">ifi</span><span class="op" id="6457654">.</span><span class="ident" id="6457655">Flags</span><span class="op" id="6457660">&amp;</span><span class="ident" id="6457661">FlagLoopback</span>&nbsp;<span class="op" id="6457674">!=</span>&nbsp;<span class="num" id="6457677">0</span>&nbsp;<span class="op" id="6457679">&amp;&amp;</span>&nbsp;<span class="ident" id="6457682">ifi</span><span class="op" id="6457685">.</span><span class="ident" id="6457686">Flags</span><span class="op" id="6457691">&amp;</span><span class="ident" id="6457692">FlagUp</span>&nbsp;<span class="op" id="6457699">!=</span>&nbsp;<span class="num" id="6457702">0</span>&nbsp;<span class="op" id="6457704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457709">return</span>&nbsp;<span class="op" id="6457716">&amp;</span><span class="ident" id="6457717">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6457723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6457726">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457729">return</span>&nbsp;<span class="builtintype" id="6457736">nil</span><br>
<span class="lineno"></span><span class="op" id="6457740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6457743">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6457814">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="6457879">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6457909">func</span>&nbsp;<span class="ident" id="6457914">ipv6LinkLocalUnicastAddr</span><span class="op" id="6457938">(</span><span class="ident" id="6457939">ifi</span>&nbsp;<span class="op" id="6457943">*</span><span class="ident" id="6457944">Interface</span><span class="op" id="6457953">)</span>&nbsp;<span class="builtintype" id="6457955">string</span>&nbsp;<span class="op" id="6457962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457965">if</span>&nbsp;<span class="ident" id="6457968">ifi</span>&nbsp;<span class="op" id="6457972">==</span>&nbsp;<span class="builtintype" id="6457975">nil</span>&nbsp;<span class="op" id="6457979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6457983">return</span>&nbsp;<span class="string" id="6457990">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6457994">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6457997">ifat</span><span class="op" id="6458001">,</span>&nbsp;<span class="ident" id="6458003">err</span>&nbsp;<span class="op" id="6458007">:=</span>&nbsp;<span class="ident" id="6458010">ifi</span><span class="op" id="6458013">.</span><span class="ident" id="6458014">Addrs</span><span class="op" id="6458019">(</span><span class="op" id="6458020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458023">if</span>&nbsp;<span class="ident" id="6458026">err</span>&nbsp;<span class="op" id="6458030">!=</span>&nbsp;<span class="builtintype" id="6458033">nil</span>&nbsp;<span class="op" id="6458037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458041">return</span>&nbsp;<span class="string" id="6458048">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458055">for</span>&nbsp;<span class="ident" id="6458059">_</span><span class="op" id="6458060">,</span>&nbsp;<span class="ident" id="6458062">ifa</span>&nbsp;<span class="op" id="6458066">:=</span>&nbsp;<span class="keyword" id="6458069">range</span>&nbsp;<span class="ident" id="6458075">ifat</span>&nbsp;<span class="op" id="6458080">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458084">switch</span>&nbsp;<span class="ident" id="6458091">ifa</span>&nbsp;<span class="op" id="6458095">:=</span>&nbsp;<span class="ident" id="6458098">ifa</span><span class="op" id="6458101">.</span><span class="op" id="6458102">(</span><span class="keyword" id="6458103">type</span><span class="op" id="6458107">)</span>&nbsp;<span class="op" id="6458109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458113">case</span>&nbsp;<span class="op" id="6458118">*</span><span class="ident" id="6458119">IPAddr</span><span class="op" id="6458125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458130">if</span>&nbsp;<span class="ident" id="6458133">ifa</span><span class="op" id="6458136">.</span><span class="ident" id="6458137">IP</span><span class="op" id="6458139">.</span><span class="ident" id="6458140">To4</span><span class="op" id="6458143">(</span><span class="op" id="6458144">)</span>&nbsp;<span class="op" id="6458146">==</span>&nbsp;<span class="builtintype" id="6458149">nil</span>&nbsp;<span class="op" id="6458153">&amp;&amp;</span>&nbsp;<span class="ident" id="6458156">ifa</span><span class="op" id="6458159">.</span><span class="ident" id="6458160">IP</span><span class="op" id="6458162">.</span><span class="ident" id="6458163">IsLinkLocalUnicast</span><span class="op" id="6458181">(</span><span class="op" id="6458182">)</span>&nbsp;<span class="op" id="6458184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458190">return</span>&nbsp;<span class="ident" id="6458197">ifa</span><span class="op" id="6458200">.</span><span class="ident" id="6458201">IP</span><span class="op" id="6458203">.</span><span class="ident" id="6458204">String</span><span class="op" id="6458210">(</span><span class="op" id="6458211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458216">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458220">case</span>&nbsp;<span class="op" id="6458225">*</span><span class="ident" id="6458226">IPNet</span><span class="op" id="6458231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458236">if</span>&nbsp;<span class="ident" id="6458239">ifa</span><span class="op" id="6458242">.</span><span class="ident" id="6458243">IP</span><span class="op" id="6458245">.</span><span class="ident" id="6458246">To4</span><span class="op" id="6458249">(</span><span class="op" id="6458250">)</span>&nbsp;<span class="op" id="6458252">==</span>&nbsp;<span class="builtintype" id="6458255">nil</span>&nbsp;<span class="op" id="6458259">&amp;&amp;</span>&nbsp;<span class="ident" id="6458262">ifa</span><span class="op" id="6458265">.</span><span class="ident" id="6458266">IP</span><span class="op" id="6458268">.</span><span class="ident" id="6458269">IsLinkLocalUnicast</span><span class="op" id="6458287">(</span><span class="op" id="6458288">)</span>&nbsp;<span class="op" id="6458290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458296">return</span>&nbsp;<span class="ident" id="6458303">ifa</span><span class="op" id="6458306">.</span><span class="ident" id="6458307">IP</span><span class="op" id="6458309">.</span><span class="ident" id="6458310">String</span><span class="op" id="6458316">(</span><span class="op" id="6458317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458326">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458332">return</span>&nbsp;<span class="string" id="6458339">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6458342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6458345">func</span>&nbsp;<span class="ident" id="6458350">TestInterfaces</span><span class="op" id="6458364">(</span><span class="ident" id="6458365">t</span>&nbsp;<span class="op" id="6458367">*</span><span class="ident" id="6458368">testing</span><span class="op" id="6458375">.</span><span class="ident" id="6458376">T</span><span class="op" id="6458377">)</span>&nbsp;<span class="op" id="6458379">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458382">ift</span><span class="op" id="6458385">,</span>&nbsp;<span class="ident" id="6458387">err</span>&nbsp;<span class="op" id="6458391">:=</span>&nbsp;<span class="ident" id="6458394">Interfaces</span><span class="op" id="6458404">(</span><span class="op" id="6458405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458408">if</span>&nbsp;<span class="ident" id="6458411">err</span>&nbsp;<span class="op" id="6458415">!=</span>&nbsp;<span class="builtintype" id="6458418">nil</span>&nbsp;<span class="op" id="6458422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458426">t</span><span class="op" id="6458427">.</span><span class="ident" id="6458428">Fatalf</span><span class="op" id="6458434">(</span><span class="string" id="6458435">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6458458">,</span>&nbsp;<span class="ident" id="6458460">err</span><span class="op" id="6458463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458469">t</span><span class="op" id="6458470">.</span><span class="ident" id="6458471">Logf</span><span class="op" id="6458475">(</span><span class="string" id="6458476">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6458500">,</span>&nbsp;<span class="builtinfunc" id="6458502">len</span><span class="op" id="6458505">(</span><span class="ident" id="6458506">ift</span><span class="op" id="6458509">)</span><span class="op" id="6458510">,</span>&nbsp;<span class="builtinfunc" id="6458512">cap</span><span class="op" id="6458515">(</span><span class="ident" id="6458516">ift</span><span class="op" id="6458519">)</span><span class="op" id="6458520">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458524">for</span>&nbsp;<span class="ident" id="6458528">_</span><span class="op" id="6458529">,</span>&nbsp;<span class="ident" id="6458531">ifi</span>&nbsp;<span class="op" id="6458535">:=</span>&nbsp;<span class="keyword" id="6458538">range</span>&nbsp;<span class="ident" id="6458544">ift</span>&nbsp;<span class="op" id="6458548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458552">ifxi</span><span class="op" id="6458556">,</span>&nbsp;<span class="ident" id="6458558">err</span>&nbsp;<span class="op" id="6458562">:=</span>&nbsp;<span class="ident" id="6458565">InterfaceByIndex</span><span class="op" id="6458581">(</span><span class="ident" id="6458582">ifi</span><span class="op" id="6458585">.</span><span class="ident" id="6458586">Index</span><span class="op" id="6458591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458595">if</span>&nbsp;<span class="ident" id="6458598">err</span>&nbsp;<span class="op" id="6458602">!=</span>&nbsp;<span class="builtintype" id="6458605">nil</span>&nbsp;<span class="op" id="6458609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458614">t</span><span class="op" id="6458615">.</span><span class="ident" id="6458616">Fatalf</span><span class="op" id="6458622">(</span><span class="string" id="6458623">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6458656">,</span>&nbsp;<span class="ident" id="6458658">ifi</span><span class="op" id="6458661">.</span><span class="ident" id="6458662">Index</span><span class="op" id="6458667">,</span>&nbsp;<span class="ident" id="6458669">err</span><span class="op" id="6458672">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458680">if</span>&nbsp;<span class="op" id="6458683">!</span><span class="ident" id="6458684">reflect</span><span class="op" id="6458691">.</span><span class="ident" id="6458692">DeepEqual</span><span class="op" id="6458701">(</span><span class="ident" id="6458702">ifxi</span><span class="op" id="6458706">,</span>&nbsp;<span class="op" id="6458708">&amp;</span><span class="ident" id="6458709">ifi</span><span class="op" id="6458712">)</span>&nbsp;<span class="op" id="6458714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458719">t</span><span class="op" id="6458720">.</span><span class="ident" id="6458721">Fatalf</span><span class="op" id="6458727">(</span><span class="string" id="6458728">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6458764">,</span>&nbsp;<span class="ident" id="6458766">ifi</span><span class="op" id="6458769">.</span><span class="ident" id="6458770">Index</span><span class="op" id="6458775">,</span>&nbsp;<span class="ident" id="6458777">ifxi</span><span class="op" id="6458781">,</span>&nbsp;<span class="ident" id="6458783">ifi</span><span class="op" id="6458786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458794">ifxn</span><span class="op" id="6458798">,</span>&nbsp;<span class="ident" id="6458800">err</span>&nbsp;<span class="op" id="6458804">:=</span>&nbsp;<span class="ident" id="6458807">InterfaceByName</span><span class="op" id="6458822">(</span><span class="ident" id="6458823">ifi</span><span class="op" id="6458826">.</span><span class="ident" id="6458827">Name</span><span class="op" id="6458831">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458835">if</span>&nbsp;<span class="ident" id="6458838">err</span>&nbsp;<span class="op" id="6458842">!=</span>&nbsp;<span class="builtintype" id="6458845">nil</span>&nbsp;<span class="op" id="6458849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458854">t</span><span class="op" id="6458855">.</span><span class="ident" id="6458856">Fatalf</span><span class="op" id="6458862">(</span><span class="string" id="6458863">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6458895">,</span>&nbsp;<span class="ident" id="6458897">ifi</span><span class="op" id="6458900">.</span><span class="ident" id="6458901">Name</span><span class="op" id="6458905">,</span>&nbsp;<span class="ident" id="6458907">err</span><span class="op" id="6458910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6458914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6458918">if</span>&nbsp;<span class="op" id="6458921">!</span><span class="ident" id="6458922">reflect</span><span class="op" id="6458929">.</span><span class="ident" id="6458930">DeepEqual</span><span class="op" id="6458939">(</span><span class="ident" id="6458940">ifxn</span><span class="op" id="6458944">,</span>&nbsp;<span class="op" id="6458946">&amp;</span><span class="ident" id="6458947">ifi</span><span class="op" id="6458950">)</span>&nbsp;<span class="op" id="6458952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6458957">t</span><span class="op" id="6458958">.</span><span class="ident" id="6458959">Fatalf</span><span class="op" id="6458965">(</span><span class="string" id="6458966">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6459001">,</span>&nbsp;<span class="ident" id="6459003">ifi</span><span class="op" id="6459006">.</span><span class="ident" id="6459007">Name</span><span class="op" id="6459011">,</span>&nbsp;<span class="ident" id="6459013">ifxn</span><span class="op" id="6459017">,</span>&nbsp;<span class="ident" id="6459019">ifi</span><span class="op" id="6459022">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6459026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459030">t</span><span class="op" id="6459031">.</span><span class="ident" id="6459032">Logf</span><span class="op" id="6459036">(</span><span class="string" id="6459037">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="6459071">,</span>&nbsp;<span class="ident" id="6459073">ifi</span><span class="op" id="6459076">.</span><span class="ident" id="6459077">Name</span><span class="op" id="6459081">,</span>&nbsp;<span class="ident" id="6459083">ifi</span><span class="op" id="6459086">.</span><span class="ident" id="6459087">Flags</span><span class="op" id="6459092">.</span><span class="ident" id="6459093">String</span><span class="op" id="6459099">(</span><span class="op" id="6459100">)</span><span class="op" id="6459101">,</span>&nbsp;<span class="ident" id="6459103">ifi</span><span class="op" id="6459106">.</span><span class="ident" id="6459107">Index</span><span class="op" id="6459112">,</span>&nbsp;<span class="ident" id="6459114">ifi</span><span class="op" id="6459117">.</span><span class="ident" id="6459118">MTU</span><span class="op" id="6459121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459125">t</span><span class="op" id="6459126">.</span><span class="ident" id="6459127">Logf</span><span class="op" id="6459131">(</span><span class="string" id="6459132">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6459155">,</span>&nbsp;<span class="ident" id="6459157">ifi</span><span class="op" id="6459160">.</span><span class="ident" id="6459161">HardwareAddr</span><span class="op" id="6459173">.</span><span class="ident" id="6459174">String</span><span class="op" id="6459180">(</span><span class="op" id="6459181">)</span><span class="op" id="6459182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459186">testInterfaceAddrs</span><span class="op" id="6459204">(</span><span class="ident" id="6459205">t</span><span class="op" id="6459206">,</span>&nbsp;<span class="op" id="6459208">&amp;</span><span class="ident" id="6459209">ifi</span><span class="op" id="6459212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459216">testInterfaceMulticastAddrs</span><span class="op" id="6459243">(</span><span class="ident" id="6459244">t</span><span class="op" id="6459245">,</span>&nbsp;<span class="op" id="6459247">&amp;</span><span class="ident" id="6459248">ifi</span><span class="op" id="6459251">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6459254">}</span><br>
<span class="lineno"></span><span class="op" id="6459256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6459259">func</span>&nbsp;<span class="ident" id="6459264">TestInterfaceAddrs</span><span class="op" id="6459282">(</span><span class="ident" id="6459283">t</span>&nbsp;<span class="op" id="6459285">*</span><span class="ident" id="6459286">testing</span><span class="op" id="6459293">.</span><span class="ident" id="6459294">T</span><span class="op" id="6459295">)</span>&nbsp;<span class="op" id="6459297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459300">ifat</span><span class="op" id="6459304">,</span>&nbsp;<span class="ident" id="6459306">err</span>&nbsp;<span class="op" id="6459310">:=</span>&nbsp;<span class="ident" id="6459313">InterfaceAddrs</span><span class="op" id="6459327">(</span><span class="op" id="6459328">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459331">if</span>&nbsp;<span class="ident" id="6459334">err</span>&nbsp;<span class="op" id="6459338">!=</span>&nbsp;<span class="builtintype" id="6459341">nil</span>&nbsp;<span class="op" id="6459345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459349">t</span><span class="op" id="6459350">.</span><span class="ident" id="6459351">Fatalf</span><span class="op" id="6459357">(</span><span class="string" id="6459358">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6459385">,</span>&nbsp;<span class="ident" id="6459387">err</span><span class="op" id="6459390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6459393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459396">t</span><span class="op" id="6459397">.</span><span class="ident" id="6459398">Logf</span><span class="op" id="6459402">(</span><span class="string" id="6459403">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6459427">,</span>&nbsp;<span class="builtinfunc" id="6459429">len</span><span class="op" id="6459432">(</span><span class="ident" id="6459433">ifat</span><span class="op" id="6459437">)</span><span class="op" id="6459438">,</span>&nbsp;<span class="builtinfunc" id="6459440">cap</span><span class="op" id="6459443">(</span><span class="ident" id="6459444">ifat</span><span class="op" id="6459448">)</span><span class="op" id="6459449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459452">testAddrs</span><span class="op" id="6459461">(</span><span class="ident" id="6459462">t</span><span class="op" id="6459463">,</span>&nbsp;<span class="ident" id="6459465">ifat</span><span class="op" id="6459469">)</span><br>
<span class="lineno">90</span><span class="op" id="6459471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6459474">func</span>&nbsp;<span class="ident" id="6459479">testInterfaceAddrs</span><span class="op" id="6459497">(</span><span class="ident" id="6459498">t</span>&nbsp;<span class="op" id="6459500">*</span><span class="ident" id="6459501">testing</span><span class="op" id="6459508">.</span><span class="ident" id="6459509">T</span><span class="op" id="6459510">,</span>&nbsp;<span class="ident" id="6459512">ifi</span>&nbsp;<span class="op" id="6459516">*</span><span class="ident" id="6459517">Interface</span><span class="op" id="6459526">)</span>&nbsp;<span class="op" id="6459528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459531">ifat</span><span class="op" id="6459535">,</span>&nbsp;<span class="ident" id="6459537">err</span>&nbsp;<span class="op" id="6459541">:=</span>&nbsp;<span class="ident" id="6459544">ifi</span><span class="op" id="6459547">.</span><span class="ident" id="6459548">Addrs</span><span class="op" id="6459553">(</span><span class="op" id="6459554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459557">if</span>&nbsp;<span class="ident" id="6459560">err</span>&nbsp;<span class="op" id="6459564">!=</span>&nbsp;<span class="builtintype" id="6459567">nil</span>&nbsp;<span class="op" id="6459571">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459575">t</span><span class="op" id="6459576">.</span><span class="ident" id="6459577">Fatalf</span><span class="op" id="6459583">(</span><span class="string" id="6459584">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6459612">,</span>&nbsp;<span class="ident" id="6459614">err</span><span class="op" id="6459617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6459620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459623">testAddrs</span><span class="op" id="6459632">(</span><span class="ident" id="6459633">t</span><span class="op" id="6459634">,</span>&nbsp;<span class="ident" id="6459636">ifat</span><span class="op" id="6459640">)</span><br>
<span class="lineno"></span><span class="op" id="6459642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6459645">func</span>&nbsp;<span class="ident" id="6459650">testInterfaceMulticastAddrs</span><span class="op" id="6459677">(</span><span class="ident" id="6459678">t</span>&nbsp;<span class="op" id="6459680">*</span><span class="ident" id="6459681">testing</span><span class="op" id="6459688">.</span><span class="ident" id="6459689">T</span><span class="op" id="6459690">,</span>&nbsp;<span class="ident" id="6459692">ifi</span>&nbsp;<span class="op" id="6459696">*</span><span class="ident" id="6459697">Interface</span><span class="op" id="6459706">)</span>&nbsp;<span class="op" id="6459708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459711">ifmat</span><span class="op" id="6459716">,</span>&nbsp;<span class="ident" id="6459718">err</span>&nbsp;<span class="op" id="6459722">:=</span>&nbsp;<span class="ident" id="6459725">ifi</span><span class="op" id="6459728">.</span><span class="ident" id="6459729">MulticastAddrs</span><span class="op" id="6459743">(</span><span class="op" id="6459744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459747">if</span>&nbsp;<span class="ident" id="6459750">err</span>&nbsp;<span class="op" id="6459754">!=</span>&nbsp;<span class="builtintype" id="6459757">nil</span>&nbsp;<span class="op" id="6459761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459765">t</span><span class="op" id="6459766">.</span><span class="ident" id="6459767">Fatalf</span><span class="op" id="6459773">(</span><span class="string" id="6459774">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6459811">,</span>&nbsp;<span class="ident" id="6459813">err</span><span class="op" id="6459816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6459819">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6459822">testMulticastAddrs</span><span class="op" id="6459840">(</span><span class="ident" id="6459841">t</span><span class="op" id="6459842">,</span>&nbsp;<span class="ident" id="6459844">ifmat</span><span class="op" id="6459849">)</span><br>
<span class="lineno"></span><span class="op" id="6459851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6459854">func</span>&nbsp;<span class="ident" id="6459859">testAddrs</span><span class="op" id="6459868">(</span><span class="ident" id="6459869">t</span>&nbsp;<span class="op" id="6459871">*</span><span class="ident" id="6459872">testing</span><span class="op" id="6459879">.</span><span class="ident" id="6459880">T</span><span class="op" id="6459881">,</span>&nbsp;<span class="ident" id="6459883">ifat</span>&nbsp;<span class="op" id="6459888">[</span><span class="op" id="6459889">]</span><span class="ident" id="6459890">Addr</span><span class="op" id="6459894">)</span>&nbsp;<span class="op" id="6459896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459899">for</span>&nbsp;<span class="ident" id="6459903">_</span><span class="op" id="6459904">,</span>&nbsp;<span class="ident" id="6459906">ifa</span>&nbsp;<span class="op" id="6459910">:=</span>&nbsp;<span class="keyword" id="6459913">range</span>&nbsp;<span class="ident" id="6459919">ifat</span>&nbsp;<span class="op" id="6459924">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459928">switch</span>&nbsp;<span class="ident" id="6459935">ifa</span>&nbsp;<span class="op" id="6459939">:=</span>&nbsp;<span class="ident" id="6459942">ifa</span><span class="op" id="6459945">.</span><span class="op" id="6459946">(</span><span class="keyword" id="6459947">type</span><span class="op" id="6459951">)</span>&nbsp;<span class="op" id="6459953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459957">case</span>&nbsp;<span class="op" id="6459962">*</span><span class="ident" id="6459963">IPAddr</span><span class="op" id="6459969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6459974">if</span>&nbsp;<span class="ident" id="6459977">ifa</span>&nbsp;<span class="op" id="6459981">==</span>&nbsp;<span class="builtintype" id="6459984">nil</span>&nbsp;<span class="op" id="6459988">||</span>&nbsp;<span class="ident" id="6459991">ifa</span><span class="op" id="6459994">.</span><span class="ident" id="6459995">IP</span>&nbsp;<span class="op" id="6459998">==</span>&nbsp;<span class="builtintype" id="6460001">nil</span>&nbsp;<span class="op" id="6460005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460011">t</span><span class="op" id="6460012">.</span><span class="ident" id="6460013">Errorf</span><span class="op" id="6460019">(</span><span class="string" id="6460020">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6460048">,</span>&nbsp;<span class="ident" id="6460050">ifa</span><span class="op" id="6460053">,</span>&nbsp;<span class="ident" id="6460055">ifa</span><span class="op" id="6460058">.</span><span class="ident" id="6460059">IP</span><span class="op" id="6460061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460066">}</span>&nbsp;<span class="keyword" id="6460068">else</span>&nbsp;<span class="op" id="6460073">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460079">t</span><span class="op" id="6460080">.</span><span class="ident" id="6460081">Logf</span><span class="op" id="6460085">(</span><span class="string" id="6460086">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6460110">,</span>&nbsp;<span class="ident" id="6460112">ifa</span><span class="op" id="6460115">.</span><span class="ident" id="6460116">String</span><span class="op" id="6460122">(</span><span class="op" id="6460123">)</span><span class="op" id="6460124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460133">case</span>&nbsp;<span class="op" id="6460138">*</span><span class="ident" id="6460139">IPNet</span><span class="op" id="6460144">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460149">if</span>&nbsp;<span class="ident" id="6460152">ifa</span>&nbsp;<span class="op" id="6460156">==</span>&nbsp;<span class="builtintype" id="6460159">nil</span>&nbsp;<span class="op" id="6460163">||</span>&nbsp;<span class="ident" id="6460166">ifa</span><span class="op" id="6460169">.</span><span class="ident" id="6460170">IP</span>&nbsp;<span class="op" id="6460173">==</span>&nbsp;<span class="builtintype" id="6460176">nil</span>&nbsp;<span class="op" id="6460180">||</span>&nbsp;<span class="ident" id="6460183">ifa</span><span class="op" id="6460186">.</span><span class="ident" id="6460187">Mask</span>&nbsp;<span class="op" id="6460192">==</span>&nbsp;<span class="builtintype" id="6460195">nil</span>&nbsp;<span class="op" id="6460199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460205">t</span><span class="op" id="6460206">.</span><span class="ident" id="6460207">Errorf</span><span class="op" id="6460213">(</span><span class="string" id="6460214">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6460246">,</span>&nbsp;<span class="ident" id="6460248">ifa</span><span class="op" id="6460251">,</span>&nbsp;<span class="ident" id="6460253">ifa</span><span class="op" id="6460256">.</span><span class="ident" id="6460257">IP</span><span class="op" id="6460259">,</span>&nbsp;<span class="ident" id="6460261">ifa</span><span class="op" id="6460264">.</span><span class="ident" id="6460265">Mask</span><span class="op" id="6460269">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460274">}</span>&nbsp;<span class="keyword" id="6460276">else</span>&nbsp;<span class="op" id="6460281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460287">_</span><span class="op" id="6460288">,</span>&nbsp;<span class="ident" id="6460290">prefixLen</span>&nbsp;<span class="op" id="6460300">:=</span>&nbsp;<span class="ident" id="6460303">ifa</span><span class="op" id="6460306">.</span><span class="ident" id="6460307">Mask</span><span class="op" id="6460311">.</span><span class="ident" id="6460312">Size</span><span class="op" id="6460316">(</span><span class="op" id="6460317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460323">if</span>&nbsp;<span class="ident" id="6460326">ifa</span><span class="op" id="6460329">.</span><span class="ident" id="6460330">IP</span><span class="op" id="6460332">.</span><span class="ident" id="6460333">To4</span><span class="op" id="6460336">(</span><span class="op" id="6460337">)</span>&nbsp;<span class="op" id="6460339">!=</span>&nbsp;<span class="builtintype" id="6460342">nil</span>&nbsp;<span class="op" id="6460346">&amp;&amp;</span>&nbsp;<span class="ident" id="6460349">prefixLen</span>&nbsp;<span class="op" id="6460359">!=</span>&nbsp;<span class="num" id="6460362">8</span><span class="op" id="6460363">*</span><span class="ident" id="6460364">IPv4len</span>&nbsp;<span class="op" id="6460372">||</span>&nbsp;<span class="ident" id="6460375">ifa</span><span class="op" id="6460378">.</span><span class="ident" id="6460379">IP</span><span class="op" id="6460381">.</span><span class="ident" id="6460382">To16</span><span class="op" id="6460386">(</span><span class="op" id="6460387">)</span>&nbsp;<span class="op" id="6460389">!=</span>&nbsp;<span class="builtintype" id="6460392">nil</span>&nbsp;<span class="op" id="6460396">&amp;&amp;</span>&nbsp;<span class="ident" id="6460399">ifa</span><span class="op" id="6460402">.</span><span class="ident" id="6460403">IP</span><span class="op" id="6460405">.</span><span class="ident" id="6460406">To4</span><span class="op" id="6460409">(</span><span class="op" id="6460410">)</span>&nbsp;<span class="op" id="6460412">==</span>&nbsp;<span class="builtintype" id="6460415">nil</span>&nbsp;<span class="op" id="6460419">&amp;&amp;</span>&nbsp;<span class="ident" id="6460422">prefixLen</span>&nbsp;<span class="op" id="6460432">!=</span>&nbsp;<span class="num" id="6460435">8</span><span class="op" id="6460436">*</span><span class="ident" id="6460437">IPv6len</span>&nbsp;<span class="op" id="6460445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460452">t</span><span class="op" id="6460453">.</span><span class="ident" id="6460454">Errorf</span><span class="op" id="6460460">(</span><span class="string" id="6460461">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6460497">,</span>&nbsp;<span class="ident" id="6460499">ifa</span><span class="op" id="6460502">,</span>&nbsp;<span class="ident" id="6460504">ifa</span><span class="op" id="6460507">.</span><span class="ident" id="6460508">IP</span><span class="op" id="6460510">,</span>&nbsp;<span class="ident" id="6460512">ifa</span><span class="op" id="6460515">.</span><span class="ident" id="6460516">Mask</span><span class="op" id="6460520">,</span>&nbsp;<span class="ident" id="6460522">prefixLen</span><span class="op" id="6460531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460537">}</span>&nbsp;<span class="keyword" id="6460539">else</span>&nbsp;<span class="op" id="6460544">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460551">t</span><span class="op" id="6460552">.</span><span class="ident" id="6460553">Logf</span><span class="op" id="6460557">(</span><span class="string" id="6460558">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6460582">,</span>&nbsp;<span class="ident" id="6460584">ifa</span><span class="op" id="6460587">.</span><span class="ident" id="6460588">String</span><span class="op" id="6460594">(</span><span class="op" id="6460595">)</span><span class="op" id="6460596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460611">default</span><span class="op" id="6460618">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460623">t</span><span class="op" id="6460624">.</span><span class="ident" id="6460625">Errorf</span><span class="op" id="6460631">(</span><span class="string" id="6460632">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6460655">,</span>&nbsp;<span class="ident" id="6460657">ifa</span><span class="op" id="6460660">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460667">}</span><br>
<span class="lineno"></span><span class="op" id="6460669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6460672">func</span>&nbsp;<span class="ident" id="6460677">testMulticastAddrs</span><span class="op" id="6460695">(</span><span class="ident" id="6460696">t</span>&nbsp;<span class="op" id="6460698">*</span><span class="ident" id="6460699">testing</span><span class="op" id="6460706">.</span><span class="ident" id="6460707">T</span><span class="op" id="6460708">,</span>&nbsp;<span class="ident" id="6460710">ifmat</span>&nbsp;<span class="op" id="6460716">[</span><span class="op" id="6460717">]</span><span class="ident" id="6460718">Addr</span><span class="op" id="6460722">)</span>&nbsp;<span class="op" id="6460724">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460727">for</span>&nbsp;<span class="ident" id="6460731">_</span><span class="op" id="6460732">,</span>&nbsp;<span class="ident" id="6460734">ifma</span>&nbsp;<span class="op" id="6460739">:=</span>&nbsp;<span class="keyword" id="6460742">range</span>&nbsp;<span class="ident" id="6460748">ifmat</span>&nbsp;<span class="op" id="6460754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460758">switch</span>&nbsp;<span class="ident" id="6460765">ifma</span>&nbsp;<span class="op" id="6460770">:=</span>&nbsp;<span class="ident" id="6460773">ifma</span><span class="op" id="6460777">.</span><span class="op" id="6460778">(</span><span class="keyword" id="6460779">type</span><span class="op" id="6460783">)</span>&nbsp;<span class="op" id="6460785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460789">case</span>&nbsp;<span class="op" id="6460794">*</span><span class="ident" id="6460795">IPAddr</span><span class="op" id="6460801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460806">if</span>&nbsp;<span class="ident" id="6460809">ifma</span>&nbsp;<span class="op" id="6460814">==</span>&nbsp;<span class="builtintype" id="6460817">nil</span>&nbsp;<span class="op" id="6460821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460827">t</span><span class="op" id="6460828">.</span><span class="ident" id="6460829">Errorf</span><span class="op" id="6460835">(</span><span class="string" id="6460836">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="6460860">,</span>&nbsp;<span class="ident" id="6460862">ifma</span><span class="op" id="6460866">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460871">}</span>&nbsp;<span class="keyword" id="6460873">else</span>&nbsp;<span class="op" id="6460878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460884">t</span><span class="op" id="6460885">.</span><span class="ident" id="6460886">Logf</span><span class="op" id="6460890">(</span><span class="string" id="6460891">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6460918">,</span>&nbsp;<span class="ident" id="6460920">ifma</span><span class="op" id="6460924">.</span><span class="ident" id="6460925">String</span><span class="op" id="6460931">(</span><span class="op" id="6460932">)</span><span class="op" id="6460933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6460942">default</span><span class="op" id="6460949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6460954">t</span><span class="op" id="6460955">.</span><span class="ident" id="6460956">Errorf</span><span class="op" id="6460962">(</span><span class="string" id="6460963">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6460986">,</span>&nbsp;<span class="ident" id="6460988">ifma</span><span class="op" id="6460992">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6460999">}</span><br>
<span class="lineno"></span><span class="op" id="6461001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6461004">func</span>&nbsp;<span class="ident" id="6461009">BenchmarkInterfaces</span><span class="op" id="6461028">(</span><span class="ident" id="6461029">b</span>&nbsp;<span class="op" id="6461031">*</span><span class="ident" id="6461032">testing</span><span class="op" id="6461039">.</span><span class="ident" id="6461040">B</span><span class="op" id="6461041">)</span>&nbsp;<span class="op" id="6461043">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461046">for</span>&nbsp;<span class="ident" id="6461050">i</span>&nbsp;<span class="op" id="6461052">:=</span>&nbsp;<span class="num" id="6461055">0</span><span class="op" id="6461056">;</span>&nbsp;<span class="ident" id="6461058">i</span>&nbsp;<span class="op" id="6461060">&lt;</span>&nbsp;<span class="ident" id="6461062">b</span><span class="op" id="6461063">.</span><span class="ident" id="6461064">N</span><span class="op" id="6461065">;</span>&nbsp;<span class="ident" id="6461067">i</span><span class="op" id="6461068">++</span>&nbsp;<span class="op" id="6461071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461075">if</span>&nbsp;<span class="ident" id="6461078">_</span><span class="op" id="6461079">,</span>&nbsp;<span class="ident" id="6461081">err</span>&nbsp;<span class="op" id="6461085">:=</span>&nbsp;<span class="ident" id="6461088">Interfaces</span><span class="op" id="6461098">(</span><span class="op" id="6461099">)</span><span class="op" id="6461100">;</span>&nbsp;<span class="ident" id="6461102">err</span>&nbsp;<span class="op" id="6461106">!=</span>&nbsp;<span class="builtintype" id="6461109">nil</span>&nbsp;<span class="op" id="6461113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461118">b</span><span class="op" id="6461119">.</span><span class="ident" id="6461120">Fatalf</span><span class="op" id="6461126">(</span><span class="string" id="6461127">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6461150">,</span>&nbsp;<span class="ident" id="6461152">err</span><span class="op" id="6461155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461162">}</span><br>
<span class="lineno">155</span><span class="op" id="6461164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6461167">func</span>&nbsp;<span class="ident" id="6461172">BenchmarkInterfaceByIndex</span><span class="op" id="6461197">(</span><span class="ident" id="6461198">b</span>&nbsp;<span class="op" id="6461200">*</span><span class="ident" id="6461201">testing</span><span class="op" id="6461208">.</span><span class="ident" id="6461209">B</span><span class="op" id="6461210">)</span>&nbsp;<span class="op" id="6461212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461215">ifi</span>&nbsp;<span class="op" id="6461219">:=</span>&nbsp;<span class="ident" id="6461222">loopbackInterface</span><span class="op" id="6461239">(</span><span class="op" id="6461240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461243">if</span>&nbsp;<span class="ident" id="6461246">ifi</span>&nbsp;<span class="op" id="6461250">==</span>&nbsp;<span class="builtintype" id="6461253">nil</span>&nbsp;<span class="op" id="6461257">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461261">b</span><span class="op" id="6461262">.</span><span class="ident" id="6461263">Skip</span><span class="op" id="6461267">(</span><span class="string" id="6461268">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6461298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461304">for</span>&nbsp;<span class="ident" id="6461308">i</span>&nbsp;<span class="op" id="6461310">:=</span>&nbsp;<span class="num" id="6461313">0</span><span class="op" id="6461314">;</span>&nbsp;<span class="ident" id="6461316">i</span>&nbsp;<span class="op" id="6461318">&lt;</span>&nbsp;<span class="ident" id="6461320">b</span><span class="op" id="6461321">.</span><span class="ident" id="6461322">N</span><span class="op" id="6461323">;</span>&nbsp;<span class="ident" id="6461325">i</span><span class="op" id="6461326">++</span>&nbsp;<span class="op" id="6461329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461333">if</span>&nbsp;<span class="ident" id="6461336">_</span><span class="op" id="6461337">,</span>&nbsp;<span class="ident" id="6461339">err</span>&nbsp;<span class="op" id="6461343">:=</span>&nbsp;<span class="ident" id="6461346">InterfaceByIndex</span><span class="op" id="6461362">(</span><span class="ident" id="6461363">ifi</span><span class="op" id="6461366">.</span><span class="ident" id="6461367">Index</span><span class="op" id="6461372">)</span><span class="op" id="6461373">;</span>&nbsp;<span class="ident" id="6461375">err</span>&nbsp;<span class="op" id="6461379">!=</span>&nbsp;<span class="builtintype" id="6461382">nil</span>&nbsp;<span class="op" id="6461386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461391">b</span><span class="op" id="6461392">.</span><span class="ident" id="6461393">Fatalf</span><span class="op" id="6461399">(</span><span class="string" id="6461400">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6461429">,</span>&nbsp;<span class="ident" id="6461431">err</span><span class="op" id="6461434">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461441">}</span><br>
<span class="lineno"></span><span class="op" id="6461443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6461446">func</span>&nbsp;<span class="ident" id="6461451">BenchmarkInterfaceByName</span><span class="op" id="6461475">(</span><span class="ident" id="6461476">b</span>&nbsp;<span class="op" id="6461478">*</span><span class="ident" id="6461479">testing</span><span class="op" id="6461486">.</span><span class="ident" id="6461487">B</span><span class="op" id="6461488">)</span>&nbsp;<span class="op" id="6461490">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461493">ifi</span>&nbsp;<span class="op" id="6461497">:=</span>&nbsp;<span class="ident" id="6461500">loopbackInterface</span><span class="op" id="6461517">(</span><span class="op" id="6461518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461521">if</span>&nbsp;<span class="ident" id="6461524">ifi</span>&nbsp;<span class="op" id="6461528">==</span>&nbsp;<span class="builtintype" id="6461531">nil</span>&nbsp;<span class="op" id="6461535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461539">b</span><span class="op" id="6461540">.</span><span class="ident" id="6461541">Skip</span><span class="op" id="6461545">(</span><span class="string" id="6461546">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6461576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461582">for</span>&nbsp;<span class="ident" id="6461586">i</span>&nbsp;<span class="op" id="6461588">:=</span>&nbsp;<span class="num" id="6461591">0</span><span class="op" id="6461592">;</span>&nbsp;<span class="ident" id="6461594">i</span>&nbsp;<span class="op" id="6461596">&lt;</span>&nbsp;<span class="ident" id="6461598">b</span><span class="op" id="6461599">.</span><span class="ident" id="6461600">N</span><span class="op" id="6461601">;</span>&nbsp;<span class="ident" id="6461603">i</span><span class="op" id="6461604">++</span>&nbsp;<span class="op" id="6461607">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461611">if</span>&nbsp;<span class="ident" id="6461614">_</span><span class="op" id="6461615">,</span>&nbsp;<span class="ident" id="6461617">err</span>&nbsp;<span class="op" id="6461621">:=</span>&nbsp;<span class="ident" id="6461624">InterfaceByName</span><span class="op" id="6461639">(</span><span class="ident" id="6461640">ifi</span><span class="op" id="6461643">.</span><span class="ident" id="6461644">Name</span><span class="op" id="6461648">)</span><span class="op" id="6461649">;</span>&nbsp;<span class="ident" id="6461651">err</span>&nbsp;<span class="op" id="6461655">!=</span>&nbsp;<span class="builtintype" id="6461658">nil</span>&nbsp;<span class="op" id="6461662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461667">b</span><span class="op" id="6461668">.</span><span class="ident" id="6461669">Fatalf</span><span class="op" id="6461675">(</span><span class="string" id="6461676">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6461704">,</span>&nbsp;<span class="ident" id="6461706">err</span><span class="op" id="6461709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461716">}</span><br>
<span class="lineno"></span><span class="op" id="6461718">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6461721">func</span>&nbsp;<span class="ident" id="6461726">BenchmarkInterfaceAddrs</span><span class="op" id="6461749">(</span><span class="ident" id="6461750">b</span>&nbsp;<span class="op" id="6461752">*</span><span class="ident" id="6461753">testing</span><span class="op" id="6461760">.</span><span class="ident" id="6461761">B</span><span class="op" id="6461762">)</span>&nbsp;<span class="op" id="6461764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461767">for</span>&nbsp;<span class="ident" id="6461771">i</span>&nbsp;<span class="op" id="6461773">:=</span>&nbsp;<span class="num" id="6461776">0</span><span class="op" id="6461777">;</span>&nbsp;<span class="ident" id="6461779">i</span>&nbsp;<span class="op" id="6461781">&lt;</span>&nbsp;<span class="ident" id="6461783">b</span><span class="op" id="6461784">.</span><span class="ident" id="6461785">N</span><span class="op" id="6461786">;</span>&nbsp;<span class="ident" id="6461788">i</span><span class="op" id="6461789">++</span>&nbsp;<span class="op" id="6461792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461796">if</span>&nbsp;<span class="ident" id="6461799">_</span><span class="op" id="6461800">,</span>&nbsp;<span class="ident" id="6461802">err</span>&nbsp;<span class="op" id="6461806">:=</span>&nbsp;<span class="ident" id="6461809">InterfaceAddrs</span><span class="op" id="6461823">(</span><span class="op" id="6461824">)</span><span class="op" id="6461825">;</span>&nbsp;<span class="ident" id="6461827">err</span>&nbsp;<span class="op" id="6461831">!=</span>&nbsp;<span class="builtintype" id="6461834">nil</span>&nbsp;<span class="op" id="6461838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461843">b</span><span class="op" id="6461844">.</span><span class="ident" id="6461845">Fatalf</span><span class="op" id="6461851">(</span><span class="string" id="6461852">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6461879">,</span>&nbsp;<span class="ident" id="6461881">err</span><span class="op" id="6461884">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6461891">}</span><br>
<span class="lineno"></span><span class="op" id="6461893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6461896">func</span>&nbsp;<span class="ident" id="6461901">BenchmarkInterfacesAndAddrs</span><span class="op" id="6461928">(</span><span class="ident" id="6461929">b</span>&nbsp;<span class="op" id="6461931">*</span><span class="ident" id="6461932">testing</span><span class="op" id="6461939">.</span><span class="ident" id="6461940">B</span><span class="op" id="6461941">)</span>&nbsp;<span class="op" id="6461943">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461946">ifi</span>&nbsp;<span class="op" id="6461950">:=</span>&nbsp;<span class="ident" id="6461953">loopbackInterface</span><span class="op" id="6461970">(</span><span class="op" id="6461971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6461974">if</span>&nbsp;<span class="ident" id="6461977">ifi</span>&nbsp;<span class="op" id="6461981">==</span>&nbsp;<span class="builtintype" id="6461984">nil</span>&nbsp;<span class="op" id="6461988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6461992">b</span><span class="op" id="6461993">.</span><span class="ident" id="6461994">Skip</span><span class="op" id="6461998">(</span><span class="string" id="6461999">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6462029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462035">for</span>&nbsp;<span class="ident" id="6462039">i</span>&nbsp;<span class="op" id="6462041">:=</span>&nbsp;<span class="num" id="6462044">0</span><span class="op" id="6462045">;</span>&nbsp;<span class="ident" id="6462047">i</span>&nbsp;<span class="op" id="6462049">&lt;</span>&nbsp;<span class="ident" id="6462051">b</span><span class="op" id="6462052">.</span><span class="ident" id="6462053">N</span><span class="op" id="6462054">;</span>&nbsp;<span class="ident" id="6462056">i</span><span class="op" id="6462057">++</span>&nbsp;<span class="op" id="6462060">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462064">if</span>&nbsp;<span class="ident" id="6462067">_</span><span class="op" id="6462068">,</span>&nbsp;<span class="ident" id="6462070">err</span>&nbsp;<span class="op" id="6462074">:=</span>&nbsp;<span class="ident" id="6462077">ifi</span><span class="op" id="6462080">.</span><span class="ident" id="6462081">Addrs</span><span class="op" id="6462086">(</span><span class="op" id="6462087">)</span><span class="op" id="6462088">;</span>&nbsp;<span class="ident" id="6462090">err</span>&nbsp;<span class="op" id="6462094">!=</span>&nbsp;<span class="builtintype" id="6462097">nil</span>&nbsp;<span class="op" id="6462101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462106">b</span><span class="op" id="6462107">.</span><span class="ident" id="6462108">Fatalf</span><span class="op" id="6462114">(</span><span class="string" id="6462115">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6462143">,</span>&nbsp;<span class="ident" id="6462145">err</span><span class="op" id="6462148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462155">}</span><br>
<span class="lineno"></span><span class="op" id="6462157">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6462160">func</span>&nbsp;<span class="ident" id="6462165">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="6462201">(</span><span class="ident" id="6462202">b</span>&nbsp;<span class="op" id="6462204">*</span><span class="ident" id="6462205">testing</span><span class="op" id="6462212">.</span><span class="ident" id="6462213">B</span><span class="op" id="6462214">)</span>&nbsp;<span class="op" id="6462216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462219">ifi</span>&nbsp;<span class="op" id="6462223">:=</span>&nbsp;<span class="ident" id="6462226">loopbackInterface</span><span class="op" id="6462243">(</span><span class="op" id="6462244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462247">if</span>&nbsp;<span class="ident" id="6462250">ifi</span>&nbsp;<span class="op" id="6462254">==</span>&nbsp;<span class="builtintype" id="6462257">nil</span>&nbsp;<span class="op" id="6462261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462265">b</span><span class="op" id="6462266">.</span><span class="ident" id="6462267">Skip</span><span class="op" id="6462271">(</span><span class="string" id="6462272">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6462302">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462308">for</span>&nbsp;<span class="ident" id="6462312">i</span>&nbsp;<span class="op" id="6462314">:=</span>&nbsp;<span class="num" id="6462317">0</span><span class="op" id="6462318">;</span>&nbsp;<span class="ident" id="6462320">i</span>&nbsp;<span class="op" id="6462322">&lt;</span>&nbsp;<span class="ident" id="6462324">b</span><span class="op" id="6462325">.</span><span class="ident" id="6462326">N</span><span class="op" id="6462327">;</span>&nbsp;<span class="ident" id="6462329">i</span><span class="op" id="6462330">++</span>&nbsp;<span class="op" id="6462333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462337">if</span>&nbsp;<span class="ident" id="6462340">_</span><span class="op" id="6462341">,</span>&nbsp;<span class="ident" id="6462343">err</span>&nbsp;<span class="op" id="6462347">:=</span>&nbsp;<span class="ident" id="6462350">ifi</span><span class="op" id="6462353">.</span><span class="ident" id="6462354">MulticastAddrs</span><span class="op" id="6462368">(</span><span class="op" id="6462369">)</span><span class="op" id="6462370">;</span>&nbsp;<span class="ident" id="6462372">err</span>&nbsp;<span class="op" id="6462376">!=</span>&nbsp;<span class="builtintype" id="6462379">nil</span>&nbsp;<span class="op" id="6462383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462388">b</span><span class="op" id="6462389">.</span><span class="ident" id="6462390">Fatalf</span><span class="op" id="6462396">(</span><span class="string" id="6462397">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6462434">,</span>&nbsp;<span class="ident" id="6462436">err</span><span class="op" id="6462439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462443">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462446">}</span><br>
<span class="lineno"></span><span class="op" id="6462448">}</span>
</div>
</body>
</html>
