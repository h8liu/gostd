<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7060612">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7060667">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7060721">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7060772">package</span>&nbsp;<span class="ident" id="7060780">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7060788">import</span>&nbsp;<span class="op" id="7060795">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060798">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060807">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060825">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060832">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060838">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060844">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060861">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060878">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060889">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060900">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060911">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7060926">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7060929">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7060991">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7061059">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7061125">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7061189">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7061257">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7061321">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7061393">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7061464">//</span><br>
<span class="lineno">30</span><span class="comment" id="7061467">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7061522">//</span><br>
<span class="lineno"></span><span class="comment" id="7061525">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="7061536">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7061545">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7061555">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="7061566">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7061578">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7061589">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7061596">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7061623">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7061630">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7061651">//</span><br>
<span class="lineno"></span><span class="comment" id="7061654">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7061712">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7061769">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7061826">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7061889">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7061947">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7061990">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7062056">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7062114">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7062171">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7062231">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7062288">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7062355">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7062420">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7062469">//</span><br>
<span class="lineno"></span><span class="comment" id="7062472">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7062534">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7062601">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7062649">//</span><br>
<span class="lineno"></span><span class="comment" id="7062652">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7062718">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7062792">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7062795">func</span>&nbsp;<span class="ident" id="7062800">TestRE2Search</span><span class="op" id="7062813">(</span><span class="ident" id="7062814">t</span>&nbsp;<span class="op" id="7062816">*</span><span class="ident" id="7062817">testing</span><span class="op" id="7062824">.</span><span class="ident" id="7062825">T</span><span class="op" id="7062826">)</span>&nbsp;<span class="op" id="7062828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062831">testRE2</span><span class="op" id="7062838">(</span><span class="ident" id="7062839">t</span><span class="op" id="7062840">,</span>&nbsp;<span class="string" id="7062842">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7062867">)</span><br>
<span class="lineno"></span><span class="op" id="7062869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7062872">func</span>&nbsp;<span class="ident" id="7062877">testRE2</span><span class="op" id="7062884">(</span><span class="ident" id="7062885">t</span>&nbsp;<span class="op" id="7062887">*</span><span class="ident" id="7062888">testing</span><span class="op" id="7062895">.</span><span class="ident" id="7062896">T</span><span class="op" id="7062897">,</span>&nbsp;<span class="ident" id="7062899">file</span>&nbsp;<span class="builtintype" id="7062904">string</span><span class="op" id="7062910">)</span>&nbsp;<span class="op" id="7062912">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062915">f</span><span class="op" id="7062916">,</span>&nbsp;<span class="ident" id="7062918">err</span>&nbsp;<span class="op" id="7062922">:=</span>&nbsp;<span class="ident" id="7062925">os</span><span class="op" id="7062927">.</span><span class="ident" id="7062928">Open</span><span class="op" id="7062932">(</span><span class="ident" id="7062933">file</span><span class="op" id="7062937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062940">if</span>&nbsp;<span class="ident" id="7062943">err</span>&nbsp;<span class="op" id="7062947">!=</span>&nbsp;<span class="ident" id="7062950">nil</span>&nbsp;<span class="op" id="7062954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062958">t</span><span class="op" id="7062959">.</span><span class="ident" id="7062960">Fatal</span><span class="op" id="7062965">(</span><span class="ident" id="7062966">err</span><span class="op" id="7062969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062975">defer</span>&nbsp;<span class="ident" id="7062981">f</span><span class="op" id="7062982">.</span><span class="ident" id="7062983">Close</span><span class="op" id="7062988">(</span><span class="op" id="7062989">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062992">var</span>&nbsp;<span class="ident" id="7062996">txt</span>&nbsp;<span class="ident" id="7063000">io</span><span class="op" id="7063002">.</span><span class="ident" id="7063003">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063011">if</span>&nbsp;<span class="ident" id="7063014">strings</span><span class="op" id="7063021">.</span><span class="ident" id="7063022">HasSuffix</span><span class="op" id="7063031">(</span><span class="ident" id="7063032">file</span><span class="op" id="7063036">,</span>&nbsp;<span class="string" id="7063038">&#34;.bz2&#34;</span><span class="op" id="7063044">)</span>&nbsp;<span class="op" id="7063046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063050">z</span>&nbsp;<span class="op" id="7063052">:=</span>&nbsp;<span class="ident" id="7063055">bzip2</span><span class="op" id="7063060">.</span><span class="ident" id="7063061">NewReader</span><span class="op" id="7063070">(</span><span class="ident" id="7063071">f</span><span class="op" id="7063072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063076">txt</span>&nbsp;<span class="op" id="7063080">=</span>&nbsp;<span class="ident" id="7063082">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063086">file</span>&nbsp;<span class="op" id="7063091">=</span>&nbsp;<span class="ident" id="7063093">file</span><span class="op" id="7063097">[</span><span class="op" id="7063098">:</span><span class="builtinfunc" id="7063099">len</span><span class="op" id="7063102">(</span><span class="ident" id="7063103">file</span><span class="op" id="7063107">)</span><span class="op" id="7063108">-</span><span class="builtinfunc" id="7063109">len</span><span class="op" id="7063112">(</span><span class="string" id="7063113">&#34;.bz2&#34;</span><span class="op" id="7063119">)</span><span class="op" id="7063120">]</span>&nbsp;<span class="comment" id="7063122">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063145">}</span>&nbsp;<span class="keyword" id="7063147">else</span>&nbsp;<span class="op" id="7063152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063156">txt</span>&nbsp;<span class="op" id="7063160">=</span>&nbsp;<span class="ident" id="7063162">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063168">lineno</span>&nbsp;<span class="op" id="7063175">:=</span>&nbsp;<span class="num" id="7063178">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063181">scanner</span>&nbsp;<span class="op" id="7063189">:=</span>&nbsp;<span class="ident" id="7063192">bufio</span><span class="op" id="7063197">.</span><span class="ident" id="7063198">NewScanner</span><span class="op" id="7063208">(</span><span class="ident" id="7063209">txt</span><span class="op" id="7063212">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063215">var</span>&nbsp;<span class="op" id="7063219">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063223">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063233">[</span><span class="op" id="7063234">]</span><span class="builtintype" id="7063235">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063244">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063254">[</span><span class="op" id="7063255">]</span><span class="builtintype" id="7063256">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063265">inStrings</span>&nbsp;<span class="builtintype" id="7063275">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063282">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063292">*</span><span class="ident" id="7063293">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063302">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063312">*</span><span class="ident" id="7063313">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063322">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7063332">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063338">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7063348">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063356">for</span>&nbsp;<span class="ident" id="7063360">lineno</span>&nbsp;<span class="op" id="7063367">:=</span>&nbsp;<span class="num" id="7063370">1</span><span class="op" id="7063371">;</span>&nbsp;<span class="ident" id="7063373">scanner</span><span class="op" id="7063380">.</span><span class="ident" id="7063381">Scan</span><span class="op" id="7063385">(</span><span class="op" id="7063386">)</span><span class="op" id="7063387">;</span>&nbsp;<span class="ident" id="7063389">lineno</span><span class="op" id="7063395">++</span>&nbsp;<span class="op" id="7063398">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063402">line</span>&nbsp;<span class="op" id="7063407">:=</span>&nbsp;<span class="ident" id="7063410">scanner</span><span class="op" id="7063417">.</span><span class="ident" id="7063418">Text</span><span class="op" id="7063422">(</span><span class="op" id="7063423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063427">switch</span>&nbsp;<span class="op" id="7063434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063438">case</span>&nbsp;<span class="ident" id="7063443">line</span>&nbsp;<span class="op" id="7063448">==</span>&nbsp;<span class="string" id="7063451">&#34;&#34;</span><span class="op" id="7063453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063458">t</span><span class="op" id="7063459">.</span><span class="ident" id="7063460">Fatalf</span><span class="op" id="7063466">(</span><span class="string" id="7063467">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7063497">,</span>&nbsp;<span class="ident" id="7063499">file</span><span class="op" id="7063503">,</span>&nbsp;<span class="ident" id="7063505">lineno</span><span class="op" id="7063511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063515">case</span>&nbsp;<span class="ident" id="7063520">line</span><span class="op" id="7063524">[</span><span class="num" id="7063525">0</span><span class="op" id="7063526">]</span>&nbsp;<span class="op" id="7063528">==</span>&nbsp;<span class="string" id="7063531">&#39;#&#39;</span><span class="op" id="7063534">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063539">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063550">case</span>&nbsp;<span class="string" id="7063555">&#39;A&#39;</span>&nbsp;<span class="op" id="7063559">&lt;=</span>&nbsp;<span class="ident" id="7063562">line</span><span class="op" id="7063566">[</span><span class="num" id="7063567">0</span><span class="op" id="7063568">]</span>&nbsp;<span class="op" id="7063570">&amp;&amp;</span>&nbsp;<span class="ident" id="7063573">line</span><span class="op" id="7063577">[</span><span class="num" id="7063578">0</span><span class="op" id="7063579">]</span>&nbsp;<span class="op" id="7063581">&lt;=</span>&nbsp;<span class="string" id="7063584">&#39;Z&#39;</span><span class="op" id="7063587">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7063592">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063609">t</span><span class="op" id="7063610">.</span><span class="ident" id="7063611">Logf</span><span class="op" id="7063615">(</span><span class="string" id="7063616">&#34;%s\n&#34;</span><span class="op" id="7063622">,</span>&nbsp;<span class="ident" id="7063624">line</span><span class="op" id="7063628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063633">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063644">case</span>&nbsp;<span class="ident" id="7063649">line</span>&nbsp;<span class="op" id="7063654">==</span>&nbsp;<span class="string" id="7063657">&#34;strings&#34;</span><span class="op" id="7063666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063671">str</span>&nbsp;<span class="op" id="7063675">=</span>&nbsp;<span class="ident" id="7063677">str</span><span class="op" id="7063680">[</span><span class="op" id="7063681">:</span><span class="num" id="7063682">0</span><span class="op" id="7063683">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063688">inStrings</span>&nbsp;<span class="op" id="7063698">=</span>&nbsp;<span class="builtintype" id="7063700">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063707">case</span>&nbsp;<span class="ident" id="7063712">line</span>&nbsp;<span class="op" id="7063717">==</span>&nbsp;<span class="string" id="7063720">&#34;regexps&#34;</span><span class="op" id="7063729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063734">inStrings</span>&nbsp;<span class="op" id="7063744">=</span>&nbsp;<span class="builtintype" id="7063746">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063754">case</span>&nbsp;<span class="ident" id="7063759">line</span><span class="op" id="7063763">[</span><span class="num" id="7063764">0</span><span class="op" id="7063765">]</span>&nbsp;<span class="op" id="7063767">==</span>&nbsp;<span class="string" id="7063770">&#39;&#34;&#39;</span><span class="op" id="7063773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063778">q</span><span class="op" id="7063779">,</span>&nbsp;<span class="ident" id="7063781">err</span>&nbsp;<span class="op" id="7063785">:=</span>&nbsp;<span class="ident" id="7063788">strconv</span><span class="op" id="7063795">.</span><span class="ident" id="7063796">Unquote</span><span class="op" id="7063803">(</span><span class="ident" id="7063804">line</span><span class="op" id="7063808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063813">if</span>&nbsp;<span class="ident" id="7063816">err</span>&nbsp;<span class="op" id="7063820">!=</span>&nbsp;<span class="ident" id="7063823">nil</span>&nbsp;<span class="op" id="7063827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7063833">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063877">t</span><span class="op" id="7063878">.</span><span class="ident" id="7063879">Fatalf</span><span class="op" id="7063885">(</span><span class="string" id="7063886">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7063909">,</span>&nbsp;<span class="ident" id="7063911">file</span><span class="op" id="7063915">,</span>&nbsp;<span class="ident" id="7063917">lineno</span><span class="op" id="7063923">,</span>&nbsp;<span class="ident" id="7063925">line</span><span class="op" id="7063929">,</span>&nbsp;<span class="ident" id="7063931">err</span><span class="op" id="7063934">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063944">if</span>&nbsp;<span class="ident" id="7063947">inStrings</span>&nbsp;<span class="op" id="7063957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063963">str</span>&nbsp;<span class="op" id="7063967">=</span>&nbsp;<span class="builtinfunc" id="7063969">append</span><span class="op" id="7063975">(</span><span class="ident" id="7063976">str</span><span class="op" id="7063979">,</span>&nbsp;<span class="ident" id="7063981">q</span><span class="op" id="7063982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063988">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064000">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7064005">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064024">if</span>&nbsp;<span class="builtinfunc" id="7064027">len</span><span class="op" id="7064030">(</span><span class="ident" id="7064031">input</span><span class="op" id="7064036">)</span>&nbsp;<span class="op" id="7064038">!=</span>&nbsp;<span class="num" id="7064041">0</span>&nbsp;<span class="op" id="7064043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064049">t</span><span class="op" id="7064050">.</span><span class="ident" id="7064051">Fatalf</span><span class="op" id="7064057">(</span><span class="string" id="7064058">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7064111">,</span>&nbsp;<span class="ident" id="7064113">file</span><span class="op" id="7064117">,</span>&nbsp;<span class="ident" id="7064119">lineno</span><span class="op" id="7064125">,</span>&nbsp;<span class="builtinfunc" id="7064127">len</span><span class="op" id="7064130">(</span><span class="ident" id="7064131">input</span><span class="op" id="7064136">)</span><span class="op" id="7064137">,</span>&nbsp;<span class="ident" id="7064139">q</span><span class="op" id="7064140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064150">re</span><span class="op" id="7064152">,</span>&nbsp;<span class="ident" id="7064154">err</span>&nbsp;<span class="op" id="7064158">=</span>&nbsp;<span class="ident" id="7064160">tryCompile</span><span class="op" id="7064170">(</span><span class="ident" id="7064171">q</span><span class="op" id="7064172">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064177">if</span>&nbsp;<span class="ident" id="7064180">err</span>&nbsp;<span class="op" id="7064184">!=</span>&nbsp;<span class="ident" id="7064187">nil</span>&nbsp;<span class="op" id="7064191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064197">if</span>&nbsp;<span class="ident" id="7064200">err</span><span class="op" id="7064203">.</span><span class="ident" id="7064204">Error</span><span class="op" id="7064209">(</span><span class="op" id="7064210">)</span>&nbsp;<span class="op" id="7064212">==</span>&nbsp;<span class="string" id="7064215">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7064270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7064277">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064340">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064353">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064359">t</span><span class="op" id="7064360">.</span><span class="ident" id="7064361">Errorf</span><span class="op" id="7064367">(</span><span class="string" id="7064368">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7064392">,</span>&nbsp;<span class="ident" id="7064394">file</span><span class="op" id="7064398">,</span>&nbsp;<span class="ident" id="7064400">lineno</span><span class="op" id="7064406">,</span>&nbsp;<span class="ident" id="7064408">q</span><span class="op" id="7064409">,</span>&nbsp;<span class="ident" id="7064411">err</span><span class="op" id="7064414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064420">if</span>&nbsp;<span class="ident" id="7064423">nfail</span><span class="op" id="7064428">++</span><span class="op" id="7064430">;</span>&nbsp;<span class="ident" id="7064432">nfail</span>&nbsp;<span class="op" id="7064438">&gt;=</span>&nbsp;<span class="num" id="7064441">100</span>&nbsp;<span class="op" id="7064445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064452">t</span><span class="op" id="7064453">.</span><span class="ident" id="7064454">Fatalf</span><span class="op" id="7064460">(</span><span class="string" id="7064461">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7064487">,</span>&nbsp;<span class="ident" id="7064489">nfail</span><span class="op" id="7064494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064506">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064523">full</span>&nbsp;<span class="op" id="7064528">:=</span>&nbsp;<span class="string" id="7064531">`\A(?:`</span>&nbsp;<span class="op" id="7064539">+</span>&nbsp;<span class="ident" id="7064541">q</span>&nbsp;<span class="op" id="7064543">+</span>&nbsp;<span class="string" id="7064545">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064554">refull</span><span class="op" id="7064560">,</span>&nbsp;<span class="ident" id="7064562">err</span>&nbsp;<span class="op" id="7064566">=</span>&nbsp;<span class="ident" id="7064568">tryCompile</span><span class="op" id="7064578">(</span><span class="ident" id="7064579">full</span><span class="op" id="7064583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064588">if</span>&nbsp;<span class="ident" id="7064591">err</span>&nbsp;<span class="op" id="7064595">!=</span>&nbsp;<span class="ident" id="7064598">nil</span>&nbsp;<span class="op" id="7064602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7064608">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064667">t</span><span class="op" id="7064668">.</span><span class="ident" id="7064669">Fatalf</span><span class="op" id="7064675">(</span><span class="string" id="7064676">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7064705">,</span>&nbsp;<span class="ident" id="7064707">file</span><span class="op" id="7064711">,</span>&nbsp;<span class="ident" id="7064713">lineno</span><span class="op" id="7064719">,</span>&nbsp;<span class="ident" id="7064721">full</span><span class="op" id="7064725">,</span>&nbsp;<span class="ident" id="7064727">err</span><span class="op" id="7064730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064740">input</span>&nbsp;<span class="op" id="7064746">=</span>&nbsp;<span class="ident" id="7064748">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064754">case</span>&nbsp;<span class="ident" id="7064759">line</span><span class="op" id="7064763">[</span><span class="num" id="7064764">0</span><span class="op" id="7064765">]</span>&nbsp;<span class="op" id="7064767">==</span>&nbsp;<span class="string" id="7064770">&#39;-&#39;</span>&nbsp;<span class="op" id="7064774">||</span>&nbsp;<span class="string" id="7064777">&#39;0&#39;</span>&nbsp;<span class="op" id="7064781">&lt;=</span>&nbsp;<span class="ident" id="7064784">line</span><span class="op" id="7064788">[</span><span class="num" id="7064789">0</span><span class="op" id="7064790">]</span>&nbsp;<span class="op" id="7064792">&amp;&amp;</span>&nbsp;<span class="ident" id="7064795">line</span><span class="op" id="7064799">[</span><span class="num" id="7064800">0</span><span class="op" id="7064801">]</span>&nbsp;<span class="op" id="7064803">&lt;=</span>&nbsp;<span class="string" id="7064806">&#39;9&#39;</span><span class="op" id="7064809">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7064814">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064849">ncase</span><span class="op" id="7064854">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064860">if</span>&nbsp;<span class="ident" id="7064863">re</span>&nbsp;<span class="op" id="7064866">==</span>&nbsp;<span class="ident" id="7064869">nil</span>&nbsp;<span class="op" id="7064873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7064879">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064919">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064931">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064936">if</span>&nbsp;<span class="builtinfunc" id="7064939">len</span><span class="op" id="7064942">(</span><span class="ident" id="7064943">input</span><span class="op" id="7064948">)</span>&nbsp;<span class="op" id="7064950">==</span>&nbsp;<span class="num" id="7064953">0</span>&nbsp;<span class="op" id="7064955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064961">t</span><span class="op" id="7064962">.</span><span class="ident" id="7064963">Fatalf</span><span class="op" id="7064969">(</span><span class="string" id="7064970">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7065010">,</span>&nbsp;<span class="ident" id="7065012">file</span><span class="op" id="7065016">,</span>&nbsp;<span class="ident" id="7065018">lineno</span><span class="op" id="7065024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065034">var</span>&nbsp;<span class="ident" id="7065038">text</span>&nbsp;<span class="builtintype" id="7065043">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065053">text</span><span class="op" id="7065057">,</span>&nbsp;<span class="ident" id="7065059">input</span>&nbsp;<span class="op" id="7065065">=</span>&nbsp;<span class="ident" id="7065067">input</span><span class="op" id="7065072">[</span><span class="num" id="7065073">0</span><span class="op" id="7065074">]</span><span class="op" id="7065075">,</span>&nbsp;<span class="ident" id="7065077">input</span><span class="op" id="7065082">[</span><span class="num" id="7065083">1</span><span class="op" id="7065084">:</span><span class="op" id="7065085">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065090">if</span>&nbsp;<span class="op" id="7065093">!</span><span class="ident" id="7065094">isSingleBytes</span><span class="op" id="7065107">(</span><span class="ident" id="7065108">text</span><span class="op" id="7065112">)</span>&nbsp;<span class="op" id="7065114">&amp;&amp;</span>&nbsp;<span class="ident" id="7065117">strings</span><span class="op" id="7065124">.</span><span class="ident" id="7065125">Contains</span><span class="op" id="7065133">(</span><span class="ident" id="7065134">re</span><span class="op" id="7065136">.</span><span class="ident" id="7065137">String</span><span class="op" id="7065143">(</span><span class="op" id="7065144">)</span><span class="op" id="7065145">,</span>&nbsp;<span class="string" id="7065147">`\B`</span><span class="op" id="7065151">)</span>&nbsp;<span class="op" id="7065153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065159">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065206">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065251">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065299">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065350">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065393">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065410">res</span>&nbsp;<span class="op" id="7065414">:=</span>&nbsp;<span class="ident" id="7065417">strings</span><span class="op" id="7065424">.</span><span class="ident" id="7065425">Split</span><span class="op" id="7065430">(</span><span class="ident" id="7065431">line</span><span class="op" id="7065435">,</span>&nbsp;<span class="string" id="7065437">&#34;;&#34;</span><span class="op" id="7065440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065445">if</span>&nbsp;<span class="builtinfunc" id="7065448">len</span><span class="op" id="7065451">(</span><span class="ident" id="7065452">res</span><span class="op" id="7065455">)</span>&nbsp;<span class="op" id="7065457">!=</span>&nbsp;<span class="builtinfunc" id="7065460">len</span><span class="op" id="7065463">(</span><span class="ident" id="7065464">run</span><span class="op" id="7065467">)</span>&nbsp;<span class="op" id="7065469">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065475">t</span><span class="op" id="7065476">.</span><span class="ident" id="7065477">Fatalf</span><span class="op" id="7065483">(</span><span class="string" id="7065484">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7065522">,</span>&nbsp;<span class="ident" id="7065524">file</span><span class="op" id="7065528">,</span>&nbsp;<span class="ident" id="7065530">lineno</span><span class="op" id="7065536">,</span>&nbsp;<span class="builtinfunc" id="7065538">len</span><span class="op" id="7065541">(</span><span class="ident" id="7065542">res</span><span class="op" id="7065545">)</span><span class="op" id="7065546">,</span>&nbsp;<span class="builtinfunc" id="7065548">len</span><span class="op" id="7065551">(</span><span class="ident" id="7065552">run</span><span class="op" id="7065555">)</span><span class="op" id="7065556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065566">for</span>&nbsp;<span class="ident" id="7065570">i</span>&nbsp;<span class="op" id="7065572">:=</span>&nbsp;<span class="keyword" id="7065575">range</span>&nbsp;<span class="ident" id="7065581">res</span>&nbsp;<span class="op" id="7065585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065591">have</span><span class="op" id="7065595">,</span>&nbsp;<span class="ident" id="7065597">suffix</span>&nbsp;<span class="op" id="7065604">:=</span>&nbsp;<span class="ident" id="7065607">run</span><span class="op" id="7065610">[</span><span class="ident" id="7065611">i</span><span class="op" id="7065612">]</span><span class="op" id="7065613">(</span><span class="ident" id="7065614">re</span><span class="op" id="7065616">,</span>&nbsp;<span class="ident" id="7065618">refull</span><span class="op" id="7065624">,</span>&nbsp;<span class="ident" id="7065626">text</span><span class="op" id="7065630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065636">want</span>&nbsp;<span class="op" id="7065641">:=</span>&nbsp;<span class="ident" id="7065644">parseResult</span><span class="op" id="7065655">(</span><span class="ident" id="7065656">t</span><span class="op" id="7065657">,</span>&nbsp;<span class="ident" id="7065659">file</span><span class="op" id="7065663">,</span>&nbsp;<span class="ident" id="7065665">lineno</span><span class="op" id="7065671">,</span>&nbsp;<span class="ident" id="7065673">res</span><span class="op" id="7065676">[</span><span class="ident" id="7065677">i</span><span class="op" id="7065678">]</span><span class="op" id="7065679">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065685">if</span>&nbsp;<span class="op" id="7065688">!</span><span class="ident" id="7065689">same</span><span class="op" id="7065693">(</span><span class="ident" id="7065694">have</span><span class="op" id="7065698">,</span>&nbsp;<span class="ident" id="7065700">want</span><span class="op" id="7065704">)</span>&nbsp;<span class="op" id="7065706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065713">t</span><span class="op" id="7065714">.</span><span class="ident" id="7065715">Errorf</span><span class="op" id="7065721">(</span><span class="string" id="7065722">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7065773">,</span>&nbsp;<span class="ident" id="7065775">file</span><span class="op" id="7065779">,</span>&nbsp;<span class="ident" id="7065781">lineno</span><span class="op" id="7065787">,</span>&nbsp;<span class="ident" id="7065789">re</span><span class="op" id="7065791">,</span>&nbsp;<span class="ident" id="7065793">suffix</span><span class="op" id="7065799">,</span>&nbsp;<span class="ident" id="7065801">text</span><span class="op" id="7065805">,</span>&nbsp;<span class="ident" id="7065807">have</span><span class="op" id="7065811">,</span>&nbsp;<span class="ident" id="7065813">want</span><span class="op" id="7065817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065824">if</span>&nbsp;<span class="ident" id="7065827">nfail</span><span class="op" id="7065832">++</span><span class="op" id="7065834">;</span>&nbsp;<span class="ident" id="7065836">nfail</span>&nbsp;<span class="op" id="7065842">&gt;=</span>&nbsp;<span class="num" id="7065845">100</span>&nbsp;<span class="op" id="7065849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065857">t</span><span class="op" id="7065858">.</span><span class="ident" id="7065859">Fatalf</span><span class="op" id="7065865">(</span><span class="string" id="7065866">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7065892">,</span>&nbsp;<span class="ident" id="7065894">nfail</span><span class="op" id="7065899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065906">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065913">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065932">b</span><span class="op" id="7065933">,</span>&nbsp;<span class="ident" id="7065935">suffix</span>&nbsp;<span class="op" id="7065942">:=</span>&nbsp;<span class="ident" id="7065945">match</span><span class="op" id="7065950">[</span><span class="ident" id="7065951">i</span><span class="op" id="7065952">]</span><span class="op" id="7065953">(</span><span class="ident" id="7065954">re</span><span class="op" id="7065956">,</span>&nbsp;<span class="ident" id="7065958">refull</span><span class="op" id="7065964">,</span>&nbsp;<span class="ident" id="7065966">text</span><span class="op" id="7065970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065976">if</span>&nbsp;<span class="ident" id="7065979">b</span>&nbsp;<span class="op" id="7065981">!=</span>&nbsp;<span class="op" id="7065984">(</span><span class="ident" id="7065985">want</span>&nbsp;<span class="op" id="7065990">!=</span>&nbsp;<span class="ident" id="7065993">nil</span><span class="op" id="7065996">)</span>&nbsp;<span class="op" id="7065998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066005">t</span><span class="op" id="7066006">.</span><span class="ident" id="7066007">Errorf</span><span class="op" id="7066013">(</span><span class="string" id="7066014">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7066059">,</span>&nbsp;<span class="ident" id="7066061">file</span><span class="op" id="7066065">,</span>&nbsp;<span class="ident" id="7066067">lineno</span><span class="op" id="7066073">,</span>&nbsp;<span class="ident" id="7066075">re</span><span class="op" id="7066077">,</span>&nbsp;<span class="ident" id="7066079">suffix</span><span class="op" id="7066085">,</span>&nbsp;<span class="ident" id="7066087">text</span><span class="op" id="7066091">,</span>&nbsp;<span class="ident" id="7066093">b</span><span class="op" id="7066094">,</span>&nbsp;<span class="op" id="7066096">!</span><span class="ident" id="7066097">b</span><span class="op" id="7066098">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066105">if</span>&nbsp;<span class="ident" id="7066108">nfail</span><span class="op" id="7066113">++</span><span class="op" id="7066115">;</span>&nbsp;<span class="ident" id="7066117">nfail</span>&nbsp;<span class="op" id="7066123">&gt;=</span>&nbsp;<span class="num" id="7066126">100</span>&nbsp;<span class="op" id="7066130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066138">t</span><span class="op" id="7066139">.</span><span class="ident" id="7066140">Fatalf</span><span class="op" id="7066146">(</span><span class="string" id="7066147">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7066173">,</span>&nbsp;<span class="ident" id="7066175">nfail</span><span class="op" id="7066180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066194">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066207">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066217">default</span><span class="op" id="7066224">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066229">t</span><span class="op" id="7066230">.</span><span class="ident" id="7066231">Fatalf</span><span class="op" id="7066237">(</span><span class="string" id="7066238">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7066264">,</span>&nbsp;<span class="ident" id="7066266">file</span><span class="op" id="7066270">,</span>&nbsp;<span class="ident" id="7066272">lineno</span><span class="op" id="7066278">,</span>&nbsp;<span class="ident" id="7066280">line</span><span class="op" id="7066284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066288">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066294">if</span>&nbsp;<span class="ident" id="7066297">err</span>&nbsp;<span class="op" id="7066301">:=</span>&nbsp;<span class="ident" id="7066304">scanner</span><span class="op" id="7066311">.</span><span class="ident" id="7066312">Err</span><span class="op" id="7066315">(</span><span class="op" id="7066316">)</span><span class="op" id="7066317">;</span>&nbsp;<span class="ident" id="7066319">err</span>&nbsp;<span class="op" id="7066323">!=</span>&nbsp;<span class="ident" id="7066326">nil</span>&nbsp;<span class="op" id="7066330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066334">t</span><span class="op" id="7066335">.</span><span class="ident" id="7066336">Fatalf</span><span class="op" id="7066342">(</span><span class="string" id="7066343">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7066354">,</span>&nbsp;<span class="ident" id="7066356">file</span><span class="op" id="7066360">,</span>&nbsp;<span class="ident" id="7066362">lineno</span><span class="op" id="7066368">,</span>&nbsp;<span class="ident" id="7066370">err</span><span class="op" id="7066373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066379">if</span>&nbsp;<span class="builtinfunc" id="7066382">len</span><span class="op" id="7066385">(</span><span class="ident" id="7066386">input</span><span class="op" id="7066391">)</span>&nbsp;<span class="op" id="7066393">!=</span>&nbsp;<span class="num" id="7066396">0</span>&nbsp;<span class="op" id="7066398">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066402">t</span><span class="op" id="7066403">.</span><span class="ident" id="7066404">Fatalf</span><span class="op" id="7066410">(</span><span class="string" id="7066411">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7066460">,</span>&nbsp;<span class="ident" id="7066462">file</span><span class="op" id="7066466">,</span>&nbsp;<span class="ident" id="7066468">lineno</span><span class="op" id="7066474">,</span>&nbsp;<span class="builtinfunc" id="7066476">len</span><span class="op" id="7066479">(</span><span class="ident" id="7066480">input</span><span class="op" id="7066485">)</span><span class="op" id="7066486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066492">t</span><span class="op" id="7066493">.</span><span class="ident" id="7066494">Logf</span><span class="op" id="7066498">(</span><span class="string" id="7066499">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7066516">,</span>&nbsp;<span class="ident" id="7066518">ncase</span><span class="op" id="7066523">)</span><br>
<span class="lineno"></span><span class="op" id="7066525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7066528">var</span>&nbsp;<span class="ident" id="7066532">run</span>&nbsp;<span class="op" id="7066536">=</span>&nbsp;<span class="op" id="7066538">[</span><span class="op" id="7066539">]</span><span class="keyword" id="7066540">func</span><span class="op" id="7066544">(</span><span class="op" id="7066545">*</span><span class="ident" id="7066546">Regexp</span><span class="op" id="7066552">,</span>&nbsp;<span class="op" id="7066554">*</span><span class="ident" id="7066555">Regexp</span><span class="op" id="7066561">,</span>&nbsp;<span class="builtintype" id="7066563">string</span><span class="op" id="7066569">)</span>&nbsp;<span class="op" id="7066571">(</span><span class="op" id="7066572">[</span><span class="op" id="7066573">]</span><span class="builtintype" id="7066574">int</span><span class="op" id="7066577">,</span>&nbsp;<span class="builtintype" id="7066579">string</span><span class="op" id="7066585">)</span><span class="op" id="7066586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066589">runFull</span><span class="op" id="7066596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066599">runPartial</span><span class="op" id="7066609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066612">runFullLongest</span><span class="op" id="7066626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066629">runPartialLongest</span><span class="op" id="7066646">,</span><br>
<span class="lineno">205</span><span class="op" id="7066648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7066651">func</span>&nbsp;<span class="ident" id="7066656">runFull</span><span class="op" id="7066663">(</span><span class="ident" id="7066664">re</span><span class="op" id="7066666">,</span>&nbsp;<span class="ident" id="7066668">refull</span>&nbsp;<span class="op" id="7066675">*</span><span class="ident" id="7066676">Regexp</span><span class="op" id="7066682">,</span>&nbsp;<span class="ident" id="7066684">text</span>&nbsp;<span class="builtintype" id="7066689">string</span><span class="op" id="7066695">)</span>&nbsp;<span class="op" id="7066697">(</span><span class="op" id="7066698">[</span><span class="op" id="7066699">]</span><span class="builtintype" id="7066700">int</span><span class="op" id="7066703">,</span>&nbsp;<span class="builtintype" id="7066705">string</span><span class="op" id="7066711">)</span>&nbsp;<span class="op" id="7066713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066716">refull</span><span class="op" id="7066722">.</span><span class="ident" id="7066723">longest</span>&nbsp;<span class="op" id="7066731">=</span>&nbsp;<span class="builtintype" id="7066733">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066740">return</span>&nbsp;<span class="ident" id="7066747">refull</span><span class="op" id="7066753">.</span><span class="ident" id="7066754">FindStringSubmatchIndex</span><span class="op" id="7066777">(</span><span class="ident" id="7066778">text</span><span class="op" id="7066782">)</span><span class="op" id="7066783">,</span>&nbsp;<span class="string" id="7066785">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7066794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7066797">func</span>&nbsp;<span class="ident" id="7066802">runPartial</span><span class="op" id="7066812">(</span><span class="ident" id="7066813">re</span><span class="op" id="7066815">,</span>&nbsp;<span class="ident" id="7066817">refull</span>&nbsp;<span class="op" id="7066824">*</span><span class="ident" id="7066825">Regexp</span><span class="op" id="7066831">,</span>&nbsp;<span class="ident" id="7066833">text</span>&nbsp;<span class="builtintype" id="7066838">string</span><span class="op" id="7066844">)</span>&nbsp;<span class="op" id="7066846">(</span><span class="op" id="7066847">[</span><span class="op" id="7066848">]</span><span class="builtintype" id="7066849">int</span><span class="op" id="7066852">,</span>&nbsp;<span class="builtintype" id="7066854">string</span><span class="op" id="7066860">)</span>&nbsp;<span class="op" id="7066862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066865">re</span><span class="op" id="7066867">.</span><span class="ident" id="7066868">longest</span>&nbsp;<span class="op" id="7066876">=</span>&nbsp;<span class="builtintype" id="7066878">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066885">return</span>&nbsp;<span class="ident" id="7066892">re</span><span class="op" id="7066894">.</span><span class="ident" id="7066895">FindStringSubmatchIndex</span><span class="op" id="7066918">(</span><span class="ident" id="7066919">text</span><span class="op" id="7066923">)</span><span class="op" id="7066924">,</span>&nbsp;<span class="string" id="7066926">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7066929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7066932">func</span>&nbsp;<span class="ident" id="7066937">runFullLongest</span><span class="op" id="7066951">(</span><span class="ident" id="7066952">re</span><span class="op" id="7066954">,</span>&nbsp;<span class="ident" id="7066956">refull</span>&nbsp;<span class="op" id="7066963">*</span><span class="ident" id="7066964">Regexp</span><span class="op" id="7066970">,</span>&nbsp;<span class="ident" id="7066972">text</span>&nbsp;<span class="builtintype" id="7066977">string</span><span class="op" id="7066983">)</span>&nbsp;<span class="op" id="7066985">(</span><span class="op" id="7066986">[</span><span class="op" id="7066987">]</span><span class="builtintype" id="7066988">int</span><span class="op" id="7066991">,</span>&nbsp;<span class="builtintype" id="7066993">string</span><span class="op" id="7066999">)</span>&nbsp;<span class="op" id="7067001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067004">refull</span><span class="op" id="7067010">.</span><span class="ident" id="7067011">longest</span>&nbsp;<span class="op" id="7067019">=</span>&nbsp;<span class="builtintype" id="7067021">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067027">return</span>&nbsp;<span class="ident" id="7067034">refull</span><span class="op" id="7067040">.</span><span class="ident" id="7067041">FindStringSubmatchIndex</span><span class="op" id="7067064">(</span><span class="ident" id="7067065">text</span><span class="op" id="7067069">)</span><span class="op" id="7067070">,</span>&nbsp;<span class="string" id="7067072">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7067089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067092">func</span>&nbsp;<span class="ident" id="7067097">runPartialLongest</span><span class="op" id="7067114">(</span><span class="ident" id="7067115">re</span><span class="op" id="7067117">,</span>&nbsp;<span class="ident" id="7067119">refull</span>&nbsp;<span class="op" id="7067126">*</span><span class="ident" id="7067127">Regexp</span><span class="op" id="7067133">,</span>&nbsp;<span class="ident" id="7067135">text</span>&nbsp;<span class="builtintype" id="7067140">string</span><span class="op" id="7067146">)</span>&nbsp;<span class="op" id="7067148">(</span><span class="op" id="7067149">[</span><span class="op" id="7067150">]</span><span class="builtintype" id="7067151">int</span><span class="op" id="7067154">,</span>&nbsp;<span class="builtintype" id="7067156">string</span><span class="op" id="7067162">)</span>&nbsp;<span class="op" id="7067164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067167">re</span><span class="op" id="7067169">.</span><span class="ident" id="7067170">longest</span>&nbsp;<span class="op" id="7067178">=</span>&nbsp;<span class="builtintype" id="7067180">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067186">return</span>&nbsp;<span class="ident" id="7067193">re</span><span class="op" id="7067195">.</span><span class="ident" id="7067196">FindStringSubmatchIndex</span><span class="op" id="7067219">(</span><span class="ident" id="7067220">text</span><span class="op" id="7067224">)</span><span class="op" id="7067225">,</span>&nbsp;<span class="string" id="7067227">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7067239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067242">var</span>&nbsp;<span class="ident" id="7067246">match</span>&nbsp;<span class="op" id="7067252">=</span>&nbsp;<span class="op" id="7067254">[</span><span class="op" id="7067255">]</span><span class="keyword" id="7067256">func</span><span class="op" id="7067260">(</span><span class="op" id="7067261">*</span><span class="ident" id="7067262">Regexp</span><span class="op" id="7067268">,</span>&nbsp;<span class="op" id="7067270">*</span><span class="ident" id="7067271">Regexp</span><span class="op" id="7067277">,</span>&nbsp;<span class="builtintype" id="7067279">string</span><span class="op" id="7067285">)</span>&nbsp;<span class="op" id="7067287">(</span><span class="builtintype" id="7067288">bool</span><span class="op" id="7067292">,</span>&nbsp;<span class="builtintype" id="7067294">string</span><span class="op" id="7067300">)</span><span class="op" id="7067301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067304">matchFull</span><span class="op" id="7067313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067316">matchPartial</span><span class="op" id="7067328">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067331">matchFullLongest</span><span class="op" id="7067347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067350">matchPartialLongest</span><span class="op" id="7067369">,</span><br>
<span class="lineno"></span><span class="op" id="7067371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067374">func</span>&nbsp;<span class="ident" id="7067379">matchFull</span><span class="op" id="7067388">(</span><span class="ident" id="7067389">re</span><span class="op" id="7067391">,</span>&nbsp;<span class="ident" id="7067393">refull</span>&nbsp;<span class="op" id="7067400">*</span><span class="ident" id="7067401">Regexp</span><span class="op" id="7067407">,</span>&nbsp;<span class="ident" id="7067409">text</span>&nbsp;<span class="builtintype" id="7067414">string</span><span class="op" id="7067420">)</span>&nbsp;<span class="op" id="7067422">(</span><span class="builtintype" id="7067423">bool</span><span class="op" id="7067427">,</span>&nbsp;<span class="builtintype" id="7067429">string</span><span class="op" id="7067435">)</span>&nbsp;<span class="op" id="7067437">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067440">refull</span><span class="op" id="7067446">.</span><span class="ident" id="7067447">longest</span>&nbsp;<span class="op" id="7067455">=</span>&nbsp;<span class="builtintype" id="7067457">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067464">return</span>&nbsp;<span class="ident" id="7067471">refull</span><span class="op" id="7067477">.</span><span class="ident" id="7067478">MatchString</span><span class="op" id="7067489">(</span><span class="ident" id="7067490">text</span><span class="op" id="7067494">)</span><span class="op" id="7067495">,</span>&nbsp;<span class="string" id="7067497">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7067506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067509">func</span>&nbsp;<span class="ident" id="7067514">matchPartial</span><span class="op" id="7067526">(</span><span class="ident" id="7067527">re</span><span class="op" id="7067529">,</span>&nbsp;<span class="ident" id="7067531">refull</span>&nbsp;<span class="op" id="7067538">*</span><span class="ident" id="7067539">Regexp</span><span class="op" id="7067545">,</span>&nbsp;<span class="ident" id="7067547">text</span>&nbsp;<span class="builtintype" id="7067552">string</span><span class="op" id="7067558">)</span>&nbsp;<span class="op" id="7067560">(</span><span class="builtintype" id="7067561">bool</span><span class="op" id="7067565">,</span>&nbsp;<span class="builtintype" id="7067567">string</span><span class="op" id="7067573">)</span>&nbsp;<span class="op" id="7067575">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067578">re</span><span class="op" id="7067580">.</span><span class="ident" id="7067581">longest</span>&nbsp;<span class="op" id="7067589">=</span>&nbsp;<span class="builtintype" id="7067591">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067598">return</span>&nbsp;<span class="ident" id="7067605">re</span><span class="op" id="7067607">.</span><span class="ident" id="7067608">MatchString</span><span class="op" id="7067619">(</span><span class="ident" id="7067620">text</span><span class="op" id="7067624">)</span><span class="op" id="7067625">,</span>&nbsp;<span class="string" id="7067627">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7067630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067633">func</span>&nbsp;<span class="ident" id="7067638">matchFullLongest</span><span class="op" id="7067654">(</span><span class="ident" id="7067655">re</span><span class="op" id="7067657">,</span>&nbsp;<span class="ident" id="7067659">refull</span>&nbsp;<span class="op" id="7067666">*</span><span class="ident" id="7067667">Regexp</span><span class="op" id="7067673">,</span>&nbsp;<span class="ident" id="7067675">text</span>&nbsp;<span class="builtintype" id="7067680">string</span><span class="op" id="7067686">)</span>&nbsp;<span class="op" id="7067688">(</span><span class="builtintype" id="7067689">bool</span><span class="op" id="7067693">,</span>&nbsp;<span class="builtintype" id="7067695">string</span><span class="op" id="7067701">)</span>&nbsp;<span class="op" id="7067703">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067706">refull</span><span class="op" id="7067712">.</span><span class="ident" id="7067713">longest</span>&nbsp;<span class="op" id="7067721">=</span>&nbsp;<span class="builtintype" id="7067723">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067729">return</span>&nbsp;<span class="ident" id="7067736">refull</span><span class="op" id="7067742">.</span><span class="ident" id="7067743">MatchString</span><span class="op" id="7067754">(</span><span class="ident" id="7067755">text</span><span class="op" id="7067759">)</span><span class="op" id="7067760">,</span>&nbsp;<span class="string" id="7067762">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7067779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067782">func</span>&nbsp;<span class="ident" id="7067787">matchPartialLongest</span><span class="op" id="7067806">(</span><span class="ident" id="7067807">re</span><span class="op" id="7067809">,</span>&nbsp;<span class="ident" id="7067811">refull</span>&nbsp;<span class="op" id="7067818">*</span><span class="ident" id="7067819">Regexp</span><span class="op" id="7067825">,</span>&nbsp;<span class="ident" id="7067827">text</span>&nbsp;<span class="builtintype" id="7067832">string</span><span class="op" id="7067838">)</span>&nbsp;<span class="op" id="7067840">(</span><span class="builtintype" id="7067841">bool</span><span class="op" id="7067845">,</span>&nbsp;<span class="builtintype" id="7067847">string</span><span class="op" id="7067853">)</span>&nbsp;<span class="op" id="7067855">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067858">re</span><span class="op" id="7067860">.</span><span class="ident" id="7067861">longest</span>&nbsp;<span class="op" id="7067869">=</span>&nbsp;<span class="builtintype" id="7067871">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067877">return</span>&nbsp;<span class="ident" id="7067884">re</span><span class="op" id="7067886">.</span><span class="ident" id="7067887">MatchString</span><span class="op" id="7067898">(</span><span class="ident" id="7067899">text</span><span class="op" id="7067903">)</span><span class="op" id="7067904">,</span>&nbsp;<span class="string" id="7067906">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7067918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067921">func</span>&nbsp;<span class="ident" id="7067926">isSingleBytes</span><span class="op" id="7067939">(</span><span class="ident" id="7067940">s</span>&nbsp;<span class="builtintype" id="7067942">string</span><span class="op" id="7067948">)</span>&nbsp;<span class="builtintype" id="7067950">bool</span>&nbsp;<span class="op" id="7067955">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067958">for</span>&nbsp;<span class="ident" id="7067962">_</span><span class="op" id="7067963">,</span>&nbsp;<span class="ident" id="7067965">c</span>&nbsp;<span class="op" id="7067967">:=</span>&nbsp;<span class="keyword" id="7067970">range</span>&nbsp;<span class="ident" id="7067976">s</span>&nbsp;<span class="op" id="7067978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067982">if</span>&nbsp;<span class="ident" id="7067985">c</span>&nbsp;<span class="op" id="7067987">&gt;=</span>&nbsp;<span class="ident" id="7067990">utf8</span><span class="op" id="7067994">.</span><span class="ident" id="7067995">RuneSelf</span>&nbsp;<span class="op" id="7068004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068009">return</span>&nbsp;<span class="builtintype" id="7068016">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068027">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068030">return</span>&nbsp;<span class="builtintype" id="7068037">true</span><br>
<span class="lineno"></span><span class="op" id="7068042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7068045">func</span>&nbsp;<span class="ident" id="7068050">tryCompile</span><span class="op" id="7068060">(</span><span class="ident" id="7068061">s</span>&nbsp;<span class="builtintype" id="7068063">string</span><span class="op" id="7068069">)</span>&nbsp;<span class="op" id="7068071">(</span><span class="ident" id="7068072">re</span>&nbsp;<span class="op" id="7068075">*</span><span class="ident" id="7068076">Regexp</span><span class="op" id="7068082">,</span>&nbsp;<span class="ident" id="7068084">err</span>&nbsp;<span class="builtintype" id="7068088">error</span><span class="op" id="7068093">)</span>&nbsp;<span class="op" id="7068095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7068098">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068140">defer</span>&nbsp;<span class="keyword" id="7068146">func</span><span class="op" id="7068150">(</span><span class="op" id="7068151">)</span>&nbsp;<span class="op" id="7068153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068157">if</span>&nbsp;<span class="ident" id="7068160">r</span>&nbsp;<span class="op" id="7068162">:=</span>&nbsp;<span class="builtinfunc" id="7068165">recover</span><span class="op" id="7068172">(</span><span class="op" id="7068173">)</span><span class="op" id="7068174">;</span>&nbsp;<span class="ident" id="7068176">r</span>&nbsp;<span class="op" id="7068178">!=</span>&nbsp;<span class="ident" id="7068181">nil</span>&nbsp;<span class="op" id="7068185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068190">err</span>&nbsp;<span class="op" id="7068194">=</span>&nbsp;<span class="ident" id="7068196">fmt</span><span class="op" id="7068199">.</span><span class="ident" id="7068200">Errorf</span><span class="op" id="7068206">(</span><span class="string" id="7068207">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7068218">,</span>&nbsp;<span class="ident" id="7068220">r</span><span class="op" id="7068221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068228">}</span><span class="op" id="7068229">(</span><span class="op" id="7068230">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068233">return</span>&nbsp;<span class="ident" id="7068240">Compile</span><span class="op" id="7068247">(</span><span class="ident" id="7068248">s</span><span class="op" id="7068249">)</span><br>
<span class="lineno"></span><span class="op" id="7068251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7068254">func</span>&nbsp;<span class="ident" id="7068259">parseResult</span><span class="op" id="7068270">(</span><span class="ident" id="7068271">t</span>&nbsp;<span class="op" id="7068273">*</span><span class="ident" id="7068274">testing</span><span class="op" id="7068281">.</span><span class="ident" id="7068282">T</span><span class="op" id="7068283">,</span>&nbsp;<span class="ident" id="7068285">file</span>&nbsp;<span class="builtintype" id="7068290">string</span><span class="op" id="7068296">,</span>&nbsp;<span class="ident" id="7068298">lineno</span>&nbsp;<span class="builtintype" id="7068305">int</span><span class="op" id="7068308">,</span>&nbsp;<span class="ident" id="7068310">res</span>&nbsp;<span class="builtintype" id="7068314">string</span><span class="op" id="7068320">)</span>&nbsp;<span class="op" id="7068322">[</span><span class="op" id="7068323">]</span><span class="builtintype" id="7068324">int</span>&nbsp;<span class="op" id="7068328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7068331">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068366">if</span>&nbsp;<span class="ident" id="7068369">res</span>&nbsp;<span class="op" id="7068373">==</span>&nbsp;<span class="string" id="7068376">&#34;-&#34;</span>&nbsp;<span class="op" id="7068380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068384">return</span>&nbsp;<span class="ident" id="7068391">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7068399">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068447">n</span>&nbsp;<span class="op" id="7068449">:=</span>&nbsp;<span class="num" id="7068452">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068455">for</span>&nbsp;<span class="ident" id="7068459">j</span>&nbsp;<span class="op" id="7068461">:=</span>&nbsp;<span class="num" id="7068464">0</span><span class="op" id="7068465">;</span>&nbsp;<span class="ident" id="7068467">j</span>&nbsp;<span class="op" id="7068469">&lt;</span>&nbsp;<span class="builtinfunc" id="7068471">len</span><span class="op" id="7068474">(</span><span class="ident" id="7068475">res</span><span class="op" id="7068478">)</span><span class="op" id="7068479">;</span>&nbsp;<span class="ident" id="7068481">j</span><span class="op" id="7068482">++</span>&nbsp;<span class="op" id="7068485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068489">if</span>&nbsp;<span class="ident" id="7068492">res</span><span class="op" id="7068495">[</span><span class="ident" id="7068496">j</span><span class="op" id="7068497">]</span>&nbsp;<span class="op" id="7068499">==</span>&nbsp;<span class="string" id="7068502">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7068506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068511">n</span><span class="op" id="7068512">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068520">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068523">out</span>&nbsp;<span class="op" id="7068527">:=</span>&nbsp;<span class="builtinfunc" id="7068530">make</span><span class="op" id="7068534">(</span><span class="op" id="7068535">[</span><span class="op" id="7068536">]</span><span class="builtintype" id="7068537">int</span><span class="op" id="7068540">,</span>&nbsp;<span class="num" id="7068542">2</span><span class="op" id="7068543">*</span><span class="ident" id="7068544">n</span><span class="op" id="7068545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068548">i</span>&nbsp;<span class="op" id="7068550">:=</span>&nbsp;<span class="num" id="7068553">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068556">n</span>&nbsp;<span class="op" id="7068558">=</span>&nbsp;<span class="num" id="7068560">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068563">for</span>&nbsp;<span class="ident" id="7068567">j</span>&nbsp;<span class="op" id="7068569">:=</span>&nbsp;<span class="num" id="7068572">0</span><span class="op" id="7068573">;</span>&nbsp;<span class="ident" id="7068575">j</span>&nbsp;<span class="op" id="7068577">&lt;=</span>&nbsp;<span class="builtinfunc" id="7068580">len</span><span class="op" id="7068583">(</span><span class="ident" id="7068584">res</span><span class="op" id="7068587">)</span><span class="op" id="7068588">;</span>&nbsp;<span class="ident" id="7068590">j</span><span class="op" id="7068591">++</span>&nbsp;<span class="op" id="7068594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068598">if</span>&nbsp;<span class="ident" id="7068601">j</span>&nbsp;<span class="op" id="7068603">==</span>&nbsp;<span class="builtinfunc" id="7068606">len</span><span class="op" id="7068609">(</span><span class="ident" id="7068610">res</span><span class="op" id="7068613">)</span>&nbsp;<span class="op" id="7068615">||</span>&nbsp;<span class="ident" id="7068618">res</span><span class="op" id="7068621">[</span><span class="ident" id="7068622">j</span><span class="op" id="7068623">]</span>&nbsp;<span class="op" id="7068625">==</span>&nbsp;<span class="string" id="7068628">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7068632">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7068637">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068688">pair</span>&nbsp;<span class="op" id="7068693">:=</span>&nbsp;<span class="ident" id="7068696">res</span><span class="op" id="7068699">[</span><span class="ident" id="7068700">i</span><span class="op" id="7068701">:</span><span class="ident" id="7068702">j</span><span class="op" id="7068703">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068708">if</span>&nbsp;<span class="ident" id="7068711">pair</span>&nbsp;<span class="op" id="7068716">==</span>&nbsp;<span class="string" id="7068719">&#34;-&#34;</span>&nbsp;<span class="op" id="7068723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068729">out</span><span class="op" id="7068732">[</span><span class="ident" id="7068733">n</span><span class="op" id="7068734">]</span>&nbsp;<span class="op" id="7068736">=</span>&nbsp;<span class="op" id="7068738">-</span><span class="num" id="7068739">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068745">out</span><span class="op" id="7068748">[</span><span class="ident" id="7068749">n</span><span class="op" id="7068750">+</span><span class="num" id="7068751">1</span><span class="op" id="7068752">]</span>&nbsp;<span class="op" id="7068754">=</span>&nbsp;<span class="op" id="7068756">-</span><span class="num" id="7068757">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068762">}</span>&nbsp;<span class="keyword" id="7068764">else</span>&nbsp;<span class="op" id="7068769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068775">k</span>&nbsp;<span class="op" id="7068777">:=</span>&nbsp;<span class="ident" id="7068780">strings</span><span class="op" id="7068787">.</span><span class="ident" id="7068788">Index</span><span class="op" id="7068793">(</span><span class="ident" id="7068794">pair</span><span class="op" id="7068798">,</span>&nbsp;<span class="string" id="7068800">&#34;-&#34;</span><span class="op" id="7068803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068809">if</span>&nbsp;<span class="ident" id="7068812">k</span>&nbsp;<span class="op" id="7068814">&lt;</span>&nbsp;<span class="num" id="7068816">0</span>&nbsp;<span class="op" id="7068818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068825">t</span><span class="op" id="7068826">.</span><span class="ident" id="7068827">Fatalf</span><span class="op" id="7068833">(</span><span class="string" id="7068834">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7068858">,</span>&nbsp;<span class="ident" id="7068860">file</span><span class="op" id="7068864">,</span>&nbsp;<span class="ident" id="7068866">lineno</span><span class="op" id="7068872">,</span>&nbsp;<span class="ident" id="7068874">pair</span><span class="op" id="7068878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068884">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068890">lo</span><span class="op" id="7068892">,</span>&nbsp;<span class="ident" id="7068894">err1</span>&nbsp;<span class="op" id="7068899">:=</span>&nbsp;<span class="ident" id="7068902">strconv</span><span class="op" id="7068909">.</span><span class="ident" id="7068910">Atoi</span><span class="op" id="7068914">(</span><span class="ident" id="7068915">pair</span><span class="op" id="7068919">[</span><span class="op" id="7068920">:</span><span class="ident" id="7068921">k</span><span class="op" id="7068922">]</span><span class="op" id="7068923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068929">hi</span><span class="op" id="7068931">,</span>&nbsp;<span class="ident" id="7068933">err2</span>&nbsp;<span class="op" id="7068938">:=</span>&nbsp;<span class="ident" id="7068941">strconv</span><span class="op" id="7068948">.</span><span class="ident" id="7068949">Atoi</span><span class="op" id="7068953">(</span><span class="ident" id="7068954">pair</span><span class="op" id="7068958">[</span><span class="ident" id="7068959">k</span><span class="op" id="7068960">+</span><span class="num" id="7068961">1</span><span class="op" id="7068962">:</span><span class="op" id="7068963">]</span><span class="op" id="7068964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068970">if</span>&nbsp;<span class="ident" id="7068973">err1</span>&nbsp;<span class="op" id="7068978">!=</span>&nbsp;<span class="ident" id="7068981">nil</span>&nbsp;<span class="op" id="7068985">||</span>&nbsp;<span class="ident" id="7068988">err2</span>&nbsp;<span class="op" id="7068993">!=</span>&nbsp;<span class="ident" id="7068996">nil</span>&nbsp;<span class="op" id="7069000">||</span>&nbsp;<span class="ident" id="7069003">lo</span>&nbsp;<span class="op" id="7069006">&gt;</span>&nbsp;<span class="ident" id="7069008">hi</span>&nbsp;<span class="op" id="7069011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069018">t</span><span class="op" id="7069019">.</span><span class="ident" id="7069020">Fatalf</span><span class="op" id="7069026">(</span><span class="string" id="7069027">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7069051">,</span>&nbsp;<span class="ident" id="7069053">file</span><span class="op" id="7069057">,</span>&nbsp;<span class="ident" id="7069059">lineno</span><span class="op" id="7069065">,</span>&nbsp;<span class="ident" id="7069067">pair</span><span class="op" id="7069071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069077">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069083">out</span><span class="op" id="7069086">[</span><span class="ident" id="7069087">n</span><span class="op" id="7069088">]</span>&nbsp;<span class="op" id="7069090">=</span>&nbsp;<span class="ident" id="7069092">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069099">out</span><span class="op" id="7069102">[</span><span class="ident" id="7069103">n</span><span class="op" id="7069104">+</span><span class="num" id="7069105">1</span><span class="op" id="7069106">]</span>&nbsp;<span class="op" id="7069108">=</span>&nbsp;<span class="ident" id="7069110">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069121">n</span>&nbsp;<span class="op" id="7069123">+=</span>&nbsp;<span class="num" id="7069126">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069131">i</span>&nbsp;<span class="op" id="7069133">=</span>&nbsp;<span class="ident" id="7069135">j</span>&nbsp;<span class="op" id="7069137">+</span>&nbsp;<span class="num" id="7069139">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069149">return</span>&nbsp;<span class="ident" id="7069156">out</span><br>
<span class="lineno"></span><span class="op" id="7069160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7069163">func</span>&nbsp;<span class="ident" id="7069168">same</span><span class="op" id="7069172">(</span><span class="ident" id="7069173">x</span><span class="op" id="7069174">,</span>&nbsp;<span class="ident" id="7069176">y</span>&nbsp;<span class="op" id="7069178">[</span><span class="op" id="7069179">]</span><span class="builtintype" id="7069180">int</span><span class="op" id="7069183">)</span>&nbsp;<span class="builtintype" id="7069185">bool</span>&nbsp;<span class="op" id="7069190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069193">if</span>&nbsp;<span class="builtinfunc" id="7069196">len</span><span class="op" id="7069199">(</span><span class="ident" id="7069200">x</span><span class="op" id="7069201">)</span>&nbsp;<span class="op" id="7069203">!=</span>&nbsp;<span class="builtinfunc" id="7069206">len</span><span class="op" id="7069209">(</span><span class="ident" id="7069210">y</span><span class="op" id="7069211">)</span>&nbsp;<span class="op" id="7069213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069217">return</span>&nbsp;<span class="builtintype" id="7069224">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069234">for</span>&nbsp;<span class="ident" id="7069238">i</span><span class="op" id="7069239">,</span>&nbsp;<span class="ident" id="7069241">xi</span>&nbsp;<span class="op" id="7069244">:=</span>&nbsp;<span class="keyword" id="7069247">range</span>&nbsp;<span class="ident" id="7069253">x</span>&nbsp;<span class="op" id="7069255">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069259">if</span>&nbsp;<span class="ident" id="7069262">xi</span>&nbsp;<span class="op" id="7069265">!=</span>&nbsp;<span class="ident" id="7069268">y</span><span class="op" id="7069269">[</span><span class="ident" id="7069270">i</span><span class="op" id="7069271">]</span>&nbsp;<span class="op" id="7069273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069278">return</span>&nbsp;<span class="builtintype" id="7069285">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069299">return</span>&nbsp;<span class="builtintype" id="7069306">true</span><br>
<span class="lineno">325</span><span class="op" id="7069311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7069314">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7069371">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7069431">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7069483">func</span>&nbsp;<span class="ident" id="7069488">TestFowler</span><span class="op" id="7069498">(</span><span class="ident" id="7069499">t</span>&nbsp;<span class="op" id="7069501">*</span><span class="ident" id="7069502">testing</span><span class="op" id="7069509">.</span><span class="ident" id="7069510">T</span><span class="op" id="7069511">)</span>&nbsp;<span class="op" id="7069513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069516">files</span><span class="op" id="7069521">,</span>&nbsp;<span class="ident" id="7069523">err</span>&nbsp;<span class="op" id="7069527">:=</span>&nbsp;<span class="ident" id="7069530">filepath</span><span class="op" id="7069538">.</span><span class="ident" id="7069539">Glob</span><span class="op" id="7069543">(</span><span class="string" id="7069544">&#34;testdata/*.dat&#34;</span><span class="op" id="7069560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069563">if</span>&nbsp;<span class="ident" id="7069566">err</span>&nbsp;<span class="op" id="7069570">!=</span>&nbsp;<span class="ident" id="7069573">nil</span>&nbsp;<span class="op" id="7069577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069581">t</span><span class="op" id="7069582">.</span><span class="ident" id="7069583">Fatal</span><span class="op" id="7069588">(</span><span class="ident" id="7069589">err</span><span class="op" id="7069592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069595">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069598">for</span>&nbsp;<span class="ident" id="7069602">_</span><span class="op" id="7069603">,</span>&nbsp;<span class="ident" id="7069605">file</span>&nbsp;<span class="op" id="7069610">:=</span>&nbsp;<span class="keyword" id="7069613">range</span>&nbsp;<span class="ident" id="7069619">files</span>&nbsp;<span class="op" id="7069625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069629">t</span><span class="op" id="7069630">.</span><span class="ident" id="7069631">Log</span><span class="op" id="7069634">(</span><span class="ident" id="7069635">file</span><span class="op" id="7069639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069643">testFowler</span><span class="op" id="7069653">(</span><span class="ident" id="7069654">t</span><span class="op" id="7069655">,</span>&nbsp;<span class="ident" id="7069657">file</span><span class="op" id="7069661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069664">}</span><br>
<span class="lineno"></span><span class="op" id="7069666">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7069669">var</span>&nbsp;<span class="ident" id="7069673">notab</span>&nbsp;<span class="op" id="7069679">=</span>&nbsp;<span class="ident" id="7069681">MustCompilePOSIX</span><span class="op" id="7069697">(</span><span class="string" id="7069698">`[^\t]+`</span><span class="op" id="7069706">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7069709">func</span>&nbsp;<span class="ident" id="7069714">testFowler</span><span class="op" id="7069724">(</span><span class="ident" id="7069725">t</span>&nbsp;<span class="op" id="7069727">*</span><span class="ident" id="7069728">testing</span><span class="op" id="7069735">.</span><span class="ident" id="7069736">T</span><span class="op" id="7069737">,</span>&nbsp;<span class="ident" id="7069739">file</span>&nbsp;<span class="builtintype" id="7069744">string</span><span class="op" id="7069750">)</span>&nbsp;<span class="op" id="7069752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069755">f</span><span class="op" id="7069756">,</span>&nbsp;<span class="ident" id="7069758">err</span>&nbsp;<span class="op" id="7069762">:=</span>&nbsp;<span class="ident" id="7069765">os</span><span class="op" id="7069767">.</span><span class="ident" id="7069768">Open</span><span class="op" id="7069772">(</span><span class="ident" id="7069773">file</span><span class="op" id="7069777">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069780">if</span>&nbsp;<span class="ident" id="7069783">err</span>&nbsp;<span class="op" id="7069787">!=</span>&nbsp;<span class="ident" id="7069790">nil</span>&nbsp;<span class="op" id="7069794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069798">t</span><span class="op" id="7069799">.</span><span class="ident" id="7069800">Error</span><span class="op" id="7069805">(</span><span class="ident" id="7069806">err</span><span class="op" id="7069809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069813">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069824">defer</span>&nbsp;<span class="ident" id="7069830">f</span><span class="op" id="7069831">.</span><span class="ident" id="7069832">Close</span><span class="op" id="7069837">(</span><span class="op" id="7069838">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069841">b</span>&nbsp;<span class="op" id="7069843">:=</span>&nbsp;<span class="ident" id="7069846">bufio</span><span class="op" id="7069851">.</span><span class="ident" id="7069852">NewReader</span><span class="op" id="7069861">(</span><span class="ident" id="7069862">f</span><span class="op" id="7069863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069866">lineno</span>&nbsp;<span class="op" id="7069873">:=</span>&nbsp;<span class="num" id="7069876">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069879">lastRegexp</span>&nbsp;<span class="op" id="7069890">:=</span>&nbsp;<span class="string" id="7069893">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7069896">Reading</span><span class="op" id="7069903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069906">for</span>&nbsp;<span class="op" id="7069910">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069914">lineno</span><span class="op" id="7069920">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069925">line</span><span class="op" id="7069929">,</span>&nbsp;<span class="ident" id="7069931">err</span>&nbsp;<span class="op" id="7069935">:=</span>&nbsp;<span class="ident" id="7069938">b</span><span class="op" id="7069939">.</span><span class="ident" id="7069940">ReadString</span><span class="op" id="7069950">(</span><span class="string" id="7069951">&#39;\n&#39;</span><span class="op" id="7069955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069959">if</span>&nbsp;<span class="ident" id="7069962">err</span>&nbsp;<span class="op" id="7069966">!=</span>&nbsp;<span class="ident" id="7069969">nil</span>&nbsp;<span class="op" id="7069973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069978">if</span>&nbsp;<span class="ident" id="7069981">err</span>&nbsp;<span class="op" id="7069985">!=</span>&nbsp;<span class="ident" id="7069988">io</span><span class="op" id="7069990">.</span><span class="ident" id="7069991">EOF</span>&nbsp;<span class="op" id="7069995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070001">t</span><span class="op" id="7070002">.</span><span class="ident" id="7070003">Errorf</span><span class="op" id="7070009">(</span><span class="string" id="7070010">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7070021">,</span>&nbsp;<span class="ident" id="7070023">file</span><span class="op" id="7070027">,</span>&nbsp;<span class="ident" id="7070029">lineno</span><span class="op" id="7070035">,</span>&nbsp;<span class="ident" id="7070037">err</span><span class="op" id="7070040">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070050">break</span>&nbsp;<span class="ident" id="7070056">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070071">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070134">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070139">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070157">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070228">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070298">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070369">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070387">if</span>&nbsp;<span class="ident" id="7070390">line</span><span class="op" id="7070394">[</span><span class="num" id="7070395">0</span><span class="op" id="7070396">]</span>&nbsp;<span class="op" id="7070398">==</span>&nbsp;<span class="string" id="7070401">&#39;#&#39;</span>&nbsp;<span class="op" id="7070405">||</span>&nbsp;<span class="ident" id="7070408">line</span><span class="op" id="7070412">[</span><span class="num" id="7070413">0</span><span class="op" id="7070414">]</span>&nbsp;<span class="op" id="7070416">==</span>&nbsp;<span class="string" id="7070419">&#39;\n&#39;</span>&nbsp;<span class="op" id="7070424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070429">continue</span>&nbsp;<span class="ident" id="7070438">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070452">line</span>&nbsp;<span class="op" id="7070457">=</span>&nbsp;<span class="ident" id="7070459">line</span><span class="op" id="7070463">[</span><span class="op" id="7070464">:</span><span class="builtinfunc" id="7070465">len</span><span class="op" id="7070468">(</span><span class="ident" id="7070469">line</span><span class="op" id="7070473">)</span><span class="op" id="7070474">-</span><span class="num" id="7070475">1</span><span class="op" id="7070476">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070480">field</span>&nbsp;<span class="op" id="7070486">:=</span>&nbsp;<span class="ident" id="7070489">notab</span><span class="op" id="7070494">.</span><span class="ident" id="7070495">FindAllString</span><span class="op" id="7070508">(</span><span class="ident" id="7070509">line</span><span class="op" id="7070513">,</span>&nbsp;<span class="op" id="7070515">-</span><span class="num" id="7070516">1</span><span class="op" id="7070517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070521">for</span>&nbsp;<span class="ident" id="7070525">i</span><span class="op" id="7070526">,</span>&nbsp;<span class="ident" id="7070528">f</span>&nbsp;<span class="op" id="7070530">:=</span>&nbsp;<span class="keyword" id="7070533">range</span>&nbsp;<span class="ident" id="7070539">field</span>&nbsp;<span class="op" id="7070545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070550">if</span>&nbsp;<span class="ident" id="7070553">f</span>&nbsp;<span class="op" id="7070555">==</span>&nbsp;<span class="string" id="7070558">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7070565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070571">field</span><span class="op" id="7070576">[</span><span class="ident" id="7070577">i</span><span class="op" id="7070578">]</span>&nbsp;<span class="op" id="7070580">=</span>&nbsp;<span class="string" id="7070582">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070588">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070593">if</span>&nbsp;<span class="ident" id="7070596">f</span>&nbsp;<span class="op" id="7070598">==</span>&nbsp;<span class="string" id="7070601">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7070607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070613">t</span><span class="op" id="7070614">.</span><span class="ident" id="7070615">Logf</span><span class="op" id="7070619">(</span><span class="string" id="7070620">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7070637">,</span>&nbsp;<span class="ident" id="7070639">file</span><span class="op" id="7070643">,</span>&nbsp;<span class="ident" id="7070645">lineno</span><span class="op" id="7070651">,</span>&nbsp;<span class="ident" id="7070653">line</span><span class="op" id="7070657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070663">continue</span>&nbsp;<span class="ident" id="7070672">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070687">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070691">if</span>&nbsp;<span class="builtinfunc" id="7070694">len</span><span class="op" id="7070697">(</span><span class="ident" id="7070698">field</span><span class="op" id="7070703">)</span>&nbsp;<span class="op" id="7070705">==</span>&nbsp;<span class="num" id="7070708">0</span>&nbsp;<span class="op" id="7070710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070715">continue</span>&nbsp;<span class="ident" id="7070724">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070739">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070814">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070886">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070958">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071037">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071096">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071101">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071141">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071179">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071231">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071267">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071317">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071353">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071358">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071403">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071447">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071495">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071546">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071590">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071646">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071708">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071756">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071790">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071824">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071874">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071909">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071947">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071989">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072043">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072087">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072131">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072167">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072210">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072269">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072332">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072383">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072434">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072480">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072525">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072569">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072642">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072714">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072785">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072790">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072820">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072825">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072886">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072891">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072969">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073034">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073106">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073155">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073197">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073221">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073226">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073276">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073317">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073371">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073403">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073408">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073463">flag</span>&nbsp;<span class="op" id="7073468">:=</span>&nbsp;<span class="ident" id="7073471">field</span><span class="op" id="7073476">[</span><span class="num" id="7073477">0</span><span class="op" id="7073478">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073482">switch</span>&nbsp;<span class="ident" id="7073489">flag</span><span class="op" id="7073493">[</span><span class="num" id="7073494">0</span><span class="op" id="7073495">]</span>&nbsp;<span class="op" id="7073497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073501">case</span>&nbsp;<span class="string" id="7073506">&#39;?&#39;</span><span class="op" id="7073509">,</span>&nbsp;<span class="string" id="7073511">&#39;&amp;&#39;</span><span class="op" id="7073514">,</span>&nbsp;<span class="string" id="7073516">&#39;|&#39;</span><span class="op" id="7073519">,</span>&nbsp;<span class="string" id="7073521">&#39;;&#39;</span><span class="op" id="7073524">,</span>&nbsp;<span class="string" id="7073526">&#39;{&#39;</span><span class="op" id="7073529">,</span>&nbsp;<span class="string" id="7073531">&#39;}&#39;</span><span class="op" id="7073534">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073539">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073579">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073606">flag</span>&nbsp;<span class="op" id="7073611">=</span>&nbsp;<span class="ident" id="7073613">flag</span><span class="op" id="7073617">[</span><span class="num" id="7073618">1</span><span class="op" id="7073619">:</span><span class="op" id="7073620">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073625">if</span>&nbsp;<span class="ident" id="7073628">flag</span>&nbsp;<span class="op" id="7073633">==</span>&nbsp;<span class="string" id="7073636">&#34;&#34;</span>&nbsp;<span class="op" id="7073639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073645">continue</span>&nbsp;<span class="ident" id="7073654">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073669">case</span>&nbsp;<span class="string" id="7073674">&#39;:&#39;</span><span class="op" id="7073677">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073682">i</span>&nbsp;<span class="op" id="7073684">:=</span>&nbsp;<span class="ident" id="7073687">strings</span><span class="op" id="7073694">.</span><span class="ident" id="7073695">Index</span><span class="op" id="7073700">(</span><span class="ident" id="7073701">flag</span><span class="op" id="7073705">[</span><span class="num" id="7073706">1</span><span class="op" id="7073707">:</span><span class="op" id="7073708">]</span><span class="op" id="7073709">,</span>&nbsp;<span class="string" id="7073711">&#34;:&#34;</span><span class="op" id="7073714">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073719">if</span>&nbsp;<span class="ident" id="7073722">i</span>&nbsp;<span class="op" id="7073724">&lt;</span>&nbsp;<span class="num" id="7073726">0</span>&nbsp;<span class="op" id="7073728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073734">t</span><span class="op" id="7073735">.</span><span class="ident" id="7073736">Logf</span><span class="op" id="7073740">(</span><span class="string" id="7073741">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7073751">,</span>&nbsp;<span class="ident" id="7073753">line</span><span class="op" id="7073757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073763">continue</span>&nbsp;<span class="ident" id="7073772">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073788">flag</span>&nbsp;<span class="op" id="7073793">=</span>&nbsp;<span class="ident" id="7073795">flag</span><span class="op" id="7073799">[</span><span class="num" id="7073800">1</span><span class="op" id="7073801">+</span><span class="ident" id="7073802">i</span><span class="op" id="7073803">+</span><span class="num" id="7073804">1</span><span class="op" id="7073805">:</span><span class="op" id="7073806">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073810">case</span>&nbsp;<span class="string" id="7073815">&#39;C&#39;</span><span class="op" id="7073818">,</span>&nbsp;<span class="string" id="7073820">&#39;N&#39;</span><span class="op" id="7073823">,</span>&nbsp;<span class="string" id="7073825">&#39;T&#39;</span><span class="op" id="7073828">,</span>&nbsp;<span class="string" id="7073830">&#39;0&#39;</span><span class="op" id="7073833">,</span>&nbsp;<span class="string" id="7073835">&#39;1&#39;</span><span class="op" id="7073838">,</span>&nbsp;<span class="string" id="7073840">&#39;2&#39;</span><span class="op" id="7073843">,</span>&nbsp;<span class="string" id="7073845">&#39;3&#39;</span><span class="op" id="7073848">,</span>&nbsp;<span class="string" id="7073850">&#39;4&#39;</span><span class="op" id="7073853">,</span>&nbsp;<span class="string" id="7073855">&#39;5&#39;</span><span class="op" id="7073858">,</span>&nbsp;<span class="string" id="7073860">&#39;6&#39;</span><span class="op" id="7073863">,</span>&nbsp;<span class="string" id="7073865">&#39;7&#39;</span><span class="op" id="7073868">,</span>&nbsp;<span class="string" id="7073870">&#39;8&#39;</span><span class="op" id="7073873">,</span>&nbsp;<span class="string" id="7073875">&#39;9&#39;</span><span class="op" id="7073878">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073883">t</span><span class="op" id="7073884">.</span><span class="ident" id="7073885">Logf</span><span class="op" id="7073889">(</span><span class="string" id="7073890">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7073900">,</span>&nbsp;<span class="ident" id="7073902">line</span><span class="op" id="7073906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073911">continue</span>&nbsp;<span class="ident" id="7073920">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073935">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074013">if</span>&nbsp;<span class="builtinfunc" id="7074016">len</span><span class="op" id="7074019">(</span><span class="ident" id="7074020">field</span><span class="op" id="7074025">)</span>&nbsp;<span class="op" id="7074027">&lt;</span>&nbsp;<span class="num" id="7074029">4</span>&nbsp;<span class="op" id="7074031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074036">t</span><span class="op" id="7074037">.</span><span class="ident" id="7074038">Errorf</span><span class="op" id="7074044">(</span><span class="string" id="7074045">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7074072">,</span>&nbsp;<span class="ident" id="7074074">file</span><span class="op" id="7074078">,</span>&nbsp;<span class="ident" id="7074080">lineno</span><span class="op" id="7074086">,</span>&nbsp;<span class="ident" id="7074088">line</span><span class="op" id="7074092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074097">continue</span>&nbsp;<span class="ident" id="7074106">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074116">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074121">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074164">if</span>&nbsp;<span class="ident" id="7074167">strings</span><span class="op" id="7074174">.</span><span class="ident" id="7074175">Contains</span><span class="op" id="7074183">(</span><span class="ident" id="7074184">flag</span><span class="op" id="7074188">,</span>&nbsp;<span class="string" id="7074190">&#34;$&#34;</span><span class="op" id="7074193">)</span>&nbsp;<span class="op" id="7074195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074200">f</span>&nbsp;<span class="op" id="7074202">:=</span>&nbsp;<span class="string" id="7074205">`&#34;`</span>&nbsp;<span class="op" id="7074209">+</span>&nbsp;<span class="ident" id="7074211">field</span><span class="op" id="7074216">[</span><span class="num" id="7074217">1</span><span class="op" id="7074218">]</span>&nbsp;<span class="op" id="7074220">+</span>&nbsp;<span class="string" id="7074222">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074229">if</span>&nbsp;<span class="ident" id="7074232">field</span><span class="op" id="7074237">[</span><span class="num" id="7074238">1</span><span class="op" id="7074239">]</span><span class="op" id="7074240">,</span>&nbsp;<span class="ident" id="7074242">err</span>&nbsp;<span class="op" id="7074246">=</span>&nbsp;<span class="ident" id="7074248">strconv</span><span class="op" id="7074255">.</span><span class="ident" id="7074256">Unquote</span><span class="op" id="7074263">(</span><span class="ident" id="7074264">f</span><span class="op" id="7074265">)</span><span class="op" id="7074266">;</span>&nbsp;<span class="ident" id="7074268">err</span>&nbsp;<span class="op" id="7074272">!=</span>&nbsp;<span class="ident" id="7074275">nil</span>&nbsp;<span class="op" id="7074279">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074285">t</span><span class="op" id="7074286">.</span><span class="ident" id="7074287">Errorf</span><span class="op" id="7074293">(</span><span class="string" id="7074294">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7074320">,</span>&nbsp;<span class="ident" id="7074322">file</span><span class="op" id="7074326">,</span>&nbsp;<span class="ident" id="7074328">lineno</span><span class="op" id="7074334">,</span>&nbsp;<span class="ident" id="7074336">f</span><span class="op" id="7074337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074347">f</span>&nbsp;<span class="op" id="7074349">=</span>&nbsp;<span class="string" id="7074351">`&#34;`</span>&nbsp;<span class="op" id="7074355">+</span>&nbsp;<span class="ident" id="7074357">field</span><span class="op" id="7074362">[</span><span class="num" id="7074363">2</span><span class="op" id="7074364">]</span>&nbsp;<span class="op" id="7074366">+</span>&nbsp;<span class="string" id="7074368">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074375">if</span>&nbsp;<span class="ident" id="7074378">field</span><span class="op" id="7074383">[</span><span class="num" id="7074384">2</span><span class="op" id="7074385">]</span><span class="op" id="7074386">,</span>&nbsp;<span class="ident" id="7074388">err</span>&nbsp;<span class="op" id="7074392">=</span>&nbsp;<span class="ident" id="7074394">strconv</span><span class="op" id="7074401">.</span><span class="ident" id="7074402">Unquote</span><span class="op" id="7074409">(</span><span class="ident" id="7074410">f</span><span class="op" id="7074411">)</span><span class="op" id="7074412">;</span>&nbsp;<span class="ident" id="7074414">err</span>&nbsp;<span class="op" id="7074418">!=</span>&nbsp;<span class="ident" id="7074421">nil</span>&nbsp;<span class="op" id="7074425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074431">t</span><span class="op" id="7074432">.</span><span class="ident" id="7074433">Errorf</span><span class="op" id="7074439">(</span><span class="string" id="7074440">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7074466">,</span>&nbsp;<span class="ident" id="7074468">file</span><span class="op" id="7074472">,</span>&nbsp;<span class="ident" id="7074474">lineno</span><span class="op" id="7074480">,</span>&nbsp;<span class="ident" id="7074482">f</span><span class="op" id="7074483">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074497">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074572">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074609">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074614">if</span>&nbsp;<span class="ident" id="7074617">field</span><span class="op" id="7074622">[</span><span class="num" id="7074623">1</span><span class="op" id="7074624">]</span>&nbsp;<span class="op" id="7074626">==</span>&nbsp;<span class="string" id="7074629">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7074636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074641">field</span><span class="op" id="7074646">[</span><span class="num" id="7074647">1</span><span class="op" id="7074648">]</span>&nbsp;<span class="op" id="7074650">=</span>&nbsp;<span class="ident" id="7074652">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074669">lastRegexp</span>&nbsp;<span class="op" id="7074680">=</span>&nbsp;<span class="ident" id="7074682">field</span><span class="op" id="7074687">[</span><span class="num" id="7074688">1</span><span class="op" id="7074689">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074694">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074731">text</span>&nbsp;<span class="op" id="7074736">:=</span>&nbsp;<span class="ident" id="7074739">field</span><span class="op" id="7074744">[</span><span class="num" id="7074745">2</span><span class="op" id="7074746">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074751">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074787">ok</span><span class="op" id="7074789">,</span>&nbsp;<span class="ident" id="7074791">shouldCompile</span><span class="op" id="7074804">,</span>&nbsp;<span class="ident" id="7074806">shouldMatch</span><span class="op" id="7074817">,</span>&nbsp;<span class="ident" id="7074819">pos</span>&nbsp;<span class="op" id="7074823">:=</span>&nbsp;<span class="ident" id="7074826">parseFowlerResult</span><span class="op" id="7074843">(</span><span class="ident" id="7074844">field</span><span class="op" id="7074849">[</span><span class="num" id="7074850">3</span><span class="op" id="7074851">]</span><span class="op" id="7074852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074856">if</span>&nbsp;<span class="op" id="7074859">!</span><span class="ident" id="7074860">ok</span>&nbsp;<span class="op" id="7074863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074868">t</span><span class="op" id="7074869">.</span><span class="ident" id="7074870">Errorf</span><span class="op" id="7074876">(</span><span class="string" id="7074877">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7074909">,</span>&nbsp;<span class="ident" id="7074911">file</span><span class="op" id="7074915">,</span>&nbsp;<span class="ident" id="7074917">lineno</span><span class="op" id="7074923">,</span>&nbsp;<span class="ident" id="7074925">field</span><span class="op" id="7074930">[</span><span class="num" id="7074931">3</span><span class="op" id="7074932">]</span><span class="op" id="7074933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074938">continue</span>&nbsp;<span class="ident" id="7074947">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074957">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074962">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075019">Testing</span><span class="op" id="7075026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075030">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075105">for</span>&nbsp;<span class="ident" id="7075109">_</span><span class="op" id="7075110">,</span>&nbsp;<span class="ident" id="7075112">c</span>&nbsp;<span class="op" id="7075114">:=</span>&nbsp;<span class="keyword" id="7075117">range</span>&nbsp;<span class="ident" id="7075123">flag</span>&nbsp;<span class="op" id="7075128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075133">pattern</span>&nbsp;<span class="op" id="7075141">:=</span>&nbsp;<span class="ident" id="7075144">field</span><span class="op" id="7075149">[</span><span class="num" id="7075150">1</span><span class="op" id="7075151">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075156">syn</span>&nbsp;<span class="op" id="7075160">:=</span>&nbsp;<span class="ident" id="7075163">syntax</span><span class="op" id="7075169">.</span><span class="ident" id="7075170">POSIX</span>&nbsp;<span class="op" id="7075176">|</span>&nbsp;<span class="ident" id="7075178">syntax</span><span class="op" id="7075184">.</span><span class="ident" id="7075185">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075196">switch</span>&nbsp;<span class="ident" id="7075203">c</span>&nbsp;<span class="op" id="7075205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075210">default</span><span class="op" id="7075217">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075223">continue</span>&nbsp;<span class="ident" id="7075232">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075243">case</span>&nbsp;<span class="string" id="7075248">&#39;E&#39;</span><span class="op" id="7075251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075257">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075297">case</span>&nbsp;<span class="string" id="7075302">&#39;L&#39;</span><span class="op" id="7075305">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075311">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075326">pattern</span>&nbsp;<span class="op" id="7075334">=</span>&nbsp;<span class="ident" id="7075336">QuoteMeta</span><span class="op" id="7075345">(</span><span class="ident" id="7075346">pattern</span><span class="op" id="7075353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075364">for</span>&nbsp;<span class="ident" id="7075368">_</span><span class="op" id="7075369">,</span>&nbsp;<span class="ident" id="7075371">c</span>&nbsp;<span class="op" id="7075373">:=</span>&nbsp;<span class="keyword" id="7075376">range</span>&nbsp;<span class="ident" id="7075382">flag</span>&nbsp;<span class="op" id="7075387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075393">switch</span>&nbsp;<span class="ident" id="7075400">c</span>&nbsp;<span class="op" id="7075402">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075408">case</span>&nbsp;<span class="string" id="7075413">&#39;i&#39;</span><span class="op" id="7075416">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075423">syn</span>&nbsp;<span class="op" id="7075427">|=</span>&nbsp;<span class="ident" id="7075430">syntax</span><span class="op" id="7075436">.</span><span class="ident" id="7075437">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075461">re</span><span class="op" id="7075463">,</span>&nbsp;<span class="ident" id="7075465">err</span>&nbsp;<span class="op" id="7075469">:=</span>&nbsp;<span class="ident" id="7075472">compile</span><span class="op" id="7075479">(</span><span class="ident" id="7075480">pattern</span><span class="op" id="7075487">,</span>&nbsp;<span class="ident" id="7075489">syn</span><span class="op" id="7075492">,</span>&nbsp;<span class="builtintype" id="7075494">true</span><span class="op" id="7075498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075503">if</span>&nbsp;<span class="ident" id="7075506">err</span>&nbsp;<span class="op" id="7075510">!=</span>&nbsp;<span class="ident" id="7075513">nil</span>&nbsp;<span class="op" id="7075517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075523">if</span>&nbsp;<span class="ident" id="7075526">shouldCompile</span>&nbsp;<span class="op" id="7075540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075547">t</span><span class="op" id="7075548">.</span><span class="ident" id="7075549">Errorf</span><span class="op" id="7075555">(</span><span class="string" id="7075556">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7075584">,</span>&nbsp;<span class="ident" id="7075586">file</span><span class="op" id="7075590">,</span>&nbsp;<span class="ident" id="7075592">lineno</span><span class="op" id="7075598">,</span>&nbsp;<span class="ident" id="7075600">pattern</span><span class="op" id="7075607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075613">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075619">continue</span>&nbsp;<span class="ident" id="7075628">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075644">if</span>&nbsp;<span class="op" id="7075647">!</span><span class="ident" id="7075648">shouldCompile</span>&nbsp;<span class="op" id="7075662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075668">t</span><span class="op" id="7075669">.</span><span class="ident" id="7075670">Errorf</span><span class="op" id="7075676">(</span><span class="string" id="7075677">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7075708">,</span>&nbsp;<span class="ident" id="7075710">file</span><span class="op" id="7075714">,</span>&nbsp;<span class="ident" id="7075716">lineno</span><span class="op" id="7075722">,</span>&nbsp;<span class="ident" id="7075724">pattern</span><span class="op" id="7075731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075737">continue</span>&nbsp;<span class="ident" id="7075746">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075762">match</span>&nbsp;<span class="op" id="7075768">:=</span>&nbsp;<span class="ident" id="7075771">re</span><span class="op" id="7075773">.</span><span class="ident" id="7075774">MatchString</span><span class="op" id="7075785">(</span><span class="ident" id="7075786">text</span><span class="op" id="7075790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075795">if</span>&nbsp;<span class="ident" id="7075798">match</span>&nbsp;<span class="op" id="7075804">!=</span>&nbsp;<span class="ident" id="7075807">shouldMatch</span>&nbsp;<span class="op" id="7075819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075825">t</span><span class="op" id="7075826">.</span><span class="ident" id="7075827">Errorf</span><span class="op" id="7075833">(</span><span class="string" id="7075834">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7075871">,</span>&nbsp;<span class="ident" id="7075873">file</span><span class="op" id="7075877">,</span>&nbsp;<span class="ident" id="7075879">lineno</span><span class="op" id="7075885">,</span>&nbsp;<span class="ident" id="7075887">pattern</span><span class="op" id="7075894">,</span>&nbsp;<span class="ident" id="7075896">text</span><span class="op" id="7075900">,</span>&nbsp;<span class="ident" id="7075902">match</span><span class="op" id="7075907">,</span>&nbsp;<span class="ident" id="7075909">shouldMatch</span><span class="op" id="7075920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075926">continue</span>&nbsp;<span class="ident" id="7075935">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075951">have</span>&nbsp;<span class="op" id="7075956">:=</span>&nbsp;<span class="ident" id="7075959">re</span><span class="op" id="7075961">.</span><span class="ident" id="7075962">FindStringSubmatchIndex</span><span class="op" id="7075985">(</span><span class="ident" id="7075986">text</span><span class="op" id="7075990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075995">if</span>&nbsp;<span class="op" id="7075998">(</span><span class="builtinfunc" id="7075999">len</span><span class="op" id="7076002">(</span><span class="ident" id="7076003">have</span><span class="op" id="7076007">)</span>&nbsp;<span class="op" id="7076009">&gt;</span>&nbsp;<span class="num" id="7076011">0</span><span class="op" id="7076012">)</span>&nbsp;<span class="op" id="7076014">!=</span>&nbsp;<span class="ident" id="7076017">match</span>&nbsp;<span class="op" id="7076023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076029">t</span><span class="op" id="7076030">.</span><span class="ident" id="7076031">Errorf</span><span class="op" id="7076037">(</span><span class="string" id="7076038">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7076103">,</span>&nbsp;<span class="ident" id="7076105">file</span><span class="op" id="7076109">,</span>&nbsp;<span class="ident" id="7076111">lineno</span><span class="op" id="7076117">,</span>&nbsp;<span class="ident" id="7076119">pattern</span><span class="op" id="7076126">,</span>&nbsp;<span class="ident" id="7076128">text</span><span class="op" id="7076132">,</span>&nbsp;<span class="ident" id="7076134">match</span><span class="op" id="7076139">,</span>&nbsp;<span class="ident" id="7076141">pattern</span><span class="op" id="7076148">,</span>&nbsp;<span class="ident" id="7076150">text</span><span class="op" id="7076154">,</span>&nbsp;<span class="ident" id="7076156">have</span><span class="op" id="7076160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076166">continue</span>&nbsp;<span class="ident" id="7076175">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076191">if</span>&nbsp;<span class="builtinfunc" id="7076194">len</span><span class="op" id="7076197">(</span><span class="ident" id="7076198">have</span><span class="op" id="7076202">)</span>&nbsp;<span class="op" id="7076204">&gt;</span>&nbsp;<span class="builtinfunc" id="7076206">len</span><span class="op" id="7076209">(</span><span class="ident" id="7076210">pos</span><span class="op" id="7076213">)</span>&nbsp;<span class="op" id="7076215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076221">have</span>&nbsp;<span class="op" id="7076226">=</span>&nbsp;<span class="ident" id="7076228">have</span><span class="op" id="7076232">[</span><span class="op" id="7076233">:</span><span class="builtinfunc" id="7076234">len</span><span class="op" id="7076237">(</span><span class="ident" id="7076238">pos</span><span class="op" id="7076241">)</span><span class="op" id="7076242">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076252">if</span>&nbsp;<span class="op" id="7076255">!</span><span class="ident" id="7076256">same</span><span class="op" id="7076260">(</span><span class="ident" id="7076261">have</span><span class="op" id="7076265">,</span>&nbsp;<span class="ident" id="7076267">pos</span><span class="op" id="7076270">)</span>&nbsp;<span class="op" id="7076272">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076278">t</span><span class="op" id="7076279">.</span><span class="ident" id="7076280">Errorf</span><span class="op" id="7076286">(</span><span class="string" id="7076287">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7076336">,</span>&nbsp;<span class="ident" id="7076338">file</span><span class="op" id="7076342">,</span>&nbsp;<span class="ident" id="7076344">lineno</span><span class="op" id="7076350">,</span>&nbsp;<span class="ident" id="7076352">pattern</span><span class="op" id="7076359">,</span>&nbsp;<span class="ident" id="7076361">text</span><span class="op" id="7076365">,</span>&nbsp;<span class="ident" id="7076367">have</span><span class="op" id="7076371">,</span>&nbsp;<span class="ident" id="7076373">pos</span><span class="op" id="7076376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076388">}</span><br>
<span class="lineno"></span><span class="op" id="7076390">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7076393">func</span>&nbsp;<span class="ident" id="7076398">parseFowlerResult</span><span class="op" id="7076415">(</span><span class="ident" id="7076416">s</span>&nbsp;<span class="builtintype" id="7076418">string</span><span class="op" id="7076424">)</span>&nbsp;<span class="op" id="7076426">(</span><span class="ident" id="7076427">ok</span><span class="op" id="7076429">,</span>&nbsp;<span class="ident" id="7076431">compiled</span><span class="op" id="7076439">,</span>&nbsp;<span class="ident" id="7076441">matched</span>&nbsp;<span class="builtintype" id="7076449">bool</span><span class="op" id="7076453">,</span>&nbsp;<span class="ident" id="7076455">pos</span>&nbsp;<span class="op" id="7076459">[</span><span class="op" id="7076460">]</span><span class="builtintype" id="7076461">int</span><span class="op" id="7076464">)</span>&nbsp;<span class="op" id="7076466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076469">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076540">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076610">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076679">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076749">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076818">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076889">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076964">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077040">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077113">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077189">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077265">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077337">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077412">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077430">switch</span>&nbsp;<span class="op" id="7077437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077440">case</span>&nbsp;<span class="ident" id="7077445">s</span>&nbsp;<span class="op" id="7077447">==</span>&nbsp;<span class="string" id="7077450">&#34;&#34;</span><span class="op" id="7077452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077456">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077497">ok</span>&nbsp;<span class="op" id="7077500">=</span>&nbsp;<span class="builtintype" id="7077502">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077509">compiled</span>&nbsp;<span class="op" id="7077518">=</span>&nbsp;<span class="builtintype" id="7077520">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077527">matched</span>&nbsp;<span class="op" id="7077535">=</span>&nbsp;<span class="builtintype" id="7077537">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077544">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077552">case</span>&nbsp;<span class="ident" id="7077557">s</span>&nbsp;<span class="op" id="7077559">==</span>&nbsp;<span class="string" id="7077562">&#34;NOMATCH&#34;</span><span class="op" id="7077571">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077575">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077595">ok</span>&nbsp;<span class="op" id="7077598">=</span>&nbsp;<span class="builtintype" id="7077600">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077607">compiled</span>&nbsp;<span class="op" id="7077616">=</span>&nbsp;<span class="builtintype" id="7077618">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077625">matched</span>&nbsp;<span class="op" id="7077633">=</span>&nbsp;<span class="builtintype" id="7077635">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077643">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077651">case</span>&nbsp;<span class="string" id="7077656">&#39;A&#39;</span>&nbsp;<span class="op" id="7077660">&lt;=</span>&nbsp;<span class="ident" id="7077663">s</span><span class="op" id="7077664">[</span><span class="num" id="7077665">0</span><span class="op" id="7077666">]</span>&nbsp;<span class="op" id="7077668">&amp;&amp;</span>&nbsp;<span class="ident" id="7077671">s</span><span class="op" id="7077672">[</span><span class="num" id="7077673">0</span><span class="op" id="7077674">]</span>&nbsp;<span class="op" id="7077676">&lt;=</span>&nbsp;<span class="string" id="7077679">&#39;Z&#39;</span><span class="op" id="7077682">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077686">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077737">ok</span>&nbsp;<span class="op" id="7077740">=</span>&nbsp;<span class="builtintype" id="7077742">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077749">compiled</span>&nbsp;<span class="op" id="7077758">=</span>&nbsp;<span class="builtintype" id="7077760">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077768">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077776">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077779">compiled</span>&nbsp;<span class="op" id="7077788">=</span>&nbsp;<span class="builtintype" id="7077790">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077797">var</span>&nbsp;<span class="ident" id="7077801">x</span>&nbsp;<span class="op" id="7077803">[</span><span class="op" id="7077804">]</span><span class="builtintype" id="7077805">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077810">for</span>&nbsp;<span class="ident" id="7077814">s</span>&nbsp;<span class="op" id="7077816">!=</span>&nbsp;<span class="string" id="7077819">&#34;&#34;</span>&nbsp;<span class="op" id="7077822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077826">var</span>&nbsp;<span class="ident" id="7077830">end</span>&nbsp;<span class="builtintype" id="7077834">byte</span>&nbsp;<span class="op" id="7077839">=</span>&nbsp;<span class="string" id="7077841">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077847">if</span>&nbsp;<span class="builtinfunc" id="7077850">len</span><span class="op" id="7077853">(</span><span class="ident" id="7077854">x</span><span class="op" id="7077855">)</span><span class="op" id="7077856">%</span><span class="num" id="7077857">2</span>&nbsp;<span class="op" id="7077859">==</span>&nbsp;<span class="num" id="7077862">0</span>&nbsp;<span class="op" id="7077864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077869">if</span>&nbsp;<span class="ident" id="7077872">s</span><span class="op" id="7077873">[</span><span class="num" id="7077874">0</span><span class="op" id="7077875">]</span>&nbsp;<span class="op" id="7077877">!=</span>&nbsp;<span class="string" id="7077880">&#39;(&#39;</span>&nbsp;<span class="op" id="7077884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077890">ok</span>&nbsp;<span class="op" id="7077893">=</span>&nbsp;<span class="builtintype" id="7077895">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077905">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077915">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077920">s</span>&nbsp;<span class="op" id="7077922">=</span>&nbsp;<span class="ident" id="7077924">s</span><span class="op" id="7077925">[</span><span class="num" id="7077926">1</span><span class="op" id="7077927">:</span><span class="op" id="7077928">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077933">end</span>&nbsp;<span class="op" id="7077937">=</span>&nbsp;<span class="string" id="7077939">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077949">i</span>&nbsp;<span class="op" id="7077951">:=</span>&nbsp;<span class="num" id="7077954">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077958">for</span>&nbsp;<span class="ident" id="7077962">i</span>&nbsp;<span class="op" id="7077964">&lt;</span>&nbsp;<span class="builtinfunc" id="7077966">len</span><span class="op" id="7077969">(</span><span class="ident" id="7077970">s</span><span class="op" id="7077971">)</span>&nbsp;<span class="op" id="7077973">&amp;&amp;</span>&nbsp;<span class="ident" id="7077976">s</span><span class="op" id="7077977">[</span><span class="ident" id="7077978">i</span><span class="op" id="7077979">]</span>&nbsp;<span class="op" id="7077981">!=</span>&nbsp;<span class="ident" id="7077984">end</span>&nbsp;<span class="op" id="7077988">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077993">i</span><span class="op" id="7077994">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078003">if</span>&nbsp;<span class="ident" id="7078006">i</span>&nbsp;<span class="op" id="7078008">==</span>&nbsp;<span class="num" id="7078011">0</span>&nbsp;<span class="op" id="7078013">||</span>&nbsp;<span class="ident" id="7078016">i</span>&nbsp;<span class="op" id="7078018">==</span>&nbsp;<span class="builtinfunc" id="7078021">len</span><span class="op" id="7078024">(</span><span class="ident" id="7078025">s</span><span class="op" id="7078026">)</span>&nbsp;<span class="op" id="7078028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078033">ok</span>&nbsp;<span class="op" id="7078036">=</span>&nbsp;<span class="builtintype" id="7078038">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078047">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078060">var</span>&nbsp;<span class="ident" id="7078064">v</span>&nbsp;<span class="op" id="7078066">=</span>&nbsp;<span class="op" id="7078068">-</span><span class="num" id="7078069">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078073">var</span>&nbsp;<span class="ident" id="7078077">err</span>&nbsp;<span class="builtintype" id="7078081">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078089">if</span>&nbsp;<span class="ident" id="7078092">s</span><span class="op" id="7078093">[</span><span class="op" id="7078094">:</span><span class="ident" id="7078095">i</span><span class="op" id="7078096">]</span>&nbsp;<span class="op" id="7078098">!=</span>&nbsp;<span class="string" id="7078101">&#34;?&#34;</span>&nbsp;<span class="op" id="7078105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078110">v</span><span class="op" id="7078111">,</span>&nbsp;<span class="ident" id="7078113">err</span>&nbsp;<span class="op" id="7078117">=</span>&nbsp;<span class="ident" id="7078119">strconv</span><span class="op" id="7078126">.</span><span class="ident" id="7078127">Atoi</span><span class="op" id="7078131">(</span><span class="ident" id="7078132">s</span><span class="op" id="7078133">[</span><span class="op" id="7078134">:</span><span class="ident" id="7078135">i</span><span class="op" id="7078136">]</span><span class="op" id="7078137">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078142">if</span>&nbsp;<span class="ident" id="7078145">err</span>&nbsp;<span class="op" id="7078149">!=</span>&nbsp;<span class="ident" id="7078152">nil</span>&nbsp;<span class="op" id="7078156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078162">ok</span>&nbsp;<span class="op" id="7078165">=</span>&nbsp;<span class="builtintype" id="7078167">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078177">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078191">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078195">x</span>&nbsp;<span class="op" id="7078197">=</span>&nbsp;<span class="builtinfunc" id="7078199">append</span><span class="op" id="7078205">(</span><span class="ident" id="7078206">x</span><span class="op" id="7078207">,</span>&nbsp;<span class="ident" id="7078209">v</span><span class="op" id="7078210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078214">s</span>&nbsp;<span class="op" id="7078216">=</span>&nbsp;<span class="ident" id="7078218">s</span><span class="op" id="7078219">[</span><span class="ident" id="7078220">i</span><span class="op" id="7078221">+</span><span class="num" id="7078222">1</span><span class="op" id="7078223">:</span><span class="op" id="7078224">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078230">if</span>&nbsp;<span class="builtinfunc" id="7078233">len</span><span class="op" id="7078236">(</span><span class="ident" id="7078237">x</span><span class="op" id="7078238">)</span><span class="op" id="7078239">%</span><span class="num" id="7078240">2</span>&nbsp;<span class="op" id="7078242">!=</span>&nbsp;<span class="num" id="7078245">0</span>&nbsp;<span class="op" id="7078247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078251">ok</span>&nbsp;<span class="op" id="7078254">=</span>&nbsp;<span class="builtintype" id="7078256">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078264">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078275">ok</span>&nbsp;<span class="op" id="7078278">=</span>&nbsp;<span class="builtintype" id="7078280">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078286">matched</span>&nbsp;<span class="op" id="7078294">=</span>&nbsp;<span class="builtintype" id="7078296">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078302">pos</span>&nbsp;<span class="op" id="7078306">=</span>&nbsp;<span class="ident" id="7078308">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078311">return</span><br>
<span class="lineno"></span><span class="op" id="7078318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7078321">var</span>&nbsp;<span class="ident" id="7078325">text</span>&nbsp;<span class="op" id="7078330">[</span><span class="op" id="7078331">]</span><span class="builtintype" id="7078332">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7078338">func</span>&nbsp;<span class="ident" id="7078343">makeText</span><span class="op" id="7078351">(</span><span class="ident" id="7078352">n</span>&nbsp;<span class="builtintype" id="7078354">int</span><span class="op" id="7078357">)</span>&nbsp;<span class="op" id="7078359">[</span><span class="op" id="7078360">]</span><span class="builtintype" id="7078361">byte</span>&nbsp;<span class="op" id="7078366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078369">if</span>&nbsp;<span class="builtinfunc" id="7078372">len</span><span class="op" id="7078375">(</span><span class="ident" id="7078376">text</span><span class="op" id="7078380">)</span>&nbsp;<span class="op" id="7078382">&gt;=</span>&nbsp;<span class="ident" id="7078385">n</span>&nbsp;<span class="op" id="7078387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078391">return</span>&nbsp;<span class="ident" id="7078398">text</span><span class="op" id="7078402">[</span><span class="op" id="7078403">:</span><span class="ident" id="7078404">n</span><span class="op" id="7078405">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078411">text</span>&nbsp;<span class="op" id="7078416">=</span>&nbsp;<span class="builtinfunc" id="7078418">make</span><span class="op" id="7078422">(</span><span class="op" id="7078423">[</span><span class="op" id="7078424">]</span><span class="builtintype" id="7078425">byte</span><span class="op" id="7078429">,</span>&nbsp;<span class="ident" id="7078431">n</span><span class="op" id="7078432">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078435">x</span>&nbsp;<span class="op" id="7078437">:=</span>&nbsp;<span class="op" id="7078440">^</span><span class="builtintype" id="7078441">uint32</span><span class="op" id="7078447">(</span><span class="num" id="7078448">0</span><span class="op" id="7078449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078452">for</span>&nbsp;<span class="ident" id="7078456">i</span>&nbsp;<span class="op" id="7078458">:=</span>&nbsp;<span class="keyword" id="7078461">range</span>&nbsp;<span class="ident" id="7078467">text</span>&nbsp;<span class="op" id="7078472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078476">x</span>&nbsp;<span class="op" id="7078478">+=</span>&nbsp;<span class="ident" id="7078481">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078485">x</span>&nbsp;<span class="op" id="7078487">^=</span>&nbsp;<span class="num" id="7078490">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078494">if</span>&nbsp;<span class="builtintype" id="7078497">int32</span><span class="op" id="7078502">(</span><span class="ident" id="7078503">x</span><span class="op" id="7078504">)</span>&nbsp;<span class="op" id="7078506">&lt;</span>&nbsp;<span class="num" id="7078508">0</span>&nbsp;<span class="op" id="7078510">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078515">x</span>&nbsp;<span class="op" id="7078517">^=</span>&nbsp;<span class="num" id="7078520">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078537">if</span>&nbsp;<span class="ident" id="7078540">x</span><span class="op" id="7078541">%</span><span class="num" id="7078542">31</span>&nbsp;<span class="op" id="7078545">==</span>&nbsp;<span class="num" id="7078548">0</span>&nbsp;<span class="op" id="7078550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078555">text</span><span class="op" id="7078559">[</span><span class="ident" id="7078560">i</span><span class="op" id="7078561">]</span>&nbsp;<span class="op" id="7078563">=</span>&nbsp;<span class="string" id="7078565">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078572">}</span>&nbsp;<span class="keyword" id="7078574">else</span>&nbsp;<span class="op" id="7078579">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078584">text</span><span class="op" id="7078588">[</span><span class="ident" id="7078589">i</span><span class="op" id="7078590">]</span>&nbsp;<span class="op" id="7078592">=</span>&nbsp;<span class="builtintype" id="7078594">byte</span><span class="op" id="7078598">(</span><span class="ident" id="7078599">x</span><span class="op" id="7078600">%</span><span class="op" id="7078601">(</span><span class="num" id="7078602">0x7E</span><span class="op" id="7078606">+</span><span class="num" id="7078607">1</span><span class="op" id="7078608">-</span><span class="num" id="7078609">0x20</span><span class="op" id="7078613">)</span>&nbsp;<span class="op" id="7078615">+</span>&nbsp;<span class="num" id="7078617">0x20</span><span class="op" id="7078621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078631">return</span>&nbsp;<span class="ident" id="7078638">text</span><br>
<span class="lineno"></span><span class="op" id="7078643">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7078646">func</span>&nbsp;<span class="ident" id="7078651">benchmark</span><span class="op" id="7078660">(</span><span class="ident" id="7078661">b</span>&nbsp;<span class="op" id="7078663">*</span><span class="ident" id="7078664">testing</span><span class="op" id="7078671">.</span><span class="ident" id="7078672">B</span><span class="op" id="7078673">,</span>&nbsp;<span class="ident" id="7078675">re</span>&nbsp;<span class="builtintype" id="7078678">string</span><span class="op" id="7078684">,</span>&nbsp;<span class="ident" id="7078686">n</span>&nbsp;<span class="builtintype" id="7078688">int</span><span class="op" id="7078691">)</span>&nbsp;<span class="op" id="7078693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078696">r</span>&nbsp;<span class="op" id="7078698">:=</span>&nbsp;<span class="ident" id="7078701">MustCompile</span><span class="op" id="7078712">(</span><span class="ident" id="7078713">re</span><span class="op" id="7078715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078718">t</span>&nbsp;<span class="op" id="7078720">:=</span>&nbsp;<span class="ident" id="7078723">makeText</span><span class="op" id="7078731">(</span><span class="ident" id="7078732">n</span><span class="op" id="7078733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078736">b</span><span class="op" id="7078737">.</span><span class="ident" id="7078738">ResetTimer</span><span class="op" id="7078748">(</span><span class="op" id="7078749">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078752">b</span><span class="op" id="7078753">.</span><span class="ident" id="7078754">SetBytes</span><span class="op" id="7078762">(</span><span class="ident" id="7078763">int64</span><span class="op" id="7078768">(</span><span class="ident" id="7078769">n</span><span class="op" id="7078770">)</span><span class="op" id="7078771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078774">for</span>&nbsp;<span class="ident" id="7078778">i</span>&nbsp;<span class="op" id="7078780">:=</span>&nbsp;<span class="num" id="7078783">0</span><span class="op" id="7078784">;</span>&nbsp;<span class="ident" id="7078786">i</span>&nbsp;<span class="op" id="7078788">&lt;</span>&nbsp;<span class="ident" id="7078790">b</span><span class="op" id="7078791">.</span><span class="ident" id="7078792">N</span><span class="op" id="7078793">;</span>&nbsp;<span class="ident" id="7078795">i</span><span class="op" id="7078796">++</span>&nbsp;<span class="op" id="7078799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078803">if</span>&nbsp;<span class="ident" id="7078806">r</span><span class="op" id="7078807">.</span><span class="ident" id="7078808">Match</span><span class="op" id="7078813">(</span><span class="ident" id="7078814">t</span><span class="op" id="7078815">)</span>&nbsp;<span class="op" id="7078817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078822">b</span><span class="op" id="7078823">.</span><span class="ident" id="7078824">Fatal</span><span class="op" id="7078829">(</span><span class="string" id="7078830">&#34;match!&#34;</span><span class="op" id="7078838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078842">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078845">}</span><br>
<span class="lineno"></span><span class="op" id="7078847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7078850">const</span>&nbsp;<span class="op" id="7078856">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078859">easy0</span>&nbsp;&nbsp;<span class="op" id="7078866">=</span>&nbsp;<span class="string" id="7078868">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078899">easy1</span>&nbsp;&nbsp;<span class="op" id="7078906">=</span>&nbsp;<span class="string" id="7078908">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078959">medium</span>&nbsp;<span class="op" id="7078966">=</span>&nbsp;<span class="string" id="7078968">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079004">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079011">=</span>&nbsp;<span class="string" id="7079013">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079050">parens</span>&nbsp;<span class="op" id="7079057">=</span>&nbsp;<span class="string" id="7079059">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7079109">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7079113">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7079156">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7079159">func</span>&nbsp;<span class="ident" id="7079164">BenchmarkMatchEasy0_32</span><span class="op" id="7079186">(</span><span class="ident" id="7079187">b</span>&nbsp;<span class="op" id="7079189">*</span><span class="ident" id="7079190">testing</span><span class="op" id="7079197">.</span><span class="ident" id="7079198">B</span><span class="op" id="7079199">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079203">{</span>&nbsp;<span class="ident" id="7079205">benchmark</span><span class="op" id="7079214">(</span><span class="ident" id="7079215">b</span><span class="op" id="7079216">,</span>&nbsp;<span class="ident" id="7079218">easy0</span><span class="op" id="7079223">,</span>&nbsp;<span class="num" id="7079225">32</span><span class="op" id="7079227">&lt;&lt;</span><span class="num" id="7079229">0</span><span class="op" id="7079230">)</span>&nbsp;<span class="op" id="7079232">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079234">func</span>&nbsp;<span class="ident" id="7079239">BenchmarkMatchEasy0_1K</span><span class="op" id="7079261">(</span><span class="ident" id="7079262">b</span>&nbsp;<span class="op" id="7079264">*</span><span class="ident" id="7079265">testing</span><span class="op" id="7079272">.</span><span class="ident" id="7079273">B</span><span class="op" id="7079274">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079278">{</span>&nbsp;<span class="ident" id="7079280">benchmark</span><span class="op" id="7079289">(</span><span class="ident" id="7079290">b</span><span class="op" id="7079291">,</span>&nbsp;<span class="ident" id="7079293">easy0</span><span class="op" id="7079298">,</span>&nbsp;<span class="num" id="7079300">1</span><span class="op" id="7079301">&lt;&lt;</span><span class="num" id="7079303">10</span><span class="op" id="7079305">)</span>&nbsp;<span class="op" id="7079307">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079309">func</span>&nbsp;<span class="ident" id="7079314">BenchmarkMatchEasy0_32K</span><span class="op" id="7079337">(</span><span class="ident" id="7079338">b</span>&nbsp;<span class="op" id="7079340">*</span><span class="ident" id="7079341">testing</span><span class="op" id="7079348">.</span><span class="ident" id="7079349">B</span><span class="op" id="7079350">)</span>&nbsp;&nbsp;<span class="op" id="7079353">{</span>&nbsp;<span class="ident" id="7079355">benchmark</span><span class="op" id="7079364">(</span><span class="ident" id="7079365">b</span><span class="op" id="7079366">,</span>&nbsp;<span class="ident" id="7079368">easy0</span><span class="op" id="7079373">,</span>&nbsp;<span class="num" id="7079375">32</span><span class="op" id="7079377">&lt;&lt;</span><span class="num" id="7079379">10</span><span class="op" id="7079381">)</span>&nbsp;<span class="op" id="7079383">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7079385">func</span>&nbsp;<span class="ident" id="7079390">BenchmarkMatchEasy0_1M</span><span class="op" id="7079412">(</span><span class="ident" id="7079413">b</span>&nbsp;<span class="op" id="7079415">*</span><span class="ident" id="7079416">testing</span><span class="op" id="7079423">.</span><span class="ident" id="7079424">B</span><span class="op" id="7079425">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079429">{</span>&nbsp;<span class="ident" id="7079431">benchmark</span><span class="op" id="7079440">(</span><span class="ident" id="7079441">b</span><span class="op" id="7079442">,</span>&nbsp;<span class="ident" id="7079444">easy0</span><span class="op" id="7079449">,</span>&nbsp;<span class="num" id="7079451">1</span><span class="op" id="7079452">&lt;&lt;</span><span class="num" id="7079454">20</span><span class="op" id="7079456">)</span>&nbsp;<span class="op" id="7079458">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079460">func</span>&nbsp;<span class="ident" id="7079465">BenchmarkMatchEasy0_32M</span><span class="op" id="7079488">(</span><span class="ident" id="7079489">b</span>&nbsp;<span class="op" id="7079491">*</span><span class="ident" id="7079492">testing</span><span class="op" id="7079499">.</span><span class="ident" id="7079500">B</span><span class="op" id="7079501">)</span>&nbsp;&nbsp;<span class="op" id="7079504">{</span>&nbsp;<span class="ident" id="7079506">benchmark</span><span class="op" id="7079515">(</span><span class="ident" id="7079516">b</span><span class="op" id="7079517">,</span>&nbsp;<span class="ident" id="7079519">easy0</span><span class="op" id="7079524">,</span>&nbsp;<span class="num" id="7079526">32</span><span class="op" id="7079528">&lt;&lt;</span><span class="num" id="7079530">20</span><span class="op" id="7079532">)</span>&nbsp;<span class="op" id="7079534">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079536">func</span>&nbsp;<span class="ident" id="7079541">BenchmarkMatchEasy1_32</span><span class="op" id="7079563">(</span><span class="ident" id="7079564">b</span>&nbsp;<span class="op" id="7079566">*</span><span class="ident" id="7079567">testing</span><span class="op" id="7079574">.</span><span class="ident" id="7079575">B</span><span class="op" id="7079576">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079580">{</span>&nbsp;<span class="ident" id="7079582">benchmark</span><span class="op" id="7079591">(</span><span class="ident" id="7079592">b</span><span class="op" id="7079593">,</span>&nbsp;<span class="ident" id="7079595">easy1</span><span class="op" id="7079600">,</span>&nbsp;<span class="num" id="7079602">32</span><span class="op" id="7079604">&lt;&lt;</span><span class="num" id="7079606">0</span><span class="op" id="7079607">)</span>&nbsp;<span class="op" id="7079609">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079611">func</span>&nbsp;<span class="ident" id="7079616">BenchmarkMatchEasy1_1K</span><span class="op" id="7079638">(</span><span class="ident" id="7079639">b</span>&nbsp;<span class="op" id="7079641">*</span><span class="ident" id="7079642">testing</span><span class="op" id="7079649">.</span><span class="ident" id="7079650">B</span><span class="op" id="7079651">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079655">{</span>&nbsp;<span class="ident" id="7079657">benchmark</span><span class="op" id="7079666">(</span><span class="ident" id="7079667">b</span><span class="op" id="7079668">,</span>&nbsp;<span class="ident" id="7079670">easy1</span><span class="op" id="7079675">,</span>&nbsp;<span class="num" id="7079677">1</span><span class="op" id="7079678">&lt;&lt;</span><span class="num" id="7079680">10</span><span class="op" id="7079682">)</span>&nbsp;<span class="op" id="7079684">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079686">func</span>&nbsp;<span class="ident" id="7079691">BenchmarkMatchEasy1_32K</span><span class="op" id="7079714">(</span><span class="ident" id="7079715">b</span>&nbsp;<span class="op" id="7079717">*</span><span class="ident" id="7079718">testing</span><span class="op" id="7079725">.</span><span class="ident" id="7079726">B</span><span class="op" id="7079727">)</span>&nbsp;&nbsp;<span class="op" id="7079730">{</span>&nbsp;<span class="ident" id="7079732">benchmark</span><span class="op" id="7079741">(</span><span class="ident" id="7079742">b</span><span class="op" id="7079743">,</span>&nbsp;<span class="ident" id="7079745">easy1</span><span class="op" id="7079750">,</span>&nbsp;<span class="num" id="7079752">32</span><span class="op" id="7079754">&lt;&lt;</span><span class="num" id="7079756">10</span><span class="op" id="7079758">)</span>&nbsp;<span class="op" id="7079760">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7079762">func</span>&nbsp;<span class="ident" id="7079767">BenchmarkMatchEasy1_1M</span><span class="op" id="7079789">(</span><span class="ident" id="7079790">b</span>&nbsp;<span class="op" id="7079792">*</span><span class="ident" id="7079793">testing</span><span class="op" id="7079800">.</span><span class="ident" id="7079801">B</span><span class="op" id="7079802">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7079806">{</span>&nbsp;<span class="ident" id="7079808">benchmark</span><span class="op" id="7079817">(</span><span class="ident" id="7079818">b</span><span class="op" id="7079819">,</span>&nbsp;<span class="ident" id="7079821">easy1</span><span class="op" id="7079826">,</span>&nbsp;<span class="num" id="7079828">1</span><span class="op" id="7079829">&lt;&lt;</span><span class="num" id="7079831">20</span><span class="op" id="7079833">)</span>&nbsp;<span class="op" id="7079835">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079837">func</span>&nbsp;<span class="ident" id="7079842">BenchmarkMatchEasy1_32M</span><span class="op" id="7079865">(</span><span class="ident" id="7079866">b</span>&nbsp;<span class="op" id="7079868">*</span><span class="ident" id="7079869">testing</span><span class="op" id="7079876">.</span><span class="ident" id="7079877">B</span><span class="op" id="7079878">)</span>&nbsp;&nbsp;<span class="op" id="7079881">{</span>&nbsp;<span class="ident" id="7079883">benchmark</span><span class="op" id="7079892">(</span><span class="ident" id="7079893">b</span><span class="op" id="7079894">,</span>&nbsp;<span class="ident" id="7079896">easy1</span><span class="op" id="7079901">,</span>&nbsp;<span class="num" id="7079903">32</span><span class="op" id="7079905">&lt;&lt;</span><span class="num" id="7079907">20</span><span class="op" id="7079909">)</span>&nbsp;<span class="op" id="7079911">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079913">func</span>&nbsp;<span class="ident" id="7079918">BenchmarkMatchMedium_32</span><span class="op" id="7079941">(</span><span class="ident" id="7079942">b</span>&nbsp;<span class="op" id="7079944">*</span><span class="ident" id="7079945">testing</span><span class="op" id="7079952">.</span><span class="ident" id="7079953">B</span><span class="op" id="7079954">)</span>&nbsp;&nbsp;<span class="op" id="7079957">{</span>&nbsp;<span class="ident" id="7079959">benchmark</span><span class="op" id="7079968">(</span><span class="ident" id="7079969">b</span><span class="op" id="7079970">,</span>&nbsp;<span class="ident" id="7079972">medium</span><span class="op" id="7079978">,</span>&nbsp;<span class="num" id="7079980">32</span><span class="op" id="7079982">&lt;&lt;</span><span class="num" id="7079984">0</span><span class="op" id="7079985">)</span>&nbsp;<span class="op" id="7079987">}</span><br>
<span class="lineno"></span><span class="keyword" id="7079989">func</span>&nbsp;<span class="ident" id="7079994">BenchmarkMatchMedium_1K</span><span class="op" id="7080017">(</span><span class="ident" id="7080018">b</span>&nbsp;<span class="op" id="7080020">*</span><span class="ident" id="7080021">testing</span><span class="op" id="7080028">.</span><span class="ident" id="7080029">B</span><span class="op" id="7080030">)</span>&nbsp;&nbsp;<span class="op" id="7080033">{</span>&nbsp;<span class="ident" id="7080035">benchmark</span><span class="op" id="7080044">(</span><span class="ident" id="7080045">b</span><span class="op" id="7080046">,</span>&nbsp;<span class="ident" id="7080048">medium</span><span class="op" id="7080054">,</span>&nbsp;<span class="num" id="7080056">1</span><span class="op" id="7080057">&lt;&lt;</span><span class="num" id="7080059">10</span><span class="op" id="7080061">)</span>&nbsp;<span class="op" id="7080063">}</span><br>
<span class="lineno"></span><span class="keyword" id="7080065">func</span>&nbsp;<span class="ident" id="7080070">BenchmarkMatchMedium_32K</span><span class="op" id="7080094">(</span><span class="ident" id="7080095">b</span>&nbsp;<span class="op" id="7080097">*</span><span class="ident" id="7080098">testing</span><span class="op" id="7080105">.</span><span class="ident" id="7080106">B</span><span class="op" id="7080107">)</span>&nbsp;<span class="op" id="7080109">{</span>&nbsp;<span class="ident" id="7080111">benchmark</span><span class="op" id="7080120">(</span><span class="ident" id="7080121">b</span><span class="op" id="7080122">,</span>&nbsp;<span class="ident" id="7080124">medium</span><span class="op" id="7080130">,</span>&nbsp;<span class="num" id="7080132">32</span><span class="op" id="7080134">&lt;&lt;</span><span class="num" id="7080136">10</span><span class="op" id="7080138">)</span>&nbsp;<span class="op" id="7080140">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7080142">func</span>&nbsp;<span class="ident" id="7080147">BenchmarkMatchMedium_1M</span><span class="op" id="7080170">(</span><span class="ident" id="7080171">b</span>&nbsp;<span class="op" id="7080173">*</span><span class="ident" id="7080174">testing</span><span class="op" id="7080181">.</span><span class="ident" id="7080182">B</span><span class="op" id="7080183">)</span>&nbsp;&nbsp;<span class="op" id="7080186">{</span>&nbsp;<span class="ident" id="7080188">benchmark</span><span class="op" id="7080197">(</span><span class="ident" id="7080198">b</span><span class="op" id="7080199">,</span>&nbsp;<span class="ident" id="7080201">medium</span><span class="op" id="7080207">,</span>&nbsp;<span class="num" id="7080209">1</span><span class="op" id="7080210">&lt;&lt;</span><span class="num" id="7080212">20</span><span class="op" id="7080214">)</span>&nbsp;<span class="op" id="7080216">}</span><br>
<span class="lineno"></span><span class="keyword" id="7080218">func</span>&nbsp;<span class="ident" id="7080223">BenchmarkMatchMedium_32M</span><span class="op" id="7080247">(</span><span class="ident" id="7080248">b</span>&nbsp;<span class="op" id="7080250">*</span><span class="ident" id="7080251">testing</span><span class="op" id="7080258">.</span><span class="ident" id="7080259">B</span><span class="op" id="7080260">)</span>&nbsp;<span class="op" id="7080262">{</span>&nbsp;<span class="ident" id="7080264">benchmark</span><span class="op" id="7080273">(</span><span class="ident" id="7080274">b</span><span class="op" id="7080275">,</span>&nbsp;<span class="ident" id="7080277">medium</span><span class="op" id="7080283">,</span>&nbsp;<span class="num" id="7080285">32</span><span class="op" id="7080287">&lt;&lt;</span><span class="num" id="7080289">20</span><span class="op" id="7080291">)</span>&nbsp;<span class="op" id="7080293">}</span><br>
<span class="lineno"></span><span class="keyword" id="7080295">func</span>&nbsp;<span class="ident" id="7080300">BenchmarkMatchHard_32</span><span class="op" id="7080321">(</span><span class="ident" id="7080322">b</span>&nbsp;<span class="op" id="7080324">*</span><span class="ident" id="7080325">testing</span><span class="op" id="7080332">.</span><span class="ident" id="7080333">B</span><span class="op" id="7080334">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7080339">{</span>&nbsp;<span class="ident" id="7080341">benchmark</span><span class="op" id="7080350">(</span><span class="ident" id="7080351">b</span><span class="op" id="7080352">,</span>&nbsp;<span class="ident" id="7080354">hard</span><span class="op" id="7080358">,</span>&nbsp;<span class="num" id="7080360">32</span><span class="op" id="7080362">&lt;&lt;</span><span class="num" id="7080364">0</span><span class="op" id="7080365">)</span>&nbsp;<span class="op" id="7080367">}</span><br>
<span class="lineno"></span><span class="keyword" id="7080369">func</span>&nbsp;<span class="ident" id="7080374">BenchmarkMatchHard_1K</span><span class="op" id="7080395">(</span><span class="ident" id="7080396">b</span>&nbsp;<span class="op" id="7080398">*</span><span class="ident" id="7080399">testing</span><span class="op" id="7080406">.</span><span class="ident" id="7080407">B</span><span class="op" id="7080408">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7080413">{</span>&nbsp;<span class="ident" id="7080415">benchmark</span><span class="op" id="7080424">(</span><span class="ident" id="7080425">b</span><span class="op" id="7080426">,</span>&nbsp;<span class="ident" id="7080428">hard</span><span class="op" id="7080432">,</span>&nbsp;<span class="num" id="7080434">1</span><span class="op" id="7080435">&lt;&lt;</span><span class="num" id="7080437">10</span><span class="op" id="7080439">)</span>&nbsp;<span class="op" id="7080441">}</span><br>
<span class="lineno"></span><span class="keyword" id="7080443">func</span>&nbsp;<span class="ident" id="7080448">BenchmarkMatchHard_32K</span><span class="op" id="7080470">(</span><span class="ident" id="7080471">b</span>&nbsp;<span class="op" id="7080473">*</span><span class="ident" id="7080474">testing</span><span class="op" id="7080481">.</span><span class="ident" id="7080482">B</span><span class="op" id="7080483">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7080487">{</span>&nbsp;<span class="ident" id="7080489">benchmark</span><span class="op" id="7080498">(</span><span class="ident" id="7080499">b</span><span class="op" id="7080500">,</span>&nbsp;<span class="ident" id="7080502">hard</span><span class="op" id="7080506">,</span>&nbsp;<span class="num" id="7080508">32</span><span class="op" id="7080510">&lt;&lt;</span><span class="num" id="7080512">10</span><span class="op" id="7080514">)</span>&nbsp;<span class="op" id="7080516">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7080518">func</span>&nbsp;<span class="ident" id="7080523">BenchmarkMatchHard_1M</span><span class="op" id="7080544">(</span><span class="ident" id="7080545">b</span>&nbsp;<span class="op" id="7080547">*</span><span class="ident" id="7080548">testing</span><span class="op" id="7080555">.</span><span class="ident" id="7080556">B</span><span class="op" id="7080557">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7080562">{</span>&nbsp;<span class="ident" id="7080564">benchmark</span><span class="op" id="7080573">(</span><span class="ident" id="7080574">b</span><span class="op" id="7080575">,</span>&nbsp;<span class="ident" id="7080577">hard</span><span class="op" id="7080581">,</span>&nbsp;<span class="num" id="7080583">1</span><span class="op" id="7080584">&lt;&lt;</span><span class="num" id="7080586">20</span><span class="op" id="7080588">)</span>&nbsp;<span class="op" id="7080590">}</span><br>
<span class="lineno"></span><span class="keyword" id="7080592">func</span>&nbsp;<span class="ident" id="7080597">BenchmarkMatchHard_32M</span><span class="op" id="7080619">(</span><span class="ident" id="7080620">b</span>&nbsp;<span class="op" id="7080622">*</span><span class="ident" id="7080623">testing</span><span class="op" id="7080630">.</span><span class="ident" id="7080631">B</span><span class="op" id="7080632">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7080636">{</span>&nbsp;<span class="ident" id="7080638">benchmark</span><span class="op" id="7080647">(</span><span class="ident" id="7080648">b</span><span class="op" id="7080649">,</span>&nbsp;<span class="ident" id="7080651">hard</span><span class="op" id="7080655">,</span>&nbsp;<span class="num" id="7080657">32</span><span class="op" id="7080659">&lt;&lt;</span><span class="num" id="7080661">20</span><span class="op" id="7080663">)</span>&nbsp;<span class="op" id="7080665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7080668">func</span>&nbsp;<span class="ident" id="7080673">TestLongest</span><span class="op" id="7080684">(</span><span class="ident" id="7080685">t</span>&nbsp;<span class="op" id="7080687">*</span><span class="ident" id="7080688">testing</span><span class="op" id="7080695">.</span><span class="ident" id="7080696">T</span><span class="op" id="7080697">)</span>&nbsp;<span class="op" id="7080699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7080702">re</span><span class="op" id="7080704">,</span>&nbsp;<span class="ident" id="7080706">err</span>&nbsp;<span class="op" id="7080710">:=</span>&nbsp;<span class="ident" id="7080713">Compile</span><span class="op" id="7080720">(</span><span class="string" id="7080721">`a(|b)`</span><span class="op" id="7080728">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7080731">if</span>&nbsp;<span class="ident" id="7080734">err</span>&nbsp;<span class="op" id="7080738">!=</span>&nbsp;<span class="ident" id="7080741">nil</span>&nbsp;<span class="op" id="7080745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7080749">t</span><span class="op" id="7080750">.</span><span class="ident" id="7080751">Fatal</span><span class="op" id="7080756">(</span><span class="ident" id="7080757">err</span><span class="op" id="7080760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7080766">if</span>&nbsp;<span class="ident" id="7080769">g</span><span class="op" id="7080770">,</span>&nbsp;<span class="ident" id="7080772">w</span>&nbsp;<span class="op" id="7080774">:=</span>&nbsp;<span class="ident" id="7080777">re</span><span class="op" id="7080779">.</span><span class="ident" id="7080780">FindString</span><span class="op" id="7080790">(</span><span class="string" id="7080791">&#34;ab&#34;</span><span class="op" id="7080795">)</span><span class="op" id="7080796">,</span>&nbsp;<span class="string" id="7080798">&#34;a&#34;</span><span class="op" id="7080801">;</span>&nbsp;<span class="ident" id="7080803">g</span>&nbsp;<span class="op" id="7080805">!=</span>&nbsp;<span class="ident" id="7080808">w</span>&nbsp;<span class="op" id="7080810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7080814">t</span><span class="op" id="7080815">.</span><span class="ident" id="7080816">Errorf</span><span class="op" id="7080822">(</span><span class="string" id="7080823">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7080852">,</span>&nbsp;<span class="ident" id="7080854">g</span><span class="op" id="7080855">,</span>&nbsp;<span class="ident" id="7080857">w</span><span class="op" id="7080858">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7080864">re</span><span class="op" id="7080866">.</span><span class="ident" id="7080867">Longest</span><span class="op" id="7080874">(</span><span class="op" id="7080875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7080878">if</span>&nbsp;<span class="ident" id="7080881">g</span><span class="op" id="7080882">,</span>&nbsp;<span class="ident" id="7080884">w</span>&nbsp;<span class="op" id="7080886">:=</span>&nbsp;<span class="ident" id="7080889">re</span><span class="op" id="7080891">.</span><span class="ident" id="7080892">FindString</span><span class="op" id="7080902">(</span><span class="string" id="7080903">&#34;ab&#34;</span><span class="op" id="7080907">)</span><span class="op" id="7080908">,</span>&nbsp;<span class="string" id="7080910">&#34;ab&#34;</span><span class="op" id="7080914">;</span>&nbsp;<span class="ident" id="7080916">g</span>&nbsp;<span class="op" id="7080918">!=</span>&nbsp;<span class="ident" id="7080921">w</span>&nbsp;<span class="op" id="7080923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7080927">t</span><span class="op" id="7080928">.</span><span class="ident" id="7080929">Errorf</span><span class="op" id="7080935">(</span><span class="string" id="7080936">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7080967">,</span>&nbsp;<span class="ident" id="7080969">g</span><span class="op" id="7080970">,</span>&nbsp;<span class="ident" id="7080972">w</span><span class="op" id="7080973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080976">}</span><br>
<span class="lineno">715</span><span class="op" id="7080978">}</span>
</div>
</body>
</html>
