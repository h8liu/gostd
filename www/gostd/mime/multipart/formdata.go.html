<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4944152">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4944207">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4944261">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4944312">package</span>&nbsp;<span class="ident" id="4944320">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4944331">import</span>&nbsp;<span class="op" id="4944338">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4944341">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4944350">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4944360">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4944366">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4944379">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4944396">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="4944401">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4944404">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="4944480">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4944527">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="4944591">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4944632">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="4944695">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="4944744">func</span>&nbsp;<span class="op" id="4944749">(</span><span class="ident" id="4944750">r</span>&nbsp;<span class="op" id="4944752">*</span><span class="ident" id="4944753">Reader</span><span class="op" id="4944759">)</span>&nbsp;<span class="ident" id="4944761">ReadForm</span><span class="op" id="4944769">(</span><span class="ident" id="4944770">maxMemory</span>&nbsp;<span class="ident" id="4944780">int64</span><span class="op" id="4944785">)</span>&nbsp;<span class="op" id="4944787">(</span><span class="ident" id="4944788">f</span>&nbsp;<span class="op" id="4944790">*</span><span class="ident" id="4944791">Form</span><span class="op" id="4944795">,</span>&nbsp;<span class="ident" id="4944797">err</span>&nbsp;<span class="builtintype" id="4944801">error</span><span class="op" id="4944806">)</span>&nbsp;<span class="op" id="4944808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4944811">form</span>&nbsp;<span class="op" id="4944816">:=</span>&nbsp;<span class="op" id="4944819">&amp;</span><span class="ident" id="4944820">Form</span><span class="op" id="4944824">{</span><span class="builtinfunc" id="4944825">make</span><span class="op" id="4944829">(</span><span class="keyword" id="4944830">map</span><span class="op" id="4944833">[</span><span class="builtintype" id="4944834">string</span><span class="op" id="4944840">]</span><span class="op" id="4944841">[</span><span class="op" id="4944842">]</span><span class="builtintype" id="4944843">string</span><span class="op" id="4944849">)</span><span class="op" id="4944850">,</span>&nbsp;<span class="builtinfunc" id="4944852">make</span><span class="op" id="4944856">(</span><span class="keyword" id="4944857">map</span><span class="op" id="4944860">[</span><span class="builtintype" id="4944861">string</span><span class="op" id="4944867">]</span><span class="op" id="4944868">[</span><span class="op" id="4944869">]</span><span class="op" id="4944870">*</span><span class="ident" id="4944871">FileHeader</span><span class="op" id="4944881">)</span><span class="op" id="4944882">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4944885">defer</span>&nbsp;<span class="keyword" id="4944891">func</span><span class="op" id="4944895">(</span><span class="op" id="4944896">)</span>&nbsp;<span class="op" id="4944898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4944902">if</span>&nbsp;<span class="ident" id="4944905">err</span>&nbsp;<span class="op" id="4944909">!=</span>&nbsp;<span class="ident" id="4944912">nil</span>&nbsp;<span class="op" id="4944916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4944921">form</span><span class="op" id="4944925">.</span><span class="ident" id="4944926">RemoveAll</span><span class="op" id="4944935">(</span><span class="op" id="4944936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4944940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4944943">}</span><span class="op" id="4944944">(</span><span class="op" id="4944945">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4944949">maxValueBytes</span>&nbsp;<span class="op" id="4944963">:=</span>&nbsp;<span class="ident" id="4944966">int64</span><span class="op" id="4944971">(</span><span class="num" id="4944972">10</span>&nbsp;<span class="op" id="4944975">&lt;&lt;</span>&nbsp;<span class="num" id="4944978">20</span><span class="op" id="4944980">)</span>&nbsp;<span class="comment" id="4944982">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945010">for</span>&nbsp;<span class="op" id="4945014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945018">p</span><span class="op" id="4945019">,</span>&nbsp;<span class="ident" id="4945021">err</span>&nbsp;<span class="op" id="4945025">:=</span>&nbsp;<span class="ident" id="4945028">r</span><span class="op" id="4945029">.</span><span class="ident" id="4945030">NextPart</span><span class="op" id="4945038">(</span><span class="op" id="4945039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945043">if</span>&nbsp;<span class="ident" id="4945046">err</span>&nbsp;<span class="op" id="4945050">==</span>&nbsp;<span class="ident" id="4945053">io</span><span class="op" id="4945055">.</span><span class="ident" id="4945056">EOF</span>&nbsp;<span class="op" id="4945060">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945065">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945077">if</span>&nbsp;<span class="ident" id="4945080">err</span>&nbsp;<span class="op" id="4945084">!=</span>&nbsp;<span class="ident" id="4945087">nil</span>&nbsp;<span class="op" id="4945091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945096">return</span>&nbsp;<span class="ident" id="4945103">nil</span><span class="op" id="4945106">,</span>&nbsp;<span class="ident" id="4945108">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945114">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945119">name</span>&nbsp;<span class="op" id="4945124">:=</span>&nbsp;<span class="ident" id="4945127">p</span><span class="op" id="4945128">.</span><span class="ident" id="4945129">FormName</span><span class="op" id="4945137">(</span><span class="op" id="4945138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945142">if</span>&nbsp;<span class="ident" id="4945145">name</span>&nbsp;<span class="op" id="4945150">==</span>&nbsp;<span class="string" id="4945153">&#34;&#34;</span>&nbsp;<span class="op" id="4945156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945161">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945172">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945176">filename</span>&nbsp;<span class="op" id="4945185">:=</span>&nbsp;<span class="ident" id="4945188">p</span><span class="op" id="4945189">.</span><span class="ident" id="4945190">FileName</span><span class="op" id="4945198">(</span><span class="op" id="4945199">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945204">var</span>&nbsp;<span class="ident" id="4945208">b</span>&nbsp;<span class="ident" id="4945210">bytes</span><span class="op" id="4945215">.</span><span class="ident" id="4945216">Buffer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945226">if</span>&nbsp;<span class="ident" id="4945229">filename</span>&nbsp;<span class="op" id="4945238">==</span>&nbsp;<span class="string" id="4945241">&#34;&#34;</span>&nbsp;<span class="op" id="4945244">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4945249">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945288">n</span><span class="op" id="4945289">,</span>&nbsp;<span class="ident" id="4945291">err</span>&nbsp;<span class="op" id="4945295">:=</span>&nbsp;<span class="ident" id="4945298">io</span><span class="op" id="4945300">.</span><span class="ident" id="4945301">CopyN</span><span class="op" id="4945306">(</span><span class="op" id="4945307">&amp;</span><span class="ident" id="4945308">b</span><span class="op" id="4945309">,</span>&nbsp;<span class="ident" id="4945311">p</span><span class="op" id="4945312">,</span>&nbsp;<span class="ident" id="4945314">maxValueBytes</span><span class="op" id="4945327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945332">if</span>&nbsp;<span class="ident" id="4945335">err</span>&nbsp;<span class="op" id="4945339">!=</span>&nbsp;<span class="ident" id="4945342">nil</span>&nbsp;<span class="op" id="4945346">&amp;&amp;</span>&nbsp;<span class="ident" id="4945349">err</span>&nbsp;<span class="op" id="4945353">!=</span>&nbsp;<span class="ident" id="4945356">io</span><span class="op" id="4945358">.</span><span class="ident" id="4945359">EOF</span>&nbsp;<span class="op" id="4945363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945369">return</span>&nbsp;<span class="ident" id="4945376">nil</span><span class="op" id="4945379">,</span>&nbsp;<span class="ident" id="4945381">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945388">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945393">maxValueBytes</span>&nbsp;<span class="op" id="4945407">-=</span>&nbsp;<span class="ident" id="4945410">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945415">if</span>&nbsp;<span class="ident" id="4945418">maxValueBytes</span>&nbsp;<span class="op" id="4945432">==</span>&nbsp;<span class="num" id="4945435">0</span>&nbsp;<span class="op" id="4945437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945443">return</span>&nbsp;<span class="ident" id="4945450">nil</span><span class="op" id="4945453">,</span>&nbsp;<span class="ident" id="4945455">errors</span><span class="op" id="4945461">.</span><span class="ident" id="4945462">New</span><span class="op" id="4945465">(</span><span class="string" id="4945466">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="4945496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945506">form</span><span class="op" id="4945510">.</span><span class="ident" id="4945511">Value</span><span class="op" id="4945516">[</span><span class="ident" id="4945517">name</span><span class="op" id="4945521">]</span>&nbsp;<span class="op" id="4945523">=</span>&nbsp;<span class="builtinfunc" id="4945525">append</span><span class="op" id="4945531">(</span><span class="ident" id="4945532">form</span><span class="op" id="4945536">.</span><span class="ident" id="4945537">Value</span><span class="op" id="4945542">[</span><span class="ident" id="4945543">name</span><span class="op" id="4945547">]</span><span class="op" id="4945548">,</span>&nbsp;<span class="ident" id="4945550">b</span><span class="op" id="4945551">.</span><span class="ident" id="4945552">String</span><span class="op" id="4945558">(</span><span class="op" id="4945559">)</span><span class="op" id="4945560">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945565">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4945581">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945619">fh</span>&nbsp;<span class="op" id="4945622">:=</span>&nbsp;<span class="op" id="4945625">&amp;</span><span class="ident" id="4945626">FileHeader</span><span class="op" id="4945636">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945641">Filename</span><span class="op" id="4945649">:</span>&nbsp;<span class="ident" id="4945651">filename</span><span class="op" id="4945659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945664">Header</span><span class="op" id="4945670">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4945674">p</span><span class="op" id="4945675">.</span><span class="ident" id="4945676">Header</span><span class="op" id="4945682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945690">n</span><span class="op" id="4945691">,</span>&nbsp;<span class="ident" id="4945693">err</span>&nbsp;<span class="op" id="4945697">:=</span>&nbsp;<span class="ident" id="4945700">io</span><span class="op" id="4945702">.</span><span class="ident" id="4945703">CopyN</span><span class="op" id="4945708">(</span><span class="op" id="4945709">&amp;</span><span class="ident" id="4945710">b</span><span class="op" id="4945711">,</span>&nbsp;<span class="ident" id="4945713">p</span><span class="op" id="4945714">,</span>&nbsp;<span class="ident" id="4945716">maxMemory</span><span class="op" id="4945725">+</span><span class="num" id="4945726">1</span><span class="op" id="4945727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945731">if</span>&nbsp;<span class="ident" id="4945734">err</span>&nbsp;<span class="op" id="4945738">!=</span>&nbsp;<span class="ident" id="4945741">nil</span>&nbsp;<span class="op" id="4945745">&amp;&amp;</span>&nbsp;<span class="ident" id="4945748">err</span>&nbsp;<span class="op" id="4945752">!=</span>&nbsp;<span class="ident" id="4945755">io</span><span class="op" id="4945757">.</span><span class="ident" id="4945758">EOF</span>&nbsp;<span class="op" id="4945762">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945767">return</span>&nbsp;<span class="ident" id="4945774">nil</span><span class="op" id="4945777">,</span>&nbsp;<span class="ident" id="4945779">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945789">if</span>&nbsp;<span class="ident" id="4945792">n</span>&nbsp;<span class="op" id="4945794">&gt;</span>&nbsp;<span class="ident" id="4945796">maxMemory</span>&nbsp;<span class="op" id="4945806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4945811">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945857">file</span><span class="op" id="4945861">,</span>&nbsp;<span class="ident" id="4945863">err</span>&nbsp;<span class="op" id="4945867">:=</span>&nbsp;<span class="ident" id="4945870">ioutil</span><span class="op" id="4945876">.</span><span class="ident" id="4945877">TempFile</span><span class="op" id="4945885">(</span><span class="string" id="4945886">&#34;&#34;</span><span class="op" id="4945888">,</span>&nbsp;<span class="string" id="4945890">&#34;multipart-&#34;</span><span class="op" id="4945902">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945907">if</span>&nbsp;<span class="ident" id="4945910">err</span>&nbsp;<span class="op" id="4945914">!=</span>&nbsp;<span class="ident" id="4945917">nil</span>&nbsp;<span class="op" id="4945921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945927">return</span>&nbsp;<span class="ident" id="4945934">nil</span><span class="op" id="4945937">,</span>&nbsp;<span class="ident" id="4945939">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4945946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4945951">defer</span>&nbsp;<span class="ident" id="4945957">file</span><span class="op" id="4945961">.</span><span class="ident" id="4945962">Close</span><span class="op" id="4945967">(</span><span class="op" id="4945968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4945973">_</span><span class="op" id="4945974">,</span>&nbsp;<span class="ident" id="4945976">err</span>&nbsp;<span class="op" id="4945980">=</span>&nbsp;<span class="ident" id="4945982">io</span><span class="op" id="4945984">.</span><span class="ident" id="4945985">Copy</span><span class="op" id="4945989">(</span><span class="ident" id="4945990">file</span><span class="op" id="4945994">,</span>&nbsp;<span class="ident" id="4945996">io</span><span class="op" id="4945998">.</span><span class="ident" id="4945999">MultiReader</span><span class="op" id="4946010">(</span><span class="op" id="4946011">&amp;</span><span class="ident" id="4946012">b</span><span class="op" id="4946013">,</span>&nbsp;<span class="ident" id="4946015">p</span><span class="op" id="4946016">)</span><span class="op" id="4946017">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946022">if</span>&nbsp;<span class="ident" id="4946025">err</span>&nbsp;<span class="op" id="4946029">!=</span>&nbsp;<span class="ident" id="4946032">nil</span>&nbsp;<span class="op" id="4946036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946042">os</span><span class="op" id="4946044">.</span><span class="ident" id="4946045">Remove</span><span class="op" id="4946051">(</span><span class="ident" id="4946052">file</span><span class="op" id="4946056">.</span><span class="ident" id="4946057">Name</span><span class="op" id="4946061">(</span><span class="op" id="4946062">)</span><span class="op" id="4946063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946069">return</span>&nbsp;<span class="ident" id="4946076">nil</span><span class="op" id="4946079">,</span>&nbsp;<span class="ident" id="4946081">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946093">fh</span><span class="op" id="4946095">.</span><span class="ident" id="4946096">tmpfile</span>&nbsp;<span class="op" id="4946104">=</span>&nbsp;<span class="ident" id="4946106">file</span><span class="op" id="4946110">.</span><span class="ident" id="4946111">Name</span><span class="op" id="4946115">(</span><span class="op" id="4946116">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946120">}</span>&nbsp;<span class="keyword" id="4946122">else</span>&nbsp;<span class="op" id="4946127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946132">fh</span><span class="op" id="4946134">.</span><span class="ident" id="4946135">content</span>&nbsp;<span class="op" id="4946143">=</span>&nbsp;<span class="ident" id="4946145">b</span><span class="op" id="4946146">.</span><span class="ident" id="4946147">Bytes</span><span class="op" id="4946152">(</span><span class="op" id="4946153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946158">maxMemory</span>&nbsp;<span class="op" id="4946168">-=</span>&nbsp;<span class="ident" id="4946171">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946179">form</span><span class="op" id="4946183">.</span><span class="ident" id="4946184">File</span><span class="op" id="4946188">[</span><span class="ident" id="4946189">name</span><span class="op" id="4946193">]</span>&nbsp;<span class="op" id="4946195">=</span>&nbsp;<span class="builtinfunc" id="4946197">append</span><span class="op" id="4946203">(</span><span class="ident" id="4946204">form</span><span class="op" id="4946208">.</span><span class="ident" id="4946209">File</span><span class="op" id="4946213">[</span><span class="ident" id="4946214">name</span><span class="op" id="4946218">]</span><span class="op" id="4946219">,</span>&nbsp;<span class="ident" id="4946221">fh</span><span class="op" id="4946223">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946230">return</span>&nbsp;<span class="ident" id="4946237">form</span><span class="op" id="4946241">,</span>&nbsp;<span class="ident" id="4946243">nil</span><br>
<span class="lineno"></span><span class="op" id="4946247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4946250">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="4946286">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="4946344">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="4946401">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="4946443">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="4946476">type</span>&nbsp;<span class="ident" id="4946481">Form</span>&nbsp;<span class="keyword" id="4946486">struct</span>&nbsp;<span class="op" id="4946493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946496">Value</span>&nbsp;<span class="keyword" id="4946502">map</span><span class="op" id="4946505">[</span><span class="builtintype" id="4946506">string</span><span class="op" id="4946512">]</span><span class="op" id="4946513">[</span><span class="op" id="4946514">]</span><span class="builtintype" id="4946515">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946523">File</span>&nbsp;&nbsp;<span class="keyword" id="4946529">map</span><span class="op" id="4946532">[</span><span class="builtintype" id="4946533">string</span><span class="op" id="4946539">]</span><span class="op" id="4946540">[</span><span class="op" id="4946541">]</span><span class="op" id="4946542">*</span><span class="ident" id="4946543">FileHeader</span><br>
<span class="lineno"></span><span class="op" id="4946554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4946557">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="4946622">func</span>&nbsp;<span class="op" id="4946627">(</span><span class="ident" id="4946628">f</span>&nbsp;<span class="op" id="4946630">*</span><span class="ident" id="4946631">Form</span><span class="op" id="4946635">)</span>&nbsp;<span class="ident" id="4946637">RemoveAll</span><span class="op" id="4946646">(</span><span class="op" id="4946647">)</span>&nbsp;<span class="builtintype" id="4946649">error</span>&nbsp;<span class="op" id="4946655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946658">var</span>&nbsp;<span class="ident" id="4946662">err</span>&nbsp;<span class="builtintype" id="4946666">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946673">for</span>&nbsp;<span class="ident" id="4946677">_</span><span class="op" id="4946678">,</span>&nbsp;<span class="ident" id="4946680">fhs</span>&nbsp;<span class="op" id="4946684">:=</span>&nbsp;<span class="keyword" id="4946687">range</span>&nbsp;<span class="ident" id="4946693">f</span><span class="op" id="4946694">.</span><span class="ident" id="4946695">File</span>&nbsp;<span class="op" id="4946700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946704">for</span>&nbsp;<span class="ident" id="4946708">_</span><span class="op" id="4946709">,</span>&nbsp;<span class="ident" id="4946711">fh</span>&nbsp;<span class="op" id="4946714">:=</span>&nbsp;<span class="keyword" id="4946717">range</span>&nbsp;<span class="ident" id="4946723">fhs</span>&nbsp;<span class="op" id="4946727">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946732">if</span>&nbsp;<span class="ident" id="4946735">fh</span><span class="op" id="4946737">.</span><span class="ident" id="4946738">tmpfile</span>&nbsp;<span class="op" id="4946746">!=</span>&nbsp;<span class="string" id="4946749">&#34;&#34;</span>&nbsp;<span class="op" id="4946752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946758">e</span>&nbsp;<span class="op" id="4946760">:=</span>&nbsp;<span class="ident" id="4946763">os</span><span class="op" id="4946765">.</span><span class="ident" id="4946766">Remove</span><span class="op" id="4946772">(</span><span class="ident" id="4946773">fh</span><span class="op" id="4946775">.</span><span class="ident" id="4946776">tmpfile</span><span class="op" id="4946783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946789">if</span>&nbsp;<span class="ident" id="4946792">e</span>&nbsp;<span class="op" id="4946794">!=</span>&nbsp;<span class="ident" id="4946797">nil</span>&nbsp;<span class="op" id="4946801">&amp;&amp;</span>&nbsp;<span class="ident" id="4946804">err</span>&nbsp;<span class="op" id="4946808">==</span>&nbsp;<span class="ident" id="4946811">nil</span>&nbsp;<span class="op" id="4946815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946822">err</span>&nbsp;<span class="op" id="4946826">=</span>&nbsp;<span class="ident" id="4946828">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946834">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4946846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4946849">return</span>&nbsp;<span class="ident" id="4946856">err</span><br>
<span class="lineno"></span><span class="op" id="4946860">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="4946863">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="4946925">type</span>&nbsp;<span class="ident" id="4946930">FileHeader</span>&nbsp;<span class="keyword" id="4946941">struct</span>&nbsp;<span class="op" id="4946948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946951">Filename</span>&nbsp;<span class="builtintype" id="4946960">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4946968">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4946977">textproto</span><span class="op" id="4946986">.</span><span class="ident" id="4946987">MIMEHeader</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947000">content</span>&nbsp;<span class="op" id="4947008">[</span><span class="op" id="4947009">]</span><span class="builtintype" id="4947010">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947016">tmpfile</span>&nbsp;<span class="builtintype" id="4947024">string</span><br>
<span class="lineno"></span><span class="op" id="4947031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4947034">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="4947094">func</span>&nbsp;<span class="op" id="4947099">(</span><span class="ident" id="4947100">fh</span>&nbsp;<span class="op" id="4947103">*</span><span class="ident" id="4947104">FileHeader</span><span class="op" id="4947114">)</span>&nbsp;<span class="ident" id="4947116">Open</span><span class="op" id="4947120">(</span><span class="op" id="4947121">)</span>&nbsp;<span class="op" id="4947123">(</span><span class="ident" id="4947124">File</span><span class="op" id="4947128">,</span>&nbsp;<span class="builtintype" id="4947130">error</span><span class="op" id="4947135">)</span>&nbsp;<span class="op" id="4947137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4947140">if</span>&nbsp;<span class="ident" id="4947143">b</span>&nbsp;<span class="op" id="4947145">:=</span>&nbsp;<span class="ident" id="4947148">fh</span><span class="op" id="4947150">.</span><span class="ident" id="4947151">content</span><span class="op" id="4947158">;</span>&nbsp;<span class="ident" id="4947160">b</span>&nbsp;<span class="op" id="4947162">!=</span>&nbsp;<span class="ident" id="4947165">nil</span>&nbsp;<span class="op" id="4947169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947173">r</span>&nbsp;<span class="op" id="4947175">:=</span>&nbsp;<span class="ident" id="4947178">io</span><span class="op" id="4947180">.</span><span class="ident" id="4947181">NewSectionReader</span><span class="op" id="4947197">(</span><span class="ident" id="4947198">bytes</span><span class="op" id="4947203">.</span><span class="ident" id="4947204">NewReader</span><span class="op" id="4947213">(</span><span class="ident" id="4947214">b</span><span class="op" id="4947215">)</span><span class="op" id="4947216">,</span>&nbsp;<span class="num" id="4947218">0</span><span class="op" id="4947219">,</span>&nbsp;<span class="ident" id="4947221">int64</span><span class="op" id="4947226">(</span><span class="builtinfunc" id="4947227">len</span><span class="op" id="4947230">(</span><span class="ident" id="4947231">b</span><span class="op" id="4947232">)</span><span class="op" id="4947233">)</span><span class="op" id="4947234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4947238">return</span>&nbsp;<span class="ident" id="4947245">sectionReadCloser</span><span class="op" id="4947262">{</span><span class="ident" id="4947263">r</span><span class="op" id="4947264">}</span><span class="op" id="4947265">,</span>&nbsp;<span class="ident" id="4947267">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4947272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4947275">return</span>&nbsp;<span class="ident" id="4947282">os</span><span class="op" id="4947284">.</span><span class="ident" id="4947285">Open</span><span class="op" id="4947289">(</span><span class="ident" id="4947290">fh</span><span class="op" id="4947292">.</span><span class="ident" id="4947293">tmpfile</span><span class="op" id="4947300">)</span><br>
<span class="lineno"></span><span class="op" id="4947302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4947305">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="4947377">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="4947436">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="4947515">type</span>&nbsp;<span class="ident" id="4947520">File</span>&nbsp;<span class="keyword" id="4947525">interface</span>&nbsp;<span class="op" id="4947535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947538">io</span><span class="op" id="4947540">.</span><span class="ident" id="4947541">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947549">io</span><span class="op" id="4947551">.</span><span class="ident" id="4947552">ReaderAt</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947562">io</span><span class="op" id="4947564">.</span><span class="ident" id="4947565">Seeker</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4947573">io</span><span class="op" id="4947575">.</span><span class="ident" id="4947576">Closer</span><br>
<span class="lineno"></span><span class="op" id="4947583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4947586">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="4947632">type</span>&nbsp;<span class="ident" id="4947637">sectionReadCloser</span>&nbsp;<span class="keyword" id="4947655">struct</span>&nbsp;<span class="op" id="4947662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4947665">*</span><span class="ident" id="4947666">io</span><span class="op" id="4947668">.</span><span class="ident" id="4947669">SectionReader</span><br>
<span class="lineno"></span><span class="op" id="4947683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="4947686">func</span>&nbsp;<span class="op" id="4947691">(</span><span class="ident" id="4947692">rc</span>&nbsp;<span class="ident" id="4947695">sectionReadCloser</span><span class="op" id="4947712">)</span>&nbsp;<span class="ident" id="4947714">Close</span><span class="op" id="4947719">(</span><span class="op" id="4947720">)</span>&nbsp;<span class="builtintype" id="4947722">error</span>&nbsp;<span class="op" id="4947728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4947731">return</span>&nbsp;<span class="ident" id="4947738">nil</span><br>
<span class="lineno"></span><span class="op" id="4947742">}</span>
</div>
</body>
</html>
