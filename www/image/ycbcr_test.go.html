<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6991131">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6991186">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6991240">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6991291">package</span>&nbsp;<span class="ident" id="6991299">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6991306">import</span>&nbsp;<span class="op" id="6991313">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6991316">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6991331">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6991341">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6991344">func</span>&nbsp;<span class="ident" id="6991349">TestYCbCr</span><span class="op" id="6991358">(</span><span class="ident" id="6991359">t</span>&nbsp;<span class="op" id="6991361">*</span><span class="ident" id="6991362"><a href="/image/ycbcr_test.go.html#6991331">testing</a></span><span class="op" id="6991369">.</span><span class="ident" id="6991370">T</span><span class="op" id="6991371">)</span>&nbsp;<span class="op" id="6991373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991376">rects</span>&nbsp;<span class="op" id="6991382">:=</span>&nbsp;<span class="op" id="6991385">[</span><span class="op" id="6991386">]</span><span class="ident" id="6991387"><a href="/image/geom.go.html#3185229">Rectangle</a></span><span class="op" id="6991396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991400"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991404">(</span><span class="num" id="6991405">0</span><span class="op" id="6991406">,</span>&nbsp;<span class="num" id="6991408">0</span><span class="op" id="6991409">,</span>&nbsp;<span class="num" id="6991411">16</span><span class="op" id="6991413">,</span>&nbsp;<span class="num" id="6991415">16</span><span class="op" id="6991417">)</span><span class="op" id="6991418">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991422"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991426">(</span><span class="num" id="6991427">1</span><span class="op" id="6991428">,</span>&nbsp;<span class="num" id="6991430">0</span><span class="op" id="6991431">,</span>&nbsp;<span class="num" id="6991433">16</span><span class="op" id="6991435">,</span>&nbsp;<span class="num" id="6991437">16</span><span class="op" id="6991439">)</span><span class="op" id="6991440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991444"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991448">(</span><span class="num" id="6991449">0</span><span class="op" id="6991450">,</span>&nbsp;<span class="num" id="6991452">1</span><span class="op" id="6991453">,</span>&nbsp;<span class="num" id="6991455">16</span><span class="op" id="6991457">,</span>&nbsp;<span class="num" id="6991459">16</span><span class="op" id="6991461">)</span><span class="op" id="6991462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991466"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991470">(</span><span class="num" id="6991471">1</span><span class="op" id="6991472">,</span>&nbsp;<span class="num" id="6991474">1</span><span class="op" id="6991475">,</span>&nbsp;<span class="num" id="6991477">16</span><span class="op" id="6991479">,</span>&nbsp;<span class="num" id="6991481">16</span><span class="op" id="6991483">)</span><span class="op" id="6991484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991488"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991492">(</span><span class="num" id="6991493">1</span><span class="op" id="6991494">,</span>&nbsp;<span class="num" id="6991496">1</span><span class="op" id="6991497">,</span>&nbsp;<span class="num" id="6991499">15</span><span class="op" id="6991501">,</span>&nbsp;<span class="num" id="6991503">16</span><span class="op" id="6991505">)</span><span class="op" id="6991506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991510"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991514">(</span><span class="num" id="6991515">1</span><span class="op" id="6991516">,</span>&nbsp;<span class="num" id="6991518">1</span><span class="op" id="6991519">,</span>&nbsp;<span class="num" id="6991521">16</span><span class="op" id="6991523">,</span>&nbsp;<span class="num" id="6991525">15</span><span class="op" id="6991527">)</span><span class="op" id="6991528">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991532"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991536">(</span><span class="num" id="6991537">1</span><span class="op" id="6991538">,</span>&nbsp;<span class="num" id="6991540">1</span><span class="op" id="6991541">,</span>&nbsp;<span class="num" id="6991543">15</span><span class="op" id="6991545">,</span>&nbsp;<span class="num" id="6991547">15</span><span class="op" id="6991549">)</span><span class="op" id="6991550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991554"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991558">(</span><span class="num" id="6991559">2</span><span class="op" id="6991560">,</span>&nbsp;<span class="num" id="6991562">3</span><span class="op" id="6991563">,</span>&nbsp;<span class="num" id="6991565">14</span><span class="op" id="6991567">,</span>&nbsp;<span class="num" id="6991569">15</span><span class="op" id="6991571">)</span><span class="op" id="6991572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991576"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991580">(</span><span class="num" id="6991581">7</span><span class="op" id="6991582">,</span>&nbsp;<span class="num" id="6991584">0</span><span class="op" id="6991585">,</span>&nbsp;<span class="num" id="6991587">7</span><span class="op" id="6991588">,</span>&nbsp;<span class="num" id="6991590">16</span><span class="op" id="6991592">)</span><span class="op" id="6991593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991597"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991601">(</span><span class="num" id="6991602">0</span><span class="op" id="6991603">,</span>&nbsp;<span class="num" id="6991605">8</span><span class="op" id="6991606">,</span>&nbsp;<span class="num" id="6991608">16</span><span class="op" id="6991610">,</span>&nbsp;<span class="num" id="6991612">8</span><span class="op" id="6991613">)</span><span class="op" id="6991614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991618"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991622">(</span><span class="num" id="6991623">0</span><span class="op" id="6991624">,</span>&nbsp;<span class="num" id="6991626">0</span><span class="op" id="6991627">,</span>&nbsp;<span class="num" id="6991629">10</span><span class="op" id="6991631">,</span>&nbsp;<span class="num" id="6991633">11</span><span class="op" id="6991635">)</span><span class="op" id="6991636">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991640"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991644">(</span><span class="num" id="6991645">5</span><span class="op" id="6991646">,</span>&nbsp;<span class="num" id="6991648">6</span><span class="op" id="6991649">,</span>&nbsp;<span class="num" id="6991651">16</span><span class="op" id="6991653">,</span>&nbsp;<span class="num" id="6991655">16</span><span class="op" id="6991657">)</span><span class="op" id="6991658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991662"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991666">(</span><span class="num" id="6991667">7</span><span class="op" id="6991668">,</span>&nbsp;<span class="num" id="6991670">7</span><span class="op" id="6991671">,</span>&nbsp;<span class="num" id="6991673">8</span><span class="op" id="6991674">,</span>&nbsp;<span class="num" id="6991676">8</span><span class="op" id="6991677">)</span><span class="op" id="6991678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991682"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991686">(</span><span class="num" id="6991687">7</span><span class="op" id="6991688">,</span>&nbsp;<span class="num" id="6991690">8</span><span class="op" id="6991691">,</span>&nbsp;<span class="num" id="6991693">8</span><span class="op" id="6991694">,</span>&nbsp;<span class="num" id="6991696">9</span><span class="op" id="6991697">)</span><span class="op" id="6991698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991702"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991706">(</span><span class="num" id="6991707">8</span><span class="op" id="6991708">,</span>&nbsp;<span class="num" id="6991710">7</span><span class="op" id="6991711">,</span>&nbsp;<span class="num" id="6991713">9</span><span class="op" id="6991714">,</span>&nbsp;<span class="num" id="6991716">8</span><span class="op" id="6991717">)</span><span class="op" id="6991718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991722"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991726">(</span><span class="num" id="6991727">8</span><span class="op" id="6991728">,</span>&nbsp;<span class="num" id="6991730">8</span><span class="op" id="6991731">,</span>&nbsp;<span class="num" id="6991733">9</span><span class="op" id="6991734">,</span>&nbsp;<span class="num" id="6991736">9</span><span class="op" id="6991737">)</span><span class="op" id="6991738">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991742"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991746">(</span><span class="num" id="6991747">7</span><span class="op" id="6991748">,</span>&nbsp;<span class="num" id="6991750">7</span><span class="op" id="6991751">,</span>&nbsp;<span class="num" id="6991753">17</span><span class="op" id="6991755">,</span>&nbsp;<span class="num" id="6991757">17</span><span class="op" id="6991759">)</span><span class="op" id="6991760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991764"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991768">(</span><span class="num" id="6991769">8</span><span class="op" id="6991770">,</span>&nbsp;<span class="num" id="6991772">8</span><span class="op" id="6991773">,</span>&nbsp;<span class="num" id="6991775">17</span><span class="op" id="6991777">,</span>&nbsp;<span class="num" id="6991779">17</span><span class="op" id="6991781">)</span><span class="op" id="6991782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991786"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991790">(</span><span class="num" id="6991791">9</span><span class="op" id="6991792">,</span>&nbsp;<span class="num" id="6991794">9</span><span class="op" id="6991795">,</span>&nbsp;<span class="num" id="6991797">17</span><span class="op" id="6991799">,</span>&nbsp;<span class="num" id="6991801">17</span><span class="op" id="6991803">)</span><span class="op" id="6991804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991808"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6991812">(</span><span class="num" id="6991813">10</span><span class="op" id="6991815">,</span>&nbsp;<span class="num" id="6991817">10</span><span class="op" id="6991819">,</span>&nbsp;<span class="num" id="6991821">17</span><span class="op" id="6991823">,</span>&nbsp;<span class="num" id="6991825">17</span><span class="op" id="6991827">)</span><span class="op" id="6991828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6991831">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991834">subsampleRatios</span>&nbsp;<span class="op" id="6991850">:=</span>&nbsp;<span class="op" id="6991853">[</span><span class="op" id="6991854">]</span><span class="ident" id="6991855"><a href="/image/ycbcr.go.html#3215910">YCbCrSubsampleRatio</a></span><span class="op" id="6991874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991878"><a href="/image/ycbcr.go.html#3215944">YCbCrSubsampleRatio444</a></span><span class="op" id="6991900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991904"><a href="/image/ycbcr.go.html#3215995">YCbCrSubsampleRatio422</a></span><span class="op" id="6991926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991930"><a href="/image/ycbcr.go.html#3216019">YCbCrSubsampleRatio420</a></span><span class="op" id="6991952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991956"><a href="/image/ycbcr.go.html#3216043">YCbCrSubsampleRatio440</a></span><span class="op" id="6991978">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6991981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991984">deltas</span>&nbsp;<span class="op" id="6991991">:=</span>&nbsp;<span class="op" id="6991994">[</span><span class="op" id="6991995">]</span><span class="ident" id="6991996"><a href="/image/geom.go.html#3183668">Point</a></span><span class="op" id="6992001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992005"><a href="/image/geom.go.html#3184924">Pt</a></span><span class="op" id="6992007">(</span><span class="num" id="6992008">0</span><span class="op" id="6992009">,</span>&nbsp;<span class="num" id="6992011">0</span><span class="op" id="6992012">)</span><span class="op" id="6992013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992017"><a href="/image/geom.go.html#3184924">Pt</a></span><span class="op" id="6992019">(</span><span class="num" id="6992020">1000</span><span class="op" id="6992024">,</span>&nbsp;<span class="num" id="6992026">1001</span><span class="op" id="6992030">)</span><span class="op" id="6992031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992035"><a href="/image/geom.go.html#3184924">Pt</a></span><span class="op" id="6992037">(</span><span class="num" id="6992038">5001</span><span class="op" id="6992042">,</span>&nbsp;<span class="op" id="6992044">-</span><span class="num" id="6992045">400</span><span class="op" id="6992048">)</span><span class="op" id="6992049">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992053"><a href="/image/geom.go.html#3184924">Pt</a></span><span class="op" id="6992055">(</span><span class="op" id="6992056">-</span><span class="num" id="6992057">701</span><span class="op" id="6992060">,</span>&nbsp;<span class="op" id="6992062">-</span><span class="num" id="6992063">801</span><span class="op" id="6992066">)</span><span class="op" id="6992067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6992070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992073">for</span>&nbsp;<span class="ident" id="6992077">_</span><span class="op" id="6992078">,</span>&nbsp;<span class="ident" id="6992080">r</span>&nbsp;<span class="op" id="6992082">:=</span>&nbsp;<span class="keyword" id="6992085">range</span>&nbsp;<span class="ident" id="6992091"><a href="/image/ycbcr_test.go.html#6991376">rects</a></span>&nbsp;<span class="op" id="6992097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992101">for</span>&nbsp;<span class="ident" id="6992105">_</span><span class="op" id="6992106">,</span>&nbsp;<span class="ident" id="6992108">subsampleRatio</span>&nbsp;<span class="op" id="6992123">:=</span>&nbsp;<span class="keyword" id="6992126">range</span>&nbsp;<span class="ident" id="6992132"><a href="/image/ycbcr_test.go.html#6991834">subsampleRatios</a></span>&nbsp;<span class="op" id="6992148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992153">for</span>&nbsp;<span class="ident" id="6992157">_</span><span class="op" id="6992158">,</span>&nbsp;<span class="ident" id="6992160">delta</span>&nbsp;<span class="op" id="6992166">:=</span>&nbsp;<span class="keyword" id="6992169">range</span>&nbsp;<span class="ident" id="6992175"><a href="/image/ycbcr_test.go.html#6991984">deltas</a></span>&nbsp;<span class="op" id="6992182">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992188"><a href="/image/ycbcr_test.go.html#6992283">testYCbCr</a></span><span class="op" id="6992197">(</span><span class="ident" id="6992198"><a href="/image/ycbcr_test.go.html#6991359">t</a></span><span class="op" id="6992199">,</span>&nbsp;<span class="ident" id="6992201"><a href="/image/ycbcr_test.go.html#6992080">r</a></span><span class="op" id="6992202">,</span>&nbsp;<span class="ident" id="6992204"><a href="/image/ycbcr_test.go.html#6992108">subsampleRatio</a></span><span class="op" id="6992218">,</span>&nbsp;<span class="ident" id="6992220"><a href="/image/ycbcr_test.go.html#6992160">delta</a></span><span class="op" id="6992225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6992230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6992234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992238">if</span>&nbsp;<span class="ident" id="6992241"><a href="/image/ycbcr_test.go.html#6991331">testing</a></span><span class="op" id="6992248">.</span><span class="ident" id="6992249">Short</span><span class="op" id="6992254">(</span><span class="op" id="6992255">)</span>&nbsp;<span class="op" id="6992257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992262">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6992270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6992273">}</span><br>
<span class="lineno"></span><span class="op" id="6992275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6992278">func</span>&nbsp;<span class="ident" id="6992283">testYCbCr</span><span class="op" id="6992292">(</span><span class="ident" id="6992293">t</span>&nbsp;<span class="op" id="6992295">*</span><span class="ident" id="6992296"><a href="/image/ycbcr_test.go.html#6991331">testing</a></span><span class="op" id="6992303">.</span><span class="ident" id="6992304">T</span><span class="op" id="6992305">,</span>&nbsp;<span class="ident" id="6992307">r</span>&nbsp;<span class="ident" id="6992309"><a href="/image/geom.go.html#3185229">Rectangle</a></span><span class="op" id="6992318">,</span>&nbsp;<span class="ident" id="6992320">subsampleRatio</span>&nbsp;<span class="ident" id="6992335"><a href="/image/ycbcr.go.html#3215910">YCbCrSubsampleRatio</a></span><span class="op" id="6992354">,</span>&nbsp;<span class="ident" id="6992356">delta</span>&nbsp;<span class="ident" id="6992362"><a href="/image/geom.go.html#3183668">Point</a></span><span class="op" id="6992367">)</span>&nbsp;<span class="op" id="6992369">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6992372">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992453">r1</span>&nbsp;<span class="op" id="6992456">:=</span>&nbsp;<span class="ident" id="6992459"><a href="/image/ycbcr_test.go.html#6992307">r</a></span><span class="op" id="6992460">.</span><span class="ident" id="6992461">Add</span><span class="op" id="6992464">(</span><span class="ident" id="6992465"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6992470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992473">m</span>&nbsp;<span class="op" id="6992475">:=</span>&nbsp;<span class="ident" id="6992478"><a href="/image/ycbcr.go.html#3219375">NewYCbCr</a></span><span class="op" id="6992486">(</span><span class="ident" id="6992487"><a href="/image/ycbcr_test.go.html#6992453">r1</a></span><span class="op" id="6992489">,</span>&nbsp;<span class="ident" id="6992491"><a href="/image/ycbcr_test.go.html#6992320">subsampleRatio</a></span><span class="op" id="6992505">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6992509">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992611">if</span>&nbsp;<span class="builtinfunc" id="6992614">len</span><span class="op" id="6992617">(</span><span class="ident" id="6992618"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6992619">.</span><span class="ident" id="6992620">Y</span><span class="op" id="6992621">)</span>&nbsp;<span class="op" id="6992623">&gt;</span>&nbsp;<span class="num" id="6992625">100</span><span class="op" id="6992628">*</span><span class="num" id="6992629">100</span>&nbsp;<span class="op" id="6992633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992637"><a href="/image/ycbcr_test.go.html#6992293">t</a></span><span class="op" id="6992638">.</span><span class="ident" id="6992639">Errorf</span><span class="op" id="6992645">(</span><span class="string" id="6992646">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="6992708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6992713"><a href="/image/ycbcr_test.go.html#6992307">r</a></span><span class="op" id="6992714">,</span>&nbsp;<span class="ident" id="6992716"><a href="/image/ycbcr_test.go.html#6992320">subsampleRatio</a></span><span class="op" id="6992730">,</span>&nbsp;<span class="ident" id="6992732"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6992737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992741">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6992749">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6992753">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6992840">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992922">for</span>&nbsp;<span class="ident" id="6992926">y</span>&nbsp;<span class="op" id="6992928">:=</span>&nbsp;<span class="ident" id="6992931"><a href="/image/ycbcr_test.go.html#6992453">r1</a></span><span class="op" id="6992933">.</span><span class="ident" id="6992934">Min</span><span class="op" id="6992937">.</span><span class="ident" id="6992938">Y</span><span class="op" id="6992939">;</span>&nbsp;<span class="ident" id="6992941"><a href="/image/ycbcr_test.go.html#6992926">y</a></span>&nbsp;<span class="op" id="6992943">&lt;</span>&nbsp;<span class="ident" id="6992945"><a href="/image/ycbcr_test.go.html#6992453">r1</a></span><span class="op" id="6992947">.</span><span class="ident" id="6992948">Max</span><span class="op" id="6992951">.</span><span class="ident" id="6992952">Y</span><span class="op" id="6992953">;</span>&nbsp;<span class="ident" id="6992955"><a href="/image/ycbcr_test.go.html#6992926">y</a></span><span class="op" id="6992956">++</span>&nbsp;<span class="op" id="6992959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6992963">for</span>&nbsp;<span class="ident" id="6992967">x</span>&nbsp;<span class="op" id="6992969">:=</span>&nbsp;<span class="ident" id="6992972"><a href="/image/ycbcr_test.go.html#6992453">r1</a></span><span class="op" id="6992974">.</span><span class="ident" id="6992975">Min</span><span class="op" id="6992978">.</span><span class="ident" id="6992979">X</span><span class="op" id="6992980">;</span>&nbsp;<span class="ident" id="6992982"><a href="/image/ycbcr_test.go.html#6992967">x</a></span>&nbsp;<span class="op" id="6992984">&lt;</span>&nbsp;<span class="ident" id="6992986"><a href="/image/ycbcr_test.go.html#6992453">r1</a></span><span class="op" id="6992988">.</span><span class="ident" id="6992989">Max</span><span class="op" id="6992992">.</span><span class="ident" id="6992993">X</span><span class="op" id="6992994">;</span>&nbsp;<span class="ident" id="6992996"><a href="/image/ycbcr_test.go.html#6992967">x</a></span><span class="op" id="6992997">++</span>&nbsp;<span class="op" id="6993000">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993005">yi</span>&nbsp;<span class="op" id="6993008">:=</span>&nbsp;<span class="ident" id="6993011"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993012">.</span><span class="ident" id="6993013">YOffset</span><span class="op" id="6993020">(</span><span class="ident" id="6993021"><a href="/image/ycbcr_test.go.html#6992967">x</a></span><span class="op" id="6993022">,</span>&nbsp;<span class="ident" id="6993024"><a href="/image/ycbcr_test.go.html#6992926">y</a></span><span class="op" id="6993025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993030">ci</span>&nbsp;<span class="op" id="6993033">:=</span>&nbsp;<span class="ident" id="6993036"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993037">.</span><span class="ident" id="6993038">COffset</span><span class="op" id="6993045">(</span><span class="ident" id="6993046"><a href="/image/ycbcr_test.go.html#6992967">x</a></span><span class="op" id="6993047">,</span>&nbsp;<span class="ident" id="6993049"><a href="/image/ycbcr_test.go.html#6992926">y</a></span><span class="op" id="6993050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993055"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993056">.</span><span class="ident" id="6993057">Y</span><span class="op" id="6993058">[</span><span class="ident" id="6993059"><a href="/image/ycbcr_test.go.html#6993005">yi</a></span><span class="op" id="6993061">]</span>&nbsp;<span class="op" id="6993063">=</span>&nbsp;<span class="builtintype" id="6993065">uint8</span><span class="op" id="6993070">(</span><span class="num" id="6993071">16</span><span class="op" id="6993073">*</span><span class="ident" id="6993074"><a href="/image/ycbcr_test.go.html#6992926">y</a></span>&nbsp;<span class="op" id="6993076">+</span>&nbsp;<span class="ident" id="6993078"><a href="/image/ycbcr_test.go.html#6992967">x</a></span><span class="op" id="6993079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993084"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993085">.</span><span class="ident" id="6993086">Cb</span><span class="op" id="6993088">[</span><span class="ident" id="6993089"><a href="/image/ycbcr_test.go.html#6993030">ci</a></span><span class="op" id="6993091">]</span>&nbsp;<span class="op" id="6993093">=</span>&nbsp;<span class="builtintype" id="6993095">uint8</span><span class="op" id="6993100">(</span><span class="ident" id="6993101"><a href="/image/ycbcr_test.go.html#6992926">y</a></span>&nbsp;<span class="op" id="6993103">+</span>&nbsp;<span class="num" id="6993105">16</span><span class="op" id="6993107">*</span><span class="ident" id="6993108"><a href="/image/ycbcr_test.go.html#6992967">x</a></span><span class="op" id="6993109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993114"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993115">.</span><span class="ident" id="6993116">Cr</span><span class="op" id="6993118">[</span><span class="ident" id="6993119"><a href="/image/ycbcr_test.go.html#6993030">ci</a></span><span class="op" id="6993121">]</span>&nbsp;<span class="op" id="6993123">=</span>&nbsp;<span class="builtintype" id="6993125">uint8</span><span class="op" id="6993130">(</span><span class="ident" id="6993131"><a href="/image/ycbcr_test.go.html#6992926">y</a></span>&nbsp;<span class="op" id="6993133">+</span>&nbsp;<span class="num" id="6993135">16</span><span class="op" id="6993137">*</span><span class="ident" id="6993138"><a href="/image/ycbcr_test.go.html#6992967">x</a></span><span class="op" id="6993139">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6993150">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993184">for</span>&nbsp;<span class="ident" id="6993188">y0</span>&nbsp;<span class="op" id="6993191">:=</span>&nbsp;<span class="ident" id="6993194"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993199">.</span><span class="ident" id="6993200">Y</span>&nbsp;<span class="op" id="6993202">+</span>&nbsp;<span class="num" id="6993204">3</span><span class="op" id="6993205">;</span>&nbsp;<span class="ident" id="6993207"><a href="/image/ycbcr_test.go.html#6993188">y0</a></span>&nbsp;<span class="op" id="6993210">&lt;</span>&nbsp;<span class="ident" id="6993212"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993217">.</span><span class="ident" id="6993218">Y</span><span class="op" id="6993219">+</span><span class="num" id="6993220">7</span><span class="op" id="6993221">;</span>&nbsp;<span class="ident" id="6993223"><a href="/image/ycbcr_test.go.html#6993188">y0</a></span><span class="op" id="6993225">++</span>&nbsp;<span class="op" id="6993228">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993232">for</span>&nbsp;<span class="ident" id="6993236">y1</span>&nbsp;<span class="op" id="6993239">:=</span>&nbsp;<span class="ident" id="6993242"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993247">.</span><span class="ident" id="6993248">Y</span>&nbsp;<span class="op" id="6993250">+</span>&nbsp;<span class="num" id="6993252">8</span><span class="op" id="6993253">;</span>&nbsp;<span class="ident" id="6993255"><a href="/image/ycbcr_test.go.html#6993236">y1</a></span>&nbsp;<span class="op" id="6993258">&lt;</span>&nbsp;<span class="ident" id="6993260"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993265">.</span><span class="ident" id="6993266">Y</span><span class="op" id="6993267">+</span><span class="num" id="6993268">13</span><span class="op" id="6993270">;</span>&nbsp;<span class="ident" id="6993272"><a href="/image/ycbcr_test.go.html#6993236">y1</a></span><span class="op" id="6993274">++</span>&nbsp;<span class="op" id="6993277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993282">for</span>&nbsp;<span class="ident" id="6993286">x0</span>&nbsp;<span class="op" id="6993289">:=</span>&nbsp;<span class="ident" id="6993292"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993297">.</span><span class="ident" id="6993298">X</span>&nbsp;<span class="op" id="6993300">+</span>&nbsp;<span class="num" id="6993302">3</span><span class="op" id="6993303">;</span>&nbsp;<span class="ident" id="6993305"><a href="/image/ycbcr_test.go.html#6993286">x0</a></span>&nbsp;<span class="op" id="6993308">&lt;</span>&nbsp;<span class="ident" id="6993310"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993315">.</span><span class="ident" id="6993316">X</span><span class="op" id="6993317">+</span><span class="num" id="6993318">7</span><span class="op" id="6993319">;</span>&nbsp;<span class="ident" id="6993321"><a href="/image/ycbcr_test.go.html#6993286">x0</a></span><span class="op" id="6993323">++</span>&nbsp;<span class="op" id="6993326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993332">for</span>&nbsp;<span class="ident" id="6993336">x1</span>&nbsp;<span class="op" id="6993339">:=</span>&nbsp;<span class="ident" id="6993342"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993347">.</span><span class="ident" id="6993348">X</span>&nbsp;<span class="op" id="6993350">+</span>&nbsp;<span class="num" id="6993352">8</span><span class="op" id="6993353">;</span>&nbsp;<span class="ident" id="6993355"><a href="/image/ycbcr_test.go.html#6993336">x1</a></span>&nbsp;<span class="op" id="6993358">&lt;</span>&nbsp;<span class="ident" id="6993360"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993365">.</span><span class="ident" id="6993366">X</span><span class="op" id="6993367">+</span><span class="num" id="6993368">13</span><span class="op" id="6993370">;</span>&nbsp;<span class="ident" id="6993372"><a href="/image/ycbcr_test.go.html#6993336">x1</a></span><span class="op" id="6993374">++</span>&nbsp;<span class="op" id="6993377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993384">subRect</span>&nbsp;<span class="op" id="6993392">:=</span>&nbsp;<span class="ident" id="6993395"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6993399">(</span><span class="ident" id="6993400"><a href="/image/ycbcr_test.go.html#6993286">x0</a></span><span class="op" id="6993402">,</span>&nbsp;<span class="ident" id="6993404"><a href="/image/ycbcr_test.go.html#6993188">y0</a></span><span class="op" id="6993406">,</span>&nbsp;<span class="ident" id="6993408"><a href="/image/ycbcr_test.go.html#6993336">x1</a></span><span class="op" id="6993410">,</span>&nbsp;<span class="ident" id="6993412"><a href="/image/ycbcr_test.go.html#6993236">y1</a></span><span class="op" id="6993414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993421">sub</span>&nbsp;<span class="op" id="6993425">:=</span>&nbsp;<span class="ident" id="6993428"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993429">.</span><span class="ident" id="6993430">SubImage</span><span class="op" id="6993438">(</span><span class="ident" id="6993439"><a href="/image/ycbcr_test.go.html#6993384">subRect</a></span><span class="op" id="6993446">)</span><span class="op" id="6993447">.</span><span class="op" id="6993448">(</span><span class="op" id="6993449">*</span><span class="ident" id="6993450"><a href="/image/ycbcr.go.html#3217146">YCbCr</a></span><span class="op" id="6993455">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6993463">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993556">for</span>&nbsp;<span class="ident" id="6993560">y</span>&nbsp;<span class="op" id="6993562">:=</span>&nbsp;<span class="ident" id="6993565"><a href="/image/ycbcr_test.go.html#6993421">sub</a></span><span class="op" id="6993568">.</span><span class="ident" id="6993569">Rect</span><span class="op" id="6993573">.</span><span class="ident" id="6993574">Min</span><span class="op" id="6993577">.</span><span class="ident" id="6993578">Y</span><span class="op" id="6993579">;</span>&nbsp;<span class="ident" id="6993581"><a href="/image/ycbcr_test.go.html#6993560">y</a></span>&nbsp;<span class="op" id="6993583">&lt;</span>&nbsp;<span class="ident" id="6993585"><a href="/image/ycbcr_test.go.html#6993421">sub</a></span><span class="op" id="6993588">.</span><span class="ident" id="6993589">Rect</span><span class="op" id="6993593">.</span><span class="ident" id="6993594">Max</span><span class="op" id="6993597">.</span><span class="ident" id="6993598">Y</span><span class="op" id="6993599">;</span>&nbsp;<span class="ident" id="6993601"><a href="/image/ycbcr_test.go.html#6993560">y</a></span><span class="op" id="6993602">++</span>&nbsp;<span class="op" id="6993605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993613">for</span>&nbsp;<span class="ident" id="6993617">x</span>&nbsp;<span class="op" id="6993619">:=</span>&nbsp;<span class="ident" id="6993622"><a href="/image/ycbcr_test.go.html#6993421">sub</a></span><span class="op" id="6993625">.</span><span class="ident" id="6993626">Rect</span><span class="op" id="6993630">.</span><span class="ident" id="6993631">Min</span><span class="op" id="6993634">.</span><span class="ident" id="6993635">X</span><span class="op" id="6993636">;</span>&nbsp;<span class="ident" id="6993638"><a href="/image/ycbcr_test.go.html#6993617">x</a></span>&nbsp;<span class="op" id="6993640">&lt;</span>&nbsp;<span class="ident" id="6993642"><a href="/image/ycbcr_test.go.html#6993421">sub</a></span><span class="op" id="6993645">.</span><span class="ident" id="6993646">Rect</span><span class="op" id="6993650">.</span><span class="ident" id="6993651">Max</span><span class="op" id="6993654">.</span><span class="ident" id="6993655">X</span><span class="op" id="6993656">;</span>&nbsp;<span class="ident" id="6993658"><a href="/image/ycbcr_test.go.html#6993617">x</a></span><span class="op" id="6993659">++</span>&nbsp;<span class="op" id="6993662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993671">color0</span>&nbsp;<span class="op" id="6993678">:=</span>&nbsp;<span class="ident" id="6993681"><a href="/image/ycbcr_test.go.html#6992473">m</a></span><span class="op" id="6993682">.</span><span class="ident" id="6993683">At</span><span class="op" id="6993685">(</span><span class="ident" id="6993686"><a href="/image/ycbcr_test.go.html#6993617">x</a></span><span class="op" id="6993687">,</span>&nbsp;<span class="ident" id="6993689"><a href="/image/ycbcr_test.go.html#6993560">y</a></span><span class="op" id="6993690">)</span><span class="op" id="6993691">.</span><span class="op" id="6993692">(</span><span class="ident" id="6993693"><a href="/image/ycbcr_test.go.html#6991316">color</a></span><span class="op" id="6993698">.</span><span class="ident" id="6993699">YCbCr</span><span class="op" id="6993704">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993713">color1</span>&nbsp;<span class="op" id="6993720">:=</span>&nbsp;<span class="ident" id="6993723"><a href="/image/ycbcr_test.go.html#6993421">sub</a></span><span class="op" id="6993726">.</span><span class="ident" id="6993727">At</span><span class="op" id="6993729">(</span><span class="ident" id="6993730"><a href="/image/ycbcr_test.go.html#6993617">x</a></span><span class="op" id="6993731">,</span>&nbsp;<span class="ident" id="6993733"><a href="/image/ycbcr_test.go.html#6993560">y</a></span><span class="op" id="6993734">)</span><span class="op" id="6993735">.</span><span class="op" id="6993736">(</span><span class="ident" id="6993737"><a href="/image/ycbcr_test.go.html#6991316">color</a></span><span class="op" id="6993742">.</span><span class="ident" id="6993743">YCbCr</span><span class="op" id="6993748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993757">if</span>&nbsp;<span class="ident" id="6993760"><a href="/image/ycbcr_test.go.html#6993671">color0</a></span>&nbsp;<span class="op" id="6993767">!=</span>&nbsp;<span class="ident" id="6993770"><a href="/image/ycbcr_test.go.html#6993713">color1</a></span>&nbsp;<span class="op" id="6993777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993787"><a href="/image/ycbcr_test.go.html#6992293">t</a></span><span class="op" id="6993788">.</span><span class="ident" id="6993789">Errorf</span><span class="op" id="6993795">(</span><span class="string" id="6993796">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="6993865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6993876"><a href="/image/ycbcr_test.go.html#6992307">r</a></span><span class="op" id="6993877">,</span>&nbsp;<span class="ident" id="6993879"><a href="/image/ycbcr_test.go.html#6992320">subsampleRatio</a></span><span class="op" id="6993893">,</span>&nbsp;<span class="ident" id="6993895"><a href="/image/ycbcr_test.go.html#6992356">delta</a></span><span class="op" id="6993900">,</span>&nbsp;<span class="ident" id="6993902"><a href="/image/ycbcr_test.go.html#6993617">x</a></span><span class="op" id="6993903">,</span>&nbsp;<span class="ident" id="6993905"><a href="/image/ycbcr_test.go.html#6993560">y</a></span><span class="op" id="6993906">,</span>&nbsp;<span class="ident" id="6993908"><a href="/image/ycbcr_test.go.html#6993671">color0</a></span><span class="op" id="6993914">,</span>&nbsp;<span class="ident" id="6993916"><a href="/image/ycbcr_test.go.html#6993713">color1</a></span><span class="op" id="6993922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6993932">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993972">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6993979">}</span><br>
<span class="lineno"></span><span class="op" id="6993981">}</span>
</div>
</body>
</html>
