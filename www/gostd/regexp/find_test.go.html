<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html" class="current">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6646128">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6646183">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6646237">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6646288">package</span>&nbsp;<span class="ident" id="6646296">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6646304">import</span>&nbsp;<span class="op" id="6646311">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6646314">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6646321">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6646332">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6646342">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6646345">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="6646422">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="6646502">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="6646585">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="6646663">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="6646710">type</span>&nbsp;<span class="ident" id="6646715">FindTest</span>&nbsp;<span class="keyword" id="6646724">struct</span>&nbsp;<span class="op" id="6646731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646734">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6646742">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646750">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6646758">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646766">matches</span>&nbsp;<span class="op" id="6646774">[</span><span class="op" id="6646775">]</span><span class="op" id="6646776">[</span><span class="op" id="6646777">]</span><span class="builtintype" id="6646778">int</span><br>
<span class="lineno"></span><span class="op" id="6646782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6646785">func</span>&nbsp;<span class="op" id="6646790">(</span><span class="ident" id="6646791">t</span>&nbsp;<span class="ident" id="6646793">FindTest</span><span class="op" id="6646801">)</span>&nbsp;<span class="ident" id="6646803">String</span><span class="op" id="6646809">(</span><span class="op" id="6646810">)</span>&nbsp;<span class="builtintype" id="6646812">string</span>&nbsp;<span class="op" id="6646819">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646822">return</span>&nbsp;<span class="ident" id="6646829">fmt</span><span class="op" id="6646832">.</span><span class="ident" id="6646833">Sprintf</span><span class="op" id="6646840">(</span><span class="string" id="6646841">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="6646861">,</span>&nbsp;<span class="ident" id="6646863">t</span><span class="op" id="6646864">.</span><span class="ident" id="6646865">pat</span><span class="op" id="6646868">,</span>&nbsp;<span class="ident" id="6646870">t</span><span class="op" id="6646871">.</span><span class="ident" id="6646872">text</span><span class="op" id="6646876">)</span><br>
<span class="lineno"></span><span class="op" id="6646878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6646881">var</span>&nbsp;<span class="ident" id="6646885">findTests</span>&nbsp;<span class="op" id="6646895">=</span>&nbsp;<span class="op" id="6646897">[</span><span class="op" id="6646898">]</span><span class="ident" id="6646899">FindTest</span><span class="op" id="6646907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646910">{</span><span class="string" id="6646911">``</span><span class="op" id="6646913">,</span>&nbsp;<span class="string" id="6646915">``</span><span class="op" id="6646917">,</span>&nbsp;<span class="ident" id="6646919">build</span><span class="op" id="6646924">(</span><span class="num" id="6646925">1</span><span class="op" id="6646926">,</span>&nbsp;<span class="num" id="6646928">0</span><span class="op" id="6646929">,</span>&nbsp;<span class="num" id="6646931">0</span><span class="op" id="6646932">)</span><span class="op" id="6646933">}</span><span class="op" id="6646934">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646937">{</span><span class="string" id="6646938">`^abcdefg`</span><span class="op" id="6646948">,</span>&nbsp;<span class="string" id="6646950">&#34;abcdefg&#34;</span><span class="op" id="6646959">,</span>&nbsp;<span class="ident" id="6646961">build</span><span class="op" id="6646966">(</span><span class="num" id="6646967">1</span><span class="op" id="6646968">,</span>&nbsp;<span class="num" id="6646970">0</span><span class="op" id="6646971">,</span>&nbsp;<span class="num" id="6646973">7</span><span class="op" id="6646974">)</span><span class="op" id="6646975">}</span><span class="op" id="6646976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646979">{</span><span class="string" id="6646980">`a+`</span><span class="op" id="6646984">,</span>&nbsp;<span class="string" id="6646986">&#34;baaab&#34;</span><span class="op" id="6646993">,</span>&nbsp;<span class="ident" id="6646995">build</span><span class="op" id="6647000">(</span><span class="num" id="6647001">1</span><span class="op" id="6647002">,</span>&nbsp;<span class="num" id="6647004">1</span><span class="op" id="6647005">,</span>&nbsp;<span class="num" id="6647007">4</span><span class="op" id="6647008">)</span><span class="op" id="6647009">}</span><span class="op" id="6647010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647013">{</span><span class="string" id="6647014">&#34;abcd..&#34;</span><span class="op" id="6647022">,</span>&nbsp;<span class="string" id="6647024">&#34;abcdef&#34;</span><span class="op" id="6647032">,</span>&nbsp;<span class="ident" id="6647034">build</span><span class="op" id="6647039">(</span><span class="num" id="6647040">1</span><span class="op" id="6647041">,</span>&nbsp;<span class="num" id="6647043">0</span><span class="op" id="6647044">,</span>&nbsp;<span class="num" id="6647046">6</span><span class="op" id="6647047">)</span><span class="op" id="6647048">}</span><span class="op" id="6647049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647052">{</span><span class="string" id="6647053">`a`</span><span class="op" id="6647056">,</span>&nbsp;<span class="string" id="6647058">&#34;a&#34;</span><span class="op" id="6647061">,</span>&nbsp;<span class="ident" id="6647063">build</span><span class="op" id="6647068">(</span><span class="num" id="6647069">1</span><span class="op" id="6647070">,</span>&nbsp;<span class="num" id="6647072">0</span><span class="op" id="6647073">,</span>&nbsp;<span class="num" id="6647075">1</span><span class="op" id="6647076">)</span><span class="op" id="6647077">}</span><span class="op" id="6647078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647081">{</span><span class="string" id="6647082">`x`</span><span class="op" id="6647085">,</span>&nbsp;<span class="string" id="6647087">&#34;y&#34;</span><span class="op" id="6647090">,</span>&nbsp;<span class="ident" id="6647092">nil</span><span class="op" id="6647095">}</span><span class="op" id="6647096">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647099">{</span><span class="string" id="6647100">`b`</span><span class="op" id="6647103">,</span>&nbsp;<span class="string" id="6647105">&#34;abc&#34;</span><span class="op" id="6647110">,</span>&nbsp;<span class="ident" id="6647112">build</span><span class="op" id="6647117">(</span><span class="num" id="6647118">1</span><span class="op" id="6647119">,</span>&nbsp;<span class="num" id="6647121">1</span><span class="op" id="6647122">,</span>&nbsp;<span class="num" id="6647124">2</span><span class="op" id="6647125">)</span><span class="op" id="6647126">}</span><span class="op" id="6647127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647130">{</span><span class="string" id="6647131">`.`</span><span class="op" id="6647134">,</span>&nbsp;<span class="string" id="6647136">&#34;a&#34;</span><span class="op" id="6647139">,</span>&nbsp;<span class="ident" id="6647141">build</span><span class="op" id="6647146">(</span><span class="num" id="6647147">1</span><span class="op" id="6647148">,</span>&nbsp;<span class="num" id="6647150">0</span><span class="op" id="6647151">,</span>&nbsp;<span class="num" id="6647153">1</span><span class="op" id="6647154">)</span><span class="op" id="6647155">}</span><span class="op" id="6647156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647159">{</span><span class="string" id="6647160">`.*`</span><span class="op" id="6647164">,</span>&nbsp;<span class="string" id="6647166">&#34;abcdef&#34;</span><span class="op" id="6647174">,</span>&nbsp;<span class="ident" id="6647176">build</span><span class="op" id="6647181">(</span><span class="num" id="6647182">1</span><span class="op" id="6647183">,</span>&nbsp;<span class="num" id="6647185">0</span><span class="op" id="6647186">,</span>&nbsp;<span class="num" id="6647188">6</span><span class="op" id="6647189">)</span><span class="op" id="6647190">}</span><span class="op" id="6647191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647194">{</span><span class="string" id="6647195">`^`</span><span class="op" id="6647198">,</span>&nbsp;<span class="string" id="6647200">&#34;abcde&#34;</span><span class="op" id="6647207">,</span>&nbsp;<span class="ident" id="6647209">build</span><span class="op" id="6647214">(</span><span class="num" id="6647215">1</span><span class="op" id="6647216">,</span>&nbsp;<span class="num" id="6647218">0</span><span class="op" id="6647219">,</span>&nbsp;<span class="num" id="6647221">0</span><span class="op" id="6647222">)</span><span class="op" id="6647223">}</span><span class="op" id="6647224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647227">{</span><span class="string" id="6647228">`$`</span><span class="op" id="6647231">,</span>&nbsp;<span class="string" id="6647233">&#34;abcde&#34;</span><span class="op" id="6647240">,</span>&nbsp;<span class="ident" id="6647242">build</span><span class="op" id="6647247">(</span><span class="num" id="6647248">1</span><span class="op" id="6647249">,</span>&nbsp;<span class="num" id="6647251">5</span><span class="op" id="6647252">,</span>&nbsp;<span class="num" id="6647254">5</span><span class="op" id="6647255">)</span><span class="op" id="6647256">}</span><span class="op" id="6647257">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647260">{</span><span class="string" id="6647261">`^abcd$`</span><span class="op" id="6647269">,</span>&nbsp;<span class="string" id="6647271">&#34;abcd&#34;</span><span class="op" id="6647277">,</span>&nbsp;<span class="ident" id="6647279">build</span><span class="op" id="6647284">(</span><span class="num" id="6647285">1</span><span class="op" id="6647286">,</span>&nbsp;<span class="num" id="6647288">0</span><span class="op" id="6647289">,</span>&nbsp;<span class="num" id="6647291">4</span><span class="op" id="6647292">)</span><span class="op" id="6647293">}</span><span class="op" id="6647294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647297">{</span><span class="string" id="6647298">`^bcd&#39;`</span><span class="op" id="6647305">,</span>&nbsp;<span class="string" id="6647307">&#34;abcdef&#34;</span><span class="op" id="6647315">,</span>&nbsp;<span class="ident" id="6647317">nil</span><span class="op" id="6647320">}</span><span class="op" id="6647321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647324">{</span><span class="string" id="6647325">`^abcd$`</span><span class="op" id="6647333">,</span>&nbsp;<span class="string" id="6647335">&#34;abcde&#34;</span><span class="op" id="6647342">,</span>&nbsp;<span class="ident" id="6647344">nil</span><span class="op" id="6647347">}</span><span class="op" id="6647348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647351">{</span><span class="string" id="6647352">`a+`</span><span class="op" id="6647356">,</span>&nbsp;<span class="string" id="6647358">&#34;baaab&#34;</span><span class="op" id="6647365">,</span>&nbsp;<span class="ident" id="6647367">build</span><span class="op" id="6647372">(</span><span class="num" id="6647373">1</span><span class="op" id="6647374">,</span>&nbsp;<span class="num" id="6647376">1</span><span class="op" id="6647377">,</span>&nbsp;<span class="num" id="6647379">4</span><span class="op" id="6647380">)</span><span class="op" id="6647381">}</span><span class="op" id="6647382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647385">{</span><span class="string" id="6647386">`a*`</span><span class="op" id="6647390">,</span>&nbsp;<span class="string" id="6647392">&#34;baaab&#34;</span><span class="op" id="6647399">,</span>&nbsp;<span class="ident" id="6647401">build</span><span class="op" id="6647406">(</span><span class="num" id="6647407">3</span><span class="op" id="6647408">,</span>&nbsp;<span class="num" id="6647410">0</span><span class="op" id="6647411">,</span>&nbsp;<span class="num" id="6647413">0</span><span class="op" id="6647414">,</span>&nbsp;<span class="num" id="6647416">1</span><span class="op" id="6647417">,</span>&nbsp;<span class="num" id="6647419">4</span><span class="op" id="6647420">,</span>&nbsp;<span class="num" id="6647422">5</span><span class="op" id="6647423">,</span>&nbsp;<span class="num" id="6647425">5</span><span class="op" id="6647426">)</span><span class="op" id="6647427">}</span><span class="op" id="6647428">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647431">{</span><span class="string" id="6647432">`[a-z]+`</span><span class="op" id="6647440">,</span>&nbsp;<span class="string" id="6647442">&#34;abcd&#34;</span><span class="op" id="6647448">,</span>&nbsp;<span class="ident" id="6647450">build</span><span class="op" id="6647455">(</span><span class="num" id="6647456">1</span><span class="op" id="6647457">,</span>&nbsp;<span class="num" id="6647459">0</span><span class="op" id="6647460">,</span>&nbsp;<span class="num" id="6647462">4</span><span class="op" id="6647463">)</span><span class="op" id="6647464">}</span><span class="op" id="6647465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647468">{</span><span class="string" id="6647469">`[^a-z]+`</span><span class="op" id="6647478">,</span>&nbsp;<span class="string" id="6647480">&#34;ab1234cd&#34;</span><span class="op" id="6647490">,</span>&nbsp;<span class="ident" id="6647492">build</span><span class="op" id="6647497">(</span><span class="num" id="6647498">1</span><span class="op" id="6647499">,</span>&nbsp;<span class="num" id="6647501">2</span><span class="op" id="6647502">,</span>&nbsp;<span class="num" id="6647504">6</span><span class="op" id="6647505">)</span><span class="op" id="6647506">}</span><span class="op" id="6647507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647510">{</span><span class="string" id="6647511">`[a\-\]z]+`</span><span class="op" id="6647522">,</span>&nbsp;<span class="string" id="6647524">&#34;az]-bcz&#34;</span><span class="op" id="6647533">,</span>&nbsp;<span class="ident" id="6647535">build</span><span class="op" id="6647540">(</span><span class="num" id="6647541">2</span><span class="op" id="6647542">,</span>&nbsp;<span class="num" id="6647544">0</span><span class="op" id="6647545">,</span>&nbsp;<span class="num" id="6647547">4</span><span class="op" id="6647548">,</span>&nbsp;<span class="num" id="6647550">6</span><span class="op" id="6647551">,</span>&nbsp;<span class="num" id="6647553">7</span><span class="op" id="6647554">)</span><span class="op" id="6647555">}</span><span class="op" id="6647556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647559">{</span><span class="string" id="6647560">`[^\n]+`</span><span class="op" id="6647568">,</span>&nbsp;<span class="string" id="6647570">&#34;abcd\n&#34;</span><span class="op" id="6647578">,</span>&nbsp;<span class="ident" id="6647580">build</span><span class="op" id="6647585">(</span><span class="num" id="6647586">1</span><span class="op" id="6647587">,</span>&nbsp;<span class="num" id="6647589">0</span><span class="op" id="6647590">,</span>&nbsp;<span class="num" id="6647592">4</span><span class="op" id="6647593">)</span><span class="op" id="6647594">}</span><span class="op" id="6647595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647598">{</span><span class="string" id="6647599">`[日本語]+`</span><span class="op" id="6647613">,</span>&nbsp;<span class="string" id="6647615">&#34;日本語日本語&#34;</span><span class="op" id="6647635">,</span>&nbsp;<span class="ident" id="6647637">build</span><span class="op" id="6647642">(</span><span class="num" id="6647643">1</span><span class="op" id="6647644">,</span>&nbsp;<span class="num" id="6647646">0</span><span class="op" id="6647647">,</span>&nbsp;<span class="num" id="6647649">18</span><span class="op" id="6647651">)</span><span class="op" id="6647652">}</span><span class="op" id="6647653">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647656">{</span><span class="string" id="6647657">`日本語+`</span><span class="op" id="6647669">,</span>&nbsp;<span class="string" id="6647671">&#34;日本語&#34;</span><span class="op" id="6647682">,</span>&nbsp;<span class="ident" id="6647684">build</span><span class="op" id="6647689">(</span><span class="num" id="6647690">1</span><span class="op" id="6647691">,</span>&nbsp;<span class="num" id="6647693">0</span><span class="op" id="6647694">,</span>&nbsp;<span class="num" id="6647696">9</span><span class="op" id="6647697">)</span><span class="op" id="6647698">}</span><span class="op" id="6647699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647702">{</span><span class="string" id="6647703">`日本語+`</span><span class="op" id="6647715">,</span>&nbsp;<span class="string" id="6647717">&#34;日本語語語語&#34;</span><span class="op" id="6647737">,</span>&nbsp;<span class="ident" id="6647739">build</span><span class="op" id="6647744">(</span><span class="num" id="6647745">1</span><span class="op" id="6647746">,</span>&nbsp;<span class="num" id="6647748">0</span><span class="op" id="6647749">,</span>&nbsp;<span class="num" id="6647751">18</span><span class="op" id="6647753">)</span><span class="op" id="6647754">}</span><span class="op" id="6647755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647758">{</span><span class="string" id="6647759">`()`</span><span class="op" id="6647763">,</span>&nbsp;<span class="string" id="6647765">&#34;&#34;</span><span class="op" id="6647767">,</span>&nbsp;<span class="ident" id="6647769">build</span><span class="op" id="6647774">(</span><span class="num" id="6647775">1</span><span class="op" id="6647776">,</span>&nbsp;<span class="num" id="6647778">0</span><span class="op" id="6647779">,</span>&nbsp;<span class="num" id="6647781">0</span><span class="op" id="6647782">,</span>&nbsp;<span class="num" id="6647784">0</span><span class="op" id="6647785">,</span>&nbsp;<span class="num" id="6647787">0</span><span class="op" id="6647788">)</span><span class="op" id="6647789">}</span><span class="op" id="6647790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647793">{</span><span class="string" id="6647794">`(a)`</span><span class="op" id="6647799">,</span>&nbsp;<span class="string" id="6647801">&#34;a&#34;</span><span class="op" id="6647804">,</span>&nbsp;<span class="ident" id="6647806">build</span><span class="op" id="6647811">(</span><span class="num" id="6647812">1</span><span class="op" id="6647813">,</span>&nbsp;<span class="num" id="6647815">0</span><span class="op" id="6647816">,</span>&nbsp;<span class="num" id="6647818">1</span><span class="op" id="6647819">,</span>&nbsp;<span class="num" id="6647821">0</span><span class="op" id="6647822">,</span>&nbsp;<span class="num" id="6647824">1</span><span class="op" id="6647825">)</span><span class="op" id="6647826">}</span><span class="op" id="6647827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647830">{</span><span class="string" id="6647831">`(.)(.)`</span><span class="op" id="6647839">,</span>&nbsp;<span class="string" id="6647841">&#34;日a&#34;</span><span class="op" id="6647847">,</span>&nbsp;<span class="ident" id="6647849">build</span><span class="op" id="6647854">(</span><span class="num" id="6647855">1</span><span class="op" id="6647856">,</span>&nbsp;<span class="num" id="6647858">0</span><span class="op" id="6647859">,</span>&nbsp;<span class="num" id="6647861">4</span><span class="op" id="6647862">,</span>&nbsp;<span class="num" id="6647864">0</span><span class="op" id="6647865">,</span>&nbsp;<span class="num" id="6647867">3</span><span class="op" id="6647868">,</span>&nbsp;<span class="num" id="6647870">3</span><span class="op" id="6647871">,</span>&nbsp;<span class="num" id="6647873">4</span><span class="op" id="6647874">)</span><span class="op" id="6647875">}</span><span class="op" id="6647876">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647879">{</span><span class="string" id="6647880">`(.*)`</span><span class="op" id="6647886">,</span>&nbsp;<span class="string" id="6647888">&#34;&#34;</span><span class="op" id="6647890">,</span>&nbsp;<span class="ident" id="6647892">build</span><span class="op" id="6647897">(</span><span class="num" id="6647898">1</span><span class="op" id="6647899">,</span>&nbsp;<span class="num" id="6647901">0</span><span class="op" id="6647902">,</span>&nbsp;<span class="num" id="6647904">0</span><span class="op" id="6647905">,</span>&nbsp;<span class="num" id="6647907">0</span><span class="op" id="6647908">,</span>&nbsp;<span class="num" id="6647910">0</span><span class="op" id="6647911">)</span><span class="op" id="6647912">}</span><span class="op" id="6647913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647916">{</span><span class="string" id="6647917">`(.*)`</span><span class="op" id="6647923">,</span>&nbsp;<span class="string" id="6647925">&#34;abcd&#34;</span><span class="op" id="6647931">,</span>&nbsp;<span class="ident" id="6647933">build</span><span class="op" id="6647938">(</span><span class="num" id="6647939">1</span><span class="op" id="6647940">,</span>&nbsp;<span class="num" id="6647942">0</span><span class="op" id="6647943">,</span>&nbsp;<span class="num" id="6647945">4</span><span class="op" id="6647946">,</span>&nbsp;<span class="num" id="6647948">0</span><span class="op" id="6647949">,</span>&nbsp;<span class="num" id="6647951">4</span><span class="op" id="6647952">)</span><span class="op" id="6647953">}</span><span class="op" id="6647954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647957">{</span><span class="string" id="6647958">`(..)(..)`</span><span class="op" id="6647968">,</span>&nbsp;<span class="string" id="6647970">&#34;abcd&#34;</span><span class="op" id="6647976">,</span>&nbsp;<span class="ident" id="6647978">build</span><span class="op" id="6647983">(</span><span class="num" id="6647984">1</span><span class="op" id="6647985">,</span>&nbsp;<span class="num" id="6647987">0</span><span class="op" id="6647988">,</span>&nbsp;<span class="num" id="6647990">4</span><span class="op" id="6647991">,</span>&nbsp;<span class="num" id="6647993">0</span><span class="op" id="6647994">,</span>&nbsp;<span class="num" id="6647996">2</span><span class="op" id="6647997">,</span>&nbsp;<span class="num" id="6647999">2</span><span class="op" id="6648000">,</span>&nbsp;<span class="num" id="6648002">4</span><span class="op" id="6648003">)</span><span class="op" id="6648004">}</span><span class="op" id="6648005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648008">{</span><span class="string" id="6648009">`(([^xyz]*)(d))`</span><span class="op" id="6648025">,</span>&nbsp;<span class="string" id="6648027">&#34;abcd&#34;</span><span class="op" id="6648033">,</span>&nbsp;<span class="ident" id="6648035">build</span><span class="op" id="6648040">(</span><span class="num" id="6648041">1</span><span class="op" id="6648042">,</span>&nbsp;<span class="num" id="6648044">0</span><span class="op" id="6648045">,</span>&nbsp;<span class="num" id="6648047">4</span><span class="op" id="6648048">,</span>&nbsp;<span class="num" id="6648050">0</span><span class="op" id="6648051">,</span>&nbsp;<span class="num" id="6648053">4</span><span class="op" id="6648054">,</span>&nbsp;<span class="num" id="6648056">0</span><span class="op" id="6648057">,</span>&nbsp;<span class="num" id="6648059">3</span><span class="op" id="6648060">,</span>&nbsp;<span class="num" id="6648062">3</span><span class="op" id="6648063">,</span>&nbsp;<span class="num" id="6648065">4</span><span class="op" id="6648066">)</span><span class="op" id="6648067">}</span><span class="op" id="6648068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648071">{</span><span class="string" id="6648072">`((a|b|c)*(d))`</span><span class="op" id="6648087">,</span>&nbsp;<span class="string" id="6648089">&#34;abcd&#34;</span><span class="op" id="6648095">,</span>&nbsp;<span class="ident" id="6648097">build</span><span class="op" id="6648102">(</span><span class="num" id="6648103">1</span><span class="op" id="6648104">,</span>&nbsp;<span class="num" id="6648106">0</span><span class="op" id="6648107">,</span>&nbsp;<span class="num" id="6648109">4</span><span class="op" id="6648110">,</span>&nbsp;<span class="num" id="6648112">0</span><span class="op" id="6648113">,</span>&nbsp;<span class="num" id="6648115">4</span><span class="op" id="6648116">,</span>&nbsp;<span class="num" id="6648118">2</span><span class="op" id="6648119">,</span>&nbsp;<span class="num" id="6648121">3</span><span class="op" id="6648122">,</span>&nbsp;<span class="num" id="6648124">3</span><span class="op" id="6648125">,</span>&nbsp;<span class="num" id="6648127">4</span><span class="op" id="6648128">)</span><span class="op" id="6648129">}</span><span class="op" id="6648130">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648133">{</span><span class="string" id="6648134">`(((a|b|c)*)(d))`</span><span class="op" id="6648151">,</span>&nbsp;<span class="string" id="6648153">&#34;abcd&#34;</span><span class="op" id="6648159">,</span>&nbsp;<span class="ident" id="6648161">build</span><span class="op" id="6648166">(</span><span class="num" id="6648167">1</span><span class="op" id="6648168">,</span>&nbsp;<span class="num" id="6648170">0</span><span class="op" id="6648171">,</span>&nbsp;<span class="num" id="6648173">4</span><span class="op" id="6648174">,</span>&nbsp;<span class="num" id="6648176">0</span><span class="op" id="6648177">,</span>&nbsp;<span class="num" id="6648179">4</span><span class="op" id="6648180">,</span>&nbsp;<span class="num" id="6648182">0</span><span class="op" id="6648183">,</span>&nbsp;<span class="num" id="6648185">3</span><span class="op" id="6648186">,</span>&nbsp;<span class="num" id="6648188">2</span><span class="op" id="6648189">,</span>&nbsp;<span class="num" id="6648191">3</span><span class="op" id="6648192">,</span>&nbsp;<span class="num" id="6648194">3</span><span class="op" id="6648195">,</span>&nbsp;<span class="num" id="6648197">4</span><span class="op" id="6648198">)</span><span class="op" id="6648199">}</span><span class="op" id="6648200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648203">{</span><span class="string" id="6648204">`\a\f\n\r\t\v`</span><span class="op" id="6648218">,</span>&nbsp;<span class="string" id="6648220">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="6648234">,</span>&nbsp;<span class="ident" id="6648236">build</span><span class="op" id="6648241">(</span><span class="num" id="6648242">1</span><span class="op" id="6648243">,</span>&nbsp;<span class="num" id="6648245">0</span><span class="op" id="6648246">,</span>&nbsp;<span class="num" id="6648248">6</span><span class="op" id="6648249">)</span><span class="op" id="6648250">}</span><span class="op" id="6648251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648254">{</span><span class="string" id="6648255">`[\a\f\n\r\t\v]+`</span><span class="op" id="6648272">,</span>&nbsp;<span class="string" id="6648274">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="6648288">,</span>&nbsp;<span class="ident" id="6648290">build</span><span class="op" id="6648295">(</span><span class="num" id="6648296">1</span><span class="op" id="6648297">,</span>&nbsp;<span class="num" id="6648299">0</span><span class="op" id="6648300">,</span>&nbsp;<span class="num" id="6648302">6</span><span class="op" id="6648303">)</span><span class="op" id="6648304">}</span><span class="op" id="6648305">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648309">{</span><span class="string" id="6648310">`a*(|(b))c*`</span><span class="op" id="6648322">,</span>&nbsp;<span class="string" id="6648324">&#34;aacc&#34;</span><span class="op" id="6648330">,</span>&nbsp;<span class="ident" id="6648332">build</span><span class="op" id="6648337">(</span><span class="num" id="6648338">1</span><span class="op" id="6648339">,</span>&nbsp;<span class="num" id="6648341">0</span><span class="op" id="6648342">,</span>&nbsp;<span class="num" id="6648344">4</span><span class="op" id="6648345">,</span>&nbsp;<span class="num" id="6648347">2</span><span class="op" id="6648348">,</span>&nbsp;<span class="num" id="6648350">2</span><span class="op" id="6648351">,</span>&nbsp;<span class="op" id="6648353">-</span><span class="num" id="6648354">1</span><span class="op" id="6648355">,</span>&nbsp;<span class="op" id="6648357">-</span><span class="num" id="6648358">1</span><span class="op" id="6648359">)</span><span class="op" id="6648360">}</span><span class="op" id="6648361">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648364">{</span><span class="string" id="6648365">`(.*).*`</span><span class="op" id="6648373">,</span>&nbsp;<span class="string" id="6648375">&#34;ab&#34;</span><span class="op" id="6648379">,</span>&nbsp;<span class="ident" id="6648381">build</span><span class="op" id="6648386">(</span><span class="num" id="6648387">1</span><span class="op" id="6648388">,</span>&nbsp;<span class="num" id="6648390">0</span><span class="op" id="6648391">,</span>&nbsp;<span class="num" id="6648393">2</span><span class="op" id="6648394">,</span>&nbsp;<span class="num" id="6648396">0</span><span class="op" id="6648397">,</span>&nbsp;<span class="num" id="6648399">2</span><span class="op" id="6648400">)</span><span class="op" id="6648401">}</span><span class="op" id="6648402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648405">{</span><span class="string" id="6648406">`[.]`</span><span class="op" id="6648411">,</span>&nbsp;<span class="string" id="6648413">&#34;.&#34;</span><span class="op" id="6648416">,</span>&nbsp;<span class="ident" id="6648418">build</span><span class="op" id="6648423">(</span><span class="num" id="6648424">1</span><span class="op" id="6648425">,</span>&nbsp;<span class="num" id="6648427">0</span><span class="op" id="6648428">,</span>&nbsp;<span class="num" id="6648430">1</span><span class="op" id="6648431">)</span><span class="op" id="6648432">}</span><span class="op" id="6648433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648436">{</span><span class="string" id="6648437">`/$`</span><span class="op" id="6648441">,</span>&nbsp;<span class="string" id="6648443">&#34;/abc/&#34;</span><span class="op" id="6648450">,</span>&nbsp;<span class="ident" id="6648452">build</span><span class="op" id="6648457">(</span><span class="num" id="6648458">1</span><span class="op" id="6648459">,</span>&nbsp;<span class="num" id="6648461">4</span><span class="op" id="6648462">,</span>&nbsp;<span class="num" id="6648464">5</span><span class="op" id="6648465">)</span><span class="op" id="6648466">}</span><span class="op" id="6648467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648470">{</span><span class="string" id="6648471">`/$`</span><span class="op" id="6648475">,</span>&nbsp;<span class="string" id="6648477">&#34;/abc&#34;</span><span class="op" id="6648483">,</span>&nbsp;<span class="ident" id="6648485">nil</span><span class="op" id="6648488">}</span><span class="op" id="6648489">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6648493">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648514">{</span><span class="string" id="6648515">`.`</span><span class="op" id="6648518">,</span>&nbsp;<span class="string" id="6648520">&#34;abc&#34;</span><span class="op" id="6648525">,</span>&nbsp;<span class="ident" id="6648527">build</span><span class="op" id="6648532">(</span><span class="num" id="6648533">3</span><span class="op" id="6648534">,</span>&nbsp;<span class="num" id="6648536">0</span><span class="op" id="6648537">,</span>&nbsp;<span class="num" id="6648539">1</span><span class="op" id="6648540">,</span>&nbsp;<span class="num" id="6648542">1</span><span class="op" id="6648543">,</span>&nbsp;<span class="num" id="6648545">2</span><span class="op" id="6648546">,</span>&nbsp;<span class="num" id="6648548">2</span><span class="op" id="6648549">,</span>&nbsp;<span class="num" id="6648551">3</span><span class="op" id="6648552">)</span><span class="op" id="6648553">}</span><span class="op" id="6648554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648557">{</span><span class="string" id="6648558">`(.)`</span><span class="op" id="6648563">,</span>&nbsp;<span class="string" id="6648565">&#34;abc&#34;</span><span class="op" id="6648570">,</span>&nbsp;<span class="ident" id="6648572">build</span><span class="op" id="6648577">(</span><span class="num" id="6648578">3</span><span class="op" id="6648579">,</span>&nbsp;<span class="num" id="6648581">0</span><span class="op" id="6648582">,</span>&nbsp;<span class="num" id="6648584">1</span><span class="op" id="6648585">,</span>&nbsp;<span class="num" id="6648587">0</span><span class="op" id="6648588">,</span>&nbsp;<span class="num" id="6648590">1</span><span class="op" id="6648591">,</span>&nbsp;<span class="num" id="6648593">1</span><span class="op" id="6648594">,</span>&nbsp;<span class="num" id="6648596">2</span><span class="op" id="6648597">,</span>&nbsp;<span class="num" id="6648599">1</span><span class="op" id="6648600">,</span>&nbsp;<span class="num" id="6648602">2</span><span class="op" id="6648603">,</span>&nbsp;<span class="num" id="6648605">2</span><span class="op" id="6648606">,</span>&nbsp;<span class="num" id="6648608">3</span><span class="op" id="6648609">,</span>&nbsp;<span class="num" id="6648611">2</span><span class="op" id="6648612">,</span>&nbsp;<span class="num" id="6648614">3</span><span class="op" id="6648615">)</span><span class="op" id="6648616">}</span><span class="op" id="6648617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648620">{</span><span class="string" id="6648621">`.(.)`</span><span class="op" id="6648627">,</span>&nbsp;<span class="string" id="6648629">&#34;abcd&#34;</span><span class="op" id="6648635">,</span>&nbsp;<span class="ident" id="6648637">build</span><span class="op" id="6648642">(</span><span class="num" id="6648643">2</span><span class="op" id="6648644">,</span>&nbsp;<span class="num" id="6648646">0</span><span class="op" id="6648647">,</span>&nbsp;<span class="num" id="6648649">2</span><span class="op" id="6648650">,</span>&nbsp;<span class="num" id="6648652">1</span><span class="op" id="6648653">,</span>&nbsp;<span class="num" id="6648655">2</span><span class="op" id="6648656">,</span>&nbsp;<span class="num" id="6648658">2</span><span class="op" id="6648659">,</span>&nbsp;<span class="num" id="6648661">4</span><span class="op" id="6648662">,</span>&nbsp;<span class="num" id="6648664">3</span><span class="op" id="6648665">,</span>&nbsp;<span class="num" id="6648667">4</span><span class="op" id="6648668">)</span><span class="op" id="6648669">}</span><span class="op" id="6648670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648673">{</span><span class="string" id="6648674">`ab*`</span><span class="op" id="6648679">,</span>&nbsp;<span class="string" id="6648681">&#34;abbaab&#34;</span><span class="op" id="6648689">,</span>&nbsp;<span class="ident" id="6648691">build</span><span class="op" id="6648696">(</span><span class="num" id="6648697">3</span><span class="op" id="6648698">,</span>&nbsp;<span class="num" id="6648700">0</span><span class="op" id="6648701">,</span>&nbsp;<span class="num" id="6648703">3</span><span class="op" id="6648704">,</span>&nbsp;<span class="num" id="6648706">3</span><span class="op" id="6648707">,</span>&nbsp;<span class="num" id="6648709">4</span><span class="op" id="6648710">,</span>&nbsp;<span class="num" id="6648712">4</span><span class="op" id="6648713">,</span>&nbsp;<span class="num" id="6648715">6</span><span class="op" id="6648716">)</span><span class="op" id="6648717">}</span><span class="op" id="6648718">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648721">{</span><span class="string" id="6648722">`a(b*)`</span><span class="op" id="6648729">,</span>&nbsp;<span class="string" id="6648731">&#34;abbaab&#34;</span><span class="op" id="6648739">,</span>&nbsp;<span class="ident" id="6648741">build</span><span class="op" id="6648746">(</span><span class="num" id="6648747">3</span><span class="op" id="6648748">,</span>&nbsp;<span class="num" id="6648750">0</span><span class="op" id="6648751">,</span>&nbsp;<span class="num" id="6648753">3</span><span class="op" id="6648754">,</span>&nbsp;<span class="num" id="6648756">1</span><span class="op" id="6648757">,</span>&nbsp;<span class="num" id="6648759">3</span><span class="op" id="6648760">,</span>&nbsp;<span class="num" id="6648762">3</span><span class="op" id="6648763">,</span>&nbsp;<span class="num" id="6648765">4</span><span class="op" id="6648766">,</span>&nbsp;<span class="num" id="6648768">4</span><span class="op" id="6648769">,</span>&nbsp;<span class="num" id="6648771">4</span><span class="op" id="6648772">,</span>&nbsp;<span class="num" id="6648774">4</span><span class="op" id="6648775">,</span>&nbsp;<span class="num" id="6648777">6</span><span class="op" id="6648778">,</span>&nbsp;<span class="num" id="6648780">5</span><span class="op" id="6648781">,</span>&nbsp;<span class="num" id="6648783">6</span><span class="op" id="6648784">)</span><span class="op" id="6648785">}</span><span class="op" id="6648786">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6648790">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648805">{</span><span class="string" id="6648806">`ab$`</span><span class="op" id="6648811">,</span>&nbsp;<span class="string" id="6648813">&#34;cab&#34;</span><span class="op" id="6648818">,</span>&nbsp;<span class="ident" id="6648820">build</span><span class="op" id="6648825">(</span><span class="num" id="6648826">1</span><span class="op" id="6648827">,</span>&nbsp;<span class="num" id="6648829">1</span><span class="op" id="6648830">,</span>&nbsp;<span class="num" id="6648832">3</span><span class="op" id="6648833">)</span><span class="op" id="6648834">}</span><span class="op" id="6648835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648838">{</span><span class="string" id="6648839">`axxb$`</span><span class="op" id="6648846">,</span>&nbsp;<span class="string" id="6648848">&#34;axxcb&#34;</span><span class="op" id="6648855">,</span>&nbsp;<span class="ident" id="6648857">nil</span><span class="op" id="6648860">}</span><span class="op" id="6648861">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648864">{</span><span class="string" id="6648865">`data`</span><span class="op" id="6648871">,</span>&nbsp;<span class="string" id="6648873">&#34;daXY&nbsp;data&#34;</span><span class="op" id="6648884">,</span>&nbsp;<span class="ident" id="6648886">build</span><span class="op" id="6648891">(</span><span class="num" id="6648892">1</span><span class="op" id="6648893">,</span>&nbsp;<span class="num" id="6648895">5</span><span class="op" id="6648896">,</span>&nbsp;<span class="num" id="6648898">9</span><span class="op" id="6648899">)</span><span class="op" id="6648900">}</span><span class="op" id="6648901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648904">{</span><span class="string" id="6648905">`da(.)a$`</span><span class="op" id="6648914">,</span>&nbsp;<span class="string" id="6648916">&#34;daXY&nbsp;data&#34;</span><span class="op" id="6648927">,</span>&nbsp;<span class="ident" id="6648929">build</span><span class="op" id="6648934">(</span><span class="num" id="6648935">1</span><span class="op" id="6648936">,</span>&nbsp;<span class="num" id="6648938">5</span><span class="op" id="6648939">,</span>&nbsp;<span class="num" id="6648941">9</span><span class="op" id="6648942">,</span>&nbsp;<span class="num" id="6648944">7</span><span class="op" id="6648945">,</span>&nbsp;<span class="num" id="6648947">8</span><span class="op" id="6648948">)</span><span class="op" id="6648949">}</span><span class="op" id="6648950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648953">{</span><span class="string" id="6648954">`zx+`</span><span class="op" id="6648959">,</span>&nbsp;<span class="string" id="6648961">&#34;zzx&#34;</span><span class="op" id="6648966">,</span>&nbsp;<span class="ident" id="6648968">build</span><span class="op" id="6648973">(</span><span class="num" id="6648974">1</span><span class="op" id="6648975">,</span>&nbsp;<span class="num" id="6648977">1</span><span class="op" id="6648978">,</span>&nbsp;<span class="num" id="6648980">3</span><span class="op" id="6648981">)</span><span class="op" id="6648982">}</span><span class="op" id="6648983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648986">{</span><span class="string" id="6648987">`ab$`</span><span class="op" id="6648992">,</span>&nbsp;<span class="string" id="6648994">&#34;abcab&#34;</span><span class="op" id="6649001">,</span>&nbsp;<span class="ident" id="6649003">build</span><span class="op" id="6649008">(</span><span class="num" id="6649009">1</span><span class="op" id="6649010">,</span>&nbsp;<span class="num" id="6649012">3</span><span class="op" id="6649013">,</span>&nbsp;<span class="num" id="6649015">5</span><span class="op" id="6649016">)</span><span class="op" id="6649017">}</span><span class="op" id="6649018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649021">{</span><span class="string" id="6649022">`(aa)*$`</span><span class="op" id="6649030">,</span>&nbsp;<span class="string" id="6649032">&#34;a&#34;</span><span class="op" id="6649035">,</span>&nbsp;<span class="ident" id="6649037">build</span><span class="op" id="6649042">(</span><span class="num" id="6649043">1</span><span class="op" id="6649044">,</span>&nbsp;<span class="num" id="6649046">1</span><span class="op" id="6649047">,</span>&nbsp;<span class="num" id="6649049">1</span><span class="op" id="6649050">,</span>&nbsp;<span class="op" id="6649052">-</span><span class="num" id="6649053">1</span><span class="op" id="6649054">,</span>&nbsp;<span class="op" id="6649056">-</span><span class="num" id="6649057">1</span><span class="op" id="6649058">)</span><span class="op" id="6649059">}</span><span class="op" id="6649060">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649063">{</span><span class="string" id="6649064">`(?:.|(?:.a))`</span><span class="op" id="6649078">,</span>&nbsp;<span class="string" id="6649080">&#34;&#34;</span><span class="op" id="6649082">,</span>&nbsp;<span class="ident" id="6649084">nil</span><span class="op" id="6649087">}</span><span class="op" id="6649088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649091">{</span><span class="string" id="6649092">`(?:A(?:A|a))`</span><span class="op" id="6649106">,</span>&nbsp;<span class="string" id="6649108">&#34;Aa&#34;</span><span class="op" id="6649112">,</span>&nbsp;<span class="ident" id="6649114">build</span><span class="op" id="6649119">(</span><span class="num" id="6649120">1</span><span class="op" id="6649121">,</span>&nbsp;<span class="num" id="6649123">0</span><span class="op" id="6649124">,</span>&nbsp;<span class="num" id="6649126">2</span><span class="op" id="6649127">)</span><span class="op" id="6649128">}</span><span class="op" id="6649129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649132">{</span><span class="string" id="6649133">`(?:A|(?:A|a))`</span><span class="op" id="6649148">,</span>&nbsp;<span class="string" id="6649150">&#34;a&#34;</span><span class="op" id="6649153">,</span>&nbsp;<span class="ident" id="6649155">build</span><span class="op" id="6649160">(</span><span class="num" id="6649161">1</span><span class="op" id="6649162">,</span>&nbsp;<span class="num" id="6649164">0</span><span class="op" id="6649165">,</span>&nbsp;<span class="num" id="6649167">1</span><span class="op" id="6649168">)</span><span class="op" id="6649169">}</span><span class="op" id="6649170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649173">{</span><span class="string" id="6649174">`(a){0}`</span><span class="op" id="6649182">,</span>&nbsp;<span class="string" id="6649184">&#34;&#34;</span><span class="op" id="6649186">,</span>&nbsp;<span class="ident" id="6649188">build</span><span class="op" id="6649193">(</span><span class="num" id="6649194">1</span><span class="op" id="6649195">,</span>&nbsp;<span class="num" id="6649197">0</span><span class="op" id="6649198">,</span>&nbsp;<span class="num" id="6649200">0</span><span class="op" id="6649201">,</span>&nbsp;<span class="op" id="6649203">-</span><span class="num" id="6649204">1</span><span class="op" id="6649205">,</span>&nbsp;<span class="op" id="6649207">-</span><span class="num" id="6649208">1</span><span class="op" id="6649209">)</span><span class="op" id="6649210">}</span><span class="op" id="6649211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649214">{</span><span class="string" id="6649215">`(?-s)(?:(?:^).)`</span><span class="op" id="6649232">,</span>&nbsp;<span class="string" id="6649234">&#34;\n&#34;</span><span class="op" id="6649238">,</span>&nbsp;<span class="ident" id="6649240">nil</span><span class="op" id="6649243">}</span><span class="op" id="6649244">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649247">{</span><span class="string" id="6649248">`(?s)(?:(?:^).)`</span><span class="op" id="6649264">,</span>&nbsp;<span class="string" id="6649266">&#34;\n&#34;</span><span class="op" id="6649270">,</span>&nbsp;<span class="ident" id="6649272">build</span><span class="op" id="6649277">(</span><span class="num" id="6649278">1</span><span class="op" id="6649279">,</span>&nbsp;<span class="num" id="6649281">0</span><span class="op" id="6649282">,</span>&nbsp;<span class="num" id="6649284">1</span><span class="op" id="6649285">)</span><span class="op" id="6649286">}</span><span class="op" id="6649287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649290">{</span><span class="string" id="6649291">`(?:(?:^).)`</span><span class="op" id="6649303">,</span>&nbsp;<span class="string" id="6649305">&#34;\n&#34;</span><span class="op" id="6649309">,</span>&nbsp;<span class="ident" id="6649311">nil</span><span class="op" id="6649314">}</span><span class="op" id="6649315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649318">{</span><span class="string" id="6649319">`\b`</span><span class="op" id="6649323">,</span>&nbsp;<span class="string" id="6649325">&#34;x&#34;</span><span class="op" id="6649328">,</span>&nbsp;<span class="ident" id="6649330">build</span><span class="op" id="6649335">(</span><span class="num" id="6649336">2</span><span class="op" id="6649337">,</span>&nbsp;<span class="num" id="6649339">0</span><span class="op" id="6649340">,</span>&nbsp;<span class="num" id="6649342">0</span><span class="op" id="6649343">,</span>&nbsp;<span class="num" id="6649345">1</span><span class="op" id="6649346">,</span>&nbsp;<span class="num" id="6649348">1</span><span class="op" id="6649349">)</span><span class="op" id="6649350">}</span><span class="op" id="6649351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649354">{</span><span class="string" id="6649355">`\b`</span><span class="op" id="6649359">,</span>&nbsp;<span class="string" id="6649361">&#34;xx&#34;</span><span class="op" id="6649365">,</span>&nbsp;<span class="ident" id="6649367">build</span><span class="op" id="6649372">(</span><span class="num" id="6649373">2</span><span class="op" id="6649374">,</span>&nbsp;<span class="num" id="6649376">0</span><span class="op" id="6649377">,</span>&nbsp;<span class="num" id="6649379">0</span><span class="op" id="6649380">,</span>&nbsp;<span class="num" id="6649382">2</span><span class="op" id="6649383">,</span>&nbsp;<span class="num" id="6649385">2</span><span class="op" id="6649386">)</span><span class="op" id="6649387">}</span><span class="op" id="6649388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649391">{</span><span class="string" id="6649392">`\b`</span><span class="op" id="6649396">,</span>&nbsp;<span class="string" id="6649398">&#34;x&nbsp;y&#34;</span><span class="op" id="6649403">,</span>&nbsp;<span class="ident" id="6649405">build</span><span class="op" id="6649410">(</span><span class="num" id="6649411">4</span><span class="op" id="6649412">,</span>&nbsp;<span class="num" id="6649414">0</span><span class="op" id="6649415">,</span>&nbsp;<span class="num" id="6649417">0</span><span class="op" id="6649418">,</span>&nbsp;<span class="num" id="6649420">1</span><span class="op" id="6649421">,</span>&nbsp;<span class="num" id="6649423">1</span><span class="op" id="6649424">,</span>&nbsp;<span class="num" id="6649426">2</span><span class="op" id="6649427">,</span>&nbsp;<span class="num" id="6649429">2</span><span class="op" id="6649430">,</span>&nbsp;<span class="num" id="6649432">3</span><span class="op" id="6649433">,</span>&nbsp;<span class="num" id="6649435">3</span><span class="op" id="6649436">)</span><span class="op" id="6649437">}</span><span class="op" id="6649438">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649441">{</span><span class="string" id="6649442">`\b`</span><span class="op" id="6649446">,</span>&nbsp;<span class="string" id="6649448">&#34;xx&nbsp;yy&#34;</span><span class="op" id="6649455">,</span>&nbsp;<span class="ident" id="6649457">build</span><span class="op" id="6649462">(</span><span class="num" id="6649463">4</span><span class="op" id="6649464">,</span>&nbsp;<span class="num" id="6649466">0</span><span class="op" id="6649467">,</span>&nbsp;<span class="num" id="6649469">0</span><span class="op" id="6649470">,</span>&nbsp;<span class="num" id="6649472">2</span><span class="op" id="6649473">,</span>&nbsp;<span class="num" id="6649475">2</span><span class="op" id="6649476">,</span>&nbsp;<span class="num" id="6649478">3</span><span class="op" id="6649479">,</span>&nbsp;<span class="num" id="6649481">3</span><span class="op" id="6649482">,</span>&nbsp;<span class="num" id="6649484">5</span><span class="op" id="6649485">,</span>&nbsp;<span class="num" id="6649487">5</span><span class="op" id="6649488">)</span><span class="op" id="6649489">}</span><span class="op" id="6649490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649493">{</span><span class="string" id="6649494">`\B`</span><span class="op" id="6649498">,</span>&nbsp;<span class="string" id="6649500">&#34;x&#34;</span><span class="op" id="6649503">,</span>&nbsp;<span class="ident" id="6649505">nil</span><span class="op" id="6649508">}</span><span class="op" id="6649509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649512">{</span><span class="string" id="6649513">`\B`</span><span class="op" id="6649517">,</span>&nbsp;<span class="string" id="6649519">&#34;xx&#34;</span><span class="op" id="6649523">,</span>&nbsp;<span class="ident" id="6649525">build</span><span class="op" id="6649530">(</span><span class="num" id="6649531">1</span><span class="op" id="6649532">,</span>&nbsp;<span class="num" id="6649534">1</span><span class="op" id="6649535">,</span>&nbsp;<span class="num" id="6649537">1</span><span class="op" id="6649538">)</span><span class="op" id="6649539">}</span><span class="op" id="6649540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649543">{</span><span class="string" id="6649544">`\B`</span><span class="op" id="6649548">,</span>&nbsp;<span class="string" id="6649550">&#34;x&nbsp;y&#34;</span><span class="op" id="6649555">,</span>&nbsp;<span class="ident" id="6649557">nil</span><span class="op" id="6649560">}</span><span class="op" id="6649561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649564">{</span><span class="string" id="6649565">`\B`</span><span class="op" id="6649569">,</span>&nbsp;<span class="string" id="6649571">&#34;xx&nbsp;yy&#34;</span><span class="op" id="6649578">,</span>&nbsp;<span class="ident" id="6649580">build</span><span class="op" id="6649585">(</span><span class="num" id="6649586">2</span><span class="op" id="6649587">,</span>&nbsp;<span class="num" id="6649589">1</span><span class="op" id="6649590">,</span>&nbsp;<span class="num" id="6649592">1</span><span class="op" id="6649593">,</span>&nbsp;<span class="num" id="6649595">4</span><span class="op" id="6649596">,</span>&nbsp;<span class="num" id="6649598">4</span><span class="op" id="6649599">)</span><span class="op" id="6649600">}</span><span class="op" id="6649601">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6649605">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649619">{</span><span class="string" id="6649620">`[^\S\s]`</span><span class="op" id="6649629">,</span>&nbsp;<span class="string" id="6649631">&#34;abcd&#34;</span><span class="op" id="6649637">,</span>&nbsp;<span class="ident" id="6649639">nil</span><span class="op" id="6649642">}</span><span class="op" id="6649643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649646">{</span><span class="string" id="6649647">`[^\S[:space:]]`</span><span class="op" id="6649663">,</span>&nbsp;<span class="string" id="6649665">&#34;abcd&#34;</span><span class="op" id="6649671">,</span>&nbsp;<span class="ident" id="6649673">nil</span><span class="op" id="6649676">}</span><span class="op" id="6649677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649680">{</span><span class="string" id="6649681">`[^\D\d]`</span><span class="op" id="6649690">,</span>&nbsp;<span class="string" id="6649692">&#34;abcd&#34;</span><span class="op" id="6649698">,</span>&nbsp;<span class="ident" id="6649700">nil</span><span class="op" id="6649703">}</span><span class="op" id="6649704">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649707">{</span><span class="string" id="6649708">`[^\D[:digit:]]`</span><span class="op" id="6649724">,</span>&nbsp;<span class="string" id="6649726">&#34;abcd&#34;</span><span class="op" id="6649732">,</span>&nbsp;<span class="ident" id="6649734">nil</span><span class="op" id="6649737">}</span><span class="op" id="6649738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649741">{</span><span class="string" id="6649742">`(?i)\W`</span><span class="op" id="6649750">,</span>&nbsp;<span class="string" id="6649752">&#34;x&#34;</span><span class="op" id="6649755">,</span>&nbsp;<span class="ident" id="6649757">nil</span><span class="op" id="6649760">}</span><span class="op" id="6649761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649764">{</span><span class="string" id="6649765">`(?i)\W`</span><span class="op" id="6649773">,</span>&nbsp;<span class="string" id="6649775">&#34;k&#34;</span><span class="op" id="6649778">,</span>&nbsp;<span class="ident" id="6649780">nil</span><span class="op" id="6649783">}</span><span class="op" id="6649784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649787">{</span><span class="string" id="6649788">`(?i)\W`</span><span class="op" id="6649796">,</span>&nbsp;<span class="string" id="6649798">&#34;s&#34;</span><span class="op" id="6649801">,</span>&nbsp;<span class="ident" id="6649803">nil</span><span class="op" id="6649806">}</span><span class="op" id="6649807">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6649811">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649852">{</span><span class="string" id="6649853">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="6649917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6649921">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="6649954">,</span>&nbsp;<span class="ident" id="6649956">build</span><span class="op" id="6649961">(</span><span class="num" id="6649962">1</span><span class="op" id="6649963">,</span>&nbsp;<span class="num" id="6649965">0</span><span class="op" id="6649966">,</span>&nbsp;<span class="num" id="6649968">31</span><span class="op" id="6649970">)</span><span class="op" id="6649971">}</span><span class="op" id="6649972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649975">{</span><span class="string" id="6649976">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="6650043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650047">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="6650080">,</span>&nbsp;<span class="ident" id="6650082">build</span><span class="op" id="6650087">(</span><span class="num" id="6650088">1</span><span class="op" id="6650089">,</span>&nbsp;<span class="num" id="6650091">0</span><span class="op" id="6650092">,</span>&nbsp;<span class="num" id="6650094">31</span><span class="op" id="6650096">)</span><span class="op" id="6650097">}</span><span class="op" id="6650098">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650101">{</span><span class="string" id="6650102">&#34;\\`&#34;</span><span class="op" id="6650107">,</span>&nbsp;<span class="string" id="6650109">&#34;`&#34;</span><span class="op" id="6650112">,</span>&nbsp;<span class="ident" id="6650114">build</span><span class="op" id="6650119">(</span><span class="num" id="6650120">1</span><span class="op" id="6650121">,</span>&nbsp;<span class="num" id="6650123">0</span><span class="op" id="6650124">,</span>&nbsp;<span class="num" id="6650126">1</span><span class="op" id="6650127">)</span><span class="op" id="6650128">}</span><span class="op" id="6650129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650132">{</span><span class="string" id="6650133">&#34;[\\`]+&#34;</span><span class="op" id="6650141">,</span>&nbsp;<span class="string" id="6650143">&#34;`&#34;</span><span class="op" id="6650146">,</span>&nbsp;<span class="ident" id="6650148">build</span><span class="op" id="6650153">(</span><span class="num" id="6650154">1</span><span class="op" id="6650155">,</span>&nbsp;<span class="num" id="6650157">0</span><span class="op" id="6650158">,</span>&nbsp;<span class="num" id="6650160">1</span><span class="op" id="6650161">)</span><span class="op" id="6650162">}</span><span class="op" id="6650163">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6650167">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650215">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650219">&#34;.&#34;</span><span class="op" id="6650222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6650226">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="6650264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650268">build</span><span class="op" id="6650273">(</span><span class="num" id="6650274">36</span><span class="op" id="6650276">,</span>&nbsp;<span class="num" id="6650278">0</span><span class="op" id="6650279">,</span>&nbsp;<span class="num" id="6650281">1</span><span class="op" id="6650282">,</span>&nbsp;<span class="num" id="6650284">1</span><span class="op" id="6650285">,</span>&nbsp;<span class="num" id="6650287">2</span><span class="op" id="6650288">,</span>&nbsp;<span class="num" id="6650290">2</span><span class="op" id="6650291">,</span>&nbsp;<span class="num" id="6650293">3</span><span class="op" id="6650294">,</span>&nbsp;<span class="num" id="6650296">3</span><span class="op" id="6650297">,</span>&nbsp;<span class="num" id="6650299">4</span><span class="op" id="6650300">,</span>&nbsp;<span class="num" id="6650302">4</span><span class="op" id="6650303">,</span>&nbsp;<span class="num" id="6650305">5</span><span class="op" id="6650306">,</span>&nbsp;<span class="num" id="6650308">5</span><span class="op" id="6650309">,</span>&nbsp;<span class="num" id="6650311">6</span><span class="op" id="6650312">,</span>&nbsp;<span class="num" id="6650314">6</span><span class="op" id="6650315">,</span>&nbsp;<span class="num" id="6650317">7</span><span class="op" id="6650318">,</span>&nbsp;<span class="num" id="6650320">7</span><span class="op" id="6650321">,</span>&nbsp;<span class="num" id="6650323">8</span><span class="op" id="6650324">,</span>&nbsp;<span class="num" id="6650326">8</span><span class="op" id="6650327">,</span>&nbsp;<span class="num" id="6650329">9</span><span class="op" id="6650330">,</span>&nbsp;<span class="num" id="6650332">9</span><span class="op" id="6650333">,</span>&nbsp;<span class="num" id="6650335">10</span><span class="op" id="6650337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6650342">10</span><span class="op" id="6650344">,</span>&nbsp;<span class="num" id="6650346">11</span><span class="op" id="6650348">,</span>&nbsp;<span class="num" id="6650350">11</span><span class="op" id="6650352">,</span>&nbsp;<span class="num" id="6650354">12</span><span class="op" id="6650356">,</span>&nbsp;<span class="num" id="6650358">12</span><span class="op" id="6650360">,</span>&nbsp;<span class="num" id="6650362">13</span><span class="op" id="6650364">,</span>&nbsp;<span class="num" id="6650366">13</span><span class="op" id="6650368">,</span>&nbsp;<span class="num" id="6650370">14</span><span class="op" id="6650372">,</span>&nbsp;<span class="num" id="6650374">14</span><span class="op" id="6650376">,</span>&nbsp;<span class="num" id="6650378">15</span><span class="op" id="6650380">,</span>&nbsp;<span class="num" id="6650382">15</span><span class="op" id="6650384">,</span>&nbsp;<span class="num" id="6650386">16</span><span class="op" id="6650388">,</span>&nbsp;<span class="num" id="6650390">16</span><span class="op" id="6650392">,</span>&nbsp;<span class="num" id="6650394">17</span><span class="op" id="6650396">,</span>&nbsp;<span class="num" id="6650398">17</span><span class="op" id="6650400">,</span>&nbsp;<span class="num" id="6650402">18</span><span class="op" id="6650404">,</span>&nbsp;<span class="num" id="6650406">18</span><span class="op" id="6650408">,</span>&nbsp;<span class="num" id="6650410">19</span><span class="op" id="6650412">,</span>&nbsp;<span class="num" id="6650414">19</span><span class="op" id="6650416">,</span>&nbsp;<span class="num" id="6650418">20</span><span class="op" id="6650420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6650425">20</span><span class="op" id="6650427">,</span>&nbsp;<span class="num" id="6650429">21</span><span class="op" id="6650431">,</span>&nbsp;<span class="num" id="6650433">21</span><span class="op" id="6650435">,</span>&nbsp;<span class="num" id="6650437">22</span><span class="op" id="6650439">,</span>&nbsp;<span class="num" id="6650441">22</span><span class="op" id="6650443">,</span>&nbsp;<span class="num" id="6650445">23</span><span class="op" id="6650447">,</span>&nbsp;<span class="num" id="6650449">23</span><span class="op" id="6650451">,</span>&nbsp;<span class="num" id="6650453">24</span><span class="op" id="6650455">,</span>&nbsp;<span class="num" id="6650457">24</span><span class="op" id="6650459">,</span>&nbsp;<span class="num" id="6650461">25</span><span class="op" id="6650463">,</span>&nbsp;<span class="num" id="6650465">25</span><span class="op" id="6650467">,</span>&nbsp;<span class="num" id="6650469">26</span><span class="op" id="6650471">,</span>&nbsp;<span class="num" id="6650473">26</span><span class="op" id="6650475">,</span>&nbsp;<span class="num" id="6650477">27</span><span class="op" id="6650479">,</span>&nbsp;<span class="num" id="6650481">27</span><span class="op" id="6650483">,</span>&nbsp;<span class="num" id="6650485">28</span><span class="op" id="6650487">,</span>&nbsp;<span class="num" id="6650489">28</span><span class="op" id="6650491">,</span>&nbsp;<span class="num" id="6650493">29</span><span class="op" id="6650495">,</span>&nbsp;<span class="num" id="6650497">29</span><span class="op" id="6650499">,</span>&nbsp;<span class="num" id="6650501">30</span><span class="op" id="6650503">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6650508">30</span><span class="op" id="6650510">,</span>&nbsp;<span class="num" id="6650512">31</span><span class="op" id="6650514">,</span>&nbsp;<span class="num" id="6650516">31</span><span class="op" id="6650518">,</span>&nbsp;<span class="num" id="6650520">32</span><span class="op" id="6650522">,</span>&nbsp;<span class="num" id="6650524">32</span><span class="op" id="6650526">,</span>&nbsp;<span class="num" id="6650528">33</span><span class="op" id="6650530">,</span>&nbsp;<span class="num" id="6650532">33</span><span class="op" id="6650534">,</span>&nbsp;<span class="num" id="6650536">34</span><span class="op" id="6650538">,</span>&nbsp;<span class="num" id="6650540">34</span><span class="op" id="6650542">,</span>&nbsp;<span class="num" id="6650544">35</span><span class="op" id="6650546">,</span>&nbsp;<span class="num" id="6650548">35</span><span class="op" id="6650550">,</span>&nbsp;<span class="num" id="6650552">36</span><span class="op" id="6650554">)</span><span class="op" id="6650555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650558">}</span><span class="op" id="6650559">,</span><br>
<span class="lineno"></span><span class="op" id="6650561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6650564">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="6650642">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="6650702">func</span>&nbsp;<span class="ident" id="6650707">build</span><span class="op" id="6650712">(</span><span class="ident" id="6650713">n</span>&nbsp;<span class="builtintype" id="6650715">int</span><span class="op" id="6650718">,</span>&nbsp;<span class="ident" id="6650720">x</span>&nbsp;<span class="op" id="6650722">...</span><span class="builtintype" id="6650725">int</span><span class="op" id="6650728">)</span>&nbsp;<span class="op" id="6650730">[</span><span class="op" id="6650731">]</span><span class="op" id="6650732">[</span><span class="op" id="6650733">]</span><span class="builtintype" id="6650734">int</span>&nbsp;<span class="op" id="6650738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650741">ret</span>&nbsp;<span class="op" id="6650745">:=</span>&nbsp;<span class="builtinfunc" id="6650748">make</span><span class="op" id="6650752">(</span><span class="op" id="6650753">[</span><span class="op" id="6650754">]</span><span class="op" id="6650755">[</span><span class="op" id="6650756">]</span><span class="builtintype" id="6650757">int</span><span class="op" id="6650760">,</span>&nbsp;<span class="ident" id="6650762">n</span><span class="op" id="6650763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650766">runLength</span>&nbsp;<span class="op" id="6650776">:=</span>&nbsp;<span class="builtinfunc" id="6650779">len</span><span class="op" id="6650782">(</span><span class="ident" id="6650783">x</span><span class="op" id="6650784">)</span>&nbsp;<span class="op" id="6650786">/</span>&nbsp;<span class="ident" id="6650788">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650791">j</span>&nbsp;<span class="op" id="6650793">:=</span>&nbsp;<span class="num" id="6650796">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650799">for</span>&nbsp;<span class="ident" id="6650803">i</span>&nbsp;<span class="op" id="6650805">:=</span>&nbsp;<span class="keyword" id="6650808">range</span>&nbsp;<span class="ident" id="6650814">ret</span>&nbsp;<span class="op" id="6650818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650822">ret</span><span class="op" id="6650825">[</span><span class="ident" id="6650826">i</span><span class="op" id="6650827">]</span>&nbsp;<span class="op" id="6650829">=</span>&nbsp;<span class="builtinfunc" id="6650831">make</span><span class="op" id="6650835">(</span><span class="op" id="6650836">[</span><span class="op" id="6650837">]</span><span class="builtintype" id="6650838">int</span><span class="op" id="6650841">,</span>&nbsp;<span class="ident" id="6650843">runLength</span><span class="op" id="6650852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6650856">copy</span><span class="op" id="6650860">(</span><span class="ident" id="6650861">ret</span><span class="op" id="6650864">[</span><span class="ident" id="6650865">i</span><span class="op" id="6650866">]</span><span class="op" id="6650867">,</span>&nbsp;<span class="ident" id="6650869">x</span><span class="op" id="6650870">[</span><span class="ident" id="6650871">j</span><span class="op" id="6650872">:</span><span class="op" id="6650873">]</span><span class="op" id="6650874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650878">j</span>&nbsp;<span class="op" id="6650880">+=</span>&nbsp;<span class="ident" id="6650883">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650895">if</span>&nbsp;<span class="ident" id="6650898">j</span>&nbsp;<span class="op" id="6650900">&gt;</span>&nbsp;<span class="builtinfunc" id="6650902">len</span><span class="op" id="6650905">(</span><span class="ident" id="6650906">x</span><span class="op" id="6650907">)</span>&nbsp;<span class="op" id="6650909">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6650914">panic</span><span class="op" id="6650919">(</span><span class="string" id="6650920">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="6650941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650951">return</span>&nbsp;<span class="ident" id="6650958">ret</span><br>
<span class="lineno"></span><span class="op" id="6650962">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="6650965">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6650993">func</span>&nbsp;<span class="ident" id="6650998">TestFind</span><span class="op" id="6651006">(</span><span class="ident" id="6651007">t</span>&nbsp;<span class="op" id="6651009">*</span><span class="ident" id="6651010">testing</span><span class="op" id="6651017">.</span><span class="ident" id="6651018">T</span><span class="op" id="6651019">)</span>&nbsp;<span class="op" id="6651021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651024">for</span>&nbsp;<span class="ident" id="6651028">_</span><span class="op" id="6651029">,</span>&nbsp;<span class="ident" id="6651031">test</span>&nbsp;<span class="op" id="6651036">:=</span>&nbsp;<span class="keyword" id="6651039">range</span>&nbsp;<span class="ident" id="6651045">findTests</span>&nbsp;<span class="op" id="6651055">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651059">re</span>&nbsp;<span class="op" id="6651062">:=</span>&nbsp;<span class="ident" id="6651065">MustCompile</span><span class="op" id="6651076">(</span><span class="ident" id="6651077">test</span><span class="op" id="6651081">.</span><span class="ident" id="6651082">pat</span><span class="op" id="6651085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651089">if</span>&nbsp;<span class="ident" id="6651092">re</span><span class="op" id="6651094">.</span><span class="ident" id="6651095">String</span><span class="op" id="6651101">(</span><span class="op" id="6651102">)</span>&nbsp;<span class="op" id="6651104">!=</span>&nbsp;<span class="ident" id="6651107">test</span><span class="op" id="6651111">.</span><span class="ident" id="6651112">pat</span>&nbsp;<span class="op" id="6651116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651121">t</span><span class="op" id="6651122">.</span><span class="ident" id="6651123">Errorf</span><span class="op" id="6651129">(</span><span class="string" id="6651130">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="6651163">,</span>&nbsp;<span class="ident" id="6651165">re</span><span class="op" id="6651167">.</span><span class="ident" id="6651168">String</span><span class="op" id="6651174">(</span><span class="op" id="6651175">)</span><span class="op" id="6651176">,</span>&nbsp;<span class="ident" id="6651178">test</span><span class="op" id="6651182">.</span><span class="ident" id="6651183">pat</span><span class="op" id="6651186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651194">result</span>&nbsp;<span class="op" id="6651201">:=</span>&nbsp;<span class="ident" id="6651204">re</span><span class="op" id="6651206">.</span><span class="ident" id="6651207">Find</span><span class="op" id="6651211">(</span><span class="op" id="6651212">[</span><span class="op" id="6651213">]</span><span class="builtintype" id="6651214">byte</span><span class="op" id="6651218">(</span><span class="ident" id="6651219">test</span><span class="op" id="6651223">.</span><span class="ident" id="6651224">text</span><span class="op" id="6651228">)</span><span class="op" id="6651229">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651233">switch</span>&nbsp;<span class="op" id="6651240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651244">case</span>&nbsp;<span class="builtinfunc" id="6651249">len</span><span class="op" id="6651252">(</span><span class="ident" id="6651253">test</span><span class="op" id="6651257">.</span><span class="ident" id="6651258">matches</span><span class="op" id="6651265">)</span>&nbsp;<span class="op" id="6651267">==</span>&nbsp;<span class="num" id="6651270">0</span>&nbsp;<span class="op" id="6651272">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6651275">len</span><span class="op" id="6651278">(</span><span class="ident" id="6651279">result</span><span class="op" id="6651285">)</span>&nbsp;<span class="op" id="6651287">==</span>&nbsp;<span class="num" id="6651290">0</span><span class="op" id="6651291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651296">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651304">case</span>&nbsp;<span class="ident" id="6651309">test</span><span class="op" id="6651313">.</span><span class="ident" id="6651314">matches</span>&nbsp;<span class="op" id="6651322">==</span>&nbsp;<span class="ident" id="6651325">nil</span>&nbsp;<span class="op" id="6651329">&amp;&amp;</span>&nbsp;<span class="ident" id="6651332">result</span>&nbsp;<span class="op" id="6651339">!=</span>&nbsp;<span class="ident" id="6651342">nil</span><span class="op" id="6651345">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651350">t</span><span class="op" id="6651351">.</span><span class="ident" id="6651352">Errorf</span><span class="op" id="6651358">(</span><span class="string" id="6651359">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6651391">,</span>&nbsp;<span class="ident" id="6651393">test</span><span class="op" id="6651397">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651401">case</span>&nbsp;<span class="ident" id="6651406">test</span><span class="op" id="6651410">.</span><span class="ident" id="6651411">matches</span>&nbsp;<span class="op" id="6651419">!=</span>&nbsp;<span class="ident" id="6651422">nil</span>&nbsp;<span class="op" id="6651426">&amp;&amp;</span>&nbsp;<span class="ident" id="6651429">result</span>&nbsp;<span class="op" id="6651436">==</span>&nbsp;<span class="ident" id="6651439">nil</span><span class="op" id="6651442">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651447">t</span><span class="op" id="6651448">.</span><span class="ident" id="6651449">Errorf</span><span class="op" id="6651455">(</span><span class="string" id="6651456">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6651486">,</span>&nbsp;<span class="ident" id="6651488">test</span><span class="op" id="6651492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651496">case</span>&nbsp;<span class="ident" id="6651501">test</span><span class="op" id="6651505">.</span><span class="ident" id="6651506">matches</span>&nbsp;<span class="op" id="6651514">!=</span>&nbsp;<span class="ident" id="6651517">nil</span>&nbsp;<span class="op" id="6651521">&amp;&amp;</span>&nbsp;<span class="ident" id="6651524">result</span>&nbsp;<span class="op" id="6651531">!=</span>&nbsp;<span class="ident" id="6651534">nil</span><span class="op" id="6651537">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651542">expect</span>&nbsp;<span class="op" id="6651549">:=</span>&nbsp;<span class="ident" id="6651552">test</span><span class="op" id="6651556">.</span><span class="ident" id="6651557">text</span><span class="op" id="6651561">[</span><span class="ident" id="6651562">test</span><span class="op" id="6651566">.</span><span class="ident" id="6651567">matches</span><span class="op" id="6651574">[</span><span class="num" id="6651575">0</span><span class="op" id="6651576">]</span><span class="op" id="6651577">[</span><span class="num" id="6651578">0</span><span class="op" id="6651579">]</span><span class="op" id="6651580">:</span><span class="ident" id="6651581">test</span><span class="op" id="6651585">.</span><span class="ident" id="6651586">matches</span><span class="op" id="6651593">[</span><span class="num" id="6651594">0</span><span class="op" id="6651595">]</span><span class="op" id="6651596">[</span><span class="num" id="6651597">1</span><span class="op" id="6651598">]</span><span class="op" id="6651599">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651604">if</span>&nbsp;<span class="ident" id="6651607">expect</span>&nbsp;<span class="op" id="6651614">!=</span>&nbsp;<span class="builtintype" id="6651617">string</span><span class="op" id="6651623">(</span><span class="ident" id="6651624">result</span><span class="op" id="6651630">)</span>&nbsp;<span class="op" id="6651632">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651638">t</span><span class="op" id="6651639">.</span><span class="ident" id="6651640">Errorf</span><span class="op" id="6651646">(</span><span class="string" id="6651647">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6651671">,</span>&nbsp;<span class="ident" id="6651673">expect</span><span class="op" id="6651679">,</span>&nbsp;<span class="ident" id="6651681">result</span><span class="op" id="6651687">,</span>&nbsp;<span class="ident" id="6651689">test</span><span class="op" id="6651693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651705">}</span><br>
<span class="lineno"></span><span class="op" id="6651707">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6651710">func</span>&nbsp;<span class="ident" id="6651715">TestFindString</span><span class="op" id="6651729">(</span><span class="ident" id="6651730">t</span>&nbsp;<span class="op" id="6651732">*</span><span class="ident" id="6651733">testing</span><span class="op" id="6651740">.</span><span class="ident" id="6651741">T</span><span class="op" id="6651742">)</span>&nbsp;<span class="op" id="6651744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651747">for</span>&nbsp;<span class="ident" id="6651751">_</span><span class="op" id="6651752">,</span>&nbsp;<span class="ident" id="6651754">test</span>&nbsp;<span class="op" id="6651759">:=</span>&nbsp;<span class="keyword" id="6651762">range</span>&nbsp;<span class="ident" id="6651768">findTests</span>&nbsp;<span class="op" id="6651778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651782">result</span>&nbsp;<span class="op" id="6651789">:=</span>&nbsp;<span class="ident" id="6651792">MustCompile</span><span class="op" id="6651803">(</span><span class="ident" id="6651804">test</span><span class="op" id="6651808">.</span><span class="ident" id="6651809">pat</span><span class="op" id="6651812">)</span><span class="op" id="6651813">.</span><span class="ident" id="6651814">FindString</span><span class="op" id="6651824">(</span><span class="ident" id="6651825">test</span><span class="op" id="6651829">.</span><span class="ident" id="6651830">text</span><span class="op" id="6651834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651838">switch</span>&nbsp;<span class="op" id="6651845">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651849">case</span>&nbsp;<span class="builtinfunc" id="6651854">len</span><span class="op" id="6651857">(</span><span class="ident" id="6651858">test</span><span class="op" id="6651862">.</span><span class="ident" id="6651863">matches</span><span class="op" id="6651870">)</span>&nbsp;<span class="op" id="6651872">==</span>&nbsp;<span class="num" id="6651875">0</span>&nbsp;<span class="op" id="6651877">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6651880">len</span><span class="op" id="6651883">(</span><span class="ident" id="6651884">result</span><span class="op" id="6651890">)</span>&nbsp;<span class="op" id="6651892">==</span>&nbsp;<span class="num" id="6651895">0</span><span class="op" id="6651896">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651901">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6651909">case</span>&nbsp;<span class="ident" id="6651914">test</span><span class="op" id="6651918">.</span><span class="ident" id="6651919">matches</span>&nbsp;<span class="op" id="6651927">==</span>&nbsp;<span class="ident" id="6651930">nil</span>&nbsp;<span class="op" id="6651934">&amp;&amp;</span>&nbsp;<span class="ident" id="6651937">result</span>&nbsp;<span class="op" id="6651944">!=</span>&nbsp;<span class="string" id="6651947">&#34;&#34;</span><span class="op" id="6651949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651954">t</span><span class="op" id="6651955">.</span><span class="ident" id="6651956">Errorf</span><span class="op" id="6651962">(</span><span class="string" id="6651963">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6651995">,</span>&nbsp;<span class="ident" id="6651997">test</span><span class="op" id="6652001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652005">case</span>&nbsp;<span class="ident" id="6652010">test</span><span class="op" id="6652014">.</span><span class="ident" id="6652015">matches</span>&nbsp;<span class="op" id="6652023">!=</span>&nbsp;<span class="ident" id="6652026">nil</span>&nbsp;<span class="op" id="6652030">&amp;&amp;</span>&nbsp;<span class="ident" id="6652033">result</span>&nbsp;<span class="op" id="6652040">==</span>&nbsp;<span class="string" id="6652043">&#34;&#34;</span><span class="op" id="6652045">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652050">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652130">if</span>&nbsp;<span class="ident" id="6652133">test</span><span class="op" id="6652137">.</span><span class="ident" id="6652138">matches</span><span class="op" id="6652145">[</span><span class="num" id="6652146">0</span><span class="op" id="6652147">]</span><span class="op" id="6652148">[</span><span class="num" id="6652149">0</span><span class="op" id="6652150">]</span>&nbsp;<span class="op" id="6652152">!=</span>&nbsp;<span class="ident" id="6652155">test</span><span class="op" id="6652159">.</span><span class="ident" id="6652160">matches</span><span class="op" id="6652167">[</span><span class="num" id="6652168">0</span><span class="op" id="6652169">]</span><span class="op" id="6652170">[</span><span class="num" id="6652171">1</span><span class="op" id="6652172">]</span>&nbsp;<span class="op" id="6652174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652180">t</span><span class="op" id="6652181">.</span><span class="ident" id="6652182">Errorf</span><span class="op" id="6652188">(</span><span class="string" id="6652189">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6652219">,</span>&nbsp;<span class="ident" id="6652221">test</span><span class="op" id="6652225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652234">case</span>&nbsp;<span class="ident" id="6652239">test</span><span class="op" id="6652243">.</span><span class="ident" id="6652244">matches</span>&nbsp;<span class="op" id="6652252">!=</span>&nbsp;<span class="ident" id="6652255">nil</span>&nbsp;<span class="op" id="6652259">&amp;&amp;</span>&nbsp;<span class="ident" id="6652262">result</span>&nbsp;<span class="op" id="6652269">!=</span>&nbsp;<span class="string" id="6652272">&#34;&#34;</span><span class="op" id="6652274">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652279">expect</span>&nbsp;<span class="op" id="6652286">:=</span>&nbsp;<span class="ident" id="6652289">test</span><span class="op" id="6652293">.</span><span class="ident" id="6652294">text</span><span class="op" id="6652298">[</span><span class="ident" id="6652299">test</span><span class="op" id="6652303">.</span><span class="ident" id="6652304">matches</span><span class="op" id="6652311">[</span><span class="num" id="6652312">0</span><span class="op" id="6652313">]</span><span class="op" id="6652314">[</span><span class="num" id="6652315">0</span><span class="op" id="6652316">]</span><span class="op" id="6652317">:</span><span class="ident" id="6652318">test</span><span class="op" id="6652322">.</span><span class="ident" id="6652323">matches</span><span class="op" id="6652330">[</span><span class="num" id="6652331">0</span><span class="op" id="6652332">]</span><span class="op" id="6652333">[</span><span class="num" id="6652334">1</span><span class="op" id="6652335">]</span><span class="op" id="6652336">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652341">if</span>&nbsp;<span class="ident" id="6652344">expect</span>&nbsp;<span class="op" id="6652351">!=</span>&nbsp;<span class="ident" id="6652354">result</span>&nbsp;<span class="op" id="6652361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652367">t</span><span class="op" id="6652368">.</span><span class="ident" id="6652369">Errorf</span><span class="op" id="6652375">(</span><span class="string" id="6652376">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6652400">,</span>&nbsp;<span class="ident" id="6652402">expect</span><span class="op" id="6652408">,</span>&nbsp;<span class="ident" id="6652410">result</span><span class="op" id="6652416">,</span>&nbsp;<span class="ident" id="6652418">test</span><span class="op" id="6652422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652431">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652434">}</span><br>
<span class="lineno"></span><span class="op" id="6652436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6652439">func</span>&nbsp;<span class="ident" id="6652444">testFindIndex</span><span class="op" id="6652457">(</span><span class="ident" id="6652458">test</span>&nbsp;<span class="op" id="6652463">*</span><span class="ident" id="6652464">FindTest</span><span class="op" id="6652472">,</span>&nbsp;<span class="ident" id="6652474">result</span>&nbsp;<span class="op" id="6652481">[</span><span class="op" id="6652482">]</span><span class="builtintype" id="6652483">int</span><span class="op" id="6652486">,</span>&nbsp;<span class="ident" id="6652488">t</span>&nbsp;<span class="op" id="6652490">*</span><span class="ident" id="6652491">testing</span><span class="op" id="6652498">.</span><span class="ident" id="6652499">T</span><span class="op" id="6652500">)</span>&nbsp;<span class="op" id="6652502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652505">switch</span>&nbsp;<span class="op" id="6652512">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652515">case</span>&nbsp;<span class="builtinfunc" id="6652520">len</span><span class="op" id="6652523">(</span><span class="ident" id="6652524">test</span><span class="op" id="6652528">.</span><span class="ident" id="6652529">matches</span><span class="op" id="6652536">)</span>&nbsp;<span class="op" id="6652538">==</span>&nbsp;<span class="num" id="6652541">0</span>&nbsp;<span class="op" id="6652543">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6652546">len</span><span class="op" id="6652549">(</span><span class="ident" id="6652550">result</span><span class="op" id="6652556">)</span>&nbsp;<span class="op" id="6652558">==</span>&nbsp;<span class="num" id="6652561">0</span><span class="op" id="6652562">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652566">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652573">case</span>&nbsp;<span class="ident" id="6652578">test</span><span class="op" id="6652582">.</span><span class="ident" id="6652583">matches</span>&nbsp;<span class="op" id="6652591">==</span>&nbsp;<span class="ident" id="6652594">nil</span>&nbsp;<span class="op" id="6652598">&amp;&amp;</span>&nbsp;<span class="ident" id="6652601">result</span>&nbsp;<span class="op" id="6652608">!=</span>&nbsp;<span class="ident" id="6652611">nil</span><span class="op" id="6652614">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652618">t</span><span class="op" id="6652619">.</span><span class="ident" id="6652620">Errorf</span><span class="op" id="6652626">(</span><span class="string" id="6652627">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6652659">,</span>&nbsp;<span class="ident" id="6652661">test</span><span class="op" id="6652665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652668">case</span>&nbsp;<span class="ident" id="6652673">test</span><span class="op" id="6652677">.</span><span class="ident" id="6652678">matches</span>&nbsp;<span class="op" id="6652686">!=</span>&nbsp;<span class="ident" id="6652689">nil</span>&nbsp;<span class="op" id="6652693">&amp;&amp;</span>&nbsp;<span class="ident" id="6652696">result</span>&nbsp;<span class="op" id="6652703">==</span>&nbsp;<span class="ident" id="6652706">nil</span><span class="op" id="6652709">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652713">t</span><span class="op" id="6652714">.</span><span class="ident" id="6652715">Errorf</span><span class="op" id="6652721">(</span><span class="string" id="6652722">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6652752">,</span>&nbsp;<span class="ident" id="6652754">test</span><span class="op" id="6652758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652761">case</span>&nbsp;<span class="ident" id="6652766">test</span><span class="op" id="6652770">.</span><span class="ident" id="6652771">matches</span>&nbsp;<span class="op" id="6652779">!=</span>&nbsp;<span class="ident" id="6652782">nil</span>&nbsp;<span class="op" id="6652786">&amp;&amp;</span>&nbsp;<span class="ident" id="6652789">result</span>&nbsp;<span class="op" id="6652796">!=</span>&nbsp;<span class="ident" id="6652799">nil</span><span class="op" id="6652802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652806">expect</span>&nbsp;<span class="op" id="6652813">:=</span>&nbsp;<span class="ident" id="6652816">test</span><span class="op" id="6652820">.</span><span class="ident" id="6652821">matches</span><span class="op" id="6652828">[</span><span class="num" id="6652829">0</span><span class="op" id="6652830">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652834">if</span>&nbsp;<span class="ident" id="6652837">expect</span><span class="op" id="6652843">[</span><span class="num" id="6652844">0</span><span class="op" id="6652845">]</span>&nbsp;<span class="op" id="6652847">!=</span>&nbsp;<span class="ident" id="6652850">result</span><span class="op" id="6652856">[</span><span class="num" id="6652857">0</span><span class="op" id="6652858">]</span>&nbsp;<span class="op" id="6652860">||</span>&nbsp;<span class="ident" id="6652863">expect</span><span class="op" id="6652869">[</span><span class="num" id="6652870">1</span><span class="op" id="6652871">]</span>&nbsp;<span class="op" id="6652873">!=</span>&nbsp;<span class="ident" id="6652876">result</span><span class="op" id="6652882">[</span><span class="num" id="6652883">1</span><span class="op" id="6652884">]</span>&nbsp;<span class="op" id="6652886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652891">t</span><span class="op" id="6652892">.</span><span class="ident" id="6652893">Errorf</span><span class="op" id="6652899">(</span><span class="string" id="6652900">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6652924">,</span>&nbsp;<span class="ident" id="6652926">expect</span><span class="op" id="6652932">,</span>&nbsp;<span class="ident" id="6652934">result</span><span class="op" id="6652940">,</span>&nbsp;<span class="ident" id="6652942">test</span><span class="op" id="6652946">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652953">}</span><br>
<span class="lineno"></span><span class="op" id="6652955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6652958">func</span>&nbsp;<span class="ident" id="6652963">TestFindIndex</span><span class="op" id="6652976">(</span><span class="ident" id="6652977">t</span>&nbsp;<span class="op" id="6652979">*</span><span class="ident" id="6652980">testing</span><span class="op" id="6652987">.</span><span class="ident" id="6652988">T</span><span class="op" id="6652989">)</span>&nbsp;<span class="op" id="6652991">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652994">for</span>&nbsp;<span class="ident" id="6652998">_</span><span class="op" id="6652999">,</span>&nbsp;<span class="ident" id="6653001">test</span>&nbsp;<span class="op" id="6653006">:=</span>&nbsp;<span class="keyword" id="6653009">range</span>&nbsp;<span class="ident" id="6653015">findTests</span>&nbsp;<span class="op" id="6653025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653029">testFindIndex</span><span class="op" id="6653042">(</span><span class="op" id="6653043">&amp;</span><span class="ident" id="6653044">test</span><span class="op" id="6653048">,</span>&nbsp;<span class="ident" id="6653050">MustCompile</span><span class="op" id="6653061">(</span><span class="ident" id="6653062">test</span><span class="op" id="6653066">.</span><span class="ident" id="6653067">pat</span><span class="op" id="6653070">)</span><span class="op" id="6653071">.</span><span class="ident" id="6653072">FindIndex</span><span class="op" id="6653081">(</span><span class="op" id="6653082">[</span><span class="op" id="6653083">]</span><span class="builtintype" id="6653084">byte</span><span class="op" id="6653088">(</span><span class="ident" id="6653089">test</span><span class="op" id="6653093">.</span><span class="ident" id="6653094">text</span><span class="op" id="6653098">)</span><span class="op" id="6653099">)</span><span class="op" id="6653100">,</span>&nbsp;<span class="ident" id="6653102">t</span><span class="op" id="6653103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653106">}</span><br>
<span class="lineno"></span><span class="op" id="6653108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="6653111">func</span>&nbsp;<span class="ident" id="6653116">TestFindStringIndex</span><span class="op" id="6653135">(</span><span class="ident" id="6653136">t</span>&nbsp;<span class="op" id="6653138">*</span><span class="ident" id="6653139">testing</span><span class="op" id="6653146">.</span><span class="ident" id="6653147">T</span><span class="op" id="6653148">)</span>&nbsp;<span class="op" id="6653150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653153">for</span>&nbsp;<span class="ident" id="6653157">_</span><span class="op" id="6653158">,</span>&nbsp;<span class="ident" id="6653160">test</span>&nbsp;<span class="op" id="6653165">:=</span>&nbsp;<span class="keyword" id="6653168">range</span>&nbsp;<span class="ident" id="6653174">findTests</span>&nbsp;<span class="op" id="6653184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653188">testFindIndex</span><span class="op" id="6653201">(</span><span class="op" id="6653202">&amp;</span><span class="ident" id="6653203">test</span><span class="op" id="6653207">,</span>&nbsp;<span class="ident" id="6653209">MustCompile</span><span class="op" id="6653220">(</span><span class="ident" id="6653221">test</span><span class="op" id="6653225">.</span><span class="ident" id="6653226">pat</span><span class="op" id="6653229">)</span><span class="op" id="6653230">.</span><span class="ident" id="6653231">FindStringIndex</span><span class="op" id="6653246">(</span><span class="ident" id="6653247">test</span><span class="op" id="6653251">.</span><span class="ident" id="6653252">text</span><span class="op" id="6653256">)</span><span class="op" id="6653257">,</span>&nbsp;<span class="ident" id="6653259">t</span><span class="op" id="6653260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653263">}</span><br>
<span class="lineno"></span><span class="op" id="6653265">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="6653268">func</span>&nbsp;<span class="ident" id="6653273">TestFindReaderIndex</span><span class="op" id="6653292">(</span><span class="ident" id="6653293">t</span>&nbsp;<span class="op" id="6653295">*</span><span class="ident" id="6653296">testing</span><span class="op" id="6653303">.</span><span class="ident" id="6653304">T</span><span class="op" id="6653305">)</span>&nbsp;<span class="op" id="6653307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653310">for</span>&nbsp;<span class="ident" id="6653314">_</span><span class="op" id="6653315">,</span>&nbsp;<span class="ident" id="6653317">test</span>&nbsp;<span class="op" id="6653322">:=</span>&nbsp;<span class="keyword" id="6653325">range</span>&nbsp;<span class="ident" id="6653331">findTests</span>&nbsp;<span class="op" id="6653341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653345">testFindIndex</span><span class="op" id="6653358">(</span><span class="op" id="6653359">&amp;</span><span class="ident" id="6653360">test</span><span class="op" id="6653364">,</span>&nbsp;<span class="ident" id="6653366">MustCompile</span><span class="op" id="6653377">(</span><span class="ident" id="6653378">test</span><span class="op" id="6653382">.</span><span class="ident" id="6653383">pat</span><span class="op" id="6653386">)</span><span class="op" id="6653387">.</span><span class="ident" id="6653388">FindReaderIndex</span><span class="op" id="6653403">(</span><span class="ident" id="6653404">strings</span><span class="op" id="6653411">.</span><span class="ident" id="6653412">NewReader</span><span class="op" id="6653421">(</span><span class="ident" id="6653422">test</span><span class="op" id="6653426">.</span><span class="ident" id="6653427">text</span><span class="op" id="6653431">)</span><span class="op" id="6653432">)</span><span class="op" id="6653433">,</span>&nbsp;<span class="ident" id="6653435">t</span><span class="op" id="6653436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653439">}</span><br>
<span class="lineno">225</span><span class="op" id="6653441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6653444">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6653479">func</span>&nbsp;<span class="ident" id="6653484">TestFindAll</span><span class="op" id="6653495">(</span><span class="ident" id="6653496">t</span>&nbsp;<span class="op" id="6653498">*</span><span class="ident" id="6653499">testing</span><span class="op" id="6653506">.</span><span class="ident" id="6653507">T</span><span class="op" id="6653508">)</span>&nbsp;<span class="op" id="6653510">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653513">for</span>&nbsp;<span class="ident" id="6653517">_</span><span class="op" id="6653518">,</span>&nbsp;<span class="ident" id="6653520">test</span>&nbsp;<span class="op" id="6653525">:=</span>&nbsp;<span class="keyword" id="6653528">range</span>&nbsp;<span class="ident" id="6653534">findTests</span>&nbsp;<span class="op" id="6653544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653548">result</span>&nbsp;<span class="op" id="6653555">:=</span>&nbsp;<span class="ident" id="6653558">MustCompile</span><span class="op" id="6653569">(</span><span class="ident" id="6653570">test</span><span class="op" id="6653574">.</span><span class="ident" id="6653575">pat</span><span class="op" id="6653578">)</span><span class="op" id="6653579">.</span><span class="ident" id="6653580">FindAll</span><span class="op" id="6653587">(</span><span class="op" id="6653588">[</span><span class="op" id="6653589">]</span><span class="builtintype" id="6653590">byte</span><span class="op" id="6653594">(</span><span class="ident" id="6653595">test</span><span class="op" id="6653599">.</span><span class="ident" id="6653600">text</span><span class="op" id="6653604">)</span><span class="op" id="6653605">,</span>&nbsp;<span class="op" id="6653607">-</span><span class="num" id="6653608">1</span><span class="op" id="6653609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653613">switch</span>&nbsp;<span class="op" id="6653620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653624">case</span>&nbsp;<span class="ident" id="6653629">test</span><span class="op" id="6653633">.</span><span class="ident" id="6653634">matches</span>&nbsp;<span class="op" id="6653642">==</span>&nbsp;<span class="ident" id="6653645">nil</span>&nbsp;<span class="op" id="6653649">&amp;&amp;</span>&nbsp;<span class="ident" id="6653652">result</span>&nbsp;<span class="op" id="6653659">==</span>&nbsp;<span class="ident" id="6653662">nil</span><span class="op" id="6653665">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6653670">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653678">case</span>&nbsp;<span class="ident" id="6653683">test</span><span class="op" id="6653687">.</span><span class="ident" id="6653688">matches</span>&nbsp;<span class="op" id="6653696">==</span>&nbsp;<span class="ident" id="6653699">nil</span>&nbsp;<span class="op" id="6653703">&amp;&amp;</span>&nbsp;<span class="ident" id="6653706">result</span>&nbsp;<span class="op" id="6653713">!=</span>&nbsp;<span class="ident" id="6653716">nil</span><span class="op" id="6653719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653724">t</span><span class="op" id="6653725">.</span><span class="ident" id="6653726">Errorf</span><span class="op" id="6653732">(</span><span class="string" id="6653733">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6653765">,</span>&nbsp;<span class="ident" id="6653767">test</span><span class="op" id="6653771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653775">case</span>&nbsp;<span class="ident" id="6653780">test</span><span class="op" id="6653784">.</span><span class="ident" id="6653785">matches</span>&nbsp;<span class="op" id="6653793">!=</span>&nbsp;<span class="ident" id="6653796">nil</span>&nbsp;<span class="op" id="6653800">&amp;&amp;</span>&nbsp;<span class="ident" id="6653803">result</span>&nbsp;<span class="op" id="6653810">==</span>&nbsp;<span class="ident" id="6653813">nil</span><span class="op" id="6653816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653821">t</span><span class="op" id="6653822">.</span><span class="ident" id="6653823">Fatalf</span><span class="op" id="6653829">(</span><span class="string" id="6653830">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6653860">,</span>&nbsp;<span class="ident" id="6653862">test</span><span class="op" id="6653866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653870">case</span>&nbsp;<span class="ident" id="6653875">test</span><span class="op" id="6653879">.</span><span class="ident" id="6653880">matches</span>&nbsp;<span class="op" id="6653888">!=</span>&nbsp;<span class="ident" id="6653891">nil</span>&nbsp;<span class="op" id="6653895">&amp;&amp;</span>&nbsp;<span class="ident" id="6653898">result</span>&nbsp;<span class="op" id="6653905">!=</span>&nbsp;<span class="ident" id="6653908">nil</span><span class="op" id="6653911">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653916">if</span>&nbsp;<span class="builtinfunc" id="6653919">len</span><span class="op" id="6653922">(</span><span class="ident" id="6653923">test</span><span class="op" id="6653927">.</span><span class="ident" id="6653928">matches</span><span class="op" id="6653935">)</span>&nbsp;<span class="op" id="6653937">!=</span>&nbsp;<span class="builtinfunc" id="6653940">len</span><span class="op" id="6653943">(</span><span class="ident" id="6653944">result</span><span class="op" id="6653950">)</span>&nbsp;<span class="op" id="6653952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653958">t</span><span class="op" id="6653959">.</span><span class="ident" id="6653960">Errorf</span><span class="op" id="6653966">(</span><span class="string" id="6653967">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6654000">,</span>&nbsp;<span class="builtinfunc" id="6654002">len</span><span class="op" id="6654005">(</span><span class="ident" id="6654006">test</span><span class="op" id="6654010">.</span><span class="ident" id="6654011">matches</span><span class="op" id="6654018">)</span><span class="op" id="6654019">,</span>&nbsp;<span class="builtinfunc" id="6654021">len</span><span class="op" id="6654024">(</span><span class="ident" id="6654025">result</span><span class="op" id="6654031">)</span><span class="op" id="6654032">,</span>&nbsp;<span class="ident" id="6654034">test</span><span class="op" id="6654038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654044">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654061">for</span>&nbsp;<span class="ident" id="6654065">k</span><span class="op" id="6654066">,</span>&nbsp;<span class="ident" id="6654068">e</span>&nbsp;<span class="op" id="6654070">:=</span>&nbsp;<span class="keyword" id="6654073">range</span>&nbsp;<span class="ident" id="6654079">test</span><span class="op" id="6654083">.</span><span class="ident" id="6654084">matches</span>&nbsp;<span class="op" id="6654092">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654098">expect</span>&nbsp;<span class="op" id="6654105">:=</span>&nbsp;<span class="ident" id="6654108">test</span><span class="op" id="6654112">.</span><span class="ident" id="6654113">text</span><span class="op" id="6654117">[</span><span class="ident" id="6654118">e</span><span class="op" id="6654119">[</span><span class="num" id="6654120">0</span><span class="op" id="6654121">]</span><span class="op" id="6654122">:</span><span class="ident" id="6654123">e</span><span class="op" id="6654124">[</span><span class="num" id="6654125">1</span><span class="op" id="6654126">]</span><span class="op" id="6654127">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654133">if</span>&nbsp;<span class="ident" id="6654136">expect</span>&nbsp;<span class="op" id="6654143">!=</span>&nbsp;<span class="builtintype" id="6654146">string</span><span class="op" id="6654152">(</span><span class="ident" id="6654153">result</span><span class="op" id="6654159">[</span><span class="ident" id="6654160">k</span><span class="op" id="6654161">]</span><span class="op" id="6654162">)</span>&nbsp;<span class="op" id="6654164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654171">t</span><span class="op" id="6654172">.</span><span class="ident" id="6654173">Errorf</span><span class="op" id="6654179">(</span><span class="string" id="6654180">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6654214">,</span>&nbsp;<span class="ident" id="6654216">k</span><span class="op" id="6654217">,</span>&nbsp;<span class="ident" id="6654219">expect</span><span class="op" id="6654225">,</span>&nbsp;<span class="ident" id="6654227">result</span><span class="op" id="6654233">[</span><span class="ident" id="6654234">k</span><span class="op" id="6654235">]</span><span class="op" id="6654236">,</span>&nbsp;<span class="ident" id="6654238">test</span><span class="op" id="6654242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654253">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654260">}</span><br>
<span class="lineno"></span><span class="op" id="6654262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6654265">func</span>&nbsp;<span class="ident" id="6654270">TestFindAllString</span><span class="op" id="6654287">(</span><span class="ident" id="6654288">t</span>&nbsp;<span class="op" id="6654290">*</span><span class="ident" id="6654291">testing</span><span class="op" id="6654298">.</span><span class="ident" id="6654299">T</span><span class="op" id="6654300">)</span>&nbsp;<span class="op" id="6654302">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654305">for</span>&nbsp;<span class="ident" id="6654309">_</span><span class="op" id="6654310">,</span>&nbsp;<span class="ident" id="6654312">test</span>&nbsp;<span class="op" id="6654317">:=</span>&nbsp;<span class="keyword" id="6654320">range</span>&nbsp;<span class="ident" id="6654326">findTests</span>&nbsp;<span class="op" id="6654336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654340">result</span>&nbsp;<span class="op" id="6654347">:=</span>&nbsp;<span class="ident" id="6654350">MustCompile</span><span class="op" id="6654361">(</span><span class="ident" id="6654362">test</span><span class="op" id="6654366">.</span><span class="ident" id="6654367">pat</span><span class="op" id="6654370">)</span><span class="op" id="6654371">.</span><span class="ident" id="6654372">FindAllString</span><span class="op" id="6654385">(</span><span class="ident" id="6654386">test</span><span class="op" id="6654390">.</span><span class="ident" id="6654391">text</span><span class="op" id="6654395">,</span>&nbsp;<span class="op" id="6654397">-</span><span class="num" id="6654398">1</span><span class="op" id="6654399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654403">switch</span>&nbsp;<span class="op" id="6654410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654414">case</span>&nbsp;<span class="ident" id="6654419">test</span><span class="op" id="6654423">.</span><span class="ident" id="6654424">matches</span>&nbsp;<span class="op" id="6654432">==</span>&nbsp;<span class="ident" id="6654435">nil</span>&nbsp;<span class="op" id="6654439">&amp;&amp;</span>&nbsp;<span class="ident" id="6654442">result</span>&nbsp;<span class="op" id="6654449">==</span>&nbsp;<span class="ident" id="6654452">nil</span><span class="op" id="6654455">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6654460">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654468">case</span>&nbsp;<span class="ident" id="6654473">test</span><span class="op" id="6654477">.</span><span class="ident" id="6654478">matches</span>&nbsp;<span class="op" id="6654486">==</span>&nbsp;<span class="ident" id="6654489">nil</span>&nbsp;<span class="op" id="6654493">&amp;&amp;</span>&nbsp;<span class="ident" id="6654496">result</span>&nbsp;<span class="op" id="6654503">!=</span>&nbsp;<span class="ident" id="6654506">nil</span><span class="op" id="6654509">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654514">t</span><span class="op" id="6654515">.</span><span class="ident" id="6654516">Errorf</span><span class="op" id="6654522">(</span><span class="string" id="6654523">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6654555">,</span>&nbsp;<span class="ident" id="6654557">test</span><span class="op" id="6654561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654565">case</span>&nbsp;<span class="ident" id="6654570">test</span><span class="op" id="6654574">.</span><span class="ident" id="6654575">matches</span>&nbsp;<span class="op" id="6654583">!=</span>&nbsp;<span class="ident" id="6654586">nil</span>&nbsp;<span class="op" id="6654590">&amp;&amp;</span>&nbsp;<span class="ident" id="6654593">result</span>&nbsp;<span class="op" id="6654600">==</span>&nbsp;<span class="ident" id="6654603">nil</span><span class="op" id="6654606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654611">t</span><span class="op" id="6654612">.</span><span class="ident" id="6654613">Errorf</span><span class="op" id="6654619">(</span><span class="string" id="6654620">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6654650">,</span>&nbsp;<span class="ident" id="6654652">test</span><span class="op" id="6654656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654660">case</span>&nbsp;<span class="ident" id="6654665">test</span><span class="op" id="6654669">.</span><span class="ident" id="6654670">matches</span>&nbsp;<span class="op" id="6654678">!=</span>&nbsp;<span class="ident" id="6654681">nil</span>&nbsp;<span class="op" id="6654685">&amp;&amp;</span>&nbsp;<span class="ident" id="6654688">result</span>&nbsp;<span class="op" id="6654695">!=</span>&nbsp;<span class="ident" id="6654698">nil</span><span class="op" id="6654701">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654706">if</span>&nbsp;<span class="builtinfunc" id="6654709">len</span><span class="op" id="6654712">(</span><span class="ident" id="6654713">test</span><span class="op" id="6654717">.</span><span class="ident" id="6654718">matches</span><span class="op" id="6654725">)</span>&nbsp;<span class="op" id="6654727">!=</span>&nbsp;<span class="builtinfunc" id="6654730">len</span><span class="op" id="6654733">(</span><span class="ident" id="6654734">result</span><span class="op" id="6654740">)</span>&nbsp;<span class="op" id="6654742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654748">t</span><span class="op" id="6654749">.</span><span class="ident" id="6654750">Errorf</span><span class="op" id="6654756">(</span><span class="string" id="6654757">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6654790">,</span>&nbsp;<span class="builtinfunc" id="6654792">len</span><span class="op" id="6654795">(</span><span class="ident" id="6654796">test</span><span class="op" id="6654800">.</span><span class="ident" id="6654801">matches</span><span class="op" id="6654808">)</span><span class="op" id="6654809">,</span>&nbsp;<span class="builtinfunc" id="6654811">len</span><span class="op" id="6654814">(</span><span class="ident" id="6654815">result</span><span class="op" id="6654821">)</span><span class="op" id="6654822">,</span>&nbsp;<span class="ident" id="6654824">test</span><span class="op" id="6654828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654834">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6654846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654851">for</span>&nbsp;<span class="ident" id="6654855">k</span><span class="op" id="6654856">,</span>&nbsp;<span class="ident" id="6654858">e</span>&nbsp;<span class="op" id="6654860">:=</span>&nbsp;<span class="keyword" id="6654863">range</span>&nbsp;<span class="ident" id="6654869">test</span><span class="op" id="6654873">.</span><span class="ident" id="6654874">matches</span>&nbsp;<span class="op" id="6654882">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654888">expect</span>&nbsp;<span class="op" id="6654895">:=</span>&nbsp;<span class="ident" id="6654898">test</span><span class="op" id="6654902">.</span><span class="ident" id="6654903">text</span><span class="op" id="6654907">[</span><span class="ident" id="6654908">e</span><span class="op" id="6654909">[</span><span class="num" id="6654910">0</span><span class="op" id="6654911">]</span><span class="op" id="6654912">:</span><span class="ident" id="6654913">e</span><span class="op" id="6654914">[</span><span class="num" id="6654915">1</span><span class="op" id="6654916">]</span><span class="op" id="6654917">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6654923">if</span>&nbsp;<span class="ident" id="6654926">expect</span>&nbsp;<span class="op" id="6654933">!=</span>&nbsp;<span class="ident" id="6654936">result</span><span class="op" id="6654942">[</span><span class="ident" id="6654943">k</span><span class="op" id="6654944">]</span>&nbsp;<span class="op" id="6654946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6654953">t</span><span class="op" id="6654954">.</span><span class="ident" id="6654955">Errorf</span><span class="op" id="6654961">(</span><span class="string" id="6654962">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6654986">,</span>&nbsp;<span class="ident" id="6654988">expect</span><span class="op" id="6654994">,</span>&nbsp;<span class="ident" id="6654996">result</span><span class="op" id="6655002">,</span>&nbsp;<span class="ident" id="6655004">test</span><span class="op" id="6655008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655019">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655026">}</span><br>
<span class="lineno"></span><span class="op" id="6655028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6655031">func</span>&nbsp;<span class="ident" id="6655036">testFindAllIndex</span><span class="op" id="6655052">(</span><span class="ident" id="6655053">test</span>&nbsp;<span class="op" id="6655058">*</span><span class="ident" id="6655059">FindTest</span><span class="op" id="6655067">,</span>&nbsp;<span class="ident" id="6655069">result</span>&nbsp;<span class="op" id="6655076">[</span><span class="op" id="6655077">]</span><span class="op" id="6655078">[</span><span class="op" id="6655079">]</span><span class="builtintype" id="6655080">int</span><span class="op" id="6655083">,</span>&nbsp;<span class="ident" id="6655085">t</span>&nbsp;<span class="op" id="6655087">*</span><span class="ident" id="6655088">testing</span><span class="op" id="6655095">.</span><span class="ident" id="6655096">T</span><span class="op" id="6655097">)</span>&nbsp;<span class="op" id="6655099">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655102">switch</span>&nbsp;<span class="op" id="6655109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655112">case</span>&nbsp;<span class="ident" id="6655117">test</span><span class="op" id="6655121">.</span><span class="ident" id="6655122">matches</span>&nbsp;<span class="op" id="6655130">==</span>&nbsp;<span class="ident" id="6655133">nil</span>&nbsp;<span class="op" id="6655137">&amp;&amp;</span>&nbsp;<span class="ident" id="6655140">result</span>&nbsp;<span class="op" id="6655147">==</span>&nbsp;<span class="ident" id="6655150">nil</span><span class="op" id="6655153">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6655157">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655164">case</span>&nbsp;<span class="ident" id="6655169">test</span><span class="op" id="6655173">.</span><span class="ident" id="6655174">matches</span>&nbsp;<span class="op" id="6655182">==</span>&nbsp;<span class="ident" id="6655185">nil</span>&nbsp;<span class="op" id="6655189">&amp;&amp;</span>&nbsp;<span class="ident" id="6655192">result</span>&nbsp;<span class="op" id="6655199">!=</span>&nbsp;<span class="ident" id="6655202">nil</span><span class="op" id="6655205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655209">t</span><span class="op" id="6655210">.</span><span class="ident" id="6655211">Errorf</span><span class="op" id="6655217">(</span><span class="string" id="6655218">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6655250">,</span>&nbsp;<span class="ident" id="6655252">test</span><span class="op" id="6655256">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655259">case</span>&nbsp;<span class="ident" id="6655264">test</span><span class="op" id="6655268">.</span><span class="ident" id="6655269">matches</span>&nbsp;<span class="op" id="6655277">!=</span>&nbsp;<span class="ident" id="6655280">nil</span>&nbsp;<span class="op" id="6655284">&amp;&amp;</span>&nbsp;<span class="ident" id="6655287">result</span>&nbsp;<span class="op" id="6655294">==</span>&nbsp;<span class="ident" id="6655297">nil</span><span class="op" id="6655300">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655304">t</span><span class="op" id="6655305">.</span><span class="ident" id="6655306">Errorf</span><span class="op" id="6655312">(</span><span class="string" id="6655313">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6655343">,</span>&nbsp;<span class="ident" id="6655345">test</span><span class="op" id="6655349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655352">case</span>&nbsp;<span class="ident" id="6655357">test</span><span class="op" id="6655361">.</span><span class="ident" id="6655362">matches</span>&nbsp;<span class="op" id="6655370">!=</span>&nbsp;<span class="ident" id="6655373">nil</span>&nbsp;<span class="op" id="6655377">&amp;&amp;</span>&nbsp;<span class="ident" id="6655380">result</span>&nbsp;<span class="op" id="6655387">!=</span>&nbsp;<span class="ident" id="6655390">nil</span><span class="op" id="6655393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655397">if</span>&nbsp;<span class="builtinfunc" id="6655400">len</span><span class="op" id="6655403">(</span><span class="ident" id="6655404">test</span><span class="op" id="6655408">.</span><span class="ident" id="6655409">matches</span><span class="op" id="6655416">)</span>&nbsp;<span class="op" id="6655418">!=</span>&nbsp;<span class="builtinfunc" id="6655421">len</span><span class="op" id="6655424">(</span><span class="ident" id="6655425">result</span><span class="op" id="6655431">)</span>&nbsp;<span class="op" id="6655433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655438">t</span><span class="op" id="6655439">.</span><span class="ident" id="6655440">Errorf</span><span class="op" id="6655446">(</span><span class="string" id="6655447">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6655480">,</span>&nbsp;<span class="builtinfunc" id="6655482">len</span><span class="op" id="6655485">(</span><span class="ident" id="6655486">test</span><span class="op" id="6655490">.</span><span class="ident" id="6655491">matches</span><span class="op" id="6655498">)</span><span class="op" id="6655499">,</span>&nbsp;<span class="builtinfunc" id="6655501">len</span><span class="op" id="6655504">(</span><span class="ident" id="6655505">result</span><span class="op" id="6655511">)</span><span class="op" id="6655512">,</span>&nbsp;<span class="ident" id="6655514">test</span><span class="op" id="6655518">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655523">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655536">for</span>&nbsp;<span class="ident" id="6655540">k</span><span class="op" id="6655541">,</span>&nbsp;<span class="ident" id="6655543">e</span>&nbsp;<span class="op" id="6655545">:=</span>&nbsp;<span class="keyword" id="6655548">range</span>&nbsp;<span class="ident" id="6655554">test</span><span class="op" id="6655558">.</span><span class="ident" id="6655559">matches</span>&nbsp;<span class="op" id="6655567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655572">if</span>&nbsp;<span class="ident" id="6655575">e</span><span class="op" id="6655576">[</span><span class="num" id="6655577">0</span><span class="op" id="6655578">]</span>&nbsp;<span class="op" id="6655580">!=</span>&nbsp;<span class="ident" id="6655583">result</span><span class="op" id="6655589">[</span><span class="ident" id="6655590">k</span><span class="op" id="6655591">]</span><span class="op" id="6655592">[</span><span class="num" id="6655593">0</span><span class="op" id="6655594">]</span>&nbsp;<span class="op" id="6655596">||</span>&nbsp;<span class="ident" id="6655599">e</span><span class="op" id="6655600">[</span><span class="num" id="6655601">1</span><span class="op" id="6655602">]</span>&nbsp;<span class="op" id="6655604">!=</span>&nbsp;<span class="ident" id="6655607">result</span><span class="op" id="6655613">[</span><span class="ident" id="6655614">k</span><span class="op" id="6655615">]</span><span class="op" id="6655616">[</span><span class="num" id="6655617">1</span><span class="op" id="6655618">]</span>&nbsp;<span class="op" id="6655620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655626">t</span><span class="op" id="6655627">.</span><span class="ident" id="6655628">Errorf</span><span class="op" id="6655634">(</span><span class="string" id="6655635">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6655669">,</span>&nbsp;<span class="ident" id="6655671">k</span><span class="op" id="6655672">,</span>&nbsp;<span class="ident" id="6655674">e</span><span class="op" id="6655675">,</span>&nbsp;<span class="ident" id="6655677">result</span><span class="op" id="6655683">[</span><span class="ident" id="6655684">k</span><span class="op" id="6655685">]</span><span class="op" id="6655686">,</span>&nbsp;<span class="ident" id="6655688">test</span><span class="op" id="6655692">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655704">}</span><br>
<span class="lineno"></span><span class="op" id="6655706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="6655709">func</span>&nbsp;<span class="ident" id="6655714">TestFindAllIndex</span><span class="op" id="6655730">(</span><span class="ident" id="6655731">t</span>&nbsp;<span class="op" id="6655733">*</span><span class="ident" id="6655734">testing</span><span class="op" id="6655741">.</span><span class="ident" id="6655742">T</span><span class="op" id="6655743">)</span>&nbsp;<span class="op" id="6655745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655748">for</span>&nbsp;<span class="ident" id="6655752">_</span><span class="op" id="6655753">,</span>&nbsp;<span class="ident" id="6655755">test</span>&nbsp;<span class="op" id="6655760">:=</span>&nbsp;<span class="keyword" id="6655763">range</span>&nbsp;<span class="ident" id="6655769">findTests</span>&nbsp;<span class="op" id="6655779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655783">testFindAllIndex</span><span class="op" id="6655799">(</span><span class="op" id="6655800">&amp;</span><span class="ident" id="6655801">test</span><span class="op" id="6655805">,</span>&nbsp;<span class="ident" id="6655807">MustCompile</span><span class="op" id="6655818">(</span><span class="ident" id="6655819">test</span><span class="op" id="6655823">.</span><span class="ident" id="6655824">pat</span><span class="op" id="6655827">)</span><span class="op" id="6655828">.</span><span class="ident" id="6655829">FindAllIndex</span><span class="op" id="6655841">(</span><span class="op" id="6655842">[</span><span class="op" id="6655843">]</span><span class="builtintype" id="6655844">byte</span><span class="op" id="6655848">(</span><span class="ident" id="6655849">test</span><span class="op" id="6655853">.</span><span class="ident" id="6655854">text</span><span class="op" id="6655858">)</span><span class="op" id="6655859">,</span>&nbsp;<span class="op" id="6655861">-</span><span class="num" id="6655862">1</span><span class="op" id="6655863">)</span><span class="op" id="6655864">,</span>&nbsp;<span class="ident" id="6655866">t</span><span class="op" id="6655867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6655870">}</span><br>
<span class="lineno"></span><span class="op" id="6655872">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6655875">func</span>&nbsp;<span class="ident" id="6655880">TestFindAllStringIndex</span><span class="op" id="6655902">(</span><span class="ident" id="6655903">t</span>&nbsp;<span class="op" id="6655905">*</span><span class="ident" id="6655906">testing</span><span class="op" id="6655913">.</span><span class="ident" id="6655914">T</span><span class="op" id="6655915">)</span>&nbsp;<span class="op" id="6655917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6655920">for</span>&nbsp;<span class="ident" id="6655924">_</span><span class="op" id="6655925">,</span>&nbsp;<span class="ident" id="6655927">test</span>&nbsp;<span class="op" id="6655932">:=</span>&nbsp;<span class="keyword" id="6655935">range</span>&nbsp;<span class="ident" id="6655941">findTests</span>&nbsp;<span class="op" id="6655951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6655955">testFindAllIndex</span><span class="op" id="6655971">(</span><span class="op" id="6655972">&amp;</span><span class="ident" id="6655973">test</span><span class="op" id="6655977">,</span>&nbsp;<span class="ident" id="6655979">MustCompile</span><span class="op" id="6655990">(</span><span class="ident" id="6655991">test</span><span class="op" id="6655995">.</span><span class="ident" id="6655996">pat</span><span class="op" id="6655999">)</span><span class="op" id="6656000">.</span><span class="ident" id="6656001">FindAllStringIndex</span><span class="op" id="6656019">(</span><span class="ident" id="6656020">test</span><span class="op" id="6656024">.</span><span class="ident" id="6656025">text</span><span class="op" id="6656029">,</span>&nbsp;<span class="op" id="6656031">-</span><span class="num" id="6656032">1</span><span class="op" id="6656033">)</span><span class="op" id="6656034">,</span>&nbsp;<span class="ident" id="6656036">t</span><span class="op" id="6656037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656040">}</span><br>
<span class="lineno">310</span><span class="op" id="6656042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6656045">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6656078">func</span>&nbsp;<span class="ident" id="6656083">testSubmatchBytes</span><span class="op" id="6656100">(</span><span class="ident" id="6656101">test</span>&nbsp;<span class="op" id="6656106">*</span><span class="ident" id="6656107">FindTest</span><span class="op" id="6656115">,</span>&nbsp;<span class="ident" id="6656117">n</span>&nbsp;<span class="builtintype" id="6656119">int</span><span class="op" id="6656122">,</span>&nbsp;<span class="ident" id="6656124">submatches</span>&nbsp;<span class="op" id="6656135">[</span><span class="op" id="6656136">]</span><span class="builtintype" id="6656137">int</span><span class="op" id="6656140">,</span>&nbsp;<span class="ident" id="6656142">result</span>&nbsp;<span class="op" id="6656149">[</span><span class="op" id="6656150">]</span><span class="op" id="6656151">[</span><span class="op" id="6656152">]</span><span class="builtintype" id="6656153">byte</span><span class="op" id="6656157">,</span>&nbsp;<span class="ident" id="6656159">t</span>&nbsp;<span class="op" id="6656161">*</span><span class="ident" id="6656162">testing</span><span class="op" id="6656169">.</span><span class="ident" id="6656170">T</span><span class="op" id="6656171">)</span>&nbsp;<span class="op" id="6656173">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656176">if</span>&nbsp;<span class="builtinfunc" id="6656179">len</span><span class="op" id="6656182">(</span><span class="ident" id="6656183">submatches</span><span class="op" id="6656193">)</span>&nbsp;<span class="op" id="6656195">!=</span>&nbsp;<span class="builtinfunc" id="6656198">len</span><span class="op" id="6656201">(</span><span class="ident" id="6656202">result</span><span class="op" id="6656208">)</span><span class="op" id="6656209">*</span><span class="num" id="6656210">2</span>&nbsp;<span class="op" id="6656212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656216">t</span><span class="op" id="6656217">.</span><span class="ident" id="6656218">Errorf</span><span class="op" id="6656224">(</span><span class="string" id="6656225">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6656271">,</span>&nbsp;<span class="ident" id="6656273">n</span><span class="op" id="6656274">,</span>&nbsp;<span class="builtinfunc" id="6656276">len</span><span class="op" id="6656279">(</span><span class="ident" id="6656280">submatches</span><span class="op" id="6656290">)</span><span class="op" id="6656291">/</span><span class="num" id="6656292">2</span><span class="op" id="6656293">,</span>&nbsp;<span class="builtinfunc" id="6656295">len</span><span class="op" id="6656298">(</span><span class="ident" id="6656299">result</span><span class="op" id="6656305">)</span><span class="op" id="6656306">,</span>&nbsp;<span class="ident" id="6656308">test</span><span class="op" id="6656312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656316">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656327">for</span>&nbsp;<span class="ident" id="6656331">k</span>&nbsp;<span class="op" id="6656333">:=</span>&nbsp;<span class="num" id="6656336">0</span><span class="op" id="6656337">;</span>&nbsp;<span class="ident" id="6656339">k</span>&nbsp;<span class="op" id="6656341">&lt;</span>&nbsp;<span class="builtinfunc" id="6656343">len</span><span class="op" id="6656346">(</span><span class="ident" id="6656347">submatches</span><span class="op" id="6656357">)</span><span class="op" id="6656358">;</span>&nbsp;<span class="ident" id="6656360">k</span>&nbsp;<span class="op" id="6656362">+=</span>&nbsp;<span class="num" id="6656365">2</span>&nbsp;<span class="op" id="6656367">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656371">if</span>&nbsp;<span class="ident" id="6656374">submatches</span><span class="op" id="6656384">[</span><span class="ident" id="6656385">k</span><span class="op" id="6656386">]</span>&nbsp;<span class="op" id="6656388">==</span>&nbsp;<span class="op" id="6656391">-</span><span class="num" id="6656392">1</span>&nbsp;<span class="op" id="6656394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656399">if</span>&nbsp;<span class="ident" id="6656402">result</span><span class="op" id="6656408">[</span><span class="ident" id="6656409">k</span><span class="op" id="6656410">/</span><span class="num" id="6656411">2</span><span class="op" id="6656412">]</span>&nbsp;<span class="op" id="6656414">!=</span>&nbsp;<span class="ident" id="6656417">nil</span>&nbsp;<span class="op" id="6656421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656427">t</span><span class="op" id="6656428">.</span><span class="ident" id="6656429">Errorf</span><span class="op" id="6656435">(</span><span class="string" id="6656436">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6656471">,</span>&nbsp;<span class="ident" id="6656473">n</span><span class="op" id="6656474">,</span>&nbsp;<span class="ident" id="6656476">result</span><span class="op" id="6656482">,</span>&nbsp;<span class="ident" id="6656484">test</span><span class="op" id="6656488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656498">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656513">expect</span>&nbsp;<span class="op" id="6656520">:=</span>&nbsp;<span class="ident" id="6656523">test</span><span class="op" id="6656527">.</span><span class="ident" id="6656528">text</span><span class="op" id="6656532">[</span><span class="ident" id="6656533">submatches</span><span class="op" id="6656543">[</span><span class="ident" id="6656544">k</span><span class="op" id="6656545">]</span><span class="op" id="6656546">:</span><span class="ident" id="6656547">submatches</span><span class="op" id="6656557">[</span><span class="ident" id="6656558">k</span><span class="op" id="6656559">+</span><span class="num" id="6656560">1</span><span class="op" id="6656561">]</span><span class="op" id="6656562">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656566">if</span>&nbsp;<span class="ident" id="6656569">expect</span>&nbsp;<span class="op" id="6656576">!=</span>&nbsp;<span class="builtintype" id="6656579">string</span><span class="op" id="6656585">(</span><span class="ident" id="6656586">result</span><span class="op" id="6656592">[</span><span class="ident" id="6656593">k</span><span class="op" id="6656594">/</span><span class="num" id="6656595">2</span><span class="op" id="6656596">]</span><span class="op" id="6656597">)</span>&nbsp;<span class="op" id="6656599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656604">t</span><span class="op" id="6656605">.</span><span class="ident" id="6656606">Errorf</span><span class="op" id="6656612">(</span><span class="string" id="6656613">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6656647">,</span>&nbsp;<span class="ident" id="6656649">n</span><span class="op" id="6656650">,</span>&nbsp;<span class="ident" id="6656652">expect</span><span class="op" id="6656658">,</span>&nbsp;<span class="ident" id="6656660">result</span><span class="op" id="6656666">,</span>&nbsp;<span class="ident" id="6656668">test</span><span class="op" id="6656672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656677">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6656689">}</span><br>
<span class="lineno"></span><span class="op" id="6656691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6656694">func</span>&nbsp;<span class="ident" id="6656699">TestFindSubmatch</span><span class="op" id="6656715">(</span><span class="ident" id="6656716">t</span>&nbsp;<span class="op" id="6656718">*</span><span class="ident" id="6656719">testing</span><span class="op" id="6656726">.</span><span class="ident" id="6656727">T</span><span class="op" id="6656728">)</span>&nbsp;<span class="op" id="6656730">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656733">for</span>&nbsp;<span class="ident" id="6656737">_</span><span class="op" id="6656738">,</span>&nbsp;<span class="ident" id="6656740">test</span>&nbsp;<span class="op" id="6656745">:=</span>&nbsp;<span class="keyword" id="6656748">range</span>&nbsp;<span class="ident" id="6656754">findTests</span>&nbsp;<span class="op" id="6656764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656768">result</span>&nbsp;<span class="op" id="6656775">:=</span>&nbsp;<span class="ident" id="6656778">MustCompile</span><span class="op" id="6656789">(</span><span class="ident" id="6656790">test</span><span class="op" id="6656794">.</span><span class="ident" id="6656795">pat</span><span class="op" id="6656798">)</span><span class="op" id="6656799">.</span><span class="ident" id="6656800">FindSubmatch</span><span class="op" id="6656812">(</span><span class="op" id="6656813">[</span><span class="op" id="6656814">]</span><span class="builtintype" id="6656815">byte</span><span class="op" id="6656819">(</span><span class="ident" id="6656820">test</span><span class="op" id="6656824">.</span><span class="ident" id="6656825">text</span><span class="op" id="6656829">)</span><span class="op" id="6656830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656834">switch</span>&nbsp;<span class="op" id="6656841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656845">case</span>&nbsp;<span class="ident" id="6656850">test</span><span class="op" id="6656854">.</span><span class="ident" id="6656855">matches</span>&nbsp;<span class="op" id="6656863">==</span>&nbsp;<span class="ident" id="6656866">nil</span>&nbsp;<span class="op" id="6656870">&amp;&amp;</span>&nbsp;<span class="ident" id="6656873">result</span>&nbsp;<span class="op" id="6656880">==</span>&nbsp;<span class="ident" id="6656883">nil</span><span class="op" id="6656886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6656891">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656899">case</span>&nbsp;<span class="ident" id="6656904">test</span><span class="op" id="6656908">.</span><span class="ident" id="6656909">matches</span>&nbsp;<span class="op" id="6656917">==</span>&nbsp;<span class="ident" id="6656920">nil</span>&nbsp;<span class="op" id="6656924">&amp;&amp;</span>&nbsp;<span class="ident" id="6656927">result</span>&nbsp;<span class="op" id="6656934">!=</span>&nbsp;<span class="ident" id="6656937">nil</span><span class="op" id="6656940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6656945">t</span><span class="op" id="6656946">.</span><span class="ident" id="6656947">Errorf</span><span class="op" id="6656953">(</span><span class="string" id="6656954">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6656986">,</span>&nbsp;<span class="ident" id="6656988">test</span><span class="op" id="6656992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6656996">case</span>&nbsp;<span class="ident" id="6657001">test</span><span class="op" id="6657005">.</span><span class="ident" id="6657006">matches</span>&nbsp;<span class="op" id="6657014">!=</span>&nbsp;<span class="ident" id="6657017">nil</span>&nbsp;<span class="op" id="6657021">&amp;&amp;</span>&nbsp;<span class="ident" id="6657024">result</span>&nbsp;<span class="op" id="6657031">==</span>&nbsp;<span class="ident" id="6657034">nil</span><span class="op" id="6657037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657042">t</span><span class="op" id="6657043">.</span><span class="ident" id="6657044">Errorf</span><span class="op" id="6657050">(</span><span class="string" id="6657051">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6657081">,</span>&nbsp;<span class="ident" id="6657083">test</span><span class="op" id="6657087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657091">case</span>&nbsp;<span class="ident" id="6657096">test</span><span class="op" id="6657100">.</span><span class="ident" id="6657101">matches</span>&nbsp;<span class="op" id="6657109">!=</span>&nbsp;<span class="ident" id="6657112">nil</span>&nbsp;<span class="op" id="6657116">&amp;&amp;</span>&nbsp;<span class="ident" id="6657119">result</span>&nbsp;<span class="op" id="6657126">!=</span>&nbsp;<span class="ident" id="6657129">nil</span><span class="op" id="6657132">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657137">testSubmatchBytes</span><span class="op" id="6657154">(</span><span class="op" id="6657155">&amp;</span><span class="ident" id="6657156">test</span><span class="op" id="6657160">,</span>&nbsp;<span class="num" id="6657162">0</span><span class="op" id="6657163">,</span>&nbsp;<span class="ident" id="6657165">test</span><span class="op" id="6657169">.</span><span class="ident" id="6657170">matches</span><span class="op" id="6657177">[</span><span class="num" id="6657178">0</span><span class="op" id="6657179">]</span><span class="op" id="6657180">,</span>&nbsp;<span class="ident" id="6657182">result</span><span class="op" id="6657188">,</span>&nbsp;<span class="ident" id="6657190">t</span><span class="op" id="6657191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657198">}</span><br>
<span class="lineno"></span><span class="op" id="6657200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="6657203">func</span>&nbsp;<span class="ident" id="6657208">testSubmatchString</span><span class="op" id="6657226">(</span><span class="ident" id="6657227">test</span>&nbsp;<span class="op" id="6657232">*</span><span class="ident" id="6657233">FindTest</span><span class="op" id="6657241">,</span>&nbsp;<span class="ident" id="6657243">n</span>&nbsp;<span class="builtintype" id="6657245">int</span><span class="op" id="6657248">,</span>&nbsp;<span class="ident" id="6657250">submatches</span>&nbsp;<span class="op" id="6657261">[</span><span class="op" id="6657262">]</span><span class="builtintype" id="6657263">int</span><span class="op" id="6657266">,</span>&nbsp;<span class="ident" id="6657268">result</span>&nbsp;<span class="op" id="6657275">[</span><span class="op" id="6657276">]</span><span class="builtintype" id="6657277">string</span><span class="op" id="6657283">,</span>&nbsp;<span class="ident" id="6657285">t</span>&nbsp;<span class="op" id="6657287">*</span><span class="ident" id="6657288">testing</span><span class="op" id="6657295">.</span><span class="ident" id="6657296">T</span><span class="op" id="6657297">)</span>&nbsp;<span class="op" id="6657299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657302">if</span>&nbsp;<span class="builtinfunc" id="6657305">len</span><span class="op" id="6657308">(</span><span class="ident" id="6657309">submatches</span><span class="op" id="6657319">)</span>&nbsp;<span class="op" id="6657321">!=</span>&nbsp;<span class="builtinfunc" id="6657324">len</span><span class="op" id="6657327">(</span><span class="ident" id="6657328">result</span><span class="op" id="6657334">)</span><span class="op" id="6657335">*</span><span class="num" id="6657336">2</span>&nbsp;<span class="op" id="6657338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657342">t</span><span class="op" id="6657343">.</span><span class="ident" id="6657344">Errorf</span><span class="op" id="6657350">(</span><span class="string" id="6657351">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6657397">,</span>&nbsp;<span class="ident" id="6657399">n</span><span class="op" id="6657400">,</span>&nbsp;<span class="builtinfunc" id="6657402">len</span><span class="op" id="6657405">(</span><span class="ident" id="6657406">submatches</span><span class="op" id="6657416">)</span><span class="op" id="6657417">/</span><span class="num" id="6657418">2</span><span class="op" id="6657419">,</span>&nbsp;<span class="builtinfunc" id="6657421">len</span><span class="op" id="6657424">(</span><span class="ident" id="6657425">result</span><span class="op" id="6657431">)</span><span class="op" id="6657432">,</span>&nbsp;<span class="ident" id="6657434">test</span><span class="op" id="6657438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657442">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657450">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657453">for</span>&nbsp;<span class="ident" id="6657457">k</span>&nbsp;<span class="op" id="6657459">:=</span>&nbsp;<span class="num" id="6657462">0</span><span class="op" id="6657463">;</span>&nbsp;<span class="ident" id="6657465">k</span>&nbsp;<span class="op" id="6657467">&lt;</span>&nbsp;<span class="builtinfunc" id="6657469">len</span><span class="op" id="6657472">(</span><span class="ident" id="6657473">submatches</span><span class="op" id="6657483">)</span><span class="op" id="6657484">;</span>&nbsp;<span class="ident" id="6657486">k</span>&nbsp;<span class="op" id="6657488">+=</span>&nbsp;<span class="num" id="6657491">2</span>&nbsp;<span class="op" id="6657493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657497">if</span>&nbsp;<span class="ident" id="6657500">submatches</span><span class="op" id="6657510">[</span><span class="ident" id="6657511">k</span><span class="op" id="6657512">]</span>&nbsp;<span class="op" id="6657514">==</span>&nbsp;<span class="op" id="6657517">-</span><span class="num" id="6657518">1</span>&nbsp;<span class="op" id="6657520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657525">if</span>&nbsp;<span class="ident" id="6657528">result</span><span class="op" id="6657534">[</span><span class="ident" id="6657535">k</span><span class="op" id="6657536">/</span><span class="num" id="6657537">2</span><span class="op" id="6657538">]</span>&nbsp;<span class="op" id="6657540">!=</span>&nbsp;<span class="string" id="6657543">&#34;&#34;</span>&nbsp;<span class="op" id="6657546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657552">t</span><span class="op" id="6657553">.</span><span class="ident" id="6657554">Errorf</span><span class="op" id="6657560">(</span><span class="string" id="6657561">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6657596">,</span>&nbsp;<span class="ident" id="6657598">n</span><span class="op" id="6657599">,</span>&nbsp;<span class="ident" id="6657601">result</span><span class="op" id="6657607">,</span>&nbsp;<span class="ident" id="6657609">test</span><span class="op" id="6657613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657618">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657623">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657638">expect</span>&nbsp;<span class="op" id="6657645">:=</span>&nbsp;<span class="ident" id="6657648">test</span><span class="op" id="6657652">.</span><span class="ident" id="6657653">text</span><span class="op" id="6657657">[</span><span class="ident" id="6657658">submatches</span><span class="op" id="6657668">[</span><span class="ident" id="6657669">k</span><span class="op" id="6657670">]</span><span class="op" id="6657671">:</span><span class="ident" id="6657672">submatches</span><span class="op" id="6657682">[</span><span class="ident" id="6657683">k</span><span class="op" id="6657684">+</span><span class="num" id="6657685">1</span><span class="op" id="6657686">]</span><span class="op" id="6657687">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657691">if</span>&nbsp;<span class="ident" id="6657694">expect</span>&nbsp;<span class="op" id="6657701">!=</span>&nbsp;<span class="ident" id="6657704">result</span><span class="op" id="6657710">[</span><span class="ident" id="6657711">k</span><span class="op" id="6657712">/</span><span class="num" id="6657713">2</span><span class="op" id="6657714">]</span>&nbsp;<span class="op" id="6657716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657721">t</span><span class="op" id="6657722">.</span><span class="ident" id="6657723">Errorf</span><span class="op" id="6657729">(</span><span class="string" id="6657730">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6657764">,</span>&nbsp;<span class="ident" id="6657766">n</span><span class="op" id="6657767">,</span>&nbsp;<span class="ident" id="6657769">expect</span><span class="op" id="6657775">,</span>&nbsp;<span class="ident" id="6657777">result</span><span class="op" id="6657783">,</span>&nbsp;<span class="ident" id="6657785">test</span><span class="op" id="6657789">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657794">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6657806">}</span><br>
<span class="lineno"></span><span class="op" id="6657808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="6657811">func</span>&nbsp;<span class="ident" id="6657816">TestFindStringSubmatch</span><span class="op" id="6657838">(</span><span class="ident" id="6657839">t</span>&nbsp;<span class="op" id="6657841">*</span><span class="ident" id="6657842">testing</span><span class="op" id="6657849">.</span><span class="ident" id="6657850">T</span><span class="op" id="6657851">)</span>&nbsp;<span class="op" id="6657853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657856">for</span>&nbsp;<span class="ident" id="6657860">_</span><span class="op" id="6657861">,</span>&nbsp;<span class="ident" id="6657863">test</span>&nbsp;<span class="op" id="6657868">:=</span>&nbsp;<span class="keyword" id="6657871">range</span>&nbsp;<span class="ident" id="6657877">findTests</span>&nbsp;<span class="op" id="6657887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657891">result</span>&nbsp;<span class="op" id="6657898">:=</span>&nbsp;<span class="ident" id="6657901">MustCompile</span><span class="op" id="6657912">(</span><span class="ident" id="6657913">test</span><span class="op" id="6657917">.</span><span class="ident" id="6657918">pat</span><span class="op" id="6657921">)</span><span class="op" id="6657922">.</span><span class="ident" id="6657923">FindStringSubmatch</span><span class="op" id="6657941">(</span><span class="ident" id="6657942">test</span><span class="op" id="6657946">.</span><span class="ident" id="6657947">text</span><span class="op" id="6657951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657955">switch</span>&nbsp;<span class="op" id="6657962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6657966">case</span>&nbsp;<span class="ident" id="6657971">test</span><span class="op" id="6657975">.</span><span class="ident" id="6657976">matches</span>&nbsp;<span class="op" id="6657984">==</span>&nbsp;<span class="ident" id="6657987">nil</span>&nbsp;<span class="op" id="6657991">&amp;&amp;</span>&nbsp;<span class="ident" id="6657994">result</span>&nbsp;<span class="op" id="6658001">==</span>&nbsp;<span class="ident" id="6658004">nil</span><span class="op" id="6658007">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6658012">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658020">case</span>&nbsp;<span class="ident" id="6658025">test</span><span class="op" id="6658029">.</span><span class="ident" id="6658030">matches</span>&nbsp;<span class="op" id="6658038">==</span>&nbsp;<span class="ident" id="6658041">nil</span>&nbsp;<span class="op" id="6658045">&amp;&amp;</span>&nbsp;<span class="ident" id="6658048">result</span>&nbsp;<span class="op" id="6658055">!=</span>&nbsp;<span class="ident" id="6658058">nil</span><span class="op" id="6658061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658066">t</span><span class="op" id="6658067">.</span><span class="ident" id="6658068">Errorf</span><span class="op" id="6658074">(</span><span class="string" id="6658075">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6658107">,</span>&nbsp;<span class="ident" id="6658109">test</span><span class="op" id="6658113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658117">case</span>&nbsp;<span class="ident" id="6658122">test</span><span class="op" id="6658126">.</span><span class="ident" id="6658127">matches</span>&nbsp;<span class="op" id="6658135">!=</span>&nbsp;<span class="ident" id="6658138">nil</span>&nbsp;<span class="op" id="6658142">&amp;&amp;</span>&nbsp;<span class="ident" id="6658145">result</span>&nbsp;<span class="op" id="6658152">==</span>&nbsp;<span class="ident" id="6658155">nil</span><span class="op" id="6658158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658163">t</span><span class="op" id="6658164">.</span><span class="ident" id="6658165">Errorf</span><span class="op" id="6658171">(</span><span class="string" id="6658172">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6658202">,</span>&nbsp;<span class="ident" id="6658204">test</span><span class="op" id="6658208">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658212">case</span>&nbsp;<span class="ident" id="6658217">test</span><span class="op" id="6658221">.</span><span class="ident" id="6658222">matches</span>&nbsp;<span class="op" id="6658230">!=</span>&nbsp;<span class="ident" id="6658233">nil</span>&nbsp;<span class="op" id="6658237">&amp;&amp;</span>&nbsp;<span class="ident" id="6658240">result</span>&nbsp;<span class="op" id="6658247">!=</span>&nbsp;<span class="ident" id="6658250">nil</span><span class="op" id="6658253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658258">testSubmatchString</span><span class="op" id="6658276">(</span><span class="op" id="6658277">&amp;</span><span class="ident" id="6658278">test</span><span class="op" id="6658282">,</span>&nbsp;<span class="num" id="6658284">0</span><span class="op" id="6658285">,</span>&nbsp;<span class="ident" id="6658287">test</span><span class="op" id="6658291">.</span><span class="ident" id="6658292">matches</span><span class="op" id="6658299">[</span><span class="num" id="6658300">0</span><span class="op" id="6658301">]</span><span class="op" id="6658302">,</span>&nbsp;<span class="ident" id="6658304">result</span><span class="op" id="6658310">,</span>&nbsp;<span class="ident" id="6658312">t</span><span class="op" id="6658313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6658317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6658320">}</span><br>
<span class="lineno"></span><span class="op" id="6658322">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6658325">func</span>&nbsp;<span class="ident" id="6658330">testSubmatchIndices</span><span class="op" id="6658349">(</span><span class="ident" id="6658350">test</span>&nbsp;<span class="op" id="6658355">*</span><span class="ident" id="6658356">FindTest</span><span class="op" id="6658364">,</span>&nbsp;<span class="ident" id="6658366">n</span>&nbsp;<span class="builtintype" id="6658368">int</span><span class="op" id="6658371">,</span>&nbsp;<span class="ident" id="6658373">expect</span><span class="op" id="6658379">,</span>&nbsp;<span class="ident" id="6658381">result</span>&nbsp;<span class="op" id="6658388">[</span><span class="op" id="6658389">]</span><span class="builtintype" id="6658390">int</span><span class="op" id="6658393">,</span>&nbsp;<span class="ident" id="6658395">t</span>&nbsp;<span class="op" id="6658397">*</span><span class="ident" id="6658398">testing</span><span class="op" id="6658405">.</span><span class="ident" id="6658406">T</span><span class="op" id="6658407">)</span>&nbsp;<span class="op" id="6658409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658412">if</span>&nbsp;<span class="builtinfunc" id="6658415">len</span><span class="op" id="6658418">(</span><span class="ident" id="6658419">expect</span><span class="op" id="6658425">)</span>&nbsp;<span class="op" id="6658427">!=</span>&nbsp;<span class="builtinfunc" id="6658430">len</span><span class="op" id="6658433">(</span><span class="ident" id="6658434">result</span><span class="op" id="6658440">)</span>&nbsp;<span class="op" id="6658442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658446">t</span><span class="op" id="6658447">.</span><span class="ident" id="6658448">Errorf</span><span class="op" id="6658454">(</span><span class="string" id="6658455">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6658498">,</span>&nbsp;<span class="ident" id="6658500">n</span><span class="op" id="6658501">,</span>&nbsp;<span class="builtinfunc" id="6658503">len</span><span class="op" id="6658506">(</span><span class="ident" id="6658507">expect</span><span class="op" id="6658513">)</span><span class="op" id="6658514">/</span><span class="num" id="6658515">2</span><span class="op" id="6658516">,</span>&nbsp;<span class="builtinfunc" id="6658518">len</span><span class="op" id="6658521">(</span><span class="ident" id="6658522">result</span><span class="op" id="6658528">)</span><span class="op" id="6658529">/</span><span class="num" id="6658530">2</span><span class="op" id="6658531">,</span>&nbsp;<span class="ident" id="6658533">test</span><span class="op" id="6658537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658541">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6658549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658552">for</span>&nbsp;<span class="ident" id="6658556">k</span><span class="op" id="6658557">,</span>&nbsp;<span class="ident" id="6658559">e</span>&nbsp;<span class="op" id="6658561">:=</span>&nbsp;<span class="keyword" id="6658564">range</span>&nbsp;<span class="ident" id="6658570">expect</span>&nbsp;<span class="op" id="6658577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658581">if</span>&nbsp;<span class="ident" id="6658584">e</span>&nbsp;<span class="op" id="6658586">!=</span>&nbsp;<span class="ident" id="6658589">result</span><span class="op" id="6658595">[</span><span class="ident" id="6658596">k</span><span class="op" id="6658597">]</span>&nbsp;<span class="op" id="6658599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658604">t</span><span class="op" id="6658605">.</span><span class="ident" id="6658606">Errorf</span><span class="op" id="6658612">(</span><span class="string" id="6658613">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6658663">,</span>&nbsp;<span class="ident" id="6658665">n</span><span class="op" id="6658666">,</span>&nbsp;<span class="ident" id="6658668">expect</span><span class="op" id="6658674">,</span>&nbsp;<span class="ident" id="6658676">result</span><span class="op" id="6658682">,</span>&nbsp;<span class="ident" id="6658684">test</span><span class="op" id="6658688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6658692">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6658695">}</span><br>
<span class="lineno"></span><span class="op" id="6658697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6658700">func</span>&nbsp;<span class="ident" id="6658705">testFindSubmatchIndex</span><span class="op" id="6658726">(</span><span class="ident" id="6658727">test</span>&nbsp;<span class="op" id="6658732">*</span><span class="ident" id="6658733">FindTest</span><span class="op" id="6658741">,</span>&nbsp;<span class="ident" id="6658743">result</span>&nbsp;<span class="op" id="6658750">[</span><span class="op" id="6658751">]</span><span class="builtintype" id="6658752">int</span><span class="op" id="6658755">,</span>&nbsp;<span class="ident" id="6658757">t</span>&nbsp;<span class="op" id="6658759">*</span><span class="ident" id="6658760">testing</span><span class="op" id="6658767">.</span><span class="ident" id="6658768">T</span><span class="op" id="6658769">)</span>&nbsp;<span class="op" id="6658771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658774">switch</span>&nbsp;<span class="op" id="6658781">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658784">case</span>&nbsp;<span class="ident" id="6658789">test</span><span class="op" id="6658793">.</span><span class="ident" id="6658794">matches</span>&nbsp;<span class="op" id="6658802">==</span>&nbsp;<span class="ident" id="6658805">nil</span>&nbsp;<span class="op" id="6658809">&amp;&amp;</span>&nbsp;<span class="ident" id="6658812">result</span>&nbsp;<span class="op" id="6658819">==</span>&nbsp;<span class="ident" id="6658822">nil</span><span class="op" id="6658825">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6658829">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658836">case</span>&nbsp;<span class="ident" id="6658841">test</span><span class="op" id="6658845">.</span><span class="ident" id="6658846">matches</span>&nbsp;<span class="op" id="6658854">==</span>&nbsp;<span class="ident" id="6658857">nil</span>&nbsp;<span class="op" id="6658861">&amp;&amp;</span>&nbsp;<span class="ident" id="6658864">result</span>&nbsp;<span class="op" id="6658871">!=</span>&nbsp;<span class="ident" id="6658874">nil</span><span class="op" id="6658877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658881">t</span><span class="op" id="6658882">.</span><span class="ident" id="6658883">Errorf</span><span class="op" id="6658889">(</span><span class="string" id="6658890">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6658922">,</span>&nbsp;<span class="ident" id="6658924">test</span><span class="op" id="6658928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6658931">case</span>&nbsp;<span class="ident" id="6658936">test</span><span class="op" id="6658940">.</span><span class="ident" id="6658941">matches</span>&nbsp;<span class="op" id="6658949">!=</span>&nbsp;<span class="ident" id="6658952">nil</span>&nbsp;<span class="op" id="6658956">&amp;&amp;</span>&nbsp;<span class="ident" id="6658959">result</span>&nbsp;<span class="op" id="6658966">==</span>&nbsp;<span class="ident" id="6658969">nil</span><span class="op" id="6658972">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658976">t</span><span class="op" id="6658977">.</span><span class="ident" id="6658978">Errorf</span><span class="op" id="6658984">(</span><span class="string" id="6658985">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6659015">,</span>&nbsp;<span class="ident" id="6659017">test</span><span class="op" id="6659021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659024">case</span>&nbsp;<span class="ident" id="6659029">test</span><span class="op" id="6659033">.</span><span class="ident" id="6659034">matches</span>&nbsp;<span class="op" id="6659042">!=</span>&nbsp;<span class="ident" id="6659045">nil</span>&nbsp;<span class="op" id="6659049">&amp;&amp;</span>&nbsp;<span class="ident" id="6659052">result</span>&nbsp;<span class="op" id="6659059">!=</span>&nbsp;<span class="ident" id="6659062">nil</span><span class="op" id="6659065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659069">testSubmatchIndices</span><span class="op" id="6659088">(</span><span class="ident" id="6659089">test</span><span class="op" id="6659093">,</span>&nbsp;<span class="num" id="6659095">0</span><span class="op" id="6659096">,</span>&nbsp;<span class="ident" id="6659098">test</span><span class="op" id="6659102">.</span><span class="ident" id="6659103">matches</span><span class="op" id="6659110">[</span><span class="num" id="6659111">0</span><span class="op" id="6659112">]</span><span class="op" id="6659113">,</span>&nbsp;<span class="ident" id="6659115">result</span><span class="op" id="6659121">,</span>&nbsp;<span class="ident" id="6659123">t</span><span class="op" id="6659124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659127">}</span><br>
<span class="lineno"></span><span class="op" id="6659129">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="6659132">func</span>&nbsp;<span class="ident" id="6659137">TestFindSubmatchIndex</span><span class="op" id="6659158">(</span><span class="ident" id="6659159">t</span>&nbsp;<span class="op" id="6659161">*</span><span class="ident" id="6659162">testing</span><span class="op" id="6659169">.</span><span class="ident" id="6659170">T</span><span class="op" id="6659171">)</span>&nbsp;<span class="op" id="6659173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659176">for</span>&nbsp;<span class="ident" id="6659180">_</span><span class="op" id="6659181">,</span>&nbsp;<span class="ident" id="6659183">test</span>&nbsp;<span class="op" id="6659188">:=</span>&nbsp;<span class="keyword" id="6659191">range</span>&nbsp;<span class="ident" id="6659197">findTests</span>&nbsp;<span class="op" id="6659207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659211">testFindSubmatchIndex</span><span class="op" id="6659232">(</span><span class="op" id="6659233">&amp;</span><span class="ident" id="6659234">test</span><span class="op" id="6659238">,</span>&nbsp;<span class="ident" id="6659240">MustCompile</span><span class="op" id="6659251">(</span><span class="ident" id="6659252">test</span><span class="op" id="6659256">.</span><span class="ident" id="6659257">pat</span><span class="op" id="6659260">)</span><span class="op" id="6659261">.</span><span class="ident" id="6659262">FindSubmatchIndex</span><span class="op" id="6659279">(</span><span class="op" id="6659280">[</span><span class="op" id="6659281">]</span><span class="builtintype" id="6659282">byte</span><span class="op" id="6659286">(</span><span class="ident" id="6659287">test</span><span class="op" id="6659291">.</span><span class="ident" id="6659292">text</span><span class="op" id="6659296">)</span><span class="op" id="6659297">)</span><span class="op" id="6659298">,</span>&nbsp;<span class="ident" id="6659300">t</span><span class="op" id="6659301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659304">}</span><br>
<span class="lineno">415</span><span class="op" id="6659306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659309">func</span>&nbsp;<span class="ident" id="6659314">TestFindStringSubmatchIndex</span><span class="op" id="6659341">(</span><span class="ident" id="6659342">t</span>&nbsp;<span class="op" id="6659344">*</span><span class="ident" id="6659345">testing</span><span class="op" id="6659352">.</span><span class="ident" id="6659353">T</span><span class="op" id="6659354">)</span>&nbsp;<span class="op" id="6659356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659359">for</span>&nbsp;<span class="ident" id="6659363">_</span><span class="op" id="6659364">,</span>&nbsp;<span class="ident" id="6659366">test</span>&nbsp;<span class="op" id="6659371">:=</span>&nbsp;<span class="keyword" id="6659374">range</span>&nbsp;<span class="ident" id="6659380">findTests</span>&nbsp;<span class="op" id="6659390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659394">testFindSubmatchIndex</span><span class="op" id="6659415">(</span><span class="op" id="6659416">&amp;</span><span class="ident" id="6659417">test</span><span class="op" id="6659421">,</span>&nbsp;<span class="ident" id="6659423">MustCompile</span><span class="op" id="6659434">(</span><span class="ident" id="6659435">test</span><span class="op" id="6659439">.</span><span class="ident" id="6659440">pat</span><span class="op" id="6659443">)</span><span class="op" id="6659444">.</span><span class="ident" id="6659445">FindStringSubmatchIndex</span><span class="op" id="6659468">(</span><span class="ident" id="6659469">test</span><span class="op" id="6659473">.</span><span class="ident" id="6659474">text</span><span class="op" id="6659478">)</span><span class="op" id="6659479">,</span>&nbsp;<span class="ident" id="6659481">t</span><span class="op" id="6659482">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659485">}</span><br>
<span class="lineno"></span><span class="op" id="6659487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659490">func</span>&nbsp;<span class="ident" id="6659495">TestFindReaderSubmatchIndex</span><span class="op" id="6659522">(</span><span class="ident" id="6659523">t</span>&nbsp;<span class="op" id="6659525">*</span><span class="ident" id="6659526">testing</span><span class="op" id="6659533">.</span><span class="ident" id="6659534">T</span><span class="op" id="6659535">)</span>&nbsp;<span class="op" id="6659537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659540">for</span>&nbsp;<span class="ident" id="6659544">_</span><span class="op" id="6659545">,</span>&nbsp;<span class="ident" id="6659547">test</span>&nbsp;<span class="op" id="6659552">:=</span>&nbsp;<span class="keyword" id="6659555">range</span>&nbsp;<span class="ident" id="6659561">findTests</span>&nbsp;<span class="op" id="6659571">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659575">testFindSubmatchIndex</span><span class="op" id="6659596">(</span><span class="op" id="6659597">&amp;</span><span class="ident" id="6659598">test</span><span class="op" id="6659602">,</span>&nbsp;<span class="ident" id="6659604">MustCompile</span><span class="op" id="6659615">(</span><span class="ident" id="6659616">test</span><span class="op" id="6659620">.</span><span class="ident" id="6659621">pat</span><span class="op" id="6659624">)</span><span class="op" id="6659625">.</span><span class="ident" id="6659626">FindReaderSubmatchIndex</span><span class="op" id="6659649">(</span><span class="ident" id="6659650">strings</span><span class="op" id="6659657">.</span><span class="ident" id="6659658">NewReader</span><span class="op" id="6659667">(</span><span class="ident" id="6659668">test</span><span class="op" id="6659672">.</span><span class="ident" id="6659673">text</span><span class="op" id="6659677">)</span><span class="op" id="6659678">)</span><span class="op" id="6659679">,</span>&nbsp;<span class="ident" id="6659681">t</span><span class="op" id="6659682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659685">}</span><br>
<span class="lineno"></span><span class="op" id="6659687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6659690">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="6659734">func</span>&nbsp;<span class="ident" id="6659739">TestFindAllSubmatch</span><span class="op" id="6659758">(</span><span class="ident" id="6659759">t</span>&nbsp;<span class="op" id="6659761">*</span><span class="ident" id="6659762">testing</span><span class="op" id="6659769">.</span><span class="ident" id="6659770">T</span><span class="op" id="6659771">)</span>&nbsp;<span class="op" id="6659773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659776">for</span>&nbsp;<span class="ident" id="6659780">_</span><span class="op" id="6659781">,</span>&nbsp;<span class="ident" id="6659783">test</span>&nbsp;<span class="op" id="6659788">:=</span>&nbsp;<span class="keyword" id="6659791">range</span>&nbsp;<span class="ident" id="6659797">findTests</span>&nbsp;<span class="op" id="6659807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659811">result</span>&nbsp;<span class="op" id="6659818">:=</span>&nbsp;<span class="ident" id="6659821">MustCompile</span><span class="op" id="6659832">(</span><span class="ident" id="6659833">test</span><span class="op" id="6659837">.</span><span class="ident" id="6659838">pat</span><span class="op" id="6659841">)</span><span class="op" id="6659842">.</span><span class="ident" id="6659843">FindAllSubmatch</span><span class="op" id="6659858">(</span><span class="op" id="6659859">[</span><span class="op" id="6659860">]</span><span class="builtintype" id="6659861">byte</span><span class="op" id="6659865">(</span><span class="ident" id="6659866">test</span><span class="op" id="6659870">.</span><span class="ident" id="6659871">text</span><span class="op" id="6659875">)</span><span class="op" id="6659876">,</span>&nbsp;<span class="op" id="6659878">-</span><span class="num" id="6659879">1</span><span class="op" id="6659880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659884">switch</span>&nbsp;<span class="op" id="6659891">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659895">case</span>&nbsp;<span class="ident" id="6659900">test</span><span class="op" id="6659904">.</span><span class="ident" id="6659905">matches</span>&nbsp;<span class="op" id="6659913">==</span>&nbsp;<span class="ident" id="6659916">nil</span>&nbsp;<span class="op" id="6659920">&amp;&amp;</span>&nbsp;<span class="ident" id="6659923">result</span>&nbsp;<span class="op" id="6659930">==</span>&nbsp;<span class="ident" id="6659933">nil</span><span class="op" id="6659936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6659941">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6659949">case</span>&nbsp;<span class="ident" id="6659954">test</span><span class="op" id="6659958">.</span><span class="ident" id="6659959">matches</span>&nbsp;<span class="op" id="6659967">==</span>&nbsp;<span class="ident" id="6659970">nil</span>&nbsp;<span class="op" id="6659974">&amp;&amp;</span>&nbsp;<span class="ident" id="6659977">result</span>&nbsp;<span class="op" id="6659984">!=</span>&nbsp;<span class="ident" id="6659987">nil</span><span class="op" id="6659990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659995">t</span><span class="op" id="6659996">.</span><span class="ident" id="6659997">Errorf</span><span class="op" id="6660003">(</span><span class="string" id="6660004">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6660036">,</span>&nbsp;<span class="ident" id="6660038">test</span><span class="op" id="6660042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660046">case</span>&nbsp;<span class="ident" id="6660051">test</span><span class="op" id="6660055">.</span><span class="ident" id="6660056">matches</span>&nbsp;<span class="op" id="6660064">!=</span>&nbsp;<span class="ident" id="6660067">nil</span>&nbsp;<span class="op" id="6660071">&amp;&amp;</span>&nbsp;<span class="ident" id="6660074">result</span>&nbsp;<span class="op" id="6660081">==</span>&nbsp;<span class="ident" id="6660084">nil</span><span class="op" id="6660087">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660092">t</span><span class="op" id="6660093">.</span><span class="ident" id="6660094">Errorf</span><span class="op" id="6660100">(</span><span class="string" id="6660101">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6660131">,</span>&nbsp;<span class="ident" id="6660133">test</span><span class="op" id="6660137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660141">case</span>&nbsp;<span class="builtinfunc" id="6660146">len</span><span class="op" id="6660149">(</span><span class="ident" id="6660150">test</span><span class="op" id="6660154">.</span><span class="ident" id="6660155">matches</span><span class="op" id="6660162">)</span>&nbsp;<span class="op" id="6660164">!=</span>&nbsp;<span class="builtinfunc" id="6660167">len</span><span class="op" id="6660170">(</span><span class="ident" id="6660171">result</span><span class="op" id="6660177">)</span><span class="op" id="6660178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660183">t</span><span class="op" id="6660184">.</span><span class="ident" id="6660185">Errorf</span><span class="op" id="6660191">(</span><span class="string" id="6660192">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6660225">,</span>&nbsp;<span class="builtinfunc" id="6660227">len</span><span class="op" id="6660230">(</span><span class="ident" id="6660231">test</span><span class="op" id="6660235">.</span><span class="ident" id="6660236">matches</span><span class="op" id="6660243">)</span><span class="op" id="6660244">,</span>&nbsp;<span class="builtinfunc" id="6660246">len</span><span class="op" id="6660249">(</span><span class="ident" id="6660250">result</span><span class="op" id="6660256">)</span><span class="op" id="6660257">,</span>&nbsp;<span class="ident" id="6660259">test</span><span class="op" id="6660263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660267">case</span>&nbsp;<span class="ident" id="6660272">test</span><span class="op" id="6660276">.</span><span class="ident" id="6660277">matches</span>&nbsp;<span class="op" id="6660285">!=</span>&nbsp;<span class="ident" id="6660288">nil</span>&nbsp;<span class="op" id="6660292">&amp;&amp;</span>&nbsp;<span class="ident" id="6660295">result</span>&nbsp;<span class="op" id="6660302">!=</span>&nbsp;<span class="ident" id="6660305">nil</span><span class="op" id="6660308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660313">for</span>&nbsp;<span class="ident" id="6660317">k</span><span class="op" id="6660318">,</span>&nbsp;<span class="ident" id="6660320">match</span>&nbsp;<span class="op" id="6660326">:=</span>&nbsp;<span class="keyword" id="6660329">range</span>&nbsp;<span class="ident" id="6660335">test</span><span class="op" id="6660339">.</span><span class="ident" id="6660340">matches</span>&nbsp;<span class="op" id="6660348">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660354">testSubmatchBytes</span><span class="op" id="6660371">(</span><span class="op" id="6660372">&amp;</span><span class="ident" id="6660373">test</span><span class="op" id="6660377">,</span>&nbsp;<span class="ident" id="6660379">k</span><span class="op" id="6660380">,</span>&nbsp;<span class="ident" id="6660382">match</span><span class="op" id="6660387">,</span>&nbsp;<span class="ident" id="6660389">result</span><span class="op" id="6660395">[</span><span class="ident" id="6660396">k</span><span class="op" id="6660397">]</span><span class="op" id="6660398">,</span>&nbsp;<span class="ident" id="6660400">t</span><span class="op" id="6660401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660413">}</span><br>
<span class="lineno"></span><span class="op" id="6660415">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="6660418">func</span>&nbsp;<span class="ident" id="6660423">TestFindAllStringSubmatch</span><span class="op" id="6660448">(</span><span class="ident" id="6660449">t</span>&nbsp;<span class="op" id="6660451">*</span><span class="ident" id="6660452">testing</span><span class="op" id="6660459">.</span><span class="ident" id="6660460">T</span><span class="op" id="6660461">)</span>&nbsp;<span class="op" id="6660463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660466">for</span>&nbsp;<span class="ident" id="6660470">_</span><span class="op" id="6660471">,</span>&nbsp;<span class="ident" id="6660473">test</span>&nbsp;<span class="op" id="6660478">:=</span>&nbsp;<span class="keyword" id="6660481">range</span>&nbsp;<span class="ident" id="6660487">findTests</span>&nbsp;<span class="op" id="6660497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660501">result</span>&nbsp;<span class="op" id="6660508">:=</span>&nbsp;<span class="ident" id="6660511">MustCompile</span><span class="op" id="6660522">(</span><span class="ident" id="6660523">test</span><span class="op" id="6660527">.</span><span class="ident" id="6660528">pat</span><span class="op" id="6660531">)</span><span class="op" id="6660532">.</span><span class="ident" id="6660533">FindAllStringSubmatch</span><span class="op" id="6660554">(</span><span class="ident" id="6660555">test</span><span class="op" id="6660559">.</span><span class="ident" id="6660560">text</span><span class="op" id="6660564">,</span>&nbsp;<span class="op" id="6660566">-</span><span class="num" id="6660567">1</span><span class="op" id="6660568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660572">switch</span>&nbsp;<span class="op" id="6660579">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660583">case</span>&nbsp;<span class="ident" id="6660588">test</span><span class="op" id="6660592">.</span><span class="ident" id="6660593">matches</span>&nbsp;<span class="op" id="6660601">==</span>&nbsp;<span class="ident" id="6660604">nil</span>&nbsp;<span class="op" id="6660608">&amp;&amp;</span>&nbsp;<span class="ident" id="6660611">result</span>&nbsp;<span class="op" id="6660618">==</span>&nbsp;<span class="ident" id="6660621">nil</span><span class="op" id="6660624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6660629">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660637">case</span>&nbsp;<span class="ident" id="6660642">test</span><span class="op" id="6660646">.</span><span class="ident" id="6660647">matches</span>&nbsp;<span class="op" id="6660655">==</span>&nbsp;<span class="ident" id="6660658">nil</span>&nbsp;<span class="op" id="6660662">&amp;&amp;</span>&nbsp;<span class="ident" id="6660665">result</span>&nbsp;<span class="op" id="6660672">!=</span>&nbsp;<span class="ident" id="6660675">nil</span><span class="op" id="6660678">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660683">t</span><span class="op" id="6660684">.</span><span class="ident" id="6660685">Errorf</span><span class="op" id="6660691">(</span><span class="string" id="6660692">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6660724">,</span>&nbsp;<span class="ident" id="6660726">test</span><span class="op" id="6660730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660734">case</span>&nbsp;<span class="ident" id="6660739">test</span><span class="op" id="6660743">.</span><span class="ident" id="6660744">matches</span>&nbsp;<span class="op" id="6660752">!=</span>&nbsp;<span class="ident" id="6660755">nil</span>&nbsp;<span class="op" id="6660759">&amp;&amp;</span>&nbsp;<span class="ident" id="6660762">result</span>&nbsp;<span class="op" id="6660769">==</span>&nbsp;<span class="ident" id="6660772">nil</span><span class="op" id="6660775">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660780">t</span><span class="op" id="6660781">.</span><span class="ident" id="6660782">Errorf</span><span class="op" id="6660788">(</span><span class="string" id="6660789">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6660819">,</span>&nbsp;<span class="ident" id="6660821">test</span><span class="op" id="6660825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660829">case</span>&nbsp;<span class="builtinfunc" id="6660834">len</span><span class="op" id="6660837">(</span><span class="ident" id="6660838">test</span><span class="op" id="6660842">.</span><span class="ident" id="6660843">matches</span><span class="op" id="6660850">)</span>&nbsp;<span class="op" id="6660852">!=</span>&nbsp;<span class="builtinfunc" id="6660855">len</span><span class="op" id="6660858">(</span><span class="ident" id="6660859">result</span><span class="op" id="6660865">)</span><span class="op" id="6660866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660871">t</span><span class="op" id="6660872">.</span><span class="ident" id="6660873">Errorf</span><span class="op" id="6660879">(</span><span class="string" id="6660880">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6660913">,</span>&nbsp;<span class="builtinfunc" id="6660915">len</span><span class="op" id="6660918">(</span><span class="ident" id="6660919">test</span><span class="op" id="6660923">.</span><span class="ident" id="6660924">matches</span><span class="op" id="6660931">)</span><span class="op" id="6660932">,</span>&nbsp;<span class="builtinfunc" id="6660934">len</span><span class="op" id="6660937">(</span><span class="ident" id="6660938">result</span><span class="op" id="6660944">)</span><span class="op" id="6660945">,</span>&nbsp;<span class="ident" id="6660947">test</span><span class="op" id="6660951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6660955">case</span>&nbsp;<span class="ident" id="6660960">test</span><span class="op" id="6660964">.</span><span class="ident" id="6660965">matches</span>&nbsp;<span class="op" id="6660973">!=</span>&nbsp;<span class="ident" id="6660976">nil</span>&nbsp;<span class="op" id="6660980">&amp;&amp;</span>&nbsp;<span class="ident" id="6660983">result</span>&nbsp;<span class="op" id="6660990">!=</span>&nbsp;<span class="ident" id="6660993">nil</span><span class="op" id="6660996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661001">for</span>&nbsp;<span class="ident" id="6661005">k</span><span class="op" id="6661006">,</span>&nbsp;<span class="ident" id="6661008">match</span>&nbsp;<span class="op" id="6661014">:=</span>&nbsp;<span class="keyword" id="6661017">range</span>&nbsp;<span class="ident" id="6661023">test</span><span class="op" id="6661027">.</span><span class="ident" id="6661028">matches</span>&nbsp;<span class="op" id="6661036">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661042">testSubmatchString</span><span class="op" id="6661060">(</span><span class="op" id="6661061">&amp;</span><span class="ident" id="6661062">test</span><span class="op" id="6661066">,</span>&nbsp;<span class="ident" id="6661068">k</span><span class="op" id="6661069">,</span>&nbsp;<span class="ident" id="6661071">match</span><span class="op" id="6661076">,</span>&nbsp;<span class="ident" id="6661078">result</span><span class="op" id="6661084">[</span><span class="ident" id="6661085">k</span><span class="op" id="6661086">]</span><span class="op" id="6661087">,</span>&nbsp;<span class="ident" id="6661089">t</span><span class="op" id="6661090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661102">}</span><br>
<span class="lineno"></span><span class="op" id="6661104">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="6661107">func</span>&nbsp;<span class="ident" id="6661112">testFindAllSubmatchIndex</span><span class="op" id="6661136">(</span><span class="ident" id="6661137">test</span>&nbsp;<span class="op" id="6661142">*</span><span class="ident" id="6661143">FindTest</span><span class="op" id="6661151">,</span>&nbsp;<span class="ident" id="6661153">result</span>&nbsp;<span class="op" id="6661160">[</span><span class="op" id="6661161">]</span><span class="op" id="6661162">[</span><span class="op" id="6661163">]</span><span class="builtintype" id="6661164">int</span><span class="op" id="6661167">,</span>&nbsp;<span class="ident" id="6661169">t</span>&nbsp;<span class="op" id="6661171">*</span><span class="ident" id="6661172">testing</span><span class="op" id="6661179">.</span><span class="ident" id="6661180">T</span><span class="op" id="6661181">)</span>&nbsp;<span class="op" id="6661183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661186">switch</span>&nbsp;<span class="op" id="6661193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661196">case</span>&nbsp;<span class="ident" id="6661201">test</span><span class="op" id="6661205">.</span><span class="ident" id="6661206">matches</span>&nbsp;<span class="op" id="6661214">==</span>&nbsp;<span class="ident" id="6661217">nil</span>&nbsp;<span class="op" id="6661221">&amp;&amp;</span>&nbsp;<span class="ident" id="6661224">result</span>&nbsp;<span class="op" id="6661231">==</span>&nbsp;<span class="ident" id="6661234">nil</span><span class="op" id="6661237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6661241">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661248">case</span>&nbsp;<span class="ident" id="6661253">test</span><span class="op" id="6661257">.</span><span class="ident" id="6661258">matches</span>&nbsp;<span class="op" id="6661266">==</span>&nbsp;<span class="ident" id="6661269">nil</span>&nbsp;<span class="op" id="6661273">&amp;&amp;</span>&nbsp;<span class="ident" id="6661276">result</span>&nbsp;<span class="op" id="6661283">!=</span>&nbsp;<span class="ident" id="6661286">nil</span><span class="op" id="6661289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661293">t</span><span class="op" id="6661294">.</span><span class="ident" id="6661295">Errorf</span><span class="op" id="6661301">(</span><span class="string" id="6661302">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6661334">,</span>&nbsp;<span class="ident" id="6661336">test</span><span class="op" id="6661340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661343">case</span>&nbsp;<span class="ident" id="6661348">test</span><span class="op" id="6661352">.</span><span class="ident" id="6661353">matches</span>&nbsp;<span class="op" id="6661361">!=</span>&nbsp;<span class="ident" id="6661364">nil</span>&nbsp;<span class="op" id="6661368">&amp;&amp;</span>&nbsp;<span class="ident" id="6661371">result</span>&nbsp;<span class="op" id="6661378">==</span>&nbsp;<span class="ident" id="6661381">nil</span><span class="op" id="6661384">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661388">t</span><span class="op" id="6661389">.</span><span class="ident" id="6661390">Errorf</span><span class="op" id="6661396">(</span><span class="string" id="6661397">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6661427">,</span>&nbsp;<span class="ident" id="6661429">test</span><span class="op" id="6661433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661436">case</span>&nbsp;<span class="builtinfunc" id="6661441">len</span><span class="op" id="6661444">(</span><span class="ident" id="6661445">test</span><span class="op" id="6661449">.</span><span class="ident" id="6661450">matches</span><span class="op" id="6661457">)</span>&nbsp;<span class="op" id="6661459">!=</span>&nbsp;<span class="builtinfunc" id="6661462">len</span><span class="op" id="6661465">(</span><span class="ident" id="6661466">result</span><span class="op" id="6661472">)</span><span class="op" id="6661473">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661477">t</span><span class="op" id="6661478">.</span><span class="ident" id="6661479">Errorf</span><span class="op" id="6661485">(</span><span class="string" id="6661486">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6661519">,</span>&nbsp;<span class="builtinfunc" id="6661521">len</span><span class="op" id="6661524">(</span><span class="ident" id="6661525">test</span><span class="op" id="6661529">.</span><span class="ident" id="6661530">matches</span><span class="op" id="6661537">)</span><span class="op" id="6661538">,</span>&nbsp;<span class="builtinfunc" id="6661540">len</span><span class="op" id="6661543">(</span><span class="ident" id="6661544">result</span><span class="op" id="6661550">)</span><span class="op" id="6661551">,</span>&nbsp;<span class="ident" id="6661553">test</span><span class="op" id="6661557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661560">case</span>&nbsp;<span class="ident" id="6661565">test</span><span class="op" id="6661569">.</span><span class="ident" id="6661570">matches</span>&nbsp;<span class="op" id="6661578">!=</span>&nbsp;<span class="ident" id="6661581">nil</span>&nbsp;<span class="op" id="6661585">&amp;&amp;</span>&nbsp;<span class="ident" id="6661588">result</span>&nbsp;<span class="op" id="6661595">!=</span>&nbsp;<span class="ident" id="6661598">nil</span><span class="op" id="6661601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661605">for</span>&nbsp;<span class="ident" id="6661609">k</span><span class="op" id="6661610">,</span>&nbsp;<span class="ident" id="6661612">match</span>&nbsp;<span class="op" id="6661618">:=</span>&nbsp;<span class="keyword" id="6661621">range</span>&nbsp;<span class="ident" id="6661627">test</span><span class="op" id="6661631">.</span><span class="ident" id="6661632">matches</span>&nbsp;<span class="op" id="6661640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661645">testSubmatchIndices</span><span class="op" id="6661664">(</span><span class="ident" id="6661665">test</span><span class="op" id="6661669">,</span>&nbsp;<span class="ident" id="6661671">k</span><span class="op" id="6661672">,</span>&nbsp;<span class="ident" id="6661674">match</span><span class="op" id="6661679">,</span>&nbsp;<span class="ident" id="6661681">result</span><span class="op" id="6661687">[</span><span class="ident" id="6661688">k</span><span class="op" id="6661689">]</span><span class="op" id="6661690">,</span>&nbsp;<span class="ident" id="6661692">t</span><span class="op" id="6661693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661697">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661700">}</span><br>
<span class="lineno"></span><span class="op" id="6661702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6661705">func</span>&nbsp;<span class="ident" id="6661710">TestFindAllSubmatchIndex</span><span class="op" id="6661734">(</span><span class="ident" id="6661735">t</span>&nbsp;<span class="op" id="6661737">*</span><span class="ident" id="6661738">testing</span><span class="op" id="6661745">.</span><span class="ident" id="6661746">T</span><span class="op" id="6661747">)</span>&nbsp;<span class="op" id="6661749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661752">for</span>&nbsp;<span class="ident" id="6661756">_</span><span class="op" id="6661757">,</span>&nbsp;<span class="ident" id="6661759">test</span>&nbsp;<span class="op" id="6661764">:=</span>&nbsp;<span class="keyword" id="6661767">range</span>&nbsp;<span class="ident" id="6661773">findTests</span>&nbsp;<span class="op" id="6661783">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661787">testFindAllSubmatchIndex</span><span class="op" id="6661811">(</span><span class="op" id="6661812">&amp;</span><span class="ident" id="6661813">test</span><span class="op" id="6661817">,</span>&nbsp;<span class="ident" id="6661819">MustCompile</span><span class="op" id="6661830">(</span><span class="ident" id="6661831">test</span><span class="op" id="6661835">.</span><span class="ident" id="6661836">pat</span><span class="op" id="6661839">)</span><span class="op" id="6661840">.</span><span class="ident" id="6661841">FindAllSubmatchIndex</span><span class="op" id="6661861">(</span><span class="op" id="6661862">[</span><span class="op" id="6661863">]</span><span class="builtintype" id="6661864">byte</span><span class="op" id="6661868">(</span><span class="ident" id="6661869">test</span><span class="op" id="6661873">.</span><span class="ident" id="6661874">text</span><span class="op" id="6661878">)</span><span class="op" id="6661879">,</span>&nbsp;<span class="op" id="6661881">-</span><span class="num" id="6661882">1</span><span class="op" id="6661883">)</span><span class="op" id="6661884">,</span>&nbsp;<span class="ident" id="6661886">t</span><span class="op" id="6661887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661890">}</span><br>
<span class="lineno"></span><span class="op" id="6661892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6661895">func</span>&nbsp;<span class="ident" id="6661900">TestFindAllStringSubmatchIndex</span><span class="op" id="6661930">(</span><span class="ident" id="6661931">t</span>&nbsp;<span class="op" id="6661933">*</span><span class="ident" id="6661934">testing</span><span class="op" id="6661941">.</span><span class="ident" id="6661942">T</span><span class="op" id="6661943">)</span>&nbsp;<span class="op" id="6661945">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6661948">for</span>&nbsp;<span class="ident" id="6661952">_</span><span class="op" id="6661953">,</span>&nbsp;<span class="ident" id="6661955">test</span>&nbsp;<span class="op" id="6661960">:=</span>&nbsp;<span class="keyword" id="6661963">range</span>&nbsp;<span class="ident" id="6661969">findTests</span>&nbsp;<span class="op" id="6661979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661983">testFindAllSubmatchIndex</span><span class="op" id="6662007">(</span><span class="op" id="6662008">&amp;</span><span class="ident" id="6662009">test</span><span class="op" id="6662013">,</span>&nbsp;<span class="ident" id="6662015">MustCompile</span><span class="op" id="6662026">(</span><span class="ident" id="6662027">test</span><span class="op" id="6662031">.</span><span class="ident" id="6662032">pat</span><span class="op" id="6662035">)</span><span class="op" id="6662036">.</span><span class="ident" id="6662037">FindAllStringSubmatchIndex</span><span class="op" id="6662063">(</span><span class="ident" id="6662064">test</span><span class="op" id="6662068">.</span><span class="ident" id="6662069">text</span><span class="op" id="6662073">,</span>&nbsp;<span class="op" id="6662075">-</span><span class="num" id="6662076">1</span><span class="op" id="6662077">)</span><span class="op" id="6662078">,</span>&nbsp;<span class="ident" id="6662080">t</span><span class="op" id="6662081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662084">}</span><br>
<span class="lineno"></span><span class="op" id="6662086">}</span>
</div>
</body>
</html>
