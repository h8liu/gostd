<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7228186">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7228241">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7228295">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7228346">package</span>&nbsp;<span class="ident" id="7228354">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7228361">import</span>&nbsp;<span class="op" id="7228368">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7228371">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7228386">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7228396">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7228399">func</span>&nbsp;<span class="ident" id="7228404">TestYCbCr</span><span class="op" id="7228413">(</span><span class="ident" id="7228414">t</span>&nbsp;<span class="op" id="7228416">*</span><span class="ident" id="7228417">testing</span><span class="op" id="7228424">.</span><span class="ident" id="7228425">T</span><span class="op" id="7228426">)</span>&nbsp;<span class="op" id="7228428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228431">rects</span>&nbsp;<span class="op" id="7228437">:=</span>&nbsp;<span class="op" id="7228440">[</span><span class="op" id="7228441">]</span><span class="ident" id="7228442">Rectangle</span><span class="op" id="7228451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228455">Rect</span><span class="op" id="7228459">(</span><span class="num" id="7228460">0</span><span class="op" id="7228461">,</span>&nbsp;<span class="num" id="7228463">0</span><span class="op" id="7228464">,</span>&nbsp;<span class="num" id="7228466">16</span><span class="op" id="7228468">,</span>&nbsp;<span class="num" id="7228470">16</span><span class="op" id="7228472">)</span><span class="op" id="7228473">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228477">Rect</span><span class="op" id="7228481">(</span><span class="num" id="7228482">1</span><span class="op" id="7228483">,</span>&nbsp;<span class="num" id="7228485">0</span><span class="op" id="7228486">,</span>&nbsp;<span class="num" id="7228488">16</span><span class="op" id="7228490">,</span>&nbsp;<span class="num" id="7228492">16</span><span class="op" id="7228494">)</span><span class="op" id="7228495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228499">Rect</span><span class="op" id="7228503">(</span><span class="num" id="7228504">0</span><span class="op" id="7228505">,</span>&nbsp;<span class="num" id="7228507">1</span><span class="op" id="7228508">,</span>&nbsp;<span class="num" id="7228510">16</span><span class="op" id="7228512">,</span>&nbsp;<span class="num" id="7228514">16</span><span class="op" id="7228516">)</span><span class="op" id="7228517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228521">Rect</span><span class="op" id="7228525">(</span><span class="num" id="7228526">1</span><span class="op" id="7228527">,</span>&nbsp;<span class="num" id="7228529">1</span><span class="op" id="7228530">,</span>&nbsp;<span class="num" id="7228532">16</span><span class="op" id="7228534">,</span>&nbsp;<span class="num" id="7228536">16</span><span class="op" id="7228538">)</span><span class="op" id="7228539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228543">Rect</span><span class="op" id="7228547">(</span><span class="num" id="7228548">1</span><span class="op" id="7228549">,</span>&nbsp;<span class="num" id="7228551">1</span><span class="op" id="7228552">,</span>&nbsp;<span class="num" id="7228554">15</span><span class="op" id="7228556">,</span>&nbsp;<span class="num" id="7228558">16</span><span class="op" id="7228560">)</span><span class="op" id="7228561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228565">Rect</span><span class="op" id="7228569">(</span><span class="num" id="7228570">1</span><span class="op" id="7228571">,</span>&nbsp;<span class="num" id="7228573">1</span><span class="op" id="7228574">,</span>&nbsp;<span class="num" id="7228576">16</span><span class="op" id="7228578">,</span>&nbsp;<span class="num" id="7228580">15</span><span class="op" id="7228582">)</span><span class="op" id="7228583">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228587">Rect</span><span class="op" id="7228591">(</span><span class="num" id="7228592">1</span><span class="op" id="7228593">,</span>&nbsp;<span class="num" id="7228595">1</span><span class="op" id="7228596">,</span>&nbsp;<span class="num" id="7228598">15</span><span class="op" id="7228600">,</span>&nbsp;<span class="num" id="7228602">15</span><span class="op" id="7228604">)</span><span class="op" id="7228605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228609">Rect</span><span class="op" id="7228613">(</span><span class="num" id="7228614">2</span><span class="op" id="7228615">,</span>&nbsp;<span class="num" id="7228617">3</span><span class="op" id="7228618">,</span>&nbsp;<span class="num" id="7228620">14</span><span class="op" id="7228622">,</span>&nbsp;<span class="num" id="7228624">15</span><span class="op" id="7228626">)</span><span class="op" id="7228627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228631">Rect</span><span class="op" id="7228635">(</span><span class="num" id="7228636">7</span><span class="op" id="7228637">,</span>&nbsp;<span class="num" id="7228639">0</span><span class="op" id="7228640">,</span>&nbsp;<span class="num" id="7228642">7</span><span class="op" id="7228643">,</span>&nbsp;<span class="num" id="7228645">16</span><span class="op" id="7228647">)</span><span class="op" id="7228648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228652">Rect</span><span class="op" id="7228656">(</span><span class="num" id="7228657">0</span><span class="op" id="7228658">,</span>&nbsp;<span class="num" id="7228660">8</span><span class="op" id="7228661">,</span>&nbsp;<span class="num" id="7228663">16</span><span class="op" id="7228665">,</span>&nbsp;<span class="num" id="7228667">8</span><span class="op" id="7228668">)</span><span class="op" id="7228669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228673">Rect</span><span class="op" id="7228677">(</span><span class="num" id="7228678">0</span><span class="op" id="7228679">,</span>&nbsp;<span class="num" id="7228681">0</span><span class="op" id="7228682">,</span>&nbsp;<span class="num" id="7228684">10</span><span class="op" id="7228686">,</span>&nbsp;<span class="num" id="7228688">11</span><span class="op" id="7228690">)</span><span class="op" id="7228691">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228695">Rect</span><span class="op" id="7228699">(</span><span class="num" id="7228700">5</span><span class="op" id="7228701">,</span>&nbsp;<span class="num" id="7228703">6</span><span class="op" id="7228704">,</span>&nbsp;<span class="num" id="7228706">16</span><span class="op" id="7228708">,</span>&nbsp;<span class="num" id="7228710">16</span><span class="op" id="7228712">)</span><span class="op" id="7228713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228717">Rect</span><span class="op" id="7228721">(</span><span class="num" id="7228722">7</span><span class="op" id="7228723">,</span>&nbsp;<span class="num" id="7228725">7</span><span class="op" id="7228726">,</span>&nbsp;<span class="num" id="7228728">8</span><span class="op" id="7228729">,</span>&nbsp;<span class="num" id="7228731">8</span><span class="op" id="7228732">)</span><span class="op" id="7228733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228737">Rect</span><span class="op" id="7228741">(</span><span class="num" id="7228742">7</span><span class="op" id="7228743">,</span>&nbsp;<span class="num" id="7228745">8</span><span class="op" id="7228746">,</span>&nbsp;<span class="num" id="7228748">8</span><span class="op" id="7228749">,</span>&nbsp;<span class="num" id="7228751">9</span><span class="op" id="7228752">)</span><span class="op" id="7228753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228757">Rect</span><span class="op" id="7228761">(</span><span class="num" id="7228762">8</span><span class="op" id="7228763">,</span>&nbsp;<span class="num" id="7228765">7</span><span class="op" id="7228766">,</span>&nbsp;<span class="num" id="7228768">9</span><span class="op" id="7228769">,</span>&nbsp;<span class="num" id="7228771">8</span><span class="op" id="7228772">)</span><span class="op" id="7228773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228777">Rect</span><span class="op" id="7228781">(</span><span class="num" id="7228782">8</span><span class="op" id="7228783">,</span>&nbsp;<span class="num" id="7228785">8</span><span class="op" id="7228786">,</span>&nbsp;<span class="num" id="7228788">9</span><span class="op" id="7228789">,</span>&nbsp;<span class="num" id="7228791">9</span><span class="op" id="7228792">)</span><span class="op" id="7228793">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228797">Rect</span><span class="op" id="7228801">(</span><span class="num" id="7228802">7</span><span class="op" id="7228803">,</span>&nbsp;<span class="num" id="7228805">7</span><span class="op" id="7228806">,</span>&nbsp;<span class="num" id="7228808">17</span><span class="op" id="7228810">,</span>&nbsp;<span class="num" id="7228812">17</span><span class="op" id="7228814">)</span><span class="op" id="7228815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228819">Rect</span><span class="op" id="7228823">(</span><span class="num" id="7228824">8</span><span class="op" id="7228825">,</span>&nbsp;<span class="num" id="7228827">8</span><span class="op" id="7228828">,</span>&nbsp;<span class="num" id="7228830">17</span><span class="op" id="7228832">,</span>&nbsp;<span class="num" id="7228834">17</span><span class="op" id="7228836">)</span><span class="op" id="7228837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228841">Rect</span><span class="op" id="7228845">(</span><span class="num" id="7228846">9</span><span class="op" id="7228847">,</span>&nbsp;<span class="num" id="7228849">9</span><span class="op" id="7228850">,</span>&nbsp;<span class="num" id="7228852">17</span><span class="op" id="7228854">,</span>&nbsp;<span class="num" id="7228856">17</span><span class="op" id="7228858">)</span><span class="op" id="7228859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228863">Rect</span><span class="op" id="7228867">(</span><span class="num" id="7228868">10</span><span class="op" id="7228870">,</span>&nbsp;<span class="num" id="7228872">10</span><span class="op" id="7228874">,</span>&nbsp;<span class="num" id="7228876">17</span><span class="op" id="7228878">,</span>&nbsp;<span class="num" id="7228880">17</span><span class="op" id="7228882">)</span><span class="op" id="7228883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7228886">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228889">subsampleRatios</span>&nbsp;<span class="op" id="7228905">:=</span>&nbsp;<span class="op" id="7228908">[</span><span class="op" id="7228909">]</span><span class="ident" id="7228910">YCbCrSubsampleRatio</span><span class="op" id="7228929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228933">YCbCrSubsampleRatio444</span><span class="op" id="7228955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228959">YCbCrSubsampleRatio422</span><span class="op" id="7228981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7228985">YCbCrSubsampleRatio420</span><span class="op" id="7229007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229011">YCbCrSubsampleRatio440</span><span class="op" id="7229033">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229039">deltas</span>&nbsp;<span class="op" id="7229046">:=</span>&nbsp;<span class="op" id="7229049">[</span><span class="op" id="7229050">]</span><span class="ident" id="7229051">Point</span><span class="op" id="7229056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229060">Pt</span><span class="op" id="7229062">(</span><span class="num" id="7229063">0</span><span class="op" id="7229064">,</span>&nbsp;<span class="num" id="7229066">0</span><span class="op" id="7229067">)</span><span class="op" id="7229068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229072">Pt</span><span class="op" id="7229074">(</span><span class="num" id="7229075">1000</span><span class="op" id="7229079">,</span>&nbsp;<span class="num" id="7229081">1001</span><span class="op" id="7229085">)</span><span class="op" id="7229086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229090">Pt</span><span class="op" id="7229092">(</span><span class="num" id="7229093">5001</span><span class="op" id="7229097">,</span>&nbsp;<span class="op" id="7229099">-</span><span class="num" id="7229100">400</span><span class="op" id="7229103">)</span><span class="op" id="7229104">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229108">Pt</span><span class="op" id="7229110">(</span><span class="op" id="7229111">-</span><span class="num" id="7229112">701</span><span class="op" id="7229115">,</span>&nbsp;<span class="op" id="7229117">-</span><span class="num" id="7229118">801</span><span class="op" id="7229121">)</span><span class="op" id="7229122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229128">for</span>&nbsp;<span class="ident" id="7229132">_</span><span class="op" id="7229133">,</span>&nbsp;<span class="ident" id="7229135">r</span>&nbsp;<span class="op" id="7229137">:=</span>&nbsp;<span class="keyword" id="7229140">range</span>&nbsp;<span class="ident" id="7229146">rects</span>&nbsp;<span class="op" id="7229152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229156">for</span>&nbsp;<span class="ident" id="7229160">_</span><span class="op" id="7229161">,</span>&nbsp;<span class="ident" id="7229163">subsampleRatio</span>&nbsp;<span class="op" id="7229178">:=</span>&nbsp;<span class="keyword" id="7229181">range</span>&nbsp;<span class="ident" id="7229187">subsampleRatios</span>&nbsp;<span class="op" id="7229203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229208">for</span>&nbsp;<span class="ident" id="7229212">_</span><span class="op" id="7229213">,</span>&nbsp;<span class="ident" id="7229215">delta</span>&nbsp;<span class="op" id="7229221">:=</span>&nbsp;<span class="keyword" id="7229224">range</span>&nbsp;<span class="ident" id="7229230">deltas</span>&nbsp;<span class="op" id="7229237">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229243">testYCbCr</span><span class="op" id="7229252">(</span><span class="ident" id="7229253">t</span><span class="op" id="7229254">,</span>&nbsp;<span class="ident" id="7229256">r</span><span class="op" id="7229257">,</span>&nbsp;<span class="ident" id="7229259">subsampleRatio</span><span class="op" id="7229273">,</span>&nbsp;<span class="ident" id="7229275">delta</span><span class="op" id="7229280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229293">if</span>&nbsp;<span class="ident" id="7229296">testing</span><span class="op" id="7229303">.</span><span class="ident" id="7229304">Short</span><span class="op" id="7229309">(</span><span class="op" id="7229310">)</span>&nbsp;<span class="op" id="7229312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229317">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229328">}</span><br>
<span class="lineno"></span><span class="op" id="7229330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7229333">func</span>&nbsp;<span class="ident" id="7229338">testYCbCr</span><span class="op" id="7229347">(</span><span class="ident" id="7229348">t</span>&nbsp;<span class="op" id="7229350">*</span><span class="ident" id="7229351">testing</span><span class="op" id="7229358">.</span><span class="ident" id="7229359">T</span><span class="op" id="7229360">,</span>&nbsp;<span class="ident" id="7229362">r</span>&nbsp;<span class="ident" id="7229364">Rectangle</span><span class="op" id="7229373">,</span>&nbsp;<span class="ident" id="7229375">subsampleRatio</span>&nbsp;<span class="ident" id="7229390">YCbCrSubsampleRatio</span><span class="op" id="7229409">,</span>&nbsp;<span class="ident" id="7229411">delta</span>&nbsp;<span class="ident" id="7229417">Point</span><span class="op" id="7229422">)</span>&nbsp;<span class="op" id="7229424">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7229427">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229508">r1</span>&nbsp;<span class="op" id="7229511">:=</span>&nbsp;<span class="ident" id="7229514">r</span><span class="op" id="7229515">.</span><span class="ident" id="7229516">Add</span><span class="op" id="7229519">(</span><span class="ident" id="7229520">delta</span><span class="op" id="7229525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229528">m</span>&nbsp;<span class="op" id="7229530">:=</span>&nbsp;<span class="ident" id="7229533">NewYCbCr</span><span class="op" id="7229541">(</span><span class="ident" id="7229542">r1</span><span class="op" id="7229544">,</span>&nbsp;<span class="ident" id="7229546">subsampleRatio</span><span class="op" id="7229560">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7229564">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229666">if</span>&nbsp;<span class="builtinfunc" id="7229669">len</span><span class="op" id="7229672">(</span><span class="ident" id="7229673">m</span><span class="op" id="7229674">.</span><span class="ident" id="7229675">Y</span><span class="op" id="7229676">)</span>&nbsp;<span class="op" id="7229678">&gt;</span>&nbsp;<span class="num" id="7229680">100</span><span class="op" id="7229683">*</span><span class="num" id="7229684">100</span>&nbsp;<span class="op" id="7229688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229692">t</span><span class="op" id="7229693">.</span><span class="ident" id="7229694">Errorf</span><span class="op" id="7229700">(</span><span class="string" id="7229701">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7229763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7229768">r</span><span class="op" id="7229769">,</span>&nbsp;<span class="ident" id="7229771">subsampleRatio</span><span class="op" id="7229785">,</span>&nbsp;<span class="ident" id="7229787">delta</span><span class="op" id="7229792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229796">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7229804">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7229808">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7229895">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7229977">for</span>&nbsp;<span class="ident" id="7229981">y</span>&nbsp;<span class="op" id="7229983">:=</span>&nbsp;<span class="ident" id="7229986">r1</span><span class="op" id="7229988">.</span><span class="ident" id="7229989">Min</span><span class="op" id="7229992">.</span><span class="ident" id="7229993">Y</span><span class="op" id="7229994">;</span>&nbsp;<span class="ident" id="7229996">y</span>&nbsp;<span class="op" id="7229998">&lt;</span>&nbsp;<span class="ident" id="7230000">r1</span><span class="op" id="7230002">.</span><span class="ident" id="7230003">Max</span><span class="op" id="7230006">.</span><span class="ident" id="7230007">Y</span><span class="op" id="7230008">;</span>&nbsp;<span class="ident" id="7230010">y</span><span class="op" id="7230011">++</span>&nbsp;<span class="op" id="7230014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230018">for</span>&nbsp;<span class="ident" id="7230022">x</span>&nbsp;<span class="op" id="7230024">:=</span>&nbsp;<span class="ident" id="7230027">r1</span><span class="op" id="7230029">.</span><span class="ident" id="7230030">Min</span><span class="op" id="7230033">.</span><span class="ident" id="7230034">X</span><span class="op" id="7230035">;</span>&nbsp;<span class="ident" id="7230037">x</span>&nbsp;<span class="op" id="7230039">&lt;</span>&nbsp;<span class="ident" id="7230041">r1</span><span class="op" id="7230043">.</span><span class="ident" id="7230044">Max</span><span class="op" id="7230047">.</span><span class="ident" id="7230048">X</span><span class="op" id="7230049">;</span>&nbsp;<span class="ident" id="7230051">x</span><span class="op" id="7230052">++</span>&nbsp;<span class="op" id="7230055">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230060">yi</span>&nbsp;<span class="op" id="7230063">:=</span>&nbsp;<span class="ident" id="7230066">m</span><span class="op" id="7230067">.</span><span class="ident" id="7230068">YOffset</span><span class="op" id="7230075">(</span><span class="ident" id="7230076">x</span><span class="op" id="7230077">,</span>&nbsp;<span class="ident" id="7230079">y</span><span class="op" id="7230080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230085">ci</span>&nbsp;<span class="op" id="7230088">:=</span>&nbsp;<span class="ident" id="7230091">m</span><span class="op" id="7230092">.</span><span class="ident" id="7230093">COffset</span><span class="op" id="7230100">(</span><span class="ident" id="7230101">x</span><span class="op" id="7230102">,</span>&nbsp;<span class="ident" id="7230104">y</span><span class="op" id="7230105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230110">m</span><span class="op" id="7230111">.</span><span class="ident" id="7230112">Y</span><span class="op" id="7230113">[</span><span class="ident" id="7230114">yi</span><span class="op" id="7230116">]</span>&nbsp;<span class="op" id="7230118">=</span>&nbsp;<span class="builtintype" id="7230120">uint8</span><span class="op" id="7230125">(</span><span class="num" id="7230126">16</span><span class="op" id="7230128">*</span><span class="ident" id="7230129">y</span>&nbsp;<span class="op" id="7230131">+</span>&nbsp;<span class="ident" id="7230133">x</span><span class="op" id="7230134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230139">m</span><span class="op" id="7230140">.</span><span class="ident" id="7230141">Cb</span><span class="op" id="7230143">[</span><span class="ident" id="7230144">ci</span><span class="op" id="7230146">]</span>&nbsp;<span class="op" id="7230148">=</span>&nbsp;<span class="builtintype" id="7230150">uint8</span><span class="op" id="7230155">(</span><span class="ident" id="7230156">y</span>&nbsp;<span class="op" id="7230158">+</span>&nbsp;<span class="num" id="7230160">16</span><span class="op" id="7230162">*</span><span class="ident" id="7230163">x</span><span class="op" id="7230164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230169">m</span><span class="op" id="7230170">.</span><span class="ident" id="7230171">Cr</span><span class="op" id="7230173">[</span><span class="ident" id="7230174">ci</span><span class="op" id="7230176">]</span>&nbsp;<span class="op" id="7230178">=</span>&nbsp;<span class="builtintype" id="7230180">uint8</span><span class="op" id="7230185">(</span><span class="ident" id="7230186">y</span>&nbsp;<span class="op" id="7230188">+</span>&nbsp;<span class="num" id="7230190">16</span><span class="op" id="7230192">*</span><span class="ident" id="7230193">x</span><span class="op" id="7230194">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7230201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7230205">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230239">for</span>&nbsp;<span class="ident" id="7230243">y0</span>&nbsp;<span class="op" id="7230246">:=</span>&nbsp;<span class="ident" id="7230249">delta</span><span class="op" id="7230254">.</span><span class="ident" id="7230255">Y</span>&nbsp;<span class="op" id="7230257">+</span>&nbsp;<span class="num" id="7230259">3</span><span class="op" id="7230260">;</span>&nbsp;<span class="ident" id="7230262">y0</span>&nbsp;<span class="op" id="7230265">&lt;</span>&nbsp;<span class="ident" id="7230267">delta</span><span class="op" id="7230272">.</span><span class="ident" id="7230273">Y</span><span class="op" id="7230274">+</span><span class="num" id="7230275">7</span><span class="op" id="7230276">;</span>&nbsp;<span class="ident" id="7230278">y0</span><span class="op" id="7230280">++</span>&nbsp;<span class="op" id="7230283">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230287">for</span>&nbsp;<span class="ident" id="7230291">y1</span>&nbsp;<span class="op" id="7230294">:=</span>&nbsp;<span class="ident" id="7230297">delta</span><span class="op" id="7230302">.</span><span class="ident" id="7230303">Y</span>&nbsp;<span class="op" id="7230305">+</span>&nbsp;<span class="num" id="7230307">8</span><span class="op" id="7230308">;</span>&nbsp;<span class="ident" id="7230310">y1</span>&nbsp;<span class="op" id="7230313">&lt;</span>&nbsp;<span class="ident" id="7230315">delta</span><span class="op" id="7230320">.</span><span class="ident" id="7230321">Y</span><span class="op" id="7230322">+</span><span class="num" id="7230323">13</span><span class="op" id="7230325">;</span>&nbsp;<span class="ident" id="7230327">y1</span><span class="op" id="7230329">++</span>&nbsp;<span class="op" id="7230332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230337">for</span>&nbsp;<span class="ident" id="7230341">x0</span>&nbsp;<span class="op" id="7230344">:=</span>&nbsp;<span class="ident" id="7230347">delta</span><span class="op" id="7230352">.</span><span class="ident" id="7230353">X</span>&nbsp;<span class="op" id="7230355">+</span>&nbsp;<span class="num" id="7230357">3</span><span class="op" id="7230358">;</span>&nbsp;<span class="ident" id="7230360">x0</span>&nbsp;<span class="op" id="7230363">&lt;</span>&nbsp;<span class="ident" id="7230365">delta</span><span class="op" id="7230370">.</span><span class="ident" id="7230371">X</span><span class="op" id="7230372">+</span><span class="num" id="7230373">7</span><span class="op" id="7230374">;</span>&nbsp;<span class="ident" id="7230376">x0</span><span class="op" id="7230378">++</span>&nbsp;<span class="op" id="7230381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230387">for</span>&nbsp;<span class="ident" id="7230391">x1</span>&nbsp;<span class="op" id="7230394">:=</span>&nbsp;<span class="ident" id="7230397">delta</span><span class="op" id="7230402">.</span><span class="ident" id="7230403">X</span>&nbsp;<span class="op" id="7230405">+</span>&nbsp;<span class="num" id="7230407">8</span><span class="op" id="7230408">;</span>&nbsp;<span class="ident" id="7230410">x1</span>&nbsp;<span class="op" id="7230413">&lt;</span>&nbsp;<span class="ident" id="7230415">delta</span><span class="op" id="7230420">.</span><span class="ident" id="7230421">X</span><span class="op" id="7230422">+</span><span class="num" id="7230423">13</span><span class="op" id="7230425">;</span>&nbsp;<span class="ident" id="7230427">x1</span><span class="op" id="7230429">++</span>&nbsp;<span class="op" id="7230432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230439">subRect</span>&nbsp;<span class="op" id="7230447">:=</span>&nbsp;<span class="ident" id="7230450">Rect</span><span class="op" id="7230454">(</span><span class="ident" id="7230455">x0</span><span class="op" id="7230457">,</span>&nbsp;<span class="ident" id="7230459">y0</span><span class="op" id="7230461">,</span>&nbsp;<span class="ident" id="7230463">x1</span><span class="op" id="7230465">,</span>&nbsp;<span class="ident" id="7230467">y1</span><span class="op" id="7230469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230476">sub</span>&nbsp;<span class="op" id="7230480">:=</span>&nbsp;<span class="ident" id="7230483">m</span><span class="op" id="7230484">.</span><span class="ident" id="7230485">SubImage</span><span class="op" id="7230493">(</span><span class="ident" id="7230494">subRect</span><span class="op" id="7230501">)</span><span class="op" id="7230502">.</span><span class="op" id="7230503">(</span><span class="op" id="7230504">*</span><span class="ident" id="7230505">YCbCr</span><span class="op" id="7230510">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7230518">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230611">for</span>&nbsp;<span class="ident" id="7230615">y</span>&nbsp;<span class="op" id="7230617">:=</span>&nbsp;<span class="ident" id="7230620">sub</span><span class="op" id="7230623">.</span><span class="ident" id="7230624">Rect</span><span class="op" id="7230628">.</span><span class="ident" id="7230629">Min</span><span class="op" id="7230632">.</span><span class="ident" id="7230633">Y</span><span class="op" id="7230634">;</span>&nbsp;<span class="ident" id="7230636">y</span>&nbsp;<span class="op" id="7230638">&lt;</span>&nbsp;<span class="ident" id="7230640">sub</span><span class="op" id="7230643">.</span><span class="ident" id="7230644">Rect</span><span class="op" id="7230648">.</span><span class="ident" id="7230649">Max</span><span class="op" id="7230652">.</span><span class="ident" id="7230653">Y</span><span class="op" id="7230654">;</span>&nbsp;<span class="ident" id="7230656">y</span><span class="op" id="7230657">++</span>&nbsp;<span class="op" id="7230660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230668">for</span>&nbsp;<span class="ident" id="7230672">x</span>&nbsp;<span class="op" id="7230674">:=</span>&nbsp;<span class="ident" id="7230677">sub</span><span class="op" id="7230680">.</span><span class="ident" id="7230681">Rect</span><span class="op" id="7230685">.</span><span class="ident" id="7230686">Min</span><span class="op" id="7230689">.</span><span class="ident" id="7230690">X</span><span class="op" id="7230691">;</span>&nbsp;<span class="ident" id="7230693">x</span>&nbsp;<span class="op" id="7230695">&lt;</span>&nbsp;<span class="ident" id="7230697">sub</span><span class="op" id="7230700">.</span><span class="ident" id="7230701">Rect</span><span class="op" id="7230705">.</span><span class="ident" id="7230706">Max</span><span class="op" id="7230709">.</span><span class="ident" id="7230710">X</span><span class="op" id="7230711">;</span>&nbsp;<span class="ident" id="7230713">x</span><span class="op" id="7230714">++</span>&nbsp;<span class="op" id="7230717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230726">color0</span>&nbsp;<span class="op" id="7230733">:=</span>&nbsp;<span class="ident" id="7230736">m</span><span class="op" id="7230737">.</span><span class="ident" id="7230738">At</span><span class="op" id="7230740">(</span><span class="ident" id="7230741">x</span><span class="op" id="7230742">,</span>&nbsp;<span class="ident" id="7230744">y</span><span class="op" id="7230745">)</span><span class="op" id="7230746">.</span><span class="op" id="7230747">(</span><span class="ident" id="7230748">color</span><span class="op" id="7230753">.</span><span class="ident" id="7230754">YCbCr</span><span class="op" id="7230759">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230768">color1</span>&nbsp;<span class="op" id="7230775">:=</span>&nbsp;<span class="ident" id="7230778">sub</span><span class="op" id="7230781">.</span><span class="ident" id="7230782">At</span><span class="op" id="7230784">(</span><span class="ident" id="7230785">x</span><span class="op" id="7230786">,</span>&nbsp;<span class="ident" id="7230788">y</span><span class="op" id="7230789">)</span><span class="op" id="7230790">.</span><span class="op" id="7230791">(</span><span class="ident" id="7230792">color</span><span class="op" id="7230797">.</span><span class="ident" id="7230798">YCbCr</span><span class="op" id="7230803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230812">if</span>&nbsp;<span class="ident" id="7230815">color0</span>&nbsp;<span class="op" id="7230822">!=</span>&nbsp;<span class="ident" id="7230825">color1</span>&nbsp;<span class="op" id="7230832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230842">t</span><span class="op" id="7230843">.</span><span class="ident" id="7230844">Errorf</span><span class="op" id="7230850">(</span><span class="string" id="7230851">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7230920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7230931">r</span><span class="op" id="7230932">,</span>&nbsp;<span class="ident" id="7230934">subsampleRatio</span><span class="op" id="7230948">,</span>&nbsp;<span class="ident" id="7230950">delta</span><span class="op" id="7230955">,</span>&nbsp;<span class="ident" id="7230957">x</span><span class="op" id="7230958">,</span>&nbsp;<span class="ident" id="7230960">y</span><span class="op" id="7230961">,</span>&nbsp;<span class="ident" id="7230963">color0</span><span class="op" id="7230969">,</span>&nbsp;<span class="ident" id="7230971">color1</span><span class="op" id="7230977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7230987">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231027">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7231034">}</span><br>
<span class="lineno"></span><span class="op" id="7231036">}</span>
</div>
</body>
</html>
