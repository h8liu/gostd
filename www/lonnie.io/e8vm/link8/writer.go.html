<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6083763">package</span>&nbsp;<span class="ident" id="6083771">link8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6083778">import</span>&nbsp;<span class="op" id="6083785">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6083788">&#34;bytes&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6083798">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span><span class="op" id="6083816">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6083819">type</span>&nbsp;<span class="ident" id="6083824">writer</span>&nbsp;<span class="keyword" id="6083831">struct</span>&nbsp;<span class="op" id="6083838">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6083841">buf</span>&nbsp;<span class="op" id="6083845">*</span><span class="ident" id="6083846"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083788">bytes</a></span><span class="op" id="6083851">.</span><span class="ident" id="6083852">Buffer</span><br>
<span class="lineno"></span><span class="op" id="6083859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6083862">func</span>&nbsp;<span class="ident" id="6083867">newWriter</span><span class="op" id="6083876">(</span><span class="op" id="6083877">)</span>&nbsp;<span class="op" id="6083879">*</span><span class="ident" id="6083880"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span>&nbsp;<span class="op" id="6083887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6083890">ret</span>&nbsp;<span class="op" id="6083894">:=</span>&nbsp;<span class="builtinfunc" id="6083897">new</span><span class="op" id="6083900">(</span><span class="ident" id="6083901"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span><span class="op" id="6083907">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6083910"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083890">ret</a></span><span class="op" id="6083913">.</span><span class="ident" id="6083914">buf</span>&nbsp;<span class="op" id="6083918">=</span>&nbsp;<span class="builtinfunc" id="6083920">new</span><span class="op" id="6083923">(</span><span class="ident" id="6083924"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083788">bytes</a></span><span class="op" id="6083929">.</span><span class="ident" id="6083930">Buffer</span><span class="op" id="6083936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6083939">return</span>&nbsp;<span class="ident" id="6083946"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083890">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6083950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6083953">func</span>&nbsp;<span class="op" id="6083958">(</span><span class="ident" id="6083959">w</span>&nbsp;<span class="op" id="6083961">*</span><span class="ident" id="6083962"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span><span class="op" id="6083968">)</span>&nbsp;<span class="ident" id="6083970">writeU32</span><span class="op" id="6083978">(</span><span class="ident" id="6083979">u</span>&nbsp;<span class="builtintype" id="6083981">uint32</span><span class="op" id="6083987">)</span>&nbsp;<span class="op" id="6083989">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6083992">var</span>&nbsp;<span class="ident" id="6083996">b</span>&nbsp;<span class="op" id="6083998">[</span><span class="num" id="6083999">4</span><span class="op" id="6084000">]</span><span class="builtintype" id="6084001">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084007"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083798">binary</a></span><span class="op" id="6084013">.</span><span class="ident" id="6084014">LittleEndian</span><span class="op" id="6084026">.</span><span class="ident" id="6084027">PutUint32</span><span class="op" id="6084036">(</span><span class="ident" id="6084037"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083996">b</a></span><span class="op" id="6084038">[</span><span class="op" id="6084039">:</span><span class="op" id="6084040">]</span><span class="op" id="6084041">,</span>&nbsp;<span class="ident" id="6084043"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083979">u</a></span><span class="op" id="6084044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084047">_</span><span class="op" id="6084048">,</span>&nbsp;<span class="ident" id="6084050">e</span>&nbsp;<span class="op" id="6084052">:=</span>&nbsp;<span class="ident" id="6084055"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083959">w</a></span><span class="op" id="6084056">.</span><span class="ident" id="6084057">buf</span><span class="op" id="6084060">.</span><span class="ident" id="6084061">Write</span><span class="op" id="6084066">(</span><span class="ident" id="6084067"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083996">b</a></span><span class="op" id="6084068">[</span><span class="op" id="6084069">:</span><span class="op" id="6084070">]</span><span class="op" id="6084071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084074">if</span>&nbsp;<span class="ident" id="6084077"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084050">e</a></span>&nbsp;<span class="op" id="6084079">!=</span>&nbsp;<span class="ident" id="6084082">nil</span>&nbsp;<span class="op" id="6084086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6084090">panic</span><span class="op" id="6084095">(</span><span class="string" id="6084096">&#34;buf&nbsp;write&#34;</span><span class="op" id="6084107">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084110">}</span><br>
<span class="lineno"></span><span class="op" id="6084112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6084115">func</span>&nbsp;<span class="op" id="6084120">(</span><span class="ident" id="6084121">w</span>&nbsp;<span class="op" id="6084123">*</span><span class="ident" id="6084124"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span><span class="op" id="6084130">)</span>&nbsp;<span class="ident" id="6084132">writeBareFunc</span><span class="op" id="6084145">(</span><span class="ident" id="6084146">f</span>&nbsp;<span class="op" id="6084148">*</span><span class="ident" id="6084149"><a href="/lonnie.io/e8vm/link8/func.go.html#6073639">Func</a></span><span class="op" id="6084153">)</span>&nbsp;<span class="op" id="6084155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084158">if</span>&nbsp;<span class="builtinfunc" id="6084161">len</span><span class="op" id="6084164">(</span><span class="ident" id="6084165"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084146">f</a></span><span class="op" id="6084166">.</span><span class="ident" id="6084167">links</span><span class="op" id="6084172">)</span>&nbsp;<span class="op" id="6084174">!=</span>&nbsp;<span class="num" id="6084177">0</span>&nbsp;<span class="op" id="6084179">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6084183">panic</span><span class="op" id="6084188">(</span><span class="string" id="6084189">&#34;not&nbsp;a&nbsp;bare&nbsp;function&#34;</span><span class="op" id="6084210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084217">for</span>&nbsp;<span class="ident" id="6084221">_</span><span class="op" id="6084222">,</span>&nbsp;<span class="ident" id="6084224">i</span>&nbsp;<span class="op" id="6084226">:=</span>&nbsp;<span class="keyword" id="6084229">range</span>&nbsp;<span class="ident" id="6084235"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084146">f</a></span><span class="op" id="6084236">.</span><span class="ident" id="6084237">insts</span>&nbsp;<span class="op" id="6084243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084247"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084121">w</a></span><span class="op" id="6084248">.</span><span class="ident" id="6084249">writeU32</span><span class="op" id="6084257">(</span><span class="ident" id="6084258"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084224">i</a></span><span class="op" id="6084259">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084262">}</span><br>
<span class="lineno"></span><span class="op" id="6084264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6084267">func</span>&nbsp;<span class="op" id="6084272">(</span><span class="ident" id="6084273">w</span>&nbsp;<span class="op" id="6084275">*</span><span class="ident" id="6084276"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span><span class="op" id="6084282">)</span>&nbsp;<span class="ident" id="6084284">bytes</span><span class="op" id="6084289">(</span><span class="op" id="6084290">)</span>&nbsp;<span class="op" id="6084292">[</span><span class="op" id="6084293">]</span><span class="builtintype" id="6084294">byte</span>&nbsp;<span class="op" id="6084299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084302">return</span>&nbsp;<span class="ident" id="6084309"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084273">w</a></span><span class="op" id="6084310">.</span><span class="ident" id="6084311">buf</span><span class="op" id="6084314">.</span><span class="ident" id="6084315">Bytes</span><span class="op" id="6084320">(</span><span class="op" id="6084321">)</span><br>
<span class="lineno">40</span><span class="op" id="6084323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6084326">func</span>&nbsp;<span class="ident" id="6084331">writeVar</span><span class="op" id="6084339">(</span><span class="ident" id="6084340">w</span>&nbsp;<span class="op" id="6084342">*</span><span class="ident" id="6084343"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span><span class="op" id="6084349">,</span>&nbsp;<span class="ident" id="6084351">v</span>&nbsp;<span class="op" id="6084353">*</span><span class="ident" id="6084354"><a href="/lonnie.io/e8vm/link8/var.go.html#6082964">Var</a></span><span class="op" id="6084357">)</span>&nbsp;<span class="op" id="6084359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084362"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084340">w</a></span><span class="op" id="6084363">.</span><span class="ident" id="6084364">buf</span><span class="op" id="6084367">.</span><span class="ident" id="6084368">Write</span><span class="op" id="6084373">(</span><span class="builtinfunc" id="6084374">make</span><span class="op" id="6084378">(</span><span class="op" id="6084379">[</span><span class="op" id="6084380">]</span><span class="builtintype" id="6084381">byte</span><span class="op" id="6084385">,</span>&nbsp;<span class="ident" id="6084387"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084351">v</a></span><span class="op" id="6084388">.</span><span class="ident" id="6084389">prePad</span><span class="op" id="6084395">)</span><span class="op" id="6084396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084399"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084340">w</a></span><span class="op" id="6084400">.</span><span class="ident" id="6084401">buf</span><span class="op" id="6084404">.</span><span class="ident" id="6084405">Write</span><span class="op" id="6084410">(</span><span class="ident" id="6084411"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084351">v</a></span><span class="op" id="6084412">.</span><span class="ident" id="6084413">buf</span><span class="op" id="6084416">.</span><span class="ident" id="6084417">Bytes</span><span class="op" id="6084422">(</span><span class="op" id="6084423">)</span><span class="op" id="6084424">)</span><br>
<span class="lineno">45</span><span class="op" id="6084426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6084429">func</span>&nbsp;<span class="ident" id="6084434">writeFunc</span><span class="op" id="6084443">(</span><span class="ident" id="6084444">w</span>&nbsp;<span class="op" id="6084446">*</span><span class="ident" id="6084447"><a href="/lonnie.io/e8vm/link8/writer.go.html#6083824">writer</a></span><span class="op" id="6084453">,</span>&nbsp;<span class="ident" id="6084455">p</span>&nbsp;<span class="op" id="6084457">*</span><span class="ident" id="6084458"><a href="/lonnie.io/e8vm/link8/package.go.html#6078334">Package</a></span><span class="op" id="6084465">,</span>&nbsp;<span class="ident" id="6084467">f</span>&nbsp;<span class="op" id="6084469">*</span><span class="ident" id="6084470"><a href="/lonnie.io/e8vm/link8/func.go.html#6073639">Func</a></span><span class="op" id="6084474">)</span>&nbsp;<span class="op" id="6084476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084479">cur</span>&nbsp;<span class="op" id="6084483">:=</span>&nbsp;<span class="num" id="6084486">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084489">var</span>&nbsp;<span class="ident" id="6084493">curLink</span>&nbsp;<span class="op" id="6084501">*</span><span class="ident" id="6084502"><a href="/lonnie.io/e8vm/link8/func.go.html#6073508">link</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084508">var</span>&nbsp;<span class="ident" id="6084512">curIndex</span>&nbsp;<span class="builtintype" id="6084521">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084526">updateCur</span>&nbsp;<span class="op" id="6084536">:=</span>&nbsp;<span class="keyword" id="6084539">func</span><span class="op" id="6084543">(</span><span class="op" id="6084544">)</span>&nbsp;<span class="op" id="6084546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084550">if</span>&nbsp;<span class="ident" id="6084553"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084479">cur</a></span>&nbsp;<span class="op" id="6084557">&lt;</span>&nbsp;<span class="builtinfunc" id="6084559">len</span><span class="op" id="6084562">(</span><span class="ident" id="6084563"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084467">f</a></span><span class="op" id="6084564">.</span><span class="ident" id="6084565">links</span><span class="op" id="6084570">)</span>&nbsp;<span class="op" id="6084572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084577"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span>&nbsp;<span class="op" id="6084585">=</span>&nbsp;<span class="ident" id="6084587"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084467">f</a></span><span class="op" id="6084588">.</span><span class="ident" id="6084589">links</span><span class="op" id="6084594">[</span><span class="ident" id="6084595"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084479">cur</a></span><span class="op" id="6084598">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084603"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084512">curIndex</a></span>&nbsp;<span class="op" id="6084612">=</span>&nbsp;<span class="builtintype" id="6084614">int</span><span class="op" id="6084617">(</span><span class="ident" id="6084618"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6084625">.</span><span class="ident" id="6084626">offset</span>&nbsp;<span class="op" id="6084633">&gt;&gt;</span>&nbsp;<span class="num" id="6084636">2</span><span class="op" id="6084637">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084648"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084526">updateCur</a></span><span class="op" id="6084657">(</span><span class="op" id="6084658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084661">for</span>&nbsp;<span class="ident" id="6084665">i</span><span class="op" id="6084666">,</span>&nbsp;<span class="ident" id="6084668">inst</span>&nbsp;<span class="op" id="6084673">:=</span>&nbsp;<span class="keyword" id="6084676">range</span>&nbsp;<span class="ident" id="6084682"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084467">f</a></span><span class="op" id="6084683">.</span><span class="ident" id="6084684">insts</span>&nbsp;<span class="op" id="6084690">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084694">if</span>&nbsp;<span class="ident" id="6084697"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span>&nbsp;<span class="op" id="6084705">!=</span>&nbsp;<span class="ident" id="6084708">nil</span>&nbsp;<span class="op" id="6084712">&amp;&amp;</span>&nbsp;<span class="ident" id="6084715"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084665">i</a></span>&nbsp;<span class="op" id="6084717">==</span>&nbsp;<span class="ident" id="6084720"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084512">curIndex</a></span>&nbsp;<span class="op" id="6084729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084734">fill</span>&nbsp;<span class="op" id="6084739">:=</span>&nbsp;<span class="ident" id="6084742"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6084749">.</span><span class="ident" id="6084750">offset</span>&nbsp;<span class="op" id="6084757">&amp;</span>&nbsp;<span class="num" id="6084759">0x3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084766">if</span>&nbsp;<span class="ident" id="6084769"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084734">fill</a></span>&nbsp;<span class="op" id="6084774">==</span>&nbsp;<span class="ident" id="6084777"><a href="/lonnie.io/e8vm/link8/func.go.html#6074912">FillLink</a></span>&nbsp;<span class="op" id="6084786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084792">if</span>&nbsp;<span class="op" id="6084795">(</span><span class="ident" id="6084796"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span>&nbsp;<span class="op" id="6084801">&gt;&gt;</span>&nbsp;<span class="num" id="6084804">31</span><span class="op" id="6084806">)</span>&nbsp;<span class="op" id="6084808">!=</span>&nbsp;<span class="num" id="6084811">0x1</span>&nbsp;<span class="op" id="6084815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6084822">panic</span><span class="op" id="6084827">(</span><span class="string" id="6084828">&#34;not&nbsp;a&nbsp;jump&#34;</span><span class="op" id="6084840">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6084852">if</span>&nbsp;<span class="op" id="6084855">(</span><span class="ident" id="6084856"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span>&nbsp;<span class="op" id="6084861">&amp;</span>&nbsp;<span class="num" id="6084863">0x3fffffff</span><span class="op" id="6084873">)</span>&nbsp;<span class="op" id="6084875">!=</span>&nbsp;<span class="num" id="6084878">0</span>&nbsp;<span class="op" id="6084880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6084887">panic</span><span class="op" id="6084892">(</span><span class="string" id="6084893">&#34;already&nbsp;filled&#34;</span><span class="op" id="6084909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6084915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084922">pc</span>&nbsp;<span class="op" id="6084925">:=</span>&nbsp;<span class="ident" id="6084928"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084467">f</a></span><span class="op" id="6084929">.</span><span class="ident" id="6084930">addr</span>&nbsp;<span class="op" id="6084935">+</span>&nbsp;<span class="builtintype" id="6084937">uint32</span><span class="op" id="6084943">(</span><span class="ident" id="6084944"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084665">i</a></span><span class="op" id="6084945">)</span><span class="op" id="6084946">*</span><span class="num" id="6084947">4</span>&nbsp;<span class="op" id="6084949">+</span>&nbsp;<span class="num" id="6084951">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6084957">target</span>&nbsp;<span class="op" id="6084964">:=</span>&nbsp;<span class="ident" id="6084967"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084455">p</a></span><span class="op" id="6084968">.</span><span class="ident" id="6084969">requires</span><span class="op" id="6084977">[</span><span class="ident" id="6084978"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6084985">.</span><span class="ident" id="6084986">pkg</span><span class="op" id="6084989">]</span><span class="op" id="6084990">.</span><span class="ident" id="6084991">Func</span><span class="op" id="6084995">(</span><span class="ident" id="6084996"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6085003">.</span><span class="ident" id="6085004">sym</span><span class="op" id="6085007">)</span><span class="op" id="6085008">.</span><span class="ident" id="6085009">addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085018"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span>&nbsp;<span class="op" id="6085023">|=</span>&nbsp;<span class="op" id="6085026">(</span><span class="ident" id="6085027"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084957">target</a></span>&nbsp;<span class="op" id="6085034">-</span>&nbsp;<span class="ident" id="6085036"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084922">pc</a></span><span class="op" id="6085038">)</span>&nbsp;<span class="op" id="6085040">&gt;&gt;</span>&nbsp;<span class="num" id="6085043">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085048">}</span>&nbsp;<span class="keyword" id="6085050">else</span>&nbsp;<span class="keyword" id="6085055">if</span>&nbsp;<span class="ident" id="6085058"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084734">fill</a></span>&nbsp;<span class="op" id="6085063">==</span>&nbsp;<span class="ident" id="6085066"><a href="/lonnie.io/e8vm/link8/func.go.html#6075025">FillHigh</a></span>&nbsp;<span class="op" id="6085075">||</span>&nbsp;<span class="ident" id="6085078"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084734">fill</a></span>&nbsp;<span class="op" id="6085083">==</span>&nbsp;<span class="ident" id="6085086"><a href="/lonnie.io/e8vm/link8/func.go.html#6074977">FillLow</a></span>&nbsp;<span class="op" id="6085094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085100">if</span>&nbsp;<span class="op" id="6085103">(</span><span class="ident" id="6085104"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span>&nbsp;<span class="op" id="6085109">&amp;</span>&nbsp;<span class="num" id="6085111">0xffff</span><span class="op" id="6085117">)</span>&nbsp;<span class="op" id="6085119">!=</span>&nbsp;<span class="num" id="6085122">0</span>&nbsp;<span class="op" id="6085124">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6085131">panic</span><span class="op" id="6085136">(</span><span class="string" id="6085137">&#34;already&nbsp;filled&#34;</span><span class="op" id="6085153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085166">pkg</span>&nbsp;<span class="op" id="6085170">:=</span>&nbsp;<span class="ident" id="6085173"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084455">p</a></span><span class="op" id="6085174">.</span><span class="ident" id="6085175">requires</span><span class="op" id="6085183">[</span><span class="ident" id="6085184"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6085191">.</span><span class="ident" id="6085192">pkg</span><span class="op" id="6085195">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085201">sym</span>&nbsp;<span class="op" id="6085205">:=</span>&nbsp;<span class="ident" id="6085208"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085166">pkg</a></span><span class="op" id="6085211">.</span><span class="ident" id="6085212">symbols</span><span class="op" id="6085219">[</span><span class="ident" id="6085220"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6085227">.</span><span class="ident" id="6085228">sym</span><span class="op" id="6085231">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085237">var</span>&nbsp;<span class="ident" id="6085241">v</span>&nbsp;<span class="builtintype" id="6085243">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085254">switch</span>&nbsp;<span class="ident" id="6085261"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085201">sym</a></span><span class="op" id="6085264">.</span><span class="ident" id="6085265">Type</span>&nbsp;<span class="op" id="6085270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085276">case</span>&nbsp;<span class="ident" id="6085281"><a href="/lonnie.io/e8vm/link8/symbol.go.html#6081812">SymFunc</a></span><span class="op" id="6085288">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085295"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085241">v</a></span>&nbsp;<span class="op" id="6085297">=</span>&nbsp;<span class="ident" id="6085299"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085166">pkg</a></span><span class="op" id="6085302">.</span><span class="ident" id="6085303">Func</span><span class="op" id="6085307">(</span><span class="ident" id="6085308"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6085315">.</span><span class="ident" id="6085316">sym</span><span class="op" id="6085319">)</span><span class="op" id="6085320">.</span><span class="ident" id="6085321">addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085330">case</span>&nbsp;<span class="ident" id="6085335"><a href="/lonnie.io/e8vm/link8/symbol.go.html#6081828">SymVar</a></span><span class="op" id="6085341">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085348"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085241">v</a></span>&nbsp;<span class="op" id="6085350">=</span>&nbsp;<span class="ident" id="6085352"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085166">pkg</a></span><span class="op" id="6085355">.</span><span class="ident" id="6085356">Var</span><span class="op" id="6085359">(</span><span class="ident" id="6085360"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084493">curLink</a></span><span class="op" id="6085367">.</span><span class="ident" id="6085368">sym</span><span class="op" id="6085371">)</span><span class="op" id="6085372">.</span><span class="ident" id="6085373">addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085382">default</span><span class="op" id="6085389">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6085396">panic</span><span class="op" id="6085401">(</span><span class="string" id="6085402">&#34;bug&#34;</span><span class="op" id="6085407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6085420">if</span>&nbsp;<span class="ident" id="6085423"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084734">fill</a></span>&nbsp;<span class="op" id="6085428">==</span>&nbsp;<span class="ident" id="6085431"><a href="/lonnie.io/e8vm/link8/func.go.html#6075025">FillHigh</a></span>&nbsp;<span class="op" id="6085440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085447"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span>&nbsp;<span class="op" id="6085452">|=</span>&nbsp;<span class="ident" id="6085455"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085241">v</a></span>&nbsp;<span class="op" id="6085457">&gt;&gt;</span>&nbsp;<span class="num" id="6085460">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085467">}</span>&nbsp;<span class="keyword" id="6085469">else</span>&nbsp;<span class="op" id="6085474">{</span>&nbsp;<span class="comment" id="6085476">//&nbsp;fillLow</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085492"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span>&nbsp;<span class="op" id="6085497">|=</span>&nbsp;<span class="ident" id="6085500"><a href="/lonnie.io/e8vm/link8/writer.go.html#6085241">v</a></span>&nbsp;<span class="op" id="6085502">&amp;</span>&nbsp;<span class="num" id="6085504">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085515">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085520">}</span>&nbsp;<span class="keyword" id="6085522">else</span>&nbsp;<span class="op" id="6085527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6085533">panic</span><span class="op" id="6085538">(</span><span class="string" id="6085539">&#34;invalid&nbsp;fill&#34;</span><span class="op" id="6085553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085564"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084479">cur</a></span><span class="op" id="6085567">++</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085573"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084526">updateCur</a></span><span class="op" id="6085582">(</span><span class="op" id="6085583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6085592"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084444">w</a></span><span class="op" id="6085593">.</span><span class="ident" id="6085594">writeU32</span><span class="op" id="6085602">(</span><span class="ident" id="6085603"><a href="/lonnie.io/e8vm/link8/writer.go.html#6084668">inst</a></span><span class="op" id="6085607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6085610">}</span><br>
<span class="lineno">105</span><span class="op" id="6085612">}</span>
</div>
</body>
</html>
