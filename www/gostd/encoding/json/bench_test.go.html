<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6487521">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6487577">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6487631">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6487682">//&nbsp;Large&nbsp;data&nbsp;benchmark.</span><br>
<span class="lineno"></span><span class="comment" id="6487707">//&nbsp;The&nbsp;JSON&nbsp;data&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;agl&#39;s&nbsp;changes&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6487761">//&nbsp;go,&nbsp;webkit,&nbsp;and&nbsp;chromium&nbsp;open&nbsp;source&nbsp;projects.</span><br>
<span class="lineno"></span><span class="comment" id="6487811">//&nbsp;We&nbsp;benchmark&nbsp;converting&nbsp;between&nbsp;the&nbsp;JSON&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="6487860">//&nbsp;and&nbsp;in-memory&nbsp;data&nbsp;structures.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6487895">package</span>&nbsp;<span class="ident" id="6487903">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6487909">import</span>&nbsp;<span class="op" id="6487916">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6487919">&#34;bytes&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6487928">&#34;compress/gzip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6487945">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6487958">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6487964">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6487974">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6487977">type</span>&nbsp;<span class="ident" id="6487982">codeResponse</span>&nbsp;<span class="keyword" id="6487995">struct</span>&nbsp;<span class="op" id="6488002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488005">Tree</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6488014">*</span><span class="ident" id="6488015">codeNode</span>&nbsp;<span class="string" id="6488024">`json:&#34;tree&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488039">Username</span>&nbsp;<span class="builtintype" id="6488048">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488058">`json:&#34;username&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6488076">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6488079">type</span>&nbsp;<span class="ident" id="6488084">codeNode</span>&nbsp;<span class="keyword" id="6488093">struct</span>&nbsp;<span class="op" id="6488100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488103">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6488112">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488124">`json:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488139">Kids</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6488148">[</span><span class="op" id="6488149">]</span><span class="op" id="6488150">*</span><span class="ident" id="6488151">codeNode</span>&nbsp;<span class="string" id="6488160">`json:&#34;kids&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488175">CLWeight</span>&nbsp;<span class="builtintype" id="6488184">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488196">`json:&#34;cl_weight&#34;`</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488216">Touches</span>&nbsp;&nbsp;<span class="builtintype" id="6488225">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488237">`json:&#34;touches&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488255">MinT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6488264">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488276">`json:&#34;min_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488292">MaxT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6488301">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488313">`json:&#34;max_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488329">MeanT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6488338">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6488350">`json:&#34;mean_t&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6488366">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6488369">var</span>&nbsp;<span class="ident" id="6488373">codeJSON</span>&nbsp;<span class="op" id="6488382">[</span><span class="op" id="6488383">]</span><span class="builtintype" id="6488384">byte</span><br>
<span class="lineno"></span><span class="keyword" id="6488389">var</span>&nbsp;<span class="ident" id="6488393">codeStruct</span>&nbsp;<span class="ident" id="6488404">codeResponse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6488418">func</span>&nbsp;<span class="ident" id="6488423">codeInit</span><span class="op" id="6488431">(</span><span class="op" id="6488432">)</span>&nbsp;<span class="op" id="6488434">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488437">f</span><span class="op" id="6488438">,</span>&nbsp;<span class="ident" id="6488440">err</span>&nbsp;<span class="op" id="6488444">:=</span>&nbsp;<span class="ident" id="6488447">os</span><span class="op" id="6488449">.</span><span class="ident" id="6488450">Open</span><span class="op" id="6488454">(</span><span class="string" id="6488455">&#34;testdata/code.json.gz&#34;</span><span class="op" id="6488478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488481">if</span>&nbsp;<span class="ident" id="6488484">err</span>&nbsp;<span class="op" id="6488488">!=</span>&nbsp;<span class="ident" id="6488491">nil</span>&nbsp;<span class="op" id="6488495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6488499">panic</span><span class="op" id="6488504">(</span><span class="ident" id="6488505">err</span><span class="op" id="6488508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6488511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488514">defer</span>&nbsp;<span class="ident" id="6488520">f</span><span class="op" id="6488521">.</span><span class="ident" id="6488522">Close</span><span class="op" id="6488527">(</span><span class="op" id="6488528">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488531">gz</span><span class="op" id="6488533">,</span>&nbsp;<span class="ident" id="6488535">err</span>&nbsp;<span class="op" id="6488539">:=</span>&nbsp;<span class="ident" id="6488542">gzip</span><span class="op" id="6488546">.</span><span class="ident" id="6488547">NewReader</span><span class="op" id="6488556">(</span><span class="ident" id="6488557">f</span><span class="op" id="6488558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488561">if</span>&nbsp;<span class="ident" id="6488564">err</span>&nbsp;<span class="op" id="6488568">!=</span>&nbsp;<span class="ident" id="6488571">nil</span>&nbsp;<span class="op" id="6488575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6488579">panic</span><span class="op" id="6488584">(</span><span class="ident" id="6488585">err</span><span class="op" id="6488588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6488591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488594">data</span><span class="op" id="6488598">,</span>&nbsp;<span class="ident" id="6488600">err</span>&nbsp;<span class="op" id="6488604">:=</span>&nbsp;<span class="ident" id="6488607">ioutil</span><span class="op" id="6488613">.</span><span class="ident" id="6488614">ReadAll</span><span class="op" id="6488621">(</span><span class="ident" id="6488622">gz</span><span class="op" id="6488624">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488627">if</span>&nbsp;<span class="ident" id="6488630">err</span>&nbsp;<span class="op" id="6488634">!=</span>&nbsp;<span class="ident" id="6488637">nil</span>&nbsp;<span class="op" id="6488641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6488645">panic</span><span class="op" id="6488650">(</span><span class="ident" id="6488651">err</span><span class="op" id="6488654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6488657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6488661">codeJSON</span>&nbsp;<span class="op" id="6488670">=</span>&nbsp;<span class="ident" id="6488672">data</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488679">if</span>&nbsp;<span class="ident" id="6488682">err</span>&nbsp;<span class="op" id="6488686">:=</span>&nbsp;<span class="ident" id="6488689">Unmarshal</span><span class="op" id="6488698">(</span><span class="ident" id="6488699">codeJSON</span><span class="op" id="6488707">,</span>&nbsp;<span class="op" id="6488709">&amp;</span><span class="ident" id="6488710">codeStruct</span><span class="op" id="6488720">)</span><span class="op" id="6488721">;</span>&nbsp;<span class="ident" id="6488723">err</span>&nbsp;<span class="op" id="6488727">!=</span>&nbsp;<span class="ident" id="6488730">nil</span>&nbsp;<span class="op" id="6488734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6488738">panic</span><span class="op" id="6488743">(</span><span class="string" id="6488744">&#34;unmarshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="6488768">+</span>&nbsp;<span class="ident" id="6488770">err</span><span class="op" id="6488773">.</span><span class="ident" id="6488774">Error</span><span class="op" id="6488779">(</span><span class="op" id="6488780">)</span><span class="op" id="6488781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6488784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488788">if</span>&nbsp;<span class="ident" id="6488791">data</span><span class="op" id="6488795">,</span>&nbsp;<span class="ident" id="6488797">err</span>&nbsp;<span class="op" id="6488801">=</span>&nbsp;<span class="ident" id="6488803">Marshal</span><span class="op" id="6488810">(</span><span class="op" id="6488811">&amp;</span><span class="ident" id="6488812">codeStruct</span><span class="op" id="6488822">)</span><span class="op" id="6488823">;</span>&nbsp;<span class="ident" id="6488825">err</span>&nbsp;<span class="op" id="6488829">!=</span>&nbsp;<span class="ident" id="6488832">nil</span>&nbsp;<span class="op" id="6488836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6488840">panic</span><span class="op" id="6488845">(</span><span class="string" id="6488846">&#34;marshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="6488868">+</span>&nbsp;<span class="ident" id="6488870">err</span><span class="op" id="6488873">.</span><span class="ident" id="6488874">Error</span><span class="op" id="6488879">(</span><span class="op" id="6488880">)</span><span class="op" id="6488881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6488884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488888">if</span>&nbsp;<span class="op" id="6488891">!</span><span class="ident" id="6488892">bytes</span><span class="op" id="6488897">.</span><span class="ident" id="6488898">Equal</span><span class="op" id="6488903">(</span><span class="ident" id="6488904">data</span><span class="op" id="6488908">,</span>&nbsp;<span class="ident" id="6488910">codeJSON</span><span class="op" id="6488918">)</span>&nbsp;<span class="op" id="6488920">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6488924">println</span><span class="op" id="6488931">(</span><span class="string" id="6488932">&#34;different&nbsp;lengths&#34;</span><span class="op" id="6488951">,</span>&nbsp;<span class="builtinfunc" id="6488953">len</span><span class="op" id="6488956">(</span><span class="ident" id="6488957">data</span><span class="op" id="6488961">)</span><span class="op" id="6488962">,</span>&nbsp;<span class="builtinfunc" id="6488964">len</span><span class="op" id="6488967">(</span><span class="ident" id="6488968">codeJSON</span><span class="op" id="6488976">)</span><span class="op" id="6488977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6488981">for</span>&nbsp;<span class="ident" id="6488985">i</span>&nbsp;<span class="op" id="6488987">:=</span>&nbsp;<span class="num" id="6488990">0</span><span class="op" id="6488991">;</span>&nbsp;<span class="ident" id="6488993">i</span>&nbsp;<span class="op" id="6488995">&lt;</span>&nbsp;<span class="builtinfunc" id="6488997">len</span><span class="op" id="6489000">(</span><span class="ident" id="6489001">data</span><span class="op" id="6489005">)</span>&nbsp;<span class="op" id="6489007">&amp;&amp;</span>&nbsp;<span class="ident" id="6489010">i</span>&nbsp;<span class="op" id="6489012">&lt;</span>&nbsp;<span class="builtinfunc" id="6489014">len</span><span class="op" id="6489017">(</span><span class="ident" id="6489018">codeJSON</span><span class="op" id="6489026">)</span><span class="op" id="6489027">;</span>&nbsp;<span class="ident" id="6489029">i</span><span class="op" id="6489030">++</span>&nbsp;<span class="op" id="6489033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489038">if</span>&nbsp;<span class="ident" id="6489041">data</span><span class="op" id="6489045">[</span><span class="ident" id="6489046">i</span><span class="op" id="6489047">]</span>&nbsp;<span class="op" id="6489049">!=</span>&nbsp;<span class="ident" id="6489052">codeJSON</span><span class="op" id="6489060">[</span><span class="ident" id="6489061">i</span><span class="op" id="6489062">]</span>&nbsp;<span class="op" id="6489064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6489070">println</span><span class="op" id="6489077">(</span><span class="string" id="6489078">&#34;re-marshal:&nbsp;changed&nbsp;at&nbsp;byte&#34;</span><span class="op" id="6489107">,</span>&nbsp;<span class="ident" id="6489109">i</span><span class="op" id="6489110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6489116">println</span><span class="op" id="6489123">(</span><span class="string" id="6489124">&#34;orig:&nbsp;&#34;</span><span class="op" id="6489132">,</span>&nbsp;<span class="builtintype" id="6489134">string</span><span class="op" id="6489140">(</span><span class="ident" id="6489141">codeJSON</span><span class="op" id="6489149">[</span><span class="ident" id="6489150">i</span><span class="op" id="6489151">-</span><span class="num" id="6489152">10</span><span class="op" id="6489154">:</span><span class="ident" id="6489155">i</span><span class="op" id="6489156">+</span><span class="num" id="6489157">10</span><span class="op" id="6489159">]</span><span class="op" id="6489160">)</span><span class="op" id="6489161">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6489167">println</span><span class="op" id="6489174">(</span><span class="string" id="6489175">&#34;new:&nbsp;&#34;</span><span class="op" id="6489182">,</span>&nbsp;<span class="builtintype" id="6489184">string</span><span class="op" id="6489190">(</span><span class="ident" id="6489191">data</span><span class="op" id="6489195">[</span><span class="ident" id="6489196">i</span><span class="op" id="6489197">-</span><span class="num" id="6489198">10</span><span class="op" id="6489200">:</span><span class="ident" id="6489201">i</span><span class="op" id="6489202">+</span><span class="num" id="6489203">10</span><span class="op" id="6489205">]</span><span class="op" id="6489206">)</span><span class="op" id="6489207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489213">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6489230">panic</span><span class="op" id="6489235">(</span><span class="string" id="6489236">&#34;re-marshal&nbsp;code.json:&nbsp;different&nbsp;result&#34;</span><span class="op" id="6489276">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489279">}</span><br>
<span class="lineno"></span><span class="op" id="6489281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6489284">func</span>&nbsp;<span class="ident" id="6489289">BenchmarkCodeEncoder</span><span class="op" id="6489309">(</span><span class="ident" id="6489310">b</span>&nbsp;<span class="op" id="6489312">*</span><span class="ident" id="6489313">testing</span><span class="op" id="6489320">.</span><span class="ident" id="6489321">B</span><span class="op" id="6489322">)</span>&nbsp;<span class="op" id="6489324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489327">if</span>&nbsp;<span class="ident" id="6489330">codeJSON</span>&nbsp;<span class="op" id="6489339">==</span>&nbsp;<span class="ident" id="6489342">nil</span>&nbsp;<span class="op" id="6489346">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489350">b</span><span class="op" id="6489351">.</span><span class="ident" id="6489352">StopTimer</span><span class="op" id="6489361">(</span><span class="op" id="6489362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489366">codeInit</span><span class="op" id="6489374">(</span><span class="op" id="6489375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489379">b</span><span class="op" id="6489380">.</span><span class="ident" id="6489381">StartTimer</span><span class="op" id="6489391">(</span><span class="op" id="6489392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489398">enc</span>&nbsp;<span class="op" id="6489402">:=</span>&nbsp;<span class="ident" id="6489405">NewEncoder</span><span class="op" id="6489415">(</span><span class="ident" id="6489416">ioutil</span><span class="op" id="6489422">.</span><span class="ident" id="6489423">Discard</span><span class="op" id="6489430">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489433">for</span>&nbsp;<span class="ident" id="6489437">i</span>&nbsp;<span class="op" id="6489439">:=</span>&nbsp;<span class="num" id="6489442">0</span><span class="op" id="6489443">;</span>&nbsp;<span class="ident" id="6489445">i</span>&nbsp;<span class="op" id="6489447">&lt;</span>&nbsp;<span class="ident" id="6489449">b</span><span class="op" id="6489450">.</span><span class="ident" id="6489451">N</span><span class="op" id="6489452">;</span>&nbsp;<span class="ident" id="6489454">i</span><span class="op" id="6489455">++</span>&nbsp;<span class="op" id="6489458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489462">if</span>&nbsp;<span class="ident" id="6489465">err</span>&nbsp;<span class="op" id="6489469">:=</span>&nbsp;<span class="ident" id="6489472">enc</span><span class="op" id="6489475">.</span><span class="ident" id="6489476">Encode</span><span class="op" id="6489482">(</span><span class="op" id="6489483">&amp;</span><span class="ident" id="6489484">codeStruct</span><span class="op" id="6489494">)</span><span class="op" id="6489495">;</span>&nbsp;<span class="ident" id="6489497">err</span>&nbsp;<span class="op" id="6489501">!=</span>&nbsp;<span class="ident" id="6489504">nil</span>&nbsp;<span class="op" id="6489508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489513">b</span><span class="op" id="6489514">.</span><span class="ident" id="6489515">Fatal</span><span class="op" id="6489520">(</span><span class="string" id="6489521">&#34;Encode:&#34;</span><span class="op" id="6489530">,</span>&nbsp;<span class="ident" id="6489532">err</span><span class="op" id="6489535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489542">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489545">b</span><span class="op" id="6489546">.</span><span class="ident" id="6489547">SetBytes</span><span class="op" id="6489555">(</span><span class="ident" id="6489556">int64</span><span class="op" id="6489561">(</span><span class="builtinfunc" id="6489562">len</span><span class="op" id="6489565">(</span><span class="ident" id="6489566">codeJSON</span><span class="op" id="6489574">)</span><span class="op" id="6489575">)</span><span class="op" id="6489576">)</span><br>
<span class="lineno"></span><span class="op" id="6489578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6489581">func</span>&nbsp;<span class="ident" id="6489586">BenchmarkCodeMarshal</span><span class="op" id="6489606">(</span><span class="ident" id="6489607">b</span>&nbsp;<span class="op" id="6489609">*</span><span class="ident" id="6489610">testing</span><span class="op" id="6489617">.</span><span class="ident" id="6489618">B</span><span class="op" id="6489619">)</span>&nbsp;<span class="op" id="6489621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489624">if</span>&nbsp;<span class="ident" id="6489627">codeJSON</span>&nbsp;<span class="op" id="6489636">==</span>&nbsp;<span class="ident" id="6489639">nil</span>&nbsp;<span class="op" id="6489643">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489647">b</span><span class="op" id="6489648">.</span><span class="ident" id="6489649">StopTimer</span><span class="op" id="6489658">(</span><span class="op" id="6489659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489663">codeInit</span><span class="op" id="6489671">(</span><span class="op" id="6489672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489676">b</span><span class="op" id="6489677">.</span><span class="ident" id="6489678">StartTimer</span><span class="op" id="6489688">(</span><span class="op" id="6489689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489695">for</span>&nbsp;<span class="ident" id="6489699">i</span>&nbsp;<span class="op" id="6489701">:=</span>&nbsp;<span class="num" id="6489704">0</span><span class="op" id="6489705">;</span>&nbsp;<span class="ident" id="6489707">i</span>&nbsp;<span class="op" id="6489709">&lt;</span>&nbsp;<span class="ident" id="6489711">b</span><span class="op" id="6489712">.</span><span class="ident" id="6489713">N</span><span class="op" id="6489714">;</span>&nbsp;<span class="ident" id="6489716">i</span><span class="op" id="6489717">++</span>&nbsp;<span class="op" id="6489720">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489724">if</span>&nbsp;<span class="ident" id="6489727">_</span><span class="op" id="6489728">,</span>&nbsp;<span class="ident" id="6489730">err</span>&nbsp;<span class="op" id="6489734">:=</span>&nbsp;<span class="ident" id="6489737">Marshal</span><span class="op" id="6489744">(</span><span class="op" id="6489745">&amp;</span><span class="ident" id="6489746">codeStruct</span><span class="op" id="6489756">)</span><span class="op" id="6489757">;</span>&nbsp;<span class="ident" id="6489759">err</span>&nbsp;<span class="op" id="6489763">!=</span>&nbsp;<span class="ident" id="6489766">nil</span>&nbsp;<span class="op" id="6489770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489775">b</span><span class="op" id="6489776">.</span><span class="ident" id="6489777">Fatal</span><span class="op" id="6489782">(</span><span class="string" id="6489783">&#34;Marshal:&#34;</span><span class="op" id="6489793">,</span>&nbsp;<span class="ident" id="6489795">err</span><span class="op" id="6489798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489808">b</span><span class="op" id="6489809">.</span><span class="ident" id="6489810">SetBytes</span><span class="op" id="6489818">(</span><span class="ident" id="6489819">int64</span><span class="op" id="6489824">(</span><span class="builtinfunc" id="6489825">len</span><span class="op" id="6489828">(</span><span class="ident" id="6489829">codeJSON</span><span class="op" id="6489837">)</span><span class="op" id="6489838">)</span><span class="op" id="6489839">)</span><br>
<span class="lineno">105</span><span class="op" id="6489841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6489844">func</span>&nbsp;<span class="ident" id="6489849">BenchmarkCodeDecoder</span><span class="op" id="6489869">(</span><span class="ident" id="6489870">b</span>&nbsp;<span class="op" id="6489872">*</span><span class="ident" id="6489873">testing</span><span class="op" id="6489880">.</span><span class="ident" id="6489881">B</span><span class="op" id="6489882">)</span>&nbsp;<span class="op" id="6489884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489887">if</span>&nbsp;<span class="ident" id="6489890">codeJSON</span>&nbsp;<span class="op" id="6489899">==</span>&nbsp;<span class="ident" id="6489902">nil</span>&nbsp;<span class="op" id="6489906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489910">b</span><span class="op" id="6489911">.</span><span class="ident" id="6489912">StopTimer</span><span class="op" id="6489921">(</span><span class="op" id="6489922">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489926">codeInit</span><span class="op" id="6489934">(</span><span class="op" id="6489935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489939">b</span><span class="op" id="6489940">.</span><span class="ident" id="6489941">StartTimer</span><span class="op" id="6489951">(</span><span class="op" id="6489952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6489955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6489958">var</span>&nbsp;<span class="ident" id="6489962">buf</span>&nbsp;<span class="ident" id="6489966">bytes</span><span class="op" id="6489971">.</span><span class="ident" id="6489972">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6489980">dec</span>&nbsp;<span class="op" id="6489984">:=</span>&nbsp;<span class="ident" id="6489987">NewDecoder</span><span class="op" id="6489997">(</span><span class="op" id="6489998">&amp;</span><span class="ident" id="6489999">buf</span><span class="op" id="6490002">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490005">var</span>&nbsp;<span class="ident" id="6490009">r</span>&nbsp;<span class="ident" id="6490011">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490025">for</span>&nbsp;<span class="ident" id="6490029">i</span>&nbsp;<span class="op" id="6490031">:=</span>&nbsp;<span class="num" id="6490034">0</span><span class="op" id="6490035">;</span>&nbsp;<span class="ident" id="6490037">i</span>&nbsp;<span class="op" id="6490039">&lt;</span>&nbsp;<span class="ident" id="6490041">b</span><span class="op" id="6490042">.</span><span class="ident" id="6490043">N</span><span class="op" id="6490044">;</span>&nbsp;<span class="ident" id="6490046">i</span><span class="op" id="6490047">++</span>&nbsp;<span class="op" id="6490050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490054">buf</span><span class="op" id="6490057">.</span><span class="ident" id="6490058">Write</span><span class="op" id="6490063">(</span><span class="ident" id="6490064">codeJSON</span><span class="op" id="6490072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6490076">//&nbsp;hide&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490090">buf</span><span class="op" id="6490093">.</span><span class="ident" id="6490094">WriteByte</span><span class="op" id="6490103">(</span><span class="string" id="6490104">&#39;\n&#39;</span><span class="op" id="6490108">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490112">buf</span><span class="op" id="6490115">.</span><span class="ident" id="6490116">WriteByte</span><span class="op" id="6490125">(</span><span class="string" id="6490126">&#39;\n&#39;</span><span class="op" id="6490130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490134">buf</span><span class="op" id="6490137">.</span><span class="ident" id="6490138">WriteByte</span><span class="op" id="6490147">(</span><span class="string" id="6490148">&#39;\n&#39;</span><span class="op" id="6490152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490156">if</span>&nbsp;<span class="ident" id="6490159">err</span>&nbsp;<span class="op" id="6490163">:=</span>&nbsp;<span class="ident" id="6490166">dec</span><span class="op" id="6490169">.</span><span class="ident" id="6490170">Decode</span><span class="op" id="6490176">(</span><span class="op" id="6490177">&amp;</span><span class="ident" id="6490178">r</span><span class="op" id="6490179">)</span><span class="op" id="6490180">;</span>&nbsp;<span class="ident" id="6490182">err</span>&nbsp;<span class="op" id="6490186">!=</span>&nbsp;<span class="ident" id="6490189">nil</span>&nbsp;<span class="op" id="6490193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490198">b</span><span class="op" id="6490199">.</span><span class="ident" id="6490200">Fatal</span><span class="op" id="6490205">(</span><span class="string" id="6490206">&#34;Decode:&#34;</span><span class="op" id="6490215">,</span>&nbsp;<span class="ident" id="6490217">err</span><span class="op" id="6490220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490224">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490230">b</span><span class="op" id="6490231">.</span><span class="ident" id="6490232">SetBytes</span><span class="op" id="6490240">(</span><span class="ident" id="6490241">int64</span><span class="op" id="6490246">(</span><span class="builtinfunc" id="6490247">len</span><span class="op" id="6490250">(</span><span class="ident" id="6490251">codeJSON</span><span class="op" id="6490259">)</span><span class="op" id="6490260">)</span><span class="op" id="6490261">)</span><br>
<span class="lineno"></span><span class="op" id="6490263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6490266">func</span>&nbsp;<span class="ident" id="6490271">BenchmarkCodeUnmarshal</span><span class="op" id="6490293">(</span><span class="ident" id="6490294">b</span>&nbsp;<span class="op" id="6490296">*</span><span class="ident" id="6490297">testing</span><span class="op" id="6490304">.</span><span class="ident" id="6490305">B</span><span class="op" id="6490306">)</span>&nbsp;<span class="op" id="6490308">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490311">if</span>&nbsp;<span class="ident" id="6490314">codeJSON</span>&nbsp;<span class="op" id="6490323">==</span>&nbsp;<span class="ident" id="6490326">nil</span>&nbsp;<span class="op" id="6490330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490334">b</span><span class="op" id="6490335">.</span><span class="ident" id="6490336">StopTimer</span><span class="op" id="6490345">(</span><span class="op" id="6490346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490350">codeInit</span><span class="op" id="6490358">(</span><span class="op" id="6490359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490363">b</span><span class="op" id="6490364">.</span><span class="ident" id="6490365">StartTimer</span><span class="op" id="6490375">(</span><span class="op" id="6490376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490379">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490382">for</span>&nbsp;<span class="ident" id="6490386">i</span>&nbsp;<span class="op" id="6490388">:=</span>&nbsp;<span class="num" id="6490391">0</span><span class="op" id="6490392">;</span>&nbsp;<span class="ident" id="6490394">i</span>&nbsp;<span class="op" id="6490396">&lt;</span>&nbsp;<span class="ident" id="6490398">b</span><span class="op" id="6490399">.</span><span class="ident" id="6490400">N</span><span class="op" id="6490401">;</span>&nbsp;<span class="ident" id="6490403">i</span><span class="op" id="6490404">++</span>&nbsp;<span class="op" id="6490407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490411">var</span>&nbsp;<span class="ident" id="6490415">r</span>&nbsp;<span class="ident" id="6490417">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490432">if</span>&nbsp;<span class="ident" id="6490435">err</span>&nbsp;<span class="op" id="6490439">:=</span>&nbsp;<span class="ident" id="6490442">Unmarshal</span><span class="op" id="6490451">(</span><span class="ident" id="6490452">codeJSON</span><span class="op" id="6490460">,</span>&nbsp;<span class="op" id="6490462">&amp;</span><span class="ident" id="6490463">r</span><span class="op" id="6490464">)</span><span class="op" id="6490465">;</span>&nbsp;<span class="ident" id="6490467">err</span>&nbsp;<span class="op" id="6490471">!=</span>&nbsp;<span class="ident" id="6490474">nil</span>&nbsp;<span class="op" id="6490478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490483">b</span><span class="op" id="6490484">.</span><span class="ident" id="6490485">Fatal</span><span class="op" id="6490490">(</span><span class="string" id="6490491">&#34;Unmmarshal:&#34;</span><span class="op" id="6490504">,</span>&nbsp;<span class="ident" id="6490506">err</span><span class="op" id="6490509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490513">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490519">b</span><span class="op" id="6490520">.</span><span class="ident" id="6490521">SetBytes</span><span class="op" id="6490529">(</span><span class="ident" id="6490530">int64</span><span class="op" id="6490535">(</span><span class="builtinfunc" id="6490536">len</span><span class="op" id="6490539">(</span><span class="ident" id="6490540">codeJSON</span><span class="op" id="6490548">)</span><span class="op" id="6490549">)</span><span class="op" id="6490550">)</span><br>
<span class="lineno"></span><span class="op" id="6490552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6490555">func</span>&nbsp;<span class="ident" id="6490560">BenchmarkCodeUnmarshalReuse</span><span class="op" id="6490587">(</span><span class="ident" id="6490588">b</span>&nbsp;<span class="op" id="6490590">*</span><span class="ident" id="6490591">testing</span><span class="op" id="6490598">.</span><span class="ident" id="6490599">B</span><span class="op" id="6490600">)</span>&nbsp;<span class="op" id="6490602">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490605">if</span>&nbsp;<span class="ident" id="6490608">codeJSON</span>&nbsp;<span class="op" id="6490617">==</span>&nbsp;<span class="ident" id="6490620">nil</span>&nbsp;<span class="op" id="6490624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490628">b</span><span class="op" id="6490629">.</span><span class="ident" id="6490630">StopTimer</span><span class="op" id="6490639">(</span><span class="op" id="6490640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490644">codeInit</span><span class="op" id="6490652">(</span><span class="op" id="6490653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490657">b</span><span class="op" id="6490658">.</span><span class="ident" id="6490659">StartTimer</span><span class="op" id="6490669">(</span><span class="op" id="6490670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490673">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490676">var</span>&nbsp;<span class="ident" id="6490680">r</span>&nbsp;<span class="ident" id="6490682">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490696">for</span>&nbsp;<span class="ident" id="6490700">i</span>&nbsp;<span class="op" id="6490702">:=</span>&nbsp;<span class="num" id="6490705">0</span><span class="op" id="6490706">;</span>&nbsp;<span class="ident" id="6490708">i</span>&nbsp;<span class="op" id="6490710">&lt;</span>&nbsp;<span class="ident" id="6490712">b</span><span class="op" id="6490713">.</span><span class="ident" id="6490714">N</span><span class="op" id="6490715">;</span>&nbsp;<span class="ident" id="6490717">i</span><span class="op" id="6490718">++</span>&nbsp;<span class="op" id="6490721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490725">if</span>&nbsp;<span class="ident" id="6490728">err</span>&nbsp;<span class="op" id="6490732">:=</span>&nbsp;<span class="ident" id="6490735">Unmarshal</span><span class="op" id="6490744">(</span><span class="ident" id="6490745">codeJSON</span><span class="op" id="6490753">,</span>&nbsp;<span class="op" id="6490755">&amp;</span><span class="ident" id="6490756">r</span><span class="op" id="6490757">)</span><span class="op" id="6490758">;</span>&nbsp;<span class="ident" id="6490760">err</span>&nbsp;<span class="op" id="6490764">!=</span>&nbsp;<span class="ident" id="6490767">nil</span>&nbsp;<span class="op" id="6490771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490776">b</span><span class="op" id="6490777">.</span><span class="ident" id="6490778">Fatal</span><span class="op" id="6490783">(</span><span class="string" id="6490784">&#34;Unmmarshal:&#34;</span><span class="op" id="6490797">,</span>&nbsp;<span class="ident" id="6490799">err</span><span class="op" id="6490802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490806">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6490809">}</span><br>
<span class="lineno"></span><span class="op" id="6490811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6490814">func</span>&nbsp;<span class="ident" id="6490819">BenchmarkUnmarshalString</span><span class="op" id="6490843">(</span><span class="ident" id="6490844">b</span>&nbsp;<span class="op" id="6490846">*</span><span class="ident" id="6490847">testing</span><span class="op" id="6490854">.</span><span class="ident" id="6490855">B</span><span class="op" id="6490856">)</span>&nbsp;<span class="op" id="6490858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490861">data</span>&nbsp;<span class="op" id="6490866">:=</span>&nbsp;<span class="op" id="6490869">[</span><span class="op" id="6490870">]</span><span class="builtintype" id="6490871">byte</span><span class="op" id="6490875">(</span><span class="string" id="6490876">`&#34;hello,&nbsp;world&#34;`</span><span class="op" id="6490892">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490895">var</span>&nbsp;<span class="ident" id="6490899">s</span>&nbsp;<span class="builtintype" id="6490901">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490910">for</span>&nbsp;<span class="ident" id="6490914">i</span>&nbsp;<span class="op" id="6490916">:=</span>&nbsp;<span class="num" id="6490919">0</span><span class="op" id="6490920">;</span>&nbsp;<span class="ident" id="6490922">i</span>&nbsp;<span class="op" id="6490924">&lt;</span>&nbsp;<span class="ident" id="6490926">b</span><span class="op" id="6490927">.</span><span class="ident" id="6490928">N</span><span class="op" id="6490929">;</span>&nbsp;<span class="ident" id="6490931">i</span><span class="op" id="6490932">++</span>&nbsp;<span class="op" id="6490935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6490939">if</span>&nbsp;<span class="ident" id="6490942">err</span>&nbsp;<span class="op" id="6490946">:=</span>&nbsp;<span class="ident" id="6490949">Unmarshal</span><span class="op" id="6490958">(</span><span class="ident" id="6490959">data</span><span class="op" id="6490963">,</span>&nbsp;<span class="op" id="6490965">&amp;</span><span class="ident" id="6490966">s</span><span class="op" id="6490967">)</span><span class="op" id="6490968">;</span>&nbsp;<span class="ident" id="6490970">err</span>&nbsp;<span class="op" id="6490974">!=</span>&nbsp;<span class="ident" id="6490977">nil</span>&nbsp;<span class="op" id="6490981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6490986">b</span><span class="op" id="6490987">.</span><span class="ident" id="6490988">Fatal</span><span class="op" id="6490993">(</span><span class="string" id="6490994">&#34;Unmarshal:&#34;</span><span class="op" id="6491006">,</span>&nbsp;<span class="ident" id="6491008">err</span><span class="op" id="6491011">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6491015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6491018">}</span><br>
<span class="lineno"></span><span class="op" id="6491020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6491023">func</span>&nbsp;<span class="ident" id="6491028">BenchmarkUnmarshalFloat64</span><span class="op" id="6491053">(</span><span class="ident" id="6491054">b</span>&nbsp;<span class="op" id="6491056">*</span><span class="ident" id="6491057">testing</span><span class="op" id="6491064">.</span><span class="ident" id="6491065">B</span><span class="op" id="6491066">)</span>&nbsp;<span class="op" id="6491068">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6491071">var</span>&nbsp;<span class="ident" id="6491075">f</span>&nbsp;<span class="builtintype" id="6491077">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6491086">data</span>&nbsp;<span class="op" id="6491091">:=</span>&nbsp;<span class="op" id="6491094">[</span><span class="op" id="6491095">]</span><span class="builtintype" id="6491096">byte</span><span class="op" id="6491100">(</span><span class="string" id="6491101">`3.14`</span><span class="op" id="6491107">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6491111">for</span>&nbsp;<span class="ident" id="6491115">i</span>&nbsp;<span class="op" id="6491117">:=</span>&nbsp;<span class="num" id="6491120">0</span><span class="op" id="6491121">;</span>&nbsp;<span class="ident" id="6491123">i</span>&nbsp;<span class="op" id="6491125">&lt;</span>&nbsp;<span class="ident" id="6491127">b</span><span class="op" id="6491128">.</span><span class="ident" id="6491129">N</span><span class="op" id="6491130">;</span>&nbsp;<span class="ident" id="6491132">i</span><span class="op" id="6491133">++</span>&nbsp;<span class="op" id="6491136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6491140">if</span>&nbsp;<span class="ident" id="6491143">err</span>&nbsp;<span class="op" id="6491147">:=</span>&nbsp;<span class="ident" id="6491150">Unmarshal</span><span class="op" id="6491159">(</span><span class="ident" id="6491160">data</span><span class="op" id="6491164">,</span>&nbsp;<span class="op" id="6491166">&amp;</span><span class="ident" id="6491167">f</span><span class="op" id="6491168">)</span><span class="op" id="6491169">;</span>&nbsp;<span class="ident" id="6491171">err</span>&nbsp;<span class="op" id="6491175">!=</span>&nbsp;<span class="ident" id="6491178">nil</span>&nbsp;<span class="op" id="6491182">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6491187">b</span><span class="op" id="6491188">.</span><span class="ident" id="6491189">Fatal</span><span class="op" id="6491194">(</span><span class="string" id="6491195">&#34;Unmarshal:&#34;</span><span class="op" id="6491207">,</span>&nbsp;<span class="ident" id="6491209">err</span><span class="op" id="6491212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6491216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6491219">}</span><br>
<span class="lineno"></span><span class="op" id="6491221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="6491224">func</span>&nbsp;<span class="ident" id="6491229">BenchmarkUnmarshalInt64</span><span class="op" id="6491252">(</span><span class="ident" id="6491253">b</span>&nbsp;<span class="op" id="6491255">*</span><span class="ident" id="6491256">testing</span><span class="op" id="6491263">.</span><span class="ident" id="6491264">B</span><span class="op" id="6491265">)</span>&nbsp;<span class="op" id="6491267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6491270">var</span>&nbsp;<span class="ident" id="6491274">x</span>&nbsp;<span class="ident" id="6491276">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6491283">data</span>&nbsp;<span class="op" id="6491288">:=</span>&nbsp;<span class="op" id="6491291">[</span><span class="op" id="6491292">]</span><span class="builtintype" id="6491293">byte</span><span class="op" id="6491297">(</span><span class="string" id="6491298">`3`</span><span class="op" id="6491301">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6491305">for</span>&nbsp;<span class="ident" id="6491309">i</span>&nbsp;<span class="op" id="6491311">:=</span>&nbsp;<span class="num" id="6491314">0</span><span class="op" id="6491315">;</span>&nbsp;<span class="ident" id="6491317">i</span>&nbsp;<span class="op" id="6491319">&lt;</span>&nbsp;<span class="ident" id="6491321">b</span><span class="op" id="6491322">.</span><span class="ident" id="6491323">N</span><span class="op" id="6491324">;</span>&nbsp;<span class="ident" id="6491326">i</span><span class="op" id="6491327">++</span>&nbsp;<span class="op" id="6491330">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6491334">if</span>&nbsp;<span class="ident" id="6491337">err</span>&nbsp;<span class="op" id="6491341">:=</span>&nbsp;<span class="ident" id="6491344">Unmarshal</span><span class="op" id="6491353">(</span><span class="ident" id="6491354">data</span><span class="op" id="6491358">,</span>&nbsp;<span class="op" id="6491360">&amp;</span><span class="ident" id="6491361">x</span><span class="op" id="6491362">)</span><span class="op" id="6491363">;</span>&nbsp;<span class="ident" id="6491365">err</span>&nbsp;<span class="op" id="6491369">!=</span>&nbsp;<span class="ident" id="6491372">nil</span>&nbsp;<span class="op" id="6491376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6491381">b</span><span class="op" id="6491382">.</span><span class="ident" id="6491383">Fatal</span><span class="op" id="6491388">(</span><span class="string" id="6491389">&#34;Unmarshal:&#34;</span><span class="op" id="6491401">,</span>&nbsp;<span class="ident" id="6491403">err</span><span class="op" id="6491406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6491410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6491413">}</span><br>
<span class="lineno"></span><span class="op" id="6491415">}</span>
</div>
</body>
</html>
