<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html" class="current">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7163250">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7163305">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7163359">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7163410">//&nbsp;This&nbsp;test&nbsp;tests&nbsp;some&nbsp;internals&nbsp;of&nbsp;the&nbsp;flate&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="7163466">//&nbsp;The&nbsp;tests&nbsp;in&nbsp;package&nbsp;compress/gzip&nbsp;serve&nbsp;as&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7163517">//&nbsp;end-to-end&nbsp;test&nbsp;of&nbsp;the&nbsp;decompressor.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7163558">package</span>&nbsp;<span class="ident" id="7163566">flate</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7163573">import</span>&nbsp;<span class="op" id="7163580">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7163583">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7163592">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7163602">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7163605">func</span>&nbsp;<span class="ident" id="7163610">TestUncompressedSource</span><span class="op" id="7163632">(</span><span class="ident" id="7163633">t</span>&nbsp;<span class="op" id="7163635">*</span><span class="ident" id="7163636">testing</span><span class="op" id="7163643">.</span><span class="ident" id="7163644">T</span><span class="op" id="7163645">)</span>&nbsp;<span class="op" id="7163647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163650">decoder</span>&nbsp;<span class="op" id="7163658">:=</span>&nbsp;<span class="ident" id="7163661">NewReader</span><span class="op" id="7163670">(</span><span class="ident" id="7163671">bytes</span><span class="op" id="7163676">.</span><span class="ident" id="7163677">NewReader</span><span class="op" id="7163686">(</span><span class="op" id="7163687">[</span><span class="op" id="7163688">]</span><span class="builtintype" id="7163689">byte</span><span class="op" id="7163693">{</span><span class="num" id="7163694">0x01</span><span class="op" id="7163698">,</span>&nbsp;<span class="num" id="7163700">0x01</span><span class="op" id="7163704">,</span>&nbsp;<span class="num" id="7163706">0x00</span><span class="op" id="7163710">,</span>&nbsp;<span class="num" id="7163712">0xfe</span><span class="op" id="7163716">,</span>&nbsp;<span class="num" id="7163718">0xff</span><span class="op" id="7163722">,</span>&nbsp;<span class="num" id="7163724">0x11</span><span class="op" id="7163728">}</span><span class="op" id="7163729">)</span><span class="op" id="7163730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163733">output</span>&nbsp;<span class="op" id="7163740">:=</span>&nbsp;<span class="builtinfunc" id="7163743">make</span><span class="op" id="7163747">(</span><span class="op" id="7163748">[</span><span class="op" id="7163749">]</span><span class="builtintype" id="7163750">byte</span><span class="op" id="7163754">,</span>&nbsp;<span class="num" id="7163756">1</span><span class="op" id="7163757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163760">n</span><span class="op" id="7163761">,</span>&nbsp;<span class="builtintype" id="7163763">error</span>&nbsp;<span class="op" id="7163769">:=</span>&nbsp;<span class="ident" id="7163772">decoder</span><span class="op" id="7163779">.</span><span class="ident" id="7163780">Read</span><span class="op" id="7163784">(</span><span class="ident" id="7163785">output</span><span class="op" id="7163791">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163794">if</span>&nbsp;<span class="ident" id="7163797">n</span>&nbsp;<span class="op" id="7163799">!=</span>&nbsp;<span class="num" id="7163802">1</span>&nbsp;<span class="op" id="7163804">||</span>&nbsp;<span class="builtintype" id="7163807">error</span>&nbsp;<span class="op" id="7163813">!=</span>&nbsp;<span class="builtintype" id="7163816">nil</span>&nbsp;<span class="op" id="7163820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163824">t</span><span class="op" id="7163825">.</span><span class="ident" id="7163826">Fatalf</span><span class="op" id="7163832">(</span><span class="string" id="7163833">&#34;decoder.Read()&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;1,&nbsp;nil&#34;</span><span class="op" id="7163871">,</span>&nbsp;<span class="ident" id="7163873">n</span><span class="op" id="7163874">,</span>&nbsp;<span class="builtintype" id="7163876">error</span><span class="op" id="7163881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7163887">if</span>&nbsp;<span class="ident" id="7163890">output</span><span class="op" id="7163896">[</span><span class="num" id="7163897">0</span><span class="op" id="7163898">]</span>&nbsp;<span class="op" id="7163900">!=</span>&nbsp;<span class="num" id="7163903">0x11</span>&nbsp;<span class="op" id="7163908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7163912">t</span><span class="op" id="7163913">.</span><span class="ident" id="7163914">Errorf</span><span class="op" id="7163920">(</span><span class="string" id="7163921">&#34;output[0]&nbsp;=&nbsp;%x,&nbsp;want&nbsp;0x11&#34;</span><span class="op" id="7163948">,</span>&nbsp;<span class="ident" id="7163950">output</span><span class="op" id="7163956">[</span><span class="num" id="7163957">0</span><span class="op" id="7163958">]</span><span class="op" id="7163959">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7163962">}</span><br>
<span class="lineno"></span><span class="op" id="7163964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7163967">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="7164007">func</span>&nbsp;<span class="ident" id="7164012">TestIssue5915</span><span class="op" id="7164025">(</span><span class="ident" id="7164026">t</span>&nbsp;<span class="op" id="7164028">*</span><span class="ident" id="7164029">testing</span><span class="op" id="7164036">.</span><span class="ident" id="7164037">T</span><span class="op" id="7164038">)</span>&nbsp;<span class="op" id="7164040">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164043">bits</span>&nbsp;<span class="op" id="7164048">:=</span>&nbsp;<span class="op" id="7164051">[</span><span class="op" id="7164052">]</span><span class="builtintype" id="7164053">int</span><span class="op" id="7164056">{</span><span class="num" id="7164057">4</span><span class="op" id="7164058">,</span>&nbsp;<span class="num" id="7164060">0</span><span class="op" id="7164061">,</span>&nbsp;<span class="num" id="7164063">0</span><span class="op" id="7164064">,</span>&nbsp;<span class="num" id="7164066">6</span><span class="op" id="7164067">,</span>&nbsp;<span class="num" id="7164069">4</span><span class="op" id="7164070">,</span>&nbsp;<span class="num" id="7164072">3</span><span class="op" id="7164073">,</span>&nbsp;<span class="num" id="7164075">2</span><span class="op" id="7164076">,</span>&nbsp;<span class="num" id="7164078">3</span><span class="op" id="7164079">,</span>&nbsp;<span class="num" id="7164081">3</span><span class="op" id="7164082">,</span>&nbsp;<span class="num" id="7164084">4</span><span class="op" id="7164085">,</span>&nbsp;<span class="num" id="7164087">4</span><span class="op" id="7164088">,</span>&nbsp;<span class="num" id="7164090">5</span><span class="op" id="7164091">,</span>&nbsp;<span class="num" id="7164093">0</span><span class="op" id="7164094">,</span>&nbsp;<span class="num" id="7164096">0</span><span class="op" id="7164097">,</span>&nbsp;<span class="num" id="7164099">0</span><span class="op" id="7164100">,</span>&nbsp;<span class="num" id="7164102">0</span><span class="op" id="7164103">,</span>&nbsp;<span class="num" id="7164105">5</span><span class="op" id="7164106">,</span>&nbsp;<span class="num" id="7164108">5</span><span class="op" id="7164109">,</span>&nbsp;<span class="num" id="7164111">6</span><span class="op" id="7164112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7164116">0</span><span class="op" id="7164117">,</span>&nbsp;<span class="num" id="7164119">0</span><span class="op" id="7164120">,</span>&nbsp;<span class="num" id="7164122">0</span><span class="op" id="7164123">,</span>&nbsp;<span class="num" id="7164125">0</span><span class="op" id="7164126">,</span>&nbsp;<span class="num" id="7164128">0</span><span class="op" id="7164129">,</span>&nbsp;<span class="num" id="7164131">0</span><span class="op" id="7164132">,</span>&nbsp;<span class="num" id="7164134">0</span><span class="op" id="7164135">,</span>&nbsp;<span class="num" id="7164137">0</span><span class="op" id="7164138">,</span>&nbsp;<span class="num" id="7164140">0</span><span class="op" id="7164141">,</span>&nbsp;<span class="num" id="7164143">0</span><span class="op" id="7164144">,</span>&nbsp;<span class="num" id="7164146">11</span><span class="op" id="7164148">,</span>&nbsp;<span class="num" id="7164150">0</span><span class="op" id="7164151">,</span>&nbsp;<span class="num" id="7164153">0</span><span class="op" id="7164154">,</span>&nbsp;<span class="num" id="7164156">0</span><span class="op" id="7164157">,</span>&nbsp;<span class="num" id="7164159">0</span><span class="op" id="7164160">,</span>&nbsp;<span class="num" id="7164162">0</span><span class="op" id="7164163">,</span>&nbsp;<span class="num" id="7164165">0</span><span class="op" id="7164166">,</span>&nbsp;<span class="num" id="7164168">0</span><span class="op" id="7164169">,</span>&nbsp;<span class="num" id="7164171">0</span><span class="op" id="7164172">,</span>&nbsp;<span class="num" id="7164174">0</span><span class="op" id="7164175">,</span>&nbsp;<span class="num" id="7164177">0</span><span class="op" id="7164178">,</span>&nbsp;<span class="num" id="7164180">0</span><span class="op" id="7164181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7164185">0</span><span class="op" id="7164186">,</span>&nbsp;<span class="num" id="7164188">0</span><span class="op" id="7164189">,</span>&nbsp;<span class="num" id="7164191">0</span><span class="op" id="7164192">,</span>&nbsp;<span class="num" id="7164194">0</span><span class="op" id="7164195">,</span>&nbsp;<span class="num" id="7164197">0</span><span class="op" id="7164198">,</span>&nbsp;<span class="num" id="7164200">0</span><span class="op" id="7164201">,</span>&nbsp;<span class="num" id="7164203">0</span><span class="op" id="7164204">,</span>&nbsp;<span class="num" id="7164206">0</span><span class="op" id="7164207">,</span>&nbsp;<span class="num" id="7164209">0</span><span class="op" id="7164210">,</span>&nbsp;<span class="num" id="7164212">0</span><span class="op" id="7164213">,</span>&nbsp;<span class="num" id="7164215">7</span><span class="op" id="7164216">,</span>&nbsp;<span class="num" id="7164218">8</span><span class="op" id="7164219">,</span>&nbsp;<span class="num" id="7164221">6</span><span class="op" id="7164222">,</span>&nbsp;<span class="num" id="7164224">0</span><span class="op" id="7164225">,</span>&nbsp;<span class="num" id="7164227">11</span><span class="op" id="7164229">,</span>&nbsp;<span class="num" id="7164231">0</span><span class="op" id="7164232">,</span>&nbsp;<span class="num" id="7164234">8</span><span class="op" id="7164235">,</span>&nbsp;<span class="num" id="7164237">0</span><span class="op" id="7164238">,</span>&nbsp;<span class="num" id="7164240">6</span><span class="op" id="7164241">,</span>&nbsp;<span class="num" id="7164243">6</span><span class="op" id="7164244">,</span>&nbsp;<span class="num" id="7164246">10</span><span class="op" id="7164248">,</span>&nbsp;<span class="num" id="7164250">8</span><span class="op" id="7164251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164254">h</span>&nbsp;<span class="op" id="7164256">:=</span>&nbsp;<span class="builtinfunc" id="7164259">new</span><span class="op" id="7164262">(</span><span class="ident" id="7164263">huffmanDecoder</span><span class="op" id="7164277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164280">ok</span>&nbsp;<span class="op" id="7164283">:=</span>&nbsp;<span class="ident" id="7164286">h</span><span class="op" id="7164287">.</span><span class="ident" id="7164288">init</span><span class="op" id="7164292">(</span><span class="ident" id="7164293">bits</span><span class="op" id="7164297">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164300">if</span>&nbsp;<span class="ident" id="7164303">ok</span>&nbsp;<span class="op" id="7164306">==</span>&nbsp;<span class="builtintype" id="7164309">true</span>&nbsp;<span class="op" id="7164314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164318">t</span><span class="op" id="7164319">.</span><span class="ident" id="7164320">Fatalf</span><span class="op" id="7164326">(</span><span class="string" id="7164327">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad,&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="7164383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164386">}</span><br>
<span class="lineno"></span><span class="op" id="7164388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="7164391">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="7164431">func</span>&nbsp;<span class="ident" id="7164436">TestIssue5962</span><span class="op" id="7164449">(</span><span class="ident" id="7164450">t</span>&nbsp;<span class="op" id="7164452">*</span><span class="ident" id="7164453">testing</span><span class="op" id="7164460">.</span><span class="ident" id="7164461">T</span><span class="op" id="7164462">)</span>&nbsp;<span class="op" id="7164464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164467">bits</span>&nbsp;<span class="op" id="7164472">:=</span>&nbsp;<span class="op" id="7164475">[</span><span class="op" id="7164476">]</span><span class="builtintype" id="7164477">int</span><span class="op" id="7164480">{</span><span class="num" id="7164481">4</span><span class="op" id="7164482">,</span>&nbsp;<span class="num" id="7164484">0</span><span class="op" id="7164485">,</span>&nbsp;<span class="num" id="7164487">0</span><span class="op" id="7164488">,</span>&nbsp;<span class="num" id="7164490">6</span><span class="op" id="7164491">,</span>&nbsp;<span class="num" id="7164493">4</span><span class="op" id="7164494">,</span>&nbsp;<span class="num" id="7164496">3</span><span class="op" id="7164497">,</span>&nbsp;<span class="num" id="7164499">2</span><span class="op" id="7164500">,</span>&nbsp;<span class="num" id="7164502">3</span><span class="op" id="7164503">,</span>&nbsp;<span class="num" id="7164505">3</span><span class="op" id="7164506">,</span>&nbsp;<span class="num" id="7164508">4</span><span class="op" id="7164509">,</span>&nbsp;<span class="num" id="7164511">4</span><span class="op" id="7164512">,</span>&nbsp;<span class="num" id="7164514">5</span><span class="op" id="7164515">,</span>&nbsp;<span class="num" id="7164517">0</span><span class="op" id="7164518">,</span>&nbsp;<span class="num" id="7164520">0</span><span class="op" id="7164521">,</span>&nbsp;<span class="num" id="7164523">0</span><span class="op" id="7164524">,</span>&nbsp;<span class="num" id="7164526">0</span><span class="op" id="7164527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7164531">5</span><span class="op" id="7164532">,</span>&nbsp;<span class="num" id="7164534">5</span><span class="op" id="7164535">,</span>&nbsp;<span class="num" id="7164537">6</span><span class="op" id="7164538">,</span>&nbsp;<span class="num" id="7164540">0</span><span class="op" id="7164541">,</span>&nbsp;<span class="num" id="7164543">0</span><span class="op" id="7164544">,</span>&nbsp;<span class="num" id="7164546">0</span><span class="op" id="7164547">,</span>&nbsp;<span class="num" id="7164549">0</span><span class="op" id="7164550">,</span>&nbsp;<span class="num" id="7164552">0</span><span class="op" id="7164553">,</span>&nbsp;<span class="num" id="7164555">0</span><span class="op" id="7164556">,</span>&nbsp;<span class="num" id="7164558">0</span><span class="op" id="7164559">,</span>&nbsp;<span class="num" id="7164561">0</span><span class="op" id="7164562">,</span>&nbsp;<span class="num" id="7164564">0</span><span class="op" id="7164565">,</span>&nbsp;<span class="num" id="7164567">0</span><span class="op" id="7164568">,</span>&nbsp;<span class="num" id="7164570">11</span><span class="op" id="7164572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164575">h</span>&nbsp;<span class="op" id="7164577">:=</span>&nbsp;<span class="builtinfunc" id="7164580">new</span><span class="op" id="7164583">(</span><span class="ident" id="7164584">huffmanDecoder</span><span class="op" id="7164598">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164601">ok</span>&nbsp;<span class="op" id="7164604">:=</span>&nbsp;<span class="ident" id="7164607">h</span><span class="op" id="7164608">.</span><span class="ident" id="7164609">init</span><span class="op" id="7164613">(</span><span class="ident" id="7164614">bits</span><span class="op" id="7164618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164621">if</span>&nbsp;<span class="ident" id="7164624">ok</span>&nbsp;<span class="op" id="7164627">==</span>&nbsp;<span class="builtintype" id="7164630">true</span>&nbsp;<span class="op" id="7164635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164639">t</span><span class="op" id="7164640">.</span><span class="ident" id="7164641">Fatalf</span><span class="op" id="7164647">(</span><span class="string" id="7164648">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad,&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="7164704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164707">}</span><br>
<span class="lineno"></span><span class="op" id="7164709">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="7164712">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="7164752">func</span>&nbsp;<span class="ident" id="7164757">TestIssue6255</span><span class="op" id="7164770">(</span><span class="ident" id="7164771">t</span>&nbsp;<span class="op" id="7164773">*</span><span class="ident" id="7164774">testing</span><span class="op" id="7164781">.</span><span class="ident" id="7164782">T</span><span class="op" id="7164783">)</span>&nbsp;<span class="op" id="7164785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164788">bits1</span>&nbsp;<span class="op" id="7164794">:=</span>&nbsp;<span class="op" id="7164797">[</span><span class="op" id="7164798">]</span><span class="builtintype" id="7164799">int</span><span class="op" id="7164802">{</span><span class="num" id="7164803">1</span><span class="op" id="7164804">,</span>&nbsp;<span class="num" id="7164806">2</span><span class="op" id="7164807">,</span>&nbsp;<span class="num" id="7164809">3</span><span class="op" id="7164810">,</span>&nbsp;<span class="num" id="7164812">4</span><span class="op" id="7164813">,</span>&nbsp;<span class="num" id="7164815">5</span><span class="op" id="7164816">,</span>&nbsp;<span class="num" id="7164818">6</span><span class="op" id="7164819">,</span>&nbsp;<span class="num" id="7164821">7</span><span class="op" id="7164822">,</span>&nbsp;<span class="num" id="7164824">8</span><span class="op" id="7164825">,</span>&nbsp;<span class="num" id="7164827">9</span><span class="op" id="7164828">,</span>&nbsp;<span class="num" id="7164830">10</span><span class="op" id="7164832">,</span>&nbsp;<span class="num" id="7164834">11</span><span class="op" id="7164836">,</span>&nbsp;<span class="num" id="7164838">11</span><span class="op" id="7164840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164843">bits2</span>&nbsp;<span class="op" id="7164849">:=</span>&nbsp;<span class="op" id="7164852">[</span><span class="op" id="7164853">]</span><span class="builtintype" id="7164854">int</span><span class="op" id="7164857">{</span><span class="num" id="7164858">11</span><span class="op" id="7164860">,</span>&nbsp;<span class="num" id="7164862">13</span><span class="op" id="7164864">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164867">h</span>&nbsp;<span class="op" id="7164869">:=</span>&nbsp;<span class="builtinfunc" id="7164872">new</span><span class="op" id="7164875">(</span><span class="ident" id="7164876">huffmanDecoder</span><span class="op" id="7164890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164893">if</span>&nbsp;<span class="op" id="7164896">!</span><span class="ident" id="7164897">h</span><span class="op" id="7164898">.</span><span class="ident" id="7164899">init</span><span class="op" id="7164903">(</span><span class="ident" id="7164904">bits1</span><span class="op" id="7164909">)</span>&nbsp;<span class="op" id="7164911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7164915">t</span><span class="op" id="7164916">.</span><span class="ident" id="7164917">Fatalf</span><span class="op" id="7164923">(</span><span class="string" id="7164924">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;good&nbsp;and&nbsp;should&nbsp;succeed.&#34;</span><span class="op" id="7164976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7164979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7164982">if</span>&nbsp;<span class="ident" id="7164985">h</span><span class="op" id="7164986">.</span><span class="ident" id="7164987">init</span><span class="op" id="7164991">(</span><span class="ident" id="7164992">bits2</span><span class="op" id="7164997">)</span>&nbsp;<span class="op" id="7164999">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7165003">t</span><span class="op" id="7165004">.</span><span class="ident" id="7165005">Fatalf</span><span class="op" id="7165011">(</span><span class="string" id="7165012">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="7165067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7165070">}</span><br>
<span class="lineno"></span><span class="op" id="7165072">}</span>
</div>
</body>
</html>
