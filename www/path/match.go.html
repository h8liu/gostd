<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2475704">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2475759">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2475813">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2475864">package</span>&nbsp;<span class="ident" id="2475872">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2475878">import</span>&nbsp;<span class="op" id="2475885">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2475888">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2475898">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2475909">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2475924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2475927">//&nbsp;ErrBadPattern&nbsp;indicates&nbsp;a&nbsp;globbing&nbsp;pattern&nbsp;was&nbsp;malformed.</span><br>
<span class="lineno"></span><span class="keyword" id="2475988">var</span>&nbsp;<span class="ident" id="2475992">ErrBadPattern</span>&nbsp;<span class="op" id="2476006">=</span>&nbsp;<span class="ident" id="2476008"><a href="/path/match.go.html#2475888">errors</a></span><span class="op" id="2476014">.</span><span class="ident" id="2476015">New</span><span class="op" id="2476018">(</span><span class="string" id="2476019">&#34;syntax&nbsp;error&nbsp;in&nbsp;pattern&#34;</span><span class="op" id="2476044">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2476047">//&nbsp;Match&nbsp;returns&nbsp;true&nbsp;if&nbsp;name&nbsp;matches&nbsp;the&nbsp;shell&nbsp;file&nbsp;name&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="comment" id="2476114">//&nbsp;The&nbsp;pattern&nbsp;syntax&nbsp;is:</span><br>
<span class="lineno"></span><span class="comment" id="2476140">//</span><br>
<span class="lineno"></span><span class="comment" id="2476143">//&nbsp;&nbsp;&nbsp;&nbsppattern:</span><br>
<span class="lineno">20</span><span class="comment" id="2476155">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{&nbsp;term&nbsp;}</span><br>
<span class="lineno"></span><span class="comment" id="2476168">//&nbsp;&nbsp;&nbsp;&nbspterm:</span><br>
<span class="lineno"></span><span class="comment" id="2476177">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;*&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;any&nbsp;sequence&nbsp;of&nbsp;non-/&nbsp;characters</span><br>
<span class="lineno"></span><span class="comment" id="2476234">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;?&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;any&nbsp;single&nbsp;non-/&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="2476285">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;[&#39;&nbsp;[&nbsp;&#39;^&#39;&nbsp;]&nbsp;{&nbsp;character-range&nbsp;}&nbsp;&#39;]&#39;</span><br>
<span class="lineno">25</span><span class="comment" id="2476325">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character&nbsp;class&nbsp;(must&nbsp;be&nbsp;non-empty)</span><br>
<span class="lineno"></span><span class="comment" id="2476377">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;(c&nbsp;!=&nbsp;&#39;*&#39;,&nbsp;&#39;?&#39;,&nbsp;&#39;\\&#39;,&nbsp;&#39;[&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="2476440">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;\\&#39;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c</span><br>
<span class="lineno"></span><span class="comment" id="2476476">//</span><br>
<span class="lineno"></span><span class="comment" id="2476479">//&nbsp;&nbsp;&nbsp;&nbspcharacter-range:</span><br>
<span class="lineno">30</span><span class="comment" id="2476499">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;(c&nbsp;!=&nbsp;&#39;\\&#39;,&nbsp;&#39;-&#39;,&nbsp;&#39;]&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="2476557">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#39;\\&#39;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c</span><br>
<span class="lineno"></span><span class="comment" id="2476593">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplo&nbsp;&#39;-&#39;&nbsp;hi&nbsp;&nbsp;&nbsp;matches&nbsp;character&nbsp;c&nbsp;for&nbsp;lo&nbsp;&lt;=&nbsp;c&nbsp;&lt;=&nbsp;hi</span><br>
<span class="lineno"></span><span class="comment" id="2476647">//</span><br>
<span class="lineno"></span><span class="comment" id="2476650">//&nbsp;Match&nbsp;requires&nbsp;pattern&nbsp;to&nbsp;match&nbsp;all&nbsp;of&nbsp;name,&nbsp;not&nbsp;just&nbsp;a&nbsp;substring.</span><br>
<span class="lineno">35</span><span class="comment" id="2476720">//&nbsp;The&nbsp;only&nbsp;possible&nbsp;returned&nbsp;error&nbsp;is&nbsp;ErrBadPattern,&nbsp;when&nbsp;pattern</span><br>
<span class="lineno"></span><span class="comment" id="2476787">//&nbsp;is&nbsp;malformed.</span><br>
<span class="lineno"></span><span class="comment" id="2476804">//</span><br>
<span class="lineno"></span><span class="keyword" id="2476807">func</span>&nbsp;<span class="ident" id="2476812">Match</span><span class="op" id="2476817">(</span><span class="ident" id="2476818">pattern</span><span class="op" id="2476825">,</span>&nbsp;<span class="ident" id="2476827">name</span>&nbsp;<span class="builtintype" id="2476832">string</span><span class="op" id="2476838">)</span>&nbsp;<span class="op" id="2476840">(</span><span class="ident" id="2476841">matched</span>&nbsp;<span class="builtintype" id="2476849">bool</span><span class="op" id="2476853">,</span>&nbsp;<span class="ident" id="2476855">err</span>&nbsp;<span class="builtintype" id="2476859">error</span><span class="op" id="2476864">)</span>&nbsp;<span class="op" id="2476866">{</span><br>
<span class="lineno"></span><span class="ident" id="2476868">Pattern</span><span class="op" id="2476875">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476878">for</span>&nbsp;<span class="builtinfunc" id="2476882">len</span><span class="op" id="2476885">(</span><span class="ident" id="2476886"><a href="/path/match.go.html#2476818">pattern</a></span><span class="op" id="2476893">)</span>&nbsp;<span class="op" id="2476895">&gt;</span>&nbsp;<span class="num" id="2476897">0</span>&nbsp;<span class="op" id="2476899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476903">var</span>&nbsp;<span class="ident" id="2476907">star</span>&nbsp;<span class="builtintype" id="2476912">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476919">var</span>&nbsp;<span class="ident" id="2476923">chunk</span>&nbsp;<span class="builtintype" id="2476929">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476938"><a href="/path/match.go.html#2476907">star</a></span><span class="op" id="2476942">,</span>&nbsp;<span class="ident" id="2476944"><a href="/path/match.go.html#2476923">chunk</a></span><span class="op" id="2476949">,</span>&nbsp;<span class="ident" id="2476951"><a href="/path/match.go.html#2476818">pattern</a></span>&nbsp;<span class="op" id="2476959">=</span>&nbsp;<span class="ident" id="2476961"><a href="/path/match.go.html#2478050">scanChunk</a></span><span class="op" id="2476970">(</span><span class="ident" id="2476971"><a href="/path/match.go.html#2476818">pattern</a></span><span class="op" id="2476978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476982">if</span>&nbsp;<span class="ident" id="2476985"><a href="/path/match.go.html#2476907">star</a></span>&nbsp;<span class="op" id="2476990">&amp;&amp;</span>&nbsp;<span class="ident" id="2476993"><a href="/path/match.go.html#2476923">chunk</a></span>&nbsp;<span class="op" id="2476999">==</span>&nbsp;<span class="string" id="2477002">&#34;&#34;</span>&nbsp;<span class="op" id="2477005">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477010">//&nbsp;Trailing&nbsp;*&nbsp;matches&nbsp;rest&nbsp;of&nbsp;string&nbsp;unless&nbsp;it&nbsp;has&nbsp;a&nbsp;/.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477069">return</span>&nbsp;<span class="ident" id="2477076"><a href="/path/match.go.html#2475898">strings</a></span><span class="op" id="2477083">.</span><span class="ident" id="2477084">Index</span><span class="op" id="2477089">(</span><span class="ident" id="2477090"><a href="/path/match.go.html#2476827">name</a></span><span class="op" id="2477094">,</span>&nbsp;<span class="string" id="2477096">&#34;/&#34;</span><span class="op" id="2477099">)</span>&nbsp;<span class="op" id="2477101">&lt;</span>&nbsp;<span class="num" id="2477103">0</span><span class="op" id="2477104">,</span>&nbsp;<span class="ident" id="2477106">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477116">//&nbsp;Look&nbsp;for&nbsp;match&nbsp;at&nbsp;current&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477157">t</span><span class="op" id="2477158">,</span>&nbsp;<span class="ident" id="2477160">ok</span><span class="op" id="2477162">,</span>&nbsp;<span class="ident" id="2477164">err</span>&nbsp;<span class="op" id="2477168">:=</span>&nbsp;<span class="ident" id="2477171"><a href="/path/match.go.html#2478758">matchChunk</a></span><span class="op" id="2477181">(</span><span class="ident" id="2477182"><a href="/path/match.go.html#2476923">chunk</a></span><span class="op" id="2477187">,</span>&nbsp;<span class="ident" id="2477189"><a href="/path/match.go.html#2476827">name</a></span><span class="op" id="2477193">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477197">//&nbsp;if&nbsp;we&#39;re&nbsp;the&nbsp;last&nbsp;chunk,&nbsp;make&nbsp;sure&nbsp;we&#39;ve&nbsp;exhausted&nbsp;the&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477262">//&nbsp;otherwise&nbsp;we&#39;ll&nbsp;give&nbsp;a&nbsp;false&nbsp;result&nbsp;even&nbsp;if&nbsp;we&nbsp;could&nbsp;still&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477332">//&nbsp;using&nbsp;the&nbsp;star</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477352">if</span>&nbsp;<span class="ident" id="2477355"><a href="/path/match.go.html#2477160">ok</a></span>&nbsp;<span class="op" id="2477358">&amp;&amp;</span>&nbsp;<span class="op" id="2477361">(</span><span class="builtinfunc" id="2477362">len</span><span class="op" id="2477365">(</span><span class="ident" id="2477366"><a href="/path/match.go.html#2477157">t</a></span><span class="op" id="2477367">)</span>&nbsp;<span class="op" id="2477369">==</span>&nbsp;<span class="num" id="2477372">0</span>&nbsp;<span class="op" id="2477374">||</span>&nbsp;<span class="builtinfunc" id="2477377">len</span><span class="op" id="2477380">(</span><span class="ident" id="2477381"><a href="/path/match.go.html#2476818">pattern</a></span><span class="op" id="2477388">)</span>&nbsp;<span class="op" id="2477390">&gt;</span>&nbsp;<span class="num" id="2477392">0</span><span class="op" id="2477393">)</span>&nbsp;<span class="op" id="2477395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477400"><a href="/path/match.go.html#2476827">name</a></span>&nbsp;<span class="op" id="2477405">=</span>&nbsp;<span class="ident" id="2477407"><a href="/path/match.go.html#2477157">t</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477412">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477427">if</span>&nbsp;<span class="ident" id="2477430"><a href="/path/match.go.html#2477164">err</a></span>&nbsp;<span class="op" id="2477434">!=</span>&nbsp;<span class="ident" id="2477437">nil</span>&nbsp;<span class="op" id="2477441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477446">return</span>&nbsp;<span class="builtintype" id="2477453">false</span><span class="op" id="2477458">,</span>&nbsp;<span class="ident" id="2477460"><a href="/path/match.go.html#2477164">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477466">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477470">if</span>&nbsp;<span class="ident" id="2477473"><a href="/path/match.go.html#2476907">star</a></span>&nbsp;<span class="op" id="2477478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477483">//&nbsp;Look&nbsp;for&nbsp;match&nbsp;skipping&nbsp;i+1&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477524">//&nbsp;Cannot&nbsp;skip&nbsp;/.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477545">for</span>&nbsp;<span class="ident" id="2477549">i</span>&nbsp;<span class="op" id="2477551">:=</span>&nbsp;<span class="num" id="2477554">0</span><span class="op" id="2477555">;</span>&nbsp;<span class="ident" id="2477557"><a href="/path/match.go.html#2477549">i</a></span>&nbsp;<span class="op" id="2477559">&lt;</span>&nbsp;<span class="builtinfunc" id="2477561">len</span><span class="op" id="2477564">(</span><span class="ident" id="2477565"><a href="/path/match.go.html#2476827">name</a></span><span class="op" id="2477569">)</span>&nbsp;<span class="op" id="2477571">&amp;&amp;</span>&nbsp;<span class="ident" id="2477574"><a href="/path/match.go.html#2476827">name</a></span><span class="op" id="2477578">[</span><span class="ident" id="2477579"><a href="/path/match.go.html#2477549">i</a></span><span class="op" id="2477580">]</span>&nbsp;<span class="op" id="2477582">!=</span>&nbsp;<span class="string" id="2477585">&#39;/&#39;</span><span class="op" id="2477588">;</span>&nbsp;<span class="ident" id="2477590"><a href="/path/match.go.html#2477549">i</a></span><span class="op" id="2477591">++</span>&nbsp;<span class="op" id="2477594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477600">t</span><span class="op" id="2477601">,</span>&nbsp;<span class="ident" id="2477603">ok</span><span class="op" id="2477605">,</span>&nbsp;<span class="ident" id="2477607">err</span>&nbsp;<span class="op" id="2477611">:=</span>&nbsp;<span class="ident" id="2477614"><a href="/path/match.go.html#2478758">matchChunk</a></span><span class="op" id="2477624">(</span><span class="ident" id="2477625"><a href="/path/match.go.html#2476923">chunk</a></span><span class="op" id="2477630">,</span>&nbsp;<span class="ident" id="2477632"><a href="/path/match.go.html#2476827">name</a></span><span class="op" id="2477636">[</span><span class="ident" id="2477637"><a href="/path/match.go.html#2477549">i</a></span><span class="op" id="2477638">+</span><span class="num" id="2477639">1</span><span class="op" id="2477640">:</span><span class="op" id="2477641">]</span><span class="op" id="2477642">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477648">if</span>&nbsp;<span class="ident" id="2477651"><a href="/path/match.go.html#2477603">ok</a></span>&nbsp;<span class="op" id="2477654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477661">//&nbsp;if&nbsp;we&#39;re&nbsp;the&nbsp;last&nbsp;chunk,&nbsp;make&nbsp;sure&nbsp;we&nbsp;exhausted&nbsp;the&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477726">if</span>&nbsp;<span class="builtinfunc" id="2477729">len</span><span class="op" id="2477732">(</span><span class="ident" id="2477733"><a href="/path/match.go.html#2476818">pattern</a></span><span class="op" id="2477740">)</span>&nbsp;<span class="op" id="2477742">==</span>&nbsp;<span class="num" id="2477745">0</span>&nbsp;<span class="op" id="2477747">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2477750">len</span><span class="op" id="2477753">(</span><span class="ident" id="2477754"><a href="/path/match.go.html#2477600">t</a></span><span class="op" id="2477755">)</span>&nbsp;<span class="op" id="2477757">&gt;</span>&nbsp;<span class="num" id="2477759">0</span>&nbsp;<span class="op" id="2477761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477769">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477783">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477790"><a href="/path/match.go.html#2476827">name</a></span>&nbsp;<span class="op" id="2477795">=</span>&nbsp;<span class="ident" id="2477797"><a href="/path/match.go.html#2477600">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477804">continue</span>&nbsp;<span class="ident" id="2477813">Pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477831">if</span>&nbsp;<span class="ident" id="2477834"><a href="/path/match.go.html#2477607">err</a></span>&nbsp;<span class="op" id="2477838">!=</span>&nbsp;<span class="ident" id="2477841">nil</span>&nbsp;<span class="op" id="2477845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477852">return</span>&nbsp;<span class="builtintype" id="2477859">false</span><span class="op" id="2477864">,</span>&nbsp;<span class="ident" id="2477866"><a href="/path/match.go.html#2477607">err</a></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477887">return</span>&nbsp;<span class="builtintype" id="2477894">false</span><span class="op" id="2477899">,</span>&nbsp;<span class="ident" id="2477901">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477906">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477909">return</span>&nbsp;<span class="builtinfunc" id="2477916">len</span><span class="op" id="2477919">(</span><span class="ident" id="2477920"><a href="/path/match.go.html#2476827">name</a></span><span class="op" id="2477924">)</span>&nbsp;<span class="op" id="2477926">==</span>&nbsp;<span class="num" id="2477929">0</span><span class="op" id="2477930">,</span>&nbsp;<span class="ident" id="2477932">nil</span><br>
<span class="lineno"></span><span class="op" id="2477936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2477939">//&nbsp;scanChunk&nbsp;gets&nbsp;the&nbsp;next&nbsp;segment&nbsp;of&nbsp;pattern,&nbsp;which&nbsp;is&nbsp;a&nbsp;non-star&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2478013">//&nbsp;possibly&nbsp;preceded&nbsp;by&nbsp;a&nbsp;star.</span><br>
<span class="lineno">85</span><span class="keyword" id="2478045">func</span>&nbsp;<span class="ident" id="2478050">scanChunk</span><span class="op" id="2478059">(</span><span class="ident" id="2478060">pattern</span>&nbsp;<span class="builtintype" id="2478068">string</span><span class="op" id="2478074">)</span>&nbsp;<span class="op" id="2478076">(</span><span class="ident" id="2478077">star</span>&nbsp;<span class="builtintype" id="2478082">bool</span><span class="op" id="2478086">,</span>&nbsp;<span class="ident" id="2478088">chunk</span><span class="op" id="2478093">,</span>&nbsp;<span class="ident" id="2478095">rest</span>&nbsp;<span class="builtintype" id="2478100">string</span><span class="op" id="2478106">)</span>&nbsp;<span class="op" id="2478108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478111">for</span>&nbsp;<span class="builtinfunc" id="2478115">len</span><span class="op" id="2478118">(</span><span class="ident" id="2478119"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478126">)</span>&nbsp;<span class="op" id="2478128">&gt;</span>&nbsp;<span class="num" id="2478130">0</span>&nbsp;<span class="op" id="2478132">&amp;&amp;</span>&nbsp;<span class="ident" id="2478135"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478142">[</span><span class="num" id="2478143">0</span><span class="op" id="2478144">]</span>&nbsp;<span class="op" id="2478146">==</span>&nbsp;<span class="string" id="2478149">&#39;*&#39;</span>&nbsp;<span class="op" id="2478153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478157"><a href="/path/match.go.html#2478060">pattern</a></span>&nbsp;<span class="op" id="2478165">=</span>&nbsp;<span class="ident" id="2478167"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478174">[</span><span class="num" id="2478175">1</span><span class="op" id="2478176">:</span><span class="op" id="2478177">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478181"><a href="/path/match.go.html#2478077">star</a></span>&nbsp;<span class="op" id="2478186">=</span>&nbsp;<span class="builtintype" id="2478188">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478194">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478197">inrange</span>&nbsp;<span class="op" id="2478205">:=</span>&nbsp;<span class="builtintype" id="2478208">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478215">var</span>&nbsp;<span class="ident" id="2478219">i</span>&nbsp;<span class="builtintype" id="2478221">int</span><br>
<span class="lineno"></span><span class="ident" id="2478225">Scan</span><span class="op" id="2478229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478232">for</span>&nbsp;<span class="ident" id="2478236"><a href="/path/match.go.html#2478219">i</a></span>&nbsp;<span class="op" id="2478238">=</span>&nbsp;<span class="num" id="2478240">0</span><span class="op" id="2478241">;</span>&nbsp;<span class="ident" id="2478243"><a href="/path/match.go.html#2478219">i</a></span>&nbsp;<span class="op" id="2478245">&lt;</span>&nbsp;<span class="builtinfunc" id="2478247">len</span><span class="op" id="2478250">(</span><span class="ident" id="2478251"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478258">)</span><span class="op" id="2478259">;</span>&nbsp;<span class="ident" id="2478261"><a href="/path/match.go.html#2478219">i</a></span><span class="op" id="2478262">++</span>&nbsp;<span class="op" id="2478265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478269">switch</span>&nbsp;<span class="ident" id="2478276"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478283">[</span><span class="ident" id="2478284"><a href="/path/match.go.html#2478219">i</a></span><span class="op" id="2478285">]</span>&nbsp;<span class="op" id="2478287">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478291">case</span>&nbsp;<span class="string" id="2478296">&#39;\\&#39;</span><span class="op" id="2478300">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2478305">//&nbsp;error&nbsp;check&nbsp;handled&nbsp;in&nbsp;matchChunk:&nbsp;bad&nbsp;pattern.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478359">if</span>&nbsp;<span class="ident" id="2478362"><a href="/path/match.go.html#2478219">i</a></span><span class="op" id="2478363">+</span><span class="num" id="2478364">1</span>&nbsp;<span class="op" id="2478366">&lt;</span>&nbsp;<span class="builtinfunc" id="2478368">len</span><span class="op" id="2478371">(</span><span class="ident" id="2478372"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478379">)</span>&nbsp;<span class="op" id="2478381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478387"><a href="/path/match.go.html#2478219">i</a></span><span class="op" id="2478388">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478394">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478398">case</span>&nbsp;<span class="string" id="2478403">&#39;[&#39;</span><span class="op" id="2478406">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478411"><a href="/path/match.go.html#2478197">inrange</a></span>&nbsp;<span class="op" id="2478419">=</span>&nbsp;<span class="builtintype" id="2478421">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478428">case</span>&nbsp;<span class="string" id="2478433">&#39;]&#39;</span><span class="op" id="2478436">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478441"><a href="/path/match.go.html#2478197">inrange</a></span>&nbsp;<span class="op" id="2478449">=</span>&nbsp;<span class="builtintype" id="2478451">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478459">case</span>&nbsp;<span class="string" id="2478464">&#39;*&#39;</span><span class="op" id="2478467">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478472">if</span>&nbsp;<span class="op" id="2478475">!</span><span class="ident" id="2478476"><a href="/path/match.go.html#2478197">inrange</a></span>&nbsp;<span class="op" id="2478484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478490">break</span>&nbsp;<span class="ident" id="2478496">Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478511">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478514">return</span>&nbsp;<span class="ident" id="2478521"><a href="/path/match.go.html#2478077">star</a></span><span class="op" id="2478525">,</span>&nbsp;<span class="ident" id="2478527"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478534">[</span><span class="num" id="2478535">0</span><span class="op" id="2478536">:</span><span class="ident" id="2478537"><a href="/path/match.go.html#2478219">i</a></span><span class="op" id="2478538">]</span><span class="op" id="2478539">,</span>&nbsp;<span class="ident" id="2478541"><a href="/path/match.go.html#2478060">pattern</a></span><span class="op" id="2478548">[</span><span class="ident" id="2478549"><a href="/path/match.go.html#2478219">i</a></span><span class="op" id="2478550">:</span><span class="op" id="2478551">]</span><br>
<span class="lineno"></span><span class="op" id="2478553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2478556">//&nbsp;matchChunk&nbsp;checks&nbsp;whether&nbsp;chunk&nbsp;matches&nbsp;the&nbsp;beginning&nbsp;of&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="2478619">//&nbsp;If&nbsp;so,&nbsp;it&nbsp;returns&nbsp;the&nbsp;remainder&nbsp;of&nbsp;s&nbsp;(after&nbsp;the&nbsp;match).</span><br>
<span class="lineno">115</span><span class="comment" id="2478678">//&nbsp;Chunk&nbsp;is&nbsp;all&nbsp;single-character&nbsp;operators:&nbsp;literals,&nbsp;char&nbsp;classes,&nbsp;and&nbsp;?.</span><br>
<span class="lineno"></span><span class="keyword" id="2478753">func</span>&nbsp;<span class="ident" id="2478758">matchChunk</span><span class="op" id="2478768">(</span><span class="ident" id="2478769">chunk</span><span class="op" id="2478774">,</span>&nbsp;<span class="ident" id="2478776">s</span>&nbsp;<span class="builtintype" id="2478778">string</span><span class="op" id="2478784">)</span>&nbsp;<span class="op" id="2478786">(</span><span class="ident" id="2478787">rest</span>&nbsp;<span class="builtintype" id="2478792">string</span><span class="op" id="2478798">,</span>&nbsp;<span class="ident" id="2478800">ok</span>&nbsp;<span class="builtintype" id="2478803">bool</span><span class="op" id="2478807">,</span>&nbsp;<span class="ident" id="2478809">err</span>&nbsp;<span class="builtintype" id="2478813">error</span><span class="op" id="2478818">)</span>&nbsp;<span class="op" id="2478820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478823">for</span>&nbsp;<span class="builtinfunc" id="2478827">len</span><span class="op" id="2478830">(</span><span class="ident" id="2478831"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2478836">)</span>&nbsp;<span class="op" id="2478838">&gt;</span>&nbsp;<span class="num" id="2478840">0</span>&nbsp;<span class="op" id="2478842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478846">if</span>&nbsp;<span class="builtinfunc" id="2478849">len</span><span class="op" id="2478852">(</span><span class="ident" id="2478853"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2478854">)</span>&nbsp;<span class="op" id="2478856">==</span>&nbsp;<span class="num" id="2478859">0</span>&nbsp;<span class="op" id="2478861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478866">return</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478879">switch</span>&nbsp;<span class="ident" id="2478886"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2478891">[</span><span class="num" id="2478892">0</span><span class="op" id="2478893">]</span>&nbsp;<span class="op" id="2478895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478899">case</span>&nbsp;<span class="string" id="2478904">&#39;[&#39;</span><span class="op" id="2478907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2478912">//&nbsp;character&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478934">r</span><span class="op" id="2478935">,</span>&nbsp;<span class="ident" id="2478937">n</span>&nbsp;<span class="op" id="2478939">:=</span>&nbsp;<span class="ident" id="2478942"><a href="/path/match.go.html#2475909">utf8</a></span><span class="op" id="2478946">.</span><span class="ident" id="2478947">DecodeRuneInString</span><span class="op" id="2478965">(</span><span class="ident" id="2478966"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2478967">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478972"><a href="/path/match.go.html#2478776">s</a></span>&nbsp;<span class="op" id="2478974">=</span>&nbsp;<span class="ident" id="2478976"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2478977">[</span><span class="ident" id="2478978"><a href="/path/match.go.html#2478937">n</a></span><span class="op" id="2478979">:</span><span class="op" id="2478980">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478985"><a href="/path/match.go.html#2478769">chunk</a></span>&nbsp;<span class="op" id="2478991">=</span>&nbsp;<span class="ident" id="2478993"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2478998">[</span><span class="num" id="2478999">1</span><span class="op" id="2479000">:</span><span class="op" id="2479001">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2479006">//&nbsp;possibly&nbsp;negated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479029">notNegated</span>&nbsp;<span class="op" id="2479040">:=</span>&nbsp;<span class="builtintype" id="2479043">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479051">if</span>&nbsp;<span class="builtinfunc" id="2479054">len</span><span class="op" id="2479057">(</span><span class="ident" id="2479058"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479063">)</span>&nbsp;<span class="op" id="2479065">&gt;</span>&nbsp;<span class="num" id="2479067">0</span>&nbsp;<span class="op" id="2479069">&amp;&amp;</span>&nbsp;<span class="ident" id="2479072"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479077">[</span><span class="num" id="2479078">0</span><span class="op" id="2479079">]</span>&nbsp;<span class="op" id="2479081">==</span>&nbsp;<span class="string" id="2479084">&#39;^&#39;</span>&nbsp;<span class="op" id="2479088">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479094"><a href="/path/match.go.html#2479029">notNegated</a></span>&nbsp;<span class="op" id="2479105">=</span>&nbsp;<span class="builtintype" id="2479107">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479117"><a href="/path/match.go.html#2478769">chunk</a></span>&nbsp;<span class="op" id="2479123">=</span>&nbsp;<span class="ident" id="2479125"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479130">[</span><span class="num" id="2479131">1</span><span class="op" id="2479132">:</span><span class="op" id="2479133">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2479143">//&nbsp;parse&nbsp;all&nbsp;ranges</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479166">match</span>&nbsp;<span class="op" id="2479172">:=</span>&nbsp;<span class="builtintype" id="2479175">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479184">nrange</span>&nbsp;<span class="op" id="2479191">:=</span>&nbsp;<span class="num" id="2479194">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479199">for</span>&nbsp;<span class="op" id="2479203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479209">if</span>&nbsp;<span class="builtinfunc" id="2479212">len</span><span class="op" id="2479215">(</span><span class="ident" id="2479216"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479221">)</span>&nbsp;<span class="op" id="2479223">&gt;</span>&nbsp;<span class="num" id="2479225">0</span>&nbsp;<span class="op" id="2479227">&amp;&amp;</span>&nbsp;<span class="ident" id="2479230"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479235">[</span><span class="num" id="2479236">0</span><span class="op" id="2479237">]</span>&nbsp;<span class="op" id="2479239">==</span>&nbsp;<span class="string" id="2479242">&#39;]&#39;</span>&nbsp;<span class="op" id="2479246">&amp;&amp;</span>&nbsp;<span class="ident" id="2479249"><a href="/path/match.go.html#2479184">nrange</a></span>&nbsp;<span class="op" id="2479256">&gt;</span>&nbsp;<span class="num" id="2479258">0</span>&nbsp;<span class="op" id="2479260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479267"><a href="/path/match.go.html#2478769">chunk</a></span>&nbsp;<span class="op" id="2479273">=</span>&nbsp;<span class="ident" id="2479275"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479280">[</span><span class="num" id="2479281">1</span><span class="op" id="2479282">:</span><span class="op" id="2479283">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479290">break</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479306">var</span>&nbsp;<span class="ident" id="2479310">lo</span><span class="op" id="2479312">,</span>&nbsp;<span class="ident" id="2479314">hi</span>&nbsp;<span class="builtintype" id="2479317">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479326">if</span>&nbsp;<span class="ident" id="2479329"><a href="/path/match.go.html#2479310">lo</a></span><span class="op" id="2479331">,</span>&nbsp;<span class="ident" id="2479333"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479338">,</span>&nbsp;<span class="ident" id="2479340"><a href="/path/match.go.html#2478809">err</a></span>&nbsp;<span class="op" id="2479344">=</span>&nbsp;<span class="ident" id="2479346"><a href="/path/match.go.html#2480063">getEsc</a></span><span class="op" id="2479352">(</span><span class="ident" id="2479353"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479358">)</span><span class="op" id="2479359">;</span>&nbsp;<span class="ident" id="2479361"><a href="/path/match.go.html#2478809">err</a></span>&nbsp;<span class="op" id="2479365">!=</span>&nbsp;<span class="ident" id="2479368">nil</span>&nbsp;<span class="op" id="2479372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479379">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479390">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479396"><a href="/path/match.go.html#2479314">hi</a></span>&nbsp;<span class="op" id="2479399">=</span>&nbsp;<span class="ident" id="2479401"><a href="/path/match.go.html#2479310">lo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479408">if</span>&nbsp;<span class="ident" id="2479411"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479416">[</span><span class="num" id="2479417">0</span><span class="op" id="2479418">]</span>&nbsp;<span class="op" id="2479420">==</span>&nbsp;<span class="string" id="2479423">&#39;-&#39;</span>&nbsp;<span class="op" id="2479427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479434">if</span>&nbsp;<span class="ident" id="2479437"><a href="/path/match.go.html#2479314">hi</a></span><span class="op" id="2479439">,</span>&nbsp;<span class="ident" id="2479441"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479446">,</span>&nbsp;<span class="ident" id="2479448"><a href="/path/match.go.html#2478809">err</a></span>&nbsp;<span class="op" id="2479452">=</span>&nbsp;<span class="ident" id="2479454"><a href="/path/match.go.html#2480063">getEsc</a></span><span class="op" id="2479460">(</span><span class="ident" id="2479461"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479466">[</span><span class="num" id="2479467">1</span><span class="op" id="2479468">:</span><span class="op" id="2479469">]</span><span class="op" id="2479470">)</span><span class="op" id="2479471">;</span>&nbsp;<span class="ident" id="2479473"><a href="/path/match.go.html#2478809">err</a></span>&nbsp;<span class="op" id="2479477">!=</span>&nbsp;<span class="ident" id="2479480">nil</span>&nbsp;<span class="op" id="2479484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479492">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479504">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479516">if</span>&nbsp;<span class="ident" id="2479519"><a href="/path/match.go.html#2479310">lo</a></span>&nbsp;<span class="op" id="2479522">&lt;=</span>&nbsp;<span class="ident" id="2479525"><a href="/path/match.go.html#2478934">r</a></span>&nbsp;<span class="op" id="2479527">&amp;&amp;</span>&nbsp;<span class="ident" id="2479530"><a href="/path/match.go.html#2478934">r</a></span>&nbsp;<span class="op" id="2479532">&lt;=</span>&nbsp;<span class="ident" id="2479535"><a href="/path/match.go.html#2479314">hi</a></span>&nbsp;<span class="op" id="2479538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479545"><a href="/path/match.go.html#2479166">match</a></span>&nbsp;<span class="op" id="2479551">=</span>&nbsp;<span class="builtintype" id="2479553">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479568"><a href="/path/match.go.html#2479184">nrange</a></span><span class="op" id="2479574">++</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479585">if</span>&nbsp;<span class="ident" id="2479588"><a href="/path/match.go.html#2479166">match</a></span>&nbsp;<span class="op" id="2479594">!=</span>&nbsp;<span class="ident" id="2479597"><a href="/path/match.go.html#2479029">notNegated</a></span>&nbsp;<span class="op" id="2479608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479614">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479629">case</span>&nbsp;<span class="string" id="2479634">&#39;?&#39;</span><span class="op" id="2479637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479642">if</span>&nbsp;<span class="ident" id="2479645"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2479646">[</span><span class="num" id="2479647">0</span><span class="op" id="2479648">]</span>&nbsp;<span class="op" id="2479650">==</span>&nbsp;<span class="string" id="2479653">&#39;/&#39;</span>&nbsp;<span class="op" id="2479657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479663">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479678">_</span><span class="op" id="2479679">,</span>&nbsp;<span class="ident" id="2479681">n</span>&nbsp;<span class="op" id="2479683">:=</span>&nbsp;<span class="ident" id="2479686"><a href="/path/match.go.html#2475909">utf8</a></span><span class="op" id="2479690">.</span><span class="ident" id="2479691">DecodeRuneInString</span><span class="op" id="2479709">(</span><span class="ident" id="2479710"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2479711">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479716"><a href="/path/match.go.html#2478776">s</a></span>&nbsp;<span class="op" id="2479718">=</span>&nbsp;<span class="ident" id="2479720"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2479721">[</span><span class="ident" id="2479722"><a href="/path/match.go.html#2479681">n</a></span><span class="op" id="2479723">:</span><span class="op" id="2479724">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479729"><a href="/path/match.go.html#2478769">chunk</a></span>&nbsp;<span class="op" id="2479735">=</span>&nbsp;<span class="ident" id="2479737"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479742">[</span><span class="num" id="2479743">1</span><span class="op" id="2479744">:</span><span class="op" id="2479745">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479750">case</span>&nbsp;<span class="string" id="2479755">&#39;\\&#39;</span><span class="op" id="2479759">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479764"><a href="/path/match.go.html#2478769">chunk</a></span>&nbsp;<span class="op" id="2479770">=</span>&nbsp;<span class="ident" id="2479772"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479777">[</span><span class="num" id="2479778">1</span><span class="op" id="2479779">:</span><span class="op" id="2479780">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479785">if</span>&nbsp;<span class="builtinfunc" id="2479788">len</span><span class="op" id="2479791">(</span><span class="ident" id="2479792"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479797">)</span>&nbsp;<span class="op" id="2479799">==</span>&nbsp;<span class="num" id="2479802">0</span>&nbsp;<span class="op" id="2479804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479810"><a href="/path/match.go.html#2478809">err</a></span>&nbsp;<span class="op" id="2479814">=</span>&nbsp;<span class="ident" id="2479816"><a href="/path/match.go.html#2475992">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479834">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479849">fallthrough</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479864">default</span><span class="op" id="2479871">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479876">if</span>&nbsp;<span class="ident" id="2479879"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479884">[</span><span class="num" id="2479885">0</span><span class="op" id="2479886">]</span>&nbsp;<span class="op" id="2479888">!=</span>&nbsp;<span class="ident" id="2479891"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2479892">[</span><span class="num" id="2479893">0</span><span class="op" id="2479894">]</span>&nbsp;<span class="op" id="2479896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479902">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479912">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479917"><a href="/path/match.go.html#2478776">s</a></span>&nbsp;<span class="op" id="2479919">=</span>&nbsp;<span class="ident" id="2479921"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2479922">[</span><span class="num" id="2479923">1</span><span class="op" id="2479924">:</span><span class="op" id="2479925">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479930"><a href="/path/match.go.html#2478769">chunk</a></span>&nbsp;<span class="op" id="2479936">=</span>&nbsp;<span class="ident" id="2479938"><a href="/path/match.go.html#2478769">chunk</a></span><span class="op" id="2479943">[</span><span class="num" id="2479944">1</span><span class="op" id="2479945">:</span><span class="op" id="2479946">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479956">return</span>&nbsp;<span class="ident" id="2479963"><a href="/path/match.go.html#2478776">s</a></span><span class="op" id="2479964">,</span>&nbsp;<span class="builtintype" id="2479966">true</span><span class="op" id="2479970">,</span>&nbsp;<span class="ident" id="2479972">nil</span><br>
<span class="lineno">185</span><span class="op" id="2479976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2479979">//&nbsp;getEsc&nbsp;gets&nbsp;a&nbsp;possibly-escaped&nbsp;character&nbsp;from&nbsp;chunk,&nbsp;for&nbsp;a&nbsp;character&nbsp;class.</span><br>
<span class="lineno"></span><span class="keyword" id="2480058">func</span>&nbsp;<span class="ident" id="2480063">getEsc</span><span class="op" id="2480069">(</span><span class="ident" id="2480070">chunk</span>&nbsp;<span class="builtintype" id="2480076">string</span><span class="op" id="2480082">)</span>&nbsp;<span class="op" id="2480084">(</span><span class="ident" id="2480085">r</span>&nbsp;<span class="builtintype" id="2480087">rune</span><span class="op" id="2480091">,</span>&nbsp;<span class="ident" id="2480093">nchunk</span>&nbsp;<span class="builtintype" id="2480100">string</span><span class="op" id="2480106">,</span>&nbsp;<span class="ident" id="2480108">err</span>&nbsp;<span class="builtintype" id="2480112">error</span><span class="op" id="2480117">)</span>&nbsp;<span class="op" id="2480119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480122">if</span>&nbsp;<span class="builtinfunc" id="2480125">len</span><span class="op" id="2480128">(</span><span class="ident" id="2480129"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480134">)</span>&nbsp;<span class="op" id="2480136">==</span>&nbsp;<span class="num" id="2480139">0</span>&nbsp;<span class="op" id="2480141">||</span>&nbsp;<span class="ident" id="2480144"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480149">[</span><span class="num" id="2480150">0</span><span class="op" id="2480151">]</span>&nbsp;<span class="op" id="2480153">==</span>&nbsp;<span class="string" id="2480156">&#39;-&#39;</span>&nbsp;<span class="op" id="2480160">||</span>&nbsp;<span class="ident" id="2480163"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480168">[</span><span class="num" id="2480169">0</span><span class="op" id="2480170">]</span>&nbsp;<span class="op" id="2480172">==</span>&nbsp;<span class="string" id="2480175">&#39;]&#39;</span>&nbsp;<span class="op" id="2480179">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480183"><a href="/path/match.go.html#2480108">err</a></span>&nbsp;<span class="op" id="2480187">=</span>&nbsp;<span class="ident" id="2480189"><a href="/path/match.go.html#2475992">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480205">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480216">if</span>&nbsp;<span class="ident" id="2480219"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480224">[</span><span class="num" id="2480225">0</span><span class="op" id="2480226">]</span>&nbsp;<span class="op" id="2480228">==</span>&nbsp;<span class="string" id="2480231">&#39;\\&#39;</span>&nbsp;<span class="op" id="2480236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480240"><a href="/path/match.go.html#2480070">chunk</a></span>&nbsp;<span class="op" id="2480246">=</span>&nbsp;<span class="ident" id="2480248"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480253">[</span><span class="num" id="2480254">1</span><span class="op" id="2480255">:</span><span class="op" id="2480256">]</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480260">if</span>&nbsp;<span class="builtinfunc" id="2480263">len</span><span class="op" id="2480266">(</span><span class="ident" id="2480267"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480272">)</span>&nbsp;<span class="op" id="2480274">==</span>&nbsp;<span class="num" id="2480277">0</span>&nbsp;<span class="op" id="2480279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480284"><a href="/path/match.go.html#2480108">err</a></span>&nbsp;<span class="op" id="2480288">=</span>&nbsp;<span class="ident" id="2480290"><a href="/path/match.go.html#2475992">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480307">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480319">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480322"><a href="/path/match.go.html#2480085">r</a></span><span class="op" id="2480323">,</span>&nbsp;<span class="ident" id="2480325">n</span>&nbsp;<span class="op" id="2480327">:=</span>&nbsp;<span class="ident" id="2480330"><a href="/path/match.go.html#2475909">utf8</a></span><span class="op" id="2480334">.</span><span class="ident" id="2480335">DecodeRuneInString</span><span class="op" id="2480353">(</span><span class="ident" id="2480354"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480362">if</span>&nbsp;<span class="ident" id="2480365"><a href="/path/match.go.html#2480085">r</a></span>&nbsp;<span class="op" id="2480367">==</span>&nbsp;<span class="ident" id="2480370"><a href="/path/match.go.html#2475909">utf8</a></span><span class="op" id="2480374">.</span><span class="ident" id="2480375">RuneError</span>&nbsp;<span class="op" id="2480385">&amp;&amp;</span>&nbsp;<span class="ident" id="2480388"><a href="/path/match.go.html#2480325">n</a></span>&nbsp;<span class="op" id="2480390">==</span>&nbsp;<span class="num" id="2480393">1</span>&nbsp;<span class="op" id="2480395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480399"><a href="/path/match.go.html#2480108">err</a></span>&nbsp;<span class="op" id="2480403">=</span>&nbsp;<span class="ident" id="2480405"><a href="/path/match.go.html#2475992">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480423"><a href="/path/match.go.html#2480093">nchunk</a></span>&nbsp;<span class="op" id="2480430">=</span>&nbsp;<span class="ident" id="2480432"><a href="/path/match.go.html#2480070">chunk</a></span><span class="op" id="2480437">[</span><span class="ident" id="2480438"><a href="/path/match.go.html#2480325">n</a></span><span class="op" id="2480439">:</span><span class="op" id="2480440">]</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480443">if</span>&nbsp;<span class="builtinfunc" id="2480446">len</span><span class="op" id="2480449">(</span><span class="ident" id="2480450"><a href="/path/match.go.html#2480093">nchunk</a></span><span class="op" id="2480456">)</span>&nbsp;<span class="op" id="2480458">==</span>&nbsp;<span class="num" id="2480461">0</span>&nbsp;<span class="op" id="2480463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480467"><a href="/path/match.go.html#2480108">err</a></span>&nbsp;<span class="op" id="2480471">=</span>&nbsp;<span class="ident" id="2480473"><a href="/path/match.go.html#2475992">ErrBadPattern</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480491">return</span><br>
<span class="lineno"></span><span class="op" id="2480498">}</span>
</div>
</body>
</html>
