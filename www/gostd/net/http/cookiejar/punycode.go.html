<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http/cookiejar</h2>
<ul>
<li><a href="/gostd/net/http/cookiejar/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/cookiejar/jar_test.go.html">jar_test.go</a></li>
<li><a href="/gostd/net/http/cookiejar/punycode.go.html">punycode.go</a></li>
<li><a href="/gostd/net/http/cookiejar/punycode_test.go.html">punycode_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6162128">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6162183">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6162237">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6162288">package</span>&nbsp;<span class="ident" id="6162296">cookiejar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6162307">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;the&nbsp;Punycode&nbsp;algorithm&nbsp;from&nbsp;RFC&nbsp;3492.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6162370">import</span>&nbsp;<span class="op" id="6162377">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6162380">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6162387">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6162398">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6162413">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6162416">//&nbsp;These&nbsp;parameter&nbsp;values&nbsp;are&nbsp;specified&nbsp;in&nbsp;section&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="6162470">//</span><br>
<span class="lineno"></span><span class="comment" id="6162473">//&nbsp;All&nbsp;computation&nbsp;is&nbsp;done&nbsp;with&nbsp;int32s,&nbsp;so&nbsp;that&nbsp;overflow&nbsp;behavior&nbsp;is&nbsp;identical</span><br>
<span class="lineno"></span><span class="comment" id="6162552">//&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;int&nbsp;is&nbsp;32-bit&nbsp;or&nbsp;64-bit.</span><br>
<span class="lineno"></span><span class="keyword" id="6162602">const</span>&nbsp;<span class="op" id="6162608">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162611">base</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6162623">int32</span>&nbsp;<span class="op" id="6162629">=</span>&nbsp;<span class="num" id="6162631">36</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162635">damp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6162647">int32</span>&nbsp;<span class="op" id="6162653">=</span>&nbsp;<span class="num" id="6162655">700</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162660">initialBias</span>&nbsp;<span class="builtintype" id="6162672">int32</span>&nbsp;<span class="op" id="6162678">=</span>&nbsp;<span class="num" id="6162680">72</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162684">initialN</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6162696">int32</span>&nbsp;<span class="op" id="6162702">=</span>&nbsp;<span class="num" id="6162704">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162709">skew</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6162721">int32</span>&nbsp;<span class="op" id="6162727">=</span>&nbsp;<span class="num" id="6162729">38</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162733">tmax</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6162745">int32</span>&nbsp;<span class="op" id="6162751">=</span>&nbsp;<span class="num" id="6162753">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6162757">tmin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6162769">int32</span>&nbsp;<span class="op" id="6162775">=</span>&nbsp;<span class="num" id="6162777">1</span><br>
<span class="lineno"></span><span class="op" id="6162779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6162782">//&nbsp;encode&nbsp;encodes&nbsp;a&nbsp;string&nbsp;as&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.3&nbsp;and&nbsp;prepends&nbsp;prefix&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="6162860">//&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span><span class="comment" id="6162875">//</span><br>
<span class="lineno"></span><span class="comment" id="6162878">//&nbsp;The&nbsp;&#34;while&nbsp;h&nbsp;&lt;&nbsp;length(input)&#34;&nbsp;line&nbsp;in&nbsp;the&nbsp;specification&nbsp;becomes&nbsp;&#34;for</span><br>
<span class="lineno"></span><span class="comment" id="6162950">//&nbsp;remaining&nbsp;!=&nbsp;0&#34;&nbsp;in&nbsp;the&nbsp;Go&nbsp;code,&nbsp;because&nbsp;len(s)&nbsp;in&nbsp;Go&nbsp;is&nbsp;in&nbsp;bytes,&nbsp;not&nbsp;runes.</span><br>
<span class="lineno"></span><span class="keyword" id="6163030">func</span>&nbsp;<span class="ident" id="6163035">encode</span><span class="op" id="6163041">(</span><span class="ident" id="6163042">prefix</span><span class="op" id="6163048">,</span>&nbsp;<span class="ident" id="6163050">s</span>&nbsp;<span class="builtintype" id="6163052">string</span><span class="op" id="6163058">)</span>&nbsp;<span class="op" id="6163060">(</span><span class="builtintype" id="6163061">string</span><span class="op" id="6163067">,</span>&nbsp;<span class="builtintype" id="6163069">error</span><span class="op" id="6163074">)</span>&nbsp;<span class="op" id="6163076">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163079">output</span>&nbsp;<span class="op" id="6163086">:=</span>&nbsp;<span class="builtinfunc" id="6163089">make</span><span class="op" id="6163093">(</span><span class="op" id="6163094">[</span><span class="op" id="6163095">]</span><span class="builtintype" id="6163096">byte</span><span class="op" id="6163100">,</span>&nbsp;<span class="builtinfunc" id="6163102">len</span><span class="op" id="6163105">(</span><span class="ident" id="6163106">prefix</span><span class="op" id="6163112">)</span><span class="op" id="6163113">,</span>&nbsp;<span class="builtinfunc" id="6163115">len</span><span class="op" id="6163118">(</span><span class="ident" id="6163119">prefix</span><span class="op" id="6163125">)</span><span class="op" id="6163126">+</span><span class="num" id="6163127">1</span><span class="op" id="6163128">+</span><span class="num" id="6163129">2</span><span class="op" id="6163130">*</span><span class="builtinfunc" id="6163131">len</span><span class="op" id="6163134">(</span><span class="ident" id="6163135">s</span><span class="op" id="6163136">)</span><span class="op" id="6163137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6163140">copy</span><span class="op" id="6163144">(</span><span class="ident" id="6163145">output</span><span class="op" id="6163151">,</span>&nbsp;<span class="ident" id="6163153">prefix</span><span class="op" id="6163159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163162">delta</span><span class="op" id="6163167">,</span>&nbsp;<span class="ident" id="6163169">n</span><span class="op" id="6163170">,</span>&nbsp;<span class="ident" id="6163172">bias</span>&nbsp;<span class="op" id="6163177">:=</span>&nbsp;<span class="builtintype" id="6163180">int32</span><span class="op" id="6163185">(</span><span class="num" id="6163186">0</span><span class="op" id="6163187">)</span><span class="op" id="6163188">,</span>&nbsp;<span class="ident" id="6163190">initialN</span><span class="op" id="6163198">,</span>&nbsp;<span class="ident" id="6163200">initialBias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163213">b</span><span class="op" id="6163214">,</span>&nbsp;<span class="ident" id="6163216">remaining</span>&nbsp;<span class="op" id="6163226">:=</span>&nbsp;<span class="builtintype" id="6163229">int32</span><span class="op" id="6163234">(</span><span class="num" id="6163235">0</span><span class="op" id="6163236">)</span><span class="op" id="6163237">,</span>&nbsp;<span class="builtintype" id="6163239">int32</span><span class="op" id="6163244">(</span><span class="num" id="6163245">0</span><span class="op" id="6163246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163249">for</span>&nbsp;<span class="ident" id="6163253">_</span><span class="op" id="6163254">,</span>&nbsp;<span class="ident" id="6163256">r</span>&nbsp;<span class="op" id="6163258">:=</span>&nbsp;<span class="keyword" id="6163261">range</span>&nbsp;<span class="ident" id="6163267">s</span>&nbsp;<span class="op" id="6163269">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163273">if</span>&nbsp;<span class="ident" id="6163276">r</span>&nbsp;<span class="op" id="6163278">&lt;</span>&nbsp;<span class="num" id="6163280">0x80</span>&nbsp;<span class="op" id="6163285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163290">b</span><span class="op" id="6163291">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163297">output</span>&nbsp;<span class="op" id="6163304">=</span>&nbsp;<span class="builtinfunc" id="6163306">append</span><span class="op" id="6163312">(</span><span class="ident" id="6163313">output</span><span class="op" id="6163319">,</span>&nbsp;<span class="builtintype" id="6163321">byte</span><span class="op" id="6163325">(</span><span class="ident" id="6163326">r</span><span class="op" id="6163327">)</span><span class="op" id="6163328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163332">}</span>&nbsp;<span class="keyword" id="6163334">else</span>&nbsp;<span class="op" id="6163339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163344">remaining</span><span class="op" id="6163353">++</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163364">h</span>&nbsp;<span class="op" id="6163366">:=</span>&nbsp;<span class="ident" id="6163369">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163372">if</span>&nbsp;<span class="ident" id="6163375">b</span>&nbsp;<span class="op" id="6163377">&gt;</span>&nbsp;<span class="num" id="6163379">0</span>&nbsp;<span class="op" id="6163381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163385">output</span>&nbsp;<span class="op" id="6163392">=</span>&nbsp;<span class="builtinfunc" id="6163394">append</span><span class="op" id="6163400">(</span><span class="ident" id="6163401">output</span><span class="op" id="6163407">,</span>&nbsp;<span class="string" id="6163409">&#39;-&#39;</span><span class="op" id="6163412">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163418">for</span>&nbsp;<span class="ident" id="6163422">remaining</span>&nbsp;<span class="op" id="6163432">!=</span>&nbsp;<span class="num" id="6163435">0</span>&nbsp;<span class="op" id="6163437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163441">m</span>&nbsp;<span class="op" id="6163443">:=</span>&nbsp;<span class="builtintype" id="6163446">int32</span><span class="op" id="6163451">(</span><span class="num" id="6163452">0x7fffffff</span><span class="op" id="6163462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163466">for</span>&nbsp;<span class="ident" id="6163470">_</span><span class="op" id="6163471">,</span>&nbsp;<span class="ident" id="6163473">r</span>&nbsp;<span class="op" id="6163475">:=</span>&nbsp;<span class="keyword" id="6163478">range</span>&nbsp;<span class="ident" id="6163484">s</span>&nbsp;<span class="op" id="6163486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163491">if</span>&nbsp;<span class="ident" id="6163494">m</span>&nbsp;<span class="op" id="6163496">&gt;</span>&nbsp;<span class="ident" id="6163498">r</span>&nbsp;<span class="op" id="6163500">&amp;&amp;</span>&nbsp;<span class="ident" id="6163503">r</span>&nbsp;<span class="op" id="6163505">&gt;=</span>&nbsp;<span class="ident" id="6163508">n</span>&nbsp;<span class="op" id="6163510">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163516">m</span>&nbsp;<span class="op" id="6163518">=</span>&nbsp;<span class="ident" id="6163520">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163533">delta</span>&nbsp;<span class="op" id="6163539">+=</span>&nbsp;<span class="op" id="6163542">(</span><span class="ident" id="6163543">m</span>&nbsp;<span class="op" id="6163545">-</span>&nbsp;<span class="ident" id="6163547">n</span><span class="op" id="6163548">)</span>&nbsp;<span class="op" id="6163550">*</span>&nbsp;<span class="op" id="6163552">(</span><span class="ident" id="6163553">h</span>&nbsp;<span class="op" id="6163555">+</span>&nbsp;<span class="num" id="6163557">1</span><span class="op" id="6163558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163562">if</span>&nbsp;<span class="ident" id="6163565">delta</span>&nbsp;<span class="op" id="6163571">&lt;</span>&nbsp;<span class="num" id="6163573">0</span>&nbsp;<span class="op" id="6163575">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163580">return</span>&nbsp;<span class="string" id="6163587">&#34;&#34;</span><span class="op" id="6163589">,</span>&nbsp;<span class="ident" id="6163591">fmt</span><span class="op" id="6163594">.</span><span class="ident" id="6163595">Errorf</span><span class="op" id="6163601">(</span><span class="string" id="6163602">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="6163631">,</span>&nbsp;<span class="ident" id="6163633">s</span><span class="op" id="6163634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163642">n</span>&nbsp;<span class="op" id="6163644">=</span>&nbsp;<span class="ident" id="6163646">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163650">for</span>&nbsp;<span class="ident" id="6163654">_</span><span class="op" id="6163655">,</span>&nbsp;<span class="ident" id="6163657">r</span>&nbsp;<span class="op" id="6163659">:=</span>&nbsp;<span class="keyword" id="6163662">range</span>&nbsp;<span class="ident" id="6163668">s</span>&nbsp;<span class="op" id="6163670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163675">if</span>&nbsp;<span class="ident" id="6163678">r</span>&nbsp;<span class="op" id="6163680">&lt;</span>&nbsp;<span class="ident" id="6163682">n</span>&nbsp;<span class="op" id="6163684">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163690">delta</span><span class="op" id="6163695">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163702">if</span>&nbsp;<span class="ident" id="6163705">delta</span>&nbsp;<span class="op" id="6163711">&lt;</span>&nbsp;<span class="num" id="6163713">0</span>&nbsp;<span class="op" id="6163715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163722">return</span>&nbsp;<span class="string" id="6163729">&#34;&#34;</span><span class="op" id="6163731">,</span>&nbsp;<span class="ident" id="6163733">fmt</span><span class="op" id="6163736">.</span><span class="ident" id="6163737">Errorf</span><span class="op" id="6163743">(</span><span class="string" id="6163744">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="6163773">,</span>&nbsp;<span class="ident" id="6163775">s</span><span class="op" id="6163776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163788">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163805">if</span>&nbsp;<span class="ident" id="6163808">r</span>&nbsp;<span class="op" id="6163810">&gt;</span>&nbsp;<span class="ident" id="6163812">n</span>&nbsp;<span class="op" id="6163814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163820">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163837">q</span>&nbsp;<span class="op" id="6163839">:=</span>&nbsp;<span class="ident" id="6163842">delta</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163851">for</span>&nbsp;<span class="ident" id="6163855">k</span>&nbsp;<span class="op" id="6163857">:=</span>&nbsp;<span class="ident" id="6163860">base</span><span class="op" id="6163864">;</span>&nbsp;<span class="op" id="6163866">;</span>&nbsp;<span class="ident" id="6163868">k</span>&nbsp;<span class="op" id="6163870">+=</span>&nbsp;<span class="ident" id="6163873">base</span>&nbsp;<span class="op" id="6163878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163884">t</span>&nbsp;<span class="op" id="6163886">:=</span>&nbsp;<span class="ident" id="6163889">k</span>&nbsp;<span class="op" id="6163891">-</span>&nbsp;<span class="ident" id="6163893">bias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163902">if</span>&nbsp;<span class="ident" id="6163905">t</span>&nbsp;<span class="op" id="6163907">&lt;</span>&nbsp;<span class="ident" id="6163909">tmin</span>&nbsp;<span class="op" id="6163914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163921">t</span>&nbsp;<span class="op" id="6163923">=</span>&nbsp;<span class="ident" id="6163925">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163934">}</span>&nbsp;<span class="keyword" id="6163936">else</span>&nbsp;<span class="keyword" id="6163941">if</span>&nbsp;<span class="ident" id="6163944">t</span>&nbsp;<span class="op" id="6163946">&gt;</span>&nbsp;<span class="ident" id="6163948">tmax</span>&nbsp;<span class="op" id="6163953">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6163960">t</span>&nbsp;<span class="op" id="6163962">=</span>&nbsp;<span class="ident" id="6163964">tmax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6163973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163979">if</span>&nbsp;<span class="ident" id="6163982">q</span>&nbsp;<span class="op" id="6163984">&lt;</span>&nbsp;<span class="ident" id="6163986">t</span>&nbsp;<span class="op" id="6163988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6163995">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164005">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164011">output</span>&nbsp;<span class="op" id="6164018">=</span>&nbsp;<span class="builtinfunc" id="6164020">append</span><span class="op" id="6164026">(</span><span class="ident" id="6164027">output</span><span class="op" id="6164033">,</span>&nbsp;<span class="ident" id="6164035">encodeDigit</span><span class="op" id="6164046">(</span><span class="ident" id="6164047">t</span><span class="op" id="6164048">+</span><span class="op" id="6164049">(</span><span class="ident" id="6164050">q</span><span class="op" id="6164051">-</span><span class="ident" id="6164052">t</span><span class="op" id="6164053">)</span><span class="op" id="6164054">%</span><span class="op" id="6164055">(</span><span class="ident" id="6164056">base</span><span class="op" id="6164060">-</span><span class="ident" id="6164061">t</span><span class="op" id="6164062">)</span><span class="op" id="6164063">)</span><span class="op" id="6164064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164070">q</span>&nbsp;<span class="op" id="6164072">=</span>&nbsp;<span class="op" id="6164074">(</span><span class="ident" id="6164075">q</span>&nbsp;<span class="op" id="6164077">-</span>&nbsp;<span class="ident" id="6164079">t</span><span class="op" id="6164080">)</span>&nbsp;<span class="op" id="6164082">/</span>&nbsp;<span class="op" id="6164084">(</span><span class="ident" id="6164085">base</span>&nbsp;<span class="op" id="6164090">-</span>&nbsp;<span class="ident" id="6164092">t</span><span class="op" id="6164093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164103">output</span>&nbsp;<span class="op" id="6164110">=</span>&nbsp;<span class="builtinfunc" id="6164112">append</span><span class="op" id="6164118">(</span><span class="ident" id="6164119">output</span><span class="op" id="6164125">,</span>&nbsp;<span class="ident" id="6164127">encodeDigit</span><span class="op" id="6164138">(</span><span class="ident" id="6164139">q</span><span class="op" id="6164140">)</span><span class="op" id="6164141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164146">bias</span>&nbsp;<span class="op" id="6164151">=</span>&nbsp;<span class="ident" id="6164153">adapt</span><span class="op" id="6164158">(</span><span class="ident" id="6164159">delta</span><span class="op" id="6164164">,</span>&nbsp;<span class="ident" id="6164166">h</span><span class="op" id="6164167">+</span><span class="num" id="6164168">1</span><span class="op" id="6164169">,</span>&nbsp;<span class="ident" id="6164171">h</span>&nbsp;<span class="op" id="6164173">==</span>&nbsp;<span class="ident" id="6164176">b</span><span class="op" id="6164177">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164182">delta</span>&nbsp;<span class="op" id="6164188">=</span>&nbsp;<span class="num" id="6164190">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164195">h</span><span class="op" id="6164196">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164202">remaining</span><span class="op" id="6164211">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164220">delta</span><span class="op" id="6164225">++</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164230">n</span><span class="op" id="6164231">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164238">return</span>&nbsp;<span class="builtintype" id="6164245">string</span><span class="op" id="6164251">(</span><span class="ident" id="6164252">output</span><span class="op" id="6164258">)</span><span class="op" id="6164259">,</span>&nbsp;<span class="ident" id="6164261">nil</span><br>
<span class="lineno"></span><span class="op" id="6164265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6164268">func</span>&nbsp;<span class="ident" id="6164273">encodeDigit</span><span class="op" id="6164284">(</span><span class="ident" id="6164285">digit</span>&nbsp;<span class="builtintype" id="6164291">int32</span><span class="op" id="6164296">)</span>&nbsp;<span class="builtintype" id="6164298">byte</span>&nbsp;<span class="op" id="6164303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164306">switch</span>&nbsp;<span class="op" id="6164313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164316">case</span>&nbsp;<span class="num" id="6164321">0</span>&nbsp;<span class="op" id="6164323">&lt;=</span>&nbsp;<span class="ident" id="6164326">digit</span>&nbsp;<span class="op" id="6164332">&amp;&amp;</span>&nbsp;<span class="ident" id="6164335">digit</span>&nbsp;<span class="op" id="6164341">&lt;</span>&nbsp;<span class="num" id="6164343">26</span><span class="op" id="6164345">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164349">return</span>&nbsp;<span class="builtintype" id="6164356">byte</span><span class="op" id="6164360">(</span><span class="ident" id="6164361">digit</span>&nbsp;<span class="op" id="6164367">+</span>&nbsp;<span class="string" id="6164369">&#39;a&#39;</span><span class="op" id="6164372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164375">case</span>&nbsp;<span class="num" id="6164380">26</span>&nbsp;<span class="op" id="6164383">&lt;=</span>&nbsp;<span class="ident" id="6164386">digit</span>&nbsp;<span class="op" id="6164392">&amp;&amp;</span>&nbsp;<span class="ident" id="6164395">digit</span>&nbsp;<span class="op" id="6164401">&lt;</span>&nbsp;<span class="num" id="6164403">36</span><span class="op" id="6164405">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164409">return</span>&nbsp;<span class="builtintype" id="6164416">byte</span><span class="op" id="6164420">(</span><span class="ident" id="6164421">digit</span>&nbsp;<span class="op" id="6164427">+</span>&nbsp;<span class="op" id="6164429">(</span><span class="string" id="6164430">&#39;0&#39;</span>&nbsp;<span class="op" id="6164434">-</span>&nbsp;<span class="num" id="6164436">26</span><span class="op" id="6164438">)</span><span class="op" id="6164439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6164445">panic</span><span class="op" id="6164450">(</span><span class="string" id="6164451">&#34;cookiejar:&nbsp;internal&nbsp;error&nbsp;in&nbsp;punycode&nbsp;encoding&#34;</span><span class="op" id="6164499">)</span><br>
<span class="lineno"></span><span class="op" id="6164501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="6164504">//&nbsp;adapt&nbsp;is&nbsp;the&nbsp;bias&nbsp;adaptation&nbsp;function&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span><span class="keyword" id="6164571">func</span>&nbsp;<span class="ident" id="6164576">adapt</span><span class="op" id="6164581">(</span><span class="ident" id="6164582">delta</span><span class="op" id="6164587">,</span>&nbsp;<span class="ident" id="6164589">numPoints</span>&nbsp;<span class="builtintype" id="6164599">int32</span><span class="op" id="6164604">,</span>&nbsp;<span class="ident" id="6164606">firstTime</span>&nbsp;<span class="builtintype" id="6164616">bool</span><span class="op" id="6164620">)</span>&nbsp;<span class="builtintype" id="6164622">int32</span>&nbsp;<span class="op" id="6164628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164631">if</span>&nbsp;<span class="ident" id="6164634">firstTime</span>&nbsp;<span class="op" id="6164644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164648">delta</span>&nbsp;<span class="op" id="6164654">/=</span>&nbsp;<span class="ident" id="6164657">damp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164663">}</span>&nbsp;<span class="keyword" id="6164665">else</span>&nbsp;<span class="op" id="6164670">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164674">delta</span>&nbsp;<span class="op" id="6164680">/=</span>&nbsp;<span class="num" id="6164683">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164689">delta</span>&nbsp;<span class="op" id="6164695">+=</span>&nbsp;<span class="ident" id="6164698">delta</span>&nbsp;<span class="op" id="6164704">/</span>&nbsp;<span class="ident" id="6164706">numPoints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164717">k</span>&nbsp;<span class="op" id="6164719">:=</span>&nbsp;<span class="builtintype" id="6164722">int32</span><span class="op" id="6164727">(</span><span class="num" id="6164728">0</span><span class="op" id="6164729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164732">for</span>&nbsp;<span class="ident" id="6164736">delta</span>&nbsp;<span class="op" id="6164742">&gt;</span>&nbsp;<span class="op" id="6164744">(</span><span class="op" id="6164745">(</span><span class="ident" id="6164746">base</span><span class="op" id="6164750">-</span><span class="ident" id="6164751">tmin</span><span class="op" id="6164755">)</span><span class="op" id="6164756">*</span><span class="ident" id="6164757">tmax</span><span class="op" id="6164761">)</span><span class="op" id="6164762">/</span><span class="num" id="6164763">2</span>&nbsp;<span class="op" id="6164765">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164769">delta</span>&nbsp;<span class="op" id="6164775">/=</span>&nbsp;<span class="ident" id="6164778">base</span>&nbsp;<span class="op" id="6164783">-</span>&nbsp;<span class="ident" id="6164785">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6164792">k</span>&nbsp;<span class="op" id="6164794">+=</span>&nbsp;<span class="ident" id="6164797">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6164803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6164806">return</span>&nbsp;<span class="ident" id="6164813">k</span>&nbsp;<span class="op" id="6164815">+</span>&nbsp;<span class="op" id="6164817">(</span><span class="ident" id="6164818">base</span><span class="op" id="6164822">-</span><span class="ident" id="6164823">tmin</span><span class="op" id="6164827">+</span><span class="num" id="6164828">1</span><span class="op" id="6164829">)</span><span class="op" id="6164830">*</span><span class="ident" id="6164831">delta</span><span class="op" id="6164836">/</span><span class="op" id="6164837">(</span><span class="ident" id="6164838">delta</span><span class="op" id="6164843">+</span><span class="ident" id="6164844">skew</span><span class="op" id="6164848">)</span><br>
<span class="lineno"></span><span class="op" id="6164850">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="6164853">//&nbsp;Strictly&nbsp;speaking,&nbsp;the&nbsp;remaining&nbsp;code&nbsp;below&nbsp;deals&nbsp;with&nbsp;IDNA&nbsp;(RFC&nbsp;5890&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6164930">//&nbsp;friends)&nbsp;and&nbsp;not&nbsp;Punycode&nbsp;(RFC&nbsp;3492)&nbsp;per&nbsp;se.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6164979">//&nbsp;acePrefix&nbsp;is&nbsp;the&nbsp;ASCII&nbsp;Compatible&nbsp;Encoding&nbsp;prefix.</span><br>
<span class="lineno">130</span><span class="keyword" id="6165033">const</span>&nbsp;<span class="ident" id="6165039">acePrefix</span>&nbsp;<span class="op" id="6165049">=</span>&nbsp;<span class="string" id="6165051">&#34;xn--&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6165059">//&nbsp;toASCII&nbsp;converts&nbsp;a&nbsp;domain&nbsp;or&nbsp;domain&nbsp;label&nbsp;to&nbsp;its&nbsp;ASCII&nbsp;form.&nbsp;For&nbsp;example,</span><br>
<span class="lineno"></span><span class="comment" id="6165136">//&nbsp;toASCII(&#34;bücher.example.com&#34;)&nbsp;is&nbsp;&#34;xn--bcher-kva.example.com&#34;,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6165206">//&nbsp;toASCII(&#34;golang&#34;)&nbsp;is&nbsp;&#34;golang&#34;.</span><br>
<span class="lineno">135</span><span class="keyword" id="6165240">func</span>&nbsp;<span class="ident" id="6165245">toASCII</span><span class="op" id="6165252">(</span><span class="ident" id="6165253">s</span>&nbsp;<span class="builtintype" id="6165255">string</span><span class="op" id="6165261">)</span>&nbsp;<span class="op" id="6165263">(</span><span class="builtintype" id="6165264">string</span><span class="op" id="6165270">,</span>&nbsp;<span class="builtintype" id="6165272">error</span><span class="op" id="6165277">)</span>&nbsp;<span class="op" id="6165279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165282">if</span>&nbsp;<span class="ident" id="6165285">ascii</span><span class="op" id="6165290">(</span><span class="ident" id="6165291">s</span><span class="op" id="6165292">)</span>&nbsp;<span class="op" id="6165294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165298">return</span>&nbsp;<span class="ident" id="6165305">s</span><span class="op" id="6165306">,</span>&nbsp;<span class="ident" id="6165308">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165316">labels</span>&nbsp;<span class="op" id="6165323">:=</span>&nbsp;<span class="ident" id="6165326">strings</span><span class="op" id="6165333">.</span><span class="ident" id="6165334">Split</span><span class="op" id="6165339">(</span><span class="ident" id="6165340">s</span><span class="op" id="6165341">,</span>&nbsp;<span class="string" id="6165343">&#34;.&#34;</span><span class="op" id="6165346">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165349">for</span>&nbsp;<span class="ident" id="6165353">i</span><span class="op" id="6165354">,</span>&nbsp;<span class="ident" id="6165356">label</span>&nbsp;<span class="op" id="6165362">:=</span>&nbsp;<span class="keyword" id="6165365">range</span>&nbsp;<span class="ident" id="6165371">labels</span>&nbsp;<span class="op" id="6165378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165382">if</span>&nbsp;<span class="op" id="6165385">!</span><span class="ident" id="6165386">ascii</span><span class="op" id="6165391">(</span><span class="ident" id="6165392">label</span><span class="op" id="6165397">)</span>&nbsp;<span class="op" id="6165399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165404">a</span><span class="op" id="6165405">,</span>&nbsp;<span class="ident" id="6165407">err</span>&nbsp;<span class="op" id="6165411">:=</span>&nbsp;<span class="ident" id="6165414">encode</span><span class="op" id="6165420">(</span><span class="ident" id="6165421">acePrefix</span><span class="op" id="6165430">,</span>&nbsp;<span class="ident" id="6165432">label</span><span class="op" id="6165437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165442">if</span>&nbsp;<span class="ident" id="6165445">err</span>&nbsp;<span class="op" id="6165449">!=</span>&nbsp;<span class="ident" id="6165452">nil</span>&nbsp;<span class="op" id="6165456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165462">return</span>&nbsp;<span class="string" id="6165469">&#34;&#34;</span><span class="op" id="6165471">,</span>&nbsp;<span class="ident" id="6165473">err</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6165485">labels</span><span class="op" id="6165491">[</span><span class="ident" id="6165492">i</span><span class="op" id="6165493">]</span>&nbsp;<span class="op" id="6165495">=</span>&nbsp;<span class="ident" id="6165497">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165507">return</span>&nbsp;<span class="ident" id="6165514">strings</span><span class="op" id="6165521">.</span><span class="ident" id="6165522">Join</span><span class="op" id="6165526">(</span><span class="ident" id="6165527">labels</span><span class="op" id="6165533">,</span>&nbsp;<span class="string" id="6165535">&#34;.&#34;</span><span class="op" id="6165538">)</span><span class="op" id="6165539">,</span>&nbsp;<span class="ident" id="6165541">nil</span><br>
<span class="lineno">150</span><span class="op" id="6165545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6165548">func</span>&nbsp;<span class="ident" id="6165553">ascii</span><span class="op" id="6165558">(</span><span class="ident" id="6165559">s</span>&nbsp;<span class="builtintype" id="6165561">string</span><span class="op" id="6165567">)</span>&nbsp;<span class="builtintype" id="6165569">bool</span>&nbsp;<span class="op" id="6165574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165577">for</span>&nbsp;<span class="ident" id="6165581">i</span>&nbsp;<span class="op" id="6165583">:=</span>&nbsp;<span class="num" id="6165586">0</span><span class="op" id="6165587">;</span>&nbsp;<span class="ident" id="6165589">i</span>&nbsp;<span class="op" id="6165591">&lt;</span>&nbsp;<span class="builtinfunc" id="6165593">len</span><span class="op" id="6165596">(</span><span class="ident" id="6165597">s</span><span class="op" id="6165598">)</span><span class="op" id="6165599">;</span>&nbsp;<span class="ident" id="6165601">i</span><span class="op" id="6165602">++</span>&nbsp;<span class="op" id="6165605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165609">if</span>&nbsp;<span class="ident" id="6165612">s</span><span class="op" id="6165613">[</span><span class="ident" id="6165614">i</span><span class="op" id="6165615">]</span>&nbsp;<span class="op" id="6165617">&gt;=</span>&nbsp;<span class="ident" id="6165620">utf8</span><span class="op" id="6165624">.</span><span class="ident" id="6165625">RuneSelf</span>&nbsp;<span class="op" id="6165634">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165639">return</span>&nbsp;<span class="builtintype" id="6165646">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6165657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6165660">return</span>&nbsp;<span class="builtintype" id="6165667">true</span><br>
<span class="lineno"></span><span class="op" id="6165672">}</span>
</div>
</body>
</html>
