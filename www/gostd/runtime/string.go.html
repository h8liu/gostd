<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html" class="current">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1691340">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1691395">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1691449">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1691500">package</span>&nbsp;<span class="ident" id="1691508">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1691517">import</span>&nbsp;<span class="op" id="1691524">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1691527">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1691536">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1691539">func</span>&nbsp;<span class="ident" id="1691544">concatstrings</span><span class="op" id="1691557">(</span><span class="ident" id="1691558">a</span>&nbsp;<span class="op" id="1691560">[</span><span class="op" id="1691561">]</span><span class="builtintype" id="1691562">string</span><span class="op" id="1691568">)</span>&nbsp;<span class="builtintype" id="1691570">string</span>&nbsp;<span class="op" id="1691577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691580">idx</span>&nbsp;<span class="op" id="1691584">:=</span>&nbsp;<span class="num" id="1691587">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691590">l</span>&nbsp;<span class="op" id="1691592">:=</span>&nbsp;<span class="num" id="1691595">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691598">count</span>&nbsp;<span class="op" id="1691604">:=</span>&nbsp;<span class="num" id="1691607">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691610">for</span>&nbsp;<span class="ident" id="1691614">i</span><span class="op" id="1691615">,</span>&nbsp;<span class="ident" id="1691617">x</span>&nbsp;<span class="op" id="1691619">:=</span>&nbsp;<span class="keyword" id="1691622">range</span>&nbsp;<span class="ident" id="1691628">a</span>&nbsp;<span class="op" id="1691630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691634">n</span>&nbsp;<span class="op" id="1691636">:=</span>&nbsp;<span class="builtinfunc" id="1691639">len</span><span class="op" id="1691642">(</span><span class="ident" id="1691643">x</span><span class="op" id="1691644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691648">if</span>&nbsp;<span class="ident" id="1691651">n</span>&nbsp;<span class="op" id="1691653">==</span>&nbsp;<span class="num" id="1691656">0</span>&nbsp;<span class="op" id="1691658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691663">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1691674">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691678">if</span>&nbsp;<span class="ident" id="1691681">l</span><span class="op" id="1691682">+</span><span class="ident" id="1691683">n</span>&nbsp;<span class="op" id="1691685">&lt;</span>&nbsp;<span class="ident" id="1691687">l</span>&nbsp;<span class="op" id="1691689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691694">gothrow</span><span class="op" id="1691701">(</span><span class="string" id="1691702">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1691733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1691737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691741">l</span>&nbsp;<span class="op" id="1691743">+=</span>&nbsp;<span class="ident" id="1691746">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691750">count</span><span class="op" id="1691755">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691760">idx</span>&nbsp;<span class="op" id="1691764">=</span>&nbsp;<span class="ident" id="1691766">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1691769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691772">if</span>&nbsp;<span class="ident" id="1691775">count</span>&nbsp;<span class="op" id="1691781">==</span>&nbsp;<span class="num" id="1691784">0</span>&nbsp;<span class="op" id="1691786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691790">return</span>&nbsp;<span class="string" id="1691797">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1691801">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691804">if</span>&nbsp;<span class="ident" id="1691807">count</span>&nbsp;<span class="op" id="1691813">==</span>&nbsp;<span class="num" id="1691816">1</span>&nbsp;<span class="op" id="1691818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691822">return</span>&nbsp;<span class="ident" id="1691829">a</span><span class="op" id="1691830">[</span><span class="ident" id="1691831">idx</span><span class="op" id="1691834">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1691837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691840">s</span><span class="op" id="1691841">,</span>&nbsp;<span class="ident" id="1691843">b</span>&nbsp;<span class="op" id="1691845">:=</span>&nbsp;<span class="ident" id="1691848">rawstring</span><span class="op" id="1691857">(</span><span class="ident" id="1691858">l</span><span class="op" id="1691859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691862">l</span>&nbsp;<span class="op" id="1691864">=</span>&nbsp;<span class="num" id="1691866">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691869">for</span>&nbsp;<span class="ident" id="1691873">_</span><span class="op" id="1691874">,</span>&nbsp;<span class="ident" id="1691876">x</span>&nbsp;<span class="op" id="1691878">:=</span>&nbsp;<span class="keyword" id="1691881">range</span>&nbsp;<span class="ident" id="1691887">a</span>&nbsp;<span class="op" id="1691889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1691893">copy</span><span class="op" id="1691897">(</span><span class="ident" id="1691898">b</span><span class="op" id="1691899">[</span><span class="ident" id="1691900">l</span><span class="op" id="1691901">:</span><span class="op" id="1691902">]</span><span class="op" id="1691903">,</span>&nbsp;<span class="ident" id="1691905">x</span><span class="op" id="1691906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1691910">l</span>&nbsp;<span class="op" id="1691912">+=</span>&nbsp;<span class="builtinfunc" id="1691915">len</span><span class="op" id="1691918">(</span><span class="ident" id="1691919">x</span><span class="op" id="1691920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1691923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691926">return</span>&nbsp;<span class="ident" id="1691933">s</span><br>
<span class="lineno">40</span><span class="op" id="1691935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1691938">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1691951">func</span>&nbsp;<span class="ident" id="1691956">concatstring2</span><span class="op" id="1691969">(</span><span class="ident" id="1691970">a</span>&nbsp;<span class="op" id="1691972">[</span><span class="num" id="1691973">2</span><span class="op" id="1691974">]</span><span class="builtintype" id="1691975">string</span><span class="op" id="1691981">)</span>&nbsp;<span class="builtintype" id="1691983">string</span>&nbsp;<span class="op" id="1691990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1691993">return</span>&nbsp;<span class="ident" id="1692000">concatstrings</span><span class="op" id="1692013">(</span><span class="ident" id="1692014">a</span><span class="op" id="1692015">[</span><span class="op" id="1692016">:</span><span class="op" id="1692017">]</span><span class="op" id="1692018">)</span><br>
<span class="lineno">45</span><span class="op" id="1692020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1692023">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1692036">func</span>&nbsp;<span class="ident" id="1692041">concatstring3</span><span class="op" id="1692054">(</span><span class="ident" id="1692055">a</span>&nbsp;<span class="op" id="1692057">[</span><span class="num" id="1692058">3</span><span class="op" id="1692059">]</span><span class="builtintype" id="1692060">string</span><span class="op" id="1692066">)</span>&nbsp;<span class="builtintype" id="1692068">string</span>&nbsp;<span class="op" id="1692075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1692078">return</span>&nbsp;<span class="ident" id="1692085">concatstrings</span><span class="op" id="1692098">(</span><span class="ident" id="1692099">a</span><span class="op" id="1692100">[</span><span class="op" id="1692101">:</span><span class="op" id="1692102">]</span><span class="op" id="1692103">)</span><br>
<span class="lineno">50</span><span class="op" id="1692105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1692108">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1692121">func</span>&nbsp;<span class="ident" id="1692126">concatstring4</span><span class="op" id="1692139">(</span><span class="ident" id="1692140">a</span>&nbsp;<span class="op" id="1692142">[</span><span class="num" id="1692143">4</span><span class="op" id="1692144">]</span><span class="builtintype" id="1692145">string</span><span class="op" id="1692151">)</span>&nbsp;<span class="builtintype" id="1692153">string</span>&nbsp;<span class="op" id="1692160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1692163">return</span>&nbsp;<span class="ident" id="1692170">concatstrings</span><span class="op" id="1692183">(</span><span class="ident" id="1692184">a</span><span class="op" id="1692185">[</span><span class="op" id="1692186">:</span><span class="op" id="1692187">]</span><span class="op" id="1692188">)</span><br>
<span class="lineno">55</span><span class="op" id="1692190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1692193">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1692206">func</span>&nbsp;<span class="ident" id="1692211">concatstring5</span><span class="op" id="1692224">(</span><span class="ident" id="1692225">a</span>&nbsp;<span class="op" id="1692227">[</span><span class="num" id="1692228">5</span><span class="op" id="1692229">]</span><span class="builtintype" id="1692230">string</span><span class="op" id="1692236">)</span>&nbsp;<span class="builtintype" id="1692238">string</span>&nbsp;<span class="op" id="1692245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1692248">return</span>&nbsp;<span class="ident" id="1692255">concatstrings</span><span class="op" id="1692268">(</span><span class="ident" id="1692269">a</span><span class="op" id="1692270">[</span><span class="op" id="1692271">:</span><span class="op" id="1692272">]</span><span class="op" id="1692273">)</span><br>
<span class="lineno">60</span><span class="op" id="1692275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1692278">func</span>&nbsp;<span class="ident" id="1692283">slicebytetostring</span><span class="op" id="1692300">(</span><span class="ident" id="1692301">b</span>&nbsp;<span class="op" id="1692303">[</span><span class="op" id="1692304">]</span><span class="builtintype" id="1692305">byte</span><span class="op" id="1692309">)</span>&nbsp;<span class="builtintype" id="1692311">string</span>&nbsp;<span class="op" id="1692318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1692321">if</span>&nbsp;<span class="ident" id="1692324">raceenabled</span>&nbsp;<span class="op" id="1692336">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1692339">len</span><span class="op" id="1692342">(</span><span class="ident" id="1692343">b</span><span class="op" id="1692344">)</span>&nbsp;<span class="op" id="1692346">&gt;</span>&nbsp;<span class="num" id="1692348">0</span>&nbsp;<span class="op" id="1692350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1692354">racereadrangepc</span><span class="op" id="1692369">(</span><span class="ident" id="1692370">unsafe</span><span class="op" id="1692376">.</span><span class="ident" id="1692377">Pointer</span><span class="op" id="1692384">(</span><span class="op" id="1692385">&amp;</span><span class="ident" id="1692386">b</span><span class="op" id="1692387">[</span><span class="num" id="1692388">0</span><span class="op" id="1692389">]</span><span class="op" id="1692390">)</span><span class="op" id="1692391">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1692396">uintptr</span><span class="op" id="1692403">(</span><span class="builtinfunc" id="1692404">len</span><span class="op" id="1692407">(</span><span class="ident" id="1692408">b</span><span class="op" id="1692409">)</span><span class="op" id="1692410">)</span><span class="op" id="1692411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1692416">getcallerpc</span><span class="op" id="1692427">(</span><span class="ident" id="1692428">unsafe</span><span class="op" id="1692434">.</span><span class="ident" id="1692435">Pointer</span><span class="op" id="1692442">(</span><span class="op" id="1692443">&amp;</span><span class="ident" id="1692444">b</span><span class="op" id="1692445">)</span><span class="op" id="1692446">)</span><span class="op" id="1692447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1692452">funcPC</span><span class="op" id="1692458">(</span><span class="ident" id="1692459">slicebytetostring</span><span class="op" id="1692476">)</span><span class="op" id="1692477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1692480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1692483">s</span><span class="op" id="1692484">,</span>&nbsp;<span class="ident" id="1692486">c</span>&nbsp;<span class="op" id="1692488">:=</span>&nbsp;<span class="ident" id="1692491">rawstring</span><span class="op" id="1692500">(</span><span class="builtinfunc" id="1692501">len</span><span class="op" id="1692504">(</span><span class="ident" id="1692505">b</span><span class="op" id="1692506">)</span><span class="op" id="1692507">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1692510">copy</span><span class="op" id="1692514">(</span><span class="ident" id="1692515">c</span><span class="op" id="1692516">,</span>&nbsp;<span class="ident" id="1692518">b</span><span class="op" id="1692519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1692522">return</span>&nbsp;<span class="ident" id="1692529">s</span><br>
<span class="lineno"></span><span class="op" id="1692531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1692534">func</span>&nbsp;<span class="ident" id="1692539">slicebytetostringtmp</span><span class="op" id="1692559">(</span><span class="ident" id="1692560">b</span>&nbsp;<span class="op" id="1692562">[</span><span class="op" id="1692563">]</span><span class="builtintype" id="1692564">byte</span><span class="op" id="1692568">)</span>&nbsp;<span class="builtintype" id="1692570">string</span>&nbsp;<span class="op" id="1692577">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692580">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692640">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692700">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692760">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692821">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692870">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1692931">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1692979">if</span>&nbsp;<span class="ident" id="1692982">raceenabled</span>&nbsp;<span class="op" id="1692994">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1692997">len</span><span class="op" id="1693000">(</span><span class="ident" id="1693001">b</span><span class="op" id="1693002">)</span>&nbsp;<span class="op" id="1693004">&gt;</span>&nbsp;<span class="num" id="1693006">0</span>&nbsp;<span class="op" id="1693008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693012">racereadrangepc</span><span class="op" id="1693027">(</span><span class="ident" id="1693028">unsafe</span><span class="op" id="1693034">.</span><span class="ident" id="1693035">Pointer</span><span class="op" id="1693042">(</span><span class="op" id="1693043">&amp;</span><span class="ident" id="1693044">b</span><span class="op" id="1693045">[</span><span class="num" id="1693046">0</span><span class="op" id="1693047">]</span><span class="op" id="1693048">)</span><span class="op" id="1693049">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1693054">uintptr</span><span class="op" id="1693061">(</span><span class="builtinfunc" id="1693062">len</span><span class="op" id="1693065">(</span><span class="ident" id="1693066">b</span><span class="op" id="1693067">)</span><span class="op" id="1693068">)</span><span class="op" id="1693069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693074">getcallerpc</span><span class="op" id="1693085">(</span><span class="ident" id="1693086">unsafe</span><span class="op" id="1693092">.</span><span class="ident" id="1693093">Pointer</span><span class="op" id="1693100">(</span><span class="op" id="1693101">&amp;</span><span class="ident" id="1693102">b</span><span class="op" id="1693103">)</span><span class="op" id="1693104">)</span><span class="op" id="1693105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693110">funcPC</span><span class="op" id="1693116">(</span><span class="ident" id="1693117">slicebytetostringtmp</span><span class="op" id="1693137">)</span><span class="op" id="1693138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1693141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693144">return</span>&nbsp;<span class="op" id="1693151">*</span><span class="op" id="1693152">(</span><span class="op" id="1693153">*</span><span class="builtintype" id="1693154">string</span><span class="op" id="1693160">)</span><span class="op" id="1693161">(</span><span class="ident" id="1693162">unsafe</span><span class="op" id="1693168">.</span><span class="ident" id="1693169">Pointer</span><span class="op" id="1693176">(</span><span class="op" id="1693177">&amp;</span><span class="ident" id="1693178">b</span><span class="op" id="1693179">)</span><span class="op" id="1693180">)</span><br>
<span class="lineno">90</span><span class="op" id="1693182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1693185">func</span>&nbsp;<span class="ident" id="1693190">stringtoslicebyte</span><span class="op" id="1693207">(</span><span class="ident" id="1693208">s</span>&nbsp;<span class="builtintype" id="1693210">string</span><span class="op" id="1693216">)</span>&nbsp;<span class="op" id="1693218">[</span><span class="op" id="1693219">]</span><span class="builtintype" id="1693220">byte</span>&nbsp;<span class="op" id="1693225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693228">b</span>&nbsp;<span class="op" id="1693230">:=</span>&nbsp;<span class="ident" id="1693233">rawbyteslice</span><span class="op" id="1693245">(</span><span class="builtinfunc" id="1693246">len</span><span class="op" id="1693249">(</span><span class="ident" id="1693250">s</span><span class="op" id="1693251">)</span><span class="op" id="1693252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1693255">copy</span><span class="op" id="1693259">(</span><span class="ident" id="1693260">b</span><span class="op" id="1693261">,</span>&nbsp;<span class="ident" id="1693263">s</span><span class="op" id="1693264">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693267">return</span>&nbsp;<span class="ident" id="1693274">b</span><br>
<span class="lineno"></span><span class="op" id="1693276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1693279">func</span>&nbsp;<span class="ident" id="1693284">stringtoslicerune</span><span class="op" id="1693301">(</span><span class="ident" id="1693302">s</span>&nbsp;<span class="builtintype" id="1693304">string</span><span class="op" id="1693310">)</span>&nbsp;<span class="op" id="1693312">[</span><span class="op" id="1693313">]</span><span class="builtintype" id="1693314">rune</span>&nbsp;<span class="op" id="1693319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1693322">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1693338">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693407">n</span>&nbsp;<span class="op" id="1693409">:=</span>&nbsp;<span class="num" id="1693412">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693415">t</span>&nbsp;<span class="op" id="1693417">:=</span>&nbsp;<span class="ident" id="1693420">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693423">for</span>&nbsp;<span class="builtinfunc" id="1693427">len</span><span class="op" id="1693430">(</span><span class="ident" id="1693431">s</span><span class="op" id="1693432">)</span>&nbsp;<span class="op" id="1693434">&gt;</span>&nbsp;<span class="num" id="1693436">0</span>&nbsp;<span class="op" id="1693438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693442">_</span><span class="op" id="1693443">,</span>&nbsp;<span class="ident" id="1693445">k</span>&nbsp;<span class="op" id="1693447">:=</span>&nbsp;<span class="ident" id="1693450">charntorune</span><span class="op" id="1693461">(</span><span class="ident" id="1693462">s</span><span class="op" id="1693463">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693467">s</span>&nbsp;<span class="op" id="1693469">=</span>&nbsp;<span class="ident" id="1693471">s</span><span class="op" id="1693472">[</span><span class="ident" id="1693473">k</span><span class="op" id="1693474">:</span><span class="op" id="1693475">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693479">n</span><span class="op" id="1693480">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1693484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693487">a</span>&nbsp;<span class="op" id="1693489">:=</span>&nbsp;<span class="ident" id="1693492">rawruneslice</span><span class="op" id="1693504">(</span><span class="ident" id="1693505">n</span><span class="op" id="1693506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693509">n</span>&nbsp;<span class="op" id="1693511">=</span>&nbsp;<span class="num" id="1693513">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693516">for</span>&nbsp;<span class="builtinfunc" id="1693520">len</span><span class="op" id="1693523">(</span><span class="ident" id="1693524">t</span><span class="op" id="1693525">)</span>&nbsp;<span class="op" id="1693527">&gt;</span>&nbsp;<span class="num" id="1693529">0</span>&nbsp;<span class="op" id="1693531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693535">r</span><span class="op" id="1693536">,</span>&nbsp;<span class="ident" id="1693538">k</span>&nbsp;<span class="op" id="1693540">:=</span>&nbsp;<span class="ident" id="1693543">charntorune</span><span class="op" id="1693554">(</span><span class="ident" id="1693555">t</span><span class="op" id="1693556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693560">t</span>&nbsp;<span class="op" id="1693562">=</span>&nbsp;<span class="ident" id="1693564">t</span><span class="op" id="1693565">[</span><span class="ident" id="1693566">k</span><span class="op" id="1693567">:</span><span class="op" id="1693568">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693572">a</span><span class="op" id="1693573">[</span><span class="ident" id="1693574">n</span><span class="op" id="1693575">]</span>&nbsp;<span class="op" id="1693577">=</span>&nbsp;<span class="ident" id="1693579">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693583">n</span><span class="op" id="1693584">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1693588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693591">return</span>&nbsp;<span class="ident" id="1693598">a</span><br>
<span class="lineno"></span><span class="op" id="1693600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1693603">func</span>&nbsp;<span class="ident" id="1693608">slicerunetostring</span><span class="op" id="1693625">(</span><span class="ident" id="1693626">a</span>&nbsp;<span class="op" id="1693628">[</span><span class="op" id="1693629">]</span><span class="builtintype" id="1693630">rune</span><span class="op" id="1693634">)</span>&nbsp;<span class="builtintype" id="1693636">string</span>&nbsp;<span class="op" id="1693643">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693646">if</span>&nbsp;<span class="ident" id="1693649">raceenabled</span>&nbsp;<span class="op" id="1693661">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1693664">len</span><span class="op" id="1693667">(</span><span class="ident" id="1693668">a</span><span class="op" id="1693669">)</span>&nbsp;<span class="op" id="1693671">&gt;</span>&nbsp;<span class="num" id="1693673">0</span>&nbsp;<span class="op" id="1693675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693679">racereadrangepc</span><span class="op" id="1693694">(</span><span class="ident" id="1693695">unsafe</span><span class="op" id="1693701">.</span><span class="ident" id="1693702">Pointer</span><span class="op" id="1693709">(</span><span class="op" id="1693710">&amp;</span><span class="ident" id="1693711">a</span><span class="op" id="1693712">[</span><span class="num" id="1693713">0</span><span class="op" id="1693714">]</span><span class="op" id="1693715">)</span><span class="op" id="1693716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1693721">uintptr</span><span class="op" id="1693728">(</span><span class="builtinfunc" id="1693729">len</span><span class="op" id="1693732">(</span><span class="ident" id="1693733">a</span><span class="op" id="1693734">)</span><span class="op" id="1693735">)</span><span class="op" id="1693736">*</span><span class="ident" id="1693737">unsafe</span><span class="op" id="1693743">.</span><span class="ident" id="1693744">Sizeof</span><span class="op" id="1693750">(</span><span class="ident" id="1693751">a</span><span class="op" id="1693752">[</span><span class="num" id="1693753">0</span><span class="op" id="1693754">]</span><span class="op" id="1693755">)</span><span class="op" id="1693756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693761">getcallerpc</span><span class="op" id="1693772">(</span><span class="ident" id="1693773">unsafe</span><span class="op" id="1693779">.</span><span class="ident" id="1693780">Pointer</span><span class="op" id="1693787">(</span><span class="op" id="1693788">&amp;</span><span class="ident" id="1693789">a</span><span class="op" id="1693790">)</span><span class="op" id="1693791">)</span><span class="op" id="1693792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693797">funcPC</span><span class="op" id="1693803">(</span><span class="ident" id="1693804">slicerunetostring</span><span class="op" id="1693821">)</span><span class="op" id="1693822">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1693825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693828">var</span>&nbsp;<span class="ident" id="1693832">dum</span>&nbsp;<span class="op" id="1693836">[</span><span class="num" id="1693837">4</span><span class="op" id="1693838">]</span><span class="builtintype" id="1693839">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693845">size1</span>&nbsp;<span class="op" id="1693851">:=</span>&nbsp;<span class="num" id="1693854">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693857">for</span>&nbsp;<span class="ident" id="1693861">_</span><span class="op" id="1693862">,</span>&nbsp;<span class="ident" id="1693864">r</span>&nbsp;<span class="op" id="1693866">:=</span>&nbsp;<span class="keyword" id="1693869">range</span>&nbsp;<span class="ident" id="1693875">a</span>&nbsp;<span class="op" id="1693877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693881">size1</span>&nbsp;<span class="op" id="1693887">+=</span>&nbsp;<span class="ident" id="1693890">runetochar</span><span class="op" id="1693900">(</span><span class="ident" id="1693901">dum</span><span class="op" id="1693904">[</span><span class="op" id="1693905">:</span><span class="op" id="1693906">]</span><span class="op" id="1693907">,</span>&nbsp;<span class="ident" id="1693909">r</span><span class="op" id="1693910">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1693913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693916">s</span><span class="op" id="1693917">,</span>&nbsp;<span class="ident" id="1693919">b</span>&nbsp;<span class="op" id="1693921">:=</span>&nbsp;<span class="ident" id="1693924">rawstring</span><span class="op" id="1693933">(</span><span class="ident" id="1693934">size1</span>&nbsp;<span class="op" id="1693940">+</span>&nbsp;<span class="num" id="1693942">3</span><span class="op" id="1693943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1693946">size2</span>&nbsp;<span class="op" id="1693952">:=</span>&nbsp;<span class="num" id="1693955">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1693958">for</span>&nbsp;<span class="ident" id="1693962">_</span><span class="op" id="1693963">,</span>&nbsp;<span class="ident" id="1693965">r</span>&nbsp;<span class="op" id="1693967">:=</span>&nbsp;<span class="keyword" id="1693970">range</span>&nbsp;<span class="ident" id="1693976">a</span>&nbsp;<span class="op" id="1693978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1693982">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694002">if</span>&nbsp;<span class="ident" id="1694005">size2</span>&nbsp;<span class="op" id="1694011">&gt;=</span>&nbsp;<span class="ident" id="1694014">size1</span>&nbsp;<span class="op" id="1694020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694025">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1694033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694037">size2</span>&nbsp;<span class="op" id="1694043">+=</span>&nbsp;<span class="ident" id="1694046">runetochar</span><span class="op" id="1694056">(</span><span class="ident" id="1694057">b</span><span class="op" id="1694058">[</span><span class="ident" id="1694059">size2</span><span class="op" id="1694064">:</span><span class="op" id="1694065">]</span><span class="op" id="1694066">,</span>&nbsp;<span class="ident" id="1694068">r</span><span class="op" id="1694069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1694072">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694075">return</span>&nbsp;<span class="ident" id="1694082">s</span><span class="op" id="1694083">[</span><span class="op" id="1694084">:</span><span class="ident" id="1694085">size2</span><span class="op" id="1694090">]</span><br>
<span class="lineno"></span><span class="op" id="1694092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1694095">type</span>&nbsp;<span class="ident" id="1694100">stringStruct</span>&nbsp;<span class="keyword" id="1694113">struct</span>&nbsp;<span class="op" id="1694120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694123">str</span>&nbsp;<span class="ident" id="1694127">unsafe</span><span class="op" id="1694133">.</span><span class="ident" id="1694134">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1694143">len</span>&nbsp;<span class="builtintype" id="1694147">int</span><br>
<span class="lineno"></span><span class="op" id="1694151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1694154">func</span>&nbsp;<span class="ident" id="1694159">intstring</span><span class="op" id="1694168">(</span><span class="ident" id="1694169">v</span>&nbsp;<span class="ident" id="1694171">int64</span><span class="op" id="1694176">)</span>&nbsp;<span class="builtintype" id="1694178">string</span>&nbsp;<span class="op" id="1694185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694188">s</span><span class="op" id="1694189">,</span>&nbsp;<span class="ident" id="1694191">b</span>&nbsp;<span class="op" id="1694193">:=</span>&nbsp;<span class="ident" id="1694196">rawstring</span><span class="op" id="1694205">(</span><span class="num" id="1694206">4</span><span class="op" id="1694207">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694210">n</span>&nbsp;<span class="op" id="1694212">:=</span>&nbsp;<span class="ident" id="1694215">runetochar</span><span class="op" id="1694225">(</span><span class="ident" id="1694226">b</span><span class="op" id="1694227">,</span>&nbsp;<span class="builtintype" id="1694229">rune</span><span class="op" id="1694233">(</span><span class="ident" id="1694234">v</span><span class="op" id="1694235">)</span><span class="op" id="1694236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694239">return</span>&nbsp;<span class="ident" id="1694246">s</span><span class="op" id="1694247">[</span><span class="op" id="1694248">:</span><span class="ident" id="1694249">n</span><span class="op" id="1694250">]</span><br>
<span class="lineno"></span><span class="op" id="1694252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1694255">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1694299">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1694343">func</span>&nbsp;<span class="ident" id="1694348">stringiter</span><span class="op" id="1694358">(</span><span class="ident" id="1694359">s</span>&nbsp;<span class="builtintype" id="1694361">string</span><span class="op" id="1694367">,</span>&nbsp;<span class="ident" id="1694369">k</span>&nbsp;<span class="builtintype" id="1694371">int</span><span class="op" id="1694374">)</span>&nbsp;<span class="builtintype" id="1694376">int</span>&nbsp;<span class="op" id="1694380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694383">if</span>&nbsp;<span class="ident" id="1694386">k</span>&nbsp;<span class="op" id="1694388">&gt;=</span>&nbsp;<span class="builtinfunc" id="1694391">len</span><span class="op" id="1694394">(</span><span class="ident" id="1694395">s</span><span class="op" id="1694396">)</span>&nbsp;<span class="op" id="1694398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1694402">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694429">return</span>&nbsp;<span class="num" id="1694436">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1694439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694443">c</span>&nbsp;<span class="op" id="1694445">:=</span>&nbsp;<span class="ident" id="1694448">s</span><span class="op" id="1694449">[</span><span class="ident" id="1694450">k</span><span class="op" id="1694451">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694454">if</span>&nbsp;<span class="ident" id="1694457">c</span>&nbsp;<span class="op" id="1694459">&lt;</span>&nbsp;<span class="ident" id="1694461">runeself</span>&nbsp;<span class="op" id="1694470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694474">return</span>&nbsp;<span class="ident" id="1694481">k</span>&nbsp;<span class="op" id="1694483">+</span>&nbsp;<span class="num" id="1694485">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1694488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1694492">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694512">_</span><span class="op" id="1694513">,</span>&nbsp;<span class="ident" id="1694515">n</span>&nbsp;<span class="op" id="1694517">:=</span>&nbsp;<span class="ident" id="1694520">charntorune</span><span class="op" id="1694531">(</span><span class="ident" id="1694532">s</span><span class="op" id="1694533">[</span><span class="ident" id="1694534">k</span><span class="op" id="1694535">:</span><span class="op" id="1694536">]</span><span class="op" id="1694537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694540">return</span>&nbsp;<span class="ident" id="1694547">k</span>&nbsp;<span class="op" id="1694549">+</span>&nbsp;<span class="ident" id="1694551">n</span><br>
<span class="lineno">170</span><span class="op" id="1694553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1694556">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1694608">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1694653">func</span>&nbsp;<span class="ident" id="1694658">stringiter2</span><span class="op" id="1694669">(</span><span class="ident" id="1694670">s</span>&nbsp;<span class="builtintype" id="1694672">string</span><span class="op" id="1694678">,</span>&nbsp;<span class="ident" id="1694680">k</span>&nbsp;<span class="builtintype" id="1694682">int</span><span class="op" id="1694685">)</span>&nbsp;<span class="op" id="1694687">(</span><span class="builtintype" id="1694688">int</span><span class="op" id="1694691">,</span>&nbsp;<span class="builtintype" id="1694693">rune</span><span class="op" id="1694697">)</span>&nbsp;<span class="op" id="1694699">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694702">if</span>&nbsp;<span class="ident" id="1694705">k</span>&nbsp;<span class="op" id="1694707">&gt;=</span>&nbsp;<span class="builtinfunc" id="1694710">len</span><span class="op" id="1694713">(</span><span class="ident" id="1694714">s</span><span class="op" id="1694715">)</span>&nbsp;<span class="op" id="1694717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1694721">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694748">return</span>&nbsp;<span class="num" id="1694755">0</span><span class="op" id="1694756">,</span>&nbsp;<span class="num" id="1694758">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1694761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694765">c</span>&nbsp;<span class="op" id="1694767">:=</span>&nbsp;<span class="ident" id="1694770">s</span><span class="op" id="1694771">[</span><span class="ident" id="1694772">k</span><span class="op" id="1694773">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694776">if</span>&nbsp;<span class="ident" id="1694779">c</span>&nbsp;<span class="op" id="1694781">&lt;</span>&nbsp;<span class="ident" id="1694783">runeself</span>&nbsp;<span class="op" id="1694792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694796">return</span>&nbsp;<span class="ident" id="1694803">k</span>&nbsp;<span class="op" id="1694805">+</span>&nbsp;<span class="num" id="1694807">1</span><span class="op" id="1694808">,</span>&nbsp;<span class="builtintype" id="1694810">rune</span><span class="op" id="1694814">(</span><span class="ident" id="1694815">c</span><span class="op" id="1694816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1694819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1694823">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1694843">r</span><span class="op" id="1694844">,</span>&nbsp;<span class="ident" id="1694846">n</span>&nbsp;<span class="op" id="1694848">:=</span>&nbsp;<span class="ident" id="1694851">charntorune</span><span class="op" id="1694862">(</span><span class="ident" id="1694863">s</span><span class="op" id="1694864">[</span><span class="ident" id="1694865">k</span><span class="op" id="1694866">:</span><span class="op" id="1694867">]</span><span class="op" id="1694868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1694871">return</span>&nbsp;<span class="ident" id="1694878">k</span>&nbsp;<span class="op" id="1694880">+</span>&nbsp;<span class="ident" id="1694882">n</span><span class="op" id="1694883">,</span>&nbsp;<span class="ident" id="1694885">r</span><br>
<span class="lineno"></span><span class="op" id="1694887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1694890">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1694952">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1695009">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1695058">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1695107">func</span>&nbsp;<span class="ident" id="1695112">rawstring</span><span class="op" id="1695121">(</span><span class="ident" id="1695122">size</span>&nbsp;<span class="builtintype" id="1695127">int</span><span class="op" id="1695130">)</span>&nbsp;<span class="op" id="1695132">(</span><span class="ident" id="1695133">s</span>&nbsp;<span class="builtintype" id="1695135">string</span><span class="op" id="1695141">,</span>&nbsp;<span class="ident" id="1695143">b</span>&nbsp;<span class="op" id="1695145">[</span><span class="op" id="1695146">]</span><span class="builtintype" id="1695147">byte</span><span class="op" id="1695151">)</span>&nbsp;<span class="op" id="1695153">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1695156">p</span>&nbsp;<span class="op" id="1695158">:=</span>&nbsp;<span class="ident" id="1695161">mallocgc</span><span class="op" id="1695169">(</span><span class="builtintype" id="1695170">uintptr</span><span class="op" id="1695177">(</span><span class="ident" id="1695178">size</span><span class="op" id="1695182">)</span><span class="op" id="1695183">,</span>&nbsp;<span class="builtintype" id="1695185">nil</span><span class="op" id="1695188">,</span>&nbsp;<span class="ident" id="1695190">flagNoScan</span><span class="op" id="1695200">|</span><span class="ident" id="1695201">flagNoZero</span><span class="op" id="1695211">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695215">(</span><span class="op" id="1695216">*</span><span class="ident" id="1695217">stringStruct</span><span class="op" id="1695229">)</span><span class="op" id="1695230">(</span><span class="ident" id="1695231">unsafe</span><span class="op" id="1695237">.</span><span class="ident" id="1695238">Pointer</span><span class="op" id="1695245">(</span><span class="op" id="1695246">&amp;</span><span class="ident" id="1695247">s</span><span class="op" id="1695248">)</span><span class="op" id="1695249">)</span><span class="op" id="1695250">.</span><span class="ident" id="1695251">str</span>&nbsp;<span class="op" id="1695255">=</span>&nbsp;<span class="ident" id="1695257">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695260">(</span><span class="op" id="1695261">*</span><span class="ident" id="1695262">stringStruct</span><span class="op" id="1695274">)</span><span class="op" id="1695275">(</span><span class="ident" id="1695276">unsafe</span><span class="op" id="1695282">.</span><span class="ident" id="1695283">Pointer</span><span class="op" id="1695290">(</span><span class="op" id="1695291">&amp;</span><span class="ident" id="1695292">s</span><span class="op" id="1695293">)</span><span class="op" id="1695294">)</span><span class="op" id="1695295">.</span><span class="builtinfunc" id="1695296">len</span>&nbsp;<span class="op" id="1695300">=</span>&nbsp;<span class="ident" id="1695302">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695309">(</span><span class="op" id="1695310">*</span><span class="ident" id="1695311">slice</span><span class="op" id="1695316">)</span><span class="op" id="1695317">(</span><span class="ident" id="1695318">unsafe</span><span class="op" id="1695324">.</span><span class="ident" id="1695325">Pointer</span><span class="op" id="1695332">(</span><span class="op" id="1695333">&amp;</span><span class="ident" id="1695334">b</span><span class="op" id="1695335">)</span><span class="op" id="1695336">)</span><span class="op" id="1695337">.</span><span class="ident" id="1695338">array</span>&nbsp;<span class="op" id="1695344">=</span>&nbsp;<span class="op" id="1695346">(</span><span class="op" id="1695347">*</span><span class="builtintype" id="1695348">uint8</span><span class="op" id="1695353">)</span><span class="op" id="1695354">(</span><span class="ident" id="1695355">p</span><span class="op" id="1695356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695359">(</span><span class="op" id="1695360">*</span><span class="ident" id="1695361">slice</span><span class="op" id="1695366">)</span><span class="op" id="1695367">(</span><span class="ident" id="1695368">unsafe</span><span class="op" id="1695374">.</span><span class="ident" id="1695375">Pointer</span><span class="op" id="1695382">(</span><span class="op" id="1695383">&amp;</span><span class="ident" id="1695384">b</span><span class="op" id="1695385">)</span><span class="op" id="1695386">)</span><span class="op" id="1695387">.</span><span class="builtinfunc" id="1695388">len</span>&nbsp;<span class="op" id="1695392">=</span>&nbsp;<span class="builtintype" id="1695394">uint</span><span class="op" id="1695398">(</span><span class="ident" id="1695399">size</span><span class="op" id="1695403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695406">(</span><span class="op" id="1695407">*</span><span class="ident" id="1695408">slice</span><span class="op" id="1695413">)</span><span class="op" id="1695414">(</span><span class="ident" id="1695415">unsafe</span><span class="op" id="1695421">.</span><span class="ident" id="1695422">Pointer</span><span class="op" id="1695429">(</span><span class="op" id="1695430">&amp;</span><span class="ident" id="1695431">b</span><span class="op" id="1695432">)</span><span class="op" id="1695433">)</span><span class="op" id="1695434">.</span><span class="builtinfunc" id="1695435">cap</span>&nbsp;<span class="op" id="1695439">=</span>&nbsp;<span class="builtintype" id="1695441">uint</span><span class="op" id="1695445">(</span><span class="ident" id="1695446">size</span><span class="op" id="1695450">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1695454">for</span>&nbsp;<span class="op" id="1695458">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1695462">ms</span>&nbsp;<span class="op" id="1695465">:=</span>&nbsp;<span class="ident" id="1695468">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1695480">if</span>&nbsp;<span class="builtintype" id="1695483">uintptr</span><span class="op" id="1695490">(</span><span class="ident" id="1695491">size</span><span class="op" id="1695495">)</span>&nbsp;<span class="op" id="1695497">&lt;=</span>&nbsp;<span class="builtintype" id="1695500">uintptr</span><span class="op" id="1695507">(</span><span class="ident" id="1695508">ms</span><span class="op" id="1695510">)</span>&nbsp;<span class="op" id="1695512">||</span>&nbsp;<span class="ident" id="1695515">casuintptr</span><span class="op" id="1695525">(</span><span class="op" id="1695526">(</span><span class="op" id="1695527">*</span><span class="builtintype" id="1695528">uintptr</span><span class="op" id="1695535">)</span><span class="op" id="1695536">(</span><span class="ident" id="1695537">unsafe</span><span class="op" id="1695543">.</span><span class="ident" id="1695544">Pointer</span><span class="op" id="1695551">(</span><span class="op" id="1695552">&amp;</span><span class="ident" id="1695553">maxstring</span><span class="op" id="1695562">)</span><span class="op" id="1695563">)</span><span class="op" id="1695564">,</span>&nbsp;<span class="builtintype" id="1695566">uintptr</span><span class="op" id="1695573">(</span><span class="ident" id="1695574">ms</span><span class="op" id="1695576">)</span><span class="op" id="1695577">,</span>&nbsp;<span class="builtintype" id="1695579">uintptr</span><span class="op" id="1695586">(</span><span class="ident" id="1695587">size</span><span class="op" id="1695591">)</span><span class="op" id="1695592">)</span>&nbsp;<span class="op" id="1695594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1695599">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695611">}</span><br>
<span class="lineno">210</span><span class="op" id="1695613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1695616">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1695690">func</span>&nbsp;<span class="ident" id="1695695">rawbyteslice</span><span class="op" id="1695707">(</span><span class="ident" id="1695708">size</span>&nbsp;<span class="builtintype" id="1695713">int</span><span class="op" id="1695716">)</span>&nbsp;<span class="op" id="1695718">(</span><span class="ident" id="1695719">b</span>&nbsp;<span class="op" id="1695721">[</span><span class="op" id="1695722">]</span><span class="builtintype" id="1695723">byte</span><span class="op" id="1695727">)</span>&nbsp;<span class="op" id="1695729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1695732">cap</span>&nbsp;<span class="op" id="1695736">:=</span>&nbsp;<span class="ident" id="1695739">goroundupsize</span><span class="op" id="1695752">(</span><span class="builtintype" id="1695753">uintptr</span><span class="op" id="1695760">(</span><span class="ident" id="1695761">size</span><span class="op" id="1695765">)</span><span class="op" id="1695766">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1695769">p</span>&nbsp;<span class="op" id="1695771">:=</span>&nbsp;<span class="ident" id="1695774">mallocgc</span><span class="op" id="1695782">(</span><span class="builtinfunc" id="1695783">cap</span><span class="op" id="1695786">,</span>&nbsp;<span class="builtintype" id="1695788">nil</span><span class="op" id="1695791">,</span>&nbsp;<span class="ident" id="1695793">flagNoScan</span><span class="op" id="1695803">|</span><span class="ident" id="1695804">flagNoZero</span><span class="op" id="1695814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1695817">if</span>&nbsp;<span class="builtinfunc" id="1695820">cap</span>&nbsp;<span class="op" id="1695824">!=</span>&nbsp;<span class="builtintype" id="1695827">uintptr</span><span class="op" id="1695834">(</span><span class="ident" id="1695835">size</span><span class="op" id="1695839">)</span>&nbsp;<span class="op" id="1695841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1695845">memclr</span><span class="op" id="1695851">(</span><span class="ident" id="1695852">add</span><span class="op" id="1695855">(</span><span class="ident" id="1695856">p</span><span class="op" id="1695857">,</span>&nbsp;<span class="builtintype" id="1695859">uintptr</span><span class="op" id="1695866">(</span><span class="ident" id="1695867">size</span><span class="op" id="1695871">)</span><span class="op" id="1695872">)</span><span class="op" id="1695873">,</span>&nbsp;<span class="builtinfunc" id="1695875">cap</span><span class="op" id="1695878">-</span><span class="builtintype" id="1695879">uintptr</span><span class="op" id="1695886">(</span><span class="ident" id="1695887">size</span><span class="op" id="1695891">)</span><span class="op" id="1695892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695899">(</span><span class="op" id="1695900">*</span><span class="ident" id="1695901">slice</span><span class="op" id="1695906">)</span><span class="op" id="1695907">(</span><span class="ident" id="1695908">unsafe</span><span class="op" id="1695914">.</span><span class="ident" id="1695915">Pointer</span><span class="op" id="1695922">(</span><span class="op" id="1695923">&amp;</span><span class="ident" id="1695924">b</span><span class="op" id="1695925">)</span><span class="op" id="1695926">)</span><span class="op" id="1695927">.</span><span class="ident" id="1695928">array</span>&nbsp;<span class="op" id="1695934">=</span>&nbsp;<span class="op" id="1695936">(</span><span class="op" id="1695937">*</span><span class="builtintype" id="1695938">uint8</span><span class="op" id="1695943">)</span><span class="op" id="1695944">(</span><span class="ident" id="1695945">p</span><span class="op" id="1695946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695949">(</span><span class="op" id="1695950">*</span><span class="ident" id="1695951">slice</span><span class="op" id="1695956">)</span><span class="op" id="1695957">(</span><span class="ident" id="1695958">unsafe</span><span class="op" id="1695964">.</span><span class="ident" id="1695965">Pointer</span><span class="op" id="1695972">(</span><span class="op" id="1695973">&amp;</span><span class="ident" id="1695974">b</span><span class="op" id="1695975">)</span><span class="op" id="1695976">)</span><span class="op" id="1695977">.</span><span class="builtinfunc" id="1695978">len</span>&nbsp;<span class="op" id="1695982">=</span>&nbsp;<span class="builtintype" id="1695984">uint</span><span class="op" id="1695988">(</span><span class="ident" id="1695989">size</span><span class="op" id="1695993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1695996">(</span><span class="op" id="1695997">*</span><span class="ident" id="1695998">slice</span><span class="op" id="1696003">)</span><span class="op" id="1696004">(</span><span class="ident" id="1696005">unsafe</span><span class="op" id="1696011">.</span><span class="ident" id="1696012">Pointer</span><span class="op" id="1696019">(</span><span class="op" id="1696020">&amp;</span><span class="ident" id="1696021">b</span><span class="op" id="1696022">)</span><span class="op" id="1696023">)</span><span class="op" id="1696024">.</span><span class="builtinfunc" id="1696025">cap</span>&nbsp;<span class="op" id="1696029">=</span>&nbsp;<span class="builtintype" id="1696031">uint</span><span class="op" id="1696035">(</span><span class="builtinfunc" id="1696036">cap</span><span class="op" id="1696039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696042">return</span><br>
<span class="lineno"></span><span class="op" id="1696049">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1696052">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1696126">func</span>&nbsp;<span class="ident" id="1696131">rawruneslice</span><span class="op" id="1696143">(</span><span class="ident" id="1696144">size</span>&nbsp;<span class="builtintype" id="1696149">int</span><span class="op" id="1696152">)</span>&nbsp;<span class="op" id="1696154">(</span><span class="ident" id="1696155">b</span>&nbsp;<span class="op" id="1696157">[</span><span class="op" id="1696158">]</span><span class="builtintype" id="1696159">rune</span><span class="op" id="1696163">)</span>&nbsp;<span class="op" id="1696165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696168">if</span>&nbsp;<span class="builtintype" id="1696171">uintptr</span><span class="op" id="1696178">(</span><span class="ident" id="1696179">size</span><span class="op" id="1696183">)</span>&nbsp;<span class="op" id="1696185">&gt;</span>&nbsp;<span class="ident" id="1696187">maxmem</span><span class="op" id="1696193">/</span><span class="num" id="1696194">4</span>&nbsp;<span class="op" id="1696196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696200">gothrow</span><span class="op" id="1696207">(</span><span class="string" id="1696208">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1696223">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696229">mem</span>&nbsp;<span class="op" id="1696233">:=</span>&nbsp;<span class="ident" id="1696236">goroundupsize</span><span class="op" id="1696249">(</span><span class="builtintype" id="1696250">uintptr</span><span class="op" id="1696257">(</span><span class="ident" id="1696258">size</span><span class="op" id="1696262">)</span>&nbsp;<span class="op" id="1696264">*</span>&nbsp;<span class="num" id="1696266">4</span><span class="op" id="1696267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696270">p</span>&nbsp;<span class="op" id="1696272">:=</span>&nbsp;<span class="ident" id="1696275">mallocgc</span><span class="op" id="1696283">(</span><span class="ident" id="1696284">mem</span><span class="op" id="1696287">,</span>&nbsp;<span class="builtintype" id="1696289">nil</span><span class="op" id="1696292">,</span>&nbsp;<span class="ident" id="1696294">flagNoScan</span><span class="op" id="1696304">|</span><span class="ident" id="1696305">flagNoZero</span><span class="op" id="1696315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696318">if</span>&nbsp;<span class="ident" id="1696321">mem</span>&nbsp;<span class="op" id="1696325">!=</span>&nbsp;<span class="builtintype" id="1696328">uintptr</span><span class="op" id="1696335">(</span><span class="ident" id="1696336">size</span><span class="op" id="1696340">)</span><span class="op" id="1696341">*</span><span class="num" id="1696342">4</span>&nbsp;<span class="op" id="1696344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696348">memclr</span><span class="op" id="1696354">(</span><span class="ident" id="1696355">add</span><span class="op" id="1696358">(</span><span class="ident" id="1696359">p</span><span class="op" id="1696360">,</span>&nbsp;<span class="builtintype" id="1696362">uintptr</span><span class="op" id="1696369">(</span><span class="ident" id="1696370">size</span><span class="op" id="1696374">)</span><span class="op" id="1696375">*</span><span class="num" id="1696376">4</span><span class="op" id="1696377">)</span><span class="op" id="1696378">,</span>&nbsp;<span class="ident" id="1696380">mem</span><span class="op" id="1696383">-</span><span class="builtintype" id="1696384">uintptr</span><span class="op" id="1696391">(</span><span class="ident" id="1696392">size</span><span class="op" id="1696396">)</span><span class="op" id="1696397">*</span><span class="num" id="1696398">4</span><span class="op" id="1696399">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696406">(</span><span class="op" id="1696407">*</span><span class="ident" id="1696408">slice</span><span class="op" id="1696413">)</span><span class="op" id="1696414">(</span><span class="ident" id="1696415">unsafe</span><span class="op" id="1696421">.</span><span class="ident" id="1696422">Pointer</span><span class="op" id="1696429">(</span><span class="op" id="1696430">&amp;</span><span class="ident" id="1696431">b</span><span class="op" id="1696432">)</span><span class="op" id="1696433">)</span><span class="op" id="1696434">.</span><span class="ident" id="1696435">array</span>&nbsp;<span class="op" id="1696441">=</span>&nbsp;<span class="op" id="1696443">(</span><span class="op" id="1696444">*</span><span class="builtintype" id="1696445">uint8</span><span class="op" id="1696450">)</span><span class="op" id="1696451">(</span><span class="ident" id="1696452">p</span><span class="op" id="1696453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696456">(</span><span class="op" id="1696457">*</span><span class="ident" id="1696458">slice</span><span class="op" id="1696463">)</span><span class="op" id="1696464">(</span><span class="ident" id="1696465">unsafe</span><span class="op" id="1696471">.</span><span class="ident" id="1696472">Pointer</span><span class="op" id="1696479">(</span><span class="op" id="1696480">&amp;</span><span class="ident" id="1696481">b</span><span class="op" id="1696482">)</span><span class="op" id="1696483">)</span><span class="op" id="1696484">.</span><span class="builtinfunc" id="1696485">len</span>&nbsp;<span class="op" id="1696489">=</span>&nbsp;<span class="builtintype" id="1696491">uint</span><span class="op" id="1696495">(</span><span class="ident" id="1696496">size</span><span class="op" id="1696500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696503">(</span><span class="op" id="1696504">*</span><span class="ident" id="1696505">slice</span><span class="op" id="1696510">)</span><span class="op" id="1696511">(</span><span class="ident" id="1696512">unsafe</span><span class="op" id="1696518">.</span><span class="ident" id="1696519">Pointer</span><span class="op" id="1696526">(</span><span class="op" id="1696527">&amp;</span><span class="ident" id="1696528">b</span><span class="op" id="1696529">)</span><span class="op" id="1696530">)</span><span class="op" id="1696531">.</span><span class="builtinfunc" id="1696532">cap</span>&nbsp;<span class="op" id="1696536">=</span>&nbsp;<span class="builtintype" id="1696538">uint</span><span class="op" id="1696542">(</span><span class="ident" id="1696543">mem</span>&nbsp;<span class="op" id="1696547">/</span>&nbsp;<span class="num" id="1696549">4</span><span class="op" id="1696550">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696553">return</span><br>
<span class="lineno"></span><span class="op" id="1696560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1696563">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1696582">func</span>&nbsp;<span class="ident" id="1696587">gobytes</span><span class="op" id="1696594">(</span><span class="ident" id="1696595">p</span>&nbsp;<span class="op" id="1696597">*</span><span class="builtintype" id="1696598">byte</span><span class="op" id="1696602">,</span>&nbsp;<span class="ident" id="1696604">n</span>&nbsp;<span class="builtintype" id="1696606">int</span><span class="op" id="1696609">)</span>&nbsp;<span class="op" id="1696611">[</span><span class="op" id="1696612">]</span><span class="builtintype" id="1696613">byte</span>&nbsp;<span class="op" id="1696618">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696621">if</span>&nbsp;<span class="ident" id="1696624">n</span>&nbsp;<span class="op" id="1696626">==</span>&nbsp;<span class="num" id="1696629">0</span>&nbsp;<span class="op" id="1696631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696635">return</span>&nbsp;<span class="builtinfunc" id="1696642">make</span><span class="op" id="1696646">(</span><span class="op" id="1696647">[</span><span class="op" id="1696648">]</span><span class="builtintype" id="1696649">byte</span><span class="op" id="1696653">,</span>&nbsp;<span class="num" id="1696655">0</span><span class="op" id="1696656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696662">x</span>&nbsp;<span class="op" id="1696664">:=</span>&nbsp;<span class="builtinfunc" id="1696667">make</span><span class="op" id="1696671">(</span><span class="op" id="1696672">[</span><span class="op" id="1696673">]</span><span class="builtintype" id="1696674">byte</span><span class="op" id="1696678">,</span>&nbsp;<span class="ident" id="1696680">n</span><span class="op" id="1696681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696684">memmove</span><span class="op" id="1696691">(</span><span class="ident" id="1696692">unsafe</span><span class="op" id="1696698">.</span><span class="ident" id="1696699">Pointer</span><span class="op" id="1696706">(</span><span class="op" id="1696707">&amp;</span><span class="ident" id="1696708">x</span><span class="op" id="1696709">[</span><span class="num" id="1696710">0</span><span class="op" id="1696711">]</span><span class="op" id="1696712">)</span><span class="op" id="1696713">,</span>&nbsp;<span class="ident" id="1696715">unsafe</span><span class="op" id="1696721">.</span><span class="ident" id="1696722">Pointer</span><span class="op" id="1696729">(</span><span class="ident" id="1696730">p</span><span class="op" id="1696731">)</span><span class="op" id="1696732">,</span>&nbsp;<span class="builtintype" id="1696734">uintptr</span><span class="op" id="1696741">(</span><span class="ident" id="1696742">n</span><span class="op" id="1696743">)</span><span class="op" id="1696744">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696747">return</span>&nbsp;<span class="ident" id="1696754">x</span><br>
<span class="lineno"></span><span class="op" id="1696756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1696759">func</span>&nbsp;<span class="ident" id="1696764">gostringsize</span><span class="op" id="1696776">(</span><span class="ident" id="1696777">n</span>&nbsp;<span class="builtintype" id="1696779">int</span><span class="op" id="1696782">)</span>&nbsp;<span class="builtintype" id="1696784">string</span>&nbsp;<span class="op" id="1696791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696794">s</span><span class="op" id="1696795">,</span>&nbsp;<span class="ident" id="1696797">_</span>&nbsp;<span class="op" id="1696799">:=</span>&nbsp;<span class="ident" id="1696802">rawstring</span><span class="op" id="1696811">(</span><span class="ident" id="1696812">n</span><span class="op" id="1696813">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696816">return</span>&nbsp;<span class="ident" id="1696823">s</span><br>
<span class="lineno"></span><span class="op" id="1696825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1696828">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1696842">func</span>&nbsp;<span class="ident" id="1696847">findnull</span><span class="op" id="1696855">(</span><span class="op" id="1696856">*</span><span class="builtintype" id="1696857">byte</span><span class="op" id="1696861">)</span>&nbsp;<span class="builtintype" id="1696863">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1696868">func</span>&nbsp;<span class="ident" id="1696873">gostring</span><span class="op" id="1696881">(</span><span class="ident" id="1696882">p</span>&nbsp;<span class="op" id="1696884">*</span><span class="builtintype" id="1696885">byte</span><span class="op" id="1696889">)</span>&nbsp;<span class="builtintype" id="1696891">string</span>&nbsp;<span class="op" id="1696898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696901">l</span>&nbsp;<span class="op" id="1696903">:=</span>&nbsp;<span class="ident" id="1696906">findnull</span><span class="op" id="1696914">(</span><span class="ident" id="1696915">p</span><span class="op" id="1696916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696919">if</span>&nbsp;<span class="ident" id="1696922">l</span>&nbsp;<span class="op" id="1696924">==</span>&nbsp;<span class="num" id="1696927">0</span>&nbsp;<span class="op" id="1696929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1696933">return</span>&nbsp;<span class="string" id="1696940">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1696944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696947">s</span><span class="op" id="1696948">,</span>&nbsp;<span class="ident" id="1696950">b</span>&nbsp;<span class="op" id="1696952">:=</span>&nbsp;<span class="ident" id="1696955">rawstring</span><span class="op" id="1696964">(</span><span class="ident" id="1696965">l</span><span class="op" id="1696966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1696969">memmove</span><span class="op" id="1696976">(</span><span class="ident" id="1696977">unsafe</span><span class="op" id="1696983">.</span><span class="ident" id="1696984">Pointer</span><span class="op" id="1696991">(</span><span class="op" id="1696992">&amp;</span><span class="ident" id="1696993">b</span><span class="op" id="1696994">[</span><span class="num" id="1696995">0</span><span class="op" id="1696996">]</span><span class="op" id="1696997">)</span><span class="op" id="1696998">,</span>&nbsp;<span class="ident" id="1697000">unsafe</span><span class="op" id="1697006">.</span><span class="ident" id="1697007">Pointer</span><span class="op" id="1697014">(</span><span class="ident" id="1697015">p</span><span class="op" id="1697016">)</span><span class="op" id="1697017">,</span>&nbsp;<span class="builtintype" id="1697019">uintptr</span><span class="op" id="1697026">(</span><span class="ident" id="1697027">l</span><span class="op" id="1697028">)</span><span class="op" id="1697029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697032">return</span>&nbsp;<span class="ident" id="1697039">s</span><br>
<span class="lineno"></span><span class="op" id="1697041">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1697044">func</span>&nbsp;<span class="ident" id="1697049">gostringn</span><span class="op" id="1697058">(</span><span class="ident" id="1697059">p</span>&nbsp;<span class="op" id="1697061">*</span><span class="builtintype" id="1697062">byte</span><span class="op" id="1697066">,</span>&nbsp;<span class="ident" id="1697068">l</span>&nbsp;<span class="builtintype" id="1697070">int</span><span class="op" id="1697073">)</span>&nbsp;<span class="builtintype" id="1697075">string</span>&nbsp;<span class="op" id="1697082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697085">if</span>&nbsp;<span class="ident" id="1697088">l</span>&nbsp;<span class="op" id="1697090">==</span>&nbsp;<span class="num" id="1697093">0</span>&nbsp;<span class="op" id="1697095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697099">return</span>&nbsp;<span class="string" id="1697106">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697110">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697113">s</span><span class="op" id="1697114">,</span>&nbsp;<span class="ident" id="1697116">b</span>&nbsp;<span class="op" id="1697118">:=</span>&nbsp;<span class="ident" id="1697121">rawstring</span><span class="op" id="1697130">(</span><span class="ident" id="1697131">l</span><span class="op" id="1697132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697135">memmove</span><span class="op" id="1697142">(</span><span class="ident" id="1697143">unsafe</span><span class="op" id="1697149">.</span><span class="ident" id="1697150">Pointer</span><span class="op" id="1697157">(</span><span class="op" id="1697158">&amp;</span><span class="ident" id="1697159">b</span><span class="op" id="1697160">[</span><span class="num" id="1697161">0</span><span class="op" id="1697162">]</span><span class="op" id="1697163">)</span><span class="op" id="1697164">,</span>&nbsp;<span class="ident" id="1697166">unsafe</span><span class="op" id="1697172">.</span><span class="ident" id="1697173">Pointer</span><span class="op" id="1697180">(</span><span class="ident" id="1697181">p</span><span class="op" id="1697182">)</span><span class="op" id="1697183">,</span>&nbsp;<span class="builtintype" id="1697185">uintptr</span><span class="op" id="1697192">(</span><span class="ident" id="1697193">l</span><span class="op" id="1697194">)</span><span class="op" id="1697195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697198">return</span>&nbsp;<span class="ident" id="1697205">s</span><br>
<span class="lineno"></span><span class="op" id="1697207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1697210">func</span>&nbsp;<span class="ident" id="1697215">index</span><span class="op" id="1697220">(</span><span class="ident" id="1697221">s</span><span class="op" id="1697222">,</span>&nbsp;<span class="ident" id="1697224">t</span>&nbsp;<span class="builtintype" id="1697226">string</span><span class="op" id="1697232">)</span>&nbsp;<span class="builtintype" id="1697234">int</span>&nbsp;<span class="op" id="1697238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697241">if</span>&nbsp;<span class="builtinfunc" id="1697244">len</span><span class="op" id="1697247">(</span><span class="ident" id="1697248">t</span><span class="op" id="1697249">)</span>&nbsp;<span class="op" id="1697251">==</span>&nbsp;<span class="num" id="1697254">0</span>&nbsp;<span class="op" id="1697256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697260">return</span>&nbsp;<span class="num" id="1697267">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697273">for</span>&nbsp;<span class="ident" id="1697277">i</span>&nbsp;<span class="op" id="1697279">:=</span>&nbsp;<span class="num" id="1697282">0</span><span class="op" id="1697283">;</span>&nbsp;<span class="ident" id="1697285">i</span>&nbsp;<span class="op" id="1697287">&lt;</span>&nbsp;<span class="builtinfunc" id="1697289">len</span><span class="op" id="1697292">(</span><span class="ident" id="1697293">s</span><span class="op" id="1697294">)</span><span class="op" id="1697295">;</span>&nbsp;<span class="ident" id="1697297">i</span><span class="op" id="1697298">++</span>&nbsp;<span class="op" id="1697301">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697305">if</span>&nbsp;<span class="ident" id="1697308">s</span><span class="op" id="1697309">[</span><span class="ident" id="1697310">i</span><span class="op" id="1697311">]</span>&nbsp;<span class="op" id="1697313">==</span>&nbsp;<span class="ident" id="1697316">t</span><span class="op" id="1697317">[</span><span class="num" id="1697318">0</span><span class="op" id="1697319">]</span>&nbsp;<span class="op" id="1697321">&amp;&amp;</span>&nbsp;<span class="ident" id="1697324">hasprefix</span><span class="op" id="1697333">(</span><span class="ident" id="1697334">s</span><span class="op" id="1697335">[</span><span class="ident" id="1697336">i</span><span class="op" id="1697337">:</span><span class="op" id="1697338">]</span><span class="op" id="1697339">,</span>&nbsp;<span class="ident" id="1697341">t</span><span class="op" id="1697342">)</span>&nbsp;<span class="op" id="1697344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697349">return</span>&nbsp;<span class="ident" id="1697356">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697366">return</span>&nbsp;<span class="op" id="1697373">-</span><span class="num" id="1697374">1</span><br>
<span class="lineno">290</span><span class="op" id="1697376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1697379">func</span>&nbsp;<span class="ident" id="1697384">contains</span><span class="op" id="1697392">(</span><span class="ident" id="1697393">s</span><span class="op" id="1697394">,</span>&nbsp;<span class="ident" id="1697396">t</span>&nbsp;<span class="builtintype" id="1697398">string</span><span class="op" id="1697404">)</span>&nbsp;<span class="builtintype" id="1697406">bool</span>&nbsp;<span class="op" id="1697411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697414">return</span>&nbsp;<span class="ident" id="1697421">index</span><span class="op" id="1697426">(</span><span class="ident" id="1697427">s</span><span class="op" id="1697428">,</span>&nbsp;<span class="ident" id="1697430">t</span><span class="op" id="1697431">)</span>&nbsp;<span class="op" id="1697433">&gt;=</span>&nbsp;<span class="num" id="1697436">0</span><br>
<span class="lineno"></span><span class="op" id="1697438">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1697441">func</span>&nbsp;<span class="ident" id="1697446">hasprefix</span><span class="op" id="1697455">(</span><span class="ident" id="1697456">s</span><span class="op" id="1697457">,</span>&nbsp;<span class="ident" id="1697459">t</span>&nbsp;<span class="builtintype" id="1697461">string</span><span class="op" id="1697467">)</span>&nbsp;<span class="builtintype" id="1697469">bool</span>&nbsp;<span class="op" id="1697474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697477">return</span>&nbsp;<span class="builtinfunc" id="1697484">len</span><span class="op" id="1697487">(</span><span class="ident" id="1697488">s</span><span class="op" id="1697489">)</span>&nbsp;<span class="op" id="1697491">&gt;=</span>&nbsp;<span class="builtinfunc" id="1697494">len</span><span class="op" id="1697497">(</span><span class="ident" id="1697498">t</span><span class="op" id="1697499">)</span>&nbsp;<span class="op" id="1697501">&amp;&amp;</span>&nbsp;<span class="ident" id="1697504">s</span><span class="op" id="1697505">[</span><span class="op" id="1697506">:</span><span class="builtinfunc" id="1697507">len</span><span class="op" id="1697510">(</span><span class="ident" id="1697511">t</span><span class="op" id="1697512">)</span><span class="op" id="1697513">]</span>&nbsp;<span class="op" id="1697515">==</span>&nbsp;<span class="ident" id="1697518">t</span><br>
<span class="lineno"></span><span class="op" id="1697520">}</span>
</div>
</body>
</html>
