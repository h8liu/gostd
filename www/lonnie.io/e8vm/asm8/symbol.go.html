<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5837098">package</span>&nbsp;<span class="ident" id="5837106">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5837112">import</span>&nbsp;<span class="op" id="5837119">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5837122">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5837144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5837147">//&nbsp;Symbol&nbsp;is&nbsp;a&nbsp;data&nbsp;structure&nbsp;for&nbsp;saving&nbsp;a&nbsp;symbol.</span><br>
<span class="lineno"></span><span class="keyword" id="5837198">type</span>&nbsp;<span class="ident" id="5837203">symbol</span>&nbsp;<span class="keyword" id="5837210">struct</span>&nbsp;<span class="op" id="5837217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837220">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5837228">string</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837236">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5837244">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837249">Item</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5837257">interface</span><span class="op" id="5837266">{</span><span class="op" id="5837267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837270">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5837278">*</span><span class="ident" id="5837279">lex8</span><span class="op" id="5837283">.</span><span class="ident" id="5837284">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837289">Package</span>&nbsp;<span class="builtintype" id="5837297">string</span>&nbsp;<span class="comment" id="5837304">//&nbsp;Package&nbsp;path</span><br>
<span class="lineno"></span><span class="op" id="5837320">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5837323">func</span>&nbsp;<span class="op" id="5837328">(</span><span class="ident" id="5837329">s</span>&nbsp;<span class="op" id="5837331">*</span><span class="ident" id="5837332">symbol</span><span class="op" id="5837338">)</span>&nbsp;<span class="ident" id="5837340">clone</span><span class="op" id="5837345">(</span><span class="op" id="5837346">)</span>&nbsp;<span class="op" id="5837348">*</span><span class="ident" id="5837349">symbol</span>&nbsp;<span class="op" id="5837356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837359">return</span>&nbsp;<span class="op" id="5837366">&amp;</span><span class="ident" id="5837367">symbol</span><span class="op" id="5837373">{</span><span class="ident" id="5837374">s</span><span class="op" id="5837375">.</span><span class="ident" id="5837376">Name</span><span class="op" id="5837380">,</span>&nbsp;<span class="ident" id="5837382">s</span><span class="op" id="5837383">.</span><span class="ident" id="5837384">Type</span><span class="op" id="5837388">,</span>&nbsp;<span class="ident" id="5837390">s</span><span class="op" id="5837391">.</span><span class="ident" id="5837392">Item</span><span class="op" id="5837396">,</span>&nbsp;<span class="ident" id="5837398">s</span><span class="op" id="5837399">.</span><span class="ident" id="5837400">Pos</span><span class="op" id="5837403">,</span>&nbsp;<span class="ident" id="5837405">s</span><span class="op" id="5837406">.</span><span class="ident" id="5837407">Package</span><span class="op" id="5837414">}</span><br>
<span class="lineno"></span><span class="op" id="5837416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="5837419">//&nbsp;asm8&nbsp;symbol&nbsp;types</span><br>
<span class="lineno"></span><span class="keyword" id="5837440">const</span>&nbsp;<span class="op" id="5837446">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837449">SymImport</span>&nbsp;<span class="op" id="5837459">=</span>&nbsp;<span class="ident" id="5837461">iota</span>&nbsp;<span class="comment" id="5837466">//&nbsp;Item.type&nbsp;==&nbsp;*PkgObj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837491">SymFunc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837508">//&nbsp;Item.type&nbsp;==&nbsp;*Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837531">SymConst</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837548">//&nbsp;Item.type&nbsp;==&nbsp;*Const</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837572">SymVar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837589">//&nbsp;Item.type&nbsp;==&nbsp;*Var</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837611">SymLabel</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5837628">//&nbsp;Item.type&nbsp;==&nbsp;*stmt</span><br>
<span class="lineno"></span><span class="op" id="5837650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5837653">func</span>&nbsp;<span class="ident" id="5837658">symStr</span><span class="op" id="5837664">(</span><span class="ident" id="5837665">s</span>&nbsp;<span class="builtintype" id="5837667">int</span><span class="op" id="5837670">)</span>&nbsp;<span class="builtintype" id="5837672">string</span>&nbsp;<span class="op" id="5837679">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837682">switch</span>&nbsp;<span class="ident" id="5837689">s</span>&nbsp;<span class="op" id="5837691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837694">case</span>&nbsp;<span class="ident" id="5837699">SymImport</span><span class="op" id="5837708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837712">return</span>&nbsp;<span class="string" id="5837719">&#34;import&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837729">case</span>&nbsp;<span class="ident" id="5837734">SymFunc</span><span class="op" id="5837741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837745">return</span>&nbsp;<span class="string" id="5837752">&#34;function&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837764">case</span>&nbsp;<span class="ident" id="5837769">SymConst</span><span class="op" id="5837777">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837781">return</span>&nbsp;<span class="string" id="5837788">&#34;constant&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837800">case</span>&nbsp;<span class="ident" id="5837805">SymVar</span><span class="op" id="5837811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837815">return</span>&nbsp;<span class="string" id="5837822">&#34;variable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837834">case</span>&nbsp;<span class="ident" id="5837839">SymLabel</span><span class="op" id="5837847">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837851">return</span>&nbsp;<span class="string" id="5837858">&#34;label&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837870">return</span>&nbsp;<span class="string" id="5837877">&#34;unknown&#34;</span><br>
<span class="lineno"></span><span class="op" id="5837887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="5837890">//&nbsp;IsPublic&nbsp;checks&nbsp;if&nbsp;a&nbsp;symbol&nbsp;name&nbsp;is&nbsp;public.</span><br>
<span class="lineno"></span><span class="keyword" id="5837937">func</span>&nbsp;<span class="ident" id="5837942">isPublic</span><span class="op" id="5837950">(</span><span class="ident" id="5837951">name</span>&nbsp;<span class="builtintype" id="5837956">string</span><span class="op" id="5837962">)</span>&nbsp;<span class="builtintype" id="5837964">bool</span>&nbsp;<span class="op" id="5837969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837972">if</span>&nbsp;<span class="ident" id="5837975">name</span>&nbsp;<span class="op" id="5837980">==</span>&nbsp;<span class="string" id="5837983">&#34;&#34;</span>&nbsp;<span class="op" id="5837986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837990">return</span>&nbsp;<span class="ident" id="5837997">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838004">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838007">r</span>&nbsp;<span class="op" id="5838009">:=</span>&nbsp;<span class="ident" id="5838012">name</span><span class="op" id="5838016">[</span><span class="num" id="5838017">0</span><span class="op" id="5838018">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838021">return</span>&nbsp;<span class="ident" id="5838028">r</span>&nbsp;<span class="op" id="5838030">&gt;=</span>&nbsp;<span class="string" id="5838033">&#39;A&#39;</span>&nbsp;<span class="op" id="5838037">&amp;&amp;</span>&nbsp;<span class="ident" id="5838040">r</span>&nbsp;<span class="op" id="5838042">&lt;=</span>&nbsp;<span class="string" id="5838045">&#39;Z&#39;</span><br>
<span class="lineno"></span><span class="op" id="5838049">}</span>
</div>
</body>
</html>
