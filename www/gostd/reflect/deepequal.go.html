<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2803427">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2803482">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2803536">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2803587">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2803625">package</span>&nbsp;<span class="ident" id="2803633">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2803642">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2803703">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2803762">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2803820">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2803881">type</span>&nbsp;<span class="ident" id="2803886">visit</span>&nbsp;<span class="keyword" id="2803892">struct</span>&nbsp;<span class="op" id="2803899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2803902">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2803906">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2803915">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2803919">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2803928">typ</span>&nbsp;<span class="ident" id="2803932">Type</span><br>
<span class="lineno"></span><span class="op" id="2803937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2803940">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2804014">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2804091">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2804111">func</span>&nbsp;<span class="ident" id="2804116">deepValueEqual</span><span class="op" id="2804130">(</span><span class="ident" id="2804131">v1</span><span class="op" id="2804133">,</span>&nbsp;<span class="ident" id="2804135">v2</span>&nbsp;<span class="ident" id="2804138">Value</span><span class="op" id="2804143">,</span>&nbsp;<span class="ident" id="2804145">visited</span>&nbsp;<span class="keyword" id="2804153">map</span><span class="op" id="2804156">[</span><span class="ident" id="2804157">visit</span><span class="op" id="2804162">]</span><span class="builtintype" id="2804163">bool</span><span class="op" id="2804167">,</span>&nbsp;<span class="ident" id="2804169">depth</span>&nbsp;<span class="builtintype" id="2804175">int</span><span class="op" id="2804178">)</span>&nbsp;<span class="builtintype" id="2804180">bool</span>&nbsp;<span class="op" id="2804185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804188">if</span>&nbsp;<span class="op" id="2804191">!</span><span class="ident" id="2804192">v1</span><span class="op" id="2804194">.</span><span class="ident" id="2804195">IsValid</span><span class="op" id="2804202">(</span><span class="op" id="2804203">)</span>&nbsp;<span class="op" id="2804205">||</span>&nbsp;<span class="op" id="2804208">!</span><span class="ident" id="2804209">v2</span><span class="op" id="2804211">.</span><span class="ident" id="2804212">IsValid</span><span class="op" id="2804219">(</span><span class="op" id="2804220">)</span>&nbsp;<span class="op" id="2804222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804226">return</span>&nbsp;<span class="ident" id="2804233">v1</span><span class="op" id="2804235">.</span><span class="ident" id="2804236">IsValid</span><span class="op" id="2804243">(</span><span class="op" id="2804244">)</span>&nbsp;<span class="op" id="2804246">==</span>&nbsp;<span class="ident" id="2804249">v2</span><span class="op" id="2804251">.</span><span class="ident" id="2804252">IsValid</span><span class="op" id="2804259">(</span><span class="op" id="2804260">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804266">if</span>&nbsp;<span class="ident" id="2804269">v1</span><span class="op" id="2804271">.</span><span class="ident" id="2804272">Type</span><span class="op" id="2804276">(</span><span class="op" id="2804277">)</span>&nbsp;<span class="op" id="2804279">!=</span>&nbsp;<span class="ident" id="2804282">v2</span><span class="op" id="2804284">.</span><span class="ident" id="2804285">Type</span><span class="op" id="2804289">(</span><span class="op" id="2804290">)</span>&nbsp;<span class="op" id="2804292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804296">return</span>&nbsp;<span class="builtintype" id="2804303">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2804314">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804377">hard</span>&nbsp;<span class="op" id="2804382">:=</span>&nbsp;<span class="keyword" id="2804385">func</span><span class="op" id="2804389">(</span><span class="ident" id="2804390">k</span>&nbsp;<span class="ident" id="2804392">Kind</span><span class="op" id="2804396">)</span>&nbsp;<span class="builtintype" id="2804398">bool</span>&nbsp;<span class="op" id="2804403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804407">switch</span>&nbsp;<span class="ident" id="2804414">k</span>&nbsp;<span class="op" id="2804416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804420">case</span>&nbsp;<span class="ident" id="2804425">Array</span><span class="op" id="2804430">,</span>&nbsp;<span class="ident" id="2804432">Map</span><span class="op" id="2804435">,</span>&nbsp;<span class="ident" id="2804437">Slice</span><span class="op" id="2804442">,</span>&nbsp;<span class="ident" id="2804444">Struct</span><span class="op" id="2804450">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804455">return</span>&nbsp;<span class="builtintype" id="2804462">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804473">return</span>&nbsp;<span class="builtintype" id="2804480">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804491">if</span>&nbsp;<span class="ident" id="2804494">v1</span><span class="op" id="2804496">.</span><span class="ident" id="2804497">CanAddr</span><span class="op" id="2804504">(</span><span class="op" id="2804505">)</span>&nbsp;<span class="op" id="2804507">&amp;&amp;</span>&nbsp;<span class="ident" id="2804510">v2</span><span class="op" id="2804512">.</span><span class="ident" id="2804513">CanAddr</span><span class="op" id="2804520">(</span><span class="op" id="2804521">)</span>&nbsp;<span class="op" id="2804523">&amp;&amp;</span>&nbsp;<span class="ident" id="2804526">hard</span><span class="op" id="2804530">(</span><span class="ident" id="2804531">v1</span><span class="op" id="2804533">.</span><span class="ident" id="2804534">Kind</span><span class="op" id="2804538">(</span><span class="op" id="2804539">)</span><span class="op" id="2804540">)</span>&nbsp;<span class="op" id="2804542">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804546">addr1</span>&nbsp;<span class="op" id="2804552">:=</span>&nbsp;<span class="ident" id="2804555">v1</span><span class="op" id="2804557">.</span><span class="ident" id="2804558">UnsafeAddr</span><span class="op" id="2804568">(</span><span class="op" id="2804569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804573">addr2</span>&nbsp;<span class="op" id="2804579">:=</span>&nbsp;<span class="ident" id="2804582">v2</span><span class="op" id="2804584">.</span><span class="ident" id="2804585">UnsafeAddr</span><span class="op" id="2804595">(</span><span class="op" id="2804596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804600">if</span>&nbsp;<span class="ident" id="2804603">addr1</span>&nbsp;<span class="op" id="2804609">&gt;</span>&nbsp;<span class="ident" id="2804611">addr2</span>&nbsp;<span class="op" id="2804617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2804622">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804687">addr1</span><span class="op" id="2804692">,</span>&nbsp;<span class="ident" id="2804694">addr2</span>&nbsp;<span class="op" id="2804700">=</span>&nbsp;<span class="ident" id="2804702">addr2</span><span class="op" id="2804707">,</span>&nbsp;<span class="ident" id="2804709">addr1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2804722">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804773">if</span>&nbsp;<span class="ident" id="2804776">addr1</span>&nbsp;<span class="op" id="2804782">==</span>&nbsp;<span class="ident" id="2804785">addr2</span>&nbsp;<span class="op" id="2804791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804796">return</span>&nbsp;<span class="builtintype" id="2804803">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2804815">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804840">typ</span>&nbsp;<span class="op" id="2804844">:=</span>&nbsp;<span class="ident" id="2804847">v1</span><span class="op" id="2804849">.</span><span class="ident" id="2804850">Type</span><span class="op" id="2804854">(</span><span class="op" id="2804855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804859">v</span>&nbsp;<span class="op" id="2804861">:=</span>&nbsp;<span class="ident" id="2804864">visit</span><span class="op" id="2804869">{</span><span class="ident" id="2804870">addr1</span><span class="op" id="2804875">,</span>&nbsp;<span class="ident" id="2804877">addr2</span><span class="op" id="2804882">,</span>&nbsp;<span class="ident" id="2804884">typ</span><span class="op" id="2804887">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804891">if</span>&nbsp;<span class="ident" id="2804894">visited</span><span class="op" id="2804901">[</span><span class="ident" id="2804902">v</span><span class="op" id="2804903">]</span>&nbsp;<span class="op" id="2804905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804910">return</span>&nbsp;<span class="builtintype" id="2804917">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2804929">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2804954">visited</span><span class="op" id="2804961">[</span><span class="ident" id="2804962">v</span><span class="op" id="2804963">]</span>&nbsp;<span class="op" id="2804965">=</span>&nbsp;<span class="builtintype" id="2804967">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2804973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804977">switch</span>&nbsp;<span class="ident" id="2804984">v1</span><span class="op" id="2804986">.</span><span class="ident" id="2804987">Kind</span><span class="op" id="2804991">(</span><span class="op" id="2804992">)</span>&nbsp;<span class="op" id="2804994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2804997">case</span>&nbsp;<span class="ident" id="2805002">Array</span><span class="op" id="2805007">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805011">for</span>&nbsp;<span class="ident" id="2805015">i</span>&nbsp;<span class="op" id="2805017">:=</span>&nbsp;<span class="num" id="2805020">0</span><span class="op" id="2805021">;</span>&nbsp;<span class="ident" id="2805023">i</span>&nbsp;<span class="op" id="2805025">&lt;</span>&nbsp;<span class="ident" id="2805027">v1</span><span class="op" id="2805029">.</span><span class="ident" id="2805030">Len</span><span class="op" id="2805033">(</span><span class="op" id="2805034">)</span><span class="op" id="2805035">;</span>&nbsp;<span class="ident" id="2805037">i</span><span class="op" id="2805038">++</span>&nbsp;<span class="op" id="2805041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805046">if</span>&nbsp;<span class="op" id="2805049">!</span><span class="ident" id="2805050">deepValueEqual</span><span class="op" id="2805064">(</span><span class="ident" id="2805065">v1</span><span class="op" id="2805067">.</span><span class="ident" id="2805068">Index</span><span class="op" id="2805073">(</span><span class="ident" id="2805074">i</span><span class="op" id="2805075">)</span><span class="op" id="2805076">,</span>&nbsp;<span class="ident" id="2805078">v2</span><span class="op" id="2805080">.</span><span class="ident" id="2805081">Index</span><span class="op" id="2805086">(</span><span class="ident" id="2805087">i</span><span class="op" id="2805088">)</span><span class="op" id="2805089">,</span>&nbsp;<span class="ident" id="2805091">visited</span><span class="op" id="2805098">,</span>&nbsp;<span class="ident" id="2805100">depth</span><span class="op" id="2805105">+</span><span class="num" id="2805106">1</span><span class="op" id="2805107">)</span>&nbsp;<span class="op" id="2805109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805115">return</span>&nbsp;<span class="builtintype" id="2805122">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805135">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805139">return</span>&nbsp;<span class="builtintype" id="2805146">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805152">case</span>&nbsp;<span class="ident" id="2805157">Slice</span><span class="op" id="2805162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805166">if</span>&nbsp;<span class="ident" id="2805169">v1</span><span class="op" id="2805171">.</span><span class="ident" id="2805172">IsNil</span><span class="op" id="2805177">(</span><span class="op" id="2805178">)</span>&nbsp;<span class="op" id="2805180">!=</span>&nbsp;<span class="ident" id="2805183">v2</span><span class="op" id="2805185">.</span><span class="ident" id="2805186">IsNil</span><span class="op" id="2805191">(</span><span class="op" id="2805192">)</span>&nbsp;<span class="op" id="2805194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805199">return</span>&nbsp;<span class="builtintype" id="2805206">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805214">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805218">if</span>&nbsp;<span class="ident" id="2805221">v1</span><span class="op" id="2805223">.</span><span class="ident" id="2805224">Len</span><span class="op" id="2805227">(</span><span class="op" id="2805228">)</span>&nbsp;<span class="op" id="2805230">!=</span>&nbsp;<span class="ident" id="2805233">v2</span><span class="op" id="2805235">.</span><span class="ident" id="2805236">Len</span><span class="op" id="2805239">(</span><span class="op" id="2805240">)</span>&nbsp;<span class="op" id="2805242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805247">return</span>&nbsp;<span class="builtintype" id="2805254">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805266">if</span>&nbsp;<span class="ident" id="2805269">v1</span><span class="op" id="2805271">.</span><span class="ident" id="2805272">Pointer</span><span class="op" id="2805279">(</span><span class="op" id="2805280">)</span>&nbsp;<span class="op" id="2805282">==</span>&nbsp;<span class="ident" id="2805285">v2</span><span class="op" id="2805287">.</span><span class="ident" id="2805288">Pointer</span><span class="op" id="2805295">(</span><span class="op" id="2805296">)</span>&nbsp;<span class="op" id="2805298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805303">return</span>&nbsp;<span class="builtintype" id="2805310">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805321">for</span>&nbsp;<span class="ident" id="2805325">i</span>&nbsp;<span class="op" id="2805327">:=</span>&nbsp;<span class="num" id="2805330">0</span><span class="op" id="2805331">;</span>&nbsp;<span class="ident" id="2805333">i</span>&nbsp;<span class="op" id="2805335">&lt;</span>&nbsp;<span class="ident" id="2805337">v1</span><span class="op" id="2805339">.</span><span class="ident" id="2805340">Len</span><span class="op" id="2805343">(</span><span class="op" id="2805344">)</span><span class="op" id="2805345">;</span>&nbsp;<span class="ident" id="2805347">i</span><span class="op" id="2805348">++</span>&nbsp;<span class="op" id="2805351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805356">if</span>&nbsp;<span class="op" id="2805359">!</span><span class="ident" id="2805360">deepValueEqual</span><span class="op" id="2805374">(</span><span class="ident" id="2805375">v1</span><span class="op" id="2805377">.</span><span class="ident" id="2805378">Index</span><span class="op" id="2805383">(</span><span class="ident" id="2805384">i</span><span class="op" id="2805385">)</span><span class="op" id="2805386">,</span>&nbsp;<span class="ident" id="2805388">v2</span><span class="op" id="2805390">.</span><span class="ident" id="2805391">Index</span><span class="op" id="2805396">(</span><span class="ident" id="2805397">i</span><span class="op" id="2805398">)</span><span class="op" id="2805399">,</span>&nbsp;<span class="ident" id="2805401">visited</span><span class="op" id="2805408">,</span>&nbsp;<span class="ident" id="2805410">depth</span><span class="op" id="2805415">+</span><span class="num" id="2805416">1</span><span class="op" id="2805417">)</span>&nbsp;<span class="op" id="2805419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805425">return</span>&nbsp;<span class="builtintype" id="2805432">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805441">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805449">return</span>&nbsp;<span class="builtintype" id="2805456">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805462">case</span>&nbsp;<span class="ident" id="2805467">Interface</span><span class="op" id="2805476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805480">if</span>&nbsp;<span class="ident" id="2805483">v1</span><span class="op" id="2805485">.</span><span class="ident" id="2805486">IsNil</span><span class="op" id="2805491">(</span><span class="op" id="2805492">)</span>&nbsp;<span class="op" id="2805494">||</span>&nbsp;<span class="ident" id="2805497">v2</span><span class="op" id="2805499">.</span><span class="ident" id="2805500">IsNil</span><span class="op" id="2805505">(</span><span class="op" id="2805506">)</span>&nbsp;<span class="op" id="2805508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805513">return</span>&nbsp;<span class="ident" id="2805520">v1</span><span class="op" id="2805522">.</span><span class="ident" id="2805523">IsNil</span><span class="op" id="2805528">(</span><span class="op" id="2805529">)</span>&nbsp;<span class="op" id="2805531">==</span>&nbsp;<span class="ident" id="2805534">v2</span><span class="op" id="2805536">.</span><span class="ident" id="2805537">IsNil</span><span class="op" id="2805542">(</span><span class="op" id="2805543">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805551">return</span>&nbsp;<span class="ident" id="2805558">deepValueEqual</span><span class="op" id="2805572">(</span><span class="ident" id="2805573">v1</span><span class="op" id="2805575">.</span><span class="ident" id="2805576">Elem</span><span class="op" id="2805580">(</span><span class="op" id="2805581">)</span><span class="op" id="2805582">,</span>&nbsp;<span class="ident" id="2805584">v2</span><span class="op" id="2805586">.</span><span class="ident" id="2805587">Elem</span><span class="op" id="2805591">(</span><span class="op" id="2805592">)</span><span class="op" id="2805593">,</span>&nbsp;<span class="ident" id="2805595">visited</span><span class="op" id="2805602">,</span>&nbsp;<span class="ident" id="2805604">depth</span><span class="op" id="2805609">+</span><span class="num" id="2805610">1</span><span class="op" id="2805611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805614">case</span>&nbsp;<span class="ident" id="2805619">Ptr</span><span class="op" id="2805622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805626">return</span>&nbsp;<span class="ident" id="2805633">deepValueEqual</span><span class="op" id="2805647">(</span><span class="ident" id="2805648">v1</span><span class="op" id="2805650">.</span><span class="ident" id="2805651">Elem</span><span class="op" id="2805655">(</span><span class="op" id="2805656">)</span><span class="op" id="2805657">,</span>&nbsp;<span class="ident" id="2805659">v2</span><span class="op" id="2805661">.</span><span class="ident" id="2805662">Elem</span><span class="op" id="2805666">(</span><span class="op" id="2805667">)</span><span class="op" id="2805668">,</span>&nbsp;<span class="ident" id="2805670">visited</span><span class="op" id="2805677">,</span>&nbsp;<span class="ident" id="2805679">depth</span><span class="op" id="2805684">+</span><span class="num" id="2805685">1</span><span class="op" id="2805686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805689">case</span>&nbsp;<span class="ident" id="2805694">Struct</span><span class="op" id="2805700">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805704">for</span>&nbsp;<span class="ident" id="2805708">i</span><span class="op" id="2805709">,</span>&nbsp;<span class="ident" id="2805711">n</span>&nbsp;<span class="op" id="2805713">:=</span>&nbsp;<span class="num" id="2805716">0</span><span class="op" id="2805717">,</span>&nbsp;<span class="ident" id="2805719">v1</span><span class="op" id="2805721">.</span><span class="ident" id="2805722">NumField</span><span class="op" id="2805730">(</span><span class="op" id="2805731">)</span><span class="op" id="2805732">;</span>&nbsp;<span class="ident" id="2805734">i</span>&nbsp;<span class="op" id="2805736">&lt;</span>&nbsp;<span class="ident" id="2805738">n</span><span class="op" id="2805739">;</span>&nbsp;<span class="ident" id="2805741">i</span><span class="op" id="2805742">++</span>&nbsp;<span class="op" id="2805745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805750">if</span>&nbsp;<span class="op" id="2805753">!</span><span class="ident" id="2805754">deepValueEqual</span><span class="op" id="2805768">(</span><span class="ident" id="2805769">v1</span><span class="op" id="2805771">.</span><span class="ident" id="2805772">Field</span><span class="op" id="2805777">(</span><span class="ident" id="2805778">i</span><span class="op" id="2805779">)</span><span class="op" id="2805780">,</span>&nbsp;<span class="ident" id="2805782">v2</span><span class="op" id="2805784">.</span><span class="ident" id="2805785">Field</span><span class="op" id="2805790">(</span><span class="ident" id="2805791">i</span><span class="op" id="2805792">)</span><span class="op" id="2805793">,</span>&nbsp;<span class="ident" id="2805795">visited</span><span class="op" id="2805802">,</span>&nbsp;<span class="ident" id="2805804">depth</span><span class="op" id="2805809">+</span><span class="num" id="2805810">1</span><span class="op" id="2805811">)</span>&nbsp;<span class="op" id="2805813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805819">return</span>&nbsp;<span class="builtintype" id="2805826">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805839">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805843">return</span>&nbsp;<span class="builtintype" id="2805850">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805856">case</span>&nbsp;<span class="ident" id="2805861">Map</span><span class="op" id="2805864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805868">if</span>&nbsp;<span class="ident" id="2805871">v1</span><span class="op" id="2805873">.</span><span class="ident" id="2805874">IsNil</span><span class="op" id="2805879">(</span><span class="op" id="2805880">)</span>&nbsp;<span class="op" id="2805882">!=</span>&nbsp;<span class="ident" id="2805885">v2</span><span class="op" id="2805887">.</span><span class="ident" id="2805888">IsNil</span><span class="op" id="2805893">(</span><span class="op" id="2805894">)</span>&nbsp;<span class="op" id="2805896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805901">return</span>&nbsp;<span class="builtintype" id="2805908">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805916">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805920">if</span>&nbsp;<span class="ident" id="2805923">v1</span><span class="op" id="2805925">.</span><span class="ident" id="2805926">Len</span><span class="op" id="2805929">(</span><span class="op" id="2805930">)</span>&nbsp;<span class="op" id="2805932">!=</span>&nbsp;<span class="ident" id="2805935">v2</span><span class="op" id="2805937">.</span><span class="ident" id="2805938">Len</span><span class="op" id="2805941">(</span><span class="op" id="2805942">)</span>&nbsp;<span class="op" id="2805944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805949">return</span>&nbsp;<span class="builtintype" id="2805956">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2805964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2805968">if</span>&nbsp;<span class="ident" id="2805971">v1</span><span class="op" id="2805973">.</span><span class="ident" id="2805974">Pointer</span><span class="op" id="2805981">(</span><span class="op" id="2805982">)</span>&nbsp;<span class="op" id="2805984">==</span>&nbsp;<span class="ident" id="2805987">v2</span><span class="op" id="2805989">.</span><span class="ident" id="2805990">Pointer</span><span class="op" id="2805997">(</span><span class="op" id="2805998">)</span>&nbsp;<span class="op" id="2806000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806005">return</span>&nbsp;<span class="builtintype" id="2806012">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806023">for</span>&nbsp;<span class="ident" id="2806027">_</span><span class="op" id="2806028">,</span>&nbsp;<span class="ident" id="2806030">k</span>&nbsp;<span class="op" id="2806032">:=</span>&nbsp;<span class="keyword" id="2806035">range</span>&nbsp;<span class="ident" id="2806041">v1</span><span class="op" id="2806043">.</span><span class="ident" id="2806044">MapKeys</span><span class="op" id="2806051">(</span><span class="op" id="2806052">)</span>&nbsp;<span class="op" id="2806054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806059">if</span>&nbsp;<span class="op" id="2806062">!</span><span class="ident" id="2806063">deepValueEqual</span><span class="op" id="2806077">(</span><span class="ident" id="2806078">v1</span><span class="op" id="2806080">.</span><span class="ident" id="2806081">MapIndex</span><span class="op" id="2806089">(</span><span class="ident" id="2806090">k</span><span class="op" id="2806091">)</span><span class="op" id="2806092">,</span>&nbsp;<span class="ident" id="2806094">v2</span><span class="op" id="2806096">.</span><span class="ident" id="2806097">MapIndex</span><span class="op" id="2806105">(</span><span class="ident" id="2806106">k</span><span class="op" id="2806107">)</span><span class="op" id="2806108">,</span>&nbsp;<span class="ident" id="2806110">visited</span><span class="op" id="2806117">,</span>&nbsp;<span class="ident" id="2806119">depth</span><span class="op" id="2806124">+</span><span class="num" id="2806125">1</span><span class="op" id="2806126">)</span>&nbsp;<span class="op" id="2806128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806134">return</span>&nbsp;<span class="builtintype" id="2806141">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806150">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806158">return</span>&nbsp;<span class="builtintype" id="2806165">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806171">case</span>&nbsp;<span class="ident" id="2806176">Func</span><span class="op" id="2806180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806184">if</span>&nbsp;<span class="ident" id="2806187">v1</span><span class="op" id="2806189">.</span><span class="ident" id="2806190">IsNil</span><span class="op" id="2806195">(</span><span class="op" id="2806196">)</span>&nbsp;<span class="op" id="2806198">&amp;&amp;</span>&nbsp;<span class="ident" id="2806201">v2</span><span class="op" id="2806203">.</span><span class="ident" id="2806204">IsNil</span><span class="op" id="2806209">(</span><span class="op" id="2806210">)</span>&nbsp;<span class="op" id="2806212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806217">return</span>&nbsp;<span class="builtintype" id="2806224">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2806235">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806267">return</span>&nbsp;<span class="builtintype" id="2806274">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806281">default</span><span class="op" id="2806288">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2806292">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806322">return</span>&nbsp;<span class="ident" id="2806329">valueInterface</span><span class="op" id="2806343">(</span><span class="ident" id="2806344">v1</span><span class="op" id="2806346">,</span>&nbsp;<span class="builtintype" id="2806348">false</span><span class="op" id="2806353">)</span>&nbsp;<span class="op" id="2806355">==</span>&nbsp;<span class="ident" id="2806358">valueInterface</span><span class="op" id="2806372">(</span><span class="ident" id="2806373">v2</span><span class="op" id="2806375">,</span>&nbsp;<span class="builtintype" id="2806377">false</span><span class="op" id="2806382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806385">}</span><br>
<span class="lineno"></span><span class="op" id="2806387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2806390">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2806461">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2806535">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2806604">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2806682">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2806712">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2806759">func</span>&nbsp;<span class="ident" id="2806764">DeepEqual</span><span class="op" id="2806773">(</span><span class="ident" id="2806774">a1</span><span class="op" id="2806776">,</span>&nbsp;<span class="ident" id="2806778">a2</span>&nbsp;<span class="keyword" id="2806781">interface</span><span class="op" id="2806790">{</span><span class="op" id="2806791">}</span><span class="op" id="2806792">)</span>&nbsp;<span class="builtintype" id="2806794">bool</span>&nbsp;<span class="op" id="2806799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806802">if</span>&nbsp;<span class="ident" id="2806805">a1</span>&nbsp;<span class="op" id="2806808">==</span>&nbsp;<span class="ident" id="2806811">nil</span>&nbsp;<span class="op" id="2806815">||</span>&nbsp;<span class="ident" id="2806818">a2</span>&nbsp;<span class="op" id="2806821">==</span>&nbsp;<span class="ident" id="2806824">nil</span>&nbsp;<span class="op" id="2806828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806832">return</span>&nbsp;<span class="ident" id="2806839">a1</span>&nbsp;<span class="op" id="2806842">==</span>&nbsp;<span class="ident" id="2806845">a2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2806852">v1</span>&nbsp;<span class="op" id="2806855">:=</span>&nbsp;<span class="ident" id="2806858">ValueOf</span><span class="op" id="2806865">(</span><span class="ident" id="2806866">a1</span><span class="op" id="2806868">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2806871">v2</span>&nbsp;<span class="op" id="2806874">:=</span>&nbsp;<span class="ident" id="2806877">ValueOf</span><span class="op" id="2806884">(</span><span class="ident" id="2806885">a2</span><span class="op" id="2806887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806890">if</span>&nbsp;<span class="ident" id="2806893">v1</span><span class="op" id="2806895">.</span><span class="ident" id="2806896">Type</span><span class="op" id="2806900">(</span><span class="op" id="2806901">)</span>&nbsp;<span class="op" id="2806903">!=</span>&nbsp;<span class="ident" id="2806906">v2</span><span class="op" id="2806908">.</span><span class="ident" id="2806909">Type</span><span class="op" id="2806913">(</span><span class="op" id="2806914">)</span>&nbsp;<span class="op" id="2806916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806920">return</span>&nbsp;<span class="builtintype" id="2806927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2806934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2806937">return</span>&nbsp;<span class="ident" id="2806944">deepValueEqual</span><span class="op" id="2806958">(</span><span class="ident" id="2806959">v1</span><span class="op" id="2806961">,</span>&nbsp;<span class="ident" id="2806963">v2</span><span class="op" id="2806965">,</span>&nbsp;<span class="builtinfunc" id="2806967">make</span><span class="op" id="2806971">(</span><span class="keyword" id="2806972">map</span><span class="op" id="2806975">[</span><span class="ident" id="2806976">visit</span><span class="op" id="2806981">]</span><span class="builtintype" id="2806982">bool</span><span class="op" id="2806986">)</span><span class="op" id="2806987">,</span>&nbsp;<span class="num" id="2806989">0</span><span class="op" id="2806990">)</span><br>
<span class="lineno">145</span><span class="op" id="2806992">}</span>
</div>
</body>
</html>
