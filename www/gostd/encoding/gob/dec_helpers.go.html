<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4984106">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4984165">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4984220">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4984274">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984325">package</span>&nbsp;<span class="ident" id="4984333">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984338">import</span>&nbsp;<span class="op" id="4984345">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4984348">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4984356">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4984366">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984369">var</span>&nbsp;<span class="ident" id="4984373">decArrayHelper</span>&nbsp;<span class="op" id="4984388">=</span>&nbsp;<span class="keyword" id="4984390">map</span><span class="op" id="4984393">[</span><span class="ident" id="4984394">reflect</span><span class="op" id="4984401">.</span><span class="ident" id="4984402">Kind</span><span class="op" id="4984406">]</span><span class="ident" id="4984407">decHelper</span><span class="op" id="4984416">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984419">reflect</span><span class="op" id="4984426">.</span><span class="ident" id="4984427">Bool</span><span class="op" id="4984431">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984439">decBoolArray</span><span class="op" id="4984451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984454">reflect</span><span class="op" id="4984461">.</span><span class="ident" id="4984462">Complex64</span><span class="op" id="4984471">:</span>&nbsp;&nbsp;<span class="ident" id="4984474">decComplex64Array</span><span class="op" id="4984491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984494">reflect</span><span class="op" id="4984501">.</span><span class="ident" id="4984502">Complex128</span><span class="op" id="4984512">:</span>&nbsp;<span class="ident" id="4984514">decComplex128Array</span><span class="op" id="4984532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984535">reflect</span><span class="op" id="4984542">.</span><span class="ident" id="4984543">Float32</span><span class="op" id="4984550">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984555">decFloat32Array</span><span class="op" id="4984570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984573">reflect</span><span class="op" id="4984580">.</span><span class="ident" id="4984581">Float64</span><span class="op" id="4984588">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984593">decFloat64Array</span><span class="op" id="4984608">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984611">reflect</span><span class="op" id="4984618">.</span><span class="ident" id="4984619">Int</span><span class="op" id="4984622">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984631">decIntArray</span><span class="op" id="4984642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984645">reflect</span><span class="op" id="4984652">.</span><span class="ident" id="4984653">Int16</span><span class="op" id="4984658">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984665">decInt16Array</span><span class="op" id="4984678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984681">reflect</span><span class="op" id="4984688">.</span><span class="ident" id="4984689">Int32</span><span class="op" id="4984694">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984701">decInt32Array</span><span class="op" id="4984714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984717">reflect</span><span class="op" id="4984724">.</span><span class="ident" id="4984725">Int64</span><span class="op" id="4984730">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984737">decInt64Array</span><span class="op" id="4984750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984753">reflect</span><span class="op" id="4984760">.</span><span class="ident" id="4984761">Int8</span><span class="op" id="4984765">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984773">decInt8Array</span><span class="op" id="4984785">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984788">reflect</span><span class="op" id="4984795">.</span><span class="ident" id="4984796">String</span><span class="op" id="4984802">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984808">decStringArray</span><span class="op" id="4984822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984825">reflect</span><span class="op" id="4984832">.</span><span class="ident" id="4984833">Uint</span><span class="op" id="4984837">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984845">decUintArray</span><span class="op" id="4984857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984860">reflect</span><span class="op" id="4984867">.</span><span class="ident" id="4984868">Uint16</span><span class="op" id="4984874">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984880">decUint16Array</span><span class="op" id="4984894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984897">reflect</span><span class="op" id="4984904">.</span><span class="ident" id="4984905">Uint32</span><span class="op" id="4984911">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984917">decUint32Array</span><span class="op" id="4984931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984934">reflect</span><span class="op" id="4984941">.</span><span class="ident" id="4984942">Uint64</span><span class="op" id="4984948">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984954">decUint64Array</span><span class="op" id="4984968">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984971">reflect</span><span class="op" id="4984978">.</span><span class="ident" id="4984979">Uintptr</span><span class="op" id="4984986">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4984991">decUintptrArray</span><span class="op" id="4985006">,</span><br>
<span class="lineno"></span><span class="op" id="4985008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4985011">var</span>&nbsp;<span class="ident" id="4985015">decSliceHelper</span>&nbsp;<span class="op" id="4985030">=</span>&nbsp;<span class="keyword" id="4985032">map</span><span class="op" id="4985035">[</span><span class="ident" id="4985036">reflect</span><span class="op" id="4985043">.</span><span class="ident" id="4985044">Kind</span><span class="op" id="4985048">]</span><span class="ident" id="4985049">decHelper</span><span class="op" id="4985058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985061">reflect</span><span class="op" id="4985068">.</span><span class="ident" id="4985069">Bool</span><span class="op" id="4985073">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985081">decBoolSlice</span><span class="op" id="4985093">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985096">reflect</span><span class="op" id="4985103">.</span><span class="ident" id="4985104">Complex64</span><span class="op" id="4985113">:</span>&nbsp;&nbsp;<span class="ident" id="4985116">decComplex64Slice</span><span class="op" id="4985133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985136">reflect</span><span class="op" id="4985143">.</span><span class="ident" id="4985144">Complex128</span><span class="op" id="4985154">:</span>&nbsp;<span class="ident" id="4985156">decComplex128Slice</span><span class="op" id="4985174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985177">reflect</span><span class="op" id="4985184">.</span><span class="ident" id="4985185">Float32</span><span class="op" id="4985192">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985197">decFloat32Slice</span><span class="op" id="4985212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985215">reflect</span><span class="op" id="4985222">.</span><span class="ident" id="4985223">Float64</span><span class="op" id="4985230">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985235">decFloat64Slice</span><span class="op" id="4985250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985253">reflect</span><span class="op" id="4985260">.</span><span class="ident" id="4985261">Int</span><span class="op" id="4985264">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985273">decIntSlice</span><span class="op" id="4985284">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985287">reflect</span><span class="op" id="4985294">.</span><span class="ident" id="4985295">Int16</span><span class="op" id="4985300">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985307">decInt16Slice</span><span class="op" id="4985320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985323">reflect</span><span class="op" id="4985330">.</span><span class="ident" id="4985331">Int32</span><span class="op" id="4985336">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985343">decInt32Slice</span><span class="op" id="4985356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985359">reflect</span><span class="op" id="4985366">.</span><span class="ident" id="4985367">Int64</span><span class="op" id="4985372">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985379">decInt64Slice</span><span class="op" id="4985392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985395">reflect</span><span class="op" id="4985402">.</span><span class="ident" id="4985403">Int8</span><span class="op" id="4985407">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985415">decInt8Slice</span><span class="op" id="4985427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985430">reflect</span><span class="op" id="4985437">.</span><span class="ident" id="4985438">String</span><span class="op" id="4985444">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985450">decStringSlice</span><span class="op" id="4985464">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985467">reflect</span><span class="op" id="4985474">.</span><span class="ident" id="4985475">Uint</span><span class="op" id="4985479">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985487">decUintSlice</span><span class="op" id="4985499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985502">reflect</span><span class="op" id="4985509">.</span><span class="ident" id="4985510">Uint16</span><span class="op" id="4985516">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985522">decUint16Slice</span><span class="op" id="4985536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985539">reflect</span><span class="op" id="4985546">.</span><span class="ident" id="4985547">Uint32</span><span class="op" id="4985553">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985559">decUint32Slice</span><span class="op" id="4985573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985576">reflect</span><span class="op" id="4985583">.</span><span class="ident" id="4985584">Uint64</span><span class="op" id="4985590">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985596">decUint64Slice</span><span class="op" id="4985610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985613">reflect</span><span class="op" id="4985620">.</span><span class="ident" id="4985621">Uintptr</span><span class="op" id="4985628">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4985633">decUintptrSlice</span><span class="op" id="4985648">,</span><br>
<span class="lineno">50</span><span class="op" id="4985650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4985653">func</span>&nbsp;<span class="ident" id="4985658">decBoolArray</span><span class="op" id="4985670">(</span><span class="ident" id="4985671">state</span>&nbsp;<span class="op" id="4985677">*</span><span class="ident" id="4985678">decoderState</span><span class="op" id="4985690">,</span>&nbsp;<span class="ident" id="4985692">v</span>&nbsp;<span class="ident" id="4985694">reflect</span><span class="op" id="4985701">.</span><span class="ident" id="4985702">Value</span><span class="op" id="4985707">,</span>&nbsp;<span class="ident" id="4985709">length</span>&nbsp;<span class="builtintype" id="4985716">int</span><span class="op" id="4985719">,</span>&nbsp;<span class="ident" id="4985721">ovfl</span>&nbsp;<span class="builtintype" id="4985726">error</span><span class="op" id="4985731">)</span>&nbsp;<span class="builtintype" id="4985733">bool</span>&nbsp;<span class="op" id="4985738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4985741">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985782">if</span>&nbsp;<span class="op" id="4985785">!</span><span class="ident" id="4985786">v</span><span class="op" id="4985787">.</span><span class="ident" id="4985788">CanAddr</span><span class="op" id="4985795">(</span><span class="op" id="4985796">)</span>&nbsp;<span class="op" id="4985798">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985802">return</span>&nbsp;<span class="builtintype" id="4985809">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985819">return</span>&nbsp;<span class="ident" id="4985826">decBoolSlice</span><span class="op" id="4985838">(</span><span class="ident" id="4985839">state</span><span class="op" id="4985844">,</span>&nbsp;<span class="ident" id="4985846">v</span><span class="op" id="4985847">.</span><span class="ident" id="4985848">Slice</span><span class="op" id="4985853">(</span><span class="num" id="4985854">0</span><span class="op" id="4985855">,</span>&nbsp;<span class="ident" id="4985857">v</span><span class="op" id="4985858">.</span><span class="ident" id="4985859">Len</span><span class="op" id="4985862">(</span><span class="op" id="4985863">)</span><span class="op" id="4985864">)</span><span class="op" id="4985865">,</span>&nbsp;<span class="ident" id="4985867">length</span><span class="op" id="4985873">,</span>&nbsp;<span class="ident" id="4985875">ovfl</span><span class="op" id="4985879">)</span><br>
<span class="lineno"></span><span class="op" id="4985881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4985884">func</span>&nbsp;<span class="ident" id="4985889">decBoolSlice</span><span class="op" id="4985901">(</span><span class="ident" id="4985902">state</span>&nbsp;<span class="op" id="4985908">*</span><span class="ident" id="4985909">decoderState</span><span class="op" id="4985921">,</span>&nbsp;<span class="ident" id="4985923">v</span>&nbsp;<span class="ident" id="4985925">reflect</span><span class="op" id="4985932">.</span><span class="ident" id="4985933">Value</span><span class="op" id="4985938">,</span>&nbsp;<span class="ident" id="4985940">length</span>&nbsp;<span class="builtintype" id="4985947">int</span><span class="op" id="4985950">,</span>&nbsp;<span class="ident" id="4985952">ovfl</span>&nbsp;<span class="builtintype" id="4985957">error</span><span class="op" id="4985962">)</span>&nbsp;<span class="builtintype" id="4985964">bool</span>&nbsp;<span class="op" id="4985969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985972">slice</span><span class="op" id="4985977">,</span>&nbsp;<span class="ident" id="4985979">ok</span>&nbsp;<span class="op" id="4985982">:=</span>&nbsp;<span class="ident" id="4985985">v</span><span class="op" id="4985986">.</span><span class="ident" id="4985987">Interface</span><span class="op" id="4985996">(</span><span class="op" id="4985997">)</span><span class="op" id="4985998">.</span><span class="op" id="4985999">(</span><span class="op" id="4986000">[</span><span class="op" id="4986001">]</span><span class="builtintype" id="4986002">bool</span><span class="op" id="4986006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986009">if</span>&nbsp;<span class="op" id="4986012">!</span><span class="ident" id="4986013">ok</span>&nbsp;<span class="op" id="4986016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4986020">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986095">return</span>&nbsp;<span class="builtintype" id="4986102">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986112">for</span>&nbsp;<span class="ident" id="4986116">i</span>&nbsp;<span class="op" id="4986118">:=</span>&nbsp;<span class="num" id="4986121">0</span><span class="op" id="4986122">;</span>&nbsp;<span class="ident" id="4986124">i</span>&nbsp;<span class="op" id="4986126">&lt;</span>&nbsp;<span class="ident" id="4986128">length</span><span class="op" id="4986134">;</span>&nbsp;<span class="ident" id="4986136">i</span><span class="op" id="4986137">++</span>&nbsp;<span class="op" id="4986140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986144">if</span>&nbsp;<span class="ident" id="4986147">state</span><span class="op" id="4986152">.</span><span class="ident" id="4986153">b</span><span class="op" id="4986154">.</span><span class="ident" id="4986155">Len</span><span class="op" id="4986158">(</span><span class="op" id="4986159">)</span>&nbsp;<span class="op" id="4986161">==</span>&nbsp;<span class="num" id="4986164">0</span>&nbsp;<span class="op" id="4986166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986171">errorf</span><span class="op" id="4986177">(</span><span class="string" id="4986178">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4986249">,</span>&nbsp;<span class="ident" id="4986251">length</span><span class="op" id="4986257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986261">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986265">slice</span><span class="op" id="4986270">[</span><span class="ident" id="4986271">i</span><span class="op" id="4986272">]</span>&nbsp;<span class="op" id="4986274">=</span>&nbsp;<span class="ident" id="4986276">state</span><span class="op" id="4986281">.</span><span class="ident" id="4986282">decodeUint</span><span class="op" id="4986292">(</span><span class="op" id="4986293">)</span>&nbsp;<span class="op" id="4986295">!=</span>&nbsp;<span class="num" id="4986298">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986304">return</span>&nbsp;<span class="builtintype" id="4986311">true</span><br>
<span class="lineno"></span><span class="op" id="4986316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4986319">func</span>&nbsp;<span class="ident" id="4986324">decComplex64Array</span><span class="op" id="4986341">(</span><span class="ident" id="4986342">state</span>&nbsp;<span class="op" id="4986348">*</span><span class="ident" id="4986349">decoderState</span><span class="op" id="4986361">,</span>&nbsp;<span class="ident" id="4986363">v</span>&nbsp;<span class="ident" id="4986365">reflect</span><span class="op" id="4986372">.</span><span class="ident" id="4986373">Value</span><span class="op" id="4986378">,</span>&nbsp;<span class="ident" id="4986380">length</span>&nbsp;<span class="builtintype" id="4986387">int</span><span class="op" id="4986390">,</span>&nbsp;<span class="ident" id="4986392">ovfl</span>&nbsp;<span class="builtintype" id="4986397">error</span><span class="op" id="4986402">)</span>&nbsp;<span class="builtintype" id="4986404">bool</span>&nbsp;<span class="op" id="4986409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4986412">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986453">if</span>&nbsp;<span class="op" id="4986456">!</span><span class="ident" id="4986457">v</span><span class="op" id="4986458">.</span><span class="ident" id="4986459">CanAddr</span><span class="op" id="4986466">(</span><span class="op" id="4986467">)</span>&nbsp;<span class="op" id="4986469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986473">return</span>&nbsp;<span class="builtintype" id="4986480">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986487">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986490">return</span>&nbsp;<span class="ident" id="4986497">decComplex64Slice</span><span class="op" id="4986514">(</span><span class="ident" id="4986515">state</span><span class="op" id="4986520">,</span>&nbsp;<span class="ident" id="4986522">v</span><span class="op" id="4986523">.</span><span class="ident" id="4986524">Slice</span><span class="op" id="4986529">(</span><span class="num" id="4986530">0</span><span class="op" id="4986531">,</span>&nbsp;<span class="ident" id="4986533">v</span><span class="op" id="4986534">.</span><span class="ident" id="4986535">Len</span><span class="op" id="4986538">(</span><span class="op" id="4986539">)</span><span class="op" id="4986540">)</span><span class="op" id="4986541">,</span>&nbsp;<span class="ident" id="4986543">length</span><span class="op" id="4986549">,</span>&nbsp;<span class="ident" id="4986551">ovfl</span><span class="op" id="4986555">)</span><br>
<span class="lineno"></span><span class="op" id="4986557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4986560">func</span>&nbsp;<span class="ident" id="4986565">decComplex64Slice</span><span class="op" id="4986582">(</span><span class="ident" id="4986583">state</span>&nbsp;<span class="op" id="4986589">*</span><span class="ident" id="4986590">decoderState</span><span class="op" id="4986602">,</span>&nbsp;<span class="ident" id="4986604">v</span>&nbsp;<span class="ident" id="4986606">reflect</span><span class="op" id="4986613">.</span><span class="ident" id="4986614">Value</span><span class="op" id="4986619">,</span>&nbsp;<span class="ident" id="4986621">length</span>&nbsp;<span class="builtintype" id="4986628">int</span><span class="op" id="4986631">,</span>&nbsp;<span class="ident" id="4986633">ovfl</span>&nbsp;<span class="builtintype" id="4986638">error</span><span class="op" id="4986643">)</span>&nbsp;<span class="builtintype" id="4986645">bool</span>&nbsp;<span class="op" id="4986650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986653">slice</span><span class="op" id="4986658">,</span>&nbsp;<span class="ident" id="4986660">ok</span>&nbsp;<span class="op" id="4986663">:=</span>&nbsp;<span class="ident" id="4986666">v</span><span class="op" id="4986667">.</span><span class="ident" id="4986668">Interface</span><span class="op" id="4986677">(</span><span class="op" id="4986678">)</span><span class="op" id="4986679">.</span><span class="op" id="4986680">(</span><span class="op" id="4986681">[</span><span class="op" id="4986682">]</span><span class="builtintype" id="4986683">complex64</span><span class="op" id="4986692">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986695">if</span>&nbsp;<span class="op" id="4986698">!</span><span class="ident" id="4986699">ok</span>&nbsp;<span class="op" id="4986702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4986706">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986791">return</span>&nbsp;<span class="builtintype" id="4986798">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986808">for</span>&nbsp;<span class="ident" id="4986812">i</span>&nbsp;<span class="op" id="4986814">:=</span>&nbsp;<span class="num" id="4986817">0</span><span class="op" id="4986818">;</span>&nbsp;<span class="ident" id="4986820">i</span>&nbsp;<span class="op" id="4986822">&lt;</span>&nbsp;<span class="ident" id="4986824">length</span><span class="op" id="4986830">;</span>&nbsp;<span class="ident" id="4986832">i</span><span class="op" id="4986833">++</span>&nbsp;<span class="op" id="4986836">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4986840">if</span>&nbsp;<span class="ident" id="4986843">state</span><span class="op" id="4986848">.</span><span class="ident" id="4986849">b</span><span class="op" id="4986850">.</span><span class="ident" id="4986851">Len</span><span class="op" id="4986854">(</span><span class="op" id="4986855">)</span>&nbsp;<span class="op" id="4986857">==</span>&nbsp;<span class="num" id="4986860">0</span>&nbsp;<span class="op" id="4986862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4986867">errorf</span><span class="op" id="4986873">(</span><span class="string" id="4986874">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4986950">,</span>&nbsp;<span class="ident" id="4986952">length</span><span class="op" id="4986958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4986962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4986966">real</span>&nbsp;<span class="op" id="4986971">:=</span>&nbsp;<span class="ident" id="4986974">float32FromBits</span><span class="op" id="4986989">(</span><span class="ident" id="4986990">state</span><span class="op" id="4986995">.</span><span class="ident" id="4986996">decodeUint</span><span class="op" id="4987006">(</span><span class="op" id="4987007">)</span><span class="op" id="4987008">,</span>&nbsp;<span class="ident" id="4987010">ovfl</span><span class="op" id="4987014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4987018">imag</span>&nbsp;<span class="op" id="4987023">:=</span>&nbsp;<span class="ident" id="4987026">float32FromBits</span><span class="op" id="4987041">(</span><span class="ident" id="4987042">state</span><span class="op" id="4987047">.</span><span class="ident" id="4987048">decodeUint</span><span class="op" id="4987058">(</span><span class="op" id="4987059">)</span><span class="op" id="4987060">,</span>&nbsp;<span class="ident" id="4987062">ovfl</span><span class="op" id="4987066">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4987070">slice</span><span class="op" id="4987075">[</span><span class="ident" id="4987076">i</span><span class="op" id="4987077">]</span>&nbsp;<span class="op" id="4987079">=</span>&nbsp;<span class="builtinfunc" id="4987081">complex</span><span class="op" id="4987088">(</span><span class="builtintype" id="4987089">float32</span><span class="op" id="4987096">(</span><span class="builtinfunc" id="4987097">real</span><span class="op" id="4987101">)</span><span class="op" id="4987102">,</span>&nbsp;<span class="builtintype" id="4987104">float32</span><span class="op" id="4987111">(</span><span class="builtinfunc" id="4987112">imag</span><span class="op" id="4987116">)</span><span class="op" id="4987117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4987120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987123">return</span>&nbsp;<span class="builtintype" id="4987130">true</span><br>
<span class="lineno"></span><span class="op" id="4987135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4987138">func</span>&nbsp;<span class="ident" id="4987143">decComplex128Array</span><span class="op" id="4987161">(</span><span class="ident" id="4987162">state</span>&nbsp;<span class="op" id="4987168">*</span><span class="ident" id="4987169">decoderState</span><span class="op" id="4987181">,</span>&nbsp;<span class="ident" id="4987183">v</span>&nbsp;<span class="ident" id="4987185">reflect</span><span class="op" id="4987192">.</span><span class="ident" id="4987193">Value</span><span class="op" id="4987198">,</span>&nbsp;<span class="ident" id="4987200">length</span>&nbsp;<span class="builtintype" id="4987207">int</span><span class="op" id="4987210">,</span>&nbsp;<span class="ident" id="4987212">ovfl</span>&nbsp;<span class="builtintype" id="4987217">error</span><span class="op" id="4987222">)</span>&nbsp;<span class="builtintype" id="4987224">bool</span>&nbsp;<span class="op" id="4987229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4987232">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987273">if</span>&nbsp;<span class="op" id="4987276">!</span><span class="ident" id="4987277">v</span><span class="op" id="4987278">.</span><span class="ident" id="4987279">CanAddr</span><span class="op" id="4987286">(</span><span class="op" id="4987287">)</span>&nbsp;<span class="op" id="4987289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987293">return</span>&nbsp;<span class="builtintype" id="4987300">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4987307">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987310">return</span>&nbsp;<span class="ident" id="4987317">decComplex128Slice</span><span class="op" id="4987335">(</span><span class="ident" id="4987336">state</span><span class="op" id="4987341">,</span>&nbsp;<span class="ident" id="4987343">v</span><span class="op" id="4987344">.</span><span class="ident" id="4987345">Slice</span><span class="op" id="4987350">(</span><span class="num" id="4987351">0</span><span class="op" id="4987352">,</span>&nbsp;<span class="ident" id="4987354">v</span><span class="op" id="4987355">.</span><span class="ident" id="4987356">Len</span><span class="op" id="4987359">(</span><span class="op" id="4987360">)</span><span class="op" id="4987361">)</span><span class="op" id="4987362">,</span>&nbsp;<span class="ident" id="4987364">length</span><span class="op" id="4987370">,</span>&nbsp;<span class="ident" id="4987372">ovfl</span><span class="op" id="4987376">)</span><br>
<span class="lineno"></span><span class="op" id="4987378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4987381">func</span>&nbsp;<span class="ident" id="4987386">decComplex128Slice</span><span class="op" id="4987404">(</span><span class="ident" id="4987405">state</span>&nbsp;<span class="op" id="4987411">*</span><span class="ident" id="4987412">decoderState</span><span class="op" id="4987424">,</span>&nbsp;<span class="ident" id="4987426">v</span>&nbsp;<span class="ident" id="4987428">reflect</span><span class="op" id="4987435">.</span><span class="ident" id="4987436">Value</span><span class="op" id="4987441">,</span>&nbsp;<span class="ident" id="4987443">length</span>&nbsp;<span class="builtintype" id="4987450">int</span><span class="op" id="4987453">,</span>&nbsp;<span class="ident" id="4987455">ovfl</span>&nbsp;<span class="builtintype" id="4987460">error</span><span class="op" id="4987465">)</span>&nbsp;<span class="builtintype" id="4987467">bool</span>&nbsp;<span class="op" id="4987472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4987475">slice</span><span class="op" id="4987480">,</span>&nbsp;<span class="ident" id="4987482">ok</span>&nbsp;<span class="op" id="4987485">:=</span>&nbsp;<span class="ident" id="4987488">v</span><span class="op" id="4987489">.</span><span class="ident" id="4987490">Interface</span><span class="op" id="4987499">(</span><span class="op" id="4987500">)</span><span class="op" id="4987501">.</span><span class="op" id="4987502">(</span><span class="op" id="4987503">[</span><span class="op" id="4987504">]</span><span class="builtintype" id="4987505">complex128</span><span class="op" id="4987515">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987518">if</span>&nbsp;<span class="op" id="4987521">!</span><span class="ident" id="4987522">ok</span>&nbsp;<span class="op" id="4987525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4987529">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987616">return</span>&nbsp;<span class="builtintype" id="4987623">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4987630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987633">for</span>&nbsp;<span class="ident" id="4987637">i</span>&nbsp;<span class="op" id="4987639">:=</span>&nbsp;<span class="num" id="4987642">0</span><span class="op" id="4987643">;</span>&nbsp;<span class="ident" id="4987645">i</span>&nbsp;<span class="op" id="4987647">&lt;</span>&nbsp;<span class="ident" id="4987649">length</span><span class="op" id="4987655">;</span>&nbsp;<span class="ident" id="4987657">i</span><span class="op" id="4987658">++</span>&nbsp;<span class="op" id="4987661">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987665">if</span>&nbsp;<span class="ident" id="4987668">state</span><span class="op" id="4987673">.</span><span class="ident" id="4987674">b</span><span class="op" id="4987675">.</span><span class="ident" id="4987676">Len</span><span class="op" id="4987679">(</span><span class="op" id="4987680">)</span>&nbsp;<span class="op" id="4987682">==</span>&nbsp;<span class="num" id="4987685">0</span>&nbsp;<span class="op" id="4987687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4987692">errorf</span><span class="op" id="4987698">(</span><span class="string" id="4987699">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4987776">,</span>&nbsp;<span class="ident" id="4987778">length</span><span class="op" id="4987784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4987788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4987792">real</span>&nbsp;<span class="op" id="4987797">:=</span>&nbsp;<span class="ident" id="4987800">float64FromBits</span><span class="op" id="4987815">(</span><span class="ident" id="4987816">state</span><span class="op" id="4987821">.</span><span class="ident" id="4987822">decodeUint</span><span class="op" id="4987832">(</span><span class="op" id="4987833">)</span><span class="op" id="4987834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4987838">imag</span>&nbsp;<span class="op" id="4987843">:=</span>&nbsp;<span class="ident" id="4987846">float64FromBits</span><span class="op" id="4987861">(</span><span class="ident" id="4987862">state</span><span class="op" id="4987867">.</span><span class="ident" id="4987868">decodeUint</span><span class="op" id="4987878">(</span><span class="op" id="4987879">)</span><span class="op" id="4987880">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4987884">slice</span><span class="op" id="4987889">[</span><span class="ident" id="4987890">i</span><span class="op" id="4987891">]</span>&nbsp;<span class="op" id="4987893">=</span>&nbsp;<span class="builtinfunc" id="4987895">complex</span><span class="op" id="4987902">(</span><span class="builtinfunc" id="4987903">real</span><span class="op" id="4987907">,</span>&nbsp;<span class="builtinfunc" id="4987909">imag</span><span class="op" id="4987913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4987916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4987919">return</span>&nbsp;<span class="builtintype" id="4987926">true</span><br>
<span class="lineno"></span><span class="op" id="4987931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4987934">func</span>&nbsp;<span class="ident" id="4987939">decFloat32Array</span><span class="op" id="4987954">(</span><span class="ident" id="4987955">state</span>&nbsp;<span class="op" id="4987961">*</span><span class="ident" id="4987962">decoderState</span><span class="op" id="4987974">,</span>&nbsp;<span class="ident" id="4987976">v</span>&nbsp;<span class="ident" id="4987978">reflect</span><span class="op" id="4987985">.</span><span class="ident" id="4987986">Value</span><span class="op" id="4987991">,</span>&nbsp;<span class="ident" id="4987993">length</span>&nbsp;<span class="builtintype" id="4988000">int</span><span class="op" id="4988003">,</span>&nbsp;<span class="ident" id="4988005">ovfl</span>&nbsp;<span class="builtintype" id="4988010">error</span><span class="op" id="4988015">)</span>&nbsp;<span class="builtintype" id="4988017">bool</span>&nbsp;<span class="op" id="4988022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4988025">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988066">if</span>&nbsp;<span class="op" id="4988069">!</span><span class="ident" id="4988070">v</span><span class="op" id="4988071">.</span><span class="ident" id="4988072">CanAddr</span><span class="op" id="4988079">(</span><span class="op" id="4988080">)</span>&nbsp;<span class="op" id="4988082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988086">return</span>&nbsp;<span class="builtintype" id="4988093">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4988100">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988103">return</span>&nbsp;<span class="ident" id="4988110">decFloat32Slice</span><span class="op" id="4988125">(</span><span class="ident" id="4988126">state</span><span class="op" id="4988131">,</span>&nbsp;<span class="ident" id="4988133">v</span><span class="op" id="4988134">.</span><span class="ident" id="4988135">Slice</span><span class="op" id="4988140">(</span><span class="num" id="4988141">0</span><span class="op" id="4988142">,</span>&nbsp;<span class="ident" id="4988144">v</span><span class="op" id="4988145">.</span><span class="ident" id="4988146">Len</span><span class="op" id="4988149">(</span><span class="op" id="4988150">)</span><span class="op" id="4988151">)</span><span class="op" id="4988152">,</span>&nbsp;<span class="ident" id="4988154">length</span><span class="op" id="4988160">,</span>&nbsp;<span class="ident" id="4988162">ovfl</span><span class="op" id="4988166">)</span><br>
<span class="lineno"></span><span class="op" id="4988168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4988171">func</span>&nbsp;<span class="ident" id="4988176">decFloat32Slice</span><span class="op" id="4988191">(</span><span class="ident" id="4988192">state</span>&nbsp;<span class="op" id="4988198">*</span><span class="ident" id="4988199">decoderState</span><span class="op" id="4988211">,</span>&nbsp;<span class="ident" id="4988213">v</span>&nbsp;<span class="ident" id="4988215">reflect</span><span class="op" id="4988222">.</span><span class="ident" id="4988223">Value</span><span class="op" id="4988228">,</span>&nbsp;<span class="ident" id="4988230">length</span>&nbsp;<span class="builtintype" id="4988237">int</span><span class="op" id="4988240">,</span>&nbsp;<span class="ident" id="4988242">ovfl</span>&nbsp;<span class="builtintype" id="4988247">error</span><span class="op" id="4988252">)</span>&nbsp;<span class="builtintype" id="4988254">bool</span>&nbsp;<span class="op" id="4988259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4988262">slice</span><span class="op" id="4988267">,</span>&nbsp;<span class="ident" id="4988269">ok</span>&nbsp;<span class="op" id="4988272">:=</span>&nbsp;<span class="ident" id="4988275">v</span><span class="op" id="4988276">.</span><span class="ident" id="4988277">Interface</span><span class="op" id="4988286">(</span><span class="op" id="4988287">)</span><span class="op" id="4988288">.</span><span class="op" id="4988289">(</span><span class="op" id="4988290">[</span><span class="op" id="4988291">]</span><span class="builtintype" id="4988292">float32</span><span class="op" id="4988299">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988302">if</span>&nbsp;<span class="op" id="4988305">!</span><span class="ident" id="4988306">ok</span>&nbsp;<span class="op" id="4988309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4988313">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988394">return</span>&nbsp;<span class="builtintype" id="4988401">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4988408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988411">for</span>&nbsp;<span class="ident" id="4988415">i</span>&nbsp;<span class="op" id="4988417">:=</span>&nbsp;<span class="num" id="4988420">0</span><span class="op" id="4988421">;</span>&nbsp;<span class="ident" id="4988423">i</span>&nbsp;<span class="op" id="4988425">&lt;</span>&nbsp;<span class="ident" id="4988427">length</span><span class="op" id="4988433">;</span>&nbsp;<span class="ident" id="4988435">i</span><span class="op" id="4988436">++</span>&nbsp;<span class="op" id="4988439">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988443">if</span>&nbsp;<span class="ident" id="4988446">state</span><span class="op" id="4988451">.</span><span class="ident" id="4988452">b</span><span class="op" id="4988453">.</span><span class="ident" id="4988454">Len</span><span class="op" id="4988457">(</span><span class="op" id="4988458">)</span>&nbsp;<span class="op" id="4988460">==</span>&nbsp;<span class="num" id="4988463">0</span>&nbsp;<span class="op" id="4988465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4988470">errorf</span><span class="op" id="4988476">(</span><span class="string" id="4988477">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4988551">,</span>&nbsp;<span class="ident" id="4988553">length</span><span class="op" id="4988559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4988563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4988567">slice</span><span class="op" id="4988572">[</span><span class="ident" id="4988573">i</span><span class="op" id="4988574">]</span>&nbsp;<span class="op" id="4988576">=</span>&nbsp;<span class="builtintype" id="4988578">float32</span><span class="op" id="4988585">(</span><span class="ident" id="4988586">float32FromBits</span><span class="op" id="4988601">(</span><span class="ident" id="4988602">state</span><span class="op" id="4988607">.</span><span class="ident" id="4988608">decodeUint</span><span class="op" id="4988618">(</span><span class="op" id="4988619">)</span><span class="op" id="4988620">,</span>&nbsp;<span class="ident" id="4988622">ovfl</span><span class="op" id="4988626">)</span><span class="op" id="4988627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4988630">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988633">return</span>&nbsp;<span class="builtintype" id="4988640">true</span><br>
<span class="lineno"></span><span class="op" id="4988645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4988648">func</span>&nbsp;<span class="ident" id="4988653">decFloat64Array</span><span class="op" id="4988668">(</span><span class="ident" id="4988669">state</span>&nbsp;<span class="op" id="4988675">*</span><span class="ident" id="4988676">decoderState</span><span class="op" id="4988688">,</span>&nbsp;<span class="ident" id="4988690">v</span>&nbsp;<span class="ident" id="4988692">reflect</span><span class="op" id="4988699">.</span><span class="ident" id="4988700">Value</span><span class="op" id="4988705">,</span>&nbsp;<span class="ident" id="4988707">length</span>&nbsp;<span class="builtintype" id="4988714">int</span><span class="op" id="4988717">,</span>&nbsp;<span class="ident" id="4988719">ovfl</span>&nbsp;<span class="builtintype" id="4988724">error</span><span class="op" id="4988729">)</span>&nbsp;<span class="builtintype" id="4988731">bool</span>&nbsp;<span class="op" id="4988736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4988739">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988780">if</span>&nbsp;<span class="op" id="4988783">!</span><span class="ident" id="4988784">v</span><span class="op" id="4988785">.</span><span class="ident" id="4988786">CanAddr</span><span class="op" id="4988793">(</span><span class="op" id="4988794">)</span>&nbsp;<span class="op" id="4988796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988800">return</span>&nbsp;<span class="builtintype" id="4988807">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4988814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4988817">return</span>&nbsp;<span class="ident" id="4988824">decFloat64Slice</span><span class="op" id="4988839">(</span><span class="ident" id="4988840">state</span><span class="op" id="4988845">,</span>&nbsp;<span class="ident" id="4988847">v</span><span class="op" id="4988848">.</span><span class="ident" id="4988849">Slice</span><span class="op" id="4988854">(</span><span class="num" id="4988855">0</span><span class="op" id="4988856">,</span>&nbsp;<span class="ident" id="4988858">v</span><span class="op" id="4988859">.</span><span class="ident" id="4988860">Len</span><span class="op" id="4988863">(</span><span class="op" id="4988864">)</span><span class="op" id="4988865">)</span><span class="op" id="4988866">,</span>&nbsp;<span class="ident" id="4988868">length</span><span class="op" id="4988874">,</span>&nbsp;<span class="ident" id="4988876">ovfl</span><span class="op" id="4988880">)</span><br>
<span class="lineno"></span><span class="op" id="4988882">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="4988885">func</span>&nbsp;<span class="ident" id="4988890">decFloat64Slice</span><span class="op" id="4988905">(</span><span class="ident" id="4988906">state</span>&nbsp;<span class="op" id="4988912">*</span><span class="ident" id="4988913">decoderState</span><span class="op" id="4988925">,</span>&nbsp;<span class="ident" id="4988927">v</span>&nbsp;<span class="ident" id="4988929">reflect</span><span class="op" id="4988936">.</span><span class="ident" id="4988937">Value</span><span class="op" id="4988942">,</span>&nbsp;<span class="ident" id="4988944">length</span>&nbsp;<span class="builtintype" id="4988951">int</span><span class="op" id="4988954">,</span>&nbsp;<span class="ident" id="4988956">ovfl</span>&nbsp;<span class="builtintype" id="4988961">error</span><span class="op" id="4988966">)</span>&nbsp;<span class="builtintype" id="4988968">bool</span>&nbsp;<span class="op" id="4988973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4988976">slice</span><span class="op" id="4988981">,</span>&nbsp;<span class="ident" id="4988983">ok</span>&nbsp;<span class="op" id="4988986">:=</span>&nbsp;<span class="ident" id="4988989">v</span><span class="op" id="4988990">.</span><span class="ident" id="4988991">Interface</span><span class="op" id="4989000">(</span><span class="op" id="4989001">)</span><span class="op" id="4989002">.</span><span class="op" id="4989003">(</span><span class="op" id="4989004">[</span><span class="op" id="4989005">]</span><span class="builtintype" id="4989006">float64</span><span class="op" id="4989013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989016">if</span>&nbsp;<span class="op" id="4989019">!</span><span class="ident" id="4989020">ok</span>&nbsp;<span class="op" id="4989023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4989027">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989108">return</span>&nbsp;<span class="builtintype" id="4989115">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4989122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989125">for</span>&nbsp;<span class="ident" id="4989129">i</span>&nbsp;<span class="op" id="4989131">:=</span>&nbsp;<span class="num" id="4989134">0</span><span class="op" id="4989135">;</span>&nbsp;<span class="ident" id="4989137">i</span>&nbsp;<span class="op" id="4989139">&lt;</span>&nbsp;<span class="ident" id="4989141">length</span><span class="op" id="4989147">;</span>&nbsp;<span class="ident" id="4989149">i</span><span class="op" id="4989150">++</span>&nbsp;<span class="op" id="4989153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989157">if</span>&nbsp;<span class="ident" id="4989160">state</span><span class="op" id="4989165">.</span><span class="ident" id="4989166">b</span><span class="op" id="4989167">.</span><span class="ident" id="4989168">Len</span><span class="op" id="4989171">(</span><span class="op" id="4989172">)</span>&nbsp;<span class="op" id="4989174">==</span>&nbsp;<span class="num" id="4989177">0</span>&nbsp;<span class="op" id="4989179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4989184">errorf</span><span class="op" id="4989190">(</span><span class="string" id="4989191">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4989265">,</span>&nbsp;<span class="ident" id="4989267">length</span><span class="op" id="4989273">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4989277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4989281">slice</span><span class="op" id="4989286">[</span><span class="ident" id="4989287">i</span><span class="op" id="4989288">]</span>&nbsp;<span class="op" id="4989290">=</span>&nbsp;<span class="ident" id="4989292">float64FromBits</span><span class="op" id="4989307">(</span><span class="ident" id="4989308">state</span><span class="op" id="4989313">.</span><span class="ident" id="4989314">decodeUint</span><span class="op" id="4989324">(</span><span class="op" id="4989325">)</span><span class="op" id="4989326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4989329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989332">return</span>&nbsp;<span class="builtintype" id="4989339">true</span><br>
<span class="lineno"></span><span class="op" id="4989344">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="4989347">func</span>&nbsp;<span class="ident" id="4989352">decIntArray</span><span class="op" id="4989363">(</span><span class="ident" id="4989364">state</span>&nbsp;<span class="op" id="4989370">*</span><span class="ident" id="4989371">decoderState</span><span class="op" id="4989383">,</span>&nbsp;<span class="ident" id="4989385">v</span>&nbsp;<span class="ident" id="4989387">reflect</span><span class="op" id="4989394">.</span><span class="ident" id="4989395">Value</span><span class="op" id="4989400">,</span>&nbsp;<span class="ident" id="4989402">length</span>&nbsp;<span class="builtintype" id="4989409">int</span><span class="op" id="4989412">,</span>&nbsp;<span class="ident" id="4989414">ovfl</span>&nbsp;<span class="builtintype" id="4989419">error</span><span class="op" id="4989424">)</span>&nbsp;<span class="builtintype" id="4989426">bool</span>&nbsp;<span class="op" id="4989431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4989434">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989475">if</span>&nbsp;<span class="op" id="4989478">!</span><span class="ident" id="4989479">v</span><span class="op" id="4989480">.</span><span class="ident" id="4989481">CanAddr</span><span class="op" id="4989488">(</span><span class="op" id="4989489">)</span>&nbsp;<span class="op" id="4989491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989495">return</span>&nbsp;<span class="builtintype" id="4989502">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4989509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989512">return</span>&nbsp;<span class="ident" id="4989519">decIntSlice</span><span class="op" id="4989530">(</span><span class="ident" id="4989531">state</span><span class="op" id="4989536">,</span>&nbsp;<span class="ident" id="4989538">v</span><span class="op" id="4989539">.</span><span class="ident" id="4989540">Slice</span><span class="op" id="4989545">(</span><span class="num" id="4989546">0</span><span class="op" id="4989547">,</span>&nbsp;<span class="ident" id="4989549">v</span><span class="op" id="4989550">.</span><span class="ident" id="4989551">Len</span><span class="op" id="4989554">(</span><span class="op" id="4989555">)</span><span class="op" id="4989556">)</span><span class="op" id="4989557">,</span>&nbsp;<span class="ident" id="4989559">length</span><span class="op" id="4989565">,</span>&nbsp;<span class="ident" id="4989567">ovfl</span><span class="op" id="4989571">)</span><br>
<span class="lineno"></span><span class="op" id="4989573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4989576">func</span>&nbsp;<span class="ident" id="4989581">decIntSlice</span><span class="op" id="4989592">(</span><span class="ident" id="4989593">state</span>&nbsp;<span class="op" id="4989599">*</span><span class="ident" id="4989600">decoderState</span><span class="op" id="4989612">,</span>&nbsp;<span class="ident" id="4989614">v</span>&nbsp;<span class="ident" id="4989616">reflect</span><span class="op" id="4989623">.</span><span class="ident" id="4989624">Value</span><span class="op" id="4989629">,</span>&nbsp;<span class="ident" id="4989631">length</span>&nbsp;<span class="builtintype" id="4989638">int</span><span class="op" id="4989641">,</span>&nbsp;<span class="ident" id="4989643">ovfl</span>&nbsp;<span class="builtintype" id="4989648">error</span><span class="op" id="4989653">)</span>&nbsp;<span class="builtintype" id="4989655">bool</span>&nbsp;<span class="op" id="4989660">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4989663">slice</span><span class="op" id="4989668">,</span>&nbsp;<span class="ident" id="4989670">ok</span>&nbsp;<span class="op" id="4989673">:=</span>&nbsp;<span class="ident" id="4989676">v</span><span class="op" id="4989677">.</span><span class="ident" id="4989678">Interface</span><span class="op" id="4989687">(</span><span class="op" id="4989688">)</span><span class="op" id="4989689">.</span><span class="op" id="4989690">(</span><span class="op" id="4989691">[</span><span class="op" id="4989692">]</span><span class="builtintype" id="4989693">int</span><span class="op" id="4989696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989699">if</span>&nbsp;<span class="op" id="4989702">!</span><span class="ident" id="4989703">ok</span>&nbsp;<span class="op" id="4989706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4989710">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989783">return</span>&nbsp;<span class="builtintype" id="4989790">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4989797">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989800">for</span>&nbsp;<span class="ident" id="4989804">i</span>&nbsp;<span class="op" id="4989806">:=</span>&nbsp;<span class="num" id="4989809">0</span><span class="op" id="4989810">;</span>&nbsp;<span class="ident" id="4989812">i</span>&nbsp;<span class="op" id="4989814">&lt;</span>&nbsp;<span class="ident" id="4989816">length</span><span class="op" id="4989822">;</span>&nbsp;<span class="ident" id="4989824">i</span><span class="op" id="4989825">++</span>&nbsp;<span class="op" id="4989828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4989832">if</span>&nbsp;<span class="ident" id="4989835">state</span><span class="op" id="4989840">.</span><span class="ident" id="4989841">b</span><span class="op" id="4989842">.</span><span class="ident" id="4989843">Len</span><span class="op" id="4989846">(</span><span class="op" id="4989847">)</span>&nbsp;<span class="op" id="4989849">==</span>&nbsp;<span class="num" id="4989852">0</span>&nbsp;<span class="op" id="4989854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4989859">errorf</span><span class="op" id="4989865">(</span><span class="string" id="4989866">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4989936">,</span>&nbsp;<span class="ident" id="4989938">length</span><span class="op" id="4989944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4989948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4989952">x</span>&nbsp;<span class="op" id="4989954">:=</span>&nbsp;<span class="ident" id="4989957">state</span><span class="op" id="4989962">.</span><span class="ident" id="4989963">decodeInt</span><span class="op" id="4989972">(</span><span class="op" id="4989973">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4989977">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990000">if</span>&nbsp;<span class="ident" id="4990003">x</span>&nbsp;<span class="op" id="4990005">&lt;</span>&nbsp;<span class="op" id="4990007">^</span><span class="ident" id="4990008">int64</span><span class="op" id="4990013">(</span><span class="op" id="4990014">^</span><span class="builtintype" id="4990015">uint</span><span class="op" id="4990019">(</span><span class="num" id="4990020">0</span><span class="op" id="4990021">)</span><span class="op" id="4990022">&gt;&gt;</span><span class="num" id="4990024">1</span><span class="op" id="4990025">)</span>&nbsp;<span class="op" id="4990027">||</span>&nbsp;<span class="ident" id="4990030">int64</span><span class="op" id="4990035">(</span><span class="op" id="4990036">^</span><span class="builtintype" id="4990037">uint</span><span class="op" id="4990041">(</span><span class="num" id="4990042">0</span><span class="op" id="4990043">)</span><span class="op" id="4990044">&gt;&gt;</span><span class="num" id="4990046">1</span><span class="op" id="4990047">)</span>&nbsp;<span class="op" id="4990049">&lt;</span>&nbsp;<span class="ident" id="4990051">x</span>&nbsp;<span class="op" id="4990053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990058">error_</span><span class="op" id="4990064">(</span><span class="ident" id="4990065">ovfl</span><span class="op" id="4990069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990077">slice</span><span class="op" id="4990082">[</span><span class="ident" id="4990083">i</span><span class="op" id="4990084">]</span>&nbsp;<span class="op" id="4990086">=</span>&nbsp;<span class="builtintype" id="4990088">int</span><span class="op" id="4990091">(</span><span class="ident" id="4990092">x</span><span class="op" id="4990093">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990099">return</span>&nbsp;<span class="builtintype" id="4990106">true</span><br>
<span class="lineno"></span><span class="op" id="4990111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4990114">func</span>&nbsp;<span class="ident" id="4990119">decInt16Array</span><span class="op" id="4990132">(</span><span class="ident" id="4990133">state</span>&nbsp;<span class="op" id="4990139">*</span><span class="ident" id="4990140">decoderState</span><span class="op" id="4990152">,</span>&nbsp;<span class="ident" id="4990154">v</span>&nbsp;<span class="ident" id="4990156">reflect</span><span class="op" id="4990163">.</span><span class="ident" id="4990164">Value</span><span class="op" id="4990169">,</span>&nbsp;<span class="ident" id="4990171">length</span>&nbsp;<span class="builtintype" id="4990178">int</span><span class="op" id="4990181">,</span>&nbsp;<span class="ident" id="4990183">ovfl</span>&nbsp;<span class="builtintype" id="4990188">error</span><span class="op" id="4990193">)</span>&nbsp;<span class="builtintype" id="4990195">bool</span>&nbsp;<span class="op" id="4990200">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4990203">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990244">if</span>&nbsp;<span class="op" id="4990247">!</span><span class="ident" id="4990248">v</span><span class="op" id="4990249">.</span><span class="ident" id="4990250">CanAddr</span><span class="op" id="4990257">(</span><span class="op" id="4990258">)</span>&nbsp;<span class="op" id="4990260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990264">return</span>&nbsp;<span class="builtintype" id="4990271">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990281">return</span>&nbsp;<span class="ident" id="4990288">decInt16Slice</span><span class="op" id="4990301">(</span><span class="ident" id="4990302">state</span><span class="op" id="4990307">,</span>&nbsp;<span class="ident" id="4990309">v</span><span class="op" id="4990310">.</span><span class="ident" id="4990311">Slice</span><span class="op" id="4990316">(</span><span class="num" id="4990317">0</span><span class="op" id="4990318">,</span>&nbsp;<span class="ident" id="4990320">v</span><span class="op" id="4990321">.</span><span class="ident" id="4990322">Len</span><span class="op" id="4990325">(</span><span class="op" id="4990326">)</span><span class="op" id="4990327">)</span><span class="op" id="4990328">,</span>&nbsp;<span class="ident" id="4990330">length</span><span class="op" id="4990336">,</span>&nbsp;<span class="ident" id="4990338">ovfl</span><span class="op" id="4990342">)</span><br>
<span class="lineno">205</span><span class="op" id="4990344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4990347">func</span>&nbsp;<span class="ident" id="4990352">decInt16Slice</span><span class="op" id="4990365">(</span><span class="ident" id="4990366">state</span>&nbsp;<span class="op" id="4990372">*</span><span class="ident" id="4990373">decoderState</span><span class="op" id="4990385">,</span>&nbsp;<span class="ident" id="4990387">v</span>&nbsp;<span class="ident" id="4990389">reflect</span><span class="op" id="4990396">.</span><span class="ident" id="4990397">Value</span><span class="op" id="4990402">,</span>&nbsp;<span class="ident" id="4990404">length</span>&nbsp;<span class="builtintype" id="4990411">int</span><span class="op" id="4990414">,</span>&nbsp;<span class="ident" id="4990416">ovfl</span>&nbsp;<span class="builtintype" id="4990421">error</span><span class="op" id="4990426">)</span>&nbsp;<span class="builtintype" id="4990428">bool</span>&nbsp;<span class="op" id="4990433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990436">slice</span><span class="op" id="4990441">,</span>&nbsp;<span class="ident" id="4990443">ok</span>&nbsp;<span class="op" id="4990446">:=</span>&nbsp;<span class="ident" id="4990449">v</span><span class="op" id="4990450">.</span><span class="ident" id="4990451">Interface</span><span class="op" id="4990460">(</span><span class="op" id="4990461">)</span><span class="op" id="4990462">.</span><span class="op" id="4990463">(</span><span class="op" id="4990464">[</span><span class="op" id="4990465">]</span><span class="builtintype" id="4990466">int16</span><span class="op" id="4990471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990474">if</span>&nbsp;<span class="op" id="4990477">!</span><span class="ident" id="4990478">ok</span>&nbsp;<span class="op" id="4990481">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4990485">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990562">return</span>&nbsp;<span class="builtintype" id="4990569">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990579">for</span>&nbsp;<span class="ident" id="4990583">i</span>&nbsp;<span class="op" id="4990585">:=</span>&nbsp;<span class="num" id="4990588">0</span><span class="op" id="4990589">;</span>&nbsp;<span class="ident" id="4990591">i</span>&nbsp;<span class="op" id="4990593">&lt;</span>&nbsp;<span class="ident" id="4990595">length</span><span class="op" id="4990601">;</span>&nbsp;<span class="ident" id="4990603">i</span><span class="op" id="4990604">++</span>&nbsp;<span class="op" id="4990607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990611">if</span>&nbsp;<span class="ident" id="4990614">state</span><span class="op" id="4990619">.</span><span class="ident" id="4990620">b</span><span class="op" id="4990621">.</span><span class="ident" id="4990622">Len</span><span class="op" id="4990625">(</span><span class="op" id="4990626">)</span>&nbsp;<span class="op" id="4990628">==</span>&nbsp;<span class="num" id="4990631">0</span>&nbsp;<span class="op" id="4990633">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990638">errorf</span><span class="op" id="4990644">(</span><span class="string" id="4990645">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4990717">,</span>&nbsp;<span class="ident" id="4990719">length</span><span class="op" id="4990725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990733">x</span>&nbsp;<span class="op" id="4990735">:=</span>&nbsp;<span class="ident" id="4990738">state</span><span class="op" id="4990743">.</span><span class="ident" id="4990744">decodeInt</span><span class="op" id="4990753">(</span><span class="op" id="4990754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990758">if</span>&nbsp;<span class="ident" id="4990761">x</span>&nbsp;<span class="op" id="4990763">&lt;</span>&nbsp;<span class="ident" id="4990765">math</span><span class="op" id="4990769">.</span><span class="ident" id="4990770">MinInt16</span>&nbsp;<span class="op" id="4990779">||</span>&nbsp;<span class="ident" id="4990782">math</span><span class="op" id="4990786">.</span><span class="ident" id="4990787">MaxInt16</span>&nbsp;<span class="op" id="4990796">&lt;</span>&nbsp;<span class="ident" id="4990798">x</span>&nbsp;<span class="op" id="4990800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990805">error_</span><span class="op" id="4990811">(</span><span class="ident" id="4990812">ovfl</span><span class="op" id="4990816">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4990824">slice</span><span class="op" id="4990829">[</span><span class="ident" id="4990830">i</span><span class="op" id="4990831">]</span>&nbsp;<span class="op" id="4990833">=</span>&nbsp;<span class="builtintype" id="4990835">int16</span><span class="op" id="4990840">(</span><span class="ident" id="4990841">x</span><span class="op" id="4990842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4990845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990848">return</span>&nbsp;<span class="builtintype" id="4990855">true</span><br>
<span class="lineno"></span><span class="op" id="4990860">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="4990863">func</span>&nbsp;<span class="ident" id="4990868">decInt32Array</span><span class="op" id="4990881">(</span><span class="ident" id="4990882">state</span>&nbsp;<span class="op" id="4990888">*</span><span class="ident" id="4990889">decoderState</span><span class="op" id="4990901">,</span>&nbsp;<span class="ident" id="4990903">v</span>&nbsp;<span class="ident" id="4990905">reflect</span><span class="op" id="4990912">.</span><span class="ident" id="4990913">Value</span><span class="op" id="4990918">,</span>&nbsp;<span class="ident" id="4990920">length</span>&nbsp;<span class="builtintype" id="4990927">int</span><span class="op" id="4990930">,</span>&nbsp;<span class="ident" id="4990932">ovfl</span>&nbsp;<span class="builtintype" id="4990937">error</span><span class="op" id="4990942">)</span>&nbsp;<span class="builtintype" id="4990944">bool</span>&nbsp;<span class="op" id="4990949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4990952">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4990993">if</span>&nbsp;<span class="op" id="4990996">!</span><span class="ident" id="4990997">v</span><span class="op" id="4990998">.</span><span class="ident" id="4990999">CanAddr</span><span class="op" id="4991006">(</span><span class="op" id="4991007">)</span>&nbsp;<span class="op" id="4991009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991013">return</span>&nbsp;<span class="builtintype" id="4991020">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4991027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991030">return</span>&nbsp;<span class="ident" id="4991037">decInt32Slice</span><span class="op" id="4991050">(</span><span class="ident" id="4991051">state</span><span class="op" id="4991056">,</span>&nbsp;<span class="ident" id="4991058">v</span><span class="op" id="4991059">.</span><span class="ident" id="4991060">Slice</span><span class="op" id="4991065">(</span><span class="num" id="4991066">0</span><span class="op" id="4991067">,</span>&nbsp;<span class="ident" id="4991069">v</span><span class="op" id="4991070">.</span><span class="ident" id="4991071">Len</span><span class="op" id="4991074">(</span><span class="op" id="4991075">)</span><span class="op" id="4991076">)</span><span class="op" id="4991077">,</span>&nbsp;<span class="ident" id="4991079">length</span><span class="op" id="4991085">,</span>&nbsp;<span class="ident" id="4991087">ovfl</span><span class="op" id="4991091">)</span><br>
<span class="lineno"></span><span class="op" id="4991093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4991096">func</span>&nbsp;<span class="ident" id="4991101">decInt32Slice</span><span class="op" id="4991114">(</span><span class="ident" id="4991115">state</span>&nbsp;<span class="op" id="4991121">*</span><span class="ident" id="4991122">decoderState</span><span class="op" id="4991134">,</span>&nbsp;<span class="ident" id="4991136">v</span>&nbsp;<span class="ident" id="4991138">reflect</span><span class="op" id="4991145">.</span><span class="ident" id="4991146">Value</span><span class="op" id="4991151">,</span>&nbsp;<span class="ident" id="4991153">length</span>&nbsp;<span class="builtintype" id="4991160">int</span><span class="op" id="4991163">,</span>&nbsp;<span class="ident" id="4991165">ovfl</span>&nbsp;<span class="builtintype" id="4991170">error</span><span class="op" id="4991175">)</span>&nbsp;<span class="builtintype" id="4991177">bool</span>&nbsp;<span class="op" id="4991182">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4991185">slice</span><span class="op" id="4991190">,</span>&nbsp;<span class="ident" id="4991192">ok</span>&nbsp;<span class="op" id="4991195">:=</span>&nbsp;<span class="ident" id="4991198">v</span><span class="op" id="4991199">.</span><span class="ident" id="4991200">Interface</span><span class="op" id="4991209">(</span><span class="op" id="4991210">)</span><span class="op" id="4991211">.</span><span class="op" id="4991212">(</span><span class="op" id="4991213">[</span><span class="op" id="4991214">]</span><span class="builtintype" id="4991215">int32</span><span class="op" id="4991220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991223">if</span>&nbsp;<span class="op" id="4991226">!</span><span class="ident" id="4991227">ok</span>&nbsp;<span class="op" id="4991230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4991234">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991311">return</span>&nbsp;<span class="builtintype" id="4991318">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4991325">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991328">for</span>&nbsp;<span class="ident" id="4991332">i</span>&nbsp;<span class="op" id="4991334">:=</span>&nbsp;<span class="num" id="4991337">0</span><span class="op" id="4991338">;</span>&nbsp;<span class="ident" id="4991340">i</span>&nbsp;<span class="op" id="4991342">&lt;</span>&nbsp;<span class="ident" id="4991344">length</span><span class="op" id="4991350">;</span>&nbsp;<span class="ident" id="4991352">i</span><span class="op" id="4991353">++</span>&nbsp;<span class="op" id="4991356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991360">if</span>&nbsp;<span class="ident" id="4991363">state</span><span class="op" id="4991368">.</span><span class="ident" id="4991369">b</span><span class="op" id="4991370">.</span><span class="ident" id="4991371">Len</span><span class="op" id="4991374">(</span><span class="op" id="4991375">)</span>&nbsp;<span class="op" id="4991377">==</span>&nbsp;<span class="num" id="4991380">0</span>&nbsp;<span class="op" id="4991382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4991387">errorf</span><span class="op" id="4991393">(</span><span class="string" id="4991394">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4991466">,</span>&nbsp;<span class="ident" id="4991468">length</span><span class="op" id="4991474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4991478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4991482">x</span>&nbsp;<span class="op" id="4991484">:=</span>&nbsp;<span class="ident" id="4991487">state</span><span class="op" id="4991492">.</span><span class="ident" id="4991493">decodeInt</span><span class="op" id="4991502">(</span><span class="op" id="4991503">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991507">if</span>&nbsp;<span class="ident" id="4991510">x</span>&nbsp;<span class="op" id="4991512">&lt;</span>&nbsp;<span class="ident" id="4991514">math</span><span class="op" id="4991518">.</span><span class="ident" id="4991519">MinInt32</span>&nbsp;<span class="op" id="4991528">||</span>&nbsp;<span class="ident" id="4991531">math</span><span class="op" id="4991535">.</span><span class="ident" id="4991536">MaxInt32</span>&nbsp;<span class="op" id="4991545">&lt;</span>&nbsp;<span class="ident" id="4991547">x</span>&nbsp;<span class="op" id="4991549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4991554">error_</span><span class="op" id="4991560">(</span><span class="ident" id="4991561">ovfl</span><span class="op" id="4991565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4991569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4991573">slice</span><span class="op" id="4991578">[</span><span class="ident" id="4991579">i</span><span class="op" id="4991580">]</span>&nbsp;<span class="op" id="4991582">=</span>&nbsp;<span class="builtintype" id="4991584">int32</span><span class="op" id="4991589">(</span><span class="ident" id="4991590">x</span><span class="op" id="4991591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4991594">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991597">return</span>&nbsp;<span class="builtintype" id="4991604">true</span><br>
<span class="lineno"></span><span class="op" id="4991609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4991612">func</span>&nbsp;<span class="ident" id="4991617">decInt64Array</span><span class="op" id="4991630">(</span><span class="ident" id="4991631">state</span>&nbsp;<span class="op" id="4991637">*</span><span class="ident" id="4991638">decoderState</span><span class="op" id="4991650">,</span>&nbsp;<span class="ident" id="4991652">v</span>&nbsp;<span class="ident" id="4991654">reflect</span><span class="op" id="4991661">.</span><span class="ident" id="4991662">Value</span><span class="op" id="4991667">,</span>&nbsp;<span class="ident" id="4991669">length</span>&nbsp;<span class="builtintype" id="4991676">int</span><span class="op" id="4991679">,</span>&nbsp;<span class="ident" id="4991681">ovfl</span>&nbsp;<span class="builtintype" id="4991686">error</span><span class="op" id="4991691">)</span>&nbsp;<span class="builtintype" id="4991693">bool</span>&nbsp;<span class="op" id="4991698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4991701">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991742">if</span>&nbsp;<span class="op" id="4991745">!</span><span class="ident" id="4991746">v</span><span class="op" id="4991747">.</span><span class="ident" id="4991748">CanAddr</span><span class="op" id="4991755">(</span><span class="op" id="4991756">)</span>&nbsp;<span class="op" id="4991758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991762">return</span>&nbsp;<span class="builtintype" id="4991769">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4991776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991779">return</span>&nbsp;<span class="ident" id="4991786">decInt64Slice</span><span class="op" id="4991799">(</span><span class="ident" id="4991800">state</span><span class="op" id="4991805">,</span>&nbsp;<span class="ident" id="4991807">v</span><span class="op" id="4991808">.</span><span class="ident" id="4991809">Slice</span><span class="op" id="4991814">(</span><span class="num" id="4991815">0</span><span class="op" id="4991816">,</span>&nbsp;<span class="ident" id="4991818">v</span><span class="op" id="4991819">.</span><span class="ident" id="4991820">Len</span><span class="op" id="4991823">(</span><span class="op" id="4991824">)</span><span class="op" id="4991825">)</span><span class="op" id="4991826">,</span>&nbsp;<span class="ident" id="4991828">length</span><span class="op" id="4991834">,</span>&nbsp;<span class="ident" id="4991836">ovfl</span><span class="op" id="4991840">)</span><br>
<span class="lineno"></span><span class="op" id="4991842">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4991845">func</span>&nbsp;<span class="ident" id="4991850">decInt64Slice</span><span class="op" id="4991863">(</span><span class="ident" id="4991864">state</span>&nbsp;<span class="op" id="4991870">*</span><span class="ident" id="4991871">decoderState</span><span class="op" id="4991883">,</span>&nbsp;<span class="ident" id="4991885">v</span>&nbsp;<span class="ident" id="4991887">reflect</span><span class="op" id="4991894">.</span><span class="ident" id="4991895">Value</span><span class="op" id="4991900">,</span>&nbsp;<span class="ident" id="4991902">length</span>&nbsp;<span class="builtintype" id="4991909">int</span><span class="op" id="4991912">,</span>&nbsp;<span class="ident" id="4991914">ovfl</span>&nbsp;<span class="builtintype" id="4991919">error</span><span class="op" id="4991924">)</span>&nbsp;<span class="builtintype" id="4991926">bool</span>&nbsp;<span class="op" id="4991931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4991934">slice</span><span class="op" id="4991939">,</span>&nbsp;<span class="ident" id="4991941">ok</span>&nbsp;<span class="op" id="4991944">:=</span>&nbsp;<span class="ident" id="4991947">v</span><span class="op" id="4991948">.</span><span class="ident" id="4991949">Interface</span><span class="op" id="4991958">(</span><span class="op" id="4991959">)</span><span class="op" id="4991960">.</span><span class="op" id="4991961">(</span><span class="op" id="4991962">[</span><span class="op" id="4991963">]</span><span class="ident" id="4991964">int64</span><span class="op" id="4991969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4991972">if</span>&nbsp;<span class="op" id="4991975">!</span><span class="ident" id="4991976">ok</span>&nbsp;<span class="op" id="4991979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4991983">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992060">return</span>&nbsp;<span class="builtintype" id="4992067">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992077">for</span>&nbsp;<span class="ident" id="4992081">i</span>&nbsp;<span class="op" id="4992083">:=</span>&nbsp;<span class="num" id="4992086">0</span><span class="op" id="4992087">;</span>&nbsp;<span class="ident" id="4992089">i</span>&nbsp;<span class="op" id="4992091">&lt;</span>&nbsp;<span class="ident" id="4992093">length</span><span class="op" id="4992099">;</span>&nbsp;<span class="ident" id="4992101">i</span><span class="op" id="4992102">++</span>&nbsp;<span class="op" id="4992105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992109">if</span>&nbsp;<span class="ident" id="4992112">state</span><span class="op" id="4992117">.</span><span class="ident" id="4992118">b</span><span class="op" id="4992119">.</span><span class="ident" id="4992120">Len</span><span class="op" id="4992123">(</span><span class="op" id="4992124">)</span>&nbsp;<span class="op" id="4992126">==</span>&nbsp;<span class="num" id="4992129">0</span>&nbsp;<span class="op" id="4992131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992136">errorf</span><span class="op" id="4992142">(</span><span class="string" id="4992143">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4992215">,</span>&nbsp;<span class="ident" id="4992217">length</span><span class="op" id="4992223">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992231">slice</span><span class="op" id="4992236">[</span><span class="ident" id="4992237">i</span><span class="op" id="4992238">]</span>&nbsp;<span class="op" id="4992240">=</span>&nbsp;<span class="ident" id="4992242">state</span><span class="op" id="4992247">.</span><span class="ident" id="4992248">decodeInt</span><span class="op" id="4992257">(</span><span class="op" id="4992258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992264">return</span>&nbsp;<span class="builtintype" id="4992271">true</span><br>
<span class="lineno"></span><span class="op" id="4992276">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4992279">func</span>&nbsp;<span class="ident" id="4992284">decInt8Array</span><span class="op" id="4992296">(</span><span class="ident" id="4992297">state</span>&nbsp;<span class="op" id="4992303">*</span><span class="ident" id="4992304">decoderState</span><span class="op" id="4992316">,</span>&nbsp;<span class="ident" id="4992318">v</span>&nbsp;<span class="ident" id="4992320">reflect</span><span class="op" id="4992327">.</span><span class="ident" id="4992328">Value</span><span class="op" id="4992333">,</span>&nbsp;<span class="ident" id="4992335">length</span>&nbsp;<span class="builtintype" id="4992342">int</span><span class="op" id="4992345">,</span>&nbsp;<span class="ident" id="4992347">ovfl</span>&nbsp;<span class="builtintype" id="4992352">error</span><span class="op" id="4992357">)</span>&nbsp;<span class="builtintype" id="4992359">bool</span>&nbsp;<span class="op" id="4992364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4992367">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992408">if</span>&nbsp;<span class="op" id="4992411">!</span><span class="ident" id="4992412">v</span><span class="op" id="4992413">.</span><span class="ident" id="4992414">CanAddr</span><span class="op" id="4992421">(</span><span class="op" id="4992422">)</span>&nbsp;<span class="op" id="4992424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992428">return</span>&nbsp;<span class="builtintype" id="4992435">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992445">return</span>&nbsp;<span class="ident" id="4992452">decInt8Slice</span><span class="op" id="4992464">(</span><span class="ident" id="4992465">state</span><span class="op" id="4992470">,</span>&nbsp;<span class="ident" id="4992472">v</span><span class="op" id="4992473">.</span><span class="ident" id="4992474">Slice</span><span class="op" id="4992479">(</span><span class="num" id="4992480">0</span><span class="op" id="4992481">,</span>&nbsp;<span class="ident" id="4992483">v</span><span class="op" id="4992484">.</span><span class="ident" id="4992485">Len</span><span class="op" id="4992488">(</span><span class="op" id="4992489">)</span><span class="op" id="4992490">)</span><span class="op" id="4992491">,</span>&nbsp;<span class="ident" id="4992493">length</span><span class="op" id="4992499">,</span>&nbsp;<span class="ident" id="4992501">ovfl</span><span class="op" id="4992505">)</span><br>
<span class="lineno"></span><span class="op" id="4992507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4992510">func</span>&nbsp;<span class="ident" id="4992515">decInt8Slice</span><span class="op" id="4992527">(</span><span class="ident" id="4992528">state</span>&nbsp;<span class="op" id="4992534">*</span><span class="ident" id="4992535">decoderState</span><span class="op" id="4992547">,</span>&nbsp;<span class="ident" id="4992549">v</span>&nbsp;<span class="ident" id="4992551">reflect</span><span class="op" id="4992558">.</span><span class="ident" id="4992559">Value</span><span class="op" id="4992564">,</span>&nbsp;<span class="ident" id="4992566">length</span>&nbsp;<span class="builtintype" id="4992573">int</span><span class="op" id="4992576">,</span>&nbsp;<span class="ident" id="4992578">ovfl</span>&nbsp;<span class="builtintype" id="4992583">error</span><span class="op" id="4992588">)</span>&nbsp;<span class="builtintype" id="4992590">bool</span>&nbsp;<span class="op" id="4992595">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992598">slice</span><span class="op" id="4992603">,</span>&nbsp;<span class="ident" id="4992605">ok</span>&nbsp;<span class="op" id="4992608">:=</span>&nbsp;<span class="ident" id="4992611">v</span><span class="op" id="4992612">.</span><span class="ident" id="4992613">Interface</span><span class="op" id="4992622">(</span><span class="op" id="4992623">)</span><span class="op" id="4992624">.</span><span class="op" id="4992625">(</span><span class="op" id="4992626">[</span><span class="op" id="4992627">]</span><span class="builtintype" id="4992628">int8</span><span class="op" id="4992632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992635">if</span>&nbsp;<span class="op" id="4992638">!</span><span class="ident" id="4992639">ok</span>&nbsp;<span class="op" id="4992642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4992646">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992721">return</span>&nbsp;<span class="builtintype" id="4992728">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992735">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992738">for</span>&nbsp;<span class="ident" id="4992742">i</span>&nbsp;<span class="op" id="4992744">:=</span>&nbsp;<span class="num" id="4992747">0</span><span class="op" id="4992748">;</span>&nbsp;<span class="ident" id="4992750">i</span>&nbsp;<span class="op" id="4992752">&lt;</span>&nbsp;<span class="ident" id="4992754">length</span><span class="op" id="4992760">;</span>&nbsp;<span class="ident" id="4992762">i</span><span class="op" id="4992763">++</span>&nbsp;<span class="op" id="4992766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992770">if</span>&nbsp;<span class="ident" id="4992773">state</span><span class="op" id="4992778">.</span><span class="ident" id="4992779">b</span><span class="op" id="4992780">.</span><span class="ident" id="4992781">Len</span><span class="op" id="4992784">(</span><span class="op" id="4992785">)</span>&nbsp;<span class="op" id="4992787">==</span>&nbsp;<span class="num" id="4992790">0</span>&nbsp;<span class="op" id="4992792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992797">errorf</span><span class="op" id="4992803">(</span><span class="string" id="4992804">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4992875">,</span>&nbsp;<span class="ident" id="4992877">length</span><span class="op" id="4992883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992891">x</span>&nbsp;<span class="op" id="4992893">:=</span>&nbsp;<span class="ident" id="4992896">state</span><span class="op" id="4992901">.</span><span class="ident" id="4992902">decodeInt</span><span class="op" id="4992911">(</span><span class="op" id="4992912">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4992916">if</span>&nbsp;<span class="ident" id="4992919">x</span>&nbsp;<span class="op" id="4992921">&lt;</span>&nbsp;<span class="ident" id="4992923">math</span><span class="op" id="4992927">.</span><span class="ident" id="4992928">MinInt8</span>&nbsp;<span class="op" id="4992936">||</span>&nbsp;<span class="ident" id="4992939">math</span><span class="op" id="4992943">.</span><span class="ident" id="4992944">MaxInt8</span>&nbsp;<span class="op" id="4992952">&lt;</span>&nbsp;<span class="ident" id="4992954">x</span>&nbsp;<span class="op" id="4992956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992961">error_</span><span class="op" id="4992967">(</span><span class="ident" id="4992968">ovfl</span><span class="op" id="4992972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4992976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4992980">slice</span><span class="op" id="4992985">[</span><span class="ident" id="4992986">i</span><span class="op" id="4992987">]</span>&nbsp;<span class="op" id="4992989">=</span>&nbsp;<span class="builtintype" id="4992991">int8</span><span class="op" id="4992995">(</span><span class="ident" id="4992996">x</span><span class="op" id="4992997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4993000">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993003">return</span>&nbsp;<span class="builtintype" id="4993010">true</span><br>
<span class="lineno"></span><span class="op" id="4993015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4993018">func</span>&nbsp;<span class="ident" id="4993023">decStringArray</span><span class="op" id="4993037">(</span><span class="ident" id="4993038">state</span>&nbsp;<span class="op" id="4993044">*</span><span class="ident" id="4993045">decoderState</span><span class="op" id="4993057">,</span>&nbsp;<span class="ident" id="4993059">v</span>&nbsp;<span class="ident" id="4993061">reflect</span><span class="op" id="4993068">.</span><span class="ident" id="4993069">Value</span><span class="op" id="4993074">,</span>&nbsp;<span class="ident" id="4993076">length</span>&nbsp;<span class="builtintype" id="4993083">int</span><span class="op" id="4993086">,</span>&nbsp;<span class="ident" id="4993088">ovfl</span>&nbsp;<span class="builtintype" id="4993093">error</span><span class="op" id="4993098">)</span>&nbsp;<span class="builtintype" id="4993100">bool</span>&nbsp;<span class="op" id="4993105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4993108">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993149">if</span>&nbsp;<span class="op" id="4993152">!</span><span class="ident" id="4993153">v</span><span class="op" id="4993154">.</span><span class="ident" id="4993155">CanAddr</span><span class="op" id="4993162">(</span><span class="op" id="4993163">)</span>&nbsp;<span class="op" id="4993165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993169">return</span>&nbsp;<span class="builtintype" id="4993176">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4993183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993186">return</span>&nbsp;<span class="ident" id="4993193">decStringSlice</span><span class="op" id="4993207">(</span><span class="ident" id="4993208">state</span><span class="op" id="4993213">,</span>&nbsp;<span class="ident" id="4993215">v</span><span class="op" id="4993216">.</span><span class="ident" id="4993217">Slice</span><span class="op" id="4993222">(</span><span class="num" id="4993223">0</span><span class="op" id="4993224">,</span>&nbsp;<span class="ident" id="4993226">v</span><span class="op" id="4993227">.</span><span class="ident" id="4993228">Len</span><span class="op" id="4993231">(</span><span class="op" id="4993232">)</span><span class="op" id="4993233">)</span><span class="op" id="4993234">,</span>&nbsp;<span class="ident" id="4993236">length</span><span class="op" id="4993242">,</span>&nbsp;<span class="ident" id="4993244">ovfl</span><span class="op" id="4993248">)</span><br>
<span class="lineno"></span><span class="op" id="4993250">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4993253">func</span>&nbsp;<span class="ident" id="4993258">decStringSlice</span><span class="op" id="4993272">(</span><span class="ident" id="4993273">state</span>&nbsp;<span class="op" id="4993279">*</span><span class="ident" id="4993280">decoderState</span><span class="op" id="4993292">,</span>&nbsp;<span class="ident" id="4993294">v</span>&nbsp;<span class="ident" id="4993296">reflect</span><span class="op" id="4993303">.</span><span class="ident" id="4993304">Value</span><span class="op" id="4993309">,</span>&nbsp;<span class="ident" id="4993311">length</span>&nbsp;<span class="builtintype" id="4993318">int</span><span class="op" id="4993321">,</span>&nbsp;<span class="ident" id="4993323">ovfl</span>&nbsp;<span class="builtintype" id="4993328">error</span><span class="op" id="4993333">)</span>&nbsp;<span class="builtintype" id="4993335">bool</span>&nbsp;<span class="op" id="4993340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993343">slice</span><span class="op" id="4993348">,</span>&nbsp;<span class="ident" id="4993350">ok</span>&nbsp;<span class="op" id="4993353">:=</span>&nbsp;<span class="ident" id="4993356">v</span><span class="op" id="4993357">.</span><span class="ident" id="4993358">Interface</span><span class="op" id="4993367">(</span><span class="op" id="4993368">)</span><span class="op" id="4993369">.</span><span class="op" id="4993370">(</span><span class="op" id="4993371">[</span><span class="op" id="4993372">]</span><span class="builtintype" id="4993373">string</span><span class="op" id="4993379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993382">if</span>&nbsp;<span class="op" id="4993385">!</span><span class="ident" id="4993386">ok</span>&nbsp;<span class="op" id="4993389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4993393">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993472">return</span>&nbsp;<span class="builtintype" id="4993479">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4993486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993489">for</span>&nbsp;<span class="ident" id="4993493">i</span>&nbsp;<span class="op" id="4993495">:=</span>&nbsp;<span class="num" id="4993498">0</span><span class="op" id="4993499">;</span>&nbsp;<span class="ident" id="4993501">i</span>&nbsp;<span class="op" id="4993503">&lt;</span>&nbsp;<span class="ident" id="4993505">length</span><span class="op" id="4993511">;</span>&nbsp;<span class="ident" id="4993513">i</span><span class="op" id="4993514">++</span>&nbsp;<span class="op" id="4993517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993521">if</span>&nbsp;<span class="ident" id="4993524">state</span><span class="op" id="4993529">.</span><span class="ident" id="4993530">b</span><span class="op" id="4993531">.</span><span class="ident" id="4993532">Len</span><span class="op" id="4993535">(</span><span class="op" id="4993536">)</span>&nbsp;<span class="op" id="4993538">==</span>&nbsp;<span class="num" id="4993541">0</span>&nbsp;<span class="op" id="4993543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993548">errorf</span><span class="op" id="4993554">(</span><span class="string" id="4993555">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4993628">,</span>&nbsp;<span class="ident" id="4993630">length</span><span class="op" id="4993636">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4993640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993644">u</span>&nbsp;<span class="op" id="4993646">:=</span>&nbsp;<span class="ident" id="4993649">state</span><span class="op" id="4993654">.</span><span class="ident" id="4993655">decodeUint</span><span class="op" id="4993665">(</span><span class="op" id="4993666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993670">n</span>&nbsp;<span class="op" id="4993672">:=</span>&nbsp;<span class="builtintype" id="4993675">int</span><span class="op" id="4993678">(</span><span class="ident" id="4993679">u</span><span class="op" id="4993680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993684">if</span>&nbsp;<span class="ident" id="4993687">n</span>&nbsp;<span class="op" id="4993689">&lt;</span>&nbsp;<span class="num" id="4993691">0</span>&nbsp;<span class="op" id="4993693">||</span>&nbsp;<span class="ident" id="4993696">uint64</span><span class="op" id="4993702">(</span><span class="ident" id="4993703">n</span><span class="op" id="4993704">)</span>&nbsp;<span class="op" id="4993706">!=</span>&nbsp;<span class="ident" id="4993709">u</span>&nbsp;<span class="op" id="4993711">||</span>&nbsp;<span class="ident" id="4993714">n</span>&nbsp;<span class="op" id="4993716">&gt;</span>&nbsp;<span class="ident" id="4993718">state</span><span class="op" id="4993723">.</span><span class="ident" id="4993724">b</span><span class="op" id="4993725">.</span><span class="ident" id="4993726">Len</span><span class="op" id="4993729">(</span><span class="op" id="4993730">)</span>&nbsp;<span class="op" id="4993732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993737">errorf</span><span class="op" id="4993743">(</span><span class="string" id="4993744">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="4993792">,</span>&nbsp;<span class="ident" id="4993794">u</span><span class="op" id="4993795">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4993799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993803">if</span>&nbsp;<span class="ident" id="4993806">n</span>&nbsp;<span class="op" id="4993808">&gt;</span>&nbsp;<span class="ident" id="4993810">state</span><span class="op" id="4993815">.</span><span class="ident" id="4993816">b</span><span class="op" id="4993817">.</span><span class="ident" id="4993818">Len</span><span class="op" id="4993821">(</span><span class="op" id="4993822">)</span>&nbsp;<span class="op" id="4993824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993829">errorf</span><span class="op" id="4993835">(</span><span class="string" id="4993836">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="4993873">,</span>&nbsp;<span class="ident" id="4993875">n</span><span class="op" id="4993876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4993880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4993884">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993904">data</span>&nbsp;<span class="op" id="4993909">:=</span>&nbsp;<span class="builtinfunc" id="4993912">make</span><span class="op" id="4993916">(</span><span class="op" id="4993917">[</span><span class="op" id="4993918">]</span><span class="builtintype" id="4993919">byte</span><span class="op" id="4993923">,</span>&nbsp;<span class="ident" id="4993925">n</span><span class="op" id="4993926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4993930">if</span>&nbsp;<span class="ident" id="4993933">_</span><span class="op" id="4993934">,</span>&nbsp;<span class="ident" id="4993936">err</span>&nbsp;<span class="op" id="4993940">:=</span>&nbsp;<span class="ident" id="4993943">state</span><span class="op" id="4993948">.</span><span class="ident" id="4993949">b</span><span class="op" id="4993950">.</span><span class="ident" id="4993951">Read</span><span class="op" id="4993955">(</span><span class="ident" id="4993956">data</span><span class="op" id="4993960">)</span><span class="op" id="4993961">;</span>&nbsp;<span class="ident" id="4993963">err</span>&nbsp;<span class="op" id="4993967">!=</span>&nbsp;<span class="ident" id="4993970">nil</span>&nbsp;<span class="op" id="4993974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4993979">errorf</span><span class="op" id="4993985">(</span><span class="string" id="4993986">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="4994013">,</span>&nbsp;<span class="ident" id="4994015">err</span><span class="op" id="4994018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4994026">slice</span><span class="op" id="4994031">[</span><span class="ident" id="4994032">i</span><span class="op" id="4994033">]</span>&nbsp;<span class="op" id="4994035">=</span>&nbsp;<span class="builtintype" id="4994037">string</span><span class="op" id="4994043">(</span><span class="ident" id="4994044">data</span><span class="op" id="4994048">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994054">return</span>&nbsp;<span class="builtintype" id="4994061">true</span><br>
<span class="lineno"></span><span class="op" id="4994066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4994069">func</span>&nbsp;<span class="ident" id="4994074">decUintArray</span><span class="op" id="4994086">(</span><span class="ident" id="4994087">state</span>&nbsp;<span class="op" id="4994093">*</span><span class="ident" id="4994094">decoderState</span><span class="op" id="4994106">,</span>&nbsp;<span class="ident" id="4994108">v</span>&nbsp;<span class="ident" id="4994110">reflect</span><span class="op" id="4994117">.</span><span class="ident" id="4994118">Value</span><span class="op" id="4994123">,</span>&nbsp;<span class="ident" id="4994125">length</span>&nbsp;<span class="builtintype" id="4994132">int</span><span class="op" id="4994135">,</span>&nbsp;<span class="ident" id="4994137">ovfl</span>&nbsp;<span class="builtintype" id="4994142">error</span><span class="op" id="4994147">)</span>&nbsp;<span class="builtintype" id="4994149">bool</span>&nbsp;<span class="op" id="4994154">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4994157">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994198">if</span>&nbsp;<span class="op" id="4994201">!</span><span class="ident" id="4994202">v</span><span class="op" id="4994203">.</span><span class="ident" id="4994204">CanAddr</span><span class="op" id="4994211">(</span><span class="op" id="4994212">)</span>&nbsp;<span class="op" id="4994214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994218">return</span>&nbsp;<span class="builtintype" id="4994225">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994235">return</span>&nbsp;<span class="ident" id="4994242">decUintSlice</span><span class="op" id="4994254">(</span><span class="ident" id="4994255">state</span><span class="op" id="4994260">,</span>&nbsp;<span class="ident" id="4994262">v</span><span class="op" id="4994263">.</span><span class="ident" id="4994264">Slice</span><span class="op" id="4994269">(</span><span class="num" id="4994270">0</span><span class="op" id="4994271">,</span>&nbsp;<span class="ident" id="4994273">v</span><span class="op" id="4994274">.</span><span class="ident" id="4994275">Len</span><span class="op" id="4994278">(</span><span class="op" id="4994279">)</span><span class="op" id="4994280">)</span><span class="op" id="4994281">,</span>&nbsp;<span class="ident" id="4994283">length</span><span class="op" id="4994289">,</span>&nbsp;<span class="ident" id="4994291">ovfl</span><span class="op" id="4994295">)</span><br>
<span class="lineno">345</span><span class="op" id="4994297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4994300">func</span>&nbsp;<span class="ident" id="4994305">decUintSlice</span><span class="op" id="4994317">(</span><span class="ident" id="4994318">state</span>&nbsp;<span class="op" id="4994324">*</span><span class="ident" id="4994325">decoderState</span><span class="op" id="4994337">,</span>&nbsp;<span class="ident" id="4994339">v</span>&nbsp;<span class="ident" id="4994341">reflect</span><span class="op" id="4994348">.</span><span class="ident" id="4994349">Value</span><span class="op" id="4994354">,</span>&nbsp;<span class="ident" id="4994356">length</span>&nbsp;<span class="builtintype" id="4994363">int</span><span class="op" id="4994366">,</span>&nbsp;<span class="ident" id="4994368">ovfl</span>&nbsp;<span class="builtintype" id="4994373">error</span><span class="op" id="4994378">)</span>&nbsp;<span class="builtintype" id="4994380">bool</span>&nbsp;<span class="op" id="4994385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4994388">slice</span><span class="op" id="4994393">,</span>&nbsp;<span class="ident" id="4994395">ok</span>&nbsp;<span class="op" id="4994398">:=</span>&nbsp;<span class="ident" id="4994401">v</span><span class="op" id="4994402">.</span><span class="ident" id="4994403">Interface</span><span class="op" id="4994412">(</span><span class="op" id="4994413">)</span><span class="op" id="4994414">.</span><span class="op" id="4994415">(</span><span class="op" id="4994416">[</span><span class="op" id="4994417">]</span><span class="builtintype" id="4994418">uint</span><span class="op" id="4994422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994425">if</span>&nbsp;<span class="op" id="4994428">!</span><span class="ident" id="4994429">ok</span>&nbsp;<span class="op" id="4994432">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4994436">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994511">return</span>&nbsp;<span class="builtintype" id="4994518">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994528">for</span>&nbsp;<span class="ident" id="4994532">i</span>&nbsp;<span class="op" id="4994534">:=</span>&nbsp;<span class="num" id="4994537">0</span><span class="op" id="4994538">;</span>&nbsp;<span class="ident" id="4994540">i</span>&nbsp;<span class="op" id="4994542">&lt;</span>&nbsp;<span class="ident" id="4994544">length</span><span class="op" id="4994550">;</span>&nbsp;<span class="ident" id="4994552">i</span><span class="op" id="4994553">++</span>&nbsp;<span class="op" id="4994556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994560">if</span>&nbsp;<span class="ident" id="4994563">state</span><span class="op" id="4994568">.</span><span class="ident" id="4994569">b</span><span class="op" id="4994570">.</span><span class="ident" id="4994571">Len</span><span class="op" id="4994574">(</span><span class="op" id="4994575">)</span>&nbsp;<span class="op" id="4994577">==</span>&nbsp;<span class="num" id="4994580">0</span>&nbsp;<span class="op" id="4994582">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4994587">errorf</span><span class="op" id="4994593">(</span><span class="string" id="4994594">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4994665">,</span>&nbsp;<span class="ident" id="4994667">length</span><span class="op" id="4994673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4994681">x</span>&nbsp;<span class="op" id="4994683">:=</span>&nbsp;<span class="ident" id="4994686">state</span><span class="op" id="4994691">.</span><span class="ident" id="4994692">decodeUint</span><span class="op" id="4994702">(</span><span class="op" id="4994703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4994707">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4994762">slice</span><span class="op" id="4994767">[</span><span class="ident" id="4994768">i</span><span class="op" id="4994769">]</span>&nbsp;<span class="op" id="4994771">=</span>&nbsp;<span class="builtintype" id="4994773">uint</span><span class="op" id="4994777">(</span><span class="ident" id="4994778">x</span><span class="op" id="4994779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994785">return</span>&nbsp;<span class="builtintype" id="4994792">true</span><br>
<span class="lineno"></span><span class="op" id="4994797">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="4994800">func</span>&nbsp;<span class="ident" id="4994805">decUint16Array</span><span class="op" id="4994819">(</span><span class="ident" id="4994820">state</span>&nbsp;<span class="op" id="4994826">*</span><span class="ident" id="4994827">decoderState</span><span class="op" id="4994839">,</span>&nbsp;<span class="ident" id="4994841">v</span>&nbsp;<span class="ident" id="4994843">reflect</span><span class="op" id="4994850">.</span><span class="ident" id="4994851">Value</span><span class="op" id="4994856">,</span>&nbsp;<span class="ident" id="4994858">length</span>&nbsp;<span class="builtintype" id="4994865">int</span><span class="op" id="4994868">,</span>&nbsp;<span class="ident" id="4994870">ovfl</span>&nbsp;<span class="builtintype" id="4994875">error</span><span class="op" id="4994880">)</span>&nbsp;<span class="builtintype" id="4994882">bool</span>&nbsp;<span class="op" id="4994887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4994890">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994931">if</span>&nbsp;<span class="op" id="4994934">!</span><span class="ident" id="4994935">v</span><span class="op" id="4994936">.</span><span class="ident" id="4994937">CanAddr</span><span class="op" id="4994944">(</span><span class="op" id="4994945">)</span>&nbsp;<span class="op" id="4994947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994951">return</span>&nbsp;<span class="builtintype" id="4994958">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4994965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4994968">return</span>&nbsp;<span class="ident" id="4994975">decUint16Slice</span><span class="op" id="4994989">(</span><span class="ident" id="4994990">state</span><span class="op" id="4994995">,</span>&nbsp;<span class="ident" id="4994997">v</span><span class="op" id="4994998">.</span><span class="ident" id="4994999">Slice</span><span class="op" id="4995004">(</span><span class="num" id="4995005">0</span><span class="op" id="4995006">,</span>&nbsp;<span class="ident" id="4995008">v</span><span class="op" id="4995009">.</span><span class="ident" id="4995010">Len</span><span class="op" id="4995013">(</span><span class="op" id="4995014">)</span><span class="op" id="4995015">)</span><span class="op" id="4995016">,</span>&nbsp;<span class="ident" id="4995018">length</span><span class="op" id="4995024">,</span>&nbsp;<span class="ident" id="4995026">ovfl</span><span class="op" id="4995030">)</span><br>
<span class="lineno"></span><span class="op" id="4995032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4995035">func</span>&nbsp;<span class="ident" id="4995040">decUint16Slice</span><span class="op" id="4995054">(</span><span class="ident" id="4995055">state</span>&nbsp;<span class="op" id="4995061">*</span><span class="ident" id="4995062">decoderState</span><span class="op" id="4995074">,</span>&nbsp;<span class="ident" id="4995076">v</span>&nbsp;<span class="ident" id="4995078">reflect</span><span class="op" id="4995085">.</span><span class="ident" id="4995086">Value</span><span class="op" id="4995091">,</span>&nbsp;<span class="ident" id="4995093">length</span>&nbsp;<span class="builtintype" id="4995100">int</span><span class="op" id="4995103">,</span>&nbsp;<span class="ident" id="4995105">ovfl</span>&nbsp;<span class="builtintype" id="4995110">error</span><span class="op" id="4995115">)</span>&nbsp;<span class="builtintype" id="4995117">bool</span>&nbsp;<span class="op" id="4995122">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4995125">slice</span><span class="op" id="4995130">,</span>&nbsp;<span class="ident" id="4995132">ok</span>&nbsp;<span class="op" id="4995135">:=</span>&nbsp;<span class="ident" id="4995138">v</span><span class="op" id="4995139">.</span><span class="ident" id="4995140">Interface</span><span class="op" id="4995149">(</span><span class="op" id="4995150">)</span><span class="op" id="4995151">.</span><span class="op" id="4995152">(</span><span class="op" id="4995153">[</span><span class="op" id="4995154">]</span><span class="builtintype" id="4995155">uint16</span><span class="op" id="4995161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995164">if</span>&nbsp;<span class="op" id="4995167">!</span><span class="ident" id="4995168">ok</span>&nbsp;<span class="op" id="4995171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4995175">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995254">return</span>&nbsp;<span class="builtintype" id="4995261">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4995268">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995271">for</span>&nbsp;<span class="ident" id="4995275">i</span>&nbsp;<span class="op" id="4995277">:=</span>&nbsp;<span class="num" id="4995280">0</span><span class="op" id="4995281">;</span>&nbsp;<span class="ident" id="4995283">i</span>&nbsp;<span class="op" id="4995285">&lt;</span>&nbsp;<span class="ident" id="4995287">length</span><span class="op" id="4995293">;</span>&nbsp;<span class="ident" id="4995295">i</span><span class="op" id="4995296">++</span>&nbsp;<span class="op" id="4995299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995303">if</span>&nbsp;<span class="ident" id="4995306">state</span><span class="op" id="4995311">.</span><span class="ident" id="4995312">b</span><span class="op" id="4995313">.</span><span class="ident" id="4995314">Len</span><span class="op" id="4995317">(</span><span class="op" id="4995318">)</span>&nbsp;<span class="op" id="4995320">==</span>&nbsp;<span class="num" id="4995323">0</span>&nbsp;<span class="op" id="4995325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4995330">errorf</span><span class="op" id="4995336">(</span><span class="string" id="4995337">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4995410">,</span>&nbsp;<span class="ident" id="4995412">length</span><span class="op" id="4995418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4995422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4995426">x</span>&nbsp;<span class="op" id="4995428">:=</span>&nbsp;<span class="ident" id="4995431">state</span><span class="op" id="4995436">.</span><span class="ident" id="4995437">decodeUint</span><span class="op" id="4995447">(</span><span class="op" id="4995448">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995452">if</span>&nbsp;<span class="ident" id="4995455">math</span><span class="op" id="4995459">.</span><span class="ident" id="4995460">MaxUint16</span>&nbsp;<span class="op" id="4995470">&lt;</span>&nbsp;<span class="ident" id="4995472">x</span>&nbsp;<span class="op" id="4995474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4995479">error_</span><span class="op" id="4995485">(</span><span class="ident" id="4995486">ovfl</span><span class="op" id="4995490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4995494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4995498">slice</span><span class="op" id="4995503">[</span><span class="ident" id="4995504">i</span><span class="op" id="4995505">]</span>&nbsp;<span class="op" id="4995507">=</span>&nbsp;<span class="builtintype" id="4995509">uint16</span><span class="op" id="4995515">(</span><span class="ident" id="4995516">x</span><span class="op" id="4995517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4995520">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995523">return</span>&nbsp;<span class="builtintype" id="4995530">true</span><br>
<span class="lineno"></span><span class="op" id="4995535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4995538">func</span>&nbsp;<span class="ident" id="4995543">decUint32Array</span><span class="op" id="4995557">(</span><span class="ident" id="4995558">state</span>&nbsp;<span class="op" id="4995564">*</span><span class="ident" id="4995565">decoderState</span><span class="op" id="4995577">,</span>&nbsp;<span class="ident" id="4995579">v</span>&nbsp;<span class="ident" id="4995581">reflect</span><span class="op" id="4995588">.</span><span class="ident" id="4995589">Value</span><span class="op" id="4995594">,</span>&nbsp;<span class="ident" id="4995596">length</span>&nbsp;<span class="builtintype" id="4995603">int</span><span class="op" id="4995606">,</span>&nbsp;<span class="ident" id="4995608">ovfl</span>&nbsp;<span class="builtintype" id="4995613">error</span><span class="op" id="4995618">)</span>&nbsp;<span class="builtintype" id="4995620">bool</span>&nbsp;<span class="op" id="4995625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4995628">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995669">if</span>&nbsp;<span class="op" id="4995672">!</span><span class="ident" id="4995673">v</span><span class="op" id="4995674">.</span><span class="ident" id="4995675">CanAddr</span><span class="op" id="4995682">(</span><span class="op" id="4995683">)</span>&nbsp;<span class="op" id="4995685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995689">return</span>&nbsp;<span class="builtintype" id="4995696">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4995703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995706">return</span>&nbsp;<span class="ident" id="4995713">decUint32Slice</span><span class="op" id="4995727">(</span><span class="ident" id="4995728">state</span><span class="op" id="4995733">,</span>&nbsp;<span class="ident" id="4995735">v</span><span class="op" id="4995736">.</span><span class="ident" id="4995737">Slice</span><span class="op" id="4995742">(</span><span class="num" id="4995743">0</span><span class="op" id="4995744">,</span>&nbsp;<span class="ident" id="4995746">v</span><span class="op" id="4995747">.</span><span class="ident" id="4995748">Len</span><span class="op" id="4995751">(</span><span class="op" id="4995752">)</span><span class="op" id="4995753">)</span><span class="op" id="4995754">,</span>&nbsp;<span class="ident" id="4995756">length</span><span class="op" id="4995762">,</span>&nbsp;<span class="ident" id="4995764">ovfl</span><span class="op" id="4995768">)</span><br>
<span class="lineno"></span><span class="op" id="4995770">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="4995773">func</span>&nbsp;<span class="ident" id="4995778">decUint32Slice</span><span class="op" id="4995792">(</span><span class="ident" id="4995793">state</span>&nbsp;<span class="op" id="4995799">*</span><span class="ident" id="4995800">decoderState</span><span class="op" id="4995812">,</span>&nbsp;<span class="ident" id="4995814">v</span>&nbsp;<span class="ident" id="4995816">reflect</span><span class="op" id="4995823">.</span><span class="ident" id="4995824">Value</span><span class="op" id="4995829">,</span>&nbsp;<span class="ident" id="4995831">length</span>&nbsp;<span class="builtintype" id="4995838">int</span><span class="op" id="4995841">,</span>&nbsp;<span class="ident" id="4995843">ovfl</span>&nbsp;<span class="builtintype" id="4995848">error</span><span class="op" id="4995853">)</span>&nbsp;<span class="builtintype" id="4995855">bool</span>&nbsp;<span class="op" id="4995860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4995863">slice</span><span class="op" id="4995868">,</span>&nbsp;<span class="ident" id="4995870">ok</span>&nbsp;<span class="op" id="4995873">:=</span>&nbsp;<span class="ident" id="4995876">v</span><span class="op" id="4995877">.</span><span class="ident" id="4995878">Interface</span><span class="op" id="4995887">(</span><span class="op" id="4995888">)</span><span class="op" id="4995889">.</span><span class="op" id="4995890">(</span><span class="op" id="4995891">[</span><span class="op" id="4995892">]</span><span class="builtintype" id="4995893">uint32</span><span class="op" id="4995899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995902">if</span>&nbsp;<span class="op" id="4995905">!</span><span class="ident" id="4995906">ok</span>&nbsp;<span class="op" id="4995909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4995913">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4995992">return</span>&nbsp;<span class="builtintype" id="4995999">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996009">for</span>&nbsp;<span class="ident" id="4996013">i</span>&nbsp;<span class="op" id="4996015">:=</span>&nbsp;<span class="num" id="4996018">0</span><span class="op" id="4996019">;</span>&nbsp;<span class="ident" id="4996021">i</span>&nbsp;<span class="op" id="4996023">&lt;</span>&nbsp;<span class="ident" id="4996025">length</span><span class="op" id="4996031">;</span>&nbsp;<span class="ident" id="4996033">i</span><span class="op" id="4996034">++</span>&nbsp;<span class="op" id="4996037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996041">if</span>&nbsp;<span class="ident" id="4996044">state</span><span class="op" id="4996049">.</span><span class="ident" id="4996050">b</span><span class="op" id="4996051">.</span><span class="ident" id="4996052">Len</span><span class="op" id="4996055">(</span><span class="op" id="4996056">)</span>&nbsp;<span class="op" id="4996058">==</span>&nbsp;<span class="num" id="4996061">0</span>&nbsp;<span class="op" id="4996063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996068">errorf</span><span class="op" id="4996074">(</span><span class="string" id="4996075">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4996148">,</span>&nbsp;<span class="ident" id="4996150">length</span><span class="op" id="4996156">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996164">x</span>&nbsp;<span class="op" id="4996166">:=</span>&nbsp;<span class="ident" id="4996169">state</span><span class="op" id="4996174">.</span><span class="ident" id="4996175">decodeUint</span><span class="op" id="4996185">(</span><span class="op" id="4996186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996190">if</span>&nbsp;<span class="ident" id="4996193">math</span><span class="op" id="4996197">.</span><span class="ident" id="4996198">MaxUint32</span>&nbsp;<span class="op" id="4996208">&lt;</span>&nbsp;<span class="ident" id="4996210">x</span>&nbsp;<span class="op" id="4996212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996217">error_</span><span class="op" id="4996223">(</span><span class="ident" id="4996224">ovfl</span><span class="op" id="4996228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996232">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996236">slice</span><span class="op" id="4996241">[</span><span class="ident" id="4996242">i</span><span class="op" id="4996243">]</span>&nbsp;<span class="op" id="4996245">=</span>&nbsp;<span class="builtintype" id="4996247">uint32</span><span class="op" id="4996253">(</span><span class="ident" id="4996254">x</span><span class="op" id="4996255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996261">return</span>&nbsp;<span class="builtintype" id="4996268">true</span><br>
<span class="lineno"></span><span class="op" id="4996273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="4996276">func</span>&nbsp;<span class="ident" id="4996281">decUint64Array</span><span class="op" id="4996295">(</span><span class="ident" id="4996296">state</span>&nbsp;<span class="op" id="4996302">*</span><span class="ident" id="4996303">decoderState</span><span class="op" id="4996315">,</span>&nbsp;<span class="ident" id="4996317">v</span>&nbsp;<span class="ident" id="4996319">reflect</span><span class="op" id="4996326">.</span><span class="ident" id="4996327">Value</span><span class="op" id="4996332">,</span>&nbsp;<span class="ident" id="4996334">length</span>&nbsp;<span class="builtintype" id="4996341">int</span><span class="op" id="4996344">,</span>&nbsp;<span class="ident" id="4996346">ovfl</span>&nbsp;<span class="builtintype" id="4996351">error</span><span class="op" id="4996356">)</span>&nbsp;<span class="builtintype" id="4996358">bool</span>&nbsp;<span class="op" id="4996363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4996366">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996407">if</span>&nbsp;<span class="op" id="4996410">!</span><span class="ident" id="4996411">v</span><span class="op" id="4996412">.</span><span class="ident" id="4996413">CanAddr</span><span class="op" id="4996420">(</span><span class="op" id="4996421">)</span>&nbsp;<span class="op" id="4996423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996427">return</span>&nbsp;<span class="builtintype" id="4996434">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996441">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996444">return</span>&nbsp;<span class="ident" id="4996451">decUint64Slice</span><span class="op" id="4996465">(</span><span class="ident" id="4996466">state</span><span class="op" id="4996471">,</span>&nbsp;<span class="ident" id="4996473">v</span><span class="op" id="4996474">.</span><span class="ident" id="4996475">Slice</span><span class="op" id="4996480">(</span><span class="num" id="4996481">0</span><span class="op" id="4996482">,</span>&nbsp;<span class="ident" id="4996484">v</span><span class="op" id="4996485">.</span><span class="ident" id="4996486">Len</span><span class="op" id="4996489">(</span><span class="op" id="4996490">)</span><span class="op" id="4996491">)</span><span class="op" id="4996492">,</span>&nbsp;<span class="ident" id="4996494">length</span><span class="op" id="4996500">,</span>&nbsp;<span class="ident" id="4996502">ovfl</span><span class="op" id="4996506">)</span><br>
<span class="lineno"></span><span class="op" id="4996508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4996511">func</span>&nbsp;<span class="ident" id="4996516">decUint64Slice</span><span class="op" id="4996530">(</span><span class="ident" id="4996531">state</span>&nbsp;<span class="op" id="4996537">*</span><span class="ident" id="4996538">decoderState</span><span class="op" id="4996550">,</span>&nbsp;<span class="ident" id="4996552">v</span>&nbsp;<span class="ident" id="4996554">reflect</span><span class="op" id="4996561">.</span><span class="ident" id="4996562">Value</span><span class="op" id="4996567">,</span>&nbsp;<span class="ident" id="4996569">length</span>&nbsp;<span class="builtintype" id="4996576">int</span><span class="op" id="4996579">,</span>&nbsp;<span class="ident" id="4996581">ovfl</span>&nbsp;<span class="builtintype" id="4996586">error</span><span class="op" id="4996591">)</span>&nbsp;<span class="builtintype" id="4996593">bool</span>&nbsp;<span class="op" id="4996598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996601">slice</span><span class="op" id="4996606">,</span>&nbsp;<span class="ident" id="4996608">ok</span>&nbsp;<span class="op" id="4996611">:=</span>&nbsp;<span class="ident" id="4996614">v</span><span class="op" id="4996615">.</span><span class="ident" id="4996616">Interface</span><span class="op" id="4996625">(</span><span class="op" id="4996626">)</span><span class="op" id="4996627">.</span><span class="op" id="4996628">(</span><span class="op" id="4996629">[</span><span class="op" id="4996630">]</span><span class="ident" id="4996631">uint64</span><span class="op" id="4996637">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996640">if</span>&nbsp;<span class="op" id="4996643">!</span><span class="ident" id="4996644">ok</span>&nbsp;<span class="op" id="4996647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4996651">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996730">return</span>&nbsp;<span class="builtintype" id="4996737">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996747">for</span>&nbsp;<span class="ident" id="4996751">i</span>&nbsp;<span class="op" id="4996753">:=</span>&nbsp;<span class="num" id="4996756">0</span><span class="op" id="4996757">;</span>&nbsp;<span class="ident" id="4996759">i</span>&nbsp;<span class="op" id="4996761">&lt;</span>&nbsp;<span class="ident" id="4996763">length</span><span class="op" id="4996769">;</span>&nbsp;<span class="ident" id="4996771">i</span><span class="op" id="4996772">++</span>&nbsp;<span class="op" id="4996775">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996779">if</span>&nbsp;<span class="ident" id="4996782">state</span><span class="op" id="4996787">.</span><span class="ident" id="4996788">b</span><span class="op" id="4996789">.</span><span class="ident" id="4996790">Len</span><span class="op" id="4996793">(</span><span class="op" id="4996794">)</span>&nbsp;<span class="op" id="4996796">==</span>&nbsp;<span class="num" id="4996799">0</span>&nbsp;<span class="op" id="4996801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996806">errorf</span><span class="op" id="4996812">(</span><span class="string" id="4996813">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4996886">,</span>&nbsp;<span class="ident" id="4996888">length</span><span class="op" id="4996894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4996902">slice</span><span class="op" id="4996907">[</span><span class="ident" id="4996908">i</span><span class="op" id="4996909">]</span>&nbsp;<span class="op" id="4996911">=</span>&nbsp;<span class="ident" id="4996913">state</span><span class="op" id="4996918">.</span><span class="ident" id="4996919">decodeUint</span><span class="op" id="4996929">(</span><span class="op" id="4996930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4996933">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4996936">return</span>&nbsp;<span class="builtintype" id="4996943">true</span><br>
<span class="lineno"></span><span class="op" id="4996948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4996951">func</span>&nbsp;<span class="ident" id="4996956">decUintptrArray</span><span class="op" id="4996971">(</span><span class="ident" id="4996972">state</span>&nbsp;<span class="op" id="4996978">*</span><span class="ident" id="4996979">decoderState</span><span class="op" id="4996991">,</span>&nbsp;<span class="ident" id="4996993">v</span>&nbsp;<span class="ident" id="4996995">reflect</span><span class="op" id="4997002">.</span><span class="ident" id="4997003">Value</span><span class="op" id="4997008">,</span>&nbsp;<span class="ident" id="4997010">length</span>&nbsp;<span class="builtintype" id="4997017">int</span><span class="op" id="4997020">,</span>&nbsp;<span class="ident" id="4997022">ovfl</span>&nbsp;<span class="builtintype" id="4997027">error</span><span class="op" id="4997032">)</span>&nbsp;<span class="builtintype" id="4997034">bool</span>&nbsp;<span class="op" id="4997039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4997042">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997083">if</span>&nbsp;<span class="op" id="4997086">!</span><span class="ident" id="4997087">v</span><span class="op" id="4997088">.</span><span class="ident" id="4997089">CanAddr</span><span class="op" id="4997096">(</span><span class="op" id="4997097">)</span>&nbsp;<span class="op" id="4997099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997103">return</span>&nbsp;<span class="builtintype" id="4997110">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4997117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997120">return</span>&nbsp;<span class="ident" id="4997127">decUintptrSlice</span><span class="op" id="4997142">(</span><span class="ident" id="4997143">state</span><span class="op" id="4997148">,</span>&nbsp;<span class="ident" id="4997150">v</span><span class="op" id="4997151">.</span><span class="ident" id="4997152">Slice</span><span class="op" id="4997157">(</span><span class="num" id="4997158">0</span><span class="op" id="4997159">,</span>&nbsp;<span class="ident" id="4997161">v</span><span class="op" id="4997162">.</span><span class="ident" id="4997163">Len</span><span class="op" id="4997166">(</span><span class="op" id="4997167">)</span><span class="op" id="4997168">)</span><span class="op" id="4997169">,</span>&nbsp;<span class="ident" id="4997171">length</span><span class="op" id="4997177">,</span>&nbsp;<span class="ident" id="4997179">ovfl</span><span class="op" id="4997183">)</span><br>
<span class="lineno"></span><span class="op" id="4997185">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="4997188">func</span>&nbsp;<span class="ident" id="4997193">decUintptrSlice</span><span class="op" id="4997208">(</span><span class="ident" id="4997209">state</span>&nbsp;<span class="op" id="4997215">*</span><span class="ident" id="4997216">decoderState</span><span class="op" id="4997228">,</span>&nbsp;<span class="ident" id="4997230">v</span>&nbsp;<span class="ident" id="4997232">reflect</span><span class="op" id="4997239">.</span><span class="ident" id="4997240">Value</span><span class="op" id="4997245">,</span>&nbsp;<span class="ident" id="4997247">length</span>&nbsp;<span class="builtintype" id="4997254">int</span><span class="op" id="4997257">,</span>&nbsp;<span class="ident" id="4997259">ovfl</span>&nbsp;<span class="builtintype" id="4997264">error</span><span class="op" id="4997269">)</span>&nbsp;<span class="builtintype" id="4997271">bool</span>&nbsp;<span class="op" id="4997276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4997279">slice</span><span class="op" id="4997284">,</span>&nbsp;<span class="ident" id="4997286">ok</span>&nbsp;<span class="op" id="4997289">:=</span>&nbsp;<span class="ident" id="4997292">v</span><span class="op" id="4997293">.</span><span class="ident" id="4997294">Interface</span><span class="op" id="4997303">(</span><span class="op" id="4997304">)</span><span class="op" id="4997305">.</span><span class="op" id="4997306">(</span><span class="op" id="4997307">[</span><span class="op" id="4997308">]</span><span class="builtintype" id="4997309">uintptr</span><span class="op" id="4997316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997319">if</span>&nbsp;<span class="op" id="4997322">!</span><span class="ident" id="4997323">ok</span>&nbsp;<span class="op" id="4997326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4997330">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997411">return</span>&nbsp;<span class="builtintype" id="4997418">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4997425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997428">for</span>&nbsp;<span class="ident" id="4997432">i</span>&nbsp;<span class="op" id="4997434">:=</span>&nbsp;<span class="num" id="4997437">0</span><span class="op" id="4997438">;</span>&nbsp;<span class="ident" id="4997440">i</span>&nbsp;<span class="op" id="4997442">&lt;</span>&nbsp;<span class="ident" id="4997444">length</span><span class="op" id="4997450">;</span>&nbsp;<span class="ident" id="4997452">i</span><span class="op" id="4997453">++</span>&nbsp;<span class="op" id="4997456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997460">if</span>&nbsp;<span class="ident" id="4997463">state</span><span class="op" id="4997468">.</span><span class="ident" id="4997469">b</span><span class="op" id="4997470">.</span><span class="ident" id="4997471">Len</span><span class="op" id="4997474">(</span><span class="op" id="4997475">)</span>&nbsp;<span class="op" id="4997477">==</span>&nbsp;<span class="num" id="4997480">0</span>&nbsp;<span class="op" id="4997482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4997487">errorf</span><span class="op" id="4997493">(</span><span class="string" id="4997494">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4997568">,</span>&nbsp;<span class="ident" id="4997570">length</span><span class="op" id="4997576">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4997580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4997584">x</span>&nbsp;<span class="op" id="4997586">:=</span>&nbsp;<span class="ident" id="4997589">state</span><span class="op" id="4997594">.</span><span class="ident" id="4997595">decodeUint</span><span class="op" id="4997605">(</span><span class="op" id="4997606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997610">if</span>&nbsp;<span class="ident" id="4997613">uint64</span><span class="op" id="4997619">(</span><span class="op" id="4997620">^</span><span class="builtintype" id="4997621">uintptr</span><span class="op" id="4997628">(</span><span class="num" id="4997629">0</span><span class="op" id="4997630">)</span><span class="op" id="4997631">)</span>&nbsp;<span class="op" id="4997633">&lt;</span>&nbsp;<span class="ident" id="4997635">x</span>&nbsp;<span class="op" id="4997637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4997642">error_</span><span class="op" id="4997648">(</span><span class="ident" id="4997649">ovfl</span><span class="op" id="4997653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4997657">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4997661">slice</span><span class="op" id="4997666">[</span><span class="ident" id="4997667">i</span><span class="op" id="4997668">]</span>&nbsp;<span class="op" id="4997670">=</span>&nbsp;<span class="builtintype" id="4997672">uintptr</span><span class="op" id="4997679">(</span><span class="ident" id="4997680">x</span><span class="op" id="4997681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4997684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4997687">return</span>&nbsp;<span class="builtintype" id="4997694">true</span><br>
<span class="lineno"></span><span class="op" id="4997699">}</span>
</div>
</body>
</html>
