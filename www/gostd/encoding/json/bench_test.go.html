<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8264661">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8264717">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8264771">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8264822">//&nbsp;Large&nbsp;data&nbsp;benchmark.</span><br>
<span class="lineno"></span><span class="comment" id="8264847">//&nbsp;The&nbsp;JSON&nbsp;data&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;agl&#39;s&nbsp;changes&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8264901">//&nbsp;go,&nbsp;webkit,&nbsp;and&nbsp;chromium&nbsp;open&nbsp;source&nbsp;projects.</span><br>
<span class="lineno"></span><span class="comment" id="8264951">//&nbsp;We&nbsp;benchmark&nbsp;converting&nbsp;between&nbsp;the&nbsp;JSON&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="8265000">//&nbsp;and&nbsp;in-memory&nbsp;data&nbsp;structures.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8265035">package</span>&nbsp;<span class="ident" id="8265043">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8265049">import</span>&nbsp;<span class="op" id="8265056">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8265059">&#34;bytes&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8265068">&#34;compress/gzip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8265085">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8265098">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8265104">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8265114">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8265117">type</span>&nbsp;<span class="ident" id="8265122">codeResponse</span>&nbsp;<span class="keyword" id="8265135">struct</span>&nbsp;<span class="op" id="8265142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265145">Tree</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8265154">*</span><span class="ident" id="8265155">codeNode</span>&nbsp;<span class="string" id="8265164">`json:&#34;tree&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265179">Username</span>&nbsp;<span class="builtintype" id="8265188">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265198">`json:&#34;username&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8265216">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="8265219">type</span>&nbsp;<span class="ident" id="8265224">codeNode</span>&nbsp;<span class="keyword" id="8265233">struct</span>&nbsp;<span class="op" id="8265240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265243">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8265252">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265264">`json:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265279">Kids</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8265288">[</span><span class="op" id="8265289">]</span><span class="op" id="8265290">*</span><span class="ident" id="8265291">codeNode</span>&nbsp;<span class="string" id="8265300">`json:&#34;kids&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265315">CLWeight</span>&nbsp;<span class="builtintype" id="8265324">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265336">`json:&#34;cl_weight&#34;`</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265356">Touches</span>&nbsp;&nbsp;<span class="builtintype" id="8265365">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265377">`json:&#34;touches&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265395">MinT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8265404">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265416">`json:&#34;min_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265432">MaxT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8265441">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265453">`json:&#34;max_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265469">MeanT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8265478">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8265490">`json:&#34;mean_t&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8265506">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8265509">var</span>&nbsp;<span class="ident" id="8265513">codeJSON</span>&nbsp;<span class="op" id="8265522">[</span><span class="op" id="8265523">]</span><span class="builtintype" id="8265524">byte</span><br>
<span class="lineno"></span><span class="keyword" id="8265529">var</span>&nbsp;<span class="ident" id="8265533">codeStruct</span>&nbsp;<span class="ident" id="8265544">codeResponse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8265558">func</span>&nbsp;<span class="ident" id="8265563">codeInit</span><span class="op" id="8265571">(</span><span class="op" id="8265572">)</span>&nbsp;<span class="op" id="8265574">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265577">f</span><span class="op" id="8265578">,</span>&nbsp;<span class="ident" id="8265580">err</span>&nbsp;<span class="op" id="8265584">:=</span>&nbsp;<span class="ident" id="8265587">os</span><span class="op" id="8265589">.</span><span class="ident" id="8265590">Open</span><span class="op" id="8265594">(</span><span class="string" id="8265595">&#34;testdata/code.json.gz&#34;</span><span class="op" id="8265618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265621">if</span>&nbsp;<span class="ident" id="8265624">err</span>&nbsp;<span class="op" id="8265628">!=</span>&nbsp;<span class="ident" id="8265631">nil</span>&nbsp;<span class="op" id="8265635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8265639">panic</span><span class="op" id="8265644">(</span><span class="ident" id="8265645">err</span><span class="op" id="8265648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265654">defer</span>&nbsp;<span class="ident" id="8265660">f</span><span class="op" id="8265661">.</span><span class="ident" id="8265662">Close</span><span class="op" id="8265667">(</span><span class="op" id="8265668">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265671">gz</span><span class="op" id="8265673">,</span>&nbsp;<span class="ident" id="8265675">err</span>&nbsp;<span class="op" id="8265679">:=</span>&nbsp;<span class="ident" id="8265682">gzip</span><span class="op" id="8265686">.</span><span class="ident" id="8265687">NewReader</span><span class="op" id="8265696">(</span><span class="ident" id="8265697">f</span><span class="op" id="8265698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265701">if</span>&nbsp;<span class="ident" id="8265704">err</span>&nbsp;<span class="op" id="8265708">!=</span>&nbsp;<span class="ident" id="8265711">nil</span>&nbsp;<span class="op" id="8265715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8265719">panic</span><span class="op" id="8265724">(</span><span class="ident" id="8265725">err</span><span class="op" id="8265728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265734">data</span><span class="op" id="8265738">,</span>&nbsp;<span class="ident" id="8265740">err</span>&nbsp;<span class="op" id="8265744">:=</span>&nbsp;<span class="ident" id="8265747">ioutil</span><span class="op" id="8265753">.</span><span class="ident" id="8265754">ReadAll</span><span class="op" id="8265761">(</span><span class="ident" id="8265762">gz</span><span class="op" id="8265764">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265767">if</span>&nbsp;<span class="ident" id="8265770">err</span>&nbsp;<span class="op" id="8265774">!=</span>&nbsp;<span class="ident" id="8265777">nil</span>&nbsp;<span class="op" id="8265781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8265785">panic</span><span class="op" id="8265790">(</span><span class="ident" id="8265791">err</span><span class="op" id="8265794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265801">codeJSON</span>&nbsp;<span class="op" id="8265810">=</span>&nbsp;<span class="ident" id="8265812">data</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265819">if</span>&nbsp;<span class="ident" id="8265822">err</span>&nbsp;<span class="op" id="8265826">:=</span>&nbsp;<span class="ident" id="8265829">Unmarshal</span><span class="op" id="8265838">(</span><span class="ident" id="8265839">codeJSON</span><span class="op" id="8265847">,</span>&nbsp;<span class="op" id="8265849">&amp;</span><span class="ident" id="8265850">codeStruct</span><span class="op" id="8265860">)</span><span class="op" id="8265861">;</span>&nbsp;<span class="ident" id="8265863">err</span>&nbsp;<span class="op" id="8265867">!=</span>&nbsp;<span class="ident" id="8265870">nil</span>&nbsp;<span class="op" id="8265874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8265878">panic</span><span class="op" id="8265883">(</span><span class="string" id="8265884">&#34;unmarshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="8265908">+</span>&nbsp;<span class="ident" id="8265910">err</span><span class="op" id="8265913">.</span><span class="ident" id="8265914">Error</span><span class="op" id="8265919">(</span><span class="op" id="8265920">)</span><span class="op" id="8265921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265928">if</span>&nbsp;<span class="ident" id="8265931">data</span><span class="op" id="8265935">,</span>&nbsp;<span class="ident" id="8265937">err</span>&nbsp;<span class="op" id="8265941">=</span>&nbsp;<span class="ident" id="8265943">Marshal</span><span class="op" id="8265950">(</span><span class="op" id="8265951">&amp;</span><span class="ident" id="8265952">codeStruct</span><span class="op" id="8265962">)</span><span class="op" id="8265963">;</span>&nbsp;<span class="ident" id="8265965">err</span>&nbsp;<span class="op" id="8265969">!=</span>&nbsp;<span class="ident" id="8265972">nil</span>&nbsp;<span class="op" id="8265976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8265980">panic</span><span class="op" id="8265985">(</span><span class="string" id="8265986">&#34;marshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="8266008">+</span>&nbsp;<span class="ident" id="8266010">err</span><span class="op" id="8266013">.</span><span class="ident" id="8266014">Error</span><span class="op" id="8266019">(</span><span class="op" id="8266020">)</span><span class="op" id="8266021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266028">if</span>&nbsp;<span class="op" id="8266031">!</span><span class="ident" id="8266032">bytes</span><span class="op" id="8266037">.</span><span class="ident" id="8266038">Equal</span><span class="op" id="8266043">(</span><span class="ident" id="8266044">data</span><span class="op" id="8266048">,</span>&nbsp;<span class="ident" id="8266050">codeJSON</span><span class="op" id="8266058">)</span>&nbsp;<span class="op" id="8266060">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8266064">println</span><span class="op" id="8266071">(</span><span class="string" id="8266072">&#34;different&nbsp;lengths&#34;</span><span class="op" id="8266091">,</span>&nbsp;<span class="builtinfunc" id="8266093">len</span><span class="op" id="8266096">(</span><span class="ident" id="8266097">data</span><span class="op" id="8266101">)</span><span class="op" id="8266102">,</span>&nbsp;<span class="builtinfunc" id="8266104">len</span><span class="op" id="8266107">(</span><span class="ident" id="8266108">codeJSON</span><span class="op" id="8266116">)</span><span class="op" id="8266117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266121">for</span>&nbsp;<span class="ident" id="8266125">i</span>&nbsp;<span class="op" id="8266127">:=</span>&nbsp;<span class="num" id="8266130">0</span><span class="op" id="8266131">;</span>&nbsp;<span class="ident" id="8266133">i</span>&nbsp;<span class="op" id="8266135">&lt;</span>&nbsp;<span class="builtinfunc" id="8266137">len</span><span class="op" id="8266140">(</span><span class="ident" id="8266141">data</span><span class="op" id="8266145">)</span>&nbsp;<span class="op" id="8266147">&amp;&amp;</span>&nbsp;<span class="ident" id="8266150">i</span>&nbsp;<span class="op" id="8266152">&lt;</span>&nbsp;<span class="builtinfunc" id="8266154">len</span><span class="op" id="8266157">(</span><span class="ident" id="8266158">codeJSON</span><span class="op" id="8266166">)</span><span class="op" id="8266167">;</span>&nbsp;<span class="ident" id="8266169">i</span><span class="op" id="8266170">++</span>&nbsp;<span class="op" id="8266173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266178">if</span>&nbsp;<span class="ident" id="8266181">data</span><span class="op" id="8266185">[</span><span class="ident" id="8266186">i</span><span class="op" id="8266187">]</span>&nbsp;<span class="op" id="8266189">!=</span>&nbsp;<span class="ident" id="8266192">codeJSON</span><span class="op" id="8266200">[</span><span class="ident" id="8266201">i</span><span class="op" id="8266202">]</span>&nbsp;<span class="op" id="8266204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8266210">println</span><span class="op" id="8266217">(</span><span class="string" id="8266218">&#34;re-marshal:&nbsp;changed&nbsp;at&nbsp;byte&#34;</span><span class="op" id="8266247">,</span>&nbsp;<span class="ident" id="8266249">i</span><span class="op" id="8266250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8266256">println</span><span class="op" id="8266263">(</span><span class="string" id="8266264">&#34;orig:&nbsp;&#34;</span><span class="op" id="8266272">,</span>&nbsp;<span class="builtintype" id="8266274">string</span><span class="op" id="8266280">(</span><span class="ident" id="8266281">codeJSON</span><span class="op" id="8266289">[</span><span class="ident" id="8266290">i</span><span class="op" id="8266291">-</span><span class="num" id="8266292">10</span><span class="op" id="8266294">:</span><span class="ident" id="8266295">i</span><span class="op" id="8266296">+</span><span class="num" id="8266297">10</span><span class="op" id="8266299">]</span><span class="op" id="8266300">)</span><span class="op" id="8266301">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8266307">println</span><span class="op" id="8266314">(</span><span class="string" id="8266315">&#34;new:&nbsp;&#34;</span><span class="op" id="8266322">,</span>&nbsp;<span class="builtintype" id="8266324">string</span><span class="op" id="8266330">(</span><span class="ident" id="8266331">data</span><span class="op" id="8266335">[</span><span class="ident" id="8266336">i</span><span class="op" id="8266337">-</span><span class="num" id="8266338">10</span><span class="op" id="8266340">:</span><span class="ident" id="8266341">i</span><span class="op" id="8266342">+</span><span class="num" id="8266343">10</span><span class="op" id="8266345">]</span><span class="op" id="8266346">)</span><span class="op" id="8266347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266353">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8266370">panic</span><span class="op" id="8266375">(</span><span class="string" id="8266376">&#34;re-marshal&nbsp;code.json:&nbsp;different&nbsp;result&#34;</span><span class="op" id="8266416">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266419">}</span><br>
<span class="lineno"></span><span class="op" id="8266421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8266424">func</span>&nbsp;<span class="ident" id="8266429">BenchmarkCodeEncoder</span><span class="op" id="8266449">(</span><span class="ident" id="8266450">b</span>&nbsp;<span class="op" id="8266452">*</span><span class="ident" id="8266453">testing</span><span class="op" id="8266460">.</span><span class="ident" id="8266461">B</span><span class="op" id="8266462">)</span>&nbsp;<span class="op" id="8266464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266467">if</span>&nbsp;<span class="ident" id="8266470">codeJSON</span>&nbsp;<span class="op" id="8266479">==</span>&nbsp;<span class="ident" id="8266482">nil</span>&nbsp;<span class="op" id="8266486">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266490">b</span><span class="op" id="8266491">.</span><span class="ident" id="8266492">StopTimer</span><span class="op" id="8266501">(</span><span class="op" id="8266502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266506">codeInit</span><span class="op" id="8266514">(</span><span class="op" id="8266515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266519">b</span><span class="op" id="8266520">.</span><span class="ident" id="8266521">StartTimer</span><span class="op" id="8266531">(</span><span class="op" id="8266532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266538">enc</span>&nbsp;<span class="op" id="8266542">:=</span>&nbsp;<span class="ident" id="8266545">NewEncoder</span><span class="op" id="8266555">(</span><span class="ident" id="8266556">ioutil</span><span class="op" id="8266562">.</span><span class="ident" id="8266563">Discard</span><span class="op" id="8266570">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266573">for</span>&nbsp;<span class="ident" id="8266577">i</span>&nbsp;<span class="op" id="8266579">:=</span>&nbsp;<span class="num" id="8266582">0</span><span class="op" id="8266583">;</span>&nbsp;<span class="ident" id="8266585">i</span>&nbsp;<span class="op" id="8266587">&lt;</span>&nbsp;<span class="ident" id="8266589">b</span><span class="op" id="8266590">.</span><span class="ident" id="8266591">N</span><span class="op" id="8266592">;</span>&nbsp;<span class="ident" id="8266594">i</span><span class="op" id="8266595">++</span>&nbsp;<span class="op" id="8266598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266602">if</span>&nbsp;<span class="ident" id="8266605">err</span>&nbsp;<span class="op" id="8266609">:=</span>&nbsp;<span class="ident" id="8266612">enc</span><span class="op" id="8266615">.</span><span class="ident" id="8266616">Encode</span><span class="op" id="8266622">(</span><span class="op" id="8266623">&amp;</span><span class="ident" id="8266624">codeStruct</span><span class="op" id="8266634">)</span><span class="op" id="8266635">;</span>&nbsp;<span class="ident" id="8266637">err</span>&nbsp;<span class="op" id="8266641">!=</span>&nbsp;<span class="ident" id="8266644">nil</span>&nbsp;<span class="op" id="8266648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266653">b</span><span class="op" id="8266654">.</span><span class="ident" id="8266655">Fatal</span><span class="op" id="8266660">(</span><span class="string" id="8266661">&#34;Encode:&#34;</span><span class="op" id="8266670">,</span>&nbsp;<span class="ident" id="8266672">err</span><span class="op" id="8266675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266682">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266685">b</span><span class="op" id="8266686">.</span><span class="ident" id="8266687">SetBytes</span><span class="op" id="8266695">(</span><span class="ident" id="8266696">int64</span><span class="op" id="8266701">(</span><span class="builtinfunc" id="8266702">len</span><span class="op" id="8266705">(</span><span class="ident" id="8266706">codeJSON</span><span class="op" id="8266714">)</span><span class="op" id="8266715">)</span><span class="op" id="8266716">)</span><br>
<span class="lineno"></span><span class="op" id="8266718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8266721">func</span>&nbsp;<span class="ident" id="8266726">BenchmarkCodeMarshal</span><span class="op" id="8266746">(</span><span class="ident" id="8266747">b</span>&nbsp;<span class="op" id="8266749">*</span><span class="ident" id="8266750">testing</span><span class="op" id="8266757">.</span><span class="ident" id="8266758">B</span><span class="op" id="8266759">)</span>&nbsp;<span class="op" id="8266761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266764">if</span>&nbsp;<span class="ident" id="8266767">codeJSON</span>&nbsp;<span class="op" id="8266776">==</span>&nbsp;<span class="ident" id="8266779">nil</span>&nbsp;<span class="op" id="8266783">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266787">b</span><span class="op" id="8266788">.</span><span class="ident" id="8266789">StopTimer</span><span class="op" id="8266798">(</span><span class="op" id="8266799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266803">codeInit</span><span class="op" id="8266811">(</span><span class="op" id="8266812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266816">b</span><span class="op" id="8266817">.</span><span class="ident" id="8266818">StartTimer</span><span class="op" id="8266828">(</span><span class="op" id="8266829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266835">for</span>&nbsp;<span class="ident" id="8266839">i</span>&nbsp;<span class="op" id="8266841">:=</span>&nbsp;<span class="num" id="8266844">0</span><span class="op" id="8266845">;</span>&nbsp;<span class="ident" id="8266847">i</span>&nbsp;<span class="op" id="8266849">&lt;</span>&nbsp;<span class="ident" id="8266851">b</span><span class="op" id="8266852">.</span><span class="ident" id="8266853">N</span><span class="op" id="8266854">;</span>&nbsp;<span class="ident" id="8266856">i</span><span class="op" id="8266857">++</span>&nbsp;<span class="op" id="8266860">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266864">if</span>&nbsp;<span class="ident" id="8266867">_</span><span class="op" id="8266868">,</span>&nbsp;<span class="ident" id="8266870">err</span>&nbsp;<span class="op" id="8266874">:=</span>&nbsp;<span class="ident" id="8266877">Marshal</span><span class="op" id="8266884">(</span><span class="op" id="8266885">&amp;</span><span class="ident" id="8266886">codeStruct</span><span class="op" id="8266896">)</span><span class="op" id="8266897">;</span>&nbsp;<span class="ident" id="8266899">err</span>&nbsp;<span class="op" id="8266903">!=</span>&nbsp;<span class="ident" id="8266906">nil</span>&nbsp;<span class="op" id="8266910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266915">b</span><span class="op" id="8266916">.</span><span class="ident" id="8266917">Fatal</span><span class="op" id="8266922">(</span><span class="string" id="8266923">&#34;Marshal:&#34;</span><span class="op" id="8266933">,</span>&nbsp;<span class="ident" id="8266935">err</span><span class="op" id="8266938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266948">b</span><span class="op" id="8266949">.</span><span class="ident" id="8266950">SetBytes</span><span class="op" id="8266958">(</span><span class="ident" id="8266959">int64</span><span class="op" id="8266964">(</span><span class="builtinfunc" id="8266965">len</span><span class="op" id="8266968">(</span><span class="ident" id="8266969">codeJSON</span><span class="op" id="8266977">)</span><span class="op" id="8266978">)</span><span class="op" id="8266979">)</span><br>
<span class="lineno">105</span><span class="op" id="8266981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8266984">func</span>&nbsp;<span class="ident" id="8266989">BenchmarkCodeDecoder</span><span class="op" id="8267009">(</span><span class="ident" id="8267010">b</span>&nbsp;<span class="op" id="8267012">*</span><span class="ident" id="8267013">testing</span><span class="op" id="8267020">.</span><span class="ident" id="8267021">B</span><span class="op" id="8267022">)</span>&nbsp;<span class="op" id="8267024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267027">if</span>&nbsp;<span class="ident" id="8267030">codeJSON</span>&nbsp;<span class="op" id="8267039">==</span>&nbsp;<span class="ident" id="8267042">nil</span>&nbsp;<span class="op" id="8267046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267050">b</span><span class="op" id="8267051">.</span><span class="ident" id="8267052">StopTimer</span><span class="op" id="8267061">(</span><span class="op" id="8267062">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267066">codeInit</span><span class="op" id="8267074">(</span><span class="op" id="8267075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267079">b</span><span class="op" id="8267080">.</span><span class="ident" id="8267081">StartTimer</span><span class="op" id="8267091">(</span><span class="op" id="8267092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267098">var</span>&nbsp;<span class="ident" id="8267102">buf</span>&nbsp;<span class="ident" id="8267106">bytes</span><span class="op" id="8267111">.</span><span class="ident" id="8267112">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267120">dec</span>&nbsp;<span class="op" id="8267124">:=</span>&nbsp;<span class="ident" id="8267127">NewDecoder</span><span class="op" id="8267137">(</span><span class="op" id="8267138">&amp;</span><span class="ident" id="8267139">buf</span><span class="op" id="8267142">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267145">var</span>&nbsp;<span class="ident" id="8267149">r</span>&nbsp;<span class="ident" id="8267151">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267165">for</span>&nbsp;<span class="ident" id="8267169">i</span>&nbsp;<span class="op" id="8267171">:=</span>&nbsp;<span class="num" id="8267174">0</span><span class="op" id="8267175">;</span>&nbsp;<span class="ident" id="8267177">i</span>&nbsp;<span class="op" id="8267179">&lt;</span>&nbsp;<span class="ident" id="8267181">b</span><span class="op" id="8267182">.</span><span class="ident" id="8267183">N</span><span class="op" id="8267184">;</span>&nbsp;<span class="ident" id="8267186">i</span><span class="op" id="8267187">++</span>&nbsp;<span class="op" id="8267190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267194">buf</span><span class="op" id="8267197">.</span><span class="ident" id="8267198">Write</span><span class="op" id="8267203">(</span><span class="ident" id="8267204">codeJSON</span><span class="op" id="8267212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8267216">//&nbsp;hide&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267230">buf</span><span class="op" id="8267233">.</span><span class="ident" id="8267234">WriteByte</span><span class="op" id="8267243">(</span><span class="string" id="8267244">&#39;\n&#39;</span><span class="op" id="8267248">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267252">buf</span><span class="op" id="8267255">.</span><span class="ident" id="8267256">WriteByte</span><span class="op" id="8267265">(</span><span class="string" id="8267266">&#39;\n&#39;</span><span class="op" id="8267270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267274">buf</span><span class="op" id="8267277">.</span><span class="ident" id="8267278">WriteByte</span><span class="op" id="8267287">(</span><span class="string" id="8267288">&#39;\n&#39;</span><span class="op" id="8267292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267296">if</span>&nbsp;<span class="ident" id="8267299">err</span>&nbsp;<span class="op" id="8267303">:=</span>&nbsp;<span class="ident" id="8267306">dec</span><span class="op" id="8267309">.</span><span class="ident" id="8267310">Decode</span><span class="op" id="8267316">(</span><span class="op" id="8267317">&amp;</span><span class="ident" id="8267318">r</span><span class="op" id="8267319">)</span><span class="op" id="8267320">;</span>&nbsp;<span class="ident" id="8267322">err</span>&nbsp;<span class="op" id="8267326">!=</span>&nbsp;<span class="ident" id="8267329">nil</span>&nbsp;<span class="op" id="8267333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267338">b</span><span class="op" id="8267339">.</span><span class="ident" id="8267340">Fatal</span><span class="op" id="8267345">(</span><span class="string" id="8267346">&#34;Decode:&#34;</span><span class="op" id="8267355">,</span>&nbsp;<span class="ident" id="8267357">err</span><span class="op" id="8267360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267364">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267370">b</span><span class="op" id="8267371">.</span><span class="ident" id="8267372">SetBytes</span><span class="op" id="8267380">(</span><span class="ident" id="8267381">int64</span><span class="op" id="8267386">(</span><span class="builtinfunc" id="8267387">len</span><span class="op" id="8267390">(</span><span class="ident" id="8267391">codeJSON</span><span class="op" id="8267399">)</span><span class="op" id="8267400">)</span><span class="op" id="8267401">)</span><br>
<span class="lineno"></span><span class="op" id="8267403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8267406">func</span>&nbsp;<span class="ident" id="8267411">BenchmarkCodeUnmarshal</span><span class="op" id="8267433">(</span><span class="ident" id="8267434">b</span>&nbsp;<span class="op" id="8267436">*</span><span class="ident" id="8267437">testing</span><span class="op" id="8267444">.</span><span class="ident" id="8267445">B</span><span class="op" id="8267446">)</span>&nbsp;<span class="op" id="8267448">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267451">if</span>&nbsp;<span class="ident" id="8267454">codeJSON</span>&nbsp;<span class="op" id="8267463">==</span>&nbsp;<span class="ident" id="8267466">nil</span>&nbsp;<span class="op" id="8267470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267474">b</span><span class="op" id="8267475">.</span><span class="ident" id="8267476">StopTimer</span><span class="op" id="8267485">(</span><span class="op" id="8267486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267490">codeInit</span><span class="op" id="8267498">(</span><span class="op" id="8267499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267503">b</span><span class="op" id="8267504">.</span><span class="ident" id="8267505">StartTimer</span><span class="op" id="8267515">(</span><span class="op" id="8267516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267519">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267522">for</span>&nbsp;<span class="ident" id="8267526">i</span>&nbsp;<span class="op" id="8267528">:=</span>&nbsp;<span class="num" id="8267531">0</span><span class="op" id="8267532">;</span>&nbsp;<span class="ident" id="8267534">i</span>&nbsp;<span class="op" id="8267536">&lt;</span>&nbsp;<span class="ident" id="8267538">b</span><span class="op" id="8267539">.</span><span class="ident" id="8267540">N</span><span class="op" id="8267541">;</span>&nbsp;<span class="ident" id="8267543">i</span><span class="op" id="8267544">++</span>&nbsp;<span class="op" id="8267547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267551">var</span>&nbsp;<span class="ident" id="8267555">r</span>&nbsp;<span class="ident" id="8267557">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267572">if</span>&nbsp;<span class="ident" id="8267575">err</span>&nbsp;<span class="op" id="8267579">:=</span>&nbsp;<span class="ident" id="8267582">Unmarshal</span><span class="op" id="8267591">(</span><span class="ident" id="8267592">codeJSON</span><span class="op" id="8267600">,</span>&nbsp;<span class="op" id="8267602">&amp;</span><span class="ident" id="8267603">r</span><span class="op" id="8267604">)</span><span class="op" id="8267605">;</span>&nbsp;<span class="ident" id="8267607">err</span>&nbsp;<span class="op" id="8267611">!=</span>&nbsp;<span class="ident" id="8267614">nil</span>&nbsp;<span class="op" id="8267618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267623">b</span><span class="op" id="8267624">.</span><span class="ident" id="8267625">Fatal</span><span class="op" id="8267630">(</span><span class="string" id="8267631">&#34;Unmmarshal:&#34;</span><span class="op" id="8267644">,</span>&nbsp;<span class="ident" id="8267646">err</span><span class="op" id="8267649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267653">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267659">b</span><span class="op" id="8267660">.</span><span class="ident" id="8267661">SetBytes</span><span class="op" id="8267669">(</span><span class="ident" id="8267670">int64</span><span class="op" id="8267675">(</span><span class="builtinfunc" id="8267676">len</span><span class="op" id="8267679">(</span><span class="ident" id="8267680">codeJSON</span><span class="op" id="8267688">)</span><span class="op" id="8267689">)</span><span class="op" id="8267690">)</span><br>
<span class="lineno"></span><span class="op" id="8267692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8267695">func</span>&nbsp;<span class="ident" id="8267700">BenchmarkCodeUnmarshalReuse</span><span class="op" id="8267727">(</span><span class="ident" id="8267728">b</span>&nbsp;<span class="op" id="8267730">*</span><span class="ident" id="8267731">testing</span><span class="op" id="8267738">.</span><span class="ident" id="8267739">B</span><span class="op" id="8267740">)</span>&nbsp;<span class="op" id="8267742">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267745">if</span>&nbsp;<span class="ident" id="8267748">codeJSON</span>&nbsp;<span class="op" id="8267757">==</span>&nbsp;<span class="ident" id="8267760">nil</span>&nbsp;<span class="op" id="8267764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267768">b</span><span class="op" id="8267769">.</span><span class="ident" id="8267770">StopTimer</span><span class="op" id="8267779">(</span><span class="op" id="8267780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267784">codeInit</span><span class="op" id="8267792">(</span><span class="op" id="8267793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267797">b</span><span class="op" id="8267798">.</span><span class="ident" id="8267799">StartTimer</span><span class="op" id="8267809">(</span><span class="op" id="8267810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267813">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267816">var</span>&nbsp;<span class="ident" id="8267820">r</span>&nbsp;<span class="ident" id="8267822">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267836">for</span>&nbsp;<span class="ident" id="8267840">i</span>&nbsp;<span class="op" id="8267842">:=</span>&nbsp;<span class="num" id="8267845">0</span><span class="op" id="8267846">;</span>&nbsp;<span class="ident" id="8267848">i</span>&nbsp;<span class="op" id="8267850">&lt;</span>&nbsp;<span class="ident" id="8267852">b</span><span class="op" id="8267853">.</span><span class="ident" id="8267854">N</span><span class="op" id="8267855">;</span>&nbsp;<span class="ident" id="8267857">i</span><span class="op" id="8267858">++</span>&nbsp;<span class="op" id="8267861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267865">if</span>&nbsp;<span class="ident" id="8267868">err</span>&nbsp;<span class="op" id="8267872">:=</span>&nbsp;<span class="ident" id="8267875">Unmarshal</span><span class="op" id="8267884">(</span><span class="ident" id="8267885">codeJSON</span><span class="op" id="8267893">,</span>&nbsp;<span class="op" id="8267895">&amp;</span><span class="ident" id="8267896">r</span><span class="op" id="8267897">)</span><span class="op" id="8267898">;</span>&nbsp;<span class="ident" id="8267900">err</span>&nbsp;<span class="op" id="8267904">!=</span>&nbsp;<span class="ident" id="8267907">nil</span>&nbsp;<span class="op" id="8267911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267916">b</span><span class="op" id="8267917">.</span><span class="ident" id="8267918">Fatal</span><span class="op" id="8267923">(</span><span class="string" id="8267924">&#34;Unmmarshal:&#34;</span><span class="op" id="8267937">,</span>&nbsp;<span class="ident" id="8267939">err</span><span class="op" id="8267942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267946">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267949">}</span><br>
<span class="lineno"></span><span class="op" id="8267951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8267954">func</span>&nbsp;<span class="ident" id="8267959">BenchmarkUnmarshalString</span><span class="op" id="8267983">(</span><span class="ident" id="8267984">b</span>&nbsp;<span class="op" id="8267986">*</span><span class="ident" id="8267987">testing</span><span class="op" id="8267994">.</span><span class="ident" id="8267995">B</span><span class="op" id="8267996">)</span>&nbsp;<span class="op" id="8267998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268001">data</span>&nbsp;<span class="op" id="8268006">:=</span>&nbsp;<span class="op" id="8268009">[</span><span class="op" id="8268010">]</span><span class="builtintype" id="8268011">byte</span><span class="op" id="8268015">(</span><span class="string" id="8268016">`&#34;hello,&nbsp;world&#34;`</span><span class="op" id="8268032">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268035">var</span>&nbsp;<span class="ident" id="8268039">s</span>&nbsp;<span class="builtintype" id="8268041">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268050">for</span>&nbsp;<span class="ident" id="8268054">i</span>&nbsp;<span class="op" id="8268056">:=</span>&nbsp;<span class="num" id="8268059">0</span><span class="op" id="8268060">;</span>&nbsp;<span class="ident" id="8268062">i</span>&nbsp;<span class="op" id="8268064">&lt;</span>&nbsp;<span class="ident" id="8268066">b</span><span class="op" id="8268067">.</span><span class="ident" id="8268068">N</span><span class="op" id="8268069">;</span>&nbsp;<span class="ident" id="8268071">i</span><span class="op" id="8268072">++</span>&nbsp;<span class="op" id="8268075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268079">if</span>&nbsp;<span class="ident" id="8268082">err</span>&nbsp;<span class="op" id="8268086">:=</span>&nbsp;<span class="ident" id="8268089">Unmarshal</span><span class="op" id="8268098">(</span><span class="ident" id="8268099">data</span><span class="op" id="8268103">,</span>&nbsp;<span class="op" id="8268105">&amp;</span><span class="ident" id="8268106">s</span><span class="op" id="8268107">)</span><span class="op" id="8268108">;</span>&nbsp;<span class="ident" id="8268110">err</span>&nbsp;<span class="op" id="8268114">!=</span>&nbsp;<span class="ident" id="8268117">nil</span>&nbsp;<span class="op" id="8268121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268126">b</span><span class="op" id="8268127">.</span><span class="ident" id="8268128">Fatal</span><span class="op" id="8268133">(</span><span class="string" id="8268134">&#34;Unmarshal:&#34;</span><span class="op" id="8268146">,</span>&nbsp;<span class="ident" id="8268148">err</span><span class="op" id="8268151">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268158">}</span><br>
<span class="lineno"></span><span class="op" id="8268160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8268163">func</span>&nbsp;<span class="ident" id="8268168">BenchmarkUnmarshalFloat64</span><span class="op" id="8268193">(</span><span class="ident" id="8268194">b</span>&nbsp;<span class="op" id="8268196">*</span><span class="ident" id="8268197">testing</span><span class="op" id="8268204">.</span><span class="ident" id="8268205">B</span><span class="op" id="8268206">)</span>&nbsp;<span class="op" id="8268208">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268211">var</span>&nbsp;<span class="ident" id="8268215">f</span>&nbsp;<span class="builtintype" id="8268217">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268226">data</span>&nbsp;<span class="op" id="8268231">:=</span>&nbsp;<span class="op" id="8268234">[</span><span class="op" id="8268235">]</span><span class="builtintype" id="8268236">byte</span><span class="op" id="8268240">(</span><span class="string" id="8268241">`3.14`</span><span class="op" id="8268247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268251">for</span>&nbsp;<span class="ident" id="8268255">i</span>&nbsp;<span class="op" id="8268257">:=</span>&nbsp;<span class="num" id="8268260">0</span><span class="op" id="8268261">;</span>&nbsp;<span class="ident" id="8268263">i</span>&nbsp;<span class="op" id="8268265">&lt;</span>&nbsp;<span class="ident" id="8268267">b</span><span class="op" id="8268268">.</span><span class="ident" id="8268269">N</span><span class="op" id="8268270">;</span>&nbsp;<span class="ident" id="8268272">i</span><span class="op" id="8268273">++</span>&nbsp;<span class="op" id="8268276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268280">if</span>&nbsp;<span class="ident" id="8268283">err</span>&nbsp;<span class="op" id="8268287">:=</span>&nbsp;<span class="ident" id="8268290">Unmarshal</span><span class="op" id="8268299">(</span><span class="ident" id="8268300">data</span><span class="op" id="8268304">,</span>&nbsp;<span class="op" id="8268306">&amp;</span><span class="ident" id="8268307">f</span><span class="op" id="8268308">)</span><span class="op" id="8268309">;</span>&nbsp;<span class="ident" id="8268311">err</span>&nbsp;<span class="op" id="8268315">!=</span>&nbsp;<span class="ident" id="8268318">nil</span>&nbsp;<span class="op" id="8268322">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268327">b</span><span class="op" id="8268328">.</span><span class="ident" id="8268329">Fatal</span><span class="op" id="8268334">(</span><span class="string" id="8268335">&#34;Unmarshal:&#34;</span><span class="op" id="8268347">,</span>&nbsp;<span class="ident" id="8268349">err</span><span class="op" id="8268352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268359">}</span><br>
<span class="lineno"></span><span class="op" id="8268361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="8268364">func</span>&nbsp;<span class="ident" id="8268369">BenchmarkUnmarshalInt64</span><span class="op" id="8268392">(</span><span class="ident" id="8268393">b</span>&nbsp;<span class="op" id="8268395">*</span><span class="ident" id="8268396">testing</span><span class="op" id="8268403">.</span><span class="ident" id="8268404">B</span><span class="op" id="8268405">)</span>&nbsp;<span class="op" id="8268407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268410">var</span>&nbsp;<span class="ident" id="8268414">x</span>&nbsp;<span class="ident" id="8268416">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268423">data</span>&nbsp;<span class="op" id="8268428">:=</span>&nbsp;<span class="op" id="8268431">[</span><span class="op" id="8268432">]</span><span class="builtintype" id="8268433">byte</span><span class="op" id="8268437">(</span><span class="string" id="8268438">`3`</span><span class="op" id="8268441">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268445">for</span>&nbsp;<span class="ident" id="8268449">i</span>&nbsp;<span class="op" id="8268451">:=</span>&nbsp;<span class="num" id="8268454">0</span><span class="op" id="8268455">;</span>&nbsp;<span class="ident" id="8268457">i</span>&nbsp;<span class="op" id="8268459">&lt;</span>&nbsp;<span class="ident" id="8268461">b</span><span class="op" id="8268462">.</span><span class="ident" id="8268463">N</span><span class="op" id="8268464">;</span>&nbsp;<span class="ident" id="8268466">i</span><span class="op" id="8268467">++</span>&nbsp;<span class="op" id="8268470">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268474">if</span>&nbsp;<span class="ident" id="8268477">err</span>&nbsp;<span class="op" id="8268481">:=</span>&nbsp;<span class="ident" id="8268484">Unmarshal</span><span class="op" id="8268493">(</span><span class="ident" id="8268494">data</span><span class="op" id="8268498">,</span>&nbsp;<span class="op" id="8268500">&amp;</span><span class="ident" id="8268501">x</span><span class="op" id="8268502">)</span><span class="op" id="8268503">;</span>&nbsp;<span class="ident" id="8268505">err</span>&nbsp;<span class="op" id="8268509">!=</span>&nbsp;<span class="ident" id="8268512">nil</span>&nbsp;<span class="op" id="8268516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268521">b</span><span class="op" id="8268522">.</span><span class="ident" id="8268523">Fatal</span><span class="op" id="8268528">(</span><span class="string" id="8268529">&#34;Unmarshal:&#34;</span><span class="op" id="8268541">,</span>&nbsp;<span class="ident" id="8268543">err</span><span class="op" id="8268546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268553">}</span><br>
<span class="lineno"></span><span class="op" id="8268555">}</span>
</div>
</body>
</html>
