<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7135411">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7135466">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7135520">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7135571">package</span>&nbsp;<span class="ident" id="7135579">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135585">import</span>&nbsp;<span class="op" id="7135592">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7135595">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7135604">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7135617">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7135628">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7135639">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7135650">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7135657">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7135660">var</span>&nbsp;<span class="ident" id="7135664">parseTests</span>&nbsp;<span class="op" id="7135675">=</span>&nbsp;<span class="op" id="7135677">[</span><span class="op" id="7135678">]</span><span class="keyword" id="7135679">struct</span>&nbsp;<span class="op" id="7135686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135689">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7135696">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135704">header</span>&nbsp;<span class="ident" id="7135711">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135719">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7135726">string</span><br>
<span class="lineno">20</span><span class="op" id="7135733">}</span><span class="op" id="7135734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7135737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7135741">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135771">in</span><span class="op" id="7135773">:</span>&nbsp;<span class="string" id="7135775">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="7136001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136005">header</span><span class="op" id="7136011">:</span>&nbsp;<span class="ident" id="7136013">Header</span><span class="op" id="7136019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7136024">&#34;From&#34;</span><span class="op" id="7136030">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136038">[</span><span class="op" id="7136039">]</span><span class="builtintype" id="7136040">string</span><span class="op" id="7136046">{</span><span class="string" id="7136047">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="7136080">}</span><span class="op" id="7136081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7136086">&#34;To&#34;</span><span class="op" id="7136090">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136100">[</span><span class="op" id="7136101">]</span><span class="builtintype" id="7136102">string</span><span class="op" id="7136108">{</span><span class="string" id="7136109">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="7136140">}</span><span class="op" id="7136141">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7136146">&#34;Subject&#34;</span><span class="op" id="7136155">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136160">[</span><span class="op" id="7136161">]</span><span class="builtintype" id="7136162">string</span><span class="op" id="7136168">{</span><span class="string" id="7136169">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="7136183">}</span><span class="op" id="7136184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7136189">&#34;Date&#34;</span><span class="op" id="7136195">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136203">[</span><span class="op" id="7136204">]</span><span class="builtintype" id="7136205">string</span><span class="op" id="7136211">{</span><span class="string" id="7136212">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7136245">}</span><span class="op" id="7136246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7136251">&#34;Message-Id&#34;</span><span class="op" id="7136263">:</span>&nbsp;<span class="op" id="7136265">[</span><span class="op" id="7136266">]</span><span class="builtintype" id="7136267">string</span><span class="op" id="7136273">{</span><span class="string" id="7136274">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="7136304">}</span><span class="op" id="7136305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136309">}</span><span class="op" id="7136310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136314">body</span><span class="op" id="7136318">:</span>&nbsp;<span class="string" id="7136320">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="7136376">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136379">}</span><span class="op" id="7136380">,</span><br>
<span class="lineno"></span><span class="op" id="7136382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136385">func</span>&nbsp;<span class="ident" id="7136390">TestParsing</span><span class="op" id="7136401">(</span><span class="ident" id="7136402">t</span>&nbsp;<span class="op" id="7136404">*</span><span class="ident" id="7136405">testing</span><span class="op" id="7136412">.</span><span class="ident" id="7136413">T</span><span class="op" id="7136414">)</span>&nbsp;<span class="op" id="7136416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136419">for</span>&nbsp;<span class="ident" id="7136423">i</span><span class="op" id="7136424">,</span>&nbsp;<span class="ident" id="7136426">test</span>&nbsp;<span class="op" id="7136431">:=</span>&nbsp;<span class="keyword" id="7136434">range</span>&nbsp;<span class="ident" id="7136440">parseTests</span>&nbsp;<span class="op" id="7136451">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136455">msg</span><span class="op" id="7136458">,</span>&nbsp;<span class="ident" id="7136460">err</span>&nbsp;<span class="op" id="7136464">:=</span>&nbsp;<span class="ident" id="7136467">ReadMessage</span><span class="op" id="7136478">(</span><span class="ident" id="7136479">bytes</span><span class="op" id="7136484">.</span><span class="ident" id="7136485">NewBuffer</span><span class="op" id="7136494">(</span><span class="op" id="7136495">[</span><span class="op" id="7136496">]</span><span class="builtintype" id="7136497">byte</span><span class="op" id="7136501">(</span><span class="ident" id="7136502">test</span><span class="op" id="7136506">.</span><span class="ident" id="7136507">in</span><span class="op" id="7136509">)</span><span class="op" id="7136510">)</span><span class="op" id="7136511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136515">if</span>&nbsp;<span class="ident" id="7136518">err</span>&nbsp;<span class="op" id="7136522">!=</span>&nbsp;<span class="ident" id="7136525">nil</span>&nbsp;<span class="op" id="7136529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136534">t</span><span class="op" id="7136535">.</span><span class="ident" id="7136536">Errorf</span><span class="op" id="7136542">(</span><span class="string" id="7136543">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="7136581">,</span>&nbsp;<span class="ident" id="7136583">i</span><span class="op" id="7136584">,</span>&nbsp;<span class="ident" id="7136586">err</span><span class="op" id="7136589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136594">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136605">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136609">if</span>&nbsp;<span class="op" id="7136612">!</span><span class="ident" id="7136613">headerEq</span><span class="op" id="7136621">(</span><span class="ident" id="7136622">msg</span><span class="op" id="7136625">.</span><span class="ident" id="7136626">Header</span><span class="op" id="7136632">,</span>&nbsp;<span class="ident" id="7136634">test</span><span class="op" id="7136638">.</span><span class="ident" id="7136639">header</span><span class="op" id="7136645">)</span>&nbsp;<span class="op" id="7136647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136652">t</span><span class="op" id="7136653">.</span><span class="ident" id="7136654">Errorf</span><span class="op" id="7136660">(</span><span class="string" id="7136661">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7136730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136736">i</span><span class="op" id="7136737">,</span>&nbsp;<span class="ident" id="7136739">msg</span><span class="op" id="7136742">.</span><span class="ident" id="7136743">Header</span><span class="op" id="7136749">,</span>&nbsp;<span class="ident" id="7136751">test</span><span class="op" id="7136755">.</span><span class="ident" id="7136756">header</span><span class="op" id="7136762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136770">body</span><span class="op" id="7136774">,</span>&nbsp;<span class="ident" id="7136776">err</span>&nbsp;<span class="op" id="7136780">:=</span>&nbsp;<span class="ident" id="7136783">ioutil</span><span class="op" id="7136789">.</span><span class="ident" id="7136790">ReadAll</span><span class="op" id="7136797">(</span><span class="ident" id="7136798">msg</span><span class="op" id="7136801">.</span><span class="ident" id="7136802">Body</span><span class="op" id="7136806">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136810">if</span>&nbsp;<span class="ident" id="7136813">err</span>&nbsp;<span class="op" id="7136817">!=</span>&nbsp;<span class="ident" id="7136820">nil</span>&nbsp;<span class="op" id="7136824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136829">t</span><span class="op" id="7136830">.</span><span class="ident" id="7136831">Errorf</span><span class="op" id="7136837">(</span><span class="string" id="7136838">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7136873">,</span>&nbsp;<span class="ident" id="7136875">i</span><span class="op" id="7136876">,</span>&nbsp;<span class="ident" id="7136878">err</span><span class="op" id="7136881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136886">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136901">bodyStr</span>&nbsp;<span class="op" id="7136909">:=</span>&nbsp;<span class="builtintype" id="7136912">string</span><span class="op" id="7136918">(</span><span class="ident" id="7136919">body</span><span class="op" id="7136923">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136927">if</span>&nbsp;<span class="ident" id="7136930">bodyStr</span>&nbsp;<span class="op" id="7136938">!=</span>&nbsp;<span class="ident" id="7136941">test</span><span class="op" id="7136945">.</span><span class="ident" id="7136946">body</span>&nbsp;<span class="op" id="7136951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136956">t</span><span class="op" id="7136957">.</span><span class="ident" id="7136958">Errorf</span><span class="op" id="7136964">(</span><span class="string" id="7136965">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7137032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137038">i</span><span class="op" id="7137039">,</span>&nbsp;<span class="ident" id="7137041">bodyStr</span><span class="op" id="7137048">,</span>&nbsp;<span class="ident" id="7137050">test</span><span class="op" id="7137054">.</span><span class="ident" id="7137055">body</span><span class="op" id="7137059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137066">}</span><br>
<span class="lineno">65</span><span class="op" id="7137068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137071">func</span>&nbsp;<span class="ident" id="7137076">headerEq</span><span class="op" id="7137084">(</span><span class="ident" id="7137085">a</span><span class="op" id="7137086">,</span>&nbsp;<span class="ident" id="7137088">b</span>&nbsp;<span class="ident" id="7137090">Header</span><span class="op" id="7137096">)</span>&nbsp;<span class="builtintype" id="7137098">bool</span>&nbsp;<span class="op" id="7137103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137106">if</span>&nbsp;<span class="builtinfunc" id="7137109">len</span><span class="op" id="7137112">(</span><span class="ident" id="7137113">a</span><span class="op" id="7137114">)</span>&nbsp;<span class="op" id="7137116">!=</span>&nbsp;<span class="builtinfunc" id="7137119">len</span><span class="op" id="7137122">(</span><span class="ident" id="7137123">b</span><span class="op" id="7137124">)</span>&nbsp;<span class="op" id="7137126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137130">return</span>&nbsp;<span class="ident" id="7137137">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137147">for</span>&nbsp;<span class="ident" id="7137151">k</span><span class="op" id="7137152">,</span>&nbsp;<span class="ident" id="7137154">as</span>&nbsp;<span class="op" id="7137157">:=</span>&nbsp;<span class="keyword" id="7137160">range</span>&nbsp;<span class="ident" id="7137166">a</span>&nbsp;<span class="op" id="7137168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137172">bs</span><span class="op" id="7137174">,</span>&nbsp;<span class="ident" id="7137176">ok</span>&nbsp;<span class="op" id="7137179">:=</span>&nbsp;<span class="ident" id="7137182">b</span><span class="op" id="7137183">[</span><span class="ident" id="7137184">k</span><span class="op" id="7137185">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137189">if</span>&nbsp;<span class="op" id="7137192">!</span><span class="ident" id="7137193">ok</span>&nbsp;<span class="op" id="7137196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137201">return</span>&nbsp;<span class="ident" id="7137208">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137220">if</span>&nbsp;<span class="op" id="7137223">!</span><span class="ident" id="7137224">reflect</span><span class="op" id="7137231">.</span><span class="ident" id="7137232">DeepEqual</span><span class="op" id="7137241">(</span><span class="ident" id="7137242">as</span><span class="op" id="7137244">,</span>&nbsp;<span class="ident" id="7137246">bs</span><span class="op" id="7137248">)</span>&nbsp;<span class="op" id="7137250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137255">return</span>&nbsp;<span class="ident" id="7137262">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137273">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137276">return</span>&nbsp;<span class="ident" id="7137283">true</span><br>
<span class="lineno"></span><span class="op" id="7137288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137291">func</span>&nbsp;<span class="ident" id="7137296">TestDateParsing</span><span class="op" id="7137311">(</span><span class="ident" id="7137312">t</span>&nbsp;<span class="op" id="7137314">*</span><span class="ident" id="7137315">testing</span><span class="op" id="7137322">.</span><span class="ident" id="7137323">T</span><span class="op" id="7137324">)</span>&nbsp;<span class="op" id="7137326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137329">tests</span>&nbsp;<span class="op" id="7137335">:=</span>&nbsp;<span class="op" id="7137338">[</span><span class="op" id="7137339">]</span><span class="keyword" id="7137340">struct</span>&nbsp;<span class="op" id="7137347">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137351">dateStr</span>&nbsp;<span class="builtintype" id="7137359">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137368">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137376">time</span><span class="op" id="7137380">.</span><span class="ident" id="7137381">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137387">}</span><span class="op" id="7137388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7137392">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137422">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7137427">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7137460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137465">time</span><span class="op" id="7137469">.</span><span class="ident" id="7137470">Date</span><span class="op" id="7137474">(</span><span class="num" id="7137475">1997</span><span class="op" id="7137479">,</span>&nbsp;<span class="num" id="7137481">11</span><span class="op" id="7137483">,</span>&nbsp;<span class="num" id="7137485">21</span><span class="op" id="7137487">,</span>&nbsp;<span class="num" id="7137489">9</span><span class="op" id="7137490">,</span>&nbsp;<span class="num" id="7137492">55</span><span class="op" id="7137494">,</span>&nbsp;<span class="num" id="7137496">6</span><span class="op" id="7137497">,</span>&nbsp;<span class="num" id="7137499">0</span><span class="op" id="7137500">,</span>&nbsp;<span class="ident" id="7137502">time</span><span class="op" id="7137506">.</span><span class="ident" id="7137507">FixedZone</span><span class="op" id="7137516">(</span><span class="string" id="7137517">&#34;&#34;</span><span class="op" id="7137519">,</span>&nbsp;<span class="op" id="7137521">-</span><span class="num" id="7137522">6</span><span class="op" id="7137523">*</span><span class="num" id="7137524">60</span><span class="op" id="7137526">*</span><span class="num" id="7137527">60</span><span class="op" id="7137529">)</span><span class="op" id="7137530">)</span><span class="op" id="7137531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137535">}</span><span class="op" id="7137536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7137540">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7137569">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7137594">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="7137618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137623">time</span><span class="op" id="7137627">.</span><span class="ident" id="7137628">Date</span><span class="op" id="7137632">(</span><span class="num" id="7137633">1997</span><span class="op" id="7137637">,</span>&nbsp;<span class="num" id="7137639">11</span><span class="op" id="7137641">,</span>&nbsp;<span class="num" id="7137643">21</span><span class="op" id="7137645">,</span>&nbsp;<span class="num" id="7137647">9</span><span class="op" id="7137648">,</span>&nbsp;<span class="num" id="7137650">55</span><span class="op" id="7137652">,</span>&nbsp;<span class="num" id="7137654">6</span><span class="op" id="7137655">,</span>&nbsp;<span class="num" id="7137657">0</span><span class="op" id="7137658">,</span>&nbsp;<span class="ident" id="7137660">time</span><span class="op" id="7137664">.</span><span class="ident" id="7137665">FixedZone</span><span class="op" id="7137674">(</span><span class="string" id="7137675">&#34;GMT&#34;</span><span class="op" id="7137680">,</span>&nbsp;<span class="num" id="7137682">0</span><span class="op" id="7137683">)</span><span class="op" id="7137684">)</span><span class="op" id="7137685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137689">}</span><span class="op" id="7137690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7137694">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7137753">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="7137792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137797">time</span><span class="op" id="7137801">.</span><span class="ident" id="7137802">Date</span><span class="op" id="7137806">(</span><span class="num" id="7137807">1997</span><span class="op" id="7137811">,</span>&nbsp;<span class="num" id="7137813">11</span><span class="op" id="7137815">,</span>&nbsp;<span class="num" id="7137817">21</span><span class="op" id="7137819">,</span>&nbsp;<span class="num" id="7137821">9</span><span class="op" id="7137822">,</span>&nbsp;<span class="num" id="7137824">55</span><span class="op" id="7137826">,</span>&nbsp;<span class="num" id="7137828">6</span><span class="op" id="7137829">,</span>&nbsp;<span class="num" id="7137831">0</span><span class="op" id="7137832">,</span>&nbsp;<span class="ident" id="7137834">time</span><span class="op" id="7137838">.</span><span class="ident" id="7137839">FixedZone</span><span class="op" id="7137848">(</span><span class="string" id="7137849">&#34;&#34;</span><span class="op" id="7137851">,</span>&nbsp;<span class="op" id="7137853">-</span><span class="num" id="7137854">6</span><span class="op" id="7137855">*</span><span class="num" id="7137856">60</span><span class="op" id="7137858">*</span><span class="num" id="7137859">60</span><span class="op" id="7137861">)</span><span class="op" id="7137862">)</span><span class="op" id="7137863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137867">}</span><span class="op" id="7137868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137871">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137874">for</span>&nbsp;<span class="ident" id="7137878">_</span><span class="op" id="7137879">,</span>&nbsp;<span class="ident" id="7137881">test</span>&nbsp;<span class="op" id="7137886">:=</span>&nbsp;<span class="keyword" id="7137889">range</span>&nbsp;<span class="ident" id="7137895">tests</span>&nbsp;<span class="op" id="7137901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137905">hdr</span>&nbsp;<span class="op" id="7137909">:=</span>&nbsp;<span class="ident" id="7137912">Header</span><span class="op" id="7137918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7137923">&#34;Date&#34;</span><span class="op" id="7137929">:</span>&nbsp;<span class="op" id="7137931">[</span><span class="op" id="7137932">]</span><span class="builtintype" id="7137933">string</span><span class="op" id="7137939">{</span><span class="ident" id="7137940">test</span><span class="op" id="7137944">.</span><span class="ident" id="7137945">dateStr</span><span class="op" id="7137952">}</span><span class="op" id="7137953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137961">date</span><span class="op" id="7137965">,</span>&nbsp;<span class="ident" id="7137967">err</span>&nbsp;<span class="op" id="7137971">:=</span>&nbsp;<span class="ident" id="7137974">hdr</span><span class="op" id="7137977">.</span><span class="ident" id="7137978">Date</span><span class="op" id="7137982">(</span><span class="op" id="7137983">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137987">if</span>&nbsp;<span class="ident" id="7137990">err</span>&nbsp;<span class="op" id="7137994">!=</span>&nbsp;<span class="ident" id="7137997">nil</span>&nbsp;<span class="op" id="7138001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138006">t</span><span class="op" id="7138007">.</span><span class="ident" id="7138008">Errorf</span><span class="op" id="7138014">(</span><span class="string" id="7138015">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7138038">,</span>&nbsp;<span class="ident" id="7138040">test</span><span class="op" id="7138044">.</span><span class="ident" id="7138045">dateStr</span><span class="op" id="7138052">,</span>&nbsp;<span class="ident" id="7138054">err</span><span class="op" id="7138057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7138062">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7138077">if</span>&nbsp;<span class="op" id="7138080">!</span><span class="ident" id="7138081">date</span><span class="op" id="7138085">.</span><span class="ident" id="7138086">Equal</span><span class="op" id="7138091">(</span><span class="ident" id="7138092">test</span><span class="op" id="7138096">.</span><span class="ident" id="7138097">exp</span><span class="op" id="7138100">)</span>&nbsp;<span class="op" id="7138102">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138107">t</span><span class="op" id="7138108">.</span><span class="ident" id="7138109">Errorf</span><span class="op" id="7138115">(</span><span class="string" id="7138116">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7138148">,</span>&nbsp;<span class="ident" id="7138150">test</span><span class="op" id="7138154">.</span><span class="ident" id="7138155">dateStr</span><span class="op" id="7138162">,</span>&nbsp;<span class="ident" id="7138164">date</span><span class="op" id="7138168">,</span>&nbsp;<span class="ident" id="7138170">test</span><span class="op" id="7138174">.</span><span class="ident" id="7138175">exp</span><span class="op" id="7138178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138185">}</span><br>
<span class="lineno"></span><span class="op" id="7138187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7138190">func</span>&nbsp;<span class="ident" id="7138195">TestAddressParsingError</span><span class="op" id="7138218">(</span><span class="ident" id="7138219">t</span>&nbsp;<span class="op" id="7138221">*</span><span class="ident" id="7138222">testing</span><span class="op" id="7138229">.</span><span class="ident" id="7138230">T</span><span class="op" id="7138231">)</span>&nbsp;<span class="op" id="7138233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7138236">const</span>&nbsp;<span class="ident" id="7138242">txt</span>&nbsp;<span class="op" id="7138246">=</span>&nbsp;<span class="string" id="7138248">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138308">_</span><span class="op" id="7138309">,</span>&nbsp;<span class="ident" id="7138311">err</span>&nbsp;<span class="op" id="7138315">:=</span>&nbsp;<span class="ident" id="7138318">ParseAddress</span><span class="op" id="7138330">(</span><span class="ident" id="7138331">txt</span><span class="op" id="7138334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7138337">if</span>&nbsp;<span class="ident" id="7138340">err</span>&nbsp;<span class="op" id="7138344">==</span>&nbsp;<span class="ident" id="7138347">nil</span>&nbsp;<span class="op" id="7138351">||</span>&nbsp;<span class="op" id="7138354">!</span><span class="ident" id="7138355">strings</span><span class="op" id="7138362">.</span><span class="ident" id="7138363">Contains</span><span class="op" id="7138371">(</span><span class="ident" id="7138372">err</span><span class="op" id="7138375">.</span><span class="ident" id="7138376">Error</span><span class="op" id="7138381">(</span><span class="op" id="7138382">)</span><span class="op" id="7138383">,</span>&nbsp;<span class="string" id="7138385">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="7138408">)</span>&nbsp;<span class="op" id="7138410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138414">t</span><span class="op" id="7138415">.</span><span class="ident" id="7138416">Errorf</span><span class="op" id="7138422">(</span><span class="string" id="7138423">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="7138488">,</span>&nbsp;<span class="ident" id="7138490">txt</span><span class="op" id="7138493">,</span>&nbsp;<span class="ident" id="7138495">err</span><span class="op" id="7138498">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138501">}</span><br>
<span class="lineno"></span><span class="op" id="7138503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7138506">func</span>&nbsp;<span class="ident" id="7138511">TestAddressParsing</span><span class="op" id="7138529">(</span><span class="ident" id="7138530">t</span>&nbsp;<span class="op" id="7138532">*</span><span class="ident" id="7138533">testing</span><span class="op" id="7138540">.</span><span class="ident" id="7138541">T</span><span class="op" id="7138542">)</span>&nbsp;<span class="op" id="7138544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138547">tests</span>&nbsp;<span class="op" id="7138553">:=</span>&nbsp;<span class="op" id="7138556">[</span><span class="op" id="7138557">]</span><span class="keyword" id="7138558">struct</span>&nbsp;<span class="op" id="7138565">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138569">addrsStr</span>&nbsp;<span class="builtintype" id="7138578">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138587">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7138596">[</span><span class="op" id="7138597">]</span><span class="op" id="7138598">*</span><span class="ident" id="7138599">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138608">}</span><span class="op" id="7138609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7138613">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138631">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138636">`jdoe@machine.example`</span><span class="op" id="7138658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138663">[</span><span class="op" id="7138664">]</span><span class="op" id="7138665">*</span><span class="ident" id="7138666">Address</span><span class="op" id="7138673">{</span><span class="op" id="7138674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138680">Address</span><span class="op" id="7138687">:</span>&nbsp;<span class="string" id="7138689">&#34;jdoe@machine.example&#34;</span><span class="op" id="7138711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138716">}</span><span class="op" id="7138717">}</span><span class="op" id="7138718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138722">}</span><span class="op" id="7138723">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7138727">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138762">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="7138795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138800">[</span><span class="op" id="7138801">]</span><span class="op" id="7138802">*</span><span class="ident" id="7138803">Address</span><span class="op" id="7138810">{</span><span class="op" id="7138811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138817">Name</span><span class="op" id="7138821">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7138826">&#34;John&nbsp;Doe&#34;</span><span class="op" id="7138836">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138842">Address</span><span class="op" id="7138849">:</span>&nbsp;<span class="string" id="7138851">&#34;jdoe@machine.example&#34;</span><span class="op" id="7138873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138878">}</span><span class="op" id="7138879">}</span><span class="op" id="7138880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138884">}</span><span class="op" id="7138885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7138889">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138919">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7138924">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="7138969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7138974">[</span><span class="op" id="7138975">]</span><span class="op" id="7138976">*</span><span class="ident" id="7138977">Address</span><span class="op" id="7138984">{</span><span class="op" id="7138985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138991">Name</span><span class="op" id="7138995">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139000">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="7139015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139021">Address</span><span class="op" id="7139028">:</span>&nbsp;<span class="string" id="7139030">&#34;john.q.public@example.com&#34;</span><span class="op" id="7139057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139062">}</span><span class="op" id="7139063">}</span><span class="op" id="7139064">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139068">}</span><span class="op" id="7139069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7139078">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="7139141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139146">[</span><span class="op" id="7139147">]</span><span class="op" id="7139148">*</span><span class="ident" id="7139149">Address</span><span class="op" id="7139156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139162">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139169">Name</span><span class="op" id="7139173">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139178">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="7139190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139197">Address</span><span class="op" id="7139204">:</span>&nbsp;<span class="string" id="7139206">&#34;mary@x.test&#34;</span><span class="op" id="7139219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139225">}</span><span class="op" id="7139226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139239">Address</span><span class="op" id="7139246">:</span>&nbsp;<span class="string" id="7139248">&#34;jdoe@example.org&#34;</span><span class="op" id="7139266">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139272">}</span><span class="op" id="7139273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139286">Name</span><span class="op" id="7139290">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139295">&#34;Who?&#34;</span><span class="op" id="7139301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139308">Address</span><span class="op" id="7139315">:</span>&nbsp;<span class="string" id="7139317">&#34;one@y.test&#34;</span><span class="op" id="7139329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139335">}</span><span class="op" id="7139336">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139341">}</span><span class="op" id="7139342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139346">}</span><span class="op" id="7139347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7139356">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="7139421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139426">[</span><span class="op" id="7139427">]</span><span class="op" id="7139428">*</span><span class="ident" id="7139429">Address</span><span class="op" id="7139436">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139449">Address</span><span class="op" id="7139456">:</span>&nbsp;<span class="string" id="7139458">&#34;boss@nil.test&#34;</span><span class="op" id="7139473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139479">}</span><span class="op" id="7139480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139493">Name</span><span class="op" id="7139497">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139502">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="7139520">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139527">Address</span><span class="op" id="7139534">:</span>&nbsp;<span class="string" id="7139536">&#34;sysservices@example.net&#34;</span><span class="op" id="7139561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139567">}</span><span class="op" id="7139568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139573">}</span><span class="op" id="7139574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139578">}</span><span class="op" id="7139579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7139583">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7139613">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7139652">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7139703">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7139752">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139757">[</span><span class="op" id="7139758">]</span><span class="op" id="7139759">*</span><span class="ident" id="7139760">Address</span><span class="op" id="7139767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139780">Name</span><span class="op" id="7139784">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7139789">`Jrg&nbsp;Doe`</span><span class="op" id="7139800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139807">Address</span><span class="op" id="7139814">:</span>&nbsp;<span class="string" id="7139816">&#34;joerg@example.com&#34;</span><span class="op" id="7139835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139841">}</span><span class="op" id="7139842">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139847">}</span><span class="op" id="7139848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139852">}</span><span class="op" id="7139853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7139857">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7139922">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7139969">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139974">[</span><span class="op" id="7139975">]</span><span class="op" id="7139976">*</span><span class="ident" id="7139977">Address</span><span class="op" id="7139984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139997">Name</span><span class="op" id="7140001">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140006">`Jorg&nbsp;Doe`</span><span class="op" id="7140016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140023">Address</span><span class="op" id="7140030">:</span>&nbsp;<span class="string" id="7140032">&#34;joerg@example.com&#34;</span><span class="op" id="7140051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140057">}</span><span class="op" id="7140058">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140063">}</span><span class="op" id="7140064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140068">}</span><span class="op" id="7140069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140073">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7140119">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7140166">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140171">[</span><span class="op" id="7140172">]</span><span class="op" id="7140173">*</span><span class="ident" id="7140174">Address</span><span class="op" id="7140181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140194">Name</span><span class="op" id="7140198">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140203">`Jrg&nbsp;Doe`</span><span class="op" id="7140214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140221">Address</span><span class="op" id="7140228">:</span>&nbsp;<span class="string" id="7140230">&#34;joerg@example.com&#34;</span><span class="op" id="7140249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140255">}</span><span class="op" id="7140256">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140261">}</span><span class="op" id="7140262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140266">}</span><span class="op" id="7140267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140271">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7140302">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="7140358">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140363">[</span><span class="op" id="7140364">]</span><span class="op" id="7140365">*</span><span class="ident" id="7140366">Address</span><span class="op" id="7140373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140386">Name</span><span class="op" id="7140390">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140395">`Andr&nbsp;Pirard`</span><span class="op" id="7140410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140417">Address</span><span class="op" id="7140424">:</span>&nbsp;<span class="string" id="7140426">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="7140448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140454">}</span><span class="op" id="7140455">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140460">}</span><span class="op" id="7140461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140465">}</span><span class="op" id="7140466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140470">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7140539">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7140586">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140591">[</span><span class="op" id="7140592">]</span><span class="op" id="7140593">*</span><span class="ident" id="7140594">Address</span><span class="op" id="7140601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140614">Name</span><span class="op" id="7140618">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140623">`Jrg`</span><span class="op" id="7140630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140637">Address</span><span class="op" id="7140644">:</span>&nbsp;<span class="string" id="7140646">&#34;joerg@example.com&#34;</span><span class="op" id="7140665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140671">}</span><span class="op" id="7140672">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140677">}</span><span class="op" id="7140678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140682">}</span><span class="op" id="7140683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140687">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7140751">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7140793">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140798">[</span><span class="op" id="7140799">]</span><span class="op" id="7140800">*</span><span class="ident" id="7140801">Address</span><span class="op" id="7140808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140821">Name</span><span class="op" id="7140825">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7140830">`Jrg`</span><span class="op" id="7140837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140844">Address</span><span class="op" id="7140851">:</span>&nbsp;<span class="string" id="7140853">&#34;joerg@example.com&#34;</span><span class="op" id="7140872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140878">}</span><span class="op" id="7140879">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140884">}</span><span class="op" id="7140885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140889">}</span><span class="op" id="7140890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140894">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7140952">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="7140983">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140988">[</span><span class="op" id="7140989">]</span><span class="op" id="7140990">*</span><span class="ident" id="7140991">Address</span><span class="op" id="7140998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141011">Name</span><span class="op" id="7141015">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7141020">`Asem&nbsp;H.`</span><span class="op" id="7141029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141036">Address</span><span class="op" id="7141043">:</span>&nbsp;<span class="string" id="7141045">&#34;noreply@example.com&#34;</span><span class="op" id="7141066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141072">}</span><span class="op" id="7141073">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141078">}</span><span class="op" id="7141079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141083">}</span><span class="op" id="7141084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141090">for</span>&nbsp;<span class="ident" id="7141094">_</span><span class="op" id="7141095">,</span>&nbsp;<span class="ident" id="7141097">test</span>&nbsp;<span class="op" id="7141102">:=</span>&nbsp;<span class="keyword" id="7141105">range</span>&nbsp;<span class="ident" id="7141111">tests</span>&nbsp;<span class="op" id="7141117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141121">if</span>&nbsp;<span class="builtinfunc" id="7141124">len</span><span class="op" id="7141127">(</span><span class="ident" id="7141128">test</span><span class="op" id="7141132">.</span><span class="ident" id="7141133">exp</span><span class="op" id="7141136">)</span>&nbsp;<span class="op" id="7141138">==</span>&nbsp;<span class="num" id="7141141">1</span>&nbsp;<span class="op" id="7141143">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141148">addr</span><span class="op" id="7141152">,</span>&nbsp;<span class="ident" id="7141154">err</span>&nbsp;<span class="op" id="7141158">:=</span>&nbsp;<span class="ident" id="7141161">ParseAddress</span><span class="op" id="7141173">(</span><span class="ident" id="7141174">test</span><span class="op" id="7141178">.</span><span class="ident" id="7141179">addrsStr</span><span class="op" id="7141187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141192">if</span>&nbsp;<span class="ident" id="7141195">err</span>&nbsp;<span class="op" id="7141199">!=</span>&nbsp;<span class="ident" id="7141202">nil</span>&nbsp;<span class="op" id="7141206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141212">t</span><span class="op" id="7141213">.</span><span class="ident" id="7141214">Errorf</span><span class="op" id="7141220">(</span><span class="string" id="7141221">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7141253">,</span>&nbsp;<span class="ident" id="7141255">test</span><span class="op" id="7141259">.</span><span class="ident" id="7141260">addrsStr</span><span class="op" id="7141268">,</span>&nbsp;<span class="ident" id="7141270">err</span><span class="op" id="7141273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141279">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141291">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141296">if</span>&nbsp;<span class="op" id="7141299">!</span><span class="ident" id="7141300">reflect</span><span class="op" id="7141307">.</span><span class="ident" id="7141308">DeepEqual</span><span class="op" id="7141317">(</span><span class="op" id="7141318">[</span><span class="op" id="7141319">]</span><span class="op" id="7141320">*</span><span class="ident" id="7141321">Address</span><span class="op" id="7141328">{</span><span class="ident" id="7141329">addr</span><span class="op" id="7141333">}</span><span class="op" id="7141334">,</span>&nbsp;<span class="ident" id="7141336">test</span><span class="op" id="7141340">.</span><span class="ident" id="7141341">exp</span><span class="op" id="7141344">)</span>&nbsp;<span class="op" id="7141346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141352">t</span><span class="op" id="7141353">.</span><span class="ident" id="7141354">Errorf</span><span class="op" id="7141360">(</span><span class="string" id="7141361">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7141402">,</span>&nbsp;<span class="ident" id="7141404">test</span><span class="op" id="7141408">.</span><span class="ident" id="7141409">addrsStr</span><span class="op" id="7141417">,</span>&nbsp;<span class="ident" id="7141419">addr</span><span class="op" id="7141423">,</span>&nbsp;<span class="ident" id="7141425">test</span><span class="op" id="7141429">.</span><span class="ident" id="7141430">exp</span><span class="op" id="7141433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141447">addrs</span><span class="op" id="7141452">,</span>&nbsp;<span class="ident" id="7141454">err</span>&nbsp;<span class="op" id="7141458">:=</span>&nbsp;<span class="ident" id="7141461">ParseAddressList</span><span class="op" id="7141477">(</span><span class="ident" id="7141478">test</span><span class="op" id="7141482">.</span><span class="ident" id="7141483">addrsStr</span><span class="op" id="7141491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141495">if</span>&nbsp;<span class="ident" id="7141498">err</span>&nbsp;<span class="op" id="7141502">!=</span>&nbsp;<span class="ident" id="7141505">nil</span>&nbsp;<span class="op" id="7141509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141514">t</span><span class="op" id="7141515">.</span><span class="ident" id="7141516">Errorf</span><span class="op" id="7141522">(</span><span class="string" id="7141523">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7141553">,</span>&nbsp;<span class="ident" id="7141555">test</span><span class="op" id="7141559">.</span><span class="ident" id="7141560">addrsStr</span><span class="op" id="7141568">,</span>&nbsp;<span class="ident" id="7141570">err</span><span class="op" id="7141573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141578">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141589">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141593">if</span>&nbsp;<span class="op" id="7141596">!</span><span class="ident" id="7141597">reflect</span><span class="op" id="7141604">.</span><span class="ident" id="7141605">DeepEqual</span><span class="op" id="7141614">(</span><span class="ident" id="7141615">addrs</span><span class="op" id="7141620">,</span>&nbsp;<span class="ident" id="7141622">test</span><span class="op" id="7141626">.</span><span class="ident" id="7141627">exp</span><span class="op" id="7141630">)</span>&nbsp;<span class="op" id="7141632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141637">t</span><span class="op" id="7141638">.</span><span class="ident" id="7141639">Errorf</span><span class="op" id="7141645">(</span><span class="string" id="7141646">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7141685">,</span>&nbsp;<span class="ident" id="7141687">test</span><span class="op" id="7141691">.</span><span class="ident" id="7141692">addrsStr</span><span class="op" id="7141700">,</span>&nbsp;<span class="ident" id="7141702">addrs</span><span class="op" id="7141707">,</span>&nbsp;<span class="ident" id="7141709">test</span><span class="op" id="7141713">.</span><span class="ident" id="7141714">exp</span><span class="op" id="7141717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141724">}</span><br>
<span class="lineno"></span><span class="op" id="7141726">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7141729">func</span>&nbsp;<span class="ident" id="7141734">TestAddressFormatting</span><span class="op" id="7141755">(</span><span class="ident" id="7141756">t</span>&nbsp;<span class="op" id="7141758">*</span><span class="ident" id="7141759">testing</span><span class="op" id="7141766">.</span><span class="ident" id="7141767">T</span><span class="op" id="7141768">)</span>&nbsp;<span class="op" id="7141770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141773">tests</span>&nbsp;<span class="op" id="7141779">:=</span>&nbsp;<span class="op" id="7141782">[</span><span class="op" id="7141783">]</span><span class="keyword" id="7141784">struct</span>&nbsp;<span class="op" id="7141791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141795">addr</span>&nbsp;<span class="op" id="7141800">*</span><span class="ident" id="7141801">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141811">exp</span>&nbsp;&nbsp;<span class="builtintype" id="7141816">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141824">}</span><span class="op" id="7141825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141834">&amp;</span><span class="ident" id="7141835">Address</span><span class="op" id="7141842">{</span><span class="ident" id="7141843">Address</span><span class="op" id="7141850">:</span>&nbsp;<span class="string" id="7141852">&#34;bob@example.com&#34;</span><span class="op" id="7141869">}</span><span class="op" id="7141870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7141875">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="7141894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141898">}</span><span class="op" id="7141899">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141908">&amp;</span><span class="ident" id="7141909">Address</span><span class="op" id="7141916">{</span><span class="ident" id="7141917">Name</span><span class="op" id="7141921">:</span>&nbsp;<span class="string" id="7141923">&#34;Bob&#34;</span><span class="op" id="7141928">,</span>&nbsp;<span class="ident" id="7141930">Address</span><span class="op" id="7141937">:</span>&nbsp;<span class="string" id="7141939">&#34;bob@example.com&#34;</span><span class="op" id="7141956">}</span><span class="op" id="7141957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7141962">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7141987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141991">}</span><span class="op" id="7141992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141996">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142001">//&nbsp;note&nbsp;the&nbsp;&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142038">&amp;</span><span class="ident" id="7142039">Address</span><span class="op" id="7142046">{</span><span class="ident" id="7142047">Name</span><span class="op" id="7142051">:</span>&nbsp;<span class="string" id="7142053">&#34;Bb&#34;</span><span class="op" id="7142059">,</span>&nbsp;<span class="ident" id="7142061">Address</span><span class="op" id="7142068">:</span>&nbsp;<span class="string" id="7142070">&#34;bob@example.com&#34;</span><span class="op" id="7142087">}</span><span class="op" id="7142088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7142093">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7142133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142137">}</span><span class="op" id="7142138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142142">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142147">&amp;</span><span class="ident" id="7142148">Address</span><span class="op" id="7142155">{</span><span class="ident" id="7142156">Name</span><span class="op" id="7142160">:</span>&nbsp;<span class="string" id="7142162">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="7142172">,</span>&nbsp;<span class="ident" id="7142174">Address</span><span class="op" id="7142181">:</span>&nbsp;<span class="string" id="7142183">&#34;bob@example.com&#34;</span><span class="op" id="7142200">}</span><span class="op" id="7142201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7142206">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7142236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142240">}</span><span class="op" id="7142241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142250">&amp;</span><span class="ident" id="7142251">Address</span><span class="op" id="7142258">{</span><span class="ident" id="7142259">Name</span><span class="op" id="7142263">:</span>&nbsp;<span class="string" id="7142265">&#34;Bb&nbsp;Jacb&#34;</span><span class="op" id="7142278">,</span>&nbsp;<span class="ident" id="7142280">Address</span><span class="op" id="7142287">:</span>&nbsp;<span class="string" id="7142289">&#34;bob@example.com&#34;</span><span class="op" id="7142306">}</span><span class="op" id="7142307">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7142312">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7142363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142367">}</span><span class="op" id="7142368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7142374">for</span>&nbsp;<span class="ident" id="7142378">_</span><span class="op" id="7142379">,</span>&nbsp;<span class="ident" id="7142381">test</span>&nbsp;<span class="op" id="7142386">:=</span>&nbsp;<span class="keyword" id="7142389">range</span>&nbsp;<span class="ident" id="7142395">tests</span>&nbsp;<span class="op" id="7142401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142405">s</span>&nbsp;<span class="op" id="7142407">:=</span>&nbsp;<span class="ident" id="7142410">test</span><span class="op" id="7142414">.</span><span class="ident" id="7142415">addr</span><span class="op" id="7142419">.</span><span class="ident" id="7142420">String</span><span class="op" id="7142426">(</span><span class="op" id="7142427">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7142431">if</span>&nbsp;<span class="ident" id="7142434">s</span>&nbsp;<span class="op" id="7142436">!=</span>&nbsp;<span class="ident" id="7142439">test</span><span class="op" id="7142443">.</span><span class="ident" id="7142444">exp</span>&nbsp;<span class="op" id="7142448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142453">t</span><span class="op" id="7142454">.</span><span class="ident" id="7142455">Errorf</span><span class="op" id="7142461">(</span><span class="string" id="7142462">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7142497">,</span>&nbsp;<span class="op" id="7142499">*</span><span class="ident" id="7142500">test</span><span class="op" id="7142504">.</span><span class="ident" id="7142505">addr</span><span class="op" id="7142509">,</span>&nbsp;<span class="ident" id="7142511">s</span><span class="op" id="7142512">,</span>&nbsp;<span class="ident" id="7142514">test</span><span class="op" id="7142518">.</span><span class="ident" id="7142519">exp</span><span class="op" id="7142522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142529">}</span><br>
<span class="lineno"></span><span class="op" id="7142531">}</span>
</div>
</body>
</html>
