<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4766365">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4766420">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4766474">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4766525">package</span>&nbsp;<span class="ident" id="4766533">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4766539">import</span>&nbsp;<span class="op" id="4766546">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4766549">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4766558">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4766573">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4766576">const</span>&nbsp;<span class="op" id="4766582">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766585">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4766598">=</span>&nbsp;<span class="op" id="4766600">^</span><span class="builtintype" id="4766601">byte</span><span class="op" id="4766605">(</span><span class="num" id="4766606">0x20</span><span class="op" id="4766610">)</span>&nbsp;<span class="comment" id="4766612">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766646">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4766659">=</span>&nbsp;<span class="string" id="4766661">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766671">smallLongEss</span>&nbsp;<span class="op" id="4766684">=</span>&nbsp;<span class="string" id="4766686">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="4766695">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4766698">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="4766765">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="4766820">//</span><br>
<span class="lineno"></span><span class="comment" id="4766823">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="4766888">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="4766967">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="4767040">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="4767098">//</span><br>
<span class="lineno"></span><span class="comment" id="4767101">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="4767177">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="4767240">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="4767290">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="4767333">//</span><br>
<span class="lineno"></span><span class="comment" id="4767336">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4767403">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="4767472">func</span>&nbsp;<span class="ident" id="4767477">foldFunc</span><span class="op" id="4767485">(</span><span class="ident" id="4767486">s</span>&nbsp;<span class="op" id="4767488">[</span><span class="op" id="4767489">]</span><span class="builtintype" id="4767490">byte</span><span class="op" id="4767494">)</span>&nbsp;<span class="keyword" id="4767496">func</span><span class="op" id="4767500">(</span><span class="ident" id="4767501">s</span><span class="op" id="4767502">,</span>&nbsp;<span class="ident" id="4767504">t</span>&nbsp;<span class="op" id="4767506">[</span><span class="op" id="4767507">]</span><span class="builtintype" id="4767508">byte</span><span class="op" id="4767512">)</span>&nbsp;<span class="builtintype" id="4767514">bool</span>&nbsp;<span class="op" id="4767519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767522">nonLetter</span>&nbsp;<span class="op" id="4767532">:=</span>&nbsp;<span class="ident" id="4767535">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767542">special</span>&nbsp;<span class="op" id="4767550">:=</span>&nbsp;<span class="ident" id="4767553">false</span>&nbsp;<span class="comment" id="4767559">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767578">for</span>&nbsp;<span class="ident" id="4767582">_</span><span class="op" id="4767583">,</span>&nbsp;<span class="ident" id="4767585">b</span>&nbsp;<span class="op" id="4767587">:=</span>&nbsp;<span class="keyword" id="4767590">range</span>&nbsp;<span class="ident" id="4767596">s</span>&nbsp;<span class="op" id="4767598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767602">if</span>&nbsp;<span class="ident" id="4767605">b</span>&nbsp;<span class="op" id="4767607">&gt;=</span>&nbsp;<span class="ident" id="4767610">utf8</span><span class="op" id="4767614">.</span><span class="ident" id="4767615">RuneSelf</span>&nbsp;<span class="op" id="4767624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767629">return</span>&nbsp;<span class="ident" id="4767636">bytes</span><span class="op" id="4767641">.</span><span class="ident" id="4767642">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767654">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767658">upper</span>&nbsp;<span class="op" id="4767664">:=</span>&nbsp;<span class="ident" id="4767667">b</span>&nbsp;<span class="op" id="4767669">&amp;</span>&nbsp;<span class="ident" id="4767671">caseMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767682">if</span>&nbsp;<span class="ident" id="4767685">upper</span>&nbsp;<span class="op" id="4767691">&lt;</span>&nbsp;<span class="string" id="4767693">&#39;A&#39;</span>&nbsp;<span class="op" id="4767697">||</span>&nbsp;<span class="ident" id="4767700">upper</span>&nbsp;<span class="op" id="4767706">&gt;</span>&nbsp;<span class="string" id="4767708">&#39;Z&#39;</span>&nbsp;<span class="op" id="4767712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767717">nonLetter</span>&nbsp;<span class="op" id="4767727">=</span>&nbsp;<span class="ident" id="4767729">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767736">}</span>&nbsp;<span class="keyword" id="4767738">else</span>&nbsp;<span class="keyword" id="4767743">if</span>&nbsp;<span class="ident" id="4767746">upper</span>&nbsp;<span class="op" id="4767752">==</span>&nbsp;<span class="string" id="4767755">&#39;K&#39;</span>&nbsp;<span class="op" id="4767759">||</span>&nbsp;<span class="ident" id="4767762">upper</span>&nbsp;<span class="op" id="4767768">==</span>&nbsp;<span class="string" id="4767771">&#39;S&#39;</span>&nbsp;<span class="op" id="4767775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4767780">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767831">special</span>&nbsp;<span class="op" id="4767839">=</span>&nbsp;<span class="ident" id="4767841">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767854">if</span>&nbsp;<span class="ident" id="4767857">special</span>&nbsp;<span class="op" id="4767865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767869">return</span>&nbsp;<span class="ident" id="4767876">equalFoldRight</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767895">if</span>&nbsp;<span class="ident" id="4767898">nonLetter</span>&nbsp;<span class="op" id="4767908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767912">return</span>&nbsp;<span class="ident" id="4767919">asciiEqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767938">return</span>&nbsp;<span class="ident" id="4767945">simpleLetterEqualFold</span><br>
<span class="lineno">55</span><span class="op" id="4767967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4767970">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4768037">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="4768108">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="4768173">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4768202">func</span>&nbsp;<span class="ident" id="4768207">equalFoldRight</span><span class="op" id="4768221">(</span><span class="ident" id="4768222">s</span><span class="op" id="4768223">,</span>&nbsp;<span class="ident" id="4768225">t</span>&nbsp;<span class="op" id="4768227">[</span><span class="op" id="4768228">]</span><span class="builtintype" id="4768229">byte</span><span class="op" id="4768233">)</span>&nbsp;<span class="builtintype" id="4768235">bool</span>&nbsp;<span class="op" id="4768240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768243">for</span>&nbsp;<span class="ident" id="4768247">_</span><span class="op" id="4768248">,</span>&nbsp;<span class="ident" id="4768250">sb</span>&nbsp;<span class="op" id="4768253">:=</span>&nbsp;<span class="keyword" id="4768256">range</span>&nbsp;<span class="ident" id="4768262">s</span>&nbsp;<span class="op" id="4768264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768268">if</span>&nbsp;<span class="builtinfunc" id="4768271">len</span><span class="op" id="4768274">(</span><span class="ident" id="4768275">t</span><span class="op" id="4768276">)</span>&nbsp;<span class="op" id="4768278">==</span>&nbsp;<span class="num" id="4768281">0</span>&nbsp;<span class="op" id="4768283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768288">return</span>&nbsp;<span class="ident" id="4768295">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768307">tb</span>&nbsp;<span class="op" id="4768310">:=</span>&nbsp;<span class="ident" id="4768313">t</span><span class="op" id="4768314">[</span><span class="num" id="4768315">0</span><span class="op" id="4768316">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768320">if</span>&nbsp;<span class="ident" id="4768323">tb</span>&nbsp;<span class="op" id="4768326">&lt;</span>&nbsp;<span class="ident" id="4768328">utf8</span><span class="op" id="4768332">.</span><span class="ident" id="4768333">RuneSelf</span>&nbsp;<span class="op" id="4768342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768347">if</span>&nbsp;<span class="ident" id="4768350">sb</span>&nbsp;<span class="op" id="4768353">!=</span>&nbsp;<span class="ident" id="4768356">tb</span>&nbsp;<span class="op" id="4768359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768365">sbUpper</span>&nbsp;<span class="op" id="4768373">:=</span>&nbsp;<span class="ident" id="4768376">sb</span>&nbsp;<span class="op" id="4768379">&amp;</span>&nbsp;<span class="ident" id="4768381">caseMask</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768394">if</span>&nbsp;<span class="string" id="4768397">&#39;A&#39;</span>&nbsp;<span class="op" id="4768401">&lt;=</span>&nbsp;<span class="ident" id="4768404">sbUpper</span>&nbsp;<span class="op" id="4768412">&amp;&amp;</span>&nbsp;<span class="ident" id="4768415">sbUpper</span>&nbsp;<span class="op" id="4768423">&lt;=</span>&nbsp;<span class="string" id="4768426">&#39;Z&#39;</span>&nbsp;<span class="op" id="4768430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768437">if</span>&nbsp;<span class="ident" id="4768440">sbUpper</span>&nbsp;<span class="op" id="4768448">!=</span>&nbsp;<span class="ident" id="4768451">tb</span><span class="op" id="4768453">&amp;</span><span class="ident" id="4768454">caseMask</span>&nbsp;<span class="op" id="4768463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768471">return</span>&nbsp;<span class="ident" id="4768478">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768495">}</span>&nbsp;<span class="keyword" id="4768497">else</span>&nbsp;<span class="op" id="4768502">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768509">return</span>&nbsp;<span class="ident" id="4768516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768536">t</span>&nbsp;<span class="op" id="4768538">=</span>&nbsp;<span class="ident" id="4768540">t</span><span class="op" id="4768541">[</span><span class="num" id="4768542">1</span><span class="op" id="4768543">:</span><span class="op" id="4768544">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768549">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4768564">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4768619">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768666">tr</span><span class="op" id="4768668">,</span>&nbsp;<span class="ident" id="4768670">size</span>&nbsp;<span class="op" id="4768675">:=</span>&nbsp;<span class="ident" id="4768678">utf8</span><span class="op" id="4768682">.</span><span class="ident" id="4768683">DecodeRune</span><span class="op" id="4768693">(</span><span class="ident" id="4768694">t</span><span class="op" id="4768695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768699">switch</span>&nbsp;<span class="ident" id="4768706">sb</span>&nbsp;<span class="op" id="4768709">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768713">case</span>&nbsp;<span class="string" id="4768718">&#39;s&#39;</span><span class="op" id="4768721">,</span>&nbsp;<span class="string" id="4768723">&#39;S&#39;</span><span class="op" id="4768726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768731">if</span>&nbsp;<span class="ident" id="4768734">tr</span>&nbsp;<span class="op" id="4768737">!=</span>&nbsp;<span class="ident" id="4768740">smallLongEss</span>&nbsp;<span class="op" id="4768753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768759">return</span>&nbsp;<span class="ident" id="4768766">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768779">case</span>&nbsp;<span class="string" id="4768784">&#39;k&#39;</span><span class="op" id="4768787">,</span>&nbsp;<span class="string" id="4768789">&#39;K&#39;</span><span class="op" id="4768792">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768797">if</span>&nbsp;<span class="ident" id="4768800">tr</span>&nbsp;<span class="op" id="4768803">!=</span>&nbsp;<span class="ident" id="4768806">kelvin</span>&nbsp;<span class="op" id="4768813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768819">return</span>&nbsp;<span class="ident" id="4768826">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768839">default</span><span class="op" id="4768846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768851">return</span>&nbsp;<span class="ident" id="4768858">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768870">t</span>&nbsp;<span class="op" id="4768872">=</span>&nbsp;<span class="ident" id="4768874">t</span><span class="op" id="4768875">[</span><span class="ident" id="4768876">size</span><span class="op" id="4768880">:</span><span class="op" id="4768881">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768888">if</span>&nbsp;<span class="builtinfunc" id="4768891">len</span><span class="op" id="4768894">(</span><span class="ident" id="4768895">t</span><span class="op" id="4768896">)</span>&nbsp;<span class="op" id="4768898">&gt;</span>&nbsp;<span class="num" id="4768900">0</span>&nbsp;<span class="op" id="4768902">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768906">return</span>&nbsp;<span class="ident" id="4768913">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768923">return</span>&nbsp;<span class="ident" id="4768930">true</span><br>
<span class="lineno"></span><span class="op" id="4768935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4768938">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="4769008">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="4769072">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="4769100">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4769129">func</span>&nbsp;<span class="ident" id="4769134">asciiEqualFold</span><span class="op" id="4769148">(</span><span class="ident" id="4769149">s</span><span class="op" id="4769150">,</span>&nbsp;<span class="ident" id="4769152">t</span>&nbsp;<span class="op" id="4769154">[</span><span class="op" id="4769155">]</span><span class="builtintype" id="4769156">byte</span><span class="op" id="4769160">)</span>&nbsp;<span class="builtintype" id="4769162">bool</span>&nbsp;<span class="op" id="4769167">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769170">if</span>&nbsp;<span class="builtinfunc" id="4769173">len</span><span class="op" id="4769176">(</span><span class="ident" id="4769177">s</span><span class="op" id="4769178">)</span>&nbsp;<span class="op" id="4769180">!=</span>&nbsp;<span class="builtinfunc" id="4769183">len</span><span class="op" id="4769186">(</span><span class="ident" id="4769187">t</span><span class="op" id="4769188">)</span>&nbsp;<span class="op" id="4769190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769194">return</span>&nbsp;<span class="ident" id="4769201">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769211">for</span>&nbsp;<span class="ident" id="4769215">i</span><span class="op" id="4769216">,</span>&nbsp;<span class="ident" id="4769218">sb</span>&nbsp;<span class="op" id="4769221">:=</span>&nbsp;<span class="keyword" id="4769224">range</span>&nbsp;<span class="ident" id="4769230">s</span>&nbsp;<span class="op" id="4769232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769236">tb</span>&nbsp;<span class="op" id="4769239">:=</span>&nbsp;<span class="ident" id="4769242">t</span><span class="op" id="4769243">[</span><span class="ident" id="4769244">i</span><span class="op" id="4769245">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769249">if</span>&nbsp;<span class="ident" id="4769252">sb</span>&nbsp;<span class="op" id="4769255">==</span>&nbsp;<span class="ident" id="4769258">tb</span>&nbsp;<span class="op" id="4769261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769266">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769281">if</span>&nbsp;<span class="op" id="4769284">(</span><span class="string" id="4769285">&#39;a&#39;</span>&nbsp;<span class="op" id="4769289">&lt;=</span>&nbsp;<span class="ident" id="4769292">sb</span>&nbsp;<span class="op" id="4769295">&amp;&amp;</span>&nbsp;<span class="ident" id="4769298">sb</span>&nbsp;<span class="op" id="4769301">&lt;=</span>&nbsp;<span class="string" id="4769304">&#39;z&#39;</span><span class="op" id="4769307">)</span>&nbsp;<span class="op" id="4769309">||</span>&nbsp;<span class="op" id="4769312">(</span><span class="string" id="4769313">&#39;A&#39;</span>&nbsp;<span class="op" id="4769317">&lt;=</span>&nbsp;<span class="ident" id="4769320">sb</span>&nbsp;<span class="op" id="4769323">&amp;&amp;</span>&nbsp;<span class="ident" id="4769326">sb</span>&nbsp;<span class="op" id="4769329">&lt;=</span>&nbsp;<span class="string" id="4769332">&#39;Z&#39;</span><span class="op" id="4769335">)</span>&nbsp;<span class="op" id="4769337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769342">if</span>&nbsp;<span class="ident" id="4769345">sb</span><span class="op" id="4769347">&amp;</span><span class="ident" id="4769348">caseMask</span>&nbsp;<span class="op" id="4769357">!=</span>&nbsp;<span class="ident" id="4769360">tb</span><span class="op" id="4769362">&amp;</span><span class="ident" id="4769363">caseMask</span>&nbsp;<span class="op" id="4769372">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769378">return</span>&nbsp;<span class="ident" id="4769385">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769398">}</span>&nbsp;<span class="keyword" id="4769400">else</span>&nbsp;<span class="op" id="4769405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769410">return</span>&nbsp;<span class="ident" id="4769417">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769425">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769431">return</span>&nbsp;<span class="ident" id="4769438">true</span><br>
<span class="lineno"></span><span class="op" id="4769443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4769446">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="4769514">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="4769580">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="4769622">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4769651">func</span>&nbsp;<span class="ident" id="4769656">simpleLetterEqualFold</span><span class="op" id="4769677">(</span><span class="ident" id="4769678">s</span><span class="op" id="4769679">,</span>&nbsp;<span class="ident" id="4769681">t</span>&nbsp;<span class="op" id="4769683">[</span><span class="op" id="4769684">]</span><span class="builtintype" id="4769685">byte</span><span class="op" id="4769689">)</span>&nbsp;<span class="builtintype" id="4769691">bool</span>&nbsp;<span class="op" id="4769696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769699">if</span>&nbsp;<span class="builtinfunc" id="4769702">len</span><span class="op" id="4769705">(</span><span class="ident" id="4769706">s</span><span class="op" id="4769707">)</span>&nbsp;<span class="op" id="4769709">!=</span>&nbsp;<span class="builtinfunc" id="4769712">len</span><span class="op" id="4769715">(</span><span class="ident" id="4769716">t</span><span class="op" id="4769717">)</span>&nbsp;<span class="op" id="4769719">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769723">return</span>&nbsp;<span class="ident" id="4769730">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769740">for</span>&nbsp;<span class="ident" id="4769744">i</span><span class="op" id="4769745">,</span>&nbsp;<span class="ident" id="4769747">b</span>&nbsp;<span class="op" id="4769749">:=</span>&nbsp;<span class="keyword" id="4769752">range</span>&nbsp;<span class="ident" id="4769758">s</span>&nbsp;<span class="op" id="4769760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769764">if</span>&nbsp;<span class="ident" id="4769767">b</span><span class="op" id="4769768">&amp;</span><span class="ident" id="4769769">caseMask</span>&nbsp;<span class="op" id="4769778">!=</span>&nbsp;<span class="ident" id="4769781">t</span><span class="op" id="4769782">[</span><span class="ident" id="4769783">i</span><span class="op" id="4769784">]</span><span class="op" id="4769785">&amp;</span><span class="ident" id="4769786">caseMask</span>&nbsp;<span class="op" id="4769795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769800">return</span>&nbsp;<span class="ident" id="4769807">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769821">return</span>&nbsp;<span class="ident" id="4769828">true</span><br>
<span class="lineno"></span><span class="op" id="4769833">}</span>
</div>
</body>
</html>
