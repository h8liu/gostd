<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7784516">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7784571">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7784625">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7784676">package</span>&nbsp;<span class="ident" id="7784684">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7784690">import</span>&nbsp;<span class="op" id="7784697">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7784700">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7784713">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7784719">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7784736">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7784746">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7784749">func</span>&nbsp;<span class="ident" id="7784754">checker</span><span class="op" id="7784761">(</span><span class="ident" id="7784762">t</span>&nbsp;<span class="op" id="7784764">*</span><span class="ident" id="7784765">testing</span><span class="op" id="7784772">.</span><span class="ident" id="7784773">T</span><span class="op" id="7784774">)</span>&nbsp;<span class="keyword" id="7784776">func</span><span class="op" id="7784780">(</span><span class="builtintype" id="7784781">string</span><span class="op" id="7784787">,</span>&nbsp;<span class="builtintype" id="7784789">error</span><span class="op" id="7784794">)</span>&nbsp;<span class="op" id="7784796">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784799">return</span>&nbsp;<span class="keyword" id="7784806">func</span><span class="op" id="7784810">(</span><span class="ident" id="7784811">call</span>&nbsp;<span class="builtintype" id="7784816">string</span><span class="op" id="7784822">,</span>&nbsp;<span class="ident" id="7784824">err</span>&nbsp;<span class="builtintype" id="7784828">error</span><span class="op" id="7784833">)</span>&nbsp;<span class="op" id="7784835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784839">if</span>&nbsp;<span class="ident" id="7784842">err</span>&nbsp;<span class="op" id="7784846">==</span>&nbsp;<span class="ident" id="7784849">nil</span>&nbsp;<span class="op" id="7784853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784858">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7784867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784871">t</span><span class="op" id="7784872">.</span><span class="ident" id="7784873">Fatalf</span><span class="op" id="7784879">(</span><span class="string" id="7784880">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="7784888">,</span>&nbsp;<span class="ident" id="7784890">call</span><span class="op" id="7784894">,</span>&nbsp;<span class="ident" id="7784896">err</span><span class="op" id="7784899">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7784902">}</span><br>
<span class="lineno"></span><span class="op" id="7784904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7784907">func</span>&nbsp;<span class="ident" id="7784912">TestFileTransport</span><span class="op" id="7784929">(</span><span class="ident" id="7784930">t</span>&nbsp;<span class="op" id="7784932">*</span><span class="ident" id="7784933">testing</span><span class="op" id="7784940">.</span><span class="ident" id="7784941">T</span><span class="op" id="7784942">)</span>&nbsp;<span class="op" id="7784944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784947">check</span>&nbsp;<span class="op" id="7784953">:=</span>&nbsp;<span class="ident" id="7784956">checker</span><span class="op" id="7784963">(</span><span class="ident" id="7784964">t</span><span class="op" id="7784965">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784969">dname</span><span class="op" id="7784974">,</span>&nbsp;<span class="ident" id="7784976">err</span>&nbsp;<span class="op" id="7784980">:=</span>&nbsp;<span class="ident" id="7784983">ioutil</span><span class="op" id="7784989">.</span><span class="ident" id="7784990">TempDir</span><span class="op" id="7784997">(</span><span class="string" id="7784998">&#34;&#34;</span><span class="op" id="7785000">,</span>&nbsp;<span class="string" id="7785002">&#34;&#34;</span><span class="op" id="7785004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785007">check</span><span class="op" id="7785012">(</span><span class="string" id="7785013">&#34;TempDir&#34;</span><span class="op" id="7785022">,</span>&nbsp;<span class="ident" id="7785024">err</span><span class="op" id="7785027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785030">fname</span>&nbsp;<span class="op" id="7785036">:=</span>&nbsp;<span class="ident" id="7785039">filepath</span><span class="op" id="7785047">.</span><span class="ident" id="7785048">Join</span><span class="op" id="7785052">(</span><span class="ident" id="7785053">dname</span><span class="op" id="7785058">,</span>&nbsp;<span class="string" id="7785060">&#34;foo.txt&#34;</span><span class="op" id="7785069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785072">err</span>&nbsp;<span class="op" id="7785076">=</span>&nbsp;<span class="ident" id="7785078">ioutil</span><span class="op" id="7785084">.</span><span class="ident" id="7785085">WriteFile</span><span class="op" id="7785094">(</span><span class="ident" id="7785095">fname</span><span class="op" id="7785100">,</span>&nbsp;<span class="op" id="7785102">[</span><span class="op" id="7785103">]</span><span class="builtintype" id="7785104">byte</span><span class="op" id="7785108">(</span><span class="string" id="7785109">&#34;Bar&#34;</span><span class="op" id="7785114">)</span><span class="op" id="7785115">,</span>&nbsp;<span class="num" id="7785117">0644</span><span class="op" id="7785121">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785124">check</span><span class="op" id="7785129">(</span><span class="string" id="7785130">&#34;WriteFile&#34;</span><span class="op" id="7785141">,</span>&nbsp;<span class="ident" id="7785143">err</span><span class="op" id="7785146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785149">defer</span>&nbsp;<span class="ident" id="7785155">os</span><span class="op" id="7785157">.</span><span class="ident" id="7785158">Remove</span><span class="op" id="7785164">(</span><span class="ident" id="7785165">dname</span><span class="op" id="7785170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785173">defer</span>&nbsp;<span class="ident" id="7785179">os</span><span class="op" id="7785181">.</span><span class="ident" id="7785182">Remove</span><span class="op" id="7785188">(</span><span class="ident" id="7785189">fname</span><span class="op" id="7785194">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785198">tr</span>&nbsp;<span class="op" id="7785201">:=</span>&nbsp;<span class="op" id="7785204">&amp;</span><span class="ident" id="7785205">Transport</span><span class="op" id="7785214">{</span><span class="op" id="7785215">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785218">tr</span><span class="op" id="7785220">.</span><span class="ident" id="7785221">RegisterProtocol</span><span class="op" id="7785237">(</span><span class="string" id="7785238">&#34;file&#34;</span><span class="op" id="7785244">,</span>&nbsp;<span class="ident" id="7785246">NewFileTransport</span><span class="op" id="7785262">(</span><span class="ident" id="7785263">Dir</span><span class="op" id="7785266">(</span><span class="ident" id="7785267">dname</span><span class="op" id="7785272">)</span><span class="op" id="7785273">)</span><span class="op" id="7785274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785277">c</span>&nbsp;<span class="op" id="7785279">:=</span>&nbsp;<span class="op" id="7785282">&amp;</span><span class="ident" id="7785283">Client</span><span class="op" id="7785289">{</span><span class="ident" id="7785290">Transport</span><span class="op" id="7785299">:</span>&nbsp;<span class="ident" id="7785301">tr</span><span class="op" id="7785303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785307">fooURLs</span>&nbsp;<span class="op" id="7785315">:=</span>&nbsp;<span class="op" id="7785318">[</span><span class="op" id="7785319">]</span><span class="builtintype" id="7785320">string</span><span class="op" id="7785326">{</span><span class="string" id="7785327">&#34;file:///foo.txt&#34;</span><span class="op" id="7785344">,</span>&nbsp;<span class="string" id="7785346">&#34;file://../foo.txt&#34;</span><span class="op" id="7785365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785368">for</span>&nbsp;<span class="ident" id="7785372">_</span><span class="op" id="7785373">,</span>&nbsp;<span class="ident" id="7785375">urlstr</span>&nbsp;<span class="op" id="7785382">:=</span>&nbsp;<span class="keyword" id="7785385">range</span>&nbsp;<span class="ident" id="7785391">fooURLs</span>&nbsp;<span class="op" id="7785399">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785403">res</span><span class="op" id="7785406">,</span>&nbsp;<span class="ident" id="7785408">err</span>&nbsp;<span class="op" id="7785412">:=</span>&nbsp;<span class="ident" id="7785415">c</span><span class="op" id="7785416">.</span><span class="ident" id="7785417">Get</span><span class="op" id="7785420">(</span><span class="ident" id="7785421">urlstr</span><span class="op" id="7785427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785431">check</span><span class="op" id="7785436">(</span><span class="string" id="7785437">&#34;Get&nbsp;&#34;</span><span class="op" id="7785443">+</span><span class="ident" id="7785444">urlstr</span><span class="op" id="7785450">,</span>&nbsp;<span class="ident" id="7785452">err</span><span class="op" id="7785455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785459">if</span>&nbsp;<span class="ident" id="7785462">res</span><span class="op" id="7785465">.</span><span class="ident" id="7785466">StatusCode</span>&nbsp;<span class="op" id="7785477">!=</span>&nbsp;<span class="num" id="7785480">200</span>&nbsp;<span class="op" id="7785484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785489">t</span><span class="op" id="7785490">.</span><span class="ident" id="7785491">Errorf</span><span class="op" id="7785497">(</span><span class="string" id="7785498">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="7785533">,</span>&nbsp;<span class="ident" id="7785535">urlstr</span><span class="op" id="7785541">,</span>&nbsp;<span class="ident" id="7785543">res</span><span class="op" id="7785546">.</span><span class="ident" id="7785547">StatusCode</span><span class="op" id="7785557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785561">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785565">if</span>&nbsp;<span class="ident" id="7785568">res</span><span class="op" id="7785571">.</span><span class="ident" id="7785572">ContentLength</span>&nbsp;<span class="op" id="7785586">!=</span>&nbsp;<span class="op" id="7785589">-</span><span class="num" id="7785590">1</span>&nbsp;<span class="op" id="7785592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785597">t</span><span class="op" id="7785598">.</span><span class="ident" id="7785599">Errorf</span><span class="op" id="7785605">(</span><span class="string" id="7785606">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="7785643">,</span>&nbsp;<span class="ident" id="7785645">urlstr</span><span class="op" id="7785651">,</span>&nbsp;<span class="ident" id="7785653">res</span><span class="op" id="7785656">.</span><span class="ident" id="7785657">ContentLength</span><span class="op" id="7785670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785678">if</span>&nbsp;<span class="ident" id="7785681">res</span><span class="op" id="7785684">.</span><span class="ident" id="7785685">Body</span>&nbsp;<span class="op" id="7785690">==</span>&nbsp;<span class="ident" id="7785693">nil</span>&nbsp;<span class="op" id="7785697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785702">t</span><span class="op" id="7785703">.</span><span class="ident" id="7785704">Fatalf</span><span class="op" id="7785710">(</span><span class="string" id="7785711">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="7785729">,</span>&nbsp;<span class="ident" id="7785731">urlstr</span><span class="op" id="7785737">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785745">slurp</span><span class="op" id="7785750">,</span>&nbsp;<span class="ident" id="7785752">err</span>&nbsp;<span class="op" id="7785756">:=</span>&nbsp;<span class="ident" id="7785759">ioutil</span><span class="op" id="7785765">.</span><span class="ident" id="7785766">ReadAll</span><span class="op" id="7785773">(</span><span class="ident" id="7785774">res</span><span class="op" id="7785777">.</span><span class="ident" id="7785778">Body</span><span class="op" id="7785782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785786">check</span><span class="op" id="7785791">(</span><span class="string" id="7785792">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="7785802">+</span><span class="ident" id="7785803">urlstr</span><span class="op" id="7785809">,</span>&nbsp;<span class="ident" id="7785811">err</span><span class="op" id="7785814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785818">if</span>&nbsp;<span class="builtintype" id="7785821">string</span><span class="op" id="7785827">(</span><span class="ident" id="7785828">slurp</span><span class="op" id="7785833">)</span>&nbsp;<span class="op" id="7785835">!=</span>&nbsp;<span class="string" id="7785838">&#34;Bar&#34;</span>&nbsp;<span class="op" id="7785844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785849">t</span><span class="op" id="7785850">.</span><span class="ident" id="7785851">Errorf</span><span class="op" id="7785857">(</span><span class="string" id="7785858">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7785891">,</span>&nbsp;<span class="ident" id="7785893">urlstr</span><span class="op" id="7785899">,</span>&nbsp;<span class="builtintype" id="7785901">string</span><span class="op" id="7785907">(</span><span class="ident" id="7785908">slurp</span><span class="op" id="7785913">)</span><span class="op" id="7785914">,</span>&nbsp;<span class="string" id="7785916">&#34;Bar&#34;</span><span class="op" id="7785921">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785932">const</span>&nbsp;<span class="ident" id="7785938">badURL</span>&nbsp;<span class="op" id="7785945">=</span>&nbsp;<span class="string" id="7785947">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785973">res</span><span class="op" id="7785976">,</span>&nbsp;<span class="ident" id="7785978">err</span>&nbsp;<span class="op" id="7785982">:=</span>&nbsp;<span class="ident" id="7785985">c</span><span class="op" id="7785986">.</span><span class="ident" id="7785987">Get</span><span class="op" id="7785990">(</span><span class="ident" id="7785991">badURL</span><span class="op" id="7785997">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786000">check</span><span class="op" id="7786005">(</span><span class="string" id="7786006">&#34;Get&nbsp;&#34;</span><span class="op" id="7786012">+</span><span class="ident" id="7786013">badURL</span><span class="op" id="7786019">,</span>&nbsp;<span class="ident" id="7786021">err</span><span class="op" id="7786024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786027">if</span>&nbsp;<span class="ident" id="7786030">res</span><span class="op" id="7786033">.</span><span class="ident" id="7786034">StatusCode</span>&nbsp;<span class="op" id="7786045">!=</span>&nbsp;<span class="num" id="7786048">404</span>&nbsp;<span class="op" id="7786052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786056">t</span><span class="op" id="7786057">.</span><span class="ident" id="7786058">Errorf</span><span class="op" id="7786064">(</span><span class="string" id="7786065">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="7786100">,</span>&nbsp;<span class="ident" id="7786102">badURL</span><span class="op" id="7786108">,</span>&nbsp;<span class="ident" id="7786110">res</span><span class="op" id="7786113">.</span><span class="ident" id="7786114">StatusCode</span><span class="op" id="7786124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786130">res</span><span class="op" id="7786133">.</span><span class="ident" id="7786134">Body</span><span class="op" id="7786138">.</span><span class="ident" id="7786139">Close</span><span class="op" id="7786144">(</span><span class="op" id="7786145">)</span><br>
<span class="lineno">65</span><span class="op" id="7786147">}</span>
</div>
</body>
</html>
