<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1648661">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1648716">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1648770">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1648821">//&nbsp;Package&nbsp;io&nbsp;provides&nbsp;basic&nbsp;interfaces&nbsp;to&nbsp;I/O&nbsp;primitives.</span><br>
<span class="lineno"></span><span class="comment" id="1648880">//&nbsp;Its&nbsp;primary&nbsp;job&nbsp;is&nbsp;to&nbsp;wrap&nbsp;existing&nbsp;implementations&nbsp;of&nbsp;such&nbsp;primitives,</span><br>
<span class="lineno"></span><span class="comment" id="1648955">//&nbsp;such&nbsp;as&nbsp;those&nbsp;in&nbsp;package&nbsp;os,&nbsp;into&nbsp;shared&nbsp;public&nbsp;interfaces&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1649022">//&nbsp;abstract&nbsp;the&nbsp;functionality,&nbsp;plus&nbsp;some&nbsp;other&nbsp;related&nbsp;primitives.</span><br>
<span class="lineno"></span><span class="comment" id="1649089">//</span><br>
<span class="lineno">10</span><span class="comment" id="1649092">//&nbsp;Because&nbsp;these&nbsp;interfaces&nbsp;and&nbsp;primitives&nbsp;wrap&nbsp;lower-level&nbsp;operations&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="1649168">//&nbsp;various&nbsp;implementations,&nbsp;unless&nbsp;otherwise&nbsp;informed&nbsp;clients&nbsp;should&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="1649241">//&nbsp;assume&nbsp;they&nbsp;are&nbsp;safe&nbsp;for&nbsp;parallel&nbsp;execution.</span><br>
<span class="lineno"></span><span class="keyword" id="1649289">package</span>&nbsp;<span class="ident" id="1649297">io</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="1649301">import</span>&nbsp;<span class="op" id="1649308">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1649311">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="1649320">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649323">//&nbsp;ErrShortWrite&nbsp;means&nbsp;that&nbsp;a&nbsp;write&nbsp;accepted&nbsp;fewer&nbsp;bytes&nbsp;than&nbsp;requested</span><br>
<span class="lineno">20</span><span class="comment" id="1649395">//&nbsp;but&nbsp;failed&nbsp;to&nbsp;return&nbsp;an&nbsp;explicit&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1649438">var</span>&nbsp;<span class="ident" id="1649442">ErrShortWrite</span>&nbsp;<span class="op" id="1649456">=</span>&nbsp;<span class="ident" id="1649458"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1649464">.</span><span class="ident" id="1649465">New</span><span class="op" id="1649468">(</span><span class="string" id="1649469">&#34;short&nbsp;write&#34;</span><span class="op" id="1649482">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649485">//&nbsp;ErrShortBuffer&nbsp;means&nbsp;that&nbsp;a&nbsp;read&nbsp;required&nbsp;a&nbsp;longer&nbsp;buffer&nbsp;than&nbsp;was&nbsp;provided.</span><br>
<span class="lineno"></span><span class="keyword" id="1649565">var</span>&nbsp;<span class="ident" id="1649569">ErrShortBuffer</span>&nbsp;<span class="op" id="1649584">=</span>&nbsp;<span class="ident" id="1649586"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1649592">.</span><span class="ident" id="1649593">New</span><span class="op" id="1649596">(</span><span class="string" id="1649597">&#34;short&nbsp;buffer&#34;</span><span class="op" id="1649611">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1649614">//&nbsp;EOF&nbsp;is&nbsp;the&nbsp;error&nbsp;returned&nbsp;by&nbsp;Read&nbsp;when&nbsp;no&nbsp;more&nbsp;input&nbsp;is&nbsp;available.</span><br>
<span class="lineno"></span><span class="comment" id="1649684">//&nbsp;Functions&nbsp;should&nbsp;return&nbsp;EOF&nbsp;only&nbsp;to&nbsp;signal&nbsp;a&nbsp;graceful&nbsp;end&nbsp;of&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="1649755">//&nbsp;If&nbsp;the&nbsp;EOF&nbsp;occurs&nbsp;unexpectedly&nbsp;in&nbsp;a&nbsp;structured&nbsp;data&nbsp;stream,</span><br>
<span class="lineno"></span><span class="comment" id="1649818">//&nbsp;the&nbsp;appropriate&nbsp;error&nbsp;is&nbsp;either&nbsp;ErrUnexpectedEOF&nbsp;or&nbsp;some&nbsp;other&nbsp;error</span><br>
<span class="lineno">30</span><span class="comment" id="1649890">//&nbsp;giving&nbsp;more&nbsp;detail.</span><br>
<span class="lineno"></span><span class="keyword" id="1649913">var</span>&nbsp;<span class="ident" id="1649917">EOF</span>&nbsp;<span class="op" id="1649921">=</span>&nbsp;<span class="ident" id="1649923"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1649929">.</span><span class="ident" id="1649930">New</span><span class="op" id="1649933">(</span><span class="string" id="1649934">&#34;EOF&#34;</span><span class="op" id="1649939">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649942">//&nbsp;ErrUnexpectedEOF&nbsp;means&nbsp;that&nbsp;EOF&nbsp;was&nbsp;encountered&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1650000">//&nbsp;middle&nbsp;of&nbsp;reading&nbsp;a&nbsp;fixed-size&nbsp;block&nbsp;or&nbsp;data&nbsp;structure.</span><br>
<span class="lineno">35</span><span class="keyword" id="1650059">var</span>&nbsp;<span class="ident" id="1650063">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="1650080">=</span>&nbsp;<span class="ident" id="1650082"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1650088">.</span><span class="ident" id="1650089">New</span><span class="op" id="1650092">(</span><span class="string" id="1650093">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="1650109">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1650112">//&nbsp;ErrNoProgress&nbsp;is&nbsp;returned&nbsp;by&nbsp;some&nbsp;clients&nbsp;of&nbsp;an&nbsp;io.Reader&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1650178">//&nbsp;many&nbsp;calls&nbsp;to&nbsp;Read&nbsp;have&nbsp;failed&nbsp;to&nbsp;return&nbsp;any&nbsp;data&nbsp;or&nbsp;error,</span><br>
<span class="lineno"></span><span class="comment" id="1650241">//&nbsp;usually&nbsp;the&nbsp;sign&nbsp;of&nbsp;a&nbsp;broken&nbsp;io.Reader&nbsp;implementation.</span><br>
<span class="lineno">40</span><span class="keyword" id="1650299">var</span>&nbsp;<span class="ident" id="1650303">ErrNoProgress</span>&nbsp;<span class="op" id="1650317">=</span>&nbsp;<span class="ident" id="1650319"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1650325">.</span><span class="ident" id="1650326">New</span><span class="op" id="1650329">(</span><span class="string" id="1650330">&#34;multiple&nbsp;Read&nbsp;calls&nbsp;return&nbsp;no&nbsp;data&nbsp;or&nbsp;error&#34;</span><span class="op" id="1650375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1650378">//&nbsp;Reader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Read&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1650439">//</span><br>
<span class="lineno"></span><span class="comment" id="1650442">//&nbsp;Read&nbsp;reads&nbsp;up&nbsp;to&nbsp;len(p)&nbsp;bytes&nbsp;into&nbsp;p.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">45</span><span class="comment" id="1650515">//&nbsp;read&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered.&nbsp;&nbsp;Even&nbsp;if&nbsp;Read</span><br>
<span class="lineno"></span><span class="comment" id="1650583">//&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;may&nbsp;use&nbsp;all&nbsp;of&nbsp;p&nbsp;as&nbsp;scratch&nbsp;space&nbsp;during&nbsp;the&nbsp;call.</span><br>
<span class="lineno"></span><span class="comment" id="1650660">//&nbsp;If&nbsp;some&nbsp;data&nbsp;is&nbsp;available&nbsp;but&nbsp;not&nbsp;len(p)&nbsp;bytes,&nbsp;Read&nbsp;conventionally</span><br>
<span class="lineno"></span><span class="comment" id="1650731">//&nbsp;returns&nbsp;what&nbsp;is&nbsp;available&nbsp;instead&nbsp;of&nbsp;waiting&nbsp;for&nbsp;more.</span><br>
<span class="lineno"></span><span class="comment" id="1650789">//</span><br>
<span class="lineno">50</span><span class="comment" id="1650792">//&nbsp;When&nbsp;Read&nbsp;encounters&nbsp;an&nbsp;error&nbsp;or&nbsp;end-of-file&nbsp;condition&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="1650856">//&nbsp;successfully&nbsp;reading&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;bytes,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1650918">//&nbsp;bytes&nbsp;read.&nbsp;&nbsp;It&nbsp;may&nbsp;return&nbsp;the&nbsp;(non-nil)&nbsp;error&nbsp;from&nbsp;the&nbsp;same&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1650987">//&nbsp;or&nbsp;return&nbsp;the&nbsp;error&nbsp;(and&nbsp;n&nbsp;==&nbsp;0)&nbsp;from&nbsp;a&nbsp;subsequent&nbsp;call.</span><br>
<span class="lineno"></span><span class="comment" id="1651047">//&nbsp;An&nbsp;instance&nbsp;of&nbsp;this&nbsp;general&nbsp;case&nbsp;is&nbsp;that&nbsp;a&nbsp;Reader&nbsp;returning</span><br>
<span class="lineno">55</span><span class="comment" id="1651110">//&nbsp;a&nbsp;non-zero&nbsp;number&nbsp;of&nbsp;bytes&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;input&nbsp;stream&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="1651175">//&nbsp;return&nbsp;either&nbsp;err&nbsp;==&nbsp;EOF&nbsp;or&nbsp;err&nbsp;==&nbsp;nil.&nbsp;&nbsp;The&nbsp;next&nbsp;Read&nbsp;should</span><br>
<span class="lineno"></span><span class="comment" id="1651240">//&nbsp;return&nbsp;0,&nbsp;EOF&nbsp;regardless.</span><br>
<span class="lineno"></span><span class="comment" id="1651269">//</span><br>
<span class="lineno"></span><span class="comment" id="1651272">//&nbsp;Callers&nbsp;should&nbsp;always&nbsp;process&nbsp;the&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;bytes&nbsp;returned&nbsp;before</span><br>
<span class="lineno">60</span><span class="comment" id="1651337">//&nbsp;considering&nbsp;the&nbsp;error&nbsp;err.&nbsp;&nbsp;Doing&nbsp;so&nbsp;correctly&nbsp;handles&nbsp;I/O&nbsp;errors</span><br>
<span class="lineno"></span><span class="comment" id="1651406">//&nbsp;that&nbsp;happen&nbsp;after&nbsp;reading&nbsp;some&nbsp;bytes&nbsp;and&nbsp;also&nbsp;both&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1651467">//&nbsp;allowed&nbsp;EOF&nbsp;behaviors.</span><br>
<span class="lineno"></span><span class="comment" id="1651493">//</span><br>
<span class="lineno"></span><span class="comment" id="1651496">//&nbsp;Implementations&nbsp;of&nbsp;Read&nbsp;are&nbsp;discouraged&nbsp;from&nbsp;returning&nbsp;a</span><br>
<span class="lineno">65</span><span class="comment" id="1651556">//&nbsp;zero&nbsp;byte&nbsp;count&nbsp;with&nbsp;a&nbsp;nil&nbsp;error,&nbsp;except&nbsp;when&nbsp;len(p)&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="1651618">//&nbsp;Callers&nbsp;should&nbsp;treat&nbsp;a&nbsp;return&nbsp;of&nbsp;0&nbsp;and&nbsp;nil&nbsp;as&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1651683">//&nbsp;nothing&nbsp;happened;&nbsp;in&nbsp;particular&nbsp;it&nbsp;does&nbsp;not&nbsp;indicate&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="1651744">//</span><br>
<span class="lineno"></span><span class="comment" id="1651747">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno">70</span><span class="keyword" id="1651785">type</span>&nbsp;<span class="ident" id="1651790">Reader</span>&nbsp;<span class="keyword" id="1651797">interface</span>&nbsp;<span class="op" id="1651807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1651810">Read</span><span class="op" id="1651814">(</span><span class="ident" id="1651815">p</span>&nbsp;<span class="op" id="1651817">[</span><span class="op" id="1651818">]</span><span class="builtintype" id="1651819">byte</span><span class="op" id="1651823">)</span>&nbsp;<span class="op" id="1651825">(</span><span class="ident" id="1651826">n</span>&nbsp;<span class="builtintype" id="1651828">int</span><span class="op" id="1651831">,</span>&nbsp;<span class="ident" id="1651833">err</span>&nbsp;<span class="builtintype" id="1651837">error</span><span class="op" id="1651842">)</span><br>
<span class="lineno"></span><span class="op" id="1651844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1651847">//&nbsp;Writer&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Write&nbsp;method.</span><br>
<span class="lineno">75</span><span class="comment" id="1651909">//</span><br>
<span class="lineno"></span><span class="comment" id="1651912">//&nbsp;Write&nbsp;writes&nbsp;len(p)&nbsp;bytes&nbsp;from&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="1651979">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;from&nbsp;p&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))</span><br>
<span class="lineno"></span><span class="comment" id="1652047">//&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered&nbsp;that&nbsp;caused&nbsp;the&nbsp;write&nbsp;to&nbsp;stop&nbsp;early.</span><br>
<span class="lineno"></span><span class="comment" id="1652113">//&nbsp;Write&nbsp;must&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;if&nbsp;it&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p).</span><br>
<span class="lineno">80</span><span class="comment" id="1652176">//&nbsp;Write&nbsp;must&nbsp;not&nbsp;modify&nbsp;the&nbsp;slice&nbsp;data,&nbsp;even&nbsp;temporarily.</span><br>
<span class="lineno"></span><span class="comment" id="1652235">//</span><br>
<span class="lineno"></span><span class="comment" id="1652238">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1652276">type</span>&nbsp;<span class="ident" id="1652281">Writer</span>&nbsp;<span class="keyword" id="1652288">interface</span>&nbsp;<span class="op" id="1652298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1652301">Write</span><span class="op" id="1652306">(</span><span class="ident" id="1652307">p</span>&nbsp;<span class="op" id="1652309">[</span><span class="op" id="1652310">]</span><span class="builtintype" id="1652311">byte</span><span class="op" id="1652315">)</span>&nbsp;<span class="op" id="1652317">(</span><span class="ident" id="1652318">n</span>&nbsp;<span class="builtintype" id="1652320">int</span><span class="op" id="1652323">,</span>&nbsp;<span class="ident" id="1652325">err</span>&nbsp;<span class="builtintype" id="1652329">error</span><span class="op" id="1652334">)</span><br>
<span class="lineno">85</span><span class="op" id="1652336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1652339">//&nbsp;Closer&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Close&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1652401">//</span><br>
<span class="lineno"></span><span class="comment" id="1652404">//&nbsp;The&nbsp;behavior&nbsp;of&nbsp;Close&nbsp;after&nbsp;the&nbsp;first&nbsp;call&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">90</span><span class="comment" id="1652464">//&nbsp;Specific&nbsp;implementations&nbsp;may&nbsp;document&nbsp;their&nbsp;own&nbsp;behavior.</span><br>
<span class="lineno"></span><span class="keyword" id="1652525">type</span>&nbsp;<span class="ident" id="1652530">Closer</span>&nbsp;<span class="keyword" id="1652537">interface</span>&nbsp;<span class="op" id="1652547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1652550">Close</span><span class="op" id="1652555">(</span><span class="op" id="1652556">)</span>&nbsp;<span class="builtintype" id="1652558">error</span><br>
<span class="lineno"></span><span class="op" id="1652564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="1652567">//&nbsp;Seeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;Seek&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1652628">//</span><br>
<span class="lineno"></span><span class="comment" id="1652631">//&nbsp;Seek&nbsp;sets&nbsp;the&nbsp;offset&nbsp;for&nbsp;the&nbsp;next&nbsp;Read&nbsp;or&nbsp;Write&nbsp;to&nbsp;offset,</span><br>
<span class="lineno"></span><span class="comment" id="1652693">//&nbsp;interpreted&nbsp;according&nbsp;to&nbsp;whence:&nbsp;0&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1652763">//&nbsp;the&nbsp;file,&nbsp;1&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset,&nbsp;and&nbsp;2&nbsp;means</span><br>
<span class="lineno">100</span><span class="comment" id="1652828">//&nbsp;relative&nbsp;to&nbsp;the&nbsp;end.&nbsp;&nbsp;Seek&nbsp;returns&nbsp;the&nbsp;new&nbsp;offset&nbsp;and&nbsp;an&nbsp;error,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="1652898">//&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="1652906">//</span><br>
<span class="lineno"></span><span class="comment" id="1652909">//&nbsp;Seeking&nbsp;to&nbsp;a&nbsp;negative&nbsp;offset&nbsp;is&nbsp;an&nbsp;error.&nbsp;Seeking&nbsp;to&nbsp;any&nbsp;positive</span><br>
<span class="lineno"></span><span class="comment" id="1652978">//&nbsp;offset&nbsp;is&nbsp;legal,&nbsp;but&nbsp;the&nbsp;behavior&nbsp;of&nbsp;subsequent&nbsp;I/O&nbsp;operations&nbsp;on</span><br>
<span class="lineno">105</span><span class="comment" id="1653047">//&nbsp;the&nbsp;underlying&nbsp;object&nbsp;is&nbsp;implementation-dependent.</span><br>
<span class="lineno"></span><span class="keyword" id="1653101">type</span>&nbsp;<span class="ident" id="1653106">Seeker</span>&nbsp;<span class="keyword" id="1653113">interface</span>&nbsp;<span class="op" id="1653123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653126">Seek</span><span class="op" id="1653130">(</span><span class="ident" id="1653131">offset</span>&nbsp;<span class="ident" id="1653138">int64</span><span class="op" id="1653143">,</span>&nbsp;<span class="ident" id="1653145">whence</span>&nbsp;<span class="builtintype" id="1653152">int</span><span class="op" id="1653155">)</span>&nbsp;<span class="op" id="1653157">(</span><span class="ident" id="1653158">int64</span><span class="op" id="1653163">,</span>&nbsp;<span class="builtintype" id="1653165">error</span><span class="op" id="1653170">)</span><br>
<span class="lineno"></span><span class="op" id="1653172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="1653175">//&nbsp;ReadWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Write&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1653252">type</span>&nbsp;<span class="ident" id="1653257">ReadWriter</span>&nbsp;<span class="keyword" id="1653268">interface</span>&nbsp;<span class="op" id="1653278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653281"><a href="/io/io.go.html#1651790">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653289"><a href="/io/io.go.html#1652281">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="1653296">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="1653299">//&nbsp;ReadCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1653376">type</span>&nbsp;<span class="ident" id="1653381">ReadCloser</span>&nbsp;<span class="keyword" id="1653392">interface</span>&nbsp;<span class="op" id="1653402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653405"><a href="/io/io.go.html#1651790">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653413"><a href="/io/io.go.html#1652530">Closer</a></span><br>
<span class="lineno">120</span><span class="op" id="1653420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1653423">//&nbsp;WriteCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Write&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1653502">type</span>&nbsp;<span class="ident" id="1653507">WriteCloser</span>&nbsp;<span class="keyword" id="1653519">interface</span>&nbsp;<span class="op" id="1653529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653532"><a href="/io/io.go.html#1652281">Writer</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653540"><a href="/io/io.go.html#1652530">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="1653547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1653550">//&nbsp;ReadWriteCloser&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read,&nbsp;Write&nbsp;and&nbsp;Close&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1653639">type</span>&nbsp;<span class="ident" id="1653644">ReadWriteCloser</span>&nbsp;<span class="keyword" id="1653660">interface</span>&nbsp;<span class="op" id="1653670">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653673"><a href="/io/io.go.html#1651790">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653681"><a href="/io/io.go.html#1652281">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653689"><a href="/io/io.go.html#1652530">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="1653696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="1653699">//&nbsp;ReadSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1653775">type</span>&nbsp;<span class="ident" id="1653780">ReadSeeker</span>&nbsp;<span class="keyword" id="1653791">interface</span>&nbsp;<span class="op" id="1653801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653804"><a href="/io/io.go.html#1651790">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653812"><a href="/io/io.go.html#1653106">Seeker</a></span><br>
<span class="lineno"></span><span class="op" id="1653819">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1653822">//&nbsp;WriteSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Write&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1653900">type</span>&nbsp;<span class="ident" id="1653905">WriteSeeker</span>&nbsp;<span class="keyword" id="1653917">interface</span>&nbsp;<span class="op" id="1653927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653930"><a href="/io/io.go.html#1652281">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1653938"><a href="/io/io.go.html#1653106">Seeker</a></span><br>
<span class="lineno">145</span><span class="op" id="1653945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1653948">//&nbsp;ReadWriteSeeker&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;groups&nbsp;the&nbsp;basic&nbsp;Read,&nbsp;Write&nbsp;and&nbsp;Seek&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="1654036">type</span>&nbsp;<span class="ident" id="1654041">ReadWriteSeeker</span>&nbsp;<span class="keyword" id="1654057">interface</span>&nbsp;<span class="op" id="1654067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654070"><a href="/io/io.go.html#1651790">Reader</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654078"><a href="/io/io.go.html#1652281">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654086"><a href="/io/io.go.html#1653106">Seeker</a></span><br>
<span class="lineno"></span><span class="op" id="1654093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1654096">//&nbsp;ReaderFrom&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadFrom&nbsp;method.</span><br>
<span class="lineno">155</span><span class="comment" id="1654159">//</span><br>
<span class="lineno"></span><span class="comment" id="1654162">//&nbsp;ReadFrom&nbsp;reads&nbsp;data&nbsp;from&nbsp;r&nbsp;until&nbsp;EOF&nbsp;or&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="1654212">//&nbsp;The&nbsp;return&nbsp;value&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1654263">//&nbsp;Any&nbsp;error&nbsp;except&nbsp;io.EOF&nbsp;encountered&nbsp;during&nbsp;the&nbsp;read&nbsp;is&nbsp;also&nbsp;returned.</span><br>
<span class="lineno"></span><span class="comment" id="1654336">//</span><br>
<span class="lineno">160</span><span class="comment" id="1654339">//&nbsp;The&nbsp;Copy&nbsp;function&nbsp;uses&nbsp;ReaderFrom&nbsp;if&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="1654390">type</span>&nbsp;<span class="ident" id="1654395">ReaderFrom</span>&nbsp;<span class="keyword" id="1654406">interface</span>&nbsp;<span class="op" id="1654416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654419">ReadFrom</span><span class="op" id="1654427">(</span><span class="ident" id="1654428">r</span>&nbsp;<span class="ident" id="1654430"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1654436">)</span>&nbsp;<span class="op" id="1654438">(</span><span class="ident" id="1654439">n</span>&nbsp;<span class="ident" id="1654441">int64</span><span class="op" id="1654446">,</span>&nbsp;<span class="ident" id="1654448">err</span>&nbsp;<span class="builtintype" id="1654452">error</span><span class="op" id="1654457">)</span><br>
<span class="lineno"></span><span class="op" id="1654459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="1654462">//&nbsp;WriterTo&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteTo&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1654522">//</span><br>
<span class="lineno"></span><span class="comment" id="1654525">//&nbsp;WriteTo&nbsp;writes&nbsp;data&nbsp;to&nbsp;w&nbsp;until&nbsp;there&#39;s&nbsp;no&nbsp;more&nbsp;data&nbsp;to&nbsp;write&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1654592">//&nbsp;when&nbsp;an&nbsp;error&nbsp;occurs.&nbsp;The&nbsp;return&nbsp;value&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="1654659">//&nbsp;written.&nbsp;Any&nbsp;error&nbsp;encountered&nbsp;during&nbsp;the&nbsp;write&nbsp;is&nbsp;also&nbsp;returned.</span><br>
<span class="lineno">170</span><span class="comment" id="1654728">//</span><br>
<span class="lineno"></span><span class="comment" id="1654731">//&nbsp;The&nbsp;Copy&nbsp;function&nbsp;uses&nbsp;WriterTo&nbsp;if&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="1654780">type</span>&nbsp;<span class="ident" id="1654785">WriterTo</span>&nbsp;<span class="keyword" id="1654794">interface</span>&nbsp;<span class="op" id="1654804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1654807">WriteTo</span><span class="op" id="1654814">(</span><span class="ident" id="1654815">w</span>&nbsp;<span class="ident" id="1654817"><a href="/io/io.go.html#1652281">Writer</a></span><span class="op" id="1654823">)</span>&nbsp;<span class="op" id="1654825">(</span><span class="ident" id="1654826">n</span>&nbsp;<span class="ident" id="1654828">int64</span><span class="op" id="1654833">,</span>&nbsp;<span class="ident" id="1654835">err</span>&nbsp;<span class="builtintype" id="1654839">error</span><span class="op" id="1654844">)</span><br>
<span class="lineno"></span><span class="op" id="1654846">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="1654849">//&nbsp;ReaderAt&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;ReadAt&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1654914">//</span><br>
<span class="lineno"></span><span class="comment" id="1654917">//&nbsp;ReadAt&nbsp;reads&nbsp;len(p)&nbsp;bytes&nbsp;into&nbsp;p&nbsp;starting&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1654983">//&nbsp;underlying&nbsp;input&nbsp;source.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">180</span><span class="comment" id="1655043">//&nbsp;read&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="comment" id="1655097">//</span><br>
<span class="lineno"></span><span class="comment" id="1655100">//&nbsp;When&nbsp;ReadAt&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="1655162">//&nbsp;explaining&nbsp;why&nbsp;more&nbsp;bytes&nbsp;were&nbsp;not&nbsp;returned.&nbsp;&nbsp;In&nbsp;this&nbsp;respect,</span><br>
<span class="lineno"></span><span class="comment" id="1655228">//&nbsp;ReadAt&nbsp;is&nbsp;stricter&nbsp;than&nbsp;Read.</span><br>
<span class="lineno">185</span><span class="comment" id="1655261">//</span><br>
<span class="lineno"></span><span class="comment" id="1655264">//&nbsp;Even&nbsp;if&nbsp;ReadAt&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p),&nbsp;it&nbsp;may&nbsp;use&nbsp;all&nbsp;of&nbsp;p&nbsp;as&nbsp;scratch</span><br>
<span class="lineno"></span><span class="comment" id="1655333">//&nbsp;space&nbsp;during&nbsp;the&nbsp;call.&nbsp;&nbsp;If&nbsp;some&nbsp;data&nbsp;is&nbsp;available&nbsp;but&nbsp;not&nbsp;len(p)&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="1655408">//&nbsp;ReadAt&nbsp;blocks&nbsp;until&nbsp;either&nbsp;all&nbsp;the&nbsp;data&nbsp;is&nbsp;available&nbsp;or&nbsp;an&nbsp;error&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1655484">//&nbsp;In&nbsp;this&nbsp;respect&nbsp;ReadAt&nbsp;is&nbsp;different&nbsp;from&nbsp;Read.</span><br>
<span class="lineno">190</span><span class="comment" id="1655534">//</span><br>
<span class="lineno"></span><span class="comment" id="1655537">//&nbsp;If&nbsp;the&nbsp;n&nbsp;=&nbsp;len(p)&nbsp;bytes&nbsp;returned&nbsp;by&nbsp;ReadAt&nbsp;are&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1655605">//&nbsp;input&nbsp;source,&nbsp;ReadAt&nbsp;may&nbsp;return&nbsp;either&nbsp;err&nbsp;==&nbsp;EOF&nbsp;or&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="1655673">//</span><br>
<span class="lineno"></span><span class="comment" id="1655676">//&nbsp;If&nbsp;ReadAt&nbsp;is&nbsp;reading&nbsp;from&nbsp;an&nbsp;input&nbsp;source&nbsp;with&nbsp;a&nbsp;seek&nbsp;offset,</span><br>
<span class="lineno">195</span><span class="comment" id="1655741">//&nbsp;ReadAt&nbsp;should&nbsp;not&nbsp;affect&nbsp;nor&nbsp;be&nbsp;affected&nbsp;by&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="1655803">//&nbsp;seek&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="1655819">//</span><br>
<span class="lineno"></span><span class="comment" id="1655822">//&nbsp;Clients&nbsp;of&nbsp;ReadAt&nbsp;can&nbsp;execute&nbsp;parallel&nbsp;ReadAt&nbsp;calls&nbsp;on&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1655884">//&nbsp;same&nbsp;input&nbsp;source.</span><br>
<span class="lineno">200</span><span class="comment" id="1655906">//</span><br>
<span class="lineno"></span><span class="comment" id="1655909">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1655947">type</span>&nbsp;<span class="ident" id="1655952">ReaderAt</span>&nbsp;<span class="keyword" id="1655961">interface</span>&nbsp;<span class="op" id="1655971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1655974">ReadAt</span><span class="op" id="1655980">(</span><span class="ident" id="1655981">p</span>&nbsp;<span class="op" id="1655983">[</span><span class="op" id="1655984">]</span><span class="builtintype" id="1655985">byte</span><span class="op" id="1655989">,</span>&nbsp;<span class="ident" id="1655991">off</span>&nbsp;<span class="ident" id="1655995">int64</span><span class="op" id="1656000">)</span>&nbsp;<span class="op" id="1656002">(</span><span class="ident" id="1656003">n</span>&nbsp;<span class="builtintype" id="1656005">int</span><span class="op" id="1656008">,</span>&nbsp;<span class="ident" id="1656010">err</span>&nbsp;<span class="builtintype" id="1656014">error</span><span class="op" id="1656019">)</span><br>
<span class="lineno"></span><span class="op" id="1656021">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1656024">//&nbsp;WriterAt&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;basic&nbsp;WriteAt&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1656090">//</span><br>
<span class="lineno"></span><span class="comment" id="1656093">//&nbsp;WriteAt&nbsp;writes&nbsp;len(p)&nbsp;bytes&nbsp;from&nbsp;p&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data&nbsp;stream</span><br>
<span class="lineno"></span><span class="comment" id="1656161">//&nbsp;at&nbsp;offset&nbsp;off.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;from&nbsp;p&nbsp;(0&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;len(p))</span><br>
<span class="lineno">210</span><span class="comment" id="1656245">//&nbsp;and&nbsp;any&nbsp;error&nbsp;encountered&nbsp;that&nbsp;caused&nbsp;the&nbsp;write&nbsp;to&nbsp;stop&nbsp;early.</span><br>
<span class="lineno"></span><span class="comment" id="1656311">//&nbsp;WriteAt&nbsp;must&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;if&nbsp;it&nbsp;returns&nbsp;n&nbsp;&lt;&nbsp;len(p).</span><br>
<span class="lineno"></span><span class="comment" id="1656376">//</span><br>
<span class="lineno"></span><span class="comment" id="1656379">//&nbsp;If&nbsp;WriteAt&nbsp;is&nbsp;writing&nbsp;to&nbsp;a&nbsp;destination&nbsp;with&nbsp;a&nbsp;seek&nbsp;offset,</span><br>
<span class="lineno"></span><span class="comment" id="1656441">//&nbsp;WriteAt&nbsp;should&nbsp;not&nbsp;affect&nbsp;nor&nbsp;be&nbsp;affected&nbsp;by&nbsp;the&nbsp;underlying</span><br>
<span class="lineno">215</span><span class="comment" id="1656504">//&nbsp;seek&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="1656520">//</span><br>
<span class="lineno"></span><span class="comment" id="1656523">//&nbsp;Clients&nbsp;of&nbsp;WriteAt&nbsp;can&nbsp;execute&nbsp;parallel&nbsp;WriteAt&nbsp;calls&nbsp;on&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="1656592">//&nbsp;destination&nbsp;if&nbsp;the&nbsp;ranges&nbsp;do&nbsp;not&nbsp;overlap.</span><br>
<span class="lineno"></span><span class="comment" id="1656637">//</span><br>
<span class="lineno">220</span><span class="comment" id="1656640">//&nbsp;Implementations&nbsp;must&nbsp;not&nbsp;retain&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1656678">type</span>&nbsp;<span class="ident" id="1656683">WriterAt</span>&nbsp;<span class="keyword" id="1656692">interface</span>&nbsp;<span class="op" id="1656702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656705">WriteAt</span><span class="op" id="1656712">(</span><span class="ident" id="1656713">p</span>&nbsp;<span class="op" id="1656715">[</span><span class="op" id="1656716">]</span><span class="builtintype" id="1656717">byte</span><span class="op" id="1656721">,</span>&nbsp;<span class="ident" id="1656723">off</span>&nbsp;<span class="ident" id="1656727">int64</span><span class="op" id="1656732">)</span>&nbsp;<span class="op" id="1656734">(</span><span class="ident" id="1656735">n</span>&nbsp;<span class="builtintype" id="1656737">int</span><span class="op" id="1656740">,</span>&nbsp;<span class="ident" id="1656742">err</span>&nbsp;<span class="builtintype" id="1656746">error</span><span class="op" id="1656751">)</span><br>
<span class="lineno"></span><span class="op" id="1656753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="1656756">//&nbsp;ByteReader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadByte&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1656819">//</span><br>
<span class="lineno"></span><span class="comment" id="1656822">//&nbsp;ReadByte&nbsp;reads&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;byte&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="1656882">//&nbsp;If&nbsp;no&nbsp;byte&nbsp;is&nbsp;available,&nbsp;err&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="1656927">type</span>&nbsp;<span class="ident" id="1656932">ByteReader</span>&nbsp;<span class="keyword" id="1656943">interface</span>&nbsp;<span class="op" id="1656953">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1656956">ReadByte</span><span class="op" id="1656964">(</span><span class="op" id="1656965">)</span>&nbsp;<span class="op" id="1656967">(</span><span class="ident" id="1656968">c</span>&nbsp;<span class="builtintype" id="1656970">byte</span><span class="op" id="1656974">,</span>&nbsp;<span class="ident" id="1656976">err</span>&nbsp;<span class="builtintype" id="1656980">error</span><span class="op" id="1656985">)</span><br>
<span class="lineno"></span><span class="op" id="1656987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1656990">//&nbsp;ByteScanner&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;adds&nbsp;the&nbsp;UnreadByte&nbsp;method&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1657061">//&nbsp;basic&nbsp;ReadByte&nbsp;method.</span><br>
<span class="lineno">235</span><span class="comment" id="1657087">//</span><br>
<span class="lineno"></span><span class="comment" id="1657090">//&nbsp;UnreadByte&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadByte&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;byte</span><br>
<span class="lineno"></span><span class="comment" id="1657161">//&nbsp;as&nbsp;the&nbsp;previous&nbsp;call&nbsp;to&nbsp;ReadByte.</span><br>
<span class="lineno"></span><span class="comment" id="1657198">//&nbsp;It&nbsp;may&nbsp;be&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;UnreadByte&nbsp;twice&nbsp;without&nbsp;an&nbsp;intervening</span><br>
<span class="lineno"></span><span class="comment" id="1657268">//&nbsp;call&nbsp;to&nbsp;ReadByte.</span><br>
<span class="lineno">240</span><span class="keyword" id="1657289">type</span>&nbsp;<span class="ident" id="1657294">ByteScanner</span>&nbsp;<span class="keyword" id="1657306">interface</span>&nbsp;<span class="op" id="1657316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657319"><a href="/io/io.go.html#1656932">ByteReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657331">UnreadByte</span><span class="op" id="1657341">(</span><span class="op" id="1657342">)</span>&nbsp;<span class="builtintype" id="1657344">error</span><br>
<span class="lineno"></span><span class="op" id="1657350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="1657353">//&nbsp;ByteWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteByte&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1657417">type</span>&nbsp;<span class="ident" id="1657422">ByteWriter</span>&nbsp;<span class="keyword" id="1657433">interface</span>&nbsp;<span class="op" id="1657443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657446">WriteByte</span><span class="op" id="1657455">(</span><span class="ident" id="1657456">c</span>&nbsp;<span class="builtintype" id="1657458">byte</span><span class="op" id="1657462">)</span>&nbsp;<span class="builtintype" id="1657464">error</span><br>
<span class="lineno"></span><span class="op" id="1657470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="comment" id="1657473">//&nbsp;RuneReader&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;ReadRune&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1657536">//</span><br>
<span class="lineno"></span><span class="comment" id="1657539">//&nbsp;ReadRune&nbsp;reads&nbsp;a&nbsp;single&nbsp;UTF-8&nbsp;encoded&nbsp;Unicode&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="1657598">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;rune&nbsp;and&nbsp;its&nbsp;size&nbsp;in&nbsp;bytes.&nbsp;If&nbsp;no&nbsp;character&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1657664">//&nbsp;available,&nbsp;err&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno">255</span><span class="keyword" id="1657695">type</span>&nbsp;<span class="ident" id="1657700">RuneReader</span>&nbsp;<span class="keyword" id="1657711">interface</span>&nbsp;<span class="op" id="1657721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1657724">ReadRune</span><span class="op" id="1657732">(</span><span class="op" id="1657733">)</span>&nbsp;<span class="op" id="1657735">(</span><span class="ident" id="1657736">r</span>&nbsp;<span class="builtintype" id="1657738">rune</span><span class="op" id="1657742">,</span>&nbsp;<span class="ident" id="1657744">size</span>&nbsp;<span class="builtintype" id="1657749">int</span><span class="op" id="1657752">,</span>&nbsp;<span class="ident" id="1657754">err</span>&nbsp;<span class="builtintype" id="1657758">error</span><span class="op" id="1657763">)</span><br>
<span class="lineno"></span><span class="op" id="1657765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1657768">//&nbsp;RuneScanner&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;adds&nbsp;the&nbsp;UnreadRune&nbsp;method&nbsp;to&nbsp;the</span><br>
<span class="lineno">260</span><span class="comment" id="1657839">//&nbsp;basic&nbsp;ReadRune&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1657865">//</span><br>
<span class="lineno"></span><span class="comment" id="1657868">//&nbsp;UnreadRune&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadRune&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;rune</span><br>
<span class="lineno"></span><span class="comment" id="1657939">//&nbsp;as&nbsp;the&nbsp;previous&nbsp;call&nbsp;to&nbsp;ReadRune.</span><br>
<span class="lineno"></span><span class="comment" id="1657976">//&nbsp;It&nbsp;may&nbsp;be&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;UnreadRune&nbsp;twice&nbsp;without&nbsp;an&nbsp;intervening</span><br>
<span class="lineno">265</span><span class="comment" id="1658046">//&nbsp;call&nbsp;to&nbsp;ReadRune.</span><br>
<span class="lineno"></span><span class="keyword" id="1658067">type</span>&nbsp;<span class="ident" id="1658072">RuneScanner</span>&nbsp;<span class="keyword" id="1658084">interface</span>&nbsp;<span class="op" id="1658094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658097"><a href="/io/io.go.html#1657700">RuneReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658109">UnreadRune</span><span class="op" id="1658119">(</span><span class="op" id="1658120">)</span>&nbsp;<span class="builtintype" id="1658122">error</span><br>
<span class="lineno"></span><span class="op" id="1658128">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="1658131">//&nbsp;stringWriter&nbsp;is&nbsp;the&nbsp;interface&nbsp;that&nbsp;wraps&nbsp;the&nbsp;WriteString&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1658199">type</span>&nbsp;<span class="ident" id="1658204">stringWriter</span>&nbsp;<span class="keyword" id="1658217">interface</span>&nbsp;<span class="op" id="1658227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1658230">WriteString</span><span class="op" id="1658241">(</span><span class="ident" id="1658242">s</span>&nbsp;<span class="builtintype" id="1658244">string</span><span class="op" id="1658250">)</span>&nbsp;<span class="op" id="1658252">(</span><span class="ident" id="1658253">n</span>&nbsp;<span class="builtintype" id="1658255">int</span><span class="op" id="1658258">,</span>&nbsp;<span class="ident" id="1658260">err</span>&nbsp;<span class="builtintype" id="1658264">error</span><span class="op" id="1658269">)</span><br>
<span class="lineno"></span><span class="op" id="1658271">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="comment" id="1658274">//&nbsp;WriteString&nbsp;writes&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;to&nbsp;w,&nbsp;which&nbsp;accepts&nbsp;an&nbsp;array&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="1658364">//&nbsp;If&nbsp;w&nbsp;already&nbsp;implements&nbsp;a&nbsp;WriteString&nbsp;method,&nbsp;it&nbsp;is&nbsp;invoked&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="1658437">func</span>&nbsp;<span class="ident" id="1658442">WriteString</span><span class="op" id="1658453">(</span><span class="ident" id="1658454">w</span>&nbsp;<span class="ident" id="1658456"><a href="/io/io.go.html#1652281">Writer</a></span><span class="op" id="1658462">,</span>&nbsp;<span class="ident" id="1658464">s</span>&nbsp;<span class="builtintype" id="1658466">string</span><span class="op" id="1658472">)</span>&nbsp;<span class="op" id="1658474">(</span><span class="ident" id="1658475">n</span>&nbsp;<span class="builtintype" id="1658477">int</span><span class="op" id="1658480">,</span>&nbsp;<span class="ident" id="1658482">err</span>&nbsp;<span class="builtintype" id="1658486">error</span><span class="op" id="1658491">)</span>&nbsp;<span class="op" id="1658493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658496">if</span>&nbsp;<span class="ident" id="1658499">sw</span><span class="op" id="1658501">,</span>&nbsp;<span class="ident" id="1658503">ok</span>&nbsp;<span class="op" id="1658506">:=</span>&nbsp;<span class="ident" id="1658509"><a href="/io/io.go.html#1658454">w</a></span><span class="op" id="1658510">.</span><span class="op" id="1658511">(</span><span class="ident" id="1658512"><a href="/io/io.go.html#1658204">stringWriter</a></span><span class="op" id="1658524">)</span><span class="op" id="1658525">;</span>&nbsp;<span class="ident" id="1658527"><a href="/io/io.go.html#1658503">ok</a></span>&nbsp;<span class="op" id="1658530">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658534">return</span>&nbsp;<span class="ident" id="1658541"><a href="/io/io.go.html#1658499">sw</a></span><span class="op" id="1658543">.</span><span class="ident" id="1658544">WriteString</span><span class="op" id="1658555">(</span><span class="ident" id="1658556"><a href="/io/io.go.html#1658464">s</a></span><span class="op" id="1658557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1658560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1658563">return</span>&nbsp;<span class="ident" id="1658570"><a href="/io/io.go.html#1658454">w</a></span><span class="op" id="1658571">.</span><span class="ident" id="1658572">Write</span><span class="op" id="1658577">(</span><span class="op" id="1658578">[</span><span class="op" id="1658579">]</span><span class="builtintype" id="1658580">byte</span><span class="op" id="1658584">(</span><span class="ident" id="1658585"><a href="/io/io.go.html#1658464">s</a></span><span class="op" id="1658586">)</span><span class="op" id="1658587">)</span><br>
<span class="lineno"></span><span class="op" id="1658589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1658592">//&nbsp;ReadAtLeast&nbsp;reads&nbsp;from&nbsp;r&nbsp;into&nbsp;buf&nbsp;until&nbsp;it&nbsp;has&nbsp;read&nbsp;at&nbsp;least&nbsp;min&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="1658667">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;an&nbsp;error&nbsp;if&nbsp;fewer&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1658747">//&nbsp;The&nbsp;error&nbsp;is&nbsp;EOF&nbsp;only&nbsp;if&nbsp;no&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1658795">//&nbsp;If&nbsp;an&nbsp;EOF&nbsp;happens&nbsp;after&nbsp;reading&nbsp;fewer&nbsp;than&nbsp;min&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="1658852">//&nbsp;ReadAtLeast&nbsp;returns&nbsp;ErrUnexpectedEOF.</span><br>
<span class="lineno">290</span><span class="comment" id="1658893">//&nbsp;If&nbsp;min&nbsp;is&nbsp;greater&nbsp;than&nbsp;the&nbsp;length&nbsp;of&nbsp;buf,&nbsp;ReadAtLeast&nbsp;returns&nbsp;ErrShortBuffer.</span><br>
<span class="lineno"></span><span class="comment" id="1658974">//&nbsp;On&nbsp;return,&nbsp;n&nbsp;&gt;=&nbsp;min&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="1659024">func</span>&nbsp;<span class="ident" id="1659029">ReadAtLeast</span><span class="op" id="1659040">(</span><span class="ident" id="1659041">r</span>&nbsp;<span class="ident" id="1659043"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1659049">,</span>&nbsp;<span class="ident" id="1659051">buf</span>&nbsp;<span class="op" id="1659055">[</span><span class="op" id="1659056">]</span><span class="builtintype" id="1659057">byte</span><span class="op" id="1659061">,</span>&nbsp;<span class="ident" id="1659063">min</span>&nbsp;<span class="builtintype" id="1659067">int</span><span class="op" id="1659070">)</span>&nbsp;<span class="op" id="1659072">(</span><span class="ident" id="1659073">n</span>&nbsp;<span class="builtintype" id="1659075">int</span><span class="op" id="1659078">,</span>&nbsp;<span class="ident" id="1659080">err</span>&nbsp;<span class="builtintype" id="1659084">error</span><span class="op" id="1659089">)</span>&nbsp;<span class="op" id="1659091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659094">if</span>&nbsp;<span class="builtinfunc" id="1659097">len</span><span class="op" id="1659100">(</span><span class="ident" id="1659101"><a href="/io/io.go.html#1659051">buf</a></span><span class="op" id="1659104">)</span>&nbsp;<span class="op" id="1659106">&lt;</span>&nbsp;<span class="ident" id="1659108"><a href="/io/io.go.html#1659063">min</a></span>&nbsp;<span class="op" id="1659112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659116">return</span>&nbsp;<span class="num" id="1659123">0</span><span class="op" id="1659124">,</span>&nbsp;<span class="ident" id="1659126"><a href="/io/io.go.html#1649569">ErrShortBuffer</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659145">for</span>&nbsp;<span class="ident" id="1659149"><a href="/io/io.go.html#1659073">n</a></span>&nbsp;<span class="op" id="1659151">&lt;</span>&nbsp;<span class="ident" id="1659153"><a href="/io/io.go.html#1659063">min</a></span>&nbsp;<span class="op" id="1659157">&amp;&amp;</span>&nbsp;<span class="ident" id="1659160"><a href="/io/io.go.html#1659080">err</a></span>&nbsp;<span class="op" id="1659164">==</span>&nbsp;<span class="ident" id="1659167">nil</span>&nbsp;<span class="op" id="1659171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659175">var</span>&nbsp;<span class="ident" id="1659179">nn</span>&nbsp;<span class="builtintype" id="1659182">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659188"><a href="/io/io.go.html#1659179">nn</a></span><span class="op" id="1659190">,</span>&nbsp;<span class="ident" id="1659192"><a href="/io/io.go.html#1659080">err</a></span>&nbsp;<span class="op" id="1659196">=</span>&nbsp;<span class="ident" id="1659198"><a href="/io/io.go.html#1659041">r</a></span><span class="op" id="1659199">.</span><span class="ident" id="1659200">Read</span><span class="op" id="1659204">(</span><span class="ident" id="1659205"><a href="/io/io.go.html#1659051">buf</a></span><span class="op" id="1659208">[</span><span class="ident" id="1659209"><a href="/io/io.go.html#1659073">n</a></span><span class="op" id="1659210">:</span><span class="op" id="1659211">]</span><span class="op" id="1659212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659216"><a href="/io/io.go.html#1659073">n</a></span>&nbsp;<span class="op" id="1659218">+=</span>&nbsp;<span class="ident" id="1659221"><a href="/io/io.go.html#1659179">nn</a></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659228">if</span>&nbsp;<span class="ident" id="1659231"><a href="/io/io.go.html#1659073">n</a></span>&nbsp;<span class="op" id="1659233">&gt;=</span>&nbsp;<span class="ident" id="1659236"><a href="/io/io.go.html#1659063">min</a></span>&nbsp;<span class="op" id="1659240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659244"><a href="/io/io.go.html#1659080">err</a></span>&nbsp;<span class="op" id="1659248">=</span>&nbsp;<span class="ident" id="1659250">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659255">}</span>&nbsp;<span class="keyword" id="1659257">else</span>&nbsp;<span class="keyword" id="1659262">if</span>&nbsp;<span class="ident" id="1659265"><a href="/io/io.go.html#1659073">n</a></span>&nbsp;<span class="op" id="1659267">&gt;</span>&nbsp;<span class="num" id="1659269">0</span>&nbsp;<span class="op" id="1659271">&amp;&amp;</span>&nbsp;<span class="ident" id="1659274"><a href="/io/io.go.html#1659080">err</a></span>&nbsp;<span class="op" id="1659278">==</span>&nbsp;<span class="ident" id="1659281"><a href="/io/io.go.html#1649917">EOF</a></span>&nbsp;<span class="op" id="1659285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1659289"><a href="/io/io.go.html#1659080">err</a></span>&nbsp;<span class="op" id="1659293">=</span>&nbsp;<span class="ident" id="1659295"><a href="/io/io.go.html#1650063">ErrUnexpectedEOF</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1659313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659316">return</span><br>
<span class="lineno"></span><span class="op" id="1659323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1659326">//&nbsp;ReadFull&nbsp;reads&nbsp;exactly&nbsp;len(buf)&nbsp;bytes&nbsp;from&nbsp;r&nbsp;into&nbsp;buf.</span><br>
<span class="lineno">310</span><span class="comment" id="1659384">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;an&nbsp;error&nbsp;if&nbsp;fewer&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1659464">//&nbsp;The&nbsp;error&nbsp;is&nbsp;EOF&nbsp;only&nbsp;if&nbsp;no&nbsp;bytes&nbsp;were&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="1659512">//&nbsp;If&nbsp;an&nbsp;EOF&nbsp;happens&nbsp;after&nbsp;reading&nbsp;some&nbsp;but&nbsp;not&nbsp;all&nbsp;the&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="1659575">//&nbsp;ReadFull&nbsp;returns&nbsp;ErrUnexpectedEOF.</span><br>
<span class="lineno"></span><span class="comment" id="1659613">//&nbsp;On&nbsp;return,&nbsp;n&nbsp;==&nbsp;len(buf)&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno">315</span><span class="keyword" id="1659668">func</span>&nbsp;<span class="ident" id="1659673">ReadFull</span><span class="op" id="1659681">(</span><span class="ident" id="1659682">r</span>&nbsp;<span class="ident" id="1659684"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1659690">,</span>&nbsp;<span class="ident" id="1659692">buf</span>&nbsp;<span class="op" id="1659696">[</span><span class="op" id="1659697">]</span><span class="builtintype" id="1659698">byte</span><span class="op" id="1659702">)</span>&nbsp;<span class="op" id="1659704">(</span><span class="ident" id="1659705">n</span>&nbsp;<span class="builtintype" id="1659707">int</span><span class="op" id="1659710">,</span>&nbsp;<span class="ident" id="1659712">err</span>&nbsp;<span class="builtintype" id="1659716">error</span><span class="op" id="1659721">)</span>&nbsp;<span class="op" id="1659723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1659726">return</span>&nbsp;<span class="ident" id="1659733"><a href="/io/io.go.html#1659029">ReadAtLeast</a></span><span class="op" id="1659744">(</span><span class="ident" id="1659745"><a href="/io/io.go.html#1659682">r</a></span><span class="op" id="1659746">,</span>&nbsp;<span class="ident" id="1659748"><a href="/io/io.go.html#1659692">buf</a></span><span class="op" id="1659751">,</span>&nbsp;<span class="builtinfunc" id="1659753">len</span><span class="op" id="1659756">(</span><span class="ident" id="1659757"><a href="/io/io.go.html#1659692">buf</a></span><span class="op" id="1659760">)</span><span class="op" id="1659761">)</span><br>
<span class="lineno"></span><span class="op" id="1659763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1659766">//&nbsp;CopyN&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;(or&nbsp;until&nbsp;an&nbsp;error)&nbsp;from&nbsp;src&nbsp;to&nbsp;dst.</span><br>
<span class="lineno">320</span><span class="comment" id="1659827">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;copied&nbsp;and&nbsp;the&nbsp;earliest</span><br>
<span class="lineno"></span><span class="comment" id="1659885">//&nbsp;error&nbsp;encountered&nbsp;while&nbsp;copying.</span><br>
<span class="lineno"></span><span class="comment" id="1659921">//&nbsp;On&nbsp;return,&nbsp;written&nbsp;==&nbsp;n&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;err&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="1659975">//</span><br>
<span class="lineno"></span><span class="comment" id="1659978">//&nbsp;If&nbsp;dst&nbsp;implements&nbsp;the&nbsp;ReaderFrom&nbsp;interface,</span><br>
<span class="lineno">325</span><span class="comment" id="1660025">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;using&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="1660062">func</span>&nbsp;<span class="ident" id="1660067">CopyN</span><span class="op" id="1660072">(</span><span class="ident" id="1660073">dst</span>&nbsp;<span class="ident" id="1660077"><a href="/io/io.go.html#1652281">Writer</a></span><span class="op" id="1660083">,</span>&nbsp;<span class="ident" id="1660085">src</span>&nbsp;<span class="ident" id="1660089"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1660095">,</span>&nbsp;<span class="ident" id="1660097">n</span>&nbsp;<span class="ident" id="1660099">int64</span><span class="op" id="1660104">)</span>&nbsp;<span class="op" id="1660106">(</span><span class="ident" id="1660107">written</span>&nbsp;<span class="ident" id="1660115">int64</span><span class="op" id="1660120">,</span>&nbsp;<span class="ident" id="1660122">err</span>&nbsp;<span class="builtintype" id="1660126">error</span><span class="op" id="1660131">)</span>&nbsp;<span class="op" id="1660133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660136"><a href="/io/io.go.html#1660107">written</a></span><span class="op" id="1660143">,</span>&nbsp;<span class="ident" id="1660145"><a href="/io/io.go.html#1660122">err</a></span>&nbsp;<span class="op" id="1660149">=</span>&nbsp;<span class="ident" id="1660151"><a href="/io/io.go.html#1660913">Copy</a></span><span class="op" id="1660155">(</span><span class="ident" id="1660156"><a href="/io/io.go.html#1660073">dst</a></span><span class="op" id="1660159">,</span>&nbsp;<span class="ident" id="1660161"><a href="/io/io.go.html#1661782">LimitReader</a></span><span class="op" id="1660172">(</span><span class="ident" id="1660173"><a href="/io/io.go.html#1660085">src</a></span><span class="op" id="1660176">,</span>&nbsp;<span class="ident" id="1660178"><a href="/io/io.go.html#1660097">n</a></span><span class="op" id="1660179">)</span><span class="op" id="1660180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660183">if</span>&nbsp;<span class="ident" id="1660186"><a href="/io/io.go.html#1660107">written</a></span>&nbsp;<span class="op" id="1660194">==</span>&nbsp;<span class="ident" id="1660197"><a href="/io/io.go.html#1660097">n</a></span>&nbsp;<span class="op" id="1660199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660203">return</span>&nbsp;<span class="ident" id="1660210"><a href="/io/io.go.html#1660097">n</a></span><span class="op" id="1660211">,</span>&nbsp;<span class="ident" id="1660213">nil</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1660218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660221">if</span>&nbsp;<span class="ident" id="1660224"><a href="/io/io.go.html#1660107">written</a></span>&nbsp;<span class="op" id="1660232">&lt;</span>&nbsp;<span class="ident" id="1660234"><a href="/io/io.go.html#1660097">n</a></span>&nbsp;<span class="op" id="1660236">&amp;&amp;</span>&nbsp;<span class="ident" id="1660239"><a href="/io/io.go.html#1660122">err</a></span>&nbsp;<span class="op" id="1660243">==</span>&nbsp;<span class="ident" id="1660246">nil</span>&nbsp;<span class="op" id="1660250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1660254">//&nbsp;src&nbsp;stopped&nbsp;early;&nbsp;must&nbsp;have&nbsp;been&nbsp;EOF.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1660298"><a href="/io/io.go.html#1660122">err</a></span>&nbsp;<span class="op" id="1660302">=</span>&nbsp;<span class="ident" id="1660304"><a href="/io/io.go.html#1649917">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1660309">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1660312">return</span><br>
<span class="lineno"></span><span class="op" id="1660319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1660322">//&nbsp;Copy&nbsp;copies&nbsp;from&nbsp;src&nbsp;to&nbsp;dst&nbsp;until&nbsp;either&nbsp;EOF&nbsp;is&nbsp;reached</span><br>
<span class="lineno"></span><span class="comment" id="1660381">//&nbsp;on&nbsp;src&nbsp;or&nbsp;an&nbsp;error&nbsp;occurs.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes</span><br>
<span class="lineno">340</span><span class="comment" id="1660443">//&nbsp;copied&nbsp;and&nbsp;the&nbsp;first&nbsp;error&nbsp;encountered&nbsp;while&nbsp;copying,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="1660508">//</span><br>
<span class="lineno"></span><span class="comment" id="1660511">//&nbsp;A&nbsp;successful&nbsp;Copy&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="comment" id="1660568">//&nbsp;Because&nbsp;Copy&nbsp;is&nbsp;defined&nbsp;to&nbsp;read&nbsp;from&nbsp;src&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="1660631">//&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno">345</span><span class="comment" id="1660689">//</span><br>
<span class="lineno"></span><span class="comment" id="1660692">//&nbsp;If&nbsp;src&nbsp;implements&nbsp;the&nbsp;WriterTo&nbsp;interface,</span><br>
<span class="lineno"></span><span class="comment" id="1660737">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;by&nbsp;calling&nbsp;src.WriteTo(dst).</span><br>
<span class="lineno"></span><span class="comment" id="1660793">//&nbsp;Otherwise,&nbsp;if&nbsp;dst&nbsp;implements&nbsp;the&nbsp;ReaderFrom&nbsp;interface,</span><br>
<span class="lineno"></span><span class="comment" id="1660851">//&nbsp;the&nbsp;copy&nbsp;is&nbsp;implemented&nbsp;by&nbsp;calling&nbsp;dst.ReadFrom(src).</span><br>
<span class="lineno">350</span><span class="keyword" id="1660908">func</span>&nbsp;<span class="ident" id="1660913">Copy</span><span class="op" id="1660917">(</span><span class="ident" id="1660918">dst</span>&nbsp;<span class="ident" id="1660922"><a href="/io/io.go.html#1652281">Writer</a></span><span class="op" id="1660928">,</span>&nbsp;<span class="ident" id="1660930">src</span>&nbsp;<span class="ident" id="1660934"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1660940">)</span>&nbsp;<span class="op" id="1660942">(</span><span class="ident" id="1660943">written</span>&nbsp;<span class="ident" id="1660951">int64</span><span class="op" id="1660956">,</span>&nbsp;<span class="ident" id="1660958">err</span>&nbsp;<span class="builtintype" id="1660962">error</span><span class="op" id="1660967">)</span>&nbsp;<span class="op" id="1660969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1660972">//&nbsp;If&nbsp;the&nbsp;reader&nbsp;has&nbsp;a&nbsp;WriteTo&nbsp;method,&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;the&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1661035">//&nbsp;Avoids&nbsp;an&nbsp;allocation&nbsp;and&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661072">if</span>&nbsp;<span class="ident" id="1661075">wt</span><span class="op" id="1661077">,</span>&nbsp;<span class="ident" id="1661079">ok</span>&nbsp;<span class="op" id="1661082">:=</span>&nbsp;<span class="ident" id="1661085"><a href="/io/io.go.html#1660930">src</a></span><span class="op" id="1661088">.</span><span class="op" id="1661089">(</span><span class="ident" id="1661090"><a href="/io/io.go.html#1654785">WriterTo</a></span><span class="op" id="1661098">)</span><span class="op" id="1661099">;</span>&nbsp;<span class="ident" id="1661101"><a href="/io/io.go.html#1661079">ok</a></span>&nbsp;<span class="op" id="1661104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661108">return</span>&nbsp;<span class="ident" id="1661115"><a href="/io/io.go.html#1661075">wt</a></span><span class="op" id="1661117">.</span><span class="ident" id="1661118">WriteTo</span><span class="op" id="1661125">(</span><span class="ident" id="1661126"><a href="/io/io.go.html#1660918">dst</a></span><span class="op" id="1661129">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1661135">//&nbsp;Similarly,&nbsp;if&nbsp;the&nbsp;writer&nbsp;has&nbsp;a&nbsp;ReadFrom&nbsp;method,&nbsp;use&nbsp;it&nbsp;to&nbsp;do&nbsp;the&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661210">if</span>&nbsp;<span class="ident" id="1661213">rt</span><span class="op" id="1661215">,</span>&nbsp;<span class="ident" id="1661217">ok</span>&nbsp;<span class="op" id="1661220">:=</span>&nbsp;<span class="ident" id="1661223"><a href="/io/io.go.html#1660918">dst</a></span><span class="op" id="1661226">.</span><span class="op" id="1661227">(</span><span class="ident" id="1661228"><a href="/io/io.go.html#1654395">ReaderFrom</a></span><span class="op" id="1661238">)</span><span class="op" id="1661239">;</span>&nbsp;<span class="ident" id="1661241"><a href="/io/io.go.html#1661217">ok</a></span>&nbsp;<span class="op" id="1661244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661248">return</span>&nbsp;<span class="ident" id="1661255"><a href="/io/io.go.html#1661213">rt</a></span><span class="op" id="1661257">.</span><span class="ident" id="1661258">ReadFrom</span><span class="op" id="1661266">(</span><span class="ident" id="1661267"><a href="/io/io.go.html#1660930">src</a></span><span class="op" id="1661270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661273">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661276">buf</span>&nbsp;<span class="op" id="1661280">:=</span>&nbsp;<span class="builtinfunc" id="1661283">make</span><span class="op" id="1661287">(</span><span class="op" id="1661288">[</span><span class="op" id="1661289">]</span><span class="builtintype" id="1661290">byte</span><span class="op" id="1661294">,</span>&nbsp;<span class="num" id="1661296">32</span><span class="op" id="1661298">*</span><span class="num" id="1661299">1024</span><span class="op" id="1661303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661306">for</span>&nbsp;<span class="op" id="1661310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661314">nr</span><span class="op" id="1661316">,</span>&nbsp;<span class="ident" id="1661318">er</span>&nbsp;<span class="op" id="1661321">:=</span>&nbsp;<span class="ident" id="1661324"><a href="/io/io.go.html#1660930">src</a></span><span class="op" id="1661327">.</span><span class="ident" id="1661328">Read</span><span class="op" id="1661332">(</span><span class="ident" id="1661333"><a href="/io/io.go.html#1661276">buf</a></span><span class="op" id="1661336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661340">if</span>&nbsp;<span class="ident" id="1661343"><a href="/io/io.go.html#1661314">nr</a></span>&nbsp;<span class="op" id="1661346">&gt;</span>&nbsp;<span class="num" id="1661348">0</span>&nbsp;<span class="op" id="1661350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661355">nw</span><span class="op" id="1661357">,</span>&nbsp;<span class="ident" id="1661359">ew</span>&nbsp;<span class="op" id="1661362">:=</span>&nbsp;<span class="ident" id="1661365"><a href="/io/io.go.html#1660918">dst</a></span><span class="op" id="1661368">.</span><span class="ident" id="1661369">Write</span><span class="op" id="1661374">(</span><span class="ident" id="1661375"><a href="/io/io.go.html#1661276">buf</a></span><span class="op" id="1661378">[</span><span class="num" id="1661379">0</span><span class="op" id="1661380">:</span><span class="ident" id="1661381"><a href="/io/io.go.html#1661314">nr</a></span><span class="op" id="1661383">]</span><span class="op" id="1661384">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661389">if</span>&nbsp;<span class="ident" id="1661392"><a href="/io/io.go.html#1661355">nw</a></span>&nbsp;<span class="op" id="1661395">&gt;</span>&nbsp;<span class="num" id="1661397">0</span>&nbsp;<span class="op" id="1661399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661405"><a href="/io/io.go.html#1660943">written</a></span>&nbsp;<span class="op" id="1661413">+=</span>&nbsp;<span class="ident" id="1661416">int64</span><span class="op" id="1661421">(</span><span class="ident" id="1661422"><a href="/io/io.go.html#1661355">nw</a></span><span class="op" id="1661424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661434">if</span>&nbsp;<span class="ident" id="1661437"><a href="/io/io.go.html#1661359">ew</a></span>&nbsp;<span class="op" id="1661440">!=</span>&nbsp;<span class="ident" id="1661443">nil</span>&nbsp;<span class="op" id="1661447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661453"><a href="/io/io.go.html#1660958">err</a></span>&nbsp;<span class="op" id="1661457">=</span>&nbsp;<span class="ident" id="1661459"><a href="/io/io.go.html#1661359">ew</a></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661466">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661480">if</span>&nbsp;<span class="ident" id="1661483"><a href="/io/io.go.html#1661314">nr</a></span>&nbsp;<span class="op" id="1661486">!=</span>&nbsp;<span class="ident" id="1661489"><a href="/io/io.go.html#1661355">nw</a></span>&nbsp;<span class="op" id="1661492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661498"><a href="/io/io.go.html#1660958">err</a></span>&nbsp;<span class="op" id="1661502">=</span>&nbsp;<span class="ident" id="1661504"><a href="/io/io.go.html#1649442">ErrShortWrite</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661522">break</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661539">if</span>&nbsp;<span class="ident" id="1661542"><a href="/io/io.go.html#1661318">er</a></span>&nbsp;<span class="op" id="1661545">==</span>&nbsp;<span class="ident" id="1661548"><a href="/io/io.go.html#1649917">EOF</a></span>&nbsp;<span class="op" id="1661552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661557">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661565">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661569">if</span>&nbsp;<span class="ident" id="1661572"><a href="/io/io.go.html#1661318">er</a></span>&nbsp;<span class="op" id="1661575">!=</span>&nbsp;<span class="ident" id="1661578">nil</span>&nbsp;<span class="op" id="1661582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1661587"><a href="/io/io.go.html#1660958">err</a></span>&nbsp;<span class="op" id="1661591">=</span>&nbsp;<span class="ident" id="1661593"><a href="/io/io.go.html#1661318">er</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661599">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1661610">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1661613">return</span>&nbsp;<span class="ident" id="1661620"><a href="/io/io.go.html#1660943">written</a></span><span class="op" id="1661627">,</span>&nbsp;<span class="ident" id="1661629"><a href="/io/io.go.html#1660958">err</a></span><br>
<span class="lineno"></span><span class="op" id="1661633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1661636">//&nbsp;LimitReader&nbsp;returns&nbsp;a&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="1661686">//&nbsp;but&nbsp;stops&nbsp;with&nbsp;EOF&nbsp;after&nbsp;n&nbsp;bytes.</span><br>
<span class="lineno">390</span><span class="comment" id="1661723">//&nbsp;The&nbsp;underlying&nbsp;implementation&nbsp;is&nbsp;a&nbsp;*LimitedReader.</span><br>
<span class="lineno"></span><span class="keyword" id="1661777">func</span>&nbsp;<span class="ident" id="1661782">LimitReader</span><span class="op" id="1661793">(</span><span class="ident" id="1661794">r</span>&nbsp;<span class="ident" id="1661796"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1661802">,</span>&nbsp;<span class="ident" id="1661804">n</span>&nbsp;<span class="ident" id="1661806">int64</span><span class="op" id="1661811">)</span>&nbsp;<span class="ident" id="1661813"><a href="/io/io.go.html#1651790">Reader</a></span>&nbsp;<span class="op" id="1661820">{</span>&nbsp;<span class="keyword" id="1661822">return</span>&nbsp;<span class="op" id="1661829">&amp;</span><span class="ident" id="1661830"><a href="/io/io.go.html#1662017">LimitedReader</a></span><span class="op" id="1661843">{</span><span class="ident" id="1661844"><a href="/io/io.go.html#1661794">r</a></span><span class="op" id="1661845">,</span>&nbsp;<span class="ident" id="1661847"><a href="/io/io.go.html#1661804">n</a></span><span class="op" id="1661848">}</span>&nbsp;<span class="op" id="1661850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1661853">//&nbsp;A&nbsp;LimitedReader&nbsp;reads&nbsp;from&nbsp;R&nbsp;but&nbsp;limits&nbsp;the&nbsp;amount&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1661910">//&nbsp;data&nbsp;returned&nbsp;to&nbsp;just&nbsp;N&nbsp;bytes.&nbsp;Each&nbsp;call&nbsp;to&nbsp;Read</span><br>
<span class="lineno">395</span><span class="comment" id="1661962">//&nbsp;updates&nbsp;N&nbsp;to&nbsp;reflect&nbsp;the&nbsp;new&nbsp;amount&nbsp;remaining.</span><br>
<span class="lineno"></span><span class="keyword" id="1662012">type</span>&nbsp;<span class="ident" id="1662017">LimitedReader</span>&nbsp;<span class="keyword" id="1662031">struct</span>&nbsp;<span class="op" id="1662038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662041">R</span>&nbsp;<span class="ident" id="1662043"><a href="/io/io.go.html#1651790">Reader</a></span>&nbsp;<span class="comment" id="1662050">//&nbsp;underlying&nbsp;reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662072">N</span>&nbsp;<span class="ident" id="1662074">int64</span>&nbsp;&nbsp;<span class="comment" id="1662081">//&nbsp;max&nbsp;bytes&nbsp;remaining</span><br>
<span class="lineno"></span><span class="op" id="1662104">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="1662107">func</span>&nbsp;<span class="op" id="1662112">(</span><span class="ident" id="1662113">l</span>&nbsp;<span class="op" id="1662115">*</span><span class="ident" id="1662116"><a href="/io/io.go.html#1662017">LimitedReader</a></span><span class="op" id="1662129">)</span>&nbsp;<span class="ident" id="1662131">Read</span><span class="op" id="1662135">(</span><span class="ident" id="1662136">p</span>&nbsp;<span class="op" id="1662138">[</span><span class="op" id="1662139">]</span><span class="builtintype" id="1662140">byte</span><span class="op" id="1662144">)</span>&nbsp;<span class="op" id="1662146">(</span><span class="ident" id="1662147">n</span>&nbsp;<span class="builtintype" id="1662149">int</span><span class="op" id="1662152">,</span>&nbsp;<span class="ident" id="1662154">err</span>&nbsp;<span class="builtintype" id="1662158">error</span><span class="op" id="1662163">)</span>&nbsp;<span class="op" id="1662165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662168">if</span>&nbsp;<span class="ident" id="1662171"><a href="/io/io.go.html#1662113">l</a></span><span class="op" id="1662172">.</span><span class="ident" id="1662173">N</span>&nbsp;<span class="op" id="1662175">&lt;=</span>&nbsp;<span class="num" id="1662178">0</span>&nbsp;<span class="op" id="1662180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662184">return</span>&nbsp;<span class="num" id="1662191">0</span><span class="op" id="1662192">,</span>&nbsp;<span class="ident" id="1662194"><a href="/io/io.go.html#1649917">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1662199">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662202">if</span>&nbsp;<span class="ident" id="1662205">int64</span><span class="op" id="1662210">(</span><span class="builtinfunc" id="1662211">len</span><span class="op" id="1662214">(</span><span class="ident" id="1662215"><a href="/io/io.go.html#1662136">p</a></span><span class="op" id="1662216">)</span><span class="op" id="1662217">)</span>&nbsp;<span class="op" id="1662219">&gt;</span>&nbsp;<span class="ident" id="1662221"><a href="/io/io.go.html#1662113">l</a></span><span class="op" id="1662222">.</span><span class="ident" id="1662223">N</span>&nbsp;<span class="op" id="1662225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662229"><a href="/io/io.go.html#1662136">p</a></span>&nbsp;<span class="op" id="1662231">=</span>&nbsp;<span class="ident" id="1662233"><a href="/io/io.go.html#1662136">p</a></span><span class="op" id="1662234">[</span><span class="num" id="1662235">0</span><span class="op" id="1662236">:</span><span class="ident" id="1662237"><a href="/io/io.go.html#1662113">l</a></span><span class="op" id="1662238">.</span><span class="ident" id="1662239">N</span><span class="op" id="1662240">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1662243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662246"><a href="/io/io.go.html#1662147">n</a></span><span class="op" id="1662247">,</span>&nbsp;<span class="ident" id="1662249"><a href="/io/io.go.html#1662154">err</a></span>&nbsp;<span class="op" id="1662253">=</span>&nbsp;<span class="ident" id="1662255"><a href="/io/io.go.html#1662113">l</a></span><span class="op" id="1662256">.</span><span class="ident" id="1662257">R</span><span class="op" id="1662258">.</span><span class="ident" id="1662259">Read</span><span class="op" id="1662263">(</span><span class="ident" id="1662264"><a href="/io/io.go.html#1662136">p</a></span><span class="op" id="1662265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662268"><a href="/io/io.go.html#1662113">l</a></span><span class="op" id="1662269">.</span><span class="ident" id="1662270">N</span>&nbsp;<span class="op" id="1662272">-=</span>&nbsp;<span class="ident" id="1662275">int64</span><span class="op" id="1662280">(</span><span class="ident" id="1662281"><a href="/io/io.go.html#1662147">n</a></span><span class="op" id="1662282">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662285">return</span><br>
<span class="lineno"></span><span class="op" id="1662292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1662295">//&nbsp;NewSectionReader&nbsp;returns&nbsp;a&nbsp;SectionReader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="1662357">//&nbsp;starting&nbsp;at&nbsp;offset&nbsp;off&nbsp;and&nbsp;stops&nbsp;with&nbsp;EOF&nbsp;after&nbsp;n&nbsp;bytes.</span><br>
<span class="lineno">415</span><span class="keyword" id="1662417">func</span>&nbsp;<span class="ident" id="1662422">NewSectionReader</span><span class="op" id="1662438">(</span><span class="ident" id="1662439">r</span>&nbsp;<span class="ident" id="1662441"><a href="/io/io.go.html#1655952">ReaderAt</a></span><span class="op" id="1662449">,</span>&nbsp;<span class="ident" id="1662451">off</span>&nbsp;<span class="ident" id="1662455">int64</span><span class="op" id="1662460">,</span>&nbsp;<span class="ident" id="1662462">n</span>&nbsp;<span class="ident" id="1662464">int64</span><span class="op" id="1662469">)</span>&nbsp;<span class="op" id="1662471">*</span><span class="ident" id="1662472"><a href="/io/io.go.html#1662635">SectionReader</a></span>&nbsp;<span class="op" id="1662486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662489">return</span>&nbsp;<span class="op" id="1662496">&amp;</span><span class="ident" id="1662497"><a href="/io/io.go.html#1662635">SectionReader</a></span><span class="op" id="1662510">{</span><span class="ident" id="1662511"><a href="/io/io.go.html#1662439">r</a></span><span class="op" id="1662512">,</span>&nbsp;<span class="ident" id="1662514"><a href="/io/io.go.html#1662451">off</a></span><span class="op" id="1662517">,</span>&nbsp;<span class="ident" id="1662519"><a href="/io/io.go.html#1662451">off</a></span><span class="op" id="1662522">,</span>&nbsp;<span class="ident" id="1662524"><a href="/io/io.go.html#1662451">off</a></span>&nbsp;<span class="op" id="1662528">+</span>&nbsp;<span class="ident" id="1662530"><a href="/io/io.go.html#1662462">n</a></span><span class="op" id="1662531">}</span><br>
<span class="lineno"></span><span class="op" id="1662533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1662536">//&nbsp;SectionReader&nbsp;implements&nbsp;Read,&nbsp;Seek,&nbsp;and&nbsp;ReadAt&nbsp;on&nbsp;a&nbsp;section</span><br>
<span class="lineno">420</span><span class="comment" id="1662600">//&nbsp;of&nbsp;an&nbsp;underlying&nbsp;ReaderAt.</span><br>
<span class="lineno"></span><span class="keyword" id="1662630">type</span>&nbsp;<span class="ident" id="1662635">SectionReader</span>&nbsp;<span class="keyword" id="1662649">struct</span>&nbsp;<span class="op" id="1662656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662659">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662665"><a href="/io/io.go.html#1655952">ReaderAt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662675">base</span>&nbsp;&nbsp;<span class="ident" id="1662681">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662688">off</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="1662694">int64</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662701">limit</span>&nbsp;<span class="ident" id="1662707">int64</span><br>
<span class="lineno"></span><span class="op" id="1662713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1662716">func</span>&nbsp;<span class="op" id="1662721">(</span><span class="ident" id="1662722">s</span>&nbsp;<span class="op" id="1662724">*</span><span class="ident" id="1662725"><a href="/io/io.go.html#1662635">SectionReader</a></span><span class="op" id="1662738">)</span>&nbsp;<span class="ident" id="1662740">Read</span><span class="op" id="1662744">(</span><span class="ident" id="1662745">p</span>&nbsp;<span class="op" id="1662747">[</span><span class="op" id="1662748">]</span><span class="builtintype" id="1662749">byte</span><span class="op" id="1662753">)</span>&nbsp;<span class="op" id="1662755">(</span><span class="ident" id="1662756">n</span>&nbsp;<span class="builtintype" id="1662758">int</span><span class="op" id="1662761">,</span>&nbsp;<span class="ident" id="1662763">err</span>&nbsp;<span class="builtintype" id="1662767">error</span><span class="op" id="1662772">)</span>&nbsp;<span class="op" id="1662774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662777">if</span>&nbsp;<span class="ident" id="1662780"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662781">.</span><span class="ident" id="1662782">off</span>&nbsp;<span class="op" id="1662786">&gt;=</span>&nbsp;<span class="ident" id="1662789"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662790">.</span><span class="ident" id="1662791">limit</span>&nbsp;<span class="op" id="1662797">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662801">return</span>&nbsp;<span class="num" id="1662808">0</span><span class="op" id="1662809">,</span>&nbsp;<span class="ident" id="1662811"><a href="/io/io.go.html#1649917">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1662816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662819">if</span>&nbsp;<span class="ident" id="1662822">max</span>&nbsp;<span class="op" id="1662826">:=</span>&nbsp;<span class="ident" id="1662829"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662830">.</span><span class="ident" id="1662831">limit</span>&nbsp;<span class="op" id="1662837">-</span>&nbsp;<span class="ident" id="1662839"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662840">.</span><span class="ident" id="1662841">off</span><span class="op" id="1662844">;</span>&nbsp;<span class="ident" id="1662846">int64</span><span class="op" id="1662851">(</span><span class="builtinfunc" id="1662852">len</span><span class="op" id="1662855">(</span><span class="ident" id="1662856"><a href="/io/io.go.html#1662745">p</a></span><span class="op" id="1662857">)</span><span class="op" id="1662858">)</span>&nbsp;<span class="op" id="1662860">&gt;</span>&nbsp;<span class="ident" id="1662862"><a href="/io/io.go.html#1662822">max</a></span>&nbsp;<span class="op" id="1662866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662870"><a href="/io/io.go.html#1662745">p</a></span>&nbsp;<span class="op" id="1662872">=</span>&nbsp;<span class="ident" id="1662874"><a href="/io/io.go.html#1662745">p</a></span><span class="op" id="1662875">[</span><span class="num" id="1662876">0</span><span class="op" id="1662877">:</span><span class="ident" id="1662878"><a href="/io/io.go.html#1662822">max</a></span><span class="op" id="1662881">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1662884">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662887"><a href="/io/io.go.html#1662756">n</a></span><span class="op" id="1662888">,</span>&nbsp;<span class="ident" id="1662890"><a href="/io/io.go.html#1662763">err</a></span>&nbsp;<span class="op" id="1662894">=</span>&nbsp;<span class="ident" id="1662896"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662897">.</span><span class="ident" id="1662898">r</span><span class="op" id="1662899">.</span><span class="ident" id="1662900">ReadAt</span><span class="op" id="1662906">(</span><span class="ident" id="1662907"><a href="/io/io.go.html#1662745">p</a></span><span class="op" id="1662908">,</span>&nbsp;<span class="ident" id="1662910"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662911">.</span><span class="ident" id="1662912">off</span><span class="op" id="1662915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1662918"><a href="/io/io.go.html#1662722">s</a></span><span class="op" id="1662919">.</span><span class="ident" id="1662920">off</span>&nbsp;<span class="op" id="1662924">+=</span>&nbsp;<span class="ident" id="1662927">int64</span><span class="op" id="1662932">(</span><span class="ident" id="1662933"><a href="/io/io.go.html#1662756">n</a></span><span class="op" id="1662934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1662937">return</span><br>
<span class="lineno"></span><span class="op" id="1662944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="keyword" id="1662947">var</span>&nbsp;<span class="ident" id="1662951">errWhence</span>&nbsp;<span class="op" id="1662961">=</span>&nbsp;<span class="ident" id="1662963"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1662969">.</span><span class="ident" id="1662970">New</span><span class="op" id="1662973">(</span><span class="string" id="1662974">&#34;Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="1662996">)</span><br>
<span class="lineno"></span><span class="keyword" id="1662998">var</span>&nbsp;<span class="ident" id="1663002">errOffset</span>&nbsp;<span class="op" id="1663012">=</span>&nbsp;<span class="ident" id="1663014"><a href="/io/io.go.html#1649311">errors</a></span><span class="op" id="1663020">.</span><span class="ident" id="1663021">New</span><span class="op" id="1663024">(</span><span class="string" id="1663025">&#34;Seek:&nbsp;invalid&nbsp;offset&#34;</span><span class="op" id="1663047">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1663050">func</span>&nbsp;<span class="op" id="1663055">(</span><span class="ident" id="1663056">s</span>&nbsp;<span class="op" id="1663058">*</span><span class="ident" id="1663059"><a href="/io/io.go.html#1662635">SectionReader</a></span><span class="op" id="1663072">)</span>&nbsp;<span class="ident" id="1663074">Seek</span><span class="op" id="1663078">(</span><span class="ident" id="1663079">offset</span>&nbsp;<span class="ident" id="1663086">int64</span><span class="op" id="1663091">,</span>&nbsp;<span class="ident" id="1663093">whence</span>&nbsp;<span class="builtintype" id="1663100">int</span><span class="op" id="1663103">)</span>&nbsp;<span class="op" id="1663105">(</span><span class="ident" id="1663106">int64</span><span class="op" id="1663111">,</span>&nbsp;<span class="builtintype" id="1663113">error</span><span class="op" id="1663118">)</span>&nbsp;<span class="op" id="1663120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663123">switch</span>&nbsp;<span class="ident" id="1663130"><a href="/io/io.go.html#1663093">whence</a></span>&nbsp;<span class="op" id="1663137">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663140">default</span><span class="op" id="1663147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663151">return</span>&nbsp;<span class="num" id="1663158">0</span><span class="op" id="1663159">,</span>&nbsp;<span class="ident" id="1663161"><a href="/io/io.go.html#1662951">errWhence</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663172">case</span>&nbsp;<span class="num" id="1663177">0</span><span class="op" id="1663178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663182"><a href="/io/io.go.html#1663079">offset</a></span>&nbsp;<span class="op" id="1663189">+=</span>&nbsp;<span class="ident" id="1663192"><a href="/io/io.go.html#1663056">s</a></span><span class="op" id="1663193">.</span><span class="ident" id="1663194">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663200">case</span>&nbsp;<span class="num" id="1663205">1</span><span class="op" id="1663206">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663210"><a href="/io/io.go.html#1663079">offset</a></span>&nbsp;<span class="op" id="1663217">+=</span>&nbsp;<span class="ident" id="1663220"><a href="/io/io.go.html#1663056">s</a></span><span class="op" id="1663221">.</span><span class="ident" id="1663222">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663227">case</span>&nbsp;<span class="num" id="1663232">2</span><span class="op" id="1663233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663237"><a href="/io/io.go.html#1663079">offset</a></span>&nbsp;<span class="op" id="1663244">+=</span>&nbsp;<span class="ident" id="1663247"><a href="/io/io.go.html#1663056">s</a></span><span class="op" id="1663248">.</span><span class="ident" id="1663249">limit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663259">if</span>&nbsp;<span class="ident" id="1663262"><a href="/io/io.go.html#1663079">offset</a></span>&nbsp;<span class="op" id="1663269">&lt;</span>&nbsp;<span class="ident" id="1663271"><a href="/io/io.go.html#1663056">s</a></span><span class="op" id="1663272">.</span><span class="ident" id="1663273">base</span>&nbsp;<span class="op" id="1663278">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663282">return</span>&nbsp;<span class="num" id="1663289">0</span><span class="op" id="1663290">,</span>&nbsp;<span class="ident" id="1663292"><a href="/io/io.go.html#1663002">errOffset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663306"><a href="/io/io.go.html#1663056">s</a></span><span class="op" id="1663307">.</span><span class="ident" id="1663308">off</span>&nbsp;<span class="op" id="1663312">=</span>&nbsp;<span class="ident" id="1663314"><a href="/io/io.go.html#1663079">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663322">return</span>&nbsp;<span class="ident" id="1663329"><a href="/io/io.go.html#1663079">offset</a></span>&nbsp;<span class="op" id="1663336">-</span>&nbsp;<span class="ident" id="1663338"><a href="/io/io.go.html#1663056">s</a></span><span class="op" id="1663339">.</span><span class="ident" id="1663340">base</span><span class="op" id="1663344">,</span>&nbsp;<span class="ident" id="1663346">nil</span><br>
<span class="lineno"></span><span class="op" id="1663350">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="1663353">func</span>&nbsp;<span class="op" id="1663358">(</span><span class="ident" id="1663359">s</span>&nbsp;<span class="op" id="1663361">*</span><span class="ident" id="1663362"><a href="/io/io.go.html#1662635">SectionReader</a></span><span class="op" id="1663375">)</span>&nbsp;<span class="ident" id="1663377">ReadAt</span><span class="op" id="1663383">(</span><span class="ident" id="1663384">p</span>&nbsp;<span class="op" id="1663386">[</span><span class="op" id="1663387">]</span><span class="builtintype" id="1663388">byte</span><span class="op" id="1663392">,</span>&nbsp;<span class="ident" id="1663394">off</span>&nbsp;<span class="ident" id="1663398">int64</span><span class="op" id="1663403">)</span>&nbsp;<span class="op" id="1663405">(</span><span class="ident" id="1663406">n</span>&nbsp;<span class="builtintype" id="1663408">int</span><span class="op" id="1663411">,</span>&nbsp;<span class="ident" id="1663413">err</span>&nbsp;<span class="builtintype" id="1663417">error</span><span class="op" id="1663422">)</span>&nbsp;<span class="op" id="1663424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663427">if</span>&nbsp;<span class="ident" id="1663430"><a href="/io/io.go.html#1663394">off</a></span>&nbsp;<span class="op" id="1663434">&lt;</span>&nbsp;<span class="num" id="1663436">0</span>&nbsp;<span class="op" id="1663438">||</span>&nbsp;<span class="ident" id="1663441"><a href="/io/io.go.html#1663394">off</a></span>&nbsp;<span class="op" id="1663445">&gt;=</span>&nbsp;<span class="ident" id="1663448"><a href="/io/io.go.html#1663359">s</a></span><span class="op" id="1663449">.</span><span class="ident" id="1663450">limit</span><span class="op" id="1663455">-</span><span class="ident" id="1663456"><a href="/io/io.go.html#1663359">s</a></span><span class="op" id="1663457">.</span><span class="ident" id="1663458">base</span>&nbsp;<span class="op" id="1663463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663467">return</span>&nbsp;<span class="num" id="1663474">0</span><span class="op" id="1663475">,</span>&nbsp;<span class="ident" id="1663477"><a href="/io/io.go.html#1649917">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663482">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663485"><a href="/io/io.go.html#1663394">off</a></span>&nbsp;<span class="op" id="1663489">+=</span>&nbsp;<span class="ident" id="1663492"><a href="/io/io.go.html#1663359">s</a></span><span class="op" id="1663493">.</span><span class="ident" id="1663494">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663500">if</span>&nbsp;<span class="ident" id="1663503">max</span>&nbsp;<span class="op" id="1663507">:=</span>&nbsp;<span class="ident" id="1663510"><a href="/io/io.go.html#1663359">s</a></span><span class="op" id="1663511">.</span><span class="ident" id="1663512">limit</span>&nbsp;<span class="op" id="1663518">-</span>&nbsp;<span class="ident" id="1663520"><a href="/io/io.go.html#1663394">off</a></span><span class="op" id="1663523">;</span>&nbsp;<span class="ident" id="1663525">int64</span><span class="op" id="1663530">(</span><span class="builtinfunc" id="1663531">len</span><span class="op" id="1663534">(</span><span class="ident" id="1663535"><a href="/io/io.go.html#1663384">p</a></span><span class="op" id="1663536">)</span><span class="op" id="1663537">)</span>&nbsp;<span class="op" id="1663539">&gt;</span>&nbsp;<span class="ident" id="1663541"><a href="/io/io.go.html#1663503">max</a></span>&nbsp;<span class="op" id="1663545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663549"><a href="/io/io.go.html#1663384">p</a></span>&nbsp;<span class="op" id="1663551">=</span>&nbsp;<span class="ident" id="1663553"><a href="/io/io.go.html#1663384">p</a></span><span class="op" id="1663554">[</span><span class="num" id="1663555">0</span><span class="op" id="1663556">:</span><span class="ident" id="1663557"><a href="/io/io.go.html#1663503">max</a></span><span class="op" id="1663560">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663564"><a href="/io/io.go.html#1663406">n</a></span><span class="op" id="1663565">,</span>&nbsp;<span class="ident" id="1663567"><a href="/io/io.go.html#1663413">err</a></span>&nbsp;<span class="op" id="1663571">=</span>&nbsp;<span class="ident" id="1663573"><a href="/io/io.go.html#1663359">s</a></span><span class="op" id="1663574">.</span><span class="ident" id="1663575">r</span><span class="op" id="1663576">.</span><span class="ident" id="1663577">ReadAt</span><span class="op" id="1663583">(</span><span class="ident" id="1663584"><a href="/io/io.go.html#1663384">p</a></span><span class="op" id="1663585">,</span>&nbsp;<span class="ident" id="1663587"><a href="/io/io.go.html#1663394">off</a></span><span class="op" id="1663590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663594">if</span>&nbsp;<span class="ident" id="1663597"><a href="/io/io.go.html#1663413">err</a></span>&nbsp;<span class="op" id="1663601">==</span>&nbsp;<span class="ident" id="1663604">nil</span>&nbsp;<span class="op" id="1663608">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1663613"><a href="/io/io.go.html#1663413">err</a></span>&nbsp;<span class="op" id="1663617">=</span>&nbsp;<span class="ident" id="1663619"><a href="/io/io.go.html#1649917">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663629">return</span>&nbsp;<span class="ident" id="1663636"><a href="/io/io.go.html#1663406">n</a></span><span class="op" id="1663637">,</span>&nbsp;<span class="ident" id="1663639"><a href="/io/io.go.html#1663413">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1663644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1663647">return</span>&nbsp;<span class="ident" id="1663654"><a href="/io/io.go.html#1663359">s</a></span><span class="op" id="1663655">.</span><span class="ident" id="1663656">r</span><span class="op" id="1663657">.</span><span class="ident" id="1663658">ReadAt</span><span class="op" id="1663664">(</span><span class="ident" id="1663665"><a href="/io/io.go.html#1663384">p</a></span><span class="op" id="1663666">,</span>&nbsp;<span class="ident" id="1663668"><a href="/io/io.go.html#1663394">off</a></span><span class="op" id="1663671">)</span><br>
<span class="lineno">475</span><span class="op" id="1663673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1663676">//&nbsp;Size&nbsp;returns&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;section&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="1663726">func</span>&nbsp;<span class="op" id="1663731">(</span><span class="ident" id="1663732">s</span>&nbsp;<span class="op" id="1663734">*</span><span class="ident" id="1663735"><a href="/io/io.go.html#1662635">SectionReader</a></span><span class="op" id="1663748">)</span>&nbsp;<span class="ident" id="1663750">Size</span><span class="op" id="1663754">(</span><span class="op" id="1663755">)</span>&nbsp;<span class="ident" id="1663757">int64</span>&nbsp;<span class="op" id="1663763">{</span>&nbsp;<span class="keyword" id="1663765">return</span>&nbsp;<span class="ident" id="1663772"><a href="/io/io.go.html#1663732">s</a></span><span class="op" id="1663773">.</span><span class="ident" id="1663774">limit</span>&nbsp;<span class="op" id="1663780">-</span>&nbsp;<span class="ident" id="1663782"><a href="/io/io.go.html#1663732">s</a></span><span class="op" id="1663783">.</span><span class="ident" id="1663784">base</span>&nbsp;<span class="op" id="1663789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="comment" id="1663792">//&nbsp;TeeReader&nbsp;returns&nbsp;a&nbsp;Reader&nbsp;that&nbsp;writes&nbsp;to&nbsp;w&nbsp;what&nbsp;it&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="1663861">//&nbsp;All&nbsp;reads&nbsp;from&nbsp;r&nbsp;performed&nbsp;through&nbsp;it&nbsp;are&nbsp;matched&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="1663919">//&nbsp;corresponding&nbsp;writes&nbsp;to&nbsp;w.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;internal&nbsp;buffering&nbsp;-</span><br>
<span class="lineno"></span><span class="comment" id="1663983">//&nbsp;the&nbsp;write&nbsp;must&nbsp;complete&nbsp;before&nbsp;the&nbsp;read&nbsp;completes.</span><br>
<span class="lineno"></span><span class="comment" id="1664037">//&nbsp;Any&nbsp;error&nbsp;encountered&nbsp;while&nbsp;writing&nbsp;is&nbsp;reported&nbsp;as&nbsp;a&nbsp;read&nbsp;error.</span><br>
<span class="lineno">485</span><span class="keyword" id="1664105">func</span>&nbsp;<span class="ident" id="1664110">TeeReader</span><span class="op" id="1664119">(</span><span class="ident" id="1664120">r</span>&nbsp;<span class="ident" id="1664122"><a href="/io/io.go.html#1651790">Reader</a></span><span class="op" id="1664128">,</span>&nbsp;<span class="ident" id="1664130">w</span>&nbsp;<span class="ident" id="1664132"><a href="/io/io.go.html#1652281">Writer</a></span><span class="op" id="1664138">)</span>&nbsp;<span class="ident" id="1664140"><a href="/io/io.go.html#1651790">Reader</a></span>&nbsp;<span class="op" id="1664147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664150">return</span>&nbsp;<span class="op" id="1664157">&amp;</span><span class="ident" id="1664158"><a href="/io/io.go.html#1664182">teeReader</a></span><span class="op" id="1664167">{</span><span class="ident" id="1664168"><a href="/io/io.go.html#1664120">r</a></span><span class="op" id="1664169">,</span>&nbsp;<span class="ident" id="1664171"><a href="/io/io.go.html#1664130">w</a></span><span class="op" id="1664172">}</span><br>
<span class="lineno"></span><span class="op" id="1664174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1664177">type</span>&nbsp;<span class="ident" id="1664182">teeReader</span>&nbsp;<span class="keyword" id="1664192">struct</span>&nbsp;<span class="op" id="1664199">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664202">r</span>&nbsp;<span class="ident" id="1664204"><a href="/io/io.go.html#1651790">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664212">w</span>&nbsp;<span class="ident" id="1664214"><a href="/io/io.go.html#1652281">Writer</a></span><br>
<span class="lineno"></span><span class="op" id="1664221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1664224">func</span>&nbsp;<span class="op" id="1664229">(</span><span class="ident" id="1664230">t</span>&nbsp;<span class="op" id="1664232">*</span><span class="ident" id="1664233"><a href="/io/io.go.html#1664182">teeReader</a></span><span class="op" id="1664242">)</span>&nbsp;<span class="ident" id="1664244">Read</span><span class="op" id="1664248">(</span><span class="ident" id="1664249">p</span>&nbsp;<span class="op" id="1664251">[</span><span class="op" id="1664252">]</span><span class="builtintype" id="1664253">byte</span><span class="op" id="1664257">)</span>&nbsp;<span class="op" id="1664259">(</span><span class="ident" id="1664260">n</span>&nbsp;<span class="builtintype" id="1664262">int</span><span class="op" id="1664265">,</span>&nbsp;<span class="ident" id="1664267">err</span>&nbsp;<span class="builtintype" id="1664271">error</span><span class="op" id="1664276">)</span>&nbsp;<span class="op" id="1664278">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1664281"><a href="/io/io.go.html#1664260">n</a></span><span class="op" id="1664282">,</span>&nbsp;<span class="ident" id="1664284"><a href="/io/io.go.html#1664267">err</a></span>&nbsp;<span class="op" id="1664288">=</span>&nbsp;<span class="ident" id="1664290"><a href="/io/io.go.html#1664230">t</a></span><span class="op" id="1664291">.</span><span class="ident" id="1664292">r</span><span class="op" id="1664293">.</span><span class="ident" id="1664294">Read</span><span class="op" id="1664298">(</span><span class="ident" id="1664299"><a href="/io/io.go.html#1664249">p</a></span><span class="op" id="1664300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664303">if</span>&nbsp;<span class="ident" id="1664306"><a href="/io/io.go.html#1664260">n</a></span>&nbsp;<span class="op" id="1664308">&gt;</span>&nbsp;<span class="num" id="1664310">0</span>&nbsp;<span class="op" id="1664312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664316">if</span>&nbsp;<span class="ident" id="1664319">n</span><span class="op" id="1664320">,</span>&nbsp;<span class="ident" id="1664322">err</span>&nbsp;<span class="op" id="1664326">:=</span>&nbsp;<span class="ident" id="1664329"><a href="/io/io.go.html#1664230">t</a></span><span class="op" id="1664330">.</span><span class="ident" id="1664331">w</span><span class="op" id="1664332">.</span><span class="ident" id="1664333">Write</span><span class="op" id="1664338">(</span><span class="ident" id="1664339"><a href="/io/io.go.html#1664249">p</a></span><span class="op" id="1664340">[</span><span class="op" id="1664341">:</span><span class="ident" id="1664342"><a href="/io/io.go.html#1664260">n</a></span><span class="op" id="1664343">]</span><span class="op" id="1664344">)</span><span class="op" id="1664345">;</span>&nbsp;<span class="ident" id="1664347"><a href="/io/io.go.html#1664322">err</a></span>&nbsp;<span class="op" id="1664351">!=</span>&nbsp;<span class="ident" id="1664354">nil</span>&nbsp;<span class="op" id="1664358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664363">return</span>&nbsp;<span class="ident" id="1664370"><a href="/io/io.go.html#1664319">n</a></span><span class="op" id="1664371">,</span>&nbsp;<span class="ident" id="1664373"><a href="/io/io.go.html#1664322">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1664379">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1664382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1664385">return</span><br>
<span class="lineno"></span><span class="op" id="1664392">}</span>
</div>
</body>
</html>
