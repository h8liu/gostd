<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6555907">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6555962">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6556016">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6556067">package</span>&nbsp;<span class="ident" id="6556075">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6556081">import</span>&nbsp;<span class="op" id="6556088">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6556091">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6556104">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6556110">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6556127">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6556137">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6556140">func</span>&nbsp;<span class="ident" id="6556145">checker</span><span class="op" id="6556152">(</span><span class="ident" id="6556153">t</span>&nbsp;<span class="op" id="6556155">*</span><span class="ident" id="6556156">testing</span><span class="op" id="6556163">.</span><span class="ident" id="6556164">T</span><span class="op" id="6556165">)</span>&nbsp;<span class="keyword" id="6556167">func</span><span class="op" id="6556171">(</span><span class="builtintype" id="6556172">string</span><span class="op" id="6556178">,</span>&nbsp;<span class="builtintype" id="6556180">error</span><span class="op" id="6556185">)</span>&nbsp;<span class="op" id="6556187">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556190">return</span>&nbsp;<span class="keyword" id="6556197">func</span><span class="op" id="6556201">(</span><span class="ident" id="6556202">call</span>&nbsp;<span class="builtintype" id="6556207">string</span><span class="op" id="6556213">,</span>&nbsp;<span class="ident" id="6556215">err</span>&nbsp;<span class="builtintype" id="6556219">error</span><span class="op" id="6556224">)</span>&nbsp;<span class="op" id="6556226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556230">if</span>&nbsp;<span class="ident" id="6556233">err</span>&nbsp;<span class="op" id="6556237">==</span>&nbsp;<span class="ident" id="6556240">nil</span>&nbsp;<span class="op" id="6556244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556249">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6556258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556262">t</span><span class="op" id="6556263">.</span><span class="ident" id="6556264">Fatalf</span><span class="op" id="6556270">(</span><span class="string" id="6556271">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="6556279">,</span>&nbsp;<span class="ident" id="6556281">call</span><span class="op" id="6556285">,</span>&nbsp;<span class="ident" id="6556287">err</span><span class="op" id="6556290">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6556293">}</span><br>
<span class="lineno"></span><span class="op" id="6556295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6556298">func</span>&nbsp;<span class="ident" id="6556303">TestFileTransport</span><span class="op" id="6556320">(</span><span class="ident" id="6556321">t</span>&nbsp;<span class="op" id="6556323">*</span><span class="ident" id="6556324">testing</span><span class="op" id="6556331">.</span><span class="ident" id="6556332">T</span><span class="op" id="6556333">)</span>&nbsp;<span class="op" id="6556335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556338">check</span>&nbsp;<span class="op" id="6556344">:=</span>&nbsp;<span class="ident" id="6556347">checker</span><span class="op" id="6556354">(</span><span class="ident" id="6556355">t</span><span class="op" id="6556356">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556360">dname</span><span class="op" id="6556365">,</span>&nbsp;<span class="ident" id="6556367">err</span>&nbsp;<span class="op" id="6556371">:=</span>&nbsp;<span class="ident" id="6556374">ioutil</span><span class="op" id="6556380">.</span><span class="ident" id="6556381">TempDir</span><span class="op" id="6556388">(</span><span class="string" id="6556389">&#34;&#34;</span><span class="op" id="6556391">,</span>&nbsp;<span class="string" id="6556393">&#34;&#34;</span><span class="op" id="6556395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556398">check</span><span class="op" id="6556403">(</span><span class="string" id="6556404">&#34;TempDir&#34;</span><span class="op" id="6556413">,</span>&nbsp;<span class="ident" id="6556415">err</span><span class="op" id="6556418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556421">fname</span>&nbsp;<span class="op" id="6556427">:=</span>&nbsp;<span class="ident" id="6556430">filepath</span><span class="op" id="6556438">.</span><span class="ident" id="6556439">Join</span><span class="op" id="6556443">(</span><span class="ident" id="6556444">dname</span><span class="op" id="6556449">,</span>&nbsp;<span class="string" id="6556451">&#34;foo.txt&#34;</span><span class="op" id="6556460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556463">err</span>&nbsp;<span class="op" id="6556467">=</span>&nbsp;<span class="ident" id="6556469">ioutil</span><span class="op" id="6556475">.</span><span class="ident" id="6556476">WriteFile</span><span class="op" id="6556485">(</span><span class="ident" id="6556486">fname</span><span class="op" id="6556491">,</span>&nbsp;<span class="op" id="6556493">[</span><span class="op" id="6556494">]</span><span class="builtintype" id="6556495">byte</span><span class="op" id="6556499">(</span><span class="string" id="6556500">&#34;Bar&#34;</span><span class="op" id="6556505">)</span><span class="op" id="6556506">,</span>&nbsp;<span class="num" id="6556508">0644</span><span class="op" id="6556512">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556515">check</span><span class="op" id="6556520">(</span><span class="string" id="6556521">&#34;WriteFile&#34;</span><span class="op" id="6556532">,</span>&nbsp;<span class="ident" id="6556534">err</span><span class="op" id="6556537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556540">defer</span>&nbsp;<span class="ident" id="6556546">os</span><span class="op" id="6556548">.</span><span class="ident" id="6556549">Remove</span><span class="op" id="6556555">(</span><span class="ident" id="6556556">dname</span><span class="op" id="6556561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556564">defer</span>&nbsp;<span class="ident" id="6556570">os</span><span class="op" id="6556572">.</span><span class="ident" id="6556573">Remove</span><span class="op" id="6556579">(</span><span class="ident" id="6556580">fname</span><span class="op" id="6556585">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556589">tr</span>&nbsp;<span class="op" id="6556592">:=</span>&nbsp;<span class="op" id="6556595">&amp;</span><span class="ident" id="6556596">Transport</span><span class="op" id="6556605">{</span><span class="op" id="6556606">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556609">tr</span><span class="op" id="6556611">.</span><span class="ident" id="6556612">RegisterProtocol</span><span class="op" id="6556628">(</span><span class="string" id="6556629">&#34;file&#34;</span><span class="op" id="6556635">,</span>&nbsp;<span class="ident" id="6556637">NewFileTransport</span><span class="op" id="6556653">(</span><span class="ident" id="6556654">Dir</span><span class="op" id="6556657">(</span><span class="ident" id="6556658">dname</span><span class="op" id="6556663">)</span><span class="op" id="6556664">)</span><span class="op" id="6556665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556668">c</span>&nbsp;<span class="op" id="6556670">:=</span>&nbsp;<span class="op" id="6556673">&amp;</span><span class="ident" id="6556674">Client</span><span class="op" id="6556680">{</span><span class="ident" id="6556681">Transport</span><span class="op" id="6556690">:</span>&nbsp;<span class="ident" id="6556692">tr</span><span class="op" id="6556694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556698">fooURLs</span>&nbsp;<span class="op" id="6556706">:=</span>&nbsp;<span class="op" id="6556709">[</span><span class="op" id="6556710">]</span><span class="builtintype" id="6556711">string</span><span class="op" id="6556717">{</span><span class="string" id="6556718">&#34;file:///foo.txt&#34;</span><span class="op" id="6556735">,</span>&nbsp;<span class="string" id="6556737">&#34;file://../foo.txt&#34;</span><span class="op" id="6556756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556759">for</span>&nbsp;<span class="ident" id="6556763">_</span><span class="op" id="6556764">,</span>&nbsp;<span class="ident" id="6556766">urlstr</span>&nbsp;<span class="op" id="6556773">:=</span>&nbsp;<span class="keyword" id="6556776">range</span>&nbsp;<span class="ident" id="6556782">fooURLs</span>&nbsp;<span class="op" id="6556790">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556794">res</span><span class="op" id="6556797">,</span>&nbsp;<span class="ident" id="6556799">err</span>&nbsp;<span class="op" id="6556803">:=</span>&nbsp;<span class="ident" id="6556806">c</span><span class="op" id="6556807">.</span><span class="ident" id="6556808">Get</span><span class="op" id="6556811">(</span><span class="ident" id="6556812">urlstr</span><span class="op" id="6556818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556822">check</span><span class="op" id="6556827">(</span><span class="string" id="6556828">&#34;Get&nbsp;&#34;</span><span class="op" id="6556834">+</span><span class="ident" id="6556835">urlstr</span><span class="op" id="6556841">,</span>&nbsp;<span class="ident" id="6556843">err</span><span class="op" id="6556846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556850">if</span>&nbsp;<span class="ident" id="6556853">res</span><span class="op" id="6556856">.</span><span class="ident" id="6556857">StatusCode</span>&nbsp;<span class="op" id="6556868">!=</span>&nbsp;<span class="num" id="6556871">200</span>&nbsp;<span class="op" id="6556875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556880">t</span><span class="op" id="6556881">.</span><span class="ident" id="6556882">Errorf</span><span class="op" id="6556888">(</span><span class="string" id="6556889">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="6556924">,</span>&nbsp;<span class="ident" id="6556926">urlstr</span><span class="op" id="6556932">,</span>&nbsp;<span class="ident" id="6556934">res</span><span class="op" id="6556937">.</span><span class="ident" id="6556938">StatusCode</span><span class="op" id="6556948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6556952">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6556956">if</span>&nbsp;<span class="ident" id="6556959">res</span><span class="op" id="6556962">.</span><span class="ident" id="6556963">ContentLength</span>&nbsp;<span class="op" id="6556977">!=</span>&nbsp;<span class="op" id="6556980">-</span><span class="num" id="6556981">1</span>&nbsp;<span class="op" id="6556983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6556988">t</span><span class="op" id="6556989">.</span><span class="ident" id="6556990">Errorf</span><span class="op" id="6556996">(</span><span class="string" id="6556997">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="6557034">,</span>&nbsp;<span class="ident" id="6557036">urlstr</span><span class="op" id="6557042">,</span>&nbsp;<span class="ident" id="6557044">res</span><span class="op" id="6557047">.</span><span class="ident" id="6557048">ContentLength</span><span class="op" id="6557061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6557065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6557069">if</span>&nbsp;<span class="ident" id="6557072">res</span><span class="op" id="6557075">.</span><span class="ident" id="6557076">Body</span>&nbsp;<span class="op" id="6557081">==</span>&nbsp;<span class="ident" id="6557084">nil</span>&nbsp;<span class="op" id="6557088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557093">t</span><span class="op" id="6557094">.</span><span class="ident" id="6557095">Fatalf</span><span class="op" id="6557101">(</span><span class="string" id="6557102">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="6557120">,</span>&nbsp;<span class="ident" id="6557122">urlstr</span><span class="op" id="6557128">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6557132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557136">slurp</span><span class="op" id="6557141">,</span>&nbsp;<span class="ident" id="6557143">err</span>&nbsp;<span class="op" id="6557147">:=</span>&nbsp;<span class="ident" id="6557150">ioutil</span><span class="op" id="6557156">.</span><span class="ident" id="6557157">ReadAll</span><span class="op" id="6557164">(</span><span class="ident" id="6557165">res</span><span class="op" id="6557168">.</span><span class="ident" id="6557169">Body</span><span class="op" id="6557173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557177">check</span><span class="op" id="6557182">(</span><span class="string" id="6557183">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="6557193">+</span><span class="ident" id="6557194">urlstr</span><span class="op" id="6557200">,</span>&nbsp;<span class="ident" id="6557202">err</span><span class="op" id="6557205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6557209">if</span>&nbsp;<span class="builtintype" id="6557212">string</span><span class="op" id="6557218">(</span><span class="ident" id="6557219">slurp</span><span class="op" id="6557224">)</span>&nbsp;<span class="op" id="6557226">!=</span>&nbsp;<span class="string" id="6557229">&#34;Bar&#34;</span>&nbsp;<span class="op" id="6557235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557240">t</span><span class="op" id="6557241">.</span><span class="ident" id="6557242">Errorf</span><span class="op" id="6557248">(</span><span class="string" id="6557249">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6557282">,</span>&nbsp;<span class="ident" id="6557284">urlstr</span><span class="op" id="6557290">,</span>&nbsp;<span class="builtintype" id="6557292">string</span><span class="op" id="6557298">(</span><span class="ident" id="6557299">slurp</span><span class="op" id="6557304">)</span><span class="op" id="6557305">,</span>&nbsp;<span class="string" id="6557307">&#34;Bar&#34;</span><span class="op" id="6557312">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6557316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6557319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6557323">const</span>&nbsp;<span class="ident" id="6557329">badURL</span>&nbsp;<span class="op" id="6557336">=</span>&nbsp;<span class="string" id="6557338">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557364">res</span><span class="op" id="6557367">,</span>&nbsp;<span class="ident" id="6557369">err</span>&nbsp;<span class="op" id="6557373">:=</span>&nbsp;<span class="ident" id="6557376">c</span><span class="op" id="6557377">.</span><span class="ident" id="6557378">Get</span><span class="op" id="6557381">(</span><span class="ident" id="6557382">badURL</span><span class="op" id="6557388">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557391">check</span><span class="op" id="6557396">(</span><span class="string" id="6557397">&#34;Get&nbsp;&#34;</span><span class="op" id="6557403">+</span><span class="ident" id="6557404">badURL</span><span class="op" id="6557410">,</span>&nbsp;<span class="ident" id="6557412">err</span><span class="op" id="6557415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6557418">if</span>&nbsp;<span class="ident" id="6557421">res</span><span class="op" id="6557424">.</span><span class="ident" id="6557425">StatusCode</span>&nbsp;<span class="op" id="6557436">!=</span>&nbsp;<span class="num" id="6557439">404</span>&nbsp;<span class="op" id="6557443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557447">t</span><span class="op" id="6557448">.</span><span class="ident" id="6557449">Errorf</span><span class="op" id="6557455">(</span><span class="string" id="6557456">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="6557491">,</span>&nbsp;<span class="ident" id="6557493">badURL</span><span class="op" id="6557499">,</span>&nbsp;<span class="ident" id="6557501">res</span><span class="op" id="6557504">.</span><span class="ident" id="6557505">StatusCode</span><span class="op" id="6557515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6557518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6557521">res</span><span class="op" id="6557524">.</span><span class="ident" id="6557525">Body</span><span class="op" id="6557529">.</span><span class="ident" id="6557530">Close</span><span class="op" id="6557535">(</span><span class="op" id="6557536">)</span><br>
<span class="lineno">65</span><span class="op" id="6557538">}</span>
</div>
</body>
</html>
