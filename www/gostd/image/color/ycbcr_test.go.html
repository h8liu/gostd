<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/color</h2>
<ul>
<li><a href="/gostd/image/color/color.go.html">color.go</a></li>
<li><a href="/gostd/image/color/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/color/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8315514">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8315569">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8315623">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8315674">package</span>&nbsp;<span class="ident" id="8315682">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8315689">import</span>&nbsp;<span class="op" id="8315696">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8315699">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8315709">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8315712">func</span>&nbsp;<span class="ident" id="8315717">delta</span><span class="op" id="8315722">(</span><span class="ident" id="8315723">x</span><span class="op" id="8315724">,</span>&nbsp;<span class="ident" id="8315726">y</span>&nbsp;<span class="builtintype" id="8315728">uint8</span><span class="op" id="8315733">)</span>&nbsp;<span class="builtintype" id="8315735">uint8</span>&nbsp;<span class="op" id="8315741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315744">if</span>&nbsp;<span class="ident" id="8315747"><a href="/gostd/image/color/ycbcr_test.go.html#8315723">x</a></span>&nbsp;<span class="op" id="8315749">&gt;=</span>&nbsp;<span class="ident" id="8315752"><a href="/gostd/image/color/ycbcr_test.go.html#8315726">y</a></span>&nbsp;<span class="op" id="8315754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315758">return</span>&nbsp;<span class="ident" id="8315765"><a href="/gostd/image/color/ycbcr_test.go.html#8315723">x</a></span>&nbsp;<span class="op" id="8315767">-</span>&nbsp;<span class="ident" id="8315769"><a href="/gostd/image/color/ycbcr_test.go.html#8315726">y</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315772">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315775">return</span>&nbsp;<span class="ident" id="8315782"><a href="/gostd/image/color/ycbcr_test.go.html#8315726">y</a></span>&nbsp;<span class="op" id="8315784">-</span>&nbsp;<span class="ident" id="8315786"><a href="/gostd/image/color/ycbcr_test.go.html#8315723">x</a></span><br>
<span class="lineno"></span><span class="op" id="8315788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8315791">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;subset&nbsp;of&nbsp;RGB&nbsp;space&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;YCbCr&nbsp;and&nbsp;back&nbsp;to&nbsp;within</span><br>
<span class="lineno"></span><span class="comment" id="8315871">//&nbsp;1/256&nbsp;tolerance.</span><br>
<span class="lineno">20</span><span class="keyword" id="8315891">func</span>&nbsp;<span class="ident" id="8315896">TestRoundtrip</span><span class="op" id="8315909">(</span><span class="ident" id="8315910">t</span>&nbsp;<span class="op" id="8315912">*</span><span class="ident" id="8315913"><a href="/gostd/image/color/ycbcr_test.go.html#8315699">testing</a></span><span class="op" id="8315920">.</span><span class="ident" id="8315921"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8315922">)</span>&nbsp;<span class="op" id="8315924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315927">for</span>&nbsp;<span class="ident" id="8315931">r</span>&nbsp;<span class="op" id="8315933">:=</span>&nbsp;<span class="num" id="8315936">0</span><span class="op" id="8315937">;</span>&nbsp;<span class="ident" id="8315939"><a href="/gostd/image/color/ycbcr_test.go.html#8315931">r</a></span>&nbsp;<span class="op" id="8315941">&lt;</span>&nbsp;<span class="num" id="8315943">255</span><span class="op" id="8315946">;</span>&nbsp;<span class="ident" id="8315948"><a href="/gostd/image/color/ycbcr_test.go.html#8315931">r</a></span>&nbsp;<span class="op" id="8315950">+=</span>&nbsp;<span class="num" id="8315953">7</span>&nbsp;<span class="op" id="8315955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315959">for</span>&nbsp;<span class="ident" id="8315963">g</span>&nbsp;<span class="op" id="8315965">:=</span>&nbsp;<span class="num" id="8315968">0</span><span class="op" id="8315969">;</span>&nbsp;<span class="ident" id="8315971"><a href="/gostd/image/color/ycbcr_test.go.html#8315963">g</a></span>&nbsp;<span class="op" id="8315973">&lt;</span>&nbsp;<span class="num" id="8315975">255</span><span class="op" id="8315978">;</span>&nbsp;<span class="ident" id="8315980"><a href="/gostd/image/color/ycbcr_test.go.html#8315963">g</a></span>&nbsp;<span class="op" id="8315982">+=</span>&nbsp;<span class="num" id="8315985">5</span>&nbsp;<span class="op" id="8315987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315992">for</span>&nbsp;<span class="ident" id="8315996">b</span>&nbsp;<span class="op" id="8315998">:=</span>&nbsp;<span class="num" id="8316001">0</span><span class="op" id="8316002">;</span>&nbsp;<span class="ident" id="8316004"><a href="/gostd/image/color/ycbcr_test.go.html#8315996">b</a></span>&nbsp;<span class="op" id="8316006">&lt;</span>&nbsp;<span class="num" id="8316008">255</span><span class="op" id="8316011">;</span>&nbsp;<span class="ident" id="8316013"><a href="/gostd/image/color/ycbcr_test.go.html#8315996">b</a></span>&nbsp;<span class="op" id="8316015">+=</span>&nbsp;<span class="num" id="8316018">3</span>&nbsp;<span class="op" id="8316020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316026">r0</span><span class="op" id="8316028">,</span>&nbsp;<span class="ident" id="8316030">g0</span><span class="op" id="8316032">,</span>&nbsp;<span class="ident" id="8316034">b0</span>&nbsp;<span class="op" id="8316037">:=</span>&nbsp;<span class="builtintype" id="8316040">uint8</span><span class="op" id="8316045">(</span><span class="ident" id="8316046"><a href="/gostd/image/color/ycbcr_test.go.html#8315931">r</a></span><span class="op" id="8316047">)</span><span class="op" id="8316048">,</span>&nbsp;<span class="builtintype" id="8316050">uint8</span><span class="op" id="8316055">(</span><span class="ident" id="8316056"><a href="/gostd/image/color/ycbcr_test.go.html#8315963">g</a></span><span class="op" id="8316057">)</span><span class="op" id="8316058">,</span>&nbsp;<span class="builtintype" id="8316060">uint8</span><span class="op" id="8316065">(</span><span class="ident" id="8316066"><a href="/gostd/image/color/ycbcr_test.go.html#8315996">b</a></span><span class="op" id="8316067">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316073">y</span><span class="op" id="8316074">,</span>&nbsp;<span class="ident" id="8316076">cb</span><span class="op" id="8316078">,</span>&nbsp;<span class="ident" id="8316080">cr</span>&nbsp;<span class="op" id="8316083">:=</span>&nbsp;<span class="ident" id="8316086"><a href="/gostd/image/color/ycbcr.go.html#5191752">RGBToYCbCr</a></span><span class="op" id="8316096">(</span><span class="ident" id="8316097"><a href="/gostd/image/color/ycbcr_test.go.html#8316026">r0</a></span><span class="op" id="8316099">,</span>&nbsp;<span class="ident" id="8316101"><a href="/gostd/image/color/ycbcr_test.go.html#8316030">g0</a></span><span class="op" id="8316103">,</span>&nbsp;<span class="ident" id="8316105"><a href="/gostd/image/color/ycbcr_test.go.html#8316034">b0</a></span><span class="op" id="8316107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316113">r1</span><span class="op" id="8316115">,</span>&nbsp;<span class="ident" id="8316117">g1</span><span class="op" id="8316119">,</span>&nbsp;<span class="ident" id="8316121">b1</span>&nbsp;<span class="op" id="8316124">:=</span>&nbsp;<span class="ident" id="8316127"><a href="/gostd/image/color/ycbcr.go.html#5192523">YCbCrToRGB</a></span><span class="op" id="8316137">(</span><span class="ident" id="8316138"><a href="/gostd/image/color/ycbcr_test.go.html#8316073">y</a></span><span class="op" id="8316139">,</span>&nbsp;<span class="ident" id="8316141"><a href="/gostd/image/color/ycbcr_test.go.html#8316076">cb</a></span><span class="op" id="8316143">,</span>&nbsp;<span class="ident" id="8316145"><a href="/gostd/image/color/ycbcr_test.go.html#8316080">cr</a></span><span class="op" id="8316147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316153">if</span>&nbsp;<span class="ident" id="8316156"><a href="/gostd/image/color/ycbcr_test.go.html#8315717">delta</a></span><span class="op" id="8316161">(</span><span class="ident" id="8316162"><a href="/gostd/image/color/ycbcr_test.go.html#8316026">r0</a></span><span class="op" id="8316164">,</span>&nbsp;<span class="ident" id="8316166"><a href="/gostd/image/color/ycbcr_test.go.html#8316113">r1</a></span><span class="op" id="8316168">)</span>&nbsp;<span class="op" id="8316170">&gt;</span>&nbsp;<span class="num" id="8316172">1</span>&nbsp;<span class="op" id="8316174">||</span>&nbsp;<span class="ident" id="8316177"><a href="/gostd/image/color/ycbcr_test.go.html#8315717">delta</a></span><span class="op" id="8316182">(</span><span class="ident" id="8316183"><a href="/gostd/image/color/ycbcr_test.go.html#8316030">g0</a></span><span class="op" id="8316185">,</span>&nbsp;<span class="ident" id="8316187"><a href="/gostd/image/color/ycbcr_test.go.html#8316117">g1</a></span><span class="op" id="8316189">)</span>&nbsp;<span class="op" id="8316191">&gt;</span>&nbsp;<span class="num" id="8316193">1</span>&nbsp;<span class="op" id="8316195">||</span>&nbsp;<span class="ident" id="8316198"><a href="/gostd/image/color/ycbcr_test.go.html#8315717">delta</a></span><span class="op" id="8316203">(</span><span class="ident" id="8316204"><a href="/gostd/image/color/ycbcr_test.go.html#8316034">b0</a></span><span class="op" id="8316206">,</span>&nbsp;<span class="ident" id="8316208"><a href="/gostd/image/color/ycbcr_test.go.html#8316121">b1</a></span><span class="op" id="8316210">)</span>&nbsp;<span class="op" id="8316212">&gt;</span>&nbsp;<span class="num" id="8316214">1</span>&nbsp;<span class="op" id="8316216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316223"><a href="/gostd/image/color/ycbcr_test.go.html#8315910">t</a></span><span class="op" id="8316224">.</span><span class="ident" id="8316225"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8316231">(</span><span class="string" id="8316232">&#34;r0,&nbsp;g0,&nbsp;b0&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&nbsp;&nbsp;&nbsp;r1,&nbsp;g1,&nbsp;b1&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8316283">,</span>&nbsp;<span class="ident" id="8316285"><a href="/gostd/image/color/ycbcr_test.go.html#8316026">r0</a></span><span class="op" id="8316287">,</span>&nbsp;<span class="ident" id="8316289"><a href="/gostd/image/color/ycbcr_test.go.html#8316030">g0</a></span><span class="op" id="8316291">,</span>&nbsp;<span class="ident" id="8316293"><a href="/gostd/image/color/ycbcr_test.go.html#8316034">b0</a></span><span class="op" id="8316295">,</span>&nbsp;<span class="ident" id="8316297"><a href="/gostd/image/color/ycbcr_test.go.html#8316113">r1</a></span><span class="op" id="8316299">,</span>&nbsp;<span class="ident" id="8316301"><a href="/gostd/image/color/ycbcr_test.go.html#8316117">g1</a></span><span class="op" id="8316303">,</span>&nbsp;<span class="ident" id="8316305"><a href="/gostd/image/color/ycbcr_test.go.html#8316121">b1</a></span><span class="op" id="8316307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316313">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316325">}</span><br>
<span class="lineno"></span><span class="op" id="8316327">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
