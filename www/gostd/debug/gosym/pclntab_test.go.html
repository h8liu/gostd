<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html" class="current">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6480647">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6480703">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6480757">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6480808">package</span>&nbsp;<span class="ident" id="6480816">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6480823">import</span>&nbsp;<span class="op" id="6480830">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480833">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480846">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480853">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480866">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480872">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480883">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480900">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480911">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6480922">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6480932">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6480935">var</span>&nbsp;<span class="op" id="6480939">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480942">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6480959">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6480967">pclinetestBinary</span>&nbsp;<span class="builtintype" id="6480984">string</span><br>
<span class="lineno"></span><span class="op" id="6480991">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6480994">func</span>&nbsp;<span class="ident" id="6480999">dotest</span><span class="op" id="6481005">(</span><span class="ident" id="6481006">self</span>&nbsp;<span class="builtintype" id="6481011">bool</span><span class="op" id="6481015">)</span>&nbsp;<span class="builtintype" id="6481017">bool</span>&nbsp;<span class="op" id="6481022">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6481025">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481069">if</span>&nbsp;<span class="ident" id="6481072">runtime</span><span class="op" id="6481079">.</span><span class="ident" id="6481080">GOARCH</span>&nbsp;<span class="op" id="6481087">!=</span>&nbsp;<span class="string" id="6481090">&#34;amd64&#34;</span>&nbsp;<span class="op" id="6481098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481102">return</span>&nbsp;<span class="builtintype" id="6481109">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6481119">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481173">if</span>&nbsp;<span class="ident" id="6481176">self</span>&nbsp;<span class="op" id="6481181">&amp;&amp;</span>&nbsp;<span class="ident" id="6481184">runtime</span><span class="op" id="6481191">.</span><span class="ident" id="6481192">GOOS</span>&nbsp;<span class="op" id="6481197">!=</span>&nbsp;<span class="string" id="6481200">&#34;linux&#34;</span>&nbsp;<span class="op" id="6481208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481212">return</span>&nbsp;<span class="builtintype" id="6481219">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6481229">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481270">if</span>&nbsp;<span class="ident" id="6481273">runtime</span><span class="op" id="6481280">.</span><span class="ident" id="6481281">GOOS</span>&nbsp;<span class="op" id="6481286">==</span>&nbsp;<span class="string" id="6481289">&#34;windows&#34;</span>&nbsp;<span class="op" id="6481299">||</span>&nbsp;<span class="ident" id="6481302">runtime</span><span class="op" id="6481309">.</span><span class="ident" id="6481310">GOOS</span>&nbsp;<span class="op" id="6481315">==</span>&nbsp;<span class="string" id="6481318">&#34;plan9&#34;</span>&nbsp;<span class="op" id="6481326">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481330">return</span>&nbsp;<span class="builtintype" id="6481337">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481347">if</span>&nbsp;<span class="ident" id="6481350">pclinetestBinary</span>&nbsp;<span class="op" id="6481367">!=</span>&nbsp;<span class="string" id="6481370">&#34;&#34;</span>&nbsp;<span class="op" id="6481373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481377">return</span>&nbsp;<span class="builtintype" id="6481384">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481390">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481393">var</span>&nbsp;<span class="ident" id="6481397">err</span>&nbsp;<span class="builtintype" id="6481401">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481408">pclineTempDir</span><span class="op" id="6481421">,</span>&nbsp;<span class="ident" id="6481423">err</span>&nbsp;<span class="op" id="6481427">=</span>&nbsp;<span class="ident" id="6481429">ioutil</span><span class="op" id="6481435">.</span><span class="ident" id="6481436">TempDir</span><span class="op" id="6481443">(</span><span class="string" id="6481444">&#34;&#34;</span><span class="op" id="6481446">,</span>&nbsp;<span class="string" id="6481448">&#34;pclinetest&#34;</span><span class="op" id="6481460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481463">if</span>&nbsp;<span class="ident" id="6481466">err</span>&nbsp;<span class="op" id="6481470">!=</span>&nbsp;<span class="ident" id="6481473">nil</span>&nbsp;<span class="op" id="6481477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6481481">panic</span><span class="op" id="6481486">(</span><span class="ident" id="6481487">err</span><span class="op" id="6481490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481493">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6481496">if</span>&nbsp;<span class="ident" id="6481499">strings</span><span class="op" id="6481506">.</span><span class="ident" id="6481507">Contains</span><span class="op" id="6481515">(</span><span class="ident" id="6481516">pclineTempDir</span><span class="op" id="6481529">,</span>&nbsp;<span class="string" id="6481531">&#34;&nbsp;&#34;</span><span class="op" id="6481534">)</span>&nbsp;<span class="op" id="6481536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6481540">panic</span><span class="op" id="6481545">(</span><span class="string" id="6481546">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="6481575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6481578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6481581">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6481637">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6481705">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481766">pclinetestBinary</span>&nbsp;<span class="op" id="6481783">=</span>&nbsp;<span class="ident" id="6481785">filepath</span><span class="op" id="6481793">.</span><span class="ident" id="6481794">Join</span><span class="op" id="6481798">(</span><span class="ident" id="6481799">pclineTempDir</span><span class="op" id="6481812">,</span>&nbsp;<span class="string" id="6481814">&#34;pclinetest&#34;</span><span class="op" id="6481826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481829">command</span>&nbsp;<span class="op" id="6481837">:=</span>&nbsp;<span class="ident" id="6481840">fmt</span><span class="op" id="6481843">.</span><span class="ident" id="6481844">Sprintf</span><span class="op" id="6481851">(</span><span class="string" id="6481852">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="6481929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481933">pclinetestBinary</span><span class="op" id="6481949">,</span>&nbsp;<span class="ident" id="6481951">pclinetestBinary</span><span class="op" id="6481967">,</span>&nbsp;<span class="ident" id="6481969">pclinetestBinary</span><span class="op" id="6481985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6481988">cmd</span>&nbsp;<span class="op" id="6481992">:=</span>&nbsp;<span class="ident" id="6481995">exec</span><span class="op" id="6481999">.</span><span class="ident" id="6482000">Command</span><span class="op" id="6482007">(</span><span class="string" id="6482008">&#34;sh&#34;</span><span class="op" id="6482012">,</span>&nbsp;<span class="string" id="6482014">&#34;-c&#34;</span><span class="op" id="6482018">,</span>&nbsp;<span class="ident" id="6482020">command</span><span class="op" id="6482027">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482030">cmd</span><span class="op" id="6482033">.</span><span class="ident" id="6482034">Stdout</span>&nbsp;<span class="op" id="6482041">=</span>&nbsp;<span class="ident" id="6482043">os</span><span class="op" id="6482045">.</span><span class="ident" id="6482046">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482054">cmd</span><span class="op" id="6482057">.</span><span class="ident" id="6482058">Stderr</span>&nbsp;<span class="op" id="6482065">=</span>&nbsp;<span class="ident" id="6482067">os</span><span class="op" id="6482069">.</span><span class="ident" id="6482070">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482078">if</span>&nbsp;<span class="ident" id="6482081">err</span>&nbsp;<span class="op" id="6482085">:=</span>&nbsp;<span class="ident" id="6482088">cmd</span><span class="op" id="6482091">.</span><span class="ident" id="6482092">Run</span><span class="op" id="6482095">(</span><span class="op" id="6482096">)</span><span class="op" id="6482097">;</span>&nbsp;<span class="ident" id="6482099">err</span>&nbsp;<span class="op" id="6482103">!=</span>&nbsp;<span class="ident" id="6482106">nil</span>&nbsp;<span class="op" id="6482110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6482114">panic</span><span class="op" id="6482119">(</span><span class="ident" id="6482120">err</span><span class="op" id="6482123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6482126">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482129">return</span>&nbsp;<span class="builtintype" id="6482136">true</span><br>
<span class="lineno"></span><span class="op" id="6482141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6482144">func</span>&nbsp;<span class="ident" id="6482149">endtest</span><span class="op" id="6482156">(</span><span class="op" id="6482157">)</span>&nbsp;<span class="op" id="6482159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482162">if</span>&nbsp;<span class="ident" id="6482165">pclineTempDir</span>&nbsp;<span class="op" id="6482179">!=</span>&nbsp;<span class="string" id="6482182">&#34;&#34;</span>&nbsp;<span class="op" id="6482185">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482189">os</span><span class="op" id="6482191">.</span><span class="ident" id="6482192">RemoveAll</span><span class="op" id="6482201">(</span><span class="ident" id="6482202">pclineTempDir</span><span class="op" id="6482215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482219">pclineTempDir</span>&nbsp;<span class="op" id="6482233">=</span>&nbsp;<span class="string" id="6482235">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482240">pclinetestBinary</span>&nbsp;<span class="op" id="6482257">=</span>&nbsp;<span class="string" id="6482259">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6482263">}</span><br>
<span class="lineno"></span><span class="op" id="6482265">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6482268">func</span>&nbsp;<span class="ident" id="6482273">getTable</span><span class="op" id="6482281">(</span><span class="ident" id="6482282">t</span>&nbsp;<span class="op" id="6482284">*</span><span class="ident" id="6482285">testing</span><span class="op" id="6482292">.</span><span class="ident" id="6482293">T</span><span class="op" id="6482294">)</span>&nbsp;<span class="op" id="6482296">*</span><span class="ident" id="6482297">Table</span>&nbsp;<span class="op" id="6482303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482306">f</span><span class="op" id="6482307">,</span>&nbsp;<span class="ident" id="6482309">tab</span>&nbsp;<span class="op" id="6482313">:=</span>&nbsp;<span class="ident" id="6482316">crack</span><span class="op" id="6482321">(</span><span class="ident" id="6482322">os</span><span class="op" id="6482324">.</span><span class="ident" id="6482325">Args</span><span class="op" id="6482329">[</span><span class="num" id="6482330">0</span><span class="op" id="6482331">]</span><span class="op" id="6482332">,</span>&nbsp;<span class="ident" id="6482334">t</span><span class="op" id="6482335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482338">f</span><span class="op" id="6482339">.</span><span class="ident" id="6482340">Close</span><span class="op" id="6482345">(</span><span class="op" id="6482346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482349">return</span>&nbsp;<span class="ident" id="6482356">tab</span><br>
<span class="lineno">75</span><span class="op" id="6482360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6482363">func</span>&nbsp;<span class="ident" id="6482368">crack</span><span class="op" id="6482373">(</span><span class="ident" id="6482374">file</span>&nbsp;<span class="builtintype" id="6482379">string</span><span class="op" id="6482385">,</span>&nbsp;<span class="ident" id="6482387">t</span>&nbsp;<span class="op" id="6482389">*</span><span class="ident" id="6482390">testing</span><span class="op" id="6482397">.</span><span class="ident" id="6482398">T</span><span class="op" id="6482399">)</span>&nbsp;<span class="op" id="6482401">(</span><span class="op" id="6482402">*</span><span class="ident" id="6482403">elf</span><span class="op" id="6482406">.</span><span class="ident" id="6482407">File</span><span class="op" id="6482411">,</span>&nbsp;<span class="op" id="6482413">*</span><span class="ident" id="6482414">Table</span><span class="op" id="6482419">)</span>&nbsp;<span class="op" id="6482421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6482424">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482438">f</span><span class="op" id="6482439">,</span>&nbsp;<span class="ident" id="6482441">err</span>&nbsp;<span class="op" id="6482445">:=</span>&nbsp;<span class="ident" id="6482448">elf</span><span class="op" id="6482451">.</span><span class="ident" id="6482452">Open</span><span class="op" id="6482456">(</span><span class="ident" id="6482457">file</span><span class="op" id="6482461">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482464">if</span>&nbsp;<span class="ident" id="6482467">err</span>&nbsp;<span class="op" id="6482471">!=</span>&nbsp;<span class="ident" id="6482474">nil</span>&nbsp;<span class="op" id="6482478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482482">t</span><span class="op" id="6482483">.</span><span class="ident" id="6482484">Fatal</span><span class="op" id="6482489">(</span><span class="ident" id="6482490">err</span><span class="op" id="6482493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6482496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482499">return</span>&nbsp;<span class="ident" id="6482506">parse</span><span class="op" id="6482511">(</span><span class="ident" id="6482512">file</span><span class="op" id="6482516">,</span>&nbsp;<span class="ident" id="6482518">f</span><span class="op" id="6482519">,</span>&nbsp;<span class="ident" id="6482521">t</span><span class="op" id="6482522">)</span><br>
<span class="lineno"></span><span class="op" id="6482524">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="6482527">func</span>&nbsp;<span class="ident" id="6482532">parse</span><span class="op" id="6482537">(</span><span class="ident" id="6482538">file</span>&nbsp;<span class="builtintype" id="6482543">string</span><span class="op" id="6482549">,</span>&nbsp;<span class="ident" id="6482551">f</span>&nbsp;<span class="op" id="6482553">*</span><span class="ident" id="6482554">elf</span><span class="op" id="6482557">.</span><span class="ident" id="6482558">File</span><span class="op" id="6482562">,</span>&nbsp;<span class="ident" id="6482564">t</span>&nbsp;<span class="op" id="6482566">*</span><span class="ident" id="6482567">testing</span><span class="op" id="6482574">.</span><span class="ident" id="6482575">T</span><span class="op" id="6482576">)</span>&nbsp;<span class="op" id="6482578">(</span><span class="op" id="6482579">*</span><span class="ident" id="6482580">elf</span><span class="op" id="6482583">.</span><span class="ident" id="6482584">File</span><span class="op" id="6482588">,</span>&nbsp;<span class="op" id="6482590">*</span><span class="ident" id="6482591">Table</span><span class="op" id="6482596">)</span>&nbsp;<span class="op" id="6482598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482601">symdat</span><span class="op" id="6482607">,</span>&nbsp;<span class="ident" id="6482609">err</span>&nbsp;<span class="op" id="6482613">:=</span>&nbsp;<span class="ident" id="6482616">f</span><span class="op" id="6482617">.</span><span class="ident" id="6482618">Section</span><span class="op" id="6482625">(</span><span class="string" id="6482626">&#34;.gosymtab&#34;</span><span class="op" id="6482637">)</span><span class="op" id="6482638">.</span><span class="ident" id="6482639">Data</span><span class="op" id="6482643">(</span><span class="op" id="6482644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482647">if</span>&nbsp;<span class="ident" id="6482650">err</span>&nbsp;<span class="op" id="6482654">!=</span>&nbsp;<span class="ident" id="6482657">nil</span>&nbsp;<span class="op" id="6482661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482665">f</span><span class="op" id="6482666">.</span><span class="ident" id="6482667">Close</span><span class="op" id="6482672">(</span><span class="op" id="6482673">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482677">t</span><span class="op" id="6482678">.</span><span class="ident" id="6482679">Fatalf</span><span class="op" id="6482685">(</span><span class="string" id="6482686">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="6482711">,</span>&nbsp;<span class="ident" id="6482713">file</span><span class="op" id="6482717">,</span>&nbsp;<span class="ident" id="6482719">err</span><span class="op" id="6482722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6482725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482728">pclndat</span><span class="op" id="6482735">,</span>&nbsp;<span class="ident" id="6482737">err</span>&nbsp;<span class="op" id="6482741">:=</span>&nbsp;<span class="ident" id="6482744">f</span><span class="op" id="6482745">.</span><span class="ident" id="6482746">Section</span><span class="op" id="6482753">(</span><span class="string" id="6482754">&#34;.gopclntab&#34;</span><span class="op" id="6482766">)</span><span class="op" id="6482767">.</span><span class="ident" id="6482768">Data</span><span class="op" id="6482772">(</span><span class="op" id="6482773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482776">if</span>&nbsp;<span class="ident" id="6482779">err</span>&nbsp;<span class="op" id="6482783">!=</span>&nbsp;<span class="ident" id="6482786">nil</span>&nbsp;<span class="op" id="6482790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482794">f</span><span class="op" id="6482795">.</span><span class="ident" id="6482796">Close</span><span class="op" id="6482801">(</span><span class="op" id="6482802">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482806">t</span><span class="op" id="6482807">.</span><span class="ident" id="6482808">Fatalf</span><span class="op" id="6482814">(</span><span class="string" id="6482815">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="6482841">,</span>&nbsp;<span class="ident" id="6482843">file</span><span class="op" id="6482847">,</span>&nbsp;<span class="ident" id="6482849">err</span><span class="op" id="6482852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6482855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482859">pcln</span>&nbsp;<span class="op" id="6482864">:=</span>&nbsp;<span class="ident" id="6482867">NewLineTable</span><span class="op" id="6482879">(</span><span class="ident" id="6482880">pclndat</span><span class="op" id="6482887">,</span>&nbsp;<span class="ident" id="6482889">f</span><span class="op" id="6482890">.</span><span class="ident" id="6482891">Section</span><span class="op" id="6482898">(</span><span class="string" id="6482899">&#34;.text&#34;</span><span class="op" id="6482906">)</span><span class="op" id="6482907">.</span><span class="ident" id="6482908">Addr</span><span class="op" id="6482912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482915">tab</span><span class="op" id="6482918">,</span>&nbsp;<span class="ident" id="6482920">err</span>&nbsp;<span class="op" id="6482924">:=</span>&nbsp;<span class="ident" id="6482927">NewTable</span><span class="op" id="6482935">(</span><span class="ident" id="6482936">symdat</span><span class="op" id="6482942">,</span>&nbsp;<span class="ident" id="6482944">pcln</span><span class="op" id="6482948">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6482951">if</span>&nbsp;<span class="ident" id="6482954">err</span>&nbsp;<span class="op" id="6482958">!=</span>&nbsp;<span class="ident" id="6482961">nil</span>&nbsp;<span class="op" id="6482965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482969">f</span><span class="op" id="6482970">.</span><span class="ident" id="6482971">Close</span><span class="op" id="6482976">(</span><span class="op" id="6482977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6482981">t</span><span class="op" id="6482982">.</span><span class="ident" id="6482983">Fatalf</span><span class="op" id="6482989">(</span><span class="string" id="6482990">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="6483015">,</span>&nbsp;<span class="ident" id="6483017">file</span><span class="op" id="6483021">,</span>&nbsp;<span class="ident" id="6483023">err</span><span class="op" id="6483026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483033">return</span>&nbsp;<span class="ident" id="6483040">f</span><span class="op" id="6483041">,</span>&nbsp;<span class="ident" id="6483043">tab</span><br>
<span class="lineno"></span><span class="op" id="6483047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6483050">var</span>&nbsp;<span class="ident" id="6483054">goarch</span>&nbsp;<span class="op" id="6483061">=</span>&nbsp;<span class="ident" id="6483063">os</span><span class="op" id="6483065">.</span><span class="ident" id="6483066">Getenv</span><span class="op" id="6483072">(</span><span class="string" id="6483073">&#34;O&#34;</span><span class="op" id="6483076">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6483079">func</span>&nbsp;<span class="ident" id="6483084">TestLineFromAline</span><span class="op" id="6483101">(</span><span class="ident" id="6483102">t</span>&nbsp;<span class="op" id="6483104">*</span><span class="ident" id="6483105">testing</span><span class="op" id="6483112">.</span><span class="ident" id="6483113">T</span><span class="op" id="6483114">)</span>&nbsp;<span class="op" id="6483116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483119">if</span>&nbsp;<span class="op" id="6483122">!</span><span class="ident" id="6483123">dotest</span><span class="op" id="6483129">(</span><span class="builtintype" id="6483130">true</span><span class="op" id="6483134">)</span>&nbsp;<span class="op" id="6483136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483140">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483151">defer</span>&nbsp;<span class="ident" id="6483157">endtest</span><span class="op" id="6483164">(</span><span class="op" id="6483165">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483169">tab</span>&nbsp;<span class="op" id="6483173">:=</span>&nbsp;<span class="ident" id="6483176">getTable</span><span class="op" id="6483184">(</span><span class="ident" id="6483185">t</span><span class="op" id="6483186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483189">if</span>&nbsp;<span class="ident" id="6483192">tab</span><span class="op" id="6483195">.</span><span class="ident" id="6483196">go12line</span>&nbsp;<span class="op" id="6483205">!=</span>&nbsp;<span class="ident" id="6483208">nil</span>&nbsp;<span class="op" id="6483212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6483216">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483262">t</span><span class="op" id="6483263">.</span><span class="ident" id="6483264">Skip</span><span class="op" id="6483268">(</span><span class="string" id="6483269">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="6483306">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6483313">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483338">pkg</span>&nbsp;<span class="op" id="6483342">:=</span>&nbsp;<span class="ident" id="6483345">tab</span><span class="op" id="6483348">.</span><span class="ident" id="6483349">LookupFunc</span><span class="op" id="6483359">(</span><span class="string" id="6483360">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="6483391">)</span><span class="op" id="6483392">.</span><span class="ident" id="6483393">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483398">if</span>&nbsp;<span class="ident" id="6483401">pkg</span>&nbsp;<span class="op" id="6483405">==</span>&nbsp;<span class="ident" id="6483408">nil</span>&nbsp;<span class="op" id="6483412">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483416">t</span><span class="op" id="6483417">.</span><span class="ident" id="6483418">Fatalf</span><span class="op" id="6483424">(</span><span class="string" id="6483425">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="6483434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6483441">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6483499">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483529">lastline</span>&nbsp;<span class="op" id="6483538">:=</span>&nbsp;<span class="builtinfunc" id="6483541">make</span><span class="op" id="6483545">(</span><span class="keyword" id="6483546">map</span><span class="op" id="6483549">[</span><span class="builtintype" id="6483550">string</span><span class="op" id="6483556">]</span><span class="builtintype" id="6483557">int</span><span class="op" id="6483560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483563">final</span>&nbsp;<span class="op" id="6483569">:=</span>&nbsp;<span class="op" id="6483572">-</span><span class="num" id="6483573">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483576">for</span>&nbsp;<span class="ident" id="6483580">i</span>&nbsp;<span class="op" id="6483582">:=</span>&nbsp;<span class="num" id="6483585">0</span><span class="op" id="6483586">;</span>&nbsp;<span class="ident" id="6483588">i</span>&nbsp;<span class="op" id="6483590">&lt;</span>&nbsp;<span class="num" id="6483592">10000</span><span class="op" id="6483597">;</span>&nbsp;<span class="ident" id="6483599">i</span><span class="op" id="6483600">++</span>&nbsp;<span class="op" id="6483603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483607">path</span><span class="op" id="6483611">,</span>&nbsp;<span class="ident" id="6483613">line</span>&nbsp;<span class="op" id="6483618">:=</span>&nbsp;<span class="ident" id="6483621">pkg</span><span class="op" id="6483624">.</span><span class="ident" id="6483625">lineFromAline</span><span class="op" id="6483638">(</span><span class="ident" id="6483639">i</span><span class="op" id="6483640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6483644">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483673">if</span>&nbsp;<span class="ident" id="6483676">path</span>&nbsp;<span class="op" id="6483681">==</span>&nbsp;<span class="string" id="6483684">&#34;&#34;</span>&nbsp;<span class="op" id="6483687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483692">if</span>&nbsp;<span class="ident" id="6483695">final</span>&nbsp;<span class="op" id="6483701">==</span>&nbsp;<span class="op" id="6483704">-</span><span class="num" id="6483705">1</span>&nbsp;<span class="op" id="6483707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483713">final</span>&nbsp;<span class="op" id="6483719">=</span>&nbsp;<span class="ident" id="6483721">i</span>&nbsp;<span class="op" id="6483723">-</span>&nbsp;<span class="num" id="6483725">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483735">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483746">}</span>&nbsp;<span class="keyword" id="6483748">else</span>&nbsp;<span class="keyword" id="6483753">if</span>&nbsp;<span class="ident" id="6483756">final</span>&nbsp;<span class="op" id="6483762">!=</span>&nbsp;<span class="op" id="6483765">-</span><span class="num" id="6483766">1</span>&nbsp;<span class="op" id="6483768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483773">t</span><span class="op" id="6483774">.</span><span class="ident" id="6483775">Fatalf</span><span class="op" id="6483781">(</span><span class="string" id="6483782">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="6483864">,</span>&nbsp;<span class="ident" id="6483866">final</span><span class="op" id="6483871">,</span>&nbsp;<span class="ident" id="6483873">i</span><span class="op" id="6483874">,</span>&nbsp;<span class="ident" id="6483876">path</span><span class="op" id="6483880">,</span>&nbsp;<span class="ident" id="6483882">line</span><span class="op" id="6483886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6483890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6483894">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483951">if</span>&nbsp;<span class="ident" id="6483954">line</span>&nbsp;<span class="op" id="6483959">==</span>&nbsp;<span class="num" id="6483962">1</span>&nbsp;<span class="op" id="6483964">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6483969">lastline</span><span class="op" id="6483977">[</span><span class="ident" id="6483978">path</span><span class="op" id="6483982">]</span>&nbsp;<span class="op" id="6483984">=</span>&nbsp;<span class="num" id="6483986">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6483991">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6484006">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484051">ll</span><span class="op" id="6484053">,</span>&nbsp;<span class="ident" id="6484055">ok</span>&nbsp;<span class="op" id="6484058">:=</span>&nbsp;<span class="ident" id="6484061">lastline</span><span class="op" id="6484069">[</span><span class="ident" id="6484070">path</span><span class="op" id="6484074">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484078">if</span>&nbsp;<span class="op" id="6484081">!</span><span class="ident" id="6484082">ok</span>&nbsp;<span class="op" id="6484085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484090">t</span><span class="op" id="6484091">.</span><span class="ident" id="6484092">Errorf</span><span class="op" id="6484098">(</span><span class="string" id="6484099">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="6484126">,</span>&nbsp;<span class="ident" id="6484128">path</span><span class="op" id="6484132">,</span>&nbsp;<span class="ident" id="6484134">line</span><span class="op" id="6484138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484142">}</span>&nbsp;<span class="keyword" id="6484144">else</span>&nbsp;<span class="keyword" id="6484149">if</span>&nbsp;<span class="ident" id="6484152">line</span>&nbsp;<span class="op" id="6484157">!=</span>&nbsp;<span class="ident" id="6484160">ll</span><span class="op" id="6484162">+</span><span class="num" id="6484163">1</span>&nbsp;<span class="op" id="6484165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484170">t</span><span class="op" id="6484171">.</span><span class="ident" id="6484172">Fatalf</span><span class="op" id="6484178">(</span><span class="string" id="6484179">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6484227">,</span>&nbsp;<span class="ident" id="6484229">path</span><span class="op" id="6484233">,</span>&nbsp;<span class="ident" id="6484235">ll</span><span class="op" id="6484237">+</span><span class="num" id="6484238">1</span><span class="op" id="6484239">,</span>&nbsp;<span class="ident" id="6484241">line</span><span class="op" id="6484245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484249">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484253">lastline</span><span class="op" id="6484261">[</span><span class="ident" id="6484262">path</span><span class="op" id="6484266">]</span>&nbsp;<span class="op" id="6484268">=</span>&nbsp;<span class="ident" id="6484270">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484279">if</span>&nbsp;<span class="ident" id="6484282">final</span>&nbsp;<span class="op" id="6484288">==</span>&nbsp;<span class="op" id="6484291">-</span><span class="num" id="6484292">1</span>&nbsp;<span class="op" id="6484294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484298">t</span><span class="op" id="6484299">.</span><span class="ident" id="6484300">Errorf</span><span class="op" id="6484306">(</span><span class="string" id="6484307">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="6484336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484339">}</span><br>
<span class="lineno">160</span><span class="op" id="6484341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6484344">func</span>&nbsp;<span class="ident" id="6484349">TestLineAline</span><span class="op" id="6484362">(</span><span class="ident" id="6484363">t</span>&nbsp;<span class="op" id="6484365">*</span><span class="ident" id="6484366">testing</span><span class="op" id="6484373">.</span><span class="ident" id="6484374">T</span><span class="op" id="6484375">)</span>&nbsp;<span class="op" id="6484377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484380">if</span>&nbsp;<span class="op" id="6484383">!</span><span class="ident" id="6484384">dotest</span><span class="op" id="6484390">(</span><span class="builtintype" id="6484391">true</span><span class="op" id="6484395">)</span>&nbsp;<span class="op" id="6484397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484401">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484412">defer</span>&nbsp;<span class="ident" id="6484418">endtest</span><span class="op" id="6484425">(</span><span class="op" id="6484426">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484430">tab</span>&nbsp;<span class="op" id="6484434">:=</span>&nbsp;<span class="ident" id="6484437">getTable</span><span class="op" id="6484445">(</span><span class="ident" id="6484446">t</span><span class="op" id="6484447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484450">if</span>&nbsp;<span class="ident" id="6484453">tab</span><span class="op" id="6484456">.</span><span class="ident" id="6484457">go12line</span>&nbsp;<span class="op" id="6484466">!=</span>&nbsp;<span class="ident" id="6484469">nil</span>&nbsp;<span class="op" id="6484473">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6484477">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484523">t</span><span class="op" id="6484524">.</span><span class="ident" id="6484525">Skip</span><span class="op" id="6484529">(</span><span class="string" id="6484530">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="6484567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484574">for</span>&nbsp;<span class="ident" id="6484578">_</span><span class="op" id="6484579">,</span>&nbsp;<span class="ident" id="6484581">o</span>&nbsp;<span class="op" id="6484583">:=</span>&nbsp;<span class="keyword" id="6484586">range</span>&nbsp;<span class="ident" id="6484592">tab</span><span class="op" id="6484595">.</span><span class="ident" id="6484596">Files</span>&nbsp;<span class="op" id="6484602">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6484606">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6484656">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6484713">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484767">found</span>&nbsp;<span class="op" id="6484773">:=</span>&nbsp;<span class="builtinfunc" id="6484776">make</span><span class="op" id="6484780">(</span><span class="keyword" id="6484781">map</span><span class="op" id="6484784">[</span><span class="builtintype" id="6484785">string</span><span class="op" id="6484791">]</span><span class="builtintype" id="6484792">int</span><span class="op" id="6484795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484799">for</span>&nbsp;<span class="ident" id="6484803">i</span>&nbsp;<span class="op" id="6484805">:=</span>&nbsp;<span class="num" id="6484808">0</span><span class="op" id="6484809">;</span>&nbsp;<span class="ident" id="6484811">i</span>&nbsp;<span class="op" id="6484813">&lt;</span>&nbsp;<span class="num" id="6484815">1000</span><span class="op" id="6484819">;</span>&nbsp;<span class="ident" id="6484821">i</span><span class="op" id="6484822">++</span>&nbsp;<span class="op" id="6484825">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6484830">path</span><span class="op" id="6484834">,</span>&nbsp;<span class="ident" id="6484836">line</span>&nbsp;<span class="op" id="6484841">:=</span>&nbsp;<span class="ident" id="6484844">o</span><span class="op" id="6484845">.</span><span class="ident" id="6484846">lineFromAline</span><span class="op" id="6484859">(</span><span class="ident" id="6484860">i</span><span class="op" id="6484861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484866">if</span>&nbsp;<span class="ident" id="6484869">path</span>&nbsp;<span class="op" id="6484874">==</span>&nbsp;<span class="string" id="6484877">&#34;&#34;</span>&nbsp;<span class="op" id="6484880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484886">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6484895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6484901">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6484964">if</span>&nbsp;<span class="builtinfunc" id="6484967">len</span><span class="op" id="6484970">(</span><span class="ident" id="6484971">path</span><span class="op" id="6484975">)</span>&nbsp;<span class="op" id="6484977">&gt;</span>&nbsp;<span class="num" id="6484979">4</span>&nbsp;<span class="op" id="6484981">&amp;&amp;</span>&nbsp;<span class="ident" id="6484984">path</span><span class="op" id="6484988">[</span><span class="builtinfunc" id="6484989">len</span><span class="op" id="6484992">(</span><span class="ident" id="6484993">path</span><span class="op" id="6484997">)</span><span class="op" id="6484998">-</span><span class="num" id="6484999">4</span><span class="op" id="6485000">:</span><span class="op" id="6485001">]</span>&nbsp;<span class="op" id="6485003">==</span>&nbsp;<span class="string" id="6485006">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="6485013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485019">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485037">if</span>&nbsp;<span class="ident" id="6485040">minline</span><span class="op" id="6485047">,</span>&nbsp;<span class="ident" id="6485049">ok</span>&nbsp;<span class="op" id="6485052">:=</span>&nbsp;<span class="ident" id="6485055">found</span><span class="op" id="6485060">[</span><span class="ident" id="6485061">path</span><span class="op" id="6485065">]</span><span class="op" id="6485066">;</span>&nbsp;<span class="ident" id="6485068">path</span>&nbsp;<span class="op" id="6485073">!=</span>&nbsp;<span class="string" id="6485076">&#34;&#34;</span>&nbsp;<span class="op" id="6485079">&amp;&amp;</span>&nbsp;<span class="ident" id="6485082">ok</span>&nbsp;<span class="op" id="6485085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485091">if</span>&nbsp;<span class="ident" id="6485094">minline</span>&nbsp;<span class="op" id="6485102">&gt;=</span>&nbsp;<span class="ident" id="6485105">line</span>&nbsp;<span class="op" id="6485110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6485117">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485157">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485170">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485180">found</span><span class="op" id="6485185">[</span><span class="ident" id="6485186">path</span><span class="op" id="6485190">]</span>&nbsp;<span class="op" id="6485192">=</span>&nbsp;<span class="ident" id="6485194">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485203">a</span><span class="op" id="6485204">,</span>&nbsp;<span class="ident" id="6485206">err</span>&nbsp;<span class="op" id="6485210">:=</span>&nbsp;<span class="ident" id="6485213">o</span><span class="op" id="6485214">.</span><span class="ident" id="6485215">alineFromLine</span><span class="op" id="6485228">(</span><span class="ident" id="6485229">path</span><span class="op" id="6485233">,</span>&nbsp;<span class="ident" id="6485235">line</span><span class="op" id="6485239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485244">if</span>&nbsp;<span class="ident" id="6485247">err</span>&nbsp;<span class="op" id="6485251">!=</span>&nbsp;<span class="ident" id="6485254">nil</span>&nbsp;<span class="op" id="6485258">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485264">t</span><span class="op" id="6485265">.</span><span class="ident" id="6485266">Errorf</span><span class="op" id="6485272">(</span><span class="string" id="6485273">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6485356">,</span>&nbsp;<span class="ident" id="6485358">i</span><span class="op" id="6485359">,</span>&nbsp;<span class="ident" id="6485361">o</span><span class="op" id="6485362">.</span><span class="ident" id="6485363">Paths</span><span class="op" id="6485368">[</span><span class="num" id="6485369">0</span><span class="op" id="6485370">]</span><span class="op" id="6485371">.</span><span class="ident" id="6485372">Name</span><span class="op" id="6485376">,</span>&nbsp;<span class="ident" id="6485378">path</span><span class="op" id="6485382">,</span>&nbsp;<span class="ident" id="6485384">line</span><span class="op" id="6485388">,</span>&nbsp;<span class="ident" id="6485390">err</span><span class="op" id="6485393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485398">}</span>&nbsp;<span class="keyword" id="6485400">else</span>&nbsp;<span class="keyword" id="6485405">if</span>&nbsp;<span class="ident" id="6485408">a</span>&nbsp;<span class="op" id="6485410">!=</span>&nbsp;<span class="ident" id="6485413">i</span>&nbsp;<span class="op" id="6485415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485421">t</span><span class="op" id="6485422">.</span><span class="ident" id="6485423">Errorf</span><span class="op" id="6485429">(</span><span class="string" id="6485430">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="6485514">,</span>&nbsp;<span class="ident" id="6485516">i</span><span class="op" id="6485517">,</span>&nbsp;<span class="ident" id="6485519">o</span><span class="op" id="6485520">.</span><span class="ident" id="6485521">Paths</span><span class="op" id="6485526">[</span><span class="num" id="6485527">0</span><span class="op" id="6485528">]</span><span class="op" id="6485529">.</span><span class="ident" id="6485530">Name</span><span class="op" id="6485534">,</span>&nbsp;<span class="ident" id="6485536">path</span><span class="op" id="6485540">,</span>&nbsp;<span class="ident" id="6485542">line</span><span class="op" id="6485546">,</span>&nbsp;<span class="ident" id="6485548">a</span><span class="op" id="6485549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485558">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485561">}</span><br>
<span class="lineno"></span><span class="op" id="6485563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6485566">func</span>&nbsp;<span class="ident" id="6485571">TestPCLine</span><span class="op" id="6485581">(</span><span class="ident" id="6485582">t</span>&nbsp;<span class="op" id="6485584">*</span><span class="ident" id="6485585">testing</span><span class="op" id="6485592">.</span><span class="ident" id="6485593">T</span><span class="op" id="6485594">)</span>&nbsp;<span class="op" id="6485596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485599">if</span>&nbsp;<span class="op" id="6485602">!</span><span class="ident" id="6485603">dotest</span><span class="op" id="6485609">(</span><span class="builtintype" id="6485610">false</span><span class="op" id="6485615">)</span>&nbsp;<span class="op" id="6485617">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485621">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485632">defer</span>&nbsp;<span class="ident" id="6485638">endtest</span><span class="op" id="6485645">(</span><span class="op" id="6485646">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485650">f</span><span class="op" id="6485651">,</span>&nbsp;<span class="ident" id="6485653">tab</span>&nbsp;<span class="op" id="6485657">:=</span>&nbsp;<span class="ident" id="6485660">crack</span><span class="op" id="6485665">(</span><span class="ident" id="6485666">pclinetestBinary</span><span class="op" id="6485682">,</span>&nbsp;<span class="ident" id="6485684">t</span><span class="op" id="6485685">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485688">text</span>&nbsp;<span class="op" id="6485693">:=</span>&nbsp;<span class="ident" id="6485696">f</span><span class="op" id="6485697">.</span><span class="ident" id="6485698">Section</span><span class="op" id="6485705">(</span><span class="string" id="6485706">&#34;.text&#34;</span><span class="op" id="6485713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485716">textdat</span><span class="op" id="6485723">,</span>&nbsp;<span class="ident" id="6485725">err</span>&nbsp;<span class="op" id="6485729">:=</span>&nbsp;<span class="ident" id="6485732">text</span><span class="op" id="6485736">.</span><span class="ident" id="6485737">Data</span><span class="op" id="6485741">(</span><span class="op" id="6485742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485745">if</span>&nbsp;<span class="ident" id="6485748">err</span>&nbsp;<span class="op" id="6485752">!=</span>&nbsp;<span class="ident" id="6485755">nil</span>&nbsp;<span class="op" id="6485759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485763">t</span><span class="op" id="6485764">.</span><span class="ident" id="6485765">Fatalf</span><span class="op" id="6485771">(</span><span class="string" id="6485772">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="6485791">,</span>&nbsp;<span class="ident" id="6485793">err</span><span class="op" id="6485796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6485799">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6485803">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485821">sym</span>&nbsp;<span class="op" id="6485825">:=</span>&nbsp;<span class="ident" id="6485828">tab</span><span class="op" id="6485831">.</span><span class="ident" id="6485832">LookupFunc</span><span class="op" id="6485842">(</span><span class="string" id="6485843">&#34;linefrompc&#34;</span><span class="op" id="6485855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485858">wantLine</span>&nbsp;<span class="op" id="6485867">:=</span>&nbsp;<span class="num" id="6485870">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485873">for</span>&nbsp;<span class="ident" id="6485877">pc</span>&nbsp;<span class="op" id="6485880">:=</span>&nbsp;<span class="ident" id="6485883">sym</span><span class="op" id="6485886">.</span><span class="ident" id="6485887">Entry</span><span class="op" id="6485892">;</span>&nbsp;<span class="ident" id="6485894">pc</span>&nbsp;<span class="op" id="6485897">&lt;</span>&nbsp;<span class="ident" id="6485899">sym</span><span class="op" id="6485902">.</span><span class="ident" id="6485903">End</span><span class="op" id="6485906">;</span>&nbsp;<span class="ident" id="6485908">pc</span><span class="op" id="6485910">++</span>&nbsp;<span class="op" id="6485913">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6485917">off</span>&nbsp;<span class="op" id="6485921">:=</span>&nbsp;<span class="ident" id="6485924">pc</span>&nbsp;<span class="op" id="6485927">-</span>&nbsp;<span class="ident" id="6485929">text</span><span class="op" id="6485933">.</span><span class="ident" id="6485934">Addr</span>&nbsp;<span class="comment" id="6485939">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6485986">if</span>&nbsp;<span class="ident" id="6485989">textdat</span><span class="op" id="6485996">[</span><span class="ident" id="6485997">off</span><span class="op" id="6486000">]</span>&nbsp;<span class="op" id="6486002">==</span>&nbsp;<span class="num" id="6486005">255</span>&nbsp;<span class="op" id="6486009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486014">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486026">wantLine</span>&nbsp;<span class="op" id="6486035">+=</span>&nbsp;<span class="builtintype" id="6486038">int</span><span class="op" id="6486041">(</span><span class="ident" id="6486042">textdat</span><span class="op" id="6486049">[</span><span class="ident" id="6486050">off</span><span class="op" id="6486053">]</span><span class="op" id="6486054">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486058">t</span><span class="op" id="6486059">.</span><span class="ident" id="6486060">Logf</span><span class="op" id="6486064">(</span><span class="string" id="6486065">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="6486089">,</span>&nbsp;<span class="ident" id="6486091">off</span><span class="op" id="6486094">,</span>&nbsp;<span class="ident" id="6486096">textdat</span><span class="op" id="6486103">[</span><span class="ident" id="6486104">off</span><span class="op" id="6486107">]</span><span class="op" id="6486108">,</span>&nbsp;<span class="ident" id="6486110">sym</span><span class="op" id="6486113">.</span><span class="ident" id="6486114">End</span><span class="op" id="6486117">-</span><span class="ident" id="6486118">pc</span><span class="op" id="6486120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486124">file</span><span class="op" id="6486128">,</span>&nbsp;<span class="ident" id="6486130">line</span><span class="op" id="6486134">,</span>&nbsp;<span class="ident" id="6486136">fn</span>&nbsp;<span class="op" id="6486139">:=</span>&nbsp;<span class="ident" id="6486142">tab</span><span class="op" id="6486145">.</span><span class="ident" id="6486146">PCToLine</span><span class="op" id="6486154">(</span><span class="ident" id="6486155">pc</span><span class="op" id="6486157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486161">if</span>&nbsp;<span class="ident" id="6486164">fn</span>&nbsp;<span class="op" id="6486167">==</span>&nbsp;<span class="ident" id="6486170">nil</span>&nbsp;<span class="op" id="6486174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486179">t</span><span class="op" id="6486180">.</span><span class="ident" id="6486181">Errorf</span><span class="op" id="6486187">(</span><span class="string" id="6486188">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="6486218">,</span>&nbsp;<span class="ident" id="6486220">pc</span><span class="op" id="6486222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486226">}</span>&nbsp;<span class="keyword" id="6486228">else</span>&nbsp;<span class="keyword" id="6486233">if</span>&nbsp;<span class="op" id="6486236">!</span><span class="ident" id="6486237">strings</span><span class="op" id="6486244">.</span><span class="ident" id="6486245">HasSuffix</span><span class="op" id="6486254">(</span><span class="ident" id="6486255">file</span><span class="op" id="6486259">,</span>&nbsp;<span class="string" id="6486261">&#34;pclinetest.asm&#34;</span><span class="op" id="6486277">)</span>&nbsp;<span class="op" id="6486279">||</span>&nbsp;<span class="ident" id="6486282">line</span>&nbsp;<span class="op" id="6486287">!=</span>&nbsp;<span class="ident" id="6486290">wantLine</span>&nbsp;<span class="op" id="6486299">||</span>&nbsp;<span class="ident" id="6486302">fn</span>&nbsp;<span class="op" id="6486305">!=</span>&nbsp;<span class="ident" id="6486308">sym</span>&nbsp;<span class="op" id="6486312">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486317">t</span><span class="op" id="6486318">.</span><span class="ident" id="6486319">Errorf</span><span class="op" id="6486325">(</span><span class="string" id="6486326">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="6486371">,</span>&nbsp;<span class="ident" id="6486373">pc</span><span class="op" id="6486375">,</span>&nbsp;<span class="ident" id="6486377">file</span><span class="op" id="6486381">,</span>&nbsp;<span class="ident" id="6486383">line</span><span class="op" id="6486387">,</span>&nbsp;<span class="ident" id="6486389">fn</span><span class="op" id="6486391">.</span><span class="ident" id="6486392">Name</span><span class="op" id="6486396">,</span>&nbsp;<span class="string" id="6486398">&#34;pclinetest.asm&#34;</span><span class="op" id="6486414">,</span>&nbsp;<span class="ident" id="6486416">wantLine</span><span class="op" id="6486424">,</span>&nbsp;<span class="ident" id="6486426">sym</span><span class="op" id="6486429">.</span><span class="ident" id="6486430">Name</span><span class="op" id="6486434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6486445">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486463">sym</span>&nbsp;<span class="op" id="6486467">=</span>&nbsp;<span class="ident" id="6486469">tab</span><span class="op" id="6486472">.</span><span class="ident" id="6486473">LookupFunc</span><span class="op" id="6486483">(</span><span class="string" id="6486484">&#34;pcfromline&#34;</span><span class="op" id="6486496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486499">lookupline</span>&nbsp;<span class="op" id="6486510">:=</span>&nbsp;<span class="op" id="6486513">-</span><span class="num" id="6486514">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486517">wantLine</span>&nbsp;<span class="op" id="6486526">=</span>&nbsp;<span class="num" id="6486528">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486531">off</span>&nbsp;<span class="op" id="6486535">:=</span>&nbsp;<span class="ident" id="6486538">uint64</span><span class="op" id="6486544">(</span><span class="num" id="6486545">0</span><span class="op" id="6486546">)</span>&nbsp;<span class="comment" id="6486548">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486594">for</span>&nbsp;<span class="ident" id="6486598">pc</span>&nbsp;<span class="op" id="6486601">:=</span>&nbsp;<span class="ident" id="6486604">sym</span><span class="op" id="6486607">.</span><span class="ident" id="6486608">Value</span><span class="op" id="6486613">;</span>&nbsp;<span class="ident" id="6486615">pc</span>&nbsp;<span class="op" id="6486618">&lt;</span>&nbsp;<span class="ident" id="6486620">sym</span><span class="op" id="6486623">.</span><span class="ident" id="6486624">End</span><span class="op" id="6486627">;</span>&nbsp;<span class="ident" id="6486629">pc</span>&nbsp;<span class="op" id="6486632">+=</span>&nbsp;<span class="num" id="6486635">2</span>&nbsp;<span class="op" id="6486637">+</span>&nbsp;<span class="ident" id="6486639">uint64</span><span class="op" id="6486645">(</span><span class="ident" id="6486646">textdat</span><span class="op" id="6486653">[</span><span class="ident" id="6486654">off</span><span class="op" id="6486657">]</span><span class="op" id="6486658">)</span>&nbsp;<span class="op" id="6486660">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486664">file</span><span class="op" id="6486668">,</span>&nbsp;<span class="ident" id="6486670">line</span><span class="op" id="6486674">,</span>&nbsp;<span class="ident" id="6486676">fn</span>&nbsp;<span class="op" id="6486679">:=</span>&nbsp;<span class="ident" id="6486682">tab</span><span class="op" id="6486685">.</span><span class="ident" id="6486686">PCToLine</span><span class="op" id="6486694">(</span><span class="ident" id="6486695">pc</span><span class="op" id="6486697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486701">off</span>&nbsp;<span class="op" id="6486705">=</span>&nbsp;<span class="ident" id="6486707">pc</span>&nbsp;<span class="op" id="6486710">-</span>&nbsp;<span class="ident" id="6486712">text</span><span class="op" id="6486716">.</span><span class="ident" id="6486717">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486724">if</span>&nbsp;<span class="ident" id="6486727">textdat</span><span class="op" id="6486734">[</span><span class="ident" id="6486735">off</span><span class="op" id="6486738">]</span>&nbsp;<span class="op" id="6486740">==</span>&nbsp;<span class="num" id="6486743">255</span>&nbsp;<span class="op" id="6486747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486752">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486760">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486764">wantLine</span>&nbsp;<span class="op" id="6486773">+=</span>&nbsp;<span class="builtintype" id="6486776">int</span><span class="op" id="6486779">(</span><span class="ident" id="6486780">textdat</span><span class="op" id="6486787">[</span><span class="ident" id="6486788">off</span><span class="op" id="6486791">]</span><span class="op" id="6486792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486796">if</span>&nbsp;<span class="ident" id="6486799">line</span>&nbsp;<span class="op" id="6486804">!=</span>&nbsp;<span class="ident" id="6486807">wantLine</span>&nbsp;<span class="op" id="6486816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486821">t</span><span class="op" id="6486822">.</span><span class="ident" id="6486823">Errorf</span><span class="op" id="6486829">(</span><span class="string" id="6486830">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6486880">,</span>&nbsp;<span class="ident" id="6486882">wantLine</span><span class="op" id="6486890">,</span>&nbsp;<span class="ident" id="6486892">pc</span><span class="op" id="6486894">,</span>&nbsp;<span class="ident" id="6486896">line</span><span class="op" id="6486900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486905">off</span>&nbsp;<span class="op" id="6486909">=</span>&nbsp;<span class="ident" id="6486911">pc</span>&nbsp;<span class="op" id="6486914">+</span>&nbsp;<span class="num" id="6486916">1</span>&nbsp;<span class="op" id="6486918">-</span>&nbsp;<span class="ident" id="6486920">text</span><span class="op" id="6486924">.</span><span class="ident" id="6486925">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486933">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486948">if</span>&nbsp;<span class="ident" id="6486951">lookupline</span>&nbsp;<span class="op" id="6486962">==</span>&nbsp;<span class="op" id="6486965">-</span><span class="num" id="6486966">1</span>&nbsp;<span class="op" id="6486968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6486973">lookupline</span>&nbsp;<span class="op" id="6486984">=</span>&nbsp;<span class="ident" id="6486986">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6486993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6486997">for</span>&nbsp;<span class="op" id="6487001">;</span>&nbsp;<span class="ident" id="6487003">lookupline</span>&nbsp;<span class="op" id="6487014">&lt;=</span>&nbsp;<span class="ident" id="6487017">line</span><span class="op" id="6487021">;</span>&nbsp;<span class="ident" id="6487023">lookupline</span><span class="op" id="6487033">++</span>&nbsp;<span class="op" id="6487036">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6487041">pc2</span><span class="op" id="6487044">,</span>&nbsp;<span class="ident" id="6487046">fn2</span><span class="op" id="6487049">,</span>&nbsp;<span class="ident" id="6487051">err</span>&nbsp;<span class="op" id="6487055">:=</span>&nbsp;<span class="ident" id="6487058">tab</span><span class="op" id="6487061">.</span><span class="ident" id="6487062">LineToPC</span><span class="op" id="6487070">(</span><span class="ident" id="6487071">file</span><span class="op" id="6487075">,</span>&nbsp;<span class="ident" id="6487077">lookupline</span><span class="op" id="6487087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6487092">if</span>&nbsp;<span class="ident" id="6487095">lookupline</span>&nbsp;<span class="op" id="6487106">!=</span>&nbsp;<span class="ident" id="6487109">line</span>&nbsp;<span class="op" id="6487114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6487120">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6487158">if</span>&nbsp;<span class="ident" id="6487161">err</span>&nbsp;<span class="op" id="6487165">==</span>&nbsp;<span class="ident" id="6487168">nil</span>&nbsp;<span class="op" id="6487172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6487179">t</span><span class="op" id="6487180">.</span><span class="ident" id="6487181">Errorf</span><span class="op" id="6487187">(</span><span class="string" id="6487188">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="6487229">,</span>&nbsp;<span class="ident" id="6487231">lookupline</span><span class="op" id="6487241">,</span>&nbsp;<span class="ident" id="6487243">pc2</span><span class="op" id="6487246">,</span>&nbsp;<span class="ident" id="6487248">fn2</span><span class="op" id="6487251">.</span><span class="ident" id="6487252">Name</span><span class="op" id="6487256">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6487262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6487267">}</span>&nbsp;<span class="keyword" id="6487269">else</span>&nbsp;<span class="keyword" id="6487274">if</span>&nbsp;<span class="ident" id="6487277">err</span>&nbsp;<span class="op" id="6487281">!=</span>&nbsp;<span class="ident" id="6487284">nil</span>&nbsp;<span class="op" id="6487288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6487294">t</span><span class="op" id="6487295">.</span><span class="ident" id="6487296">Errorf</span><span class="op" id="6487302">(</span><span class="string" id="6487303">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6487336">,</span>&nbsp;<span class="ident" id="6487338">lookupline</span><span class="op" id="6487348">,</span>&nbsp;<span class="ident" id="6487350">err</span><span class="op" id="6487353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6487358">}</span>&nbsp;<span class="keyword" id="6487360">else</span>&nbsp;<span class="keyword" id="6487365">if</span>&nbsp;<span class="ident" id="6487368">pc</span>&nbsp;<span class="op" id="6487371">!=</span>&nbsp;<span class="ident" id="6487374">pc2</span>&nbsp;<span class="op" id="6487378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6487384">t</span><span class="op" id="6487385">.</span><span class="ident" id="6487386">Errorf</span><span class="op" id="6487392">(</span><span class="string" id="6487393">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="6487443">,</span>&nbsp;<span class="ident" id="6487445">pc</span><span class="op" id="6487447">,</span>&nbsp;<span class="ident" id="6487449">fn</span><span class="op" id="6487451">.</span><span class="ident" id="6487452">Name</span><span class="op" id="6487456">,</span>&nbsp;<span class="ident" id="6487458">line</span><span class="op" id="6487462">,</span>&nbsp;<span class="ident" id="6487464">pc2</span><span class="op" id="6487467">,</span>&nbsp;<span class="ident" id="6487469">fn2</span><span class="op" id="6487472">.</span><span class="ident" id="6487473">Name</span><span class="op" id="6487477">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6487482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6487486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6487490">off</span>&nbsp;<span class="op" id="6487494">=</span>&nbsp;<span class="ident" id="6487496">pc</span>&nbsp;<span class="op" id="6487499">+</span>&nbsp;<span class="num" id="6487501">1</span>&nbsp;<span class="op" id="6487503">-</span>&nbsp;<span class="ident" id="6487505">text</span><span class="op" id="6487509">.</span><span class="ident" id="6487510">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6487516">}</span><br>
<span class="lineno"></span><span class="op" id="6487518">}</span>
</div>
</body>
</html>
