<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html" class="current">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4983385">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4983440">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4983494">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4983545">package</span>&nbsp;<span class="ident" id="4983553">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4983558">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspSome&nbsp;HTML&nbsp;presented&nbsp;at&nbsp;http://machine:port/debug/rpc<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspLists&nbsp;services,&nbsp;their&nbsp;methods,&nbsp;and&nbsp;some&nbsp;statistics,&nbsp;still&nbsp;rudimentary.<br>
<span class="lineno">10</span>*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4983691">import</span>&nbsp;<span class="op" id="4983698">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4983701">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4983708">&#34;html/template&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4983725">&#34;net/http&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4983737">&#34;sort&#34;</span><br>
<span class="lineno"></span><span class="op" id="4983744">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4983747">const</span>&nbsp;<span class="ident" id="4983753">debugText</span>&nbsp;<span class="op" id="4983763">=</span>&nbsp;<span class="string" id="4983765">`&lt;html&gt;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;title&gt;Services&lt;/title&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp{{range&nbsp;.}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspService&nbsp;{{.Name}}<br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;table&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;th&nbsp;align=center&gt;Method&lt;/th&gt;&lt;th&nbsp;align=center&gt;Calls&lt;/th&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{{range&nbsp;.Method}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;tr&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;td&nbsp;align=left&nbsp;font=fixed&gt;{{.Name}}({{.Type.ArgType}},&nbsp;{{.Type.ReplyType}})&nbsp;error&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;td&nbsp;align=center&gt;{{.Type.NumCalls}}&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/tr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/table&gt;<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;/body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;/html&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984139">var</span>&nbsp;<span class="ident" id="4984143">debug</span>&nbsp;<span class="op" id="4984149">=</span>&nbsp;<span class="ident" id="4984151">template</span><span class="op" id="4984159">.</span><span class="ident" id="4984160">Must</span><span class="op" id="4984164">(</span><span class="ident" id="4984165">template</span><span class="op" id="4984173">.</span><span class="ident" id="4984174">New</span><span class="op" id="4984177">(</span><span class="string" id="4984178">&#34;RPC&nbsp;debug&#34;</span><span class="op" id="4984189">)</span><span class="op" id="4984190">.</span><span class="ident" id="4984191">Parse</span><span class="op" id="4984196">(</span><span class="ident" id="4984197">debugText</span><span class="op" id="4984206">)</span><span class="op" id="4984207">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="4984210">//&nbsp;If&nbsp;set,&nbsp;print&nbsp;log&nbsp;statements&nbsp;for&nbsp;internal&nbsp;and&nbsp;I/O&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="4984271">var</span>&nbsp;<span class="ident" id="4984275">debugLog</span>&nbsp;<span class="op" id="4984284">=</span>&nbsp;<span class="builtintype" id="4984286">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984293">type</span>&nbsp;<span class="ident" id="4984298">debugMethod</span>&nbsp;<span class="keyword" id="4984310">struct</span>&nbsp;<span class="op" id="4984317">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984320">Type</span>&nbsp;<span class="op" id="4984325">*</span><span class="ident" id="4984326">methodType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984338">Name</span>&nbsp;<span class="builtintype" id="4984343">string</span><br>
<span class="lineno"></span><span class="op" id="4984350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984353">type</span>&nbsp;<span class="ident" id="4984358">methodArray</span>&nbsp;<span class="op" id="4984370">[</span><span class="op" id="4984371">]</span><span class="ident" id="4984372">debugMethod</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4984385">type</span>&nbsp;<span class="ident" id="4984390">debugService</span>&nbsp;<span class="keyword" id="4984403">struct</span>&nbsp;<span class="op" id="4984410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984413">Service</span>&nbsp;<span class="op" id="4984421">*</span><span class="ident" id="4984422">service</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984431">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4984439">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4984447">Method</span>&nbsp;&nbsp;<span class="ident" id="4984455">methodArray</span><br>
<span class="lineno">55</span><span class="op" id="4984467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984470">type</span>&nbsp;<span class="ident" id="4984475">serviceArray</span>&nbsp;<span class="op" id="4984488">[</span><span class="op" id="4984489">]</span><span class="ident" id="4984490">debugService</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984504">func</span>&nbsp;<span class="op" id="4984509">(</span><span class="ident" id="4984510">s</span>&nbsp;<span class="ident" id="4984512">serviceArray</span><span class="op" id="4984524">)</span>&nbsp;<span class="ident" id="4984526">Len</span><span class="op" id="4984529">(</span><span class="op" id="4984530">)</span>&nbsp;<span class="builtintype" id="4984532">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4984546">{</span>&nbsp;<span class="keyword" id="4984548">return</span>&nbsp;<span class="builtinfunc" id="4984555">len</span><span class="op" id="4984558">(</span><span class="ident" id="4984559">s</span><span class="op" id="4984560">)</span>&nbsp;<span class="op" id="4984562">}</span><br>
<span class="lineno">60</span><span class="keyword" id="4984564">func</span>&nbsp;<span class="op" id="4984569">(</span><span class="ident" id="4984570">s</span>&nbsp;<span class="ident" id="4984572">serviceArray</span><span class="op" id="4984584">)</span>&nbsp;<span class="ident" id="4984586">Less</span><span class="op" id="4984590">(</span><span class="ident" id="4984591">i</span><span class="op" id="4984592">,</span>&nbsp;<span class="ident" id="4984594">j</span>&nbsp;<span class="builtintype" id="4984596">int</span><span class="op" id="4984599">)</span>&nbsp;<span class="builtintype" id="4984601">bool</span>&nbsp;<span class="op" id="4984606">{</span>&nbsp;<span class="keyword" id="4984608">return</span>&nbsp;<span class="ident" id="4984615">s</span><span class="op" id="4984616">[</span><span class="ident" id="4984617">i</span><span class="op" id="4984618">]</span><span class="op" id="4984619">.</span><span class="ident" id="4984620">Name</span>&nbsp;<span class="op" id="4984625">&lt;</span>&nbsp;<span class="ident" id="4984627">s</span><span class="op" id="4984628">[</span><span class="ident" id="4984629">j</span><span class="op" id="4984630">]</span><span class="op" id="4984631">.</span><span class="ident" id="4984632">Name</span>&nbsp;<span class="op" id="4984637">}</span><br>
<span class="lineno"></span><span class="keyword" id="4984639">func</span>&nbsp;<span class="op" id="4984644">(</span><span class="ident" id="4984645">s</span>&nbsp;<span class="ident" id="4984647">serviceArray</span><span class="op" id="4984659">)</span>&nbsp;<span class="ident" id="4984661">Swap</span><span class="op" id="4984665">(</span><span class="ident" id="4984666">i</span><span class="op" id="4984667">,</span>&nbsp;<span class="ident" id="4984669">j</span>&nbsp;<span class="builtintype" id="4984671">int</span><span class="op" id="4984674">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4984681">{</span>&nbsp;<span class="ident" id="4984683">s</span><span class="op" id="4984684">[</span><span class="ident" id="4984685">i</span><span class="op" id="4984686">]</span><span class="op" id="4984687">,</span>&nbsp;<span class="ident" id="4984689">s</span><span class="op" id="4984690">[</span><span class="ident" id="4984691">j</span><span class="op" id="4984692">]</span>&nbsp;<span class="op" id="4984694">=</span>&nbsp;<span class="ident" id="4984696">s</span><span class="op" id="4984697">[</span><span class="ident" id="4984698">j</span><span class="op" id="4984699">]</span><span class="op" id="4984700">,</span>&nbsp;<span class="ident" id="4984702">s</span><span class="op" id="4984703">[</span><span class="ident" id="4984704">i</span><span class="op" id="4984705">]</span>&nbsp;<span class="op" id="4984707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984710">func</span>&nbsp;<span class="op" id="4984715">(</span><span class="ident" id="4984716">m</span>&nbsp;<span class="ident" id="4984718">methodArray</span><span class="op" id="4984729">)</span>&nbsp;<span class="ident" id="4984731">Len</span><span class="op" id="4984734">(</span><span class="op" id="4984735">)</span>&nbsp;<span class="builtintype" id="4984737">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4984751">{</span>&nbsp;<span class="keyword" id="4984753">return</span>&nbsp;<span class="builtinfunc" id="4984760">len</span><span class="op" id="4984763">(</span><span class="ident" id="4984764">m</span><span class="op" id="4984765">)</span>&nbsp;<span class="op" id="4984767">}</span><br>
<span class="lineno"></span><span class="keyword" id="4984769">func</span>&nbsp;<span class="op" id="4984774">(</span><span class="ident" id="4984775">m</span>&nbsp;<span class="ident" id="4984777">methodArray</span><span class="op" id="4984788">)</span>&nbsp;<span class="ident" id="4984790">Less</span><span class="op" id="4984794">(</span><span class="ident" id="4984795">i</span><span class="op" id="4984796">,</span>&nbsp;<span class="ident" id="4984798">j</span>&nbsp;<span class="builtintype" id="4984800">int</span><span class="op" id="4984803">)</span>&nbsp;<span class="builtintype" id="4984805">bool</span>&nbsp;<span class="op" id="4984810">{</span>&nbsp;<span class="keyword" id="4984812">return</span>&nbsp;<span class="ident" id="4984819">m</span><span class="op" id="4984820">[</span><span class="ident" id="4984821">i</span><span class="op" id="4984822">]</span><span class="op" id="4984823">.</span><span class="ident" id="4984824">Name</span>&nbsp;<span class="op" id="4984829">&lt;</span>&nbsp;<span class="ident" id="4984831">m</span><span class="op" id="4984832">[</span><span class="ident" id="4984833">j</span><span class="op" id="4984834">]</span><span class="op" id="4984835">.</span><span class="ident" id="4984836">Name</span>&nbsp;<span class="op" id="4984841">}</span><br>
<span class="lineno">65</span><span class="keyword" id="4984843">func</span>&nbsp;<span class="op" id="4984848">(</span><span class="ident" id="4984849">m</span>&nbsp;<span class="ident" id="4984851">methodArray</span><span class="op" id="4984862">)</span>&nbsp;<span class="ident" id="4984864">Swap</span><span class="op" id="4984868">(</span><span class="ident" id="4984869">i</span><span class="op" id="4984870">,</span>&nbsp;<span class="ident" id="4984872">j</span>&nbsp;<span class="builtintype" id="4984874">int</span><span class="op" id="4984877">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4984884">{</span>&nbsp;<span class="ident" id="4984886">m</span><span class="op" id="4984887">[</span><span class="ident" id="4984888">i</span><span class="op" id="4984889">]</span><span class="op" id="4984890">,</span>&nbsp;<span class="ident" id="4984892">m</span><span class="op" id="4984893">[</span><span class="ident" id="4984894">j</span><span class="op" id="4984895">]</span>&nbsp;<span class="op" id="4984897">=</span>&nbsp;<span class="ident" id="4984899">m</span><span class="op" id="4984900">[</span><span class="ident" id="4984901">j</span><span class="op" id="4984902">]</span><span class="op" id="4984903">,</span>&nbsp;<span class="ident" id="4984905">m</span><span class="op" id="4984906">[</span><span class="ident" id="4984907">i</span><span class="op" id="4984908">]</span>&nbsp;<span class="op" id="4984910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4984913">type</span>&nbsp;<span class="ident" id="4984918">debugHTTP</span>&nbsp;<span class="keyword" id="4984928">struct</span>&nbsp;<span class="op" id="4984935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4984938">*</span><span class="ident" id="4984939">Server</span><br>
<span class="lineno"></span><span class="op" id="4984946">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="4984949">//&nbsp;Runs&nbsp;at&nbsp;/debug/rpc</span><br>
<span class="lineno"></span><span class="keyword" id="4984971">func</span>&nbsp;<span class="op" id="4984976">(</span><span class="ident" id="4984977">server</span>&nbsp;<span class="ident" id="4984984">debugHTTP</span><span class="op" id="4984993">)</span>&nbsp;<span class="ident" id="4984995">ServeHTTP</span><span class="op" id="4985004">(</span><span class="ident" id="4985005">w</span>&nbsp;<span class="ident" id="4985007">http</span><span class="op" id="4985011">.</span><span class="ident" id="4985012">ResponseWriter</span><span class="op" id="4985026">,</span>&nbsp;<span class="ident" id="4985028">req</span>&nbsp;<span class="op" id="4985032">*</span><span class="ident" id="4985033">http</span><span class="op" id="4985037">.</span><span class="ident" id="4985038">Request</span><span class="op" id="4985045">)</span>&nbsp;<span class="op" id="4985047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4985050">//&nbsp;Build&nbsp;a&nbsp;sorted&nbsp;version&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985090">var</span>&nbsp;<span class="ident" id="4985094">services</span>&nbsp;<span class="op" id="4985103">=</span>&nbsp;<span class="builtinfunc" id="4985105">make</span><span class="op" id="4985109">(</span><span class="ident" id="4985110">serviceArray</span><span class="op" id="4985122">,</span>&nbsp;<span class="builtinfunc" id="4985124">len</span><span class="op" id="4985127">(</span><span class="ident" id="4985128">server</span><span class="op" id="4985134">.</span><span class="ident" id="4985135">serviceMap</span><span class="op" id="4985145">)</span><span class="op" id="4985146">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985149">i</span>&nbsp;<span class="op" id="4985151">:=</span>&nbsp;<span class="num" id="4985154">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985157">server</span><span class="op" id="4985163">.</span><span class="ident" id="4985164">mu</span><span class="op" id="4985166">.</span><span class="ident" id="4985167">Lock</span><span class="op" id="4985171">(</span><span class="op" id="4985172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985175">for</span>&nbsp;<span class="ident" id="4985179">sname</span><span class="op" id="4985184">,</span>&nbsp;<span class="ident" id="4985186">service</span>&nbsp;<span class="op" id="4985194">:=</span>&nbsp;<span class="keyword" id="4985197">range</span>&nbsp;<span class="ident" id="4985203">server</span><span class="op" id="4985209">.</span><span class="ident" id="4985210">serviceMap</span>&nbsp;<span class="op" id="4985221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985225">services</span><span class="op" id="4985233">[</span><span class="ident" id="4985234">i</span><span class="op" id="4985235">]</span>&nbsp;<span class="op" id="4985237">=</span>&nbsp;<span class="ident" id="4985239">debugService</span><span class="op" id="4985251">{</span><span class="ident" id="4985252">service</span><span class="op" id="4985259">,</span>&nbsp;<span class="ident" id="4985261">sname</span><span class="op" id="4985266">,</span>&nbsp;<span class="builtinfunc" id="4985268">make</span><span class="op" id="4985272">(</span><span class="ident" id="4985273">methodArray</span><span class="op" id="4985284">,</span>&nbsp;<span class="builtinfunc" id="4985286">len</span><span class="op" id="4985289">(</span><span class="ident" id="4985290">service</span><span class="op" id="4985297">.</span><span class="ident" id="4985298">method</span><span class="op" id="4985304">)</span><span class="op" id="4985305">)</span><span class="op" id="4985306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985310">j</span>&nbsp;<span class="op" id="4985312">:=</span>&nbsp;<span class="num" id="4985315">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985319">for</span>&nbsp;<span class="ident" id="4985323">mname</span><span class="op" id="4985328">,</span>&nbsp;<span class="ident" id="4985330">method</span>&nbsp;<span class="op" id="4985337">:=</span>&nbsp;<span class="keyword" id="4985340">range</span>&nbsp;<span class="ident" id="4985346">service</span><span class="op" id="4985353">.</span><span class="ident" id="4985354">method</span>&nbsp;<span class="op" id="4985361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985366">services</span><span class="op" id="4985374">[</span><span class="ident" id="4985375">i</span><span class="op" id="4985376">]</span><span class="op" id="4985377">.</span><span class="ident" id="4985378">Method</span><span class="op" id="4985384">[</span><span class="ident" id="4985385">j</span><span class="op" id="4985386">]</span>&nbsp;<span class="op" id="4985388">=</span>&nbsp;<span class="ident" id="4985390">debugMethod</span><span class="op" id="4985401">{</span><span class="ident" id="4985402">method</span><span class="op" id="4985408">,</span>&nbsp;<span class="ident" id="4985410">mname</span><span class="op" id="4985415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985420">j</span><span class="op" id="4985421">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985430">sort</span><span class="op" id="4985434">.</span><span class="ident" id="4985435">Sort</span><span class="op" id="4985439">(</span><span class="ident" id="4985440">services</span><span class="op" id="4985448">[</span><span class="ident" id="4985449">i</span><span class="op" id="4985450">]</span><span class="op" id="4985451">.</span><span class="ident" id="4985452">Method</span><span class="op" id="4985458">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985462">i</span><span class="op" id="4985463">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985470">server</span><span class="op" id="4985476">.</span><span class="ident" id="4985477">mu</span><span class="op" id="4985479">.</span><span class="ident" id="4985480">Unlock</span><span class="op" id="4985486">(</span><span class="op" id="4985487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985490">sort</span><span class="op" id="4985494">.</span><span class="ident" id="4985495">Sort</span><span class="op" id="4985499">(</span><span class="ident" id="4985500">services</span><span class="op" id="4985508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985511">err</span>&nbsp;<span class="op" id="4985515">:=</span>&nbsp;<span class="ident" id="4985518">debug</span><span class="op" id="4985523">.</span><span class="ident" id="4985524">Execute</span><span class="op" id="4985531">(</span><span class="ident" id="4985532">w</span><span class="op" id="4985533">,</span>&nbsp;<span class="ident" id="4985535">services</span><span class="op" id="4985543">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4985546">if</span>&nbsp;<span class="ident" id="4985549">err</span>&nbsp;<span class="op" id="4985553">!=</span>&nbsp;<span class="ident" id="4985556">nil</span>&nbsp;<span class="op" id="4985560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4985564">fmt</span><span class="op" id="4985567">.</span><span class="ident" id="4985568">Fprintln</span><span class="op" id="4985576">(</span><span class="ident" id="4985577">w</span><span class="op" id="4985578">,</span>&nbsp;<span class="string" id="4985580">&#34;rpc:&nbsp;error&nbsp;executing&nbsp;template:&#34;</span><span class="op" id="4985612">,</span>&nbsp;<span class="ident" id="4985614">err</span><span class="op" id="4985617">.</span><span class="ident" id="4985618">Error</span><span class="op" id="4985623">(</span><span class="op" id="4985624">)</span><span class="op" id="4985625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4985628">}</span><br>
<span class="lineno"></span><span class="op" id="4985630">}</span>
</div>
</body>
</html>
