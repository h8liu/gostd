<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1704061">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1704117">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1704171">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1704222">//&nbsp;Software&nbsp;IEEE754&nbsp;64-bit&nbsp;floating&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="1704265">//&nbsp;Only&nbsp;referred&nbsp;to&nbsp;(and&nbsp;thus&nbsp;linked&nbsp;in)&nbsp;by&nbsp;arm&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="1704318">//&nbsp;and&nbsp;by&nbsp;tests&nbsp;in&nbsp;this&nbsp;directory.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1704354">package</span>&nbsp;<span class="ident" id="1704362">runtime</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1704371">const</span>&nbsp;<span class="op" id="1704377">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704380">mantbits64</span>&nbsp;<span class="builtintype" id="1704391">uint</span>&nbsp;<span class="op" id="1704396">=</span>&nbsp;<span class="num" id="1704398">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704402">expbits64</span>&nbsp;&nbsp;<span class="builtintype" id="1704413">uint</span>&nbsp;<span class="op" id="1704418">=</span>&nbsp;<span class="num" id="1704420">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704424">bias64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1704440">=</span>&nbsp;<span class="op" id="1704442">-</span><span class="num" id="1704443">1</span><span class="op" id="1704444">&lt;&lt;</span><span class="op" id="1704446">(</span><span class="ident" id="1704447">expbits64</span><span class="op" id="1704456">-</span><span class="num" id="1704457">1</span><span class="op" id="1704458">)</span>&nbsp;<span class="op" id="1704460">+</span>&nbsp;<span class="num" id="1704462">1</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704466">nan64</span>&nbsp;<span class="ident" id="1704472">uint64</span>&nbsp;<span class="op" id="1704479">=</span>&nbsp;<span class="op" id="1704481">(</span><span class="num" id="1704482">1</span><span class="op" id="1704483">&lt;&lt;</span><span class="ident" id="1704485">expbits64</span><span class="op" id="1704494">-</span><span class="num" id="1704495">1</span><span class="op" id="1704496">)</span><span class="op" id="1704497">&lt;&lt;</span><span class="ident" id="1704499">mantbits64</span>&nbsp;<span class="op" id="1704510">+</span>&nbsp;<span class="num" id="1704512">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704515">inf64</span>&nbsp;<span class="ident" id="1704521">uint64</span>&nbsp;<span class="op" id="1704528">=</span>&nbsp;<span class="op" id="1704530">(</span><span class="num" id="1704531">1</span><span class="op" id="1704532">&lt;&lt;</span><span class="ident" id="1704534">expbits64</span>&nbsp;<span class="op" id="1704544">-</span>&nbsp;<span class="num" id="1704546">1</span><span class="op" id="1704547">)</span>&nbsp;<span class="op" id="1704549">&lt;&lt;</span>&nbsp;<span class="ident" id="1704552">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704564">neg64</span>&nbsp;<span class="ident" id="1704570">uint64</span>&nbsp;<span class="op" id="1704577">=</span>&nbsp;<span class="num" id="1704579">1</span>&nbsp;<span class="op" id="1704581">&lt;&lt;</span>&nbsp;<span class="op" id="1704584">(</span><span class="ident" id="1704585">expbits64</span>&nbsp;<span class="op" id="1704595">+</span>&nbsp;<span class="ident" id="1704597">mantbits64</span><span class="op" id="1704607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704611">mantbits32</span>&nbsp;<span class="builtintype" id="1704622">uint</span>&nbsp;<span class="op" id="1704627">=</span>&nbsp;<span class="num" id="1704629">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704633">expbits32</span>&nbsp;&nbsp;<span class="builtintype" id="1704644">uint</span>&nbsp;<span class="op" id="1704649">=</span>&nbsp;<span class="num" id="1704651">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704654">bias32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1704670">=</span>&nbsp;<span class="op" id="1704672">-</span><span class="num" id="1704673">1</span><span class="op" id="1704674">&lt;&lt;</span><span class="op" id="1704676">(</span><span class="ident" id="1704677">expbits32</span><span class="op" id="1704686">-</span><span class="num" id="1704687">1</span><span class="op" id="1704688">)</span>&nbsp;<span class="op" id="1704690">+</span>&nbsp;<span class="num" id="1704692">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704696">nan32</span>&nbsp;<span class="builtintype" id="1704702">uint32</span>&nbsp;<span class="op" id="1704709">=</span>&nbsp;<span class="op" id="1704711">(</span><span class="num" id="1704712">1</span><span class="op" id="1704713">&lt;&lt;</span><span class="ident" id="1704715">expbits32</span><span class="op" id="1704724">-</span><span class="num" id="1704725">1</span><span class="op" id="1704726">)</span><span class="op" id="1704727">&lt;&lt;</span><span class="ident" id="1704729">mantbits32</span>&nbsp;<span class="op" id="1704740">+</span>&nbsp;<span class="num" id="1704742">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704745">inf32</span>&nbsp;<span class="builtintype" id="1704751">uint32</span>&nbsp;<span class="op" id="1704758">=</span>&nbsp;<span class="op" id="1704760">(</span><span class="num" id="1704761">1</span><span class="op" id="1704762">&lt;&lt;</span><span class="ident" id="1704764">expbits32</span>&nbsp;<span class="op" id="1704774">-</span>&nbsp;<span class="num" id="1704776">1</span><span class="op" id="1704777">)</span>&nbsp;<span class="op" id="1704779">&lt;&lt;</span>&nbsp;<span class="ident" id="1704782">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704794">neg32</span>&nbsp;<span class="builtintype" id="1704800">uint32</span>&nbsp;<span class="op" id="1704807">=</span>&nbsp;<span class="num" id="1704809">1</span>&nbsp;<span class="op" id="1704811">&lt;&lt;</span>&nbsp;<span class="op" id="1704814">(</span><span class="ident" id="1704815">expbits32</span>&nbsp;<span class="op" id="1704825">+</span>&nbsp;<span class="ident" id="1704827">mantbits32</span><span class="op" id="1704837">)</span><br>
<span class="lineno"></span><span class="op" id="1704839">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1704842">func</span>&nbsp;<span class="ident" id="1704847">funpack64</span><span class="op" id="1704856">(</span><span class="ident" id="1704857">f</span>&nbsp;<span class="ident" id="1704859">uint64</span><span class="op" id="1704865">)</span>&nbsp;<span class="op" id="1704867">(</span><span class="ident" id="1704868">sign</span><span class="op" id="1704872">,</span>&nbsp;<span class="ident" id="1704874">mant</span>&nbsp;<span class="ident" id="1704879">uint64</span><span class="op" id="1704885">,</span>&nbsp;<span class="ident" id="1704887">exp</span>&nbsp;<span class="builtintype" id="1704891">int</span><span class="op" id="1704894">,</span>&nbsp;<span class="ident" id="1704896">inf</span><span class="op" id="1704899">,</span>&nbsp;<span class="ident" id="1704901">nan</span>&nbsp;<span class="builtintype" id="1704905">bool</span><span class="op" id="1704909">)</span>&nbsp;<span class="op" id="1704911">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704914">sign</span>&nbsp;<span class="op" id="1704919">=</span>&nbsp;<span class="ident" id="1704921">f</span>&nbsp;<span class="op" id="1704923">&amp;</span>&nbsp;<span class="op" id="1704925">(</span><span class="num" id="1704926">1</span>&nbsp;<span class="op" id="1704928">&lt;&lt;</span>&nbsp;<span class="op" id="1704931">(</span><span class="ident" id="1704932">mantbits64</span>&nbsp;<span class="op" id="1704943">+</span>&nbsp;<span class="ident" id="1704945">expbits64</span><span class="op" id="1704954">)</span><span class="op" id="1704955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704958">mant</span>&nbsp;<span class="op" id="1704963">=</span>&nbsp;<span class="ident" id="1704965">f</span>&nbsp;<span class="op" id="1704967">&amp;</span>&nbsp;<span class="op" id="1704969">(</span><span class="num" id="1704970">1</span><span class="op" id="1704971">&lt;&lt;</span><span class="ident" id="1704973">mantbits64</span>&nbsp;<span class="op" id="1704984">-</span>&nbsp;<span class="num" id="1704986">1</span><span class="op" id="1704987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1704990">exp</span>&nbsp;<span class="op" id="1704994">=</span>&nbsp;<span class="builtintype" id="1704996">int</span><span class="op" id="1704999">(</span><span class="ident" id="1705000">f</span><span class="op" id="1705001">&gt;&gt;</span><span class="ident" id="1705003">mantbits64</span><span class="op" id="1705013">)</span>&nbsp;<span class="op" id="1705015">&amp;</span>&nbsp;<span class="op" id="1705017">(</span><span class="num" id="1705018">1</span><span class="op" id="1705019">&lt;&lt;</span><span class="ident" id="1705021">expbits64</span>&nbsp;<span class="op" id="1705031">-</span>&nbsp;<span class="num" id="1705033">1</span><span class="op" id="1705034">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705038">switch</span>&nbsp;<span class="ident" id="1705045">exp</span>&nbsp;<span class="op" id="1705049">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705052">case</span>&nbsp;<span class="num" id="1705057">1</span><span class="op" id="1705058">&lt;&lt;</span><span class="ident" id="1705060">expbits64</span>&nbsp;<span class="op" id="1705070">-</span>&nbsp;<span class="num" id="1705072">1</span><span class="op" id="1705073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705077">if</span>&nbsp;<span class="ident" id="1705080">mant</span>&nbsp;<span class="op" id="1705085">!=</span>&nbsp;<span class="num" id="1705088">0</span>&nbsp;<span class="op" id="1705090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705095">nan</span>&nbsp;<span class="op" id="1705099">=</span>&nbsp;<span class="ident" id="1705101">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705109">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705118">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705122">inf</span>&nbsp;<span class="op" id="1705126">=</span>&nbsp;<span class="ident" id="1705128">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705135">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705144">case</span>&nbsp;<span class="num" id="1705149">0</span><span class="op" id="1705150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1705154">//&nbsp;denormalized</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705172">if</span>&nbsp;<span class="ident" id="1705175">mant</span>&nbsp;<span class="op" id="1705180">!=</span>&nbsp;<span class="num" id="1705183">0</span>&nbsp;<span class="op" id="1705185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705190">exp</span>&nbsp;<span class="op" id="1705194">+=</span>&nbsp;<span class="ident" id="1705197">bias64</span>&nbsp;<span class="op" id="1705204">+</span>&nbsp;<span class="num" id="1705206">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705211">for</span>&nbsp;<span class="ident" id="1705215">mant</span>&nbsp;<span class="op" id="1705220">&lt;</span>&nbsp;<span class="num" id="1705222">1</span><span class="op" id="1705223">&lt;&lt;</span><span class="ident" id="1705225">mantbits64</span>&nbsp;<span class="op" id="1705236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705242">mant</span>&nbsp;<span class="op" id="1705247">&lt;&lt;=</span>&nbsp;<span class="num" id="1705251">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705257">exp</span><span class="op" id="1705260">--</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705274">default</span><span class="op" id="1705281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1705285">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705311">mant</span>&nbsp;<span class="op" id="1705316">|=</span>&nbsp;<span class="num" id="1705319">1</span>&nbsp;<span class="op" id="1705321">&lt;&lt;</span>&nbsp;<span class="ident" id="1705324">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705337">exp</span>&nbsp;<span class="op" id="1705341">+=</span>&nbsp;<span class="ident" id="1705344">bias64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705355">return</span><br>
<span class="lineno"></span><span class="op" id="1705362">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="1705365">func</span>&nbsp;<span class="ident" id="1705370">funpack32</span><span class="op" id="1705379">(</span><span class="ident" id="1705380">f</span>&nbsp;<span class="builtintype" id="1705382">uint32</span><span class="op" id="1705388">)</span>&nbsp;<span class="op" id="1705390">(</span><span class="ident" id="1705391">sign</span><span class="op" id="1705395">,</span>&nbsp;<span class="ident" id="1705397">mant</span>&nbsp;<span class="builtintype" id="1705402">uint32</span><span class="op" id="1705408">,</span>&nbsp;<span class="ident" id="1705410">exp</span>&nbsp;<span class="builtintype" id="1705414">int</span><span class="op" id="1705417">,</span>&nbsp;<span class="ident" id="1705419">inf</span><span class="op" id="1705422">,</span>&nbsp;<span class="ident" id="1705424">nan</span>&nbsp;<span class="builtintype" id="1705428">bool</span><span class="op" id="1705432">)</span>&nbsp;<span class="op" id="1705434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705437">sign</span>&nbsp;<span class="op" id="1705442">=</span>&nbsp;<span class="ident" id="1705444">f</span>&nbsp;<span class="op" id="1705446">&amp;</span>&nbsp;<span class="op" id="1705448">(</span><span class="num" id="1705449">1</span>&nbsp;<span class="op" id="1705451">&lt;&lt;</span>&nbsp;<span class="op" id="1705454">(</span><span class="ident" id="1705455">mantbits32</span>&nbsp;<span class="op" id="1705466">+</span>&nbsp;<span class="ident" id="1705468">expbits32</span><span class="op" id="1705477">)</span><span class="op" id="1705478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705481">mant</span>&nbsp;<span class="op" id="1705486">=</span>&nbsp;<span class="ident" id="1705488">f</span>&nbsp;<span class="op" id="1705490">&amp;</span>&nbsp;<span class="op" id="1705492">(</span><span class="num" id="1705493">1</span><span class="op" id="1705494">&lt;&lt;</span><span class="ident" id="1705496">mantbits32</span>&nbsp;<span class="op" id="1705507">-</span>&nbsp;<span class="num" id="1705509">1</span><span class="op" id="1705510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705513">exp</span>&nbsp;<span class="op" id="1705517">=</span>&nbsp;<span class="builtintype" id="1705519">int</span><span class="op" id="1705522">(</span><span class="ident" id="1705523">f</span><span class="op" id="1705524">&gt;&gt;</span><span class="ident" id="1705526">mantbits32</span><span class="op" id="1705536">)</span>&nbsp;<span class="op" id="1705538">&amp;</span>&nbsp;<span class="op" id="1705540">(</span><span class="num" id="1705541">1</span><span class="op" id="1705542">&lt;&lt;</span><span class="ident" id="1705544">expbits32</span>&nbsp;<span class="op" id="1705554">-</span>&nbsp;<span class="num" id="1705556">1</span><span class="op" id="1705557">)</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705561">switch</span>&nbsp;<span class="ident" id="1705568">exp</span>&nbsp;<span class="op" id="1705572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705575">case</span>&nbsp;<span class="num" id="1705580">1</span><span class="op" id="1705581">&lt;&lt;</span><span class="ident" id="1705583">expbits32</span>&nbsp;<span class="op" id="1705593">-</span>&nbsp;<span class="num" id="1705595">1</span><span class="op" id="1705596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705600">if</span>&nbsp;<span class="ident" id="1705603">mant</span>&nbsp;<span class="op" id="1705608">!=</span>&nbsp;<span class="num" id="1705611">0</span>&nbsp;<span class="op" id="1705613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705618">nan</span>&nbsp;<span class="op" id="1705622">=</span>&nbsp;<span class="ident" id="1705624">true</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705632">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705645">inf</span>&nbsp;<span class="op" id="1705649">=</span>&nbsp;<span class="ident" id="1705651">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705658">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705667">case</span>&nbsp;<span class="num" id="1705672">0</span><span class="op" id="1705673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1705677">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705695">if</span>&nbsp;<span class="ident" id="1705698">mant</span>&nbsp;<span class="op" id="1705703">!=</span>&nbsp;<span class="num" id="1705706">0</span>&nbsp;<span class="op" id="1705708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705713">exp</span>&nbsp;<span class="op" id="1705717">+=</span>&nbsp;<span class="ident" id="1705720">bias32</span>&nbsp;<span class="op" id="1705727">+</span>&nbsp;<span class="num" id="1705729">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705734">for</span>&nbsp;<span class="ident" id="1705738">mant</span>&nbsp;<span class="op" id="1705743">&lt;</span>&nbsp;<span class="num" id="1705745">1</span><span class="op" id="1705746">&lt;&lt;</span><span class="ident" id="1705748">mantbits32</span>&nbsp;<span class="op" id="1705759">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705765">mant</span>&nbsp;<span class="op" id="1705770">&lt;&lt;=</span>&nbsp;<span class="num" id="1705774">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705780">exp</span><span class="op" id="1705783">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705797">default</span><span class="op" id="1705804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1705808">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705834">mant</span>&nbsp;<span class="op" id="1705839">|=</span>&nbsp;<span class="num" id="1705842">1</span>&nbsp;<span class="op" id="1705844">&lt;&lt;</span>&nbsp;<span class="ident" id="1705847">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705860">exp</span>&nbsp;<span class="op" id="1705864">+=</span>&nbsp;<span class="ident" id="1705867">bias32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705875">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705878">return</span><br>
<span class="lineno"></span><span class="op" id="1705885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1705888">func</span>&nbsp;<span class="ident" id="1705893">fpack64</span><span class="op" id="1705900">(</span><span class="ident" id="1705901">sign</span><span class="op" id="1705905">,</span>&nbsp;<span class="ident" id="1705907">mant</span>&nbsp;<span class="ident" id="1705912">uint64</span><span class="op" id="1705918">,</span>&nbsp;<span class="ident" id="1705920">exp</span>&nbsp;<span class="builtintype" id="1705924">int</span><span class="op" id="1705927">,</span>&nbsp;<span class="ident" id="1705929">trunc</span>&nbsp;<span class="ident" id="1705935">uint64</span><span class="op" id="1705941">)</span>&nbsp;<span class="ident" id="1705943">uint64</span>&nbsp;<span class="op" id="1705950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705953">mant0</span><span class="op" id="1705958">,</span>&nbsp;<span class="ident" id="1705960">exp0</span><span class="op" id="1705964">,</span>&nbsp;<span class="ident" id="1705966">trunc0</span>&nbsp;<span class="op" id="1705973">:=</span>&nbsp;<span class="ident" id="1705976">mant</span><span class="op" id="1705980">,</span>&nbsp;<span class="ident" id="1705982">exp</span><span class="op" id="1705985">,</span>&nbsp;<span class="ident" id="1705987">trunc</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705994">if</span>&nbsp;<span class="ident" id="1705997">mant</span>&nbsp;<span class="op" id="1706002">==</span>&nbsp;<span class="num" id="1706005">0</span>&nbsp;<span class="op" id="1706007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706011">return</span>&nbsp;<span class="ident" id="1706018">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706027">for</span>&nbsp;<span class="ident" id="1706031">mant</span>&nbsp;<span class="op" id="1706036">&lt;</span>&nbsp;<span class="num" id="1706038">1</span><span class="op" id="1706039">&lt;&lt;</span><span class="ident" id="1706041">mantbits64</span>&nbsp;<span class="op" id="1706052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706056">mant</span>&nbsp;<span class="op" id="1706061">&lt;&lt;=</span>&nbsp;<span class="num" id="1706065">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706069">exp</span><span class="op" id="1706072">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706079">for</span>&nbsp;<span class="ident" id="1706083">mant</span>&nbsp;<span class="op" id="1706088">&gt;=</span>&nbsp;<span class="num" id="1706091">4</span><span class="op" id="1706092">&lt;&lt;</span><span class="ident" id="1706094">mantbits64</span>&nbsp;<span class="op" id="1706105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706109">trunc</span>&nbsp;<span class="op" id="1706115">|=</span>&nbsp;<span class="ident" id="1706118">mant</span>&nbsp;<span class="op" id="1706123">&amp;</span>&nbsp;<span class="num" id="1706125">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706129">mant</span>&nbsp;<span class="op" id="1706134">&gt;&gt;=</span>&nbsp;<span class="num" id="1706138">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706142">exp</span><span class="op" id="1706145">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706152">if</span>&nbsp;<span class="ident" id="1706155">mant</span>&nbsp;<span class="op" id="1706160">&gt;=</span>&nbsp;<span class="num" id="1706163">2</span><span class="op" id="1706164">&lt;&lt;</span><span class="ident" id="1706166">mantbits64</span>&nbsp;<span class="op" id="1706177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706181">if</span>&nbsp;<span class="ident" id="1706184">mant</span><span class="op" id="1706188">&amp;</span><span class="num" id="1706189">1</span>&nbsp;<span class="op" id="1706191">!=</span>&nbsp;<span class="num" id="1706194">0</span>&nbsp;<span class="op" id="1706196">&amp;&amp;</span>&nbsp;<span class="op" id="1706199">(</span><span class="ident" id="1706200">trunc</span>&nbsp;<span class="op" id="1706206">!=</span>&nbsp;<span class="num" id="1706209">0</span>&nbsp;<span class="op" id="1706211">||</span>&nbsp;<span class="ident" id="1706214">mant</span><span class="op" id="1706218">&amp;</span><span class="num" id="1706219">2</span>&nbsp;<span class="op" id="1706221">!=</span>&nbsp;<span class="num" id="1706224">0</span><span class="op" id="1706225">)</span>&nbsp;<span class="op" id="1706227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706232">mant</span><span class="op" id="1706236">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706242">if</span>&nbsp;<span class="ident" id="1706245">mant</span>&nbsp;<span class="op" id="1706250">&gt;=</span>&nbsp;<span class="num" id="1706253">4</span><span class="op" id="1706254">&lt;&lt;</span><span class="ident" id="1706256">mantbits64</span>&nbsp;<span class="op" id="1706267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706273">mant</span>&nbsp;<span class="op" id="1706278">&gt;&gt;=</span>&nbsp;<span class="num" id="1706282">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706288">exp</span><span class="op" id="1706291">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706301">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706305">mant</span>&nbsp;<span class="op" id="1706310">&gt;&gt;=</span>&nbsp;<span class="num" id="1706314">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706318">exp</span><span class="op" id="1706321">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706328">if</span>&nbsp;<span class="ident" id="1706331">exp</span>&nbsp;<span class="op" id="1706335">&gt;=</span>&nbsp;<span class="num" id="1706338">1</span><span class="op" id="1706339">&lt;&lt;</span><span class="ident" id="1706341">expbits64</span><span class="op" id="1706350">-</span><span class="num" id="1706351">1</span><span class="op" id="1706352">+</span><span class="ident" id="1706353">bias64</span>&nbsp;<span class="op" id="1706360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706364">return</span>&nbsp;<span class="ident" id="1706371">sign</span>&nbsp;<span class="op" id="1706376">^</span>&nbsp;<span class="ident" id="1706378">inf64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706388">if</span>&nbsp;<span class="ident" id="1706391">exp</span>&nbsp;<span class="op" id="1706395">&lt;</span>&nbsp;<span class="ident" id="1706397">bias64</span><span class="op" id="1706403">+</span><span class="num" id="1706404">1</span>&nbsp;<span class="op" id="1706406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706410">if</span>&nbsp;<span class="ident" id="1706413">exp</span>&nbsp;<span class="op" id="1706417">&lt;</span>&nbsp;<span class="ident" id="1706419">bias64</span><span class="op" id="1706425">-</span><span class="builtintype" id="1706426">int</span><span class="op" id="1706429">(</span><span class="ident" id="1706430">mantbits64</span><span class="op" id="1706440">)</span>&nbsp;<span class="op" id="1706442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706447">return</span>&nbsp;<span class="ident" id="1706454">sign</span>&nbsp;<span class="op" id="1706459">|</span>&nbsp;<span class="num" id="1706461">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706465">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1706469">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706500">mant</span><span class="op" id="1706504">,</span>&nbsp;<span class="ident" id="1706506">exp</span><span class="op" id="1706509">,</span>&nbsp;<span class="ident" id="1706511">trunc</span>&nbsp;<span class="op" id="1706517">=</span>&nbsp;<span class="ident" id="1706519">mant0</span><span class="op" id="1706524">,</span>&nbsp;<span class="ident" id="1706526">exp0</span><span class="op" id="1706530">,</span>&nbsp;<span class="ident" id="1706532">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706541">for</span>&nbsp;<span class="ident" id="1706545">exp</span>&nbsp;<span class="op" id="1706549">&lt;</span>&nbsp;<span class="ident" id="1706551">bias64</span>&nbsp;<span class="op" id="1706558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706563">trunc</span>&nbsp;<span class="op" id="1706569">|=</span>&nbsp;<span class="ident" id="1706572">mant</span>&nbsp;<span class="op" id="1706577">&amp;</span>&nbsp;<span class="num" id="1706579">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706584">mant</span>&nbsp;<span class="op" id="1706589">&gt;&gt;=</span>&nbsp;<span class="num" id="1706593">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706598">exp</span><span class="op" id="1706601">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706610">if</span>&nbsp;<span class="ident" id="1706613">mant</span><span class="op" id="1706617">&amp;</span><span class="num" id="1706618">1</span>&nbsp;<span class="op" id="1706620">!=</span>&nbsp;<span class="num" id="1706623">0</span>&nbsp;<span class="op" id="1706625">&amp;&amp;</span>&nbsp;<span class="op" id="1706628">(</span><span class="ident" id="1706629">trunc</span>&nbsp;<span class="op" id="1706635">!=</span>&nbsp;<span class="num" id="1706638">0</span>&nbsp;<span class="op" id="1706640">||</span>&nbsp;<span class="ident" id="1706643">mant</span><span class="op" id="1706647">&amp;</span><span class="num" id="1706648">2</span>&nbsp;<span class="op" id="1706650">!=</span>&nbsp;<span class="num" id="1706653">0</span><span class="op" id="1706654">)</span>&nbsp;<span class="op" id="1706656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706661">mant</span><span class="op" id="1706665">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706670">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706674">mant</span>&nbsp;<span class="op" id="1706679">&gt;&gt;=</span>&nbsp;<span class="num" id="1706683">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706687">exp</span><span class="op" id="1706690">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706695">if</span>&nbsp;<span class="ident" id="1706698">mant</span>&nbsp;<span class="op" id="1706703">&lt;</span>&nbsp;<span class="num" id="1706705">1</span><span class="op" id="1706706">&lt;&lt;</span><span class="ident" id="1706708">mantbits64</span>&nbsp;<span class="op" id="1706719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706724">return</span>&nbsp;<span class="ident" id="1706731">sign</span>&nbsp;<span class="op" id="1706736">|</span>&nbsp;<span class="ident" id="1706738">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706745">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706751">return</span>&nbsp;<span class="ident" id="1706758">sign</span>&nbsp;<span class="op" id="1706763">|</span>&nbsp;<span class="ident" id="1706765">uint64</span><span class="op" id="1706771">(</span><span class="ident" id="1706772">exp</span><span class="op" id="1706775">-</span><span class="ident" id="1706776">bias64</span><span class="op" id="1706782">)</span><span class="op" id="1706783">&lt;&lt;</span><span class="ident" id="1706785">mantbits64</span>&nbsp;<span class="op" id="1706796">|</span>&nbsp;<span class="ident" id="1706798">mant</span><span class="op" id="1706802">&amp;</span><span class="op" id="1706803">(</span><span class="num" id="1706804">1</span><span class="op" id="1706805">&lt;&lt;</span><span class="ident" id="1706807">mantbits64</span><span class="op" id="1706817">-</span><span class="num" id="1706818">1</span><span class="op" id="1706819">)</span><br>
<span class="lineno"></span><span class="op" id="1706821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1706824">func</span>&nbsp;<span class="ident" id="1706829">fpack32</span><span class="op" id="1706836">(</span><span class="ident" id="1706837">sign</span><span class="op" id="1706841">,</span>&nbsp;<span class="ident" id="1706843">mant</span>&nbsp;<span class="builtintype" id="1706848">uint32</span><span class="op" id="1706854">,</span>&nbsp;<span class="ident" id="1706856">exp</span>&nbsp;<span class="builtintype" id="1706860">int</span><span class="op" id="1706863">,</span>&nbsp;<span class="ident" id="1706865">trunc</span>&nbsp;<span class="builtintype" id="1706871">uint32</span><span class="op" id="1706877">)</span>&nbsp;<span class="builtintype" id="1706879">uint32</span>&nbsp;<span class="op" id="1706886">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706889">mant0</span><span class="op" id="1706894">,</span>&nbsp;<span class="ident" id="1706896">exp0</span><span class="op" id="1706900">,</span>&nbsp;<span class="ident" id="1706902">trunc0</span>&nbsp;<span class="op" id="1706909">:=</span>&nbsp;<span class="ident" id="1706912">mant</span><span class="op" id="1706916">,</span>&nbsp;<span class="ident" id="1706918">exp</span><span class="op" id="1706921">,</span>&nbsp;<span class="ident" id="1706923">trunc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706930">if</span>&nbsp;<span class="ident" id="1706933">mant</span>&nbsp;<span class="op" id="1706938">==</span>&nbsp;<span class="num" id="1706941">0</span>&nbsp;<span class="op" id="1706943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706947">return</span>&nbsp;<span class="ident" id="1706954">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1706960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1706963">for</span>&nbsp;<span class="ident" id="1706967">mant</span>&nbsp;<span class="op" id="1706972">&lt;</span>&nbsp;<span class="num" id="1706974">1</span><span class="op" id="1706975">&lt;&lt;</span><span class="ident" id="1706977">mantbits32</span>&nbsp;<span class="op" id="1706988">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1706992">mant</span>&nbsp;<span class="op" id="1706997">&lt;&lt;=</span>&nbsp;<span class="num" id="1707001">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707005">exp</span><span class="op" id="1707008">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707015">for</span>&nbsp;<span class="ident" id="1707019">mant</span>&nbsp;<span class="op" id="1707024">&gt;=</span>&nbsp;<span class="num" id="1707027">4</span><span class="op" id="1707028">&lt;&lt;</span><span class="ident" id="1707030">mantbits32</span>&nbsp;<span class="op" id="1707041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707045">trunc</span>&nbsp;<span class="op" id="1707051">|=</span>&nbsp;<span class="ident" id="1707054">mant</span>&nbsp;<span class="op" id="1707059">&amp;</span>&nbsp;<span class="num" id="1707061">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707065">mant</span>&nbsp;<span class="op" id="1707070">&gt;&gt;=</span>&nbsp;<span class="num" id="1707074">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707078">exp</span><span class="op" id="1707081">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707088">if</span>&nbsp;<span class="ident" id="1707091">mant</span>&nbsp;<span class="op" id="1707096">&gt;=</span>&nbsp;<span class="num" id="1707099">2</span><span class="op" id="1707100">&lt;&lt;</span><span class="ident" id="1707102">mantbits32</span>&nbsp;<span class="op" id="1707113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707117">if</span>&nbsp;<span class="ident" id="1707120">mant</span><span class="op" id="1707124">&amp;</span><span class="num" id="1707125">1</span>&nbsp;<span class="op" id="1707127">!=</span>&nbsp;<span class="num" id="1707130">0</span>&nbsp;<span class="op" id="1707132">&amp;&amp;</span>&nbsp;<span class="op" id="1707135">(</span><span class="ident" id="1707136">trunc</span>&nbsp;<span class="op" id="1707142">!=</span>&nbsp;<span class="num" id="1707145">0</span>&nbsp;<span class="op" id="1707147">||</span>&nbsp;<span class="ident" id="1707150">mant</span><span class="op" id="1707154">&amp;</span><span class="num" id="1707155">2</span>&nbsp;<span class="op" id="1707157">!=</span>&nbsp;<span class="num" id="1707160">0</span><span class="op" id="1707161">)</span>&nbsp;<span class="op" id="1707163">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707168">mant</span><span class="op" id="1707172">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707178">if</span>&nbsp;<span class="ident" id="1707181">mant</span>&nbsp;<span class="op" id="1707186">&gt;=</span>&nbsp;<span class="num" id="1707189">4</span><span class="op" id="1707190">&lt;&lt;</span><span class="ident" id="1707192">mantbits32</span>&nbsp;<span class="op" id="1707203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707209">mant</span>&nbsp;<span class="op" id="1707214">&gt;&gt;=</span>&nbsp;<span class="num" id="1707218">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707224">exp</span><span class="op" id="1707227">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707233">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707241">mant</span>&nbsp;<span class="op" id="1707246">&gt;&gt;=</span>&nbsp;<span class="num" id="1707250">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707254">exp</span><span class="op" id="1707257">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707264">if</span>&nbsp;<span class="ident" id="1707267">exp</span>&nbsp;<span class="op" id="1707271">&gt;=</span>&nbsp;<span class="num" id="1707274">1</span><span class="op" id="1707275">&lt;&lt;</span><span class="ident" id="1707277">expbits32</span><span class="op" id="1707286">-</span><span class="num" id="1707287">1</span><span class="op" id="1707288">+</span><span class="ident" id="1707289">bias32</span>&nbsp;<span class="op" id="1707296">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707300">return</span>&nbsp;<span class="ident" id="1707307">sign</span>&nbsp;<span class="op" id="1707312">^</span>&nbsp;<span class="ident" id="1707314">inf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707324">if</span>&nbsp;<span class="ident" id="1707327">exp</span>&nbsp;<span class="op" id="1707331">&lt;</span>&nbsp;<span class="ident" id="1707333">bias32</span><span class="op" id="1707339">+</span><span class="num" id="1707340">1</span>&nbsp;<span class="op" id="1707342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707346">if</span>&nbsp;<span class="ident" id="1707349">exp</span>&nbsp;<span class="op" id="1707353">&lt;</span>&nbsp;<span class="ident" id="1707355">bias32</span><span class="op" id="1707361">-</span><span class="builtintype" id="1707362">int</span><span class="op" id="1707365">(</span><span class="ident" id="1707366">mantbits32</span><span class="op" id="1707376">)</span>&nbsp;<span class="op" id="1707378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707383">return</span>&nbsp;<span class="ident" id="1707390">sign</span>&nbsp;<span class="op" id="1707395">|</span>&nbsp;<span class="num" id="1707397">0</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1707405">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707436">mant</span><span class="op" id="1707440">,</span>&nbsp;<span class="ident" id="1707442">exp</span><span class="op" id="1707445">,</span>&nbsp;<span class="ident" id="1707447">trunc</span>&nbsp;<span class="op" id="1707453">=</span>&nbsp;<span class="ident" id="1707455">mant0</span><span class="op" id="1707460">,</span>&nbsp;<span class="ident" id="1707462">exp0</span><span class="op" id="1707466">,</span>&nbsp;<span class="ident" id="1707468">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707477">for</span>&nbsp;<span class="ident" id="1707481">exp</span>&nbsp;<span class="op" id="1707485">&lt;</span>&nbsp;<span class="ident" id="1707487">bias32</span>&nbsp;<span class="op" id="1707494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707499">trunc</span>&nbsp;<span class="op" id="1707505">|=</span>&nbsp;<span class="ident" id="1707508">mant</span>&nbsp;<span class="op" id="1707513">&amp;</span>&nbsp;<span class="num" id="1707515">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707520">mant</span>&nbsp;<span class="op" id="1707525">&gt;&gt;=</span>&nbsp;<span class="num" id="1707529">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707534">exp</span><span class="op" id="1707537">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707546">if</span>&nbsp;<span class="ident" id="1707549">mant</span><span class="op" id="1707553">&amp;</span><span class="num" id="1707554">1</span>&nbsp;<span class="op" id="1707556">!=</span>&nbsp;<span class="num" id="1707559">0</span>&nbsp;<span class="op" id="1707561">&amp;&amp;</span>&nbsp;<span class="op" id="1707564">(</span><span class="ident" id="1707565">trunc</span>&nbsp;<span class="op" id="1707571">!=</span>&nbsp;<span class="num" id="1707574">0</span>&nbsp;<span class="op" id="1707576">||</span>&nbsp;<span class="ident" id="1707579">mant</span><span class="op" id="1707583">&amp;</span><span class="num" id="1707584">2</span>&nbsp;<span class="op" id="1707586">!=</span>&nbsp;<span class="num" id="1707589">0</span><span class="op" id="1707590">)</span>&nbsp;<span class="op" id="1707592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707597">mant</span><span class="op" id="1707601">++</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707610">mant</span>&nbsp;<span class="op" id="1707615">&gt;&gt;=</span>&nbsp;<span class="num" id="1707619">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707623">exp</span><span class="op" id="1707626">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707631">if</span>&nbsp;<span class="ident" id="1707634">mant</span>&nbsp;<span class="op" id="1707639">&lt;</span>&nbsp;<span class="num" id="1707641">1</span><span class="op" id="1707642">&lt;&lt;</span><span class="ident" id="1707644">mantbits32</span>&nbsp;<span class="op" id="1707655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707660">return</span>&nbsp;<span class="ident" id="1707667">sign</span>&nbsp;<span class="op" id="1707672">|</span>&nbsp;<span class="ident" id="1707674">mant</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1707684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707687">return</span>&nbsp;<span class="ident" id="1707694">sign</span>&nbsp;<span class="op" id="1707699">|</span>&nbsp;<span class="builtintype" id="1707701">uint32</span><span class="op" id="1707707">(</span><span class="ident" id="1707708">exp</span><span class="op" id="1707711">-</span><span class="ident" id="1707712">bias32</span><span class="op" id="1707718">)</span><span class="op" id="1707719">&lt;&lt;</span><span class="ident" id="1707721">mantbits32</span>&nbsp;<span class="op" id="1707732">|</span>&nbsp;<span class="ident" id="1707734">mant</span><span class="op" id="1707738">&amp;</span><span class="op" id="1707739">(</span><span class="num" id="1707740">1</span><span class="op" id="1707741">&lt;&lt;</span><span class="ident" id="1707743">mantbits32</span><span class="op" id="1707753">-</span><span class="num" id="1707754">1</span><span class="op" id="1707755">)</span><br>
<span class="lineno"></span><span class="op" id="1707757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="1707760">func</span>&nbsp;<span class="ident" id="1707765">fadd64</span><span class="op" id="1707771">(</span><span class="ident" id="1707772">f</span><span class="op" id="1707773">,</span>&nbsp;<span class="ident" id="1707775">g</span>&nbsp;<span class="ident" id="1707777">uint64</span><span class="op" id="1707783">)</span>&nbsp;<span class="ident" id="1707785">uint64</span>&nbsp;<span class="op" id="1707792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707795">fs</span><span class="op" id="1707797">,</span>&nbsp;<span class="ident" id="1707799">fm</span><span class="op" id="1707801">,</span>&nbsp;<span class="ident" id="1707803">fe</span><span class="op" id="1707805">,</span>&nbsp;<span class="ident" id="1707807">fi</span><span class="op" id="1707809">,</span>&nbsp;<span class="ident" id="1707811">fn</span>&nbsp;<span class="op" id="1707814">:=</span>&nbsp;<span class="ident" id="1707817">funpack64</span><span class="op" id="1707826">(</span><span class="ident" id="1707827">f</span><span class="op" id="1707828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1707831">gs</span><span class="op" id="1707833">,</span>&nbsp;<span class="ident" id="1707835">gm</span><span class="op" id="1707837">,</span>&nbsp;<span class="ident" id="1707839">ge</span><span class="op" id="1707841">,</span>&nbsp;<span class="ident" id="1707843">gi</span><span class="op" id="1707845">,</span>&nbsp;<span class="ident" id="1707847">gn</span>&nbsp;<span class="op" id="1707850">:=</span>&nbsp;<span class="ident" id="1707853">funpack64</span><span class="op" id="1707862">(</span><span class="ident" id="1707863">g</span><span class="op" id="1707864">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1707868">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707887">switch</span>&nbsp;<span class="op" id="1707894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707897">case</span>&nbsp;<span class="ident" id="1707902">fn</span>&nbsp;<span class="op" id="1707905">||</span>&nbsp;<span class="ident" id="1707908">gn</span><span class="op" id="1707910">:</span>&nbsp;<span class="comment" id="1707912">//&nbsp;NaN&nbsp;+&nbsp;x&nbsp;or&nbsp;x&nbsp;+&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707942">return</span>&nbsp;<span class="ident" id="1707949">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1707957">case</span>&nbsp;<span class="ident" id="1707962">fi</span>&nbsp;<span class="op" id="1707965">&amp;&amp;</span>&nbsp;<span class="ident" id="1707968">gi</span>&nbsp;<span class="op" id="1707971">&amp;&amp;</span>&nbsp;<span class="ident" id="1707974">fs</span>&nbsp;<span class="op" id="1707977">!=</span>&nbsp;<span class="ident" id="1707980">gs</span><span class="op" id="1707982">:</span>&nbsp;<span class="comment" id="1707984">//&nbsp;+Inf&nbsp;+&nbsp;-Inf&nbsp;or&nbsp;-Inf&nbsp;+&nbsp;+Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708022">return</span>&nbsp;<span class="ident" id="1708029">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708037">case</span>&nbsp;<span class="ident" id="1708042">fi</span><span class="op" id="1708044">:</span>&nbsp;<span class="comment" id="1708046">//&nbsp;Inf&nbsp;+&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708069">return</span>&nbsp;<span class="ident" id="1708076">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708080">case</span>&nbsp;<span class="ident" id="1708085">gi</span><span class="op" id="1708087">:</span>&nbsp;<span class="comment" id="1708089">//&nbsp;f&nbsp;+&nbsp;Inf&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708112">return</span>&nbsp;<span class="ident" id="1708119">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708123">case</span>&nbsp;<span class="ident" id="1708128">fm</span>&nbsp;<span class="op" id="1708131">==</span>&nbsp;<span class="num" id="1708134">0</span>&nbsp;<span class="op" id="1708136">&amp;&amp;</span>&nbsp;<span class="ident" id="1708139">gm</span>&nbsp;<span class="op" id="1708142">==</span>&nbsp;<span class="num" id="1708145">0</span>&nbsp;<span class="op" id="1708147">&amp;&amp;</span>&nbsp;<span class="ident" id="1708150">fs</span>&nbsp;<span class="op" id="1708153">!=</span>&nbsp;<span class="num" id="1708156">0</span>&nbsp;<span class="op" id="1708158">&amp;&amp;</span>&nbsp;<span class="ident" id="1708161">gs</span>&nbsp;<span class="op" id="1708164">!=</span>&nbsp;<span class="num" id="1708167">0</span><span class="op" id="1708168">:</span>&nbsp;<span class="comment" id="1708170">//&nbsp;-0&nbsp;+&nbsp;-0&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708188">return</span>&nbsp;<span class="ident" id="1708195">f</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708199">case</span>&nbsp;<span class="ident" id="1708204">fm</span>&nbsp;<span class="op" id="1708207">==</span>&nbsp;<span class="num" id="1708210">0</span><span class="op" id="1708211">:</span>&nbsp;<span class="comment" id="1708213">//&nbsp;0&nbsp;+&nbsp;g&nbsp;=&nbsp;g&nbsp;but&nbsp;0&nbsp;+&nbsp;-0&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708244">if</span>&nbsp;<span class="ident" id="1708247">gm</span>&nbsp;<span class="op" id="1708250">==</span>&nbsp;<span class="num" id="1708253">0</span>&nbsp;<span class="op" id="1708255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708260">g</span>&nbsp;<span class="op" id="1708262">^=</span>&nbsp;<span class="ident" id="1708265">gs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708270">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708274">return</span>&nbsp;<span class="ident" id="1708281">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708285">case</span>&nbsp;<span class="ident" id="1708290">gm</span>&nbsp;<span class="op" id="1708293">==</span>&nbsp;<span class="num" id="1708296">0</span><span class="op" id="1708297">:</span>&nbsp;<span class="comment" id="1708299">//&nbsp;f&nbsp;+&nbsp;0&nbsp;=&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708314">return</span>&nbsp;<span class="ident" id="1708321">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708329">if</span>&nbsp;<span class="ident" id="1708332">fe</span>&nbsp;<span class="op" id="1708335">&lt;</span>&nbsp;<span class="ident" id="1708337">ge</span>&nbsp;<span class="op" id="1708340">||</span>&nbsp;<span class="ident" id="1708343">fe</span>&nbsp;<span class="op" id="1708346">==</span>&nbsp;<span class="ident" id="1708349">ge</span>&nbsp;<span class="op" id="1708352">&amp;&amp;</span>&nbsp;<span class="ident" id="1708355">fm</span>&nbsp;<span class="op" id="1708358">&lt;</span>&nbsp;<span class="ident" id="1708360">gm</span>&nbsp;<span class="op" id="1708363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708367">f</span><span class="op" id="1708368">,</span>&nbsp;<span class="ident" id="1708370">g</span><span class="op" id="1708371">,</span>&nbsp;<span class="ident" id="1708373">fs</span><span class="op" id="1708375">,</span>&nbsp;<span class="ident" id="1708377">fm</span><span class="op" id="1708379">,</span>&nbsp;<span class="ident" id="1708381">fe</span><span class="op" id="1708383">,</span>&nbsp;<span class="ident" id="1708385">gs</span><span class="op" id="1708387">,</span>&nbsp;<span class="ident" id="1708389">gm</span><span class="op" id="1708391">,</span>&nbsp;<span class="ident" id="1708393">ge</span>&nbsp;<span class="op" id="1708396">=</span>&nbsp;<span class="ident" id="1708398">g</span><span class="op" id="1708399">,</span>&nbsp;<span class="ident" id="1708401">f</span><span class="op" id="1708402">,</span>&nbsp;<span class="ident" id="1708404">gs</span><span class="op" id="1708406">,</span>&nbsp;<span class="ident" id="1708408">gm</span><span class="op" id="1708410">,</span>&nbsp;<span class="ident" id="1708412">ge</span><span class="op" id="1708414">,</span>&nbsp;<span class="ident" id="1708416">fs</span><span class="op" id="1708418">,</span>&nbsp;<span class="ident" id="1708420">fm</span><span class="op" id="1708422">,</span>&nbsp;<span class="ident" id="1708424">fe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708428">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708432">shift</span>&nbsp;<span class="op" id="1708438">:=</span>&nbsp;<span class="builtintype" id="1708441">uint</span><span class="op" id="1708445">(</span><span class="ident" id="1708446">fe</span>&nbsp;<span class="op" id="1708449">-</span>&nbsp;<span class="ident" id="1708451">ge</span><span class="op" id="1708453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708456">fm</span>&nbsp;<span class="op" id="1708459">&lt;&lt;=</span>&nbsp;<span class="num" id="1708463">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708466">gm</span>&nbsp;<span class="op" id="1708469">&lt;&lt;=</span>&nbsp;<span class="num" id="1708473">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708476">trunc</span>&nbsp;<span class="op" id="1708482">:=</span>&nbsp;<span class="ident" id="1708485">gm</span>&nbsp;<span class="op" id="1708488">&amp;</span>&nbsp;<span class="op" id="1708490">(</span><span class="num" id="1708491">1</span><span class="op" id="1708492">&lt;&lt;</span><span class="ident" id="1708494">shift</span>&nbsp;<span class="op" id="1708500">-</span>&nbsp;<span class="num" id="1708502">1</span><span class="op" id="1708503">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708506">gm</span>&nbsp;<span class="op" id="1708509">&gt;&gt;=</span>&nbsp;<span class="ident" id="1708513">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708520">if</span>&nbsp;<span class="ident" id="1708523">fs</span>&nbsp;<span class="op" id="1708526">==</span>&nbsp;<span class="ident" id="1708529">gs</span>&nbsp;<span class="op" id="1708532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708536">fm</span>&nbsp;<span class="op" id="1708539">+=</span>&nbsp;<span class="ident" id="1708542">gm</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708546">}</span>&nbsp;<span class="keyword" id="1708548">else</span>&nbsp;<span class="op" id="1708553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708557">fm</span>&nbsp;<span class="op" id="1708560">-=</span>&nbsp;<span class="ident" id="1708563">gm</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708568">if</span>&nbsp;<span class="ident" id="1708571">trunc</span>&nbsp;<span class="op" id="1708577">!=</span>&nbsp;<span class="num" id="1708580">0</span>&nbsp;<span class="op" id="1708582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708587">fm</span><span class="op" id="1708589">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708600">if</span>&nbsp;<span class="ident" id="1708603">fm</span>&nbsp;<span class="op" id="1708606">==</span>&nbsp;<span class="num" id="1708609">0</span>&nbsp;<span class="op" id="1708611">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708615">fs</span>&nbsp;<span class="op" id="1708618">=</span>&nbsp;<span class="num" id="1708620">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1708623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708626">return</span>&nbsp;<span class="ident" id="1708633">fpack64</span><span class="op" id="1708640">(</span><span class="ident" id="1708641">fs</span><span class="op" id="1708643">,</span>&nbsp;<span class="ident" id="1708645">fm</span><span class="op" id="1708647">,</span>&nbsp;<span class="ident" id="1708649">fe</span><span class="op" id="1708651">-</span><span class="num" id="1708652">2</span><span class="op" id="1708653">,</span>&nbsp;<span class="ident" id="1708655">trunc</span><span class="op" id="1708660">)</span><br>
<span class="lineno"></span><span class="op" id="1708662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="1708665">func</span>&nbsp;<span class="ident" id="1708670">fsub64</span><span class="op" id="1708676">(</span><span class="ident" id="1708677">f</span><span class="op" id="1708678">,</span>&nbsp;<span class="ident" id="1708680">g</span>&nbsp;<span class="ident" id="1708682">uint64</span><span class="op" id="1708688">)</span>&nbsp;<span class="ident" id="1708690">uint64</span>&nbsp;<span class="op" id="1708697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708700">return</span>&nbsp;<span class="ident" id="1708707">fadd64</span><span class="op" id="1708713">(</span><span class="ident" id="1708714">f</span><span class="op" id="1708715">,</span>&nbsp;<span class="ident" id="1708717">fneg64</span><span class="op" id="1708723">(</span><span class="ident" id="1708724">g</span><span class="op" id="1708725">)</span><span class="op" id="1708726">)</span><br>
<span class="lineno"></span><span class="op" id="1708728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1708731">func</span>&nbsp;<span class="ident" id="1708736">fneg64</span><span class="op" id="1708742">(</span><span class="ident" id="1708743">f</span>&nbsp;<span class="ident" id="1708745">uint64</span><span class="op" id="1708751">)</span>&nbsp;<span class="ident" id="1708753">uint64</span>&nbsp;<span class="op" id="1708760">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708763">return</span>&nbsp;<span class="ident" id="1708770">f</span>&nbsp;<span class="op" id="1708772">^</span>&nbsp;<span class="op" id="1708774">(</span><span class="num" id="1708775">1</span>&nbsp;<span class="op" id="1708777">&lt;&lt;</span>&nbsp;<span class="op" id="1708780">(</span><span class="ident" id="1708781">mantbits64</span>&nbsp;<span class="op" id="1708792">+</span>&nbsp;<span class="ident" id="1708794">expbits64</span><span class="op" id="1708803">)</span><span class="op" id="1708804">)</span><br>
<span class="lineno"></span><span class="op" id="1708806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1708809">func</span>&nbsp;<span class="ident" id="1708814">fmul64</span><span class="op" id="1708820">(</span><span class="ident" id="1708821">f</span><span class="op" id="1708822">,</span>&nbsp;<span class="ident" id="1708824">g</span>&nbsp;<span class="ident" id="1708826">uint64</span><span class="op" id="1708832">)</span>&nbsp;<span class="ident" id="1708834">uint64</span>&nbsp;<span class="op" id="1708841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708844">fs</span><span class="op" id="1708846">,</span>&nbsp;<span class="ident" id="1708848">fm</span><span class="op" id="1708850">,</span>&nbsp;<span class="ident" id="1708852">fe</span><span class="op" id="1708854">,</span>&nbsp;<span class="ident" id="1708856">fi</span><span class="op" id="1708858">,</span>&nbsp;<span class="ident" id="1708860">fn</span>&nbsp;<span class="op" id="1708863">:=</span>&nbsp;<span class="ident" id="1708866">funpack64</span><span class="op" id="1708875">(</span><span class="ident" id="1708876">f</span><span class="op" id="1708877">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1708880">gs</span><span class="op" id="1708882">,</span>&nbsp;<span class="ident" id="1708884">gm</span><span class="op" id="1708886">,</span>&nbsp;<span class="ident" id="1708888">ge</span><span class="op" id="1708890">,</span>&nbsp;<span class="ident" id="1708892">gi</span><span class="op" id="1708894">,</span>&nbsp;<span class="ident" id="1708896">gn</span>&nbsp;<span class="op" id="1708899">:=</span>&nbsp;<span class="ident" id="1708902">funpack64</span><span class="op" id="1708911">(</span><span class="ident" id="1708912">g</span><span class="op" id="1708913">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1708917">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708936">switch</span>&nbsp;<span class="op" id="1708943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708946">case</span>&nbsp;<span class="ident" id="1708951">fn</span>&nbsp;<span class="op" id="1708954">||</span>&nbsp;<span class="ident" id="1708957">gn</span><span class="op" id="1708959">:</span>&nbsp;<span class="comment" id="1708961">//&nbsp;NaN&nbsp;*&nbsp;g&nbsp;or&nbsp;f&nbsp;*&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1708991">return</span>&nbsp;<span class="ident" id="1708998">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709006">case</span>&nbsp;<span class="ident" id="1709011">fi</span>&nbsp;<span class="op" id="1709014">&amp;&amp;</span>&nbsp;<span class="ident" id="1709017">gi</span><span class="op" id="1709019">:</span>&nbsp;<span class="comment" id="1709021">//&nbsp;Inf&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709063">return</span>&nbsp;<span class="ident" id="1709070">f</span>&nbsp;<span class="op" id="1709072">^</span>&nbsp;<span class="ident" id="1709074">gs</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709079">case</span>&nbsp;<span class="ident" id="1709084">fi</span>&nbsp;<span class="op" id="1709087">&amp;&amp;</span>&nbsp;<span class="ident" id="1709090">gm</span>&nbsp;<span class="op" id="1709093">==</span>&nbsp;<span class="num" id="1709096">0</span><span class="op" id="1709097">,</span>&nbsp;<span class="ident" id="1709099">fm</span>&nbsp;<span class="op" id="1709102">==</span>&nbsp;<span class="num" id="1709105">0</span>&nbsp;<span class="op" id="1709107">&amp;&amp;</span>&nbsp;<span class="ident" id="1709110">gi</span><span class="op" id="1709112">:</span>&nbsp;<span class="comment" id="1709114">//&nbsp;0&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;*&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709143">return</span>&nbsp;<span class="ident" id="1709150">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709158">case</span>&nbsp;<span class="ident" id="1709163">fm</span>&nbsp;<span class="op" id="1709166">==</span>&nbsp;<span class="num" id="1709169">0</span><span class="op" id="1709170">:</span>&nbsp;<span class="comment" id="1709172">//&nbsp;0&nbsp;*&nbsp;x&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709208">return</span>&nbsp;<span class="ident" id="1709215">f</span>&nbsp;<span class="op" id="1709217">^</span>&nbsp;<span class="ident" id="1709219">gs</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709224">case</span>&nbsp;<span class="ident" id="1709229">gm</span>&nbsp;<span class="op" id="1709232">==</span>&nbsp;<span class="num" id="1709235">0</span><span class="op" id="1709236">:</span>&nbsp;<span class="comment" id="1709238">//&nbsp;x&nbsp;*&nbsp;0&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709274">return</span>&nbsp;<span class="ident" id="1709281">g</span>&nbsp;<span class="op" id="1709283">^</span>&nbsp;<span class="ident" id="1709285">fs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1709289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1709293">//&nbsp;53-bit&nbsp;*&nbsp;53-bit&nbsp;=&nbsp;107-&nbsp;or&nbsp;108-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709331">lo</span><span class="op" id="1709333">,</span>&nbsp;<span class="ident" id="1709335">hi</span>&nbsp;<span class="op" id="1709338">:=</span>&nbsp;<span class="ident" id="1709341">mullu</span><span class="op" id="1709346">(</span><span class="ident" id="1709347">fm</span><span class="op" id="1709349">,</span>&nbsp;<span class="ident" id="1709351">gm</span><span class="op" id="1709353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709356">shift</span>&nbsp;<span class="op" id="1709362">:=</span>&nbsp;<span class="ident" id="1709365">mantbits64</span>&nbsp;<span class="op" id="1709376">-</span>&nbsp;<span class="num" id="1709378">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709381">trunc</span>&nbsp;<span class="op" id="1709387">:=</span>&nbsp;<span class="ident" id="1709390">lo</span>&nbsp;<span class="op" id="1709393">&amp;</span>&nbsp;<span class="op" id="1709395">(</span><span class="num" id="1709396">1</span><span class="op" id="1709397">&lt;&lt;</span><span class="ident" id="1709399">shift</span>&nbsp;<span class="op" id="1709405">-</span>&nbsp;<span class="num" id="1709407">1</span><span class="op" id="1709408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709411">mant</span>&nbsp;<span class="op" id="1709416">:=</span>&nbsp;<span class="ident" id="1709419">hi</span><span class="op" id="1709421">&lt;&lt;</span><span class="op" id="1709423">(</span><span class="num" id="1709424">64</span><span class="op" id="1709426">-</span><span class="ident" id="1709427">shift</span><span class="op" id="1709432">)</span>&nbsp;<span class="op" id="1709434">|</span>&nbsp;<span class="ident" id="1709436">lo</span><span class="op" id="1709438">&gt;&gt;</span><span class="ident" id="1709440">shift</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709447">return</span>&nbsp;<span class="ident" id="1709454">fpack64</span><span class="op" id="1709461">(</span><span class="ident" id="1709462">fs</span><span class="op" id="1709464">^</span><span class="ident" id="1709465">gs</span><span class="op" id="1709467">,</span>&nbsp;<span class="ident" id="1709469">mant</span><span class="op" id="1709473">,</span>&nbsp;<span class="ident" id="1709475">fe</span><span class="op" id="1709477">+</span><span class="ident" id="1709478">ge</span><span class="op" id="1709480">-</span><span class="num" id="1709481">1</span><span class="op" id="1709482">,</span>&nbsp;<span class="ident" id="1709484">trunc</span><span class="op" id="1709489">)</span><br>
<span class="lineno"></span><span class="op" id="1709491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1709494">func</span>&nbsp;<span class="ident" id="1709499">fdiv64</span><span class="op" id="1709505">(</span><span class="ident" id="1709506">f</span><span class="op" id="1709507">,</span>&nbsp;<span class="ident" id="1709509">g</span>&nbsp;<span class="ident" id="1709511">uint64</span><span class="op" id="1709517">)</span>&nbsp;<span class="ident" id="1709519">uint64</span>&nbsp;<span class="op" id="1709526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709529">fs</span><span class="op" id="1709531">,</span>&nbsp;<span class="ident" id="1709533">fm</span><span class="op" id="1709535">,</span>&nbsp;<span class="ident" id="1709537">fe</span><span class="op" id="1709539">,</span>&nbsp;<span class="ident" id="1709541">fi</span><span class="op" id="1709543">,</span>&nbsp;<span class="ident" id="1709545">fn</span>&nbsp;<span class="op" id="1709548">:=</span>&nbsp;<span class="ident" id="1709551">funpack64</span><span class="op" id="1709560">(</span><span class="ident" id="1709561">f</span><span class="op" id="1709562">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709565">gs</span><span class="op" id="1709567">,</span>&nbsp;<span class="ident" id="1709569">gm</span><span class="op" id="1709571">,</span>&nbsp;<span class="ident" id="1709573">ge</span><span class="op" id="1709575">,</span>&nbsp;<span class="ident" id="1709577">gi</span><span class="op" id="1709579">,</span>&nbsp;<span class="ident" id="1709581">gn</span>&nbsp;<span class="op" id="1709584">:=</span>&nbsp;<span class="ident" id="1709587">funpack64</span><span class="op" id="1709596">(</span><span class="ident" id="1709597">g</span><span class="op" id="1709598">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1709602">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709621">switch</span>&nbsp;<span class="op" id="1709628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709631">case</span>&nbsp;<span class="ident" id="1709636">fn</span>&nbsp;<span class="op" id="1709639">||</span>&nbsp;<span class="ident" id="1709642">gn</span><span class="op" id="1709644">:</span>&nbsp;<span class="comment" id="1709646">//&nbsp;NaN&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709675">return</span>&nbsp;<span class="ident" id="1709682">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709690">case</span>&nbsp;<span class="ident" id="1709695">fi</span>&nbsp;<span class="op" id="1709698">&amp;&amp;</span>&nbsp;<span class="ident" id="1709701">gi</span><span class="op" id="1709703">:</span>&nbsp;<span class="comment" id="1709705">//&nbsp;Inf&nbsp;/&nbsp;Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709730">return</span>&nbsp;<span class="ident" id="1709737">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709745">case</span>&nbsp;<span class="op" id="1709750">!</span><span class="ident" id="1709751">fi</span>&nbsp;<span class="op" id="1709754">&amp;&amp;</span>&nbsp;<span class="op" id="1709757">!</span><span class="ident" id="1709758">gi</span>&nbsp;<span class="op" id="1709761">&amp;&amp;</span>&nbsp;<span class="ident" id="1709764">fm</span>&nbsp;<span class="op" id="1709767">==</span>&nbsp;<span class="num" id="1709770">0</span>&nbsp;<span class="op" id="1709772">&amp;&amp;</span>&nbsp;<span class="ident" id="1709775">gm</span>&nbsp;<span class="op" id="1709778">==</span>&nbsp;<span class="num" id="1709781">0</span><span class="op" id="1709782">:</span>&nbsp;<span class="comment" id="1709784">//&nbsp;0&nbsp;/&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709801">return</span>&nbsp;<span class="ident" id="1709808">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709816">case</span>&nbsp;<span class="ident" id="1709821">fi</span><span class="op" id="1709823">,</span>&nbsp;<span class="op" id="1709825">!</span><span class="ident" id="1709826">gi</span>&nbsp;<span class="op" id="1709829">&amp;&amp;</span>&nbsp;<span class="ident" id="1709832">gm</span>&nbsp;<span class="op" id="1709835">==</span>&nbsp;<span class="num" id="1709838">0</span><span class="op" id="1709839">:</span>&nbsp;<span class="comment" id="1709841">//&nbsp;Inf&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;0&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709868">return</span>&nbsp;<span class="ident" id="1709875">fs</span>&nbsp;<span class="op" id="1709878">^</span>&nbsp;<span class="ident" id="1709880">gs</span>&nbsp;<span class="op" id="1709883">^</span>&nbsp;<span class="ident" id="1709885">inf64</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709893">case</span>&nbsp;<span class="ident" id="1709898">gi</span><span class="op" id="1709900">,</span>&nbsp;<span class="ident" id="1709902">fm</span>&nbsp;<span class="op" id="1709905">==</span>&nbsp;<span class="num" id="1709908">0</span><span class="op" id="1709909">:</span>&nbsp;<span class="comment" id="1709911">//&nbsp;f&nbsp;/&nbsp;Inf&nbsp;=&nbsp;0&nbsp;/&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1709938">return</span>&nbsp;<span class="ident" id="1709945">fs</span>&nbsp;<span class="op" id="1709948">^</span>&nbsp;<span class="ident" id="1709950">gs</span>&nbsp;<span class="op" id="1709953">^</span>&nbsp;<span class="num" id="1709955">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1709958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1709961">_</span><span class="op" id="1709962">,</span>&nbsp;<span class="ident" id="1709964">_</span><span class="op" id="1709965">,</span>&nbsp;<span class="ident" id="1709967">_</span><span class="op" id="1709968">,</span>&nbsp;<span class="ident" id="1709970">_</span>&nbsp;<span class="op" id="1709972">=</span>&nbsp;<span class="ident" id="1709974">fi</span><span class="op" id="1709976">,</span>&nbsp;<span class="ident" id="1709978">fn</span><span class="op" id="1709980">,</span>&nbsp;<span class="ident" id="1709982">gi</span><span class="op" id="1709984">,</span>&nbsp;<span class="ident" id="1709986">gn</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1709991">//&nbsp;53-bit&lt;&lt;54&nbsp;/&nbsp;53-bit&nbsp;=&nbsp;53-&nbsp;or&nbsp;54-bit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710032">shift</span>&nbsp;<span class="op" id="1710038">:=</span>&nbsp;<span class="ident" id="1710041">mantbits64</span>&nbsp;<span class="op" id="1710052">+</span>&nbsp;<span class="num" id="1710054">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710057">q</span><span class="op" id="1710058">,</span>&nbsp;<span class="ident" id="1710060">r</span>&nbsp;<span class="op" id="1710062">:=</span>&nbsp;<span class="ident" id="1710065">divlu</span><span class="op" id="1710070">(</span><span class="ident" id="1710071">fm</span><span class="op" id="1710073">&gt;&gt;</span><span class="op" id="1710075">(</span><span class="num" id="1710076">64</span><span class="op" id="1710078">-</span><span class="ident" id="1710079">shift</span><span class="op" id="1710084">)</span><span class="op" id="1710085">,</span>&nbsp;<span class="ident" id="1710087">fm</span><span class="op" id="1710089">&lt;&lt;</span><span class="ident" id="1710091">shift</span><span class="op" id="1710096">,</span>&nbsp;<span class="ident" id="1710098">gm</span><span class="op" id="1710100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710103">return</span>&nbsp;<span class="ident" id="1710110">fpack64</span><span class="op" id="1710117">(</span><span class="ident" id="1710118">fs</span><span class="op" id="1710120">^</span><span class="ident" id="1710121">gs</span><span class="op" id="1710123">,</span>&nbsp;<span class="ident" id="1710125">q</span><span class="op" id="1710126">,</span>&nbsp;<span class="ident" id="1710128">fe</span><span class="op" id="1710130">-</span><span class="ident" id="1710131">ge</span><span class="op" id="1710133">-</span><span class="num" id="1710134">2</span><span class="op" id="1710135">,</span>&nbsp;<span class="ident" id="1710137">r</span><span class="op" id="1710138">)</span><br>
<span class="lineno">315</span><span class="op" id="1710140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1710143">func</span>&nbsp;<span class="ident" id="1710148">f64to32</span><span class="op" id="1710155">(</span><span class="ident" id="1710156">f</span>&nbsp;<span class="ident" id="1710158">uint64</span><span class="op" id="1710164">)</span>&nbsp;<span class="builtintype" id="1710166">uint32</span>&nbsp;<span class="op" id="1710173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710176">fs</span><span class="op" id="1710178">,</span>&nbsp;<span class="ident" id="1710180">fm</span><span class="op" id="1710182">,</span>&nbsp;<span class="ident" id="1710184">fe</span><span class="op" id="1710186">,</span>&nbsp;<span class="ident" id="1710188">fi</span><span class="op" id="1710190">,</span>&nbsp;<span class="ident" id="1710192">fn</span>&nbsp;<span class="op" id="1710195">:=</span>&nbsp;<span class="ident" id="1710198">funpack64</span><span class="op" id="1710207">(</span><span class="ident" id="1710208">f</span><span class="op" id="1710209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710212">if</span>&nbsp;<span class="ident" id="1710215">fn</span>&nbsp;<span class="op" id="1710218">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710222">return</span>&nbsp;<span class="ident" id="1710229">nan32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1710236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710239">fs32</span>&nbsp;<span class="op" id="1710244">:=</span>&nbsp;<span class="builtintype" id="1710247">uint32</span><span class="op" id="1710253">(</span><span class="ident" id="1710254">fs</span>&nbsp;<span class="op" id="1710257">&gt;&gt;</span>&nbsp;<span class="num" id="1710260">32</span><span class="op" id="1710262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710265">if</span>&nbsp;<span class="ident" id="1710268">fi</span>&nbsp;<span class="op" id="1710271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710275">return</span>&nbsp;<span class="ident" id="1710282">fs32</span>&nbsp;<span class="op" id="1710287">^</span>&nbsp;<span class="ident" id="1710289">inf32</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1710296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710299">const</span>&nbsp;<span class="ident" id="1710305">d</span>&nbsp;<span class="op" id="1710307">=</span>&nbsp;<span class="ident" id="1710309">mantbits64</span>&nbsp;<span class="op" id="1710320">-</span>&nbsp;<span class="ident" id="1710322">mantbits32</span>&nbsp;<span class="op" id="1710333">-</span>&nbsp;<span class="num" id="1710335">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710338">return</span>&nbsp;<span class="ident" id="1710345">fpack32</span><span class="op" id="1710352">(</span><span class="ident" id="1710353">fs32</span><span class="op" id="1710357">,</span>&nbsp;<span class="builtintype" id="1710359">uint32</span><span class="op" id="1710365">(</span><span class="ident" id="1710366">fm</span><span class="op" id="1710368">&gt;&gt;</span><span class="ident" id="1710370">d</span><span class="op" id="1710371">)</span><span class="op" id="1710372">,</span>&nbsp;<span class="ident" id="1710374">fe</span><span class="op" id="1710376">-</span><span class="num" id="1710377">1</span><span class="op" id="1710378">,</span>&nbsp;<span class="builtintype" id="1710380">uint32</span><span class="op" id="1710386">(</span><span class="ident" id="1710387">fm</span><span class="op" id="1710389">&amp;</span><span class="op" id="1710390">(</span><span class="num" id="1710391">1</span><span class="op" id="1710392">&lt;&lt;</span><span class="ident" id="1710394">d</span><span class="op" id="1710395">-</span><span class="num" id="1710396">1</span><span class="op" id="1710397">)</span><span class="op" id="1710398">)</span><span class="op" id="1710399">)</span><br>
<span class="lineno"></span><span class="op" id="1710401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="keyword" id="1710404">func</span>&nbsp;<span class="ident" id="1710409">f32to64</span><span class="op" id="1710416">(</span><span class="ident" id="1710417">f</span>&nbsp;<span class="builtintype" id="1710419">uint32</span><span class="op" id="1710425">)</span>&nbsp;<span class="ident" id="1710427">uint64</span>&nbsp;<span class="op" id="1710434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710437">const</span>&nbsp;<span class="ident" id="1710443">d</span>&nbsp;<span class="op" id="1710445">=</span>&nbsp;<span class="ident" id="1710447">mantbits64</span>&nbsp;<span class="op" id="1710458">-</span>&nbsp;<span class="ident" id="1710460">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710472">fs</span><span class="op" id="1710474">,</span>&nbsp;<span class="ident" id="1710476">fm</span><span class="op" id="1710478">,</span>&nbsp;<span class="ident" id="1710480">fe</span><span class="op" id="1710482">,</span>&nbsp;<span class="ident" id="1710484">fi</span><span class="op" id="1710486">,</span>&nbsp;<span class="ident" id="1710488">fn</span>&nbsp;<span class="op" id="1710491">:=</span>&nbsp;<span class="ident" id="1710494">funpack32</span><span class="op" id="1710503">(</span><span class="ident" id="1710504">f</span><span class="op" id="1710505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710508">if</span>&nbsp;<span class="ident" id="1710511">fn</span>&nbsp;<span class="op" id="1710514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710518">return</span>&nbsp;<span class="ident" id="1710525">nan64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1710532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710535">fs64</span>&nbsp;<span class="op" id="1710540">:=</span>&nbsp;<span class="ident" id="1710543">uint64</span><span class="op" id="1710549">(</span><span class="ident" id="1710550">fs</span><span class="op" id="1710552">)</span>&nbsp;<span class="op" id="1710554">&lt;&lt;</span>&nbsp;<span class="num" id="1710557">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710561">if</span>&nbsp;<span class="ident" id="1710564">fi</span>&nbsp;<span class="op" id="1710567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710571">return</span>&nbsp;<span class="ident" id="1710578">fs64</span>&nbsp;<span class="op" id="1710583">^</span>&nbsp;<span class="ident" id="1710585">inf64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1710592">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710595">return</span>&nbsp;<span class="ident" id="1710602">fpack64</span><span class="op" id="1710609">(</span><span class="ident" id="1710610">fs64</span><span class="op" id="1710614">,</span>&nbsp;<span class="ident" id="1710616">uint64</span><span class="op" id="1710622">(</span><span class="ident" id="1710623">fm</span><span class="op" id="1710625">)</span><span class="op" id="1710626">&lt;&lt;</span><span class="ident" id="1710628">d</span><span class="op" id="1710629">,</span>&nbsp;<span class="ident" id="1710631">fe</span><span class="op" id="1710633">,</span>&nbsp;<span class="num" id="1710635">0</span><span class="op" id="1710636">)</span><br>
<span class="lineno"></span><span class="op" id="1710638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1710641">func</span>&nbsp;<span class="ident" id="1710646">fcmp64</span><span class="op" id="1710652">(</span><span class="ident" id="1710653">f</span><span class="op" id="1710654">,</span>&nbsp;<span class="ident" id="1710656">g</span>&nbsp;<span class="ident" id="1710658">uint64</span><span class="op" id="1710664">)</span>&nbsp;<span class="op" id="1710666">(</span><span class="ident" id="1710667">cmp</span>&nbsp;<span class="builtintype" id="1710671">int</span><span class="op" id="1710674">,</span>&nbsp;<span class="ident" id="1710676">isnan</span>&nbsp;<span class="builtintype" id="1710682">bool</span><span class="op" id="1710686">)</span>&nbsp;<span class="op" id="1710688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710691">fs</span><span class="op" id="1710693">,</span>&nbsp;<span class="ident" id="1710695">fm</span><span class="op" id="1710697">,</span>&nbsp;<span class="ident" id="1710699">_</span><span class="op" id="1710700">,</span>&nbsp;<span class="ident" id="1710702">fi</span><span class="op" id="1710704">,</span>&nbsp;<span class="ident" id="1710706">fn</span>&nbsp;<span class="op" id="1710709">:=</span>&nbsp;<span class="ident" id="1710712">funpack64</span><span class="op" id="1710721">(</span><span class="ident" id="1710722">f</span><span class="op" id="1710723">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1710726">gs</span><span class="op" id="1710728">,</span>&nbsp;<span class="ident" id="1710730">gm</span><span class="op" id="1710732">,</span>&nbsp;<span class="ident" id="1710734">_</span><span class="op" id="1710735">,</span>&nbsp;<span class="ident" id="1710737">gi</span><span class="op" id="1710739">,</span>&nbsp;<span class="ident" id="1710741">gn</span>&nbsp;<span class="op" id="1710744">:=</span>&nbsp;<span class="ident" id="1710747">funpack64</span><span class="op" id="1710756">(</span><span class="ident" id="1710757">g</span><span class="op" id="1710758">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710762">switch</span>&nbsp;<span class="op" id="1710769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710772">case</span>&nbsp;<span class="ident" id="1710777">fn</span><span class="op" id="1710779">,</span>&nbsp;<span class="ident" id="1710781">gn</span><span class="op" id="1710783">:</span>&nbsp;<span class="comment" id="1710785">//&nbsp;flag&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710799">return</span>&nbsp;<span class="num" id="1710806">0</span><span class="op" id="1710807">,</span>&nbsp;<span class="ident" id="1710809">true</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710816">case</span>&nbsp;<span class="op" id="1710821">!</span><span class="ident" id="1710822">fi</span>&nbsp;<span class="op" id="1710825">&amp;&amp;</span>&nbsp;<span class="op" id="1710828">!</span><span class="ident" id="1710829">gi</span>&nbsp;<span class="op" id="1710832">&amp;&amp;</span>&nbsp;<span class="ident" id="1710835">fm</span>&nbsp;<span class="op" id="1710838">==</span>&nbsp;<span class="num" id="1710841">0</span>&nbsp;<span class="op" id="1710843">&amp;&amp;</span>&nbsp;<span class="ident" id="1710846">gm</span>&nbsp;<span class="op" id="1710849">==</span>&nbsp;<span class="num" id="1710852">0</span><span class="op" id="1710853">:</span>&nbsp;<span class="comment" id="1710855">//&nbsp;0&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710871">return</span>&nbsp;<span class="num" id="1710878">0</span><span class="op" id="1710879">,</span>&nbsp;<span class="ident" id="1710881">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710889">case</span>&nbsp;<span class="ident" id="1710894">fs</span>&nbsp;<span class="op" id="1710897">&gt;</span>&nbsp;<span class="ident" id="1710899">gs</span><span class="op" id="1710901">:</span>&nbsp;<span class="comment" id="1710903">//&nbsp;f&nbsp;&lt;&nbsp;0,&nbsp;g&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710921">return</span>&nbsp;<span class="op" id="1710928">-</span><span class="num" id="1710929">1</span><span class="op" id="1710930">,</span>&nbsp;<span class="ident" id="1710932">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710940">case</span>&nbsp;<span class="ident" id="1710945">fs</span>&nbsp;<span class="op" id="1710948">&lt;</span>&nbsp;<span class="ident" id="1710950">gs</span><span class="op" id="1710952">:</span>&nbsp;<span class="comment" id="1710954">//&nbsp;f&nbsp;&gt;&nbsp;0,&nbsp;g&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1710972">return</span>&nbsp;<span class="op" id="1710979">+</span><span class="num" id="1710980">1</span><span class="op" id="1710981">,</span>&nbsp;<span class="ident" id="1710983">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1710991">//&nbsp;Same&nbsp;sign,&nbsp;not&nbsp;NaN.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1711015">//&nbsp;Can&nbsp;compare&nbsp;encodings&nbsp;directly&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1711055">//&nbsp;Reverse&nbsp;for&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711077">case</span>&nbsp;<span class="ident" id="1711082">fs</span>&nbsp;<span class="op" id="1711085">==</span>&nbsp;<span class="num" id="1711088">0</span>&nbsp;<span class="op" id="1711090">&amp;&amp;</span>&nbsp;<span class="ident" id="1711093">f</span>&nbsp;<span class="op" id="1711095">&lt;</span>&nbsp;<span class="ident" id="1711097">g</span><span class="op" id="1711098">,</span>&nbsp;<span class="ident" id="1711100">fs</span>&nbsp;<span class="op" id="1711103">!=</span>&nbsp;<span class="num" id="1711106">0</span>&nbsp;<span class="op" id="1711108">&amp;&amp;</span>&nbsp;<span class="ident" id="1711111">f</span>&nbsp;<span class="op" id="1711113">&gt;</span>&nbsp;<span class="ident" id="1711115">g</span><span class="op" id="1711116">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711120">return</span>&nbsp;<span class="op" id="1711127">-</span><span class="num" id="1711128">1</span><span class="op" id="1711129">,</span>&nbsp;<span class="ident" id="1711131">false</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711139">case</span>&nbsp;<span class="ident" id="1711144">fs</span>&nbsp;<span class="op" id="1711147">==</span>&nbsp;<span class="num" id="1711150">0</span>&nbsp;<span class="op" id="1711152">&amp;&amp;</span>&nbsp;<span class="ident" id="1711155">f</span>&nbsp;<span class="op" id="1711157">&gt;</span>&nbsp;<span class="ident" id="1711159">g</span><span class="op" id="1711160">,</span>&nbsp;<span class="ident" id="1711162">fs</span>&nbsp;<span class="op" id="1711165">!=</span>&nbsp;<span class="num" id="1711168">0</span>&nbsp;<span class="op" id="1711170">&amp;&amp;</span>&nbsp;<span class="ident" id="1711173">f</span>&nbsp;<span class="op" id="1711175">&lt;</span>&nbsp;<span class="ident" id="1711177">g</span><span class="op" id="1711178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711182">return</span>&nbsp;<span class="op" id="1711189">+</span><span class="num" id="1711190">1</span><span class="op" id="1711191">,</span>&nbsp;<span class="ident" id="1711193">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1711204">//&nbsp;f&nbsp;==&nbsp;g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711215">return</span>&nbsp;<span class="num" id="1711222">0</span><span class="op" id="1711223">,</span>&nbsp;<span class="ident" id="1711225">false</span><br>
<span class="lineno"></span><span class="op" id="1711231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1711234">func</span>&nbsp;<span class="ident" id="1711239">f64toint</span><span class="op" id="1711247">(</span><span class="ident" id="1711248">f</span>&nbsp;<span class="ident" id="1711250">uint64</span><span class="op" id="1711256">)</span>&nbsp;<span class="op" id="1711258">(</span><span class="ident" id="1711259">val</span>&nbsp;<span class="ident" id="1711263">int64</span><span class="op" id="1711268">,</span>&nbsp;<span class="ident" id="1711270">ok</span>&nbsp;<span class="builtintype" id="1711273">bool</span><span class="op" id="1711277">)</span>&nbsp;<span class="op" id="1711279">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711282">fs</span><span class="op" id="1711284">,</span>&nbsp;<span class="ident" id="1711286">fm</span><span class="op" id="1711288">,</span>&nbsp;<span class="ident" id="1711290">fe</span><span class="op" id="1711292">,</span>&nbsp;<span class="ident" id="1711294">fi</span><span class="op" id="1711296">,</span>&nbsp;<span class="ident" id="1711298">fn</span>&nbsp;<span class="op" id="1711301">:=</span>&nbsp;<span class="ident" id="1711304">funpack64</span><span class="op" id="1711313">(</span><span class="ident" id="1711314">f</span><span class="op" id="1711315">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711319">switch</span>&nbsp;<span class="op" id="1711326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711329">case</span>&nbsp;<span class="ident" id="1711334">fi</span><span class="op" id="1711336">,</span>&nbsp;<span class="ident" id="1711338">fn</span><span class="op" id="1711340">:</span>&nbsp;<span class="comment" id="1711342">//&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711351">return</span>&nbsp;<span class="num" id="1711358">0</span><span class="op" id="1711359">,</span>&nbsp;<span class="ident" id="1711361">false</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711369">case</span>&nbsp;<span class="ident" id="1711374">fe</span>&nbsp;<span class="op" id="1711377">&lt;</span>&nbsp;<span class="op" id="1711379">-</span><span class="num" id="1711380">1</span><span class="op" id="1711381">:</span>&nbsp;<span class="comment" id="1711383">//&nbsp;f&nbsp;&lt;&nbsp;0.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711396">return</span>&nbsp;<span class="num" id="1711403">0</span><span class="op" id="1711404">,</span>&nbsp;<span class="ident" id="1711406">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711414">case</span>&nbsp;<span class="ident" id="1711419">fe</span>&nbsp;<span class="op" id="1711422">&gt;</span>&nbsp;<span class="num" id="1711424">63</span><span class="op" id="1711426">:</span>&nbsp;<span class="comment" id="1711428">//&nbsp;f&nbsp;&gt;=&nbsp;2^63</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711443">if</span>&nbsp;<span class="ident" id="1711446">fs</span>&nbsp;<span class="op" id="1711449">!=</span>&nbsp;<span class="num" id="1711452">0</span>&nbsp;<span class="op" id="1711454">&amp;&amp;</span>&nbsp;<span class="ident" id="1711457">fm</span>&nbsp;<span class="op" id="1711460">==</span>&nbsp;<span class="num" id="1711463">0</span>&nbsp;<span class="op" id="1711465">{</span>&nbsp;<span class="comment" id="1711467">//&nbsp;f&nbsp;==&nbsp;-2^63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711484">return</span>&nbsp;<span class="op" id="1711491">-</span><span class="num" id="1711492">1</span>&nbsp;<span class="op" id="1711494">&lt;&lt;</span>&nbsp;<span class="num" id="1711497">63</span><span class="op" id="1711499">,</span>&nbsp;<span class="ident" id="1711501">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711512">if</span>&nbsp;<span class="ident" id="1711515">fs</span>&nbsp;<span class="op" id="1711518">!=</span>&nbsp;<span class="num" id="1711521">0</span>&nbsp;<span class="op" id="1711523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711528">return</span>&nbsp;<span class="num" id="1711535">0</span><span class="op" id="1711536">,</span>&nbsp;<span class="ident" id="1711538">false</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711550">return</span>&nbsp;<span class="num" id="1711557">0</span><span class="op" id="1711558">,</span>&nbsp;<span class="ident" id="1711560">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711571">for</span>&nbsp;<span class="ident" id="1711575">fe</span>&nbsp;<span class="op" id="1711578">&gt;</span>&nbsp;<span class="builtintype" id="1711580">int</span><span class="op" id="1711583">(</span><span class="ident" id="1711584">mantbits64</span><span class="op" id="1711594">)</span>&nbsp;<span class="op" id="1711596">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711600">fe</span><span class="op" id="1711602">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711607">fm</span>&nbsp;<span class="op" id="1711610">&lt;&lt;=</span>&nbsp;<span class="num" id="1711614">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711620">for</span>&nbsp;<span class="ident" id="1711624">fe</span>&nbsp;<span class="op" id="1711627">&lt;</span>&nbsp;<span class="builtintype" id="1711629">int</span><span class="op" id="1711632">(</span><span class="ident" id="1711633">mantbits64</span><span class="op" id="1711643">)</span>&nbsp;<span class="op" id="1711645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711649">fe</span><span class="op" id="1711651">++</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711656">fm</span>&nbsp;<span class="op" id="1711659">&gt;&gt;=</span>&nbsp;<span class="num" id="1711663">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711669">val</span>&nbsp;<span class="op" id="1711673">=</span>&nbsp;<span class="ident" id="1711675">int64</span><span class="op" id="1711680">(</span><span class="ident" id="1711681">fm</span><span class="op" id="1711683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711686">if</span>&nbsp;<span class="ident" id="1711689">fs</span>&nbsp;<span class="op" id="1711692">!=</span>&nbsp;<span class="num" id="1711695">0</span>&nbsp;<span class="op" id="1711697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711701">val</span>&nbsp;<span class="op" id="1711705">=</span>&nbsp;<span class="op" id="1711707">-</span><span class="ident" id="1711708">val</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711716">return</span>&nbsp;<span class="ident" id="1711723">val</span><span class="op" id="1711726">,</span>&nbsp;<span class="ident" id="1711728">true</span><br>
<span class="lineno"></span><span class="op" id="1711733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1711736">func</span>&nbsp;<span class="ident" id="1711741">fintto64</span><span class="op" id="1711749">(</span><span class="ident" id="1711750">val</span>&nbsp;<span class="ident" id="1711754">int64</span><span class="op" id="1711759">)</span>&nbsp;<span class="op" id="1711761">(</span><span class="ident" id="1711762">f</span>&nbsp;<span class="ident" id="1711764">uint64</span><span class="op" id="1711770">)</span>&nbsp;<span class="op" id="1711772">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711775">fs</span>&nbsp;<span class="op" id="1711778">:=</span>&nbsp;<span class="ident" id="1711781">uint64</span><span class="op" id="1711787">(</span><span class="ident" id="1711788">val</span><span class="op" id="1711791">)</span>&nbsp;<span class="op" id="1711793">&amp;</span>&nbsp;<span class="op" id="1711795">(</span><span class="num" id="1711796">1</span>&nbsp;<span class="op" id="1711798">&lt;&lt;</span>&nbsp;<span class="num" id="1711801">63</span><span class="op" id="1711803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711806">mant</span>&nbsp;<span class="op" id="1711811">:=</span>&nbsp;<span class="ident" id="1711814">uint64</span><span class="op" id="1711820">(</span><span class="ident" id="1711821">val</span><span class="op" id="1711824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711827">if</span>&nbsp;<span class="ident" id="1711830">fs</span>&nbsp;<span class="op" id="1711833">!=</span>&nbsp;<span class="num" id="1711836">0</span>&nbsp;<span class="op" id="1711838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1711842">mant</span>&nbsp;<span class="op" id="1711847">=</span>&nbsp;<span class="op" id="1711849">-</span><span class="ident" id="1711850">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1711856">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1711859">return</span>&nbsp;<span class="ident" id="1711866">fpack64</span><span class="op" id="1711873">(</span><span class="ident" id="1711874">fs</span><span class="op" id="1711876">,</span>&nbsp;<span class="ident" id="1711878">mant</span><span class="op" id="1711882">,</span>&nbsp;<span class="builtintype" id="1711884">int</span><span class="op" id="1711887">(</span><span class="ident" id="1711888">mantbits64</span><span class="op" id="1711898">)</span><span class="op" id="1711899">,</span>&nbsp;<span class="num" id="1711901">0</span><span class="op" id="1711902">)</span><br>
<span class="lineno"></span><span class="op" id="1711904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1711907">//&nbsp;64x64&nbsp;-&gt;&nbsp;128&nbsp;multiply.</span><br>
<span class="lineno"></span><span class="comment" id="1711933">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight.</span><br>
<span class="lineno">420</span><span class="keyword" id="1711967">func</span>&nbsp;<span class="ident" id="1711972">mullu</span><span class="op" id="1711977">(</span><span class="ident" id="1711978">u</span><span class="op" id="1711979">,</span>&nbsp;<span class="ident" id="1711981">v</span>&nbsp;<span class="ident" id="1711983">uint64</span><span class="op" id="1711989">)</span>&nbsp;<span class="op" id="1711991">(</span><span class="ident" id="1711992">lo</span><span class="op" id="1711994">,</span>&nbsp;<span class="ident" id="1711996">hi</span>&nbsp;<span class="ident" id="1711999">uint64</span><span class="op" id="1712005">)</span>&nbsp;<span class="op" id="1712007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712010">const</span>&nbsp;<span class="op" id="1712016">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712020">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1712025">=</span>&nbsp;<span class="num" id="1712027">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712032">mask</span>&nbsp;<span class="op" id="1712037">=</span>&nbsp;<span class="num" id="1712039">1</span><span class="op" id="1712040">&lt;&lt;</span><span class="ident" id="1712042">s</span>&nbsp;<span class="op" id="1712044">-</span>&nbsp;<span class="num" id="1712046">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712049">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712052">u0</span>&nbsp;<span class="op" id="1712055">:=</span>&nbsp;<span class="ident" id="1712058">u</span>&nbsp;<span class="op" id="1712060">&amp;</span>&nbsp;<span class="ident" id="1712062">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712068">u1</span>&nbsp;<span class="op" id="1712071">:=</span>&nbsp;<span class="ident" id="1712074">u</span>&nbsp;<span class="op" id="1712076">&gt;&gt;</span>&nbsp;<span class="ident" id="1712079">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712082">v0</span>&nbsp;<span class="op" id="1712085">:=</span>&nbsp;<span class="ident" id="1712088">v</span>&nbsp;<span class="op" id="1712090">&amp;</span>&nbsp;<span class="ident" id="1712092">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712098">v1</span>&nbsp;<span class="op" id="1712101">:=</span>&nbsp;<span class="ident" id="1712104">v</span>&nbsp;<span class="op" id="1712106">&gt;&gt;</span>&nbsp;<span class="ident" id="1712109">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712112">w0</span>&nbsp;<span class="op" id="1712115">:=</span>&nbsp;<span class="ident" id="1712118">u0</span>&nbsp;<span class="op" id="1712121">*</span>&nbsp;<span class="ident" id="1712123">v0</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712127">t</span>&nbsp;<span class="op" id="1712129">:=</span>&nbsp;<span class="ident" id="1712132">u1</span><span class="op" id="1712134">*</span><span class="ident" id="1712135">v0</span>&nbsp;<span class="op" id="1712138">+</span>&nbsp;<span class="ident" id="1712140">w0</span><span class="op" id="1712142">&gt;&gt;</span><span class="ident" id="1712144">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712147">w1</span>&nbsp;<span class="op" id="1712150">:=</span>&nbsp;<span class="ident" id="1712153">t</span>&nbsp;<span class="op" id="1712155">&amp;</span>&nbsp;<span class="ident" id="1712157">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712163">w2</span>&nbsp;<span class="op" id="1712166">:=</span>&nbsp;<span class="ident" id="1712169">t</span>&nbsp;<span class="op" id="1712171">&gt;&gt;</span>&nbsp;<span class="ident" id="1712174">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712177">w1</span>&nbsp;<span class="op" id="1712180">+=</span>&nbsp;<span class="ident" id="1712183">u0</span>&nbsp;<span class="op" id="1712186">*</span>&nbsp;<span class="ident" id="1712188">v1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712192">return</span>&nbsp;<span class="ident" id="1712199">u</span>&nbsp;<span class="op" id="1712201">*</span>&nbsp;<span class="ident" id="1712203">v</span><span class="op" id="1712204">,</span>&nbsp;<span class="ident" id="1712206">u1</span><span class="op" id="1712208">*</span><span class="ident" id="1712209">v1</span>&nbsp;<span class="op" id="1712212">+</span>&nbsp;<span class="ident" id="1712214">w2</span>&nbsp;<span class="op" id="1712217">+</span>&nbsp;<span class="ident" id="1712219">w1</span><span class="op" id="1712221">&gt;&gt;</span><span class="ident" id="1712223">s</span><br>
<span class="lineno">435</span><span class="op" id="1712225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1712228">//&nbsp;128/64&nbsp;-&gt;&nbsp;64&nbsp;quotient,&nbsp;64&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="1712268">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight</span><br>
<span class="lineno"></span><span class="keyword" id="1712301">func</span>&nbsp;<span class="ident" id="1712306">divlu</span><span class="op" id="1712311">(</span><span class="ident" id="1712312">u1</span><span class="op" id="1712314">,</span>&nbsp;<span class="ident" id="1712316">u0</span><span class="op" id="1712318">,</span>&nbsp;<span class="ident" id="1712320">v</span>&nbsp;<span class="ident" id="1712322">uint64</span><span class="op" id="1712328">)</span>&nbsp;<span class="op" id="1712330">(</span><span class="ident" id="1712331">q</span><span class="op" id="1712332">,</span>&nbsp;<span class="ident" id="1712334">r</span>&nbsp;<span class="ident" id="1712336">uint64</span><span class="op" id="1712342">)</span>&nbsp;<span class="op" id="1712344">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712347">const</span>&nbsp;<span class="ident" id="1712353">b</span>&nbsp;<span class="op" id="1712355">=</span>&nbsp;<span class="num" id="1712357">1</span>&nbsp;<span class="op" id="1712359">&lt;&lt;</span>&nbsp;<span class="num" id="1712362">32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712367">if</span>&nbsp;<span class="ident" id="1712370">u1</span>&nbsp;<span class="op" id="1712373">&gt;=</span>&nbsp;<span class="ident" id="1712376">v</span>&nbsp;<span class="op" id="1712378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712382">return</span>&nbsp;<span class="num" id="1712389">1</span><span class="op" id="1712390">&lt;&lt;</span><span class="num" id="1712392">64</span>&nbsp;<span class="op" id="1712395">-</span>&nbsp;<span class="num" id="1712397">1</span><span class="op" id="1712398">,</span>&nbsp;<span class="num" id="1712400">1</span><span class="op" id="1712401">&lt;&lt;</span><span class="num" id="1712403">64</span>&nbsp;<span class="op" id="1712406">-</span>&nbsp;<span class="num" id="1712408">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712411">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1712415">//&nbsp;s&nbsp;=&nbsp;nlz(v);&nbsp;v&nbsp;&lt;&lt;=&nbsp;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712439">s</span>&nbsp;<span class="op" id="1712441">:=</span>&nbsp;<span class="builtintype" id="1712444">uint</span><span class="op" id="1712448">(</span><span class="num" id="1712449">0</span><span class="op" id="1712450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712453">for</span>&nbsp;<span class="ident" id="1712457">v</span><span class="op" id="1712458">&amp;</span><span class="op" id="1712459">(</span><span class="num" id="1712460">1</span><span class="op" id="1712461">&lt;&lt;</span><span class="num" id="1712463">63</span><span class="op" id="1712465">)</span>&nbsp;<span class="op" id="1712467">==</span>&nbsp;<span class="num" id="1712470">0</span>&nbsp;<span class="op" id="1712472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712476">s</span><span class="op" id="1712477">++</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712482">v</span>&nbsp;<span class="op" id="1712484">&lt;&lt;=</span>&nbsp;<span class="num" id="1712488">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712495">vn1</span>&nbsp;<span class="op" id="1712499">:=</span>&nbsp;<span class="ident" id="1712502">v</span>&nbsp;<span class="op" id="1712504">&gt;&gt;</span>&nbsp;<span class="num" id="1712507">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712511">vn0</span>&nbsp;<span class="op" id="1712515">:=</span>&nbsp;<span class="ident" id="1712518">v</span>&nbsp;<span class="op" id="1712520">&amp;</span>&nbsp;<span class="op" id="1712522">(</span><span class="num" id="1712523">1</span><span class="op" id="1712524">&lt;&lt;</span><span class="num" id="1712526">32</span>&nbsp;<span class="op" id="1712529">-</span>&nbsp;<span class="num" id="1712531">1</span><span class="op" id="1712532">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712535">un32</span>&nbsp;<span class="op" id="1712540">:=</span>&nbsp;<span class="ident" id="1712543">u1</span><span class="op" id="1712545">&lt;&lt;</span><span class="ident" id="1712547">s</span>&nbsp;<span class="op" id="1712549">|</span>&nbsp;<span class="ident" id="1712551">u0</span><span class="op" id="1712553">&gt;&gt;</span><span class="op" id="1712555">(</span><span class="num" id="1712556">64</span><span class="op" id="1712558">-</span><span class="ident" id="1712559">s</span><span class="op" id="1712560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712563">un10</span>&nbsp;<span class="op" id="1712568">:=</span>&nbsp;<span class="ident" id="1712571">u0</span>&nbsp;<span class="op" id="1712574">&lt;&lt;</span>&nbsp;<span class="ident" id="1712577">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712580">un1</span>&nbsp;<span class="op" id="1712584">:=</span>&nbsp;<span class="ident" id="1712587">un10</span>&nbsp;<span class="op" id="1712592">&gt;&gt;</span>&nbsp;<span class="num" id="1712595">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712599">un0</span>&nbsp;<span class="op" id="1712603">:=</span>&nbsp;<span class="ident" id="1712606">un10</span>&nbsp;<span class="op" id="1712611">&amp;</span>&nbsp;<span class="op" id="1712613">(</span><span class="num" id="1712614">1</span><span class="op" id="1712615">&lt;&lt;</span><span class="num" id="1712617">32</span>&nbsp;<span class="op" id="1712620">-</span>&nbsp;<span class="num" id="1712622">1</span><span class="op" id="1712623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712626">q1</span>&nbsp;<span class="op" id="1712629">:=</span>&nbsp;<span class="ident" id="1712632">un32</span>&nbsp;<span class="op" id="1712637">/</span>&nbsp;<span class="ident" id="1712639">vn1</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712644">rhat</span>&nbsp;<span class="op" id="1712649">:=</span>&nbsp;<span class="ident" id="1712652">un32</span>&nbsp;<span class="op" id="1712657">-</span>&nbsp;<span class="ident" id="1712659">q1</span><span class="op" id="1712661">*</span><span class="ident" id="1712662">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="1712667">again1</span><span class="op" id="1712673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712676">if</span>&nbsp;<span class="ident" id="1712679">q1</span>&nbsp;<span class="op" id="1712682">&gt;=</span>&nbsp;<span class="ident" id="1712685">b</span>&nbsp;<span class="op" id="1712687">||</span>&nbsp;<span class="ident" id="1712690">q1</span><span class="op" id="1712692">*</span><span class="ident" id="1712693">vn0</span>&nbsp;<span class="op" id="1712697">&gt;</span>&nbsp;<span class="ident" id="1712699">b</span><span class="op" id="1712700">*</span><span class="ident" id="1712701">rhat</span><span class="op" id="1712705">+</span><span class="ident" id="1712706">un1</span>&nbsp;<span class="op" id="1712710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712714">q1</span><span class="op" id="1712716">--</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712721">rhat</span>&nbsp;<span class="op" id="1712726">+=</span>&nbsp;<span class="ident" id="1712729">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712735">if</span>&nbsp;<span class="ident" id="1712738">rhat</span>&nbsp;<span class="op" id="1712743">&lt;</span>&nbsp;<span class="ident" id="1712745">b</span>&nbsp;<span class="op" id="1712747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712752">goto</span>&nbsp;<span class="ident" id="1712757">again1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712769">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712773">un21</span>&nbsp;<span class="op" id="1712778">:=</span>&nbsp;<span class="ident" id="1712781">un32</span><span class="op" id="1712785">*</span><span class="ident" id="1712786">b</span>&nbsp;<span class="op" id="1712788">+</span>&nbsp;<span class="ident" id="1712790">un1</span>&nbsp;<span class="op" id="1712794">-</span>&nbsp;<span class="ident" id="1712796">q1</span><span class="op" id="1712798">*</span><span class="ident" id="1712799">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712802">q0</span>&nbsp;<span class="op" id="1712805">:=</span>&nbsp;<span class="ident" id="1712808">un21</span>&nbsp;<span class="op" id="1712813">/</span>&nbsp;<span class="ident" id="1712815">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712820">rhat</span>&nbsp;<span class="op" id="1712825">=</span>&nbsp;<span class="ident" id="1712827">un21</span>&nbsp;<span class="op" id="1712832">-</span>&nbsp;<span class="ident" id="1712834">q0</span><span class="op" id="1712836">*</span><span class="ident" id="1712837">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="ident" id="1712842">again2</span><span class="op" id="1712848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712851">if</span>&nbsp;<span class="ident" id="1712854">q0</span>&nbsp;<span class="op" id="1712857">&gt;=</span>&nbsp;<span class="ident" id="1712860">b</span>&nbsp;<span class="op" id="1712862">||</span>&nbsp;<span class="ident" id="1712865">q0</span><span class="op" id="1712867">*</span><span class="ident" id="1712868">vn0</span>&nbsp;<span class="op" id="1712872">&gt;</span>&nbsp;<span class="ident" id="1712874">b</span><span class="op" id="1712875">*</span><span class="ident" id="1712876">rhat</span><span class="op" id="1712880">+</span><span class="ident" id="1712881">un0</span>&nbsp;<span class="op" id="1712885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712889">q0</span><span class="op" id="1712891">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1712896">rhat</span>&nbsp;<span class="op" id="1712901">+=</span>&nbsp;<span class="ident" id="1712904">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712910">if</span>&nbsp;<span class="ident" id="1712913">rhat</span>&nbsp;<span class="op" id="1712918">&lt;</span>&nbsp;<span class="ident" id="1712920">b</span>&nbsp;<span class="op" id="1712922">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712927">goto</span>&nbsp;<span class="ident" id="1712932">again2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1712944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1712948">return</span>&nbsp;<span class="ident" id="1712955">q1</span><span class="op" id="1712957">*</span><span class="ident" id="1712958">b</span>&nbsp;<span class="op" id="1712960">+</span>&nbsp;<span class="ident" id="1712962">q0</span><span class="op" id="1712964">,</span>&nbsp;<span class="op" id="1712966">(</span><span class="ident" id="1712967">un21</span><span class="op" id="1712971">*</span><span class="ident" id="1712972">b</span>&nbsp;<span class="op" id="1712974">+</span>&nbsp;<span class="ident" id="1712976">un0</span>&nbsp;<span class="op" id="1712980">-</span>&nbsp;<span class="ident" id="1712982">q0</span><span class="op" id="1712984">*</span><span class="ident" id="1712985">v</span><span class="op" id="1712986">)</span>&nbsp;<span class="op" id="1712988">&gt;&gt;</span>&nbsp;<span class="ident" id="1712991">s</span><br>
<span class="lineno">485</span><span class="op" id="1712993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1712996">//&nbsp;callable&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1713016">func</span>&nbsp;<span class="ident" id="1713021">fadd64c</span><span class="op" id="1713028">(</span><span class="ident" id="1713029">f</span><span class="op" id="1713030">,</span>&nbsp;<span class="ident" id="1713032">g</span>&nbsp;<span class="ident" id="1713034">uint64</span><span class="op" id="1713040">,</span>&nbsp;<span class="ident" id="1713042">ret</span>&nbsp;<span class="op" id="1713046">*</span><span class="ident" id="1713047">uint64</span><span class="op" id="1713053">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713066">{</span>&nbsp;<span class="op" id="1713068">*</span><span class="ident" id="1713069">ret</span>&nbsp;<span class="op" id="1713073">=</span>&nbsp;<span class="ident" id="1713075">fadd64</span><span class="op" id="1713081">(</span><span class="ident" id="1713082">f</span><span class="op" id="1713083">,</span>&nbsp;<span class="ident" id="1713085">g</span><span class="op" id="1713086">)</span>&nbsp;<span class="op" id="1713088">}</span><br>
<span class="lineno">490</span><span class="keyword" id="1713090">func</span>&nbsp;<span class="ident" id="1713095">fsub64c</span><span class="op" id="1713102">(</span><span class="ident" id="1713103">f</span><span class="op" id="1713104">,</span>&nbsp;<span class="ident" id="1713106">g</span>&nbsp;<span class="ident" id="1713108">uint64</span><span class="op" id="1713114">,</span>&nbsp;<span class="ident" id="1713116">ret</span>&nbsp;<span class="op" id="1713120">*</span><span class="ident" id="1713121">uint64</span><span class="op" id="1713127">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713140">{</span>&nbsp;<span class="op" id="1713142">*</span><span class="ident" id="1713143">ret</span>&nbsp;<span class="op" id="1713147">=</span>&nbsp;<span class="ident" id="1713149">fsub64</span><span class="op" id="1713155">(</span><span class="ident" id="1713156">f</span><span class="op" id="1713157">,</span>&nbsp;<span class="ident" id="1713159">g</span><span class="op" id="1713160">)</span>&nbsp;<span class="op" id="1713162">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713164">func</span>&nbsp;<span class="ident" id="1713169">fmul64c</span><span class="op" id="1713176">(</span><span class="ident" id="1713177">f</span><span class="op" id="1713178">,</span>&nbsp;<span class="ident" id="1713180">g</span>&nbsp;<span class="ident" id="1713182">uint64</span><span class="op" id="1713188">,</span>&nbsp;<span class="ident" id="1713190">ret</span>&nbsp;<span class="op" id="1713194">*</span><span class="ident" id="1713195">uint64</span><span class="op" id="1713201">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713214">{</span>&nbsp;<span class="op" id="1713216">*</span><span class="ident" id="1713217">ret</span>&nbsp;<span class="op" id="1713221">=</span>&nbsp;<span class="ident" id="1713223">fmul64</span><span class="op" id="1713229">(</span><span class="ident" id="1713230">f</span><span class="op" id="1713231">,</span>&nbsp;<span class="ident" id="1713233">g</span><span class="op" id="1713234">)</span>&nbsp;<span class="op" id="1713236">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713238">func</span>&nbsp;<span class="ident" id="1713243">fdiv64c</span><span class="op" id="1713250">(</span><span class="ident" id="1713251">f</span><span class="op" id="1713252">,</span>&nbsp;<span class="ident" id="1713254">g</span>&nbsp;<span class="ident" id="1713256">uint64</span><span class="op" id="1713262">,</span>&nbsp;<span class="ident" id="1713264">ret</span>&nbsp;<span class="op" id="1713268">*</span><span class="ident" id="1713269">uint64</span><span class="op" id="1713275">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713288">{</span>&nbsp;<span class="op" id="1713290">*</span><span class="ident" id="1713291">ret</span>&nbsp;<span class="op" id="1713295">=</span>&nbsp;<span class="ident" id="1713297">fdiv64</span><span class="op" id="1713303">(</span><span class="ident" id="1713304">f</span><span class="op" id="1713305">,</span>&nbsp;<span class="ident" id="1713307">g</span><span class="op" id="1713308">)</span>&nbsp;<span class="op" id="1713310">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713312">func</span>&nbsp;<span class="ident" id="1713317">fneg64c</span><span class="op" id="1713324">(</span><span class="ident" id="1713325">f</span>&nbsp;<span class="ident" id="1713327">uint64</span><span class="op" id="1713333">,</span>&nbsp;<span class="ident" id="1713335">ret</span>&nbsp;<span class="op" id="1713339">*</span><span class="ident" id="1713340">uint64</span><span class="op" id="1713346">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713362">{</span>&nbsp;<span class="op" id="1713364">*</span><span class="ident" id="1713365">ret</span>&nbsp;<span class="op" id="1713369">=</span>&nbsp;<span class="ident" id="1713371">fneg64</span><span class="op" id="1713377">(</span><span class="ident" id="1713378">f</span><span class="op" id="1713379">)</span>&nbsp;<span class="op" id="1713381">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713383">func</span>&nbsp;<span class="ident" id="1713388">f32to64c</span><span class="op" id="1713396">(</span><span class="ident" id="1713397">f</span>&nbsp;<span class="builtintype" id="1713399">uint32</span><span class="op" id="1713405">,</span>&nbsp;<span class="ident" id="1713407">ret</span>&nbsp;<span class="op" id="1713411">*</span><span class="ident" id="1713412">uint64</span><span class="op" id="1713418">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713433">{</span>&nbsp;<span class="op" id="1713435">*</span><span class="ident" id="1713436">ret</span>&nbsp;<span class="op" id="1713440">=</span>&nbsp;<span class="ident" id="1713442">f32to64</span><span class="op" id="1713449">(</span><span class="ident" id="1713450">f</span><span class="op" id="1713451">)</span>&nbsp;<span class="op" id="1713453">}</span><br>
<span class="lineno">495</span><span class="keyword" id="1713455">func</span>&nbsp;<span class="ident" id="1713460">f64to32c</span><span class="op" id="1713468">(</span><span class="ident" id="1713469">f</span>&nbsp;<span class="ident" id="1713471">uint64</span><span class="op" id="1713477">,</span>&nbsp;<span class="ident" id="1713479">ret</span>&nbsp;<span class="op" id="1713483">*</span><span class="builtintype" id="1713484">uint32</span><span class="op" id="1713490">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713505">{</span>&nbsp;<span class="op" id="1713507">*</span><span class="ident" id="1713508">ret</span>&nbsp;<span class="op" id="1713512">=</span>&nbsp;<span class="ident" id="1713514">f64to32</span><span class="op" id="1713521">(</span><span class="ident" id="1713522">f</span><span class="op" id="1713523">)</span>&nbsp;<span class="op" id="1713525">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713527">func</span>&nbsp;<span class="ident" id="1713532">fcmp64c</span><span class="op" id="1713539">(</span><span class="ident" id="1713540">f</span><span class="op" id="1713541">,</span>&nbsp;<span class="ident" id="1713543">g</span>&nbsp;<span class="ident" id="1713545">uint64</span><span class="op" id="1713551">,</span>&nbsp;<span class="ident" id="1713553">ret</span>&nbsp;<span class="op" id="1713557">*</span><span class="builtintype" id="1713558">int</span><span class="op" id="1713561">,</span>&nbsp;<span class="ident" id="1713563">retnan</span>&nbsp;<span class="op" id="1713570">*</span><span class="builtintype" id="1713571">bool</span><span class="op" id="1713575">)</span>&nbsp;<span class="op" id="1713577">{</span>&nbsp;<span class="op" id="1713579">*</span><span class="ident" id="1713580">ret</span><span class="op" id="1713583">,</span>&nbsp;<span class="op" id="1713585">*</span><span class="ident" id="1713586">retnan</span>&nbsp;<span class="op" id="1713593">=</span>&nbsp;<span class="ident" id="1713595">fcmp64</span><span class="op" id="1713601">(</span><span class="ident" id="1713602">f</span><span class="op" id="1713603">,</span>&nbsp;<span class="ident" id="1713605">g</span><span class="op" id="1713606">)</span>&nbsp;<span class="op" id="1713608">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713610">func</span>&nbsp;<span class="ident" id="1713615">fintto64c</span><span class="op" id="1713624">(</span><span class="ident" id="1713625">val</span>&nbsp;<span class="ident" id="1713629">int64</span><span class="op" id="1713634">,</span>&nbsp;<span class="ident" id="1713636">ret</span>&nbsp;<span class="op" id="1713640">*</span><span class="ident" id="1713641">uint64</span><span class="op" id="1713647">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1713660">{</span>&nbsp;<span class="op" id="1713662">*</span><span class="ident" id="1713663">ret</span>&nbsp;<span class="op" id="1713667">=</span>&nbsp;<span class="ident" id="1713669">fintto64</span><span class="op" id="1713677">(</span><span class="ident" id="1713678">val</span><span class="op" id="1713681">)</span>&nbsp;<span class="op" id="1713683">}</span><br>
<span class="lineno"></span><span class="keyword" id="1713685">func</span>&nbsp;<span class="ident" id="1713690">f64tointc</span><span class="op" id="1713699">(</span><span class="ident" id="1713700">f</span>&nbsp;<span class="ident" id="1713702">uint64</span><span class="op" id="1713708">,</span>&nbsp;<span class="ident" id="1713710">ret</span>&nbsp;<span class="op" id="1713714">*</span><span class="ident" id="1713715">int64</span><span class="op" id="1713720">,</span>&nbsp;<span class="ident" id="1713722">retok</span>&nbsp;<span class="op" id="1713728">*</span><span class="builtintype" id="1713729">bool</span><span class="op" id="1713733">)</span>&nbsp;<span class="op" id="1713735">{</span>&nbsp;<span class="op" id="1713737">*</span><span class="ident" id="1713738">ret</span><span class="op" id="1713741">,</span>&nbsp;<span class="op" id="1713743">*</span><span class="ident" id="1713744">retok</span>&nbsp;<span class="op" id="1713750">=</span>&nbsp;<span class="ident" id="1713752">f64toint</span><span class="op" id="1713760">(</span><span class="ident" id="1713761">f</span><span class="op" id="1713762">)</span>&nbsp;<span class="op" id="1713764">}</span>
</div>
</body>
</html>
