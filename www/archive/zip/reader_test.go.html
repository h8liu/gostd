<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6657505">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6657560">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6657614">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6657665">package</span>&nbsp;<span class="ident" id="6657673">zip</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6657678">import</span>&nbsp;<span class="op" id="6657685">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657688">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657697">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657716">&#34;encoding/hex&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657732">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657738">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657751">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657757">&#34;path/filepath&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657774">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657784">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657795">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6657806">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6657813">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6657816">type</span>&nbsp;<span class="ident" id="6657821">ZipTest</span>&nbsp;<span class="keyword" id="6657829">struct</span>&nbsp;<span class="op" id="6657836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657839">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6657847">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657855">Source</span>&nbsp;&nbsp;<span class="keyword" id="6657863">func</span><span class="op" id="6657867">(</span><span class="op" id="6657868">)</span>&nbsp;<span class="op" id="6657870">(</span><span class="ident" id="6657871">r</span>&nbsp;<span class="ident" id="6657873"><a href="/archive/zip/reader_test.go.html#6657732">io</a></span><span class="op" id="6657875">.</span><span class="ident" id="6657876">ReaderAt</span><span class="op" id="6657884">,</span>&nbsp;<span class="ident" id="6657886">size</span>&nbsp;<span class="ident" id="6657891">int64</span><span class="op" id="6657896">)</span>&nbsp;<span class="comment" id="6657898">//&nbsp;if&nbsp;non-nil,&nbsp;used&nbsp;instead&nbsp;of&nbsp;testdata/&lt;Name&gt;&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657951">Comment</span>&nbsp;<span class="builtintype" id="6657959">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657967">File</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6657975">[</span><span class="op" id="6657976">]</span><span class="ident" id="6657977"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6657990">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6657998">error</span>&nbsp;<span class="comment" id="6658004">//&nbsp;the&nbsp;error&nbsp;that&nbsp;Opening&nbsp;this&nbsp;file&nbsp;should&nbsp;return</span><br>
<span class="lineno"></span><span class="op" id="6658054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6658057">type</span>&nbsp;<span class="ident" id="6658062">ZipTestFile</span>&nbsp;<span class="keyword" id="6658074">struct</span>&nbsp;<span class="op" id="6658081">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658084">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6658095">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658103">Content</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6658114">[</span><span class="op" id="6658115">]</span><span class="builtintype" id="6658116">byte</span>&nbsp;<span class="comment" id="6658121">//&nbsp;if&nbsp;blank,&nbsp;will&nbsp;attempt&nbsp;to&nbsp;compare&nbsp;against&nbsp;File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658172">ContentErr</span>&nbsp;<span class="builtintype" id="6658183">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658190">File</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6658201">string</span>&nbsp;<span class="comment" id="6658208">//&nbsp;name&nbsp;of&nbsp;file&nbsp;to&nbsp;compare&nbsp;to&nbsp;(relative&nbsp;to&nbsp;testdata/)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658263">Mtime</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6658274">string</span>&nbsp;<span class="comment" id="6658281">//&nbsp;modified&nbsp;time&nbsp;in&nbsp;format&nbsp;&#34;mm-dd-yy&nbsp;hh:mm:ss&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6658329">Mode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6658340"><a href="/archive/zip/reader_test.go.html#6657751">os</a></span><span class="op" id="6658342">.</span><span class="ident" id="6658343">FileMode</span><br>
<span class="lineno"></span><span class="op" id="6658352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6658355">//&nbsp;Caution:&nbsp;The&nbsp;Mtime&nbsp;values&nbsp;found&nbsp;for&nbsp;the&nbsp;test&nbsp;files&nbsp;should&nbsp;correspond&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6658430">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;values&nbsp;listed&nbsp;with&nbsp;unzip&nbsp;-l&nbsp;&lt;zipfile&gt;.&nbsp;However,&nbsp;the&nbsp;values</span><br>
<span class="lineno">40</span><span class="comment" id="6658505">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listed&nbsp;by&nbsp;unzip&nbsp;appear&nbsp;to&nbsp;be&nbsp;off&nbsp;by&nbsp;some&nbsp;hours.&nbsp;When&nbsp;creating</span><br>
<span class="lineno"></span><span class="comment" id="6658579">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fresh&nbsp;test&nbsp;files&nbsp;and&nbsp;testing&nbsp;them,&nbsp;this&nbsp;issue&nbsp;is&nbsp;not&nbsp;present.</span><br>
<span class="lineno"></span><span class="comment" id="6658653">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;test&nbsp;files&nbsp;were&nbsp;created&nbsp;in&nbsp;Sydney,&nbsp;so&nbsp;there&nbsp;might&nbsp;be&nbsp;a&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="6658729">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zone&nbsp;issue.&nbsp;The&nbsp;time&nbsp;zone&nbsp;information&nbsp;does&nbsp;have&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span><span class="comment" id="6658803">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;somewhere,&nbsp;because&nbsp;otherwise&nbsp;unzip&nbsp;-l&nbsp;could&nbsp;not&nbsp;provide&nbsp;a&nbsp;different</span><br>
<span class="lineno">45</span><span class="comment" id="6658883">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;from&nbsp;what&nbsp;the&nbsp;archive/zip&nbsp;package&nbsp;provides,&nbsp;but&nbsp;there&nbsp;appears</span><br>
<span class="lineno"></span><span class="comment" id="6658962">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;no&nbsp;documentation&nbsp;about&nbsp;this.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659010">var</span>&nbsp;<span class="ident" id="6659014">tests</span>&nbsp;<span class="op" id="6659020">=</span>&nbsp;<span class="op" id="6659022">[</span><span class="op" id="6659023">]</span><span class="ident" id="6659024"><a href="/archive/zip/reader_test.go.html#6657821">ZipTest</a></span><span class="op" id="6659031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659034">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659038">Name</span><span class="op" id="6659042">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659047">&#34;test.zip&#34;</span><span class="op" id="6659057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659061">Comment</span><span class="op" id="6659068">:</span>&nbsp;<span class="string" id="6659070">&#34;This&nbsp;is&nbsp;a&nbsp;zipfile&nbsp;comment.&#34;</span><span class="op" id="6659098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659102">File</span><span class="op" id="6659106">:</span>&nbsp;<span class="op" id="6659108">[</span><span class="op" id="6659109">]</span><span class="ident" id="6659110"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6659121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659132">Name</span><span class="op" id="6659136">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659141">&#34;test.txt&#34;</span><span class="op" id="6659151">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659157">Content</span><span class="op" id="6659164">:</span>&nbsp;<span class="op" id="6659166">[</span><span class="op" id="6659167">]</span><span class="builtintype" id="6659168">byte</span><span class="op" id="6659172">(</span><span class="string" id="6659173">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;text&nbsp;file.\n&#34;</span><span class="op" id="6659202">)</span><span class="op" id="6659203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659209">Mtime</span><span class="op" id="6659214">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6659218">&#34;09-05-10&nbsp;12:12:02&#34;</span><span class="op" id="6659237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659243">Mode</span><span class="op" id="6659247">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6659252">0644</span><span class="op" id="6659256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659261">}</span><span class="op" id="6659262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659267">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659273">Name</span><span class="op" id="6659277">:</span>&nbsp;&nbsp;<span class="string" id="6659280">&#34;gophercolor16x16.png&#34;</span><span class="op" id="6659302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659308">File</span><span class="op" id="6659312">:</span>&nbsp;&nbsp;<span class="string" id="6659315">&#34;gophercolor16x16.png&#34;</span><span class="op" id="6659337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659343">Mtime</span><span class="op" id="6659348">:</span>&nbsp;<span class="string" id="6659350">&#34;09-05-10&nbsp;15:52:58&#34;</span><span class="op" id="6659369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659375">Mode</span><span class="op" id="6659379">:</span>&nbsp;&nbsp;<span class="num" id="6659382">0644</span><span class="op" id="6659386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659391">}</span><span class="op" id="6659392">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659396">}</span><span class="op" id="6659397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659400">}</span><span class="op" id="6659401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659408">Name</span><span class="op" id="6659412">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659417">&#34;test-trailing-junk.zip&#34;</span><span class="op" id="6659441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659445">Comment</span><span class="op" id="6659452">:</span>&nbsp;<span class="string" id="6659454">&#34;This&nbsp;is&nbsp;a&nbsp;zipfile&nbsp;comment.&#34;</span><span class="op" id="6659482">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659486">File</span><span class="op" id="6659490">:</span>&nbsp;<span class="op" id="6659492">[</span><span class="op" id="6659493">]</span><span class="ident" id="6659494"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6659505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659516">Name</span><span class="op" id="6659520">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659525">&#34;test.txt&#34;</span><span class="op" id="6659535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659541">Content</span><span class="op" id="6659548">:</span>&nbsp;<span class="op" id="6659550">[</span><span class="op" id="6659551">]</span><span class="builtintype" id="6659552">byte</span><span class="op" id="6659556">(</span><span class="string" id="6659557">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;text&nbsp;file.\n&#34;</span><span class="op" id="6659586">)</span><span class="op" id="6659587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659593">Mtime</span><span class="op" id="6659598">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6659602">&#34;09-05-10&nbsp;12:12:02&#34;</span><span class="op" id="6659621">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659627">Mode</span><span class="op" id="6659631">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6659636">0644</span><span class="op" id="6659640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659645">}</span><span class="op" id="6659646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659657">Name</span><span class="op" id="6659661">:</span>&nbsp;&nbsp;<span class="string" id="6659664">&#34;gophercolor16x16.png&#34;</span><span class="op" id="6659686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659692">File</span><span class="op" id="6659696">:</span>&nbsp;&nbsp;<span class="string" id="6659699">&#34;gophercolor16x16.png&#34;</span><span class="op" id="6659721">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659727">Mtime</span><span class="op" id="6659732">:</span>&nbsp;<span class="string" id="6659734">&#34;09-05-10&nbsp;15:52:58&#34;</span><span class="op" id="6659753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659759">Mode</span><span class="op" id="6659763">:</span>&nbsp;&nbsp;<span class="num" id="6659766">0644</span><span class="op" id="6659770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659775">}</span><span class="op" id="6659776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659780">}</span><span class="op" id="6659781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659784">}</span><span class="op" id="6659785">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659792">Name</span><span class="op" id="6659796">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6659800">&#34;r.zip&#34;</span><span class="op" id="6659807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659811">Source</span><span class="op" id="6659817">:</span>&nbsp;<span class="ident" id="6659819"><a href="/archive/zip/reader_test.go.html#6669862">returnRecursiveZip</a></span><span class="op" id="6659837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659841">File</span><span class="op" id="6659845">:</span>&nbsp;<span class="op" id="6659847">[</span><span class="op" id="6659848">]</span><span class="ident" id="6659849"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6659860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659865">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659871">Name</span><span class="op" id="6659875">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659880">&#34;r/r.zip&#34;</span><span class="op" id="6659889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659895">Content</span><span class="op" id="6659902">:</span>&nbsp;<span class="ident" id="6659904"><a href="/archive/zip/reader_test.go.html#6668088">rZipBytes</a></span><span class="op" id="6659913">(</span><span class="op" id="6659914">)</span><span class="op" id="6659915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659921">Mtime</span><span class="op" id="6659926">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6659930">&#34;03-04-10&nbsp;00:24:16&#34;</span><span class="op" id="6659949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659955">Mode</span><span class="op" id="6659959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6659964">0666</span><span class="op" id="6659968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659973">}</span><span class="op" id="6659974">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659978">}</span><span class="op" id="6659979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659982">}</span><span class="op" id="6659983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6659986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6659990">Name</span><span class="op" id="6659994">:</span>&nbsp;<span class="string" id="6659996">&#34;symlink.zip&#34;</span><span class="op" id="6660009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660013">File</span><span class="op" id="6660017">:</span>&nbsp;<span class="op" id="6660019">[</span><span class="op" id="6660020">]</span><span class="ident" id="6660021"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6660032">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660043">Name</span><span class="op" id="6660047">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660052">&#34;symlink&#34;</span><span class="op" id="6660061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660067">Content</span><span class="op" id="6660074">:</span>&nbsp;<span class="op" id="6660076">[</span><span class="op" id="6660077">]</span><span class="builtintype" id="6660078">byte</span><span class="op" id="6660082">(</span><span class="string" id="6660083">&#34;../target&#34;</span><span class="op" id="6660094">)</span><span class="op" id="6660095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660101">Mode</span><span class="op" id="6660105">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660110">0777</span>&nbsp;<span class="op" id="6660115">|</span>&nbsp;<span class="ident" id="6660117"><a href="/archive/zip/reader_test.go.html#6657751">os</a></span><span class="op" id="6660119">.</span><span class="ident" id="6660120">ModeSymlink</span><span class="op" id="6660131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660136">}</span><span class="op" id="6660137">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660141">}</span><span class="op" id="6660142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660145">}</span><span class="op" id="6660146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660153">Name</span><span class="op" id="6660157">:</span>&nbsp;<span class="string" id="6660159">&#34;readme.zip&#34;</span><span class="op" id="6660171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660174">}</span><span class="op" id="6660175">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660182">Name</span><span class="op" id="6660186">:</span>&nbsp;&nbsp;<span class="string" id="6660189">&#34;readme.notzip&#34;</span><span class="op" id="6660204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660208">Error</span><span class="op" id="6660213">:</span>&nbsp;<span class="ident" id="6660215"><a href="/archive/zip/reader.go.html#6387834">ErrFormat</a></span><span class="op" id="6660224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660227">}</span><span class="op" id="6660228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660231">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660235">Name</span><span class="op" id="6660239">:</span>&nbsp;<span class="string" id="6660241">&#34;dd.zip&#34;</span><span class="op" id="6660249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660253">File</span><span class="op" id="6660257">:</span>&nbsp;<span class="op" id="6660259">[</span><span class="op" id="6660260">]</span><span class="ident" id="6660261"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6660272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660283">Name</span><span class="op" id="6660287">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660292">&#34;filename&#34;</span><span class="op" id="6660302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660308">Content</span><span class="op" id="6660315">:</span>&nbsp;<span class="op" id="6660317">[</span><span class="op" id="6660318">]</span><span class="builtintype" id="6660319">byte</span><span class="op" id="6660323">(</span><span class="string" id="6660324">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;textfile.\n&#34;</span><span class="op" id="6660352">)</span><span class="op" id="6660353">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660359">Mtime</span><span class="op" id="6660364">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6660368">&#34;02-02-11&nbsp;13:06:20&#34;</span><span class="op" id="6660387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660393">Mode</span><span class="op" id="6660397">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660402">0666</span><span class="op" id="6660406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660411">}</span><span class="op" id="6660412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660416">}</span><span class="op" id="6660417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660420">}</span><span class="op" id="6660421">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6660428">//&nbsp;created&nbsp;in&nbsp;windows&nbsp;XP&nbsp;file&nbsp;manager.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660469">Name</span><span class="op" id="6660473">:</span>&nbsp;<span class="string" id="6660475">&#34;winxp.zip&#34;</span><span class="op" id="6660486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660490">File</span><span class="op" id="6660494">:</span>&nbsp;<span class="ident" id="6660496"><a href="/archive/zip/reader_test.go.html#6663120">crossPlatform</a></span><span class="op" id="6660509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660512">}</span><span class="op" id="6660513">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6660520">//&nbsp;created&nbsp;by&nbsp;Zip&nbsp;3.0&nbsp;under&nbsp;Linux</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660556">Name</span><span class="op" id="6660560">:</span>&nbsp;<span class="string" id="6660562">&#34;unix.zip&#34;</span><span class="op" id="6660572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660576">File</span><span class="op" id="6660580">:</span>&nbsp;<span class="ident" id="6660582"><a href="/archive/zip/reader_test.go.html#6663120">crossPlatform</a></span><span class="op" id="6660595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660598">}</span><span class="op" id="6660599">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6660606">//&nbsp;created&nbsp;by&nbsp;Go,&nbsp;before&nbsp;we&nbsp;wrote&nbsp;the&nbsp;&#34;optional&#34;&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6660662">//&nbsp;descriptor&nbsp;signatures&nbsp;(which&nbsp;are&nbsp;required&nbsp;by&nbsp;OS&nbsp;X)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660718">Name</span><span class="op" id="6660722">:</span>&nbsp;<span class="string" id="6660724">&#34;go-no-datadesc-sig.zip&#34;</span><span class="op" id="6660748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660752">File</span><span class="op" id="6660756">:</span>&nbsp;<span class="op" id="6660758">[</span><span class="op" id="6660759">]</span><span class="ident" id="6660760"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6660771">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660782">Name</span><span class="op" id="6660786">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660791">&#34;foo.txt&#34;</span><span class="op" id="6660800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660806">Content</span><span class="op" id="6660813">:</span>&nbsp;<span class="op" id="6660815">[</span><span class="op" id="6660816">]</span><span class="builtintype" id="6660817">byte</span><span class="op" id="6660821">(</span><span class="string" id="6660822">&#34;foo\n&#34;</span><span class="op" id="6660829">)</span><span class="op" id="6660830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660836">Mtime</span><span class="op" id="6660841">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6660845">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="6660864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660870">Mode</span><span class="op" id="6660874">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660879">0644</span><span class="op" id="6660883">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660888">}</span><span class="op" id="6660889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6660894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660900">Name</span><span class="op" id="6660904">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660909">&#34;bar.txt&#34;</span><span class="op" id="6660918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660924">Content</span><span class="op" id="6660931">:</span>&nbsp;<span class="op" id="6660933">[</span><span class="op" id="6660934">]</span><span class="builtintype" id="6660935">byte</span><span class="op" id="6660939">(</span><span class="string" id="6660940">&#34;bar\n&#34;</span><span class="op" id="6660947">)</span><span class="op" id="6660948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660954">Mtime</span><span class="op" id="6660959">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6660963">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="6660982">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6660988">Mode</span><span class="op" id="6660992">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6660997">0644</span><span class="op" id="6661001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661006">}</span><span class="op" id="6661007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661011">}</span><span class="op" id="6661012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661015">}</span><span class="op" id="6661016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661019">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6661023">//&nbsp;created&nbsp;by&nbsp;Go,&nbsp;after&nbsp;we&nbsp;wrote&nbsp;the&nbsp;&#34;optional&#34;&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6661078">//&nbsp;descriptor&nbsp;signatures&nbsp;(which&nbsp;are&nbsp;required&nbsp;by&nbsp;OS&nbsp;X)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661134">Name</span><span class="op" id="6661138">:</span>&nbsp;<span class="string" id="6661140">&#34;go-with-datadesc-sig.zip&#34;</span><span class="op" id="6661166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661170">File</span><span class="op" id="6661174">:</span>&nbsp;<span class="op" id="6661176">[</span><span class="op" id="6661177">]</span><span class="ident" id="6661178"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6661189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661194">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661200">Name</span><span class="op" id="6661204">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6661209">&#34;foo.txt&#34;</span><span class="op" id="6661218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661224">Content</span><span class="op" id="6661231">:</span>&nbsp;<span class="op" id="6661233">[</span><span class="op" id="6661234">]</span><span class="builtintype" id="6661235">byte</span><span class="op" id="6661239">(</span><span class="string" id="6661240">&#34;foo\n&#34;</span><span class="op" id="6661247">)</span><span class="op" id="6661248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661254">Mode</span><span class="op" id="6661258">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6661263">0666</span><span class="op" id="6661267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661272">}</span><span class="op" id="6661273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661278">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661284">Name</span><span class="op" id="6661288">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6661293">&#34;bar.txt&#34;</span><span class="op" id="6661302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661308">Content</span><span class="op" id="6661315">:</span>&nbsp;<span class="op" id="6661317">[</span><span class="op" id="6661318">]</span><span class="builtintype" id="6661319">byte</span><span class="op" id="6661323">(</span><span class="string" id="6661324">&#34;bar\n&#34;</span><span class="op" id="6661331">)</span><span class="op" id="6661332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661338">Mode</span><span class="op" id="6661342">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6661347">0666</span><span class="op" id="6661351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661356">}</span><span class="op" id="6661357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661361">}</span><span class="op" id="6661362">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661365">}</span><span class="op" id="6661366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661373">Name</span><span class="op" id="6661377">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6661381">&#34;Bad-CRC32-in-data-descriptor&#34;</span><span class="op" id="6661411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661415">Source</span><span class="op" id="6661421">:</span>&nbsp;<span class="ident" id="6661423"><a href="/archive/zip/reader_test.go.html#6667216">returnCorruptCRC32Zip</a></span><span class="op" id="6661444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661448">File</span><span class="op" id="6661452">:</span>&nbsp;<span class="op" id="6661454">[</span><span class="op" id="6661455">]</span><span class="ident" id="6661456"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6661467">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661478">Name</span><span class="op" id="6661482">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6661490">&#34;foo.txt&#34;</span><span class="op" id="6661499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661505">Content</span><span class="op" id="6661512">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661517">[</span><span class="op" id="6661518">]</span><span class="builtintype" id="6661519">byte</span><span class="op" id="6661523">(</span><span class="string" id="6661524">&#34;foo\n&#34;</span><span class="op" id="6661531">)</span><span class="op" id="6661532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661538">Mode</span><span class="op" id="6661542">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6661550">0666</span><span class="op" id="6661554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661560">ContentErr</span><span class="op" id="6661570">:</span>&nbsp;<span class="ident" id="6661572"><a href="/archive/zip/reader.go.html#6387959">ErrChecksum</a></span><span class="op" id="6661583">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661588">}</span><span class="op" id="6661589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661600">Name</span><span class="op" id="6661604">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6661609">&#34;bar.txt&#34;</span><span class="op" id="6661618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661624">Content</span><span class="op" id="6661631">:</span>&nbsp;<span class="op" id="6661633">[</span><span class="op" id="6661634">]</span><span class="builtintype" id="6661635">byte</span><span class="op" id="6661639">(</span><span class="string" id="6661640">&#34;bar\n&#34;</span><span class="op" id="6661647">)</span><span class="op" id="6661648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661654">Mode</span><span class="op" id="6661658">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6661663">0666</span><span class="op" id="6661667">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661672">}</span><span class="op" id="6661673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661677">}</span><span class="op" id="6661678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661681">}</span><span class="op" id="6661682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6661685">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;verify&nbsp;(and&nbsp;accept&nbsp;valid)&nbsp;crc32s&nbsp;on&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6661745">//&nbsp;with&nbsp;crc32s&nbsp;in&nbsp;their&nbsp;file&nbsp;header&nbsp;(not&nbsp;in&nbsp;data&nbsp;descriptors)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661812">Name</span><span class="op" id="6661816">:</span>&nbsp;<span class="string" id="6661818">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="6661842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661846">File</span><span class="op" id="6661850">:</span>&nbsp;<span class="op" id="6661852">[</span><span class="op" id="6661853">]</span><span class="ident" id="6661854"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6661865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661876">Name</span><span class="op" id="6661880">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6661885">&#34;foo.txt&#34;</span><span class="op" id="6661894">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661900">Content</span><span class="op" id="6661907">:</span>&nbsp;<span class="op" id="6661909">[</span><span class="op" id="6661910">]</span><span class="builtintype" id="6661911">byte</span><span class="op" id="6661915">(</span><span class="string" id="6661916">&#34;foo\n&#34;</span><span class="op" id="6661923">)</span><span class="op" id="6661924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661930">Mtime</span><span class="op" id="6661935">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6661939">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="6661958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661964">Mode</span><span class="op" id="6661968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6661973">0644</span><span class="op" id="6661977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661982">}</span><span class="op" id="6661983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6661988">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6661994">Name</span><span class="op" id="6661998">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6662003">&#34;bar.txt&#34;</span><span class="op" id="6662012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662018">Content</span><span class="op" id="6662025">:</span>&nbsp;<span class="op" id="6662027">[</span><span class="op" id="6662028">]</span><span class="builtintype" id="6662029">byte</span><span class="op" id="6662033">(</span><span class="string" id="6662034">&#34;bar\n&#34;</span><span class="op" id="6662041">)</span><span class="op" id="6662042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662048">Mtime</span><span class="op" id="6662053">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6662057">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="6662076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662082">Mode</span><span class="op" id="6662086">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6662091">0644</span><span class="op" id="6662095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662100">}</span><span class="op" id="6662101">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662105">}</span><span class="op" id="6662106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662109">}</span><span class="op" id="6662110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6662113">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;verify&nbsp;(and&nbsp;reject&nbsp;invalid)&nbsp;crc32s&nbsp;on&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6662175">//&nbsp;with&nbsp;crc32s&nbsp;in&nbsp;their&nbsp;file&nbsp;header&nbsp;(not&nbsp;in&nbsp;data&nbsp;descriptors)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662238">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662242">Name</span><span class="op" id="6662246">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6662250">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="6662274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662278">Source</span><span class="op" id="6662284">:</span>&nbsp;<span class="ident" id="6662286"><a href="/archive/zip/reader_test.go.html#6667411">returnCorruptNotStreamedZip</a></span><span class="op" id="6662313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662317">File</span><span class="op" id="6662321">:</span>&nbsp;<span class="op" id="6662323">[</span><span class="op" id="6662324">]</span><span class="ident" id="6662325"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6662336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662347">Name</span><span class="op" id="6662351">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6662359">&#34;foo.txt&#34;</span><span class="op" id="6662368">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662374">Content</span><span class="op" id="6662381">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6662386">[</span><span class="op" id="6662387">]</span><span class="builtintype" id="6662388">byte</span><span class="op" id="6662392">(</span><span class="string" id="6662393">&#34;foo\n&#34;</span><span class="op" id="6662400">)</span><span class="op" id="6662401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662407">Mtime</span><span class="op" id="6662412">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6662419">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="6662438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662444">Mode</span><span class="op" id="6662448">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6662456">0644</span><span class="op" id="6662460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662466">ContentErr</span><span class="op" id="6662476">:</span>&nbsp;<span class="ident" id="6662478"><a href="/archive/zip/reader.go.html#6387959">ErrChecksum</a></span><span class="op" id="6662489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662494">}</span><span class="op" id="6662495">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662506">Name</span><span class="op" id="6662510">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6662515">&#34;bar.txt&#34;</span><span class="op" id="6662524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662530">Content</span><span class="op" id="6662537">:</span>&nbsp;<span class="op" id="6662539">[</span><span class="op" id="6662540">]</span><span class="builtintype" id="6662541">byte</span><span class="op" id="6662545">(</span><span class="string" id="6662546">&#34;bar\n&#34;</span><span class="op" id="6662553">)</span><span class="op" id="6662554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662560">Mtime</span><span class="op" id="6662565">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6662569">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="6662588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662594">Mode</span><span class="op" id="6662598">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6662603">0644</span><span class="op" id="6662607">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662612">}</span><span class="op" id="6662613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662617">}</span><span class="op" id="6662618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662621">}</span><span class="op" id="6662622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662629">Name</span><span class="op" id="6662633">:</span>&nbsp;<span class="string" id="6662635">&#34;zip64.zip&#34;</span><span class="op" id="6662646">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662650">File</span><span class="op" id="6662654">:</span>&nbsp;<span class="op" id="6662656">[</span><span class="op" id="6662657">]</span><span class="ident" id="6662658"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6662669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662680">Name</span><span class="op" id="6662684">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6662689">&#34;README&#34;</span><span class="op" id="6662697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662703">Content</span><span class="op" id="6662710">:</span>&nbsp;<span class="op" id="6662712">[</span><span class="op" id="6662713">]</span><span class="builtintype" id="6662714">byte</span><span class="op" id="6662718">(</span><span class="string" id="6662719">&#34;This&nbsp;small&nbsp;file&nbsp;is&nbsp;in&nbsp;ZIP64&nbsp;format.\n&#34;</span><span class="op" id="6662758">)</span><span class="op" id="6662759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662765">Mtime</span><span class="op" id="6662770">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6662774">&#34;08-10-12&nbsp;14:33:32&#34;</span><span class="op" id="6662793">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662799">Mode</span><span class="op" id="6662803">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6662808">0644</span><span class="op" id="6662812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662817">}</span><span class="op" id="6662818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662822">}</span><span class="op" id="6662823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662826">}</span><span class="op" id="6662827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6662830">//&nbsp;Another&nbsp;zip64&nbsp;file&nbsp;with&nbsp;different&nbsp;Extras&nbsp;fields.&nbsp;(golang.org/issue/7069)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662911">Name</span><span class="op" id="6662915">:</span>&nbsp;<span class="string" id="6662917">&#34;zip64-2.zip&#34;</span><span class="op" id="6662930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662934">File</span><span class="op" id="6662938">:</span>&nbsp;<span class="op" id="6662940">[</span><span class="op" id="6662941">]</span><span class="ident" id="6662942"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6662953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6662958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662964">Name</span><span class="op" id="6662968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6662973">&#34;README&#34;</span><span class="op" id="6662981">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6662987">Content</span><span class="op" id="6662994">:</span>&nbsp;<span class="op" id="6662996">[</span><span class="op" id="6662997">]</span><span class="builtintype" id="6662998">byte</span><span class="op" id="6663002">(</span><span class="string" id="6663003">&#34;This&nbsp;small&nbsp;file&nbsp;is&nbsp;in&nbsp;ZIP64&nbsp;format.\n&#34;</span><span class="op" id="6663042">)</span><span class="op" id="6663043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663049">Mtime</span><span class="op" id="6663054">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6663058">&#34;08-10-12&nbsp;14:33:32&#34;</span><span class="op" id="6663077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663083">Mode</span><span class="op" id="6663087">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6663092">0644</span><span class="op" id="6663096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663101">}</span><span class="op" id="6663102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663106">}</span><span class="op" id="6663107">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663110">}</span><span class="op" id="6663111">,</span><br>
<span class="lineno"></span><span class="op" id="6663113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6663116">var</span>&nbsp;<span class="ident" id="6663120">crossPlatform</span>&nbsp;<span class="op" id="6663134">=</span>&nbsp;<span class="op" id="6663136">[</span><span class="op" id="6663137">]</span><span class="ident" id="6663138"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6663149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663152">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663156">Name</span><span class="op" id="6663160">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6663165">&#34;hello&#34;</span><span class="op" id="6663172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663176">Content</span><span class="op" id="6663183">:</span>&nbsp;<span class="op" id="6663185">[</span><span class="op" id="6663186">]</span><span class="builtintype" id="6663187">byte</span><span class="op" id="6663191">(</span><span class="string" id="6663192">&#34;world&nbsp;\r\n&#34;</span><span class="op" id="6663204">)</span><span class="op" id="6663205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663209">Mode</span><span class="op" id="6663213">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6663218">0666</span><span class="op" id="6663222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663225">}</span><span class="op" id="6663226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663229">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663233">Name</span><span class="op" id="6663237">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6663242">&#34;dir/bar&#34;</span><span class="op" id="6663251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663255">Content</span><span class="op" id="6663262">:</span>&nbsp;<span class="op" id="6663264">[</span><span class="op" id="6663265">]</span><span class="builtintype" id="6663266">byte</span><span class="op" id="6663270">(</span><span class="string" id="6663271">&#34;foo&nbsp;\r\n&#34;</span><span class="op" id="6663281">)</span><span class="op" id="6663282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663286">Mode</span><span class="op" id="6663290">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6663295">0666</span><span class="op" id="6663299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663302">}</span><span class="op" id="6663303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663306">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663310">Name</span><span class="op" id="6663314">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6663319">&#34;dir/empty/&#34;</span><span class="op" id="6663331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663335">Content</span><span class="op" id="6663342">:</span>&nbsp;<span class="op" id="6663344">[</span><span class="op" id="6663345">]</span><span class="builtintype" id="6663346">byte</span><span class="op" id="6663350">{</span><span class="op" id="6663351">}</span><span class="op" id="6663352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663356">Mode</span><span class="op" id="6663360">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6663365"><a href="/archive/zip/reader_test.go.html#6657751">os</a></span><span class="op" id="6663367">.</span><span class="ident" id="6663368">ModeDir</span>&nbsp;<span class="op" id="6663376">|</span>&nbsp;<span class="num" id="6663378">0777</span><span class="op" id="6663382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663385">}</span><span class="op" id="6663386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663389">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663393">Name</span><span class="op" id="6663397">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6663402">&#34;readonly&#34;</span><span class="op" id="6663412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663416">Content</span><span class="op" id="6663423">:</span>&nbsp;<span class="op" id="6663425">[</span><span class="op" id="6663426">]</span><span class="builtintype" id="6663427">byte</span><span class="op" id="6663431">(</span><span class="string" id="6663432">&#34;important&nbsp;\r\n&#34;</span><span class="op" id="6663448">)</span><span class="op" id="6663449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663453">Mode</span><span class="op" id="6663457">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6663462">0444</span><span class="op" id="6663466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663469">}</span><span class="op" id="6663470">,</span><br>
<span class="lineno"></span><span class="op" id="6663472">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="6663475">func</span>&nbsp;<span class="ident" id="6663480">TestReader</span><span class="op" id="6663490">(</span><span class="ident" id="6663491">t</span>&nbsp;<span class="op" id="6663493">*</span><span class="ident" id="6663494"><a href="/archive/zip/reader_test.go.html#6657795">testing</a></span><span class="op" id="6663501">.</span><span class="ident" id="6663502">T</span><span class="op" id="6663503">)</span>&nbsp;<span class="op" id="6663505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663508">for</span>&nbsp;<span class="ident" id="6663512">_</span><span class="op" id="6663513">,</span>&nbsp;<span class="ident" id="6663515">zt</span>&nbsp;<span class="op" id="6663518">:=</span>&nbsp;<span class="keyword" id="6663521">range</span>&nbsp;<span class="ident" id="6663527"><a href="/archive/zip/reader_test.go.html#6659014">tests</a></span>&nbsp;<span class="op" id="6663533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663537"><a href="/archive/zip/reader_test.go.html#6663567">readTestZip</a></span><span class="op" id="6663548">(</span><span class="ident" id="6663549"><a href="/archive/zip/reader_test.go.html#6663491">t</a></span><span class="op" id="6663550">,</span>&nbsp;<span class="ident" id="6663552"><a href="/archive/zip/reader_test.go.html#6663515">zt</a></span><span class="op" id="6663554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663557">}</span><br>
<span class="lineno">280</span><span class="op" id="6663559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6663562">func</span>&nbsp;<span class="ident" id="6663567">readTestZip</span><span class="op" id="6663578">(</span><span class="ident" id="6663579">t</span>&nbsp;<span class="op" id="6663581">*</span><span class="ident" id="6663582"><a href="/archive/zip/reader_test.go.html#6657795">testing</a></span><span class="op" id="6663589">.</span><span class="ident" id="6663590">T</span><span class="op" id="6663591">,</span>&nbsp;<span class="ident" id="6663593">zt</span>&nbsp;<span class="ident" id="6663596"><a href="/archive/zip/reader_test.go.html#6657821">ZipTest</a></span><span class="op" id="6663603">)</span>&nbsp;<span class="op" id="6663605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663608">var</span>&nbsp;<span class="ident" id="6663612">z</span>&nbsp;<span class="op" id="6663614">*</span><span class="ident" id="6663615"><a href="/archive/zip/reader.go.html#6388016">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663623">var</span>&nbsp;<span class="ident" id="6663627">err</span>&nbsp;<span class="builtintype" id="6663631">error</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663638">if</span>&nbsp;<span class="ident" id="6663641"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6663643">.</span><span class="ident" id="6663644">Source</span>&nbsp;<span class="op" id="6663651">!=</span>&nbsp;<span class="ident" id="6663654">nil</span>&nbsp;<span class="op" id="6663658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663662">rat</span><span class="op" id="6663665">,</span>&nbsp;<span class="ident" id="6663667">size</span>&nbsp;<span class="op" id="6663672">:=</span>&nbsp;<span class="ident" id="6663675"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6663677">.</span><span class="ident" id="6663678">Source</span><span class="op" id="6663684">(</span><span class="op" id="6663685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663689"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6663690">,</span>&nbsp;<span class="ident" id="6663692"><a href="/archive/zip/reader_test.go.html#6663627">err</a></span>&nbsp;<span class="op" id="6663696">=</span>&nbsp;<span class="ident" id="6663698"><a href="/archive/zip/reader.go.html#6388809">NewReader</a></span><span class="op" id="6663707">(</span><span class="ident" id="6663708"><a href="/archive/zip/reader_test.go.html#6663662">rat</a></span><span class="op" id="6663711">,</span>&nbsp;<span class="ident" id="6663713"><a href="/archive/zip/reader_test.go.html#6663667">size</a></span><span class="op" id="6663717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663720">}</span>&nbsp;<span class="keyword" id="6663722">else</span>&nbsp;<span class="op" id="6663727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663731">var</span>&nbsp;<span class="ident" id="6663735">rc</span>&nbsp;<span class="op" id="6663738">*</span><span class="ident" id="6663739"><a href="/archive/zip/reader.go.html#6388094">ReadCloser</a></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663752"><a href="/archive/zip/reader_test.go.html#6663735">rc</a></span><span class="op" id="6663754">,</span>&nbsp;<span class="ident" id="6663756"><a href="/archive/zip/reader_test.go.html#6663627">err</a></span>&nbsp;<span class="op" id="6663760">=</span>&nbsp;<span class="ident" id="6663762"><a href="/archive/zip/reader.go.html#6388392">OpenReader</a></span><span class="op" id="6663772">(</span><span class="ident" id="6663773"><a href="/archive/zip/reader_test.go.html#6657757">filepath</a></span><span class="op" id="6663781">.</span><span class="ident" id="6663782">Join</span><span class="op" id="6663786">(</span><span class="string" id="6663787">&#34;testdata&#34;</span><span class="op" id="6663797">,</span>&nbsp;<span class="ident" id="6663799"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6663801">.</span><span class="ident" id="6663802">Name</span><span class="op" id="6663806">)</span><span class="op" id="6663807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663811">if</span>&nbsp;<span class="ident" id="6663814"><a href="/archive/zip/reader_test.go.html#6663627">err</a></span>&nbsp;<span class="op" id="6663818">==</span>&nbsp;<span class="ident" id="6663821">nil</span>&nbsp;<span class="op" id="6663825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663830">defer</span>&nbsp;<span class="ident" id="6663836"><a href="/archive/zip/reader_test.go.html#6663735">rc</a></span><span class="op" id="6663838">.</span><span class="ident" id="6663839">Close</span><span class="op" id="6663844">(</span><span class="op" id="6663845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663850"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span>&nbsp;<span class="op" id="6663852">=</span>&nbsp;<span class="op" id="6663854">&amp;</span><span class="ident" id="6663855"><a href="/archive/zip/reader_test.go.html#6663735">rc</a></span><span class="op" id="6663857">.</span><span class="ident" id="6663858">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663867">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663873">if</span>&nbsp;<span class="ident" id="6663876"><a href="/archive/zip/reader_test.go.html#6663627">err</a></span>&nbsp;<span class="op" id="6663880">!=</span>&nbsp;<span class="ident" id="6663883"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6663885">.</span><span class="ident" id="6663886">Error</span>&nbsp;<span class="op" id="6663892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663896"><a href="/archive/zip/reader_test.go.html#6663579">t</a></span><span class="op" id="6663897">.</span><span class="ident" id="6663898">Errorf</span><span class="op" id="6663904">(</span><span class="string" id="6663905">&#34;%s:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6663928">,</span>&nbsp;<span class="ident" id="6663930"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6663932">.</span><span class="ident" id="6663933">Name</span><span class="op" id="6663937">,</span>&nbsp;<span class="ident" id="6663939"><a href="/archive/zip/reader_test.go.html#6663627">err</a></span><span class="op" id="6663942">,</span>&nbsp;<span class="ident" id="6663944"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6663946">.</span><span class="ident" id="6663947">Error</span><span class="op" id="6663952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663956">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663964">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6663968">//&nbsp;bail&nbsp;if&nbsp;file&nbsp;is&nbsp;not&nbsp;zip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6663996">if</span>&nbsp;<span class="ident" id="6663999"><a href="/archive/zip/reader_test.go.html#6663627">err</a></span>&nbsp;<span class="op" id="6664003">==</span>&nbsp;<span class="ident" id="6664006"><a href="/archive/zip/reader.go.html#6387834">ErrFormat</a></span>&nbsp;<span class="op" id="6664016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664020">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664028">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6664032">//&nbsp;bail&nbsp;here&nbsp;if&nbsp;no&nbsp;Files&nbsp;expected&nbsp;to&nbsp;be&nbsp;tested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6664080">//&nbsp;(there&nbsp;may&nbsp;actually&nbsp;be&nbsp;files&nbsp;in&nbsp;the&nbsp;zip,&nbsp;but&nbsp;we&nbsp;don&#39;t&nbsp;care)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664144">if</span>&nbsp;<span class="ident" id="6664147"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664149">.</span><span class="ident" id="6664150">File</span>&nbsp;<span class="op" id="6664155">==</span>&nbsp;<span class="ident" id="6664158">nil</span>&nbsp;<span class="op" id="6664162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664166">return</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664178">if</span>&nbsp;<span class="ident" id="6664181"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6664182">.</span><span class="ident" id="6664183">Comment</span>&nbsp;<span class="op" id="6664191">!=</span>&nbsp;<span class="ident" id="6664194"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664196">.</span><span class="ident" id="6664197">Comment</span>&nbsp;<span class="op" id="6664205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664209"><a href="/archive/zip/reader_test.go.html#6663579">t</a></span><span class="op" id="6664210">.</span><span class="ident" id="6664211">Errorf</span><span class="op" id="6664217">(</span><span class="string" id="6664218">&#34;%s:&nbsp;comment=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6664243">,</span>&nbsp;<span class="ident" id="6664245"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664247">.</span><span class="ident" id="6664248">Name</span><span class="op" id="6664252">,</span>&nbsp;<span class="ident" id="6664254"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6664255">.</span><span class="ident" id="6664256">Comment</span><span class="op" id="6664263">,</span>&nbsp;<span class="ident" id="6664265"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664267">.</span><span class="ident" id="6664268">Comment</span><span class="op" id="6664275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664278">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664281">if</span>&nbsp;<span class="builtinfunc" id="6664284">len</span><span class="op" id="6664287">(</span><span class="ident" id="6664288"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6664289">.</span><span class="ident" id="6664290">File</span><span class="op" id="6664294">)</span>&nbsp;<span class="op" id="6664296">!=</span>&nbsp;<span class="builtinfunc" id="6664299">len</span><span class="op" id="6664302">(</span><span class="ident" id="6664303"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664305">.</span><span class="ident" id="6664306">File</span><span class="op" id="6664310">)</span>&nbsp;<span class="op" id="6664312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664316"><a href="/archive/zip/reader_test.go.html#6663579">t</a></span><span class="op" id="6664317">.</span><span class="ident" id="6664318">Fatalf</span><span class="op" id="6664324">(</span><span class="string" id="6664325">&#34;%s:&nbsp;file&nbsp;count=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6664353">,</span>&nbsp;<span class="ident" id="6664355"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664357">.</span><span class="ident" id="6664358">Name</span><span class="op" id="6664362">,</span>&nbsp;<span class="builtinfunc" id="6664364">len</span><span class="op" id="6664367">(</span><span class="ident" id="6664368"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6664369">.</span><span class="ident" id="6664370">File</span><span class="op" id="6664374">)</span><span class="op" id="6664375">,</span>&nbsp;<span class="builtinfunc" id="6664377">len</span><span class="op" id="6664380">(</span><span class="ident" id="6664381"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664383">.</span><span class="ident" id="6664384">File</span><span class="op" id="6664388">)</span><span class="op" id="6664389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6664396">//&nbsp;test&nbsp;read&nbsp;of&nbsp;each&nbsp;file</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664423">for</span>&nbsp;<span class="ident" id="6664427">i</span><span class="op" id="6664428">,</span>&nbsp;<span class="ident" id="6664430">ft</span>&nbsp;<span class="op" id="6664433">:=</span>&nbsp;<span class="keyword" id="6664436">range</span>&nbsp;<span class="ident" id="6664442"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664444">.</span><span class="ident" id="6664445">File</span>&nbsp;<span class="op" id="6664450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664454"><a href="/archive/zip/reader_test.go.html#6664769">readTestFile</a></span><span class="op" id="6664466">(</span><span class="ident" id="6664467"><a href="/archive/zip/reader_test.go.html#6663579">t</a></span><span class="op" id="6664468">,</span>&nbsp;<span class="ident" id="6664470"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664472">,</span>&nbsp;<span class="ident" id="6664474"><a href="/archive/zip/reader_test.go.html#6664430">ft</a></span><span class="op" id="6664476">,</span>&nbsp;<span class="ident" id="6664478"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6664479">.</span><span class="ident" id="6664480">File</span><span class="op" id="6664484">[</span><span class="ident" id="6664485"><a href="/archive/zip/reader_test.go.html#6664427">i</a></span><span class="op" id="6664486">]</span><span class="op" id="6664487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6664494">//&nbsp;test&nbsp;simultaneous&nbsp;reads</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664522">n</span>&nbsp;<span class="op" id="6664524">:=</span>&nbsp;<span class="num" id="6664527">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664530">done</span>&nbsp;<span class="op" id="6664535">:=</span>&nbsp;<span class="builtinfunc" id="6664538">make</span><span class="op" id="6664542">(</span><span class="keyword" id="6664543">chan</span>&nbsp;<span class="builtintype" id="6664548">bool</span><span class="op" id="6664552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664555">for</span>&nbsp;<span class="ident" id="6664559">i</span>&nbsp;<span class="op" id="6664561">:=</span>&nbsp;<span class="num" id="6664564">0</span><span class="op" id="6664565">;</span>&nbsp;<span class="ident" id="6664567"><a href="/archive/zip/reader_test.go.html#6664559">i</a></span>&nbsp;<span class="op" id="6664569">&lt;</span>&nbsp;<span class="num" id="6664571">5</span><span class="op" id="6664572">;</span>&nbsp;<span class="ident" id="6664574"><a href="/archive/zip/reader_test.go.html#6664559">i</a></span><span class="op" id="6664575">++</span>&nbsp;<span class="op" id="6664578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664582">for</span>&nbsp;<span class="ident" id="6664586">j</span><span class="op" id="6664587">,</span>&nbsp;<span class="ident" id="6664589">ft</span>&nbsp;<span class="op" id="6664592">:=</span>&nbsp;<span class="keyword" id="6664595">range</span>&nbsp;<span class="ident" id="6664601"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664603">.</span><span class="ident" id="6664604">File</span>&nbsp;<span class="op" id="6664609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664614">go</span>&nbsp;<span class="keyword" id="6664617">func</span><span class="op" id="6664621">(</span><span class="ident" id="6664622">j</span>&nbsp;<span class="builtintype" id="6664624">int</span><span class="op" id="6664627">,</span>&nbsp;<span class="ident" id="6664629">ft</span>&nbsp;<span class="ident" id="6664632"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6664643">)</span>&nbsp;<span class="op" id="6664645">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664651"><a href="/archive/zip/reader_test.go.html#6664769">readTestFile</a></span><span class="op" id="6664663">(</span><span class="ident" id="6664664"><a href="/archive/zip/reader_test.go.html#6663579">t</a></span><span class="op" id="6664665">,</span>&nbsp;<span class="ident" id="6664667"><a href="/archive/zip/reader_test.go.html#6663593">zt</a></span><span class="op" id="6664669">,</span>&nbsp;<span class="ident" id="6664671"><a href="/archive/zip/reader_test.go.html#6664629">ft</a></span><span class="op" id="6664673">,</span>&nbsp;<span class="ident" id="6664675"><a href="/archive/zip/reader_test.go.html#6663612">z</a></span><span class="op" id="6664676">.</span><span class="ident" id="6664677">File</span><span class="op" id="6664681">[</span><span class="ident" id="6664682"><a href="/archive/zip/reader_test.go.html#6664622">j</a></span><span class="op" id="6664683">]</span><span class="op" id="6664684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664690"><a href="/archive/zip/reader_test.go.html#6664530">done</a></span>&nbsp;<span class="op" id="6664695">&lt;-</span>&nbsp;<span class="ident" id="6664698">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664706">}</span><span class="op" id="6664707">(</span><span class="ident" id="6664708"><a href="/archive/zip/reader_test.go.html#6664586">j</a></span><span class="op" id="6664709">,</span>&nbsp;<span class="ident" id="6664711"><a href="/archive/zip/reader_test.go.html#6664589">ft</a></span><span class="op" id="6664713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664718"><a href="/archive/zip/reader_test.go.html#6664522">n</a></span><span class="op" id="6664719">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664724">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664730">for</span>&nbsp;<span class="op" id="6664734">;</span>&nbsp;<span class="ident" id="6664736"><a href="/archive/zip/reader_test.go.html#6664522">n</a></span>&nbsp;<span class="op" id="6664738">&gt;</span>&nbsp;<span class="num" id="6664740">0</span><span class="op" id="6664741">;</span>&nbsp;<span class="ident" id="6664743"><a href="/archive/zip/reader_test.go.html#6664522">n</a></span><span class="op" id="6664744">--</span>&nbsp;<span class="op" id="6664747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664751">&lt;-</span><span class="ident" id="6664753"><a href="/archive/zip/reader_test.go.html#6664530">done</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664759">}</span><br>
<span class="lineno"></span><span class="op" id="6664761">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6664764">func</span>&nbsp;<span class="ident" id="6664769">readTestFile</span><span class="op" id="6664781">(</span><span class="ident" id="6664782">t</span>&nbsp;<span class="op" id="6664784">*</span><span class="ident" id="6664785"><a href="/archive/zip/reader_test.go.html#6657795">testing</a></span><span class="op" id="6664792">.</span><span class="ident" id="6664793">T</span><span class="op" id="6664794">,</span>&nbsp;<span class="ident" id="6664796">zt</span>&nbsp;<span class="ident" id="6664799"><a href="/archive/zip/reader_test.go.html#6657821">ZipTest</a></span><span class="op" id="6664806">,</span>&nbsp;<span class="ident" id="6664808">ft</span>&nbsp;<span class="ident" id="6664811"><a href="/archive/zip/reader_test.go.html#6658062">ZipTestFile</a></span><span class="op" id="6664822">,</span>&nbsp;<span class="ident" id="6664824">f</span>&nbsp;<span class="op" id="6664826">*</span><span class="ident" id="6664827"><a href="/archive/zip/reader.go.html#6388142">File</a></span><span class="op" id="6664831">)</span>&nbsp;<span class="op" id="6664833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664836">if</span>&nbsp;<span class="ident" id="6664839"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6664840">.</span><span class="ident" id="6664841">Name</span>&nbsp;<span class="op" id="6664846">!=</span>&nbsp;<span class="ident" id="6664849"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6664851">.</span><span class="ident" id="6664852">Name</span>&nbsp;<span class="op" id="6664857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664861"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6664862">.</span><span class="ident" id="6664863">Errorf</span><span class="op" id="6664869">(</span><span class="string" id="6664870">&#34;%s:&nbsp;name=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6664892">,</span>&nbsp;<span class="ident" id="6664894"><a href="/archive/zip/reader_test.go.html#6664796">zt</a></span><span class="op" id="6664896">.</span><span class="ident" id="6664897">Name</span><span class="op" id="6664901">,</span>&nbsp;<span class="ident" id="6664903"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6664904">.</span><span class="ident" id="6664905">Name</span><span class="op" id="6664909">,</span>&nbsp;<span class="ident" id="6664911"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6664913">.</span><span class="ident" id="6664914">Name</span><span class="op" id="6664918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664921">}</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664925">if</span>&nbsp;<span class="ident" id="6664928"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6664930">.</span><span class="ident" id="6664931">Mtime</span>&nbsp;<span class="op" id="6664937">!=</span>&nbsp;<span class="string" id="6664940">&#34;&#34;</span>&nbsp;<span class="op" id="6664943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664947">mtime</span><span class="op" id="6664952">,</span>&nbsp;<span class="ident" id="6664954">err</span>&nbsp;<span class="op" id="6664958">:=</span>&nbsp;<span class="ident" id="6664961"><a href="/archive/zip/reader_test.go.html#6657806">time</a></span><span class="op" id="6664965">.</span><span class="ident" id="6664966">Parse</span><span class="op" id="6664971">(</span><span class="string" id="6664972">&#34;01-02-06&nbsp;15:04:05&#34;</span><span class="op" id="6664991">,</span>&nbsp;<span class="ident" id="6664993"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6664995">.</span><span class="ident" id="6664996">Mtime</span><span class="op" id="6665001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665005">if</span>&nbsp;<span class="ident" id="6665008"><a href="/archive/zip/reader_test.go.html#6664954">err</a></span>&nbsp;<span class="op" id="6665012">!=</span>&nbsp;<span class="ident" id="6665015">nil</span>&nbsp;<span class="op" id="6665019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665024"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665025">.</span><span class="ident" id="6665026">Error</span><span class="op" id="6665031">(</span><span class="ident" id="6665032"><a href="/archive/zip/reader_test.go.html#6664954">err</a></span><span class="op" id="6665035">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665040">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665053">if</span>&nbsp;<span class="ident" id="6665056">ft</span>&nbsp;<span class="op" id="6665059">:=</span>&nbsp;<span class="ident" id="6665062"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665063">.</span><span class="ident" id="6665064">ModTime</span><span class="op" id="6665071">(</span><span class="op" id="6665072">)</span><span class="op" id="6665073">;</span>&nbsp;<span class="op" id="6665075">!</span><span class="ident" id="6665076"><a href="/archive/zip/reader_test.go.html#6665056">ft</a></span><span class="op" id="6665078">.</span><span class="ident" id="6665079">Equal</span><span class="op" id="6665084">(</span><span class="ident" id="6665085"><a href="/archive/zip/reader_test.go.html#6664947">mtime</a></span><span class="op" id="6665090">)</span>&nbsp;<span class="op" id="6665092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665097"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665098">.</span><span class="ident" id="6665099">Errorf</span><span class="op" id="6665105">(</span><span class="string" id="6665106">&#34;%s:&nbsp;%s:&nbsp;mtime=%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6665133">,</span>&nbsp;<span class="ident" id="6665135"><a href="/archive/zip/reader_test.go.html#6664796">zt</a></span><span class="op" id="6665137">.</span><span class="ident" id="6665138">Name</span><span class="op" id="6665142">,</span>&nbsp;<span class="ident" id="6665144"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665145">.</span><span class="ident" id="6665146">Name</span><span class="op" id="6665150">,</span>&nbsp;<span class="ident" id="6665152"><a href="/archive/zip/reader_test.go.html#6665056">ft</a></span><span class="op" id="6665154">,</span>&nbsp;<span class="ident" id="6665156"><a href="/archive/zip/reader_test.go.html#6664947">mtime</a></span><span class="op" id="6665161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665165">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665172"><a href="/archive/zip/reader_test.go.html#6666089">testFileMode</a></span><span class="op" id="6665184">(</span><span class="ident" id="6665185"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665186">,</span>&nbsp;<span class="ident" id="6665188"><a href="/archive/zip/reader_test.go.html#6664796">zt</a></span><span class="op" id="6665190">.</span><span class="ident" id="6665191">Name</span><span class="op" id="6665195">,</span>&nbsp;<span class="ident" id="6665197"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665198">,</span>&nbsp;<span class="ident" id="6665200"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6665202">.</span><span class="ident" id="6665203">Mode</span><span class="op" id="6665207">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665211">var</span>&nbsp;<span class="ident" id="6665215">b</span>&nbsp;<span class="ident" id="6665217"><a href="/archive/zip/reader_test.go.html#6657688">bytes</a></span><span class="op" id="6665222">.</span><span class="ident" id="6665223">Buffer</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665231">r</span><span class="op" id="6665232">,</span>&nbsp;<span class="ident" id="6665234">err</span>&nbsp;<span class="op" id="6665238">:=</span>&nbsp;<span class="ident" id="6665241"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665242">.</span><span class="ident" id="6665243">Open</span><span class="op" id="6665247">(</span><span class="op" id="6665248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665251">if</span>&nbsp;<span class="ident" id="6665254"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span>&nbsp;<span class="op" id="6665258">!=</span>&nbsp;<span class="ident" id="6665261">nil</span>&nbsp;<span class="op" id="6665265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665269"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665270">.</span><span class="ident" id="6665271">Errorf</span><span class="op" id="6665277">(</span><span class="string" id="6665278">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="6665286">,</span>&nbsp;<span class="ident" id="6665288"><a href="/archive/zip/reader_test.go.html#6664796">zt</a></span><span class="op" id="6665290">.</span><span class="ident" id="6665291">Name</span><span class="op" id="6665295">,</span>&nbsp;<span class="ident" id="6665297"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span><span class="op" id="6665300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665304">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665312">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665316">_</span><span class="op" id="6665317">,</span>&nbsp;<span class="ident" id="6665319"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span>&nbsp;<span class="op" id="6665323">=</span>&nbsp;<span class="ident" id="6665325"><a href="/archive/zip/reader_test.go.html#6657732">io</a></span><span class="op" id="6665327">.</span><span class="ident" id="6665328">Copy</span><span class="op" id="6665332">(</span><span class="op" id="6665333">&amp;</span><span class="ident" id="6665334"><a href="/archive/zip/reader_test.go.html#6665215">b</a></span><span class="op" id="6665335">,</span>&nbsp;<span class="ident" id="6665337"><a href="/archive/zip/reader_test.go.html#6665231">r</a></span><span class="op" id="6665338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665341">if</span>&nbsp;<span class="ident" id="6665344"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span>&nbsp;<span class="op" id="6665348">!=</span>&nbsp;<span class="ident" id="6665351"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6665353">.</span><span class="ident" id="6665354">ContentErr</span>&nbsp;<span class="op" id="6665365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665369"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665370">.</span><span class="ident" id="6665371">Errorf</span><span class="op" id="6665377">(</span><span class="string" id="6665378">&#34;%s:&nbsp;copying&nbsp;contents:&nbsp;%v&nbsp;(want&nbsp;%v)&#34;</span><span class="op" id="6665414">,</span>&nbsp;<span class="ident" id="6665416"><a href="/archive/zip/reader_test.go.html#6664796">zt</a></span><span class="op" id="6665418">.</span><span class="ident" id="6665419">Name</span><span class="op" id="6665423">,</span>&nbsp;<span class="ident" id="6665425"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span><span class="op" id="6665428">,</span>&nbsp;<span class="ident" id="6665430"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6665432">.</span><span class="ident" id="6665433">ContentErr</span><span class="op" id="6665443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665446">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665449">if</span>&nbsp;<span class="ident" id="6665452"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span>&nbsp;<span class="op" id="6665456">!=</span>&nbsp;<span class="ident" id="6665459">nil</span>&nbsp;<span class="op" id="6665463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665467">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665478"><a href="/archive/zip/reader_test.go.html#6665231">r</a></span><span class="op" id="6665479">.</span><span class="ident" id="6665480">Close</span><span class="op" id="6665485">(</span><span class="op" id="6665486">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665490">size</span>&nbsp;<span class="op" id="6665495">:=</span>&nbsp;<span class="ident" id="6665498">uint64</span><span class="op" id="6665504">(</span><span class="ident" id="6665505"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665506">.</span><span class="ident" id="6665507">UncompressedSize</span><span class="op" id="6665523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665526">if</span>&nbsp;<span class="ident" id="6665529"><a href="/archive/zip/reader_test.go.html#6665490">size</a></span>&nbsp;<span class="op" id="6665534">==</span>&nbsp;<span class="ident" id="6665537"><a href="/archive/zip/struct.go.html#6404490">uint32max</a></span>&nbsp;<span class="op" id="6665547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665551"><a href="/archive/zip/reader_test.go.html#6665490">size</a></span>&nbsp;<span class="op" id="6665556">=</span>&nbsp;<span class="ident" id="6665558"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665559">.</span><span class="ident" id="6665560">UncompressedSize64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665583">if</span>&nbsp;<span class="ident" id="6665586">g</span>&nbsp;<span class="op" id="6665588">:=</span>&nbsp;<span class="ident" id="6665591">uint64</span><span class="op" id="6665597">(</span><span class="ident" id="6665598"><a href="/archive/zip/reader_test.go.html#6665215">b</a></span><span class="op" id="6665599">.</span><span class="ident" id="6665600">Len</span><span class="op" id="6665603">(</span><span class="op" id="6665604">)</span><span class="op" id="6665605">)</span><span class="op" id="6665606">;</span>&nbsp;<span class="ident" id="6665608"><a href="/archive/zip/reader_test.go.html#6665586">g</a></span>&nbsp;<span class="op" id="6665610">!=</span>&nbsp;<span class="ident" id="6665613"><a href="/archive/zip/reader_test.go.html#6665490">size</a></span>&nbsp;<span class="op" id="6665618">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665622"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665623">.</span><span class="ident" id="6665624">Errorf</span><span class="op" id="6665630">(</span><span class="string" id="6665631">&#34;%v:&nbsp;read&nbsp;%v&nbsp;bytes&nbsp;but&nbsp;f.UncompressedSize&nbsp;==&nbsp;%v&#34;</span><span class="op" id="6665679">,</span>&nbsp;<span class="ident" id="6665681"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665682">.</span><span class="ident" id="6665683">Name</span><span class="op" id="6665687">,</span>&nbsp;<span class="ident" id="6665689"><a href="/archive/zip/reader_test.go.html#6665586">g</a></span><span class="op" id="6665690">,</span>&nbsp;<span class="ident" id="6665692"><a href="/archive/zip/reader_test.go.html#6665490">size</a></span><span class="op" id="6665696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665703">var</span>&nbsp;<span class="ident" id="6665707">c</span>&nbsp;<span class="op" id="6665709">[</span><span class="op" id="6665710">]</span><span class="builtintype" id="6665711">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665717">if</span>&nbsp;<span class="ident" id="6665720"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6665722">.</span><span class="ident" id="6665723">Content</span>&nbsp;<span class="op" id="6665731">!=</span>&nbsp;<span class="ident" id="6665734">nil</span>&nbsp;<span class="op" id="6665738">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665742"><a href="/archive/zip/reader_test.go.html#6665707">c</a></span>&nbsp;<span class="op" id="6665744">=</span>&nbsp;<span class="ident" id="6665746"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6665748">.</span><span class="ident" id="6665749">Content</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665758">}</span>&nbsp;<span class="keyword" id="6665760">else</span>&nbsp;<span class="keyword" id="6665765">if</span>&nbsp;<span class="ident" id="6665768"><a href="/archive/zip/reader_test.go.html#6665707">c</a></span><span class="op" id="6665769">,</span>&nbsp;<span class="ident" id="6665771"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span>&nbsp;<span class="op" id="6665775">=</span>&nbsp;<span class="ident" id="6665777"><a href="/archive/zip/reader_test.go.html#6657738">ioutil</a></span><span class="op" id="6665783">.</span><span class="ident" id="6665784">ReadFile</span><span class="op" id="6665792">(</span><span class="string" id="6665793">&#34;testdata/&#34;</span>&nbsp;<span class="op" id="6665805">+</span>&nbsp;<span class="ident" id="6665807"><a href="/archive/zip/reader_test.go.html#6664808">ft</a></span><span class="op" id="6665809">.</span><span class="ident" id="6665810">File</span><span class="op" id="6665814">)</span><span class="op" id="6665815">;</span>&nbsp;<span class="ident" id="6665817"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span>&nbsp;<span class="op" id="6665821">!=</span>&nbsp;<span class="ident" id="6665824">nil</span>&nbsp;<span class="op" id="6665828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665832"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665833">.</span><span class="ident" id="6665834">Error</span><span class="op" id="6665839">(</span><span class="ident" id="6665840"><a href="/archive/zip/reader_test.go.html#6665234">err</a></span><span class="op" id="6665843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665847">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665855">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665859">if</span>&nbsp;<span class="ident" id="6665862"><a href="/archive/zip/reader_test.go.html#6665215">b</a></span><span class="op" id="6665863">.</span><span class="ident" id="6665864">Len</span><span class="op" id="6665867">(</span><span class="op" id="6665868">)</span>&nbsp;<span class="op" id="6665870">!=</span>&nbsp;<span class="builtinfunc" id="6665873">len</span><span class="op" id="6665876">(</span><span class="ident" id="6665877"><a href="/archive/zip/reader_test.go.html#6665707">c</a></span><span class="op" id="6665878">)</span>&nbsp;<span class="op" id="6665880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665884"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6665885">.</span><span class="ident" id="6665886">Errorf</span><span class="op" id="6665892">(</span><span class="string" id="6665893">&#34;%s:&nbsp;len=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6665914">,</span>&nbsp;<span class="ident" id="6665916"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6665917">.</span><span class="ident" id="6665918">Name</span><span class="op" id="6665922">,</span>&nbsp;<span class="ident" id="6665924"><a href="/archive/zip/reader_test.go.html#6665215">b</a></span><span class="op" id="6665925">.</span><span class="ident" id="6665926">Len</span><span class="op" id="6665929">(</span><span class="op" id="6665930">)</span><span class="op" id="6665931">,</span>&nbsp;<span class="builtinfunc" id="6665933">len</span><span class="op" id="6665936">(</span><span class="ident" id="6665937"><a href="/archive/zip/reader_test.go.html#6665707">c</a></span><span class="op" id="6665938">)</span><span class="op" id="6665939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665943">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665951">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665955">for</span>&nbsp;<span class="ident" id="6665959">i</span><span class="op" id="6665960">,</span>&nbsp;<span class="ident" id="6665962">b</span>&nbsp;<span class="op" id="6665964">:=</span>&nbsp;<span class="keyword" id="6665967">range</span>&nbsp;<span class="ident" id="6665973"><a href="/archive/zip/reader_test.go.html#6665215">b</a></span><span class="op" id="6665974">.</span><span class="ident" id="6665975">Bytes</span><span class="op" id="6665980">(</span><span class="op" id="6665981">)</span>&nbsp;<span class="op" id="6665983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665987">if</span>&nbsp;<span class="ident" id="6665990"><a href="/archive/zip/reader_test.go.html#6665962">b</a></span>&nbsp;<span class="op" id="6665992">!=</span>&nbsp;<span class="ident" id="6665995"><a href="/archive/zip/reader_test.go.html#6665707">c</a></span><span class="op" id="6665996">[</span><span class="ident" id="6665997"><a href="/archive/zip/reader_test.go.html#6665959">i</a></span><span class="op" id="6665998">]</span>&nbsp;<span class="op" id="6666000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666005"><a href="/archive/zip/reader_test.go.html#6664782">t</a></span><span class="op" id="6666006">.</span><span class="ident" id="6666007">Errorf</span><span class="op" id="6666013">(</span><span class="string" id="6666014">&#34;%s:&nbsp;content[%d]=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6666042">,</span>&nbsp;<span class="ident" id="6666044"><a href="/archive/zip/reader_test.go.html#6664824">f</a></span><span class="op" id="6666045">.</span><span class="ident" id="6666046">Name</span><span class="op" id="6666050">,</span>&nbsp;<span class="ident" id="6666052"><a href="/archive/zip/reader_test.go.html#6665959">i</a></span><span class="op" id="6666053">,</span>&nbsp;<span class="ident" id="6666055"><a href="/archive/zip/reader_test.go.html#6665962">b</a></span><span class="op" id="6666056">,</span>&nbsp;<span class="ident" id="6666058"><a href="/archive/zip/reader_test.go.html#6665707">c</a></span><span class="op" id="6666059">[</span><span class="ident" id="6666060"><a href="/archive/zip/reader_test.go.html#6665959">i</a></span><span class="op" id="6666061">]</span><span class="op" id="6666062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666067">return</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666079">}</span><br>
<span class="lineno"></span><span class="op" id="6666081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6666084">func</span>&nbsp;<span class="ident" id="6666089">testFileMode</span><span class="op" id="6666101">(</span><span class="ident" id="6666102">t</span>&nbsp;<span class="op" id="6666104">*</span><span class="ident" id="6666105"><a href="/archive/zip/reader_test.go.html#6657795">testing</a></span><span class="op" id="6666112">.</span><span class="ident" id="6666113">T</span><span class="op" id="6666114">,</span>&nbsp;<span class="ident" id="6666116">zipName</span>&nbsp;<span class="builtintype" id="6666124">string</span><span class="op" id="6666130">,</span>&nbsp;<span class="ident" id="6666132">f</span>&nbsp;<span class="op" id="6666134">*</span><span class="ident" id="6666135"><a href="/archive/zip/reader.go.html#6388142">File</a></span><span class="op" id="6666139">,</span>&nbsp;<span class="ident" id="6666141">want</span>&nbsp;<span class="ident" id="6666146"><a href="/archive/zip/reader_test.go.html#6657751">os</a></span><span class="op" id="6666148">.</span><span class="ident" id="6666149">FileMode</span><span class="op" id="6666157">)</span>&nbsp;<span class="op" id="6666159">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666162">mode</span>&nbsp;<span class="op" id="6666167">:=</span>&nbsp;<span class="ident" id="6666170"><a href="/archive/zip/reader_test.go.html#6666132">f</a></span><span class="op" id="6666171">.</span><span class="ident" id="6666172">Mode</span><span class="op" id="6666176">(</span><span class="op" id="6666177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666180">if</span>&nbsp;<span class="ident" id="6666183"><a href="/archive/zip/reader_test.go.html#6666141">want</a></span>&nbsp;<span class="op" id="6666188">==</span>&nbsp;<span class="num" id="6666191">0</span>&nbsp;<span class="op" id="6666193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666197"><a href="/archive/zip/reader_test.go.html#6666102">t</a></span><span class="op" id="6666198">.</span><span class="ident" id="6666199">Errorf</span><span class="op" id="6666205">(</span><span class="string" id="6666206">&#34;%s:&nbsp;%s&nbsp;mode:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;none&#34;</span><span class="op" id="6666238">,</span>&nbsp;<span class="ident" id="6666240"><a href="/archive/zip/reader_test.go.html#6666116">zipName</a></span><span class="op" id="6666247">,</span>&nbsp;<span class="ident" id="6666249"><a href="/archive/zip/reader_test.go.html#6666132">f</a></span><span class="op" id="6666250">.</span><span class="ident" id="6666251">Name</span><span class="op" id="6666255">,</span>&nbsp;<span class="ident" id="6666257"><a href="/archive/zip/reader_test.go.html#6666162">mode</a></span><span class="op" id="6666261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666264">}</span>&nbsp;<span class="keyword" id="6666266">else</span>&nbsp;<span class="keyword" id="6666271">if</span>&nbsp;<span class="ident" id="6666274"><a href="/archive/zip/reader_test.go.html#6666162">mode</a></span>&nbsp;<span class="op" id="6666279">!=</span>&nbsp;<span class="ident" id="6666282"><a href="/archive/zip/reader_test.go.html#6666141">want</a></span>&nbsp;<span class="op" id="6666287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666291"><a href="/archive/zip/reader_test.go.html#6666102">t</a></span><span class="op" id="6666292">.</span><span class="ident" id="6666293">Errorf</span><span class="op" id="6666299">(</span><span class="string" id="6666300">&#34;%s:&nbsp;%s&nbsp;mode:&nbsp;want&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6666330">,</span>&nbsp;<span class="ident" id="6666332"><a href="/archive/zip/reader_test.go.html#6666116">zipName</a></span><span class="op" id="6666339">,</span>&nbsp;<span class="ident" id="6666341"><a href="/archive/zip/reader_test.go.html#6666132">f</a></span><span class="op" id="6666342">.</span><span class="ident" id="6666343">Name</span><span class="op" id="6666347">,</span>&nbsp;<span class="ident" id="6666349"><a href="/archive/zip/reader_test.go.html#6666141">want</a></span><span class="op" id="6666353">,</span>&nbsp;<span class="ident" id="6666355"><a href="/archive/zip/reader_test.go.html#6666162">mode</a></span><span class="op" id="6666359">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666362">}</span><br>
<span class="lineno"></span><span class="op" id="6666364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6666367">func</span>&nbsp;<span class="ident" id="6666372">TestInvalidFiles</span><span class="op" id="6666388">(</span><span class="ident" id="6666389">t</span>&nbsp;<span class="op" id="6666391">*</span><span class="ident" id="6666392"><a href="/archive/zip/reader_test.go.html#6657795">testing</a></span><span class="op" id="6666399">.</span><span class="ident" id="6666400">T</span><span class="op" id="6666401">)</span>&nbsp;<span class="op" id="6666403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666406">const</span>&nbsp;<span class="ident" id="6666412">size</span>&nbsp;<span class="op" id="6666417">=</span>&nbsp;<span class="num" id="6666419">1024</span>&nbsp;<span class="op" id="6666424">*</span>&nbsp;<span class="num" id="6666426">70</span>&nbsp;<span class="comment" id="6666429">//&nbsp;70kb</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666438">b</span>&nbsp;<span class="op" id="6666440">:=</span>&nbsp;<span class="builtinfunc" id="6666443">make</span><span class="op" id="6666447">(</span><span class="op" id="6666448">[</span><span class="op" id="6666449">]</span><span class="builtintype" id="6666450">byte</span><span class="op" id="6666454">,</span>&nbsp;<span class="ident" id="6666456"><a href="/archive/zip/reader_test.go.html#6666412">size</a></span><span class="op" id="6666460">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6666464">//&nbsp;zeroes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666475">_</span><span class="op" id="6666476">,</span>&nbsp;<span class="ident" id="6666478">err</span>&nbsp;<span class="op" id="6666482">:=</span>&nbsp;<span class="ident" id="6666485"><a href="/archive/zip/reader.go.html#6388809">NewReader</a></span><span class="op" id="6666494">(</span><span class="ident" id="6666495"><a href="/archive/zip/reader_test.go.html#6657688">bytes</a></span><span class="op" id="6666500">.</span><span class="ident" id="6666501">NewReader</span><span class="op" id="6666510">(</span><span class="ident" id="6666511"><a href="/archive/zip/reader_test.go.html#6666438">b</a></span><span class="op" id="6666512">)</span><span class="op" id="6666513">,</span>&nbsp;<span class="ident" id="6666515"><a href="/archive/zip/reader_test.go.html#6666412">size</a></span><span class="op" id="6666519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666522">if</span>&nbsp;<span class="ident" id="6666525"><a href="/archive/zip/reader_test.go.html#6666478">err</a></span>&nbsp;<span class="op" id="6666529">!=</span>&nbsp;<span class="ident" id="6666532"><a href="/archive/zip/reader.go.html#6387834">ErrFormat</a></span>&nbsp;<span class="op" id="6666542">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666546"><a href="/archive/zip/reader_test.go.html#6666389">t</a></span><span class="op" id="6666547">.</span><span class="ident" id="6666548">Errorf</span><span class="op" id="6666554">(</span><span class="string" id="6666555">&#34;zeroes:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666582">,</span>&nbsp;<span class="ident" id="6666584"><a href="/archive/zip/reader_test.go.html#6666478">err</a></span><span class="op" id="6666587">,</span>&nbsp;<span class="ident" id="6666589"><a href="/archive/zip/reader.go.html#6387834">ErrFormat</a></span><span class="op" id="6666598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6666605">//&nbsp;repeated&nbsp;directoryEndSignatures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666641">sig</span>&nbsp;<span class="op" id="6666645">:=</span>&nbsp;<span class="builtinfunc" id="6666648">make</span><span class="op" id="6666652">(</span><span class="op" id="6666653">[</span><span class="op" id="6666654">]</span><span class="builtintype" id="6666655">byte</span><span class="op" id="6666659">,</span>&nbsp;<span class="num" id="6666661">4</span><span class="op" id="6666662">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666665"><a href="/archive/zip/reader_test.go.html#6657697">binary</a></span><span class="op" id="6666671">.</span><span class="ident" id="6666672">LittleEndian</span><span class="op" id="6666684">.</span><span class="ident" id="6666685">PutUint32</span><span class="op" id="6666694">(</span><span class="ident" id="6666695"><a href="/archive/zip/reader_test.go.html#6666641">sig</a></span><span class="op" id="6666698">,</span>&nbsp;<span class="ident" id="6666700"><a href="/archive/zip/struct.go.html#6403519">directoryEndSignature</a></span><span class="op" id="6666721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666724">for</span>&nbsp;<span class="ident" id="6666728">i</span>&nbsp;<span class="op" id="6666730">:=</span>&nbsp;<span class="num" id="6666733">0</span><span class="op" id="6666734">;</span>&nbsp;<span class="ident" id="6666736"><a href="/archive/zip/reader_test.go.html#6666728">i</a></span>&nbsp;<span class="op" id="6666738">&lt;</span>&nbsp;<span class="ident" id="6666740"><a href="/archive/zip/reader_test.go.html#6666412">size</a></span><span class="op" id="6666744">-</span><span class="num" id="6666745">4</span><span class="op" id="6666746">;</span>&nbsp;<span class="ident" id="6666748"><a href="/archive/zip/reader_test.go.html#6666728">i</a></span>&nbsp;<span class="op" id="6666750">+=</span>&nbsp;<span class="num" id="6666753">4</span>&nbsp;<span class="op" id="6666755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6666759">copy</span><span class="op" id="6666763">(</span><span class="ident" id="6666764"><a href="/archive/zip/reader_test.go.html#6666438">b</a></span><span class="op" id="6666765">[</span><span class="ident" id="6666766"><a href="/archive/zip/reader_test.go.html#6666728">i</a></span><span class="op" id="6666767">:</span><span class="ident" id="6666768"><a href="/archive/zip/reader_test.go.html#6666728">i</a></span><span class="op" id="6666769">+</span><span class="num" id="6666770">4</span><span class="op" id="6666771">]</span><span class="op" id="6666772">,</span>&nbsp;<span class="ident" id="6666774"><a href="/archive/zip/reader_test.go.html#6666641">sig</a></span><span class="op" id="6666777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666783">_</span><span class="op" id="6666784">,</span>&nbsp;<span class="ident" id="6666786"><a href="/archive/zip/reader_test.go.html#6666478">err</a></span>&nbsp;<span class="op" id="6666790">=</span>&nbsp;<span class="ident" id="6666792"><a href="/archive/zip/reader.go.html#6388809">NewReader</a></span><span class="op" id="6666801">(</span><span class="ident" id="6666802"><a href="/archive/zip/reader_test.go.html#6657688">bytes</a></span><span class="op" id="6666807">.</span><span class="ident" id="6666808">NewReader</span><span class="op" id="6666817">(</span><span class="ident" id="6666818"><a href="/archive/zip/reader_test.go.html#6666438">b</a></span><span class="op" id="6666819">)</span><span class="op" id="6666820">,</span>&nbsp;<span class="ident" id="6666822"><a href="/archive/zip/reader_test.go.html#6666412">size</a></span><span class="op" id="6666826">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666829">if</span>&nbsp;<span class="ident" id="6666832"><a href="/archive/zip/reader_test.go.html#6666478">err</a></span>&nbsp;<span class="op" id="6666836">!=</span>&nbsp;<span class="ident" id="6666839"><a href="/archive/zip/reader.go.html#6387834">ErrFormat</a></span>&nbsp;<span class="op" id="6666849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666853"><a href="/archive/zip/reader_test.go.html#6666389">t</a></span><span class="op" id="6666854">.</span><span class="ident" id="6666855">Errorf</span><span class="op" id="6666861">(</span><span class="string" id="6666862">&#34;sigs:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666887">,</span>&nbsp;<span class="ident" id="6666889"><a href="/archive/zip/reader_test.go.html#6666478">err</a></span><span class="op" id="6666892">,</span>&nbsp;<span class="ident" id="6666894"><a href="/archive/zip/reader.go.html#6387834">ErrFormat</a></span><span class="op" id="6666903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666906">}</span><br>
<span class="lineno"></span><span class="op" id="6666908">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span><span class="keyword" id="6666911">func</span>&nbsp;<span class="ident" id="6666916">messWith</span><span class="op" id="6666924">(</span><span class="ident" id="6666925">fileName</span>&nbsp;<span class="builtintype" id="6666934">string</span><span class="op" id="6666940">,</span>&nbsp;<span class="ident" id="6666942">corrupter</span>&nbsp;<span class="keyword" id="6666952">func</span><span class="op" id="6666956">(</span><span class="ident" id="6666957">b</span>&nbsp;<span class="op" id="6666959">[</span><span class="op" id="6666960">]</span><span class="builtintype" id="6666961">byte</span><span class="op" id="6666965">)</span><span class="op" id="6666966">)</span>&nbsp;<span class="op" id="6666968">(</span><span class="ident" id="6666969">r</span>&nbsp;<span class="ident" id="6666971"><a href="/archive/zip/reader_test.go.html#6657732">io</a></span><span class="op" id="6666973">.</span><span class="ident" id="6666974">ReaderAt</span><span class="op" id="6666982">,</span>&nbsp;<span class="ident" id="6666984">size</span>&nbsp;<span class="ident" id="6666989">int64</span><span class="op" id="6666994">)</span>&nbsp;<span class="op" id="6666996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666999">data</span><span class="op" id="6667003">,</span>&nbsp;<span class="ident" id="6667005">err</span>&nbsp;<span class="op" id="6667009">:=</span>&nbsp;<span class="ident" id="6667012"><a href="/archive/zip/reader_test.go.html#6657738">ioutil</a></span><span class="op" id="6667018">.</span><span class="ident" id="6667019">ReadFile</span><span class="op" id="6667027">(</span><span class="ident" id="6667028"><a href="/archive/zip/reader_test.go.html#6657757">filepath</a></span><span class="op" id="6667036">.</span><span class="ident" id="6667037">Join</span><span class="op" id="6667041">(</span><span class="string" id="6667042">&#34;testdata&#34;</span><span class="op" id="6667052">,</span>&nbsp;<span class="ident" id="6667054"><a href="/archive/zip/reader_test.go.html#6666925">fileName</a></span><span class="op" id="6667062">)</span><span class="op" id="6667063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667066">if</span>&nbsp;<span class="ident" id="6667069"><a href="/archive/zip/reader_test.go.html#6667005">err</a></span>&nbsp;<span class="op" id="6667073">!=</span>&nbsp;<span class="ident" id="6667076">nil</span>&nbsp;<span class="op" id="6667080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6667084">panic</span><span class="op" id="6667089">(</span><span class="string" id="6667090">&#34;Error&nbsp;reading&nbsp;&#34;</span>&nbsp;<span class="op" id="6667107">+</span>&nbsp;<span class="ident" id="6667109"><a href="/archive/zip/reader_test.go.html#6666925">fileName</a></span>&nbsp;<span class="op" id="6667118">+</span>&nbsp;<span class="string" id="6667120">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="6667125">+</span>&nbsp;<span class="ident" id="6667127"><a href="/archive/zip/reader_test.go.html#6667005">err</a></span><span class="op" id="6667130">.</span><span class="ident" id="6667131">Error</span><span class="op" id="6667136">(</span><span class="op" id="6667137">)</span><span class="op" id="6667138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667141">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667144"><a href="/archive/zip/reader_test.go.html#6666942">corrupter</a></span><span class="op" id="6667153">(</span><span class="ident" id="6667154"><a href="/archive/zip/reader_test.go.html#6666999">data</a></span><span class="op" id="6667158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667161">return</span>&nbsp;<span class="ident" id="6667168"><a href="/archive/zip/reader_test.go.html#6657688">bytes</a></span><span class="op" id="6667173">.</span><span class="ident" id="6667174">NewReader</span><span class="op" id="6667183">(</span><span class="ident" id="6667184"><a href="/archive/zip/reader_test.go.html#6666999">data</a></span><span class="op" id="6667188">)</span><span class="op" id="6667189">,</span>&nbsp;<span class="ident" id="6667191">int64</span><span class="op" id="6667196">(</span><span class="builtinfunc" id="6667197">len</span><span class="op" id="6667200">(</span><span class="ident" id="6667201"><a href="/archive/zip/reader_test.go.html#6666999">data</a></span><span class="op" id="6667205">)</span><span class="op" id="6667206">)</span><br>
<span class="lineno"></span><span class="op" id="6667208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6667211">func</span>&nbsp;<span class="ident" id="6667216">returnCorruptCRC32Zip</span><span class="op" id="6667237">(</span><span class="op" id="6667238">)</span>&nbsp;<span class="op" id="6667240">(</span><span class="ident" id="6667241">r</span>&nbsp;<span class="ident" id="6667243"><a href="/archive/zip/reader_test.go.html#6657732">io</a></span><span class="op" id="6667245">.</span><span class="ident" id="6667246">ReaderAt</span><span class="op" id="6667254">,</span>&nbsp;<span class="ident" id="6667256">size</span>&nbsp;<span class="ident" id="6667261">int64</span><span class="op" id="6667266">)</span>&nbsp;<span class="op" id="6667268">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667271">return</span>&nbsp;<span class="ident" id="6667278"><a href="/archive/zip/reader_test.go.html#6666916">messWith</a></span><span class="op" id="6667286">(</span><span class="string" id="6667287">&#34;go-with-datadesc-sig.zip&#34;</span><span class="op" id="6667313">,</span>&nbsp;<span class="keyword" id="6667315">func</span><span class="op" id="6667319">(</span><span class="ident" id="6667320">b</span>&nbsp;<span class="op" id="6667322">[</span><span class="op" id="6667323">]</span><span class="builtintype" id="6667324">byte</span><span class="op" id="6667328">)</span>&nbsp;<span class="op" id="6667330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667334">//&nbsp;Corrupt&nbsp;one&nbsp;of&nbsp;the&nbsp;CRC32s&nbsp;in&nbsp;the&nbsp;data&nbsp;descriptor:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667389"><a href="/archive/zip/reader_test.go.html#6667320">b</a></span><span class="op" id="6667390">[</span><span class="num" id="6667391">0x2d</span><span class="op" id="6667395">]</span><span class="op" id="6667396">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667400">}</span><span class="op" id="6667401">)</span><br>
<span class="lineno"></span><span class="op" id="6667403">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="6667406">func</span>&nbsp;<span class="ident" id="6667411">returnCorruptNotStreamedZip</span><span class="op" id="6667438">(</span><span class="op" id="6667439">)</span>&nbsp;<span class="op" id="6667441">(</span><span class="ident" id="6667442">r</span>&nbsp;<span class="ident" id="6667444"><a href="/archive/zip/reader_test.go.html#6657732">io</a></span><span class="op" id="6667446">.</span><span class="ident" id="6667447">ReaderAt</span><span class="op" id="6667455">,</span>&nbsp;<span class="ident" id="6667457">size</span>&nbsp;<span class="ident" id="6667462">int64</span><span class="op" id="6667467">)</span>&nbsp;<span class="op" id="6667469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667472">return</span>&nbsp;<span class="ident" id="6667479"><a href="/archive/zip/reader_test.go.html#6666916">messWith</a></span><span class="op" id="6667487">(</span><span class="string" id="6667488">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="6667512">,</span>&nbsp;<span class="keyword" id="6667514">func</span><span class="op" id="6667518">(</span><span class="ident" id="6667519">b</span>&nbsp;<span class="op" id="6667521">[</span><span class="op" id="6667522">]</span><span class="builtintype" id="6667523">byte</span><span class="op" id="6667527">)</span>&nbsp;<span class="op" id="6667529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667533">//&nbsp;Corrupt&nbsp;foo.txt&#39;s&nbsp;final&nbsp;crc32&nbsp;byte,&nbsp;in&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667582">//&nbsp;the&nbsp;file&nbsp;header&nbsp;and&nbsp;TOC.&nbsp;(0x7e&nbsp;-&gt;&nbsp;0x7f)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667627"><a href="/archive/zip/reader_test.go.html#6667519">b</a></span><span class="op" id="6667628">[</span><span class="num" id="6667629">0x11</span><span class="op" id="6667633">]</span><span class="op" id="6667634">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667639"><a href="/archive/zip/reader_test.go.html#6667519">b</a></span><span class="op" id="6667640">[</span><span class="num" id="6667641">0x9d</span><span class="op" id="6667645">]</span><span class="op" id="6667646">++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667652">//&nbsp;TODO(bradfitz):&nbsp;add&nbsp;a&nbsp;new&nbsp;test&nbsp;that&nbsp;only&nbsp;corrupts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667707">//&nbsp;one&nbsp;of&nbsp;these&nbsp;values,&nbsp;and&nbsp;verify&nbsp;that&nbsp;that&#39;s&nbsp;also&nbsp;an</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667764">//&nbsp;error.&nbsp;Currently,&nbsp;the&nbsp;reader&nbsp;code&nbsp;doesn&#39;t&nbsp;verify&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667822">//&nbsp;fileheader&nbsp;and&nbsp;TOC&#39;s&nbsp;crc32&nbsp;match&nbsp;if&nbsp;they&#39;re&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667876">//&nbsp;non-zero&nbsp;and&nbsp;only&nbsp;the&nbsp;second&nbsp;line&nbsp;above,&nbsp;the&nbsp;TOC,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6667931">//&nbsp;is&nbsp;what&nbsp;matters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667952">}</span><span class="op" id="6667953">)</span><br>
<span class="lineno">465</span><span class="op" id="6667955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6667958">//&nbsp;rZipBytes&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;recursive&nbsp;zip&nbsp;file,&nbsp;without</span><br>
<span class="lineno"></span><span class="comment" id="6668022">//&nbsp;putting&nbsp;it&nbsp;on&nbsp;disk&nbsp;and&nbsp;triggering&nbsp;certain&nbsp;virus&nbsp;scanners.</span><br>
<span class="lineno"></span><span class="keyword" id="6668083">func</span>&nbsp;<span class="ident" id="6668088">rZipBytes</span><span class="op" id="6668097">(</span><span class="op" id="6668098">)</span>&nbsp;<span class="op" id="6668100">[</span><span class="op" id="6668101">]</span><span class="builtintype" id="6668102">byte</span>&nbsp;<span class="op" id="6668107">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668110">s</span>&nbsp;<span class="op" id="6668112">:=</span>&nbsp;<span class="string" id="6668115">`<br>
<span class="lineno"></span>0000000&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4<br>
<span class="lineno"></span>0000010&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f<br>
<span class="lineno"></span>0000020&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00&nbsp;25&nbsp;00&nbsp;da&nbsp;ff&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00<br>
<span class="lineno"></span>0000030&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00<br>
<span class="lineno">475</span>0000040&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00<br>
<span class="lineno"></span>0000050&nbsp;2f&nbsp;00&nbsp;d0&nbsp;ff&nbsp;00&nbsp;25&nbsp;00&nbsp;da&nbsp;ff&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000060&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8<br>
<span class="lineno"></span>0000070&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00&nbsp;2f<br>
<span class="lineno"></span>0000080&nbsp;00&nbsp;d0&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e<br>
<span class="lineno">480</span>0000090&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;14&nbsp;00&nbsp;eb<br>
<span class="lineno"></span>00000a0&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff<br>
<span class="lineno"></span>00000b0&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42<br>
<span class="lineno"></span>00000c0&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14<br>
<span class="lineno"></span>00000d0&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21<br>
<span class="lineno">485</span>00000e0&nbsp;c4&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;34&nbsp;00&nbsp;cb<br>
<span class="lineno"></span>00000f0&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff<br>
<span class="lineno"></span>0000100&nbsp;00&nbsp;34&nbsp;00&nbsp;cb&nbsp;ff&nbsp;42&nbsp;e8&nbsp;21&nbsp;5e&nbsp;0f&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;0a<br>
<span class="lineno"></span>0000110&nbsp;f0&nbsp;66&nbsp;64&nbsp;12&nbsp;61&nbsp;c0&nbsp;15&nbsp;dc&nbsp;e8&nbsp;a0&nbsp;48&nbsp;bf&nbsp;48&nbsp;af&nbsp;2a&nbsp;b3<br>
<span class="lineno"></span>0000120&nbsp;20&nbsp;c0&nbsp;9b&nbsp;95&nbsp;0d&nbsp;c4&nbsp;67&nbsp;04&nbsp;42&nbsp;53&nbsp;06&nbsp;06&nbsp;06&nbsp;40&nbsp;00&nbsp;06<br>
<span class="lineno">490</span>0000130&nbsp;00&nbsp;f9&nbsp;ff&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;42&nbsp;e8&nbsp;21&nbsp;5e&nbsp;0f&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000140&nbsp;00&nbsp;ff&nbsp;ff&nbsp;0a&nbsp;f0&nbsp;66&nbsp;64&nbsp;12&nbsp;61&nbsp;c0&nbsp;15&nbsp;dc&nbsp;e8&nbsp;a0&nbsp;48&nbsp;bf<br>
<span class="lineno"></span>0000150&nbsp;48&nbsp;af&nbsp;2a&nbsp;b3&nbsp;20&nbsp;c0&nbsp;9b&nbsp;95&nbsp;0d&nbsp;c4&nbsp;67&nbsp;04&nbsp;42&nbsp;53&nbsp;06&nbsp;06<br>
<span class="lineno"></span>0000160&nbsp;06&nbsp;40&nbsp;00&nbsp;06&nbsp;00&nbsp;f9&nbsp;ff&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;50&nbsp;4b&nbsp;01<br>
<span class="lineno"></span>0000170&nbsp;02&nbsp;14&nbsp;00&nbsp;14&nbsp;00&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89<br>
<span class="lineno">495</span>0000180&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000190&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a<br>
<span class="lineno"></span>00001a0&nbsp;69&nbsp;70&nbsp;50&nbsp;4b&nbsp;05&nbsp;06&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;01&nbsp;00&nbsp;01&nbsp;00&nbsp;35&nbsp;00<br>
<span class="lineno"></span>00001b0&nbsp;00&nbsp;00&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669663"><a href="/archive/zip/reader_test.go.html#6668110">s</a></span>&nbsp;<span class="op" id="6669665">=</span>&nbsp;<span class="ident" id="6669667"><a href="/archive/zip/reader_test.go.html#6657774">regexp</a></span><span class="op" id="6669673">.</span><span class="ident" id="6669674">MustCompile</span><span class="op" id="6669685">(</span><span class="string" id="6669686">`[0-9a-f]{7}`</span><span class="op" id="6669699">)</span><span class="op" id="6669700">.</span><span class="ident" id="6669701">ReplaceAllString</span><span class="op" id="6669717">(</span><span class="ident" id="6669718"><a href="/archive/zip/reader_test.go.html#6668110">s</a></span><span class="op" id="6669719">,</span>&nbsp;<span class="string" id="6669721">&#34;&#34;</span><span class="op" id="6669723">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669726"><a href="/archive/zip/reader_test.go.html#6668110">s</a></span>&nbsp;<span class="op" id="6669728">=</span>&nbsp;<span class="ident" id="6669730"><a href="/archive/zip/reader_test.go.html#6657774">regexp</a></span><span class="op" id="6669736">.</span><span class="ident" id="6669737">MustCompile</span><span class="op" id="6669748">(</span><span class="string" id="6669749">`\s+`</span><span class="op" id="6669754">)</span><span class="op" id="6669755">.</span><span class="ident" id="6669756">ReplaceAllString</span><span class="op" id="6669772">(</span><span class="ident" id="6669773"><a href="/archive/zip/reader_test.go.html#6668110">s</a></span><span class="op" id="6669774">,</span>&nbsp;<span class="string" id="6669776">&#34;&#34;</span><span class="op" id="6669778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669781">b</span><span class="op" id="6669782">,</span>&nbsp;<span class="ident" id="6669784">err</span>&nbsp;<span class="op" id="6669788">:=</span>&nbsp;<span class="ident" id="6669791"><a href="/archive/zip/reader_test.go.html#6657716">hex</a></span><span class="op" id="6669794">.</span><span class="ident" id="6669795">DecodeString</span><span class="op" id="6669807">(</span><span class="ident" id="6669808"><a href="/archive/zip/reader_test.go.html#6668110">s</a></span><span class="op" id="6669809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669812">if</span>&nbsp;<span class="ident" id="6669815"><a href="/archive/zip/reader_test.go.html#6669784">err</a></span>&nbsp;<span class="op" id="6669819">!=</span>&nbsp;<span class="ident" id="6669822">nil</span>&nbsp;<span class="op" id="6669826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6669830">panic</span><span class="op" id="6669835">(</span><span class="ident" id="6669836"><a href="/archive/zip/reader_test.go.html#6669784">err</a></span><span class="op" id="6669839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669842">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669845">return</span>&nbsp;<span class="ident" id="6669852"><a href="/archive/zip/reader_test.go.html#6669781">b</a></span><br>
<span class="lineno"></span><span class="op" id="6669854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669857">func</span>&nbsp;<span class="ident" id="6669862">returnRecursiveZip</span><span class="op" id="6669880">(</span><span class="op" id="6669881">)</span>&nbsp;<span class="op" id="6669883">(</span><span class="ident" id="6669884">r</span>&nbsp;<span class="ident" id="6669886"><a href="/archive/zip/reader_test.go.html#6657732">io</a></span><span class="op" id="6669888">.</span><span class="ident" id="6669889">ReaderAt</span><span class="op" id="6669897">,</span>&nbsp;<span class="ident" id="6669899">size</span>&nbsp;<span class="ident" id="6669904">int64</span><span class="op" id="6669909">)</span>&nbsp;<span class="op" id="6669911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669914">b</span>&nbsp;<span class="op" id="6669916">:=</span>&nbsp;<span class="ident" id="6669919"><a href="/archive/zip/reader_test.go.html#6668088">rZipBytes</a></span><span class="op" id="6669928">(</span><span class="op" id="6669929">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669932">return</span>&nbsp;<span class="ident" id="6669939"><a href="/archive/zip/reader_test.go.html#6657688">bytes</a></span><span class="op" id="6669944">.</span><span class="ident" id="6669945">NewReader</span><span class="op" id="6669954">(</span><span class="ident" id="6669955"><a href="/archive/zip/reader_test.go.html#6669914">b</a></span><span class="op" id="6669956">)</span><span class="op" id="6669957">,</span>&nbsp;<span class="ident" id="6669959">int64</span><span class="op" id="6669964">(</span><span class="builtinfunc" id="6669965">len</span><span class="op" id="6669968">(</span><span class="ident" id="6669969"><a href="/archive/zip/reader_test.go.html#6669914">b</a></span><span class="op" id="6669970">)</span><span class="op" id="6669971">)</span><br>
<span class="lineno"></span><span class="op" id="6669973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669976">func</span>&nbsp;<span class="ident" id="6669981">TestIssue8186</span><span class="op" id="6669994">(</span><span class="ident" id="6669995">t</span>&nbsp;<span class="op" id="6669997">*</span><span class="ident" id="6669998"><a href="/archive/zip/reader_test.go.html#6657795">testing</a></span><span class="op" id="6670005">.</span><span class="ident" id="6670006">T</span><span class="op" id="6670007">)</span>&nbsp;<span class="op" id="6670009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6670012">//&nbsp;Directory&nbsp;headers&nbsp;&amp;&nbsp;data&nbsp;found&nbsp;in&nbsp;the&nbsp;TOC&nbsp;of&nbsp;a&nbsp;JAR&nbsp;file.</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6670073">dirEnts</span>&nbsp;<span class="op" id="6670081">:=</span>&nbsp;<span class="op" id="6670084">[</span><span class="op" id="6670085">]</span><span class="builtintype" id="6670086">string</span><span class="op" id="6670092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670096">&#34;PK\x01\x02\n\x00\n\x00\x00\b\x00\x004\x9d3?\xaa\x1b\x06\xf0\x81\x02\x00\x00\x81\x02\x00\x00-\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00res/drawable-xhdpi-v4/ic_actionbar_accept.png\xfe\xca\x00\x00\x00&#34;</span><span class="op" id="6670323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670327">&#34;PK\x01\x02\n\x00\n\x00\x00\b\x00\x004\x9d3?\x90K\x89\xc7t\n\x00\x00t\n\x00\x00\x0e\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xd1\x02\x00\x00resources.arsc\x00\x00\x00&#34;</span><span class="op" id="6670505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670509">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xff$\x18\xed3\x03\x00\x00\xb4\b\x00\x00\x13\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00t\r\x00\x00AndroidManifest.xml&#34;</span><span class="op" id="6670680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670684">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\x14\xc5K\xab\x192\x02\x00\xc8\xcd\x04\x00\v\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xe8\x10\x00\x00classes.dex&#34;</span><span class="op" id="6670852">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670856">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?E\x96\nD\xac\x01\x00\x00P\x03\x00\x00&amp;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:C\x02\x00res/layout/actionbar_set_wallpaper.xml&#34;</span><span class="op" id="6671039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671043">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\x14\xe3\xd8\x01\x00\x00\xd8\x03\x00\x00&nbsp;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:E\x02\x00res/layout/wallpaper_cropper.xml&#34;</span><span class="op" id="6671225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671229">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?}\xc1\x15\x9eZ\x01\x00\x00!\x02\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00`G\x02\x00META-INF/MANIFEST.MF&#34;</span><span class="op" id="6671399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671403">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xe6\x98o\x01\x00\x00\x84\x02\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfcH\x02\x00META-INF/CERT.SF&#34;</span><span class="op" id="6671572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671576">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xbfP\x96b\x86\x04\x00\x00\xb2\x06\x00\x00\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa9J\x02\x00META-INF/CERT.RSA&#34;</span><span class="op" id="6671749">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671755">for</span>&nbsp;<span class="ident" id="6671759">i</span><span class="op" id="6671760">,</span>&nbsp;<span class="ident" id="6671762">s</span>&nbsp;<span class="op" id="6671764">:=</span>&nbsp;<span class="keyword" id="6671767">range</span>&nbsp;<span class="ident" id="6671773"><a href="/archive/zip/reader_test.go.html#6670073">dirEnts</a></span>&nbsp;<span class="op" id="6671781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671785">var</span>&nbsp;<span class="ident" id="6671789">f</span>&nbsp;<span class="ident" id="6671791"><a href="/archive/zip/reader.go.html#6388142">File</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671798">err</span>&nbsp;<span class="op" id="6671802">:=</span>&nbsp;<span class="ident" id="6671805"><a href="/archive/zip/reader.go.html#6392814">readDirectoryHeader</a></span><span class="op" id="6671824">(</span><span class="op" id="6671825">&amp;</span><span class="ident" id="6671826"><a href="/archive/zip/reader_test.go.html#6671789">f</a></span><span class="op" id="6671827">,</span>&nbsp;<span class="ident" id="6671829"><a href="/archive/zip/reader_test.go.html#6657784">strings</a></span><span class="op" id="6671836">.</span><span class="ident" id="6671837">NewReader</span><span class="op" id="6671846">(</span><span class="ident" id="6671847"><a href="/archive/zip/reader_test.go.html#6671762">s</a></span><span class="op" id="6671848">)</span><span class="op" id="6671849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671853">if</span>&nbsp;<span class="ident" id="6671856"><a href="/archive/zip/reader_test.go.html#6671798">err</a></span>&nbsp;<span class="op" id="6671860">!=</span>&nbsp;<span class="ident" id="6671863">nil</span>&nbsp;<span class="op" id="6671867">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671872"><a href="/archive/zip/reader_test.go.html#6669995">t</a></span><span class="op" id="6671873">.</span><span class="ident" id="6671874">Errorf</span><span class="op" id="6671880">(</span><span class="string" id="6671881">&#34;error&nbsp;reading&nbsp;#%d:&nbsp;%v&#34;</span><span class="op" id="6671904">,</span>&nbsp;<span class="ident" id="6671906"><a href="/archive/zip/reader_test.go.html#6671759">i</a></span><span class="op" id="6671907">,</span>&nbsp;<span class="ident" id="6671909"><a href="/archive/zip/reader_test.go.html#6671798">err</a></span><span class="op" id="6671912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671919">}</span><br>
<span class="lineno"></span><span class="op" id="6671921">}</span>
</div>
</body>
</html>
