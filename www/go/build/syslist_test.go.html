<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7950989">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7951045">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7951099">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7951150">package</span>&nbsp;<span class="ident" id="7951158">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951165">import</span>&nbsp;<span class="op" id="7951172">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7951175">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7951186">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7951196">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951199">var</span>&nbsp;<span class="op" id="7951203">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951206">thisOS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7951216">=</span>&nbsp;<span class="ident" id="7951218">runtime</span><span class="op" id="7951225">.</span><span class="ident" id="7951226">GOOS</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951232">thisArch</span>&nbsp;&nbsp;<span class="op" id="7951242">=</span>&nbsp;<span class="ident" id="7951244">runtime</span><span class="op" id="7951251">.</span><span class="ident" id="7951252">GOARCH</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951260">otherOS</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7951270">=</span>&nbsp;<span class="ident" id="7951272">anotherOS</span><span class="op" id="7951281">(</span><span class="op" id="7951282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951285">otherArch</span>&nbsp;<span class="op" id="7951295">=</span>&nbsp;<span class="ident" id="7951297">anotherArch</span><span class="op" id="7951308">(</span><span class="op" id="7951309">)</span><br>
<span class="lineno"></span><span class="op" id="7951311">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951314">func</span>&nbsp;<span class="ident" id="7951319">anotherOS</span><span class="op" id="7951328">(</span><span class="op" id="7951329">)</span>&nbsp;<span class="builtintype" id="7951331">string</span>&nbsp;<span class="op" id="7951338">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951341">if</span>&nbsp;<span class="ident" id="7951344">thisOS</span>&nbsp;<span class="op" id="7951351">!=</span>&nbsp;<span class="string" id="7951354">&#34;darwin&#34;</span>&nbsp;<span class="op" id="7951363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951367">return</span>&nbsp;<span class="string" id="7951374">&#34;darwin&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951387">return</span>&nbsp;<span class="string" id="7951394">&#34;linux&#34;</span><br>
<span class="lineno"></span><span class="op" id="7951402">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7951405">func</span>&nbsp;<span class="ident" id="7951410">anotherArch</span><span class="op" id="7951421">(</span><span class="op" id="7951422">)</span>&nbsp;<span class="builtintype" id="7951424">string</span>&nbsp;<span class="op" id="7951431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951434">if</span>&nbsp;<span class="ident" id="7951437">thisArch</span>&nbsp;<span class="op" id="7951446">!=</span>&nbsp;<span class="string" id="7951449">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7951457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951461">return</span>&nbsp;<span class="string" id="7951468">&#34;amd64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951477">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7951480">return</span>&nbsp;<span class="string" id="7951487">&#34;386&#34;</span><br>
<span class="lineno"></span><span class="op" id="7951493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951496">type</span>&nbsp;<span class="ident" id="7951501">GoodFileTest</span>&nbsp;<span class="keyword" id="7951514">struct</span>&nbsp;<span class="op" id="7951521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951524">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7951531">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7951539">result</span>&nbsp;<span class="builtintype" id="7951546">bool</span><br>
<span class="lineno"></span><span class="op" id="7951551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7951554">var</span>&nbsp;<span class="ident" id="7951558">tests</span>&nbsp;<span class="op" id="7951564">=</span>&nbsp;<span class="op" id="7951566">[</span><span class="op" id="7951567">]</span><span class="ident" id="7951568">GoodFileTest</span><span class="op" id="7951580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951583">{</span><span class="string" id="7951584">&#34;file.go&#34;</span><span class="op" id="7951593">,</span>&nbsp;<span class="ident" id="7951595">true</span><span class="op" id="7951599">}</span><span class="op" id="7951600">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951603">{</span><span class="string" id="7951604">&#34;file.c&#34;</span><span class="op" id="7951612">,</span>&nbsp;<span class="ident" id="7951614">true</span><span class="op" id="7951618">}</span><span class="op" id="7951619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951622">{</span><span class="string" id="7951623">&#34;file_foo.go&#34;</span><span class="op" id="7951636">,</span>&nbsp;<span class="ident" id="7951638">true</span><span class="op" id="7951642">}</span><span class="op" id="7951643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951646">{</span><span class="string" id="7951647">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951655">+</span>&nbsp;<span class="ident" id="7951657">thisArch</span>&nbsp;<span class="op" id="7951666">+</span>&nbsp;<span class="string" id="7951668">&#34;.go&#34;</span><span class="op" id="7951673">,</span>&nbsp;<span class="ident" id="7951675">true</span><span class="op" id="7951679">}</span><span class="op" id="7951680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951683">{</span><span class="string" id="7951684">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951692">+</span>&nbsp;<span class="ident" id="7951694">otherArch</span>&nbsp;<span class="op" id="7951704">+</span>&nbsp;<span class="string" id="7951706">&#34;.go&#34;</span><span class="op" id="7951711">,</span>&nbsp;<span class="ident" id="7951713">false</span><span class="op" id="7951718">}</span><span class="op" id="7951719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951722">{</span><span class="string" id="7951723">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951731">+</span>&nbsp;<span class="ident" id="7951733">thisOS</span>&nbsp;<span class="op" id="7951740">+</span>&nbsp;<span class="string" id="7951742">&#34;.go&#34;</span><span class="op" id="7951747">,</span>&nbsp;<span class="ident" id="7951749">true</span><span class="op" id="7951753">}</span><span class="op" id="7951754">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951757">{</span><span class="string" id="7951758">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951766">+</span>&nbsp;<span class="ident" id="7951768">otherOS</span>&nbsp;<span class="op" id="7951776">+</span>&nbsp;<span class="string" id="7951778">&#34;.go&#34;</span><span class="op" id="7951783">,</span>&nbsp;<span class="ident" id="7951785">false</span><span class="op" id="7951790">}</span><span class="op" id="7951791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951794">{</span><span class="string" id="7951795">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951803">+</span>&nbsp;<span class="ident" id="7951805">thisOS</span>&nbsp;<span class="op" id="7951812">+</span>&nbsp;<span class="string" id="7951814">&#34;_&#34;</span>&nbsp;<span class="op" id="7951818">+</span>&nbsp;<span class="ident" id="7951820">thisArch</span>&nbsp;<span class="op" id="7951829">+</span>&nbsp;<span class="string" id="7951831">&#34;.go&#34;</span><span class="op" id="7951836">,</span>&nbsp;<span class="ident" id="7951838">true</span><span class="op" id="7951842">}</span><span class="op" id="7951843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951846">{</span><span class="string" id="7951847">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951855">+</span>&nbsp;<span class="ident" id="7951857">otherOS</span>&nbsp;<span class="op" id="7951865">+</span>&nbsp;<span class="string" id="7951867">&#34;_&#34;</span>&nbsp;<span class="op" id="7951871">+</span>&nbsp;<span class="ident" id="7951873">thisArch</span>&nbsp;<span class="op" id="7951882">+</span>&nbsp;<span class="string" id="7951884">&#34;.go&#34;</span><span class="op" id="7951889">,</span>&nbsp;<span class="ident" id="7951891">false</span><span class="op" id="7951896">}</span><span class="op" id="7951897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951900">{</span><span class="string" id="7951901">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951909">+</span>&nbsp;<span class="ident" id="7951911">thisOS</span>&nbsp;<span class="op" id="7951918">+</span>&nbsp;<span class="string" id="7951920">&#34;_&#34;</span>&nbsp;<span class="op" id="7951924">+</span>&nbsp;<span class="ident" id="7951926">otherArch</span>&nbsp;<span class="op" id="7951936">+</span>&nbsp;<span class="string" id="7951938">&#34;.go&#34;</span><span class="op" id="7951943">,</span>&nbsp;<span class="ident" id="7951945">false</span><span class="op" id="7951950">}</span><span class="op" id="7951951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7951954">{</span><span class="string" id="7951955">&#34;file_&#34;</span>&nbsp;<span class="op" id="7951963">+</span>&nbsp;<span class="ident" id="7951965">otherOS</span>&nbsp;<span class="op" id="7951973">+</span>&nbsp;<span class="string" id="7951975">&#34;_&#34;</span>&nbsp;<span class="op" id="7951979">+</span>&nbsp;<span class="ident" id="7951981">otherArch</span>&nbsp;<span class="op" id="7951991">+</span>&nbsp;<span class="string" id="7951993">&#34;.go&#34;</span><span class="op" id="7951998">,</span>&nbsp;<span class="ident" id="7952000">false</span><span class="op" id="7952005">}</span><span class="op" id="7952006">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952009">{</span><span class="string" id="7952010">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7952022">+</span>&nbsp;<span class="ident" id="7952024">thisArch</span>&nbsp;<span class="op" id="7952033">+</span>&nbsp;<span class="string" id="7952035">&#34;.go&#34;</span><span class="op" id="7952040">,</span>&nbsp;<span class="ident" id="7952042">true</span><span class="op" id="7952046">}</span><span class="op" id="7952047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952050">{</span><span class="string" id="7952051">&#34;file_foo_&#34;</span>&nbsp;<span class="op" id="7952063">+</span>&nbsp;<span class="ident" id="7952065">otherArch</span>&nbsp;<span class="op" id="7952075">+</span>&nbsp;<span class="string" id="7952077">&#34;.go&#34;</span><span class="op" id="7952082">,</span>&nbsp;<span class="ident" id="7952084">false</span><span class="op" id="7952089">}</span><span class="op" id="7952090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952093">{</span><span class="string" id="7952094">&#34;file_&#34;</span>&nbsp;<span class="op" id="7952102">+</span>&nbsp;<span class="ident" id="7952104">thisOS</span>&nbsp;<span class="op" id="7952111">+</span>&nbsp;<span class="string" id="7952113">&#34;.c&#34;</span><span class="op" id="7952117">,</span>&nbsp;<span class="ident" id="7952119">true</span><span class="op" id="7952123">}</span><span class="op" id="7952124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952127">{</span><span class="string" id="7952128">&#34;file_&#34;</span>&nbsp;<span class="op" id="7952136">+</span>&nbsp;<span class="ident" id="7952138">otherOS</span>&nbsp;<span class="op" id="7952146">+</span>&nbsp;<span class="string" id="7952148">&#34;.c&#34;</span><span class="op" id="7952152">,</span>&nbsp;<span class="ident" id="7952154">false</span><span class="op" id="7952159">}</span><span class="op" id="7952160">,</span><br>
<span class="lineno"></span><span class="op" id="7952162">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="7952165">func</span>&nbsp;<span class="ident" id="7952170">TestGoodOSArch</span><span class="op" id="7952184">(</span><span class="ident" id="7952185">t</span>&nbsp;<span class="op" id="7952187">*</span><span class="ident" id="7952188">testing</span><span class="op" id="7952195">.</span><span class="ident" id="7952196">T</span><span class="op" id="7952197">)</span>&nbsp;<span class="op" id="7952199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7952202">for</span>&nbsp;<span class="ident" id="7952206">_</span><span class="op" id="7952207">,</span>&nbsp;<span class="ident" id="7952209">test</span>&nbsp;<span class="op" id="7952214">:=</span>&nbsp;<span class="keyword" id="7952217">range</span>&nbsp;<span class="ident" id="7952223">tests</span>&nbsp;<span class="op" id="7952229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7952233">if</span>&nbsp;<span class="ident" id="7952236">Default</span><span class="op" id="7952243">.</span><span class="ident" id="7952244">goodOSArchFile</span><span class="op" id="7952258">(</span><span class="ident" id="7952259">test</span><span class="op" id="7952263">.</span><span class="ident" id="7952264">name</span><span class="op" id="7952268">,</span>&nbsp;<span class="builtinfunc" id="7952270">make</span><span class="op" id="7952274">(</span><span class="keyword" id="7952275">map</span><span class="op" id="7952278">[</span><span class="builtintype" id="7952279">string</span><span class="op" id="7952285">]</span><span class="builtintype" id="7952286">bool</span><span class="op" id="7952290">)</span><span class="op" id="7952291">)</span>&nbsp;<span class="op" id="7952293">!=</span>&nbsp;<span class="ident" id="7952296">test</span><span class="op" id="7952300">.</span><span class="ident" id="7952301">result</span>&nbsp;<span class="op" id="7952308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952313">t</span><span class="op" id="7952314">.</span><span class="ident" id="7952315">Fatalf</span><span class="op" id="7952321">(</span><span class="string" id="7952322">&#34;goodOSArchFile(%q)&nbsp;!=&nbsp;%v&#34;</span><span class="op" id="7952348">,</span>&nbsp;<span class="ident" id="7952350">test</span><span class="op" id="7952354">.</span><span class="ident" id="7952355">name</span><span class="op" id="7952359">,</span>&nbsp;<span class="ident" id="7952361">test</span><span class="op" id="7952365">.</span><span class="ident" id="7952366">result</span><span class="op" id="7952372">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7952379">}</span><br>
<span class="lineno"></span><span class="op" id="7952381">}</span>
</div>
</body>
</html>
