<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html" class="current">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6203712">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6203768">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6203822">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6203873">package</span>&nbsp;<span class="ident" id="6203881">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6203886">import</span>&nbsp;<span class="op" id="6203893">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203896">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203905">&#34;encoding&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203917">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203927">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203934">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203945">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6203956">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="6203966">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6203969">//&nbsp;BUG(rsc):&nbsp;Mapping&nbsp;between&nbsp;XML&nbsp;elements&nbsp;and&nbsp;data&nbsp;structures&nbsp;is&nbsp;inherently&nbsp;flawed:</span><br>
<span class="lineno"></span><span class="comment" id="6204053">//&nbsp;an&nbsp;XML&nbsp;element&nbsp;is&nbsp;an&nbsp;order-dependent&nbsp;collection&nbsp;of&nbsp;anonymous</span><br>
<span class="lineno"></span><span class="comment" id="6204117">//&nbsp;values,&nbsp;while&nbsp;a&nbsp;data&nbsp;structure&nbsp;is&nbsp;an&nbsp;order-independent&nbsp;collection</span><br>
<span class="lineno">20</span><span class="comment" id="6204186">//&nbsp;of&nbsp;named&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="6204206">//&nbsp;See&nbsp;package&nbsp;json&nbsp;for&nbsp;a&nbsp;textual&nbsp;representation&nbsp;more&nbsp;suitable</span><br>
<span class="lineno"></span><span class="comment" id="6204269">//&nbsp;to&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6204293">//&nbsp;Unmarshal&nbsp;parses&nbsp;the&nbsp;XML-encoded&nbsp;data&nbsp;and&nbsp;stores&nbsp;the&nbsp;result&nbsp;in</span><br>
<span class="lineno">25</span><span class="comment" id="6204359">//&nbsp;the&nbsp;value&nbsp;pointed&nbsp;to&nbsp;by&nbsp;v,&nbsp;which&nbsp;must&nbsp;be&nbsp;an&nbsp;arbitrary&nbsp;struct,</span><br>
<span class="lineno"></span><span class="comment" id="6204424">//&nbsp;slice,&nbsp;or&nbsp;string.&nbsp;Well-formed&nbsp;data&nbsp;that&nbsp;does&nbsp;not&nbsp;fit&nbsp;into&nbsp;v&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6204490">//&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="6204504">//</span><br>
<span class="lineno"></span><span class="comment" id="6204507">//&nbsp;Because&nbsp;Unmarshal&nbsp;uses&nbsp;the&nbsp;reflect&nbsp;package,&nbsp;it&nbsp;can&nbsp;only&nbsp;assign</span><br>
<span class="lineno">30</span><span class="comment" id="6204573">//&nbsp;to&nbsp;exported&nbsp;(upper&nbsp;case)&nbsp;fields.&nbsp;&nbsp;Unmarshal&nbsp;uses&nbsp;a&nbsp;case-sensitive</span><br>
<span class="lineno"></span><span class="comment" id="6204642">//&nbsp;comparison&nbsp;to&nbsp;match&nbsp;XML&nbsp;element&nbsp;names&nbsp;to&nbsp;tag&nbsp;values&nbsp;and&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="6204708">//&nbsp;field&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="6204724">//</span><br>
<span class="lineno"></span><span class="comment" id="6204727">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;struct&nbsp;using&nbsp;the&nbsp;following&nbsp;rules.</span><br>
<span class="lineno">35</span><span class="comment" id="6204799">//&nbsp;In&nbsp;the&nbsp;rules,&nbsp;the&nbsp;tag&nbsp;of&nbsp;a&nbsp;field&nbsp;refers&nbsp;to&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6204875">//&nbsp;key&nbsp;&#39;xml&#39;&nbsp;in&nbsp;the&nbsp;struct&nbsp;field&#39;s&nbsp;tag&nbsp;(see&nbsp;the&nbsp;example&nbsp;above).</span><br>
<span class="lineno"></span><span class="comment" id="6204939">//</span><br>
<span class="lineno"></span><span class="comment" id="6204942">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;of&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string&nbsp;with&nbsp;tag</span><br>
<span class="lineno"></span><span class="comment" id="6205009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;,innerxml&#34;,&nbsp;Unmarshal&nbsp;accumulates&nbsp;the&nbsp;raw&nbsp;XML&nbsp;nested&nbsp;inside&nbsp;the</span><br>
<span class="lineno">40</span><span class="comment" id="6205082">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;in&nbsp;that&nbsp;field.&nbsp;&nbsp;The&nbsp;rest&nbsp;of&nbsp;the&nbsp;rules&nbsp;still&nbsp;apply.</span><br>
<span class="lineno"></span><span class="comment" id="6205149">//</span><br>
<span class="lineno"></span><span class="comment" id="6205152">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;named&nbsp;XMLName&nbsp;of&nbsp;type&nbsp;xml.Name,</span><br>
<span class="lineno"></span><span class="comment" id="6205217">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unmarshal&nbsp;records&nbsp;the&nbsp;element&nbsp;name&nbsp;in&nbsp;that&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="6205275">//</span><br>
<span class="lineno">45</span><span class="comment" id="6205278">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XMLName&nbsp;field&nbsp;has&nbsp;an&nbsp;associated&nbsp;tag&nbsp;of&nbsp;the&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="6205340">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;name&#34;&nbsp;or&nbsp;&#34;namespace-URL&nbsp;name&#34;,&nbsp;the&nbsp;XML&nbsp;element&nbsp;must&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="6205406">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;name&nbsp;(and,&nbsp;optionally,&nbsp;name&nbsp;space)&nbsp;or&nbsp;else&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="6205477">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="6205503">//</span><br>
<span class="lineno">50</span><span class="comment" id="6205506">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;has&nbsp;an&nbsp;attribute&nbsp;whose&nbsp;name&nbsp;matches&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6205570">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;field&nbsp;name&nbsp;with&nbsp;an&nbsp;associated&nbsp;tag&nbsp;containing&nbsp;&#34;,attr&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="6205641">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;explicit&nbsp;name&nbsp;in&nbsp;a&nbsp;struct&nbsp;field&nbsp;tag&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;name,attr&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="6205714">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unmarshal&nbsp;records&nbsp;the&nbsp;attribute&nbsp;value&nbsp;in&nbsp;that&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="6205775">//</span><br>
<span class="lineno">55</span><span class="comment" id="6205778">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;character&nbsp;data,&nbsp;that&nbsp;data&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6205842">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accumulated&nbsp;in&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;that&nbsp;has&nbsp;tag&nbsp;&#34;,chardata&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="6205914">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;struct&nbsp;field&nbsp;may&nbsp;have&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6205971">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;field,&nbsp;the&nbsp;character&nbsp;data&nbsp;is&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="6206039">//</span><br>
<span class="lineno">60</span><span class="comment" id="6206042">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;comments,&nbsp;they&nbsp;are&nbsp;accumulated&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6206111">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;that&nbsp;has&nbsp;tag&nbsp;&#34;,comment&#34;.&nbsp;&nbsp;The&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="6206179">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;may&nbsp;have&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string.&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="6206246">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field,&nbsp;the&nbsp;comments&nbsp;are&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="6206289">//</span><br>
<span class="lineno">65</span><span class="comment" id="6206292">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="6206360">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;prefix&nbsp;of&nbsp;a&nbsp;tag&nbsp;formatted&nbsp;as&nbsp;&#34;a&#34;&nbsp;or&nbsp;&#34;a&gt;b&gt;c&#34;,&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="6206427">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;descend&nbsp;into&nbsp;the&nbsp;XML&nbsp;structure&nbsp;looking&nbsp;for&nbsp;elements&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6206501">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given&nbsp;names,&nbsp;and&nbsp;will&nbsp;map&nbsp;the&nbsp;innermost&nbsp;elements&nbsp;to&nbsp;that&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="6206573">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field.&nbsp;A&nbsp;tag&nbsp;starting&nbsp;with&nbsp;&#34;&gt;&#34;&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;one&nbsp;starting</span><br>
<span class="lineno">70</span><span class="comment" id="6206642">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;field&nbsp;name&nbsp;followed&nbsp;by&nbsp;&#34;&gt;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="6206687">//</span><br>
<span class="lineno"></span><span class="comment" id="6206690">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="6206758">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;struct&nbsp;field&#39;s&nbsp;XMLName&nbsp;tag&nbsp;and&nbsp;the&nbsp;struct&nbsp;field&nbsp;has&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="6206823">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;name&nbsp;tag&nbsp;as&nbsp;per&nbsp;the&nbsp;previous&nbsp;rule,&nbsp;unmarshal&nbsp;maps</span><br>
<span class="lineno">75</span><span class="comment" id="6206890">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="6206936">//</span><br>
<span class="lineno"></span><span class="comment" id="6206939">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6207009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;without&nbsp;any&nbsp;mode&nbsp;flags&nbsp;(&#34;,attr&#34;,&nbsp;&#34;,chardata&#34;,&nbsp;etc),&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="6207085">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maps&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno">80</span><span class="comment" id="6207136">//</span><br>
<span class="lineno"></span><span class="comment" id="6207139">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;that&nbsp;hasn&#39;t&nbsp;matched&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="6207212">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;above&nbsp;rules&nbsp;and&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;with&nbsp;tag&nbsp;&#34;,any&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="6207283">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unmarshal&nbsp;maps&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="6207344">//</span><br>
<span class="lineno">85</span><span class="comment" id="6207347">//&nbsp;&nbsp;&nbsp;*&nbsp;An&nbsp;anonymous&nbsp;struct&nbsp;field&nbsp;is&nbsp;handled&nbsp;as&nbsp;if&nbsp;the&nbsp;fields&nbsp;of&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="6207415">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;were&nbsp;part&nbsp;of&nbsp;the&nbsp;outer&nbsp;struct.</span><br>
<span class="lineno"></span><span class="comment" id="6207460">//</span><br>
<span class="lineno"></span><span class="comment" id="6207463">//&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;struct&nbsp;field&nbsp;with&nbsp;tag&nbsp;&#34;-&#34;&nbsp;is&nbsp;never&nbsp;unmarshalled&nbsp;into.</span><br>
<span class="lineno"></span><span class="comment" id="6207526">//</span><br>
<span class="lineno">90</span><span class="comment" id="6207529">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte&nbsp;by&nbsp;saving&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6207598">//&nbsp;concatenation&nbsp;of&nbsp;that&nbsp;element&#39;s&nbsp;character&nbsp;data&nbsp;in&nbsp;the&nbsp;string&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="6207665">//&nbsp;[]byte.&nbsp;The&nbsp;saved&nbsp;[]byte&nbsp;is&nbsp;never&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="6207707">//</span><br>
<span class="lineno"></span><span class="comment" id="6207710">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;attribute&nbsp;value&nbsp;to&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte&nbsp;by&nbsp;saving</span><br>
<span class="lineno">95</span><span class="comment" id="6207779">//&nbsp;the&nbsp;value&nbsp;in&nbsp;the&nbsp;string&nbsp;or&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="6207816">//</span><br>
<span class="lineno"></span><span class="comment" id="6207819">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;slice&nbsp;by&nbsp;extending&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6207890">//&nbsp;the&nbsp;slice&nbsp;and&nbsp;mapping&nbsp;the&nbsp;element&nbsp;to&nbsp;the&nbsp;newly&nbsp;created&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="6207955">//</span><br>
<span class="lineno">100</span><span class="comment" id="6207958">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;or&nbsp;attribute&nbsp;value&nbsp;to&nbsp;a&nbsp;bool&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="6208023">//&nbsp;setting&nbsp;it&nbsp;to&nbsp;the&nbsp;boolean&nbsp;value&nbsp;represented&nbsp;by&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6208085">//</span><br>
<span class="lineno"></span><span class="comment" id="6208088">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;or&nbsp;attribute&nbsp;value&nbsp;to&nbsp;an&nbsp;integer&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="6208157">//&nbsp;floating-point&nbsp;field&nbsp;by&nbsp;setting&nbsp;the&nbsp;field&nbsp;to&nbsp;the&nbsp;result&nbsp;of</span><br>
<span class="lineno">105</span><span class="comment" id="6208219">//&nbsp;interpreting&nbsp;the&nbsp;string&nbsp;value&nbsp;in&nbsp;decimal.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="6208287">//&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="comment" id="6208300">//</span><br>
<span class="lineno"></span><span class="comment" id="6208303">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;an&nbsp;xml.Name&nbsp;by&nbsp;recording&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6208368">//&nbsp;element&nbsp;name.</span><br>
<span class="lineno">110</span><span class="comment" id="6208385">//</span><br>
<span class="lineno"></span><span class="comment" id="6208388">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;pointer&nbsp;by&nbsp;setting&nbsp;the&nbsp;pointer</span><br>
<span class="lineno"></span><span class="comment" id="6208457">//&nbsp;to&nbsp;a&nbsp;freshly&nbsp;allocated&nbsp;value&nbsp;and&nbsp;then&nbsp;mapping&nbsp;the&nbsp;element&nbsp;to&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="6208533">//</span><br>
<span class="lineno"></span><span class="keyword" id="6208536">func</span>&nbsp;<span class="ident" id="6208541">Unmarshal</span><span class="op" id="6208550">(</span><span class="ident" id="6208551">data</span>&nbsp;<span class="op" id="6208556">[</span><span class="op" id="6208557">]</span><span class="builtintype" id="6208558">byte</span><span class="op" id="6208562">,</span>&nbsp;<span class="ident" id="6208564">v</span>&nbsp;<span class="keyword" id="6208566">interface</span><span class="op" id="6208575">{</span><span class="op" id="6208576">}</span><span class="op" id="6208577">)</span>&nbsp;<span class="builtintype" id="6208579">error</span>&nbsp;<span class="op" id="6208585">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6208588">return</span>&nbsp;<span class="ident" id="6208595">NewDecoder</span><span class="op" id="6208605">(</span><span class="ident" id="6208606">bytes</span><span class="op" id="6208611">.</span><span class="ident" id="6208612">NewReader</span><span class="op" id="6208621">(</span><span class="ident" id="6208622">data</span><span class="op" id="6208626">)</span><span class="op" id="6208627">)</span><span class="op" id="6208628">.</span><span class="ident" id="6208629">Decode</span><span class="op" id="6208635">(</span><span class="ident" id="6208636">v</span><span class="op" id="6208637">)</span><br>
<span class="lineno"></span><span class="op" id="6208639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6208642">//&nbsp;Decode&nbsp;works&nbsp;like&nbsp;xml.Unmarshal,&nbsp;except&nbsp;it&nbsp;reads&nbsp;the&nbsp;decoder</span><br>
<span class="lineno"></span><span class="comment" id="6208706">//&nbsp;stream&nbsp;to&nbsp;find&nbsp;the&nbsp;start&nbsp;element.</span><br>
<span class="lineno">120</span><span class="keyword" id="6208743">func</span>&nbsp;<span class="op" id="6208748">(</span><span class="ident" id="6208749">d</span>&nbsp;<span class="op" id="6208751">*</span><span class="ident" id="6208752">Decoder</span><span class="op" id="6208759">)</span>&nbsp;<span class="ident" id="6208761">Decode</span><span class="op" id="6208767">(</span><span class="ident" id="6208768">v</span>&nbsp;<span class="keyword" id="6208770">interface</span><span class="op" id="6208779">{</span><span class="op" id="6208780">}</span><span class="op" id="6208781">)</span>&nbsp;<span class="builtintype" id="6208783">error</span>&nbsp;<span class="op" id="6208789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6208792">return</span>&nbsp;<span class="ident" id="6208799">d</span><span class="op" id="6208800">.</span><span class="ident" id="6208801">DecodeElement</span><span class="op" id="6208814">(</span><span class="ident" id="6208815">v</span><span class="op" id="6208816">,</span>&nbsp;<span class="builtintype" id="6208818">nil</span><span class="op" id="6208821">)</span><br>
<span class="lineno"></span><span class="op" id="6208823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6208826">//&nbsp;DecodeElement&nbsp;works&nbsp;like&nbsp;xml.Unmarshal&nbsp;except&nbsp;that&nbsp;it&nbsp;takes</span><br>
<span class="lineno">125</span><span class="comment" id="6208889">//&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;start&nbsp;XML&nbsp;element&nbsp;to&nbsp;decode&nbsp;into&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="6208945">//&nbsp;It&nbsp;is&nbsp;useful&nbsp;when&nbsp;a&nbsp;client&nbsp;reads&nbsp;some&nbsp;raw&nbsp;XML&nbsp;tokens&nbsp;itself</span><br>
<span class="lineno"></span><span class="comment" id="6209008">//&nbsp;but&nbsp;also&nbsp;wants&nbsp;to&nbsp;defer&nbsp;to&nbsp;Unmarshal&nbsp;for&nbsp;some&nbsp;elements.</span><br>
<span class="lineno"></span><span class="keyword" id="6209067">func</span>&nbsp;<span class="op" id="6209072">(</span><span class="ident" id="6209073">d</span>&nbsp;<span class="op" id="6209075">*</span><span class="ident" id="6209076">Decoder</span><span class="op" id="6209083">)</span>&nbsp;<span class="ident" id="6209085">DecodeElement</span><span class="op" id="6209098">(</span><span class="ident" id="6209099">v</span>&nbsp;<span class="keyword" id="6209101">interface</span><span class="op" id="6209110">{</span><span class="op" id="6209111">}</span><span class="op" id="6209112">,</span>&nbsp;<span class="ident" id="6209114">start</span>&nbsp;<span class="op" id="6209120">*</span><span class="ident" id="6209121">StartElement</span><span class="op" id="6209133">)</span>&nbsp;<span class="builtintype" id="6209135">error</span>&nbsp;<span class="op" id="6209141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6209144">val</span>&nbsp;<span class="op" id="6209148">:=</span>&nbsp;<span class="ident" id="6209151">reflect</span><span class="op" id="6209158">.</span><span class="ident" id="6209159">ValueOf</span><span class="op" id="6209166">(</span><span class="ident" id="6209167">v</span><span class="op" id="6209168">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6209171">if</span>&nbsp;<span class="ident" id="6209174">val</span><span class="op" id="6209177">.</span><span class="ident" id="6209178">Kind</span><span class="op" id="6209182">(</span><span class="op" id="6209183">)</span>&nbsp;<span class="op" id="6209185">!=</span>&nbsp;<span class="ident" id="6209188">reflect</span><span class="op" id="6209195">.</span><span class="ident" id="6209196">Ptr</span>&nbsp;<span class="op" id="6209200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6209204">return</span>&nbsp;<span class="ident" id="6209211">errors</span><span class="op" id="6209217">.</span><span class="ident" id="6209218">New</span><span class="op" id="6209221">(</span><span class="string" id="6209222">&#34;non-pointer&nbsp;passed&nbsp;to&nbsp;Unmarshal&#34;</span><span class="op" id="6209255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6209258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6209261">return</span>&nbsp;<span class="ident" id="6209268">d</span><span class="op" id="6209269">.</span><span class="ident" id="6209270">unmarshal</span><span class="op" id="6209279">(</span><span class="ident" id="6209280">val</span><span class="op" id="6209283">.</span><span class="ident" id="6209284">Elem</span><span class="op" id="6209288">(</span><span class="op" id="6209289">)</span><span class="op" id="6209290">,</span>&nbsp;<span class="ident" id="6209292">start</span><span class="op" id="6209297">)</span><br>
<span class="lineno"></span><span class="op" id="6209299">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="6209302">//&nbsp;An&nbsp;UnmarshalError&nbsp;represents&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;unmarshalling&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="6209373">type</span>&nbsp;<span class="ident" id="6209378">UnmarshalError</span>&nbsp;<span class="builtintype" id="6209393">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6209401">func</span>&nbsp;<span class="op" id="6209406">(</span><span class="ident" id="6209407">e</span>&nbsp;<span class="ident" id="6209409">UnmarshalError</span><span class="op" id="6209423">)</span>&nbsp;<span class="ident" id="6209425">Error</span><span class="op" id="6209430">(</span><span class="op" id="6209431">)</span>&nbsp;<span class="builtintype" id="6209433">string</span>&nbsp;<span class="op" id="6209440">{</span>&nbsp;<span class="keyword" id="6209442">return</span>&nbsp;<span class="builtintype" id="6209449">string</span><span class="op" id="6209455">(</span><span class="ident" id="6209456">e</span><span class="op" id="6209457">)</span>&nbsp;<span class="op" id="6209459">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="6209462">//&nbsp;Unmarshaler&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects&nbsp;that&nbsp;can&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="6209536">//&nbsp;an&nbsp;XML&nbsp;element&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="6209581">//</span><br>
<span class="lineno"></span><span class="comment" id="6209584">//&nbsp;UnmarshalXML&nbsp;decodes&nbsp;a&nbsp;single&nbsp;XML&nbsp;element</span><br>
<span class="lineno">145</span><span class="comment" id="6209629">//&nbsp;beginning&nbsp;with&nbsp;the&nbsp;given&nbsp;start&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="6209672">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;an&nbsp;error,&nbsp;the&nbsp;outer&nbsp;call&nbsp;to&nbsp;Unmarshal&nbsp;stops&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6209737">//&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="6209760">//&nbsp;UnmarshalXML&nbsp;must&nbsp;consume&nbsp;exactly&nbsp;one&nbsp;XML&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="6209814">//&nbsp;One&nbsp;common&nbsp;implementation&nbsp;strategy&nbsp;is&nbsp;to&nbsp;unmarshal&nbsp;into</span><br>
<span class="lineno">150</span><span class="comment" id="6209873">//&nbsp;a&nbsp;separate&nbsp;value&nbsp;with&nbsp;a&nbsp;layout&nbsp;matching&nbsp;the&nbsp;expected&nbsp;XML</span><br>
<span class="lineno"></span><span class="comment" id="6209933">//&nbsp;using&nbsp;d.DecodeElement,&nbsp;&nbsp;and&nbsp;then&nbsp;to&nbsp;copy&nbsp;the&nbsp;data&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="6209991">//&nbsp;that&nbsp;value&nbsp;into&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="6210024">//&nbsp;Another&nbsp;common&nbsp;strategy&nbsp;is&nbsp;to&nbsp;use&nbsp;d.Token&nbsp;to&nbsp;process&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6210084">//&nbsp;XML&nbsp;object&nbsp;one&nbsp;token&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno">155</span><span class="comment" id="6210119">//&nbsp;UnmarshalXML&nbsp;may&nbsp;not&nbsp;use&nbsp;d.RawToken.</span><br>
<span class="lineno"></span><span class="keyword" id="6210159">type</span>&nbsp;<span class="ident" id="6210164">Unmarshaler</span>&nbsp;<span class="keyword" id="6210176">interface</span>&nbsp;<span class="op" id="6210186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6210189">UnmarshalXML</span><span class="op" id="6210201">(</span><span class="ident" id="6210202">d</span>&nbsp;<span class="op" id="6210204">*</span><span class="ident" id="6210205">Decoder</span><span class="op" id="6210212">,</span>&nbsp;<span class="ident" id="6210214">start</span>&nbsp;<span class="ident" id="6210220">StartElement</span><span class="op" id="6210232">)</span>&nbsp;<span class="builtintype" id="6210234">error</span><br>
<span class="lineno"></span><span class="op" id="6210240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="comment" id="6210243">//&nbsp;UnmarshalerAttr&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects&nbsp;that&nbsp;can&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="6210321">//&nbsp;an&nbsp;XML&nbsp;attribute&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="6210368">//</span><br>
<span class="lineno"></span><span class="comment" id="6210371">//&nbsp;UnmarshalXMLAttr&nbsp;decodes&nbsp;a&nbsp;single&nbsp;XML&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="6210423">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;an&nbsp;error,&nbsp;the&nbsp;outer&nbsp;call&nbsp;to&nbsp;Unmarshal&nbsp;stops&nbsp;and</span><br>
<span class="lineno">165</span><span class="comment" id="6210488">//&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="6210511">//&nbsp;UnmarshalXMLAttr&nbsp;is&nbsp;used&nbsp;only&nbsp;for&nbsp;struct&nbsp;fields&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6210571">//&nbsp;&#34;attr&#34;&nbsp;option&nbsp;in&nbsp;the&nbsp;field&nbsp;tag.</span><br>
<span class="lineno"></span><span class="keyword" id="6210606">type</span>&nbsp;<span class="ident" id="6210611">UnmarshalerAttr</span>&nbsp;<span class="keyword" id="6210627">interface</span>&nbsp;<span class="op" id="6210637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6210640">UnmarshalXMLAttr</span><span class="op" id="6210656">(</span><span class="ident" id="6210657">attr</span>&nbsp;<span class="ident" id="6210662">Attr</span><span class="op" id="6210666">)</span>&nbsp;<span class="builtintype" id="6210668">error</span><br>
<span class="lineno">170</span><span class="op" id="6210674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6210677">//&nbsp;receiverType&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;to&nbsp;use&nbsp;in&nbsp;an&nbsp;expression&nbsp;like&nbsp;&#34;%s.MethodName&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="6210765">func</span>&nbsp;<span class="ident" id="6210770">receiverType</span><span class="op" id="6210782">(</span><span class="ident" id="6210783">val</span>&nbsp;<span class="keyword" id="6210787">interface</span><span class="op" id="6210796">{</span><span class="op" id="6210797">}</span><span class="op" id="6210798">)</span>&nbsp;<span class="builtintype" id="6210800">string</span>&nbsp;<span class="op" id="6210807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6210810">t</span>&nbsp;<span class="op" id="6210812">:=</span>&nbsp;<span class="ident" id="6210815">reflect</span><span class="op" id="6210822">.</span><span class="ident" id="6210823">TypeOf</span><span class="op" id="6210829">(</span><span class="ident" id="6210830">val</span><span class="op" id="6210833">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6210836">if</span>&nbsp;<span class="ident" id="6210839">t</span><span class="op" id="6210840">.</span><span class="ident" id="6210841">Name</span><span class="op" id="6210845">(</span><span class="op" id="6210846">)</span>&nbsp;<span class="op" id="6210848">!=</span>&nbsp;<span class="string" id="6210851">&#34;&#34;</span>&nbsp;<span class="op" id="6210854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6210858">return</span>&nbsp;<span class="ident" id="6210865">t</span><span class="op" id="6210866">.</span><span class="ident" id="6210867">String</span><span class="op" id="6210873">(</span><span class="op" id="6210874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6210877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6210880">return</span>&nbsp;<span class="string" id="6210887">&#34;(&#34;</span>&nbsp;<span class="op" id="6210891">+</span>&nbsp;<span class="ident" id="6210893">t</span><span class="op" id="6210894">.</span><span class="ident" id="6210895">String</span><span class="op" id="6210901">(</span><span class="op" id="6210902">)</span>&nbsp;<span class="op" id="6210904">+</span>&nbsp;<span class="string" id="6210906">&#34;)&#34;</span><br>
<span class="lineno"></span><span class="op" id="6210910">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="comment" id="6210913">//&nbsp;unmarshalInterface&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="6210977">//&nbsp;start&nbsp;is&nbsp;the&nbsp;opening&nbsp;tag&nbsp;of&nbsp;the&nbsp;element.</span><br>
<span class="lineno"></span><span class="keyword" id="6211021">func</span>&nbsp;<span class="op" id="6211026">(</span><span class="ident" id="6211027">p</span>&nbsp;<span class="op" id="6211029">*</span><span class="ident" id="6211030">Decoder</span><span class="op" id="6211037">)</span>&nbsp;<span class="ident" id="6211039">unmarshalInterface</span><span class="op" id="6211057">(</span><span class="ident" id="6211058">val</span>&nbsp;<span class="ident" id="6211062">Unmarshaler</span><span class="op" id="6211073">,</span>&nbsp;<span class="ident" id="6211075">start</span>&nbsp;<span class="op" id="6211081">*</span><span class="ident" id="6211082">StartElement</span><span class="op" id="6211094">)</span>&nbsp;<span class="builtintype" id="6211096">error</span>&nbsp;<span class="op" id="6211102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6211105">//&nbsp;Record&nbsp;that&nbsp;decoder&nbsp;must&nbsp;stop&nbsp;at&nbsp;end&nbsp;tag&nbsp;corresponding&nbsp;to&nbsp;start.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211174">p</span><span class="op" id="6211175">.</span><span class="ident" id="6211176">pushEOF</span><span class="op" id="6211183">(</span><span class="op" id="6211184">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211188">p</span><span class="op" id="6211189">.</span><span class="ident" id="6211190">unmarshalDepth</span><span class="op" id="6211204">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211208">err</span>&nbsp;<span class="op" id="6211212">:=</span>&nbsp;<span class="ident" id="6211215">val</span><span class="op" id="6211218">.</span><span class="ident" id="6211219">UnmarshalXML</span><span class="op" id="6211231">(</span><span class="ident" id="6211232">p</span><span class="op" id="6211233">,</span>&nbsp;<span class="op" id="6211235">*</span><span class="ident" id="6211236">start</span><span class="op" id="6211241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211244">p</span><span class="op" id="6211245">.</span><span class="ident" id="6211246">unmarshalDepth</span><span class="op" id="6211260">--</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211264">if</span>&nbsp;<span class="ident" id="6211267">err</span>&nbsp;<span class="op" id="6211271">!=</span>&nbsp;<span class="builtintype" id="6211274">nil</span>&nbsp;<span class="op" id="6211278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211282">p</span><span class="op" id="6211283">.</span><span class="ident" id="6211284">popEOF</span><span class="op" id="6211290">(</span><span class="op" id="6211291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211295">return</span>&nbsp;<span class="ident" id="6211302">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6211307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211311">if</span>&nbsp;<span class="op" id="6211314">!</span><span class="ident" id="6211315">p</span><span class="op" id="6211316">.</span><span class="ident" id="6211317">popEOF</span><span class="op" id="6211323">(</span><span class="op" id="6211324">)</span>&nbsp;<span class="op" id="6211326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211330">return</span>&nbsp;<span class="ident" id="6211337">fmt</span><span class="op" id="6211340">.</span><span class="ident" id="6211341">Errorf</span><span class="op" id="6211347">(</span><span class="string" id="6211348">&#34;xml:&nbsp;%s.UnmarshalXML&nbsp;did&nbsp;not&nbsp;consume&nbsp;entire&nbsp;&lt;%s&gt;&nbsp;element&#34;</span><span class="op" id="6211406">,</span>&nbsp;<span class="ident" id="6211408">receiverType</span><span class="op" id="6211420">(</span><span class="ident" id="6211421">val</span><span class="op" id="6211424">)</span><span class="op" id="6211425">,</span>&nbsp;<span class="ident" id="6211427">start</span><span class="op" id="6211432">.</span><span class="ident" id="6211433">Name</span><span class="op" id="6211437">.</span><span class="ident" id="6211438">Local</span><span class="op" id="6211443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6211446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211450">return</span>&nbsp;<span class="builtintype" id="6211457">nil</span><br>
<span class="lineno">200</span><span class="op" id="6211461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6211464">//&nbsp;unmarshalTextInterface&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="6211532">//&nbsp;The&nbsp;chardata&nbsp;contained&nbsp;in&nbsp;the&nbsp;element&nbsp;(but&nbsp;not&nbsp;its&nbsp;children)</span><br>
<span class="lineno"></span><span class="comment" id="6211596">//&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;text&nbsp;unmarshaler.</span><br>
<span class="lineno">205</span><span class="keyword" id="6211634">func</span>&nbsp;<span class="op" id="6211639">(</span><span class="ident" id="6211640">p</span>&nbsp;<span class="op" id="6211642">*</span><span class="ident" id="6211643">Decoder</span><span class="op" id="6211650">)</span>&nbsp;<span class="ident" id="6211652">unmarshalTextInterface</span><span class="op" id="6211674">(</span><span class="ident" id="6211675">val</span>&nbsp;<span class="ident" id="6211679">encoding</span><span class="op" id="6211687">.</span><span class="ident" id="6211688">TextUnmarshaler</span><span class="op" id="6211703">,</span>&nbsp;<span class="ident" id="6211705">start</span>&nbsp;<span class="op" id="6211711">*</span><span class="ident" id="6211712">StartElement</span><span class="op" id="6211724">)</span>&nbsp;<span class="builtintype" id="6211726">error</span>&nbsp;<span class="op" id="6211732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211735">var</span>&nbsp;<span class="ident" id="6211739">buf</span>&nbsp;<span class="op" id="6211743">[</span><span class="op" id="6211744">]</span><span class="builtintype" id="6211745">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211751">depth</span>&nbsp;<span class="op" id="6211757">:=</span>&nbsp;<span class="num" id="6211760">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211763">for</span>&nbsp;<span class="ident" id="6211767">depth</span>&nbsp;<span class="op" id="6211773">&gt;</span>&nbsp;<span class="num" id="6211775">0</span>&nbsp;<span class="op" id="6211777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211781">t</span><span class="op" id="6211782">,</span>&nbsp;<span class="ident" id="6211784">err</span>&nbsp;<span class="op" id="6211788">:=</span>&nbsp;<span class="ident" id="6211791">p</span><span class="op" id="6211792">.</span><span class="ident" id="6211793">Token</span><span class="op" id="6211798">(</span><span class="op" id="6211799">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211803">if</span>&nbsp;<span class="ident" id="6211806">err</span>&nbsp;<span class="op" id="6211810">!=</span>&nbsp;<span class="builtintype" id="6211813">nil</span>&nbsp;<span class="op" id="6211817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211822">return</span>&nbsp;<span class="ident" id="6211829">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6211835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211839">switch</span>&nbsp;<span class="ident" id="6211846">t</span>&nbsp;<span class="op" id="6211848">:=</span>&nbsp;<span class="ident" id="6211851">t</span><span class="op" id="6211852">.</span><span class="op" id="6211853">(</span><span class="keyword" id="6211854">type</span><span class="op" id="6211858">)</span>&nbsp;<span class="op" id="6211860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211864">case</span>&nbsp;<span class="ident" id="6211869">CharData</span><span class="op" id="6211877">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211882">if</span>&nbsp;<span class="ident" id="6211885">depth</span>&nbsp;<span class="op" id="6211891">==</span>&nbsp;<span class="num" id="6211894">1</span>&nbsp;<span class="op" id="6211896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211902">buf</span>&nbsp;<span class="op" id="6211906">=</span>&nbsp;<span class="builtinfunc" id="6211908">append</span><span class="op" id="6211914">(</span><span class="ident" id="6211915">buf</span><span class="op" id="6211918">,</span>&nbsp;<span class="ident" id="6211920">t</span><span class="op" id="6211921">...</span><span class="op" id="6211924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6211929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211933">case</span>&nbsp;<span class="ident" id="6211938">StartElement</span><span class="op" id="6211950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211955">depth</span><span class="op" id="6211960">++</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6211965">case</span>&nbsp;<span class="ident" id="6211970">EndElement</span><span class="op" id="6211980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6211985">depth</span><span class="op" id="6211990">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6211995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6211998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212001">return</span>&nbsp;<span class="ident" id="6212008">val</span><span class="op" id="6212011">.</span><span class="ident" id="6212012">UnmarshalText</span><span class="op" id="6212025">(</span><span class="ident" id="6212026">buf</span><span class="op" id="6212029">)</span><br>
<span class="lineno">225</span><span class="op" id="6212031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6212034">//&nbsp;unmarshalAttr&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;attribute&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="keyword" id="6212095">func</span>&nbsp;<span class="op" id="6212100">(</span><span class="ident" id="6212101">p</span>&nbsp;<span class="op" id="6212103">*</span><span class="ident" id="6212104">Decoder</span><span class="op" id="6212111">)</span>&nbsp;<span class="ident" id="6212113">unmarshalAttr</span><span class="op" id="6212126">(</span><span class="ident" id="6212127">val</span>&nbsp;<span class="ident" id="6212131">reflect</span><span class="op" id="6212138">.</span><span class="ident" id="6212139">Value</span><span class="op" id="6212144">,</span>&nbsp;<span class="ident" id="6212146">attr</span>&nbsp;<span class="ident" id="6212151">Attr</span><span class="op" id="6212155">)</span>&nbsp;<span class="builtintype" id="6212157">error</span>&nbsp;<span class="op" id="6212163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212166">if</span>&nbsp;<span class="ident" id="6212169">val</span><span class="op" id="6212172">.</span><span class="ident" id="6212173">Kind</span><span class="op" id="6212177">(</span><span class="op" id="6212178">)</span>&nbsp;<span class="op" id="6212180">==</span>&nbsp;<span class="ident" id="6212183">reflect</span><span class="op" id="6212190">.</span><span class="ident" id="6212191">Ptr</span>&nbsp;<span class="op" id="6212195">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212199">if</span>&nbsp;<span class="ident" id="6212202">val</span><span class="op" id="6212205">.</span><span class="ident" id="6212206">IsNil</span><span class="op" id="6212211">(</span><span class="op" id="6212212">)</span>&nbsp;<span class="op" id="6212214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6212219">val</span><span class="op" id="6212222">.</span><span class="ident" id="6212223">Set</span><span class="op" id="6212226">(</span><span class="ident" id="6212227">reflect</span><span class="op" id="6212234">.</span><span class="ident" id="6212235">New</span><span class="op" id="6212238">(</span><span class="ident" id="6212239">val</span><span class="op" id="6212242">.</span><span class="ident" id="6212243">Type</span><span class="op" id="6212247">(</span><span class="op" id="6212248">)</span><span class="op" id="6212249">.</span><span class="ident" id="6212250">Elem</span><span class="op" id="6212254">(</span><span class="op" id="6212255">)</span><span class="op" id="6212256">)</span><span class="op" id="6212257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6212261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6212265">val</span>&nbsp;<span class="op" id="6212269">=</span>&nbsp;<span class="ident" id="6212271">val</span><span class="op" id="6212274">.</span><span class="ident" id="6212275">Elem</span><span class="op" id="6212279">(</span><span class="op" id="6212280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6212283">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212287">if</span>&nbsp;<span class="ident" id="6212290">val</span><span class="op" id="6212293">.</span><span class="ident" id="6212294">CanInterface</span><span class="op" id="6212306">(</span><span class="op" id="6212307">)</span>&nbsp;<span class="op" id="6212309">&amp;&amp;</span>&nbsp;<span class="ident" id="6212312">val</span><span class="op" id="6212315">.</span><span class="ident" id="6212316">Type</span><span class="op" id="6212320">(</span><span class="op" id="6212321">)</span><span class="op" id="6212322">.</span><span class="ident" id="6212323">Implements</span><span class="op" id="6212333">(</span><span class="ident" id="6212334">unmarshalerAttrType</span><span class="op" id="6212353">)</span>&nbsp;<span class="op" id="6212355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6212359">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6212416">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212480">return</span>&nbsp;<span class="ident" id="6212487">val</span><span class="op" id="6212490">.</span><span class="ident" id="6212491">Interface</span><span class="op" id="6212500">(</span><span class="op" id="6212501">)</span><span class="op" id="6212502">.</span><span class="op" id="6212503">(</span><span class="ident" id="6212504">UnmarshalerAttr</span><span class="op" id="6212519">)</span><span class="op" id="6212520">.</span><span class="ident" id="6212521">UnmarshalXMLAttr</span><span class="op" id="6212537">(</span><span class="ident" id="6212538">attr</span><span class="op" id="6212542">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6212545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212548">if</span>&nbsp;<span class="ident" id="6212551">val</span><span class="op" id="6212554">.</span><span class="ident" id="6212555">CanAddr</span><span class="op" id="6212562">(</span><span class="op" id="6212563">)</span>&nbsp;<span class="op" id="6212565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6212569">pv</span>&nbsp;<span class="op" id="6212572">:=</span>&nbsp;<span class="ident" id="6212575">val</span><span class="op" id="6212578">.</span><span class="ident" id="6212579">Addr</span><span class="op" id="6212583">(</span><span class="op" id="6212584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212588">if</span>&nbsp;<span class="ident" id="6212591">pv</span><span class="op" id="6212593">.</span><span class="ident" id="6212594">CanInterface</span><span class="op" id="6212606">(</span><span class="op" id="6212607">)</span>&nbsp;<span class="op" id="6212609">&amp;&amp;</span>&nbsp;<span class="ident" id="6212612">pv</span><span class="op" id="6212614">.</span><span class="ident" id="6212615">Type</span><span class="op" id="6212619">(</span><span class="op" id="6212620">)</span><span class="op" id="6212621">.</span><span class="ident" id="6212622">Implements</span><span class="op" id="6212632">(</span><span class="ident" id="6212633">unmarshalerAttrType</span><span class="op" id="6212652">)</span>&nbsp;<span class="op" id="6212654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212659">return</span>&nbsp;<span class="ident" id="6212666">pv</span><span class="op" id="6212668">.</span><span class="ident" id="6212669">Interface</span><span class="op" id="6212678">(</span><span class="op" id="6212679">)</span><span class="op" id="6212680">.</span><span class="op" id="6212681">(</span><span class="ident" id="6212682">UnmarshalerAttr</span><span class="op" id="6212697">)</span><span class="op" id="6212698">.</span><span class="ident" id="6212699">UnmarshalXMLAttr</span><span class="op" id="6212715">(</span><span class="ident" id="6212716">attr</span><span class="op" id="6212720">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6212724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6212727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6212731">//&nbsp;Not&nbsp;an&nbsp;UnmarshalerAttr;&nbsp;try&nbsp;encoding.TextUnmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212789">if</span>&nbsp;<span class="ident" id="6212792">val</span><span class="op" id="6212795">.</span><span class="ident" id="6212796">CanInterface</span><span class="op" id="6212808">(</span><span class="op" id="6212809">)</span>&nbsp;<span class="op" id="6212811">&amp;&amp;</span>&nbsp;<span class="ident" id="6212814">val</span><span class="op" id="6212817">.</span><span class="ident" id="6212818">Type</span><span class="op" id="6212822">(</span><span class="op" id="6212823">)</span><span class="op" id="6212824">.</span><span class="ident" id="6212825">Implements</span><span class="op" id="6212835">(</span><span class="ident" id="6212836">textUnmarshalerType</span><span class="op" id="6212855">)</span>&nbsp;<span class="op" id="6212857">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6212861">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6212918">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6212982">return</span>&nbsp;<span class="ident" id="6212989">val</span><span class="op" id="6212992">.</span><span class="ident" id="6212993">Interface</span><span class="op" id="6213002">(</span><span class="op" id="6213003">)</span><span class="op" id="6213004">.</span><span class="op" id="6213005">(</span><span class="ident" id="6213006">encoding</span><span class="op" id="6213014">.</span><span class="ident" id="6213015">TextUnmarshaler</span><span class="op" id="6213030">)</span><span class="op" id="6213031">.</span><span class="ident" id="6213032">UnmarshalText</span><span class="op" id="6213045">(</span><span class="op" id="6213046">[</span><span class="op" id="6213047">]</span><span class="builtintype" id="6213048">byte</span><span class="op" id="6213052">(</span><span class="ident" id="6213053">attr</span><span class="op" id="6213057">.</span><span class="ident" id="6213058">Value</span><span class="op" id="6213063">)</span><span class="op" id="6213064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213070">if</span>&nbsp;<span class="ident" id="6213073">val</span><span class="op" id="6213076">.</span><span class="ident" id="6213077">CanAddr</span><span class="op" id="6213084">(</span><span class="op" id="6213085">)</span>&nbsp;<span class="op" id="6213087">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213091">pv</span>&nbsp;<span class="op" id="6213094">:=</span>&nbsp;<span class="ident" id="6213097">val</span><span class="op" id="6213100">.</span><span class="ident" id="6213101">Addr</span><span class="op" id="6213105">(</span><span class="op" id="6213106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213110">if</span>&nbsp;<span class="ident" id="6213113">pv</span><span class="op" id="6213115">.</span><span class="ident" id="6213116">CanInterface</span><span class="op" id="6213128">(</span><span class="op" id="6213129">)</span>&nbsp;<span class="op" id="6213131">&amp;&amp;</span>&nbsp;<span class="ident" id="6213134">pv</span><span class="op" id="6213136">.</span><span class="ident" id="6213137">Type</span><span class="op" id="6213141">(</span><span class="op" id="6213142">)</span><span class="op" id="6213143">.</span><span class="ident" id="6213144">Implements</span><span class="op" id="6213154">(</span><span class="ident" id="6213155">textUnmarshalerType</span><span class="op" id="6213174">)</span>&nbsp;<span class="op" id="6213176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213181">return</span>&nbsp;<span class="ident" id="6213188">pv</span><span class="op" id="6213190">.</span><span class="ident" id="6213191">Interface</span><span class="op" id="6213200">(</span><span class="op" id="6213201">)</span><span class="op" id="6213202">.</span><span class="op" id="6213203">(</span><span class="ident" id="6213204">encoding</span><span class="op" id="6213212">.</span><span class="ident" id="6213213">TextUnmarshaler</span><span class="op" id="6213228">)</span><span class="op" id="6213229">.</span><span class="ident" id="6213230">UnmarshalText</span><span class="op" id="6213243">(</span><span class="op" id="6213244">[</span><span class="op" id="6213245">]</span><span class="builtintype" id="6213246">byte</span><span class="op" id="6213250">(</span><span class="ident" id="6213251">attr</span><span class="op" id="6213255">.</span><span class="ident" id="6213256">Value</span><span class="op" id="6213261">)</span><span class="op" id="6213262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213269">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213273">copyValue</span><span class="op" id="6213282">(</span><span class="ident" id="6213283">val</span><span class="op" id="6213286">,</span>&nbsp;<span class="op" id="6213288">[</span><span class="op" id="6213289">]</span><span class="builtintype" id="6213290">byte</span><span class="op" id="6213294">(</span><span class="ident" id="6213295">attr</span><span class="op" id="6213299">.</span><span class="ident" id="6213300">Value</span><span class="op" id="6213305">)</span><span class="op" id="6213306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213309">return</span>&nbsp;<span class="builtintype" id="6213316">nil</span><br>
<span class="lineno"></span><span class="op" id="6213320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="6213323">var</span>&nbsp;<span class="op" id="6213327">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213330">unmarshalerType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213350">=</span>&nbsp;<span class="ident" id="6213352">reflect</span><span class="op" id="6213359">.</span><span class="ident" id="6213360">TypeOf</span><span class="op" id="6213366">(</span><span class="op" id="6213367">(</span><span class="op" id="6213368">*</span><span class="ident" id="6213369">Unmarshaler</span><span class="op" id="6213380">)</span><span class="op" id="6213381">(</span><span class="builtintype" id="6213382">nil</span><span class="op" id="6213385">)</span><span class="op" id="6213386">)</span><span class="op" id="6213387">.</span><span class="ident" id="6213388">Elem</span><span class="op" id="6213392">(</span><span class="op" id="6213393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213396">unmarshalerAttrType</span>&nbsp;<span class="op" id="6213416">=</span>&nbsp;<span class="ident" id="6213418">reflect</span><span class="op" id="6213425">.</span><span class="ident" id="6213426">TypeOf</span><span class="op" id="6213432">(</span><span class="op" id="6213433">(</span><span class="op" id="6213434">*</span><span class="ident" id="6213435">UnmarshalerAttr</span><span class="op" id="6213450">)</span><span class="op" id="6213451">(</span><span class="builtintype" id="6213452">nil</span><span class="op" id="6213455">)</span><span class="op" id="6213456">)</span><span class="op" id="6213457">.</span><span class="ident" id="6213458">Elem</span><span class="op" id="6213462">(</span><span class="op" id="6213463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213466">textUnmarshalerType</span>&nbsp;<span class="op" id="6213486">=</span>&nbsp;<span class="ident" id="6213488">reflect</span><span class="op" id="6213495">.</span><span class="ident" id="6213496">TypeOf</span><span class="op" id="6213502">(</span><span class="op" id="6213503">(</span><span class="op" id="6213504">*</span><span class="ident" id="6213505">encoding</span><span class="op" id="6213513">.</span><span class="ident" id="6213514">TextUnmarshaler</span><span class="op" id="6213529">)</span><span class="op" id="6213530">(</span><span class="builtintype" id="6213531">nil</span><span class="op" id="6213534">)</span><span class="op" id="6213535">)</span><span class="op" id="6213536">.</span><span class="ident" id="6213537">Elem</span><span class="op" id="6213541">(</span><span class="op" id="6213542">)</span><br>
<span class="lineno"></span><span class="op" id="6213544">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="6213547">//&nbsp;Unmarshal&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="keyword" id="6213591">func</span>&nbsp;<span class="op" id="6213596">(</span><span class="ident" id="6213597">p</span>&nbsp;<span class="op" id="6213599">*</span><span class="ident" id="6213600">Decoder</span><span class="op" id="6213607">)</span>&nbsp;<span class="ident" id="6213609">unmarshal</span><span class="op" id="6213618">(</span><span class="ident" id="6213619">val</span>&nbsp;<span class="ident" id="6213623">reflect</span><span class="op" id="6213630">.</span><span class="ident" id="6213631">Value</span><span class="op" id="6213636">,</span>&nbsp;<span class="ident" id="6213638">start</span>&nbsp;<span class="op" id="6213644">*</span><span class="ident" id="6213645">StartElement</span><span class="op" id="6213657">)</span>&nbsp;<span class="builtintype" id="6213659">error</span>&nbsp;<span class="op" id="6213665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6213668">//&nbsp;Find&nbsp;start&nbsp;element&nbsp;if&nbsp;we&nbsp;need&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213706">if</span>&nbsp;<span class="ident" id="6213709">start</span>&nbsp;<span class="op" id="6213715">==</span>&nbsp;<span class="builtintype" id="6213718">nil</span>&nbsp;<span class="op" id="6213722">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213726">for</span>&nbsp;<span class="op" id="6213730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213735">tok</span><span class="op" id="6213738">,</span>&nbsp;<span class="ident" id="6213740">err</span>&nbsp;<span class="op" id="6213744">:=</span>&nbsp;<span class="ident" id="6213747">p</span><span class="op" id="6213748">.</span><span class="ident" id="6213749">Token</span><span class="op" id="6213754">(</span><span class="op" id="6213755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213760">if</span>&nbsp;<span class="ident" id="6213763">err</span>&nbsp;<span class="op" id="6213767">!=</span>&nbsp;<span class="builtintype" id="6213770">nil</span>&nbsp;<span class="op" id="6213774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213780">return</span>&nbsp;<span class="ident" id="6213787">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213794">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213799">if</span>&nbsp;<span class="ident" id="6213802">t</span><span class="op" id="6213803">,</span>&nbsp;<span class="ident" id="6213805">ok</span>&nbsp;<span class="op" id="6213808">:=</span>&nbsp;<span class="ident" id="6213811">tok</span><span class="op" id="6213814">.</span><span class="op" id="6213815">(</span><span class="ident" id="6213816">StartElement</span><span class="op" id="6213828">)</span><span class="op" id="6213829">;</span>&nbsp;<span class="ident" id="6213831">ok</span>&nbsp;<span class="op" id="6213834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6213840">start</span>&nbsp;<span class="op" id="6213846">=</span>&nbsp;<span class="op" id="6213848">&amp;</span><span class="ident" id="6213849">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213855">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213868">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6213871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6213875">//&nbsp;Load&nbsp;value&nbsp;from&nbsp;interface,&nbsp;but&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6213937">//&nbsp;usefully&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6213963">if</span>&nbsp;<span class="ident" id="6213966">val</span><span class="op" id="6213969">.</span><span class="ident" id="6213970">Kind</span><span class="op" id="6213974">(</span><span class="op" id="6213975">)</span>&nbsp;<span class="op" id="6213977">==</span>&nbsp;<span class="ident" id="6213980">reflect</span><span class="op" id="6213987">.</span><span class="ident" id="6213988">Interface</span>&nbsp;<span class="op" id="6213998">&amp;&amp;</span>&nbsp;<span class="op" id="6214001">!</span><span class="ident" id="6214002">val</span><span class="op" id="6214005">.</span><span class="ident" id="6214006">IsNil</span><span class="op" id="6214011">(</span><span class="op" id="6214012">)</span>&nbsp;<span class="op" id="6214014">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6214018">e</span>&nbsp;<span class="op" id="6214020">:=</span>&nbsp;<span class="ident" id="6214023">val</span><span class="op" id="6214026">.</span><span class="ident" id="6214027">Elem</span><span class="op" id="6214031">(</span><span class="op" id="6214032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214036">if</span>&nbsp;<span class="ident" id="6214039">e</span><span class="op" id="6214040">.</span><span class="ident" id="6214041">Kind</span><span class="op" id="6214045">(</span><span class="op" id="6214046">)</span>&nbsp;<span class="op" id="6214048">==</span>&nbsp;<span class="ident" id="6214051">reflect</span><span class="op" id="6214058">.</span><span class="ident" id="6214059">Ptr</span>&nbsp;<span class="op" id="6214063">&amp;&amp;</span>&nbsp;<span class="op" id="6214066">!</span><span class="ident" id="6214067">e</span><span class="op" id="6214068">.</span><span class="ident" id="6214069">IsNil</span><span class="op" id="6214074">(</span><span class="op" id="6214075">)</span>&nbsp;<span class="op" id="6214077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6214082">val</span>&nbsp;<span class="op" id="6214086">=</span>&nbsp;<span class="ident" id="6214088">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214095">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214099">if</span>&nbsp;<span class="ident" id="6214102">val</span><span class="op" id="6214105">.</span><span class="ident" id="6214106">Kind</span><span class="op" id="6214110">(</span><span class="op" id="6214111">)</span>&nbsp;<span class="op" id="6214113">==</span>&nbsp;<span class="ident" id="6214116">reflect</span><span class="op" id="6214123">.</span><span class="ident" id="6214124">Ptr</span>&nbsp;<span class="op" id="6214128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214132">if</span>&nbsp;<span class="ident" id="6214135">val</span><span class="op" id="6214138">.</span><span class="ident" id="6214139">IsNil</span><span class="op" id="6214144">(</span><span class="op" id="6214145">)</span>&nbsp;<span class="op" id="6214147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6214152">val</span><span class="op" id="6214155">.</span><span class="ident" id="6214156">Set</span><span class="op" id="6214159">(</span><span class="ident" id="6214160">reflect</span><span class="op" id="6214167">.</span><span class="ident" id="6214168">New</span><span class="op" id="6214171">(</span><span class="ident" id="6214172">val</span><span class="op" id="6214175">.</span><span class="ident" id="6214176">Type</span><span class="op" id="6214180">(</span><span class="op" id="6214181">)</span><span class="op" id="6214182">.</span><span class="ident" id="6214183">Elem</span><span class="op" id="6214187">(</span><span class="op" id="6214188">)</span><span class="op" id="6214189">)</span><span class="op" id="6214190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214194">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6214198">val</span>&nbsp;<span class="op" id="6214202">=</span>&nbsp;<span class="ident" id="6214204">val</span><span class="op" id="6214207">.</span><span class="ident" id="6214208">Elem</span><span class="op" id="6214212">(</span><span class="op" id="6214213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214220">if</span>&nbsp;<span class="ident" id="6214223">val</span><span class="op" id="6214226">.</span><span class="ident" id="6214227">CanInterface</span><span class="op" id="6214239">(</span><span class="op" id="6214240">)</span>&nbsp;<span class="op" id="6214242">&amp;&amp;</span>&nbsp;<span class="ident" id="6214245">val</span><span class="op" id="6214248">.</span><span class="ident" id="6214249">Type</span><span class="op" id="6214253">(</span><span class="op" id="6214254">)</span><span class="op" id="6214255">.</span><span class="ident" id="6214256">Implements</span><span class="op" id="6214266">(</span><span class="ident" id="6214267">unmarshalerType</span><span class="op" id="6214282">)</span>&nbsp;<span class="op" id="6214284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6214288">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6214345">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214409">return</span>&nbsp;<span class="ident" id="6214416">p</span><span class="op" id="6214417">.</span><span class="ident" id="6214418">unmarshalInterface</span><span class="op" id="6214436">(</span><span class="ident" id="6214437">val</span><span class="op" id="6214440">.</span><span class="ident" id="6214441">Interface</span><span class="op" id="6214450">(</span><span class="op" id="6214451">)</span><span class="op" id="6214452">.</span><span class="op" id="6214453">(</span><span class="ident" id="6214454">Unmarshaler</span><span class="op" id="6214465">)</span><span class="op" id="6214466">,</span>&nbsp;<span class="ident" id="6214468">start</span><span class="op" id="6214473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214480">if</span>&nbsp;<span class="ident" id="6214483">val</span><span class="op" id="6214486">.</span><span class="ident" id="6214487">CanAddr</span><span class="op" id="6214494">(</span><span class="op" id="6214495">)</span>&nbsp;<span class="op" id="6214497">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6214501">pv</span>&nbsp;<span class="op" id="6214504">:=</span>&nbsp;<span class="ident" id="6214507">val</span><span class="op" id="6214510">.</span><span class="ident" id="6214511">Addr</span><span class="op" id="6214515">(</span><span class="op" id="6214516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214520">if</span>&nbsp;<span class="ident" id="6214523">pv</span><span class="op" id="6214525">.</span><span class="ident" id="6214526">CanInterface</span><span class="op" id="6214538">(</span><span class="op" id="6214539">)</span>&nbsp;<span class="op" id="6214541">&amp;&amp;</span>&nbsp;<span class="ident" id="6214544">pv</span><span class="op" id="6214546">.</span><span class="ident" id="6214547">Type</span><span class="op" id="6214551">(</span><span class="op" id="6214552">)</span><span class="op" id="6214553">.</span><span class="ident" id="6214554">Implements</span><span class="op" id="6214564">(</span><span class="ident" id="6214565">unmarshalerType</span><span class="op" id="6214580">)</span>&nbsp;<span class="op" id="6214582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214587">return</span>&nbsp;<span class="ident" id="6214594">p</span><span class="op" id="6214595">.</span><span class="ident" id="6214596">unmarshalInterface</span><span class="op" id="6214614">(</span><span class="ident" id="6214615">pv</span><span class="op" id="6214617">.</span><span class="ident" id="6214618">Interface</span><span class="op" id="6214627">(</span><span class="op" id="6214628">)</span><span class="op" id="6214629">.</span><span class="op" id="6214630">(</span><span class="ident" id="6214631">Unmarshaler</span><span class="op" id="6214642">)</span><span class="op" id="6214643">,</span>&nbsp;<span class="ident" id="6214645">start</span><span class="op" id="6214650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214657">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214661">if</span>&nbsp;<span class="ident" id="6214664">val</span><span class="op" id="6214667">.</span><span class="ident" id="6214668">CanInterface</span><span class="op" id="6214680">(</span><span class="op" id="6214681">)</span>&nbsp;<span class="op" id="6214683">&amp;&amp;</span>&nbsp;<span class="ident" id="6214686">val</span><span class="op" id="6214689">.</span><span class="ident" id="6214690">Type</span><span class="op" id="6214694">(</span><span class="op" id="6214695">)</span><span class="op" id="6214696">.</span><span class="ident" id="6214697">Implements</span><span class="op" id="6214707">(</span><span class="ident" id="6214708">textUnmarshalerType</span><span class="op" id="6214727">)</span>&nbsp;<span class="op" id="6214729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214733">return</span>&nbsp;<span class="ident" id="6214740">p</span><span class="op" id="6214741">.</span><span class="ident" id="6214742">unmarshalTextInterface</span><span class="op" id="6214764">(</span><span class="ident" id="6214765">val</span><span class="op" id="6214768">.</span><span class="ident" id="6214769">Interface</span><span class="op" id="6214778">(</span><span class="op" id="6214779">)</span><span class="op" id="6214780">.</span><span class="op" id="6214781">(</span><span class="ident" id="6214782">encoding</span><span class="op" id="6214790">.</span><span class="ident" id="6214791">TextUnmarshaler</span><span class="op" id="6214806">)</span><span class="op" id="6214807">,</span>&nbsp;<span class="ident" id="6214809">start</span><span class="op" id="6214814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6214817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214821">if</span>&nbsp;<span class="ident" id="6214824">val</span><span class="op" id="6214827">.</span><span class="ident" id="6214828">CanAddr</span><span class="op" id="6214835">(</span><span class="op" id="6214836">)</span>&nbsp;<span class="op" id="6214838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6214842">pv</span>&nbsp;<span class="op" id="6214845">:=</span>&nbsp;<span class="ident" id="6214848">val</span><span class="op" id="6214851">.</span><span class="ident" id="6214852">Addr</span><span class="op" id="6214856">(</span><span class="op" id="6214857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214861">if</span>&nbsp;<span class="ident" id="6214864">pv</span><span class="op" id="6214866">.</span><span class="ident" id="6214867">CanInterface</span><span class="op" id="6214879">(</span><span class="op" id="6214880">)</span>&nbsp;<span class="op" id="6214882">&amp;&amp;</span>&nbsp;<span class="ident" id="6214885">pv</span><span class="op" id="6214887">.</span><span class="ident" id="6214888">Type</span><span class="op" id="6214892">(</span><span class="op" id="6214893">)</span><span class="op" id="6214894">.</span><span class="ident" id="6214895">Implements</span><span class="op" id="6214905">(</span><span class="ident" id="6214906">textUnmarshalerType</span><span class="op" id="6214925">)</span>&nbsp;<span class="op" id="6214927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6214932">return</span>&nbsp;<span class="ident" id="6214939">p</span><span class="op" id="6214940">.</span><span class="ident" id="6214941">unmarshalTextInterface</span><span class="op" id="6214963">(</span><span class="ident" id="6214964">pv</span><span class="op" id="6214966">.</span><span class="ident" id="6214967">Interface</span><span class="op" id="6214976">(</span><span class="op" id="6214977">)</span><span class="op" id="6214978">.</span><span class="op" id="6214979">(</span><span class="ident" id="6214980">encoding</span><span class="op" id="6214988">.</span><span class="ident" id="6214989">TextUnmarshaler</span><span class="op" id="6215004">)</span><span class="op" id="6215005">,</span>&nbsp;<span class="ident" id="6215007">start</span><span class="op" id="6215012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215016">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215023">var</span>&nbsp;<span class="op" id="6215027">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215031">data</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215044">[</span><span class="op" id="6215045">]</span><span class="builtintype" id="6215046">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215053">saveData</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215066">reflect</span><span class="op" id="6215073">.</span><span class="ident" id="6215074">Value</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215082">comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215095">[</span><span class="op" id="6215096">]</span><span class="builtintype" id="6215097">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215104">saveComment</span>&nbsp;&nbsp;<span class="ident" id="6215117">reflect</span><span class="op" id="6215124">.</span><span class="ident" id="6215125">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215133">saveXML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215146">reflect</span><span class="op" id="6215153">.</span><span class="ident" id="6215154">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215162">saveXMLIndex</span>&nbsp;<span class="builtintype" id="6215175">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215181">saveXMLData</span>&nbsp;&nbsp;<span class="op" id="6215194">[</span><span class="op" id="6215195">]</span><span class="builtintype" id="6215196">byte</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215203">saveAny</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215216">reflect</span><span class="op" id="6215223">.</span><span class="ident" id="6215224">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215232">sv</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215245">reflect</span><span class="op" id="6215252">.</span><span class="ident" id="6215253">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215261">tinfo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215274">*</span><span class="ident" id="6215275">typeInfo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215286">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6215299">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215306">)</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215310">switch</span>&nbsp;<span class="ident" id="6215317">v</span>&nbsp;<span class="op" id="6215319">:=</span>&nbsp;<span class="ident" id="6215322">val</span><span class="op" id="6215325">;</span>&nbsp;<span class="ident" id="6215327">v</span><span class="op" id="6215328">.</span><span class="ident" id="6215329">Kind</span><span class="op" id="6215333">(</span><span class="op" id="6215334">)</span>&nbsp;<span class="op" id="6215336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215339">default</span><span class="op" id="6215346">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215350">return</span>&nbsp;<span class="ident" id="6215357">errors</span><span class="op" id="6215363">.</span><span class="ident" id="6215364">New</span><span class="op" id="6215367">(</span><span class="string" id="6215368">&#34;unknown&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="6215384">+</span>&nbsp;<span class="ident" id="6215386">v</span><span class="op" id="6215387">.</span><span class="ident" id="6215388">Type</span><span class="op" id="6215392">(</span><span class="op" id="6215393">)</span><span class="op" id="6215394">.</span><span class="ident" id="6215395">String</span><span class="op" id="6215401">(</span><span class="op" id="6215402">)</span><span class="op" id="6215403">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215407">case</span>&nbsp;<span class="ident" id="6215412">reflect</span><span class="op" id="6215419">.</span><span class="ident" id="6215420">Interface</span><span class="op" id="6215429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215433">//&nbsp;TODO:&nbsp;For&nbsp;now,&nbsp;simply&nbsp;ignore&nbsp;the&nbsp;field.&nbsp;In&nbsp;the&nbsp;near</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215490">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;we&nbsp;may&nbsp;choose&nbsp;to&nbsp;unmarshal&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215545">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;on&nbsp;it,&nbsp;if&nbsp;not&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215583">return</span>&nbsp;<span class="ident" id="6215590">p</span><span class="op" id="6215591">.</span><span class="ident" id="6215592">Skip</span><span class="op" id="6215596">(</span><span class="op" id="6215597">)</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215601">case</span>&nbsp;<span class="ident" id="6215606">reflect</span><span class="op" id="6215613">.</span><span class="ident" id="6215614">Slice</span><span class="op" id="6215619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215623">typ</span>&nbsp;<span class="op" id="6215627">:=</span>&nbsp;<span class="ident" id="6215630">v</span><span class="op" id="6215631">.</span><span class="ident" id="6215632">Type</span><span class="op" id="6215636">(</span><span class="op" id="6215637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215641">if</span>&nbsp;<span class="ident" id="6215644">typ</span><span class="op" id="6215647">.</span><span class="ident" id="6215648">Elem</span><span class="op" id="6215652">(</span><span class="op" id="6215653">)</span><span class="op" id="6215654">.</span><span class="ident" id="6215655">Kind</span><span class="op" id="6215659">(</span><span class="op" id="6215660">)</span>&nbsp;<span class="op" id="6215662">==</span>&nbsp;<span class="ident" id="6215665">reflect</span><span class="op" id="6215672">.</span><span class="ident" id="6215673">Uint8</span>&nbsp;<span class="op" id="6215679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215684">//&nbsp;[]byte</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215697">saveData</span>&nbsp;<span class="op" id="6215706">=</span>&nbsp;<span class="ident" id="6215708">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215713">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215726">//&nbsp;Slice&nbsp;of&nbsp;element&nbsp;values.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215756">//&nbsp;Grow&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215773">n</span>&nbsp;<span class="op" id="6215775">:=</span>&nbsp;<span class="ident" id="6215778">v</span><span class="op" id="6215779">.</span><span class="ident" id="6215780">Len</span><span class="op" id="6215783">(</span><span class="op" id="6215784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215788">if</span>&nbsp;<span class="ident" id="6215791">n</span>&nbsp;<span class="op" id="6215793">&gt;=</span>&nbsp;<span class="ident" id="6215796">v</span><span class="op" id="6215797">.</span><span class="ident" id="6215798">Cap</span><span class="op" id="6215801">(</span><span class="op" id="6215802">)</span>&nbsp;<span class="op" id="6215804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215809">ncap</span>&nbsp;<span class="op" id="6215814">:=</span>&nbsp;<span class="num" id="6215817">2</span>&nbsp;<span class="op" id="6215819">*</span>&nbsp;<span class="ident" id="6215821">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6215826">if</span>&nbsp;<span class="ident" id="6215829">ncap</span>&nbsp;<span class="op" id="6215834">&lt;</span>&nbsp;<span class="num" id="6215836">4</span>&nbsp;<span class="op" id="6215838">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215844">ncap</span>&nbsp;<span class="op" id="6215849">=</span>&nbsp;<span class="num" id="6215851">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6215861">new</span>&nbsp;<span class="op" id="6215865">:=</span>&nbsp;<span class="ident" id="6215868">reflect</span><span class="op" id="6215875">.</span><span class="ident" id="6215876">MakeSlice</span><span class="op" id="6215885">(</span><span class="ident" id="6215886">typ</span><span class="op" id="6215889">,</span>&nbsp;<span class="ident" id="6215891">n</span><span class="op" id="6215892">,</span>&nbsp;<span class="ident" id="6215894">ncap</span><span class="op" id="6215898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215903">reflect</span><span class="op" id="6215910">.</span><span class="ident" id="6215911">Copy</span><span class="op" id="6215915">(</span><span class="builtinfunc" id="6215916">new</span><span class="op" id="6215919">,</span>&nbsp;<span class="ident" id="6215921">v</span><span class="op" id="6215922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215927">v</span><span class="op" id="6215928">.</span><span class="ident" id="6215929">Set</span><span class="op" id="6215932">(</span><span class="builtinfunc" id="6215933">new</span><span class="op" id="6215936">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6215940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6215944">v</span><span class="op" id="6215945">.</span><span class="ident" id="6215946">SetLen</span><span class="op" id="6215952">(</span><span class="ident" id="6215953">n</span>&nbsp;<span class="op" id="6215955">+</span>&nbsp;<span class="num" id="6215957">1</span><span class="op" id="6215958">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6215963">//&nbsp;Recur&nbsp;to&nbsp;read&nbsp;element&nbsp;into&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216002">if</span>&nbsp;<span class="ident" id="6216005">err</span>&nbsp;<span class="op" id="6216009">:=</span>&nbsp;<span class="ident" id="6216012">p</span><span class="op" id="6216013">.</span><span class="ident" id="6216014">unmarshal</span><span class="op" id="6216023">(</span><span class="ident" id="6216024">v</span><span class="op" id="6216025">.</span><span class="ident" id="6216026">Index</span><span class="op" id="6216031">(</span><span class="ident" id="6216032">n</span><span class="op" id="6216033">)</span><span class="op" id="6216034">,</span>&nbsp;<span class="ident" id="6216036">start</span><span class="op" id="6216041">)</span><span class="op" id="6216042">;</span>&nbsp;<span class="ident" id="6216044">err</span>&nbsp;<span class="op" id="6216048">!=</span>&nbsp;<span class="builtintype" id="6216051">nil</span>&nbsp;<span class="op" id="6216055">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216060">v</span><span class="op" id="6216061">.</span><span class="ident" id="6216062">SetLen</span><span class="op" id="6216068">(</span><span class="ident" id="6216069">n</span><span class="op" id="6216070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216075">return</span>&nbsp;<span class="ident" id="6216082">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6216088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216092">return</span>&nbsp;<span class="builtintype" id="6216099">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216105">case</span>&nbsp;<span class="ident" id="6216110">reflect</span><span class="op" id="6216117">.</span><span class="ident" id="6216118">Bool</span><span class="op" id="6216122">,</span>&nbsp;<span class="ident" id="6216124">reflect</span><span class="op" id="6216131">.</span><span class="ident" id="6216132">Float32</span><span class="op" id="6216139">,</span>&nbsp;<span class="ident" id="6216141">reflect</span><span class="op" id="6216148">.</span><span class="ident" id="6216149">Float64</span><span class="op" id="6216156">,</span>&nbsp;<span class="ident" id="6216158">reflect</span><span class="op" id="6216165">.</span><span class="ident" id="6216166">Int</span><span class="op" id="6216169">,</span>&nbsp;<span class="ident" id="6216171">reflect</span><span class="op" id="6216178">.</span><span class="ident" id="6216179">Int8</span><span class="op" id="6216183">,</span>&nbsp;<span class="ident" id="6216185">reflect</span><span class="op" id="6216192">.</span><span class="ident" id="6216193">Int16</span><span class="op" id="6216198">,</span>&nbsp;<span class="ident" id="6216200">reflect</span><span class="op" id="6216207">.</span><span class="ident" id="6216208">Int32</span><span class="op" id="6216213">,</span>&nbsp;<span class="ident" id="6216215">reflect</span><span class="op" id="6216222">.</span><span class="ident" id="6216223">Int64</span><span class="op" id="6216228">,</span>&nbsp;<span class="ident" id="6216230">reflect</span><span class="op" id="6216237">.</span><span class="ident" id="6216238">Uint</span><span class="op" id="6216242">,</span>&nbsp;<span class="ident" id="6216244">reflect</span><span class="op" id="6216251">.</span><span class="ident" id="6216252">Uint8</span><span class="op" id="6216257">,</span>&nbsp;<span class="ident" id="6216259">reflect</span><span class="op" id="6216266">.</span><span class="ident" id="6216267">Uint16</span><span class="op" id="6216273">,</span>&nbsp;<span class="ident" id="6216275">reflect</span><span class="op" id="6216282">.</span><span class="ident" id="6216283">Uint32</span><span class="op" id="6216289">,</span>&nbsp;<span class="ident" id="6216291">reflect</span><span class="op" id="6216298">.</span><span class="ident" id="6216299">Uint64</span><span class="op" id="6216305">,</span>&nbsp;<span class="ident" id="6216307">reflect</span><span class="op" id="6216314">.</span><span class="ident" id="6216315">Uintptr</span><span class="op" id="6216322">,</span>&nbsp;<span class="ident" id="6216324">reflect</span><span class="op" id="6216331">.</span><span class="ident" id="6216332">String</span><span class="op" id="6216338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216342">saveData</span>&nbsp;<span class="op" id="6216351">=</span>&nbsp;<span class="ident" id="6216353">v</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216357">case</span>&nbsp;<span class="ident" id="6216362">reflect</span><span class="op" id="6216369">.</span><span class="ident" id="6216370">Struct</span><span class="op" id="6216376">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216380">typ</span>&nbsp;<span class="op" id="6216384">:=</span>&nbsp;<span class="ident" id="6216387">v</span><span class="op" id="6216388">.</span><span class="ident" id="6216389">Type</span><span class="op" id="6216393">(</span><span class="op" id="6216394">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216398">if</span>&nbsp;<span class="ident" id="6216401">typ</span>&nbsp;<span class="op" id="6216405">==</span>&nbsp;<span class="ident" id="6216408">nameType</span>&nbsp;<span class="op" id="6216417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216422">v</span><span class="op" id="6216423">.</span><span class="ident" id="6216424">Set</span><span class="op" id="6216427">(</span><span class="ident" id="6216428">reflect</span><span class="op" id="6216435">.</span><span class="ident" id="6216436">ValueOf</span><span class="op" id="6216443">(</span><span class="ident" id="6216444">start</span><span class="op" id="6216449">.</span><span class="ident" id="6216450">Name</span><span class="op" id="6216454">)</span><span class="op" id="6216455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216460">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6216468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216473">sv</span>&nbsp;<span class="op" id="6216476">=</span>&nbsp;<span class="ident" id="6216478">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216482">tinfo</span><span class="op" id="6216487">,</span>&nbsp;<span class="ident" id="6216489">err</span>&nbsp;<span class="op" id="6216493">=</span>&nbsp;<span class="ident" id="6216495">getTypeInfo</span><span class="op" id="6216506">(</span><span class="ident" id="6216507">typ</span><span class="op" id="6216510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216514">if</span>&nbsp;<span class="ident" id="6216517">err</span>&nbsp;<span class="op" id="6216521">!=</span>&nbsp;<span class="builtintype" id="6216524">nil</span>&nbsp;<span class="op" id="6216528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216533">return</span>&nbsp;<span class="ident" id="6216540">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6216546">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6216551">//&nbsp;Validate&nbsp;and&nbsp;assign&nbsp;element&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216590">if</span>&nbsp;<span class="ident" id="6216593">tinfo</span><span class="op" id="6216598">.</span><span class="ident" id="6216599">xmlname</span>&nbsp;<span class="op" id="6216607">!=</span>&nbsp;<span class="builtintype" id="6216610">nil</span>&nbsp;<span class="op" id="6216614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216619">finfo</span>&nbsp;<span class="op" id="6216625">:=</span>&nbsp;<span class="ident" id="6216628">tinfo</span><span class="op" id="6216633">.</span><span class="ident" id="6216634">xmlname</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216645">if</span>&nbsp;<span class="ident" id="6216648">finfo</span><span class="op" id="6216653">.</span><span class="ident" id="6216654">name</span>&nbsp;<span class="op" id="6216659">!=</span>&nbsp;<span class="string" id="6216662">&#34;&#34;</span>&nbsp;<span class="op" id="6216665">&amp;&amp;</span>&nbsp;<span class="ident" id="6216668">finfo</span><span class="op" id="6216673">.</span><span class="ident" id="6216674">name</span>&nbsp;<span class="op" id="6216679">!=</span>&nbsp;<span class="ident" id="6216682">start</span><span class="op" id="6216687">.</span><span class="ident" id="6216688">Name</span><span class="op" id="6216692">.</span><span class="ident" id="6216693">Local</span>&nbsp;<span class="op" id="6216699">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216705">return</span>&nbsp;<span class="ident" id="6216712">UnmarshalError</span><span class="op" id="6216726">(</span><span class="string" id="6216727">&#34;expected&nbsp;element&nbsp;type&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="6216753">+</span>&nbsp;<span class="ident" id="6216755">finfo</span><span class="op" id="6216760">.</span><span class="ident" id="6216761">name</span>&nbsp;<span class="op" id="6216766">+</span>&nbsp;<span class="string" id="6216768">&#34;&gt;&nbsp;but&nbsp;have&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="6216783">+</span>&nbsp;<span class="ident" id="6216785">start</span><span class="op" id="6216790">.</span><span class="ident" id="6216791">Name</span><span class="op" id="6216795">.</span><span class="ident" id="6216796">Local</span>&nbsp;<span class="op" id="6216802">+</span>&nbsp;<span class="string" id="6216804">&#34;&gt;&#34;</span><span class="op" id="6216807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6216812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216817">if</span>&nbsp;<span class="ident" id="6216820">finfo</span><span class="op" id="6216825">.</span><span class="ident" id="6216826">xmlns</span>&nbsp;<span class="op" id="6216832">!=</span>&nbsp;<span class="string" id="6216835">&#34;&#34;</span>&nbsp;<span class="op" id="6216838">&amp;&amp;</span>&nbsp;<span class="ident" id="6216841">finfo</span><span class="op" id="6216846">.</span><span class="ident" id="6216847">xmlns</span>&nbsp;<span class="op" id="6216853">!=</span>&nbsp;<span class="ident" id="6216856">start</span><span class="op" id="6216861">.</span><span class="ident" id="6216862">Name</span><span class="op" id="6216866">.</span><span class="ident" id="6216867">Space</span>&nbsp;<span class="op" id="6216873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6216879">e</span>&nbsp;<span class="op" id="6216881">:=</span>&nbsp;<span class="string" id="6216884">&#34;expected&nbsp;element&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="6216905">+</span>&nbsp;<span class="ident" id="6216907">finfo</span><span class="op" id="6216912">.</span><span class="ident" id="6216913">name</span>&nbsp;<span class="op" id="6216918">+</span>&nbsp;<span class="string" id="6216920">&#34;&gt;&nbsp;in&nbsp;name&nbsp;space&nbsp;&#34;</span>&nbsp;<span class="op" id="6216939">+</span>&nbsp;<span class="ident" id="6216941">finfo</span><span class="op" id="6216946">.</span><span class="ident" id="6216947">xmlns</span>&nbsp;<span class="op" id="6216953">+</span>&nbsp;<span class="string" id="6216955">&#34;&nbsp;but&nbsp;have&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6216972">if</span>&nbsp;<span class="ident" id="6216975">start</span><span class="op" id="6216980">.</span><span class="ident" id="6216981">Name</span><span class="op" id="6216985">.</span><span class="ident" id="6216986">Space</span>&nbsp;<span class="op" id="6216992">==</span>&nbsp;<span class="string" id="6216995">&#34;&#34;</span>&nbsp;<span class="op" id="6216998">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217005">e</span>&nbsp;<span class="op" id="6217007">+=</span>&nbsp;<span class="string" id="6217010">&#34;no&nbsp;name&nbsp;space&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217030">}</span>&nbsp;<span class="keyword" id="6217032">else</span>&nbsp;<span class="op" id="6217037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217044">e</span>&nbsp;<span class="op" id="6217046">+=</span>&nbsp;<span class="ident" id="6217049">start</span><span class="op" id="6217054">.</span><span class="ident" id="6217055">Name</span><span class="op" id="6217059">.</span><span class="ident" id="6217060">Space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217076">return</span>&nbsp;<span class="ident" id="6217083">UnmarshalError</span><span class="op" id="6217097">(</span><span class="ident" id="6217098">e</span><span class="op" id="6217099">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217109">fv</span>&nbsp;<span class="op" id="6217112">:=</span>&nbsp;<span class="ident" id="6217115">finfo</span><span class="op" id="6217120">.</span><span class="ident" id="6217121">value</span><span class="op" id="6217126">(</span><span class="ident" id="6217127">sv</span><span class="op" id="6217129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217134">if</span>&nbsp;<span class="ident" id="6217137">_</span><span class="op" id="6217138">,</span>&nbsp;<span class="ident" id="6217140">ok</span>&nbsp;<span class="op" id="6217143">:=</span>&nbsp;<span class="ident" id="6217146">fv</span><span class="op" id="6217148">.</span><span class="ident" id="6217149">Interface</span><span class="op" id="6217158">(</span><span class="op" id="6217159">)</span><span class="op" id="6217160">.</span><span class="op" id="6217161">(</span><span class="ident" id="6217162">Name</span><span class="op" id="6217166">)</span><span class="op" id="6217167">;</span>&nbsp;<span class="ident" id="6217169">ok</span>&nbsp;<span class="op" id="6217172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217178">fv</span><span class="op" id="6217180">.</span><span class="ident" id="6217181">Set</span><span class="op" id="6217184">(</span><span class="ident" id="6217185">reflect</span><span class="op" id="6217192">.</span><span class="ident" id="6217193">ValueOf</span><span class="op" id="6217200">(</span><span class="ident" id="6217201">start</span><span class="op" id="6217206">.</span><span class="ident" id="6217207">Name</span><span class="op" id="6217211">)</span><span class="op" id="6217212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217217">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6217226">//&nbsp;Assign&nbsp;attributes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6217250">//&nbsp;Also,&nbsp;determine&nbsp;whether&nbsp;we&nbsp;need&nbsp;to&nbsp;save&nbsp;character&nbsp;data&nbsp;or&nbsp;comments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217323">for</span>&nbsp;<span class="ident" id="6217327">i</span>&nbsp;<span class="op" id="6217329">:=</span>&nbsp;<span class="keyword" id="6217332">range</span>&nbsp;<span class="ident" id="6217338">tinfo</span><span class="op" id="6217343">.</span><span class="ident" id="6217344">fields</span>&nbsp;<span class="op" id="6217351">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217356">finfo</span>&nbsp;<span class="op" id="6217362">:=</span>&nbsp;<span class="op" id="6217365">&amp;</span><span class="ident" id="6217366">tinfo</span><span class="op" id="6217371">.</span><span class="ident" id="6217372">fields</span><span class="op" id="6217378">[</span><span class="ident" id="6217379">i</span><span class="op" id="6217380">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217385">switch</span>&nbsp;<span class="ident" id="6217392">finfo</span><span class="op" id="6217397">.</span><span class="ident" id="6217398">flags</span>&nbsp;<span class="op" id="6217404">&amp;</span>&nbsp;<span class="ident" id="6217406">fMode</span>&nbsp;<span class="op" id="6217412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217417">case</span>&nbsp;<span class="ident" id="6217422">fAttr</span><span class="op" id="6217427">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217433">strv</span>&nbsp;<span class="op" id="6217438">:=</span>&nbsp;<span class="ident" id="6217441">finfo</span><span class="op" id="6217446">.</span><span class="ident" id="6217447">value</span><span class="op" id="6217452">(</span><span class="ident" id="6217453">sv</span><span class="op" id="6217455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6217461">//&nbsp;Look&nbsp;for&nbsp;attribute.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217488">for</span>&nbsp;<span class="ident" id="6217492">_</span><span class="op" id="6217493">,</span>&nbsp;<span class="ident" id="6217495">a</span>&nbsp;<span class="op" id="6217497">:=</span>&nbsp;<span class="keyword" id="6217500">range</span>&nbsp;<span class="ident" id="6217506">start</span><span class="op" id="6217511">.</span><span class="ident" id="6217512">Attr</span>&nbsp;<span class="op" id="6217517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217524">if</span>&nbsp;<span class="ident" id="6217527">a</span><span class="op" id="6217528">.</span><span class="ident" id="6217529">Name</span><span class="op" id="6217533">.</span><span class="ident" id="6217534">Local</span>&nbsp;<span class="op" id="6217540">==</span>&nbsp;<span class="ident" id="6217543">finfo</span><span class="op" id="6217548">.</span><span class="ident" id="6217549">name</span>&nbsp;<span class="op" id="6217554">&amp;&amp;</span>&nbsp;<span class="op" id="6217557">(</span><span class="ident" id="6217558">finfo</span><span class="op" id="6217563">.</span><span class="ident" id="6217564">xmlns</span>&nbsp;<span class="op" id="6217570">==</span>&nbsp;<span class="string" id="6217573">&#34;&#34;</span>&nbsp;<span class="op" id="6217576">||</span>&nbsp;<span class="ident" id="6217579">finfo</span><span class="op" id="6217584">.</span><span class="ident" id="6217585">xmlns</span>&nbsp;<span class="op" id="6217591">==</span>&nbsp;<span class="ident" id="6217594">a</span><span class="op" id="6217595">.</span><span class="ident" id="6217596">Name</span><span class="op" id="6217600">.</span><span class="ident" id="6217601">Space</span><span class="op" id="6217606">)</span>&nbsp;<span class="op" id="6217608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217616">if</span>&nbsp;<span class="ident" id="6217619">err</span>&nbsp;<span class="op" id="6217623">:=</span>&nbsp;<span class="ident" id="6217626">p</span><span class="op" id="6217627">.</span><span class="ident" id="6217628">unmarshalAttr</span><span class="op" id="6217641">(</span><span class="ident" id="6217642">strv</span><span class="op" id="6217646">,</span>&nbsp;<span class="ident" id="6217648">a</span><span class="op" id="6217649">)</span><span class="op" id="6217650">;</span>&nbsp;<span class="ident" id="6217652">err</span>&nbsp;<span class="op" id="6217656">!=</span>&nbsp;<span class="builtintype" id="6217659">nil</span>&nbsp;<span class="op" id="6217663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217672">return</span>&nbsp;<span class="ident" id="6217679">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217689">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217697">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217720">case</span>&nbsp;<span class="ident" id="6217725">fCharData</span><span class="op" id="6217734">:</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217740">if</span>&nbsp;<span class="op" id="6217743">!</span><span class="ident" id="6217744">saveData</span><span class="op" id="6217752">.</span><span class="ident" id="6217753">IsValid</span><span class="op" id="6217760">(</span><span class="op" id="6217761">)</span>&nbsp;<span class="op" id="6217763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217770">saveData</span>&nbsp;<span class="op" id="6217779">=</span>&nbsp;<span class="ident" id="6217781">finfo</span><span class="op" id="6217786">.</span><span class="ident" id="6217787">value</span><span class="op" id="6217792">(</span><span class="ident" id="6217793">sv</span><span class="op" id="6217795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217807">case</span>&nbsp;<span class="ident" id="6217812">fComment</span><span class="op" id="6217820">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217826">if</span>&nbsp;<span class="op" id="6217829">!</span><span class="ident" id="6217830">saveComment</span><span class="op" id="6217841">.</span><span class="ident" id="6217842">IsValid</span><span class="op" id="6217849">(</span><span class="op" id="6217850">)</span>&nbsp;<span class="op" id="6217852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217859">saveComment</span>&nbsp;<span class="op" id="6217871">=</span>&nbsp;<span class="ident" id="6217873">finfo</span><span class="op" id="6217878">.</span><span class="ident" id="6217879">value</span><span class="op" id="6217884">(</span><span class="ident" id="6217885">sv</span><span class="op" id="6217887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217899">case</span>&nbsp;<span class="ident" id="6217904">fAny</span><span class="op" id="6217908">,</span>&nbsp;<span class="ident" id="6217910">fAny</span>&nbsp;<span class="op" id="6217915">|</span>&nbsp;<span class="ident" id="6217917">fElement</span><span class="op" id="6217925">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217931">if</span>&nbsp;<span class="op" id="6217934">!</span><span class="ident" id="6217935">saveAny</span><span class="op" id="6217942">.</span><span class="ident" id="6217943">IsValid</span><span class="op" id="6217950">(</span><span class="op" id="6217951">)</span>&nbsp;<span class="op" id="6217953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6217960">saveAny</span>&nbsp;<span class="op" id="6217968">=</span>&nbsp;<span class="ident" id="6217970">finfo</span><span class="op" id="6217975">.</span><span class="ident" id="6217976">value</span><span class="op" id="6217981">(</span><span class="ident" id="6217982">sv</span><span class="op" id="6217984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6217990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6217996">case</span>&nbsp;<span class="ident" id="6218001">fInnerXml</span><span class="op" id="6218010">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218016">if</span>&nbsp;<span class="op" id="6218019">!</span><span class="ident" id="6218020">saveXML</span><span class="op" id="6218027">.</span><span class="ident" id="6218028">IsValid</span><span class="op" id="6218035">(</span><span class="op" id="6218036">)</span>&nbsp;<span class="op" id="6218038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218045">saveXML</span>&nbsp;<span class="op" id="6218053">=</span>&nbsp;<span class="ident" id="6218055">finfo</span><span class="op" id="6218060">.</span><span class="ident" id="6218061">value</span><span class="op" id="6218066">(</span><span class="ident" id="6218067">sv</span><span class="op" id="6218069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218076">if</span>&nbsp;<span class="ident" id="6218079">p</span><span class="op" id="6218080">.</span><span class="ident" id="6218081">saved</span>&nbsp;<span class="op" id="6218087">==</span>&nbsp;<span class="builtintype" id="6218090">nil</span>&nbsp;<span class="op" id="6218094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218102">saveXMLIndex</span>&nbsp;<span class="op" id="6218115">=</span>&nbsp;<span class="num" id="6218117">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218125">p</span><span class="op" id="6218126">.</span><span class="ident" id="6218127">saved</span>&nbsp;<span class="op" id="6218133">=</span>&nbsp;<span class="builtinfunc" id="6218135">new</span><span class="op" id="6218138">(</span><span class="ident" id="6218139">bytes</span><span class="op" id="6218144">.</span><span class="ident" id="6218145">Buffer</span><span class="op" id="6218151">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218158">}</span>&nbsp;<span class="keyword" id="6218160">else</span>&nbsp;<span class="op" id="6218165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218173">saveXMLIndex</span>&nbsp;<span class="op" id="6218186">=</span>&nbsp;<span class="ident" id="6218188">p</span><span class="op" id="6218189">.</span><span class="ident" id="6218190">savedOffset</span><span class="op" id="6218201">(</span><span class="op" id="6218202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218220">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6218231">//&nbsp;Find&nbsp;end&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6218253">//&nbsp;Process&nbsp;sub-elements&nbsp;along&nbsp;the&nbsp;way.</span><br>
<span class="lineno">465</span><span class="ident" id="6218292">Loop</span><span class="op" id="6218296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218299">for</span>&nbsp;<span class="op" id="6218303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218307">var</span>&nbsp;<span class="ident" id="6218311">savedOffset</span>&nbsp;<span class="builtintype" id="6218323">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218329">if</span>&nbsp;<span class="ident" id="6218332">saveXML</span><span class="op" id="6218339">.</span><span class="ident" id="6218340">IsValid</span><span class="op" id="6218347">(</span><span class="op" id="6218348">)</span>&nbsp;<span class="op" id="6218350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218355">savedOffset</span>&nbsp;<span class="op" id="6218367">=</span>&nbsp;<span class="ident" id="6218369">p</span><span class="op" id="6218370">.</span><span class="ident" id="6218371">savedOffset</span><span class="op" id="6218382">(</span><span class="op" id="6218383">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218391">tok</span><span class="op" id="6218394">,</span>&nbsp;<span class="ident" id="6218396">err</span>&nbsp;<span class="op" id="6218400">:=</span>&nbsp;<span class="ident" id="6218403">p</span><span class="op" id="6218404">.</span><span class="ident" id="6218405">Token</span><span class="op" id="6218410">(</span><span class="op" id="6218411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218415">if</span>&nbsp;<span class="ident" id="6218418">err</span>&nbsp;<span class="op" id="6218422">!=</span>&nbsp;<span class="builtintype" id="6218425">nil</span>&nbsp;<span class="op" id="6218429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218434">return</span>&nbsp;<span class="ident" id="6218441">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218447">}</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218451">switch</span>&nbsp;<span class="ident" id="6218458">t</span>&nbsp;<span class="op" id="6218460">:=</span>&nbsp;<span class="ident" id="6218463">tok</span><span class="op" id="6218466">.</span><span class="op" id="6218467">(</span><span class="keyword" id="6218468">type</span><span class="op" id="6218472">)</span>&nbsp;<span class="op" id="6218474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218478">case</span>&nbsp;<span class="ident" id="6218483">StartElement</span><span class="op" id="6218495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218500">consumed</span>&nbsp;<span class="op" id="6218509">:=</span>&nbsp;<span class="builtintype" id="6218512">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218521">if</span>&nbsp;<span class="ident" id="6218524">sv</span><span class="op" id="6218526">.</span><span class="ident" id="6218527">IsValid</span><span class="op" id="6218534">(</span><span class="op" id="6218535">)</span>&nbsp;<span class="op" id="6218537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218543">consumed</span><span class="op" id="6218551">,</span>&nbsp;<span class="ident" id="6218553">err</span>&nbsp;<span class="op" id="6218557">=</span>&nbsp;<span class="ident" id="6218559">p</span><span class="op" id="6218560">.</span><span class="ident" id="6218561">unmarshalPath</span><span class="op" id="6218574">(</span><span class="ident" id="6218575">tinfo</span><span class="op" id="6218580">,</span>&nbsp;<span class="ident" id="6218582">sv</span><span class="op" id="6218584">,</span>&nbsp;<span class="builtintype" id="6218586">nil</span><span class="op" id="6218589">,</span>&nbsp;<span class="op" id="6218591">&amp;</span><span class="ident" id="6218592">t</span><span class="op" id="6218593">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218599">if</span>&nbsp;<span class="ident" id="6218602">err</span>&nbsp;<span class="op" id="6218606">!=</span>&nbsp;<span class="builtintype" id="6218609">nil</span>&nbsp;<span class="op" id="6218613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218620">return</span>&nbsp;<span class="ident" id="6218627">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218641">if</span>&nbsp;<span class="op" id="6218644">!</span><span class="ident" id="6218645">consumed</span>&nbsp;<span class="op" id="6218654">&amp;&amp;</span>&nbsp;<span class="ident" id="6218657">saveAny</span><span class="op" id="6218664">.</span><span class="ident" id="6218665">IsValid</span><span class="op" id="6218672">(</span><span class="op" id="6218673">)</span>&nbsp;<span class="op" id="6218675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218682">consumed</span>&nbsp;<span class="op" id="6218691">=</span>&nbsp;<span class="builtintype" id="6218693">true</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218703">if</span>&nbsp;<span class="ident" id="6218706">err</span>&nbsp;<span class="op" id="6218710">:=</span>&nbsp;<span class="ident" id="6218713">p</span><span class="op" id="6218714">.</span><span class="ident" id="6218715">unmarshal</span><span class="op" id="6218724">(</span><span class="ident" id="6218725">saveAny</span><span class="op" id="6218732">,</span>&nbsp;<span class="op" id="6218734">&amp;</span><span class="ident" id="6218735">t</span><span class="op" id="6218736">)</span><span class="op" id="6218737">;</span>&nbsp;<span class="ident" id="6218739">err</span>&nbsp;<span class="op" id="6218743">!=</span>&nbsp;<span class="builtintype" id="6218746">nil</span>&nbsp;<span class="op" id="6218750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218758">return</span>&nbsp;<span class="ident" id="6218765">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218785">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218790">if</span>&nbsp;<span class="op" id="6218793">!</span><span class="ident" id="6218794">consumed</span>&nbsp;<span class="op" id="6218803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218809">if</span>&nbsp;<span class="ident" id="6218812">err</span>&nbsp;<span class="op" id="6218816">:=</span>&nbsp;<span class="ident" id="6218819">p</span><span class="op" id="6218820">.</span><span class="ident" id="6218821">Skip</span><span class="op" id="6218825">(</span><span class="op" id="6218826">)</span><span class="op" id="6218827">;</span>&nbsp;<span class="ident" id="6218829">err</span>&nbsp;<span class="op" id="6218833">!=</span>&nbsp;<span class="builtintype" id="6218836">nil</span>&nbsp;<span class="op" id="6218840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218847">return</span>&nbsp;<span class="ident" id="6218854">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6218867">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218872">case</span>&nbsp;<span class="ident" id="6218877">EndElement</span><span class="op" id="6218887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218892">if</span>&nbsp;<span class="ident" id="6218895">saveXML</span><span class="op" id="6218902">.</span><span class="ident" id="6218903">IsValid</span><span class="op" id="6218910">(</span><span class="op" id="6218911">)</span>&nbsp;<span class="op" id="6218913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6218919">saveXMLData</span>&nbsp;<span class="op" id="6218931">=</span>&nbsp;<span class="ident" id="6218933">p</span><span class="op" id="6218934">.</span><span class="ident" id="6218935">saved</span><span class="op" id="6218940">.</span><span class="ident" id="6218941">Bytes</span><span class="op" id="6218946">(</span><span class="op" id="6218947">)</span><span class="op" id="6218948">[</span><span class="ident" id="6218949">saveXMLIndex</span><span class="op" id="6218961">:</span><span class="ident" id="6218962">savedOffset</span><span class="op" id="6218973">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6218979">if</span>&nbsp;<span class="ident" id="6218982">saveXMLIndex</span>&nbsp;<span class="op" id="6218995">==</span>&nbsp;<span class="num" id="6218998">0</span>&nbsp;<span class="op" id="6219000">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219007">p</span><span class="op" id="6219008">.</span><span class="ident" id="6219009">saved</span>&nbsp;<span class="op" id="6219015">=</span>&nbsp;<span class="builtintype" id="6219017">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219035">break</span>&nbsp;<span class="ident" id="6219041">Loop</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219049">case</span>&nbsp;<span class="ident" id="6219054">CharData</span><span class="op" id="6219062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219067">if</span>&nbsp;<span class="ident" id="6219070">saveData</span><span class="op" id="6219078">.</span><span class="ident" id="6219079">IsValid</span><span class="op" id="6219086">(</span><span class="op" id="6219087">)</span>&nbsp;<span class="op" id="6219089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219095">data</span>&nbsp;<span class="op" id="6219100">=</span>&nbsp;<span class="builtinfunc" id="6219102">append</span><span class="op" id="6219108">(</span><span class="ident" id="6219109">data</span><span class="op" id="6219113">,</span>&nbsp;<span class="ident" id="6219115">t</span><span class="op" id="6219116">...</span><span class="op" id="6219119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219129">case</span>&nbsp;<span class="ident" id="6219134">Comment</span><span class="op" id="6219141">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219146">if</span>&nbsp;<span class="ident" id="6219149">saveComment</span><span class="op" id="6219160">.</span><span class="ident" id="6219161">IsValid</span><span class="op" id="6219168">(</span><span class="op" id="6219169">)</span>&nbsp;<span class="op" id="6219171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219177">comment</span>&nbsp;<span class="op" id="6219185">=</span>&nbsp;<span class="builtinfunc" id="6219187">append</span><span class="op" id="6219193">(</span><span class="ident" id="6219194">comment</span><span class="op" id="6219201">,</span>&nbsp;<span class="ident" id="6219203">t</span><span class="op" id="6219204">...</span><span class="op" id="6219207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219216">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219223">if</span>&nbsp;<span class="ident" id="6219226">saveData</span><span class="op" id="6219234">.</span><span class="ident" id="6219235">IsValid</span><span class="op" id="6219242">(</span><span class="op" id="6219243">)</span>&nbsp;<span class="op" id="6219245">&amp;&amp;</span>&nbsp;<span class="ident" id="6219248">saveData</span><span class="op" id="6219256">.</span><span class="ident" id="6219257">CanInterface</span><span class="op" id="6219269">(</span><span class="op" id="6219270">)</span>&nbsp;<span class="op" id="6219272">&amp;&amp;</span>&nbsp;<span class="ident" id="6219275">saveData</span><span class="op" id="6219283">.</span><span class="ident" id="6219284">Type</span><span class="op" id="6219288">(</span><span class="op" id="6219289">)</span><span class="op" id="6219290">.</span><span class="ident" id="6219291">Implements</span><span class="op" id="6219301">(</span><span class="ident" id="6219302">textUnmarshalerType</span><span class="op" id="6219321">)</span>&nbsp;<span class="op" id="6219323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219327">if</span>&nbsp;<span class="ident" id="6219330">err</span>&nbsp;<span class="op" id="6219334">:=</span>&nbsp;<span class="ident" id="6219337">saveData</span><span class="op" id="6219345">.</span><span class="ident" id="6219346">Interface</span><span class="op" id="6219355">(</span><span class="op" id="6219356">)</span><span class="op" id="6219357">.</span><span class="op" id="6219358">(</span><span class="ident" id="6219359">encoding</span><span class="op" id="6219367">.</span><span class="ident" id="6219368">TextUnmarshaler</span><span class="op" id="6219383">)</span><span class="op" id="6219384">.</span><span class="ident" id="6219385">UnmarshalText</span><span class="op" id="6219398">(</span><span class="ident" id="6219399">data</span><span class="op" id="6219403">)</span><span class="op" id="6219404">;</span>&nbsp;<span class="ident" id="6219406">err</span>&nbsp;<span class="op" id="6219410">!=</span>&nbsp;<span class="builtintype" id="6219413">nil</span>&nbsp;<span class="op" id="6219417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219422">return</span>&nbsp;<span class="ident" id="6219429">err</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219439">saveData</span>&nbsp;<span class="op" id="6219448">=</span>&nbsp;<span class="ident" id="6219450">reflect</span><span class="op" id="6219457">.</span><span class="ident" id="6219458">Value</span><span class="op" id="6219463">{</span><span class="op" id="6219464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219471">if</span>&nbsp;<span class="ident" id="6219474">saveData</span><span class="op" id="6219482">.</span><span class="ident" id="6219483">IsValid</span><span class="op" id="6219490">(</span><span class="op" id="6219491">)</span>&nbsp;<span class="op" id="6219493">&amp;&amp;</span>&nbsp;<span class="ident" id="6219496">saveData</span><span class="op" id="6219504">.</span><span class="ident" id="6219505">CanAddr</span><span class="op" id="6219512">(</span><span class="op" id="6219513">)</span>&nbsp;<span class="op" id="6219515">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219519">pv</span>&nbsp;<span class="op" id="6219522">:=</span>&nbsp;<span class="ident" id="6219525">saveData</span><span class="op" id="6219533">.</span><span class="ident" id="6219534">Addr</span><span class="op" id="6219538">(</span><span class="op" id="6219539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219543">if</span>&nbsp;<span class="ident" id="6219546">pv</span><span class="op" id="6219548">.</span><span class="ident" id="6219549">CanInterface</span><span class="op" id="6219561">(</span><span class="op" id="6219562">)</span>&nbsp;<span class="op" id="6219564">&amp;&amp;</span>&nbsp;<span class="ident" id="6219567">pv</span><span class="op" id="6219569">.</span><span class="ident" id="6219570">Type</span><span class="op" id="6219574">(</span><span class="op" id="6219575">)</span><span class="op" id="6219576">.</span><span class="ident" id="6219577">Implements</span><span class="op" id="6219587">(</span><span class="ident" id="6219588">textUnmarshalerType</span><span class="op" id="6219607">)</span>&nbsp;<span class="op" id="6219609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219614">if</span>&nbsp;<span class="ident" id="6219617">err</span>&nbsp;<span class="op" id="6219621">:=</span>&nbsp;<span class="ident" id="6219624">pv</span><span class="op" id="6219626">.</span><span class="ident" id="6219627">Interface</span><span class="op" id="6219636">(</span><span class="op" id="6219637">)</span><span class="op" id="6219638">.</span><span class="op" id="6219639">(</span><span class="ident" id="6219640">encoding</span><span class="op" id="6219648">.</span><span class="ident" id="6219649">TextUnmarshaler</span><span class="op" id="6219664">)</span><span class="op" id="6219665">.</span><span class="ident" id="6219666">UnmarshalText</span><span class="op" id="6219679">(</span><span class="ident" id="6219680">data</span><span class="op" id="6219684">)</span><span class="op" id="6219685">;</span>&nbsp;<span class="ident" id="6219687">err</span>&nbsp;<span class="op" id="6219691">!=</span>&nbsp;<span class="builtintype" id="6219694">nil</span>&nbsp;<span class="op" id="6219698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219704">return</span>&nbsp;<span class="ident" id="6219711">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219718">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219723">saveData</span>&nbsp;<span class="op" id="6219732">=</span>&nbsp;<span class="ident" id="6219734">reflect</span><span class="op" id="6219741">.</span><span class="ident" id="6219742">Value</span><span class="op" id="6219747">{</span><span class="op" id="6219748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219759">if</span>&nbsp;<span class="ident" id="6219762">err</span>&nbsp;<span class="op" id="6219766">:=</span>&nbsp;<span class="ident" id="6219769">copyValue</span><span class="op" id="6219778">(</span><span class="ident" id="6219779">saveData</span><span class="op" id="6219787">,</span>&nbsp;<span class="ident" id="6219789">data</span><span class="op" id="6219793">)</span><span class="op" id="6219794">;</span>&nbsp;<span class="ident" id="6219796">err</span>&nbsp;<span class="op" id="6219800">!=</span>&nbsp;<span class="builtintype" id="6219803">nil</span>&nbsp;<span class="op" id="6219807">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219811">return</span>&nbsp;<span class="ident" id="6219818">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219827">switch</span>&nbsp;<span class="ident" id="6219834">t</span>&nbsp;<span class="op" id="6219836">:=</span>&nbsp;<span class="ident" id="6219839">saveComment</span><span class="op" id="6219850">;</span>&nbsp;<span class="ident" id="6219852">t</span><span class="op" id="6219853">.</span><span class="ident" id="6219854">Kind</span><span class="op" id="6219858">(</span><span class="op" id="6219859">)</span>&nbsp;<span class="op" id="6219861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219864">case</span>&nbsp;<span class="ident" id="6219869">reflect</span><span class="op" id="6219876">.</span><span class="ident" id="6219877">String</span><span class="op" id="6219883">:</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219887">t</span><span class="op" id="6219888">.</span><span class="ident" id="6219889">SetString</span><span class="op" id="6219898">(</span><span class="builtintype" id="6219899">string</span><span class="op" id="6219905">(</span><span class="ident" id="6219906">comment</span><span class="op" id="6219913">)</span><span class="op" id="6219914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219917">case</span>&nbsp;<span class="ident" id="6219922">reflect</span><span class="op" id="6219929">.</span><span class="ident" id="6219930">Slice</span><span class="op" id="6219935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6219939">t</span><span class="op" id="6219940">.</span><span class="ident" id="6219941">Set</span><span class="op" id="6219944">(</span><span class="ident" id="6219945">reflect</span><span class="op" id="6219952">.</span><span class="ident" id="6219953">ValueOf</span><span class="op" id="6219960">(</span><span class="ident" id="6219961">comment</span><span class="op" id="6219968">)</span><span class="op" id="6219969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6219972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6219976">switch</span>&nbsp;<span class="ident" id="6219983">t</span>&nbsp;<span class="op" id="6219985">:=</span>&nbsp;<span class="ident" id="6219988">saveXML</span><span class="op" id="6219995">;</span>&nbsp;<span class="ident" id="6219997">t</span><span class="op" id="6219998">.</span><span class="ident" id="6219999">Kind</span><span class="op" id="6220003">(</span><span class="op" id="6220004">)</span>&nbsp;<span class="op" id="6220006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220009">case</span>&nbsp;<span class="ident" id="6220014">reflect</span><span class="op" id="6220021">.</span><span class="ident" id="6220022">String</span><span class="op" id="6220028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220032">t</span><span class="op" id="6220033">.</span><span class="ident" id="6220034">SetString</span><span class="op" id="6220043">(</span><span class="builtintype" id="6220044">string</span><span class="op" id="6220050">(</span><span class="ident" id="6220051">saveXMLData</span><span class="op" id="6220062">)</span><span class="op" id="6220063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220066">case</span>&nbsp;<span class="ident" id="6220071">reflect</span><span class="op" id="6220078">.</span><span class="ident" id="6220079">Slice</span><span class="op" id="6220084">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220088">t</span><span class="op" id="6220089">.</span><span class="ident" id="6220090">Set</span><span class="op" id="6220093">(</span><span class="ident" id="6220094">reflect</span><span class="op" id="6220101">.</span><span class="ident" id="6220102">ValueOf</span><span class="op" id="6220109">(</span><span class="ident" id="6220110">saveXMLData</span><span class="op" id="6220121">)</span><span class="op" id="6220122">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6220125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220129">return</span>&nbsp;<span class="builtintype" id="6220136">nil</span><br>
<span class="lineno"></span><span class="op" id="6220140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span><span class="keyword" id="6220143">func</span>&nbsp;<span class="ident" id="6220148">copyValue</span><span class="op" id="6220157">(</span><span class="ident" id="6220158">dst</span>&nbsp;<span class="ident" id="6220162">reflect</span><span class="op" id="6220169">.</span><span class="ident" id="6220170">Value</span><span class="op" id="6220175">,</span>&nbsp;<span class="ident" id="6220177">src</span>&nbsp;<span class="op" id="6220181">[</span><span class="op" id="6220182">]</span><span class="builtintype" id="6220183">byte</span><span class="op" id="6220187">)</span>&nbsp;<span class="op" id="6220189">(</span><span class="ident" id="6220190">err</span>&nbsp;<span class="builtintype" id="6220194">error</span><span class="op" id="6220199">)</span>&nbsp;<span class="op" id="6220201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220204">dst0</span>&nbsp;<span class="op" id="6220209">:=</span>&nbsp;<span class="ident" id="6220212">dst</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220218">if</span>&nbsp;<span class="ident" id="6220221">dst</span><span class="op" id="6220224">.</span><span class="ident" id="6220225">Kind</span><span class="op" id="6220229">(</span><span class="op" id="6220230">)</span>&nbsp;<span class="op" id="6220232">==</span>&nbsp;<span class="ident" id="6220235">reflect</span><span class="op" id="6220242">.</span><span class="ident" id="6220243">Ptr</span>&nbsp;<span class="op" id="6220247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220251">if</span>&nbsp;<span class="ident" id="6220254">dst</span><span class="op" id="6220257">.</span><span class="ident" id="6220258">IsNil</span><span class="op" id="6220263">(</span><span class="op" id="6220264">)</span>&nbsp;<span class="op" id="6220266">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220271">dst</span><span class="op" id="6220274">.</span><span class="ident" id="6220275">Set</span><span class="op" id="6220278">(</span><span class="ident" id="6220279">reflect</span><span class="op" id="6220286">.</span><span class="ident" id="6220287">New</span><span class="op" id="6220290">(</span><span class="ident" id="6220291">dst</span><span class="op" id="6220294">.</span><span class="ident" id="6220295">Type</span><span class="op" id="6220299">(</span><span class="op" id="6220300">)</span><span class="op" id="6220301">.</span><span class="ident" id="6220302">Elem</span><span class="op" id="6220306">(</span><span class="op" id="6220307">)</span><span class="op" id="6220308">)</span><span class="op" id="6220309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6220313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220317">dst</span>&nbsp;<span class="op" id="6220321">=</span>&nbsp;<span class="ident" id="6220323">dst</span><span class="op" id="6220326">.</span><span class="ident" id="6220327">Elem</span><span class="op" id="6220331">(</span><span class="op" id="6220332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6220335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6220339">//&nbsp;Save&nbsp;accumulated&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220366">switch</span>&nbsp;<span class="ident" id="6220373">dst</span><span class="op" id="6220376">.</span><span class="ident" id="6220377">Kind</span><span class="op" id="6220381">(</span><span class="op" id="6220382">)</span>&nbsp;<span class="op" id="6220384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220387">case</span>&nbsp;<span class="ident" id="6220392">reflect</span><span class="op" id="6220399">.</span><span class="ident" id="6220400">Invalid</span><span class="op" id="6220407">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6220411">//&nbsp;Probably&nbsp;a&nbsp;comment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220435">default</span><span class="op" id="6220442">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220446">return</span>&nbsp;<span class="ident" id="6220453">errors</span><span class="op" id="6220459">.</span><span class="ident" id="6220460">New</span><span class="op" id="6220463">(</span><span class="string" id="6220464">&#34;cannot&nbsp;unmarshal&nbsp;into&nbsp;&#34;</span>&nbsp;<span class="op" id="6220489">+</span>&nbsp;<span class="ident" id="6220491">dst0</span><span class="op" id="6220495">.</span><span class="ident" id="6220496">Type</span><span class="op" id="6220500">(</span><span class="op" id="6220501">)</span><span class="op" id="6220502">.</span><span class="ident" id="6220503">String</span><span class="op" id="6220509">(</span><span class="op" id="6220510">)</span><span class="op" id="6220511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220514">case</span>&nbsp;<span class="ident" id="6220519">reflect</span><span class="op" id="6220526">.</span><span class="ident" id="6220527">Int</span><span class="op" id="6220530">,</span>&nbsp;<span class="ident" id="6220532">reflect</span><span class="op" id="6220539">.</span><span class="ident" id="6220540">Int8</span><span class="op" id="6220544">,</span>&nbsp;<span class="ident" id="6220546">reflect</span><span class="op" id="6220553">.</span><span class="ident" id="6220554">Int16</span><span class="op" id="6220559">,</span>&nbsp;<span class="ident" id="6220561">reflect</span><span class="op" id="6220568">.</span><span class="ident" id="6220569">Int32</span><span class="op" id="6220574">,</span>&nbsp;<span class="ident" id="6220576">reflect</span><span class="op" id="6220583">.</span><span class="ident" id="6220584">Int64</span><span class="op" id="6220589">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220593">itmp</span><span class="op" id="6220597">,</span>&nbsp;<span class="ident" id="6220599">err</span>&nbsp;<span class="op" id="6220603">:=</span>&nbsp;<span class="ident" id="6220606">strconv</span><span class="op" id="6220613">.</span><span class="ident" id="6220614">ParseInt</span><span class="op" id="6220622">(</span><span class="builtintype" id="6220623">string</span><span class="op" id="6220629">(</span><span class="ident" id="6220630">src</span><span class="op" id="6220633">)</span><span class="op" id="6220634">,</span>&nbsp;<span class="num" id="6220636">10</span><span class="op" id="6220638">,</span>&nbsp;<span class="ident" id="6220640">dst</span><span class="op" id="6220643">.</span><span class="ident" id="6220644">Type</span><span class="op" id="6220648">(</span><span class="op" id="6220649">)</span><span class="op" id="6220650">.</span><span class="ident" id="6220651">Bits</span><span class="op" id="6220655">(</span><span class="op" id="6220656">)</span><span class="op" id="6220657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220661">if</span>&nbsp;<span class="ident" id="6220664">err</span>&nbsp;<span class="op" id="6220668">!=</span>&nbsp;<span class="builtintype" id="6220671">nil</span>&nbsp;<span class="op" id="6220675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220680">return</span>&nbsp;<span class="ident" id="6220687">err</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6220693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220697">dst</span><span class="op" id="6220700">.</span><span class="ident" id="6220701">SetInt</span><span class="op" id="6220707">(</span><span class="ident" id="6220708">itmp</span><span class="op" id="6220712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220715">case</span>&nbsp;<span class="ident" id="6220720">reflect</span><span class="op" id="6220727">.</span><span class="ident" id="6220728">Uint</span><span class="op" id="6220732">,</span>&nbsp;<span class="ident" id="6220734">reflect</span><span class="op" id="6220741">.</span><span class="ident" id="6220742">Uint8</span><span class="op" id="6220747">,</span>&nbsp;<span class="ident" id="6220749">reflect</span><span class="op" id="6220756">.</span><span class="ident" id="6220757">Uint16</span><span class="op" id="6220763">,</span>&nbsp;<span class="ident" id="6220765">reflect</span><span class="op" id="6220772">.</span><span class="ident" id="6220773">Uint32</span><span class="op" id="6220779">,</span>&nbsp;<span class="ident" id="6220781">reflect</span><span class="op" id="6220788">.</span><span class="ident" id="6220789">Uint64</span><span class="op" id="6220795">,</span>&nbsp;<span class="ident" id="6220797">reflect</span><span class="op" id="6220804">.</span><span class="ident" id="6220805">Uintptr</span><span class="op" id="6220812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220816">utmp</span><span class="op" id="6220820">,</span>&nbsp;<span class="ident" id="6220822">err</span>&nbsp;<span class="op" id="6220826">:=</span>&nbsp;<span class="ident" id="6220829">strconv</span><span class="op" id="6220836">.</span><span class="ident" id="6220837">ParseUint</span><span class="op" id="6220846">(</span><span class="builtintype" id="6220847">string</span><span class="op" id="6220853">(</span><span class="ident" id="6220854">src</span><span class="op" id="6220857">)</span><span class="op" id="6220858">,</span>&nbsp;<span class="num" id="6220860">10</span><span class="op" id="6220862">,</span>&nbsp;<span class="ident" id="6220864">dst</span><span class="op" id="6220867">.</span><span class="ident" id="6220868">Type</span><span class="op" id="6220872">(</span><span class="op" id="6220873">)</span><span class="op" id="6220874">.</span><span class="ident" id="6220875">Bits</span><span class="op" id="6220879">(</span><span class="op" id="6220880">)</span><span class="op" id="6220881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220885">if</span>&nbsp;<span class="ident" id="6220888">err</span>&nbsp;<span class="op" id="6220892">!=</span>&nbsp;<span class="builtintype" id="6220895">nil</span>&nbsp;<span class="op" id="6220899">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220904">return</span>&nbsp;<span class="ident" id="6220911">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6220917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220921">dst</span><span class="op" id="6220924">.</span><span class="ident" id="6220925">SetUint</span><span class="op" id="6220932">(</span><span class="ident" id="6220933">utmp</span><span class="op" id="6220937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6220940">case</span>&nbsp;<span class="ident" id="6220945">reflect</span><span class="op" id="6220952">.</span><span class="ident" id="6220953">Float32</span><span class="op" id="6220960">,</span>&nbsp;<span class="ident" id="6220962">reflect</span><span class="op" id="6220969">.</span><span class="ident" id="6220970">Float64</span><span class="op" id="6220977">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6220981">ftmp</span><span class="op" id="6220985">,</span>&nbsp;<span class="ident" id="6220987">err</span>&nbsp;<span class="op" id="6220991">:=</span>&nbsp;<span class="ident" id="6220994">strconv</span><span class="op" id="6221001">.</span><span class="ident" id="6221002">ParseFloat</span><span class="op" id="6221012">(</span><span class="builtintype" id="6221013">string</span><span class="op" id="6221019">(</span><span class="ident" id="6221020">src</span><span class="op" id="6221023">)</span><span class="op" id="6221024">,</span>&nbsp;<span class="ident" id="6221026">dst</span><span class="op" id="6221029">.</span><span class="ident" id="6221030">Type</span><span class="op" id="6221034">(</span><span class="op" id="6221035">)</span><span class="op" id="6221036">.</span><span class="ident" id="6221037">Bits</span><span class="op" id="6221041">(</span><span class="op" id="6221042">)</span><span class="op" id="6221043">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221047">if</span>&nbsp;<span class="ident" id="6221050">err</span>&nbsp;<span class="op" id="6221054">!=</span>&nbsp;<span class="builtintype" id="6221057">nil</span>&nbsp;<span class="op" id="6221061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221066">return</span>&nbsp;<span class="ident" id="6221073">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6221079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221083">dst</span><span class="op" id="6221086">.</span><span class="ident" id="6221087">SetFloat</span><span class="op" id="6221095">(</span><span class="ident" id="6221096">ftmp</span><span class="op" id="6221100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221103">case</span>&nbsp;<span class="ident" id="6221108">reflect</span><span class="op" id="6221115">.</span><span class="ident" id="6221116">Bool</span><span class="op" id="6221120">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221124">value</span><span class="op" id="6221129">,</span>&nbsp;<span class="ident" id="6221131">err</span>&nbsp;<span class="op" id="6221135">:=</span>&nbsp;<span class="ident" id="6221138">strconv</span><span class="op" id="6221145">.</span><span class="ident" id="6221146">ParseBool</span><span class="op" id="6221155">(</span><span class="ident" id="6221156">strings</span><span class="op" id="6221163">.</span><span class="ident" id="6221164">TrimSpace</span><span class="op" id="6221173">(</span><span class="builtintype" id="6221174">string</span><span class="op" id="6221180">(</span><span class="ident" id="6221181">src</span><span class="op" id="6221184">)</span><span class="op" id="6221185">)</span><span class="op" id="6221186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221190">if</span>&nbsp;<span class="ident" id="6221193">err</span>&nbsp;<span class="op" id="6221197">!=</span>&nbsp;<span class="builtintype" id="6221200">nil</span>&nbsp;<span class="op" id="6221204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221209">return</span>&nbsp;<span class="ident" id="6221216">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6221222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221226">dst</span><span class="op" id="6221229">.</span><span class="ident" id="6221230">SetBool</span><span class="op" id="6221237">(</span><span class="ident" id="6221238">value</span><span class="op" id="6221243">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221246">case</span>&nbsp;<span class="ident" id="6221251">reflect</span><span class="op" id="6221258">.</span><span class="ident" id="6221259">String</span><span class="op" id="6221265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221269">dst</span><span class="op" id="6221272">.</span><span class="ident" id="6221273">SetString</span><span class="op" id="6221282">(</span><span class="builtintype" id="6221283">string</span><span class="op" id="6221289">(</span><span class="ident" id="6221290">src</span><span class="op" id="6221293">)</span><span class="op" id="6221294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221297">case</span>&nbsp;<span class="ident" id="6221302">reflect</span><span class="op" id="6221309">.</span><span class="ident" id="6221310">Slice</span><span class="op" id="6221315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221319">if</span>&nbsp;<span class="builtinfunc" id="6221322">len</span><span class="op" id="6221325">(</span><span class="ident" id="6221326">src</span><span class="op" id="6221329">)</span>&nbsp;<span class="op" id="6221331">==</span>&nbsp;<span class="num" id="6221334">0</span>&nbsp;<span class="op" id="6221336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6221341">//&nbsp;non-nil&nbsp;to&nbsp;flag&nbsp;presence</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221372">src</span>&nbsp;<span class="op" id="6221376">=</span>&nbsp;<span class="op" id="6221378">[</span><span class="op" id="6221379">]</span><span class="builtintype" id="6221380">byte</span><span class="op" id="6221384">{</span><span class="op" id="6221385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6221389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221393">dst</span><span class="op" id="6221396">.</span><span class="ident" id="6221397">SetBytes</span><span class="op" id="6221405">(</span><span class="ident" id="6221406">src</span><span class="op" id="6221409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6221412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221415">return</span>&nbsp;<span class="builtintype" id="6221422">nil</span><br>
<span class="lineno">605</span><span class="op" id="6221426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6221429">//&nbsp;unmarshalPath&nbsp;walks&nbsp;down&nbsp;an&nbsp;XML&nbsp;structure&nbsp;looking&nbsp;for&nbsp;wanted</span><br>
<span class="lineno"></span><span class="comment" id="6221493">//&nbsp;paths,&nbsp;and&nbsp;calls&nbsp;unmarshal&nbsp;on&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="6221532">//&nbsp;The&nbsp;consumed&nbsp;result&nbsp;tells&nbsp;whether&nbsp;XML&nbsp;elements&nbsp;have&nbsp;been&nbsp;consumed</span><br>
<span class="lineno">610</span><span class="comment" id="6221601">//&nbsp;from&nbsp;the&nbsp;Decoder&nbsp;until&nbsp;start&#39;s&nbsp;matching&nbsp;end&nbsp;element,&nbsp;or&nbsp;if&nbsp;it&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="6221668">//&nbsp;still&nbsp;untouched&nbsp;because&nbsp;start&nbsp;is&nbsp;uninteresting&nbsp;for&nbsp;sv&#39;s&nbsp;fields.</span><br>
<span class="lineno"></span><span class="keyword" id="6221735">func</span>&nbsp;<span class="op" id="6221740">(</span><span class="ident" id="6221741">p</span>&nbsp;<span class="op" id="6221743">*</span><span class="ident" id="6221744">Decoder</span><span class="op" id="6221751">)</span>&nbsp;<span class="ident" id="6221753">unmarshalPath</span><span class="op" id="6221766">(</span><span class="ident" id="6221767">tinfo</span>&nbsp;<span class="op" id="6221773">*</span><span class="ident" id="6221774">typeInfo</span><span class="op" id="6221782">,</span>&nbsp;<span class="ident" id="6221784">sv</span>&nbsp;<span class="ident" id="6221787">reflect</span><span class="op" id="6221794">.</span><span class="ident" id="6221795">Value</span><span class="op" id="6221800">,</span>&nbsp;<span class="ident" id="6221802">parents</span>&nbsp;<span class="op" id="6221810">[</span><span class="op" id="6221811">]</span><span class="builtintype" id="6221812">string</span><span class="op" id="6221818">,</span>&nbsp;<span class="ident" id="6221820">start</span>&nbsp;<span class="op" id="6221826">*</span><span class="ident" id="6221827">StartElement</span><span class="op" id="6221839">)</span>&nbsp;<span class="op" id="6221841">(</span><span class="ident" id="6221842">consumed</span>&nbsp;<span class="builtintype" id="6221851">bool</span><span class="op" id="6221855">,</span>&nbsp;<span class="ident" id="6221857">err</span>&nbsp;<span class="builtintype" id="6221861">error</span><span class="op" id="6221866">)</span>&nbsp;<span class="op" id="6221868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221871">recurse</span>&nbsp;<span class="op" id="6221879">:=</span>&nbsp;<span class="builtintype" id="6221882">false</span><br>
<span class="lineno"></span><span class="ident" id="6221888">Loop</span><span class="op" id="6221892">:</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221895">for</span>&nbsp;<span class="ident" id="6221899">i</span>&nbsp;<span class="op" id="6221901">:=</span>&nbsp;<span class="keyword" id="6221904">range</span>&nbsp;<span class="ident" id="6221910">tinfo</span><span class="op" id="6221915">.</span><span class="ident" id="6221916">fields</span>&nbsp;<span class="op" id="6221923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6221927">finfo</span>&nbsp;<span class="op" id="6221933">:=</span>&nbsp;<span class="op" id="6221936">&amp;</span><span class="ident" id="6221937">tinfo</span><span class="op" id="6221942">.</span><span class="ident" id="6221943">fields</span><span class="op" id="6221949">[</span><span class="ident" id="6221950">i</span><span class="op" id="6221951">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6221955">if</span>&nbsp;<span class="ident" id="6221958">finfo</span><span class="op" id="6221963">.</span><span class="ident" id="6221964">flags</span><span class="op" id="6221969">&amp;</span><span class="ident" id="6221970">fElement</span>&nbsp;<span class="op" id="6221979">==</span>&nbsp;<span class="num" id="6221982">0</span>&nbsp;<span class="op" id="6221984">||</span>&nbsp;<span class="builtinfunc" id="6221987">len</span><span class="op" id="6221990">(</span><span class="ident" id="6221991">finfo</span><span class="op" id="6221996">.</span><span class="ident" id="6221997">parents</span><span class="op" id="6222004">)</span>&nbsp;<span class="op" id="6222006">&lt;</span>&nbsp;<span class="builtinfunc" id="6222008">len</span><span class="op" id="6222011">(</span><span class="ident" id="6222012">parents</span><span class="op" id="6222019">)</span>&nbsp;<span class="op" id="6222021">||</span>&nbsp;<span class="ident" id="6222024">finfo</span><span class="op" id="6222029">.</span><span class="ident" id="6222030">xmlns</span>&nbsp;<span class="op" id="6222036">!=</span>&nbsp;<span class="string" id="6222039">&#34;&#34;</span>&nbsp;<span class="op" id="6222042">&amp;&amp;</span>&nbsp;<span class="ident" id="6222045">finfo</span><span class="op" id="6222050">.</span><span class="ident" id="6222051">xmlns</span>&nbsp;<span class="op" id="6222057">!=</span>&nbsp;<span class="ident" id="6222060">start</span><span class="op" id="6222065">.</span><span class="ident" id="6222066">Name</span><span class="op" id="6222070">.</span><span class="ident" id="6222071">Space</span>&nbsp;<span class="op" id="6222077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222082">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222093">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222097">for</span>&nbsp;<span class="ident" id="6222101">j</span>&nbsp;<span class="op" id="6222103">:=</span>&nbsp;<span class="keyword" id="6222106">range</span>&nbsp;<span class="ident" id="6222112">parents</span>&nbsp;<span class="op" id="6222120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222125">if</span>&nbsp;<span class="ident" id="6222128">parents</span><span class="op" id="6222135">[</span><span class="ident" id="6222136">j</span><span class="op" id="6222137">]</span>&nbsp;<span class="op" id="6222139">!=</span>&nbsp;<span class="ident" id="6222142">finfo</span><span class="op" id="6222147">.</span><span class="ident" id="6222148">parents</span><span class="op" id="6222155">[</span><span class="ident" id="6222156">j</span><span class="op" id="6222157">]</span>&nbsp;<span class="op" id="6222159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222165">continue</span>&nbsp;<span class="ident" id="6222174">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222186">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222190">if</span>&nbsp;<span class="builtinfunc" id="6222193">len</span><span class="op" id="6222196">(</span><span class="ident" id="6222197">finfo</span><span class="op" id="6222202">.</span><span class="ident" id="6222203">parents</span><span class="op" id="6222210">)</span>&nbsp;<span class="op" id="6222212">==</span>&nbsp;<span class="builtinfunc" id="6222215">len</span><span class="op" id="6222218">(</span><span class="ident" id="6222219">parents</span><span class="op" id="6222226">)</span>&nbsp;<span class="op" id="6222228">&amp;&amp;</span>&nbsp;<span class="ident" id="6222231">finfo</span><span class="op" id="6222236">.</span><span class="ident" id="6222237">name</span>&nbsp;<span class="op" id="6222242">==</span>&nbsp;<span class="ident" id="6222245">start</span><span class="op" id="6222250">.</span><span class="ident" id="6222251">Name</span><span class="op" id="6222255">.</span><span class="ident" id="6222256">Local</span>&nbsp;<span class="op" id="6222262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222267">//&nbsp;It&#39;s&nbsp;a&nbsp;perfect&nbsp;match,&nbsp;unmarshal&nbsp;the&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222316">return</span>&nbsp;<span class="builtintype" id="6222323">true</span><span class="op" id="6222327">,</span>&nbsp;<span class="ident" id="6222329">p</span><span class="op" id="6222330">.</span><span class="ident" id="6222331">unmarshal</span><span class="op" id="6222340">(</span><span class="ident" id="6222341">finfo</span><span class="op" id="6222346">.</span><span class="ident" id="6222347">value</span><span class="op" id="6222352">(</span><span class="ident" id="6222353">sv</span><span class="op" id="6222355">)</span><span class="op" id="6222356">,</span>&nbsp;<span class="ident" id="6222358">start</span><span class="op" id="6222363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222371">if</span>&nbsp;<span class="builtinfunc" id="6222374">len</span><span class="op" id="6222377">(</span><span class="ident" id="6222378">finfo</span><span class="op" id="6222383">.</span><span class="ident" id="6222384">parents</span><span class="op" id="6222391">)</span>&nbsp;<span class="op" id="6222393">&gt;</span>&nbsp;<span class="builtinfunc" id="6222395">len</span><span class="op" id="6222398">(</span><span class="ident" id="6222399">parents</span><span class="op" id="6222406">)</span>&nbsp;<span class="op" id="6222408">&amp;&amp;</span>&nbsp;<span class="ident" id="6222411">finfo</span><span class="op" id="6222416">.</span><span class="ident" id="6222417">parents</span><span class="op" id="6222424">[</span><span class="builtinfunc" id="6222425">len</span><span class="op" id="6222428">(</span><span class="ident" id="6222429">parents</span><span class="op" id="6222436">)</span><span class="op" id="6222437">]</span>&nbsp;<span class="op" id="6222439">==</span>&nbsp;<span class="ident" id="6222442">start</span><span class="op" id="6222447">.</span><span class="ident" id="6222448">Name</span><span class="op" id="6222452">.</span><span class="ident" id="6222453">Local</span>&nbsp;<span class="op" id="6222459">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222464">//&nbsp;It&#39;s&nbsp;a&nbsp;prefix&nbsp;for&nbsp;the&nbsp;field.&nbsp;Break&nbsp;and&nbsp;recurse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222517">//&nbsp;since&nbsp;it&#39;s&nbsp;not&nbsp;ok&nbsp;for&nbsp;one&nbsp;field&nbsp;path&nbsp;to&nbsp;be&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222573">//&nbsp;the&nbsp;prefix&nbsp;for&nbsp;another&nbsp;field&nbsp;path.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6222614">recurse</span>&nbsp;<span class="op" id="6222622">=</span>&nbsp;<span class="builtintype" id="6222624">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222633">//&nbsp;We&nbsp;can&nbsp;reuse&nbsp;the&nbsp;same&nbsp;slice&nbsp;as&nbsp;long&nbsp;as&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222681">//&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;append&nbsp;to&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6222714">parents</span>&nbsp;<span class="op" id="6222722">=</span>&nbsp;<span class="ident" id="6222724">finfo</span><span class="op" id="6222729">.</span><span class="ident" id="6222730">parents</span><span class="op" id="6222737">[</span><span class="op" id="6222738">:</span><span class="builtinfunc" id="6222739">len</span><span class="op" id="6222742">(</span><span class="ident" id="6222743">parents</span><span class="op" id="6222750">)</span><span class="op" id="6222751">+</span><span class="num" id="6222752">1</span><span class="op" id="6222753">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222758">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222766">}</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222772">if</span>&nbsp;<span class="op" id="6222775">!</span><span class="ident" id="6222776">recurse</span>&nbsp;<span class="op" id="6222784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222788">//&nbsp;We&nbsp;have&nbsp;no&nbsp;business&nbsp;with&nbsp;this&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6222832">return</span>&nbsp;<span class="builtintype" id="6222839">false</span><span class="op" id="6222844">,</span>&nbsp;<span class="builtintype" id="6222846">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6222851">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222854">//&nbsp;The&nbsp;element&nbsp;is&nbsp;not&nbsp;a&nbsp;perfect&nbsp;match&nbsp;for&nbsp;any&nbsp;field,&nbsp;but&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222916">//&nbsp;or&nbsp;more&nbsp;fields&nbsp;have&nbsp;the&nbsp;path&nbsp;to&nbsp;this&nbsp;element&nbsp;as&nbsp;a&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6222977">//&nbsp;prefix.&nbsp;Recurse&nbsp;and&nbsp;attempt&nbsp;to&nbsp;match&nbsp;these.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223025">for</span>&nbsp;<span class="op" id="6223029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223033">var</span>&nbsp;<span class="ident" id="6223037">tok</span>&nbsp;<span class="ident" id="6223041">Token</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6223049">tok</span><span class="op" id="6223052">,</span>&nbsp;<span class="ident" id="6223054">err</span>&nbsp;<span class="op" id="6223058">=</span>&nbsp;<span class="ident" id="6223060">p</span><span class="op" id="6223061">.</span><span class="ident" id="6223062">Token</span><span class="op" id="6223067">(</span><span class="op" id="6223068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223072">if</span>&nbsp;<span class="ident" id="6223075">err</span>&nbsp;<span class="op" id="6223079">!=</span>&nbsp;<span class="builtintype" id="6223082">nil</span>&nbsp;<span class="op" id="6223086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223091">return</span>&nbsp;<span class="builtintype" id="6223098">true</span><span class="op" id="6223102">,</span>&nbsp;<span class="ident" id="6223104">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223114">switch</span>&nbsp;<span class="ident" id="6223121">t</span>&nbsp;<span class="op" id="6223123">:=</span>&nbsp;<span class="ident" id="6223126">tok</span><span class="op" id="6223129">.</span><span class="op" id="6223130">(</span><span class="keyword" id="6223131">type</span><span class="op" id="6223135">)</span>&nbsp;<span class="op" id="6223137">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223141">case</span>&nbsp;<span class="ident" id="6223146">StartElement</span><span class="op" id="6223158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6223163">consumed2</span><span class="op" id="6223172">,</span>&nbsp;<span class="ident" id="6223174">err</span>&nbsp;<span class="op" id="6223178">:=</span>&nbsp;<span class="ident" id="6223181">p</span><span class="op" id="6223182">.</span><span class="ident" id="6223183">unmarshalPath</span><span class="op" id="6223196">(</span><span class="ident" id="6223197">tinfo</span><span class="op" id="6223202">,</span>&nbsp;<span class="ident" id="6223204">sv</span><span class="op" id="6223206">,</span>&nbsp;<span class="ident" id="6223208">parents</span><span class="op" id="6223215">,</span>&nbsp;<span class="op" id="6223217">&amp;</span><span class="ident" id="6223218">t</span><span class="op" id="6223219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223224">if</span>&nbsp;<span class="ident" id="6223227">err</span>&nbsp;<span class="op" id="6223231">!=</span>&nbsp;<span class="builtintype" id="6223234">nil</span>&nbsp;<span class="op" id="6223238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223244">return</span>&nbsp;<span class="builtintype" id="6223251">true</span><span class="op" id="6223255">,</span>&nbsp;<span class="ident" id="6223257">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223264">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223269">if</span>&nbsp;<span class="op" id="6223272">!</span><span class="ident" id="6223273">consumed2</span>&nbsp;<span class="op" id="6223283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223289">if</span>&nbsp;<span class="ident" id="6223292">err</span>&nbsp;<span class="op" id="6223296">:=</span>&nbsp;<span class="ident" id="6223299">p</span><span class="op" id="6223300">.</span><span class="ident" id="6223301">Skip</span><span class="op" id="6223305">(</span><span class="op" id="6223306">)</span><span class="op" id="6223307">;</span>&nbsp;<span class="ident" id="6223309">err</span>&nbsp;<span class="op" id="6223313">!=</span>&nbsp;<span class="builtintype" id="6223316">nil</span>&nbsp;<span class="op" id="6223320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223327">return</span>&nbsp;<span class="builtintype" id="6223334">true</span><span class="op" id="6223338">,</span>&nbsp;<span class="ident" id="6223340">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223353">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223357">case</span>&nbsp;<span class="ident" id="6223362">EndElement</span><span class="op" id="6223372">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223377">return</span>&nbsp;<span class="builtintype" id="6223384">true</span><span class="op" id="6223388">,</span>&nbsp;<span class="builtintype" id="6223390">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223399">}</span><br>
<span class="lineno"></span><span class="op" id="6223401">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="comment" id="6223404">//&nbsp;Skip&nbsp;reads&nbsp;tokens&nbsp;until&nbsp;it&nbsp;has&nbsp;consumed&nbsp;the&nbsp;end&nbsp;element</span><br>
<span class="lineno"></span><span class="comment" id="6223463">//&nbsp;matching&nbsp;the&nbsp;most&nbsp;recent&nbsp;start&nbsp;element&nbsp;already&nbsp;consumed.</span><br>
<span class="lineno"></span><span class="comment" id="6223523">//&nbsp;It&nbsp;recurs&nbsp;if&nbsp;it&nbsp;encounters&nbsp;a&nbsp;start&nbsp;element,&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6223591">//&nbsp;skip&nbsp;nested&nbsp;structures.</span><br>
<span class="lineno">675</span><span class="comment" id="6223618">//&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;it&nbsp;finds&nbsp;an&nbsp;end&nbsp;element&nbsp;matching&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="6223682">//&nbsp;element;&nbsp;otherwise&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;problem.</span><br>
<span class="lineno"></span><span class="keyword" id="6223748">func</span>&nbsp;<span class="op" id="6223753">(</span><span class="ident" id="6223754">d</span>&nbsp;<span class="op" id="6223756">*</span><span class="ident" id="6223757">Decoder</span><span class="op" id="6223764">)</span>&nbsp;<span class="ident" id="6223766">Skip</span><span class="op" id="6223770">(</span><span class="op" id="6223771">)</span>&nbsp;<span class="builtintype" id="6223773">error</span>&nbsp;<span class="op" id="6223779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223782">for</span>&nbsp;<span class="op" id="6223786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6223790">tok</span><span class="op" id="6223793">,</span>&nbsp;<span class="ident" id="6223795">err</span>&nbsp;<span class="op" id="6223799">:=</span>&nbsp;<span class="ident" id="6223802">d</span><span class="op" id="6223803">.</span><span class="ident" id="6223804">Token</span><span class="op" id="6223809">(</span><span class="op" id="6223810">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223814">if</span>&nbsp;<span class="ident" id="6223817">err</span>&nbsp;<span class="op" id="6223821">!=</span>&nbsp;<span class="builtintype" id="6223824">nil</span>&nbsp;<span class="op" id="6223828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223833">return</span>&nbsp;<span class="ident" id="6223840">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223850">switch</span>&nbsp;<span class="ident" id="6223857">tok</span><span class="op" id="6223860">.</span><span class="op" id="6223861">(</span><span class="keyword" id="6223862">type</span><span class="op" id="6223866">)</span>&nbsp;<span class="op" id="6223868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223872">case</span>&nbsp;<span class="ident" id="6223877">StartElement</span><span class="op" id="6223889">:</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223894">if</span>&nbsp;<span class="ident" id="6223897">err</span>&nbsp;<span class="op" id="6223901">:=</span>&nbsp;<span class="ident" id="6223904">d</span><span class="op" id="6223905">.</span><span class="ident" id="6223906">Skip</span><span class="op" id="6223910">(</span><span class="op" id="6223911">)</span><span class="op" id="6223912">;</span>&nbsp;<span class="ident" id="6223914">err</span>&nbsp;<span class="op" id="6223918">!=</span>&nbsp;<span class="builtintype" id="6223921">nil</span>&nbsp;<span class="op" id="6223925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223931">return</span>&nbsp;<span class="ident" id="6223938">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223949">case</span>&nbsp;<span class="ident" id="6223954">EndElement</span><span class="op" id="6223964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6223969">return</span>&nbsp;<span class="builtintype" id="6223976">nil</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6223985">}</span><br>
<span class="lineno"></span><span class="op" id="6223987">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
