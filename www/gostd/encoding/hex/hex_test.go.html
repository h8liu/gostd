<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html" class="current">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7739048">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7739103">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7739157">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7739208">package</span>&nbsp;<span class="ident" id="7739216">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739221">import</span>&nbsp;<span class="op" id="7739228">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7739231">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7739240">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7739250">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739253">type</span>&nbsp;<span class="ident" id="7739258">encDecTest</span>&nbsp;<span class="keyword" id="7739269">struct</span>&nbsp;<span class="op" id="7739276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739279">enc</span>&nbsp;<span class="builtintype" id="7739283">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739291">dec</span>&nbsp;<span class="op" id="7739295">[</span><span class="op" id="7739296">]</span><span class="builtintype" id="7739297">byte</span><br>
<span class="lineno">15</span><span class="op" id="7739302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739305">var</span>&nbsp;<span class="ident" id="7739309">encDecTests</span>&nbsp;<span class="op" id="7739321">=</span>&nbsp;<span class="op" id="7739323">[</span><span class="op" id="7739324">]</span><span class="ident" id="7739325">encDecTest</span><span class="op" id="7739335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739338">{</span><span class="string" id="7739339">&#34;&#34;</span><span class="op" id="7739341">,</span>&nbsp;<span class="op" id="7739343">[</span><span class="op" id="7739344">]</span><span class="builtintype" id="7739345">byte</span><span class="op" id="7739349">{</span><span class="op" id="7739350">}</span><span class="op" id="7739351">}</span><span class="op" id="7739352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739355">{</span><span class="string" id="7739356">&#34;0001020304050607&#34;</span><span class="op" id="7739374">,</span>&nbsp;<span class="op" id="7739376">[</span><span class="op" id="7739377">]</span><span class="builtintype" id="7739378">byte</span><span class="op" id="7739382">{</span><span class="num" id="7739383">0</span><span class="op" id="7739384">,</span>&nbsp;<span class="num" id="7739386">1</span><span class="op" id="7739387">,</span>&nbsp;<span class="num" id="7739389">2</span><span class="op" id="7739390">,</span>&nbsp;<span class="num" id="7739392">3</span><span class="op" id="7739393">,</span>&nbsp;<span class="num" id="7739395">4</span><span class="op" id="7739396">,</span>&nbsp;<span class="num" id="7739398">5</span><span class="op" id="7739399">,</span>&nbsp;<span class="num" id="7739401">6</span><span class="op" id="7739402">,</span>&nbsp;<span class="num" id="7739404">7</span><span class="op" id="7739405">}</span><span class="op" id="7739406">}</span><span class="op" id="7739407">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739410">{</span><span class="string" id="7739411">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="7739429">,</span>&nbsp;<span class="op" id="7739431">[</span><span class="op" id="7739432">]</span><span class="builtintype" id="7739433">byte</span><span class="op" id="7739437">{</span><span class="num" id="7739438">8</span><span class="op" id="7739439">,</span>&nbsp;<span class="num" id="7739441">9</span><span class="op" id="7739442">,</span>&nbsp;<span class="num" id="7739444">10</span><span class="op" id="7739446">,</span>&nbsp;<span class="num" id="7739448">11</span><span class="op" id="7739450">,</span>&nbsp;<span class="num" id="7739452">12</span><span class="op" id="7739454">,</span>&nbsp;<span class="num" id="7739456">13</span><span class="op" id="7739458">,</span>&nbsp;<span class="num" id="7739460">14</span><span class="op" id="7739462">,</span>&nbsp;<span class="num" id="7739464">15</span><span class="op" id="7739466">}</span><span class="op" id="7739467">}</span><span class="op" id="7739468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739471">{</span><span class="string" id="7739472">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="7739490">,</span>&nbsp;<span class="op" id="7739492">[</span><span class="op" id="7739493">]</span><span class="builtintype" id="7739494">byte</span><span class="op" id="7739498">{</span><span class="num" id="7739499">0xf0</span><span class="op" id="7739503">,</span>&nbsp;<span class="num" id="7739505">0xf1</span><span class="op" id="7739509">,</span>&nbsp;<span class="num" id="7739511">0xf2</span><span class="op" id="7739515">,</span>&nbsp;<span class="num" id="7739517">0xf3</span><span class="op" id="7739521">,</span>&nbsp;<span class="num" id="7739523">0xf4</span><span class="op" id="7739527">,</span>&nbsp;<span class="num" id="7739529">0xf5</span><span class="op" id="7739533">,</span>&nbsp;<span class="num" id="7739535">0xf6</span><span class="op" id="7739539">,</span>&nbsp;<span class="num" id="7739541">0xf7</span><span class="op" id="7739545">}</span><span class="op" id="7739546">}</span><span class="op" id="7739547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739550">{</span><span class="string" id="7739551">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="7739569">,</span>&nbsp;<span class="op" id="7739571">[</span><span class="op" id="7739572">]</span><span class="builtintype" id="7739573">byte</span><span class="op" id="7739577">{</span><span class="num" id="7739578">0xf8</span><span class="op" id="7739582">,</span>&nbsp;<span class="num" id="7739584">0xf9</span><span class="op" id="7739588">,</span>&nbsp;<span class="num" id="7739590">0xfa</span><span class="op" id="7739594">,</span>&nbsp;<span class="num" id="7739596">0xfb</span><span class="op" id="7739600">,</span>&nbsp;<span class="num" id="7739602">0xfc</span><span class="op" id="7739606">,</span>&nbsp;<span class="num" id="7739608">0xfd</span><span class="op" id="7739612">,</span>&nbsp;<span class="num" id="7739614">0xfe</span><span class="op" id="7739618">,</span>&nbsp;<span class="num" id="7739620">0xff</span><span class="op" id="7739624">}</span><span class="op" id="7739625">}</span><span class="op" id="7739626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739629">{</span><span class="string" id="7739630">&#34;67&#34;</span><span class="op" id="7739634">,</span>&nbsp;<span class="op" id="7739636">[</span><span class="op" id="7739637">]</span><span class="builtintype" id="7739638">byte</span><span class="op" id="7739642">{</span><span class="string" id="7739643">&#39;g&#39;</span><span class="op" id="7739646">}</span><span class="op" id="7739647">}</span><span class="op" id="7739648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739651">{</span><span class="string" id="7739652">&#34;e3a1&#34;</span><span class="op" id="7739658">,</span>&nbsp;<span class="op" id="7739660">[</span><span class="op" id="7739661">]</span><span class="builtintype" id="7739662">byte</span><span class="op" id="7739666">{</span><span class="num" id="7739667">0xe3</span><span class="op" id="7739671">,</span>&nbsp;<span class="num" id="7739673">0xa1</span><span class="op" id="7739677">}</span><span class="op" id="7739678">}</span><span class="op" id="7739679">,</span><br>
<span class="lineno">25</span><span class="op" id="7739681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7739684">func</span>&nbsp;<span class="ident" id="7739689">TestEncode</span><span class="op" id="7739699">(</span><span class="ident" id="7739700">t</span>&nbsp;<span class="op" id="7739702">*</span><span class="ident" id="7739703">testing</span><span class="op" id="7739710">.</span><span class="ident" id="7739711">T</span><span class="op" id="7739712">)</span>&nbsp;<span class="op" id="7739714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7739717">for</span>&nbsp;<span class="ident" id="7739721">i</span><span class="op" id="7739722">,</span>&nbsp;<span class="ident" id="7739724">test</span>&nbsp;<span class="op" id="7739729">:=</span>&nbsp;<span class="keyword" id="7739732">range</span>&nbsp;<span class="ident" id="7739738">encDecTests</span>&nbsp;<span class="op" id="7739750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739754">dst</span>&nbsp;<span class="op" id="7739758">:=</span>&nbsp;<span class="builtinfunc" id="7739761">make</span><span class="op" id="7739765">(</span><span class="op" id="7739766">[</span><span class="op" id="7739767">]</span><span class="builtintype" id="7739768">byte</span><span class="op" id="7739772">,</span>&nbsp;<span class="ident" id="7739774">EncodedLen</span><span class="op" id="7739784">(</span><span class="builtinfunc" id="7739785">len</span><span class="op" id="7739788">(</span><span class="ident" id="7739789">test</span><span class="op" id="7739793">.</span><span class="ident" id="7739794">dec</span><span class="op" id="7739797">)</span><span class="op" id="7739798">)</span><span class="op" id="7739799">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739803">n</span>&nbsp;<span class="op" id="7739805">:=</span>&nbsp;<span class="ident" id="7739808">Encode</span><span class="op" id="7739814">(</span><span class="ident" id="7739815">dst</span><span class="op" id="7739818">,</span>&nbsp;<span class="ident" id="7739820">test</span><span class="op" id="7739824">.</span><span class="ident" id="7739825">dec</span><span class="op" id="7739828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7739832">if</span>&nbsp;<span class="ident" id="7739835">n</span>&nbsp;<span class="op" id="7739837">!=</span>&nbsp;<span class="builtinfunc" id="7739840">len</span><span class="op" id="7739843">(</span><span class="ident" id="7739844">dst</span><span class="op" id="7739847">)</span>&nbsp;<span class="op" id="7739849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739854">t</span><span class="op" id="7739855">.</span><span class="ident" id="7739856">Errorf</span><span class="op" id="7739862">(</span><span class="string" id="7739863">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="7739904">,</span>&nbsp;<span class="ident" id="7739906">i</span><span class="op" id="7739907">,</span>&nbsp;<span class="ident" id="7739909">n</span><span class="op" id="7739910">,</span>&nbsp;<span class="builtinfunc" id="7739912">len</span><span class="op" id="7739915">(</span><span class="ident" id="7739916">dst</span><span class="op" id="7739919">)</span><span class="op" id="7739920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7739924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7739928">if</span>&nbsp;<span class="builtintype" id="7739931">string</span><span class="op" id="7739937">(</span><span class="ident" id="7739938">dst</span><span class="op" id="7739941">)</span>&nbsp;<span class="op" id="7739943">!=</span>&nbsp;<span class="ident" id="7739946">test</span><span class="op" id="7739950">.</span><span class="ident" id="7739951">enc</span>&nbsp;<span class="op" id="7739955">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7739960">t</span><span class="op" id="7739961">.</span><span class="ident" id="7739962">Errorf</span><span class="op" id="7739968">(</span><span class="string" id="7739969">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7739994">,</span>&nbsp;<span class="ident" id="7739996">i</span><span class="op" id="7739997">,</span>&nbsp;<span class="ident" id="7739999">dst</span><span class="op" id="7740002">,</span>&nbsp;<span class="ident" id="7740004">test</span><span class="op" id="7740008">.</span><span class="ident" id="7740009">enc</span><span class="op" id="7740012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740019">}</span><br>
<span class="lineno"></span><span class="op" id="7740021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7740024">func</span>&nbsp;<span class="ident" id="7740029">TestDecode</span><span class="op" id="7740039">(</span><span class="ident" id="7740040">t</span>&nbsp;<span class="op" id="7740042">*</span><span class="ident" id="7740043">testing</span><span class="op" id="7740050">.</span><span class="ident" id="7740051">T</span><span class="op" id="7740052">)</span>&nbsp;<span class="op" id="7740054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7740057">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7740111">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740145">decTests</span>&nbsp;<span class="op" id="7740154">:=</span>&nbsp;<span class="builtinfunc" id="7740157">append</span><span class="op" id="7740163">(</span><span class="ident" id="7740164">encDecTests</span><span class="op" id="7740175">,</span>&nbsp;<span class="ident" id="7740177">encDecTest</span><span class="op" id="7740187">{</span><span class="string" id="7740188">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="7740206">,</span>&nbsp;<span class="op" id="7740208">[</span><span class="op" id="7740209">]</span><span class="builtintype" id="7740210">byte</span><span class="op" id="7740214">{</span><span class="num" id="7740215">0xf8</span><span class="op" id="7740219">,</span>&nbsp;<span class="num" id="7740221">0xf9</span><span class="op" id="7740225">,</span>&nbsp;<span class="num" id="7740227">0xfa</span><span class="op" id="7740231">,</span>&nbsp;<span class="num" id="7740233">0xfb</span><span class="op" id="7740237">,</span>&nbsp;<span class="num" id="7740239">0xfc</span><span class="op" id="7740243">,</span>&nbsp;<span class="num" id="7740245">0xfd</span><span class="op" id="7740249">,</span>&nbsp;<span class="num" id="7740251">0xfe</span><span class="op" id="7740255">,</span>&nbsp;<span class="num" id="7740257">0xff</span><span class="op" id="7740261">}</span><span class="op" id="7740262">}</span><span class="op" id="7740263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740266">for</span>&nbsp;<span class="ident" id="7740270">i</span><span class="op" id="7740271">,</span>&nbsp;<span class="ident" id="7740273">test</span>&nbsp;<span class="op" id="7740278">:=</span>&nbsp;<span class="keyword" id="7740281">range</span>&nbsp;<span class="ident" id="7740287">decTests</span>&nbsp;<span class="op" id="7740296">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740300">dst</span>&nbsp;<span class="op" id="7740304">:=</span>&nbsp;<span class="builtinfunc" id="7740307">make</span><span class="op" id="7740311">(</span><span class="op" id="7740312">[</span><span class="op" id="7740313">]</span><span class="builtintype" id="7740314">byte</span><span class="op" id="7740318">,</span>&nbsp;<span class="ident" id="7740320">DecodedLen</span><span class="op" id="7740330">(</span><span class="builtinfunc" id="7740331">len</span><span class="op" id="7740334">(</span><span class="ident" id="7740335">test</span><span class="op" id="7740339">.</span><span class="ident" id="7740340">enc</span><span class="op" id="7740343">)</span><span class="op" id="7740344">)</span><span class="op" id="7740345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740349">n</span><span class="op" id="7740350">,</span>&nbsp;<span class="ident" id="7740352">err</span>&nbsp;<span class="op" id="7740356">:=</span>&nbsp;<span class="ident" id="7740359">Decode</span><span class="op" id="7740365">(</span><span class="ident" id="7740366">dst</span><span class="op" id="7740369">,</span>&nbsp;<span class="op" id="7740371">[</span><span class="op" id="7740372">]</span><span class="builtintype" id="7740373">byte</span><span class="op" id="7740377">(</span><span class="ident" id="7740378">test</span><span class="op" id="7740382">.</span><span class="ident" id="7740383">enc</span><span class="op" id="7740386">)</span><span class="op" id="7740387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740391">if</span>&nbsp;<span class="ident" id="7740394">err</span>&nbsp;<span class="op" id="7740398">!=</span>&nbsp;<span class="ident" id="7740401">nil</span>&nbsp;<span class="op" id="7740405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740410">t</span><span class="op" id="7740411">.</span><span class="ident" id="7740412">Errorf</span><span class="op" id="7740418">(</span><span class="string" id="7740419">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="7740458">,</span>&nbsp;<span class="ident" id="7740460">i</span><span class="op" id="7740461">,</span>&nbsp;<span class="ident" id="7740463">n</span><span class="op" id="7740464">,</span>&nbsp;<span class="builtinfunc" id="7740466">len</span><span class="op" id="7740469">(</span><span class="ident" id="7740470">dst</span><span class="op" id="7740473">)</span><span class="op" id="7740474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740478">}</span>&nbsp;<span class="keyword" id="7740480">else</span>&nbsp;<span class="keyword" id="7740485">if</span>&nbsp;<span class="op" id="7740488">!</span><span class="ident" id="7740489">bytes</span><span class="op" id="7740494">.</span><span class="ident" id="7740495">Equal</span><span class="op" id="7740500">(</span><span class="ident" id="7740501">dst</span><span class="op" id="7740504">,</span>&nbsp;<span class="ident" id="7740506">test</span><span class="op" id="7740510">.</span><span class="ident" id="7740511">dec</span><span class="op" id="7740514">)</span>&nbsp;<span class="op" id="7740516">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740521">t</span><span class="op" id="7740522">.</span><span class="ident" id="7740523">Errorf</span><span class="op" id="7740529">(</span><span class="string" id="7740530">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7740555">,</span>&nbsp;<span class="ident" id="7740557">i</span><span class="op" id="7740558">,</span>&nbsp;<span class="ident" id="7740560">dst</span><span class="op" id="7740563">,</span>&nbsp;<span class="ident" id="7740565">test</span><span class="op" id="7740569">.</span><span class="ident" id="7740570">dec</span><span class="op" id="7740573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740580">}</span><br>
<span class="lineno"></span><span class="op" id="7740582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7740585">func</span>&nbsp;<span class="ident" id="7740590">TestEncodeToString</span><span class="op" id="7740608">(</span><span class="ident" id="7740609">t</span>&nbsp;<span class="op" id="7740611">*</span><span class="ident" id="7740612">testing</span><span class="op" id="7740619">.</span><span class="ident" id="7740620">T</span><span class="op" id="7740621">)</span>&nbsp;<span class="op" id="7740623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740626">for</span>&nbsp;<span class="ident" id="7740630">i</span><span class="op" id="7740631">,</span>&nbsp;<span class="ident" id="7740633">test</span>&nbsp;<span class="op" id="7740638">:=</span>&nbsp;<span class="keyword" id="7740641">range</span>&nbsp;<span class="ident" id="7740647">encDecTests</span>&nbsp;<span class="op" id="7740659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740663">s</span>&nbsp;<span class="op" id="7740665">:=</span>&nbsp;<span class="ident" id="7740668">EncodeToString</span><span class="op" id="7740682">(</span><span class="ident" id="7740683">test</span><span class="op" id="7740687">.</span><span class="ident" id="7740688">dec</span><span class="op" id="7740691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740695">if</span>&nbsp;<span class="ident" id="7740698">s</span>&nbsp;<span class="op" id="7740700">!=</span>&nbsp;<span class="ident" id="7740703">test</span><span class="op" id="7740707">.</span><span class="ident" id="7740708">enc</span>&nbsp;<span class="op" id="7740712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740717">t</span><span class="op" id="7740718">.</span><span class="ident" id="7740719">Errorf</span><span class="op" id="7740725">(</span><span class="string" id="7740726">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="7740746">,</span>&nbsp;<span class="ident" id="7740748">i</span><span class="op" id="7740749">,</span>&nbsp;<span class="ident" id="7740751">s</span><span class="op" id="7740752">,</span>&nbsp;<span class="ident" id="7740754">test</span><span class="op" id="7740758">.</span><span class="ident" id="7740759">enc</span><span class="op" id="7740762">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740769">}</span><br>
<span class="lineno"></span><span class="op" id="7740771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7740774">func</span>&nbsp;<span class="ident" id="7740779">TestDecodeString</span><span class="op" id="7740795">(</span><span class="ident" id="7740796">t</span>&nbsp;<span class="op" id="7740798">*</span><span class="ident" id="7740799">testing</span><span class="op" id="7740806">.</span><span class="ident" id="7740807">T</span><span class="op" id="7740808">)</span>&nbsp;<span class="op" id="7740810">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740813">for</span>&nbsp;<span class="ident" id="7740817">i</span><span class="op" id="7740818">,</span>&nbsp;<span class="ident" id="7740820">test</span>&nbsp;<span class="op" id="7740825">:=</span>&nbsp;<span class="keyword" id="7740828">range</span>&nbsp;<span class="ident" id="7740834">encDecTests</span>&nbsp;<span class="op" id="7740846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740850">dst</span><span class="op" id="7740853">,</span>&nbsp;<span class="ident" id="7740855">err</span>&nbsp;<span class="op" id="7740859">:=</span>&nbsp;<span class="ident" id="7740862">DecodeString</span><span class="op" id="7740874">(</span><span class="ident" id="7740875">test</span><span class="op" id="7740879">.</span><span class="ident" id="7740880">enc</span><span class="op" id="7740883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740887">if</span>&nbsp;<span class="ident" id="7740890">err</span>&nbsp;<span class="op" id="7740894">!=</span>&nbsp;<span class="ident" id="7740897">nil</span>&nbsp;<span class="op" id="7740901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7740906">t</span><span class="op" id="7740907">.</span><span class="ident" id="7740908">Errorf</span><span class="op" id="7740914">(</span><span class="string" id="7740915">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="7740946">,</span>&nbsp;<span class="ident" id="7740948">i</span><span class="op" id="7740949">,</span>&nbsp;<span class="ident" id="7740951">err</span><span class="op" id="7740954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740959">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7740970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7740974">if</span>&nbsp;<span class="op" id="7740977">!</span><span class="ident" id="7740978">bytes</span><span class="op" id="7740983">.</span><span class="ident" id="7740984">Equal</span><span class="op" id="7740989">(</span><span class="ident" id="7740990">dst</span><span class="op" id="7740993">,</span>&nbsp;<span class="ident" id="7740995">test</span><span class="op" id="7740999">.</span><span class="ident" id="7741000">dec</span><span class="op" id="7741003">)</span>&nbsp;<span class="op" id="7741005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741010">t</span><span class="op" id="7741011">.</span><span class="ident" id="7741012">Errorf</span><span class="op" id="7741018">(</span><span class="string" id="7741019">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="7741044">,</span>&nbsp;<span class="ident" id="7741046">i</span><span class="op" id="7741047">,</span>&nbsp;<span class="ident" id="7741049">dst</span><span class="op" id="7741052">,</span>&nbsp;<span class="ident" id="7741054">test</span><span class="op" id="7741058">.</span><span class="ident" id="7741059">dec</span><span class="op" id="7741062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741069">}</span><br>
<span class="lineno">75</span><span class="op" id="7741071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741074">type</span>&nbsp;<span class="ident" id="7741079">errTest</span>&nbsp;<span class="keyword" id="7741087">struct</span>&nbsp;<span class="op" id="7741094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741097">in</span>&nbsp;&nbsp;<span class="builtintype" id="7741101">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741109">err</span>&nbsp;<span class="builtintype" id="7741113">string</span><br>
<span class="lineno">80</span><span class="op" id="7741120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741123">var</span>&nbsp;<span class="ident" id="7741127">errTests</span>&nbsp;<span class="op" id="7741136">=</span>&nbsp;<span class="op" id="7741138">[</span><span class="op" id="7741139">]</span><span class="ident" id="7741140">errTest</span><span class="op" id="7741147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741150">{</span><span class="string" id="7741151">&#34;0&#34;</span><span class="op" id="7741154">,</span>&nbsp;<span class="string" id="7741156">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="7741193">}</span><span class="op" id="7741194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741197">{</span><span class="string" id="7741198">&#34;0g&#34;</span><span class="op" id="7741202">,</span>&nbsp;<span class="string" id="7741204">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7741244">}</span><span class="op" id="7741245">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741248">{</span><span class="string" id="7741249">&#34;00gg&#34;</span><span class="op" id="7741255">,</span>&nbsp;<span class="string" id="7741257">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7741297">}</span><span class="op" id="7741298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741301">{</span><span class="string" id="7741302">&#34;0\x01&#34;</span><span class="op" id="7741309">,</span>&nbsp;<span class="string" id="7741311">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="7741347">}</span><span class="op" id="7741348">,</span><br>
<span class="lineno"></span><span class="op" id="7741350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741353">func</span>&nbsp;<span class="ident" id="7741358">TestInvalidErr</span><span class="op" id="7741372">(</span><span class="ident" id="7741373">t</span>&nbsp;<span class="op" id="7741375">*</span><span class="ident" id="7741376">testing</span><span class="op" id="7741383">.</span><span class="ident" id="7741384">T</span><span class="op" id="7741385">)</span>&nbsp;<span class="op" id="7741387">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741390">for</span>&nbsp;<span class="ident" id="7741394">i</span><span class="op" id="7741395">,</span>&nbsp;<span class="ident" id="7741397">test</span>&nbsp;<span class="op" id="7741402">:=</span>&nbsp;<span class="keyword" id="7741405">range</span>&nbsp;<span class="ident" id="7741411">errTests</span>&nbsp;<span class="op" id="7741420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741424">dst</span>&nbsp;<span class="op" id="7741428">:=</span>&nbsp;<span class="builtinfunc" id="7741431">make</span><span class="op" id="7741435">(</span><span class="op" id="7741436">[</span><span class="op" id="7741437">]</span><span class="builtintype" id="7741438">byte</span><span class="op" id="7741442">,</span>&nbsp;<span class="ident" id="7741444">DecodedLen</span><span class="op" id="7741454">(</span><span class="builtinfunc" id="7741455">len</span><span class="op" id="7741458">(</span><span class="ident" id="7741459">test</span><span class="op" id="7741463">.</span><span class="ident" id="7741464">in</span><span class="op" id="7741466">)</span><span class="op" id="7741467">)</span><span class="op" id="7741468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741472">_</span><span class="op" id="7741473">,</span>&nbsp;<span class="ident" id="7741475">err</span>&nbsp;<span class="op" id="7741479">:=</span>&nbsp;<span class="ident" id="7741482">Decode</span><span class="op" id="7741488">(</span><span class="ident" id="7741489">dst</span><span class="op" id="7741492">,</span>&nbsp;<span class="op" id="7741494">[</span><span class="op" id="7741495">]</span><span class="builtintype" id="7741496">byte</span><span class="op" id="7741500">(</span><span class="ident" id="7741501">test</span><span class="op" id="7741505">.</span><span class="ident" id="7741506">in</span><span class="op" id="7741508">)</span><span class="op" id="7741509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741513">if</span>&nbsp;<span class="ident" id="7741516">err</span>&nbsp;<span class="op" id="7741520">==</span>&nbsp;<span class="ident" id="7741523">nil</span>&nbsp;<span class="op" id="7741527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741532">t</span><span class="op" id="7741533">.</span><span class="ident" id="7741534">Errorf</span><span class="op" id="7741540">(</span><span class="string" id="7741541">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7741572">,</span>&nbsp;<span class="ident" id="7741574">i</span><span class="op" id="7741575">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741579">}</span>&nbsp;<span class="keyword" id="7741581">else</span>&nbsp;<span class="keyword" id="7741586">if</span>&nbsp;<span class="ident" id="7741589">err</span><span class="op" id="7741592">.</span><span class="ident" id="7741593">Error</span><span class="op" id="7741598">(</span><span class="op" id="7741599">)</span>&nbsp;<span class="op" id="7741601">!=</span>&nbsp;<span class="ident" id="7741604">test</span><span class="op" id="7741608">.</span><span class="ident" id="7741609">err</span>&nbsp;<span class="op" id="7741613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741618">t</span><span class="op" id="7741619">.</span><span class="ident" id="7741620">Errorf</span><span class="op" id="7741626">(</span><span class="string" id="7741627">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7741650">,</span>&nbsp;<span class="ident" id="7741652">i</span><span class="op" id="7741653">,</span>&nbsp;<span class="ident" id="7741655">err</span><span class="op" id="7741658">,</span>&nbsp;<span class="ident" id="7741660">test</span><span class="op" id="7741664">.</span><span class="ident" id="7741665">err</span><span class="op" id="7741668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741675">}</span><br>
<span class="lineno"></span><span class="op" id="7741677">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7741680">func</span>&nbsp;<span class="ident" id="7741685">TestInvalidStringErr</span><span class="op" id="7741705">(</span><span class="ident" id="7741706">t</span>&nbsp;<span class="op" id="7741708">*</span><span class="ident" id="7741709">testing</span><span class="op" id="7741716">.</span><span class="ident" id="7741717">T</span><span class="op" id="7741718">)</span>&nbsp;<span class="op" id="7741720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741723">for</span>&nbsp;<span class="ident" id="7741727">i</span><span class="op" id="7741728">,</span>&nbsp;<span class="ident" id="7741730">test</span>&nbsp;<span class="op" id="7741735">:=</span>&nbsp;<span class="keyword" id="7741738">range</span>&nbsp;<span class="ident" id="7741744">errTests</span>&nbsp;<span class="op" id="7741753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741757">_</span><span class="op" id="7741758">,</span>&nbsp;<span class="ident" id="7741760">err</span>&nbsp;<span class="op" id="7741764">:=</span>&nbsp;<span class="ident" id="7741767">DecodeString</span><span class="op" id="7741779">(</span><span class="ident" id="7741780">test</span><span class="op" id="7741784">.</span><span class="ident" id="7741785">in</span><span class="op" id="7741787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741791">if</span>&nbsp;<span class="ident" id="7741794">err</span>&nbsp;<span class="op" id="7741798">==</span>&nbsp;<span class="ident" id="7741801">nil</span>&nbsp;<span class="op" id="7741805">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741810">t</span><span class="op" id="7741811">.</span><span class="ident" id="7741812">Errorf</span><span class="op" id="7741818">(</span><span class="string" id="7741819">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7741850">,</span>&nbsp;<span class="ident" id="7741852">i</span><span class="op" id="7741853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741857">}</span>&nbsp;<span class="keyword" id="7741859">else</span>&nbsp;<span class="keyword" id="7741864">if</span>&nbsp;<span class="ident" id="7741867">err</span><span class="op" id="7741870">.</span><span class="ident" id="7741871">Error</span><span class="op" id="7741876">(</span><span class="op" id="7741877">)</span>&nbsp;<span class="op" id="7741879">!=</span>&nbsp;<span class="ident" id="7741882">test</span><span class="op" id="7741886">.</span><span class="ident" id="7741887">err</span>&nbsp;<span class="op" id="7741891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7741896">t</span><span class="op" id="7741897">.</span><span class="ident" id="7741898">Errorf</span><span class="op" id="7741904">(</span><span class="string" id="7741905">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7741928">,</span>&nbsp;<span class="ident" id="7741930">i</span><span class="op" id="7741931">,</span>&nbsp;<span class="ident" id="7741933">err</span><span class="op" id="7741936">,</span>&nbsp;<span class="ident" id="7741938">test</span><span class="op" id="7741942">.</span><span class="ident" id="7741943">err</span><span class="op" id="7741946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7741953">}</span><br>
<span class="lineno">110</span><span class="op" id="7741955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7741958">func</span>&nbsp;<span class="ident" id="7741963">TestDumper</span><span class="op" id="7741973">(</span><span class="ident" id="7741974">t</span>&nbsp;<span class="op" id="7741976">*</span><span class="ident" id="7741977">testing</span><span class="op" id="7741984">.</span><span class="ident" id="7741985">T</span><span class="op" id="7741986">)</span>&nbsp;<span class="op" id="7741988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7741991">var</span>&nbsp;<span class="ident" id="7741995">in</span>&nbsp;<span class="op" id="7741998">[</span><span class="num" id="7741999">40</span><span class="op" id="7742001">]</span><span class="builtintype" id="7742002">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742008">for</span>&nbsp;<span class="ident" id="7742012">i</span>&nbsp;<span class="op" id="7742014">:=</span>&nbsp;<span class="keyword" id="7742017">range</span>&nbsp;<span class="ident" id="7742023">in</span>&nbsp;<span class="op" id="7742026">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742030">in</span><span class="op" id="7742032">[</span><span class="ident" id="7742033">i</span><span class="op" id="7742034">]</span>&nbsp;<span class="op" id="7742036">=</span>&nbsp;<span class="builtintype" id="7742038">byte</span><span class="op" id="7742042">(</span><span class="ident" id="7742043">i</span>&nbsp;<span class="op" id="7742045">+</span>&nbsp;<span class="num" id="7742047">30</span><span class="op" id="7742049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742056">for</span>&nbsp;<span class="ident" id="7742060">stride</span>&nbsp;<span class="op" id="7742067">:=</span>&nbsp;<span class="num" id="7742070">1</span><span class="op" id="7742071">;</span>&nbsp;<span class="ident" id="7742073">stride</span>&nbsp;<span class="op" id="7742080">&lt;</span>&nbsp;<span class="builtinfunc" id="7742082">len</span><span class="op" id="7742085">(</span><span class="ident" id="7742086">in</span><span class="op" id="7742088">)</span><span class="op" id="7742089">;</span>&nbsp;<span class="ident" id="7742091">stride</span><span class="op" id="7742097">++</span>&nbsp;<span class="op" id="7742100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742104">var</span>&nbsp;<span class="ident" id="7742108">out</span>&nbsp;<span class="ident" id="7742112">bytes</span><span class="op" id="7742117">.</span><span class="ident" id="7742118">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742127">dumper</span>&nbsp;<span class="op" id="7742134">:=</span>&nbsp;<span class="ident" id="7742137">Dumper</span><span class="op" id="7742143">(</span><span class="op" id="7742144">&amp;</span><span class="ident" id="7742145">out</span><span class="op" id="7742148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742152">done</span>&nbsp;<span class="op" id="7742157">:=</span>&nbsp;<span class="num" id="7742160">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742164">for</span>&nbsp;<span class="ident" id="7742168">done</span>&nbsp;<span class="op" id="7742173">&lt;</span>&nbsp;<span class="builtinfunc" id="7742175">len</span><span class="op" id="7742178">(</span><span class="ident" id="7742179">in</span><span class="op" id="7742181">)</span>&nbsp;<span class="op" id="7742183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742188">todo</span>&nbsp;<span class="op" id="7742193">:=</span>&nbsp;<span class="ident" id="7742196">done</span>&nbsp;<span class="op" id="7742201">+</span>&nbsp;<span class="ident" id="7742203">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742213">if</span>&nbsp;<span class="ident" id="7742216">todo</span>&nbsp;<span class="op" id="7742221">&gt;</span>&nbsp;<span class="builtinfunc" id="7742223">len</span><span class="op" id="7742226">(</span><span class="ident" id="7742227">in</span><span class="op" id="7742229">)</span>&nbsp;<span class="op" id="7742231">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742237">todo</span>&nbsp;<span class="op" id="7742242">=</span>&nbsp;<span class="builtinfunc" id="7742244">len</span><span class="op" id="7742247">(</span><span class="ident" id="7742248">in</span><span class="op" id="7742250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742260">dumper</span><span class="op" id="7742266">.</span><span class="ident" id="7742267">Write</span><span class="op" id="7742272">(</span><span class="ident" id="7742273">in</span><span class="op" id="7742275">[</span><span class="ident" id="7742276">done</span><span class="op" id="7742280">:</span><span class="ident" id="7742281">todo</span><span class="op" id="7742285">]</span><span class="op" id="7742286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742291">done</span>&nbsp;<span class="op" id="7742296">=</span>&nbsp;<span class="ident" id="7742298">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742305">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742310">dumper</span><span class="op" id="7742316">.</span><span class="ident" id="7742317">Close</span><span class="op" id="7742322">(</span><span class="op" id="7742323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742327">if</span>&nbsp;<span class="op" id="7742330">!</span><span class="ident" id="7742331">bytes</span><span class="op" id="7742336">.</span><span class="ident" id="7742337">Equal</span><span class="op" id="7742342">(</span><span class="ident" id="7742343">out</span><span class="op" id="7742346">.</span><span class="ident" id="7742347">Bytes</span><span class="op" id="7742352">(</span><span class="op" id="7742353">)</span><span class="op" id="7742354">,</span>&nbsp;<span class="ident" id="7742356">expectedHexDump</span><span class="op" id="7742371">)</span>&nbsp;<span class="op" id="7742373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742378">t</span><span class="op" id="7742379">.</span><span class="ident" id="7742380">Errorf</span><span class="op" id="7742386">(</span><span class="string" id="7742387">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7742427">,</span>&nbsp;<span class="ident" id="7742429">stride</span><span class="op" id="7742435">,</span>&nbsp;<span class="ident" id="7742437">out</span><span class="op" id="7742440">.</span><span class="ident" id="7742441">Bytes</span><span class="op" id="7742446">(</span><span class="op" id="7742447">)</span><span class="op" id="7742448">,</span>&nbsp;<span class="ident" id="7742450">expectedHexDump</span><span class="op" id="7742465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742469">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742472">}</span><br>
<span class="lineno"></span><span class="op" id="7742474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7742477">func</span>&nbsp;<span class="ident" id="7742482">TestDump</span><span class="op" id="7742490">(</span><span class="ident" id="7742491">t</span>&nbsp;<span class="op" id="7742493">*</span><span class="ident" id="7742494">testing</span><span class="op" id="7742501">.</span><span class="ident" id="7742502">T</span><span class="op" id="7742503">)</span>&nbsp;<span class="op" id="7742505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742508">var</span>&nbsp;<span class="ident" id="7742512">in</span>&nbsp;<span class="op" id="7742515">[</span><span class="num" id="7742516">40</span><span class="op" id="7742518">]</span><span class="builtintype" id="7742519">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742525">for</span>&nbsp;<span class="ident" id="7742529">i</span>&nbsp;<span class="op" id="7742531">:=</span>&nbsp;<span class="keyword" id="7742534">range</span>&nbsp;<span class="ident" id="7742540">in</span>&nbsp;<span class="op" id="7742543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742547">in</span><span class="op" id="7742549">[</span><span class="ident" id="7742550">i</span><span class="op" id="7742551">]</span>&nbsp;<span class="op" id="7742553">=</span>&nbsp;<span class="builtintype" id="7742555">byte</span><span class="op" id="7742559">(</span><span class="ident" id="7742560">i</span>&nbsp;<span class="op" id="7742562">+</span>&nbsp;<span class="num" id="7742564">30</span><span class="op" id="7742566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742573">out</span>&nbsp;<span class="op" id="7742577">:=</span>&nbsp;<span class="op" id="7742580">[</span><span class="op" id="7742581">]</span><span class="builtintype" id="7742582">byte</span><span class="op" id="7742586">(</span><span class="ident" id="7742587">Dump</span><span class="op" id="7742591">(</span><span class="ident" id="7742592">in</span><span class="op" id="7742594">[</span><span class="op" id="7742595">:</span><span class="op" id="7742596">]</span><span class="op" id="7742597">)</span><span class="op" id="7742598">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7742601">if</span>&nbsp;<span class="op" id="7742604">!</span><span class="ident" id="7742605">bytes</span><span class="op" id="7742610">.</span><span class="ident" id="7742611">Equal</span><span class="op" id="7742616">(</span><span class="ident" id="7742617">out</span><span class="op" id="7742620">,</span>&nbsp;<span class="ident" id="7742622">expectedHexDump</span><span class="op" id="7742637">)</span>&nbsp;<span class="op" id="7742639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7742643">t</span><span class="op" id="7742644">.</span><span class="ident" id="7742645">Errorf</span><span class="op" id="7742651">(</span><span class="string" id="7742652">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7742673">,</span>&nbsp;<span class="ident" id="7742675">out</span><span class="op" id="7742678">,</span>&nbsp;<span class="ident" id="7742680">expectedHexDump</span><span class="op" id="7742695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7742698">}</span><br>
<span class="lineno"></span><span class="op" id="7742700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="7742703">var</span>&nbsp;<span class="ident" id="7742707">expectedHexDump</span>&nbsp;<span class="op" id="7742723">=</span>&nbsp;<span class="op" id="7742725">[</span><span class="op" id="7742726">]</span><span class="builtintype" id="7742727">byte</span><span class="op" id="7742731">(</span><span class="string" id="7742732">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="7742963">)</span>
</div>
</body>
</html>
