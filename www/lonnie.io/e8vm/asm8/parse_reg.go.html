<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6056103">package</span>&nbsp;<span class="ident" id="6056111">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6056117">import</span>&nbsp;<span class="op" id="6056124">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056127">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6056149">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6056152">var</span>&nbsp;<span class="ident" id="6056156">regNameMap</span>&nbsp;<span class="op" id="6056167">=</span>&nbsp;<span class="keyword" id="6056169">map</span><span class="op" id="6056172">[</span><span class="builtintype" id="6056173">string</span><span class="op" id="6056179">]</span><span class="builtintype" id="6056180">uint32</span><span class="op" id="6056186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056189">&#34;r0&#34;</span><span class="op" id="6056193">:</span>&nbsp;<span class="num" id="6056195">0</span><span class="op" id="6056196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056199">&#34;r1&#34;</span><span class="op" id="6056203">:</span>&nbsp;<span class="num" id="6056205">1</span><span class="op" id="6056206">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056209">&#34;r2&#34;</span><span class="op" id="6056213">:</span>&nbsp;<span class="num" id="6056215">2</span><span class="op" id="6056216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056219">&#34;r3&#34;</span><span class="op" id="6056223">:</span>&nbsp;<span class="num" id="6056225">3</span><span class="op" id="6056226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056229">&#34;r4&#34;</span><span class="op" id="6056233">:</span>&nbsp;<span class="num" id="6056235">4</span><span class="op" id="6056236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056239">&#34;r5&#34;</span><span class="op" id="6056243">:</span>&nbsp;<span class="num" id="6056245">5</span><span class="op" id="6056246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056249">&#34;r6&#34;</span><span class="op" id="6056253">:</span>&nbsp;<span class="num" id="6056255">6</span><span class="op" id="6056256">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056259">&#34;r7&#34;</span><span class="op" id="6056263">:</span>&nbsp;<span class="num" id="6056265">7</span><span class="op" id="6056266">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056270">&#34;sp&#34;</span><span class="op" id="6056274">:</span>&nbsp;&nbsp;<span class="num" id="6056277">5</span><span class="op" id="6056278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056281">&#34;ret&#34;</span><span class="op" id="6056286">:</span>&nbsp;<span class="num" id="6056288">6</span><span class="op" id="6056289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6056292">&#34;pc&#34;</span><span class="op" id="6056296">:</span>&nbsp;&nbsp;<span class="num" id="6056299">7</span><span class="op" id="6056300">,</span><br>
<span class="lineno">20</span><span class="op" id="6056302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6056305">func</span>&nbsp;<span class="ident" id="6056310">parseReg</span><span class="op" id="6056318">(</span><span class="ident" id="6056319">p</span>&nbsp;<span class="op" id="6056321">*</span><span class="ident" id="6056322"><a href="/lonnie.io/e8vm/asm8/parser.go.html#6059818">parser</a></span><span class="op" id="6056328">,</span>&nbsp;<span class="ident" id="6056330">op</span>&nbsp;<span class="op" id="6056333">*</span><span class="ident" id="6056334"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056127">lex8</a></span><span class="op" id="6056338">.</span><span class="ident" id="6056339">Token</span><span class="op" id="6056344">)</span>&nbsp;<span class="builtintype" id="6056346">uint32</span>&nbsp;<span class="op" id="6056353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6056356">if</span>&nbsp;<span class="ident" id="6056359"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056330">op</a></span><span class="op" id="6056361">.</span><span class="ident" id="6056362">Type</span>&nbsp;<span class="op" id="6056367">!=</span>&nbsp;<span class="ident" id="6056370"><a href="/lonnie.io/e8vm/asm8/token.go.html#6066821">Operand</a></span>&nbsp;<span class="op" id="6056378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6056382">panic</span><span class="op" id="6056387">(</span><span class="string" id="6056388">&#34;not&nbsp;an&nbsp;operand&#34;</span><span class="op" id="6056404">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6056407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6056411">ret</span><span class="op" id="6056414">,</span>&nbsp;<span class="ident" id="6056416">found</span>&nbsp;<span class="op" id="6056422">:=</span>&nbsp;<span class="ident" id="6056425"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056156">regNameMap</a></span><span class="op" id="6056435">[</span><span class="ident" id="6056436"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056330">op</a></span><span class="op" id="6056438">.</span><span class="ident" id="6056439">Lit</span><span class="op" id="6056442">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6056445">if</span>&nbsp;<span class="op" id="6056448">!</span><span class="ident" id="6056449"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056416">found</a></span>&nbsp;<span class="op" id="6056455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6056459"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056319">p</a></span><span class="op" id="6056460">.</span><span class="ident" id="6056461">err</span><span class="op" id="6056464">(</span><span class="ident" id="6056465"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056330">op</a></span><span class="op" id="6056467">.</span><span class="ident" id="6056468">Pos</span><span class="op" id="6056471">,</span>&nbsp;<span class="string" id="6056473">&#34;invalid&nbsp;register&nbsp;name&nbsp;%q&#34;</span><span class="op" id="6056499">,</span>&nbsp;<span class="ident" id="6056501"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056330">op</a></span><span class="op" id="6056503">.</span><span class="ident" id="6056504">Lit</span><span class="op" id="6056507">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6056511">return</span>&nbsp;<span class="num" id="6056518">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6056521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6056524">return</span>&nbsp;<span class="ident" id="6056531"><a href="/lonnie.io/e8vm/asm8/parse_reg.go.html#6056411">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6056535">}</span>
</div>
</body>
</html>
