<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html" class="current">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3182984">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3183040">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3183094">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3183145">package</span>&nbsp;<span class="ident" id="3183153">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3183161">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="3183186">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3183254">import</span>&nbsp;<span class="op" id="3183261">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3183264">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3183273">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3183284">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3183295">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3183305">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3183308">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="3183367">type</span>&nbsp;<span class="ident" id="3183372">Regexp</span>&nbsp;<span class="keyword" id="3183379">struct</span>&nbsp;<span class="op" id="3183386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183389">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3183398">Op</span>&nbsp;<span class="comment" id="3183401">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183414">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3183423">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183430">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3183439">[</span><span class="op" id="3183440">]</span><span class="op" id="3183441">*</span><span class="ident" id="3183442">Regexp</span>&nbsp;&nbsp;<span class="comment" id="3183450">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183477">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3183486">[</span><span class="num" id="3183487">1</span><span class="op" id="3183488">]</span><span class="op" id="3183489">*</span><span class="ident" id="3183490">Regexp</span>&nbsp;<span class="comment" id="3183497">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183523">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3183532">[</span><span class="op" id="3183533">]</span><span class="builtintype" id="3183534">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3183543">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183589">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3183598">[</span><span class="num" id="3183599">2</span><span class="op" id="3183600">]</span><span class="builtintype" id="3183601">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3183609">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183636">Min</span><span class="op" id="3183639">,</span>&nbsp;<span class="ident" id="3183641">Max</span>&nbsp;<span class="builtintype" id="3183645">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3183656">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183682">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3183691">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3183702">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3183737">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3183746">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3183757">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="3183790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3183793">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="3183843">type</span>&nbsp;<span class="ident" id="3183848">Op</span>&nbsp;<span class="builtintype" id="3183851">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3183858">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="3183932">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="3183997">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3184054">const</span>&nbsp;<span class="op" id="3184060">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184063">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3184080">Op</span>&nbsp;<span class="op" id="3184083">=</span>&nbsp;<span class="num" id="3184085">1</span>&nbsp;<span class="op" id="3184087">+</span>&nbsp;<span class="ident" id="3184089">iota</span>&nbsp;<span class="comment" id="3184094">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184117">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184148">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184173">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184204">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184231">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184262">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184311">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184342">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184383">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184414">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184440">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184471">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184517">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184548">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184588">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184619">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184665">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184696">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184736">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184767">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184798">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184829">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184864">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184895">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3184958">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3184989">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3185027">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3185058">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3185095">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3185126">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3185163">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3185194">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3185269">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3185300">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3185334">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3185365">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="3185396">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3185399">const</span>&nbsp;<span class="ident" id="3185405">opPseudo</span>&nbsp;<span class="ident" id="3185414">Op</span>&nbsp;<span class="op" id="3185417">=</span>&nbsp;<span class="num" id="3185419">128</span>&nbsp;<span class="comment" id="3185423">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3185450">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="3185509">func</span>&nbsp;<span class="op" id="3185514">(</span><span class="ident" id="3185515">x</span>&nbsp;<span class="op" id="3185517">*</span><span class="ident" id="3185518">Regexp</span><span class="op" id="3185524">)</span>&nbsp;<span class="ident" id="3185526">Equal</span><span class="op" id="3185531">(</span><span class="ident" id="3185532">y</span>&nbsp;<span class="op" id="3185534">*</span><span class="ident" id="3185535">Regexp</span><span class="op" id="3185541">)</span>&nbsp;<span class="builtintype" id="3185543">bool</span>&nbsp;<span class="op" id="3185548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185551">if</span>&nbsp;<span class="ident" id="3185554">x</span>&nbsp;<span class="op" id="3185556">==</span>&nbsp;<span class="ident" id="3185559">nil</span>&nbsp;<span class="op" id="3185563">||</span>&nbsp;<span class="ident" id="3185566">y</span>&nbsp;<span class="op" id="3185568">==</span>&nbsp;<span class="ident" id="3185571">nil</span>&nbsp;<span class="op" id="3185575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185579">return</span>&nbsp;<span class="ident" id="3185586">x</span>&nbsp;<span class="op" id="3185588">==</span>&nbsp;<span class="ident" id="3185591">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3185594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185597">if</span>&nbsp;<span class="ident" id="3185600">x</span><span class="op" id="3185601">.</span><span class="ident" id="3185602">Op</span>&nbsp;<span class="op" id="3185605">!=</span>&nbsp;<span class="ident" id="3185608">y</span><span class="op" id="3185609">.</span><span class="ident" id="3185610">Op</span>&nbsp;<span class="op" id="3185613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185617">return</span>&nbsp;<span class="builtintype" id="3185624">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3185631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185634">switch</span>&nbsp;<span class="ident" id="3185641">x</span><span class="op" id="3185642">.</span><span class="ident" id="3185643">Op</span>&nbsp;<span class="op" id="3185646">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185649">case</span>&nbsp;<span class="ident" id="3185654">OpEndText</span><span class="op" id="3185663">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3185667">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185723">if</span>&nbsp;<span class="ident" id="3185726">x</span><span class="op" id="3185727">.</span><span class="ident" id="3185728">Flags</span><span class="op" id="3185733">&amp;</span><span class="ident" id="3185734">WasDollar</span>&nbsp;<span class="op" id="3185744">!=</span>&nbsp;<span class="ident" id="3185747">y</span><span class="op" id="3185748">.</span><span class="ident" id="3185749">Flags</span><span class="op" id="3185754">&amp;</span><span class="ident" id="3185755">WasDollar</span>&nbsp;<span class="op" id="3185765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185770">return</span>&nbsp;<span class="builtintype" id="3185777">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3185785">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185789">case</span>&nbsp;<span class="ident" id="3185794">OpLiteral</span><span class="op" id="3185803">,</span>&nbsp;<span class="ident" id="3185805">OpCharClass</span><span class="op" id="3185816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185820">if</span>&nbsp;<span class="builtinfunc" id="3185823">len</span><span class="op" id="3185826">(</span><span class="ident" id="3185827">x</span><span class="op" id="3185828">.</span><span class="ident" id="3185829">Rune</span><span class="op" id="3185833">)</span>&nbsp;<span class="op" id="3185835">!=</span>&nbsp;<span class="builtinfunc" id="3185838">len</span><span class="op" id="3185841">(</span><span class="ident" id="3185842">y</span><span class="op" id="3185843">.</span><span class="ident" id="3185844">Rune</span><span class="op" id="3185848">)</span>&nbsp;<span class="op" id="3185850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185855">return</span>&nbsp;<span class="builtintype" id="3185862">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3185870">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185874">for</span>&nbsp;<span class="ident" id="3185878">i</span><span class="op" id="3185879">,</span>&nbsp;<span class="ident" id="3185881">r</span>&nbsp;<span class="op" id="3185883">:=</span>&nbsp;<span class="keyword" id="3185886">range</span>&nbsp;<span class="ident" id="3185892">x</span><span class="op" id="3185893">.</span><span class="ident" id="3185894">Rune</span>&nbsp;<span class="op" id="3185899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185904">if</span>&nbsp;<span class="ident" id="3185907">r</span>&nbsp;<span class="op" id="3185909">!=</span>&nbsp;<span class="ident" id="3185912">y</span><span class="op" id="3185913">.</span><span class="ident" id="3185914">Rune</span><span class="op" id="3185918">[</span><span class="ident" id="3185919">i</span><span class="op" id="3185920">]</span>&nbsp;<span class="op" id="3185922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185928">return</span>&nbsp;<span class="builtintype" id="3185935">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3185944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3185948">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185952">case</span>&nbsp;<span class="ident" id="3185957">OpAlternate</span><span class="op" id="3185968">,</span>&nbsp;<span class="ident" id="3185970">OpConcat</span><span class="op" id="3185978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3185982">if</span>&nbsp;<span class="builtinfunc" id="3185985">len</span><span class="op" id="3185988">(</span><span class="ident" id="3185989">x</span><span class="op" id="3185990">.</span><span class="ident" id="3185991">Sub</span><span class="op" id="3185994">)</span>&nbsp;<span class="op" id="3185996">!=</span>&nbsp;<span class="builtinfunc" id="3185999">len</span><span class="op" id="3186002">(</span><span class="ident" id="3186003">y</span><span class="op" id="3186004">.</span><span class="ident" id="3186005">Sub</span><span class="op" id="3186008">)</span>&nbsp;<span class="op" id="3186010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186015">return</span>&nbsp;<span class="builtintype" id="3186022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186030">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186034">for</span>&nbsp;<span class="ident" id="3186038">i</span><span class="op" id="3186039">,</span>&nbsp;<span class="ident" id="3186041">sub</span>&nbsp;<span class="op" id="3186045">:=</span>&nbsp;<span class="keyword" id="3186048">range</span>&nbsp;<span class="ident" id="3186054">x</span><span class="op" id="3186055">.</span><span class="ident" id="3186056">Sub</span>&nbsp;<span class="op" id="3186060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186065">if</span>&nbsp;<span class="op" id="3186068">!</span><span class="ident" id="3186069">sub</span><span class="op" id="3186072">.</span><span class="ident" id="3186073">Equal</span><span class="op" id="3186078">(</span><span class="ident" id="3186079">y</span><span class="op" id="3186080">.</span><span class="ident" id="3186081">Sub</span><span class="op" id="3186084">[</span><span class="ident" id="3186085">i</span><span class="op" id="3186086">]</span><span class="op" id="3186087">)</span>&nbsp;<span class="op" id="3186089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186095">return</span>&nbsp;<span class="builtintype" id="3186102">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186115">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186119">case</span>&nbsp;<span class="ident" id="3186124">OpStar</span><span class="op" id="3186130">,</span>&nbsp;<span class="ident" id="3186132">OpPlus</span><span class="op" id="3186138">,</span>&nbsp;<span class="ident" id="3186140">OpQuest</span><span class="op" id="3186147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186151">if</span>&nbsp;<span class="ident" id="3186154">x</span><span class="op" id="3186155">.</span><span class="ident" id="3186156">Flags</span><span class="op" id="3186161">&amp;</span><span class="ident" id="3186162">NonGreedy</span>&nbsp;<span class="op" id="3186172">!=</span>&nbsp;<span class="ident" id="3186175">y</span><span class="op" id="3186176">.</span><span class="ident" id="3186177">Flags</span><span class="op" id="3186182">&amp;</span><span class="ident" id="3186183">NonGreedy</span>&nbsp;<span class="op" id="3186193">||</span>&nbsp;<span class="op" id="3186196">!</span><span class="ident" id="3186197">x</span><span class="op" id="3186198">.</span><span class="ident" id="3186199">Sub</span><span class="op" id="3186202">[</span><span class="num" id="3186203">0</span><span class="op" id="3186204">]</span><span class="op" id="3186205">.</span><span class="ident" id="3186206">Equal</span><span class="op" id="3186211">(</span><span class="ident" id="3186212">y</span><span class="op" id="3186213">.</span><span class="ident" id="3186214">Sub</span><span class="op" id="3186217">[</span><span class="num" id="3186218">0</span><span class="op" id="3186219">]</span><span class="op" id="3186220">)</span>&nbsp;<span class="op" id="3186222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186227">return</span>&nbsp;<span class="builtintype" id="3186234">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186242">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186246">case</span>&nbsp;<span class="ident" id="3186251">OpRepeat</span><span class="op" id="3186259">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186263">if</span>&nbsp;<span class="ident" id="3186266">x</span><span class="op" id="3186267">.</span><span class="ident" id="3186268">Flags</span><span class="op" id="3186273">&amp;</span><span class="ident" id="3186274">NonGreedy</span>&nbsp;<span class="op" id="3186284">!=</span>&nbsp;<span class="ident" id="3186287">y</span><span class="op" id="3186288">.</span><span class="ident" id="3186289">Flags</span><span class="op" id="3186294">&amp;</span><span class="ident" id="3186295">NonGreedy</span>&nbsp;<span class="op" id="3186305">||</span>&nbsp;<span class="ident" id="3186308">x</span><span class="op" id="3186309">.</span><span class="ident" id="3186310">Min</span>&nbsp;<span class="op" id="3186314">!=</span>&nbsp;<span class="ident" id="3186317">y</span><span class="op" id="3186318">.</span><span class="ident" id="3186319">Min</span>&nbsp;<span class="op" id="3186323">||</span>&nbsp;<span class="ident" id="3186326">x</span><span class="op" id="3186327">.</span><span class="ident" id="3186328">Max</span>&nbsp;<span class="op" id="3186332">!=</span>&nbsp;<span class="ident" id="3186335">y</span><span class="op" id="3186336">.</span><span class="ident" id="3186337">Max</span>&nbsp;<span class="op" id="3186341">||</span>&nbsp;<span class="op" id="3186344">!</span><span class="ident" id="3186345">x</span><span class="op" id="3186346">.</span><span class="ident" id="3186347">Sub</span><span class="op" id="3186350">[</span><span class="num" id="3186351">0</span><span class="op" id="3186352">]</span><span class="op" id="3186353">.</span><span class="ident" id="3186354">Equal</span><span class="op" id="3186359">(</span><span class="ident" id="3186360">y</span><span class="op" id="3186361">.</span><span class="ident" id="3186362">Sub</span><span class="op" id="3186365">[</span><span class="num" id="3186366">0</span><span class="op" id="3186367">]</span><span class="op" id="3186368">)</span>&nbsp;<span class="op" id="3186370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186375">return</span>&nbsp;<span class="builtintype" id="3186382">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186390">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186394">case</span>&nbsp;<span class="ident" id="3186399">OpCapture</span><span class="op" id="3186408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186412">if</span>&nbsp;<span class="ident" id="3186415">x</span><span class="op" id="3186416">.</span><span class="ident" id="3186417">Cap</span>&nbsp;<span class="op" id="3186421">!=</span>&nbsp;<span class="ident" id="3186424">y</span><span class="op" id="3186425">.</span><span class="ident" id="3186426">Cap</span>&nbsp;<span class="op" id="3186430">||</span>&nbsp;<span class="ident" id="3186433">x</span><span class="op" id="3186434">.</span><span class="ident" id="3186435">Name</span>&nbsp;<span class="op" id="3186440">!=</span>&nbsp;<span class="ident" id="3186443">y</span><span class="op" id="3186444">.</span><span class="ident" id="3186445">Name</span>&nbsp;<span class="op" id="3186450">||</span>&nbsp;<span class="op" id="3186453">!</span><span class="ident" id="3186454">x</span><span class="op" id="3186455">.</span><span class="ident" id="3186456">Sub</span><span class="op" id="3186459">[</span><span class="num" id="3186460">0</span><span class="op" id="3186461">]</span><span class="op" id="3186462">.</span><span class="ident" id="3186463">Equal</span><span class="op" id="3186468">(</span><span class="ident" id="3186469">y</span><span class="op" id="3186470">.</span><span class="ident" id="3186471">Sub</span><span class="op" id="3186474">[</span><span class="num" id="3186475">0</span><span class="op" id="3186476">]</span><span class="op" id="3186477">)</span>&nbsp;<span class="op" id="3186479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186484">return</span>&nbsp;<span class="builtintype" id="3186491">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186499">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186505">return</span>&nbsp;<span class="builtintype" id="3186512">true</span><br>
<span class="lineno"></span><span class="op" id="3186517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3186520">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="3186594">func</span>&nbsp;<span class="ident" id="3186599">writeRegexp</span><span class="op" id="3186610">(</span><span class="ident" id="3186611">b</span>&nbsp;<span class="op" id="3186613">*</span><span class="ident" id="3186614">bytes</span><span class="op" id="3186619">.</span><span class="ident" id="3186620">Buffer</span><span class="op" id="3186626">,</span>&nbsp;<span class="ident" id="3186628">re</span>&nbsp;<span class="op" id="3186631">*</span><span class="ident" id="3186632">Regexp</span><span class="op" id="3186638">)</span>&nbsp;<span class="op" id="3186640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186643">switch</span>&nbsp;<span class="ident" id="3186650">re</span><span class="op" id="3186652">.</span><span class="ident" id="3186653">Op</span>&nbsp;<span class="op" id="3186656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186659">default</span><span class="op" id="3186666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3186670">b</span><span class="op" id="3186671">.</span><span class="ident" id="3186672">WriteString</span><span class="op" id="3186683">(</span><span class="string" id="3186684">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="3186698">+</span>&nbsp;<span class="ident" id="3186700">strconv</span><span class="op" id="3186707">.</span><span class="ident" id="3186708">Itoa</span><span class="op" id="3186712">(</span><span class="builtintype" id="3186713">int</span><span class="op" id="3186716">(</span><span class="ident" id="3186717">re</span><span class="op" id="3186719">.</span><span class="ident" id="3186720">Op</span><span class="op" id="3186722">)</span><span class="op" id="3186723">)</span>&nbsp;<span class="op" id="3186725">+</span>&nbsp;<span class="string" id="3186727">&#34;&gt;&#34;</span><span class="op" id="3186730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186733">case</span>&nbsp;<span class="ident" id="3186738">OpNoMatch</span><span class="op" id="3186747">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3186751">b</span><span class="op" id="3186752">.</span><span class="ident" id="3186753">WriteString</span><span class="op" id="3186764">(</span><span class="string" id="3186765">`[^\x00-\x{10FFFF}]`</span><span class="op" id="3186785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186788">case</span>&nbsp;<span class="ident" id="3186793">OpEmptyMatch</span><span class="op" id="3186805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3186809">b</span><span class="op" id="3186810">.</span><span class="ident" id="3186811">WriteString</span><span class="op" id="3186822">(</span><span class="string" id="3186823">`(?:)`</span><span class="op" id="3186829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186832">case</span>&nbsp;<span class="ident" id="3186837">OpLiteral</span><span class="op" id="3186846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186850">if</span>&nbsp;<span class="ident" id="3186853">re</span><span class="op" id="3186855">.</span><span class="ident" id="3186856">Flags</span><span class="op" id="3186861">&amp;</span><span class="ident" id="3186862">FoldCase</span>&nbsp;<span class="op" id="3186871">!=</span>&nbsp;<span class="num" id="3186874">0</span>&nbsp;<span class="op" id="3186876">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3186881">b</span><span class="op" id="3186882">.</span><span class="ident" id="3186883">WriteString</span><span class="op" id="3186894">(</span><span class="string" id="3186895">`(?i:`</span><span class="op" id="3186901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186909">for</span>&nbsp;<span class="ident" id="3186913">_</span><span class="op" id="3186914">,</span>&nbsp;<span class="ident" id="3186916">r</span>&nbsp;<span class="op" id="3186918">:=</span>&nbsp;<span class="keyword" id="3186921">range</span>&nbsp;<span class="ident" id="3186927">re</span><span class="op" id="3186929">.</span><span class="ident" id="3186930">Rune</span>&nbsp;<span class="op" id="3186935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3186940">escape</span><span class="op" id="3186946">(</span><span class="ident" id="3186947">b</span><span class="op" id="3186948">,</span>&nbsp;<span class="ident" id="3186950">r</span><span class="op" id="3186951">,</span>&nbsp;<span class="builtintype" id="3186953">false</span><span class="op" id="3186958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3186962">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3186966">if</span>&nbsp;<span class="ident" id="3186969">re</span><span class="op" id="3186971">.</span><span class="ident" id="3186972">Flags</span><span class="op" id="3186977">&amp;</span><span class="ident" id="3186978">FoldCase</span>&nbsp;<span class="op" id="3186987">!=</span>&nbsp;<span class="num" id="3186990">0</span>&nbsp;<span class="op" id="3186992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3186997">b</span><span class="op" id="3186998">.</span><span class="ident" id="3186999">WriteString</span><span class="op" id="3187010">(</span><span class="string" id="3187011">`)`</span><span class="op" id="3187014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187021">case</span>&nbsp;<span class="ident" id="3187026">OpCharClass</span><span class="op" id="3187037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187041">if</span>&nbsp;<span class="builtinfunc" id="3187044">len</span><span class="op" id="3187047">(</span><span class="ident" id="3187048">re</span><span class="op" id="3187050">.</span><span class="ident" id="3187051">Rune</span><span class="op" id="3187055">)</span><span class="op" id="3187056">%</span><span class="num" id="3187057">2</span>&nbsp;<span class="op" id="3187059">!=</span>&nbsp;<span class="num" id="3187062">0</span>&nbsp;<span class="op" id="3187064">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187069">b</span><span class="op" id="3187070">.</span><span class="ident" id="3187071">WriteString</span><span class="op" id="3187082">(</span><span class="string" id="3187083">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="3187105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187110">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187122">b</span><span class="op" id="3187123">.</span><span class="ident" id="3187124">WriteRune</span><span class="op" id="3187133">(</span><span class="string" id="3187134">&#39;[&#39;</span><span class="op" id="3187137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187141">if</span>&nbsp;<span class="builtinfunc" id="3187144">len</span><span class="op" id="3187147">(</span><span class="ident" id="3187148">re</span><span class="op" id="3187150">.</span><span class="ident" id="3187151">Rune</span><span class="op" id="3187155">)</span>&nbsp;<span class="op" id="3187157">==</span>&nbsp;<span class="num" id="3187160">0</span>&nbsp;<span class="op" id="3187162">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187167">b</span><span class="op" id="3187168">.</span><span class="ident" id="3187169">WriteString</span><span class="op" id="3187180">(</span><span class="string" id="3187181">`^\x00-\x{10FFFF}`</span><span class="op" id="3187199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187203">}</span>&nbsp;<span class="keyword" id="3187205">else</span>&nbsp;<span class="keyword" id="3187210">if</span>&nbsp;<span class="ident" id="3187213">re</span><span class="op" id="3187215">.</span><span class="ident" id="3187216">Rune</span><span class="op" id="3187220">[</span><span class="num" id="3187221">0</span><span class="op" id="3187222">]</span>&nbsp;<span class="op" id="3187224">==</span>&nbsp;<span class="num" id="3187227">0</span>&nbsp;<span class="op" id="3187229">&amp;&amp;</span>&nbsp;<span class="ident" id="3187232">re</span><span class="op" id="3187234">.</span><span class="ident" id="3187235">Rune</span><span class="op" id="3187239">[</span><span class="builtinfunc" id="3187240">len</span><span class="op" id="3187243">(</span><span class="ident" id="3187244">re</span><span class="op" id="3187246">.</span><span class="ident" id="3187247">Rune</span><span class="op" id="3187251">)</span><span class="op" id="3187252">-</span><span class="num" id="3187253">1</span><span class="op" id="3187254">]</span>&nbsp;<span class="op" id="3187256">==</span>&nbsp;<span class="ident" id="3187259">unicode</span><span class="op" id="3187266">.</span><span class="ident" id="3187267">MaxRune</span>&nbsp;<span class="op" id="3187275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3187280">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3187337">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187359">b</span><span class="op" id="3187360">.</span><span class="ident" id="3187361">WriteRune</span><span class="op" id="3187370">(</span><span class="string" id="3187371">&#39;^&#39;</span><span class="op" id="3187374">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187379">for</span>&nbsp;<span class="ident" id="3187383">i</span>&nbsp;<span class="op" id="3187385">:=</span>&nbsp;<span class="num" id="3187388">1</span><span class="op" id="3187389">;</span>&nbsp;<span class="ident" id="3187391">i</span>&nbsp;<span class="op" id="3187393">&lt;</span>&nbsp;<span class="builtinfunc" id="3187395">len</span><span class="op" id="3187398">(</span><span class="ident" id="3187399">re</span><span class="op" id="3187401">.</span><span class="ident" id="3187402">Rune</span><span class="op" id="3187406">)</span><span class="op" id="3187407">-</span><span class="num" id="3187408">1</span><span class="op" id="3187409">;</span>&nbsp;<span class="ident" id="3187411">i</span>&nbsp;<span class="op" id="3187413">+=</span>&nbsp;<span class="num" id="3187416">2</span>&nbsp;<span class="op" id="3187418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187424">lo</span><span class="op" id="3187426">,</span>&nbsp;<span class="ident" id="3187428">hi</span>&nbsp;<span class="op" id="3187431">:=</span>&nbsp;<span class="ident" id="3187434">re</span><span class="op" id="3187436">.</span><span class="ident" id="3187437">Rune</span><span class="op" id="3187441">[</span><span class="ident" id="3187442">i</span><span class="op" id="3187443">]</span><span class="op" id="3187444">+</span><span class="num" id="3187445">1</span><span class="op" id="3187446">,</span>&nbsp;<span class="ident" id="3187448">re</span><span class="op" id="3187450">.</span><span class="ident" id="3187451">Rune</span><span class="op" id="3187455">[</span><span class="ident" id="3187456">i</span><span class="op" id="3187457">+</span><span class="num" id="3187458">1</span><span class="op" id="3187459">]</span><span class="op" id="3187460">-</span><span class="num" id="3187461">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187467">escape</span><span class="op" id="3187473">(</span><span class="ident" id="3187474">b</span><span class="op" id="3187475">,</span>&nbsp;<span class="ident" id="3187477">lo</span><span class="op" id="3187479">,</span>&nbsp;<span class="ident" id="3187481">lo</span>&nbsp;<span class="op" id="3187484">==</span>&nbsp;<span class="string" id="3187487">&#39;-&#39;</span><span class="op" id="3187490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187496">if</span>&nbsp;<span class="ident" id="3187499">lo</span>&nbsp;<span class="op" id="3187502">!=</span>&nbsp;<span class="ident" id="3187505">hi</span>&nbsp;<span class="op" id="3187508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187515">b</span><span class="op" id="3187516">.</span><span class="ident" id="3187517">WriteRune</span><span class="op" id="3187526">(</span><span class="string" id="3187527">&#39;-&#39;</span><span class="op" id="3187530">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187537">escape</span><span class="op" id="3187543">(</span><span class="ident" id="3187544">b</span><span class="op" id="3187545">,</span>&nbsp;<span class="ident" id="3187547">hi</span><span class="op" id="3187549">,</span>&nbsp;<span class="ident" id="3187551">hi</span>&nbsp;<span class="op" id="3187554">==</span>&nbsp;<span class="string" id="3187557">&#39;-&#39;</span><span class="op" id="3187560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187575">}</span>&nbsp;<span class="keyword" id="3187577">else</span>&nbsp;<span class="op" id="3187582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187587">for</span>&nbsp;<span class="ident" id="3187591">i</span>&nbsp;<span class="op" id="3187593">:=</span>&nbsp;<span class="num" id="3187596">0</span><span class="op" id="3187597">;</span>&nbsp;<span class="ident" id="3187599">i</span>&nbsp;<span class="op" id="3187601">&lt;</span>&nbsp;<span class="builtinfunc" id="3187603">len</span><span class="op" id="3187606">(</span><span class="ident" id="3187607">re</span><span class="op" id="3187609">.</span><span class="ident" id="3187610">Rune</span><span class="op" id="3187614">)</span><span class="op" id="3187615">;</span>&nbsp;<span class="ident" id="3187617">i</span>&nbsp;<span class="op" id="3187619">+=</span>&nbsp;<span class="num" id="3187622">2</span>&nbsp;<span class="op" id="3187624">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187630">lo</span><span class="op" id="3187632">,</span>&nbsp;<span class="ident" id="3187634">hi</span>&nbsp;<span class="op" id="3187637">:=</span>&nbsp;<span class="ident" id="3187640">re</span><span class="op" id="3187642">.</span><span class="ident" id="3187643">Rune</span><span class="op" id="3187647">[</span><span class="ident" id="3187648">i</span><span class="op" id="3187649">]</span><span class="op" id="3187650">,</span>&nbsp;<span class="ident" id="3187652">re</span><span class="op" id="3187654">.</span><span class="ident" id="3187655">Rune</span><span class="op" id="3187659">[</span><span class="ident" id="3187660">i</span><span class="op" id="3187661">+</span><span class="num" id="3187662">1</span><span class="op" id="3187663">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187669">escape</span><span class="op" id="3187675">(</span><span class="ident" id="3187676">b</span><span class="op" id="3187677">,</span>&nbsp;<span class="ident" id="3187679">lo</span><span class="op" id="3187681">,</span>&nbsp;<span class="ident" id="3187683">lo</span>&nbsp;<span class="op" id="3187686">==</span>&nbsp;<span class="string" id="3187689">&#39;-&#39;</span><span class="op" id="3187692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187698">if</span>&nbsp;<span class="ident" id="3187701">lo</span>&nbsp;<span class="op" id="3187704">!=</span>&nbsp;<span class="ident" id="3187707">hi</span>&nbsp;<span class="op" id="3187710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187717">b</span><span class="op" id="3187718">.</span><span class="ident" id="3187719">WriteRune</span><span class="op" id="3187728">(</span><span class="string" id="3187729">&#39;-&#39;</span><span class="op" id="3187732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187739">escape</span><span class="op" id="3187745">(</span><span class="ident" id="3187746">b</span><span class="op" id="3187747">,</span>&nbsp;<span class="ident" id="3187749">hi</span><span class="op" id="3187751">,</span>&nbsp;<span class="ident" id="3187753">hi</span>&nbsp;<span class="op" id="3187756">==</span>&nbsp;<span class="string" id="3187759">&#39;-&#39;</span><span class="op" id="3187762">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3187777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187781">b</span><span class="op" id="3187782">.</span><span class="ident" id="3187783">WriteRune</span><span class="op" id="3187792">(</span><span class="string" id="3187793">&#39;]&#39;</span><span class="op" id="3187796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187799">case</span>&nbsp;<span class="ident" id="3187804">OpAnyCharNotNL</span><span class="op" id="3187818">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187822">b</span><span class="op" id="3187823">.</span><span class="ident" id="3187824">WriteString</span><span class="op" id="3187835">(</span><span class="string" id="3187836">`(?-s:.)`</span><span class="op" id="3187845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187848">case</span>&nbsp;<span class="ident" id="3187853">OpAnyChar</span><span class="op" id="3187862">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187866">b</span><span class="op" id="3187867">.</span><span class="ident" id="3187868">WriteString</span><span class="op" id="3187879">(</span><span class="string" id="3187880">`(?s:.)`</span><span class="op" id="3187888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187891">case</span>&nbsp;<span class="ident" id="3187896">OpBeginLine</span><span class="op" id="3187907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187911">b</span><span class="op" id="3187912">.</span><span class="ident" id="3187913">WriteRune</span><span class="op" id="3187922">(</span><span class="string" id="3187923">&#39;^&#39;</span><span class="op" id="3187926">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187929">case</span>&nbsp;<span class="ident" id="3187934">OpEndLine</span><span class="op" id="3187943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187947">b</span><span class="op" id="3187948">.</span><span class="ident" id="3187949">WriteRune</span><span class="op" id="3187958">(</span><span class="string" id="3187959">&#39;$&#39;</span><span class="op" id="3187962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3187965">case</span>&nbsp;<span class="ident" id="3187970">OpBeginText</span><span class="op" id="3187981">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3187985">b</span><span class="op" id="3187986">.</span><span class="ident" id="3187987">WriteString</span><span class="op" id="3187998">(</span><span class="string" id="3187999">`\A`</span><span class="op" id="3188003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188006">case</span>&nbsp;<span class="ident" id="3188011">OpEndText</span><span class="op" id="3188020">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188024">if</span>&nbsp;<span class="ident" id="3188027">re</span><span class="op" id="3188029">.</span><span class="ident" id="3188030">Flags</span><span class="op" id="3188035">&amp;</span><span class="ident" id="3188036">WasDollar</span>&nbsp;<span class="op" id="3188046">!=</span>&nbsp;<span class="num" id="3188049">0</span>&nbsp;<span class="op" id="3188051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188056">b</span><span class="op" id="3188057">.</span><span class="ident" id="3188058">WriteString</span><span class="op" id="3188069">(</span><span class="string" id="3188070">`(?-m:$)`</span><span class="op" id="3188079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188083">}</span>&nbsp;<span class="keyword" id="3188085">else</span>&nbsp;<span class="op" id="3188090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188095">b</span><span class="op" id="3188096">.</span><span class="ident" id="3188097">WriteString</span><span class="op" id="3188108">(</span><span class="string" id="3188109">`\z`</span><span class="op" id="3188113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188117">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188120">case</span>&nbsp;<span class="ident" id="3188125">OpWordBoundary</span><span class="op" id="3188139">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188143">b</span><span class="op" id="3188144">.</span><span class="ident" id="3188145">WriteString</span><span class="op" id="3188156">(</span><span class="string" id="3188157">`\b`</span><span class="op" id="3188161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188164">case</span>&nbsp;<span class="ident" id="3188169">OpNoWordBoundary</span><span class="op" id="3188185">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188189">b</span><span class="op" id="3188190">.</span><span class="ident" id="3188191">WriteString</span><span class="op" id="3188202">(</span><span class="string" id="3188203">`\B`</span><span class="op" id="3188207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188210">case</span>&nbsp;<span class="ident" id="3188215">OpCapture</span><span class="op" id="3188224">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188228">if</span>&nbsp;<span class="ident" id="3188231">re</span><span class="op" id="3188233">.</span><span class="ident" id="3188234">Name</span>&nbsp;<span class="op" id="3188239">!=</span>&nbsp;<span class="string" id="3188242">&#34;&#34;</span>&nbsp;<span class="op" id="3188245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188250">b</span><span class="op" id="3188251">.</span><span class="ident" id="3188252">WriteString</span><span class="op" id="3188263">(</span><span class="string" id="3188264">`(?P&lt;`</span><span class="op" id="3188270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188275">b</span><span class="op" id="3188276">.</span><span class="ident" id="3188277">WriteString</span><span class="op" id="3188288">(</span><span class="ident" id="3188289">re</span><span class="op" id="3188291">.</span><span class="ident" id="3188292">Name</span><span class="op" id="3188296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188301">b</span><span class="op" id="3188302">.</span><span class="ident" id="3188303">WriteRune</span><span class="op" id="3188312">(</span><span class="string" id="3188313">&#39;&gt;&#39;</span><span class="op" id="3188316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188320">}</span>&nbsp;<span class="keyword" id="3188322">else</span>&nbsp;<span class="op" id="3188327">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188332">b</span><span class="op" id="3188333">.</span><span class="ident" id="3188334">WriteRune</span><span class="op" id="3188343">(</span><span class="string" id="3188344">&#39;(&#39;</span><span class="op" id="3188347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188355">if</span>&nbsp;<span class="ident" id="3188358">re</span><span class="op" id="3188360">.</span><span class="ident" id="3188361">Sub</span><span class="op" id="3188364">[</span><span class="num" id="3188365">0</span><span class="op" id="3188366">]</span><span class="op" id="3188367">.</span><span class="ident" id="3188368">Op</span>&nbsp;<span class="op" id="3188371">!=</span>&nbsp;<span class="ident" id="3188374">OpEmptyMatch</span>&nbsp;<span class="op" id="3188387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188392">writeRegexp</span><span class="op" id="3188403">(</span><span class="ident" id="3188404">b</span><span class="op" id="3188405">,</span>&nbsp;<span class="ident" id="3188407">re</span><span class="op" id="3188409">.</span><span class="ident" id="3188410">Sub</span><span class="op" id="3188413">[</span><span class="num" id="3188414">0</span><span class="op" id="3188415">]</span><span class="op" id="3188416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188420">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188424">b</span><span class="op" id="3188425">.</span><span class="ident" id="3188426">WriteRune</span><span class="op" id="3188435">(</span><span class="string" id="3188436">&#39;)&#39;</span><span class="op" id="3188439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188442">case</span>&nbsp;<span class="ident" id="3188447">OpStar</span><span class="op" id="3188453">,</span>&nbsp;<span class="ident" id="3188455">OpPlus</span><span class="op" id="3188461">,</span>&nbsp;<span class="ident" id="3188463">OpQuest</span><span class="op" id="3188470">,</span>&nbsp;<span class="ident" id="3188472">OpRepeat</span><span class="op" id="3188480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188484">if</span>&nbsp;<span class="ident" id="3188487">sub</span>&nbsp;<span class="op" id="3188491">:=</span>&nbsp;<span class="ident" id="3188494">re</span><span class="op" id="3188496">.</span><span class="ident" id="3188497">Sub</span><span class="op" id="3188500">[</span><span class="num" id="3188501">0</span><span class="op" id="3188502">]</span><span class="op" id="3188503">;</span>&nbsp;<span class="ident" id="3188505">sub</span><span class="op" id="3188508">.</span><span class="ident" id="3188509">Op</span>&nbsp;<span class="op" id="3188512">&gt;</span>&nbsp;<span class="ident" id="3188514">OpCapture</span>&nbsp;<span class="op" id="3188524">||</span>&nbsp;<span class="ident" id="3188527">sub</span><span class="op" id="3188530">.</span><span class="ident" id="3188531">Op</span>&nbsp;<span class="op" id="3188534">==</span>&nbsp;<span class="ident" id="3188537">OpLiteral</span>&nbsp;<span class="op" id="3188547">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3188550">len</span><span class="op" id="3188553">(</span><span class="ident" id="3188554">sub</span><span class="op" id="3188557">.</span><span class="ident" id="3188558">Rune</span><span class="op" id="3188562">)</span>&nbsp;<span class="op" id="3188564">&gt;</span>&nbsp;<span class="num" id="3188566">1</span>&nbsp;<span class="op" id="3188568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188573">b</span><span class="op" id="3188574">.</span><span class="ident" id="3188575">WriteString</span><span class="op" id="3188586">(</span><span class="string" id="3188587">`(?:`</span><span class="op" id="3188592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188597">writeRegexp</span><span class="op" id="3188608">(</span><span class="ident" id="3188609">b</span><span class="op" id="3188610">,</span>&nbsp;<span class="ident" id="3188612">sub</span><span class="op" id="3188615">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188620">b</span><span class="op" id="3188621">.</span><span class="ident" id="3188622">WriteString</span><span class="op" id="3188633">(</span><span class="string" id="3188634">`)`</span><span class="op" id="3188637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188641">}</span>&nbsp;<span class="keyword" id="3188643">else</span>&nbsp;<span class="op" id="3188648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188653">writeRegexp</span><span class="op" id="3188664">(</span><span class="ident" id="3188665">b</span><span class="op" id="3188666">,</span>&nbsp;<span class="ident" id="3188668">sub</span><span class="op" id="3188671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188679">switch</span>&nbsp;<span class="ident" id="3188686">re</span><span class="op" id="3188688">.</span><span class="ident" id="3188689">Op</span>&nbsp;<span class="op" id="3188692">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188696">case</span>&nbsp;<span class="ident" id="3188701">OpStar</span><span class="op" id="3188707">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188712">b</span><span class="op" id="3188713">.</span><span class="ident" id="3188714">WriteRune</span><span class="op" id="3188723">(</span><span class="string" id="3188724">&#39;*&#39;</span><span class="op" id="3188727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188731">case</span>&nbsp;<span class="ident" id="3188736">OpPlus</span><span class="op" id="3188742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188747">b</span><span class="op" id="3188748">.</span><span class="ident" id="3188749">WriteRune</span><span class="op" id="3188758">(</span><span class="string" id="3188759">&#39;+&#39;</span><span class="op" id="3188762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188766">case</span>&nbsp;<span class="ident" id="3188771">OpQuest</span><span class="op" id="3188778">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188783">b</span><span class="op" id="3188784">.</span><span class="ident" id="3188785">WriteRune</span><span class="op" id="3188794">(</span><span class="string" id="3188795">&#39;?&#39;</span><span class="op" id="3188798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188802">case</span>&nbsp;<span class="ident" id="3188807">OpRepeat</span><span class="op" id="3188815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188820">b</span><span class="op" id="3188821">.</span><span class="ident" id="3188822">WriteRune</span><span class="op" id="3188831">(</span><span class="string" id="3188832">&#39;{&#39;</span><span class="op" id="3188835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188840">b</span><span class="op" id="3188841">.</span><span class="ident" id="3188842">WriteString</span><span class="op" id="3188853">(</span><span class="ident" id="3188854">strconv</span><span class="op" id="3188861">.</span><span class="ident" id="3188862">Itoa</span><span class="op" id="3188866">(</span><span class="ident" id="3188867">re</span><span class="op" id="3188869">.</span><span class="ident" id="3188870">Min</span><span class="op" id="3188873">)</span><span class="op" id="3188874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188879">if</span>&nbsp;<span class="ident" id="3188882">re</span><span class="op" id="3188884">.</span><span class="ident" id="3188885">Max</span>&nbsp;<span class="op" id="3188889">!=</span>&nbsp;<span class="ident" id="3188892">re</span><span class="op" id="3188894">.</span><span class="ident" id="3188895">Min</span>&nbsp;<span class="op" id="3188899">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188905">b</span><span class="op" id="3188906">.</span><span class="ident" id="3188907">WriteRune</span><span class="op" id="3188916">(</span><span class="string" id="3188917">&#39;,&#39;</span><span class="op" id="3188920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3188926">if</span>&nbsp;<span class="ident" id="3188929">re</span><span class="op" id="3188931">.</span><span class="ident" id="3188932">Max</span>&nbsp;<span class="op" id="3188936">&gt;=</span>&nbsp;<span class="num" id="3188939">0</span>&nbsp;<span class="op" id="3188941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188948">b</span><span class="op" id="3188949">.</span><span class="ident" id="3188950">WriteString</span><span class="op" id="3188961">(</span><span class="ident" id="3188962">strconv</span><span class="op" id="3188969">.</span><span class="ident" id="3188970">Itoa</span><span class="op" id="3188974">(</span><span class="ident" id="3188975">re</span><span class="op" id="3188977">.</span><span class="ident" id="3188978">Max</span><span class="op" id="3188981">)</span><span class="op" id="3188982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3188993">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3188998">b</span><span class="op" id="3188999">.</span><span class="ident" id="3189000">WriteRune</span><span class="op" id="3189009">(</span><span class="string" id="3189010">&#39;}&#39;</span><span class="op" id="3189013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189021">if</span>&nbsp;<span class="ident" id="3189024">re</span><span class="op" id="3189026">.</span><span class="ident" id="3189027">Flags</span><span class="op" id="3189032">&amp;</span><span class="ident" id="3189033">NonGreedy</span>&nbsp;<span class="op" id="3189043">!=</span>&nbsp;<span class="num" id="3189046">0</span>&nbsp;<span class="op" id="3189048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189053">b</span><span class="op" id="3189054">.</span><span class="ident" id="3189055">WriteRune</span><span class="op" id="3189064">(</span><span class="string" id="3189065">&#39;?&#39;</span><span class="op" id="3189068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189072">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189075">case</span>&nbsp;<span class="ident" id="3189080">OpConcat</span><span class="op" id="3189088">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189092">for</span>&nbsp;<span class="ident" id="3189096">_</span><span class="op" id="3189097">,</span>&nbsp;<span class="ident" id="3189099">sub</span>&nbsp;<span class="op" id="3189103">:=</span>&nbsp;<span class="keyword" id="3189106">range</span>&nbsp;<span class="ident" id="3189112">re</span><span class="op" id="3189114">.</span><span class="ident" id="3189115">Sub</span>&nbsp;<span class="op" id="3189119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189124">if</span>&nbsp;<span class="ident" id="3189127">sub</span><span class="op" id="3189130">.</span><span class="ident" id="3189131">Op</span>&nbsp;<span class="op" id="3189134">==</span>&nbsp;<span class="ident" id="3189137">OpAlternate</span>&nbsp;<span class="op" id="3189149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189155">b</span><span class="op" id="3189156">.</span><span class="ident" id="3189157">WriteString</span><span class="op" id="3189168">(</span><span class="string" id="3189169">`(?:`</span><span class="op" id="3189174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189180">writeRegexp</span><span class="op" id="3189191">(</span><span class="ident" id="3189192">b</span><span class="op" id="3189193">,</span>&nbsp;<span class="ident" id="3189195">sub</span><span class="op" id="3189198">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189204">b</span><span class="op" id="3189205">.</span><span class="ident" id="3189206">WriteString</span><span class="op" id="3189217">(</span><span class="string" id="3189218">`)`</span><span class="op" id="3189221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189226">}</span>&nbsp;<span class="keyword" id="3189228">else</span>&nbsp;<span class="op" id="3189233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189239">writeRegexp</span><span class="op" id="3189250">(</span><span class="ident" id="3189251">b</span><span class="op" id="3189252">,</span>&nbsp;<span class="ident" id="3189254">sub</span><span class="op" id="3189257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189266">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189269">case</span>&nbsp;<span class="ident" id="3189274">OpAlternate</span><span class="op" id="3189285">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189289">for</span>&nbsp;<span class="ident" id="3189293">i</span><span class="op" id="3189294">,</span>&nbsp;<span class="ident" id="3189296">sub</span>&nbsp;<span class="op" id="3189300">:=</span>&nbsp;<span class="keyword" id="3189303">range</span>&nbsp;<span class="ident" id="3189309">re</span><span class="op" id="3189311">.</span><span class="ident" id="3189312">Sub</span>&nbsp;<span class="op" id="3189316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189321">if</span>&nbsp;<span class="ident" id="3189324">i</span>&nbsp;<span class="op" id="3189326">&gt;</span>&nbsp;<span class="num" id="3189328">0</span>&nbsp;<span class="op" id="3189330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189336">b</span><span class="op" id="3189337">.</span><span class="ident" id="3189338">WriteRune</span><span class="op" id="3189347">(</span><span class="string" id="3189348">&#39;|&#39;</span><span class="op" id="3189351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189356">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189361">writeRegexp</span><span class="op" id="3189372">(</span><span class="ident" id="3189373">b</span><span class="op" id="3189374">,</span>&nbsp;<span class="ident" id="3189376">sub</span><span class="op" id="3189379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189386">}</span><br>
<span class="lineno"></span><span class="op" id="3189388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="3189391">func</span>&nbsp;<span class="op" id="3189396">(</span><span class="ident" id="3189397">re</span>&nbsp;<span class="op" id="3189400">*</span><span class="ident" id="3189401">Regexp</span><span class="op" id="3189407">)</span>&nbsp;<span class="ident" id="3189409">String</span><span class="op" id="3189415">(</span><span class="op" id="3189416">)</span>&nbsp;<span class="builtintype" id="3189418">string</span>&nbsp;<span class="op" id="3189425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189428">var</span>&nbsp;<span class="ident" id="3189432">b</span>&nbsp;<span class="ident" id="3189434">bytes</span><span class="op" id="3189439">.</span><span class="ident" id="3189440">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189448">writeRegexp</span><span class="op" id="3189459">(</span><span class="op" id="3189460">&amp;</span><span class="ident" id="3189461">b</span><span class="op" id="3189462">,</span>&nbsp;<span class="ident" id="3189464">re</span><span class="op" id="3189466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189469">return</span>&nbsp;<span class="ident" id="3189476">b</span><span class="op" id="3189477">.</span><span class="ident" id="3189478">String</span><span class="op" id="3189484">(</span><span class="op" id="3189485">)</span><br>
<span class="lineno"></span><span class="op" id="3189487">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="3189490">const</span>&nbsp;<span class="ident" id="3189496">meta</span>&nbsp;<span class="op" id="3189501">=</span>&nbsp;<span class="string" id="3189503">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3189521">func</span>&nbsp;<span class="ident" id="3189526">escape</span><span class="op" id="3189532">(</span><span class="ident" id="3189533">b</span>&nbsp;<span class="op" id="3189535">*</span><span class="ident" id="3189536">bytes</span><span class="op" id="3189541">.</span><span class="ident" id="3189542">Buffer</span><span class="op" id="3189548">,</span>&nbsp;<span class="ident" id="3189550">r</span>&nbsp;<span class="builtintype" id="3189552">rune</span><span class="op" id="3189556">,</span>&nbsp;<span class="ident" id="3189558">force</span>&nbsp;<span class="builtintype" id="3189564">bool</span><span class="op" id="3189568">)</span>&nbsp;<span class="op" id="3189570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189573">if</span>&nbsp;<span class="ident" id="3189576">unicode</span><span class="op" id="3189583">.</span><span class="ident" id="3189584">IsPrint</span><span class="op" id="3189591">(</span><span class="ident" id="3189592">r</span><span class="op" id="3189593">)</span>&nbsp;<span class="op" id="3189595">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189599">if</span>&nbsp;<span class="ident" id="3189602">strings</span><span class="op" id="3189609">.</span><span class="ident" id="3189610">IndexRune</span><span class="op" id="3189619">(</span><span class="ident" id="3189620">meta</span><span class="op" id="3189624">,</span>&nbsp;<span class="ident" id="3189626">r</span><span class="op" id="3189627">)</span>&nbsp;<span class="op" id="3189629">&gt;=</span>&nbsp;<span class="num" id="3189632">0</span>&nbsp;<span class="op" id="3189634">||</span>&nbsp;<span class="ident" id="3189637">force</span>&nbsp;<span class="op" id="3189643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189648">b</span><span class="op" id="3189649">.</span><span class="ident" id="3189650">WriteRune</span><span class="op" id="3189659">(</span><span class="string" id="3189660">&#39;\\&#39;</span><span class="op" id="3189664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189672">b</span><span class="op" id="3189673">.</span><span class="ident" id="3189674">WriteRune</span><span class="op" id="3189683">(</span><span class="ident" id="3189684">r</span><span class="op" id="3189685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189689">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189701">switch</span>&nbsp;<span class="ident" id="3189708">r</span>&nbsp;<span class="op" id="3189710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189713">case</span>&nbsp;<span class="string" id="3189718">&#39;\a&#39;</span><span class="op" id="3189722">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189726">b</span><span class="op" id="3189727">.</span><span class="ident" id="3189728">WriteString</span><span class="op" id="3189739">(</span><span class="string" id="3189740">`\a`</span><span class="op" id="3189744">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189747">case</span>&nbsp;<span class="string" id="3189752">&#39;\f&#39;</span><span class="op" id="3189756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189760">b</span><span class="op" id="3189761">.</span><span class="ident" id="3189762">WriteString</span><span class="op" id="3189773">(</span><span class="string" id="3189774">`\f`</span><span class="op" id="3189778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189781">case</span>&nbsp;<span class="string" id="3189786">&#39;\n&#39;</span><span class="op" id="3189790">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189794">b</span><span class="op" id="3189795">.</span><span class="ident" id="3189796">WriteString</span><span class="op" id="3189807">(</span><span class="string" id="3189808">`\n`</span><span class="op" id="3189812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189815">case</span>&nbsp;<span class="string" id="3189820">&#39;\r&#39;</span><span class="op" id="3189824">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189828">b</span><span class="op" id="3189829">.</span><span class="ident" id="3189830">WriteString</span><span class="op" id="3189841">(</span><span class="string" id="3189842">`\r`</span><span class="op" id="3189846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189849">case</span>&nbsp;<span class="string" id="3189854">&#39;\t&#39;</span><span class="op" id="3189858">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189862">b</span><span class="op" id="3189863">.</span><span class="ident" id="3189864">WriteString</span><span class="op" id="3189875">(</span><span class="string" id="3189876">`\t`</span><span class="op" id="3189880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189883">case</span>&nbsp;<span class="string" id="3189888">&#39;\v&#39;</span><span class="op" id="3189892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189896">b</span><span class="op" id="3189897">.</span><span class="ident" id="3189898">WriteString</span><span class="op" id="3189909">(</span><span class="string" id="3189910">`\v`</span><span class="op" id="3189914">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189917">default</span><span class="op" id="3189924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189928">if</span>&nbsp;<span class="ident" id="3189931">r</span>&nbsp;<span class="op" id="3189933">&lt;</span>&nbsp;<span class="num" id="3189935">0x100</span>&nbsp;<span class="op" id="3189941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189946">b</span><span class="op" id="3189947">.</span><span class="ident" id="3189948">WriteString</span><span class="op" id="3189959">(</span><span class="string" id="3189960">`\x`</span><span class="op" id="3189964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189969">s</span>&nbsp;<span class="op" id="3189971">:=</span>&nbsp;<span class="ident" id="3189974">strconv</span><span class="op" id="3189981">.</span><span class="ident" id="3189982">FormatInt</span><span class="op" id="3189991">(</span><span class="ident" id="3189992">int64</span><span class="op" id="3189997">(</span><span class="ident" id="3189998">r</span><span class="op" id="3189999">)</span><span class="op" id="3190000">,</span>&nbsp;<span class="num" id="3190002">16</span><span class="op" id="3190004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190009">if</span>&nbsp;<span class="builtinfunc" id="3190012">len</span><span class="op" id="3190015">(</span><span class="ident" id="3190016">s</span><span class="op" id="3190017">)</span>&nbsp;<span class="op" id="3190019">==</span>&nbsp;<span class="num" id="3190022">1</span>&nbsp;<span class="op" id="3190024">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190030">b</span><span class="op" id="3190031">.</span><span class="ident" id="3190032">WriteRune</span><span class="op" id="3190041">(</span><span class="string" id="3190042">&#39;0&#39;</span><span class="op" id="3190045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190055">b</span><span class="op" id="3190056">.</span><span class="ident" id="3190057">WriteString</span><span class="op" id="3190068">(</span><span class="ident" id="3190069">s</span><span class="op" id="3190070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190075">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190083">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190087">b</span><span class="op" id="3190088">.</span><span class="ident" id="3190089">WriteString</span><span class="op" id="3190100">(</span><span class="string" id="3190101">`\x{`</span><span class="op" id="3190106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190110">b</span><span class="op" id="3190111">.</span><span class="ident" id="3190112">WriteString</span><span class="op" id="3190123">(</span><span class="ident" id="3190124">strconv</span><span class="op" id="3190131">.</span><span class="ident" id="3190132">FormatInt</span><span class="op" id="3190141">(</span><span class="ident" id="3190142">int64</span><span class="op" id="3190147">(</span><span class="ident" id="3190148">r</span><span class="op" id="3190149">)</span><span class="op" id="3190150">,</span>&nbsp;<span class="num" id="3190152">16</span><span class="op" id="3190154">)</span><span class="op" id="3190155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190159">b</span><span class="op" id="3190160">.</span><span class="ident" id="3190161">WriteString</span><span class="op" id="3190172">(</span><span class="string" id="3190173">`}`</span><span class="op" id="3190176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190179">}</span><br>
<span class="lineno"></span><span class="op" id="3190181">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="3190184">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="3190246">func</span>&nbsp;<span class="op" id="3190251">(</span><span class="ident" id="3190252">re</span>&nbsp;<span class="op" id="3190255">*</span><span class="ident" id="3190256">Regexp</span><span class="op" id="3190262">)</span>&nbsp;<span class="ident" id="3190264">MaxCap</span><span class="op" id="3190270">(</span><span class="op" id="3190271">)</span>&nbsp;<span class="builtintype" id="3190273">int</span>&nbsp;<span class="op" id="3190277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190280">m</span>&nbsp;<span class="op" id="3190282">:=</span>&nbsp;<span class="num" id="3190285">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190288">if</span>&nbsp;<span class="ident" id="3190291">re</span><span class="op" id="3190293">.</span><span class="ident" id="3190294">Op</span>&nbsp;<span class="op" id="3190297">==</span>&nbsp;<span class="ident" id="3190300">OpCapture</span>&nbsp;<span class="op" id="3190310">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190314">m</span>&nbsp;<span class="op" id="3190316">=</span>&nbsp;<span class="ident" id="3190318">re</span><span class="op" id="3190320">.</span><span class="ident" id="3190321">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190329">for</span>&nbsp;<span class="ident" id="3190333">_</span><span class="op" id="3190334">,</span>&nbsp;<span class="ident" id="3190336">sub</span>&nbsp;<span class="op" id="3190340">:=</span>&nbsp;<span class="keyword" id="3190343">range</span>&nbsp;<span class="ident" id="3190349">re</span><span class="op" id="3190351">.</span><span class="ident" id="3190352">Sub</span>&nbsp;<span class="op" id="3190356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190360">if</span>&nbsp;<span class="ident" id="3190363">n</span>&nbsp;<span class="op" id="3190365">:=</span>&nbsp;<span class="ident" id="3190368">sub</span><span class="op" id="3190371">.</span><span class="ident" id="3190372">MaxCap</span><span class="op" id="3190378">(</span><span class="op" id="3190379">)</span><span class="op" id="3190380">;</span>&nbsp;<span class="ident" id="3190382">m</span>&nbsp;<span class="op" id="3190384">&lt;</span>&nbsp;<span class="ident" id="3190386">n</span>&nbsp;<span class="op" id="3190388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190393">m</span>&nbsp;<span class="op" id="3190395">=</span>&nbsp;<span class="ident" id="3190397">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190407">return</span>&nbsp;<span class="ident" id="3190414">m</span><br>
<span class="lineno"></span><span class="op" id="3190416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="3190419">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="3190487">func</span>&nbsp;<span class="op" id="3190492">(</span><span class="ident" id="3190493">re</span>&nbsp;<span class="op" id="3190496">*</span><span class="ident" id="3190497">Regexp</span><span class="op" id="3190503">)</span>&nbsp;<span class="ident" id="3190505">CapNames</span><span class="op" id="3190513">(</span><span class="op" id="3190514">)</span>&nbsp;<span class="op" id="3190516">[</span><span class="op" id="3190517">]</span><span class="builtintype" id="3190518">string</span>&nbsp;<span class="op" id="3190525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190528">names</span>&nbsp;<span class="op" id="3190534">:=</span>&nbsp;<span class="builtinfunc" id="3190537">make</span><span class="op" id="3190541">(</span><span class="op" id="3190542">[</span><span class="op" id="3190543">]</span><span class="builtintype" id="3190544">string</span><span class="op" id="3190550">,</span>&nbsp;<span class="ident" id="3190552">re</span><span class="op" id="3190554">.</span><span class="ident" id="3190555">MaxCap</span><span class="op" id="3190561">(</span><span class="op" id="3190562">)</span><span class="op" id="3190563">+</span><span class="num" id="3190564">1</span><span class="op" id="3190565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190568">re</span><span class="op" id="3190570">.</span><span class="ident" id="3190571">capNames</span><span class="op" id="3190579">(</span><span class="ident" id="3190580">names</span><span class="op" id="3190585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190588">return</span>&nbsp;<span class="ident" id="3190595">names</span><br>
<span class="lineno">310</span><span class="op" id="3190601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3190604">func</span>&nbsp;<span class="op" id="3190609">(</span><span class="ident" id="3190610">re</span>&nbsp;<span class="op" id="3190613">*</span><span class="ident" id="3190614">Regexp</span><span class="op" id="3190620">)</span>&nbsp;<span class="ident" id="3190622">capNames</span><span class="op" id="3190630">(</span><span class="ident" id="3190631">names</span>&nbsp;<span class="op" id="3190637">[</span><span class="op" id="3190638">]</span><span class="builtintype" id="3190639">string</span><span class="op" id="3190645">)</span>&nbsp;<span class="op" id="3190647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190650">if</span>&nbsp;<span class="ident" id="3190653">re</span><span class="op" id="3190655">.</span><span class="ident" id="3190656">Op</span>&nbsp;<span class="op" id="3190659">==</span>&nbsp;<span class="ident" id="3190662">OpCapture</span>&nbsp;<span class="op" id="3190672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190676">names</span><span class="op" id="3190681">[</span><span class="ident" id="3190682">re</span><span class="op" id="3190684">.</span><span class="ident" id="3190685">Cap</span><span class="op" id="3190688">]</span>&nbsp;<span class="op" id="3190690">=</span>&nbsp;<span class="ident" id="3190692">re</span><span class="op" id="3190694">.</span><span class="ident" id="3190695">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190704">for</span>&nbsp;<span class="ident" id="3190708">_</span><span class="op" id="3190709">,</span>&nbsp;<span class="ident" id="3190711">sub</span>&nbsp;<span class="op" id="3190715">:=</span>&nbsp;<span class="keyword" id="3190718">range</span>&nbsp;<span class="ident" id="3190724">re</span><span class="op" id="3190726">.</span><span class="ident" id="3190727">Sub</span>&nbsp;<span class="op" id="3190731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190735">sub</span><span class="op" id="3190738">.</span><span class="ident" id="3190739">capNames</span><span class="op" id="3190747">(</span><span class="ident" id="3190748">names</span><span class="op" id="3190753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190756">}</span><br>
<span class="lineno"></span><span class="op" id="3190758">}</span>
</div>
</body>
</html>
