<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8297356">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8297411">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8297465">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8297516">package</span>&nbsp;<span class="ident" id="8297524">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297532">import</span>&nbsp;<span class="op" id="8297539">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8297542">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8297548">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8297558">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297561">func</span>&nbsp;<span class="ident" id="8297566">checkSize</span><span class="op" id="8297575">(</span><span class="ident" id="8297576">t</span>&nbsp;<span class="op" id="8297578">*</span><span class="ident" id="8297579">testing</span><span class="op" id="8297586">.</span><span class="ident" id="8297587">T</span><span class="op" id="8297588">,</span>&nbsp;<span class="ident" id="8297590">path</span>&nbsp;<span class="builtintype" id="8297595">string</span><span class="op" id="8297601">,</span>&nbsp;<span class="ident" id="8297603">size</span>&nbsp;<span class="ident" id="8297608">int64</span><span class="op" id="8297613">)</span>&nbsp;<span class="op" id="8297615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297618">dir</span><span class="op" id="8297621">,</span>&nbsp;<span class="ident" id="8297623">err</span>&nbsp;<span class="op" id="8297627">:=</span>&nbsp;<span class="ident" id="8297630">os</span><span class="op" id="8297632">.</span><span class="ident" id="8297633">Stat</span><span class="op" id="8297637">(</span><span class="ident" id="8297638">path</span><span class="op" id="8297642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8297645">if</span>&nbsp;<span class="ident" id="8297648">err</span>&nbsp;<span class="op" id="8297652">!=</span>&nbsp;<span class="ident" id="8297655">nil</span>&nbsp;<span class="op" id="8297659">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297663">t</span><span class="op" id="8297664">.</span><span class="ident" id="8297665">Fatalf</span><span class="op" id="8297671">(</span><span class="string" id="8297672">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="8297707">,</span>&nbsp;<span class="ident" id="8297709">path</span><span class="op" id="8297713">,</span>&nbsp;<span class="ident" id="8297715">size</span><span class="op" id="8297719">,</span>&nbsp;<span class="ident" id="8297721">err</span><span class="op" id="8297724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8297730">if</span>&nbsp;<span class="ident" id="8297733">dir</span><span class="op" id="8297736">.</span><span class="ident" id="8297737">Size</span><span class="op" id="8297741">(</span><span class="op" id="8297742">)</span>&nbsp;<span class="op" id="8297744">!=</span>&nbsp;<span class="ident" id="8297747">size</span>&nbsp;<span class="op" id="8297752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297756">t</span><span class="op" id="8297757">.</span><span class="ident" id="8297758">Errorf</span><span class="op" id="8297764">(</span><span class="string" id="8297765">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8297791">,</span>&nbsp;<span class="ident" id="8297793">path</span><span class="op" id="8297797">,</span>&nbsp;<span class="ident" id="8297799">dir</span><span class="op" id="8297802">.</span><span class="ident" id="8297803">Size</span><span class="op" id="8297807">(</span><span class="op" id="8297808">)</span><span class="op" id="8297809">,</span>&nbsp;<span class="ident" id="8297811">size</span><span class="op" id="8297815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297818">}</span><br>
<span class="lineno">20</span><span class="op" id="8297820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297823">func</span>&nbsp;<span class="ident" id="8297828">TestReadFile</span><span class="op" id="8297840">(</span><span class="ident" id="8297841">t</span>&nbsp;<span class="op" id="8297843">*</span><span class="ident" id="8297844">testing</span><span class="op" id="8297851">.</span><span class="ident" id="8297852">T</span><span class="op" id="8297853">)</span>&nbsp;<span class="op" id="8297855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297858">filename</span>&nbsp;<span class="op" id="8297867">:=</span>&nbsp;<span class="string" id="8297870">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297889">contents</span><span class="op" id="8297897">,</span>&nbsp;<span class="ident" id="8297899">err</span>&nbsp;<span class="op" id="8297903">:=</span>&nbsp;<span class="ident" id="8297906">ReadFile</span><span class="op" id="8297914">(</span><span class="ident" id="8297915">filename</span><span class="op" id="8297923">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8297926">if</span>&nbsp;<span class="ident" id="8297929">err</span>&nbsp;<span class="op" id="8297933">==</span>&nbsp;<span class="ident" id="8297936">nil</span>&nbsp;<span class="op" id="8297940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297944">t</span><span class="op" id="8297945">.</span><span class="ident" id="8297946">Fatalf</span><span class="op" id="8297952">(</span><span class="string" id="8297953">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="8297994">,</span>&nbsp;<span class="ident" id="8297996">filename</span><span class="op" id="8298004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8298007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298011">filename</span>&nbsp;<span class="op" id="8298020">=</span>&nbsp;<span class="string" id="8298022">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298040">contents</span><span class="op" id="8298048">,</span>&nbsp;<span class="ident" id="8298050">err</span>&nbsp;<span class="op" id="8298054">=</span>&nbsp;<span class="ident" id="8298056">ReadFile</span><span class="op" id="8298064">(</span><span class="ident" id="8298065">filename</span><span class="op" id="8298073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8298076">if</span>&nbsp;<span class="ident" id="8298079">err</span>&nbsp;<span class="op" id="8298083">!=</span>&nbsp;<span class="ident" id="8298086">nil</span>&nbsp;<span class="op" id="8298090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298094">t</span><span class="op" id="8298095">.</span><span class="ident" id="8298096">Fatalf</span><span class="op" id="8298102">(</span><span class="string" id="8298103">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8298120">,</span>&nbsp;<span class="ident" id="8298122">filename</span><span class="op" id="8298130">,</span>&nbsp;<span class="ident" id="8298132">err</span><span class="op" id="8298135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8298138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298142">checkSize</span><span class="op" id="8298151">(</span><span class="ident" id="8298152">t</span><span class="op" id="8298153">,</span>&nbsp;<span class="ident" id="8298155">filename</span><span class="op" id="8298163">,</span>&nbsp;<span class="ident" id="8298165">int64</span><span class="op" id="8298170">(</span><span class="builtinfunc" id="8298171">len</span><span class="op" id="8298174">(</span><span class="ident" id="8298175">contents</span><span class="op" id="8298183">)</span><span class="op" id="8298184">)</span><span class="op" id="8298185">)</span><br>
<span class="lineno"></span><span class="op" id="8298187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298190">func</span>&nbsp;<span class="ident" id="8298195">TestWriteFile</span><span class="op" id="8298208">(</span><span class="ident" id="8298209">t</span>&nbsp;<span class="op" id="8298211">*</span><span class="ident" id="8298212">testing</span><span class="op" id="8298219">.</span><span class="ident" id="8298220">T</span><span class="op" id="8298221">)</span>&nbsp;<span class="op" id="8298223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298226">f</span><span class="op" id="8298227">,</span>&nbsp;<span class="ident" id="8298229">err</span>&nbsp;<span class="op" id="8298233">:=</span>&nbsp;<span class="ident" id="8298236">TempFile</span><span class="op" id="8298244">(</span><span class="string" id="8298245">&#34;&#34;</span><span class="op" id="8298247">,</span>&nbsp;<span class="string" id="8298249">&#34;ioutil-test&#34;</span><span class="op" id="8298262">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8298265">if</span>&nbsp;<span class="ident" id="8298268">err</span>&nbsp;<span class="op" id="8298272">!=</span>&nbsp;<span class="ident" id="8298275">nil</span>&nbsp;<span class="op" id="8298279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298283">t</span><span class="op" id="8298284">.</span><span class="ident" id="8298285">Fatal</span><span class="op" id="8298290">(</span><span class="ident" id="8298291">err</span><span class="op" id="8298294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8298297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298300">filename</span>&nbsp;<span class="op" id="8298309">:=</span>&nbsp;<span class="ident" id="8298312">f</span><span class="op" id="8298313">.</span><span class="ident" id="8298314">Name</span><span class="op" id="8298318">(</span><span class="op" id="8298319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298322">data</span>&nbsp;<span class="op" id="8298327">:=</span>&nbsp;<span class="string" id="8298330">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="8298400">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8298404">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="8298477">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8298481">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8298555">if</span>&nbsp;<span class="ident" id="8298558">err</span>&nbsp;<span class="op" id="8298562">:=</span>&nbsp;<span class="ident" id="8298565">WriteFile</span><span class="op" id="8298574">(</span><span class="ident" id="8298575">filename</span><span class="op" id="8298583">,</span>&nbsp;<span class="op" id="8298585">[</span><span class="op" id="8298586">]</span><span class="builtintype" id="8298587">byte</span><span class="op" id="8298591">(</span><span class="ident" id="8298592">data</span><span class="op" id="8298596">)</span><span class="op" id="8298597">,</span>&nbsp;<span class="num" id="8298599">0644</span><span class="op" id="8298603">)</span><span class="op" id="8298604">;</span>&nbsp;<span class="ident" id="8298606">err</span>&nbsp;<span class="op" id="8298610">!=</span>&nbsp;<span class="ident" id="8298613">nil</span>&nbsp;<span class="op" id="8298617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298621">t</span><span class="op" id="8298622">.</span><span class="ident" id="8298623">Fatalf</span><span class="op" id="8298629">(</span><span class="string" id="8298630">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8298648">,</span>&nbsp;<span class="ident" id="8298650">filename</span><span class="op" id="8298658">,</span>&nbsp;<span class="ident" id="8298660">err</span><span class="op" id="8298663">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8298666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298670">contents</span><span class="op" id="8298678">,</span>&nbsp;<span class="ident" id="8298680">err</span>&nbsp;<span class="op" id="8298684">:=</span>&nbsp;<span class="ident" id="8298687">ReadFile</span><span class="op" id="8298695">(</span><span class="ident" id="8298696">filename</span><span class="op" id="8298704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8298707">if</span>&nbsp;<span class="ident" id="8298710">err</span>&nbsp;<span class="op" id="8298714">!=</span>&nbsp;<span class="ident" id="8298717">nil</span>&nbsp;<span class="op" id="8298721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298725">t</span><span class="op" id="8298726">.</span><span class="ident" id="8298727">Fatalf</span><span class="op" id="8298733">(</span><span class="string" id="8298734">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8298751">,</span>&nbsp;<span class="ident" id="8298753">filename</span><span class="op" id="8298761">,</span>&nbsp;<span class="ident" id="8298763">err</span><span class="op" id="8298766">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8298769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8298773">if</span>&nbsp;<span class="builtintype" id="8298776">string</span><span class="op" id="8298782">(</span><span class="ident" id="8298783">contents</span><span class="op" id="8298791">)</span>&nbsp;<span class="op" id="8298793">!=</span>&nbsp;<span class="ident" id="8298796">data</span>&nbsp;<span class="op" id="8298801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298805">t</span><span class="op" id="8298806">.</span><span class="ident" id="8298807">Fatalf</span><span class="op" id="8298813">(</span><span class="string" id="8298814">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="8298844">,</span>&nbsp;<span class="builtintype" id="8298846">string</span><span class="op" id="8298852">(</span><span class="ident" id="8298853">contents</span><span class="op" id="8298861">)</span><span class="op" id="8298862">,</span>&nbsp;<span class="ident" id="8298864">data</span><span class="op" id="8298868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8298871">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8298875">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298887">f</span><span class="op" id="8298888">.</span><span class="ident" id="8298889">Close</span><span class="op" id="8298894">(</span><span class="op" id="8298895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298898">os</span><span class="op" id="8298900">.</span><span class="ident" id="8298901">Remove</span><span class="op" id="8298907">(</span><span class="ident" id="8298908">filename</span><span class="op" id="8298916">)</span>&nbsp;<span class="comment" id="8298918">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="8298934">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8298937">func</span>&nbsp;<span class="ident" id="8298942">TestReadDir</span><span class="op" id="8298953">(</span><span class="ident" id="8298954">t</span>&nbsp;<span class="op" id="8298956">*</span><span class="ident" id="8298957">testing</span><span class="op" id="8298964">.</span><span class="ident" id="8298965">T</span><span class="op" id="8298966">)</span>&nbsp;<span class="op" id="8298968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8298971">dirname</span>&nbsp;<span class="op" id="8298979">:=</span>&nbsp;<span class="string" id="8298982">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299001">_</span><span class="op" id="8299002">,</span>&nbsp;<span class="ident" id="8299004">err</span>&nbsp;<span class="op" id="8299008">:=</span>&nbsp;<span class="ident" id="8299011">ReadDir</span><span class="op" id="8299018">(</span><span class="ident" id="8299019">dirname</span><span class="op" id="8299026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299029">if</span>&nbsp;<span class="ident" id="8299032">err</span>&nbsp;<span class="op" id="8299036">==</span>&nbsp;<span class="ident" id="8299039">nil</span>&nbsp;<span class="op" id="8299043">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299047">t</span><span class="op" id="8299048">.</span><span class="ident" id="8299049">Fatalf</span><span class="op" id="8299055">(</span><span class="string" id="8299056">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="8299096">,</span>&nbsp;<span class="ident" id="8299098">dirname</span><span class="op" id="8299105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8299108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299112">dirname</span>&nbsp;<span class="op" id="8299120">=</span>&nbsp;<span class="string" id="8299122">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299128">list</span><span class="op" id="8299132">,</span>&nbsp;<span class="ident" id="8299134">err</span>&nbsp;<span class="op" id="8299138">:=</span>&nbsp;<span class="ident" id="8299141">ReadDir</span><span class="op" id="8299148">(</span><span class="ident" id="8299149">dirname</span><span class="op" id="8299156">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299159">if</span>&nbsp;<span class="ident" id="8299162">err</span>&nbsp;<span class="op" id="8299166">!=</span>&nbsp;<span class="ident" id="8299169">nil</span>&nbsp;<span class="op" id="8299173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299177">t</span><span class="op" id="8299178">.</span><span class="ident" id="8299179">Fatalf</span><span class="op" id="8299185">(</span><span class="string" id="8299186">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8299202">,</span>&nbsp;<span class="ident" id="8299204">dirname</span><span class="op" id="8299211">,</span>&nbsp;<span class="ident" id="8299213">err</span><span class="op" id="8299216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8299219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299223">foundFile</span>&nbsp;<span class="op" id="8299233">:=</span>&nbsp;<span class="builtintype" id="8299236">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299243">foundSubDir</span>&nbsp;<span class="op" id="8299255">:=</span>&nbsp;<span class="builtintype" id="8299258">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299265">for</span>&nbsp;<span class="ident" id="8299269">_</span><span class="op" id="8299270">,</span>&nbsp;<span class="ident" id="8299272">dir</span>&nbsp;<span class="op" id="8299276">:=</span>&nbsp;<span class="keyword" id="8299279">range</span>&nbsp;<span class="ident" id="8299285">list</span>&nbsp;<span class="op" id="8299290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299294">switch</span>&nbsp;<span class="op" id="8299301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299305">case</span>&nbsp;<span class="op" id="8299310">!</span><span class="ident" id="8299311">dir</span><span class="op" id="8299314">.</span><span class="ident" id="8299315">IsDir</span><span class="op" id="8299320">(</span><span class="op" id="8299321">)</span>&nbsp;<span class="op" id="8299323">&amp;&amp;</span>&nbsp;<span class="ident" id="8299326">dir</span><span class="op" id="8299329">.</span><span class="ident" id="8299330">Name</span><span class="op" id="8299334">(</span><span class="op" id="8299335">)</span>&nbsp;<span class="op" id="8299337">==</span>&nbsp;<span class="string" id="8299340">&#34;io_test.go&#34;</span><span class="op" id="8299352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299357">foundFile</span>&nbsp;<span class="op" id="8299367">=</span>&nbsp;<span class="builtintype" id="8299369">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299376">case</span>&nbsp;<span class="ident" id="8299381">dir</span><span class="op" id="8299384">.</span><span class="ident" id="8299385">IsDir</span><span class="op" id="8299390">(</span><span class="op" id="8299391">)</span>&nbsp;<span class="op" id="8299393">&amp;&amp;</span>&nbsp;<span class="ident" id="8299396">dir</span><span class="op" id="8299399">.</span><span class="ident" id="8299400">Name</span><span class="op" id="8299404">(</span><span class="op" id="8299405">)</span>&nbsp;<span class="op" id="8299407">==</span>&nbsp;<span class="string" id="8299410">&#34;ioutil&#34;</span><span class="op" id="8299418">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299423">foundSubDir</span>&nbsp;<span class="op" id="8299435">=</span>&nbsp;<span class="builtintype" id="8299437">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8299444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8299447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299450">if</span>&nbsp;<span class="op" id="8299453">!</span><span class="ident" id="8299454">foundFile</span>&nbsp;<span class="op" id="8299464">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299468">t</span><span class="op" id="8299469">.</span><span class="ident" id="8299470">Fatalf</span><span class="op" id="8299476">(</span><span class="string" id="8299477">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="8299516">,</span>&nbsp;<span class="ident" id="8299518">dirname</span><span class="op" id="8299525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8299528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8299531">if</span>&nbsp;<span class="op" id="8299534">!</span><span class="ident" id="8299535">foundSubDir</span>&nbsp;<span class="op" id="8299547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8299551">t</span><span class="op" id="8299552">.</span><span class="ident" id="8299553">Fatalf</span><span class="op" id="8299559">(</span><span class="string" id="8299560">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="8299600">,</span>&nbsp;<span class="ident" id="8299602">dirname</span><span class="op" id="8299609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8299612">}</span><br>
<span class="lineno">95</span><span class="op" id="8299614">}</span>
</div>
</body>
</html>
