<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3634606">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3634661">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3634715">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3634766">//&nbsp;Represents&nbsp;JSON&nbsp;data&nbsp;structure&nbsp;using&nbsp;native&nbsp;Go&nbsp;types:&nbsp;booleans,&nbsp;floats,</span><br>
<span class="lineno"></span><span class="comment" id="3634841">//&nbsp;strings,&nbsp;arrays,&nbsp;and&nbsp;maps.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3634872">package</span>&nbsp;<span class="ident" id="3634880">json</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3634886">import</span>&nbsp;<span class="op" id="3634893">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634896">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634905">&#34;encoding&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634917">&#34;encoding/base64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634936">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634946">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634953">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634964">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634975">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634986">&#34;unicode&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3634997">&#34;unicode/utf16&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3635014">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3635029">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3635032">//&nbsp;Unmarshal&nbsp;parses&nbsp;the&nbsp;JSON-encoded&nbsp;data&nbsp;and&nbsp;stores&nbsp;the&nbsp;result</span><br>
<span class="lineno">25</span><span class="comment" id="3635096">//&nbsp;in&nbsp;the&nbsp;value&nbsp;pointed&nbsp;to&nbsp;by&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="3635129">//</span><br>
<span class="lineno"></span><span class="comment" id="3635132">//&nbsp;Unmarshal&nbsp;uses&nbsp;the&nbsp;inverse&nbsp;of&nbsp;the&nbsp;encodings&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3635184">//&nbsp;Marshal&nbsp;uses,&nbsp;allocating&nbsp;maps,&nbsp;slices,&nbsp;and&nbsp;pointers&nbsp;as&nbsp;necessary,</span><br>
<span class="lineno"></span><span class="comment" id="3635253">//&nbsp;with&nbsp;the&nbsp;following&nbsp;additional&nbsp;rules:</span><br>
<span class="lineno">30</span><span class="comment" id="3635293">//</span><br>
<span class="lineno"></span><span class="comment" id="3635296">//&nbsp;To&nbsp;unmarshal&nbsp;JSON&nbsp;into&nbsp;a&nbsp;pointer,&nbsp;Unmarshal&nbsp;first&nbsp;handles&nbsp;the&nbsp;case&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3635369">//&nbsp;the&nbsp;JSON&nbsp;being&nbsp;the&nbsp;JSON&nbsp;literal&nbsp;null.&nbsp;&nbsp;In&nbsp;that&nbsp;case,&nbsp;Unmarshal&nbsp;sets</span><br>
<span class="lineno"></span><span class="comment" id="3635440">//&nbsp;the&nbsp;pointer&nbsp;to&nbsp;nil.&nbsp;&nbsp;Otherwise,&nbsp;Unmarshal&nbsp;unmarshals&nbsp;the&nbsp;JSON&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="3635510">//&nbsp;the&nbsp;value&nbsp;pointed&nbsp;at&nbsp;by&nbsp;the&nbsp;pointer.&nbsp;&nbsp;If&nbsp;the&nbsp;pointer&nbsp;is&nbsp;nil,&nbsp;Unmarshal</span><br>
<span class="lineno">35</span><span class="comment" id="3635584">//&nbsp;allocates&nbsp;a&nbsp;new&nbsp;value&nbsp;for&nbsp;it&nbsp;to&nbsp;point&nbsp;to.</span><br>
<span class="lineno"></span><span class="comment" id="3635629">//</span><br>
<span class="lineno"></span><span class="comment" id="3635632">//&nbsp;To&nbsp;unmarshal&nbsp;JSON&nbsp;into&nbsp;a&nbsp;struct,&nbsp;Unmarshal&nbsp;matches&nbsp;incoming&nbsp;object</span><br>
<span class="lineno"></span><span class="comment" id="3635702">//&nbsp;keys&nbsp;to&nbsp;the&nbsp;keys&nbsp;used&nbsp;by&nbsp;Marshal&nbsp;(either&nbsp;the&nbsp;struct&nbsp;field&nbsp;name&nbsp;or&nbsp;its&nbsp;tag),</span><br>
<span class="lineno"></span><span class="comment" id="3635781">//&nbsp;preferring&nbsp;an&nbsp;exact&nbsp;match&nbsp;but&nbsp;also&nbsp;accepting&nbsp;a&nbsp;case-insensitive&nbsp;match.</span><br>
<span class="lineno">40</span><span class="comment" id="3635855">//</span><br>
<span class="lineno"></span><span class="comment" id="3635858">//&nbsp;To&nbsp;unmarshal&nbsp;JSON&nbsp;into&nbsp;an&nbsp;interface&nbsp;value,</span><br>
<span class="lineno"></span><span class="comment" id="3635904">//&nbsp;Unmarshal&nbsp;stores&nbsp;one&nbsp;of&nbsp;these&nbsp;in&nbsp;the&nbsp;interface&nbsp;value:</span><br>
<span class="lineno"></span><span class="comment" id="3635961">//</span><br>
<span class="lineno"></span><span class="comment" id="3635964">//&nbsp;&nbsp;&nbsp;&nbspbool,&nbsp;for&nbsp;JSON&nbsp;booleans</span><br>
<span class="lineno">45</span><span class="comment" id="3635991">//&nbsp;&nbsp;&nbsp;&nbspfloat64,&nbsp;for&nbsp;JSON&nbsp;numbers</span><br>
<span class="lineno"></span><span class="comment" id="3636020">//&nbsp;&nbsp;&nbsp;&nbspstring,&nbsp;for&nbsp;JSON&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="3636048">//&nbsp;&nbsp;&nbsp;&nbsp[]interface{},&nbsp;for&nbsp;JSON&nbsp;arrays</span><br>
<span class="lineno"></span><span class="comment" id="3636082">//&nbsp;&nbsp;&nbsp;&nbspmap[string]interface{},&nbsp;for&nbsp;JSON&nbsp;objects</span><br>
<span class="lineno"></span><span class="comment" id="3636126">//&nbsp;&nbsp;&nbsp;&nbspnil&nbsp;for&nbsp;JSON&nbsp;null</span><br>
<span class="lineno">50</span><span class="comment" id="3636147">//</span><br>
<span class="lineno"></span><span class="comment" id="3636150">//&nbsp;If&nbsp;a&nbsp;JSON&nbsp;value&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;a&nbsp;given&nbsp;target&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="3636213">//&nbsp;or&nbsp;if&nbsp;a&nbsp;JSON&nbsp;number&nbsp;overflows&nbsp;the&nbsp;target&nbsp;type,&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="3636273">//&nbsp;skips&nbsp;that&nbsp;field&nbsp;and&nbsp;completes&nbsp;the&nbsp;unmarshalling&nbsp;as&nbsp;best&nbsp;it&nbsp;can.</span><br>
<span class="lineno"></span><span class="comment" id="3636341">//&nbsp;If&nbsp;no&nbsp;more&nbsp;serious&nbsp;errors&nbsp;are&nbsp;encountered,&nbsp;Unmarshal&nbsp;returns</span><br>
<span class="lineno">55</span><span class="comment" id="3636405">//&nbsp;an&nbsp;UnmarshalTypeError&nbsp;describing&nbsp;the&nbsp;earliest&nbsp;such&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="3636466">//</span><br>
<span class="lineno"></span><span class="comment" id="3636469">//&nbsp;The&nbsp;JSON&nbsp;null&nbsp;value&nbsp;unmarshals&nbsp;into&nbsp;an&nbsp;interface,&nbsp;map,&nbsp;pointer,&nbsp;or&nbsp;slice</span><br>
<span class="lineno"></span><span class="comment" id="3636545">//&nbsp;by&nbsp;setting&nbsp;that&nbsp;Go&nbsp;value&nbsp;to&nbsp;nil.&nbsp;Because&nbsp;null&nbsp;is&nbsp;often&nbsp;used&nbsp;in&nbsp;JSON&nbsp;to&nbsp;mean</span><br>
<span class="lineno"></span><span class="comment" id="3636624">//&nbsp;``not&nbsp;present,&#39;&#39;&nbsp;unmarshaling&nbsp;a&nbsp;JSON&nbsp;null&nbsp;into&nbsp;any&nbsp;other&nbsp;Go&nbsp;type&nbsp;has&nbsp;no&nbsp;effect</span><br>
<span class="lineno">60</span><span class="comment" id="3636706">//&nbsp;on&nbsp;the&nbsp;value&nbsp;and&nbsp;produces&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="3636745">//</span><br>
<span class="lineno"></span><span class="comment" id="3636748">//&nbsp;When&nbsp;unmarshaling&nbsp;quoted&nbsp;strings,&nbsp;invalid&nbsp;UTF-8&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3636802">//&nbsp;invalid&nbsp;UTF-16&nbsp;surrogate&nbsp;pairs&nbsp;are&nbsp;not&nbsp;treated&nbsp;as&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="3636865">//&nbsp;Instead,&nbsp;they&nbsp;are&nbsp;replaced&nbsp;by&nbsp;the&nbsp;Unicode&nbsp;replacement</span><br>
<span class="lineno">65</span><span class="comment" id="3636922">//&nbsp;character&nbsp;U+FFFD.</span><br>
<span class="lineno"></span><span class="comment" id="3636943">//</span><br>
<span class="lineno"></span><span class="keyword" id="3636946">func</span>&nbsp;<span class="ident" id="3636951">Unmarshal</span><span class="op" id="3636960">(</span><span class="ident" id="3636961">data</span>&nbsp;<span class="op" id="3636966">[</span><span class="op" id="3636967">]</span><span class="builtintype" id="3636968">byte</span><span class="op" id="3636972">,</span>&nbsp;<span class="ident" id="3636974">v</span>&nbsp;<span class="keyword" id="3636976">interface</span><span class="op" id="3636985">{</span><span class="op" id="3636986">}</span><span class="op" id="3636987">)</span>&nbsp;<span class="builtintype" id="3636989">error</span>&nbsp;<span class="op" id="3636995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3636998">//&nbsp;Check&nbsp;for&nbsp;well-formedness.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3637029">//&nbsp;Avoids&nbsp;filling&nbsp;out&nbsp;half&nbsp;a&nbsp;data&nbsp;structure</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3637074">//&nbsp;before&nbsp;discovering&nbsp;a&nbsp;JSON&nbsp;syntax&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3637118">var</span>&nbsp;<span class="ident" id="3637122">d</span>&nbsp;<span class="ident" id="3637124"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3637137">err</span>&nbsp;<span class="op" id="3637141">:=</span>&nbsp;<span class="ident" id="3637144"><a href="/encoding/json/scanner.go.html#3699415">checkValid</a></span><span class="op" id="3637154">(</span><span class="ident" id="3637155"><a href="/encoding/json/decode.go.html#3636961">data</a></span><span class="op" id="3637159">,</span>&nbsp;<span class="op" id="3637161">&amp;</span><span class="ident" id="3637162"><a href="/encoding/json/decode.go.html#3637122">d</a></span><span class="op" id="3637163">.</span><span class="ident" id="3637164">scan</span><span class="op" id="3637168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3637171">if</span>&nbsp;<span class="ident" id="3637174"><a href="/encoding/json/decode.go.html#3637137">err</a></span>&nbsp;<span class="op" id="3637178">!=</span>&nbsp;<span class="ident" id="3637181">nil</span>&nbsp;<span class="op" id="3637185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3637189">return</span>&nbsp;<span class="ident" id="3637196"><a href="/encoding/json/decode.go.html#3637137">err</a></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3637201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3637205"><a href="/encoding/json/decode.go.html#3637122">d</a></span><span class="op" id="3637206">.</span><span class="ident" id="3637207">init</span><span class="op" id="3637211">(</span><span class="ident" id="3637212"><a href="/encoding/json/decode.go.html#3636961">data</a></span><span class="op" id="3637216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3637219">return</span>&nbsp;<span class="ident" id="3637226"><a href="/encoding/json/decode.go.html#3637122">d</a></span><span class="op" id="3637227">.</span><span class="ident" id="3637228">unmarshal</span><span class="op" id="3637237">(</span><span class="ident" id="3637238"><a href="/encoding/json/decode.go.html#3636974">v</a></span><span class="op" id="3637239">)</span><br>
<span class="lineno"></span><span class="op" id="3637241">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="3637244">//&nbsp;Unmarshaler&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects</span><br>
<span class="lineno"></span><span class="comment" id="3637299">//&nbsp;that&nbsp;can&nbsp;unmarshal&nbsp;a&nbsp;JSON&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="3637355">//&nbsp;The&nbsp;input&nbsp;can&nbsp;be&nbsp;assumed&nbsp;to&nbsp;be&nbsp;a&nbsp;valid&nbsp;encoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3637409">//&nbsp;a&nbsp;JSON&nbsp;value.&nbsp;UnmarshalJSON&nbsp;must&nbsp;copy&nbsp;the&nbsp;JSON&nbsp;data</span><br>
<span class="lineno">85</span><span class="comment" id="3637464">//&nbsp;if&nbsp;it&nbsp;wishes&nbsp;to&nbsp;retain&nbsp;the&nbsp;data&nbsp;after&nbsp;returning.</span><br>
<span class="lineno"></span><span class="keyword" id="3637516">type</span>&nbsp;<span class="ident" id="3637521">Unmarshaler</span>&nbsp;<span class="keyword" id="3637533">interface</span>&nbsp;<span class="op" id="3637543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3637546">UnmarshalJSON</span><span class="op" id="3637559">(</span><span class="op" id="3637560">[</span><span class="op" id="3637561">]</span><span class="builtintype" id="3637562">byte</span><span class="op" id="3637566">)</span>&nbsp;<span class="builtintype" id="3637568">error</span><br>
<span class="lineno"></span><span class="op" id="3637574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="3637577">//&nbsp;An&nbsp;UnmarshalTypeError&nbsp;describes&nbsp;a&nbsp;JSON&nbsp;value&nbsp;that&nbsp;was</span><br>
<span class="lineno"></span><span class="comment" id="3637634">//&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;a&nbsp;value&nbsp;of&nbsp;a&nbsp;specific&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="3637688">type</span>&nbsp;<span class="ident" id="3637693">UnmarshalTypeError</span>&nbsp;<span class="keyword" id="3637712">struct</span>&nbsp;<span class="op" id="3637719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3637722">Value</span>&nbsp;<span class="builtintype" id="3637728">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3637741">//&nbsp;description&nbsp;of&nbsp;JSON&nbsp;value&nbsp;-&nbsp;&#34;bool&#34;,&nbsp;&#34;array&#34;,&nbsp;&#34;number&nbsp;-5&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3637802">Type</span>&nbsp;&nbsp;<span class="ident" id="3637808"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3637815">.</span><span class="ident" id="3637816">Type</span>&nbsp;<span class="comment" id="3637821">//&nbsp;type&nbsp;of&nbsp;Go&nbsp;value&nbsp;it&nbsp;could&nbsp;not&nbsp;be&nbsp;assigned&nbsp;to</span><br>
<span class="lineno">95</span><span class="op" id="3637869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3637872">func</span>&nbsp;<span class="op" id="3637877">(</span><span class="ident" id="3637878">e</span>&nbsp;<span class="op" id="3637880">*</span><span class="ident" id="3637881"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3637899">)</span>&nbsp;<span class="ident" id="3637901">Error</span><span class="op" id="3637906">(</span><span class="op" id="3637907">)</span>&nbsp;<span class="builtintype" id="3637909">string</span>&nbsp;<span class="op" id="3637916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3637919">return</span>&nbsp;<span class="string" id="3637926">&#34;json:&nbsp;cannot&nbsp;unmarshal&nbsp;&#34;</span>&nbsp;<span class="op" id="3637952">+</span>&nbsp;<span class="ident" id="3637954"><a href="/encoding/json/decode.go.html#3637878">e</a></span><span class="op" id="3637955">.</span><span class="ident" id="3637956">Value</span>&nbsp;<span class="op" id="3637962">+</span>&nbsp;<span class="string" id="3637964">&#34;&nbsp;into&nbsp;Go&nbsp;value&nbsp;of&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="3637990">+</span>&nbsp;<span class="ident" id="3637992"><a href="/encoding/json/decode.go.html#3637878">e</a></span><span class="op" id="3637993">.</span><span class="ident" id="3637994">Type</span><span class="op" id="3637998">.</span><span class="ident" id="3637999">String</span><span class="op" id="3638005">(</span><span class="op" id="3638006">)</span><br>
<span class="lineno"></span><span class="op" id="3638008">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="3638011">//&nbsp;An&nbsp;UnmarshalFieldError&nbsp;describes&nbsp;a&nbsp;JSON&nbsp;object&nbsp;key&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3638070">//&nbsp;led&nbsp;to&nbsp;an&nbsp;unexported&nbsp;(and&nbsp;therefore&nbsp;unwritable)&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="3638135">//&nbsp;(No&nbsp;longer&nbsp;used;&nbsp;kept&nbsp;for&nbsp;compatibility.)</span><br>
<span class="lineno"></span><span class="keyword" id="3638180">type</span>&nbsp;<span class="ident" id="3638185">UnmarshalFieldError</span>&nbsp;<span class="keyword" id="3638205">struct</span>&nbsp;<span class="op" id="3638212">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3638215">Key</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3638221">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3638229">Type</span>&nbsp;&nbsp;<span class="ident" id="3638235"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3638242">.</span><span class="ident" id="3638243">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3638249">Field</span>&nbsp;<span class="ident" id="3638255"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3638262">.</span><span class="ident" id="3638263">StructField</span><br>
<span class="lineno"></span><span class="op" id="3638275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="3638278">func</span>&nbsp;<span class="op" id="3638283">(</span><span class="ident" id="3638284">e</span>&nbsp;<span class="op" id="3638286">*</span><span class="ident" id="3638287"><a href="/encoding/json/decode.go.html#3638185">UnmarshalFieldError</a></span><span class="op" id="3638306">)</span>&nbsp;<span class="ident" id="3638308">Error</span><span class="op" id="3638313">(</span><span class="op" id="3638314">)</span>&nbsp;<span class="builtintype" id="3638316">string</span>&nbsp;<span class="op" id="3638323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638326">return</span>&nbsp;<span class="string" id="3638333">&#34;json:&nbsp;cannot&nbsp;unmarshal&nbsp;object&nbsp;key&nbsp;&#34;</span>&nbsp;<span class="op" id="3638370">+</span>&nbsp;<span class="ident" id="3638372"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3638379">.</span><span class="ident" id="3638380">Quote</span><span class="op" id="3638385">(</span><span class="ident" id="3638386"><a href="/encoding/json/decode.go.html#3638284">e</a></span><span class="op" id="3638387">.</span><span class="ident" id="3638388">Key</span><span class="op" id="3638391">)</span>&nbsp;<span class="op" id="3638393">+</span>&nbsp;<span class="string" id="3638395">&#34;&nbsp;into&nbsp;unexported&nbsp;field&nbsp;&#34;</span>&nbsp;<span class="op" id="3638421">+</span>&nbsp;<span class="ident" id="3638423"><a href="/encoding/json/decode.go.html#3638284">e</a></span><span class="op" id="3638424">.</span><span class="ident" id="3638425">Field</span><span class="op" id="3638430">.</span><span class="ident" id="3638431">Name</span>&nbsp;<span class="op" id="3638436">+</span>&nbsp;<span class="string" id="3638438">&#34;&nbsp;of&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="3638450">+</span>&nbsp;<span class="ident" id="3638452"><a href="/encoding/json/decode.go.html#3638284">e</a></span><span class="op" id="3638453">.</span><span class="ident" id="3638454">Type</span><span class="op" id="3638458">.</span><span class="ident" id="3638459">String</span><span class="op" id="3638465">(</span><span class="op" id="3638466">)</span><br>
<span class="lineno"></span><span class="op" id="3638468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3638471">//&nbsp;An&nbsp;InvalidUnmarshalError&nbsp;describes&nbsp;an&nbsp;invalid&nbsp;argument&nbsp;passed&nbsp;to&nbsp;Unmarshal.</span><br>
<span class="lineno">115</span><span class="comment" id="3638550">//&nbsp;(The&nbsp;argument&nbsp;to&nbsp;Unmarshal&nbsp;must&nbsp;be&nbsp;a&nbsp;non-nil&nbsp;pointer.)</span><br>
<span class="lineno"></span><span class="keyword" id="3638608">type</span>&nbsp;<span class="ident" id="3638613">InvalidUnmarshalError</span>&nbsp;<span class="keyword" id="3638635">struct</span>&nbsp;<span class="op" id="3638642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3638645">Type</span>&nbsp;<span class="ident" id="3638650"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3638657">.</span><span class="ident" id="3638658">Type</span><br>
<span class="lineno"></span><span class="op" id="3638663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="3638666">func</span>&nbsp;<span class="op" id="3638671">(</span><span class="ident" id="3638672">e</span>&nbsp;<span class="op" id="3638674">*</span><span class="ident" id="3638675"><a href="/encoding/json/decode.go.html#3638613">InvalidUnmarshalError</a></span><span class="op" id="3638696">)</span>&nbsp;<span class="ident" id="3638698">Error</span><span class="op" id="3638703">(</span><span class="op" id="3638704">)</span>&nbsp;<span class="builtintype" id="3638706">string</span>&nbsp;<span class="op" id="3638713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638716">if</span>&nbsp;<span class="ident" id="3638719"><a href="/encoding/json/decode.go.html#3638672">e</a></span><span class="op" id="3638720">.</span><span class="ident" id="3638721">Type</span>&nbsp;<span class="op" id="3638726">==</span>&nbsp;<span class="ident" id="3638729">nil</span>&nbsp;<span class="op" id="3638733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638737">return</span>&nbsp;<span class="string" id="3638744">&#34;json:&nbsp;Unmarshal(nil)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3638768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638772">if</span>&nbsp;<span class="ident" id="3638775"><a href="/encoding/json/decode.go.html#3638672">e</a></span><span class="op" id="3638776">.</span><span class="ident" id="3638777">Type</span><span class="op" id="3638781">.</span><span class="ident" id="3638782">Kind</span><span class="op" id="3638786">(</span><span class="op" id="3638787">)</span>&nbsp;<span class="op" id="3638789">!=</span>&nbsp;<span class="ident" id="3638792"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3638799">.</span><span class="ident" id="3638800">Ptr</span>&nbsp;<span class="op" id="3638804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638808">return</span>&nbsp;<span class="string" id="3638815">&#34;json:&nbsp;Unmarshal(non-pointer&nbsp;&#34;</span>&nbsp;<span class="op" id="3638846">+</span>&nbsp;<span class="ident" id="3638848"><a href="/encoding/json/decode.go.html#3638672">e</a></span><span class="op" id="3638849">.</span><span class="ident" id="3638850">Type</span><span class="op" id="3638854">.</span><span class="ident" id="3638855">String</span><span class="op" id="3638861">(</span><span class="op" id="3638862">)</span>&nbsp;<span class="op" id="3638864">+</span>&nbsp;<span class="string" id="3638866">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3638871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638874">return</span>&nbsp;<span class="string" id="3638881">&#34;json:&nbsp;Unmarshal(nil&nbsp;&#34;</span>&nbsp;<span class="op" id="3638904">+</span>&nbsp;<span class="ident" id="3638906"><a href="/encoding/json/decode.go.html#3638672">e</a></span><span class="op" id="3638907">.</span><span class="ident" id="3638908">Type</span><span class="op" id="3638912">.</span><span class="ident" id="3638913">String</span><span class="op" id="3638919">(</span><span class="op" id="3638920">)</span>&nbsp;<span class="op" id="3638922">+</span>&nbsp;<span class="string" id="3638924">&#34;)&#34;</span><br>
<span class="lineno"></span><span class="op" id="3638928">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="3638931">func</span>&nbsp;<span class="op" id="3638936">(</span><span class="ident" id="3638937">d</span>&nbsp;<span class="op" id="3638939">*</span><span class="ident" id="3638940"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3638951">)</span>&nbsp;<span class="ident" id="3638953">unmarshal</span><span class="op" id="3638962">(</span><span class="ident" id="3638963">v</span>&nbsp;<span class="keyword" id="3638965">interface</span><span class="op" id="3638974">{</span><span class="op" id="3638975">}</span><span class="op" id="3638976">)</span>&nbsp;<span class="op" id="3638978">(</span><span class="ident" id="3638979">err</span>&nbsp;<span class="builtintype" id="3638983">error</span><span class="op" id="3638988">)</span>&nbsp;<span class="op" id="3638990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3638993">defer</span>&nbsp;<span class="keyword" id="3638999">func</span><span class="op" id="3639003">(</span><span class="op" id="3639004">)</span>&nbsp;<span class="op" id="3639006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639010">if</span>&nbsp;<span class="ident" id="3639013">r</span>&nbsp;<span class="op" id="3639015">:=</span>&nbsp;<span class="builtinfunc" id="3639018">recover</span><span class="op" id="3639025">(</span><span class="op" id="3639026">)</span><span class="op" id="3639027">;</span>&nbsp;<span class="ident" id="3639029"><a href="/encoding/json/decode.go.html#3639013">r</a></span>&nbsp;<span class="op" id="3639031">!=</span>&nbsp;<span class="ident" id="3639034">nil</span>&nbsp;<span class="op" id="3639038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639043">if</span>&nbsp;<span class="ident" id="3639046">_</span><span class="op" id="3639047">,</span>&nbsp;<span class="ident" id="3639049">ok</span>&nbsp;<span class="op" id="3639052">:=</span>&nbsp;<span class="ident" id="3639055"><a href="/encoding/json/decode.go.html#3639013">r</a></span><span class="op" id="3639056">.</span><span class="op" id="3639057">(</span><span class="ident" id="3639058"><a href="/encoding/json/decode.go.html#3634964">runtime</a></span><span class="op" id="3639065">.</span><span class="ident" id="3639066">Error</span><span class="op" id="3639071">)</span><span class="op" id="3639072">;</span>&nbsp;<span class="ident" id="3639074"><a href="/encoding/json/decode.go.html#3639049">ok</a></span>&nbsp;<span class="op" id="3639077">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3639083">panic</span><span class="op" id="3639088">(</span><span class="ident" id="3639089"><a href="/encoding/json/decode.go.html#3639013">r</a></span><span class="op" id="3639090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3639095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3639100"><a href="/encoding/json/decode.go.html#3638979">err</a></span>&nbsp;<span class="op" id="3639104">=</span>&nbsp;<span class="ident" id="3639106"><a href="/encoding/json/decode.go.html#3639013">r</a></span><span class="op" id="3639107">.</span><span class="op" id="3639108">(</span><span class="builtintype" id="3639109">error</span><span class="op" id="3639114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3639118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3639121">}</span><span class="op" id="3639122">(</span><span class="op" id="3639123">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3639127">rv</span>&nbsp;<span class="op" id="3639130">:=</span>&nbsp;<span class="ident" id="3639133"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3639140">.</span><span class="ident" id="3639141">ValueOf</span><span class="op" id="3639148">(</span><span class="ident" id="3639149"><a href="/encoding/json/decode.go.html#3638963">v</a></span><span class="op" id="3639150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639153">if</span>&nbsp;<span class="ident" id="3639156"><a href="/encoding/json/decode.go.html#3639127">rv</a></span><span class="op" id="3639158">.</span><span class="ident" id="3639159">Kind</span><span class="op" id="3639163">(</span><span class="op" id="3639164">)</span>&nbsp;<span class="op" id="3639166">!=</span>&nbsp;<span class="ident" id="3639169"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3639176">.</span><span class="ident" id="3639177">Ptr</span>&nbsp;<span class="op" id="3639181">||</span>&nbsp;<span class="ident" id="3639184"><a href="/encoding/json/decode.go.html#3639127">rv</a></span><span class="op" id="3639186">.</span><span class="ident" id="3639187">IsNil</span><span class="op" id="3639192">(</span><span class="op" id="3639193">)</span>&nbsp;<span class="op" id="3639195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639199">return</span>&nbsp;<span class="op" id="3639206">&amp;</span><span class="ident" id="3639207"><a href="/encoding/json/decode.go.html#3638613">InvalidUnmarshalError</a></span><span class="op" id="3639228">{</span><span class="ident" id="3639229"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3639236">.</span><span class="ident" id="3639237">TypeOf</span><span class="op" id="3639243">(</span><span class="ident" id="3639244"><a href="/encoding/json/decode.go.html#3638963">v</a></span><span class="op" id="3639245">)</span><span class="op" id="3639246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3639249">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3639253"><a href="/encoding/json/decode.go.html#3638937">d</a></span><span class="op" id="3639254">.</span><span class="ident" id="3639255">scan</span><span class="op" id="3639259">.</span><span class="ident" id="3639260">reset</span><span class="op" id="3639265">(</span><span class="op" id="3639266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3639269">//&nbsp;We&nbsp;decode&nbsp;rv&nbsp;not&nbsp;rv.Elem&nbsp;because&nbsp;the&nbsp;Unmarshaler&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3639332">//&nbsp;test&nbsp;must&nbsp;be&nbsp;applied&nbsp;at&nbsp;the&nbsp;top&nbsp;level&nbsp;of&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3639388"><a href="/encoding/json/decode.go.html#3638937">d</a></span><span class="op" id="3639389">.</span><span class="ident" id="3639390">value</span><span class="op" id="3639395">(</span><span class="ident" id="3639396"><a href="/encoding/json/decode.go.html#3639127">rv</a></span><span class="op" id="3639398">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639401">return</span>&nbsp;<span class="ident" id="3639408"><a href="/encoding/json/decode.go.html#3638937">d</a></span><span class="op" id="3639409">.</span><span class="ident" id="3639410">savedError</span><br>
<span class="lineno"></span><span class="op" id="3639421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3639424">//&nbsp;A&nbsp;Number&nbsp;represents&nbsp;a&nbsp;JSON&nbsp;number&nbsp;literal.</span><br>
<span class="lineno"></span><span class="keyword" id="3639470">type</span>&nbsp;<span class="ident" id="3639475">Number</span>&nbsp;<span class="builtintype" id="3639482">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3639490">//&nbsp;String&nbsp;returns&nbsp;the&nbsp;literal&nbsp;text&nbsp;of&nbsp;the&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="3639540">func</span>&nbsp;<span class="op" id="3639545">(</span><span class="ident" id="3639546">n</span>&nbsp;<span class="ident" id="3639548"><a href="/encoding/json/decode.go.html#3639475">Number</a></span><span class="op" id="3639554">)</span>&nbsp;<span class="ident" id="3639556">String</span><span class="op" id="3639562">(</span><span class="op" id="3639563">)</span>&nbsp;<span class="builtintype" id="3639565">string</span>&nbsp;<span class="op" id="3639572">{</span>&nbsp;<span class="keyword" id="3639574">return</span>&nbsp;<span class="builtintype" id="3639581">string</span><span class="op" id="3639587">(</span><span class="ident" id="3639588"><a href="/encoding/json/decode.go.html#3639546">n</a></span><span class="op" id="3639589">)</span>&nbsp;<span class="op" id="3639591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3639594">//&nbsp;Float64&nbsp;returns&nbsp;the&nbsp;number&nbsp;as&nbsp;a&nbsp;float64.</span><br>
<span class="lineno">160</span><span class="keyword" id="3639638">func</span>&nbsp;<span class="op" id="3639643">(</span><span class="ident" id="3639644">n</span>&nbsp;<span class="ident" id="3639646"><a href="/encoding/json/decode.go.html#3639475">Number</a></span><span class="op" id="3639652">)</span>&nbsp;<span class="ident" id="3639654">Float64</span><span class="op" id="3639661">(</span><span class="op" id="3639662">)</span>&nbsp;<span class="op" id="3639664">(</span><span class="builtintype" id="3639665">float64</span><span class="op" id="3639672">,</span>&nbsp;<span class="builtintype" id="3639674">error</span><span class="op" id="3639679">)</span>&nbsp;<span class="op" id="3639681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639684">return</span>&nbsp;<span class="ident" id="3639691"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3639698">.</span><span class="ident" id="3639699">ParseFloat</span><span class="op" id="3639709">(</span><span class="builtintype" id="3639710">string</span><span class="op" id="3639716">(</span><span class="ident" id="3639717"><a href="/encoding/json/decode.go.html#3639644">n</a></span><span class="op" id="3639718">)</span><span class="op" id="3639719">,</span>&nbsp;<span class="num" id="3639721">64</span><span class="op" id="3639723">)</span><br>
<span class="lineno"></span><span class="op" id="3639725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3639728">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;number&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno">165</span><span class="keyword" id="3639769">func</span>&nbsp;<span class="op" id="3639774">(</span><span class="ident" id="3639775">n</span>&nbsp;<span class="ident" id="3639777"><a href="/encoding/json/decode.go.html#3639475">Number</a></span><span class="op" id="3639783">)</span>&nbsp;<span class="ident" id="3639785">Int64</span><span class="op" id="3639790">(</span><span class="op" id="3639791">)</span>&nbsp;<span class="op" id="3639793">(</span><span class="ident" id="3639794">int64</span><span class="op" id="3639799">,</span>&nbsp;<span class="builtintype" id="3639801">error</span><span class="op" id="3639806">)</span>&nbsp;<span class="op" id="3639808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3639811">return</span>&nbsp;<span class="ident" id="3639818"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3639825">.</span><span class="ident" id="3639826">ParseInt</span><span class="op" id="3639834">(</span><span class="builtintype" id="3639835">string</span><span class="op" id="3639841">(</span><span class="ident" id="3639842"><a href="/encoding/json/decode.go.html#3639775">n</a></span><span class="op" id="3639843">)</span><span class="op" id="3639844">,</span>&nbsp;<span class="num" id="3639846">10</span><span class="op" id="3639848">,</span>&nbsp;<span class="num" id="3639850">64</span><span class="op" id="3639852">)</span><br>
<span class="lineno"></span><span class="op" id="3639854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3639857">//&nbsp;decodeState&nbsp;represents&nbsp;the&nbsp;state&nbsp;while&nbsp;decoding&nbsp;a&nbsp;JSON&nbsp;value.</span><br>
<span class="lineno">170</span><span class="keyword" id="3639922">type</span>&nbsp;<span class="ident" id="3639927">decodeState</span>&nbsp;<span class="keyword" id="3639939">struct</span>&nbsp;<span class="op" id="3639946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3639949">data</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3639960">[</span><span class="op" id="3639961">]</span><span class="builtintype" id="3639962">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3639968">off</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3639979">int</span>&nbsp;<span class="comment" id="3639983">//&nbsp;read&nbsp;offset&nbsp;in&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640007">scan</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3640018"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640027">nextscan</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3640038"><a href="/encoding/json/scanner.go.html#3701130">scanner</a></span>&nbsp;<span class="comment" id="3640046">//&nbsp;for&nbsp;calls&nbsp;to&nbsp;nextValue</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640073">savedError</span>&nbsp;<span class="builtintype" id="3640084">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640091">useNumber</span>&nbsp;&nbsp;<span class="builtintype" id="3640102">bool</span><br>
<span class="lineno"></span><span class="op" id="3640107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3640110">//&nbsp;errPhase&nbsp;is&nbsp;used&nbsp;for&nbsp;errors&nbsp;that&nbsp;should&nbsp;not&nbsp;happen&nbsp;unless</span><br>
<span class="lineno">180</span><span class="comment" id="3640171">//&nbsp;there&nbsp;is&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;JSON&nbsp;decoder&nbsp;or&nbsp;something&nbsp;is&nbsp;editing</span><br>
<span class="lineno"></span><span class="comment" id="3640233">//&nbsp;the&nbsp;data&nbsp;slice&nbsp;while&nbsp;the&nbsp;decoder&nbsp;executes.</span><br>
<span class="lineno"></span><span class="keyword" id="3640279">var</span>&nbsp;<span class="ident" id="3640283">errPhase</span>&nbsp;<span class="op" id="3640292">=</span>&nbsp;<span class="ident" id="3640294"><a href="/encoding/json/decode.go.html#3634936">errors</a></span><span class="op" id="3640300">.</span><span class="ident" id="3640301">New</span><span class="op" id="3640304">(</span><span class="string" id="3640305">&#34;JSON&nbsp;decoder&nbsp;out&nbsp;of&nbsp;sync&nbsp;-&nbsp;data&nbsp;changing&nbsp;underfoot?&#34;</span><span class="op" id="3640358">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3640361">func</span>&nbsp;<span class="op" id="3640366">(</span><span class="ident" id="3640367">d</span>&nbsp;<span class="op" id="3640369">*</span><span class="ident" id="3640370"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3640381">)</span>&nbsp;<span class="ident" id="3640383">init</span><span class="op" id="3640387">(</span><span class="ident" id="3640388">data</span>&nbsp;<span class="op" id="3640393">[</span><span class="op" id="3640394">]</span><span class="builtintype" id="3640395">byte</span><span class="op" id="3640399">)</span>&nbsp;<span class="op" id="3640401">*</span><span class="ident" id="3640402"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span>&nbsp;<span class="op" id="3640414">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640417"><a href="/encoding/json/decode.go.html#3640367">d</a></span><span class="op" id="3640418">.</span><span class="ident" id="3640419">data</span>&nbsp;<span class="op" id="3640424">=</span>&nbsp;<span class="ident" id="3640426"><a href="/encoding/json/decode.go.html#3640388">data</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640432"><a href="/encoding/json/decode.go.html#3640367">d</a></span><span class="op" id="3640433">.</span><span class="ident" id="3640434">off</span>&nbsp;<span class="op" id="3640438">=</span>&nbsp;<span class="num" id="3640440">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640443"><a href="/encoding/json/decode.go.html#3640367">d</a></span><span class="op" id="3640444">.</span><span class="ident" id="3640445">savedError</span>&nbsp;<span class="op" id="3640456">=</span>&nbsp;<span class="ident" id="3640458">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3640463">return</span>&nbsp;<span class="ident" id="3640470"><a href="/encoding/json/decode.go.html#3640367">d</a></span><br>
<span class="lineno"></span><span class="op" id="3640472">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="3640475">//&nbsp;error&nbsp;aborts&nbsp;the&nbsp;decoding&nbsp;by&nbsp;panicking&nbsp;with&nbsp;err.</span><br>
<span class="lineno"></span><span class="keyword" id="3640527">func</span>&nbsp;<span class="op" id="3640532">(</span><span class="ident" id="3640533">d</span>&nbsp;<span class="op" id="3640535">*</span><span class="ident" id="3640536"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3640547">)</span>&nbsp;<span class="builtintype" id="3640549">error</span><span class="op" id="3640554">(</span><span class="ident" id="3640555">err</span>&nbsp;<span class="builtintype" id="3640559">error</span><span class="op" id="3640564">)</span>&nbsp;<span class="op" id="3640566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3640569">panic</span><span class="op" id="3640574">(</span><span class="ident" id="3640575"><a href="/encoding/json/decode.go.html#3640555">err</a></span><span class="op" id="3640578">)</span><br>
<span class="lineno"></span><span class="op" id="3640580">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3640583">//&nbsp;saveError&nbsp;saves&nbsp;the&nbsp;first&nbsp;err&nbsp;it&nbsp;is&nbsp;called&nbsp;with,</span><br>
<span class="lineno"></span><span class="comment" id="3640635">//&nbsp;for&nbsp;reporting&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;unmarshal.</span><br>
<span class="lineno"></span><span class="keyword" id="3640681">func</span>&nbsp;<span class="op" id="3640686">(</span><span class="ident" id="3640687">d</span>&nbsp;<span class="op" id="3640689">*</span><span class="ident" id="3640690"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3640701">)</span>&nbsp;<span class="ident" id="3640703">saveError</span><span class="op" id="3640712">(</span><span class="ident" id="3640713">err</span>&nbsp;<span class="builtintype" id="3640717">error</span><span class="op" id="3640722">)</span>&nbsp;<span class="op" id="3640724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3640727">if</span>&nbsp;<span class="ident" id="3640730"><a href="/encoding/json/decode.go.html#3640687">d</a></span><span class="op" id="3640731">.</span><span class="ident" id="3640732">savedError</span>&nbsp;<span class="op" id="3640743">==</span>&nbsp;<span class="ident" id="3640746">nil</span>&nbsp;<span class="op" id="3640750">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640754"><a href="/encoding/json/decode.go.html#3640687">d</a></span><span class="op" id="3640755">.</span><span class="ident" id="3640756">savedError</span>&nbsp;<span class="op" id="3640767">=</span>&nbsp;<span class="ident" id="3640769"><a href="/encoding/json/decode.go.html#3640713">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3640774">}</span><br>
<span class="lineno"></span><span class="op" id="3640776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3640779">//&nbsp;next&nbsp;cuts&nbsp;off&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;full&nbsp;JSON&nbsp;value&nbsp;in&nbsp;d.data[d.off:].</span><br>
<span class="lineno">205</span><span class="comment" id="3640852">//&nbsp;The&nbsp;next&nbsp;value&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;an&nbsp;object&nbsp;or&nbsp;array,&nbsp;not&nbsp;a&nbsp;literal.</span><br>
<span class="lineno"></span><span class="keyword" id="3640920">func</span>&nbsp;<span class="op" id="3640925">(</span><span class="ident" id="3640926">d</span>&nbsp;<span class="op" id="3640928">*</span><span class="ident" id="3640929"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3640940">)</span>&nbsp;<span class="ident" id="3640942">next</span><span class="op" id="3640946">(</span><span class="op" id="3640947">)</span>&nbsp;<span class="op" id="3640949">[</span><span class="op" id="3640950">]</span><span class="builtintype" id="3640951">byte</span>&nbsp;<span class="op" id="3640956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640959">c</span>&nbsp;<span class="op" id="3640961">:=</span>&nbsp;<span class="ident" id="3640964"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3640965">.</span><span class="ident" id="3640966">data</span><span class="op" id="3640970">[</span><span class="ident" id="3640971"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3640972">.</span><span class="ident" id="3640973">off</span><span class="op" id="3640976">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3640979">item</span><span class="op" id="3640983">,</span>&nbsp;<span class="ident" id="3640985">rest</span><span class="op" id="3640989">,</span>&nbsp;<span class="ident" id="3640991">err</span>&nbsp;<span class="op" id="3640995">:=</span>&nbsp;<span class="ident" id="3640998"><a href="/encoding/json/scanner.go.html#3699855">nextValue</a></span><span class="op" id="3641007">(</span><span class="ident" id="3641008"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641009">.</span><span class="ident" id="3641010">data</span><span class="op" id="3641014">[</span><span class="ident" id="3641015"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641016">.</span><span class="ident" id="3641017">off</span><span class="op" id="3641020">:</span><span class="op" id="3641021">]</span><span class="op" id="3641022">,</span>&nbsp;<span class="op" id="3641024">&amp;</span><span class="ident" id="3641025"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641026">.</span><span class="ident" id="3641027">nextscan</span><span class="op" id="3641035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641038">if</span>&nbsp;<span class="ident" id="3641041"><a href="/encoding/json/decode.go.html#3640991">err</a></span>&nbsp;<span class="op" id="3641045">!=</span>&nbsp;<span class="ident" id="3641048">nil</span>&nbsp;<span class="op" id="3641052">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641056"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641057">.</span><span class="builtintype" id="3641058">error</span><span class="op" id="3641063">(</span><span class="ident" id="3641064"><a href="/encoding/json/decode.go.html#3640991">err</a></span><span class="op" id="3641067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641073"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641074">.</span><span class="ident" id="3641075">off</span>&nbsp;<span class="op" id="3641079">=</span>&nbsp;<span class="builtinfunc" id="3641081">len</span><span class="op" id="3641084">(</span><span class="ident" id="3641085"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641086">.</span><span class="ident" id="3641087">data</span><span class="op" id="3641091">)</span>&nbsp;<span class="op" id="3641093">-</span>&nbsp;<span class="builtinfunc" id="3641095">len</span><span class="op" id="3641098">(</span><span class="ident" id="3641099"><a href="/encoding/json/decode.go.html#3640985">rest</a></span><span class="op" id="3641103">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3641107">//&nbsp;Our&nbsp;scanner&nbsp;has&nbsp;seen&nbsp;the&nbsp;opening&nbsp;brace/bracket</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3641158">//&nbsp;and&nbsp;thinks&nbsp;we&#39;re&nbsp;still&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;object.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3641214">//&nbsp;invent&nbsp;a&nbsp;closing&nbsp;brace/bracket&nbsp;to&nbsp;get&nbsp;it&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641264">if</span>&nbsp;<span class="ident" id="3641267"><a href="/encoding/json/decode.go.html#3640959">c</a></span>&nbsp;<span class="op" id="3641269">==</span>&nbsp;<span class="string" id="3641272">&#39;{&#39;</span>&nbsp;<span class="op" id="3641276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641280"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641281">.</span><span class="ident" id="3641282">scan</span><span class="op" id="3641286">.</span><span class="ident" id="3641287">step</span><span class="op" id="3641291">(</span><span class="op" id="3641292">&amp;</span><span class="ident" id="3641293"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641294">.</span><span class="ident" id="3641295">scan</span><span class="op" id="3641299">,</span>&nbsp;<span class="string" id="3641301">&#39;}&#39;</span><span class="op" id="3641304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641307">}</span>&nbsp;<span class="keyword" id="3641309">else</span>&nbsp;<span class="op" id="3641314">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641318"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641319">.</span><span class="ident" id="3641320">scan</span><span class="op" id="3641324">.</span><span class="ident" id="3641325">step</span><span class="op" id="3641329">(</span><span class="op" id="3641330">&amp;</span><span class="ident" id="3641331"><a href="/encoding/json/decode.go.html#3640926">d</a></span><span class="op" id="3641332">.</span><span class="ident" id="3641333">scan</span><span class="op" id="3641337">,</span>&nbsp;<span class="string" id="3641339">&#39;]&#39;</span><span class="op" id="3641342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641349">return</span>&nbsp;<span class="ident" id="3641356"><a href="/encoding/json/decode.go.html#3640979">item</a></span><br>
<span class="lineno"></span><span class="op" id="3641361">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="3641364">//&nbsp;scanWhile&nbsp;processes&nbsp;bytes&nbsp;in&nbsp;d.data[d.off:]&nbsp;until&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3641420">//&nbsp;receives&nbsp;a&nbsp;scan&nbsp;code&nbsp;not&nbsp;equal&nbsp;to&nbsp;op.</span><br>
<span class="lineno"></span><span class="comment" id="3641461">//&nbsp;It&nbsp;updates&nbsp;d.off&nbsp;and&nbsp;returns&nbsp;the&nbsp;new&nbsp;scan&nbsp;code.</span><br>
<span class="lineno"></span><span class="keyword" id="3641512">func</span>&nbsp;<span class="op" id="3641517">(</span><span class="ident" id="3641518">d</span>&nbsp;<span class="op" id="3641520">*</span><span class="ident" id="3641521"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3641532">)</span>&nbsp;<span class="ident" id="3641534">scanWhile</span><span class="op" id="3641543">(</span><span class="ident" id="3641544">op</span>&nbsp;<span class="builtintype" id="3641547">int</span><span class="op" id="3641550">)</span>&nbsp;<span class="builtintype" id="3641552">int</span>&nbsp;<span class="op" id="3641556">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641559">var</span>&nbsp;<span class="ident" id="3641563">newOp</span>&nbsp;<span class="builtintype" id="3641569">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641574">for</span>&nbsp;<span class="op" id="3641578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641582">if</span>&nbsp;<span class="ident" id="3641585"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641586">.</span><span class="ident" id="3641587">off</span>&nbsp;<span class="op" id="3641591">&gt;=</span>&nbsp;<span class="builtinfunc" id="3641594">len</span><span class="op" id="3641597">(</span><span class="ident" id="3641598"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641599">.</span><span class="ident" id="3641600">data</span><span class="op" id="3641604">)</span>&nbsp;<span class="op" id="3641606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641611"><a href="/encoding/json/decode.go.html#3641563">newOp</a></span>&nbsp;<span class="op" id="3641617">=</span>&nbsp;<span class="ident" id="3641619"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641620">.</span><span class="ident" id="3641621">scan</span><span class="op" id="3641625">.</span><span class="ident" id="3641626">eof</span><span class="op" id="3641629">(</span><span class="op" id="3641630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641635"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641636">.</span><span class="ident" id="3641637">off</span>&nbsp;<span class="op" id="3641641">=</span>&nbsp;<span class="builtinfunc" id="3641643">len</span><span class="op" id="3641646">(</span><span class="ident" id="3641647"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641648">.</span><span class="ident" id="3641649">data</span><span class="op" id="3641653">)</span>&nbsp;<span class="op" id="3641655">+</span>&nbsp;<span class="num" id="3641657">1</span>&nbsp;<span class="comment" id="3641659">//&nbsp;mark&nbsp;processed&nbsp;EOF&nbsp;with&nbsp;len+1</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641694">}</span>&nbsp;<span class="keyword" id="3641696">else</span>&nbsp;<span class="op" id="3641701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641706">c</span>&nbsp;<span class="op" id="3641708">:=</span>&nbsp;<span class="builtintype" id="3641711">int</span><span class="op" id="3641714">(</span><span class="ident" id="3641715"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641716">.</span><span class="ident" id="3641717">data</span><span class="op" id="3641721">[</span><span class="ident" id="3641722"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641723">.</span><span class="ident" id="3641724">off</span><span class="op" id="3641727">]</span><span class="op" id="3641728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641733"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641734">.</span><span class="ident" id="3641735">off</span><span class="op" id="3641738">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3641744"><a href="/encoding/json/decode.go.html#3641563">newOp</a></span>&nbsp;<span class="op" id="3641750">=</span>&nbsp;<span class="ident" id="3641752"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641753">.</span><span class="ident" id="3641754">scan</span><span class="op" id="3641758">.</span><span class="ident" id="3641759">step</span><span class="op" id="3641763">(</span><span class="op" id="3641764">&amp;</span><span class="ident" id="3641765"><a href="/encoding/json/decode.go.html#3641518">d</a></span><span class="op" id="3641766">.</span><span class="ident" id="3641767">scan</span><span class="op" id="3641771">,</span>&nbsp;<span class="ident" id="3641773"><a href="/encoding/json/decode.go.html#3641706">c</a></span><span class="op" id="3641774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641778">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641782">if</span>&nbsp;<span class="ident" id="3641785"><a href="/encoding/json/decode.go.html#3641563">newOp</a></span>&nbsp;<span class="op" id="3641791">!=</span>&nbsp;<span class="ident" id="3641794"><a href="/encoding/json/decode.go.html#3641544">op</a></span>&nbsp;<span class="op" id="3641797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641802">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3641813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641816">return</span>&nbsp;<span class="ident" id="3641823"><a href="/encoding/json/decode.go.html#3641563">newOp</a></span><br>
<span class="lineno">245</span><span class="op" id="3641829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3641832">//&nbsp;value&nbsp;decodes&nbsp;a&nbsp;JSON&nbsp;value&nbsp;from&nbsp;d.data[d.off:]&nbsp;into&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="3641898">//&nbsp;it&nbsp;updates&nbsp;d.off&nbsp;to&nbsp;point&nbsp;past&nbsp;the&nbsp;decoded&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3641951">func</span>&nbsp;<span class="op" id="3641956">(</span><span class="ident" id="3641957">d</span>&nbsp;<span class="op" id="3641959">*</span><span class="ident" id="3641960"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3641971">)</span>&nbsp;<span class="ident" id="3641973">value</span><span class="op" id="3641978">(</span><span class="ident" id="3641979">v</span>&nbsp;<span class="ident" id="3641981"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3641988">.</span><span class="ident" id="3641989">Value</span><span class="op" id="3641994">)</span>&nbsp;<span class="op" id="3641996">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3641999">if</span>&nbsp;<span class="op" id="3642002">!</span><span class="ident" id="3642003"><a href="/encoding/json/decode.go.html#3641979">v</a></span><span class="op" id="3642004">.</span><span class="ident" id="3642005">IsValid</span><span class="op" id="3642012">(</span><span class="op" id="3642013">)</span>&nbsp;<span class="op" id="3642015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642019">_</span><span class="op" id="3642020">,</span>&nbsp;<span class="ident" id="3642022">rest</span><span class="op" id="3642026">,</span>&nbsp;<span class="ident" id="3642028">err</span>&nbsp;<span class="op" id="3642032">:=</span>&nbsp;<span class="ident" id="3642035"><a href="/encoding/json/scanner.go.html#3699855">nextValue</a></span><span class="op" id="3642044">(</span><span class="ident" id="3642045"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642046">.</span><span class="ident" id="3642047">data</span><span class="op" id="3642051">[</span><span class="ident" id="3642052"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642053">.</span><span class="ident" id="3642054">off</span><span class="op" id="3642057">:</span><span class="op" id="3642058">]</span><span class="op" id="3642059">,</span>&nbsp;<span class="op" id="3642061">&amp;</span><span class="ident" id="3642062"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642063">.</span><span class="ident" id="3642064">nextscan</span><span class="op" id="3642072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642076">if</span>&nbsp;<span class="ident" id="3642079"><a href="/encoding/json/decode.go.html#3642028">err</a></span>&nbsp;<span class="op" id="3642083">!=</span>&nbsp;<span class="ident" id="3642086">nil</span>&nbsp;<span class="op" id="3642090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642095"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642096">.</span><span class="builtintype" id="3642097">error</span><span class="op" id="3642102">(</span><span class="ident" id="3642103"><a href="/encoding/json/decode.go.html#3642028">err</a></span><span class="op" id="3642106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3642110">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642114"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642115">.</span><span class="ident" id="3642116">off</span>&nbsp;<span class="op" id="3642120">=</span>&nbsp;<span class="builtinfunc" id="3642122">len</span><span class="op" id="3642125">(</span><span class="ident" id="3642126"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642127">.</span><span class="ident" id="3642128">data</span><span class="op" id="3642132">)</span>&nbsp;<span class="op" id="3642134">-</span>&nbsp;<span class="builtinfunc" id="3642136">len</span><span class="op" id="3642139">(</span><span class="ident" id="3642140"><a href="/encoding/json/decode.go.html#3642022">rest</a></span><span class="op" id="3642144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3642149">//&nbsp;d.scan&nbsp;thinks&nbsp;we&#39;re&nbsp;still&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3642210">//&nbsp;Feed&nbsp;in&nbsp;an&nbsp;empty&nbsp;string&nbsp;-&nbsp;the&nbsp;shortest,&nbsp;simplest&nbsp;value&nbsp;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3642272">//&nbsp;so&nbsp;that&nbsp;it&nbsp;knows&nbsp;we&nbsp;got&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;value.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642326">if</span>&nbsp;<span class="ident" id="3642329"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642330">.</span><span class="ident" id="3642331">scan</span><span class="op" id="3642335">.</span><span class="ident" id="3642336">redo</span>&nbsp;<span class="op" id="3642341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3642346">//&nbsp;rewind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642360"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642361">.</span><span class="ident" id="3642362">scan</span><span class="op" id="3642366">.</span><span class="ident" id="3642367">redo</span>&nbsp;<span class="op" id="3642372">=</span>&nbsp;<span class="ident" id="3642374">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642383"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642384">.</span><span class="ident" id="3642385">scan</span><span class="op" id="3642389">.</span><span class="ident" id="3642390">step</span>&nbsp;<span class="op" id="3642395">=</span>&nbsp;<span class="ident" id="3642397"><a href="/encoding/json/scanner.go.html#3704847">stateBeginValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3642415">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642419"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642420">.</span><span class="ident" id="3642421">scan</span><span class="op" id="3642425">.</span><span class="ident" id="3642426">step</span><span class="op" id="3642430">(</span><span class="op" id="3642431">&amp;</span><span class="ident" id="3642432"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642433">.</span><span class="ident" id="3642434">scan</span><span class="op" id="3642438">,</span>&nbsp;<span class="string" id="3642440">&#39;&#34;&#39;</span><span class="op" id="3642443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642447"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642448">.</span><span class="ident" id="3642449">scan</span><span class="op" id="3642453">.</span><span class="ident" id="3642454">step</span><span class="op" id="3642458">(</span><span class="op" id="3642459">&amp;</span><span class="ident" id="3642460"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642461">.</span><span class="ident" id="3642462">scan</span><span class="op" id="3642466">,</span>&nbsp;<span class="string" id="3642468">&#39;&#34;&#39;</span><span class="op" id="3642471">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642476">n</span>&nbsp;<span class="op" id="3642478">:=</span>&nbsp;<span class="builtinfunc" id="3642481">len</span><span class="op" id="3642484">(</span><span class="ident" id="3642485"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642486">.</span><span class="ident" id="3642487">scan</span><span class="op" id="3642491">.</span><span class="ident" id="3642492">parseState</span><span class="op" id="3642502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642506">if</span>&nbsp;<span class="ident" id="3642509"><a href="/encoding/json/decode.go.html#3642476">n</a></span>&nbsp;<span class="op" id="3642511">&gt;</span>&nbsp;<span class="num" id="3642513">0</span>&nbsp;<span class="op" id="3642515">&amp;&amp;</span>&nbsp;<span class="ident" id="3642518"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642519">.</span><span class="ident" id="3642520">scan</span><span class="op" id="3642524">.</span><span class="ident" id="3642525">parseState</span><span class="op" id="3642535">[</span><span class="ident" id="3642536"><a href="/encoding/json/decode.go.html#3642476">n</a></span><span class="op" id="3642537">-</span><span class="num" id="3642538">1</span><span class="op" id="3642539">]</span>&nbsp;<span class="op" id="3642541">==</span>&nbsp;<span class="ident" id="3642544"><a href="/encoding/json/scanner.go.html#3703201">parseObjectKey</a></span>&nbsp;<span class="op" id="3642559">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3642564">//&nbsp;d.scan&nbsp;thinks&nbsp;we&nbsp;just&nbsp;read&nbsp;an&nbsp;object&nbsp;key;&nbsp;finish&nbsp;the&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642630"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642631">.</span><span class="ident" id="3642632">scan</span><span class="op" id="3642636">.</span><span class="ident" id="3642637">step</span><span class="op" id="3642641">(</span><span class="op" id="3642642">&amp;</span><span class="ident" id="3642643"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642644">.</span><span class="ident" id="3642645">scan</span><span class="op" id="3642649">,</span>&nbsp;<span class="string" id="3642651">&#39;:&#39;</span><span class="op" id="3642654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642659"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642660">.</span><span class="ident" id="3642661">scan</span><span class="op" id="3642665">.</span><span class="ident" id="3642666">step</span><span class="op" id="3642670">(</span><span class="op" id="3642671">&amp;</span><span class="ident" id="3642672"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642673">.</span><span class="ident" id="3642674">scan</span><span class="op" id="3642678">,</span>&nbsp;<span class="string" id="3642680">&#39;&#34;&#39;</span><span class="op" id="3642683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642688"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642689">.</span><span class="ident" id="3642690">scan</span><span class="op" id="3642694">.</span><span class="ident" id="3642695">step</span><span class="op" id="3642699">(</span><span class="op" id="3642700">&amp;</span><span class="ident" id="3642701"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642702">.</span><span class="ident" id="3642703">scan</span><span class="op" id="3642707">,</span>&nbsp;<span class="string" id="3642709">&#39;&#34;&#39;</span><span class="op" id="3642712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642717"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642718">.</span><span class="ident" id="3642719">scan</span><span class="op" id="3642723">.</span><span class="ident" id="3642724">step</span><span class="op" id="3642728">(</span><span class="op" id="3642729">&amp;</span><span class="ident" id="3642730"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642731">.</span><span class="ident" id="3642732">scan</span><span class="op" id="3642736">,</span>&nbsp;<span class="string" id="3642738">&#39;}&#39;</span><span class="op" id="3642741">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3642745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642750">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3642758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642762">switch</span>&nbsp;<span class="ident" id="3642769">op</span>&nbsp;<span class="op" id="3642772">:=</span>&nbsp;<span class="ident" id="3642775"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642776">.</span><span class="ident" id="3642777">scanWhile</span><span class="op" id="3642786">(</span><span class="ident" id="3642787"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3642800">)</span><span class="op" id="3642801">;</span>&nbsp;<span class="ident" id="3642803"><a href="/encoding/json/decode.go.html#3642769">op</a></span>&nbsp;<span class="op" id="3642806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642809">default</span><span class="op" id="3642816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642820"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642821">.</span><span class="builtintype" id="3642822">error</span><span class="op" id="3642827">(</span><span class="ident" id="3642828"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3642836">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642840">case</span>&nbsp;<span class="ident" id="3642845"><a href="/encoding/json/scanner.go.html#3702566">scanBeginArray</a></span><span class="op" id="3642859">:</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642863"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642864">.</span><span class="ident" id="3642865">array</span><span class="op" id="3642870">(</span><span class="ident" id="3642871"><a href="/encoding/json/decode.go.html#3641979">v</a></span><span class="op" id="3642872">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642876">case</span>&nbsp;<span class="ident" id="3642881"><a href="/encoding/json/scanner.go.html#3702322">scanBeginObject</a></span><span class="op" id="3642896">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642900"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642901">.</span><span class="ident" id="3642902">object</span><span class="op" id="3642908">(</span><span class="ident" id="3642909"><a href="/encoding/json/decode.go.html#3641979">v</a></span><span class="op" id="3642910">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3642914">case</span>&nbsp;<span class="ident" id="3642919"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><span class="op" id="3642935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3642939"><a href="/encoding/json/decode.go.html#3641957">d</a></span><span class="op" id="3642940">.</span><span class="ident" id="3642941">literal</span><span class="op" id="3642948">(</span><span class="ident" id="3642949"><a href="/encoding/json/decode.go.html#3641979">v</a></span><span class="op" id="3642950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3642953">}</span><br>
<span class="lineno"></span><span class="op" id="3642955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="3642958">type</span>&nbsp;<span class="ident" id="3642963">unquotedValue</span>&nbsp;<span class="keyword" id="3642977">struct</span><span class="op" id="3642983">{</span><span class="op" id="3642984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3642987">//&nbsp;valueQuoted&nbsp;is&nbsp;like&nbsp;value&nbsp;but&nbsp;decodes&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3643030">//&nbsp;quoted&nbsp;string&nbsp;literal&nbsp;or&nbsp;literal&nbsp;null&nbsp;into&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="3643096">//&nbsp;If&nbsp;it&nbsp;finds&nbsp;anything&nbsp;other&nbsp;than&nbsp;a&nbsp;quoted&nbsp;string&nbsp;literal&nbsp;or&nbsp;null,</span><br>
<span class="lineno">300</span><span class="comment" id="3643164">//&nbsp;valueQuoted&nbsp;returns&nbsp;unquotedValue{}.</span><br>
<span class="lineno"></span><span class="keyword" id="3643204">func</span>&nbsp;<span class="op" id="3643209">(</span><span class="ident" id="3643210">d</span>&nbsp;<span class="op" id="3643212">*</span><span class="ident" id="3643213"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3643224">)</span>&nbsp;<span class="ident" id="3643226">valueQuoted</span><span class="op" id="3643237">(</span><span class="op" id="3643238">)</span>&nbsp;<span class="keyword" id="3643240">interface</span><span class="op" id="3643249">{</span><span class="op" id="3643250">}</span>&nbsp;<span class="op" id="3643252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643255">switch</span>&nbsp;<span class="ident" id="3643262">op</span>&nbsp;<span class="op" id="3643265">:=</span>&nbsp;<span class="ident" id="3643268"><a href="/encoding/json/decode.go.html#3643210">d</a></span><span class="op" id="3643269">.</span><span class="ident" id="3643270">scanWhile</span><span class="op" id="3643279">(</span><span class="ident" id="3643280"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3643293">)</span><span class="op" id="3643294">;</span>&nbsp;<span class="ident" id="3643296"><a href="/encoding/json/decode.go.html#3643262">op</a></span>&nbsp;<span class="op" id="3643299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643302">default</span><span class="op" id="3643309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3643313"><a href="/encoding/json/decode.go.html#3643210">d</a></span><span class="op" id="3643314">.</span><span class="builtintype" id="3643315">error</span><span class="op" id="3643320">(</span><span class="ident" id="3643321"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3643329">)</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643333">case</span>&nbsp;<span class="ident" id="3643338"><a href="/encoding/json/scanner.go.html#3702566">scanBeginArray</a></span><span class="op" id="3643352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3643356"><a href="/encoding/json/decode.go.html#3643210">d</a></span><span class="op" id="3643357">.</span><span class="ident" id="3643358">array</span><span class="op" id="3643363">(</span><span class="ident" id="3643364"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3643371">.</span><span class="ident" id="3643372">Value</span><span class="op" id="3643377">{</span><span class="op" id="3643378">}</span><span class="op" id="3643379">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643383">case</span>&nbsp;<span class="ident" id="3643388"><a href="/encoding/json/scanner.go.html#3702322">scanBeginObject</a></span><span class="op" id="3643403">:</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3643407"><a href="/encoding/json/decode.go.html#3643210">d</a></span><span class="op" id="3643408">.</span><span class="ident" id="3643409">object</span><span class="op" id="3643415">(</span><span class="ident" id="3643416"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3643423">.</span><span class="ident" id="3643424">Value</span><span class="op" id="3643429">{</span><span class="op" id="3643430">}</span><span class="op" id="3643431">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643435">case</span>&nbsp;<span class="ident" id="3643440"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><span class="op" id="3643456">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643460">switch</span>&nbsp;<span class="ident" id="3643467">v</span>&nbsp;<span class="op" id="3643469">:=</span>&nbsp;<span class="ident" id="3643472"><a href="/encoding/json/decode.go.html#3643210">d</a></span><span class="op" id="3643473">.</span><span class="ident" id="3643474">literalInterface</span><span class="op" id="3643490">(</span><span class="op" id="3643491">)</span><span class="op" id="3643492">.</span><span class="op" id="3643493">(</span><span class="keyword" id="3643494">type</span><span class="op" id="3643498">)</span>&nbsp;<span class="op" id="3643500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643504">case</span>&nbsp;<span class="ident" id="3643509">nil</span><span class="op" id="3643512">,</span>&nbsp;<span class="builtintype" id="3643514">string</span><span class="op" id="3643520">:</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643525">return</span>&nbsp;<span class="ident" id="3643532"><a href="/encoding/json/decode.go.html#3643467">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3643536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3643539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3643542">return</span>&nbsp;<span class="ident" id="3643549"><a href="/encoding/json/decode.go.html#3642963">unquotedValue</a></span><span class="op" id="3643562">{</span><span class="op" id="3643563">}</span><br>
<span class="lineno"></span><span class="op" id="3643565">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="3643568">//&nbsp;indirect&nbsp;walks&nbsp;down&nbsp;v&nbsp;allocating&nbsp;pointers&nbsp;as&nbsp;needed,</span><br>
<span class="lineno"></span><span class="comment" id="3643624">//&nbsp;until&nbsp;it&nbsp;gets&nbsp;to&nbsp;a&nbsp;non-pointer.</span><br>
<span class="lineno"></span><span class="comment" id="3643659">//&nbsp;if&nbsp;it&nbsp;encounters&nbsp;an&nbsp;Unmarshaler,&nbsp;indirect&nbsp;stops&nbsp;and&nbsp;returns&nbsp;that.</span><br>
<span class="lineno"></span><span class="comment" id="3643728">//&nbsp;if&nbsp;decodingNull&nbsp;is&nbsp;true,&nbsp;indirect&nbsp;stops&nbsp;at&nbsp;the&nbsp;last&nbsp;pointer&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;set&nbsp;to&nbsp;nil.</span><br>
<span class="lineno">325</span><span class="keyword" id="3643816">func</span>&nbsp;<span class="op" id="3643821">(</span><span class="ident" id="3643822">d</span>&nbsp;<span class="op" id="3643824">*</span><span class="ident" id="3643825"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3643836">)</span>&nbsp;<span class="ident" id="3643838">indirect</span><span class="op" id="3643846">(</span><span class="ident" id="3643847">v</span>&nbsp;<span class="ident" id="3643849"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3643856">.</span><span class="ident" id="3643857">Value</span><span class="op" id="3643862">,</span>&nbsp;<span class="ident" id="3643864">decodingNull</span>&nbsp;<span class="builtintype" id="3643877">bool</span><span class="op" id="3643881">)</span>&nbsp;<span class="op" id="3643883">(</span><span class="ident" id="3643884"><a href="/encoding/json/decode.go.html#3637521">Unmarshaler</a></span><span class="op" id="3643895">,</span>&nbsp;<span class="ident" id="3643897"><a href="/encoding/json/decode.go.html#3634905">encoding</a></span><span class="op" id="3643905">.</span><span class="ident" id="3643906">TextUnmarshaler</span><span class="op" id="3643921">,</span>&nbsp;<span class="ident" id="3643923"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3643930">.</span><span class="ident" id="3643931">Value</span><span class="op" id="3643936">)</span>&nbsp;<span class="op" id="3643938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3643941">//&nbsp;If&nbsp;v&nbsp;is&nbsp;a&nbsp;named&nbsp;type&nbsp;and&nbsp;is&nbsp;addressable,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3643986">//&nbsp;start&nbsp;with&nbsp;its&nbsp;address,&nbsp;so&nbsp;that&nbsp;if&nbsp;the&nbsp;type&nbsp;has&nbsp;pointer&nbsp;methods,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3644055">//&nbsp;we&nbsp;find&nbsp;them.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644073">if</span>&nbsp;<span class="ident" id="3644076"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644077">.</span><span class="ident" id="3644078">Kind</span><span class="op" id="3644082">(</span><span class="op" id="3644083">)</span>&nbsp;<span class="op" id="3644085">!=</span>&nbsp;<span class="ident" id="3644088"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644095">.</span><span class="ident" id="3644096">Ptr</span>&nbsp;<span class="op" id="3644100">&amp;&amp;</span>&nbsp;<span class="ident" id="3644103"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644104">.</span><span class="ident" id="3644105">Type</span><span class="op" id="3644109">(</span><span class="op" id="3644110">)</span><span class="op" id="3644111">.</span><span class="ident" id="3644112">Name</span><span class="op" id="3644116">(</span><span class="op" id="3644117">)</span>&nbsp;<span class="op" id="3644119">!=</span>&nbsp;<span class="string" id="3644122">&#34;&#34;</span>&nbsp;<span class="op" id="3644125">&amp;&amp;</span>&nbsp;<span class="ident" id="3644128"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644129">.</span><span class="ident" id="3644130">CanAddr</span><span class="op" id="3644137">(</span><span class="op" id="3644138">)</span>&nbsp;<span class="op" id="3644140">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644144"><a href="/encoding/json/decode.go.html#3643847">v</a></span>&nbsp;<span class="op" id="3644146">=</span>&nbsp;<span class="ident" id="3644148"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644149">.</span><span class="ident" id="3644150">Addr</span><span class="op" id="3644154">(</span><span class="op" id="3644155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644161">for</span>&nbsp;<span class="op" id="3644165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3644169">//&nbsp;Load&nbsp;value&nbsp;from&nbsp;interface,&nbsp;but&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3644232">//&nbsp;usefully&nbsp;addressable.</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644259">if</span>&nbsp;<span class="ident" id="3644262"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644263">.</span><span class="ident" id="3644264">Kind</span><span class="op" id="3644268">(</span><span class="op" id="3644269">)</span>&nbsp;<span class="op" id="3644271">==</span>&nbsp;<span class="ident" id="3644274"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644281">.</span><span class="ident" id="3644282">Interface</span>&nbsp;<span class="op" id="3644292">&amp;&amp;</span>&nbsp;<span class="op" id="3644295">!</span><span class="ident" id="3644296"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644297">.</span><span class="ident" id="3644298">IsNil</span><span class="op" id="3644303">(</span><span class="op" id="3644304">)</span>&nbsp;<span class="op" id="3644306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644311">e</span>&nbsp;<span class="op" id="3644313">:=</span>&nbsp;<span class="ident" id="3644316"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644317">.</span><span class="ident" id="3644318">Elem</span><span class="op" id="3644322">(</span><span class="op" id="3644323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644328">if</span>&nbsp;<span class="ident" id="3644331"><a href="/encoding/json/decode.go.html#3644311">e</a></span><span class="op" id="3644332">.</span><span class="ident" id="3644333">Kind</span><span class="op" id="3644337">(</span><span class="op" id="3644338">)</span>&nbsp;<span class="op" id="3644340">==</span>&nbsp;<span class="ident" id="3644343"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644350">.</span><span class="ident" id="3644351">Ptr</span>&nbsp;<span class="op" id="3644355">&amp;&amp;</span>&nbsp;<span class="op" id="3644358">!</span><span class="ident" id="3644359"><a href="/encoding/json/decode.go.html#3644311">e</a></span><span class="op" id="3644360">.</span><span class="ident" id="3644361">IsNil</span><span class="op" id="3644366">(</span><span class="op" id="3644367">)</span>&nbsp;<span class="op" id="3644369">&amp;&amp;</span>&nbsp;<span class="op" id="3644372">(</span><span class="op" id="3644373">!</span><span class="ident" id="3644374"><a href="/encoding/json/decode.go.html#3643864">decodingNull</a></span>&nbsp;<span class="op" id="3644387">||</span>&nbsp;<span class="ident" id="3644390"><a href="/encoding/json/decode.go.html#3644311">e</a></span><span class="op" id="3644391">.</span><span class="ident" id="3644392">Elem</span><span class="op" id="3644396">(</span><span class="op" id="3644397">)</span><span class="op" id="3644398">.</span><span class="ident" id="3644399">Kind</span><span class="op" id="3644403">(</span><span class="op" id="3644404">)</span>&nbsp;<span class="op" id="3644406">==</span>&nbsp;<span class="ident" id="3644409"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644416">.</span><span class="ident" id="3644417">Ptr</span><span class="op" id="3644420">)</span>&nbsp;<span class="op" id="3644422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644428"><a href="/encoding/json/decode.go.html#3643847">v</a></span>&nbsp;<span class="op" id="3644430">=</span>&nbsp;<span class="ident" id="3644432"><a href="/encoding/json/decode.go.html#3644311">e</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644438">continue</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644459">if</span>&nbsp;<span class="ident" id="3644462"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644463">.</span><span class="ident" id="3644464">Kind</span><span class="op" id="3644468">(</span><span class="op" id="3644469">)</span>&nbsp;<span class="op" id="3644471">!=</span>&nbsp;<span class="ident" id="3644474"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644481">.</span><span class="ident" id="3644482">Ptr</span>&nbsp;<span class="op" id="3644486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644491">break</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644504">if</span>&nbsp;<span class="ident" id="3644507"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644508">.</span><span class="ident" id="3644509">Elem</span><span class="op" id="3644513">(</span><span class="op" id="3644514">)</span><span class="op" id="3644515">.</span><span class="ident" id="3644516">Kind</span><span class="op" id="3644520">(</span><span class="op" id="3644521">)</span>&nbsp;<span class="op" id="3644523">!=</span>&nbsp;<span class="ident" id="3644526"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644533">.</span><span class="ident" id="3644534">Ptr</span>&nbsp;<span class="op" id="3644538">&amp;&amp;</span>&nbsp;<span class="ident" id="3644541"><a href="/encoding/json/decode.go.html#3643864">decodingNull</a></span>&nbsp;<span class="op" id="3644554">&amp;&amp;</span>&nbsp;<span class="ident" id="3644557"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644558">.</span><span class="ident" id="3644559">CanSet</span><span class="op" id="3644565">(</span><span class="op" id="3644566">)</span>&nbsp;<span class="op" id="3644568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644573">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644581">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644585">if</span>&nbsp;<span class="ident" id="3644588"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644589">.</span><span class="ident" id="3644590">IsNil</span><span class="op" id="3644595">(</span><span class="op" id="3644596">)</span>&nbsp;<span class="op" id="3644598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644603"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644604">.</span><span class="ident" id="3644605">Set</span><span class="op" id="3644608">(</span><span class="ident" id="3644609"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644616">.</span><span class="ident" id="3644617">New</span><span class="op" id="3644620">(</span><span class="ident" id="3644621"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644622">.</span><span class="ident" id="3644623">Type</span><span class="op" id="3644627">(</span><span class="op" id="3644628">)</span><span class="op" id="3644629">.</span><span class="ident" id="3644630">Elem</span><span class="op" id="3644634">(</span><span class="op" id="3644635">)</span><span class="op" id="3644636">)</span><span class="op" id="3644637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644645">if</span>&nbsp;<span class="ident" id="3644648"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644649">.</span><span class="ident" id="3644650">Type</span><span class="op" id="3644654">(</span><span class="op" id="3644655">)</span><span class="op" id="3644656">.</span><span class="ident" id="3644657">NumMethod</span><span class="op" id="3644666">(</span><span class="op" id="3644667">)</span>&nbsp;<span class="op" id="3644669">&gt;</span>&nbsp;<span class="num" id="3644671">0</span>&nbsp;<span class="op" id="3644673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644678">if</span>&nbsp;<span class="ident" id="3644681">u</span><span class="op" id="3644682">,</span>&nbsp;<span class="ident" id="3644684">ok</span>&nbsp;<span class="op" id="3644687">:=</span>&nbsp;<span class="ident" id="3644690"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644691">.</span><span class="ident" id="3644692">Interface</span><span class="op" id="3644701">(</span><span class="op" id="3644702">)</span><span class="op" id="3644703">.</span><span class="op" id="3644704">(</span><span class="ident" id="3644705"><a href="/encoding/json/decode.go.html#3637521">Unmarshaler</a></span><span class="op" id="3644716">)</span><span class="op" id="3644717">;</span>&nbsp;<span class="ident" id="3644719"><a href="/encoding/json/decode.go.html#3644684">ok</a></span>&nbsp;<span class="op" id="3644722">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644728">return</span>&nbsp;<span class="ident" id="3644735"><a href="/encoding/json/decode.go.html#3644681">u</a></span><span class="op" id="3644736">,</span>&nbsp;<span class="ident" id="3644738">nil</span><span class="op" id="3644741">,</span>&nbsp;<span class="ident" id="3644743"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644750">.</span><span class="ident" id="3644751">Value</span><span class="op" id="3644756">{</span><span class="op" id="3644757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644767">if</span>&nbsp;<span class="ident" id="3644770">u</span><span class="op" id="3644771">,</span>&nbsp;<span class="ident" id="3644773">ok</span>&nbsp;<span class="op" id="3644776">:=</span>&nbsp;<span class="ident" id="3644779"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644780">.</span><span class="ident" id="3644781">Interface</span><span class="op" id="3644790">(</span><span class="op" id="3644791">)</span><span class="op" id="3644792">.</span><span class="op" id="3644793">(</span><span class="ident" id="3644794"><a href="/encoding/json/decode.go.html#3634905">encoding</a></span><span class="op" id="3644802">.</span><span class="ident" id="3644803">TextUnmarshaler</span><span class="op" id="3644818">)</span><span class="op" id="3644819">;</span>&nbsp;<span class="ident" id="3644821"><a href="/encoding/json/decode.go.html#3644773">ok</a></span>&nbsp;<span class="op" id="3644824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644830">return</span>&nbsp;<span class="ident" id="3644837">nil</span><span class="op" id="3644840">,</span>&nbsp;<span class="ident" id="3644842"><a href="/encoding/json/decode.go.html#3644770">u</a></span><span class="op" id="3644843">,</span>&nbsp;<span class="ident" id="3644845"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3644852">.</span><span class="ident" id="3644853">Value</span><span class="op" id="3644858">{</span><span class="op" id="3644859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644864">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3644872"><a href="/encoding/json/decode.go.html#3643847">v</a></span>&nbsp;<span class="op" id="3644874">=</span>&nbsp;<span class="ident" id="3644876"><a href="/encoding/json/decode.go.html#3643847">v</a></span><span class="op" id="3644877">.</span><span class="ident" id="3644878">Elem</span><span class="op" id="3644882">(</span><span class="op" id="3644883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3644886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3644889">return</span>&nbsp;<span class="ident" id="3644896">nil</span><span class="op" id="3644899">,</span>&nbsp;<span class="ident" id="3644901">nil</span><span class="op" id="3644904">,</span>&nbsp;<span class="ident" id="3644906"><a href="/encoding/json/decode.go.html#3643847">v</a></span><br>
<span class="lineno"></span><span class="op" id="3644908">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="comment" id="3644911">//&nbsp;array&nbsp;consumes&nbsp;an&nbsp;array&nbsp;from&nbsp;d.data[d.off-1:],&nbsp;decoding&nbsp;into&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="3644988">//&nbsp;the&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;array&nbsp;(&#39;[&#39;)&nbsp;has&nbsp;been&nbsp;read&nbsp;already.</span><br>
<span class="lineno"></span><span class="keyword" id="3645048">func</span>&nbsp;<span class="op" id="3645053">(</span><span class="ident" id="3645054">d</span>&nbsp;<span class="op" id="3645056">*</span><span class="ident" id="3645057"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3645068">)</span>&nbsp;<span class="ident" id="3645070">array</span><span class="op" id="3645075">(</span><span class="ident" id="3645076">v</span>&nbsp;<span class="ident" id="3645078"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3645085">.</span><span class="ident" id="3645086">Value</span><span class="op" id="3645091">)</span>&nbsp;<span class="op" id="3645093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645096">//&nbsp;Check&nbsp;for&nbsp;unmarshaler.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645123">u</span><span class="op" id="3645124">,</span>&nbsp;<span class="ident" id="3645126">ut</span><span class="op" id="3645128">,</span>&nbsp;<span class="ident" id="3645130">pv</span>&nbsp;<span class="op" id="3645133">:=</span>&nbsp;<span class="ident" id="3645136"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645137">.</span><span class="ident" id="3645138">indirect</span><span class="op" id="3645146">(</span><span class="ident" id="3645147"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3645148">,</span>&nbsp;<span class="ident" id="3645150">false</span><span class="op" id="3645155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645158">if</span>&nbsp;<span class="ident" id="3645161"><a href="/encoding/json/decode.go.html#3645123">u</a></span>&nbsp;<span class="op" id="3645163">!=</span>&nbsp;<span class="ident" id="3645166">nil</span>&nbsp;<span class="op" id="3645170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645174"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645175">.</span><span class="ident" id="3645176">off</span><span class="op" id="3645179">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645184">err</span>&nbsp;<span class="op" id="3645188">:=</span>&nbsp;<span class="ident" id="3645191"><a href="/encoding/json/decode.go.html#3645123">u</a></span><span class="op" id="3645192">.</span><span class="ident" id="3645193">UnmarshalJSON</span><span class="op" id="3645206">(</span><span class="ident" id="3645207"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645208">.</span><span class="ident" id="3645209">next</span><span class="op" id="3645213">(</span><span class="op" id="3645214">)</span><span class="op" id="3645215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645219">if</span>&nbsp;<span class="ident" id="3645222"><a href="/encoding/json/decode.go.html#3645184">err</a></span>&nbsp;<span class="op" id="3645226">!=</span>&nbsp;<span class="ident" id="3645229">nil</span>&nbsp;<span class="op" id="3645233">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645238"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645239">.</span><span class="builtintype" id="3645240">error</span><span class="op" id="3645245">(</span><span class="ident" id="3645246"><a href="/encoding/json/decode.go.html#3645184">err</a></span><span class="op" id="3645249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645257">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645268">if</span>&nbsp;<span class="ident" id="3645271"><a href="/encoding/json/decode.go.html#3645126">ut</a></span>&nbsp;<span class="op" id="3645274">!=</span>&nbsp;<span class="ident" id="3645277">nil</span>&nbsp;<span class="op" id="3645281">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645285"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645286">.</span><span class="ident" id="3645287">saveError</span><span class="op" id="3645296">(</span><span class="op" id="3645297">&amp;</span><span class="ident" id="3645298"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3645316">{</span><span class="string" id="3645317">&#34;array&#34;</span><span class="op" id="3645324">,</span>&nbsp;<span class="ident" id="3645326"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3645327">.</span><span class="ident" id="3645328">Type</span><span class="op" id="3645332">(</span><span class="op" id="3645333">)</span><span class="op" id="3645334">}</span><span class="op" id="3645335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645339"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645340">.</span><span class="ident" id="3645341">off</span><span class="op" id="3645344">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645349"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645350">.</span><span class="ident" id="3645351">next</span><span class="op" id="3645355">(</span><span class="op" id="3645356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645360">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645368">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645372"><a href="/encoding/json/decode.go.html#3645076">v</a></span>&nbsp;<span class="op" id="3645374">=</span>&nbsp;<span class="ident" id="3645376"><a href="/encoding/json/decode.go.html#3645130">pv</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645381">//&nbsp;Check&nbsp;type&nbsp;of&nbsp;target.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645407">switch</span>&nbsp;<span class="ident" id="3645414"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3645415">.</span><span class="ident" id="3645416">Kind</span><span class="op" id="3645420">(</span><span class="op" id="3645421">)</span>&nbsp;<span class="op" id="3645423">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645426">case</span>&nbsp;<span class="ident" id="3645431"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3645438">.</span><span class="ident" id="3645439">Interface</span><span class="op" id="3645448">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645452">if</span>&nbsp;<span class="ident" id="3645455"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3645456">.</span><span class="ident" id="3645457">NumMethod</span><span class="op" id="3645466">(</span><span class="op" id="3645467">)</span>&nbsp;<span class="op" id="3645469">==</span>&nbsp;<span class="num" id="3645472">0</span>&nbsp;<span class="op" id="3645474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645479">//&nbsp;Decoding&nbsp;into&nbsp;nil&nbsp;interface?&nbsp;&nbsp;Switch&nbsp;to&nbsp;non-reflect&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645543"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3645544">.</span><span class="ident" id="3645545">Set</span><span class="op" id="3645548">(</span><span class="ident" id="3645549"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3645556">.</span><span class="ident" id="3645557">ValueOf</span><span class="op" id="3645564">(</span><span class="ident" id="3645565"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645566">.</span><span class="ident" id="3645567">arrayInterface</span><span class="op" id="3645581">(</span><span class="op" id="3645582">)</span><span class="op" id="3645583">)</span><span class="op" id="3645584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645589">return</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645602">//&nbsp;Otherwise&nbsp;it&#39;s&nbsp;invalid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645631">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645644">default</span><span class="op" id="3645651">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645655"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645656">.</span><span class="ident" id="3645657">saveError</span><span class="op" id="3645666">(</span><span class="op" id="3645667">&amp;</span><span class="ident" id="3645668"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3645686">{</span><span class="string" id="3645687">&#34;array&#34;</span><span class="op" id="3645694">,</span>&nbsp;<span class="ident" id="3645696"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3645697">.</span><span class="ident" id="3645698">Type</span><span class="op" id="3645702">(</span><span class="op" id="3645703">)</span><span class="op" id="3645704">}</span><span class="op" id="3645705">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645709"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645710">.</span><span class="ident" id="3645711">off</span><span class="op" id="3645714">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645719"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645720">.</span><span class="ident" id="3645721">next</span><span class="op" id="3645725">(</span><span class="op" id="3645726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645730">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645738">case</span>&nbsp;<span class="ident" id="3645743"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3645750">.</span><span class="ident" id="3645751">Array</span><span class="op" id="3645756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645759">case</span>&nbsp;<span class="ident" id="3645764"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3645771">.</span><span class="ident" id="3645772">Slice</span><span class="op" id="3645777">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645781">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645792">i</span>&nbsp;<span class="op" id="3645794">:=</span>&nbsp;<span class="num" id="3645797">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645800">for</span>&nbsp;<span class="op" id="3645804">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645808">//&nbsp;Look&nbsp;ahead&nbsp;for&nbsp;]&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645868">op</span>&nbsp;<span class="op" id="3645871">:=</span>&nbsp;<span class="ident" id="3645874"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3645875">.</span><span class="ident" id="3645876">scanWhile</span><span class="op" id="3645885">(</span><span class="ident" id="3645886"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3645899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645903">if</span>&nbsp;<span class="ident" id="3645906"><a href="/encoding/json/decode.go.html#3645868">op</a></span>&nbsp;<span class="op" id="3645909">==</span>&nbsp;<span class="ident" id="3645912"><a href="/encoding/json/scanner.go.html#3702660">scanEndArray</a></span>&nbsp;<span class="op" id="3645925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3645930">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3645938">}</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3645943">//&nbsp;Back&nbsp;up&nbsp;so&nbsp;d.value&nbsp;can&nbsp;have&nbsp;the&nbsp;byte&nbsp;we&nbsp;just&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3645999"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3646000">.</span><span class="ident" id="3646001">off</span><span class="op" id="3646004">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646009"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3646010">.</span><span class="ident" id="3646011">scan</span><span class="op" id="3646015">.</span><span class="ident" id="3646016">undo</span><span class="op" id="3646020">(</span><span class="ident" id="3646021"><a href="/encoding/json/decode.go.html#3645868">op</a></span><span class="op" id="3646023">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646028">//&nbsp;Get&nbsp;element&nbsp;of&nbsp;array,&nbsp;growing&nbsp;if&nbsp;necessary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646077">if</span>&nbsp;<span class="ident" id="3646080"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646081">.</span><span class="ident" id="3646082">Kind</span><span class="op" id="3646086">(</span><span class="op" id="3646087">)</span>&nbsp;<span class="op" id="3646089">==</span>&nbsp;<span class="ident" id="3646092"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646099">.</span><span class="ident" id="3646100">Slice</span>&nbsp;<span class="op" id="3646106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646111">//&nbsp;Grow&nbsp;slice&nbsp;if&nbsp;necessary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646141">if</span>&nbsp;<span class="ident" id="3646144"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646146">&gt;=</span>&nbsp;<span class="ident" id="3646149"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646150">.</span><span class="ident" id="3646151">Cap</span><span class="op" id="3646154">(</span><span class="op" id="3646155">)</span>&nbsp;<span class="op" id="3646157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646163">newcap</span>&nbsp;<span class="op" id="3646170">:=</span>&nbsp;<span class="ident" id="3646173"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646174">.</span><span class="ident" id="3646175">Cap</span><span class="op" id="3646178">(</span><span class="op" id="3646179">)</span>&nbsp;<span class="op" id="3646181">+</span>&nbsp;<span class="ident" id="3646183"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646184">.</span><span class="ident" id="3646185">Cap</span><span class="op" id="3646188">(</span><span class="op" id="3646189">)</span><span class="op" id="3646190">/</span><span class="num" id="3646191">2</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646197">if</span>&nbsp;<span class="ident" id="3646200"><a href="/encoding/json/decode.go.html#3646163">newcap</a></span>&nbsp;<span class="op" id="3646207">&lt;</span>&nbsp;<span class="num" id="3646209">4</span>&nbsp;<span class="op" id="3646211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646218"><a href="/encoding/json/decode.go.html#3646163">newcap</a></span>&nbsp;<span class="op" id="3646225">=</span>&nbsp;<span class="num" id="3646227">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646239">newv</span>&nbsp;<span class="op" id="3646244">:=</span>&nbsp;<span class="ident" id="3646247"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646254">.</span><span class="ident" id="3646255">MakeSlice</span><span class="op" id="3646264">(</span><span class="ident" id="3646265"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646266">.</span><span class="ident" id="3646267">Type</span><span class="op" id="3646271">(</span><span class="op" id="3646272">)</span><span class="op" id="3646273">,</span>&nbsp;<span class="ident" id="3646275"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646276">.</span><span class="ident" id="3646277">Len</span><span class="op" id="3646280">(</span><span class="op" id="3646281">)</span><span class="op" id="3646282">,</span>&nbsp;<span class="ident" id="3646284"><a href="/encoding/json/decode.go.html#3646163">newcap</a></span><span class="op" id="3646290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646296"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646303">.</span><span class="ident" id="3646304">Copy</span><span class="op" id="3646308">(</span><span class="ident" id="3646309"><a href="/encoding/json/decode.go.html#3646239">newv</a></span><span class="op" id="3646313">,</span>&nbsp;<span class="ident" id="3646315"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646316">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646322"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646323">.</span><span class="ident" id="3646324">Set</span><span class="op" id="3646327">(</span><span class="ident" id="3646328"><a href="/encoding/json/decode.go.html#3646239">newv</a></span><span class="op" id="3646332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646342">if</span>&nbsp;<span class="ident" id="3646345"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646347">&gt;=</span>&nbsp;<span class="ident" id="3646350"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646351">.</span><span class="ident" id="3646352">Len</span><span class="op" id="3646355">(</span><span class="op" id="3646356">)</span>&nbsp;<span class="op" id="3646358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646364"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646365">.</span><span class="ident" id="3646366">SetLen</span><span class="op" id="3646372">(</span><span class="ident" id="3646373"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646375">+</span>&nbsp;<span class="num" id="3646377">1</span><span class="op" id="3646378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646383">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646392">if</span>&nbsp;<span class="ident" id="3646395"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646397">&lt;</span>&nbsp;<span class="ident" id="3646399"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646400">.</span><span class="ident" id="3646401">Len</span><span class="op" id="3646404">(</span><span class="op" id="3646405">)</span>&nbsp;<span class="op" id="3646407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646412">//&nbsp;Decode&nbsp;into&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646439"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3646440">.</span><span class="ident" id="3646441">value</span><span class="op" id="3646446">(</span><span class="ident" id="3646447"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646448">.</span><span class="ident" id="3646449">Index</span><span class="op" id="3646454">(</span><span class="ident" id="3646455"><a href="/encoding/json/decode.go.html#3645792">i</a></span><span class="op" id="3646456">)</span><span class="op" id="3646457">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646461">}</span>&nbsp;<span class="keyword" id="3646463">else</span>&nbsp;<span class="op" id="3646468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646473">//&nbsp;Ran&nbsp;out&nbsp;of&nbsp;fixed&nbsp;array:&nbsp;skip.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646509"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3646510">.</span><span class="ident" id="3646511">value</span><span class="op" id="3646516">(</span><span class="ident" id="3646517"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646524">.</span><span class="ident" id="3646525">Value</span><span class="op" id="3646530">{</span><span class="op" id="3646531">}</span><span class="op" id="3646532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646540"><a href="/encoding/json/decode.go.html#3645792">i</a></span><span class="op" id="3646541">++</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646547">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646579"><a href="/encoding/json/decode.go.html#3645868">op</a></span>&nbsp;<span class="op" id="3646582">=</span>&nbsp;<span class="ident" id="3646584"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3646585">.</span><span class="ident" id="3646586">scanWhile</span><span class="op" id="3646595">(</span><span class="ident" id="3646596"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3646609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646613">if</span>&nbsp;<span class="ident" id="3646616"><a href="/encoding/json/decode.go.html#3645868">op</a></span>&nbsp;<span class="op" id="3646619">==</span>&nbsp;<span class="ident" id="3646622"><a href="/encoding/json/scanner.go.html#3702660">scanEndArray</a></span>&nbsp;<span class="op" id="3646635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646640">break</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646652">if</span>&nbsp;<span class="ident" id="3646655"><a href="/encoding/json/decode.go.html#3645868">op</a></span>&nbsp;<span class="op" id="3646658">!=</span>&nbsp;<span class="ident" id="3646661"><a href="/encoding/json/scanner.go.html#3702606">scanArrayValue</a></span>&nbsp;<span class="op" id="3646676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646681"><a href="/encoding/json/decode.go.html#3645054">d</a></span><span class="op" id="3646682">.</span><span class="builtintype" id="3646683">error</span><span class="op" id="3646688">(</span><span class="ident" id="3646689"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3646697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646704">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646708">if</span>&nbsp;<span class="ident" id="3646711"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646713">&lt;</span>&nbsp;<span class="ident" id="3646715"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646716">.</span><span class="ident" id="3646717">Len</span><span class="op" id="3646720">(</span><span class="op" id="3646721">)</span>&nbsp;<span class="op" id="3646723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646727">if</span>&nbsp;<span class="ident" id="3646730"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646731">.</span><span class="ident" id="3646732">Kind</span><span class="op" id="3646736">(</span><span class="op" id="3646737">)</span>&nbsp;<span class="op" id="3646739">==</span>&nbsp;<span class="ident" id="3646742"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646749">.</span><span class="ident" id="3646750">Array</span>&nbsp;<span class="op" id="3646756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3646761">//&nbsp;Array.&nbsp;&nbsp;Zero&nbsp;the&nbsp;rest.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646790">z</span>&nbsp;<span class="op" id="3646792">:=</span>&nbsp;<span class="ident" id="3646795"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646802">.</span><span class="ident" id="3646803">Zero</span><span class="op" id="3646807">(</span><span class="ident" id="3646808"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646809">.</span><span class="ident" id="3646810">Type</span><span class="op" id="3646814">(</span><span class="op" id="3646815">)</span><span class="op" id="3646816">.</span><span class="ident" id="3646817">Elem</span><span class="op" id="3646821">(</span><span class="op" id="3646822">)</span><span class="op" id="3646823">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646828">for</span>&nbsp;<span class="op" id="3646832">;</span>&nbsp;<span class="ident" id="3646834"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646836">&lt;</span>&nbsp;<span class="ident" id="3646838"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646839">.</span><span class="ident" id="3646840">Len</span><span class="op" id="3646843">(</span><span class="op" id="3646844">)</span><span class="op" id="3646845">;</span>&nbsp;<span class="ident" id="3646847"><a href="/encoding/json/decode.go.html#3645792">i</a></span><span class="op" id="3646848">++</span>&nbsp;<span class="op" id="3646851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646857"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646858">.</span><span class="ident" id="3646859">Index</span><span class="op" id="3646864">(</span><span class="ident" id="3646865"><a href="/encoding/json/decode.go.html#3645792">i</a></span><span class="op" id="3646866">)</span><span class="op" id="3646867">.</span><span class="ident" id="3646868">Set</span><span class="op" id="3646871">(</span><span class="ident" id="3646872"><a href="/encoding/json/decode.go.html#3646790">z</a></span><span class="op" id="3646873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646882">}</span>&nbsp;<span class="keyword" id="3646884">else</span>&nbsp;<span class="op" id="3646889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646894"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646895">.</span><span class="ident" id="3646896">SetLen</span><span class="op" id="3646902">(</span><span class="ident" id="3646903"><a href="/encoding/json/decode.go.html#3645792">i</a></span><span class="op" id="3646904">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3646914">if</span>&nbsp;<span class="ident" id="3646917"><a href="/encoding/json/decode.go.html#3645792">i</a></span>&nbsp;<span class="op" id="3646919">==</span>&nbsp;<span class="num" id="3646922">0</span>&nbsp;<span class="op" id="3646924">&amp;&amp;</span>&nbsp;<span class="ident" id="3646927"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646928">.</span><span class="ident" id="3646929">Kind</span><span class="op" id="3646933">(</span><span class="op" id="3646934">)</span>&nbsp;<span class="op" id="3646936">==</span>&nbsp;<span class="ident" id="3646939"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646946">.</span><span class="ident" id="3646947">Slice</span>&nbsp;<span class="op" id="3646953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3646957"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646958">.</span><span class="ident" id="3646959">Set</span><span class="op" id="3646962">(</span><span class="ident" id="3646963"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3646970">.</span><span class="ident" id="3646971">MakeSlice</span><span class="op" id="3646980">(</span><span class="ident" id="3646981"><a href="/encoding/json/decode.go.html#3645076">v</a></span><span class="op" id="3646982">.</span><span class="ident" id="3646983">Type</span><span class="op" id="3646987">(</span><span class="op" id="3646988">)</span><span class="op" id="3646989">,</span>&nbsp;<span class="num" id="3646991">0</span><span class="op" id="3646992">,</span>&nbsp;<span class="num" id="3646994">0</span><span class="op" id="3646995">)</span><span class="op" id="3646996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3646999">}</span><br>
<span class="lineno">470</span><span class="op" id="3647001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3647004">var</span>&nbsp;<span class="ident" id="3647008">nullLiteral</span>&nbsp;<span class="op" id="3647020">=</span>&nbsp;<span class="op" id="3647022">[</span><span class="op" id="3647023">]</span><span class="builtintype" id="3647024">byte</span><span class="op" id="3647028">(</span><span class="string" id="3647029">&#34;null&#34;</span><span class="op" id="3647035">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3647038">//&nbsp;object&nbsp;consumes&nbsp;an&nbsp;object&nbsp;from&nbsp;d.data[d.off-1:],&nbsp;decoding&nbsp;into&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno">475</span><span class="comment" id="3647117">//&nbsp;the&nbsp;first&nbsp;byte&nbsp;(&#39;{&#39;)&nbsp;of&nbsp;the&nbsp;object&nbsp;has&nbsp;been&nbsp;read&nbsp;already.</span><br>
<span class="lineno"></span><span class="keyword" id="3647178">func</span>&nbsp;<span class="op" id="3647183">(</span><span class="ident" id="3647184">d</span>&nbsp;<span class="op" id="3647186">*</span><span class="ident" id="3647187"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3647198">)</span>&nbsp;<span class="ident" id="3647200">object</span><span class="op" id="3647206">(</span><span class="ident" id="3647207">v</span>&nbsp;<span class="ident" id="3647209"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3647216">.</span><span class="ident" id="3647217">Value</span><span class="op" id="3647222">)</span>&nbsp;<span class="op" id="3647224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3647227">//&nbsp;Check&nbsp;for&nbsp;unmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647254">u</span><span class="op" id="3647255">,</span>&nbsp;<span class="ident" id="3647257">ut</span><span class="op" id="3647259">,</span>&nbsp;<span class="ident" id="3647261">pv</span>&nbsp;<span class="op" id="3647264">:=</span>&nbsp;<span class="ident" id="3647267"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647268">.</span><span class="ident" id="3647269">indirect</span><span class="op" id="3647277">(</span><span class="ident" id="3647278"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647279">,</span>&nbsp;<span class="ident" id="3647281">false</span><span class="op" id="3647286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647289">if</span>&nbsp;<span class="ident" id="3647292"><a href="/encoding/json/decode.go.html#3647254">u</a></span>&nbsp;<span class="op" id="3647294">!=</span>&nbsp;<span class="ident" id="3647297">nil</span>&nbsp;<span class="op" id="3647301">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647305"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647306">.</span><span class="ident" id="3647307">off</span><span class="op" id="3647310">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647315">err</span>&nbsp;<span class="op" id="3647319">:=</span>&nbsp;<span class="ident" id="3647322"><a href="/encoding/json/decode.go.html#3647254">u</a></span><span class="op" id="3647323">.</span><span class="ident" id="3647324">UnmarshalJSON</span><span class="op" id="3647337">(</span><span class="ident" id="3647338"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647339">.</span><span class="ident" id="3647340">next</span><span class="op" id="3647344">(</span><span class="op" id="3647345">)</span><span class="op" id="3647346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647350">if</span>&nbsp;<span class="ident" id="3647353"><a href="/encoding/json/decode.go.html#3647315">err</a></span>&nbsp;<span class="op" id="3647357">!=</span>&nbsp;<span class="ident" id="3647360">nil</span>&nbsp;<span class="op" id="3647364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647369"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647370">.</span><span class="builtintype" id="3647371">error</span><span class="op" id="3647376">(</span><span class="ident" id="3647377"><a href="/encoding/json/decode.go.html#3647315">err</a></span><span class="op" id="3647380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3647384">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647388">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3647396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647399">if</span>&nbsp;<span class="ident" id="3647402"><a href="/encoding/json/decode.go.html#3647257">ut</a></span>&nbsp;<span class="op" id="3647405">!=</span>&nbsp;<span class="ident" id="3647408">nil</span>&nbsp;<span class="op" id="3647412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647416"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647417">.</span><span class="ident" id="3647418">saveError</span><span class="op" id="3647427">(</span><span class="op" id="3647428">&amp;</span><span class="ident" id="3647429"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3647447">{</span><span class="string" id="3647448">&#34;object&#34;</span><span class="op" id="3647456">,</span>&nbsp;<span class="ident" id="3647458"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647459">.</span><span class="ident" id="3647460">Type</span><span class="op" id="3647464">(</span><span class="op" id="3647465">)</span><span class="op" id="3647466">}</span><span class="op" id="3647467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647471"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647472">.</span><span class="ident" id="3647473">off</span><span class="op" id="3647476">--</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647481"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647482">.</span><span class="ident" id="3647483">next</span><span class="op" id="3647487">(</span><span class="op" id="3647488">)</span>&nbsp;<span class="comment" id="3647490">//&nbsp;skip&nbsp;over&nbsp;{&nbsp;}&nbsp;in&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647518">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3647526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647529"><a href="/encoding/json/decode.go.html#3647207">v</a></span>&nbsp;<span class="op" id="3647531">=</span>&nbsp;<span class="ident" id="3647533"><a href="/encoding/json/decode.go.html#3647261">pv</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3647538">//&nbsp;Decoding&nbsp;into&nbsp;nil&nbsp;interface?&nbsp;&nbsp;Switch&nbsp;to&nbsp;non-reflect&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647600">if</span>&nbsp;<span class="ident" id="3647603"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647604">.</span><span class="ident" id="3647605">Kind</span><span class="op" id="3647609">(</span><span class="op" id="3647610">)</span>&nbsp;<span class="op" id="3647612">==</span>&nbsp;<span class="ident" id="3647615"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3647622">.</span><span class="ident" id="3647623">Interface</span>&nbsp;<span class="op" id="3647633">&amp;&amp;</span>&nbsp;<span class="ident" id="3647636"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647637">.</span><span class="ident" id="3647638">NumMethod</span><span class="op" id="3647647">(</span><span class="op" id="3647648">)</span>&nbsp;<span class="op" id="3647650">==</span>&nbsp;<span class="num" id="3647653">0</span>&nbsp;<span class="op" id="3647655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647659"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647660">.</span><span class="ident" id="3647661">Set</span><span class="op" id="3647664">(</span><span class="ident" id="3647665"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3647672">.</span><span class="ident" id="3647673">ValueOf</span><span class="op" id="3647680">(</span><span class="ident" id="3647681"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647682">.</span><span class="ident" id="3647683">objectInterface</span><span class="op" id="3647698">(</span><span class="op" id="3647699">)</span><span class="op" id="3647700">)</span><span class="op" id="3647701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647705">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3647713">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3647717">//&nbsp;Check&nbsp;type&nbsp;of&nbsp;target:&nbsp;struct&nbsp;or&nbsp;map[string]T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647766">switch</span>&nbsp;<span class="ident" id="3647773"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647774">.</span><span class="ident" id="3647775">Kind</span><span class="op" id="3647779">(</span><span class="op" id="3647780">)</span>&nbsp;<span class="op" id="3647782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647785">case</span>&nbsp;<span class="ident" id="3647790"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3647797">.</span><span class="ident" id="3647798">Map</span><span class="op" id="3647801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3647805">//&nbsp;map&nbsp;must&nbsp;have&nbsp;string&nbsp;kind</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647836">t</span>&nbsp;<span class="op" id="3647838">:=</span>&nbsp;<span class="ident" id="3647841"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647842">.</span><span class="ident" id="3647843">Type</span><span class="op" id="3647847">(</span><span class="op" id="3647848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647852">if</span>&nbsp;<span class="ident" id="3647855"><a href="/encoding/json/decode.go.html#3647836">t</a></span><span class="op" id="3647856">.</span><span class="ident" id="3647857">Key</span><span class="op" id="3647860">(</span><span class="op" id="3647861">)</span><span class="op" id="3647862">.</span><span class="ident" id="3647863">Kind</span><span class="op" id="3647867">(</span><span class="op" id="3647868">)</span>&nbsp;<span class="op" id="3647870">!=</span>&nbsp;<span class="ident" id="3647873"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3647880">.</span><span class="ident" id="3647881">String</span>&nbsp;<span class="op" id="3647888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647893"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647894">.</span><span class="ident" id="3647895">saveError</span><span class="op" id="3647904">(</span><span class="op" id="3647905">&amp;</span><span class="ident" id="3647906"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3647924">{</span><span class="string" id="3647925">&#34;object&#34;</span><span class="op" id="3647933">,</span>&nbsp;<span class="ident" id="3647935"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3647936">.</span><span class="ident" id="3647937">Type</span><span class="op" id="3647941">(</span><span class="op" id="3647942">)</span><span class="op" id="3647943">}</span><span class="op" id="3647944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647949"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647950">.</span><span class="ident" id="3647951">off</span><span class="op" id="3647954">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3647960"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3647961">.</span><span class="ident" id="3647962">next</span><span class="op" id="3647966">(</span><span class="op" id="3647967">)</span>&nbsp;<span class="comment" id="3647969">//&nbsp;skip&nbsp;over&nbsp;{&nbsp;}&nbsp;in&nbsp;input</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3647998">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648011">if</span>&nbsp;<span class="ident" id="3648014"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3648015">.</span><span class="ident" id="3648016">IsNil</span><span class="op" id="3648021">(</span><span class="op" id="3648022">)</span>&nbsp;<span class="op" id="3648024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648029"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3648030">.</span><span class="ident" id="3648031">Set</span><span class="op" id="3648034">(</span><span class="ident" id="3648035"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648042">.</span><span class="ident" id="3648043">MakeMap</span><span class="op" id="3648050">(</span><span class="ident" id="3648051"><a href="/encoding/json/decode.go.html#3647836">t</a></span><span class="op" id="3648052">)</span><span class="op" id="3648053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648057">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648060">case</span>&nbsp;<span class="ident" id="3648065"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648072">.</span><span class="ident" id="3648073">Struct</span><span class="op" id="3648079">:</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648083">default</span><span class="op" id="3648090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648094"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648095">.</span><span class="ident" id="3648096">saveError</span><span class="op" id="3648105">(</span><span class="op" id="3648106">&amp;</span><span class="ident" id="3648107"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3648125">{</span><span class="string" id="3648126">&#34;object&#34;</span><span class="op" id="3648134">,</span>&nbsp;<span class="ident" id="3648136"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3648137">.</span><span class="ident" id="3648138">Type</span><span class="op" id="3648142">(</span><span class="op" id="3648143">)</span><span class="op" id="3648144">}</span><span class="op" id="3648145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648149"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648150">.</span><span class="ident" id="3648151">off</span><span class="op" id="3648154">--</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648159"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648160">.</span><span class="ident" id="3648161">next</span><span class="op" id="3648165">(</span><span class="op" id="3648166">)</span>&nbsp;<span class="comment" id="3648168">//&nbsp;skip&nbsp;over&nbsp;{&nbsp;}&nbsp;in&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648196">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648208">var</span>&nbsp;<span class="ident" id="3648212">mapElem</span>&nbsp;<span class="ident" id="3648220"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648227">.</span><span class="ident" id="3648228">Value</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648236">for</span>&nbsp;<span class="op" id="3648240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3648244">//&nbsp;Read&nbsp;opening&nbsp;&#34;&nbsp;of&nbsp;string&nbsp;key&nbsp;or&nbsp;closing&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648292">op</span>&nbsp;<span class="op" id="3648295">:=</span>&nbsp;<span class="ident" id="3648298"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648299">.</span><span class="ident" id="3648300">scanWhile</span><span class="op" id="3648309">(</span><span class="ident" id="3648310"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3648323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648327">if</span>&nbsp;<span class="ident" id="3648330"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3648333">==</span>&nbsp;<span class="ident" id="3648336"><a href="/encoding/json/scanner.go.html#3702489">scanEndObject</a></span>&nbsp;<span class="op" id="3648350">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3648355">//&nbsp;closing&nbsp;}&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648409">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648421">if</span>&nbsp;<span class="ident" id="3648424"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3648427">!=</span>&nbsp;<span class="ident" id="3648430"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span>&nbsp;<span class="op" id="3648447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648452"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648453">.</span><span class="builtintype" id="3648454">error</span><span class="op" id="3648459">(</span><span class="ident" id="3648460"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3648468">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3648477">//&nbsp;Read&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648492">start</span>&nbsp;<span class="op" id="3648498">:=</span>&nbsp;<span class="ident" id="3648501"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648502">.</span><span class="ident" id="3648503">off</span>&nbsp;<span class="op" id="3648507">-</span>&nbsp;<span class="num" id="3648509">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648513"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3648516">=</span>&nbsp;<span class="ident" id="3648518"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648519">.</span><span class="ident" id="3648520">scanWhile</span><span class="op" id="3648529">(</span><span class="ident" id="3648530"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><span class="op" id="3648542">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648546">item</span>&nbsp;<span class="op" id="3648551">:=</span>&nbsp;<span class="ident" id="3648554"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648555">.</span><span class="ident" id="3648556">data</span><span class="op" id="3648560">[</span><span class="ident" id="3648561"><a href="/encoding/json/decode.go.html#3648492">start</a></span>&nbsp;<span class="op" id="3648567">:</span>&nbsp;<span class="ident" id="3648569"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648570">.</span><span class="ident" id="3648571">off</span><span class="op" id="3648574">-</span><span class="num" id="3648575">1</span><span class="op" id="3648576">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648580">key</span><span class="op" id="3648583">,</span>&nbsp;<span class="ident" id="3648585">ok</span>&nbsp;<span class="op" id="3648588">:=</span>&nbsp;<span class="ident" id="3648591"><a href="/encoding/json/decode.go.html#3659085">unquoteBytes</a></span><span class="op" id="3648603">(</span><span class="ident" id="3648604"><a href="/encoding/json/decode.go.html#3648546">item</a></span><span class="op" id="3648608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648612">if</span>&nbsp;<span class="op" id="3648615">!</span><span class="ident" id="3648616"><a href="/encoding/json/decode.go.html#3648585">ok</a></span>&nbsp;<span class="op" id="3648619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648624"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3648625">.</span><span class="builtintype" id="3648626">error</span><span class="op" id="3648631">(</span><span class="ident" id="3648632"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3648640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648644">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3648649">//&nbsp;Figure&nbsp;out&nbsp;field&nbsp;corresponding&nbsp;to&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648693">var</span>&nbsp;<span class="ident" id="3648697">subv</span>&nbsp;<span class="ident" id="3648702"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648709">.</span><span class="ident" id="3648710">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648718">destring</span>&nbsp;<span class="op" id="3648727">:=</span>&nbsp;<span class="ident" id="3648730">false</span>&nbsp;<span class="comment" id="3648736">//&nbsp;whether&nbsp;the&nbsp;value&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;a&nbsp;string&nbsp;to&nbsp;be&nbsp;decoded&nbsp;first</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648803">if</span>&nbsp;<span class="ident" id="3648806"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3648807">.</span><span class="ident" id="3648808">Kind</span><span class="op" id="3648812">(</span><span class="op" id="3648813">)</span>&nbsp;<span class="op" id="3648815">==</span>&nbsp;<span class="ident" id="3648818"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648825">.</span><span class="ident" id="3648826">Map</span>&nbsp;<span class="op" id="3648830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648835">elemType</span>&nbsp;<span class="op" id="3648844">:=</span>&nbsp;<span class="ident" id="3648847"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3648848">.</span><span class="ident" id="3648849">Type</span><span class="op" id="3648853">(</span><span class="op" id="3648854">)</span><span class="op" id="3648855">.</span><span class="ident" id="3648856">Elem</span><span class="op" id="3648860">(</span><span class="op" id="3648861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3648866">if</span>&nbsp;<span class="op" id="3648869">!</span><span class="ident" id="3648870"><a href="/encoding/json/decode.go.html#3648212">mapElem</a></span><span class="op" id="3648877">.</span><span class="ident" id="3648878">IsValid</span><span class="op" id="3648885">(</span><span class="op" id="3648886">)</span>&nbsp;<span class="op" id="3648888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648894"><a href="/encoding/json/decode.go.html#3648212">mapElem</a></span>&nbsp;<span class="op" id="3648902">=</span>&nbsp;<span class="ident" id="3648904"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648911">.</span><span class="ident" id="3648912">New</span><span class="op" id="3648915">(</span><span class="ident" id="3648916"><a href="/encoding/json/decode.go.html#3648835">elemType</a></span><span class="op" id="3648924">)</span><span class="op" id="3648925">.</span><span class="ident" id="3648926">Elem</span><span class="op" id="3648930">(</span><span class="op" id="3648931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648936">}</span>&nbsp;<span class="keyword" id="3648938">else</span>&nbsp;<span class="op" id="3648943">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648949"><a href="/encoding/json/decode.go.html#3648212">mapElem</a></span><span class="op" id="3648956">.</span><span class="ident" id="3648957">Set</span><span class="op" id="3648960">(</span><span class="ident" id="3648961"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3648968">.</span><span class="ident" id="3648969">Zero</span><span class="op" id="3648973">(</span><span class="ident" id="3648974"><a href="/encoding/json/decode.go.html#3648835">elemType</a></span><span class="op" id="3648982">)</span><span class="op" id="3648983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3648988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3648993"><a href="/encoding/json/decode.go.html#3648697">subv</a></span>&nbsp;<span class="op" id="3648998">=</span>&nbsp;<span class="ident" id="3649000"><a href="/encoding/json/decode.go.html#3648212">mapElem</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649010">}</span>&nbsp;<span class="keyword" id="3649012">else</span>&nbsp;<span class="op" id="3649017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649022">var</span>&nbsp;<span class="ident" id="3649026">f</span>&nbsp;<span class="op" id="3649028">*</span><span class="ident" id="3649029"><a href="/encoding/json/encode.go.html#3685603">field</a></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649038">fields</span>&nbsp;<span class="op" id="3649045">:=</span>&nbsp;<span class="ident" id="3649048"><a href="/encoding/json/encode.go.html#3691600">cachedTypeFields</a></span><span class="op" id="3649064">(</span><span class="ident" id="3649065"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3649066">.</span><span class="ident" id="3649067">Type</span><span class="op" id="3649071">(</span><span class="op" id="3649072">)</span><span class="op" id="3649073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649078">for</span>&nbsp;<span class="ident" id="3649082">i</span>&nbsp;<span class="op" id="3649084">:=</span>&nbsp;<span class="keyword" id="3649087">range</span>&nbsp;<span class="ident" id="3649093"><a href="/encoding/json/decode.go.html#3649038">fields</a></span>&nbsp;<span class="op" id="3649100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649106">ff</span>&nbsp;<span class="op" id="3649109">:=</span>&nbsp;<span class="op" id="3649112">&amp;</span><span class="ident" id="3649113"><a href="/encoding/json/decode.go.html#3649038">fields</a></span><span class="op" id="3649119">[</span><span class="ident" id="3649120"><a href="/encoding/json/decode.go.html#3649082">i</a></span><span class="op" id="3649121">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649127">if</span>&nbsp;<span class="ident" id="3649130"><a href="/encoding/json/decode.go.html#3634896">bytes</a></span><span class="op" id="3649135">.</span><span class="ident" id="3649136">Equal</span><span class="op" id="3649141">(</span><span class="ident" id="3649142"><a href="/encoding/json/decode.go.html#3649106">ff</a></span><span class="op" id="3649144">.</span><span class="ident" id="3649145">nameBytes</span><span class="op" id="3649154">,</span>&nbsp;<span class="ident" id="3649156"><a href="/encoding/json/decode.go.html#3648580">key</a></span><span class="op" id="3649159">)</span>&nbsp;<span class="op" id="3649161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649168"><a href="/encoding/json/decode.go.html#3649026">f</a></span>&nbsp;<span class="op" id="3649170">=</span>&nbsp;<span class="ident" id="3649172"><a href="/encoding/json/decode.go.html#3649106">ff</a></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649180">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649196">if</span>&nbsp;<span class="ident" id="3649199"><a href="/encoding/json/decode.go.html#3649026">f</a></span>&nbsp;<span class="op" id="3649201">==</span>&nbsp;<span class="ident" id="3649204">nil</span>&nbsp;<span class="op" id="3649208">&amp;&amp;</span>&nbsp;<span class="ident" id="3649211"><a href="/encoding/json/decode.go.html#3649106">ff</a></span><span class="op" id="3649213">.</span><span class="ident" id="3649214">equalFold</span><span class="op" id="3649223">(</span><span class="ident" id="3649224"><a href="/encoding/json/decode.go.html#3649106">ff</a></span><span class="op" id="3649226">.</span><span class="ident" id="3649227">nameBytes</span><span class="op" id="3649236">,</span>&nbsp;<span class="ident" id="3649238"><a href="/encoding/json/decode.go.html#3648580">key</a></span><span class="op" id="3649241">)</span>&nbsp;<span class="op" id="3649243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649250"><a href="/encoding/json/decode.go.html#3649026">f</a></span>&nbsp;<span class="op" id="3649252">=</span>&nbsp;<span class="ident" id="3649254"><a href="/encoding/json/decode.go.html#3649106">ff</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649261">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649271">if</span>&nbsp;<span class="ident" id="3649274"><a href="/encoding/json/decode.go.html#3649026">f</a></span>&nbsp;<span class="op" id="3649276">!=</span>&nbsp;<span class="ident" id="3649279">nil</span>&nbsp;<span class="op" id="3649283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649289"><a href="/encoding/json/decode.go.html#3648697">subv</a></span>&nbsp;<span class="op" id="3649294">=</span>&nbsp;<span class="ident" id="3649296"><a href="/encoding/json/decode.go.html#3647207">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649302"><a href="/encoding/json/decode.go.html#3648718">destring</a></span>&nbsp;<span class="op" id="3649311">=</span>&nbsp;<span class="ident" id="3649313"><a href="/encoding/json/decode.go.html#3649026">f</a></span><span class="op" id="3649314">.</span><span class="ident" id="3649315">quoted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649326">for</span>&nbsp;<span class="ident" id="3649330">_</span><span class="op" id="3649331">,</span>&nbsp;<span class="ident" id="3649333">i</span>&nbsp;<span class="op" id="3649335">:=</span>&nbsp;<span class="keyword" id="3649338">range</span>&nbsp;<span class="ident" id="3649344"><a href="/encoding/json/decode.go.html#3649026">f</a></span><span class="op" id="3649345">.</span><span class="ident" id="3649346">index</span>&nbsp;<span class="op" id="3649352">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649359">if</span>&nbsp;<span class="ident" id="3649362"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649366">.</span><span class="ident" id="3649367">Kind</span><span class="op" id="3649371">(</span><span class="op" id="3649372">)</span>&nbsp;<span class="op" id="3649374">==</span>&nbsp;<span class="ident" id="3649377"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3649384">.</span><span class="ident" id="3649385">Ptr</span>&nbsp;<span class="op" id="3649389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649397">if</span>&nbsp;<span class="ident" id="3649400"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649404">.</span><span class="ident" id="3649405">IsNil</span><span class="op" id="3649410">(</span><span class="op" id="3649411">)</span>&nbsp;<span class="op" id="3649413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649422"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649426">.</span><span class="ident" id="3649427">Set</span><span class="op" id="3649430">(</span><span class="ident" id="3649431"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3649438">.</span><span class="ident" id="3649439">New</span><span class="op" id="3649442">(</span><span class="ident" id="3649443"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649447">.</span><span class="ident" id="3649448">Type</span><span class="op" id="3649452">(</span><span class="op" id="3649453">)</span><span class="op" id="3649454">.</span><span class="ident" id="3649455">Elem</span><span class="op" id="3649459">(</span><span class="op" id="3649460">)</span><span class="op" id="3649461">)</span><span class="op" id="3649462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649478"><a href="/encoding/json/decode.go.html#3648697">subv</a></span>&nbsp;<span class="op" id="3649483">=</span>&nbsp;<span class="ident" id="3649485"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649489">.</span><span class="ident" id="3649490">Elem</span><span class="op" id="3649494">(</span><span class="op" id="3649495">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649509"><a href="/encoding/json/decode.go.html#3648697">subv</a></span>&nbsp;<span class="op" id="3649514">=</span>&nbsp;<span class="ident" id="3649516"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649520">.</span><span class="ident" id="3649521">Field</span><span class="op" id="3649526">(</span><span class="ident" id="3649527"><a href="/encoding/json/decode.go.html#3649333">i</a></span><span class="op" id="3649528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649543">}</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3649548">//&nbsp;Read&nbsp;:&nbsp;before&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649574">if</span>&nbsp;<span class="ident" id="3649577"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3649580">==</span>&nbsp;<span class="ident" id="3649583"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span>&nbsp;<span class="op" id="3649597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649602"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3649605">=</span>&nbsp;<span class="ident" id="3649607"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3649608">.</span><span class="ident" id="3649609">scanWhile</span><span class="op" id="3649618">(</span><span class="ident" id="3649619"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3649632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649636">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649640">if</span>&nbsp;<span class="ident" id="3649643"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3649646">!=</span>&nbsp;<span class="ident" id="3649649"><a href="/encoding/json/scanner.go.html#3702363">scanObjectKey</a></span>&nbsp;<span class="op" id="3649663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649668"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3649669">.</span><span class="builtintype" id="3649670">error</span><span class="op" id="3649675">(</span><span class="ident" id="3649676"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3649684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3649688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3649693">//&nbsp;Read&nbsp;value.</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649710">if</span>&nbsp;<span class="ident" id="3649713"><a href="/encoding/json/decode.go.html#3648718">destring</a></span>&nbsp;<span class="op" id="3649722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649727">switch</span>&nbsp;<span class="ident" id="3649734">qv</span>&nbsp;<span class="op" id="3649737">:=</span>&nbsp;<span class="ident" id="3649740"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3649741">.</span><span class="ident" id="3649742">valueQuoted</span><span class="op" id="3649753">(</span><span class="op" id="3649754">)</span><span class="op" id="3649755">.</span><span class="op" id="3649756">(</span><span class="keyword" id="3649757">type</span><span class="op" id="3649761">)</span>&nbsp;<span class="op" id="3649763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649768">case</span>&nbsp;<span class="ident" id="3649773">nil</span><span class="op" id="3649776">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649782"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3649783">.</span><span class="ident" id="3649784">literalStore</span><span class="op" id="3649796">(</span><span class="ident" id="3649797"><a href="/encoding/json/decode.go.html#3647008">nullLiteral</a></span><span class="op" id="3649808">,</span>&nbsp;<span class="ident" id="3649810"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649814">,</span>&nbsp;<span class="ident" id="3649816">false</span><span class="op" id="3649821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649826">case</span>&nbsp;<span class="builtintype" id="3649831">string</span><span class="op" id="3649837">:</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649843"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3649844">.</span><span class="ident" id="3649845">literalStore</span><span class="op" id="3649857">(</span><span class="op" id="3649858">[</span><span class="op" id="3649859">]</span><span class="builtintype" id="3649860">byte</span><span class="op" id="3649864">(</span><span class="ident" id="3649865"><a href="/encoding/json/decode.go.html#3649734">qv</a></span><span class="op" id="3649867">)</span><span class="op" id="3649868">,</span>&nbsp;<span class="ident" id="3649870"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3649874">,</span>&nbsp;<span class="ident" id="3649876">true</span><span class="op" id="3649880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3649885">default</span><span class="op" id="3649892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3649898"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3649899">.</span><span class="ident" id="3649900">saveError</span><span class="op" id="3649909">(</span><span class="ident" id="3649910"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3649913">.</span><span class="ident" id="3649914">Errorf</span><span class="op" id="3649920">(</span><span class="string" id="3649921">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;unquoted&nbsp;value&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3650006">,</span>&nbsp;<span class="ident" id="3650008"><a href="/encoding/json/decode.go.html#3648546">item</a></span><span class="op" id="3650012">,</span>&nbsp;<span class="ident" id="3650014"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3650015">.</span><span class="ident" id="3650016">Type</span><span class="op" id="3650020">(</span><span class="op" id="3650021">)</span><span class="op" id="3650022">)</span><span class="op" id="3650023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650032">}</span>&nbsp;<span class="keyword" id="3650034">else</span>&nbsp;<span class="op" id="3650039">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650044"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3650045">.</span><span class="ident" id="3650046">value</span><span class="op" id="3650051">(</span><span class="ident" id="3650052"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3650056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650065">//&nbsp;Write&nbsp;value&nbsp;back&nbsp;to&nbsp;map;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650095">//&nbsp;if&nbsp;using&nbsp;struct,&nbsp;subv&nbsp;points&nbsp;into&nbsp;struct&nbsp;already.</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650150">if</span>&nbsp;<span class="ident" id="3650153"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3650154">.</span><span class="ident" id="3650155">Kind</span><span class="op" id="3650159">(</span><span class="op" id="3650160">)</span>&nbsp;<span class="op" id="3650162">==</span>&nbsp;<span class="ident" id="3650165"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3650172">.</span><span class="ident" id="3650173">Map</span>&nbsp;<span class="op" id="3650177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650182">kv</span>&nbsp;<span class="op" id="3650185">:=</span>&nbsp;<span class="ident" id="3650188"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3650195">.</span><span class="ident" id="3650196">ValueOf</span><span class="op" id="3650203">(</span><span class="ident" id="3650204"><a href="/encoding/json/decode.go.html#3648580">key</a></span><span class="op" id="3650207">)</span><span class="op" id="3650208">.</span><span class="ident" id="3650209">Convert</span><span class="op" id="3650216">(</span><span class="ident" id="3650217"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3650218">.</span><span class="ident" id="3650219">Type</span><span class="op" id="3650223">(</span><span class="op" id="3650224">)</span><span class="op" id="3650225">.</span><span class="ident" id="3650226">Key</span><span class="op" id="3650229">(</span><span class="op" id="3650230">)</span><span class="op" id="3650231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650236"><a href="/encoding/json/decode.go.html#3647207">v</a></span><span class="op" id="3650237">.</span><span class="ident" id="3650238">SetMapIndex</span><span class="op" id="3650249">(</span><span class="ident" id="3650250"><a href="/encoding/json/decode.go.html#3650182">kv</a></span><span class="op" id="3650252">,</span>&nbsp;<span class="ident" id="3650254"><a href="/encoding/json/decode.go.html#3648697">subv</a></span><span class="op" id="3650258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650267">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650299"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3650302">=</span>&nbsp;<span class="ident" id="3650304"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3650305">.</span><span class="ident" id="3650306">scanWhile</span><span class="op" id="3650315">(</span><span class="ident" id="3650316"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3650329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650333">if</span>&nbsp;<span class="ident" id="3650336"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3650339">==</span>&nbsp;<span class="ident" id="3650342"><a href="/encoding/json/scanner.go.html#3702489">scanEndObject</a></span>&nbsp;<span class="op" id="3650356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650361">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650369">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3650373">if</span>&nbsp;<span class="ident" id="3650376"><a href="/encoding/json/decode.go.html#3648292">op</a></span>&nbsp;<span class="op" id="3650379">!=</span>&nbsp;<span class="ident" id="3650382"><a href="/encoding/json/scanner.go.html#3702425">scanObjectValue</a></span>&nbsp;<span class="op" id="3650398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650403"><a href="/encoding/json/decode.go.html#3647184">d</a></span><span class="op" id="3650404">.</span><span class="builtintype" id="3650405">error</span><span class="op" id="3650410">(</span><span class="ident" id="3650411"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3650419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3650426">}</span><br>
<span class="lineno"></span><span class="op" id="3650428">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="comment" id="3650431">//&nbsp;literal&nbsp;consumes&nbsp;a&nbsp;literal&nbsp;from&nbsp;d.data[d.off-1:],&nbsp;decoding&nbsp;into&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="3650511">//&nbsp;The&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;literal&nbsp;has&nbsp;been&nbsp;read&nbsp;already</span><br>
<span class="lineno"></span><span class="comment" id="3650566">//&nbsp;(that&#39;s&nbsp;how&nbsp;the&nbsp;caller&nbsp;knows&nbsp;it&#39;s&nbsp;a&nbsp;literal).</span><br>
<span class="lineno"></span><span class="keyword" id="3650615">func</span>&nbsp;<span class="op" id="3650620">(</span><span class="ident" id="3650621">d</span>&nbsp;<span class="op" id="3650623">*</span><span class="ident" id="3650624"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3650635">)</span>&nbsp;<span class="ident" id="3650637">literal</span><span class="op" id="3650644">(</span><span class="ident" id="3650645">v</span>&nbsp;<span class="ident" id="3650647"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3650654">.</span><span class="ident" id="3650655">Value</span><span class="op" id="3650660">)</span>&nbsp;<span class="op" id="3650662">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650665">//&nbsp;All&nbsp;bytes&nbsp;inside&nbsp;literal&nbsp;return&nbsp;scanContinue&nbsp;op&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650723">start</span>&nbsp;<span class="op" id="3650729">:=</span>&nbsp;<span class="ident" id="3650732"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650733">.</span><span class="ident" id="3650734">off</span>&nbsp;<span class="op" id="3650738">-</span>&nbsp;<span class="num" id="3650740">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650743">op</span>&nbsp;<span class="op" id="3650746">:=</span>&nbsp;<span class="ident" id="3650749"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650750">.</span><span class="ident" id="3650751">scanWhile</span><span class="op" id="3650760">(</span><span class="ident" id="3650761"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><span class="op" id="3650773">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3650777">//&nbsp;Scan&nbsp;read&nbsp;one&nbsp;byte&nbsp;too&nbsp;far;&nbsp;back&nbsp;up.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650818"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650819">.</span><span class="ident" id="3650820">off</span><span class="op" id="3650823">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650827"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650828">.</span><span class="ident" id="3650829">scan</span><span class="op" id="3650833">.</span><span class="ident" id="3650834">undo</span><span class="op" id="3650838">(</span><span class="ident" id="3650839"><a href="/encoding/json/decode.go.html#3650743">op</a></span><span class="op" id="3650841">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3650845"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650846">.</span><span class="ident" id="3650847">literalStore</span><span class="op" id="3650859">(</span><span class="ident" id="3650860"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650861">.</span><span class="ident" id="3650862">data</span><span class="op" id="3650866">[</span><span class="ident" id="3650867"><a href="/encoding/json/decode.go.html#3650723">start</a></span><span class="op" id="3650872">:</span><span class="ident" id="3650873"><a href="/encoding/json/decode.go.html#3650621">d</a></span><span class="op" id="3650874">.</span><span class="ident" id="3650875">off</span><span class="op" id="3650878">]</span><span class="op" id="3650879">,</span>&nbsp;<span class="ident" id="3650881"><a href="/encoding/json/decode.go.html#3650645">v</a></span><span class="op" id="3650882">,</span>&nbsp;<span class="ident" id="3650884">false</span><span class="op" id="3650889">)</span><br>
<span class="lineno"></span><span class="op" id="3650891">}</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span><span class="comment" id="3650894">//&nbsp;convertNumber&nbsp;converts&nbsp;the&nbsp;number&nbsp;literal&nbsp;s&nbsp;to&nbsp;a&nbsp;float64&nbsp;or&nbsp;a&nbsp;Number</span><br>
<span class="lineno"></span><span class="comment" id="3650966">//&nbsp;depending&nbsp;on&nbsp;the&nbsp;setting&nbsp;of&nbsp;d.useNumber.</span><br>
<span class="lineno"></span><span class="keyword" id="3651010">func</span>&nbsp;<span class="op" id="3651015">(</span><span class="ident" id="3651016">d</span>&nbsp;<span class="op" id="3651018">*</span><span class="ident" id="3651019"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3651030">)</span>&nbsp;<span class="ident" id="3651032">convertNumber</span><span class="op" id="3651045">(</span><span class="ident" id="3651046">s</span>&nbsp;<span class="builtintype" id="3651048">string</span><span class="op" id="3651054">)</span>&nbsp;<span class="op" id="3651056">(</span><span class="keyword" id="3651057">interface</span><span class="op" id="3651066">{</span><span class="op" id="3651067">}</span><span class="op" id="3651068">,</span>&nbsp;<span class="builtintype" id="3651070">error</span><span class="op" id="3651075">)</span>&nbsp;<span class="op" id="3651077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651080">if</span>&nbsp;<span class="ident" id="3651083"><a href="/encoding/json/decode.go.html#3651016">d</a></span><span class="op" id="3651084">.</span><span class="ident" id="3651085">useNumber</span>&nbsp;<span class="op" id="3651095">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651099">return</span>&nbsp;<span class="ident" id="3651106"><a href="/encoding/json/decode.go.html#3639475">Number</a></span><span class="op" id="3651112">(</span><span class="ident" id="3651113"><a href="/encoding/json/decode.go.html#3651046">s</a></span><span class="op" id="3651114">)</span><span class="op" id="3651115">,</span>&nbsp;<span class="ident" id="3651117">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651125">f</span><span class="op" id="3651126">,</span>&nbsp;<span class="ident" id="3651128">err</span>&nbsp;<span class="op" id="3651132">:=</span>&nbsp;<span class="ident" id="3651135"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3651142">.</span><span class="ident" id="3651143">ParseFloat</span><span class="op" id="3651153">(</span><span class="ident" id="3651154"><a href="/encoding/json/decode.go.html#3651046">s</a></span><span class="op" id="3651155">,</span>&nbsp;<span class="num" id="3651157">64</span><span class="op" id="3651159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651162">if</span>&nbsp;<span class="ident" id="3651165"><a href="/encoding/json/decode.go.html#3651128">err</a></span>&nbsp;<span class="op" id="3651169">!=</span>&nbsp;<span class="ident" id="3651172">nil</span>&nbsp;<span class="op" id="3651176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651180">return</span>&nbsp;<span class="ident" id="3651187">nil</span><span class="op" id="3651190">,</span>&nbsp;<span class="op" id="3651192">&amp;</span><span class="ident" id="3651193"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3651211">{</span><span class="string" id="3651212">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="3651222">+</span>&nbsp;<span class="ident" id="3651224"><a href="/encoding/json/decode.go.html#3651046">s</a></span><span class="op" id="3651225">,</span>&nbsp;<span class="ident" id="3651227"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3651234">.</span><span class="ident" id="3651235">TypeOf</span><span class="op" id="3651241">(</span><span class="num" id="3651242">0.0</span><span class="op" id="3651245">)</span><span class="op" id="3651246">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651252">return</span>&nbsp;<span class="ident" id="3651259"><a href="/encoding/json/decode.go.html#3651125">f</a></span><span class="op" id="3651260">,</span>&nbsp;<span class="ident" id="3651262">nil</span><br>
<span class="lineno"></span><span class="op" id="3651266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3651269">var</span>&nbsp;<span class="ident" id="3651273">numberType</span>&nbsp;<span class="op" id="3651284">=</span>&nbsp;<span class="ident" id="3651286"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3651293">.</span><span class="ident" id="3651294">TypeOf</span><span class="op" id="3651300">(</span><span class="ident" id="3651301"><a href="/encoding/json/decode.go.html#3639475">Number</a></span><span class="op" id="3651307">(</span><span class="string" id="3651308">&#34;&#34;</span><span class="op" id="3651310">)</span><span class="op" id="3651311">)</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="comment" id="3651314">//&nbsp;literalStore&nbsp;decodes&nbsp;a&nbsp;literal&nbsp;stored&nbsp;in&nbsp;item&nbsp;into&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="3651371">//</span><br>
<span class="lineno"></span><span class="comment" id="3651374">//&nbsp;fromQuoted&nbsp;indicates&nbsp;whether&nbsp;this&nbsp;literal&nbsp;came&nbsp;from&nbsp;unwrapping&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3651442">//&nbsp;string&nbsp;from&nbsp;the&nbsp;&#34;,string&#34;&nbsp;struct&nbsp;tag&nbsp;option.&nbsp;this&nbsp;is&nbsp;used&nbsp;only&nbsp;to</span><br>
<span class="lineno">660</span><span class="comment" id="3651511">//&nbsp;produce&nbsp;more&nbsp;helpful&nbsp;error&nbsp;messages.</span><br>
<span class="lineno"></span><span class="keyword" id="3651551">func</span>&nbsp;<span class="op" id="3651556">(</span><span class="ident" id="3651557">d</span>&nbsp;<span class="op" id="3651559">*</span><span class="ident" id="3651560"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3651571">)</span>&nbsp;<span class="ident" id="3651573">literalStore</span><span class="op" id="3651585">(</span><span class="ident" id="3651586">item</span>&nbsp;<span class="op" id="3651591">[</span><span class="op" id="3651592">]</span><span class="builtintype" id="3651593">byte</span><span class="op" id="3651597">,</span>&nbsp;<span class="ident" id="3651599">v</span>&nbsp;<span class="ident" id="3651601"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3651608">.</span><span class="ident" id="3651609">Value</span><span class="op" id="3651614">,</span>&nbsp;<span class="ident" id="3651616">fromQuoted</span>&nbsp;<span class="builtintype" id="3651627">bool</span><span class="op" id="3651631">)</span>&nbsp;<span class="op" id="3651633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3651636">//&nbsp;Check&nbsp;for&nbsp;unmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651663">if</span>&nbsp;<span class="builtinfunc" id="3651666">len</span><span class="op" id="3651669">(</span><span class="ident" id="3651670"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3651674">)</span>&nbsp;<span class="op" id="3651676">==</span>&nbsp;<span class="num" id="3651679">0</span>&nbsp;<span class="op" id="3651681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3651685">//Empty&nbsp;string&nbsp;given</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651708"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3651709">.</span><span class="ident" id="3651710">saveError</span><span class="op" id="3651719">(</span><span class="ident" id="3651720"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3651723">.</span><span class="ident" id="3651724">Errorf</span><span class="op" id="3651730">(</span><span class="string" id="3651731">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3651804">,</span>&nbsp;<span class="ident" id="3651806"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3651810">,</span>&nbsp;<span class="ident" id="3651812"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3651813">.</span><span class="ident" id="3651814">Type</span><span class="op" id="3651818">(</span><span class="op" id="3651819">)</span><span class="op" id="3651820">)</span><span class="op" id="3651821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651825">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651836">wantptr</span>&nbsp;<span class="op" id="3651844">:=</span>&nbsp;<span class="ident" id="3651847"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3651851">[</span><span class="num" id="3651852">0</span><span class="op" id="3651853">]</span>&nbsp;<span class="op" id="3651855">==</span>&nbsp;<span class="string" id="3651858">&#39;n&#39;</span>&nbsp;<span class="comment" id="3651862">//&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651871">u</span><span class="op" id="3651872">,</span>&nbsp;<span class="ident" id="3651874">ut</span><span class="op" id="3651876">,</span>&nbsp;<span class="ident" id="3651878">pv</span>&nbsp;<span class="op" id="3651881">:=</span>&nbsp;<span class="ident" id="3651884"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3651885">.</span><span class="ident" id="3651886">indirect</span><span class="op" id="3651894">(</span><span class="ident" id="3651895"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3651896">,</span>&nbsp;<span class="ident" id="3651898"><a href="/encoding/json/decode.go.html#3651836">wantptr</a></span><span class="op" id="3651905">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651908">if</span>&nbsp;<span class="ident" id="3651911"><a href="/encoding/json/decode.go.html#3651871">u</a></span>&nbsp;<span class="op" id="3651913">!=</span>&nbsp;<span class="ident" id="3651916">nil</span>&nbsp;<span class="op" id="3651920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651924">err</span>&nbsp;<span class="op" id="3651928">:=</span>&nbsp;<span class="ident" id="3651931"><a href="/encoding/json/decode.go.html#3651871">u</a></span><span class="op" id="3651932">.</span><span class="ident" id="3651933">UnmarshalJSON</span><span class="op" id="3651946">(</span><span class="ident" id="3651947"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3651951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651955">if</span>&nbsp;<span class="ident" id="3651958"><a href="/encoding/json/decode.go.html#3651924">err</a></span>&nbsp;<span class="op" id="3651962">!=</span>&nbsp;<span class="ident" id="3651965">nil</span>&nbsp;<span class="op" id="3651969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3651974"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3651975">.</span><span class="builtintype" id="3651976">error</span><span class="op" id="3651981">(</span><span class="ident" id="3651982"><a href="/encoding/json/decode.go.html#3651924">err</a></span><span class="op" id="3651985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3651989">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3651993">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652004">if</span>&nbsp;<span class="ident" id="3652007"><a href="/encoding/json/decode.go.html#3651874">ut</a></span>&nbsp;<span class="op" id="3652010">!=</span>&nbsp;<span class="ident" id="3652013">nil</span>&nbsp;<span class="op" id="3652017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652021">if</span>&nbsp;<span class="ident" id="3652024"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3652028">[</span><span class="num" id="3652029">0</span><span class="op" id="3652030">]</span>&nbsp;<span class="op" id="3652032">!=</span>&nbsp;<span class="string" id="3652035">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3652039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652044">if</span>&nbsp;<span class="ident" id="3652047"><a href="/encoding/json/decode.go.html#3651616">fromQuoted</a></span>&nbsp;<span class="op" id="3652058">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652064"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3652065">.</span><span class="ident" id="3652066">saveError</span><span class="op" id="3652075">(</span><span class="ident" id="3652076"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3652079">.</span><span class="ident" id="3652080">Errorf</span><span class="op" id="3652086">(</span><span class="string" id="3652087">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3652160">,</span>&nbsp;<span class="ident" id="3652162"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3652166">,</span>&nbsp;<span class="ident" id="3652168"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652169">.</span><span class="ident" id="3652170">Type</span><span class="op" id="3652174">(</span><span class="op" id="3652175">)</span><span class="op" id="3652176">)</span><span class="op" id="3652177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652182">}</span>&nbsp;<span class="keyword" id="3652184">else</span>&nbsp;<span class="op" id="3652189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652195"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3652196">.</span><span class="ident" id="3652197">saveError</span><span class="op" id="3652206">(</span><span class="op" id="3652207">&amp;</span><span class="ident" id="3652208"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3652226">{</span><span class="string" id="3652227">&#34;string&#34;</span><span class="op" id="3652235">,</span>&nbsp;<span class="ident" id="3652237"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652238">.</span><span class="ident" id="3652239">Type</span><span class="op" id="3652243">(</span><span class="op" id="3652244">)</span><span class="op" id="3652245">}</span><span class="op" id="3652246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652255">}</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652259">s</span><span class="op" id="3652260">,</span>&nbsp;<span class="ident" id="3652262">ok</span>&nbsp;<span class="op" id="3652265">:=</span>&nbsp;<span class="ident" id="3652268"><a href="/encoding/json/decode.go.html#3659085">unquoteBytes</a></span><span class="op" id="3652280">(</span><span class="ident" id="3652281"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3652285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652289">if</span>&nbsp;<span class="op" id="3652292">!</span><span class="ident" id="3652293"><a href="/encoding/json/decode.go.html#3652262">ok</a></span>&nbsp;<span class="op" id="3652296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652301">if</span>&nbsp;<span class="ident" id="3652304"><a href="/encoding/json/decode.go.html#3651616">fromQuoted</a></span>&nbsp;<span class="op" id="3652315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652321"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3652322">.</span><span class="builtintype" id="3652323">error</span><span class="op" id="3652328">(</span><span class="ident" id="3652329"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3652332">.</span><span class="ident" id="3652333">Errorf</span><span class="op" id="3652339">(</span><span class="string" id="3652340">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3652413">,</span>&nbsp;<span class="ident" id="3652415"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3652419">,</span>&nbsp;<span class="ident" id="3652421"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652422">.</span><span class="ident" id="3652423">Type</span><span class="op" id="3652427">(</span><span class="op" id="3652428">)</span><span class="op" id="3652429">)</span><span class="op" id="3652430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652435">}</span>&nbsp;<span class="keyword" id="3652437">else</span>&nbsp;<span class="op" id="3652442">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652448"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3652449">.</span><span class="builtintype" id="3652450">error</span><span class="op" id="3652455">(</span><span class="ident" id="3652456"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3652464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652477">err</span>&nbsp;<span class="op" id="3652481">:=</span>&nbsp;<span class="ident" id="3652484"><a href="/encoding/json/decode.go.html#3651874">ut</a></span><span class="op" id="3652486">.</span><span class="ident" id="3652487">UnmarshalText</span><span class="op" id="3652500">(</span><span class="ident" id="3652501"><a href="/encoding/json/decode.go.html#3652259">s</a></span><span class="op" id="3652502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652506">if</span>&nbsp;<span class="ident" id="3652509"><a href="/encoding/json/decode.go.html#3652477">err</a></span>&nbsp;<span class="op" id="3652513">!=</span>&nbsp;<span class="ident" id="3652516">nil</span>&nbsp;<span class="op" id="3652520">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652525"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3652526">.</span><span class="builtintype" id="3652527">error</span><span class="op" id="3652532">(</span><span class="ident" id="3652533"><a href="/encoding/json/decode.go.html#3652477">err</a></span><span class="op" id="3652536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652544">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652556"><a href="/encoding/json/decode.go.html#3651599">v</a></span>&nbsp;<span class="op" id="3652558">=</span>&nbsp;<span class="ident" id="3652560"><a href="/encoding/json/decode.go.html#3651878">pv</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652565">switch</span>&nbsp;<span class="ident" id="3652572">c</span>&nbsp;<span class="op" id="3652574">:=</span>&nbsp;<span class="ident" id="3652577"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3652581">[</span><span class="num" id="3652582">0</span><span class="op" id="3652583">]</span><span class="op" id="3652584">;</span>&nbsp;<span class="ident" id="3652586"><a href="/encoding/json/decode.go.html#3652572">c</a></span>&nbsp;<span class="op" id="3652588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652591">case</span>&nbsp;<span class="string" id="3652596">&#39;n&#39;</span><span class="op" id="3652599">:</span>&nbsp;<span class="comment" id="3652601">//&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652611">switch</span>&nbsp;<span class="ident" id="3652618"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652619">.</span><span class="ident" id="3652620">Kind</span><span class="op" id="3652624">(</span><span class="op" id="3652625">)</span>&nbsp;<span class="op" id="3652627">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652631">case</span>&nbsp;<span class="ident" id="3652636"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3652643">.</span><span class="ident" id="3652644">Interface</span><span class="op" id="3652653">,</span>&nbsp;<span class="ident" id="3652655"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3652662">.</span><span class="ident" id="3652663">Ptr</span><span class="op" id="3652666">,</span>&nbsp;<span class="ident" id="3652668"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3652675">.</span><span class="ident" id="3652676">Map</span><span class="op" id="3652679">,</span>&nbsp;<span class="ident" id="3652681"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3652688">.</span><span class="ident" id="3652689">Slice</span><span class="op" id="3652694">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652699"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652700">.</span><span class="ident" id="3652701">Set</span><span class="op" id="3652704">(</span><span class="ident" id="3652705"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3652712">.</span><span class="ident" id="3652713">Zero</span><span class="op" id="3652717">(</span><span class="ident" id="3652718"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652719">.</span><span class="ident" id="3652720">Type</span><span class="op" id="3652724">(</span><span class="op" id="3652725">)</span><span class="op" id="3652726">)</span><span class="op" id="3652727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3652732">//&nbsp;otherwise,&nbsp;ignore&nbsp;null&nbsp;for&nbsp;primitives/string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3652782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652785">case</span>&nbsp;<span class="string" id="3652790">&#39;t&#39;</span><span class="op" id="3652793">,</span>&nbsp;<span class="string" id="3652795">&#39;f&#39;</span><span class="op" id="3652798">:</span>&nbsp;<span class="comment" id="3652800">//&nbsp;true,&nbsp;false</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652817">value</span>&nbsp;<span class="op" id="3652823">:=</span>&nbsp;<span class="ident" id="3652826"><a href="/encoding/json/decode.go.html#3652572">c</a></span>&nbsp;<span class="op" id="3652828">==</span>&nbsp;<span class="string" id="3652831">&#39;t&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652837">switch</span>&nbsp;<span class="ident" id="3652844"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652845">.</span><span class="ident" id="3652846">Kind</span><span class="op" id="3652850">(</span><span class="op" id="3652851">)</span>&nbsp;<span class="op" id="3652853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652857">default</span><span class="op" id="3652864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3652869">if</span>&nbsp;<span class="ident" id="3652872"><a href="/encoding/json/decode.go.html#3651616">fromQuoted</a></span>&nbsp;<span class="op" id="3652883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3652889"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3652890">.</span><span class="ident" id="3652891">saveError</span><span class="op" id="3652900">(</span><span class="ident" id="3652901"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3652904">.</span><span class="ident" id="3652905">Errorf</span><span class="op" id="3652911">(</span><span class="string" id="3652912">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3652985">,</span>&nbsp;<span class="ident" id="3652987"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3652991">,</span>&nbsp;<span class="ident" id="3652993"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3652994">.</span><span class="ident" id="3652995">Type</span><span class="op" id="3652999">(</span><span class="op" id="3653000">)</span><span class="op" id="3653001">)</span><span class="op" id="3653002">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653007">}</span>&nbsp;<span class="keyword" id="3653009">else</span>&nbsp;<span class="op" id="3653014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653020"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653021">.</span><span class="ident" id="3653022">saveError</span><span class="op" id="3653031">(</span><span class="op" id="3653032">&amp;</span><span class="ident" id="3653033"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3653051">{</span><span class="string" id="3653052">&#34;bool&#34;</span><span class="op" id="3653058">,</span>&nbsp;<span class="ident" id="3653060"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653061">.</span><span class="ident" id="3653062">Type</span><span class="op" id="3653066">(</span><span class="op" id="3653067">)</span><span class="op" id="3653068">}</span><span class="op" id="3653069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653078">case</span>&nbsp;<span class="ident" id="3653083"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653090">.</span><span class="ident" id="3653091">Bool</span><span class="op" id="3653095">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653100"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653101">.</span><span class="ident" id="3653102">SetBool</span><span class="op" id="3653109">(</span><span class="ident" id="3653110"><a href="/encoding/json/decode.go.html#3652817">value</a></span><span class="op" id="3653115">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653119">case</span>&nbsp;<span class="ident" id="3653124"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653131">.</span><span class="ident" id="3653132">Interface</span><span class="op" id="3653141">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653146">if</span>&nbsp;<span class="ident" id="3653149"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653150">.</span><span class="ident" id="3653151">NumMethod</span><span class="op" id="3653160">(</span><span class="op" id="3653161">)</span>&nbsp;<span class="op" id="3653163">==</span>&nbsp;<span class="num" id="3653166">0</span>&nbsp;<span class="op" id="3653168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653174"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653175">.</span><span class="ident" id="3653176">Set</span><span class="op" id="3653179">(</span><span class="ident" id="3653180"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653187">.</span><span class="ident" id="3653188">ValueOf</span><span class="op" id="3653195">(</span><span class="ident" id="3653196"><a href="/encoding/json/decode.go.html#3652817">value</a></span><span class="op" id="3653201">)</span><span class="op" id="3653202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653207">}</span>&nbsp;<span class="keyword" id="3653209">else</span>&nbsp;<span class="op" id="3653214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653220"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653221">.</span><span class="ident" id="3653222">saveError</span><span class="op" id="3653231">(</span><span class="op" id="3653232">&amp;</span><span class="ident" id="3653233"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3653251">{</span><span class="string" id="3653252">&#34;bool&#34;</span><span class="op" id="3653258">,</span>&nbsp;<span class="ident" id="3653260"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653261">.</span><span class="ident" id="3653262">Type</span><span class="op" id="3653266">(</span><span class="op" id="3653267">)</span><span class="op" id="3653268">}</span><span class="op" id="3653269">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653282">case</span>&nbsp;<span class="string" id="3653287">&#39;&#34;&#39;</span><span class="op" id="3653290">:</span>&nbsp;<span class="comment" id="3653292">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653304">s</span><span class="op" id="3653305">,</span>&nbsp;<span class="ident" id="3653307">ok</span>&nbsp;<span class="op" id="3653310">:=</span>&nbsp;<span class="ident" id="3653313"><a href="/encoding/json/decode.go.html#3659085">unquoteBytes</a></span><span class="op" id="3653325">(</span><span class="ident" id="3653326"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3653330">)</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653334">if</span>&nbsp;<span class="op" id="3653337">!</span><span class="ident" id="3653338"><a href="/encoding/json/decode.go.html#3653307">ok</a></span>&nbsp;<span class="op" id="3653341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653346">if</span>&nbsp;<span class="ident" id="3653349"><a href="/encoding/json/decode.go.html#3651616">fromQuoted</a></span>&nbsp;<span class="op" id="3653360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653366"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653367">.</span><span class="builtintype" id="3653368">error</span><span class="op" id="3653373">(</span><span class="ident" id="3653374"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3653377">.</span><span class="ident" id="3653378">Errorf</span><span class="op" id="3653384">(</span><span class="string" id="3653385">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3653458">,</span>&nbsp;<span class="ident" id="3653460"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3653464">,</span>&nbsp;<span class="ident" id="3653466"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653467">.</span><span class="ident" id="3653468">Type</span><span class="op" id="3653472">(</span><span class="op" id="3653473">)</span><span class="op" id="3653474">)</span><span class="op" id="3653475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653480">}</span>&nbsp;<span class="keyword" id="3653482">else</span>&nbsp;<span class="op" id="3653487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653493"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653494">.</span><span class="builtintype" id="3653495">error</span><span class="op" id="3653500">(</span><span class="ident" id="3653501"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3653509">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653522">switch</span>&nbsp;<span class="ident" id="3653529"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653530">.</span><span class="ident" id="3653531">Kind</span><span class="op" id="3653535">(</span><span class="op" id="3653536">)</span>&nbsp;<span class="op" id="3653538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653542">default</span><span class="op" id="3653549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653554"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653555">.</span><span class="ident" id="3653556">saveError</span><span class="op" id="3653565">(</span><span class="op" id="3653566">&amp;</span><span class="ident" id="3653567"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3653585">{</span><span class="string" id="3653586">&#34;string&#34;</span><span class="op" id="3653594">,</span>&nbsp;<span class="ident" id="3653596"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653597">.</span><span class="ident" id="3653598">Type</span><span class="op" id="3653602">(</span><span class="op" id="3653603">)</span><span class="op" id="3653604">}</span><span class="op" id="3653605">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653609">case</span>&nbsp;<span class="ident" id="3653614"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653621">.</span><span class="ident" id="3653622">Slice</span><span class="op" id="3653627">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653632">if</span>&nbsp;<span class="ident" id="3653635"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653636">.</span><span class="ident" id="3653637">Type</span><span class="op" id="3653641">(</span><span class="op" id="3653642">)</span>&nbsp;<span class="op" id="3653644">!=</span>&nbsp;<span class="ident" id="3653647"><a href="/encoding/json/encode.go.html#3670190">byteSliceType</a></span>&nbsp;<span class="op" id="3653661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653667"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653668">.</span><span class="ident" id="3653669">saveError</span><span class="op" id="3653678">(</span><span class="op" id="3653679">&amp;</span><span class="ident" id="3653680"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3653698">{</span><span class="string" id="3653699">&#34;string&#34;</span><span class="op" id="3653707">,</span>&nbsp;<span class="ident" id="3653709"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653710">.</span><span class="ident" id="3653711">Type</span><span class="op" id="3653715">(</span><span class="op" id="3653716">)</span><span class="op" id="3653717">}</span><span class="op" id="3653718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653724">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653733">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653738">b</span>&nbsp;<span class="op" id="3653740">:=</span>&nbsp;<span class="builtinfunc" id="3653743">make</span><span class="op" id="3653747">(</span><span class="op" id="3653748">[</span><span class="op" id="3653749">]</span><span class="builtintype" id="3653750">byte</span><span class="op" id="3653754">,</span>&nbsp;<span class="ident" id="3653756"><a href="/encoding/json/decode.go.html#3634917">base64</a></span><span class="op" id="3653762">.</span><span class="ident" id="3653763">StdEncoding</span><span class="op" id="3653774">.</span><span class="ident" id="3653775">DecodedLen</span><span class="op" id="3653785">(</span><span class="builtinfunc" id="3653786">len</span><span class="op" id="3653789">(</span><span class="ident" id="3653790"><a href="/encoding/json/decode.go.html#3653304">s</a></span><span class="op" id="3653791">)</span><span class="op" id="3653792">)</span><span class="op" id="3653793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653798">n</span><span class="op" id="3653799">,</span>&nbsp;<span class="ident" id="3653801">err</span>&nbsp;<span class="op" id="3653805">:=</span>&nbsp;<span class="ident" id="3653808"><a href="/encoding/json/decode.go.html#3634917">base64</a></span><span class="op" id="3653814">.</span><span class="ident" id="3653815">StdEncoding</span><span class="op" id="3653826">.</span><span class="ident" id="3653827">Decode</span><span class="op" id="3653833">(</span><span class="ident" id="3653834"><a href="/encoding/json/decode.go.html#3653738">b</a></span><span class="op" id="3653835">,</span>&nbsp;<span class="ident" id="3653837"><a href="/encoding/json/decode.go.html#3653304">s</a></span><span class="op" id="3653838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653843">if</span>&nbsp;<span class="ident" id="3653846"><a href="/encoding/json/decode.go.html#3653801">err</a></span>&nbsp;<span class="op" id="3653850">!=</span>&nbsp;<span class="ident" id="3653853">nil</span>&nbsp;<span class="op" id="3653857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653863"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3653864">.</span><span class="ident" id="3653865">saveError</span><span class="op" id="3653874">(</span><span class="ident" id="3653875"><a href="/encoding/json/decode.go.html#3653801">err</a></span><span class="op" id="3653878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653884">break</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3653893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653898"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653899">.</span><span class="ident" id="3653900">Set</span><span class="op" id="3653903">(</span><span class="ident" id="3653904"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653911">.</span><span class="ident" id="3653912">ValueOf</span><span class="op" id="3653919">(</span><span class="ident" id="3653920"><a href="/encoding/json/decode.go.html#3653738">b</a></span><span class="op" id="3653921">[</span><span class="num" id="3653922">0</span><span class="op" id="3653923">:</span><span class="ident" id="3653924"><a href="/encoding/json/decode.go.html#3653798">n</a></span><span class="op" id="3653925">]</span><span class="op" id="3653926">)</span><span class="op" id="3653927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653931">case</span>&nbsp;<span class="ident" id="3653936"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653943">.</span><span class="ident" id="3653944">String</span><span class="op" id="3653950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3653955"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3653956">.</span><span class="ident" id="3653957">SetString</span><span class="op" id="3653966">(</span><span class="builtintype" id="3653967">string</span><span class="op" id="3653973">(</span><span class="ident" id="3653974"><a href="/encoding/json/decode.go.html#3653304">s</a></span><span class="op" id="3653975">)</span><span class="op" id="3653976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3653980">case</span>&nbsp;<span class="ident" id="3653985"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3653992">.</span><span class="ident" id="3653993">Interface</span><span class="op" id="3654002">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654007">if</span>&nbsp;<span class="ident" id="3654010"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654011">.</span><span class="ident" id="3654012">NumMethod</span><span class="op" id="3654021">(</span><span class="op" id="3654022">)</span>&nbsp;<span class="op" id="3654024">==</span>&nbsp;<span class="num" id="3654027">0</span>&nbsp;<span class="op" id="3654029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654035"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654036">.</span><span class="ident" id="3654037">Set</span><span class="op" id="3654040">(</span><span class="ident" id="3654041"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3654048">.</span><span class="ident" id="3654049">ValueOf</span><span class="op" id="3654056">(</span><span class="builtintype" id="3654057">string</span><span class="op" id="3654063">(</span><span class="ident" id="3654064"><a href="/encoding/json/decode.go.html#3653304">s</a></span><span class="op" id="3654065">)</span><span class="op" id="3654066">)</span><span class="op" id="3654067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654072">}</span>&nbsp;<span class="keyword" id="3654074">else</span>&nbsp;<span class="op" id="3654079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654085"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654086">.</span><span class="ident" id="3654087">saveError</span><span class="op" id="3654096">(</span><span class="op" id="3654097">&amp;</span><span class="ident" id="3654098"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3654116">{</span><span class="string" id="3654117">&#34;string&#34;</span><span class="op" id="3654125">,</span>&nbsp;<span class="ident" id="3654127"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654128">.</span><span class="ident" id="3654129">Type</span><span class="op" id="3654133">(</span><span class="op" id="3654134">)</span><span class="op" id="3654135">}</span><span class="op" id="3654136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654141">}</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654149">default</span><span class="op" id="3654156">:</span>&nbsp;<span class="comment" id="3654158">//&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654170">if</span>&nbsp;<span class="ident" id="3654173"><a href="/encoding/json/decode.go.html#3652572">c</a></span>&nbsp;<span class="op" id="3654175">!=</span>&nbsp;<span class="string" id="3654178">&#39;-&#39;</span>&nbsp;<span class="op" id="3654182">&amp;&amp;</span>&nbsp;<span class="op" id="3654185">(</span><span class="ident" id="3654186"><a href="/encoding/json/decode.go.html#3652572">c</a></span>&nbsp;<span class="op" id="3654188">&lt;</span>&nbsp;<span class="string" id="3654190">&#39;0&#39;</span>&nbsp;<span class="op" id="3654194">||</span>&nbsp;<span class="ident" id="3654197"><a href="/encoding/json/decode.go.html#3652572">c</a></span>&nbsp;<span class="op" id="3654199">&gt;</span>&nbsp;<span class="string" id="3654201">&#39;9&#39;</span><span class="op" id="3654204">)</span>&nbsp;<span class="op" id="3654206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654211">if</span>&nbsp;<span class="ident" id="3654214"><a href="/encoding/json/decode.go.html#3651616">fromQuoted</a></span>&nbsp;<span class="op" id="3654225">{</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654231"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654232">.</span><span class="builtintype" id="3654233">error</span><span class="op" id="3654238">(</span><span class="ident" id="3654239"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3654242">.</span><span class="ident" id="3654243">Errorf</span><span class="op" id="3654249">(</span><span class="string" id="3654250">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3654323">,</span>&nbsp;<span class="ident" id="3654325"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3654329">,</span>&nbsp;<span class="ident" id="3654331"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654332">.</span><span class="ident" id="3654333">Type</span><span class="op" id="3654337">(</span><span class="op" id="3654338">)</span><span class="op" id="3654339">)</span><span class="op" id="3654340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654345">}</span>&nbsp;<span class="keyword" id="3654347">else</span>&nbsp;<span class="op" id="3654352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654358"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654359">.</span><span class="builtintype" id="3654360">error</span><span class="op" id="3654365">(</span><span class="ident" id="3654366"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3654374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654383">}</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654387">s</span>&nbsp;<span class="op" id="3654389">:=</span>&nbsp;<span class="builtintype" id="3654392">string</span><span class="op" id="3654398">(</span><span class="ident" id="3654399"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3654403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654407">switch</span>&nbsp;<span class="ident" id="3654414"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654415">.</span><span class="ident" id="3654416">Kind</span><span class="op" id="3654420">(</span><span class="op" id="3654421">)</span>&nbsp;<span class="op" id="3654423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654427">default</span><span class="op" id="3654434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654439">if</span>&nbsp;<span class="ident" id="3654442"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654443">.</span><span class="ident" id="3654444">Kind</span><span class="op" id="3654448">(</span><span class="op" id="3654449">)</span>&nbsp;<span class="op" id="3654451">==</span>&nbsp;<span class="ident" id="3654454"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3654461">.</span><span class="ident" id="3654462">String</span>&nbsp;<span class="op" id="3654469">&amp;&amp;</span>&nbsp;<span class="ident" id="3654472"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654473">.</span><span class="ident" id="3654474">Type</span><span class="op" id="3654478">(</span><span class="op" id="3654479">)</span>&nbsp;<span class="op" id="3654481">==</span>&nbsp;<span class="ident" id="3654484"><a href="/encoding/json/decode.go.html#3651273">numberType</a></span>&nbsp;<span class="op" id="3654495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654501"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654502">.</span><span class="ident" id="3654503">SetString</span><span class="op" id="3654512">(</span><span class="ident" id="3654513"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3654514">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654520">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654534">if</span>&nbsp;<span class="ident" id="3654537"><a href="/encoding/json/decode.go.html#3651616">fromQuoted</a></span>&nbsp;<span class="op" id="3654548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654554"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654555">.</span><span class="builtintype" id="3654556">error</span><span class="op" id="3654561">(</span><span class="ident" id="3654562"><a href="/encoding/json/decode.go.html#3634946">fmt</a></span><span class="op" id="3654565">.</span><span class="ident" id="3654566">Errorf</span><span class="op" id="3654572">(</span><span class="string" id="3654573">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="3654646">,</span>&nbsp;<span class="ident" id="3654648"><a href="/encoding/json/decode.go.html#3651586">item</a></span><span class="op" id="3654652">,</span>&nbsp;<span class="ident" id="3654654"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654655">.</span><span class="ident" id="3654656">Type</span><span class="op" id="3654660">(</span><span class="op" id="3654661">)</span><span class="op" id="3654662">)</span><span class="op" id="3654663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654668">}</span>&nbsp;<span class="keyword" id="3654670">else</span>&nbsp;<span class="op" id="3654675">{</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654681"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654682">.</span><span class="builtintype" id="3654683">error</span><span class="op" id="3654688">(</span><span class="op" id="3654689">&amp;</span><span class="ident" id="3654690"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3654708">{</span><span class="string" id="3654709">&#34;number&#34;</span><span class="op" id="3654717">,</span>&nbsp;<span class="ident" id="3654719"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654720">.</span><span class="ident" id="3654721">Type</span><span class="op" id="3654725">(</span><span class="op" id="3654726">)</span><span class="op" id="3654727">}</span><span class="op" id="3654728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654737">case</span>&nbsp;<span class="ident" id="3654742"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3654749">.</span><span class="ident" id="3654750">Interface</span><span class="op" id="3654759">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654764">n</span><span class="op" id="3654765">,</span>&nbsp;<span class="ident" id="3654767">err</span>&nbsp;<span class="op" id="3654771">:=</span>&nbsp;<span class="ident" id="3654774"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654775">.</span><span class="ident" id="3654776">convertNumber</span><span class="op" id="3654789">(</span><span class="ident" id="3654790"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3654791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654796">if</span>&nbsp;<span class="ident" id="3654799"><a href="/encoding/json/decode.go.html#3654767">err</a></span>&nbsp;<span class="op" id="3654803">!=</span>&nbsp;<span class="ident" id="3654806">nil</span>&nbsp;<span class="op" id="3654810">{</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654816"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654817">.</span><span class="ident" id="3654818">saveError</span><span class="op" id="3654827">(</span><span class="ident" id="3654828"><a href="/encoding/json/decode.go.html#3654767">err</a></span><span class="op" id="3654831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654837">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654851">if</span>&nbsp;<span class="ident" id="3654854"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654855">.</span><span class="ident" id="3654856">NumMethod</span><span class="op" id="3654865">(</span><span class="op" id="3654866">)</span>&nbsp;<span class="op" id="3654868">!=</span>&nbsp;<span class="num" id="3654871">0</span>&nbsp;<span class="op" id="3654873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654879"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3654880">.</span><span class="ident" id="3654881">saveError</span><span class="op" id="3654890">(</span><span class="op" id="3654891">&amp;</span><span class="ident" id="3654892"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3654910">{</span><span class="string" id="3654911">&#34;number&#34;</span><span class="op" id="3654919">,</span>&nbsp;<span class="ident" id="3654921"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654922">.</span><span class="ident" id="3654923">Type</span><span class="op" id="3654927">(</span><span class="op" id="3654928">)</span><span class="op" id="3654929">}</span><span class="op" id="3654930">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654936">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3654945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3654950"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3654951">.</span><span class="ident" id="3654952">Set</span><span class="op" id="3654955">(</span><span class="ident" id="3654956"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3654963">.</span><span class="ident" id="3654964">ValueOf</span><span class="op" id="3654971">(</span><span class="ident" id="3654972"><a href="/encoding/json/decode.go.html#3654764">n</a></span><span class="op" id="3654973">)</span><span class="op" id="3654974">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3654979">case</span>&nbsp;<span class="ident" id="3654984"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3654991">.</span><span class="ident" id="3654992">Int</span><span class="op" id="3654995">,</span>&nbsp;<span class="ident" id="3654997"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655004">.</span><span class="ident" id="3655005">Int8</span><span class="op" id="3655009">,</span>&nbsp;<span class="ident" id="3655011"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655018">.</span><span class="ident" id="3655019">Int16</span><span class="op" id="3655024">,</span>&nbsp;<span class="ident" id="3655026"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655033">.</span><span class="ident" id="3655034">Int32</span><span class="op" id="3655039">,</span>&nbsp;<span class="ident" id="3655041"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655048">.</span><span class="ident" id="3655049">Int64</span><span class="op" id="3655054">:</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655059">n</span><span class="op" id="3655060">,</span>&nbsp;<span class="ident" id="3655062">err</span>&nbsp;<span class="op" id="3655066">:=</span>&nbsp;<span class="ident" id="3655069"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3655076">.</span><span class="ident" id="3655077">ParseInt</span><span class="op" id="3655085">(</span><span class="ident" id="3655086"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3655087">,</span>&nbsp;<span class="num" id="3655089">10</span><span class="op" id="3655091">,</span>&nbsp;<span class="num" id="3655093">64</span><span class="op" id="3655095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655100">if</span>&nbsp;<span class="ident" id="3655103"><a href="/encoding/json/decode.go.html#3655062">err</a></span>&nbsp;<span class="op" id="3655107">!=</span>&nbsp;<span class="ident" id="3655110">nil</span>&nbsp;<span class="op" id="3655114">||</span>&nbsp;<span class="ident" id="3655117"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655118">.</span><span class="ident" id="3655119">OverflowInt</span><span class="op" id="3655130">(</span><span class="ident" id="3655131"><a href="/encoding/json/decode.go.html#3655059">n</a></span><span class="op" id="3655132">)</span>&nbsp;<span class="op" id="3655134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655140"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3655141">.</span><span class="ident" id="3655142">saveError</span><span class="op" id="3655151">(</span><span class="op" id="3655152">&amp;</span><span class="ident" id="3655153"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3655171">{</span><span class="string" id="3655172">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="3655182">+</span>&nbsp;<span class="ident" id="3655184"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3655185">,</span>&nbsp;<span class="ident" id="3655187"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655188">.</span><span class="ident" id="3655189">Type</span><span class="op" id="3655193">(</span><span class="op" id="3655194">)</span><span class="op" id="3655195">}</span><span class="op" id="3655196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655202">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655211">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655216"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655217">.</span><span class="ident" id="3655218">SetInt</span><span class="op" id="3655224">(</span><span class="ident" id="3655225"><a href="/encoding/json/decode.go.html#3655059">n</a></span><span class="op" id="3655226">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655231">case</span>&nbsp;<span class="ident" id="3655236"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655243">.</span><span class="ident" id="3655244">Uint</span><span class="op" id="3655248">,</span>&nbsp;<span class="ident" id="3655250"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655257">.</span><span class="ident" id="3655258">Uint8</span><span class="op" id="3655263">,</span>&nbsp;<span class="ident" id="3655265"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655272">.</span><span class="ident" id="3655273">Uint16</span><span class="op" id="3655279">,</span>&nbsp;<span class="ident" id="3655281"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655288">.</span><span class="ident" id="3655289">Uint32</span><span class="op" id="3655295">,</span>&nbsp;<span class="ident" id="3655297"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655304">.</span><span class="ident" id="3655305">Uint64</span><span class="op" id="3655311">,</span>&nbsp;<span class="ident" id="3655313"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655320">.</span><span class="ident" id="3655321">Uintptr</span><span class="op" id="3655328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655333">n</span><span class="op" id="3655334">,</span>&nbsp;<span class="ident" id="3655336">err</span>&nbsp;<span class="op" id="3655340">:=</span>&nbsp;<span class="ident" id="3655343"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3655350">.</span><span class="ident" id="3655351">ParseUint</span><span class="op" id="3655360">(</span><span class="ident" id="3655361"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3655362">,</span>&nbsp;<span class="num" id="3655364">10</span><span class="op" id="3655366">,</span>&nbsp;<span class="num" id="3655368">64</span><span class="op" id="3655370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655375">if</span>&nbsp;<span class="ident" id="3655378"><a href="/encoding/json/decode.go.html#3655336">err</a></span>&nbsp;<span class="op" id="3655382">!=</span>&nbsp;<span class="ident" id="3655385">nil</span>&nbsp;<span class="op" id="3655389">||</span>&nbsp;<span class="ident" id="3655392"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655393">.</span><span class="ident" id="3655394">OverflowUint</span><span class="op" id="3655406">(</span><span class="ident" id="3655407"><a href="/encoding/json/decode.go.html#3655333">n</a></span><span class="op" id="3655408">)</span>&nbsp;<span class="op" id="3655410">{</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655416"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3655417">.</span><span class="ident" id="3655418">saveError</span><span class="op" id="3655427">(</span><span class="op" id="3655428">&amp;</span><span class="ident" id="3655429"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3655447">{</span><span class="string" id="3655448">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="3655458">+</span>&nbsp;<span class="ident" id="3655460"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3655461">,</span>&nbsp;<span class="ident" id="3655463"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655464">.</span><span class="ident" id="3655465">Type</span><span class="op" id="3655469">(</span><span class="op" id="3655470">)</span><span class="op" id="3655471">}</span><span class="op" id="3655472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655478">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655492"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655493">.</span><span class="ident" id="3655494">SetUint</span><span class="op" id="3655501">(</span><span class="ident" id="3655502"><a href="/encoding/json/decode.go.html#3655333">n</a></span><span class="op" id="3655503">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655508">case</span>&nbsp;<span class="ident" id="3655513"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655520">.</span><span class="ident" id="3655521">Float32</span><span class="op" id="3655528">,</span>&nbsp;<span class="ident" id="3655530"><a href="/encoding/json/decode.go.html#3634953">reflect</a></span><span class="op" id="3655537">.</span><span class="ident" id="3655538">Float64</span><span class="op" id="3655545">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655550">n</span><span class="op" id="3655551">,</span>&nbsp;<span class="ident" id="3655553">err</span>&nbsp;<span class="op" id="3655557">:=</span>&nbsp;<span class="ident" id="3655560"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3655567">.</span><span class="ident" id="3655568">ParseFloat</span><span class="op" id="3655578">(</span><span class="ident" id="3655579"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3655580">,</span>&nbsp;<span class="ident" id="3655582"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655583">.</span><span class="ident" id="3655584">Type</span><span class="op" id="3655588">(</span><span class="op" id="3655589">)</span><span class="op" id="3655590">.</span><span class="ident" id="3655591">Bits</span><span class="op" id="3655595">(</span><span class="op" id="3655596">)</span><span class="op" id="3655597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655602">if</span>&nbsp;<span class="ident" id="3655605"><a href="/encoding/json/decode.go.html#3655553">err</a></span>&nbsp;<span class="op" id="3655609">!=</span>&nbsp;<span class="ident" id="3655612">nil</span>&nbsp;<span class="op" id="3655616">||</span>&nbsp;<span class="ident" id="3655619"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655620">.</span><span class="ident" id="3655621">OverflowFloat</span><span class="op" id="3655634">(</span><span class="ident" id="3655635"><a href="/encoding/json/decode.go.html#3655550">n</a></span><span class="op" id="3655636">)</span>&nbsp;<span class="op" id="3655638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655644"><a href="/encoding/json/decode.go.html#3651557">d</a></span><span class="op" id="3655645">.</span><span class="ident" id="3655646">saveError</span><span class="op" id="3655655">(</span><span class="op" id="3655656">&amp;</span><span class="ident" id="3655657"><a href="/encoding/json/decode.go.html#3637693">UnmarshalTypeError</a></span><span class="op" id="3655675">{</span><span class="string" id="3655676">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="3655686">+</span>&nbsp;<span class="ident" id="3655688"><a href="/encoding/json/decode.go.html#3654387">s</a></span><span class="op" id="3655689">,</span>&nbsp;<span class="ident" id="3655691"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655692">.</span><span class="ident" id="3655693">Type</span><span class="op" id="3655697">(</span><span class="op" id="3655698">)</span><span class="op" id="3655699">}</span><span class="op" id="3655700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3655706">break</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3655720"><a href="/encoding/json/decode.go.html#3651599">v</a></span><span class="op" id="3655721">.</span><span class="ident" id="3655722">SetFloat</span><span class="op" id="3655730">(</span><span class="ident" id="3655731"><a href="/encoding/json/decode.go.html#3655550">n</a></span><span class="op" id="3655732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3655739">}</span><br>
<span class="lineno"></span><span class="op" id="3655741">}</span><br>
<span class="lineno">820</span><br>
<span class="lineno"></span><span class="comment" id="3655744">//&nbsp;The&nbsp;xxxInterface&nbsp;routines&nbsp;build&nbsp;up&nbsp;a&nbsp;value&nbsp;to&nbsp;be&nbsp;stored</span><br>
<span class="lineno"></span><span class="comment" id="3655803">//&nbsp;in&nbsp;an&nbsp;empty&nbsp;interface.&nbsp;&nbsp;They&nbsp;are&nbsp;not&nbsp;strictly&nbsp;necessary,</span><br>
<span class="lineno"></span><span class="comment" id="3655863">//&nbsp;but&nbsp;they&nbsp;avoid&nbsp;the&nbsp;weight&nbsp;of&nbsp;reflection&nbsp;in&nbsp;this&nbsp;common&nbsp;case.</span><br>
<span class="lineno"></span><br>
<span class="lineno">825</span><span class="comment" id="3655928">//&nbsp;valueInterface&nbsp;is&nbsp;like&nbsp;value&nbsp;but&nbsp;returns&nbsp;interface{}</span><br>
<span class="lineno"></span><span class="keyword" id="3655984">func</span>&nbsp;<span class="op" id="3655989">(</span><span class="ident" id="3655990">d</span>&nbsp;<span class="op" id="3655992">*</span><span class="ident" id="3655993"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3656004">)</span>&nbsp;<span class="ident" id="3656006">valueInterface</span><span class="op" id="3656020">(</span><span class="op" id="3656021">)</span>&nbsp;<span class="keyword" id="3656023">interface</span><span class="op" id="3656032">{</span><span class="op" id="3656033">}</span>&nbsp;<span class="op" id="3656035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656038">switch</span>&nbsp;<span class="ident" id="3656045"><a href="/encoding/json/decode.go.html#3655990">d</a></span><span class="op" id="3656046">.</span><span class="ident" id="3656047">scanWhile</span><span class="op" id="3656056">(</span><span class="ident" id="3656057"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3656070">)</span>&nbsp;<span class="op" id="3656072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656075">default</span><span class="op" id="3656082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656086"><a href="/encoding/json/decode.go.html#3655990">d</a></span><span class="op" id="3656087">.</span><span class="builtintype" id="3656088">error</span><span class="op" id="3656093">(</span><span class="ident" id="3656094"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3656102">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3656106">panic</span><span class="op" id="3656111">(</span><span class="string" id="3656112">&#34;unreachable&#34;</span><span class="op" id="3656125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656128">case</span>&nbsp;<span class="ident" id="3656133"><a href="/encoding/json/scanner.go.html#3702566">scanBeginArray</a></span><span class="op" id="3656147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656151">return</span>&nbsp;<span class="ident" id="3656158"><a href="/encoding/json/decode.go.html#3655990">d</a></span><span class="op" id="3656159">.</span><span class="ident" id="3656160">arrayInterface</span><span class="op" id="3656174">(</span><span class="op" id="3656175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656178">case</span>&nbsp;<span class="ident" id="3656183"><a href="/encoding/json/scanner.go.html#3702322">scanBeginObject</a></span><span class="op" id="3656198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656202">return</span>&nbsp;<span class="ident" id="3656209"><a href="/encoding/json/decode.go.html#3655990">d</a></span><span class="op" id="3656210">.</span><span class="ident" id="3656211">objectInterface</span><span class="op" id="3656226">(</span><span class="op" id="3656227">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656230">case</span>&nbsp;<span class="ident" id="3656235"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span><span class="op" id="3656251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656255">return</span>&nbsp;<span class="ident" id="3656262"><a href="/encoding/json/decode.go.html#3655990">d</a></span><span class="op" id="3656263">.</span><span class="ident" id="3656264">literalInterface</span><span class="op" id="3656280">(</span><span class="op" id="3656281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656284">}</span><br>
<span class="lineno"></span><span class="op" id="3656286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">840</span><span class="comment" id="3656289">//&nbsp;arrayInterface&nbsp;is&nbsp;like&nbsp;array&nbsp;but&nbsp;returns&nbsp;[]interface{}.</span><br>
<span class="lineno"></span><span class="keyword" id="3656348">func</span>&nbsp;<span class="op" id="3656353">(</span><span class="ident" id="3656354">d</span>&nbsp;<span class="op" id="3656356">*</span><span class="ident" id="3656357"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3656368">)</span>&nbsp;<span class="ident" id="3656370">arrayInterface</span><span class="op" id="3656384">(</span><span class="op" id="3656385">)</span>&nbsp;<span class="op" id="3656387">[</span><span class="op" id="3656388">]</span><span class="keyword" id="3656389">interface</span><span class="op" id="3656398">{</span><span class="op" id="3656399">}</span>&nbsp;<span class="op" id="3656401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656404">var</span>&nbsp;<span class="ident" id="3656408">v</span>&nbsp;<span class="op" id="3656410">=</span>&nbsp;<span class="builtinfunc" id="3656412">make</span><span class="op" id="3656416">(</span><span class="op" id="3656417">[</span><span class="op" id="3656418">]</span><span class="keyword" id="3656419">interface</span><span class="op" id="3656428">{</span><span class="op" id="3656429">}</span><span class="op" id="3656430">,</span>&nbsp;<span class="num" id="3656432">0</span><span class="op" id="3656433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656436">for</span>&nbsp;<span class="op" id="3656440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3656444">//&nbsp;Look&nbsp;ahead&nbsp;for&nbsp;]&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656504">op</span>&nbsp;<span class="op" id="3656507">:=</span>&nbsp;<span class="ident" id="3656510"><a href="/encoding/json/decode.go.html#3656354">d</a></span><span class="op" id="3656511">.</span><span class="ident" id="3656512">scanWhile</span><span class="op" id="3656521">(</span><span class="ident" id="3656522"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3656535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656539">if</span>&nbsp;<span class="ident" id="3656542"><a href="/encoding/json/decode.go.html#3656504">op</a></span>&nbsp;<span class="op" id="3656545">==</span>&nbsp;<span class="ident" id="3656548"><a href="/encoding/json/scanner.go.html#3702660">scanEndArray</a></span>&nbsp;<span class="op" id="3656561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656566">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3656579">//&nbsp;Back&nbsp;up&nbsp;so&nbsp;d.value&nbsp;can&nbsp;have&nbsp;the&nbsp;byte&nbsp;we&nbsp;just&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656635"><a href="/encoding/json/decode.go.html#3656354">d</a></span><span class="op" id="3656636">.</span><span class="ident" id="3656637">off</span><span class="op" id="3656640">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656645"><a href="/encoding/json/decode.go.html#3656354">d</a></span><span class="op" id="3656646">.</span><span class="ident" id="3656647">scan</span><span class="op" id="3656651">.</span><span class="ident" id="3656652">undo</span><span class="op" id="3656656">(</span><span class="ident" id="3656657"><a href="/encoding/json/decode.go.html#3656504">op</a></span><span class="op" id="3656659">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656664"><a href="/encoding/json/decode.go.html#3656408">v</a></span>&nbsp;<span class="op" id="3656666">=</span>&nbsp;<span class="builtinfunc" id="3656668">append</span><span class="op" id="3656674">(</span><span class="ident" id="3656675"><a href="/encoding/json/decode.go.html#3656408">v</a></span><span class="op" id="3656676">,</span>&nbsp;<span class="ident" id="3656678"><a href="/encoding/json/decode.go.html#3656354">d</a></span><span class="op" id="3656679">.</span><span class="ident" id="3656680">valueInterface</span><span class="op" id="3656694">(</span><span class="op" id="3656695">)</span><span class="op" id="3656696">)</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3656701">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656733"><a href="/encoding/json/decode.go.html#3656504">op</a></span>&nbsp;<span class="op" id="3656736">=</span>&nbsp;<span class="ident" id="3656738"><a href="/encoding/json/decode.go.html#3656354">d</a></span><span class="op" id="3656739">.</span><span class="ident" id="3656740">scanWhile</span><span class="op" id="3656749">(</span><span class="ident" id="3656750"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3656763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656767">if</span>&nbsp;<span class="ident" id="3656770"><a href="/encoding/json/decode.go.html#3656504">op</a></span>&nbsp;<span class="op" id="3656773">==</span>&nbsp;<span class="ident" id="3656776"><a href="/encoding/json/scanner.go.html#3702660">scanEndArray</a></span>&nbsp;<span class="op" id="3656789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656794">break</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656806">if</span>&nbsp;<span class="ident" id="3656809"><a href="/encoding/json/decode.go.html#3656504">op</a></span>&nbsp;<span class="op" id="3656812">!=</span>&nbsp;<span class="ident" id="3656815"><a href="/encoding/json/scanner.go.html#3702606">scanArrayValue</a></span>&nbsp;<span class="op" id="3656830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3656835"><a href="/encoding/json/decode.go.html#3656354">d</a></span><span class="op" id="3656836">.</span><span class="builtintype" id="3656837">error</span><span class="op" id="3656842">(</span><span class="ident" id="3656843"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3656851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3656858">}</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3656861">return</span>&nbsp;<span class="ident" id="3656868"><a href="/encoding/json/decode.go.html#3656408">v</a></span><br>
<span class="lineno"></span><span class="op" id="3656870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3656873">//&nbsp;objectInterface&nbsp;is&nbsp;like&nbsp;object&nbsp;but&nbsp;returns&nbsp;map[string]interface{}.</span><br>
<span class="lineno"></span><span class="keyword" id="3656943">func</span>&nbsp;<span class="op" id="3656948">(</span><span class="ident" id="3656949">d</span>&nbsp;<span class="op" id="3656951">*</span><span class="ident" id="3656952"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3656963">)</span>&nbsp;<span class="ident" id="3656965">objectInterface</span><span class="op" id="3656980">(</span><span class="op" id="3656981">)</span>&nbsp;<span class="keyword" id="3656983">map</span><span class="op" id="3656986">[</span><span class="builtintype" id="3656987">string</span><span class="op" id="3656993">]</span><span class="keyword" id="3656994">interface</span><span class="op" id="3657003">{</span><span class="op" id="3657004">}</span>&nbsp;<span class="op" id="3657006">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657009">m</span>&nbsp;<span class="op" id="3657011">:=</span>&nbsp;<span class="builtinfunc" id="3657014">make</span><span class="op" id="3657018">(</span><span class="keyword" id="3657019">map</span><span class="op" id="3657022">[</span><span class="builtintype" id="3657023">string</span><span class="op" id="3657029">]</span><span class="keyword" id="3657030">interface</span><span class="op" id="3657039">{</span><span class="op" id="3657040">}</span><span class="op" id="3657041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657044">for</span>&nbsp;<span class="op" id="3657048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657052">//&nbsp;Read&nbsp;opening&nbsp;&#34;&nbsp;of&nbsp;string&nbsp;key&nbsp;or&nbsp;closing&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657100">op</span>&nbsp;<span class="op" id="3657103">:=</span>&nbsp;<span class="ident" id="3657106"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657107">.</span><span class="ident" id="3657108">scanWhile</span><span class="op" id="3657117">(</span><span class="ident" id="3657118"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3657131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657135">if</span>&nbsp;<span class="ident" id="3657138"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657141">==</span>&nbsp;<span class="ident" id="3657144"><a href="/encoding/json/scanner.go.html#3702489">scanEndObject</a></span>&nbsp;<span class="op" id="3657158">{</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657163">//&nbsp;closing&nbsp;}&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657217">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657229">if</span>&nbsp;<span class="ident" id="3657232"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657235">!=</span>&nbsp;<span class="ident" id="3657238"><a href="/encoding/json/scanner.go.html#3702251">scanBeginLiteral</a></span>&nbsp;<span class="op" id="3657255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657260"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657261">.</span><span class="builtintype" id="3657262">error</span><span class="op" id="3657267">(</span><span class="ident" id="3657268"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3657276">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657285">//&nbsp;Read&nbsp;string&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657307">start</span>&nbsp;<span class="op" id="3657313">:=</span>&nbsp;<span class="ident" id="3657316"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657317">.</span><span class="ident" id="3657318">off</span>&nbsp;<span class="op" id="3657322">-</span>&nbsp;<span class="num" id="3657324">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657328"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657331">=</span>&nbsp;<span class="ident" id="3657333"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657334">.</span><span class="ident" id="3657335">scanWhile</span><span class="op" id="3657344">(</span><span class="ident" id="3657345"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><span class="op" id="3657357">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657361">item</span>&nbsp;<span class="op" id="3657366">:=</span>&nbsp;<span class="ident" id="3657369"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657370">.</span><span class="ident" id="3657371">data</span><span class="op" id="3657375">[</span><span class="ident" id="3657376"><a href="/encoding/json/decode.go.html#3657307">start</a></span>&nbsp;<span class="op" id="3657382">:</span>&nbsp;<span class="ident" id="3657384"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657385">.</span><span class="ident" id="3657386">off</span><span class="op" id="3657389">-</span><span class="num" id="3657390">1</span><span class="op" id="3657391">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657395">key</span><span class="op" id="3657398">,</span>&nbsp;<span class="ident" id="3657400">ok</span>&nbsp;<span class="op" id="3657403">:=</span>&nbsp;<span class="ident" id="3657406"><a href="/encoding/json/decode.go.html#3658989">unquote</a></span><span class="op" id="3657413">(</span><span class="ident" id="3657414"><a href="/encoding/json/decode.go.html#3657361">item</a></span><span class="op" id="3657418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657422">if</span>&nbsp;<span class="op" id="3657425">!</span><span class="ident" id="3657426"><a href="/encoding/json/decode.go.html#3657400">ok</a></span>&nbsp;<span class="op" id="3657429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657434"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657435">.</span><span class="builtintype" id="3657436">error</span><span class="op" id="3657441">(</span><span class="ident" id="3657442"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3657450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657454">}</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657459">//&nbsp;Read&nbsp;:&nbsp;before&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657485">if</span>&nbsp;<span class="ident" id="3657488"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657491">==</span>&nbsp;<span class="ident" id="3657494"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span>&nbsp;<span class="op" id="3657508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657513"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657516">=</span>&nbsp;<span class="ident" id="3657518"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657519">.</span><span class="ident" id="3657520">scanWhile</span><span class="op" id="3657529">(</span><span class="ident" id="3657530"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3657543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657547">}</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657551">if</span>&nbsp;<span class="ident" id="3657554"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657557">!=</span>&nbsp;<span class="ident" id="3657560"><a href="/encoding/json/scanner.go.html#3702363">scanObjectKey</a></span>&nbsp;<span class="op" id="3657574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657579"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657580">.</span><span class="builtintype" id="3657581">error</span><span class="op" id="3657586">(</span><span class="ident" id="3657587"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3657595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657604">//&nbsp;Read&nbsp;value.</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657621"><a href="/encoding/json/decode.go.html#3657009">m</a></span><span class="op" id="3657622">[</span><span class="ident" id="3657623"><a href="/encoding/json/decode.go.html#3657395">key</a></span><span class="op" id="3657626">]</span>&nbsp;<span class="op" id="3657628">=</span>&nbsp;<span class="ident" id="3657630"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657631">.</span><span class="ident" id="3657632">valueInterface</span><span class="op" id="3657646">(</span><span class="op" id="3657647">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657652">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657684"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657687">=</span>&nbsp;<span class="ident" id="3657689"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657690">.</span><span class="ident" id="3657691">scanWhile</span><span class="op" id="3657700">(</span><span class="ident" id="3657701"><a href="/encoding/json/scanner.go.html#3702735">scanSkipSpace</a></span><span class="op" id="3657714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657718">if</span>&nbsp;<span class="ident" id="3657721"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657724">==</span>&nbsp;<span class="ident" id="3657727"><a href="/encoding/json/scanner.go.html#3702489">scanEndObject</a></span>&nbsp;<span class="op" id="3657741">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657746">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657758">if</span>&nbsp;<span class="ident" id="3657761"><a href="/encoding/json/decode.go.html#3657100">op</a></span>&nbsp;<span class="op" id="3657764">!=</span>&nbsp;<span class="ident" id="3657767"><a href="/encoding/json/scanner.go.html#3702425">scanObjectValue</a></span>&nbsp;<span class="op" id="3657783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3657788"><a href="/encoding/json/decode.go.html#3656949">d</a></span><span class="op" id="3657789">.</span><span class="builtintype" id="3657790">error</span><span class="op" id="3657795">(</span><span class="ident" id="3657796"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3657804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657808">}</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3657811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3657814">return</span>&nbsp;<span class="ident" id="3657821"><a href="/encoding/json/decode.go.html#3657009">m</a></span><br>
<span class="lineno"></span><span class="op" id="3657823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3657826">//&nbsp;literalInterface&nbsp;is&nbsp;like&nbsp;literal&nbsp;but&nbsp;returns&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno">915</span><span class="keyword" id="3657894">func</span>&nbsp;<span class="op" id="3657899">(</span><span class="ident" id="3657900">d</span>&nbsp;<span class="op" id="3657902">*</span><span class="ident" id="3657903"><a href="/encoding/json/decode.go.html#3639927">decodeState</a></span><span class="op" id="3657914">)</span>&nbsp;<span class="ident" id="3657916">literalInterface</span><span class="op" id="3657932">(</span><span class="op" id="3657933">)</span>&nbsp;<span class="keyword" id="3657935">interface</span><span class="op" id="3657944">{</span><span class="op" id="3657945">}</span>&nbsp;<span class="op" id="3657947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3657950">//&nbsp;All&nbsp;bytes&nbsp;inside&nbsp;literal&nbsp;return&nbsp;scanContinue&nbsp;op&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658008">start</span>&nbsp;<span class="op" id="3658014">:=</span>&nbsp;<span class="ident" id="3658017"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658018">.</span><span class="ident" id="3658019">off</span>&nbsp;<span class="op" id="3658023">-</span>&nbsp;<span class="num" id="3658025">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658028">op</span>&nbsp;<span class="op" id="3658031">:=</span>&nbsp;<span class="ident" id="3658034"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658035">.</span><span class="ident" id="3658036">scanWhile</span><span class="op" id="3658045">(</span><span class="ident" id="3658046"><a href="/encoding/json/scanner.go.html#3702204">scanContinue</a></span><span class="op" id="3658058">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3658062">//&nbsp;Scan&nbsp;read&nbsp;one&nbsp;byte&nbsp;too&nbsp;far;&nbsp;back&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658103"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658104">.</span><span class="ident" id="3658105">off</span><span class="op" id="3658108">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658112"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658113">.</span><span class="ident" id="3658114">scan</span><span class="op" id="3658118">.</span><span class="ident" id="3658119">undo</span><span class="op" id="3658123">(</span><span class="ident" id="3658124"><a href="/encoding/json/decode.go.html#3658028">op</a></span><span class="op" id="3658126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658129">item</span>&nbsp;<span class="op" id="3658134">:=</span>&nbsp;<span class="ident" id="3658137"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658138">.</span><span class="ident" id="3658139">data</span><span class="op" id="3658143">[</span><span class="ident" id="3658144"><a href="/encoding/json/decode.go.html#3658008">start</a></span><span class="op" id="3658149">:</span><span class="ident" id="3658150"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658151">.</span><span class="ident" id="3658152">off</span><span class="op" id="3658155">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658159">switch</span>&nbsp;<span class="ident" id="3658166">c</span>&nbsp;<span class="op" id="3658168">:=</span>&nbsp;<span class="ident" id="3658171"><a href="/encoding/json/decode.go.html#3658129">item</a></span><span class="op" id="3658175">[</span><span class="num" id="3658176">0</span><span class="op" id="3658177">]</span><span class="op" id="3658178">;</span>&nbsp;<span class="ident" id="3658180"><a href="/encoding/json/decode.go.html#3658166">c</a></span>&nbsp;<span class="op" id="3658182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658185">case</span>&nbsp;<span class="string" id="3658190">&#39;n&#39;</span><span class="op" id="3658193">:</span>&nbsp;<span class="comment" id="3658195">//&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658205">return</span>&nbsp;<span class="ident" id="3658212">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658218">case</span>&nbsp;<span class="string" id="3658223">&#39;t&#39;</span><span class="op" id="3658226">,</span>&nbsp;<span class="string" id="3658228">&#39;f&#39;</span><span class="op" id="3658231">:</span>&nbsp;<span class="comment" id="3658233">//&nbsp;true,&nbsp;false</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658250">return</span>&nbsp;<span class="ident" id="3658257"><a href="/encoding/json/decode.go.html#3658166">c</a></span>&nbsp;<span class="op" id="3658259">==</span>&nbsp;<span class="string" id="3658262">&#39;t&#39;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658268">case</span>&nbsp;<span class="string" id="3658273">&#39;&#34;&#39;</span><span class="op" id="3658276">:</span>&nbsp;<span class="comment" id="3658278">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658290">s</span><span class="op" id="3658291">,</span>&nbsp;<span class="ident" id="3658293">ok</span>&nbsp;<span class="op" id="3658296">:=</span>&nbsp;<span class="ident" id="3658299"><a href="/encoding/json/decode.go.html#3658989">unquote</a></span><span class="op" id="3658306">(</span><span class="ident" id="3658307"><a href="/encoding/json/decode.go.html#3658129">item</a></span><span class="op" id="3658311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658315">if</span>&nbsp;<span class="op" id="3658318">!</span><span class="ident" id="3658319"><a href="/encoding/json/decode.go.html#3658293">ok</a></span>&nbsp;<span class="op" id="3658322">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658327"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658328">.</span><span class="builtintype" id="3658329">error</span><span class="op" id="3658334">(</span><span class="ident" id="3658335"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3658343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658351">return</span>&nbsp;<span class="ident" id="3658358"><a href="/encoding/json/decode.go.html#3658290">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658362">default</span><span class="op" id="3658369">:</span>&nbsp;<span class="comment" id="3658371">//&nbsp;number</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658383">if</span>&nbsp;<span class="ident" id="3658386"><a href="/encoding/json/decode.go.html#3658166">c</a></span>&nbsp;<span class="op" id="3658388">!=</span>&nbsp;<span class="string" id="3658391">&#39;-&#39;</span>&nbsp;<span class="op" id="3658395">&amp;&amp;</span>&nbsp;<span class="op" id="3658398">(</span><span class="ident" id="3658399"><a href="/encoding/json/decode.go.html#3658166">c</a></span>&nbsp;<span class="op" id="3658401">&lt;</span>&nbsp;<span class="string" id="3658403">&#39;0&#39;</span>&nbsp;<span class="op" id="3658407">||</span>&nbsp;<span class="ident" id="3658410"><a href="/encoding/json/decode.go.html#3658166">c</a></span>&nbsp;<span class="op" id="3658412">&gt;</span>&nbsp;<span class="string" id="3658414">&#39;9&#39;</span><span class="op" id="3658417">)</span>&nbsp;<span class="op" id="3658419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658424"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658425">.</span><span class="builtintype" id="3658426">error</span><span class="op" id="3658431">(</span><span class="ident" id="3658432"><a href="/encoding/json/decode.go.html#3640283">errPhase</a></span><span class="op" id="3658440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658448">n</span><span class="op" id="3658449">,</span>&nbsp;<span class="ident" id="3658451">err</span>&nbsp;<span class="op" id="3658455">:=</span>&nbsp;<span class="ident" id="3658458"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658459">.</span><span class="ident" id="3658460">convertNumber</span><span class="op" id="3658473">(</span><span class="builtintype" id="3658474">string</span><span class="op" id="3658480">(</span><span class="ident" id="3658481"><a href="/encoding/json/decode.go.html#3658129">item</a></span><span class="op" id="3658485">)</span><span class="op" id="3658486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658490">if</span>&nbsp;<span class="ident" id="3658493"><a href="/encoding/json/decode.go.html#3658451">err</a></span>&nbsp;<span class="op" id="3658497">!=</span>&nbsp;<span class="ident" id="3658500">nil</span>&nbsp;<span class="op" id="3658504">{</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658509"><a href="/encoding/json/decode.go.html#3657900">d</a></span><span class="op" id="3658510">.</span><span class="ident" id="3658511">saveError</span><span class="op" id="3658520">(</span><span class="ident" id="3658521"><a href="/encoding/json/decode.go.html#3658451">err</a></span><span class="op" id="3658524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658532">return</span>&nbsp;<span class="ident" id="3658539"><a href="/encoding/json/decode.go.html#3658448">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658542">}</span><br>
<span class="lineno"></span><span class="op" id="3658544">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span><span class="comment" id="3658547">//&nbsp;getu4&nbsp;decodes&nbsp;\uXXXX&nbsp;from&nbsp;the&nbsp;beginning&nbsp;of&nbsp;s,&nbsp;returning&nbsp;the&nbsp;hex&nbsp;value,</span><br>
<span class="lineno"></span><span class="comment" id="3658621">//&nbsp;or&nbsp;it&nbsp;returns&nbsp;-1.</span><br>
<span class="lineno"></span><span class="keyword" id="3658642">func</span>&nbsp;<span class="ident" id="3658647">getu4</span><span class="op" id="3658652">(</span><span class="ident" id="3658653">s</span>&nbsp;<span class="op" id="3658655">[</span><span class="op" id="3658656">]</span><span class="builtintype" id="3658657">byte</span><span class="op" id="3658661">)</span>&nbsp;<span class="builtintype" id="3658663">rune</span>&nbsp;<span class="op" id="3658668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658671">if</span>&nbsp;<span class="builtinfunc" id="3658674">len</span><span class="op" id="3658677">(</span><span class="ident" id="3658678"><a href="/encoding/json/decode.go.html#3658653">s</a></span><span class="op" id="3658679">)</span>&nbsp;<span class="op" id="3658681">&lt;</span>&nbsp;<span class="num" id="3658683">6</span>&nbsp;<span class="op" id="3658685">||</span>&nbsp;<span class="ident" id="3658688"><a href="/encoding/json/decode.go.html#3658653">s</a></span><span class="op" id="3658689">[</span><span class="num" id="3658690">0</span><span class="op" id="3658691">]</span>&nbsp;<span class="op" id="3658693">!=</span>&nbsp;<span class="string" id="3658696">&#39;\\&#39;</span>&nbsp;<span class="op" id="3658701">||</span>&nbsp;<span class="ident" id="3658704"><a href="/encoding/json/decode.go.html#3658653">s</a></span><span class="op" id="3658705">[</span><span class="num" id="3658706">1</span><span class="op" id="3658707">]</span>&nbsp;<span class="op" id="3658709">!=</span>&nbsp;<span class="string" id="3658712">&#39;u&#39;</span>&nbsp;<span class="op" id="3658716">{</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658720">return</span>&nbsp;<span class="op" id="3658727">-</span><span class="num" id="3658728">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3658734">r</span><span class="op" id="3658735">,</span>&nbsp;<span class="ident" id="3658737">err</span>&nbsp;<span class="op" id="3658741">:=</span>&nbsp;<span class="ident" id="3658744"><a href="/encoding/json/decode.go.html#3634975">strconv</a></span><span class="op" id="3658751">.</span><span class="ident" id="3658752">ParseUint</span><span class="op" id="3658761">(</span><span class="builtintype" id="3658762">string</span><span class="op" id="3658768">(</span><span class="ident" id="3658769"><a href="/encoding/json/decode.go.html#3658653">s</a></span><span class="op" id="3658770">[</span><span class="num" id="3658771">2</span><span class="op" id="3658772">:</span><span class="num" id="3658773">6</span><span class="op" id="3658774">]</span><span class="op" id="3658775">)</span><span class="op" id="3658776">,</span>&nbsp;<span class="num" id="3658778">16</span><span class="op" id="3658780">,</span>&nbsp;<span class="num" id="3658782">64</span><span class="op" id="3658784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658787">if</span>&nbsp;<span class="ident" id="3658790"><a href="/encoding/json/decode.go.html#3658737">err</a></span>&nbsp;<span class="op" id="3658794">!=</span>&nbsp;<span class="ident" id="3658797">nil</span>&nbsp;<span class="op" id="3658801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658805">return</span>&nbsp;<span class="op" id="3658812">-</span><span class="num" id="3658813">1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3658816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3658819">return</span>&nbsp;<span class="builtintype" id="3658826">rune</span><span class="op" id="3658830">(</span><span class="ident" id="3658831"><a href="/encoding/json/decode.go.html#3658734">r</a></span><span class="op" id="3658832">)</span><br>
<span class="lineno"></span><span class="op" id="3658834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3658837">//&nbsp;unquote&nbsp;converts&nbsp;a&nbsp;quoted&nbsp;JSON&nbsp;string&nbsp;literal&nbsp;s&nbsp;into&nbsp;an&nbsp;actual&nbsp;string&nbsp;t.</span><br>
<span class="lineno">965</span><span class="comment" id="3658913">//&nbsp;The&nbsp;rules&nbsp;are&nbsp;different&nbsp;than&nbsp;for&nbsp;Go,&nbsp;so&nbsp;cannot&nbsp;use&nbsp;strconv.Unquote.</span><br>
<span class="lineno"></span><span class="keyword" id="3658984">func</span>&nbsp;<span class="ident" id="3658989">unquote</span><span class="op" id="3658996">(</span><span class="ident" id="3658997">s</span>&nbsp;<span class="op" id="3658999">[</span><span class="op" id="3659000">]</span><span class="builtintype" id="3659001">byte</span><span class="op" id="3659005">)</span>&nbsp;<span class="op" id="3659007">(</span><span class="ident" id="3659008">t</span>&nbsp;<span class="builtintype" id="3659010">string</span><span class="op" id="3659016">,</span>&nbsp;<span class="ident" id="3659018">ok</span>&nbsp;<span class="builtintype" id="3659021">bool</span><span class="op" id="3659025">)</span>&nbsp;<span class="op" id="3659027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659030"><a href="/encoding/json/decode.go.html#3658997">s</a></span><span class="op" id="3659031">,</span>&nbsp;<span class="ident" id="3659033"><a href="/encoding/json/decode.go.html#3659018">ok</a></span>&nbsp;<span class="op" id="3659036">=</span>&nbsp;<span class="ident" id="3659038"><a href="/encoding/json/decode.go.html#3659085">unquoteBytes</a></span><span class="op" id="3659050">(</span><span class="ident" id="3659051"><a href="/encoding/json/decode.go.html#3658997">s</a></span><span class="op" id="3659052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659055"><a href="/encoding/json/decode.go.html#3659008">t</a></span>&nbsp;<span class="op" id="3659057">=</span>&nbsp;<span class="builtintype" id="3659059">string</span><span class="op" id="3659065">(</span><span class="ident" id="3659066"><a href="/encoding/json/decode.go.html#3658997">s</a></span><span class="op" id="3659067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659070">return</span><br>
<span class="lineno">970</span><span class="op" id="3659077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3659080">func</span>&nbsp;<span class="ident" id="3659085">unquoteBytes</span><span class="op" id="3659097">(</span><span class="ident" id="3659098">s</span>&nbsp;<span class="op" id="3659100">[</span><span class="op" id="3659101">]</span><span class="builtintype" id="3659102">byte</span><span class="op" id="3659106">)</span>&nbsp;<span class="op" id="3659108">(</span><span class="ident" id="3659109">t</span>&nbsp;<span class="op" id="3659111">[</span><span class="op" id="3659112">]</span><span class="builtintype" id="3659113">byte</span><span class="op" id="3659117">,</span>&nbsp;<span class="ident" id="3659119">ok</span>&nbsp;<span class="builtintype" id="3659122">bool</span><span class="op" id="3659126">)</span>&nbsp;<span class="op" id="3659128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659131">if</span>&nbsp;<span class="builtinfunc" id="3659134">len</span><span class="op" id="3659137">(</span><span class="ident" id="3659138"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659139">)</span>&nbsp;<span class="op" id="3659141">&lt;</span>&nbsp;<span class="num" id="3659143">2</span>&nbsp;<span class="op" id="3659145">||</span>&nbsp;<span class="ident" id="3659148"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659149">[</span><span class="num" id="3659150">0</span><span class="op" id="3659151">]</span>&nbsp;<span class="op" id="3659153">!=</span>&nbsp;<span class="string" id="3659156">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3659160">||</span>&nbsp;<span class="ident" id="3659163"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659164">[</span><span class="builtinfunc" id="3659165">len</span><span class="op" id="3659168">(</span><span class="ident" id="3659169"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659170">)</span><span class="op" id="3659171">-</span><span class="num" id="3659172">1</span><span class="op" id="3659173">]</span>&nbsp;<span class="op" id="3659175">!=</span>&nbsp;<span class="string" id="3659178">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3659182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659186">return</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659197"><a href="/encoding/json/decode.go.html#3659098">s</a></span>&nbsp;<span class="op" id="3659199">=</span>&nbsp;<span class="ident" id="3659201"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659202">[</span><span class="num" id="3659203">1</span>&nbsp;<span class="op" id="3659205">:</span>&nbsp;<span class="builtinfunc" id="3659207">len</span><span class="op" id="3659210">(</span><span class="ident" id="3659211"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659212">)</span><span class="op" id="3659213">-</span><span class="num" id="3659214">1</span><span class="op" id="3659215">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3659219">//&nbsp;Check&nbsp;for&nbsp;unusual&nbsp;characters.&nbsp;If&nbsp;there&nbsp;are&nbsp;none,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3659272">//&nbsp;then&nbsp;no&nbsp;unquoting&nbsp;is&nbsp;needed,&nbsp;so&nbsp;return&nbsp;a&nbsp;slice&nbsp;of&nbsp;the</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3659330">//&nbsp;original&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659350">r</span>&nbsp;<span class="op" id="3659352">:=</span>&nbsp;<span class="num" id="3659355">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659358">for</span>&nbsp;<span class="ident" id="3659362"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3659364">&lt;</span>&nbsp;<span class="builtinfunc" id="3659366">len</span><span class="op" id="3659369">(</span><span class="ident" id="3659370"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659371">)</span>&nbsp;<span class="op" id="3659373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659377">c</span>&nbsp;<span class="op" id="3659379">:=</span>&nbsp;<span class="ident" id="3659382"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659383">[</span><span class="ident" id="3659384"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3659385">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659389">if</span>&nbsp;<span class="ident" id="3659392"><a href="/encoding/json/decode.go.html#3659377">c</a></span>&nbsp;<span class="op" id="3659394">==</span>&nbsp;<span class="string" id="3659397">&#39;\\&#39;</span>&nbsp;<span class="op" id="3659402">||</span>&nbsp;<span class="ident" id="3659405"><a href="/encoding/json/decode.go.html#3659377">c</a></span>&nbsp;<span class="op" id="3659407">==</span>&nbsp;<span class="string" id="3659410">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="3659414">||</span>&nbsp;<span class="ident" id="3659417"><a href="/encoding/json/decode.go.html#3659377">c</a></span>&nbsp;<span class="op" id="3659419">&lt;</span>&nbsp;<span class="string" id="3659421">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3659425">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659430">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659442">if</span>&nbsp;<span class="ident" id="3659445"><a href="/encoding/json/decode.go.html#3659377">c</a></span>&nbsp;<span class="op" id="3659447">&lt;</span>&nbsp;<span class="ident" id="3659449"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3659453">.</span><span class="ident" id="3659454">RuneSelf</span>&nbsp;<span class="op" id="3659463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659468"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3659469">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659475">continue</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659490">rr</span><span class="op" id="3659492">,</span>&nbsp;<span class="ident" id="3659494">size</span>&nbsp;<span class="op" id="3659499">:=</span>&nbsp;<span class="ident" id="3659502"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3659506">.</span><span class="ident" id="3659507">DecodeRune</span><span class="op" id="3659517">(</span><span class="ident" id="3659518"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659519">[</span><span class="ident" id="3659520"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3659521">:</span><span class="op" id="3659522">]</span><span class="op" id="3659523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659527">if</span>&nbsp;<span class="ident" id="3659530"><a href="/encoding/json/decode.go.html#3659490">rr</a></span>&nbsp;<span class="op" id="3659533">==</span>&nbsp;<span class="ident" id="3659536"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3659540">.</span><span class="ident" id="3659541">RuneError</span>&nbsp;<span class="op" id="3659551">&amp;&amp;</span>&nbsp;<span class="ident" id="3659554"><a href="/encoding/json/decode.go.html#3659494">size</a></span>&nbsp;<span class="op" id="3659559">==</span>&nbsp;<span class="num" id="3659562">1</span>&nbsp;<span class="op" id="3659564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659569">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659577">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659581"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3659583">+=</span>&nbsp;<span class="ident" id="3659586"><a href="/encoding/json/decode.go.html#3659494">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659595">if</span>&nbsp;<span class="ident" id="3659598"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3659600">==</span>&nbsp;<span class="builtinfunc" id="3659603">len</span><span class="op" id="3659606">(</span><span class="ident" id="3659607"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659608">)</span>&nbsp;<span class="op" id="3659610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659614">return</span>&nbsp;<span class="ident" id="3659621"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659622">,</span>&nbsp;<span class="ident" id="3659624">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659630">}</span><br>
<span class="lineno">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659634">b</span>&nbsp;<span class="op" id="3659636">:=</span>&nbsp;<span class="builtinfunc" id="3659639">make</span><span class="op" id="3659643">(</span><span class="op" id="3659644">[</span><span class="op" id="3659645">]</span><span class="builtintype" id="3659646">byte</span><span class="op" id="3659650">,</span>&nbsp;<span class="builtinfunc" id="3659652">len</span><span class="op" id="3659655">(</span><span class="ident" id="3659656"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659657">)</span><span class="op" id="3659658">+</span><span class="num" id="3659659">2</span><span class="op" id="3659660">*</span><span class="ident" id="3659661"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3659665">.</span><span class="ident" id="3659666">UTFMax</span><span class="op" id="3659672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659675">w</span>&nbsp;<span class="op" id="3659677">:=</span>&nbsp;<span class="builtinfunc" id="3659680">copy</span><span class="op" id="3659684">(</span><span class="ident" id="3659685"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3659686">,</span>&nbsp;<span class="ident" id="3659688"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659689">[</span><span class="num" id="3659690">0</span><span class="op" id="3659691">:</span><span class="ident" id="3659692"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3659693">]</span><span class="op" id="3659694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659697">for</span>&nbsp;<span class="ident" id="3659701"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3659703">&lt;</span>&nbsp;<span class="builtinfunc" id="3659705">len</span><span class="op" id="3659708">(</span><span class="ident" id="3659709"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659710">)</span>&nbsp;<span class="op" id="3659712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3659716">//&nbsp;Out&nbsp;of&nbsp;room?&nbsp;&nbsp;Can&nbsp;only&nbsp;happen&nbsp;if&nbsp;s&nbsp;is&nbsp;full&nbsp;of</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3659767">//&nbsp;malformed&nbsp;UTF-8&nbsp;and&nbsp;we&#39;re&nbsp;replacing&nbsp;each</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3659813">//&nbsp;byte&nbsp;with&nbsp;RuneError.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659839">if</span>&nbsp;<span class="ident" id="3659842"><a href="/encoding/json/decode.go.html#3659675">w</a></span>&nbsp;<span class="op" id="3659844">&gt;=</span>&nbsp;<span class="builtinfunc" id="3659847">len</span><span class="op" id="3659850">(</span><span class="ident" id="3659851"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3659852">)</span><span class="op" id="3659853">-</span><span class="num" id="3659854">2</span><span class="op" id="3659855">*</span><span class="ident" id="3659856"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3659860">.</span><span class="ident" id="3659861">UTFMax</span>&nbsp;<span class="op" id="3659868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659873">nb</span>&nbsp;<span class="op" id="3659876">:=</span>&nbsp;<span class="builtinfunc" id="3659879">make</span><span class="op" id="3659883">(</span><span class="op" id="3659884">[</span><span class="op" id="3659885">]</span><span class="builtintype" id="3659886">byte</span><span class="op" id="3659890">,</span>&nbsp;<span class="op" id="3659892">(</span><span class="builtinfunc" id="3659893">len</span><span class="op" id="3659896">(</span><span class="ident" id="3659897"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3659898">)</span><span class="op" id="3659899">+</span><span class="ident" id="3659900"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3659904">.</span><span class="ident" id="3659905">UTFMax</span><span class="op" id="3659911">)</span><span class="op" id="3659912">*</span><span class="num" id="3659913">2</span><span class="op" id="3659914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3659919">copy</span><span class="op" id="3659923">(</span><span class="ident" id="3659924"><a href="/encoding/json/decode.go.html#3659873">nb</a></span><span class="op" id="3659926">,</span>&nbsp;<span class="ident" id="3659928"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3659929">[</span><span class="num" id="3659930">0</span><span class="op" id="3659931">:</span><span class="ident" id="3659932"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3659933">]</span><span class="op" id="3659934">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659939"><a href="/encoding/json/decode.go.html#3659634">b</a></span>&nbsp;<span class="op" id="3659941">=</span>&nbsp;<span class="ident" id="3659943"><a href="/encoding/json/decode.go.html#3659873">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3659948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659952">switch</span>&nbsp;<span class="ident" id="3659959">c</span>&nbsp;<span class="op" id="3659961">:=</span>&nbsp;<span class="ident" id="3659964"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3659965">[</span><span class="ident" id="3659966"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3659967">]</span><span class="op" id="3659968">;</span>&nbsp;<span class="op" id="3659970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3659974">case</span>&nbsp;<span class="ident" id="3659979"><a href="/encoding/json/decode.go.html#3659959">c</a></span>&nbsp;<span class="op" id="3659981">==</span>&nbsp;<span class="string" id="3659984">&#39;\\&#39;</span><span class="op" id="3659988">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3659993"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3659994">++</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660000">if</span>&nbsp;<span class="ident" id="3660003"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3660005">&gt;=</span>&nbsp;<span class="builtinfunc" id="3660008">len</span><span class="op" id="3660011">(</span><span class="ident" id="3660012"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3660013">)</span>&nbsp;<span class="op" id="3660015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660021">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660036">switch</span>&nbsp;<span class="ident" id="3660043"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3660044">[</span><span class="ident" id="3660045"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660046">]</span>&nbsp;<span class="op" id="3660048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660053">default</span><span class="op" id="3660060">:</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660066">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660076">case</span>&nbsp;<span class="string" id="3660081">&#39;&#34;&#39;</span><span class="op" id="3660084">,</span>&nbsp;<span class="string" id="3660086">&#39;\\&#39;</span><span class="op" id="3660090">,</span>&nbsp;<span class="string" id="3660092">&#39;/&#39;</span><span class="op" id="3660095">,</span>&nbsp;<span class="string" id="3660097">&#39;\&#39;&#39;</span><span class="op" id="3660101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660107"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660108">[</span><span class="ident" id="3660109"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660110">]</span>&nbsp;<span class="op" id="3660112">=</span>&nbsp;<span class="ident" id="3660114"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3660115">[</span><span class="ident" id="3660116"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660117">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660123"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660124">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660131"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660132">++</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660138">case</span>&nbsp;<span class="string" id="3660143">&#39;b&#39;</span><span class="op" id="3660146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660152"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660153">[</span><span class="ident" id="3660154"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660155">]</span>&nbsp;<span class="op" id="3660157">=</span>&nbsp;<span class="string" id="3660159">&#39;\b&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660168"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660169">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660176"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660177">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660183">case</span>&nbsp;<span class="string" id="3660188">&#39;f&#39;</span><span class="op" id="3660191">:</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660197"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660198">[</span><span class="ident" id="3660199"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660200">]</span>&nbsp;<span class="op" id="3660202">=</span>&nbsp;<span class="string" id="3660204">&#39;\f&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660213"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660214">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660221"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660222">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660228">case</span>&nbsp;<span class="string" id="3660233">&#39;n&#39;</span><span class="op" id="3660236">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660242"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660243">[</span><span class="ident" id="3660244"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660245">]</span>&nbsp;<span class="op" id="3660247">=</span>&nbsp;<span class="string" id="3660249">&#39;\n&#39;</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660258"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660259">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660266"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660267">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660273">case</span>&nbsp;<span class="string" id="3660278">&#39;r&#39;</span><span class="op" id="3660281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660287"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660288">[</span><span class="ident" id="3660289"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660290">]</span>&nbsp;<span class="op" id="3660292">=</span>&nbsp;<span class="string" id="3660294">&#39;\r&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660303"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660304">++</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660311"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660312">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660318">case</span>&nbsp;<span class="string" id="3660323">&#39;t&#39;</span><span class="op" id="3660326">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660332"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660333">[</span><span class="ident" id="3660334"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660335">]</span>&nbsp;<span class="op" id="3660337">=</span>&nbsp;<span class="string" id="3660339">&#39;\t&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660348"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660349">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660356"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660357">++</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660363">case</span>&nbsp;<span class="string" id="3660368">&#39;u&#39;</span><span class="op" id="3660371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660377"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660378">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660385">rr</span>&nbsp;<span class="op" id="3660388">:=</span>&nbsp;<span class="ident" id="3660391"><a href="/encoding/json/decode.go.html#3658647">getu4</a></span><span class="op" id="3660396">(</span><span class="ident" id="3660397"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3660398">[</span><span class="ident" id="3660399"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660400">:</span><span class="op" id="3660401">]</span><span class="op" id="3660402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660408">if</span>&nbsp;<span class="ident" id="3660411"><a href="/encoding/json/decode.go.html#3660385">rr</a></span>&nbsp;<span class="op" id="3660414">&lt;</span>&nbsp;<span class="num" id="3660416">0</span>&nbsp;<span class="op" id="3660418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660425">return</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660442"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3660444">+=</span>&nbsp;<span class="num" id="3660447">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660453">if</span>&nbsp;<span class="ident" id="3660456"><a href="/encoding/json/decode.go.html#3634997">utf16</a></span><span class="op" id="3660461">.</span><span class="ident" id="3660462">IsSurrogate</span><span class="op" id="3660473">(</span><span class="ident" id="3660474"><a href="/encoding/json/decode.go.html#3660385">rr</a></span><span class="op" id="3660476">)</span>&nbsp;<span class="op" id="3660478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660485">rr1</span>&nbsp;<span class="op" id="3660489">:=</span>&nbsp;<span class="ident" id="3660492"><a href="/encoding/json/decode.go.html#3658647">getu4</a></span><span class="op" id="3660497">(</span><span class="ident" id="3660498"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3660499">[</span><span class="ident" id="3660500"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660501">:</span><span class="op" id="3660502">]</span><span class="op" id="3660503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660510">if</span>&nbsp;<span class="ident" id="3660513">dec</span>&nbsp;<span class="op" id="3660517">:=</span>&nbsp;<span class="ident" id="3660520"><a href="/encoding/json/decode.go.html#3634997">utf16</a></span><span class="op" id="3660525">.</span><span class="ident" id="3660526">DecodeRune</span><span class="op" id="3660536">(</span><span class="ident" id="3660537"><a href="/encoding/json/decode.go.html#3660385">rr</a></span><span class="op" id="3660539">,</span>&nbsp;<span class="ident" id="3660541"><a href="/encoding/json/decode.go.html#3660485">rr1</a></span><span class="op" id="3660544">)</span><span class="op" id="3660545">;</span>&nbsp;<span class="ident" id="3660547"><a href="/encoding/json/decode.go.html#3660513">dec</a></span>&nbsp;<span class="op" id="3660551">!=</span>&nbsp;<span class="ident" id="3660554"><a href="/encoding/json/decode.go.html#3634986">unicode</a></span><span class="op" id="3660561">.</span><span class="ident" id="3660562">ReplacementChar</span>&nbsp;<span class="op" id="3660578">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660586">//&nbsp;A&nbsp;valid&nbsp;pair;&nbsp;consume.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660618"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3660620">+=</span>&nbsp;<span class="num" id="3660623">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660631"><a href="/encoding/json/decode.go.html#3659675">w</a></span>&nbsp;<span class="op" id="3660633">+=</span>&nbsp;<span class="ident" id="3660636"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3660640">.</span><span class="ident" id="3660641">EncodeRune</span><span class="op" id="3660651">(</span><span class="ident" id="3660652"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660653">[</span><span class="ident" id="3660654"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660655">:</span><span class="op" id="3660656">]</span><span class="op" id="3660657">,</span>&nbsp;<span class="ident" id="3660659"><a href="/encoding/json/decode.go.html#3660513">dec</a></span><span class="op" id="3660662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660670">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660681">}</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660688">//&nbsp;Invalid&nbsp;surrogate;&nbsp;fall&nbsp;back&nbsp;to&nbsp;replacement&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660746"><a href="/encoding/json/decode.go.html#3660385">rr</a></span>&nbsp;<span class="op" id="3660749">=</span>&nbsp;<span class="ident" id="3660751"><a href="/encoding/json/decode.go.html#3634986">unicode</a></span><span class="op" id="3660758">.</span><span class="ident" id="3660759">ReplacementChar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660785"><a href="/encoding/json/decode.go.html#3659675">w</a></span>&nbsp;<span class="op" id="3660787">+=</span>&nbsp;<span class="ident" id="3660790"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3660794">.</span><span class="ident" id="3660795">EncodeRune</span><span class="op" id="3660805">(</span><span class="ident" id="3660806"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660807">[</span><span class="ident" id="3660808"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660809">:</span><span class="op" id="3660810">]</span><span class="op" id="3660811">,</span>&nbsp;<span class="ident" id="3660813"><a href="/encoding/json/decode.go.html#3660385">rr</a></span><span class="op" id="3660815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3660820">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660825">//&nbsp;Quote,&nbsp;control&nbsp;characters&nbsp;are&nbsp;invalid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660869">case</span>&nbsp;<span class="ident" id="3660874"><a href="/encoding/json/decode.go.html#3659959">c</a></span>&nbsp;<span class="op" id="3660876">==</span>&nbsp;<span class="string" id="3660879">&#39;&#34;&#39;</span><span class="op" id="3660882">,</span>&nbsp;<span class="ident" id="3660884"><a href="/encoding/json/decode.go.html#3659959">c</a></span>&nbsp;<span class="op" id="3660886">&lt;</span>&nbsp;<span class="string" id="3660888">&#39;&nbsp;&#39;</span><span class="op" id="3660891">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660896">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660906">//&nbsp;ASCII</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3660917">case</span>&nbsp;<span class="ident" id="3660922"><a href="/encoding/json/decode.go.html#3659959">c</a></span>&nbsp;<span class="op" id="3660924">&lt;</span>&nbsp;<span class="ident" id="3660926"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3660930">.</span><span class="ident" id="3660931">RuneSelf</span><span class="op" id="3660939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660944"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3660945">[</span><span class="ident" id="3660946"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660947">]</span>&nbsp;<span class="op" id="3660949">=</span>&nbsp;<span class="ident" id="3660951"><a href="/encoding/json/decode.go.html#3659959">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660956"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3660957">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3660963"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3660964">++</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3660970">//&nbsp;Coerce&nbsp;to&nbsp;well-formed&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661004">default</span><span class="op" id="3661011">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661016">rr</span><span class="op" id="3661018">,</span>&nbsp;<span class="ident" id="3661020">size</span>&nbsp;<span class="op" id="3661025">:=</span>&nbsp;<span class="ident" id="3661028"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3661032">.</span><span class="ident" id="3661033">DecodeRune</span><span class="op" id="3661043">(</span><span class="ident" id="3661044"><a href="/encoding/json/decode.go.html#3659098">s</a></span><span class="op" id="3661045">[</span><span class="ident" id="3661046"><a href="/encoding/json/decode.go.html#3659350">r</a></span><span class="op" id="3661047">:</span><span class="op" id="3661048">]</span><span class="op" id="3661049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661054"><a href="/encoding/json/decode.go.html#3659350">r</a></span>&nbsp;<span class="op" id="3661056">+=</span>&nbsp;<span class="ident" id="3661059"><a href="/encoding/json/decode.go.html#3661020">size</a></span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3661067"><a href="/encoding/json/decode.go.html#3659675">w</a></span>&nbsp;<span class="op" id="3661069">+=</span>&nbsp;<span class="ident" id="3661072"><a href="/encoding/json/decode.go.html#3635014">utf8</a></span><span class="op" id="3661076">.</span><span class="ident" id="3661077">EncodeRune</span><span class="op" id="3661087">(</span><span class="ident" id="3661088"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3661089">[</span><span class="ident" id="3661090"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3661091">:</span><span class="op" id="3661092">]</span><span class="op" id="3661093">,</span>&nbsp;<span class="ident" id="3661095"><a href="/encoding/json/decode.go.html#3661016">rr</a></span><span class="op" id="3661097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3661104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3661107">return</span>&nbsp;<span class="ident" id="3661114"><a href="/encoding/json/decode.go.html#3659634">b</a></span><span class="op" id="3661115">[</span><span class="num" id="3661116">0</span><span class="op" id="3661117">:</span><span class="ident" id="3661118"><a href="/encoding/json/decode.go.html#3659675">w</a></span><span class="op" id="3661119">]</span><span class="op" id="3661120">,</span>&nbsp;<span class="ident" id="3661122">true</span><br>
<span class="lineno"></span><span class="op" id="3661127">}</span>
</div>
</body>
</html>
