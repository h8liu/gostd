<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5824285">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5824340">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5824394">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5824445">//go:generate&nbsp;go&nbsp;run&nbsp;decgen.go&nbsp;-output&nbsp;dec_helpers.go</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824500">package</span>&nbsp;<span class="ident" id="5824508">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824513">import</span>&nbsp;<span class="op" id="5824520">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5824523">&#34;encoding&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5824535">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5824545">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5824551">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5824559">&#34;reflect&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5824569">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824572">var</span>&nbsp;<span class="op" id="5824576">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824579">errBadUint</span>&nbsp;<span class="op" id="5824590">=</span>&nbsp;<span class="ident" id="5824592"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5824598">.</span><span class="ident" id="5824599">New</span><span class="op" id="5824602">(</span><span class="string" id="5824603">&#34;gob:&nbsp;encoded&nbsp;unsigned&nbsp;integer&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5824647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824650">errBadType</span>&nbsp;<span class="op" id="5824661">=</span>&nbsp;<span class="ident" id="5824663"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5824669">.</span><span class="ident" id="5824670">New</span><span class="op" id="5824673">(</span><span class="string" id="5824674">&#34;gob:&nbsp;unknown&nbsp;type&nbsp;id&nbsp;or&nbsp;corrupted&nbsp;data&#34;</span><span class="op" id="5824714">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5824717">errRange</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5824728">=</span>&nbsp;<span class="ident" id="5824730"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5824736">.</span><span class="ident" id="5824737">New</span><span class="op" id="5824740">(</span><span class="string" id="5824741">&#34;gob:&nbsp;bad&nbsp;data:&nbsp;field&nbsp;numbers&nbsp;out&nbsp;of&nbsp;bounds&#34;</span><span class="op" id="5824785">)</span><br>
<span class="lineno"></span><span class="op" id="5824787">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824790">type</span>&nbsp;<span class="ident" id="5824795">decHelper</span>&nbsp;<span class="keyword" id="5824805">func</span><span class="op" id="5824809">(</span><span class="ident" id="5824810">state</span>&nbsp;<span class="op" id="5824816">*</span><span class="ident" id="5824817"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5824829">,</span>&nbsp;<span class="ident" id="5824831">v</span>&nbsp;<span class="ident" id="5824833"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5824840">.</span><span class="ident" id="5824841">Value</span><span class="op" id="5824846">,</span>&nbsp;<span class="ident" id="5824848">length</span>&nbsp;<span class="builtintype" id="5824855">int</span><span class="op" id="5824858">,</span>&nbsp;<span class="ident" id="5824860">ovfl</span>&nbsp;<span class="builtintype" id="5824865">error</span><span class="op" id="5824870">)</span>&nbsp;<span class="builtintype" id="5824872">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="5824878">//&nbsp;decoderState&nbsp;is&nbsp;the&nbsp;execution&nbsp;state&nbsp;of&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;decoder.&nbsp;A&nbsp;new&nbsp;state</span><br>
<span class="lineno"></span><span class="comment" id="5824960">//&nbsp;is&nbsp;created&nbsp;for&nbsp;nested&nbsp;objects.</span><br>
<span class="lineno"></span><span class="keyword" id="5824994">type</span>&nbsp;<span class="ident" id="5824999">decoderState</span>&nbsp;<span class="keyword" id="5825012">struct</span>&nbsp;<span class="op" id="5825019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825022">dec</span>&nbsp;<span class="op" id="5825026">*</span><span class="ident" id="5825027"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5825036">//&nbsp;The&nbsp;buffer&nbsp;is&nbsp;stored&nbsp;with&nbsp;an&nbsp;extra&nbsp;indirection&nbsp;because&nbsp;it&nbsp;may&nbsp;be&nbsp;replaced</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5825114">//&nbsp;if&nbsp;we&nbsp;load&nbsp;a&nbsp;type&nbsp;during&nbsp;decode&nbsp;(when&nbsp;reading&nbsp;an&nbsp;interface&nbsp;value).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825185">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825194">*</span><span class="ident" id="5825195"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825206">fieldnum</span>&nbsp;<span class="builtintype" id="5825215">int</span>&nbsp;<span class="comment" id="5825219">//&nbsp;the&nbsp;last&nbsp;field&nbsp;number&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825251">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825260">[</span><span class="op" id="5825261">]</span><span class="builtintype" id="5825262">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825268">next</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825277">*</span><span class="ident" id="5825278"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span>&nbsp;<span class="comment" id="5825291">//&nbsp;for&nbsp;free&nbsp;list</span><br>
<span class="lineno">35</span><span class="op" id="5825308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5825311">//&nbsp;decBuffer&nbsp;is&nbsp;an&nbsp;extremely&nbsp;simple,&nbsp;fast&nbsp;implementation&nbsp;of&nbsp;a&nbsp;read-only&nbsp;byte&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="comment" id="5825396">//&nbsp;It&nbsp;is&nbsp;initialized&nbsp;by&nbsp;calling&nbsp;Size&nbsp;and&nbsp;then&nbsp;copying&nbsp;the&nbsp;data&nbsp;into&nbsp;the&nbsp;slice&nbsp;returned&nbsp;by&nbsp;Bytes().</span><br>
<span class="lineno"></span><span class="keyword" id="5825495">type</span>&nbsp;<span class="ident" id="5825500">decBuffer</span>&nbsp;<span class="keyword" id="5825510">struct</span>&nbsp;<span class="op" id="5825517">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825520">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5825527">[</span><span class="op" id="5825528">]</span><span class="builtintype" id="5825529">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825535">offset</span>&nbsp;<span class="builtintype" id="5825542">int</span>&nbsp;<span class="comment" id="5825546">//&nbsp;Read&nbsp;offset.</span><br>
<span class="lineno"></span><span class="op" id="5825562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5825565">func</span>&nbsp;<span class="op" id="5825570">(</span><span class="ident" id="5825571">d</span>&nbsp;<span class="op" id="5825573">*</span><span class="ident" id="5825574"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5825583">)</span>&nbsp;<span class="ident" id="5825585">Read</span><span class="op" id="5825589">(</span><span class="ident" id="5825590">p</span>&nbsp;<span class="op" id="5825592">[</span><span class="op" id="5825593">]</span><span class="builtintype" id="5825594">byte</span><span class="op" id="5825598">)</span>&nbsp;<span class="op" id="5825600">(</span><span class="builtintype" id="5825601">int</span><span class="op" id="5825604">,</span>&nbsp;<span class="builtintype" id="5825606">error</span><span class="op" id="5825611">)</span>&nbsp;<span class="op" id="5825613">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825616">n</span>&nbsp;<span class="op" id="5825618">:=</span>&nbsp;<span class="builtinfunc" id="5825621">copy</span><span class="op" id="5825625">(</span><span class="ident" id="5825626"><a href="/encoding/gob/decode.go.html#5825590">p</a></span><span class="op" id="5825627">,</span>&nbsp;<span class="ident" id="5825629"><a href="/encoding/gob/decode.go.html#5825571">d</a></span><span class="op" id="5825630">.</span><span class="ident" id="5825631">data</span><span class="op" id="5825635">[</span><span class="ident" id="5825636"><a href="/encoding/gob/decode.go.html#5825571">d</a></span><span class="op" id="5825637">.</span><span class="ident" id="5825638">offset</span><span class="op" id="5825644">:</span><span class="op" id="5825645">]</span><span class="op" id="5825646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5825649">if</span>&nbsp;<span class="ident" id="5825652"><a href="/encoding/gob/decode.go.html#5825616">n</a></span>&nbsp;<span class="op" id="5825654">==</span>&nbsp;<span class="num" id="5825657">0</span>&nbsp;<span class="op" id="5825659">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5825662">len</span><span class="op" id="5825665">(</span><span class="ident" id="5825666"><a href="/encoding/gob/decode.go.html#5825590">p</a></span><span class="op" id="5825667">)</span>&nbsp;<span class="op" id="5825669">!=</span>&nbsp;<span class="num" id="5825672">0</span>&nbsp;<span class="op" id="5825674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5825678">return</span>&nbsp;<span class="num" id="5825685">0</span><span class="op" id="5825686">,</span>&nbsp;<span class="ident" id="5825688"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5825690">.</span><span class="ident" id="5825691">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5825696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825699"><a href="/encoding/gob/decode.go.html#5825571">d</a></span><span class="op" id="5825700">.</span><span class="ident" id="5825701">offset</span>&nbsp;<span class="op" id="5825708">+=</span>&nbsp;<span class="ident" id="5825711"><a href="/encoding/gob/decode.go.html#5825616">n</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5825714">return</span>&nbsp;<span class="ident" id="5825721"><a href="/encoding/gob/decode.go.html#5825616">n</a></span><span class="op" id="5825722">,</span>&nbsp;<span class="ident" id="5825724">nil</span><br>
<span class="lineno"></span><span class="op" id="5825728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5825731">func</span>&nbsp;<span class="op" id="5825736">(</span><span class="ident" id="5825737">d</span>&nbsp;<span class="op" id="5825739">*</span><span class="ident" id="5825740"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5825749">)</span>&nbsp;<span class="ident" id="5825751">Drop</span><span class="op" id="5825755">(</span><span class="ident" id="5825756">n</span>&nbsp;<span class="builtintype" id="5825758">int</span><span class="op" id="5825761">)</span>&nbsp;<span class="op" id="5825763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5825766">if</span>&nbsp;<span class="ident" id="5825769"><a href="/encoding/gob/decode.go.html#5825756">n</a></span>&nbsp;<span class="op" id="5825771">&gt;</span>&nbsp;<span class="ident" id="5825773"><a href="/encoding/gob/decode.go.html#5825737">d</a></span><span class="op" id="5825774">.</span><span class="ident" id="5825775">Len</span><span class="op" id="5825778">(</span><span class="op" id="5825779">)</span>&nbsp;<span class="op" id="5825781">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5825785">panic</span><span class="op" id="5825790">(</span><span class="string" id="5825791">&#34;drop&#34;</span><span class="op" id="5825797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5825800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825803"><a href="/encoding/gob/decode.go.html#5825737">d</a></span><span class="op" id="5825804">.</span><span class="ident" id="5825805">offset</span>&nbsp;<span class="op" id="5825812">+=</span>&nbsp;<span class="ident" id="5825815"><a href="/encoding/gob/decode.go.html#5825756">n</a></span><br>
<span class="lineno"></span><span class="op" id="5825817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5825820">//&nbsp;Size&nbsp;grows&nbsp;the&nbsp;buffer&nbsp;to&nbsp;exactly&nbsp;n&nbsp;bytes,&nbsp;so&nbsp;d.Bytes()&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="5825883">//&nbsp;return&nbsp;a&nbsp;slice&nbsp;of&nbsp;length&nbsp;n.&nbsp;Existing&nbsp;data&nbsp;is&nbsp;first&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="keyword" id="5825948">func</span>&nbsp;<span class="op" id="5825953">(</span><span class="ident" id="5825954">d</span>&nbsp;<span class="op" id="5825956">*</span><span class="ident" id="5825957"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5825966">)</span>&nbsp;<span class="ident" id="5825968">Size</span><span class="op" id="5825972">(</span><span class="ident" id="5825973">n</span>&nbsp;<span class="builtintype" id="5825975">int</span><span class="op" id="5825978">)</span>&nbsp;<span class="op" id="5825980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5825983"><a href="/encoding/gob/decode.go.html#5825954">d</a></span><span class="op" id="5825984">.</span><span class="ident" id="5825985">Reset</span><span class="op" id="5825990">(</span><span class="op" id="5825991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5825994">if</span>&nbsp;<span class="builtinfunc" id="5825997">cap</span><span class="op" id="5826000">(</span><span class="ident" id="5826001"><a href="/encoding/gob/decode.go.html#5825954">d</a></span><span class="op" id="5826002">.</span><span class="ident" id="5826003">data</span><span class="op" id="5826007">)</span>&nbsp;<span class="op" id="5826009">&lt;</span>&nbsp;<span class="ident" id="5826011"><a href="/encoding/gob/decode.go.html#5825973">n</a></span>&nbsp;<span class="op" id="5826013">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826017"><a href="/encoding/gob/decode.go.html#5825954">d</a></span><span class="op" id="5826018">.</span><span class="ident" id="5826019">data</span>&nbsp;<span class="op" id="5826024">=</span>&nbsp;<span class="builtinfunc" id="5826026">make</span><span class="op" id="5826030">(</span><span class="op" id="5826031">[</span><span class="op" id="5826032">]</span><span class="builtintype" id="5826033">byte</span><span class="op" id="5826037">,</span>&nbsp;<span class="ident" id="5826039"><a href="/encoding/gob/decode.go.html#5825973">n</a></span><span class="op" id="5826040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826043">}</span>&nbsp;<span class="keyword" id="5826045">else</span>&nbsp;<span class="op" id="5826050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826054"><a href="/encoding/gob/decode.go.html#5825954">d</a></span><span class="op" id="5826055">.</span><span class="ident" id="5826056">data</span>&nbsp;<span class="op" id="5826061">=</span>&nbsp;<span class="ident" id="5826063"><a href="/encoding/gob/decode.go.html#5825954">d</a></span><span class="op" id="5826064">.</span><span class="ident" id="5826065">data</span><span class="op" id="5826069">[</span><span class="num" id="5826070">0</span><span class="op" id="5826071">:</span><span class="ident" id="5826072"><a href="/encoding/gob/decode.go.html#5825973">n</a></span><span class="op" id="5826073">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826076">}</span><br>
<span class="lineno"></span><span class="op" id="5826078">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="5826081">func</span>&nbsp;<span class="op" id="5826086">(</span><span class="ident" id="5826087">d</span>&nbsp;<span class="op" id="5826089">*</span><span class="ident" id="5826090"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5826099">)</span>&nbsp;<span class="ident" id="5826101">ReadByte</span><span class="op" id="5826109">(</span><span class="op" id="5826110">)</span>&nbsp;<span class="op" id="5826112">(</span><span class="builtintype" id="5826113">byte</span><span class="op" id="5826117">,</span>&nbsp;<span class="builtintype" id="5826119">error</span><span class="op" id="5826124">)</span>&nbsp;<span class="op" id="5826126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826129">if</span>&nbsp;<span class="ident" id="5826132"><a href="/encoding/gob/decode.go.html#5826087">d</a></span><span class="op" id="5826133">.</span><span class="ident" id="5826134">offset</span>&nbsp;<span class="op" id="5826141">&gt;=</span>&nbsp;<span class="builtinfunc" id="5826144">len</span><span class="op" id="5826147">(</span><span class="ident" id="5826148"><a href="/encoding/gob/decode.go.html#5826087">d</a></span><span class="op" id="5826149">.</span><span class="ident" id="5826150">data</span><span class="op" id="5826154">)</span>&nbsp;<span class="op" id="5826156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826160">return</span>&nbsp;<span class="num" id="5826167">0</span><span class="op" id="5826168">,</span>&nbsp;<span class="ident" id="5826170"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5826172">.</span><span class="ident" id="5826173">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826178">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826181">c</span>&nbsp;<span class="op" id="5826183">:=</span>&nbsp;<span class="ident" id="5826186"><a href="/encoding/gob/decode.go.html#5826087">d</a></span><span class="op" id="5826187">.</span><span class="ident" id="5826188">data</span><span class="op" id="5826192">[</span><span class="ident" id="5826193"><a href="/encoding/gob/decode.go.html#5826087">d</a></span><span class="op" id="5826194">.</span><span class="ident" id="5826195">offset</span><span class="op" id="5826201">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826204"><a href="/encoding/gob/decode.go.html#5826087">d</a></span><span class="op" id="5826205">.</span><span class="ident" id="5826206">offset</span><span class="op" id="5826212">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826216">return</span>&nbsp;<span class="ident" id="5826223"><a href="/encoding/gob/decode.go.html#5826181">c</a></span><span class="op" id="5826224">,</span>&nbsp;<span class="ident" id="5826226">nil</span><br>
<span class="lineno"></span><span class="op" id="5826230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5826233">func</span>&nbsp;<span class="op" id="5826238">(</span><span class="ident" id="5826239">d</span>&nbsp;<span class="op" id="5826241">*</span><span class="ident" id="5826242"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5826251">)</span>&nbsp;<span class="ident" id="5826253">Len</span><span class="op" id="5826256">(</span><span class="op" id="5826257">)</span>&nbsp;<span class="builtintype" id="5826259">int</span>&nbsp;<span class="op" id="5826263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826266">return</span>&nbsp;<span class="builtinfunc" id="5826273">len</span><span class="op" id="5826276">(</span><span class="ident" id="5826277"><a href="/encoding/gob/decode.go.html#5826239">d</a></span><span class="op" id="5826278">.</span><span class="ident" id="5826279">data</span><span class="op" id="5826283">)</span>&nbsp;<span class="op" id="5826285">-</span>&nbsp;<span class="ident" id="5826287"><a href="/encoding/gob/decode.go.html#5826239">d</a></span><span class="op" id="5826288">.</span><span class="ident" id="5826289">offset</span><br>
<span class="lineno"></span><span class="op" id="5826296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826299">func</span>&nbsp;<span class="op" id="5826304">(</span><span class="ident" id="5826305">d</span>&nbsp;<span class="op" id="5826307">*</span><span class="ident" id="5826308"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5826317">)</span>&nbsp;<span class="ident" id="5826319">Bytes</span><span class="op" id="5826324">(</span><span class="op" id="5826325">)</span>&nbsp;<span class="op" id="5826327">[</span><span class="op" id="5826328">]</span><span class="builtintype" id="5826329">byte</span>&nbsp;<span class="op" id="5826334">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826337">return</span>&nbsp;<span class="ident" id="5826344"><a href="/encoding/gob/decode.go.html#5826305">d</a></span><span class="op" id="5826345">.</span><span class="ident" id="5826346">data</span><span class="op" id="5826350">[</span><span class="ident" id="5826351"><a href="/encoding/gob/decode.go.html#5826305">d</a></span><span class="op" id="5826352">.</span><span class="ident" id="5826353">offset</span><span class="op" id="5826359">:</span><span class="op" id="5826360">]</span><br>
<span class="lineno"></span><span class="op" id="5826362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826365">func</span>&nbsp;<span class="op" id="5826370">(</span><span class="ident" id="5826371">d</span>&nbsp;<span class="op" id="5826373">*</span><span class="ident" id="5826374"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5826383">)</span>&nbsp;<span class="ident" id="5826385">Reset</span><span class="op" id="5826390">(</span><span class="op" id="5826391">)</span>&nbsp;<span class="op" id="5826393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826396"><a href="/encoding/gob/decode.go.html#5826371">d</a></span><span class="op" id="5826397">.</span><span class="ident" id="5826398">data</span>&nbsp;<span class="op" id="5826403">=</span>&nbsp;<span class="ident" id="5826405"><a href="/encoding/gob/decode.go.html#5826371">d</a></span><span class="op" id="5826406">.</span><span class="ident" id="5826407">data</span><span class="op" id="5826411">[</span><span class="num" id="5826412">0</span><span class="op" id="5826413">:</span><span class="num" id="5826414">0</span><span class="op" id="5826415">]</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826418"><a href="/encoding/gob/decode.go.html#5826371">d</a></span><span class="op" id="5826419">.</span><span class="ident" id="5826420">offset</span>&nbsp;<span class="op" id="5826427">=</span>&nbsp;<span class="num" id="5826429">0</span><br>
<span class="lineno"></span><span class="op" id="5826431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826434">//&nbsp;We&nbsp;pass&nbsp;the&nbsp;bytes.Buffer&nbsp;separately&nbsp;for&nbsp;easier&nbsp;testing&nbsp;of&nbsp;the&nbsp;infrastructure</span><br>
<span class="lineno"></span><span class="comment" id="5826514">//&nbsp;without&nbsp;requiring&nbsp;a&nbsp;full&nbsp;Decoder.</span><br>
<span class="lineno">95</span><span class="keyword" id="5826551">func</span>&nbsp;<span class="op" id="5826556">(</span><span class="ident" id="5826557">dec</span>&nbsp;<span class="op" id="5826561">*</span><span class="ident" id="5826562"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5826569">)</span>&nbsp;<span class="ident" id="5826571">newDecoderState</span><span class="op" id="5826586">(</span><span class="ident" id="5826587">buf</span>&nbsp;<span class="op" id="5826591">*</span><span class="ident" id="5826592"><a href="/encoding/gob/decode.go.html#5825500">decBuffer</a></span><span class="op" id="5826601">)</span>&nbsp;<span class="op" id="5826603">*</span><span class="ident" id="5826604"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span>&nbsp;<span class="op" id="5826617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826620">d</span>&nbsp;<span class="op" id="5826622">:=</span>&nbsp;<span class="ident" id="5826625"><a href="/encoding/gob/decode.go.html#5826557">dec</a></span><span class="op" id="5826628">.</span><span class="ident" id="5826629">freeList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826639">if</span>&nbsp;<span class="ident" id="5826642"><a href="/encoding/gob/decode.go.html#5826620">d</a></span>&nbsp;<span class="op" id="5826644">==</span>&nbsp;<span class="ident" id="5826647">nil</span>&nbsp;<span class="op" id="5826651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826655"><a href="/encoding/gob/decode.go.html#5826620">d</a></span>&nbsp;<span class="op" id="5826657">=</span>&nbsp;<span class="builtinfunc" id="5826659">new</span><span class="op" id="5826662">(</span><span class="ident" id="5826663"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5826675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826679"><a href="/encoding/gob/decode.go.html#5826620">d</a></span><span class="op" id="5826680">.</span><span class="ident" id="5826681">dec</span>&nbsp;<span class="op" id="5826685">=</span>&nbsp;<span class="ident" id="5826687"><a href="/encoding/gob/decode.go.html#5826557">dec</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826693"><a href="/encoding/gob/decode.go.html#5826620">d</a></span><span class="op" id="5826694">.</span><span class="ident" id="5826695">buf</span>&nbsp;<span class="op" id="5826699">=</span>&nbsp;<span class="builtinfunc" id="5826701">make</span><span class="op" id="5826705">(</span><span class="op" id="5826706">[</span><span class="op" id="5826707">]</span><span class="builtintype" id="5826708">byte</span><span class="op" id="5826712">,</span>&nbsp;<span class="ident" id="5826714"><a href="/encoding/gob/encode.go.html#5895656">uint64Size</a></span><span class="op" id="5826724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826727">}</span>&nbsp;<span class="keyword" id="5826729">else</span>&nbsp;<span class="op" id="5826734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826738"><a href="/encoding/gob/decode.go.html#5826557">dec</a></span><span class="op" id="5826741">.</span><span class="ident" id="5826742">freeList</span>&nbsp;<span class="op" id="5826751">=</span>&nbsp;<span class="ident" id="5826753"><a href="/encoding/gob/decode.go.html#5826620">d</a></span><span class="op" id="5826754">.</span><span class="ident" id="5826755">next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5826761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826764"><a href="/encoding/gob/decode.go.html#5826620">d</a></span><span class="op" id="5826765">.</span><span class="ident" id="5826766">b</span>&nbsp;<span class="op" id="5826768">=</span>&nbsp;<span class="ident" id="5826770"><a href="/encoding/gob/decode.go.html#5826587">buf</a></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826775">return</span>&nbsp;<span class="ident" id="5826782"><a href="/encoding/gob/decode.go.html#5826620">d</a></span><br>
<span class="lineno"></span><span class="op" id="5826784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826787">func</span>&nbsp;<span class="op" id="5826792">(</span><span class="ident" id="5826793">dec</span>&nbsp;<span class="op" id="5826797">*</span><span class="ident" id="5826798"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5826805">)</span>&nbsp;<span class="ident" id="5826807">freeDecoderState</span><span class="op" id="5826823">(</span><span class="ident" id="5826824">d</span>&nbsp;<span class="op" id="5826826">*</span><span class="ident" id="5826827"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5826839">)</span>&nbsp;<span class="op" id="5826841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826844"><a href="/encoding/gob/decode.go.html#5826824">d</a></span><span class="op" id="5826845">.</span><span class="ident" id="5826846">next</span>&nbsp;<span class="op" id="5826851">=</span>&nbsp;<span class="ident" id="5826853"><a href="/encoding/gob/decode.go.html#5826793">dec</a></span><span class="op" id="5826856">.</span><span class="ident" id="5826857">freeList</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5826867"><a href="/encoding/gob/decode.go.html#5826793">dec</a></span><span class="op" id="5826870">.</span><span class="ident" id="5826871">freeList</span>&nbsp;<span class="op" id="5826880">=</span>&nbsp;<span class="ident" id="5826882"><a href="/encoding/gob/decode.go.html#5826824">d</a></span><br>
<span class="lineno"></span><span class="op" id="5826884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826887">func</span>&nbsp;<span class="ident" id="5826892">overflow</span><span class="op" id="5826900">(</span><span class="ident" id="5826901">name</span>&nbsp;<span class="builtintype" id="5826906">string</span><span class="op" id="5826912">)</span>&nbsp;<span class="builtintype" id="5826914">error</span>&nbsp;<span class="op" id="5826920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5826923">return</span>&nbsp;<span class="ident" id="5826930"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5826936">.</span><span class="ident" id="5826937">New</span><span class="op" id="5826940">(</span><span class="string" id="5826941">`value&nbsp;for&nbsp;&#34;`</span>&nbsp;<span class="op" id="5826955">+</span>&nbsp;<span class="ident" id="5826957"><a href="/encoding/gob/decode.go.html#5826901">name</a></span>&nbsp;<span class="op" id="5826962">+</span>&nbsp;<span class="string" id="5826964">`&#34;&nbsp;out&nbsp;of&nbsp;range`</span><span class="op" id="5826980">)</span><br>
<span class="lineno">115</span><span class="op" id="5826982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826985">//&nbsp;decodeUintReader&nbsp;reads&nbsp;an&nbsp;encoded&nbsp;unsigned&nbsp;integer&nbsp;from&nbsp;an&nbsp;io.Reader.</span><br>
<span class="lineno"></span><span class="comment" id="5827058">//&nbsp;Used&nbsp;only&nbsp;by&nbsp;the&nbsp;Decoder&nbsp;to&nbsp;read&nbsp;the&nbsp;message&nbsp;length.</span><br>
<span class="lineno"></span><span class="keyword" id="5827114">func</span>&nbsp;<span class="ident" id="5827119">decodeUintReader</span><span class="op" id="5827135">(</span><span class="ident" id="5827136">r</span>&nbsp;<span class="ident" id="5827138"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5827140">.</span><span class="ident" id="5827141">Reader</span><span class="op" id="5827147">,</span>&nbsp;<span class="ident" id="5827149">buf</span>&nbsp;<span class="op" id="5827153">[</span><span class="op" id="5827154">]</span><span class="builtintype" id="5827155">byte</span><span class="op" id="5827159">)</span>&nbsp;<span class="op" id="5827161">(</span><span class="ident" id="5827162">x</span>&nbsp;<span class="ident" id="5827164">uint64</span><span class="op" id="5827170">,</span>&nbsp;<span class="ident" id="5827172">width</span>&nbsp;<span class="builtintype" id="5827178">int</span><span class="op" id="5827181">,</span>&nbsp;<span class="ident" id="5827183">err</span>&nbsp;<span class="builtintype" id="5827187">error</span><span class="op" id="5827192">)</span>&nbsp;<span class="op" id="5827194">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827197"><a href="/encoding/gob/decode.go.html#5827172">width</a></span>&nbsp;<span class="op" id="5827203">=</span>&nbsp;<span class="num" id="5827205">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827208">n</span><span class="op" id="5827209">,</span>&nbsp;<span class="ident" id="5827211"><a href="/encoding/gob/decode.go.html#5827183">err</a></span>&nbsp;<span class="op" id="5827215">:=</span>&nbsp;<span class="ident" id="5827218"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5827220">.</span><span class="ident" id="5827221">ReadFull</span><span class="op" id="5827229">(</span><span class="ident" id="5827230"><a href="/encoding/gob/decode.go.html#5827136">r</a></span><span class="op" id="5827231">,</span>&nbsp;<span class="ident" id="5827233"><a href="/encoding/gob/decode.go.html#5827149">buf</a></span><span class="op" id="5827236">[</span><span class="num" id="5827237">0</span><span class="op" id="5827238">:</span><span class="ident" id="5827239"><a href="/encoding/gob/decode.go.html#5827172">width</a></span><span class="op" id="5827244">]</span><span class="op" id="5827245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827248">if</span>&nbsp;<span class="ident" id="5827251"><a href="/encoding/gob/decode.go.html#5827208">n</a></span>&nbsp;<span class="op" id="5827253">==</span>&nbsp;<span class="num" id="5827256">0</span>&nbsp;<span class="op" id="5827258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827262">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827270">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827273">b</span>&nbsp;<span class="op" id="5827275">:=</span>&nbsp;<span class="ident" id="5827278"><a href="/encoding/gob/decode.go.html#5827149">buf</a></span><span class="op" id="5827281">[</span><span class="num" id="5827282">0</span><span class="op" id="5827283">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827286">if</span>&nbsp;<span class="ident" id="5827289"><a href="/encoding/gob/decode.go.html#5827273">b</a></span>&nbsp;<span class="op" id="5827291">&lt;=</span>&nbsp;<span class="num" id="5827294">0x7f</span>&nbsp;<span class="op" id="5827299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827303">return</span>&nbsp;<span class="ident" id="5827310">uint64</span><span class="op" id="5827316">(</span><span class="ident" id="5827317"><a href="/encoding/gob/decode.go.html#5827273">b</a></span><span class="op" id="5827318">)</span><span class="op" id="5827319">,</span>&nbsp;<span class="ident" id="5827321"><a href="/encoding/gob/decode.go.html#5827172">width</a></span><span class="op" id="5827326">,</span>&nbsp;<span class="ident" id="5827328">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827336"><a href="/encoding/gob/decode.go.html#5827208">n</a></span>&nbsp;<span class="op" id="5827338">=</span>&nbsp;<span class="op" id="5827340">-</span><span class="builtintype" id="5827341">int</span><span class="op" id="5827344">(</span><span class="builtintype" id="5827345">int8</span><span class="op" id="5827349">(</span><span class="ident" id="5827350"><a href="/encoding/gob/decode.go.html#5827273">b</a></span><span class="op" id="5827351">)</span><span class="op" id="5827352">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827355">if</span>&nbsp;<span class="ident" id="5827358"><a href="/encoding/gob/decode.go.html#5827208">n</a></span>&nbsp;<span class="op" id="5827360">&gt;</span>&nbsp;<span class="ident" id="5827362"><a href="/encoding/gob/encode.go.html#5895656">uint64Size</a></span>&nbsp;<span class="op" id="5827373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827377"><a href="/encoding/gob/decode.go.html#5827183">err</a></span>&nbsp;<span class="op" id="5827381">=</span>&nbsp;<span class="ident" id="5827383"><a href="/encoding/gob/decode.go.html#5824579">errBadUint</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827396">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827407"><a href="/encoding/gob/decode.go.html#5827172">width</a></span><span class="op" id="5827412">,</span>&nbsp;<span class="ident" id="5827414"><a href="/encoding/gob/decode.go.html#5827183">err</a></span>&nbsp;<span class="op" id="5827418">=</span>&nbsp;<span class="ident" id="5827420"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5827422">.</span><span class="ident" id="5827423">ReadFull</span><span class="op" id="5827431">(</span><span class="ident" id="5827432"><a href="/encoding/gob/decode.go.html#5827136">r</a></span><span class="op" id="5827433">,</span>&nbsp;<span class="ident" id="5827435"><a href="/encoding/gob/decode.go.html#5827149">buf</a></span><span class="op" id="5827438">[</span><span class="num" id="5827439">0</span><span class="op" id="5827440">:</span><span class="ident" id="5827441"><a href="/encoding/gob/decode.go.html#5827208">n</a></span><span class="op" id="5827442">]</span><span class="op" id="5827443">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827446">if</span>&nbsp;<span class="ident" id="5827449"><a href="/encoding/gob/decode.go.html#5827183">err</a></span>&nbsp;<span class="op" id="5827453">!=</span>&nbsp;<span class="ident" id="5827456">nil</span>&nbsp;<span class="op" id="5827460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827464">if</span>&nbsp;<span class="ident" id="5827467"><a href="/encoding/gob/decode.go.html#5827183">err</a></span>&nbsp;<span class="op" id="5827471">==</span>&nbsp;<span class="ident" id="5827474"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5827476">.</span><span class="ident" id="5827477">EOF</span>&nbsp;<span class="op" id="5827481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827486"><a href="/encoding/gob/decode.go.html#5827183">err</a></span>&nbsp;<span class="op" id="5827490">=</span>&nbsp;<span class="ident" id="5827492"><a href="/encoding/gob/decode.go.html#5824545">io</a></span><span class="op" id="5827494">.</span><span class="ident" id="5827495">ErrUnexpectedEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827518">return</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5827529">//&nbsp;Could&nbsp;check&nbsp;that&nbsp;the&nbsp;high&nbsp;byte&nbsp;is&nbsp;zero&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;worth&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827595">for</span>&nbsp;<span class="ident" id="5827599">_</span><span class="op" id="5827600">,</span>&nbsp;<span class="ident" id="5827602">b</span>&nbsp;<span class="op" id="5827604">:=</span>&nbsp;<span class="keyword" id="5827607">range</span>&nbsp;<span class="ident" id="5827613"><a href="/encoding/gob/decode.go.html#5827149">buf</a></span><span class="op" id="5827616">[</span><span class="num" id="5827617">0</span><span class="op" id="5827618">:</span><span class="ident" id="5827619"><a href="/encoding/gob/decode.go.html#5827172">width</a></span><span class="op" id="5827624">]</span>&nbsp;<span class="op" id="5827626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827630"><a href="/encoding/gob/decode.go.html#5827162">x</a></span>&nbsp;<span class="op" id="5827632">=</span>&nbsp;<span class="ident" id="5827634"><a href="/encoding/gob/decode.go.html#5827162">x</a></span><span class="op" id="5827635">&lt;&lt;</span><span class="num" id="5827637">8</span>&nbsp;<span class="op" id="5827639">|</span>&nbsp;<span class="ident" id="5827641">uint64</span><span class="op" id="5827647">(</span><span class="ident" id="5827648"><a href="/encoding/gob/decode.go.html#5827602">b</a></span><span class="op" id="5827649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827652">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827655"><a href="/encoding/gob/decode.go.html#5827172">width</a></span><span class="op" id="5827660">++</span>&nbsp;<span class="comment" id="5827663">//&nbsp;+1&nbsp;for&nbsp;length&nbsp;byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827686">return</span><br>
<span class="lineno"></span><span class="op" id="5827693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5827696">//&nbsp;decodeUint&nbsp;reads&nbsp;an&nbsp;encoded&nbsp;unsigned&nbsp;integer&nbsp;from&nbsp;state.r.</span><br>
<span class="lineno">150</span><span class="comment" id="5827758">//&nbsp;Does&nbsp;not&nbsp;check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="5827790">func</span>&nbsp;<span class="op" id="5827795">(</span><span class="ident" id="5827796">state</span>&nbsp;<span class="op" id="5827802">*</span><span class="ident" id="5827803"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5827815">)</span>&nbsp;<span class="ident" id="5827817">decodeUint</span><span class="op" id="5827827">(</span><span class="op" id="5827828">)</span>&nbsp;<span class="op" id="5827830">(</span><span class="ident" id="5827831">x</span>&nbsp;<span class="ident" id="5827833">uint64</span><span class="op" id="5827839">)</span>&nbsp;<span class="op" id="5827841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827844">b</span><span class="op" id="5827845">,</span>&nbsp;<span class="ident" id="5827847">err</span>&nbsp;<span class="op" id="5827851">:=</span>&nbsp;<span class="ident" id="5827854"><a href="/encoding/gob/decode.go.html#5827796">state</a></span><span class="op" id="5827859">.</span><span class="ident" id="5827860">b</span><span class="op" id="5827861">.</span><span class="ident" id="5827862">ReadByte</span><span class="op" id="5827870">(</span><span class="op" id="5827871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827874">if</span>&nbsp;<span class="ident" id="5827877"><a href="/encoding/gob/decode.go.html#5827847">err</a></span>&nbsp;<span class="op" id="5827881">!=</span>&nbsp;<span class="ident" id="5827884">nil</span>&nbsp;<span class="op" id="5827888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827892"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5827898">(</span><span class="ident" id="5827899"><a href="/encoding/gob/decode.go.html#5827847">err</a></span><span class="op" id="5827902">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827908">if</span>&nbsp;<span class="ident" id="5827911"><a href="/encoding/gob/decode.go.html#5827844">b</a></span>&nbsp;<span class="op" id="5827913">&lt;=</span>&nbsp;<span class="num" id="5827916">0x7f</span>&nbsp;<span class="op" id="5827921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827925">return</span>&nbsp;<span class="ident" id="5827932">uint64</span><span class="op" id="5827938">(</span><span class="ident" id="5827939"><a href="/encoding/gob/decode.go.html#5827844">b</a></span><span class="op" id="5827940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5827943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827946">n</span>&nbsp;<span class="op" id="5827948">:=</span>&nbsp;<span class="op" id="5827951">-</span><span class="builtintype" id="5827952">int</span><span class="op" id="5827955">(</span><span class="builtintype" id="5827956">int8</span><span class="op" id="5827960">(</span><span class="ident" id="5827961"><a href="/encoding/gob/decode.go.html#5827844">b</a></span><span class="op" id="5827962">)</span><span class="op" id="5827963">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5827966">if</span>&nbsp;<span class="ident" id="5827969"><a href="/encoding/gob/decode.go.html#5827946">n</a></span>&nbsp;<span class="op" id="5827971">&gt;</span>&nbsp;<span class="ident" id="5827973"><a href="/encoding/gob/encode.go.html#5895656">uint64Size</a></span>&nbsp;<span class="op" id="5827984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5827988"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5827994">(</span><span class="ident" id="5827995"><a href="/encoding/gob/decode.go.html#5824579">errBadUint</a></span><span class="op" id="5828005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5828008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828011">width</span><span class="op" id="5828016">,</span>&nbsp;<span class="ident" id="5828018"><a href="/encoding/gob/decode.go.html#5827847">err</a></span>&nbsp;<span class="op" id="5828022">:=</span>&nbsp;<span class="ident" id="5828025"><a href="/encoding/gob/decode.go.html#5827796">state</a></span><span class="op" id="5828030">.</span><span class="ident" id="5828031">b</span><span class="op" id="5828032">.</span><span class="ident" id="5828033">Read</span><span class="op" id="5828037">(</span><span class="ident" id="5828038"><a href="/encoding/gob/decode.go.html#5827796">state</a></span><span class="op" id="5828043">.</span><span class="ident" id="5828044">buf</span><span class="op" id="5828047">[</span><span class="num" id="5828048">0</span><span class="op" id="5828049">:</span><span class="ident" id="5828050"><a href="/encoding/gob/decode.go.html#5827946">n</a></span><span class="op" id="5828051">]</span><span class="op" id="5828052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5828055">if</span>&nbsp;<span class="ident" id="5828058"><a href="/encoding/gob/decode.go.html#5827847">err</a></span>&nbsp;<span class="op" id="5828062">!=</span>&nbsp;<span class="ident" id="5828065">nil</span>&nbsp;<span class="op" id="5828069">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828073"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5828079">(</span><span class="ident" id="5828080"><a href="/encoding/gob/decode.go.html#5827847">err</a></span><span class="op" id="5828083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5828086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828089">//&nbsp;Don&#39;t&nbsp;need&nbsp;to&nbsp;check&nbsp;error;&nbsp;it&#39;s&nbsp;safe&nbsp;to&nbsp;loop&nbsp;regardless.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5828150">//&nbsp;Could&nbsp;check&nbsp;that&nbsp;the&nbsp;high&nbsp;byte&nbsp;is&nbsp;zero&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;worth&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5828216">for</span>&nbsp;<span class="ident" id="5828220">_</span><span class="op" id="5828221">,</span>&nbsp;<span class="ident" id="5828223">b</span>&nbsp;<span class="op" id="5828225">:=</span>&nbsp;<span class="keyword" id="5828228">range</span>&nbsp;<span class="ident" id="5828234"><a href="/encoding/gob/decode.go.html#5827796">state</a></span><span class="op" id="5828239">.</span><span class="ident" id="5828240">buf</span><span class="op" id="5828243">[</span><span class="num" id="5828244">0</span><span class="op" id="5828245">:</span><span class="ident" id="5828246"><a href="/encoding/gob/decode.go.html#5828011">width</a></span><span class="op" id="5828251">]</span>&nbsp;<span class="op" id="5828253">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828257"><a href="/encoding/gob/decode.go.html#5827831">x</a></span>&nbsp;<span class="op" id="5828259">=</span>&nbsp;<span class="ident" id="5828261"><a href="/encoding/gob/decode.go.html#5827831">x</a></span><span class="op" id="5828262">&lt;&lt;</span><span class="num" id="5828264">8</span>&nbsp;<span class="op" id="5828266">|</span>&nbsp;<span class="ident" id="5828268">uint64</span><span class="op" id="5828274">(</span><span class="ident" id="5828275"><a href="/encoding/gob/decode.go.html#5828223">b</a></span><span class="op" id="5828276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5828279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5828282">return</span>&nbsp;<span class="ident" id="5828289"><a href="/encoding/gob/decode.go.html#5827831">x</a></span><br>
<span class="lineno"></span><span class="op" id="5828291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="5828294">//&nbsp;decodeInt&nbsp;reads&nbsp;an&nbsp;encoded&nbsp;signed&nbsp;integer&nbsp;from&nbsp;state.r.</span><br>
<span class="lineno"></span><span class="comment" id="5828353">//&nbsp;Does&nbsp;not&nbsp;check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="keyword" id="5828385">func</span>&nbsp;<span class="op" id="5828390">(</span><span class="ident" id="5828391">state</span>&nbsp;<span class="op" id="5828397">*</span><span class="ident" id="5828398"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5828410">)</span>&nbsp;<span class="ident" id="5828412">decodeInt</span><span class="op" id="5828421">(</span><span class="op" id="5828422">)</span>&nbsp;<span class="ident" id="5828424">int64</span>&nbsp;<span class="op" id="5828430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828433">x</span>&nbsp;<span class="op" id="5828435">:=</span>&nbsp;<span class="ident" id="5828438"><a href="/encoding/gob/decode.go.html#5828391">state</a></span><span class="op" id="5828443">.</span><span class="ident" id="5828444">decodeUint</span><span class="op" id="5828454">(</span><span class="op" id="5828455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5828458">if</span>&nbsp;<span class="ident" id="5828461"><a href="/encoding/gob/decode.go.html#5828433">x</a></span><span class="op" id="5828462">&amp;</span><span class="num" id="5828463">1</span>&nbsp;<span class="op" id="5828465">!=</span>&nbsp;<span class="num" id="5828468">0</span>&nbsp;<span class="op" id="5828470">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5828474">return</span>&nbsp;<span class="op" id="5828481">^</span><span class="ident" id="5828482">int64</span><span class="op" id="5828487">(</span><span class="ident" id="5828488"><a href="/encoding/gob/decode.go.html#5828433">x</a></span>&nbsp;<span class="op" id="5828490">&gt;&gt;</span>&nbsp;<span class="num" id="5828493">1</span><span class="op" id="5828494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5828497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5828500">return</span>&nbsp;<span class="ident" id="5828507">int64</span><span class="op" id="5828512">(</span><span class="ident" id="5828513"><a href="/encoding/gob/decode.go.html#5828433">x</a></span>&nbsp;<span class="op" id="5828515">&gt;&gt;</span>&nbsp;<span class="num" id="5828518">1</span><span class="op" id="5828519">)</span><br>
<span class="lineno"></span><span class="op" id="5828521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="5828524">//&nbsp;decOp&nbsp;is&nbsp;the&nbsp;signature&nbsp;of&nbsp;a&nbsp;decoding&nbsp;operator&nbsp;for&nbsp;a&nbsp;given&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5828591">type</span>&nbsp;<span class="ident" id="5828596">decOp</span>&nbsp;<span class="keyword" id="5828602">func</span><span class="op" id="5828606">(</span><span class="ident" id="5828607">i</span>&nbsp;<span class="op" id="5828609">*</span><span class="ident" id="5828610"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5828618">,</span>&nbsp;<span class="ident" id="5828620">state</span>&nbsp;<span class="op" id="5828626">*</span><span class="ident" id="5828627"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5828639">,</span>&nbsp;<span class="ident" id="5828641">v</span>&nbsp;<span class="ident" id="5828643"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5828650">.</span><span class="ident" id="5828651">Value</span><span class="op" id="5828656">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5828659">//&nbsp;The&nbsp;&#39;instructions&#39;&nbsp;of&nbsp;the&nbsp;decoding&nbsp;machine</span><br>
<span class="lineno"></span><span class="keyword" id="5828705">type</span>&nbsp;<span class="ident" id="5828710">decInstr</span>&nbsp;<span class="keyword" id="5828719">struct</span>&nbsp;<span class="op" id="5828726">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828729">op</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828735"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828742">field</span>&nbsp;<span class="builtintype" id="5828748">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5828754">//&nbsp;field&nbsp;number&nbsp;of&nbsp;the&nbsp;wire&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828788">index</span>&nbsp;<span class="op" id="5828794">[</span><span class="op" id="5828795">]</span><span class="builtintype" id="5828796">int</span>&nbsp;<span class="comment" id="5828800">//&nbsp;field&nbsp;access&nbsp;indices&nbsp;for&nbsp;destination&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5828846">ovfl</span>&nbsp;&nbsp;<span class="builtintype" id="5828852">error</span>&nbsp;<span class="comment" id="5828858">//&nbsp;error&nbsp;message&nbsp;for&nbsp;overflow/underflow&nbsp;(for&nbsp;arrays,&nbsp;of&nbsp;the&nbsp;elements)</span><br>
<span class="lineno"></span><span class="op" id="5828928">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="5828931">//&nbsp;ignoreUint&nbsp;discards&nbsp;a&nbsp;uint&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5828988">func</span>&nbsp;<span class="ident" id="5828993">ignoreUint</span><span class="op" id="5829003">(</span><span class="ident" id="5829004">i</span>&nbsp;<span class="op" id="5829006">*</span><span class="ident" id="5829007"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5829015">,</span>&nbsp;<span class="ident" id="5829017">state</span>&nbsp;<span class="op" id="5829023">*</span><span class="ident" id="5829024"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5829036">,</span>&nbsp;<span class="ident" id="5829038">v</span>&nbsp;<span class="ident" id="5829040"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5829047">.</span><span class="ident" id="5829048">Value</span><span class="op" id="5829053">)</span>&nbsp;<span class="op" id="5829055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829058"><a href="/encoding/gob/decode.go.html#5829017">state</a></span><span class="op" id="5829063">.</span><span class="ident" id="5829064">decodeUint</span><span class="op" id="5829074">(</span><span class="op" id="5829075">)</span><br>
<span class="lineno"></span><span class="op" id="5829077">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="5829080">//&nbsp;ignoreTwoUints&nbsp;discards&nbsp;a&nbsp;uint&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.&nbsp;It&#39;s&nbsp;used&nbsp;to&nbsp;skip</span><br>
<span class="lineno"></span><span class="comment" id="5829159">//&nbsp;complex&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5829178">func</span>&nbsp;<span class="ident" id="5829183">ignoreTwoUints</span><span class="op" id="5829197">(</span><span class="ident" id="5829198">i</span>&nbsp;<span class="op" id="5829200">*</span><span class="ident" id="5829201"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5829209">,</span>&nbsp;<span class="ident" id="5829211">state</span>&nbsp;<span class="op" id="5829217">*</span><span class="ident" id="5829218"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5829230">,</span>&nbsp;<span class="ident" id="5829232">v</span>&nbsp;<span class="ident" id="5829234"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5829241">.</span><span class="ident" id="5829242">Value</span><span class="op" id="5829247">)</span>&nbsp;<span class="op" id="5829249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829252"><a href="/encoding/gob/decode.go.html#5829211">state</a></span><span class="op" id="5829257">.</span><span class="ident" id="5829258">decodeUint</span><span class="op" id="5829268">(</span><span class="op" id="5829269">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829272"><a href="/encoding/gob/decode.go.html#5829211">state</a></span><span class="op" id="5829277">.</span><span class="ident" id="5829278">decodeUint</span><span class="op" id="5829288">(</span><span class="op" id="5829289">)</span><br>
<span class="lineno"></span><span class="op" id="5829291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5829294">//&nbsp;Since&nbsp;the&nbsp;encoder&nbsp;writes&nbsp;no&nbsp;zeros,&nbsp;if&nbsp;we&nbsp;arrive&nbsp;at&nbsp;a&nbsp;decoder&nbsp;we&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="5829366">//&nbsp;a&nbsp;value&nbsp;to&nbsp;extract&nbsp;and&nbsp;store.&nbsp;&nbsp;The&nbsp;field&nbsp;number&nbsp;has&nbsp;already&nbsp;been&nbsp;read</span><br>
<span class="lineno">210</span><span class="comment" id="5829439">//&nbsp;(it&#39;s&nbsp;how&nbsp;we&nbsp;knew&nbsp;to&nbsp;call&nbsp;this&nbsp;decoder).</span><br>
<span class="lineno"></span><span class="comment" id="5829483">//&nbsp;Each&nbsp;decoder&nbsp;is&nbsp;responsible&nbsp;for&nbsp;handling&nbsp;any&nbsp;indirections&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="5829555">//&nbsp;with&nbsp;the&nbsp;data&nbsp;structure.&nbsp;&nbsp;If&nbsp;any&nbsp;pointer&nbsp;so&nbsp;reached&nbsp;is&nbsp;nil,&nbsp;allocation&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="5829634">//&nbsp;be&nbsp;done.</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="5829647">//&nbsp;decAlloc&nbsp;takes&nbsp;a&nbsp;value&nbsp;and&nbsp;returns&nbsp;a&nbsp;settable&nbsp;value&nbsp;that&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="5829711">//&nbsp;be&nbsp;assigned&nbsp;to.&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;a&nbsp;pointer,&nbsp;decAlloc&nbsp;guarantees&nbsp;it&nbsp;points&nbsp;to&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="5829799">//&nbsp;The&nbsp;callers&nbsp;to&nbsp;the&nbsp;individual&nbsp;decoders&nbsp;are&nbsp;expected&nbsp;to&nbsp;have&nbsp;used&nbsp;decAlloc.</span><br>
<span class="lineno"></span><span class="comment" id="5829877">//&nbsp;The&nbsp;individual&nbsp;decoders&nbsp;don&#39;t&nbsp;need&nbsp;to&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="5829922">func</span>&nbsp;<span class="ident" id="5829927">decAlloc</span><span class="op" id="5829935">(</span><span class="ident" id="5829936">v</span>&nbsp;<span class="ident" id="5829938"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5829945">.</span><span class="ident" id="5829946">Value</span><span class="op" id="5829951">)</span>&nbsp;<span class="ident" id="5829953"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5829960">.</span><span class="ident" id="5829961">Value</span>&nbsp;<span class="op" id="5829967">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829970">for</span>&nbsp;<span class="ident" id="5829974"><a href="/encoding/gob/decode.go.html#5829936">v</a></span><span class="op" id="5829975">.</span><span class="ident" id="5829976">Kind</span><span class="op" id="5829980">(</span><span class="op" id="5829981">)</span>&nbsp;<span class="op" id="5829983">==</span>&nbsp;<span class="ident" id="5829986"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5829993">.</span><span class="ident" id="5829994">Ptr</span>&nbsp;<span class="op" id="5829998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830002">if</span>&nbsp;<span class="ident" id="5830005"><a href="/encoding/gob/decode.go.html#5829936">v</a></span><span class="op" id="5830006">.</span><span class="ident" id="5830007">IsNil</span><span class="op" id="5830012">(</span><span class="op" id="5830013">)</span>&nbsp;<span class="op" id="5830015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830020"><a href="/encoding/gob/decode.go.html#5829936">v</a></span><span class="op" id="5830021">.</span><span class="ident" id="5830022">Set</span><span class="op" id="5830025">(</span><span class="ident" id="5830026"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5830033">.</span><span class="ident" id="5830034">New</span><span class="op" id="5830037">(</span><span class="ident" id="5830038"><a href="/encoding/gob/decode.go.html#5829936">v</a></span><span class="op" id="5830039">.</span><span class="ident" id="5830040">Type</span><span class="op" id="5830044">(</span><span class="op" id="5830045">)</span><span class="op" id="5830046">.</span><span class="ident" id="5830047">Elem</span><span class="op" id="5830051">(</span><span class="op" id="5830052">)</span><span class="op" id="5830053">)</span><span class="op" id="5830054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830062"><a href="/encoding/gob/decode.go.html#5829936">v</a></span>&nbsp;<span class="op" id="5830064">=</span>&nbsp;<span class="ident" id="5830066"><a href="/encoding/gob/decode.go.html#5829936">v</a></span><span class="op" id="5830067">.</span><span class="ident" id="5830068">Elem</span><span class="op" id="5830072">(</span><span class="op" id="5830073">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830079">return</span>&nbsp;<span class="ident" id="5830086"><a href="/encoding/gob/decode.go.html#5829936">v</a></span><br>
<span class="lineno"></span><span class="op" id="5830088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5830091">//&nbsp;decBool&nbsp;decodes&nbsp;a&nbsp;uint&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;boolean&nbsp;in&nbsp;value.</span><br>
<span class="lineno">230</span><span class="keyword" id="5830154">func</span>&nbsp;<span class="ident" id="5830159">decBool</span><span class="op" id="5830166">(</span><span class="ident" id="5830167">i</span>&nbsp;<span class="op" id="5830169">*</span><span class="ident" id="5830170"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5830178">,</span>&nbsp;<span class="ident" id="5830180">state</span>&nbsp;<span class="op" id="5830186">*</span><span class="ident" id="5830187"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5830199">,</span>&nbsp;<span class="ident" id="5830201">value</span>&nbsp;<span class="ident" id="5830207"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5830214">.</span><span class="ident" id="5830215">Value</span><span class="op" id="5830220">)</span>&nbsp;<span class="op" id="5830222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830225"><a href="/encoding/gob/decode.go.html#5830201">value</a></span><span class="op" id="5830230">.</span><span class="ident" id="5830231">SetBool</span><span class="op" id="5830238">(</span><span class="ident" id="5830239"><a href="/encoding/gob/decode.go.html#5830180">state</a></span><span class="op" id="5830244">.</span><span class="ident" id="5830245">decodeUint</span><span class="op" id="5830255">(</span><span class="op" id="5830256">)</span>&nbsp;<span class="op" id="5830258">!=</span>&nbsp;<span class="num" id="5830261">0</span><span class="op" id="5830262">)</span><br>
<span class="lineno"></span><span class="op" id="5830264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5830267">//&nbsp;decInt8&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int8&nbsp;in&nbsp;value.</span><br>
<span class="lineno">235</span><span class="keyword" id="5830332">func</span>&nbsp;<span class="ident" id="5830337">decInt8</span><span class="op" id="5830344">(</span><span class="ident" id="5830345">i</span>&nbsp;<span class="op" id="5830347">*</span><span class="ident" id="5830348"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5830356">,</span>&nbsp;<span class="ident" id="5830358">state</span>&nbsp;<span class="op" id="5830364">*</span><span class="ident" id="5830365"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5830377">,</span>&nbsp;<span class="ident" id="5830379">value</span>&nbsp;<span class="ident" id="5830385"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5830392">.</span><span class="ident" id="5830393">Value</span><span class="op" id="5830398">)</span>&nbsp;<span class="op" id="5830400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830403">v</span>&nbsp;<span class="op" id="5830405">:=</span>&nbsp;<span class="ident" id="5830408"><a href="/encoding/gob/decode.go.html#5830358">state</a></span><span class="op" id="5830413">.</span><span class="ident" id="5830414">decodeInt</span><span class="op" id="5830423">(</span><span class="op" id="5830424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830427">if</span>&nbsp;<span class="ident" id="5830430"><a href="/encoding/gob/decode.go.html#5830403">v</a></span>&nbsp;<span class="op" id="5830432">&lt;</span>&nbsp;<span class="ident" id="5830434"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5830438">.</span><span class="ident" id="5830439">MinInt8</span>&nbsp;<span class="op" id="5830447">||</span>&nbsp;<span class="ident" id="5830450"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5830454">.</span><span class="ident" id="5830455">MaxInt8</span>&nbsp;<span class="op" id="5830463">&lt;</span>&nbsp;<span class="ident" id="5830465"><a href="/encoding/gob/decode.go.html#5830403">v</a></span>&nbsp;<span class="op" id="5830467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830471"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5830477">(</span><span class="ident" id="5830478"><a href="/encoding/gob/decode.go.html#5830345">i</a></span><span class="op" id="5830479">.</span><span class="ident" id="5830480">ovfl</span><span class="op" id="5830484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830487">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830490"><a href="/encoding/gob/decode.go.html#5830379">value</a></span><span class="op" id="5830495">.</span><span class="ident" id="5830496">SetInt</span><span class="op" id="5830502">(</span><span class="ident" id="5830503"><a href="/encoding/gob/decode.go.html#5830403">v</a></span><span class="op" id="5830504">)</span><br>
<span class="lineno"></span><span class="op" id="5830506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5830509">//&nbsp;decUint8&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint8&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5830584">func</span>&nbsp;<span class="ident" id="5830589">decUint8</span><span class="op" id="5830597">(</span><span class="ident" id="5830598">i</span>&nbsp;<span class="op" id="5830600">*</span><span class="ident" id="5830601"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5830609">,</span>&nbsp;<span class="ident" id="5830611">state</span>&nbsp;<span class="op" id="5830617">*</span><span class="ident" id="5830618"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5830630">,</span>&nbsp;<span class="ident" id="5830632">value</span>&nbsp;<span class="ident" id="5830638"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5830645">.</span><span class="ident" id="5830646">Value</span><span class="op" id="5830651">)</span>&nbsp;<span class="op" id="5830653">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830656">v</span>&nbsp;<span class="op" id="5830658">:=</span>&nbsp;<span class="ident" id="5830661"><a href="/encoding/gob/decode.go.html#5830611">state</a></span><span class="op" id="5830666">.</span><span class="ident" id="5830667">decodeUint</span><span class="op" id="5830677">(</span><span class="op" id="5830678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830681">if</span>&nbsp;<span class="ident" id="5830684"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5830688">.</span><span class="ident" id="5830689">MaxUint8</span>&nbsp;<span class="op" id="5830698">&lt;</span>&nbsp;<span class="ident" id="5830700"><a href="/encoding/gob/decode.go.html#5830656">v</a></span>&nbsp;<span class="op" id="5830702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830706"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5830712">(</span><span class="ident" id="5830713"><a href="/encoding/gob/decode.go.html#5830598">i</a></span><span class="op" id="5830714">.</span><span class="ident" id="5830715">ovfl</span><span class="op" id="5830719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830725"><a href="/encoding/gob/decode.go.html#5830632">value</a></span><span class="op" id="5830730">.</span><span class="ident" id="5830731">SetUint</span><span class="op" id="5830738">(</span><span class="ident" id="5830739"><a href="/encoding/gob/decode.go.html#5830656">v</a></span><span class="op" id="5830740">)</span><br>
<span class="lineno">250</span><span class="op" id="5830742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5830745">//&nbsp;decInt16&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int16&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5830812">func</span>&nbsp;<span class="ident" id="5830817">decInt16</span><span class="op" id="5830825">(</span><span class="ident" id="5830826">i</span>&nbsp;<span class="op" id="5830828">*</span><span class="ident" id="5830829"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5830837">,</span>&nbsp;<span class="ident" id="5830839">state</span>&nbsp;<span class="op" id="5830845">*</span><span class="ident" id="5830846"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5830858">,</span>&nbsp;<span class="ident" id="5830860">value</span>&nbsp;<span class="ident" id="5830866"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5830873">.</span><span class="ident" id="5830874">Value</span><span class="op" id="5830879">)</span>&nbsp;<span class="op" id="5830881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830884">v</span>&nbsp;<span class="op" id="5830886">:=</span>&nbsp;<span class="ident" id="5830889"><a href="/encoding/gob/decode.go.html#5830839">state</a></span><span class="op" id="5830894">.</span><span class="ident" id="5830895">decodeInt</span><span class="op" id="5830904">(</span><span class="op" id="5830905">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5830908">if</span>&nbsp;<span class="ident" id="5830911"><a href="/encoding/gob/decode.go.html#5830884">v</a></span>&nbsp;<span class="op" id="5830913">&lt;</span>&nbsp;<span class="ident" id="5830915"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5830919">.</span><span class="ident" id="5830920">MinInt16</span>&nbsp;<span class="op" id="5830929">||</span>&nbsp;<span class="ident" id="5830932"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5830936">.</span><span class="ident" id="5830937">MaxInt16</span>&nbsp;<span class="op" id="5830946">&lt;</span>&nbsp;<span class="ident" id="5830948"><a href="/encoding/gob/decode.go.html#5830884">v</a></span>&nbsp;<span class="op" id="5830950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830954"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5830960">(</span><span class="ident" id="5830961"><a href="/encoding/gob/decode.go.html#5830826">i</a></span><span class="op" id="5830962">.</span><span class="ident" id="5830963">ovfl</span><span class="op" id="5830967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5830970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5830973"><a href="/encoding/gob/decode.go.html#5830860">value</a></span><span class="op" id="5830978">.</span><span class="ident" id="5830979">SetInt</span><span class="op" id="5830985">(</span><span class="ident" id="5830986"><a href="/encoding/gob/decode.go.html#5830884">v</a></span><span class="op" id="5830987">)</span><br>
<span class="lineno"></span><span class="op" id="5830989">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="5830992">//&nbsp;decUint16&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint16&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5831069">func</span>&nbsp;<span class="ident" id="5831074">decUint16</span><span class="op" id="5831083">(</span><span class="ident" id="5831084">i</span>&nbsp;<span class="op" id="5831086">*</span><span class="ident" id="5831087"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5831095">,</span>&nbsp;<span class="ident" id="5831097">state</span>&nbsp;<span class="op" id="5831103">*</span><span class="ident" id="5831104"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5831116">,</span>&nbsp;<span class="ident" id="5831118">value</span>&nbsp;<span class="ident" id="5831124"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5831131">.</span><span class="ident" id="5831132">Value</span><span class="op" id="5831137">)</span>&nbsp;<span class="op" id="5831139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831142">v</span>&nbsp;<span class="op" id="5831144">:=</span>&nbsp;<span class="ident" id="5831147"><a href="/encoding/gob/decode.go.html#5831097">state</a></span><span class="op" id="5831152">.</span><span class="ident" id="5831153">decodeUint</span><span class="op" id="5831163">(</span><span class="op" id="5831164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831167">if</span>&nbsp;<span class="ident" id="5831170"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5831174">.</span><span class="ident" id="5831175">MaxUint16</span>&nbsp;<span class="op" id="5831185">&lt;</span>&nbsp;<span class="ident" id="5831187"><a href="/encoding/gob/decode.go.html#5831142">v</a></span>&nbsp;<span class="op" id="5831189">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831193"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5831199">(</span><span class="ident" id="5831200"><a href="/encoding/gob/decode.go.html#5831084">i</a></span><span class="op" id="5831201">.</span><span class="ident" id="5831202">ovfl</span><span class="op" id="5831206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831212"><a href="/encoding/gob/decode.go.html#5831118">value</a></span><span class="op" id="5831217">.</span><span class="ident" id="5831218">SetUint</span><span class="op" id="5831225">(</span><span class="ident" id="5831226"><a href="/encoding/gob/decode.go.html#5831142">v</a></span><span class="op" id="5831227">)</span><br>
<span class="lineno"></span><span class="op" id="5831229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="comment" id="5831232">//&nbsp;decInt32&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int32&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5831299">func</span>&nbsp;<span class="ident" id="5831304">decInt32</span><span class="op" id="5831312">(</span><span class="ident" id="5831313">i</span>&nbsp;<span class="op" id="5831315">*</span><span class="ident" id="5831316"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5831324">,</span>&nbsp;<span class="ident" id="5831326">state</span>&nbsp;<span class="op" id="5831332">*</span><span class="ident" id="5831333"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5831345">,</span>&nbsp;<span class="ident" id="5831347">value</span>&nbsp;<span class="ident" id="5831353"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5831360">.</span><span class="ident" id="5831361">Value</span><span class="op" id="5831366">)</span>&nbsp;<span class="op" id="5831368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831371">v</span>&nbsp;<span class="op" id="5831373">:=</span>&nbsp;<span class="ident" id="5831376"><a href="/encoding/gob/decode.go.html#5831326">state</a></span><span class="op" id="5831381">.</span><span class="ident" id="5831382">decodeInt</span><span class="op" id="5831391">(</span><span class="op" id="5831392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831395">if</span>&nbsp;<span class="ident" id="5831398"><a href="/encoding/gob/decode.go.html#5831371">v</a></span>&nbsp;<span class="op" id="5831400">&lt;</span>&nbsp;<span class="ident" id="5831402"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5831406">.</span><span class="ident" id="5831407">MinInt32</span>&nbsp;<span class="op" id="5831416">||</span>&nbsp;<span class="ident" id="5831419"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5831423">.</span><span class="ident" id="5831424">MaxInt32</span>&nbsp;<span class="op" id="5831433">&lt;</span>&nbsp;<span class="ident" id="5831435"><a href="/encoding/gob/decode.go.html#5831371">v</a></span>&nbsp;<span class="op" id="5831437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831441"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5831447">(</span><span class="ident" id="5831448"><a href="/encoding/gob/decode.go.html#5831313">i</a></span><span class="op" id="5831449">.</span><span class="ident" id="5831450">ovfl</span><span class="op" id="5831454">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831460"><a href="/encoding/gob/decode.go.html#5831347">value</a></span><span class="op" id="5831465">.</span><span class="ident" id="5831466">SetInt</span><span class="op" id="5831472">(</span><span class="ident" id="5831473"><a href="/encoding/gob/decode.go.html#5831371">v</a></span><span class="op" id="5831474">)</span><br>
<span class="lineno"></span><span class="op" id="5831476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5831479">//&nbsp;decUint32&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint32&nbsp;in&nbsp;value.</span><br>
<span class="lineno">280</span><span class="keyword" id="5831556">func</span>&nbsp;<span class="ident" id="5831561">decUint32</span><span class="op" id="5831570">(</span><span class="ident" id="5831571">i</span>&nbsp;<span class="op" id="5831573">*</span><span class="ident" id="5831574"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5831582">,</span>&nbsp;<span class="ident" id="5831584">state</span>&nbsp;<span class="op" id="5831590">*</span><span class="ident" id="5831591"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5831603">,</span>&nbsp;<span class="ident" id="5831605">value</span>&nbsp;<span class="ident" id="5831611"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5831618">.</span><span class="ident" id="5831619">Value</span><span class="op" id="5831624">)</span>&nbsp;<span class="op" id="5831626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831629">v</span>&nbsp;<span class="op" id="5831631">:=</span>&nbsp;<span class="ident" id="5831634"><a href="/encoding/gob/decode.go.html#5831584">state</a></span><span class="op" id="5831639">.</span><span class="ident" id="5831640">decodeUint</span><span class="op" id="5831650">(</span><span class="op" id="5831651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5831654">if</span>&nbsp;<span class="ident" id="5831657"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5831661">.</span><span class="ident" id="5831662">MaxUint32</span>&nbsp;<span class="op" id="5831672">&lt;</span>&nbsp;<span class="ident" id="5831674"><a href="/encoding/gob/decode.go.html#5831629">v</a></span>&nbsp;<span class="op" id="5831676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831680"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5831686">(</span><span class="ident" id="5831687"><a href="/encoding/gob/decode.go.html#5831571">i</a></span><span class="op" id="5831688">.</span><span class="ident" id="5831689">ovfl</span><span class="op" id="5831693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5831696">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831699"><a href="/encoding/gob/decode.go.html#5831605">value</a></span><span class="op" id="5831704">.</span><span class="ident" id="5831705">SetUint</span><span class="op" id="5831712">(</span><span class="ident" id="5831713"><a href="/encoding/gob/decode.go.html#5831629">v</a></span><span class="op" id="5831714">)</span><br>
<span class="lineno"></span><span class="op" id="5831716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5831719">//&nbsp;decInt64&nbsp;decodes&nbsp;an&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;an&nbsp;int64&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5831786">func</span>&nbsp;<span class="ident" id="5831791">decInt64</span><span class="op" id="5831799">(</span><span class="ident" id="5831800">i</span>&nbsp;<span class="op" id="5831802">*</span><span class="ident" id="5831803"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5831811">,</span>&nbsp;<span class="ident" id="5831813">state</span>&nbsp;<span class="op" id="5831819">*</span><span class="ident" id="5831820"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5831832">,</span>&nbsp;<span class="ident" id="5831834">value</span>&nbsp;<span class="ident" id="5831840"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5831847">.</span><span class="ident" id="5831848">Value</span><span class="op" id="5831853">)</span>&nbsp;<span class="op" id="5831855">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831858">v</span>&nbsp;<span class="op" id="5831860">:=</span>&nbsp;<span class="ident" id="5831863"><a href="/encoding/gob/decode.go.html#5831813">state</a></span><span class="op" id="5831868">.</span><span class="ident" id="5831869">decodeInt</span><span class="op" id="5831878">(</span><span class="op" id="5831879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5831882"><a href="/encoding/gob/decode.go.html#5831834">value</a></span><span class="op" id="5831887">.</span><span class="ident" id="5831888">SetInt</span><span class="op" id="5831894">(</span><span class="ident" id="5831895"><a href="/encoding/gob/decode.go.html#5831858">v</a></span><span class="op" id="5831896">)</span><br>
<span class="lineno"></span><span class="op" id="5831898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5831901">//&nbsp;decUint64&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;and&nbsp;stores&nbsp;it&nbsp;as&nbsp;a&nbsp;uint64&nbsp;in&nbsp;value.</span><br>
<span class="lineno">295</span><span class="keyword" id="5831978">func</span>&nbsp;<span class="ident" id="5831983">decUint64</span><span class="op" id="5831992">(</span><span class="ident" id="5831993">i</span>&nbsp;<span class="op" id="5831995">*</span><span class="ident" id="5831996"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5832004">,</span>&nbsp;<span class="ident" id="5832006">state</span>&nbsp;<span class="op" id="5832012">*</span><span class="ident" id="5832013"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5832025">,</span>&nbsp;<span class="ident" id="5832027">value</span>&nbsp;<span class="ident" id="5832033"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5832040">.</span><span class="ident" id="5832041">Value</span><span class="op" id="5832046">)</span>&nbsp;<span class="op" id="5832048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832051">v</span>&nbsp;<span class="op" id="5832053">:=</span>&nbsp;<span class="ident" id="5832056"><a href="/encoding/gob/decode.go.html#5832006">state</a></span><span class="op" id="5832061">.</span><span class="ident" id="5832062">decodeUint</span><span class="op" id="5832072">(</span><span class="op" id="5832073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832076"><a href="/encoding/gob/decode.go.html#5832027">value</a></span><span class="op" id="5832081">.</span><span class="ident" id="5832082">SetUint</span><span class="op" id="5832089">(</span><span class="ident" id="5832090"><a href="/encoding/gob/decode.go.html#5832051">v</a></span><span class="op" id="5832091">)</span><br>
<span class="lineno"></span><span class="op" id="5832093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="comment" id="5832096">//&nbsp;Floating-point&nbsp;numbers&nbsp;are&nbsp;transmitted&nbsp;as&nbsp;uint64s&nbsp;holding&nbsp;the&nbsp;bits</span><br>
<span class="lineno"></span><span class="comment" id="5832166">//&nbsp;of&nbsp;the&nbsp;underlying&nbsp;representation.&nbsp;&nbsp;They&nbsp;are&nbsp;sent&nbsp;byte-reversed,&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5832238">//&nbsp;the&nbsp;exponent&nbsp;end&nbsp;coming&nbsp;out&nbsp;first,&nbsp;so&nbsp;integer&nbsp;floating&nbsp;point&nbsp;numbers</span><br>
<span class="lineno"></span><span class="comment" id="5832310">//&nbsp;(for&nbsp;example)&nbsp;transmit&nbsp;more&nbsp;compactly.&nbsp;&nbsp;This&nbsp;routine&nbsp;does&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5832375">//&nbsp;unswizzling.</span><br>
<span class="lineno">305</span><span class="keyword" id="5832391">func</span>&nbsp;<span class="ident" id="5832396">float64FromBits</span><span class="op" id="5832411">(</span><span class="ident" id="5832412">u</span>&nbsp;<span class="ident" id="5832414">uint64</span><span class="op" id="5832420">)</span>&nbsp;<span class="builtintype" id="5832422">float64</span>&nbsp;<span class="op" id="5832430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832433">var</span>&nbsp;<span class="ident" id="5832437">v</span>&nbsp;<span class="ident" id="5832439">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832447">for</span>&nbsp;<span class="ident" id="5832451">i</span>&nbsp;<span class="op" id="5832453">:=</span>&nbsp;<span class="num" id="5832456">0</span><span class="op" id="5832457">;</span>&nbsp;<span class="ident" id="5832459"><a href="/encoding/gob/decode.go.html#5832451">i</a></span>&nbsp;<span class="op" id="5832461">&lt;</span>&nbsp;<span class="num" id="5832463">8</span><span class="op" id="5832464">;</span>&nbsp;<span class="ident" id="5832466"><a href="/encoding/gob/decode.go.html#5832451">i</a></span><span class="op" id="5832467">++</span>&nbsp;<span class="op" id="5832470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832474"><a href="/encoding/gob/decode.go.html#5832437">v</a></span>&nbsp;<span class="op" id="5832476">&lt;&lt;=</span>&nbsp;<span class="num" id="5832480">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832484"><a href="/encoding/gob/decode.go.html#5832437">v</a></span>&nbsp;<span class="op" id="5832486">|=</span>&nbsp;<span class="ident" id="5832489"><a href="/encoding/gob/decode.go.html#5832412">u</a></span>&nbsp;<span class="op" id="5832491">&amp;</span>&nbsp;<span class="num" id="5832493">0xFF</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832500"><a href="/encoding/gob/decode.go.html#5832412">u</a></span>&nbsp;<span class="op" id="5832502">&gt;&gt;=</span>&nbsp;<span class="num" id="5832506">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832512">return</span>&nbsp;<span class="ident" id="5832519"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5832523">.</span><span class="ident" id="5832524">Float64frombits</span><span class="op" id="5832539">(</span><span class="ident" id="5832540"><a href="/encoding/gob/decode.go.html#5832437">v</a></span><span class="op" id="5832541">)</span><br>
<span class="lineno"></span><span class="op" id="5832543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="comment" id="5832546">//&nbsp;float32FromBits&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer,&nbsp;treats&nbsp;it&nbsp;as&nbsp;a&nbsp;32-bit&nbsp;floating-point</span><br>
<span class="lineno"></span><span class="comment" id="5832631">//&nbsp;number,&nbsp;and&nbsp;returns&nbsp;it.&nbsp;It&#39;s&nbsp;a&nbsp;helper&nbsp;function&nbsp;for&nbsp;float32&nbsp;and&nbsp;complex64.</span><br>
<span class="lineno"></span><span class="comment" id="5832708">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;float64&nbsp;because&nbsp;that&#39;s&nbsp;what&nbsp;reflection&nbsp;needs,&nbsp;but&nbsp;its&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="5832785">//&nbsp;value&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;accurately&nbsp;representable&nbsp;in&nbsp;a&nbsp;float32.</span><br>
<span class="lineno"></span><span class="keyword" id="5832848">func</span>&nbsp;<span class="ident" id="5832853">float32FromBits</span><span class="op" id="5832868">(</span><span class="ident" id="5832869">u</span>&nbsp;<span class="ident" id="5832871">uint64</span><span class="op" id="5832877">,</span>&nbsp;<span class="ident" id="5832879">ovfl</span>&nbsp;<span class="builtintype" id="5832884">error</span><span class="op" id="5832889">)</span>&nbsp;<span class="builtintype" id="5832891">float64</span>&nbsp;<span class="op" id="5832899">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832902">v</span>&nbsp;<span class="op" id="5832904">:=</span>&nbsp;<span class="ident" id="5832907"><a href="/encoding/gob/decode.go.html#5832396">float64FromBits</a></span><span class="op" id="5832922">(</span><span class="ident" id="5832923"><a href="/encoding/gob/decode.go.html#5832869">u</a></span><span class="op" id="5832924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832927">av</span>&nbsp;<span class="op" id="5832930">:=</span>&nbsp;<span class="ident" id="5832933"><a href="/encoding/gob/decode.go.html#5832902">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5832936">if</span>&nbsp;<span class="ident" id="5832939"><a href="/encoding/gob/decode.go.html#5832927">av</a></span>&nbsp;<span class="op" id="5832942">&lt;</span>&nbsp;<span class="num" id="5832944">0</span>&nbsp;<span class="op" id="5832946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5832950"><a href="/encoding/gob/decode.go.html#5832927">av</a></span>&nbsp;<span class="op" id="5832953">=</span>&nbsp;<span class="op" id="5832955">-</span><span class="ident" id="5832956"><a href="/encoding/gob/decode.go.html#5832927">av</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5832960">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5832963">//&nbsp;+Inf&nbsp;is&nbsp;OK&nbsp;in&nbsp;both&nbsp;32-&nbsp;and&nbsp;64-bit&nbsp;floats.&nbsp;&nbsp;Underflow&nbsp;is&nbsp;always&nbsp;OK.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833034">if</span>&nbsp;<span class="ident" id="5833037"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5833041">.</span><span class="ident" id="5833042">MaxFloat32</span>&nbsp;<span class="op" id="5833053">&lt;</span>&nbsp;<span class="ident" id="5833055"><a href="/encoding/gob/decode.go.html#5832927">av</a></span>&nbsp;<span class="op" id="5833058">&amp;&amp;</span>&nbsp;<span class="ident" id="5833061"><a href="/encoding/gob/decode.go.html#5832927">av</a></span>&nbsp;<span class="op" id="5833064">&lt;=</span>&nbsp;<span class="ident" id="5833067"><a href="/encoding/gob/decode.go.html#5824551">math</a></span><span class="op" id="5833071">.</span><span class="ident" id="5833072">MaxFloat64</span>&nbsp;<span class="op" id="5833083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833087"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5833093">(</span><span class="ident" id="5833094"><a href="/encoding/gob/decode.go.html#5832879">ovfl</a></span><span class="op" id="5833098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5833101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5833104">return</span>&nbsp;<span class="ident" id="5833111"><a href="/encoding/gob/decode.go.html#5832902">v</a></span><br>
<span class="lineno">330</span><span class="op" id="5833113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5833116">//&nbsp;decFloat32&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer,&nbsp;treats&nbsp;it&nbsp;as&nbsp;a&nbsp;32-bit&nbsp;floating-point</span><br>
<span class="lineno"></span><span class="comment" id="5833196">//&nbsp;number,&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5833231">func</span>&nbsp;<span class="ident" id="5833236">decFloat32</span><span class="op" id="5833246">(</span><span class="ident" id="5833247">i</span>&nbsp;<span class="op" id="5833249">*</span><span class="ident" id="5833250"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5833258">,</span>&nbsp;<span class="ident" id="5833260">state</span>&nbsp;<span class="op" id="5833266">*</span><span class="ident" id="5833267"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5833279">,</span>&nbsp;<span class="ident" id="5833281">value</span>&nbsp;<span class="ident" id="5833287"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5833294">.</span><span class="ident" id="5833295">Value</span><span class="op" id="5833300">)</span>&nbsp;<span class="op" id="5833302">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833305"><a href="/encoding/gob/decode.go.html#5833281">value</a></span><span class="op" id="5833310">.</span><span class="ident" id="5833311">SetFloat</span><span class="op" id="5833319">(</span><span class="ident" id="5833320"><a href="/encoding/gob/decode.go.html#5832853">float32FromBits</a></span><span class="op" id="5833335">(</span><span class="ident" id="5833336"><a href="/encoding/gob/decode.go.html#5833260">state</a></span><span class="op" id="5833341">.</span><span class="ident" id="5833342">decodeUint</span><span class="op" id="5833352">(</span><span class="op" id="5833353">)</span><span class="op" id="5833354">,</span>&nbsp;<span class="ident" id="5833356"><a href="/encoding/gob/decode.go.html#5833247">i</a></span><span class="op" id="5833357">.</span><span class="ident" id="5833358">ovfl</span><span class="op" id="5833362">)</span><span class="op" id="5833363">)</span><br>
<span class="lineno"></span><span class="op" id="5833365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5833368">//&nbsp;decFloat64&nbsp;decodes&nbsp;an&nbsp;unsigned&nbsp;integer,&nbsp;treats&nbsp;it&nbsp;as&nbsp;a&nbsp;64-bit&nbsp;floating-point</span><br>
<span class="lineno"></span><span class="comment" id="5833448">//&nbsp;number,&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno">340</span><span class="keyword" id="5833483">func</span>&nbsp;<span class="ident" id="5833488">decFloat64</span><span class="op" id="5833498">(</span><span class="ident" id="5833499">i</span>&nbsp;<span class="op" id="5833501">*</span><span class="ident" id="5833502"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5833510">,</span>&nbsp;<span class="ident" id="5833512">state</span>&nbsp;<span class="op" id="5833518">*</span><span class="ident" id="5833519"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5833531">,</span>&nbsp;<span class="ident" id="5833533">value</span>&nbsp;<span class="ident" id="5833539"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5833546">.</span><span class="ident" id="5833547">Value</span><span class="op" id="5833552">)</span>&nbsp;<span class="op" id="5833554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833557"><a href="/encoding/gob/decode.go.html#5833533">value</a></span><span class="op" id="5833562">.</span><span class="ident" id="5833563">SetFloat</span><span class="op" id="5833571">(</span><span class="ident" id="5833572"><a href="/encoding/gob/decode.go.html#5832396">float64FromBits</a></span><span class="op" id="5833587">(</span><span class="ident" id="5833588"><a href="/encoding/gob/decode.go.html#5833512">state</a></span><span class="op" id="5833593">.</span><span class="ident" id="5833594">decodeUint</span><span class="op" id="5833604">(</span><span class="op" id="5833605">)</span><span class="op" id="5833606">)</span><span class="op" id="5833607">)</span><br>
<span class="lineno"></span><span class="op" id="5833609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5833612">//&nbsp;decComplex64&nbsp;decodes&nbsp;a&nbsp;pair&nbsp;of&nbsp;unsigned&nbsp;integers,&nbsp;treats&nbsp;them&nbsp;as&nbsp;a</span><br>
<span class="lineno">345</span><span class="comment" id="5833682">//&nbsp;pair&nbsp;of&nbsp;floating&nbsp;point&nbsp;numbers,&nbsp;and&nbsp;stores&nbsp;them&nbsp;as&nbsp;a&nbsp;complex64&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5833758">//&nbsp;The&nbsp;real&nbsp;part&nbsp;comes&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="5833788">func</span>&nbsp;<span class="ident" id="5833793">decComplex64</span><span class="op" id="5833805">(</span><span class="ident" id="5833806">i</span>&nbsp;<span class="op" id="5833808">*</span><span class="ident" id="5833809"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5833817">,</span>&nbsp;<span class="ident" id="5833819">state</span>&nbsp;<span class="op" id="5833825">*</span><span class="ident" id="5833826"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5833838">,</span>&nbsp;<span class="ident" id="5833840">value</span>&nbsp;<span class="ident" id="5833846"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5833853">.</span><span class="ident" id="5833854">Value</span><span class="op" id="5833859">)</span>&nbsp;<span class="op" id="5833861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5833864">real</span>&nbsp;<span class="op" id="5833869">:=</span>&nbsp;<span class="ident" id="5833872"><a href="/encoding/gob/decode.go.html#5832853">float32FromBits</a></span><span class="op" id="5833887">(</span><span class="ident" id="5833888"><a href="/encoding/gob/decode.go.html#5833819">state</a></span><span class="op" id="5833893">.</span><span class="ident" id="5833894">decodeUint</span><span class="op" id="5833904">(</span><span class="op" id="5833905">)</span><span class="op" id="5833906">,</span>&nbsp;<span class="ident" id="5833908"><a href="/encoding/gob/decode.go.html#5833806">i</a></span><span class="op" id="5833909">.</span><span class="ident" id="5833910">ovfl</span><span class="op" id="5833914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5833917">imag</span>&nbsp;<span class="op" id="5833922">:=</span>&nbsp;<span class="ident" id="5833925"><a href="/encoding/gob/decode.go.html#5832853">float32FromBits</a></span><span class="op" id="5833940">(</span><span class="ident" id="5833941"><a href="/encoding/gob/decode.go.html#5833819">state</a></span><span class="op" id="5833946">.</span><span class="ident" id="5833947">decodeUint</span><span class="op" id="5833957">(</span><span class="op" id="5833958">)</span><span class="op" id="5833959">,</span>&nbsp;<span class="ident" id="5833961"><a href="/encoding/gob/decode.go.html#5833806">i</a></span><span class="op" id="5833962">.</span><span class="ident" id="5833963">ovfl</span><span class="op" id="5833967">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5833970"><a href="/encoding/gob/decode.go.html#5833840">value</a></span><span class="op" id="5833975">.</span><span class="ident" id="5833976">SetComplex</span><span class="op" id="5833986">(</span><span class="builtinfunc" id="5833987">complex</span><span class="op" id="5833994">(</span><span class="builtinfunc" id="5833995"><a href="/encoding/gob/decode.go.html#5833864">real</a></span><span class="op" id="5833999">,</span>&nbsp;<span class="builtinfunc" id="5834001"><a href="/encoding/gob/decode.go.html#5833917">imag</a></span><span class="op" id="5834005">)</span><span class="op" id="5834006">)</span><br>
<span class="lineno"></span><span class="op" id="5834008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5834011">//&nbsp;decComplex128&nbsp;decodes&nbsp;a&nbsp;pair&nbsp;of&nbsp;unsigned&nbsp;integers,&nbsp;treats&nbsp;them&nbsp;as&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5834082">//&nbsp;pair&nbsp;of&nbsp;floating&nbsp;point&nbsp;numbers,&nbsp;and&nbsp;stores&nbsp;them&nbsp;as&nbsp;a&nbsp;complex128&nbsp;in&nbsp;value.</span><br>
<span class="lineno">355</span><span class="comment" id="5834159">//&nbsp;The&nbsp;real&nbsp;part&nbsp;comes&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="5834189">func</span>&nbsp;<span class="ident" id="5834194">decComplex128</span><span class="op" id="5834207">(</span><span class="ident" id="5834208">i</span>&nbsp;<span class="op" id="5834210">*</span><span class="ident" id="5834211"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5834219">,</span>&nbsp;<span class="ident" id="5834221">state</span>&nbsp;<span class="op" id="5834227">*</span><span class="ident" id="5834228"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5834240">,</span>&nbsp;<span class="ident" id="5834242">value</span>&nbsp;<span class="ident" id="5834248"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5834255">.</span><span class="ident" id="5834256">Value</span><span class="op" id="5834261">)</span>&nbsp;<span class="op" id="5834263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5834266">real</span>&nbsp;<span class="op" id="5834271">:=</span>&nbsp;<span class="ident" id="5834274"><a href="/encoding/gob/decode.go.html#5832396">float64FromBits</a></span><span class="op" id="5834289">(</span><span class="ident" id="5834290"><a href="/encoding/gob/decode.go.html#5834221">state</a></span><span class="op" id="5834295">.</span><span class="ident" id="5834296">decodeUint</span><span class="op" id="5834306">(</span><span class="op" id="5834307">)</span><span class="op" id="5834308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5834311">imag</span>&nbsp;<span class="op" id="5834316">:=</span>&nbsp;<span class="ident" id="5834319"><a href="/encoding/gob/decode.go.html#5832396">float64FromBits</a></span><span class="op" id="5834334">(</span><span class="ident" id="5834335"><a href="/encoding/gob/decode.go.html#5834221">state</a></span><span class="op" id="5834340">.</span><span class="ident" id="5834341">decodeUint</span><span class="op" id="5834351">(</span><span class="op" id="5834352">)</span><span class="op" id="5834353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834356"><a href="/encoding/gob/decode.go.html#5834242">value</a></span><span class="op" id="5834361">.</span><span class="ident" id="5834362">SetComplex</span><span class="op" id="5834372">(</span><span class="builtinfunc" id="5834373">complex</span><span class="op" id="5834380">(</span><span class="builtinfunc" id="5834381"><a href="/encoding/gob/decode.go.html#5834266">real</a></span><span class="op" id="5834385">,</span>&nbsp;<span class="builtinfunc" id="5834387"><a href="/encoding/gob/decode.go.html#5834311">imag</a></span><span class="op" id="5834391">)</span><span class="op" id="5834392">)</span><br>
<span class="lineno">360</span><span class="op" id="5834394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5834397">//&nbsp;decUint8Slice&nbsp;decodes&nbsp;a&nbsp;byte&nbsp;slice&nbsp;and&nbsp;stores&nbsp;in&nbsp;value&nbsp;a&nbsp;slice&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="5834470">//&nbsp;describing&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="5834494">//&nbsp;uint8&nbsp;slices&nbsp;are&nbsp;encoded&nbsp;as&nbsp;an&nbsp;unsigned&nbsp;count&nbsp;followed&nbsp;by&nbsp;the&nbsp;raw&nbsp;bytes.</span><br>
<span class="lineno">365</span><span class="keyword" id="5834570">func</span>&nbsp;<span class="ident" id="5834575">decUint8Slice</span><span class="op" id="5834588">(</span><span class="ident" id="5834589">i</span>&nbsp;<span class="op" id="5834591">*</span><span class="ident" id="5834592"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5834600">,</span>&nbsp;<span class="ident" id="5834602">state</span>&nbsp;<span class="op" id="5834608">*</span><span class="ident" id="5834609"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5834621">,</span>&nbsp;<span class="ident" id="5834623">value</span>&nbsp;<span class="ident" id="5834629"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5834636">.</span><span class="ident" id="5834637">Value</span><span class="op" id="5834642">)</span>&nbsp;<span class="op" id="5834644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834647">u</span>&nbsp;<span class="op" id="5834649">:=</span>&nbsp;<span class="ident" id="5834652"><a href="/encoding/gob/decode.go.html#5834602">state</a></span><span class="op" id="5834657">.</span><span class="ident" id="5834658">decodeUint</span><span class="op" id="5834668">(</span><span class="op" id="5834669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834672">n</span>&nbsp;<span class="op" id="5834674">:=</span>&nbsp;<span class="builtintype" id="5834677">int</span><span class="op" id="5834680">(</span><span class="ident" id="5834681"><a href="/encoding/gob/decode.go.html#5834647">u</a></span><span class="op" id="5834682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834685">if</span>&nbsp;<span class="ident" id="5834688"><a href="/encoding/gob/decode.go.html#5834672">n</a></span>&nbsp;<span class="op" id="5834690">&lt;</span>&nbsp;<span class="num" id="5834692">0</span>&nbsp;<span class="op" id="5834694">||</span>&nbsp;<span class="ident" id="5834697">uint64</span><span class="op" id="5834703">(</span><span class="ident" id="5834704"><a href="/encoding/gob/decode.go.html#5834672">n</a></span><span class="op" id="5834705">)</span>&nbsp;<span class="op" id="5834707">!=</span>&nbsp;<span class="ident" id="5834710"><a href="/encoding/gob/decode.go.html#5834647">u</a></span>&nbsp;<span class="op" id="5834712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834716"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5834722">(</span><span class="string" id="5834723">&#34;length&nbsp;of&nbsp;%s&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5834767">,</span>&nbsp;<span class="ident" id="5834769"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5834774">.</span><span class="ident" id="5834775">Type</span><span class="op" id="5834779">(</span><span class="op" id="5834780">)</span><span class="op" id="5834781">,</span>&nbsp;<span class="ident" id="5834783"><a href="/encoding/gob/decode.go.html#5834647">u</a></span><span class="op" id="5834784">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834790">if</span>&nbsp;<span class="ident" id="5834793"><a href="/encoding/gob/decode.go.html#5834672">n</a></span>&nbsp;<span class="op" id="5834795">&gt;</span>&nbsp;<span class="ident" id="5834797"><a href="/encoding/gob/decode.go.html#5834602">state</a></span><span class="op" id="5834802">.</span><span class="ident" id="5834803">b</span><span class="op" id="5834804">.</span><span class="ident" id="5834805">Len</span><span class="op" id="5834808">(</span><span class="op" id="5834809">)</span>&nbsp;<span class="op" id="5834811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834815"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5834821">(</span><span class="string" id="5834822">&#34;%s&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5834855">,</span>&nbsp;<span class="ident" id="5834857"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5834862">.</span><span class="ident" id="5834863">Type</span><span class="op" id="5834867">(</span><span class="op" id="5834868">)</span><span class="op" id="5834869">,</span>&nbsp;<span class="ident" id="5834871"><a href="/encoding/gob/decode.go.html#5834672">n</a></span><span class="op" id="5834872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834878">if</span>&nbsp;<span class="ident" id="5834881"><a href="/encoding/gob/decode.go.html#5834672">n</a></span>&nbsp;<span class="op" id="5834883">&gt;</span>&nbsp;<span class="ident" id="5834885"><a href="/encoding/gob/decoder.go.html#5863309">tooBig</a></span>&nbsp;<span class="op" id="5834892">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834896"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5834902">(</span><span class="string" id="5834903">&#34;byte&nbsp;slice&nbsp;too&nbsp;big:&nbsp;%d&#34;</span><span class="op" id="5834927">,</span>&nbsp;<span class="ident" id="5834929"><a href="/encoding/gob/decode.go.html#5834672">n</a></span><span class="op" id="5834930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5834933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5834936">if</span>&nbsp;<span class="ident" id="5834939"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5834944">.</span><span class="ident" id="5834945">Cap</span><span class="op" id="5834948">(</span><span class="op" id="5834949">)</span>&nbsp;<span class="op" id="5834951">&lt;</span>&nbsp;<span class="ident" id="5834953"><a href="/encoding/gob/decode.go.html#5834672">n</a></span>&nbsp;<span class="op" id="5834955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5834959"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5834964">.</span><span class="ident" id="5834965">Set</span><span class="op" id="5834968">(</span><span class="ident" id="5834969"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5834976">.</span><span class="ident" id="5834977">MakeSlice</span><span class="op" id="5834986">(</span><span class="ident" id="5834987"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5834992">.</span><span class="ident" id="5834993">Type</span><span class="op" id="5834997">(</span><span class="op" id="5834998">)</span><span class="op" id="5834999">,</span>&nbsp;<span class="ident" id="5835001"><a href="/encoding/gob/decode.go.html#5834672">n</a></span><span class="op" id="5835002">,</span>&nbsp;<span class="ident" id="5835004"><a href="/encoding/gob/decode.go.html#5834672">n</a></span><span class="op" id="5835005">)</span><span class="op" id="5835006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835009">}</span>&nbsp;<span class="keyword" id="5835011">else</span>&nbsp;<span class="op" id="5835016">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835020"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5835025">.</span><span class="ident" id="5835026">Set</span><span class="op" id="5835029">(</span><span class="ident" id="5835030"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5835035">.</span><span class="ident" id="5835036">Slice</span><span class="op" id="5835041">(</span><span class="num" id="5835042">0</span><span class="op" id="5835043">,</span>&nbsp;<span class="ident" id="5835045"><a href="/encoding/gob/decode.go.html#5834672">n</a></span><span class="op" id="5835046">)</span><span class="op" id="5835047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835053">if</span>&nbsp;<span class="ident" id="5835056">_</span><span class="op" id="5835057">,</span>&nbsp;<span class="ident" id="5835059">err</span>&nbsp;<span class="op" id="5835063">:=</span>&nbsp;<span class="ident" id="5835066"><a href="/encoding/gob/decode.go.html#5834602">state</a></span><span class="op" id="5835071">.</span><span class="ident" id="5835072">b</span><span class="op" id="5835073">.</span><span class="ident" id="5835074">Read</span><span class="op" id="5835078">(</span><span class="ident" id="5835079"><a href="/encoding/gob/decode.go.html#5834623">value</a></span><span class="op" id="5835084">.</span><span class="ident" id="5835085">Bytes</span><span class="op" id="5835090">(</span><span class="op" id="5835091">)</span><span class="op" id="5835092">)</span><span class="op" id="5835093">;</span>&nbsp;<span class="ident" id="5835095"><a href="/encoding/gob/decode.go.html#5835059">err</a></span>&nbsp;<span class="op" id="5835099">!=</span>&nbsp;<span class="ident" id="5835102">nil</span>&nbsp;<span class="op" id="5835106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835110"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5835116">(</span><span class="string" id="5835117">&#34;error&nbsp;decoding&nbsp;[]byte:&nbsp;%s&#34;</span><span class="op" id="5835144">,</span>&nbsp;<span class="ident" id="5835146"><a href="/encoding/gob/decode.go.html#5835059">err</a></span><span class="op" id="5835149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835152">}</span><br>
<span class="lineno">385</span><span class="op" id="5835154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5835157">//&nbsp;decString&nbsp;decodes&nbsp;byte&nbsp;array&nbsp;and&nbsp;stores&nbsp;in&nbsp;value&nbsp;a&nbsp;string&nbsp;header</span><br>
<span class="lineno"></span><span class="comment" id="5835225">//&nbsp;describing&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="5835249">//&nbsp;Strings&nbsp;are&nbsp;encoded&nbsp;as&nbsp;an&nbsp;unsigned&nbsp;count&nbsp;followed&nbsp;by&nbsp;the&nbsp;raw&nbsp;bytes.</span><br>
<span class="lineno">390</span><span class="keyword" id="5835320">func</span>&nbsp;<span class="ident" id="5835325">decString</span><span class="op" id="5835334">(</span><span class="ident" id="5835335">i</span>&nbsp;<span class="op" id="5835337">*</span><span class="ident" id="5835338"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5835346">,</span>&nbsp;<span class="ident" id="5835348">state</span>&nbsp;<span class="op" id="5835354">*</span><span class="ident" id="5835355"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5835367">,</span>&nbsp;<span class="ident" id="5835369">value</span>&nbsp;<span class="ident" id="5835375"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5835382">.</span><span class="ident" id="5835383">Value</span><span class="op" id="5835388">)</span>&nbsp;<span class="op" id="5835390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835393">u</span>&nbsp;<span class="op" id="5835395">:=</span>&nbsp;<span class="ident" id="5835398"><a href="/encoding/gob/decode.go.html#5835348">state</a></span><span class="op" id="5835403">.</span><span class="ident" id="5835404">decodeUint</span><span class="op" id="5835414">(</span><span class="op" id="5835415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835418">n</span>&nbsp;<span class="op" id="5835420">:=</span>&nbsp;<span class="builtintype" id="5835423">int</span><span class="op" id="5835426">(</span><span class="ident" id="5835427"><a href="/encoding/gob/decode.go.html#5835393">u</a></span><span class="op" id="5835428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835431">if</span>&nbsp;<span class="ident" id="5835434"><a href="/encoding/gob/decode.go.html#5835418">n</a></span>&nbsp;<span class="op" id="5835436">&lt;</span>&nbsp;<span class="num" id="5835438">0</span>&nbsp;<span class="op" id="5835440">||</span>&nbsp;<span class="ident" id="5835443">uint64</span><span class="op" id="5835449">(</span><span class="ident" id="5835450"><a href="/encoding/gob/decode.go.html#5835418">n</a></span><span class="op" id="5835451">)</span>&nbsp;<span class="op" id="5835453">!=</span>&nbsp;<span class="ident" id="5835456"><a href="/encoding/gob/decode.go.html#5835393">u</a></span>&nbsp;<span class="op" id="5835458">||</span>&nbsp;<span class="ident" id="5835461"><a href="/encoding/gob/decode.go.html#5835418">n</a></span>&nbsp;<span class="op" id="5835463">&gt;</span>&nbsp;<span class="ident" id="5835465"><a href="/encoding/gob/decode.go.html#5835348">state</a></span><span class="op" id="5835470">.</span><span class="ident" id="5835471">b</span><span class="op" id="5835472">.</span><span class="ident" id="5835473">Len</span><span class="op" id="5835476">(</span><span class="op" id="5835477">)</span>&nbsp;<span class="op" id="5835479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835483"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5835489">(</span><span class="string" id="5835490">&#34;length&nbsp;of&nbsp;%s&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5835534">,</span>&nbsp;<span class="ident" id="5835536"><a href="/encoding/gob/decode.go.html#5835369">value</a></span><span class="op" id="5835541">.</span><span class="ident" id="5835542">Type</span><span class="op" id="5835546">(</span><span class="op" id="5835547">)</span><span class="op" id="5835548">,</span>&nbsp;<span class="ident" id="5835550"><a href="/encoding/gob/decode.go.html#5835393">u</a></span><span class="op" id="5835551">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835557">if</span>&nbsp;<span class="ident" id="5835560"><a href="/encoding/gob/decode.go.html#5835418">n</a></span>&nbsp;<span class="op" id="5835562">&gt;</span>&nbsp;<span class="ident" id="5835564"><a href="/encoding/gob/decode.go.html#5835348">state</a></span><span class="op" id="5835569">.</span><span class="ident" id="5835570">b</span><span class="op" id="5835571">.</span><span class="ident" id="5835572">Len</span><span class="op" id="5835575">(</span><span class="op" id="5835576">)</span>&nbsp;<span class="op" id="5835578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835582"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5835588">(</span><span class="string" id="5835589">&#34;%s&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5835622">,</span>&nbsp;<span class="ident" id="5835624"><a href="/encoding/gob/decode.go.html#5835369">value</a></span><span class="op" id="5835629">.</span><span class="ident" id="5835630">Type</span><span class="op" id="5835634">(</span><span class="op" id="5835635">)</span><span class="op" id="5835636">,</span>&nbsp;<span class="ident" id="5835638"><a href="/encoding/gob/decode.go.html#5835418">n</a></span><span class="op" id="5835639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5835645">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835664">data</span>&nbsp;<span class="op" id="5835669">:=</span>&nbsp;<span class="builtinfunc" id="5835672">make</span><span class="op" id="5835676">(</span><span class="op" id="5835677">[</span><span class="op" id="5835678">]</span><span class="builtintype" id="5835679">byte</span><span class="op" id="5835683">,</span>&nbsp;<span class="ident" id="5835685"><a href="/encoding/gob/decode.go.html#5835418">n</a></span><span class="op" id="5835686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5835689">if</span>&nbsp;<span class="ident" id="5835692">_</span><span class="op" id="5835693">,</span>&nbsp;<span class="ident" id="5835695">err</span>&nbsp;<span class="op" id="5835699">:=</span>&nbsp;<span class="ident" id="5835702"><a href="/encoding/gob/decode.go.html#5835348">state</a></span><span class="op" id="5835707">.</span><span class="ident" id="5835708">b</span><span class="op" id="5835709">.</span><span class="ident" id="5835710">Read</span><span class="op" id="5835714">(</span><span class="ident" id="5835715"><a href="/encoding/gob/decode.go.html#5835664">data</a></span><span class="op" id="5835719">)</span><span class="op" id="5835720">;</span>&nbsp;<span class="ident" id="5835722"><a href="/encoding/gob/decode.go.html#5835695">err</a></span>&nbsp;<span class="op" id="5835726">!=</span>&nbsp;<span class="ident" id="5835729">nil</span>&nbsp;<span class="op" id="5835733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835737"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5835743">(</span><span class="string" id="5835744">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="5835771">,</span>&nbsp;<span class="ident" id="5835773"><a href="/encoding/gob/decode.go.html#5835695">err</a></span><span class="op" id="5835776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5835779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835782"><a href="/encoding/gob/decode.go.html#5835369">value</a></span><span class="op" id="5835787">.</span><span class="ident" id="5835788">SetString</span><span class="op" id="5835797">(</span><span class="builtintype" id="5835798">string</span><span class="op" id="5835804">(</span><span class="ident" id="5835805"><a href="/encoding/gob/decode.go.html#5835664">data</a></span><span class="op" id="5835809">)</span><span class="op" id="5835810">)</span><br>
<span class="lineno">405</span><span class="op" id="5835812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5835815">//&nbsp;ignoreUint8Array&nbsp;skips&nbsp;over&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;byte&nbsp;slice&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5835899">func</span>&nbsp;<span class="ident" id="5835904">ignoreUint8Array</span><span class="op" id="5835920">(</span><span class="ident" id="5835921">i</span>&nbsp;<span class="op" id="5835923">*</span><span class="ident" id="5835924"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5835932">,</span>&nbsp;<span class="ident" id="5835934">state</span>&nbsp;<span class="op" id="5835940">*</span><span class="ident" id="5835941"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5835953">,</span>&nbsp;<span class="ident" id="5835955">value</span>&nbsp;<span class="ident" id="5835961"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5835968">.</span><span class="ident" id="5835969">Value</span><span class="op" id="5835974">)</span>&nbsp;<span class="op" id="5835976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5835979">b</span>&nbsp;<span class="op" id="5835981">:=</span>&nbsp;<span class="builtinfunc" id="5835984">make</span><span class="op" id="5835988">(</span><span class="op" id="5835989">[</span><span class="op" id="5835990">]</span><span class="builtintype" id="5835991">byte</span><span class="op" id="5835995">,</span>&nbsp;<span class="ident" id="5835997"><a href="/encoding/gob/decode.go.html#5835934">state</a></span><span class="op" id="5836002">.</span><span class="ident" id="5836003">decodeUint</span><span class="op" id="5836013">(</span><span class="op" id="5836014">)</span><span class="op" id="5836015">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836018"><a href="/encoding/gob/decode.go.html#5835934">state</a></span><span class="op" id="5836023">.</span><span class="ident" id="5836024">b</span><span class="op" id="5836025">.</span><span class="ident" id="5836026">Read</span><span class="op" id="5836030">(</span><span class="ident" id="5836031"><a href="/encoding/gob/decode.go.html#5835979">b</a></span><span class="op" id="5836032">)</span><br>
<span class="lineno"></span><span class="op" id="5836034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5836037">//&nbsp;Execution&nbsp;engine</span><br>
<span class="lineno"></span><br>
<span class="lineno">415</span><span class="comment" id="5836058">//&nbsp;The&nbsp;encoder&nbsp;engine&nbsp;is&nbsp;an&nbsp;array&nbsp;of&nbsp;instructions&nbsp;indexed&nbsp;by&nbsp;field&nbsp;number&nbsp;of&nbsp;the&nbsp;incoming</span><br>
<span class="lineno"></span><span class="comment" id="5836148">//&nbsp;decoder.&nbsp;&nbsp;It&nbsp;is&nbsp;executed&nbsp;with&nbsp;random&nbsp;access&nbsp;according&nbsp;to&nbsp;field&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="5836222">type</span>&nbsp;<span class="ident" id="5836227">decEngine</span>&nbsp;<span class="keyword" id="5836237">struct</span>&nbsp;<span class="op" id="5836244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836247">instr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5836256">[</span><span class="op" id="5836257">]</span><span class="ident" id="5836258"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836268">numInstr</span>&nbsp;<span class="builtintype" id="5836277">int</span>&nbsp;<span class="comment" id="5836281">//&nbsp;the&nbsp;number&nbsp;of&nbsp;active&nbsp;instructions</span><br>
<span class="lineno">420</span><span class="op" id="5836318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5836321">//&nbsp;decodeSingle&nbsp;decodes&nbsp;a&nbsp;top-level&nbsp;value&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;struct&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5836408">//&nbsp;Such&nbsp;values&nbsp;are&nbsp;preceded&nbsp;by&nbsp;a&nbsp;zero,&nbsp;making&nbsp;them&nbsp;have&nbsp;the&nbsp;memory&nbsp;layout&nbsp;of&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5836487">//&nbsp;struct&nbsp;field&nbsp;(although&nbsp;with&nbsp;an&nbsp;illegal&nbsp;field&nbsp;number).</span><br>
<span class="lineno">425</span><span class="keyword" id="5836544">func</span>&nbsp;<span class="op" id="5836549">(</span><span class="ident" id="5836550">dec</span>&nbsp;<span class="op" id="5836554">*</span><span class="ident" id="5836555"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5836562">)</span>&nbsp;<span class="ident" id="5836564">decodeSingle</span><span class="op" id="5836576">(</span><span class="ident" id="5836577">engine</span>&nbsp;<span class="op" id="5836584">*</span><span class="ident" id="5836585"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5836594">,</span>&nbsp;<span class="ident" id="5836596">ut</span>&nbsp;<span class="op" id="5836599">*</span><span class="ident" id="5836600"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5836612">,</span>&nbsp;<span class="ident" id="5836614">value</span>&nbsp;<span class="ident" id="5836620"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5836627">.</span><span class="ident" id="5836628">Value</span><span class="op" id="5836633">)</span>&nbsp;<span class="op" id="5836635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836638">state</span>&nbsp;<span class="op" id="5836644">:=</span>&nbsp;<span class="ident" id="5836647"><a href="/encoding/gob/decode.go.html#5836550">dec</a></span><span class="op" id="5836650">.</span><span class="ident" id="5836651">newDecoderState</span><span class="op" id="5836666">(</span><span class="op" id="5836667">&amp;</span><span class="ident" id="5836668"><a href="/encoding/gob/decode.go.html#5836550">dec</a></span><span class="op" id="5836671">.</span><span class="ident" id="5836672">buf</span><span class="op" id="5836675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836678">defer</span>&nbsp;<span class="ident" id="5836684"><a href="/encoding/gob/decode.go.html#5836550">dec</a></span><span class="op" id="5836687">.</span><span class="ident" id="5836688">freeDecoderState</span><span class="op" id="5836704">(</span><span class="ident" id="5836705"><a href="/encoding/gob/decode.go.html#5836638">state</a></span><span class="op" id="5836710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836713"><a href="/encoding/gob/decode.go.html#5836638">state</a></span><span class="op" id="5836718">.</span><span class="ident" id="5836719">fieldnum</span>&nbsp;<span class="op" id="5836728">=</span>&nbsp;<span class="ident" id="5836730"><a href="/encoding/gob/encode.go.html#5902767">singletonField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5836746">if</span>&nbsp;<span class="ident" id="5836749"><a href="/encoding/gob/decode.go.html#5836638">state</a></span><span class="op" id="5836754">.</span><span class="ident" id="5836755">decodeUint</span><span class="op" id="5836765">(</span><span class="op" id="5836766">)</span>&nbsp;<span class="op" id="5836768">!=</span>&nbsp;<span class="num" id="5836771">0</span>&nbsp;<span class="op" id="5836773">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836777"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5836783">(</span><span class="string" id="5836784">&#34;decode:&nbsp;corrupted&nbsp;data:&nbsp;non-zero&nbsp;delta&nbsp;for&nbsp;singleton&#34;</span><span class="op" id="5836838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5836841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836844">instr</span>&nbsp;<span class="op" id="5836850">:=</span>&nbsp;<span class="op" id="5836853">&amp;</span><span class="ident" id="5836854"><a href="/encoding/gob/decode.go.html#5836577">engine</a></span><span class="op" id="5836860">.</span><span class="ident" id="5836861">instr</span><span class="op" id="5836866">[</span><span class="ident" id="5836867"><a href="/encoding/gob/encode.go.html#5902767">singletonField</a></span><span class="op" id="5836881">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5836884"><a href="/encoding/gob/decode.go.html#5836844">instr</a></span><span class="op" id="5836889">.</span><span class="ident" id="5836890">op</span><span class="op" id="5836892">(</span><span class="ident" id="5836893"><a href="/encoding/gob/decode.go.html#5836844">instr</a></span><span class="op" id="5836898">,</span>&nbsp;<span class="ident" id="5836900"><a href="/encoding/gob/decode.go.html#5836638">state</a></span><span class="op" id="5836905">,</span>&nbsp;<span class="ident" id="5836907"><a href="/encoding/gob/decode.go.html#5836614">value</a></span><span class="op" id="5836912">)</span><br>
<span class="lineno"></span><span class="op" id="5836914">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="5836917">//&nbsp;decodeStruct&nbsp;decodes&nbsp;a&nbsp;top-level&nbsp;struct&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5836984">//&nbsp;Indir&nbsp;is&nbsp;for&nbsp;the&nbsp;value,&nbsp;not&nbsp;the&nbsp;type.&nbsp;&nbsp;At&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;call&nbsp;it&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="5837057">//&nbsp;differ&nbsp;from&nbsp;ut.indir,&nbsp;which&nbsp;was&nbsp;computed&nbsp;when&nbsp;the&nbsp;engine&nbsp;was&nbsp;built.</span><br>
<span class="lineno"></span><span class="comment" id="5837128">//&nbsp;This&nbsp;state&nbsp;cannot&nbsp;arise&nbsp;for&nbsp;decodeSingle,&nbsp;which&nbsp;is&nbsp;called&nbsp;directly</span><br>
<span class="lineno">440</span><span class="comment" id="5837198">//&nbsp;from&nbsp;the&nbsp;user&#39;s&nbsp;value,&nbsp;not&nbsp;from&nbsp;the&nbsp;innards&nbsp;of&nbsp;an&nbsp;engine.</span><br>
<span class="lineno"></span><span class="keyword" id="5837259">func</span>&nbsp;<span class="op" id="5837264">(</span><span class="ident" id="5837265">dec</span>&nbsp;<span class="op" id="5837269">*</span><span class="ident" id="5837270"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5837277">)</span>&nbsp;<span class="ident" id="5837279">decodeStruct</span><span class="op" id="5837291">(</span><span class="ident" id="5837292">engine</span>&nbsp;<span class="op" id="5837299">*</span><span class="ident" id="5837300"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5837309">,</span>&nbsp;<span class="ident" id="5837311">ut</span>&nbsp;<span class="op" id="5837314">*</span><span class="ident" id="5837315"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5837327">,</span>&nbsp;<span class="ident" id="5837329">value</span>&nbsp;<span class="ident" id="5837335"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5837342">.</span><span class="ident" id="5837343">Value</span><span class="op" id="5837348">)</span>&nbsp;<span class="op" id="5837350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837353">state</span>&nbsp;<span class="op" id="5837359">:=</span>&nbsp;<span class="ident" id="5837362"><a href="/encoding/gob/decode.go.html#5837265">dec</a></span><span class="op" id="5837365">.</span><span class="ident" id="5837366">newDecoderState</span><span class="op" id="5837381">(</span><span class="op" id="5837382">&amp;</span><span class="ident" id="5837383"><a href="/encoding/gob/decode.go.html#5837265">dec</a></span><span class="op" id="5837386">.</span><span class="ident" id="5837387">buf</span><span class="op" id="5837390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837393">defer</span>&nbsp;<span class="ident" id="5837399"><a href="/encoding/gob/decode.go.html#5837265">dec</a></span><span class="op" id="5837402">.</span><span class="ident" id="5837403">freeDecoderState</span><span class="op" id="5837419">(</span><span class="ident" id="5837420"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5837425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837428"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5837433">.</span><span class="ident" id="5837434">fieldnum</span>&nbsp;<span class="op" id="5837443">=</span>&nbsp;<span class="op" id="5837445">-</span><span class="num" id="5837446">1</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837449">for</span>&nbsp;<span class="ident" id="5837453"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5837458">.</span><span class="ident" id="5837459">b</span><span class="op" id="5837460">.</span><span class="ident" id="5837461">Len</span><span class="op" id="5837464">(</span><span class="op" id="5837465">)</span>&nbsp;<span class="op" id="5837467">&gt;</span>&nbsp;<span class="num" id="5837469">0</span>&nbsp;<span class="op" id="5837471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837475">delta</span>&nbsp;<span class="op" id="5837481">:=</span>&nbsp;<span class="builtintype" id="5837484">int</span><span class="op" id="5837487">(</span><span class="ident" id="5837488"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5837493">.</span><span class="ident" id="5837494">decodeUint</span><span class="op" id="5837504">(</span><span class="op" id="5837505">)</span><span class="op" id="5837506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837510">if</span>&nbsp;<span class="ident" id="5837513"><a href="/encoding/gob/decode.go.html#5837475">delta</a></span>&nbsp;<span class="op" id="5837519">&lt;</span>&nbsp;<span class="num" id="5837521">0</span>&nbsp;<span class="op" id="5837523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837528"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5837534">(</span><span class="string" id="5837535">&#34;decode:&nbsp;corrupted&nbsp;data:&nbsp;negative&nbsp;delta&#34;</span><span class="op" id="5837575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837579">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837583">if</span>&nbsp;<span class="ident" id="5837586"><a href="/encoding/gob/decode.go.html#5837475">delta</a></span>&nbsp;<span class="op" id="5837592">==</span>&nbsp;<span class="num" id="5837595">0</span>&nbsp;<span class="op" id="5837597">{</span>&nbsp;<span class="comment" id="5837599">//&nbsp;struct&nbsp;terminator&nbsp;is&nbsp;zero&nbsp;delta&nbsp;fieldnum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837646">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837658">fieldnum</span>&nbsp;<span class="op" id="5837667">:=</span>&nbsp;<span class="ident" id="5837670"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5837675">.</span><span class="ident" id="5837676">fieldnum</span>&nbsp;<span class="op" id="5837685">+</span>&nbsp;<span class="ident" id="5837687"><a href="/encoding/gob/decode.go.html#5837475">delta</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837695">if</span>&nbsp;<span class="ident" id="5837698"><a href="/encoding/gob/decode.go.html#5837658">fieldnum</a></span>&nbsp;<span class="op" id="5837707">&gt;=</span>&nbsp;<span class="builtinfunc" id="5837710">len</span><span class="op" id="5837713">(</span><span class="ident" id="5837714"><a href="/encoding/gob/decode.go.html#5837292">engine</a></span><span class="op" id="5837720">.</span><span class="ident" id="5837721">instr</span><span class="op" id="5837726">)</span>&nbsp;<span class="op" id="5837728">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837733"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5837739">(</span><span class="ident" id="5837740"><a href="/encoding/gob/decode.go.html#5824717">errRange</a></span><span class="op" id="5837748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837753">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5837761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837765">instr</span>&nbsp;<span class="op" id="5837771">:=</span>&nbsp;<span class="op" id="5837774">&amp;</span><span class="ident" id="5837775"><a href="/encoding/gob/decode.go.html#5837292">engine</a></span><span class="op" id="5837781">.</span><span class="ident" id="5837782">instr</span><span class="op" id="5837787">[</span><span class="ident" id="5837788"><a href="/encoding/gob/decode.go.html#5837658">fieldnum</a></span><span class="op" id="5837796">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837800">var</span>&nbsp;<span class="ident" id="5837804">field</span>&nbsp;<span class="ident" id="5837810"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5837817">.</span><span class="ident" id="5837818">Value</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837826">if</span>&nbsp;<span class="ident" id="5837829"><a href="/encoding/gob/decode.go.html#5837765">instr</a></span><span class="op" id="5837834">.</span><span class="ident" id="5837835">index</span>&nbsp;<span class="op" id="5837841">!=</span>&nbsp;<span class="ident" id="5837844">nil</span>&nbsp;<span class="op" id="5837848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5837853">//&nbsp;Otherwise&nbsp;the&nbsp;field&nbsp;is&nbsp;unknown&nbsp;to&nbsp;us&nbsp;and&nbsp;instr.op&nbsp;is&nbsp;an&nbsp;ignore&nbsp;op.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5837926"><a href="/encoding/gob/decode.go.html#5837804">field</a></span>&nbsp;<span class="op" id="5837932">=</span>&nbsp;<span class="ident" id="5837934"><a href="/encoding/gob/decode.go.html#5837329">value</a></span><span class="op" id="5837939">.</span><span class="ident" id="5837940">FieldByIndex</span><span class="op" id="5837952">(</span><span class="ident" id="5837953"><a href="/encoding/gob/decode.go.html#5837765">instr</a></span><span class="op" id="5837958">.</span><span class="ident" id="5837959">index</span><span class="op" id="5837964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5837969">if</span>&nbsp;<span class="ident" id="5837972"><a href="/encoding/gob/decode.go.html#5837804">field</a></span><span class="op" id="5837977">.</span><span class="ident" id="5837978">Kind</span><span class="op" id="5837982">(</span><span class="op" id="5837983">)</span>&nbsp;<span class="op" id="5837985">==</span>&nbsp;<span class="ident" id="5837988"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5837995">.</span><span class="ident" id="5837996">Ptr</span>&nbsp;<span class="op" id="5838000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838006"><a href="/encoding/gob/decode.go.html#5837804">field</a></span>&nbsp;<span class="op" id="5838012">=</span>&nbsp;<span class="ident" id="5838014"><a href="/encoding/gob/decode.go.html#5829927">decAlloc</a></span><span class="op" id="5838022">(</span><span class="ident" id="5838023"><a href="/encoding/gob/decode.go.html#5837804">field</a></span><span class="op" id="5838028">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838041"><a href="/encoding/gob/decode.go.html#5837765">instr</a></span><span class="op" id="5838046">.</span><span class="ident" id="5838047">op</span><span class="op" id="5838049">(</span><span class="ident" id="5838050"><a href="/encoding/gob/decode.go.html#5837765">instr</a></span><span class="op" id="5838055">,</span>&nbsp;<span class="ident" id="5838057"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5838062">,</span>&nbsp;<span class="ident" id="5838064"><a href="/encoding/gob/decode.go.html#5837804">field</a></span><span class="op" id="5838069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838073"><a href="/encoding/gob/decode.go.html#5837353">state</a></span><span class="op" id="5838078">.</span><span class="ident" id="5838079">fieldnum</span>&nbsp;<span class="op" id="5838088">=</span>&nbsp;<span class="ident" id="5838090"><a href="/encoding/gob/decode.go.html#5837658">fieldnum</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838100">}</span><br>
<span class="lineno">470</span><span class="op" id="5838102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5838105">var</span>&nbsp;<span class="ident" id="5838109">noValue</span>&nbsp;<span class="ident" id="5838117"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5838124">.</span><span class="ident" id="5838125">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838132">//&nbsp;ignoreStruct&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;struct&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno">475</span><span class="keyword" id="5838200">func</span>&nbsp;<span class="op" id="5838205">(</span><span class="ident" id="5838206">dec</span>&nbsp;<span class="op" id="5838210">*</span><span class="ident" id="5838211"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5838218">)</span>&nbsp;<span class="ident" id="5838220">ignoreStruct</span><span class="op" id="5838232">(</span><span class="ident" id="5838233">engine</span>&nbsp;<span class="op" id="5838240">*</span><span class="ident" id="5838241"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5838250">)</span>&nbsp;<span class="op" id="5838252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838255">state</span>&nbsp;<span class="op" id="5838261">:=</span>&nbsp;<span class="ident" id="5838264"><a href="/encoding/gob/decode.go.html#5838206">dec</a></span><span class="op" id="5838267">.</span><span class="ident" id="5838268">newDecoderState</span><span class="op" id="5838283">(</span><span class="op" id="5838284">&amp;</span><span class="ident" id="5838285"><a href="/encoding/gob/decode.go.html#5838206">dec</a></span><span class="op" id="5838288">.</span><span class="ident" id="5838289">buf</span><span class="op" id="5838292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838295">defer</span>&nbsp;<span class="ident" id="5838301"><a href="/encoding/gob/decode.go.html#5838206">dec</a></span><span class="op" id="5838304">.</span><span class="ident" id="5838305">freeDecoderState</span><span class="op" id="5838321">(</span><span class="ident" id="5838322"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838330"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838335">.</span><span class="ident" id="5838336">fieldnum</span>&nbsp;<span class="op" id="5838345">=</span>&nbsp;<span class="op" id="5838347">-</span><span class="num" id="5838348">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838351">for</span>&nbsp;<span class="ident" id="5838355"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838360">.</span><span class="ident" id="5838361">b</span><span class="op" id="5838362">.</span><span class="ident" id="5838363">Len</span><span class="op" id="5838366">(</span><span class="op" id="5838367">)</span>&nbsp;<span class="op" id="5838369">&gt;</span>&nbsp;<span class="num" id="5838371">0</span>&nbsp;<span class="op" id="5838373">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838377">delta</span>&nbsp;<span class="op" id="5838383">:=</span>&nbsp;<span class="builtintype" id="5838386">int</span><span class="op" id="5838389">(</span><span class="ident" id="5838390"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838395">.</span><span class="ident" id="5838396">decodeUint</span><span class="op" id="5838406">(</span><span class="op" id="5838407">)</span><span class="op" id="5838408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838412">if</span>&nbsp;<span class="ident" id="5838415"><a href="/encoding/gob/decode.go.html#5838377">delta</a></span>&nbsp;<span class="op" id="5838421">&lt;</span>&nbsp;<span class="num" id="5838423">0</span>&nbsp;<span class="op" id="5838425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838430"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5838436">(</span><span class="string" id="5838437">&#34;ignore&nbsp;decode:&nbsp;corrupted&nbsp;data:&nbsp;negative&nbsp;delta&#34;</span><span class="op" id="5838484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838492">if</span>&nbsp;<span class="ident" id="5838495"><a href="/encoding/gob/decode.go.html#5838377">delta</a></span>&nbsp;<span class="op" id="5838501">==</span>&nbsp;<span class="num" id="5838504">0</span>&nbsp;<span class="op" id="5838506">{</span>&nbsp;<span class="comment" id="5838508">//&nbsp;struct&nbsp;terminator&nbsp;is&nbsp;zero&nbsp;delta&nbsp;fieldnum</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838555">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838567">fieldnum</span>&nbsp;<span class="op" id="5838576">:=</span>&nbsp;<span class="ident" id="5838579"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838584">.</span><span class="ident" id="5838585">fieldnum</span>&nbsp;<span class="op" id="5838594">+</span>&nbsp;<span class="ident" id="5838596"><a href="/encoding/gob/decode.go.html#5838377">delta</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5838604">if</span>&nbsp;<span class="ident" id="5838607"><a href="/encoding/gob/decode.go.html#5838567">fieldnum</a></span>&nbsp;<span class="op" id="5838616">&gt;=</span>&nbsp;<span class="builtinfunc" id="5838619">len</span><span class="op" id="5838622">(</span><span class="ident" id="5838623"><a href="/encoding/gob/decode.go.html#5838233">engine</a></span><span class="op" id="5838629">.</span><span class="ident" id="5838630">instr</span><span class="op" id="5838635">)</span>&nbsp;<span class="op" id="5838637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838642"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5838648">(</span><span class="ident" id="5838649"><a href="/encoding/gob/decode.go.html#5824717">errRange</a></span><span class="op" id="5838657">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838665">instr</span>&nbsp;<span class="op" id="5838671">:=</span>&nbsp;<span class="op" id="5838674">&amp;</span><span class="ident" id="5838675"><a href="/encoding/gob/decode.go.html#5838233">engine</a></span><span class="op" id="5838681">.</span><span class="ident" id="5838682">instr</span><span class="op" id="5838687">[</span><span class="ident" id="5838688"><a href="/encoding/gob/decode.go.html#5838567">fieldnum</a></span><span class="op" id="5838696">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838700"><a href="/encoding/gob/decode.go.html#5838665">instr</a></span><span class="op" id="5838705">.</span><span class="ident" id="5838706">op</span><span class="op" id="5838708">(</span><span class="ident" id="5838709"><a href="/encoding/gob/decode.go.html#5838665">instr</a></span><span class="op" id="5838714">,</span>&nbsp;<span class="ident" id="5838716"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838721">,</span>&nbsp;<span class="ident" id="5838723"><a href="/encoding/gob/decode.go.html#5838109">noValue</a></span><span class="op" id="5838730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838734"><a href="/encoding/gob/decode.go.html#5838255">state</a></span><span class="op" id="5838739">.</span><span class="ident" id="5838740">fieldnum</span>&nbsp;<span class="op" id="5838749">=</span>&nbsp;<span class="ident" id="5838751"><a href="/encoding/gob/decode.go.html#5838567">fieldnum</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5838761">}</span><br>
<span class="lineno">495</span><span class="op" id="5838763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5838766">//&nbsp;ignoreSingle&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;top-level&nbsp;non-struct&nbsp;value&nbsp;with&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="5838841">//&nbsp;destination.&nbsp;It&#39;s&nbsp;used&nbsp;when&nbsp;calling&nbsp;Decode&nbsp;with&nbsp;a&nbsp;nil&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5838905">func</span>&nbsp;<span class="op" id="5838910">(</span><span class="ident" id="5838911">dec</span>&nbsp;<span class="op" id="5838915">*</span><span class="ident" id="5838916"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5838923">)</span>&nbsp;<span class="ident" id="5838925">ignoreSingle</span><span class="op" id="5838937">(</span><span class="ident" id="5838938">engine</span>&nbsp;<span class="op" id="5838945">*</span><span class="ident" id="5838946"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5838955">)</span>&nbsp;<span class="op" id="5838957">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5838960">state</span>&nbsp;<span class="op" id="5838966">:=</span>&nbsp;<span class="ident" id="5838969"><a href="/encoding/gob/decode.go.html#5838911">dec</a></span><span class="op" id="5838972">.</span><span class="ident" id="5838973">newDecoderState</span><span class="op" id="5838988">(</span><span class="op" id="5838989">&amp;</span><span class="ident" id="5838990"><a href="/encoding/gob/decode.go.html#5838911">dec</a></span><span class="op" id="5838993">.</span><span class="ident" id="5838994">buf</span><span class="op" id="5838997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839000">defer</span>&nbsp;<span class="ident" id="5839006"><a href="/encoding/gob/decode.go.html#5838911">dec</a></span><span class="op" id="5839009">.</span><span class="ident" id="5839010">freeDecoderState</span><span class="op" id="5839026">(</span><span class="ident" id="5839027"><a href="/encoding/gob/decode.go.html#5838960">state</a></span><span class="op" id="5839032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839035"><a href="/encoding/gob/decode.go.html#5838960">state</a></span><span class="op" id="5839040">.</span><span class="ident" id="5839041">fieldnum</span>&nbsp;<span class="op" id="5839050">=</span>&nbsp;<span class="ident" id="5839052"><a href="/encoding/gob/encode.go.html#5902767">singletonField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839068">delta</span>&nbsp;<span class="op" id="5839074">:=</span>&nbsp;<span class="builtintype" id="5839077">int</span><span class="op" id="5839080">(</span><span class="ident" id="5839081"><a href="/encoding/gob/decode.go.html#5838960">state</a></span><span class="op" id="5839086">.</span><span class="ident" id="5839087">decodeUint</span><span class="op" id="5839097">(</span><span class="op" id="5839098">)</span><span class="op" id="5839099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839102">if</span>&nbsp;<span class="ident" id="5839105"><a href="/encoding/gob/decode.go.html#5839068">delta</a></span>&nbsp;<span class="op" id="5839111">!=</span>&nbsp;<span class="num" id="5839114">0</span>&nbsp;<span class="op" id="5839116">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839120"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5839126">(</span><span class="string" id="5839127">&#34;decode:&nbsp;corrupted&nbsp;data:&nbsp;non-zero&nbsp;delta&nbsp;for&nbsp;singleton&#34;</span><span class="op" id="5839181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839187">instr</span>&nbsp;<span class="op" id="5839193">:=</span>&nbsp;<span class="op" id="5839196">&amp;</span><span class="ident" id="5839197"><a href="/encoding/gob/decode.go.html#5838938">engine</a></span><span class="op" id="5839203">.</span><span class="ident" id="5839204">instr</span><span class="op" id="5839209">[</span><span class="ident" id="5839210"><a href="/encoding/gob/encode.go.html#5902767">singletonField</a></span><span class="op" id="5839224">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839227"><a href="/encoding/gob/decode.go.html#5839187">instr</a></span><span class="op" id="5839232">.</span><span class="ident" id="5839233">op</span><span class="op" id="5839235">(</span><span class="ident" id="5839236"><a href="/encoding/gob/decode.go.html#5839187">instr</a></span><span class="op" id="5839241">,</span>&nbsp;<span class="ident" id="5839243"><a href="/encoding/gob/decode.go.html#5838960">state</a></span><span class="op" id="5839248">,</span>&nbsp;<span class="ident" id="5839250"><a href="/encoding/gob/decode.go.html#5838109">noValue</a></span><span class="op" id="5839257">)</span><br>
<span class="lineno"></span><span class="op" id="5839259">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span><span class="comment" id="5839262">//&nbsp;decodeArrayHelper&nbsp;does&nbsp;the&nbsp;work&nbsp;for&nbsp;decoding&nbsp;arrays&nbsp;and&nbsp;slices.</span><br>
<span class="lineno"></span><span class="keyword" id="5839329">func</span>&nbsp;<span class="op" id="5839334">(</span><span class="ident" id="5839335">dec</span>&nbsp;<span class="op" id="5839339">*</span><span class="ident" id="5839340"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5839347">)</span>&nbsp;<span class="ident" id="5839349">decodeArrayHelper</span><span class="op" id="5839366">(</span><span class="ident" id="5839367">state</span>&nbsp;<span class="op" id="5839373">*</span><span class="ident" id="5839374"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5839386">,</span>&nbsp;<span class="ident" id="5839388">value</span>&nbsp;<span class="ident" id="5839394"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5839401">.</span><span class="ident" id="5839402">Value</span><span class="op" id="5839407">,</span>&nbsp;<span class="ident" id="5839409">elemOp</span>&nbsp;<span class="ident" id="5839416"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5839421">,</span>&nbsp;<span class="ident" id="5839423">length</span>&nbsp;<span class="builtintype" id="5839430">int</span><span class="op" id="5839433">,</span>&nbsp;<span class="ident" id="5839435">ovfl</span>&nbsp;<span class="builtintype" id="5839440">error</span><span class="op" id="5839445">,</span>&nbsp;<span class="ident" id="5839447">helper</span>&nbsp;<span class="ident" id="5839454"><a href="/encoding/gob/decode.go.html#5824795">decHelper</a></span><span class="op" id="5839463">)</span>&nbsp;<span class="op" id="5839465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839468">if</span>&nbsp;<span class="ident" id="5839471"><a href="/encoding/gob/decode.go.html#5839447">helper</a></span>&nbsp;<span class="op" id="5839478">!=</span>&nbsp;<span class="ident" id="5839481">nil</span>&nbsp;<span class="op" id="5839485">&amp;&amp;</span>&nbsp;<span class="ident" id="5839488"><a href="/encoding/gob/decode.go.html#5839447">helper</a></span><span class="op" id="5839494">(</span><span class="ident" id="5839495"><a href="/encoding/gob/decode.go.html#5839367">state</a></span><span class="op" id="5839500">,</span>&nbsp;<span class="ident" id="5839502"><a href="/encoding/gob/decode.go.html#5839388">value</a></span><span class="op" id="5839507">,</span>&nbsp;<span class="ident" id="5839509"><a href="/encoding/gob/decode.go.html#5839423">length</a></span><span class="op" id="5839515">,</span>&nbsp;<span class="ident" id="5839517"><a href="/encoding/gob/decode.go.html#5839435">ovfl</a></span><span class="op" id="5839521">)</span>&nbsp;<span class="op" id="5839523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839527">return</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839538">instr</span>&nbsp;<span class="op" id="5839544">:=</span>&nbsp;<span class="op" id="5839547">&amp;</span><span class="ident" id="5839548"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5839556">{</span><span class="ident" id="5839557"><a href="/encoding/gob/decode.go.html#5839409">elemOp</a></span><span class="op" id="5839563">,</span>&nbsp;<span class="num" id="5839565">0</span><span class="op" id="5839566">,</span>&nbsp;<span class="ident" id="5839568">nil</span><span class="op" id="5839571">,</span>&nbsp;<span class="ident" id="5839573"><a href="/encoding/gob/decode.go.html#5839435">ovfl</a></span><span class="op" id="5839577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839580">isPtr</span>&nbsp;<span class="op" id="5839586">:=</span>&nbsp;<span class="ident" id="5839589"><a href="/encoding/gob/decode.go.html#5839388">value</a></span><span class="op" id="5839594">.</span><span class="ident" id="5839595">Type</span><span class="op" id="5839599">(</span><span class="op" id="5839600">)</span><span class="op" id="5839601">.</span><span class="ident" id="5839602">Elem</span><span class="op" id="5839606">(</span><span class="op" id="5839607">)</span><span class="op" id="5839608">.</span><span class="ident" id="5839609">Kind</span><span class="op" id="5839613">(</span><span class="op" id="5839614">)</span>&nbsp;<span class="op" id="5839616">==</span>&nbsp;<span class="ident" id="5839619"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5839626">.</span><span class="ident" id="5839627">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839632">for</span>&nbsp;<span class="ident" id="5839636">i</span>&nbsp;<span class="op" id="5839638">:=</span>&nbsp;<span class="num" id="5839641">0</span><span class="op" id="5839642">;</span>&nbsp;<span class="ident" id="5839644"><a href="/encoding/gob/decode.go.html#5839636">i</a></span>&nbsp;<span class="op" id="5839646">&lt;</span>&nbsp;<span class="ident" id="5839648"><a href="/encoding/gob/decode.go.html#5839423">length</a></span><span class="op" id="5839654">;</span>&nbsp;<span class="ident" id="5839656"><a href="/encoding/gob/decode.go.html#5839636">i</a></span><span class="op" id="5839657">++</span>&nbsp;<span class="op" id="5839660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839664">if</span>&nbsp;<span class="ident" id="5839667"><a href="/encoding/gob/decode.go.html#5839367">state</a></span><span class="op" id="5839672">.</span><span class="ident" id="5839673">b</span><span class="op" id="5839674">.</span><span class="ident" id="5839675">Len</span><span class="op" id="5839678">(</span><span class="op" id="5839679">)</span>&nbsp;<span class="op" id="5839681">==</span>&nbsp;<span class="num" id="5839684">0</span>&nbsp;<span class="op" id="5839686">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839691"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5839697">(</span><span class="string" id="5839698">&#34;decoding&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5839764">,</span>&nbsp;<span class="ident" id="5839766"><a href="/encoding/gob/decode.go.html#5839423">length</a></span><span class="op" id="5839772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839780">v</span>&nbsp;<span class="op" id="5839782">:=</span>&nbsp;<span class="ident" id="5839785"><a href="/encoding/gob/decode.go.html#5839388">value</a></span><span class="op" id="5839790">.</span><span class="ident" id="5839791">Index</span><span class="op" id="5839796">(</span><span class="ident" id="5839797"><a href="/encoding/gob/decode.go.html#5839636">i</a></span><span class="op" id="5839798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5839802">if</span>&nbsp;<span class="ident" id="5839805"><a href="/encoding/gob/decode.go.html#5839580">isPtr</a></span>&nbsp;<span class="op" id="5839811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839816"><a href="/encoding/gob/decode.go.html#5839780">v</a></span>&nbsp;<span class="op" id="5839818">=</span>&nbsp;<span class="ident" id="5839820"><a href="/encoding/gob/decode.go.html#5829927">decAlloc</a></span><span class="op" id="5839828">(</span><span class="ident" id="5839829"><a href="/encoding/gob/decode.go.html#5839780">v</a></span><span class="op" id="5839830">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5839838"><a href="/encoding/gob/decode.go.html#5839409">elemOp</a></span><span class="op" id="5839844">(</span><span class="ident" id="5839845"><a href="/encoding/gob/decode.go.html#5839538">instr</a></span><span class="op" id="5839850">,</span>&nbsp;<span class="ident" id="5839852"><a href="/encoding/gob/decode.go.html#5839367">state</a></span><span class="op" id="5839857">,</span>&nbsp;<span class="ident" id="5839859"><a href="/encoding/gob/decode.go.html#5839780">v</a></span><span class="op" id="5839860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5839863">}</span><br>
<span class="lineno"></span><span class="op" id="5839865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span><span class="comment" id="5839868">//&nbsp;decodeArray&nbsp;decodes&nbsp;an&nbsp;array&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5839924">//&nbsp;The&nbsp;length&nbsp;is&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;preceding&nbsp;the&nbsp;elements.&nbsp;&nbsp;Even&nbsp;though&nbsp;the&nbsp;length&nbsp;is&nbsp;redundant</span><br>
<span class="lineno"></span><span class="comment" id="5840022">//&nbsp;(it&#39;s&nbsp;part&nbsp;of&nbsp;the&nbsp;type),&nbsp;it&#39;s&nbsp;a&nbsp;useful&nbsp;check&nbsp;and&nbsp;is&nbsp;included&nbsp;in&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="5840103">func</span>&nbsp;<span class="op" id="5840108">(</span><span class="ident" id="5840109">dec</span>&nbsp;<span class="op" id="5840113">*</span><span class="ident" id="5840114"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5840121">)</span>&nbsp;<span class="ident" id="5840123">decodeArray</span><span class="op" id="5840134">(</span><span class="ident" id="5840135">atyp</span>&nbsp;<span class="ident" id="5840140"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5840147">.</span><span class="ident" id="5840148">Type</span><span class="op" id="5840152">,</span>&nbsp;<span class="ident" id="5840154">state</span>&nbsp;<span class="op" id="5840160">*</span><span class="ident" id="5840161"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5840173">,</span>&nbsp;<span class="ident" id="5840175">value</span>&nbsp;<span class="ident" id="5840181"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5840188">.</span><span class="ident" id="5840189">Value</span><span class="op" id="5840194">,</span>&nbsp;<span class="ident" id="5840196">elemOp</span>&nbsp;<span class="ident" id="5840203"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5840208">,</span>&nbsp;<span class="ident" id="5840210">length</span>&nbsp;<span class="builtintype" id="5840217">int</span><span class="op" id="5840220">,</span>&nbsp;<span class="ident" id="5840222">ovfl</span>&nbsp;<span class="builtintype" id="5840227">error</span><span class="op" id="5840232">,</span>&nbsp;<span class="ident" id="5840234">helper</span>&nbsp;<span class="ident" id="5840241"><a href="/encoding/gob/decode.go.html#5824795">decHelper</a></span><span class="op" id="5840250">)</span>&nbsp;<span class="op" id="5840252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840255">if</span>&nbsp;<span class="ident" id="5840258">n</span>&nbsp;<span class="op" id="5840260">:=</span>&nbsp;<span class="ident" id="5840263"><a href="/encoding/gob/decode.go.html#5840154">state</a></span><span class="op" id="5840268">.</span><span class="ident" id="5840269">decodeUint</span><span class="op" id="5840279">(</span><span class="op" id="5840280">)</span><span class="op" id="5840281">;</span>&nbsp;<span class="ident" id="5840283"><a href="/encoding/gob/decode.go.html#5840258">n</a></span>&nbsp;<span class="op" id="5840285">!=</span>&nbsp;<span class="ident" id="5840288">uint64</span><span class="op" id="5840294">(</span><span class="ident" id="5840295"><a href="/encoding/gob/decode.go.html#5840210">length</a></span><span class="op" id="5840301">)</span>&nbsp;<span class="op" id="5840303">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840307"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5840313">(</span><span class="string" id="5840314">&#34;length&nbsp;mismatch&nbsp;in&nbsp;decodeArray&#34;</span><span class="op" id="5840346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840352"><a href="/encoding/gob/decode.go.html#5840109">dec</a></span><span class="op" id="5840355">.</span><span class="ident" id="5840356">decodeArrayHelper</span><span class="op" id="5840373">(</span><span class="ident" id="5840374"><a href="/encoding/gob/decode.go.html#5840154">state</a></span><span class="op" id="5840379">,</span>&nbsp;<span class="ident" id="5840381"><a href="/encoding/gob/decode.go.html#5840175">value</a></span><span class="op" id="5840386">,</span>&nbsp;<span class="ident" id="5840388"><a href="/encoding/gob/decode.go.html#5840196">elemOp</a></span><span class="op" id="5840394">,</span>&nbsp;<span class="ident" id="5840396"><a href="/encoding/gob/decode.go.html#5840210">length</a></span><span class="op" id="5840402">,</span>&nbsp;<span class="ident" id="5840404"><a href="/encoding/gob/decode.go.html#5840222">ovfl</a></span><span class="op" id="5840408">,</span>&nbsp;<span class="ident" id="5840410"><a href="/encoding/gob/decode.go.html#5840234">helper</a></span><span class="op" id="5840416">)</span><br>
<span class="lineno"></span><span class="op" id="5840418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">540</span><span class="comment" id="5840421">//&nbsp;decodeIntoValue&nbsp;is&nbsp;a&nbsp;helper&nbsp;for&nbsp;map&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="5840470">func</span>&nbsp;<span class="ident" id="5840475">decodeIntoValue</span><span class="op" id="5840490">(</span><span class="ident" id="5840491">state</span>&nbsp;<span class="op" id="5840497">*</span><span class="ident" id="5840498"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5840510">,</span>&nbsp;<span class="ident" id="5840512">op</span>&nbsp;<span class="ident" id="5840515"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5840520">,</span>&nbsp;<span class="ident" id="5840522">isPtr</span>&nbsp;<span class="builtintype" id="5840528">bool</span><span class="op" id="5840532">,</span>&nbsp;<span class="ident" id="5840534">value</span>&nbsp;<span class="ident" id="5840540"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5840547">.</span><span class="ident" id="5840548">Value</span><span class="op" id="5840553">,</span>&nbsp;<span class="ident" id="5840555">ovfl</span>&nbsp;<span class="builtintype" id="5840560">error</span><span class="op" id="5840565">)</span>&nbsp;<span class="ident" id="5840567"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5840574">.</span><span class="ident" id="5840575">Value</span>&nbsp;<span class="op" id="5840581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840584">instr</span>&nbsp;<span class="op" id="5840590">:=</span>&nbsp;<span class="op" id="5840593">&amp;</span><span class="ident" id="5840594"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5840602">{</span><span class="ident" id="5840603"><a href="/encoding/gob/decode.go.html#5840512">op</a></span><span class="op" id="5840605">,</span>&nbsp;<span class="num" id="5840607">0</span><span class="op" id="5840608">,</span>&nbsp;<span class="ident" id="5840610">nil</span><span class="op" id="5840613">,</span>&nbsp;<span class="ident" id="5840615"><a href="/encoding/gob/decode.go.html#5840555">ovfl</a></span><span class="op" id="5840619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840622">v</span>&nbsp;<span class="op" id="5840624">:=</span>&nbsp;<span class="ident" id="5840627"><a href="/encoding/gob/decode.go.html#5840534">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840634">if</span>&nbsp;<span class="ident" id="5840637"><a href="/encoding/gob/decode.go.html#5840522">isPtr</a></span>&nbsp;<span class="op" id="5840643">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840647"><a href="/encoding/gob/decode.go.html#5840622">v</a></span>&nbsp;<span class="op" id="5840649">=</span>&nbsp;<span class="ident" id="5840651"><a href="/encoding/gob/decode.go.html#5829927">decAlloc</a></span><span class="op" id="5840659">(</span><span class="ident" id="5840660"><a href="/encoding/gob/decode.go.html#5840534">value</a></span><span class="op" id="5840665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5840668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5840671"><a href="/encoding/gob/decode.go.html#5840512">op</a></span><span class="op" id="5840673">(</span><span class="ident" id="5840674"><a href="/encoding/gob/decode.go.html#5840584">instr</a></span><span class="op" id="5840679">,</span>&nbsp;<span class="ident" id="5840681"><a href="/encoding/gob/decode.go.html#5840491">state</a></span><span class="op" id="5840686">,</span>&nbsp;<span class="ident" id="5840688"><a href="/encoding/gob/decode.go.html#5840622">v</a></span><span class="op" id="5840689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5840692">return</span>&nbsp;<span class="ident" id="5840699"><a href="/encoding/gob/decode.go.html#5840534">value</a></span><br>
<span class="lineno"></span><span class="op" id="5840705">}</span><br>
<span class="lineno">550</span><br>
<span class="lineno"></span><span class="comment" id="5840708">//&nbsp;decodeMap&nbsp;decodes&nbsp;a&nbsp;map&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5840759">//&nbsp;Maps&nbsp;are&nbsp;encoded&nbsp;as&nbsp;a&nbsp;length&nbsp;followed&nbsp;by&nbsp;key:value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="comment" id="5840820">//&nbsp;Because&nbsp;the&nbsp;internals&nbsp;of&nbsp;maps&nbsp;are&nbsp;not&nbsp;visible&nbsp;to&nbsp;us,&nbsp;we&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="5840884">//&nbsp;use&nbsp;reflection&nbsp;rather&nbsp;than&nbsp;pointer&nbsp;magic.</span><br>
<span class="lineno">555</span><span class="keyword" id="5840929">func</span>&nbsp;<span class="op" id="5840934">(</span><span class="ident" id="5840935">dec</span>&nbsp;<span class="op" id="5840939">*</span><span class="ident" id="5840940"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5840947">)</span>&nbsp;<span class="ident" id="5840949">decodeMap</span><span class="op" id="5840958">(</span><span class="ident" id="5840959">mtyp</span>&nbsp;<span class="ident" id="5840964"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5840971">.</span><span class="ident" id="5840972">Type</span><span class="op" id="5840976">,</span>&nbsp;<span class="ident" id="5840978">state</span>&nbsp;<span class="op" id="5840984">*</span><span class="ident" id="5840985"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5840997">,</span>&nbsp;<span class="ident" id="5840999">value</span>&nbsp;<span class="ident" id="5841005"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5841012">.</span><span class="ident" id="5841013">Value</span><span class="op" id="5841018">,</span>&nbsp;<span class="ident" id="5841020">keyOp</span><span class="op" id="5841025">,</span>&nbsp;<span class="ident" id="5841027">elemOp</span>&nbsp;<span class="ident" id="5841034"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5841039">,</span>&nbsp;<span class="ident" id="5841041">ovfl</span>&nbsp;<span class="builtintype" id="5841046">error</span><span class="op" id="5841051">)</span>&nbsp;<span class="op" id="5841053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841056">if</span>&nbsp;<span class="ident" id="5841059"><a href="/encoding/gob/decode.go.html#5840999">value</a></span><span class="op" id="5841064">.</span><span class="ident" id="5841065">IsNil</span><span class="op" id="5841070">(</span><span class="op" id="5841071">)</span>&nbsp;<span class="op" id="5841073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5841077">//&nbsp;Allocate&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841096"><a href="/encoding/gob/decode.go.html#5840999">value</a></span><span class="op" id="5841101">.</span><span class="ident" id="5841102">Set</span><span class="op" id="5841105">(</span><span class="ident" id="5841106"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5841113">.</span><span class="ident" id="5841114">MakeMap</span><span class="op" id="5841121">(</span><span class="ident" id="5841122"><a href="/encoding/gob/decode.go.html#5840959">mtyp</a></span><span class="op" id="5841126">)</span><span class="op" id="5841127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5841130">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841133">n</span>&nbsp;<span class="op" id="5841135">:=</span>&nbsp;<span class="builtintype" id="5841138">int</span><span class="op" id="5841141">(</span><span class="ident" id="5841142"><a href="/encoding/gob/decode.go.html#5840978">state</a></span><span class="op" id="5841147">.</span><span class="ident" id="5841148">decodeUint</span><span class="op" id="5841158">(</span><span class="op" id="5841159">)</span><span class="op" id="5841160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841163">keyIsPtr</span>&nbsp;<span class="op" id="5841172">:=</span>&nbsp;<span class="ident" id="5841175"><a href="/encoding/gob/decode.go.html#5840959">mtyp</a></span><span class="op" id="5841179">.</span><span class="ident" id="5841180">Key</span><span class="op" id="5841183">(</span><span class="op" id="5841184">)</span><span class="op" id="5841185">.</span><span class="ident" id="5841186">Kind</span><span class="op" id="5841190">(</span><span class="op" id="5841191">)</span>&nbsp;<span class="op" id="5841193">==</span>&nbsp;<span class="ident" id="5841196"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5841203">.</span><span class="ident" id="5841204">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841209">elemIsPtr</span>&nbsp;<span class="op" id="5841219">:=</span>&nbsp;<span class="ident" id="5841222"><a href="/encoding/gob/decode.go.html#5840959">mtyp</a></span><span class="op" id="5841226">.</span><span class="ident" id="5841227">Elem</span><span class="op" id="5841231">(</span><span class="op" id="5841232">)</span><span class="op" id="5841233">.</span><span class="ident" id="5841234">Kind</span><span class="op" id="5841238">(</span><span class="op" id="5841239">)</span>&nbsp;<span class="op" id="5841241">==</span>&nbsp;<span class="ident" id="5841244"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5841251">.</span><span class="ident" id="5841252">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841257">for</span>&nbsp;<span class="ident" id="5841261">i</span>&nbsp;<span class="op" id="5841263">:=</span>&nbsp;<span class="num" id="5841266">0</span><span class="op" id="5841267">;</span>&nbsp;<span class="ident" id="5841269"><a href="/encoding/gob/decode.go.html#5841261">i</a></span>&nbsp;<span class="op" id="5841271">&lt;</span>&nbsp;<span class="ident" id="5841273"><a href="/encoding/gob/decode.go.html#5841133">n</a></span><span class="op" id="5841274">;</span>&nbsp;<span class="ident" id="5841276"><a href="/encoding/gob/decode.go.html#5841261">i</a></span><span class="op" id="5841277">++</span>&nbsp;<span class="op" id="5841280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841284">key</span>&nbsp;<span class="op" id="5841288">:=</span>&nbsp;<span class="ident" id="5841291"><a href="/encoding/gob/decode.go.html#5840475">decodeIntoValue</a></span><span class="op" id="5841306">(</span><span class="ident" id="5841307"><a href="/encoding/gob/decode.go.html#5840978">state</a></span><span class="op" id="5841312">,</span>&nbsp;<span class="ident" id="5841314"><a href="/encoding/gob/decode.go.html#5841020">keyOp</a></span><span class="op" id="5841319">,</span>&nbsp;<span class="ident" id="5841321"><a href="/encoding/gob/decode.go.html#5841163">keyIsPtr</a></span><span class="op" id="5841329">,</span>&nbsp;<span class="ident" id="5841331"><a href="/encoding/gob/decode.go.html#5862826">allocValue</a></span><span class="op" id="5841341">(</span><span class="ident" id="5841342"><a href="/encoding/gob/decode.go.html#5840959">mtyp</a></span><span class="op" id="5841346">.</span><span class="ident" id="5841347">Key</span><span class="op" id="5841350">(</span><span class="op" id="5841351">)</span><span class="op" id="5841352">)</span><span class="op" id="5841353">,</span>&nbsp;<span class="ident" id="5841355"><a href="/encoding/gob/decode.go.html#5841041">ovfl</a></span><span class="op" id="5841359">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841363">elem</span>&nbsp;<span class="op" id="5841368">:=</span>&nbsp;<span class="ident" id="5841371"><a href="/encoding/gob/decode.go.html#5840475">decodeIntoValue</a></span><span class="op" id="5841386">(</span><span class="ident" id="5841387"><a href="/encoding/gob/decode.go.html#5840978">state</a></span><span class="op" id="5841392">,</span>&nbsp;<span class="ident" id="5841394"><a href="/encoding/gob/decode.go.html#5841027">elemOp</a></span><span class="op" id="5841400">,</span>&nbsp;<span class="ident" id="5841402"><a href="/encoding/gob/decode.go.html#5841209">elemIsPtr</a></span><span class="op" id="5841411">,</span>&nbsp;<span class="ident" id="5841413"><a href="/encoding/gob/decode.go.html#5862826">allocValue</a></span><span class="op" id="5841423">(</span><span class="ident" id="5841424"><a href="/encoding/gob/decode.go.html#5840959">mtyp</a></span><span class="op" id="5841428">.</span><span class="ident" id="5841429">Elem</span><span class="op" id="5841433">(</span><span class="op" id="5841434">)</span><span class="op" id="5841435">)</span><span class="op" id="5841436">,</span>&nbsp;<span class="ident" id="5841438"><a href="/encoding/gob/decode.go.html#5841041">ovfl</a></span><span class="op" id="5841442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841446"><a href="/encoding/gob/decode.go.html#5840999">value</a></span><span class="op" id="5841451">.</span><span class="ident" id="5841452">SetMapIndex</span><span class="op" id="5841463">(</span><span class="ident" id="5841464"><a href="/encoding/gob/decode.go.html#5841284">key</a></span><span class="op" id="5841467">,</span>&nbsp;<span class="ident" id="5841469"><a href="/encoding/gob/decode.go.html#5841363">elem</a></span><span class="op" id="5841473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5841476">}</span><br>
<span class="lineno"></span><span class="op" id="5841478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="5841481">//&nbsp;ignoreArrayHelper&nbsp;does&nbsp;the&nbsp;work&nbsp;for&nbsp;discarding&nbsp;arrays&nbsp;and&nbsp;slices.</span><br>
<span class="lineno"></span><span class="keyword" id="5841550">func</span>&nbsp;<span class="op" id="5841555">(</span><span class="ident" id="5841556">dec</span>&nbsp;<span class="op" id="5841560">*</span><span class="ident" id="5841561"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5841568">)</span>&nbsp;<span class="ident" id="5841570">ignoreArrayHelper</span><span class="op" id="5841587">(</span><span class="ident" id="5841588">state</span>&nbsp;<span class="op" id="5841594">*</span><span class="ident" id="5841595"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5841607">,</span>&nbsp;<span class="ident" id="5841609">elemOp</span>&nbsp;<span class="ident" id="5841616"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5841621">,</span>&nbsp;<span class="ident" id="5841623">length</span>&nbsp;<span class="builtintype" id="5841630">int</span><span class="op" id="5841633">)</span>&nbsp;<span class="op" id="5841635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841638">instr</span>&nbsp;<span class="op" id="5841644">:=</span>&nbsp;<span class="op" id="5841647">&amp;</span><span class="ident" id="5841648"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5841656">{</span><span class="ident" id="5841657"><a href="/encoding/gob/decode.go.html#5841609">elemOp</a></span><span class="op" id="5841663">,</span>&nbsp;<span class="num" id="5841665">0</span><span class="op" id="5841666">,</span>&nbsp;<span class="ident" id="5841668">nil</span><span class="op" id="5841671">,</span>&nbsp;<span class="ident" id="5841673"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5841679">.</span><span class="ident" id="5841680">New</span><span class="op" id="5841683">(</span><span class="string" id="5841684">&#34;no&nbsp;error&#34;</span><span class="op" id="5841694">)</span><span class="op" id="5841695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841698">for</span>&nbsp;<span class="ident" id="5841702">i</span>&nbsp;<span class="op" id="5841704">:=</span>&nbsp;<span class="num" id="5841707">0</span><span class="op" id="5841708">;</span>&nbsp;<span class="ident" id="5841710"><a href="/encoding/gob/decode.go.html#5841702">i</a></span>&nbsp;<span class="op" id="5841712">&lt;</span>&nbsp;<span class="ident" id="5841714"><a href="/encoding/gob/decode.go.html#5841623">length</a></span><span class="op" id="5841720">;</span>&nbsp;<span class="ident" id="5841722"><a href="/encoding/gob/decode.go.html#5841702">i</a></span><span class="op" id="5841723">++</span>&nbsp;<span class="op" id="5841726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841730"><a href="/encoding/gob/decode.go.html#5841609">elemOp</a></span><span class="op" id="5841736">(</span><span class="ident" id="5841737"><a href="/encoding/gob/decode.go.html#5841638">instr</a></span><span class="op" id="5841742">,</span>&nbsp;<span class="ident" id="5841744"><a href="/encoding/gob/decode.go.html#5841588">state</a></span><span class="op" id="5841749">,</span>&nbsp;<span class="ident" id="5841751"><a href="/encoding/gob/decode.go.html#5838109">noValue</a></span><span class="op" id="5841758">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5841761">}</span><br>
<span class="lineno"></span><span class="op" id="5841763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5841766">//&nbsp;ignoreArray&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;an&nbsp;array&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5841839">func</span>&nbsp;<span class="op" id="5841844">(</span><span class="ident" id="5841845">dec</span>&nbsp;<span class="op" id="5841849">*</span><span class="ident" id="5841850"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5841857">)</span>&nbsp;<span class="ident" id="5841859">ignoreArray</span><span class="op" id="5841870">(</span><span class="ident" id="5841871">state</span>&nbsp;<span class="op" id="5841877">*</span><span class="ident" id="5841878"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5841890">,</span>&nbsp;<span class="ident" id="5841892">elemOp</span>&nbsp;<span class="ident" id="5841899"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5841904">,</span>&nbsp;<span class="ident" id="5841906">length</span>&nbsp;<span class="builtintype" id="5841913">int</span><span class="op" id="5841916">)</span>&nbsp;<span class="op" id="5841918">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5841921">if</span>&nbsp;<span class="ident" id="5841924">n</span>&nbsp;<span class="op" id="5841926">:=</span>&nbsp;<span class="ident" id="5841929"><a href="/encoding/gob/decode.go.html#5841871">state</a></span><span class="op" id="5841934">.</span><span class="ident" id="5841935">decodeUint</span><span class="op" id="5841945">(</span><span class="op" id="5841946">)</span><span class="op" id="5841947">;</span>&nbsp;<span class="ident" id="5841949"><a href="/encoding/gob/decode.go.html#5841924">n</a></span>&nbsp;<span class="op" id="5841951">!=</span>&nbsp;<span class="ident" id="5841954">uint64</span><span class="op" id="5841960">(</span><span class="ident" id="5841961"><a href="/encoding/gob/decode.go.html#5841906">length</a></span><span class="op" id="5841967">)</span>&nbsp;<span class="op" id="5841969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5841973"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5841979">(</span><span class="string" id="5841980">&#34;length&nbsp;mismatch&nbsp;in&nbsp;ignoreArray&#34;</span><span class="op" id="5842012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5842015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842018"><a href="/encoding/gob/decode.go.html#5841845">dec</a></span><span class="op" id="5842021">.</span><span class="ident" id="5842022">ignoreArrayHelper</span><span class="op" id="5842039">(</span><span class="ident" id="5842040"><a href="/encoding/gob/decode.go.html#5841871">state</a></span><span class="op" id="5842045">,</span>&nbsp;<span class="ident" id="5842047"><a href="/encoding/gob/decode.go.html#5841892">elemOp</a></span><span class="op" id="5842053">,</span>&nbsp;<span class="ident" id="5842055"><a href="/encoding/gob/decode.go.html#5841906">length</a></span><span class="op" id="5842061">)</span><br>
<span class="lineno"></span><span class="op" id="5842063">}</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span><span class="comment" id="5842066">//&nbsp;ignoreMap&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;map&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5842134">func</span>&nbsp;<span class="op" id="5842139">(</span><span class="ident" id="5842140">dec</span>&nbsp;<span class="op" id="5842144">*</span><span class="ident" id="5842145"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5842152">)</span>&nbsp;<span class="ident" id="5842154">ignoreMap</span><span class="op" id="5842163">(</span><span class="ident" id="5842164">state</span>&nbsp;<span class="op" id="5842170">*</span><span class="ident" id="5842171"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5842183">,</span>&nbsp;<span class="ident" id="5842185">keyOp</span><span class="op" id="5842190">,</span>&nbsp;<span class="ident" id="5842192">elemOp</span>&nbsp;<span class="ident" id="5842199"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5842204">)</span>&nbsp;<span class="op" id="5842206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842209">n</span>&nbsp;<span class="op" id="5842211">:=</span>&nbsp;<span class="builtintype" id="5842214">int</span><span class="op" id="5842217">(</span><span class="ident" id="5842218"><a href="/encoding/gob/decode.go.html#5842164">state</a></span><span class="op" id="5842223">.</span><span class="ident" id="5842224">decodeUint</span><span class="op" id="5842234">(</span><span class="op" id="5842235">)</span><span class="op" id="5842236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842239">keyInstr</span>&nbsp;<span class="op" id="5842248">:=</span>&nbsp;<span class="op" id="5842251">&amp;</span><span class="ident" id="5842252"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5842260">{</span><span class="ident" id="5842261"><a href="/encoding/gob/decode.go.html#5842185">keyOp</a></span><span class="op" id="5842266">,</span>&nbsp;<span class="num" id="5842268">0</span><span class="op" id="5842269">,</span>&nbsp;<span class="ident" id="5842271">nil</span><span class="op" id="5842274">,</span>&nbsp;<span class="ident" id="5842276"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5842282">.</span><span class="ident" id="5842283">New</span><span class="op" id="5842286">(</span><span class="string" id="5842287">&#34;no&nbsp;error&#34;</span><span class="op" id="5842297">)</span><span class="op" id="5842298">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842301">elemInstr</span>&nbsp;<span class="op" id="5842311">:=</span>&nbsp;<span class="op" id="5842314">&amp;</span><span class="ident" id="5842315"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5842323">{</span><span class="ident" id="5842324"><a href="/encoding/gob/decode.go.html#5842192">elemOp</a></span><span class="op" id="5842330">,</span>&nbsp;<span class="num" id="5842332">0</span><span class="op" id="5842333">,</span>&nbsp;<span class="ident" id="5842335">nil</span><span class="op" id="5842338">,</span>&nbsp;<span class="ident" id="5842340"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5842346">.</span><span class="ident" id="5842347">New</span><span class="op" id="5842350">(</span><span class="string" id="5842351">&#34;no&nbsp;error&#34;</span><span class="op" id="5842361">)</span><span class="op" id="5842362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5842365">for</span>&nbsp;<span class="ident" id="5842369">i</span>&nbsp;<span class="op" id="5842371">:=</span>&nbsp;<span class="num" id="5842374">0</span><span class="op" id="5842375">;</span>&nbsp;<span class="ident" id="5842377"><a href="/encoding/gob/decode.go.html#5842369">i</a></span>&nbsp;<span class="op" id="5842379">&lt;</span>&nbsp;<span class="ident" id="5842381"><a href="/encoding/gob/decode.go.html#5842209">n</a></span><span class="op" id="5842382">;</span>&nbsp;<span class="ident" id="5842384"><a href="/encoding/gob/decode.go.html#5842369">i</a></span><span class="op" id="5842385">++</span>&nbsp;<span class="op" id="5842388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842392"><a href="/encoding/gob/decode.go.html#5842185">keyOp</a></span><span class="op" id="5842397">(</span><span class="ident" id="5842398"><a href="/encoding/gob/decode.go.html#5842239">keyInstr</a></span><span class="op" id="5842406">,</span>&nbsp;<span class="ident" id="5842408"><a href="/encoding/gob/decode.go.html#5842164">state</a></span><span class="op" id="5842413">,</span>&nbsp;<span class="ident" id="5842415"><a href="/encoding/gob/decode.go.html#5838109">noValue</a></span><span class="op" id="5842422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842426"><a href="/encoding/gob/decode.go.html#5842192">elemOp</a></span><span class="op" id="5842432">(</span><span class="ident" id="5842433"><a href="/encoding/gob/decode.go.html#5842301">elemInstr</a></span><span class="op" id="5842442">,</span>&nbsp;<span class="ident" id="5842444"><a href="/encoding/gob/decode.go.html#5842164">state</a></span><span class="op" id="5842449">,</span>&nbsp;<span class="ident" id="5842451"><a href="/encoding/gob/decode.go.html#5838109">noValue</a></span><span class="op" id="5842458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5842461">}</span><br>
<span class="lineno">595</span><span class="op" id="5842463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5842466">//&nbsp;decodeSlice&nbsp;decodes&nbsp;a&nbsp;slice&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5842521">//&nbsp;Slices&nbsp;are&nbsp;encoded&nbsp;as&nbsp;an&nbsp;unsigned&nbsp;length&nbsp;followed&nbsp;by&nbsp;the&nbsp;elements.</span><br>
<span class="lineno"></span><span class="keyword" id="5842591">func</span>&nbsp;<span class="op" id="5842596">(</span><span class="ident" id="5842597">dec</span>&nbsp;<span class="op" id="5842601">*</span><span class="ident" id="5842602"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5842609">)</span>&nbsp;<span class="ident" id="5842611">decodeSlice</span><span class="op" id="5842622">(</span><span class="ident" id="5842623">state</span>&nbsp;<span class="op" id="5842629">*</span><span class="ident" id="5842630"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5842642">,</span>&nbsp;<span class="ident" id="5842644">value</span>&nbsp;<span class="ident" id="5842650"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5842657">.</span><span class="ident" id="5842658">Value</span><span class="op" id="5842663">,</span>&nbsp;<span class="ident" id="5842665">elemOp</span>&nbsp;<span class="ident" id="5842672"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5842677">,</span>&nbsp;<span class="ident" id="5842679">ovfl</span>&nbsp;<span class="builtintype" id="5842684">error</span><span class="op" id="5842689">,</span>&nbsp;<span class="ident" id="5842691">helper</span>&nbsp;<span class="ident" id="5842698"><a href="/encoding/gob/decode.go.html#5824795">decHelper</a></span><span class="op" id="5842707">)</span>&nbsp;<span class="op" id="5842709">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842712">u</span>&nbsp;<span class="op" id="5842714">:=</span>&nbsp;<span class="ident" id="5842717"><a href="/encoding/gob/decode.go.html#5842623">state</a></span><span class="op" id="5842722">.</span><span class="ident" id="5842723">decodeUint</span><span class="op" id="5842733">(</span><span class="op" id="5842734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842737">typ</span>&nbsp;<span class="op" id="5842741">:=</span>&nbsp;<span class="ident" id="5842744"><a href="/encoding/gob/decode.go.html#5842644">value</a></span><span class="op" id="5842749">.</span><span class="ident" id="5842750">Type</span><span class="op" id="5842754">(</span><span class="op" id="5842755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842758">size</span>&nbsp;<span class="op" id="5842763">:=</span>&nbsp;<span class="ident" id="5842766">uint64</span><span class="op" id="5842772">(</span><span class="ident" id="5842773"><a href="/encoding/gob/decode.go.html#5842737">typ</a></span><span class="op" id="5842776">.</span><span class="ident" id="5842777">Elem</span><span class="op" id="5842781">(</span><span class="op" id="5842782">)</span><span class="op" id="5842783">.</span><span class="ident" id="5842784">Size</span><span class="op" id="5842788">(</span><span class="op" id="5842789">)</span><span class="op" id="5842790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842793">nBytes</span>&nbsp;<span class="op" id="5842800">:=</span>&nbsp;<span class="ident" id="5842803"><a href="/encoding/gob/decode.go.html#5842712">u</a></span>&nbsp;<span class="op" id="5842805">*</span>&nbsp;<span class="ident" id="5842807"><a href="/encoding/gob/decode.go.html#5842758">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842813">n</span>&nbsp;<span class="op" id="5842815">:=</span>&nbsp;<span class="builtintype" id="5842818">int</span><span class="op" id="5842821">(</span><span class="ident" id="5842822"><a href="/encoding/gob/decode.go.html#5842712">u</a></span><span class="op" id="5842823">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5842826">//&nbsp;Take&nbsp;care&nbsp;with&nbsp;overflow&nbsp;in&nbsp;this&nbsp;calculation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5842875">if</span>&nbsp;<span class="ident" id="5842878"><a href="/encoding/gob/decode.go.html#5842813">n</a></span>&nbsp;<span class="op" id="5842880">&lt;</span>&nbsp;<span class="num" id="5842882">0</span>&nbsp;<span class="op" id="5842884">||</span>&nbsp;<span class="ident" id="5842887">uint64</span><span class="op" id="5842893">(</span><span class="ident" id="5842894"><a href="/encoding/gob/decode.go.html#5842813">n</a></span><span class="op" id="5842895">)</span>&nbsp;<span class="op" id="5842897">!=</span>&nbsp;<span class="ident" id="5842900"><a href="/encoding/gob/decode.go.html#5842712">u</a></span>&nbsp;<span class="op" id="5842902">||</span>&nbsp;<span class="ident" id="5842905"><a href="/encoding/gob/decode.go.html#5842793">nBytes</a></span>&nbsp;<span class="op" id="5842912">&gt;</span>&nbsp;<span class="ident" id="5842914"><a href="/encoding/gob/decoder.go.html#5863309">tooBig</a></span>&nbsp;<span class="op" id="5842921">||</span>&nbsp;<span class="op" id="5842924">(</span><span class="ident" id="5842925"><a href="/encoding/gob/decode.go.html#5842758">size</a></span>&nbsp;<span class="op" id="5842930">&gt;</span>&nbsp;<span class="num" id="5842932">0</span>&nbsp;<span class="op" id="5842934">&amp;&amp;</span>&nbsp;<span class="ident" id="5842937"><a href="/encoding/gob/decode.go.html#5842793">nBytes</a></span><span class="op" id="5842943">/</span><span class="ident" id="5842944"><a href="/encoding/gob/decode.go.html#5842758">size</a></span>&nbsp;<span class="op" id="5842949">!=</span>&nbsp;<span class="ident" id="5842952"><a href="/encoding/gob/decode.go.html#5842712">u</a></span><span class="op" id="5842953">)</span>&nbsp;<span class="op" id="5842955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5842959">//&nbsp;We&nbsp;don&#39;t&nbsp;check&nbsp;n&nbsp;against&nbsp;buffer&nbsp;length&nbsp;here&nbsp;because&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;slice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5843032">//&nbsp;of&nbsp;interfaces,&nbsp;there&nbsp;will&nbsp;be&nbsp;buffer&nbsp;reloads.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843082"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5843088">(</span><span class="string" id="5843089">&#34;%s&nbsp;slice&nbsp;too&nbsp;big:&nbsp;%d&nbsp;elements&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="5843132">,</span>&nbsp;<span class="ident" id="5843134"><a href="/encoding/gob/decode.go.html#5842737">typ</a></span><span class="op" id="5843137">.</span><span class="ident" id="5843138">Elem</span><span class="op" id="5843142">(</span><span class="op" id="5843143">)</span><span class="op" id="5843144">,</span>&nbsp;<span class="ident" id="5843146"><a href="/encoding/gob/decode.go.html#5842712">u</a></span><span class="op" id="5843147">,</span>&nbsp;<span class="ident" id="5843149"><a href="/encoding/gob/decode.go.html#5842758">size</a></span><span class="op" id="5843153">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5843156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843159">if</span>&nbsp;<span class="ident" id="5843162"><a href="/encoding/gob/decode.go.html#5842644">value</a></span><span class="op" id="5843167">.</span><span class="ident" id="5843168">Cap</span><span class="op" id="5843171">(</span><span class="op" id="5843172">)</span>&nbsp;<span class="op" id="5843174">&lt;</span>&nbsp;<span class="ident" id="5843176"><a href="/encoding/gob/decode.go.html#5842813">n</a></span>&nbsp;<span class="op" id="5843178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843182"><a href="/encoding/gob/decode.go.html#5842644">value</a></span><span class="op" id="5843187">.</span><span class="ident" id="5843188">Set</span><span class="op" id="5843191">(</span><span class="ident" id="5843192"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5843199">.</span><span class="ident" id="5843200">MakeSlice</span><span class="op" id="5843209">(</span><span class="ident" id="5843210"><a href="/encoding/gob/decode.go.html#5842737">typ</a></span><span class="op" id="5843213">,</span>&nbsp;<span class="ident" id="5843215"><a href="/encoding/gob/decode.go.html#5842813">n</a></span><span class="op" id="5843216">,</span>&nbsp;<span class="ident" id="5843218"><a href="/encoding/gob/decode.go.html#5842813">n</a></span><span class="op" id="5843219">)</span><span class="op" id="5843220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5843223">}</span>&nbsp;<span class="keyword" id="5843225">else</span>&nbsp;<span class="op" id="5843230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843234"><a href="/encoding/gob/decode.go.html#5842644">value</a></span><span class="op" id="5843239">.</span><span class="ident" id="5843240">Set</span><span class="op" id="5843243">(</span><span class="ident" id="5843244"><a href="/encoding/gob/decode.go.html#5842644">value</a></span><span class="op" id="5843249">.</span><span class="ident" id="5843250">Slice</span><span class="op" id="5843255">(</span><span class="num" id="5843256">0</span><span class="op" id="5843257">,</span>&nbsp;<span class="ident" id="5843259"><a href="/encoding/gob/decode.go.html#5842813">n</a></span><span class="op" id="5843260">)</span><span class="op" id="5843261">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5843264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843267"><a href="/encoding/gob/decode.go.html#5842597">dec</a></span><span class="op" id="5843270">.</span><span class="ident" id="5843271">decodeArrayHelper</span><span class="op" id="5843288">(</span><span class="ident" id="5843289"><a href="/encoding/gob/decode.go.html#5842623">state</a></span><span class="op" id="5843294">,</span>&nbsp;<span class="ident" id="5843296"><a href="/encoding/gob/decode.go.html#5842644">value</a></span><span class="op" id="5843301">,</span>&nbsp;<span class="ident" id="5843303"><a href="/encoding/gob/decode.go.html#5842665">elemOp</a></span><span class="op" id="5843309">,</span>&nbsp;<span class="ident" id="5843311"><a href="/encoding/gob/decode.go.html#5842813">n</a></span><span class="op" id="5843312">,</span>&nbsp;<span class="ident" id="5843314"><a href="/encoding/gob/decode.go.html#5842679">ovfl</a></span><span class="op" id="5843318">,</span>&nbsp;<span class="ident" id="5843320"><a href="/encoding/gob/decode.go.html#5842691">helper</a></span><span class="op" id="5843326">)</span><br>
<span class="lineno"></span><span class="op" id="5843328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5843331">//&nbsp;ignoreSlice&nbsp;skips&nbsp;over&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;slice&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno">620</span><span class="keyword" id="5843405">func</span>&nbsp;<span class="op" id="5843410">(</span><span class="ident" id="5843411">dec</span>&nbsp;<span class="op" id="5843415">*</span><span class="ident" id="5843416"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5843423">)</span>&nbsp;<span class="ident" id="5843425">ignoreSlice</span><span class="op" id="5843436">(</span><span class="ident" id="5843437">state</span>&nbsp;<span class="op" id="5843443">*</span><span class="ident" id="5843444"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5843456">,</span>&nbsp;<span class="ident" id="5843458">elemOp</span>&nbsp;<span class="ident" id="5843465"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5843470">)</span>&nbsp;<span class="op" id="5843472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843475"><a href="/encoding/gob/decode.go.html#5843411">dec</a></span><span class="op" id="5843478">.</span><span class="ident" id="5843479">ignoreArrayHelper</span><span class="op" id="5843496">(</span><span class="ident" id="5843497"><a href="/encoding/gob/decode.go.html#5843437">state</a></span><span class="op" id="5843502">,</span>&nbsp;<span class="ident" id="5843504"><a href="/encoding/gob/decode.go.html#5843458">elemOp</a></span><span class="op" id="5843510">,</span>&nbsp;<span class="builtintype" id="5843512">int</span><span class="op" id="5843515">(</span><span class="ident" id="5843516"><a href="/encoding/gob/decode.go.html#5843437">state</a></span><span class="op" id="5843521">.</span><span class="ident" id="5843522">decodeUint</span><span class="op" id="5843532">(</span><span class="op" id="5843533">)</span><span class="op" id="5843534">)</span><span class="op" id="5843535">)</span><br>
<span class="lineno"></span><span class="op" id="5843537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5843540">//&nbsp;decodeInterface&nbsp;decodes&nbsp;an&nbsp;interface&nbsp;value&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno">625</span><span class="comment" id="5843610">//&nbsp;Interfaces&nbsp;are&nbsp;encoded&nbsp;as&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;concrete&nbsp;type&nbsp;followed&nbsp;by&nbsp;a&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5843688">//&nbsp;If&nbsp;the&nbsp;name&nbsp;is&nbsp;empty,&nbsp;the&nbsp;value&nbsp;is&nbsp;nil&nbsp;and&nbsp;no&nbsp;value&nbsp;is&nbsp;sent.</span><br>
<span class="lineno"></span><span class="keyword" id="5843752">func</span>&nbsp;<span class="op" id="5843757">(</span><span class="ident" id="5843758">dec</span>&nbsp;<span class="op" id="5843762">*</span><span class="ident" id="5843763"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5843770">)</span>&nbsp;<span class="ident" id="5843772">decodeInterface</span><span class="op" id="5843787">(</span><span class="ident" id="5843788">ityp</span>&nbsp;<span class="ident" id="5843793"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5843800">.</span><span class="ident" id="5843801">Type</span><span class="op" id="5843805">,</span>&nbsp;<span class="ident" id="5843807">state</span>&nbsp;<span class="op" id="5843813">*</span><span class="ident" id="5843814"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5843826">,</span>&nbsp;<span class="ident" id="5843828">value</span>&nbsp;<span class="ident" id="5843834"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5843841">.</span><span class="ident" id="5843842">Value</span><span class="op" id="5843847">)</span>&nbsp;<span class="op" id="5843849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5843852">//&nbsp;Read&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843892">nr</span>&nbsp;<span class="op" id="5843895">:=</span>&nbsp;<span class="ident" id="5843898"><a href="/encoding/gob/decode.go.html#5843807">state</a></span><span class="op" id="5843903">.</span><span class="ident" id="5843904">decodeUint</span><span class="op" id="5843914">(</span><span class="op" id="5843915">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843918">if</span>&nbsp;<span class="ident" id="5843921"><a href="/encoding/gob/decode.go.html#5843892">nr</a></span>&nbsp;<span class="op" id="5843924">&lt;</span>&nbsp;<span class="num" id="5843926">0</span>&nbsp;<span class="op" id="5843928">||</span>&nbsp;<span class="ident" id="5843931"><a href="/encoding/gob/decode.go.html#5843892">nr</a></span>&nbsp;<span class="op" id="5843934">&gt;</span>&nbsp;<span class="num" id="5843936">1</span><span class="op" id="5843937">&lt;&lt;</span><span class="num" id="5843939">31</span>&nbsp;<span class="op" id="5843942">{</span>&nbsp;<span class="comment" id="5843944">//&nbsp;zero&nbsp;is&nbsp;permissible&nbsp;for&nbsp;anonymous&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843989"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5843995">(</span><span class="string" id="5843996">&#34;invalid&nbsp;type&nbsp;name&nbsp;length&nbsp;%d&#34;</span><span class="op" id="5844025">,</span>&nbsp;<span class="ident" id="5844027"><a href="/encoding/gob/decode.go.html#5843892">nr</a></span><span class="op" id="5844029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5844032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5844035">if</span>&nbsp;<span class="ident" id="5844038"><a href="/encoding/gob/decode.go.html#5843892">nr</a></span>&nbsp;<span class="op" id="5844041">&gt;</span>&nbsp;<span class="ident" id="5844043">uint64</span><span class="op" id="5844049">(</span><span class="ident" id="5844050"><a href="/encoding/gob/decode.go.html#5843807">state</a></span><span class="op" id="5844055">.</span><span class="ident" id="5844056">b</span><span class="op" id="5844057">.</span><span class="ident" id="5844058">Len</span><span class="op" id="5844061">(</span><span class="op" id="5844062">)</span><span class="op" id="5844063">)</span>&nbsp;<span class="op" id="5844065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844069"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5844075">(</span><span class="string" id="5844076">&#34;invalid&nbsp;type&nbsp;name&nbsp;length&nbsp;%d:&nbsp;exceeds&nbsp;input&nbsp;size&#34;</span><span class="op" id="5844125">,</span>&nbsp;<span class="ident" id="5844127"><a href="/encoding/gob/decode.go.html#5843892">nr</a></span><span class="op" id="5844129">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5844132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844135">b</span>&nbsp;<span class="op" id="5844137">:=</span>&nbsp;<span class="builtinfunc" id="5844140">make</span><span class="op" id="5844144">(</span><span class="op" id="5844145">[</span><span class="op" id="5844146">]</span><span class="builtintype" id="5844147">byte</span><span class="op" id="5844151">,</span>&nbsp;<span class="ident" id="5844153"><a href="/encoding/gob/decode.go.html#5843892">nr</a></span><span class="op" id="5844155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844158"><a href="/encoding/gob/decode.go.html#5843807">state</a></span><span class="op" id="5844163">.</span><span class="ident" id="5844164">b</span><span class="op" id="5844165">.</span><span class="ident" id="5844166">Read</span><span class="op" id="5844170">(</span><span class="ident" id="5844171"><a href="/encoding/gob/decode.go.html#5844135">b</a></span><span class="op" id="5844172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844175">name</span>&nbsp;<span class="op" id="5844180">:=</span>&nbsp;<span class="builtintype" id="5844183">string</span><span class="op" id="5844189">(</span><span class="ident" id="5844190"><a href="/encoding/gob/decode.go.html#5844135">b</a></span><span class="op" id="5844191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844194">//&nbsp;Allocate&nbsp;the&nbsp;destination&nbsp;interface&nbsp;value.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5844240">if</span>&nbsp;<span class="ident" id="5844243"><a href="/encoding/gob/decode.go.html#5844175">name</a></span>&nbsp;<span class="op" id="5844248">==</span>&nbsp;<span class="string" id="5844251">&#34;&#34;</span>&nbsp;<span class="op" id="5844254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844258">//&nbsp;Copy&nbsp;the&nbsp;nil&nbsp;interface&nbsp;value&nbsp;to&nbsp;the&nbsp;target.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844307"><a href="/encoding/gob/decode.go.html#5843828">value</a></span><span class="op" id="5844312">.</span><span class="ident" id="5844313">Set</span><span class="op" id="5844316">(</span><span class="ident" id="5844317"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5844324">.</span><span class="ident" id="5844325">Zero</span><span class="op" id="5844329">(</span><span class="ident" id="5844330"><a href="/encoding/gob/decode.go.html#5843828">value</a></span><span class="op" id="5844335">.</span><span class="ident" id="5844336">Type</span><span class="op" id="5844340">(</span><span class="op" id="5844341">)</span><span class="op" id="5844342">)</span><span class="op" id="5844343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5844347">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5844355">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5844358">if</span>&nbsp;<span class="builtinfunc" id="5844361">len</span><span class="op" id="5844364">(</span><span class="ident" id="5844365"><a href="/encoding/gob/decode.go.html#5844175">name</a></span><span class="op" id="5844369">)</span>&nbsp;<span class="op" id="5844371">&gt;</span>&nbsp;<span class="num" id="5844373">1024</span>&nbsp;<span class="op" id="5844378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844382"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5844388">(</span><span class="string" id="5844389">&#34;name&nbsp;too&nbsp;long&nbsp;(%d&nbsp;bytes):&nbsp;%.20q...&#34;</span><span class="op" id="5844425">,</span>&nbsp;<span class="builtinfunc" id="5844427">len</span><span class="op" id="5844430">(</span><span class="ident" id="5844431"><a href="/encoding/gob/decode.go.html#5844175">name</a></span><span class="op" id="5844435">)</span><span class="op" id="5844436">,</span>&nbsp;<span class="ident" id="5844438"><a href="/encoding/gob/decode.go.html#5844175">name</a></span><span class="op" id="5844442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5844445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844448">//&nbsp;The&nbsp;concrete&nbsp;type&nbsp;must&nbsp;be&nbsp;registered.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844490"><a href="/encoding/gob/type.go.html#5948526">registerLock</a></span><span class="op" id="5844502">.</span><span class="ident" id="5844503">RLock</span><span class="op" id="5844508">(</span><span class="op" id="5844509">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844512">typ</span><span class="op" id="5844515">,</span>&nbsp;<span class="ident" id="5844517">ok</span>&nbsp;<span class="op" id="5844520">:=</span>&nbsp;<span class="ident" id="5844523"><a href="/encoding/gob/type.go.html#5948559">nameToConcreteType</a></span><span class="op" id="5844541">[</span><span class="ident" id="5844542"><a href="/encoding/gob/decode.go.html#5844175">name</a></span><span class="op" id="5844546">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844549"><a href="/encoding/gob/type.go.html#5948526">registerLock</a></span><span class="op" id="5844561">.</span><span class="ident" id="5844562">RUnlock</span><span class="op" id="5844569">(</span><span class="op" id="5844570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5844573">if</span>&nbsp;<span class="op" id="5844576">!</span><span class="ident" id="5844577"><a href="/encoding/gob/decode.go.html#5844517">ok</a></span>&nbsp;<span class="op" id="5844580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844584"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5844590">(</span><span class="string" id="5844591">&#34;name&nbsp;not&nbsp;registered&nbsp;for&nbsp;interface:&nbsp;%q&#34;</span><span class="op" id="5844630">,</span>&nbsp;<span class="ident" id="5844632"><a href="/encoding/gob/decode.go.html#5844175">name</a></span><span class="op" id="5844636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5844639">}</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844642">//&nbsp;Read&nbsp;the&nbsp;type&nbsp;id&nbsp;of&nbsp;the&nbsp;concrete&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844686">concreteId</span>&nbsp;<span class="op" id="5844697">:=</span>&nbsp;<span class="ident" id="5844700"><a href="/encoding/gob/decode.go.html#5843758">dec</a></span><span class="op" id="5844703">.</span><span class="ident" id="5844704">decodeTypeSequence</span><span class="op" id="5844722">(</span><span class="builtintype" id="5844723">true</span><span class="op" id="5844727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5844730">if</span>&nbsp;<span class="ident" id="5844733"><a href="/encoding/gob/decode.go.html#5844686">concreteId</a></span>&nbsp;<span class="op" id="5844744">&lt;</span>&nbsp;<span class="num" id="5844746">0</span>&nbsp;<span class="op" id="5844748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844752"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5844758">(</span><span class="ident" id="5844759"><a href="/encoding/gob/decode.go.html#5843758">dec</a></span><span class="op" id="5844762">.</span><span class="ident" id="5844763">err</span><span class="op" id="5844766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5844769">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844772">//&nbsp;Byte&nbsp;count&nbsp;of&nbsp;value&nbsp;is&nbsp;next;&nbsp;we&nbsp;don&#39;t&nbsp;care&nbsp;what&nbsp;it&nbsp;is&nbsp;(it&#39;s&nbsp;there</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844842">//&nbsp;in&nbsp;case&nbsp;we&nbsp;want&nbsp;to&nbsp;ignore&nbsp;the&nbsp;value&nbsp;by&nbsp;skipping&nbsp;it&nbsp;completely).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844910"><a href="/encoding/gob/decode.go.html#5843807">state</a></span><span class="op" id="5844915">.</span><span class="ident" id="5844916">decodeUint</span><span class="op" id="5844926">(</span><span class="op" id="5844927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5844930">//&nbsp;Read&nbsp;the&nbsp;concrete&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844959">v</span>&nbsp;<span class="op" id="5844961">:=</span>&nbsp;<span class="ident" id="5844964"><a href="/encoding/gob/decode.go.html#5862826">allocValue</a></span><span class="op" id="5844974">(</span><span class="ident" id="5844975"><a href="/encoding/gob/decode.go.html#5844512">typ</a></span><span class="op" id="5844978">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5844981"><a href="/encoding/gob/decode.go.html#5843758">dec</a></span><span class="op" id="5844984">.</span><span class="ident" id="5844985">decodeValue</span><span class="op" id="5844996">(</span><span class="ident" id="5844997"><a href="/encoding/gob/decode.go.html#5844686">concreteId</a></span><span class="op" id="5845007">,</span>&nbsp;<span class="ident" id="5845009"><a href="/encoding/gob/decode.go.html#5844959">v</a></span><span class="op" id="5845010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5845013">if</span>&nbsp;<span class="ident" id="5845016"><a href="/encoding/gob/decode.go.html#5843758">dec</a></span><span class="op" id="5845019">.</span><span class="ident" id="5845020">err</span>&nbsp;<span class="op" id="5845024">!=</span>&nbsp;<span class="ident" id="5845027">nil</span>&nbsp;<span class="op" id="5845031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845035"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5845041">(</span><span class="ident" id="5845042"><a href="/encoding/gob/decode.go.html#5843758">dec</a></span><span class="op" id="5845045">.</span><span class="ident" id="5845046">err</span><span class="op" id="5845049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5845052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5845055">//&nbsp;Assign&nbsp;the&nbsp;concrete&nbsp;value&nbsp;to&nbsp;the&nbsp;interface.</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5845103">//&nbsp;Tread&nbsp;carefully;&nbsp;it&nbsp;might&nbsp;not&nbsp;satisfy&nbsp;the&nbsp;interface.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5845160">if</span>&nbsp;<span class="op" id="5845163">!</span><span class="ident" id="5845164"><a href="/encoding/gob/decode.go.html#5844512">typ</a></span><span class="op" id="5845167">.</span><span class="ident" id="5845168">AssignableTo</span><span class="op" id="5845180">(</span><span class="ident" id="5845181"><a href="/encoding/gob/decode.go.html#5843788">ityp</a></span><span class="op" id="5845185">)</span>&nbsp;<span class="op" id="5845187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845191"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5845197">(</span><span class="string" id="5845198">&#34;%s&nbsp;is&nbsp;not&nbsp;assignable&nbsp;to&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5845231">,</span>&nbsp;<span class="ident" id="5845233"><a href="/encoding/gob/decode.go.html#5844512">typ</a></span><span class="op" id="5845236">,</span>&nbsp;<span class="ident" id="5845238"><a href="/encoding/gob/decode.go.html#5843788">ityp</a></span><span class="op" id="5845242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5845245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5845248">//&nbsp;Copy&nbsp;the&nbsp;interface&nbsp;value&nbsp;to&nbsp;the&nbsp;target.</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845292"><a href="/encoding/gob/decode.go.html#5843828">value</a></span><span class="op" id="5845297">.</span><span class="ident" id="5845298">Set</span><span class="op" id="5845301">(</span><span class="ident" id="5845302"><a href="/encoding/gob/decode.go.html#5844959">v</a></span><span class="op" id="5845303">)</span><br>
<span class="lineno"></span><span class="op" id="5845305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5845308">//&nbsp;ignoreInterface&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;an&nbsp;interface&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5845389">func</span>&nbsp;<span class="op" id="5845394">(</span><span class="ident" id="5845395">dec</span>&nbsp;<span class="op" id="5845399">*</span><span class="ident" id="5845400"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5845407">)</span>&nbsp;<span class="ident" id="5845409">ignoreInterface</span><span class="op" id="5845424">(</span><span class="ident" id="5845425">state</span>&nbsp;<span class="op" id="5845431">*</span><span class="ident" id="5845432"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5845444">)</span>&nbsp;<span class="op" id="5845446">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5845449">//&nbsp;Read&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845489">b</span>&nbsp;<span class="op" id="5845491">:=</span>&nbsp;<span class="builtinfunc" id="5845494">make</span><span class="op" id="5845498">(</span><span class="op" id="5845499">[</span><span class="op" id="5845500">]</span><span class="builtintype" id="5845501">byte</span><span class="op" id="5845505">,</span>&nbsp;<span class="ident" id="5845507"><a href="/encoding/gob/decode.go.html#5845425">state</a></span><span class="op" id="5845512">.</span><span class="ident" id="5845513">decodeUint</span><span class="op" id="5845523">(</span><span class="op" id="5845524">)</span><span class="op" id="5845525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845528">_</span><span class="op" id="5845529">,</span>&nbsp;<span class="ident" id="5845531">err</span>&nbsp;<span class="op" id="5845535">:=</span>&nbsp;<span class="ident" id="5845538"><a href="/encoding/gob/decode.go.html#5845425">state</a></span><span class="op" id="5845543">.</span><span class="ident" id="5845544">b</span><span class="op" id="5845545">.</span><span class="ident" id="5845546">Read</span><span class="op" id="5845550">(</span><span class="ident" id="5845551"><a href="/encoding/gob/decode.go.html#5845489">b</a></span><span class="op" id="5845552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5845555">if</span>&nbsp;<span class="ident" id="5845558"><a href="/encoding/gob/decode.go.html#5845531">err</a></span>&nbsp;<span class="op" id="5845562">!=</span>&nbsp;<span class="ident" id="5845565">nil</span>&nbsp;<span class="op" id="5845569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845573"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5845579">(</span><span class="ident" id="5845580"><a href="/encoding/gob/decode.go.html#5845531">err</a></span><span class="op" id="5845583">)</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5845586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845589">id</span>&nbsp;<span class="op" id="5845592">:=</span>&nbsp;<span class="ident" id="5845595"><a href="/encoding/gob/decode.go.html#5845395">dec</a></span><span class="op" id="5845598">.</span><span class="ident" id="5845599">decodeTypeSequence</span><span class="op" id="5845617">(</span><span class="builtintype" id="5845618">true</span><span class="op" id="5845622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5845625">if</span>&nbsp;<span class="ident" id="5845628"><a href="/encoding/gob/decode.go.html#5845589">id</a></span>&nbsp;<span class="op" id="5845631">&lt;</span>&nbsp;<span class="num" id="5845633">0</span>&nbsp;<span class="op" id="5845635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845639"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5845645">(</span><span class="ident" id="5845646"><a href="/encoding/gob/decode.go.html#5845395">dec</a></span><span class="op" id="5845649">.</span><span class="ident" id="5845650">err</span><span class="op" id="5845653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5845656">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5845659">//&nbsp;At&nbsp;this&nbsp;point,&nbsp;the&nbsp;decoder&nbsp;buffer&nbsp;contains&nbsp;a&nbsp;delimited&nbsp;value.&nbsp;Just&nbsp;toss&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5845739"><a href="/encoding/gob/decode.go.html#5845425">state</a></span><span class="op" id="5845744">.</span><span class="ident" id="5845745">b</span><span class="op" id="5845746">.</span><span class="ident" id="5845747">Drop</span><span class="op" id="5845751">(</span><span class="builtintype" id="5845752">int</span><span class="op" id="5845755">(</span><span class="ident" id="5845756"><a href="/encoding/gob/decode.go.html#5845425">state</a></span><span class="op" id="5845761">.</span><span class="ident" id="5845762">decodeUint</span><span class="op" id="5845772">(</span><span class="op" id="5845773">)</span><span class="op" id="5845774">)</span><span class="op" id="5845775">)</span><br>
<span class="lineno"></span><span class="op" id="5845777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5845780">//&nbsp;decodeGobDecoder&nbsp;decodes&nbsp;something&nbsp;implementing&nbsp;the&nbsp;GobDecoder&nbsp;interface.</span><br>
<span class="lineno">695</span><span class="comment" id="5845857">//&nbsp;The&nbsp;data&nbsp;is&nbsp;encoded&nbsp;as&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="5845897">func</span>&nbsp;<span class="op" id="5845902">(</span><span class="ident" id="5845903">dec</span>&nbsp;<span class="op" id="5845907">*</span><span class="ident" id="5845908"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5845915">)</span>&nbsp;<span class="ident" id="5845917">decodeGobDecoder</span><span class="op" id="5845933">(</span><span class="ident" id="5845934">ut</span>&nbsp;<span class="op" id="5845937">*</span><span class="ident" id="5845938"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5845950">,</span>&nbsp;<span class="ident" id="5845952">state</span>&nbsp;<span class="op" id="5845958">*</span><span class="ident" id="5845959"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5845971">,</span>&nbsp;<span class="ident" id="5845973">value</span>&nbsp;<span class="ident" id="5845979"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5845986">.</span><span class="ident" id="5845987">Value</span><span class="op" id="5845992">)</span>&nbsp;<span class="op" id="5845994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5845997">//&nbsp;Read&nbsp;the&nbsp;bytes&nbsp;for&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846031">b</span>&nbsp;<span class="op" id="5846033">:=</span>&nbsp;<span class="builtinfunc" id="5846036">make</span><span class="op" id="5846040">(</span><span class="op" id="5846041">[</span><span class="op" id="5846042">]</span><span class="builtintype" id="5846043">byte</span><span class="op" id="5846047">,</span>&nbsp;<span class="ident" id="5846049"><a href="/encoding/gob/decode.go.html#5845952">state</a></span><span class="op" id="5846054">.</span><span class="ident" id="5846055">decodeUint</span><span class="op" id="5846065">(</span><span class="op" id="5846066">)</span><span class="op" id="5846067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846070">_</span><span class="op" id="5846071">,</span>&nbsp;<span class="ident" id="5846073">err</span>&nbsp;<span class="op" id="5846077">:=</span>&nbsp;<span class="ident" id="5846080"><a href="/encoding/gob/decode.go.html#5845952">state</a></span><span class="op" id="5846085">.</span><span class="ident" id="5846086">b</span><span class="op" id="5846087">.</span><span class="ident" id="5846088">Read</span><span class="op" id="5846092">(</span><span class="ident" id="5846093"><a href="/encoding/gob/decode.go.html#5846031">b</a></span><span class="op" id="5846094">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846097">if</span>&nbsp;<span class="ident" id="5846100"><a href="/encoding/gob/decode.go.html#5846073">err</a></span>&nbsp;<span class="op" id="5846104">!=</span>&nbsp;<span class="ident" id="5846107">nil</span>&nbsp;<span class="op" id="5846111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846115"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5846121">(</span><span class="ident" id="5846122"><a href="/encoding/gob/decode.go.html#5846073">err</a></span><span class="op" id="5846125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5846128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5846131">//&nbsp;We&nbsp;know&nbsp;it&#39;s&nbsp;one&nbsp;of&nbsp;these.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846162">switch</span>&nbsp;<span class="ident" id="5846169"><a href="/encoding/gob/decode.go.html#5845934">ut</a></span><span class="op" id="5846171">.</span><span class="ident" id="5846172">externalDec</span>&nbsp;<span class="op" id="5846184">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846187">case</span>&nbsp;<span class="ident" id="5846192"><a href="/encoding/gob/type.go.html#5925587">xGob</a></span><span class="op" id="5846196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846200"><a href="/encoding/gob/decode.go.html#5846073">err</a></span>&nbsp;<span class="op" id="5846204">=</span>&nbsp;<span class="ident" id="5846206"><a href="/encoding/gob/decode.go.html#5845973">value</a></span><span class="op" id="5846211">.</span><span class="ident" id="5846212">Interface</span><span class="op" id="5846221">(</span><span class="op" id="5846222">)</span><span class="op" id="5846223">.</span><span class="op" id="5846224">(</span><span class="ident" id="5846225"><a href="/encoding/gob/type.go.html#5948282">GobDecoder</a></span><span class="op" id="5846235">)</span><span class="op" id="5846236">.</span><span class="ident" id="5846237">GobDecode</span><span class="op" id="5846246">(</span><span class="ident" id="5846247"><a href="/encoding/gob/decode.go.html#5846031">b</a></span><span class="op" id="5846248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846251">case</span>&nbsp;<span class="ident" id="5846256"><a href="/encoding/gob/type.go.html#5925635">xBinary</a></span><span class="op" id="5846263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846267"><a href="/encoding/gob/decode.go.html#5846073">err</a></span>&nbsp;<span class="op" id="5846271">=</span>&nbsp;<span class="ident" id="5846273"><a href="/encoding/gob/decode.go.html#5845973">value</a></span><span class="op" id="5846278">.</span><span class="ident" id="5846279">Interface</span><span class="op" id="5846288">(</span><span class="op" id="5846289">)</span><span class="op" id="5846290">.</span><span class="op" id="5846291">(</span><span class="ident" id="5846292"><a href="/encoding/gob/decode.go.html#5824523">encoding</a></span><span class="op" id="5846300">.</span><span class="ident" id="5846301">BinaryUnmarshaler</span><span class="op" id="5846318">)</span><span class="op" id="5846319">.</span><span class="ident" id="5846320">UnmarshalBinary</span><span class="op" id="5846335">(</span><span class="ident" id="5846336"><a href="/encoding/gob/decode.go.html#5846031">b</a></span><span class="op" id="5846337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846340">case</span>&nbsp;<span class="ident" id="5846345"><a href="/encoding/gob/type.go.html#5925713">xText</a></span><span class="op" id="5846350">:</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846354"><a href="/encoding/gob/decode.go.html#5846073">err</a></span>&nbsp;<span class="op" id="5846358">=</span>&nbsp;<span class="ident" id="5846360"><a href="/encoding/gob/decode.go.html#5845973">value</a></span><span class="op" id="5846365">.</span><span class="ident" id="5846366">Interface</span><span class="op" id="5846375">(</span><span class="op" id="5846376">)</span><span class="op" id="5846377">.</span><span class="op" id="5846378">(</span><span class="ident" id="5846379"><a href="/encoding/gob/decode.go.html#5824523">encoding</a></span><span class="op" id="5846387">.</span><span class="ident" id="5846388">TextUnmarshaler</span><span class="op" id="5846403">)</span><span class="op" id="5846404">.</span><span class="ident" id="5846405">UnmarshalText</span><span class="op" id="5846418">(</span><span class="ident" id="5846419"><a href="/encoding/gob/decode.go.html#5846031">b</a></span><span class="op" id="5846420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5846423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846426">if</span>&nbsp;<span class="ident" id="5846429"><a href="/encoding/gob/decode.go.html#5846073">err</a></span>&nbsp;<span class="op" id="5846433">!=</span>&nbsp;<span class="ident" id="5846436">nil</span>&nbsp;<span class="op" id="5846440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846444"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5846450">(</span><span class="ident" id="5846451"><a href="/encoding/gob/decode.go.html#5846073">err</a></span><span class="op" id="5846454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5846457">}</span><br>
<span class="lineno">715</span><span class="op" id="5846459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5846462">//&nbsp;ignoreGobDecoder&nbsp;discards&nbsp;the&nbsp;data&nbsp;for&nbsp;a&nbsp;GobDecoder&nbsp;value&nbsp;with&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5846544">func</span>&nbsp;<span class="op" id="5846549">(</span><span class="ident" id="5846550">dec</span>&nbsp;<span class="op" id="5846554">*</span><span class="ident" id="5846555"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5846562">)</span>&nbsp;<span class="ident" id="5846564">ignoreGobDecoder</span><span class="op" id="5846580">(</span><span class="ident" id="5846581">state</span>&nbsp;<span class="op" id="5846587">*</span><span class="ident" id="5846588"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5846600">)</span>&nbsp;<span class="op" id="5846602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5846605">//&nbsp;Read&nbsp;the&nbsp;bytes&nbsp;for&nbsp;the&nbsp;value.</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846639">b</span>&nbsp;<span class="op" id="5846641">:=</span>&nbsp;<span class="builtinfunc" id="5846644">make</span><span class="op" id="5846648">(</span><span class="op" id="5846649">[</span><span class="op" id="5846650">]</span><span class="builtintype" id="5846651">byte</span><span class="op" id="5846655">,</span>&nbsp;<span class="ident" id="5846657"><a href="/encoding/gob/decode.go.html#5846581">state</a></span><span class="op" id="5846662">.</span><span class="ident" id="5846663">decodeUint</span><span class="op" id="5846673">(</span><span class="op" id="5846674">)</span><span class="op" id="5846675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846678">_</span><span class="op" id="5846679">,</span>&nbsp;<span class="ident" id="5846681">err</span>&nbsp;<span class="op" id="5846685">:=</span>&nbsp;<span class="ident" id="5846688"><a href="/encoding/gob/decode.go.html#5846581">state</a></span><span class="op" id="5846693">.</span><span class="ident" id="5846694">b</span><span class="op" id="5846695">.</span><span class="ident" id="5846696">Read</span><span class="op" id="5846700">(</span><span class="ident" id="5846701"><a href="/encoding/gob/decode.go.html#5846639">b</a></span><span class="op" id="5846702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5846705">if</span>&nbsp;<span class="ident" id="5846708"><a href="/encoding/gob/decode.go.html#5846681">err</a></span>&nbsp;<span class="op" id="5846712">!=</span>&nbsp;<span class="ident" id="5846715">nil</span>&nbsp;<span class="op" id="5846719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846723"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5846729">(</span><span class="ident" id="5846730"><a href="/encoding/gob/decode.go.html#5846681">err</a></span><span class="op" id="5846733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5846736">}</span><br>
<span class="lineno">725</span><span class="op" id="5846738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5846741">//&nbsp;Index&nbsp;by&nbsp;Go&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5846763">var</span>&nbsp;<span class="ident" id="5846767">decOpTable</span>&nbsp;<span class="op" id="5846778">=</span>&nbsp;<span class="op" id="5846780">[</span><span class="op" id="5846781">...</span><span class="op" id="5846784">]</span><span class="ident" id="5846785"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5846790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846793"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846800">.</span><span class="ident" id="5846801">Bool</span><span class="op" id="5846805">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846813"><a href="/encoding/gob/decode.go.html#5830159">decBool</a></span><span class="op" id="5846820">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846823"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846830">.</span><span class="ident" id="5846831">Int8</span><span class="op" id="5846835">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846843"><a href="/encoding/gob/decode.go.html#5830337">decInt8</a></span><span class="op" id="5846850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846853"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846860">.</span><span class="ident" id="5846861">Int16</span><span class="op" id="5846866">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846873"><a href="/encoding/gob/decode.go.html#5830817">decInt16</a></span><span class="op" id="5846881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846884"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846891">.</span><span class="ident" id="5846892">Int32</span><span class="op" id="5846897">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846904"><a href="/encoding/gob/decode.go.html#5831304">decInt32</a></span><span class="op" id="5846912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846915"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846922">.</span><span class="ident" id="5846923">Int64</span><span class="op" id="5846928">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846935"><a href="/encoding/gob/decode.go.html#5831791">decInt64</a></span><span class="op" id="5846943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846946"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846953">.</span><span class="ident" id="5846954">Uint8</span><span class="op" id="5846959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846966"><a href="/encoding/gob/decode.go.html#5830589">decUint8</a></span><span class="op" id="5846974">,</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5846977"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5846984">.</span><span class="ident" id="5846985">Uint16</span><span class="op" id="5846991">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5846997"><a href="/encoding/gob/decode.go.html#5831074">decUint16</a></span><span class="op" id="5847006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847009"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847016">.</span><span class="ident" id="5847017">Uint32</span><span class="op" id="5847023">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847029"><a href="/encoding/gob/decode.go.html#5831561">decUint32</a></span><span class="op" id="5847038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847041"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847048">.</span><span class="ident" id="5847049">Uint64</span><span class="op" id="5847055">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847061"><a href="/encoding/gob/decode.go.html#5831983">decUint64</a></span><span class="op" id="5847070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847073"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847080">.</span><span class="ident" id="5847081">Float32</span><span class="op" id="5847088">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847093"><a href="/encoding/gob/decode.go.html#5833236">decFloat32</a></span><span class="op" id="5847103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847106"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847113">.</span><span class="ident" id="5847114">Float64</span><span class="op" id="5847121">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847126"><a href="/encoding/gob/decode.go.html#5833488">decFloat64</a></span><span class="op" id="5847136">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847139"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847146">.</span><span class="ident" id="5847147">Complex64</span><span class="op" id="5847156">:</span>&nbsp;&nbsp;<span class="ident" id="5847159"><a href="/encoding/gob/decode.go.html#5833793">decComplex64</a></span><span class="op" id="5847171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847174"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847181">.</span><span class="ident" id="5847182">Complex128</span><span class="op" id="5847192">:</span>&nbsp;<span class="ident" id="5847194"><a href="/encoding/gob/decode.go.html#5834194">decComplex128</a></span><span class="op" id="5847207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847210"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847217">.</span><span class="ident" id="5847218">String</span><span class="op" id="5847224">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847230"><a href="/encoding/gob/decode.go.html#5835325">decString</a></span><span class="op" id="5847239">,</span><br>
<span class="lineno"></span><span class="op" id="5847241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">745</span><span class="comment" id="5847244">//&nbsp;Indexed&nbsp;by&nbsp;gob&nbsp;types.&nbsp;&nbsp;tComplex&nbsp;will&nbsp;be&nbsp;added&nbsp;during&nbsp;type.init().</span><br>
<span class="lineno"></span><span class="keyword" id="5847313">var</span>&nbsp;<span class="ident" id="5847317">decIgnoreOpMap</span>&nbsp;<span class="op" id="5847332">=</span>&nbsp;<span class="keyword" id="5847334">map</span><span class="op" id="5847337">[</span><span class="ident" id="5847338"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5847344">]</span><span class="ident" id="5847345"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5847350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847353"><a href="/encoding/gob/type.go.html#5932271">tBool</a></span><span class="op" id="5847358">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847363"><a href="/encoding/gob/decode.go.html#5828993">ignoreUint</a></span><span class="op" id="5847373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847376"><a href="/encoding/gob/type.go.html#5932324">tInt</a></span><span class="op" id="5847380">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847386"><a href="/encoding/gob/decode.go.html#5828993">ignoreUint</a></span><span class="op" id="5847396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847399"><a href="/encoding/gob/type.go.html#5932375">tUint</a></span><span class="op" id="5847404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5847409"><a href="/encoding/gob/decode.go.html#5828993">ignoreUint</a></span><span class="op" id="5847419">,</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847422"><a href="/encoding/gob/type.go.html#5932428">tFloat</a></span><span class="op" id="5847428">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5847432"><a href="/encoding/gob/decode.go.html#5828993">ignoreUint</a></span><span class="op" id="5847442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847445"><a href="/encoding/gob/type.go.html#5932485">tBytes</a></span><span class="op" id="5847451">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5847455"><a href="/encoding/gob/decode.go.html#5835904">ignoreUint8Array</a></span><span class="op" id="5847471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847474"><a href="/encoding/gob/type.go.html#5932541">tString</a></span><span class="op" id="5847481">:</span>&nbsp;&nbsp;<span class="ident" id="5847484"><a href="/encoding/gob/decode.go.html#5835904">ignoreUint8Array</a></span><span class="op" id="5847500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847503"><a href="/encoding/gob/type.go.html#5932598">tComplex</a></span><span class="op" id="5847511">:</span>&nbsp;<span class="ident" id="5847513"><a href="/encoding/gob/decode.go.html#5829183">ignoreTwoUints</a></span><span class="op" id="5847527">,</span><br>
<span class="lineno"></span><span class="op" id="5847529">}</span><br>
<span class="lineno">755</span><br>
<span class="lineno"></span><span class="comment" id="5847532">//&nbsp;decOpFor&nbsp;returns&nbsp;the&nbsp;decoding&nbsp;op&nbsp;for&nbsp;the&nbsp;base&nbsp;type&nbsp;under&nbsp;rt&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5847599">//&nbsp;the&nbsp;indirection&nbsp;count&nbsp;to&nbsp;reach&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="5847637">func</span>&nbsp;<span class="op" id="5847642">(</span><span class="ident" id="5847643">dec</span>&nbsp;<span class="op" id="5847647">*</span><span class="ident" id="5847648"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5847655">)</span>&nbsp;<span class="ident" id="5847657">decOpFor</span><span class="op" id="5847665">(</span><span class="ident" id="5847666">wireId</span>&nbsp;<span class="ident" id="5847673"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5847679">,</span>&nbsp;<span class="ident" id="5847681">rt</span>&nbsp;<span class="ident" id="5847684"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847691">.</span><span class="ident" id="5847692">Type</span><span class="op" id="5847696">,</span>&nbsp;<span class="ident" id="5847698">name</span>&nbsp;<span class="builtintype" id="5847703">string</span><span class="op" id="5847709">,</span>&nbsp;<span class="ident" id="5847711">inProgress</span>&nbsp;<span class="keyword" id="5847722">map</span><span class="op" id="5847725">[</span><span class="ident" id="5847726"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5847733">.</span><span class="ident" id="5847734">Type</span><span class="op" id="5847738">]</span><span class="op" id="5847739">*</span><span class="ident" id="5847740"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5847745">)</span>&nbsp;<span class="op" id="5847747">*</span><span class="ident" id="5847748"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span>&nbsp;<span class="op" id="5847754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5847757">ut</span>&nbsp;<span class="op" id="5847760">:=</span>&nbsp;<span class="ident" id="5847763"><a href="/encoding/gob/type.go.html#5929943">userType</a></span><span class="op" id="5847771">(</span><span class="ident" id="5847772"><a href="/encoding/gob/decode.go.html#5847681">rt</a></span><span class="op" id="5847774">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5847777">//&nbsp;If&nbsp;the&nbsp;type&nbsp;implements&nbsp;GobEncoder,&nbsp;we&nbsp;handle&nbsp;it&nbsp;without&nbsp;further&nbsp;processing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5847857">if</span>&nbsp;<span class="ident" id="5847860"><a href="/encoding/gob/decode.go.html#5847757">ut</a></span><span class="op" id="5847862">.</span><span class="ident" id="5847863">externalDec</span>&nbsp;<span class="op" id="5847875">!=</span>&nbsp;<span class="num" id="5847878">0</span>&nbsp;<span class="op" id="5847880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5847884">return</span>&nbsp;<span class="ident" id="5847891"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5847894">.</span><span class="ident" id="5847895">gobDecodeOpFor</span><span class="op" id="5847909">(</span><span class="ident" id="5847910"><a href="/encoding/gob/decode.go.html#5847757">ut</a></span><span class="op" id="5847912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5847915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5847919">//&nbsp;If&nbsp;this&nbsp;type&nbsp;is&nbsp;already&nbsp;in&nbsp;progress,&nbsp;it&#39;s&nbsp;a&nbsp;recursive&nbsp;type&nbsp;(e.g.&nbsp;map[string]*T).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5848004">//&nbsp;Return&nbsp;the&nbsp;pointer&nbsp;to&nbsp;the&nbsp;op&nbsp;we&#39;re&nbsp;already&nbsp;building.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848061">if</span>&nbsp;<span class="ident" id="5848064">opPtr</span>&nbsp;<span class="op" id="5848070">:=</span>&nbsp;<span class="ident" id="5848073"><a href="/encoding/gob/decode.go.html#5847711">inProgress</a></span><span class="op" id="5848083">[</span><span class="ident" id="5848084"><a href="/encoding/gob/decode.go.html#5847681">rt</a></span><span class="op" id="5848086">]</span><span class="op" id="5848087">;</span>&nbsp;<span class="ident" id="5848089"><a href="/encoding/gob/decode.go.html#5848064">opPtr</a></span>&nbsp;<span class="op" id="5848095">!=</span>&nbsp;<span class="ident" id="5848098">nil</span>&nbsp;<span class="op" id="5848102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848106">return</span>&nbsp;<span class="ident" id="5848113"><a href="/encoding/gob/decode.go.html#5848064">opPtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5848120">}</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848123">typ</span>&nbsp;<span class="op" id="5848127">:=</span>&nbsp;<span class="ident" id="5848130"><a href="/encoding/gob/decode.go.html#5847757">ut</a></span><span class="op" id="5848132">.</span><span class="ident" id="5848133">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848139">var</span>&nbsp;<span class="ident" id="5848143">op</span>&nbsp;<span class="ident" id="5848146"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848153">k</span>&nbsp;<span class="op" id="5848155">:=</span>&nbsp;<span class="ident" id="5848158"><a href="/encoding/gob/decode.go.html#5848123">typ</a></span><span class="op" id="5848161">.</span><span class="ident" id="5848162">Kind</span><span class="op" id="5848166">(</span><span class="op" id="5848167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848170">if</span>&nbsp;<span class="builtintype" id="5848173">int</span><span class="op" id="5848176">(</span><span class="ident" id="5848177"><a href="/encoding/gob/decode.go.html#5848153">k</a></span><span class="op" id="5848178">)</span>&nbsp;<span class="op" id="5848180">&lt;</span>&nbsp;<span class="builtinfunc" id="5848182">len</span><span class="op" id="5848185">(</span><span class="ident" id="5848186"><a href="/encoding/gob/decode.go.html#5846767">decOpTable</a></span><span class="op" id="5848196">)</span>&nbsp;<span class="op" id="5848198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848202"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5848205">=</span>&nbsp;<span class="ident" id="5848207"><a href="/encoding/gob/decode.go.html#5846767">decOpTable</a></span><span class="op" id="5848217">[</span><span class="ident" id="5848218"><a href="/encoding/gob/decode.go.html#5848153">k</a></span><span class="op" id="5848219">]</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5848222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848225">if</span>&nbsp;<span class="ident" id="5848228"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5848231">==</span>&nbsp;<span class="ident" id="5848234">nil</span>&nbsp;<span class="op" id="5848238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848242"><a href="/encoding/gob/decode.go.html#5847711">inProgress</a></span><span class="op" id="5848252">[</span><span class="ident" id="5848253"><a href="/encoding/gob/decode.go.html#5847681">rt</a></span><span class="op" id="5848255">]</span>&nbsp;<span class="op" id="5848257">=</span>&nbsp;<span class="op" id="5848259">&amp;</span><span class="ident" id="5848260"><a href="/encoding/gob/decode.go.html#5848143">op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5848265">//&nbsp;Special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848284">switch</span>&nbsp;<span class="ident" id="5848291">t</span>&nbsp;<span class="op" id="5848293">:=</span>&nbsp;<span class="ident" id="5848296"><a href="/encoding/gob/decode.go.html#5848123">typ</a></span><span class="op" id="5848299">;</span>&nbsp;<span class="ident" id="5848301"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848302">.</span><span class="ident" id="5848303">Kind</span><span class="op" id="5848307">(</span><span class="op" id="5848308">)</span>&nbsp;<span class="op" id="5848310">{</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848314">case</span>&nbsp;<span class="ident" id="5848319"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5848326">.</span><span class="ident" id="5848327">Array</span><span class="op" id="5848332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848337"><a href="/encoding/gob/decode.go.html#5847698">name</a></span>&nbsp;<span class="op" id="5848342">=</span>&nbsp;<span class="string" id="5848344">&#34;element&nbsp;of&nbsp;&#34;</span>&nbsp;<span class="op" id="5848358">+</span>&nbsp;<span class="ident" id="5848360"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848368">elemId</span>&nbsp;<span class="op" id="5848375">:=</span>&nbsp;<span class="ident" id="5848378"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5848381">.</span><span class="ident" id="5848382">wireType</span><span class="op" id="5848390">[</span><span class="ident" id="5848391"><a href="/encoding/gob/decode.go.html#5847666">wireId</a></span><span class="op" id="5848397">]</span><span class="op" id="5848398">.</span><span class="ident" id="5848399">ArrayT</span><span class="op" id="5848405">.</span><span class="ident" id="5848406">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848414">elemOp</span>&nbsp;<span class="op" id="5848421">:=</span>&nbsp;<span class="ident" id="5848424"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5848427">.</span><span class="ident" id="5848428">decOpFor</span><span class="op" id="5848436">(</span><span class="ident" id="5848437"><a href="/encoding/gob/decode.go.html#5848368">elemId</a></span><span class="op" id="5848443">,</span>&nbsp;<span class="ident" id="5848445"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848446">.</span><span class="ident" id="5848447">Elem</span><span class="op" id="5848451">(</span><span class="op" id="5848452">)</span><span class="op" id="5848453">,</span>&nbsp;<span class="ident" id="5848455"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5848459">,</span>&nbsp;<span class="ident" id="5848461"><a href="/encoding/gob/decode.go.html#5847711">inProgress</a></span><span class="op" id="5848471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848476">ovfl</span>&nbsp;<span class="op" id="5848481">:=</span>&nbsp;<span class="ident" id="5848484"><a href="/encoding/gob/decode.go.html#5826892">overflow</a></span><span class="op" id="5848492">(</span><span class="ident" id="5848493"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5848497">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848502">helper</span>&nbsp;<span class="op" id="5848509">:=</span>&nbsp;<span class="ident" id="5848512"><a href="/encoding/gob/dec_helpers.go.html#5810956">decArrayHelper</a></span><span class="op" id="5848526">[</span><span class="ident" id="5848527"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848528">.</span><span class="ident" id="5848529">Elem</span><span class="op" id="5848533">(</span><span class="op" id="5848534">)</span><span class="op" id="5848535">.</span><span class="ident" id="5848536">Kind</span><span class="op" id="5848540">(</span><span class="op" id="5848541">)</span><span class="op" id="5848542">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848547"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5848550">=</span>&nbsp;<span class="keyword" id="5848552">func</span><span class="op" id="5848556">(</span><span class="ident" id="5848557">i</span>&nbsp;<span class="op" id="5848559">*</span><span class="ident" id="5848560"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5848568">,</span>&nbsp;<span class="ident" id="5848570">state</span>&nbsp;<span class="op" id="5848576">*</span><span class="ident" id="5848577"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5848589">,</span>&nbsp;<span class="ident" id="5848591">value</span>&nbsp;<span class="ident" id="5848597"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5848604">.</span><span class="ident" id="5848605">Value</span><span class="op" id="5848610">)</span>&nbsp;<span class="op" id="5848612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848618"><a href="/encoding/gob/decode.go.html#5848570">state</a></span><span class="op" id="5848623">.</span><span class="ident" id="5848624">dec</span><span class="op" id="5848627">.</span><span class="ident" id="5848628">decodeArray</span><span class="op" id="5848639">(</span><span class="ident" id="5848640"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848641">,</span>&nbsp;<span class="ident" id="5848643"><a href="/encoding/gob/decode.go.html#5848570">state</a></span><span class="op" id="5848648">,</span>&nbsp;<span class="ident" id="5848650"><a href="/encoding/gob/decode.go.html#5848591">value</a></span><span class="op" id="5848655">,</span>&nbsp;<span class="op" id="5848657">*</span><span class="ident" id="5848658"><a href="/encoding/gob/decode.go.html#5848414">elemOp</a></span><span class="op" id="5848664">,</span>&nbsp;<span class="ident" id="5848666"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848667">.</span><span class="ident" id="5848668">Len</span><span class="op" id="5848671">(</span><span class="op" id="5848672">)</span><span class="op" id="5848673">,</span>&nbsp;<span class="ident" id="5848675"><a href="/encoding/gob/decode.go.html#5848476">ovfl</a></span><span class="op" id="5848679">,</span>&nbsp;<span class="ident" id="5848681"><a href="/encoding/gob/decode.go.html#5848502">helper</a></span><span class="op" id="5848687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5848692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5848697">case</span>&nbsp;<span class="ident" id="5848702"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5848709">.</span><span class="ident" id="5848710">Map</span><span class="op" id="5848713">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848718">keyId</span>&nbsp;<span class="op" id="5848724">:=</span>&nbsp;<span class="ident" id="5848727"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5848730">.</span><span class="ident" id="5848731">wireType</span><span class="op" id="5848739">[</span><span class="ident" id="5848740"><a href="/encoding/gob/decode.go.html#5847666">wireId</a></span><span class="op" id="5848746">]</span><span class="op" id="5848747">.</span><span class="ident" id="5848748">MapT</span><span class="op" id="5848752">.</span><span class="ident" id="5848753">Key</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848760">elemId</span>&nbsp;<span class="op" id="5848767">:=</span>&nbsp;<span class="ident" id="5848770"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5848773">.</span><span class="ident" id="5848774">wireType</span><span class="op" id="5848782">[</span><span class="ident" id="5848783"><a href="/encoding/gob/decode.go.html#5847666">wireId</a></span><span class="op" id="5848789">]</span><span class="op" id="5848790">.</span><span class="ident" id="5848791">MapT</span><span class="op" id="5848795">.</span><span class="ident" id="5848796">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848804">keyOp</span>&nbsp;<span class="op" id="5848810">:=</span>&nbsp;<span class="ident" id="5848813"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5848816">.</span><span class="ident" id="5848817">decOpFor</span><span class="op" id="5848825">(</span><span class="ident" id="5848826"><a href="/encoding/gob/decode.go.html#5848718">keyId</a></span><span class="op" id="5848831">,</span>&nbsp;<span class="ident" id="5848833"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848834">.</span><span class="ident" id="5848835">Key</span><span class="op" id="5848838">(</span><span class="op" id="5848839">)</span><span class="op" id="5848840">,</span>&nbsp;<span class="string" id="5848842">&#34;key&nbsp;of&nbsp;&#34;</span><span class="op" id="5848851">+</span><span class="ident" id="5848852"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5848856">,</span>&nbsp;<span class="ident" id="5848858"><a href="/encoding/gob/decode.go.html#5847711">inProgress</a></span><span class="op" id="5848868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848873">elemOp</span>&nbsp;<span class="op" id="5848880">:=</span>&nbsp;<span class="ident" id="5848883"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5848886">.</span><span class="ident" id="5848887">decOpFor</span><span class="op" id="5848895">(</span><span class="ident" id="5848896"><a href="/encoding/gob/decode.go.html#5848760">elemId</a></span><span class="op" id="5848902">,</span>&nbsp;<span class="ident" id="5848904"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5848905">.</span><span class="ident" id="5848906">Elem</span><span class="op" id="5848910">(</span><span class="op" id="5848911">)</span><span class="op" id="5848912">,</span>&nbsp;<span class="string" id="5848914">&#34;element&nbsp;of&nbsp;&#34;</span><span class="op" id="5848927">+</span><span class="ident" id="5848928"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5848932">,</span>&nbsp;<span class="ident" id="5848934"><a href="/encoding/gob/decode.go.html#5847711">inProgress</a></span><span class="op" id="5848944">)</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848949">ovfl</span>&nbsp;<span class="op" id="5848954">:=</span>&nbsp;<span class="ident" id="5848957"><a href="/encoding/gob/decode.go.html#5826892">overflow</a></span><span class="op" id="5848965">(</span><span class="ident" id="5848966"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5848970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5848975"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5848978">=</span>&nbsp;<span class="keyword" id="5848980">func</span><span class="op" id="5848984">(</span><span class="ident" id="5848985">i</span>&nbsp;<span class="op" id="5848987">*</span><span class="ident" id="5848988"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5848996">,</span>&nbsp;<span class="ident" id="5848998">state</span>&nbsp;<span class="op" id="5849004">*</span><span class="ident" id="5849005"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5849017">,</span>&nbsp;<span class="ident" id="5849019">value</span>&nbsp;<span class="ident" id="5849025"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5849032">.</span><span class="ident" id="5849033">Value</span><span class="op" id="5849038">)</span>&nbsp;<span class="op" id="5849040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849046"><a href="/encoding/gob/decode.go.html#5848998">state</a></span><span class="op" id="5849051">.</span><span class="ident" id="5849052">dec</span><span class="op" id="5849055">.</span><span class="ident" id="5849056">decodeMap</span><span class="op" id="5849065">(</span><span class="ident" id="5849066"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5849067">,</span>&nbsp;<span class="ident" id="5849069"><a href="/encoding/gob/decode.go.html#5848998">state</a></span><span class="op" id="5849074">,</span>&nbsp;<span class="ident" id="5849076"><a href="/encoding/gob/decode.go.html#5849019">value</a></span><span class="op" id="5849081">,</span>&nbsp;<span class="op" id="5849083">*</span><span class="ident" id="5849084"><a href="/encoding/gob/decode.go.html#5848804">keyOp</a></span><span class="op" id="5849089">,</span>&nbsp;<span class="op" id="5849091">*</span><span class="ident" id="5849092"><a href="/encoding/gob/decode.go.html#5848873">elemOp</a></span><span class="op" id="5849098">,</span>&nbsp;<span class="ident" id="5849100"><a href="/encoding/gob/decode.go.html#5848949">ovfl</a></span><span class="op" id="5849104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5849109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849114">case</span>&nbsp;<span class="ident" id="5849119"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5849126">.</span><span class="ident" id="5849127">Slice</span><span class="op" id="5849132">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849137"><a href="/encoding/gob/decode.go.html#5847698">name</a></span>&nbsp;<span class="op" id="5849142">=</span>&nbsp;<span class="string" id="5849144">&#34;element&nbsp;of&nbsp;&#34;</span>&nbsp;<span class="op" id="5849158">+</span>&nbsp;<span class="ident" id="5849160"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849168">if</span>&nbsp;<span class="ident" id="5849171"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5849172">.</span><span class="ident" id="5849173">Elem</span><span class="op" id="5849177">(</span><span class="op" id="5849178">)</span><span class="op" id="5849179">.</span><span class="ident" id="5849180">Kind</span><span class="op" id="5849184">(</span><span class="op" id="5849185">)</span>&nbsp;<span class="op" id="5849187">==</span>&nbsp;<span class="ident" id="5849190"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5849197">.</span><span class="ident" id="5849198">Uint8</span>&nbsp;<span class="op" id="5849204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849210"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5849213">=</span>&nbsp;<span class="ident" id="5849215"><a href="/encoding/gob/decode.go.html#5834575">decUint8Slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849233">break</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5849242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849247">var</span>&nbsp;<span class="ident" id="5849251">elemId</span>&nbsp;<span class="ident" id="5849258"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849268">if</span>&nbsp;<span class="ident" id="5849271">tt</span><span class="op" id="5849273">,</span>&nbsp;<span class="ident" id="5849275">ok</span>&nbsp;<span class="op" id="5849278">:=</span>&nbsp;<span class="ident" id="5849281"><a href="/encoding/gob/type.go.html#5930681">builtinIdToType</a></span><span class="op" id="5849296">[</span><span class="ident" id="5849297"><a href="/encoding/gob/decode.go.html#5847666">wireId</a></span><span class="op" id="5849303">]</span><span class="op" id="5849304">;</span>&nbsp;<span class="ident" id="5849306"><a href="/encoding/gob/decode.go.html#5849275">ok</a></span>&nbsp;<span class="op" id="5849309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849315"><a href="/encoding/gob/decode.go.html#5849251">elemId</a></span>&nbsp;<span class="op" id="5849322">=</span>&nbsp;<span class="ident" id="5849324"><a href="/encoding/gob/decode.go.html#5849271">tt</a></span><span class="op" id="5849326">.</span><span class="op" id="5849327">(</span><span class="op" id="5849328">*</span><span class="ident" id="5849329"><a href="/encoding/gob/type.go.html#5936040">sliceType</a></span><span class="op" id="5849338">)</span><span class="op" id="5849339">.</span><span class="ident" id="5849340">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5849348">}</span>&nbsp;<span class="keyword" id="5849350">else</span>&nbsp;<span class="op" id="5849355">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849361"><a href="/encoding/gob/decode.go.html#5849251">elemId</a></span>&nbsp;<span class="op" id="5849368">=</span>&nbsp;<span class="ident" id="5849370"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5849373">.</span><span class="ident" id="5849374">wireType</span><span class="op" id="5849382">[</span><span class="ident" id="5849383"><a href="/encoding/gob/decode.go.html#5847666">wireId</a></span><span class="op" id="5849389">]</span><span class="op" id="5849390">.</span><span class="ident" id="5849391">SliceT</span><span class="op" id="5849397">.</span><span class="ident" id="5849398">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5849406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849411">elemOp</span>&nbsp;<span class="op" id="5849418">:=</span>&nbsp;<span class="ident" id="5849421"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5849424">.</span><span class="ident" id="5849425">decOpFor</span><span class="op" id="5849433">(</span><span class="ident" id="5849434"><a href="/encoding/gob/decode.go.html#5849251">elemId</a></span><span class="op" id="5849440">,</span>&nbsp;<span class="ident" id="5849442"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5849443">.</span><span class="ident" id="5849444">Elem</span><span class="op" id="5849448">(</span><span class="op" id="5849449">)</span><span class="op" id="5849450">,</span>&nbsp;<span class="ident" id="5849452"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5849456">,</span>&nbsp;<span class="ident" id="5849458"><a href="/encoding/gob/decode.go.html#5847711">inProgress</a></span><span class="op" id="5849468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849473">ovfl</span>&nbsp;<span class="op" id="5849478">:=</span>&nbsp;<span class="ident" id="5849481"><a href="/encoding/gob/decode.go.html#5826892">overflow</a></span><span class="op" id="5849489">(</span><span class="ident" id="5849490"><a href="/encoding/gob/decode.go.html#5847698">name</a></span><span class="op" id="5849494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849499">helper</span>&nbsp;<span class="op" id="5849506">:=</span>&nbsp;<span class="ident" id="5849509"><a href="/encoding/gob/dec_helpers.go.html#5811598">decSliceHelper</a></span><span class="op" id="5849523">[</span><span class="ident" id="5849524"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5849525">.</span><span class="ident" id="5849526">Elem</span><span class="op" id="5849530">(</span><span class="op" id="5849531">)</span><span class="op" id="5849532">.</span><span class="ident" id="5849533">Kind</span><span class="op" id="5849537">(</span><span class="op" id="5849538">)</span><span class="op" id="5849539">]</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849544"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5849547">=</span>&nbsp;<span class="keyword" id="5849549">func</span><span class="op" id="5849553">(</span><span class="ident" id="5849554">i</span>&nbsp;<span class="op" id="5849556">*</span><span class="ident" id="5849557"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5849565">,</span>&nbsp;<span class="ident" id="5849567">state</span>&nbsp;<span class="op" id="5849573">*</span><span class="ident" id="5849574"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5849586">,</span>&nbsp;<span class="ident" id="5849588">value</span>&nbsp;<span class="ident" id="5849594"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5849601">.</span><span class="ident" id="5849602">Value</span><span class="op" id="5849607">)</span>&nbsp;<span class="op" id="5849609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849615"><a href="/encoding/gob/decode.go.html#5849567">state</a></span><span class="op" id="5849620">.</span><span class="ident" id="5849621">dec</span><span class="op" id="5849624">.</span><span class="ident" id="5849625">decodeSlice</span><span class="op" id="5849636">(</span><span class="ident" id="5849637"><a href="/encoding/gob/decode.go.html#5849567">state</a></span><span class="op" id="5849642">,</span>&nbsp;<span class="ident" id="5849644"><a href="/encoding/gob/decode.go.html#5849588">value</a></span><span class="op" id="5849649">,</span>&nbsp;<span class="op" id="5849651">*</span><span class="ident" id="5849652"><a href="/encoding/gob/decode.go.html#5849411">elemOp</a></span><span class="op" id="5849658">,</span>&nbsp;<span class="ident" id="5849660"><a href="/encoding/gob/decode.go.html#5849473">ovfl</a></span><span class="op" id="5849664">,</span>&nbsp;<span class="ident" id="5849666"><a href="/encoding/gob/decode.go.html#5849499">helper</a></span><span class="op" id="5849672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5849677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849682">case</span>&nbsp;<span class="ident" id="5849687"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5849694">.</span><span class="ident" id="5849695">Struct</span><span class="op" id="5849701">:</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5849706">//&nbsp;Generate&nbsp;a&nbsp;closure&nbsp;that&nbsp;calls&nbsp;out&nbsp;to&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;nested&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849781">ut</span>&nbsp;<span class="op" id="5849784">:=</span>&nbsp;<span class="ident" id="5849787"><a href="/encoding/gob/type.go.html#5929943">userType</a></span><span class="op" id="5849795">(</span><span class="ident" id="5849796"><a href="/encoding/gob/decode.go.html#5848123">typ</a></span><span class="op" id="5849799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849804">enginePtr</span><span class="op" id="5849813">,</span>&nbsp;<span class="ident" id="5849815">err</span>&nbsp;<span class="op" id="5849819">:=</span>&nbsp;<span class="ident" id="5849822"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5849825">.</span><span class="ident" id="5849826">getDecEnginePtr</span><span class="op" id="5849841">(</span><span class="ident" id="5849842"><a href="/encoding/gob/decode.go.html#5847666">wireId</a></span><span class="op" id="5849848">,</span>&nbsp;<span class="ident" id="5849850"><a href="/encoding/gob/decode.go.html#5849781">ut</a></span><span class="op" id="5849852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5849857">if</span>&nbsp;<span class="ident" id="5849860"><a href="/encoding/gob/decode.go.html#5849815">err</a></span>&nbsp;<span class="op" id="5849864">!=</span>&nbsp;<span class="ident" id="5849867">nil</span>&nbsp;<span class="op" id="5849871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849877"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5849883">(</span><span class="ident" id="5849884"><a href="/encoding/gob/decode.go.html#5849815">err</a></span><span class="op" id="5849887">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5849892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5849897"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5849900">=</span>&nbsp;<span class="keyword" id="5849902">func</span><span class="op" id="5849906">(</span><span class="ident" id="5849907">i</span>&nbsp;<span class="op" id="5849909">*</span><span class="ident" id="5849910"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5849918">,</span>&nbsp;<span class="ident" id="5849920">state</span>&nbsp;<span class="op" id="5849926">*</span><span class="ident" id="5849927"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5849939">,</span>&nbsp;<span class="ident" id="5849941">value</span>&nbsp;<span class="ident" id="5849947"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5849954">.</span><span class="ident" id="5849955">Value</span><span class="op" id="5849960">)</span>&nbsp;<span class="op" id="5849962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5849968">//&nbsp;indirect&nbsp;through&nbsp;enginePtr&nbsp;to&nbsp;delay&nbsp;evaluation&nbsp;for&nbsp;recursive&nbsp;structs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850045"><a href="/encoding/gob/decode.go.html#5847643">dec</a></span><span class="op" id="5850048">.</span><span class="ident" id="5850049">decodeStruct</span><span class="op" id="5850061">(</span><span class="op" id="5850062">*</span><span class="ident" id="5850063"><a href="/encoding/gob/decode.go.html#5849804">enginePtr</a></span><span class="op" id="5850072">,</span>&nbsp;<span class="ident" id="5850074"><a href="/encoding/gob/decode.go.html#5849781">ut</a></span><span class="op" id="5850076">,</span>&nbsp;<span class="ident" id="5850078"><a href="/encoding/gob/decode.go.html#5849941">value</a></span><span class="op" id="5850083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850088">}</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850092">case</span>&nbsp;<span class="ident" id="5850097"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5850104">.</span><span class="ident" id="5850105">Interface</span><span class="op" id="5850114">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850119"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5850122">=</span>&nbsp;<span class="keyword" id="5850124">func</span><span class="op" id="5850128">(</span><span class="ident" id="5850129">i</span>&nbsp;<span class="op" id="5850131">*</span><span class="ident" id="5850132"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5850140">,</span>&nbsp;<span class="ident" id="5850142">state</span>&nbsp;<span class="op" id="5850148">*</span><span class="ident" id="5850149"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5850161">,</span>&nbsp;<span class="ident" id="5850163">value</span>&nbsp;<span class="ident" id="5850169"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5850176">.</span><span class="ident" id="5850177">Value</span><span class="op" id="5850182">)</span>&nbsp;<span class="op" id="5850184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850190"><a href="/encoding/gob/decode.go.html#5850142">state</a></span><span class="op" id="5850195">.</span><span class="ident" id="5850196">dec</span><span class="op" id="5850199">.</span><span class="ident" id="5850200">decodeInterface</span><span class="op" id="5850215">(</span><span class="ident" id="5850216"><a href="/encoding/gob/decode.go.html#5848291">t</a></span><span class="op" id="5850217">,</span>&nbsp;<span class="ident" id="5850219"><a href="/encoding/gob/decode.go.html#5850142">state</a></span><span class="op" id="5850224">,</span>&nbsp;<span class="ident" id="5850226"><a href="/encoding/gob/decode.go.html#5850163">value</a></span><span class="op" id="5850231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850240">}</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850246">if</span>&nbsp;<span class="ident" id="5850249"><a href="/encoding/gob/decode.go.html#5848143">op</a></span>&nbsp;<span class="op" id="5850252">==</span>&nbsp;<span class="ident" id="5850255">nil</span>&nbsp;<span class="op" id="5850259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850263"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5850269">(</span><span class="string" id="5850270">&#34;decode&nbsp;can&#39;t&nbsp;handle&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5850299">,</span>&nbsp;<span class="ident" id="5850301"><a href="/encoding/gob/decode.go.html#5847681">rt</a></span><span class="op" id="5850303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850309">return</span>&nbsp;<span class="op" id="5850316">&amp;</span><span class="ident" id="5850317"><a href="/encoding/gob/decode.go.html#5848143">op</a></span><br>
<span class="lineno">840</span><span class="op" id="5850320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5850323">//&nbsp;decIgnoreOpFor&nbsp;returns&nbsp;the&nbsp;decoding&nbsp;op&nbsp;for&nbsp;a&nbsp;field&nbsp;that&nbsp;has&nbsp;no&nbsp;destination.</span><br>
<span class="lineno"></span><span class="keyword" id="5850402">func</span>&nbsp;<span class="op" id="5850407">(</span><span class="ident" id="5850408">dec</span>&nbsp;<span class="op" id="5850412">*</span><span class="ident" id="5850413"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5850420">)</span>&nbsp;<span class="ident" id="5850422">decIgnoreOpFor</span><span class="op" id="5850436">(</span><span class="ident" id="5850437">wireId</span>&nbsp;<span class="ident" id="5850444"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5850450">)</span>&nbsp;<span class="ident" id="5850452"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span>&nbsp;<span class="op" id="5850458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850461">op</span><span class="op" id="5850463">,</span>&nbsp;<span class="ident" id="5850465">ok</span>&nbsp;<span class="op" id="5850468">:=</span>&nbsp;<span class="ident" id="5850471"><a href="/encoding/gob/decode.go.html#5847317">decIgnoreOpMap</a></span><span class="op" id="5850485">[</span><span class="ident" id="5850486"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5850492">]</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850495">if</span>&nbsp;<span class="op" id="5850498">!</span><span class="ident" id="5850499"><a href="/encoding/gob/decode.go.html#5850465">ok</a></span>&nbsp;<span class="op" id="5850502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850506">if</span>&nbsp;<span class="ident" id="5850509"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span>&nbsp;<span class="op" id="5850516">==</span>&nbsp;<span class="ident" id="5850519"><a href="/encoding/gob/type.go.html#5932660">tInterface</a></span>&nbsp;<span class="op" id="5850530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5850535">//&nbsp;Special&nbsp;case&nbsp;because&nbsp;it&#39;s&nbsp;a&nbsp;method:&nbsp;the&nbsp;ignored&nbsp;item&nbsp;might</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5850600">//&nbsp;define&nbsp;types&nbsp;and&nbsp;we&nbsp;need&nbsp;to&nbsp;record&nbsp;their&nbsp;state&nbsp;in&nbsp;the&nbsp;decoder.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850669"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5850672">=</span>&nbsp;<span class="keyword" id="5850674">func</span><span class="op" id="5850678">(</span><span class="ident" id="5850679">i</span>&nbsp;<span class="op" id="5850681">*</span><span class="ident" id="5850682"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5850690">,</span>&nbsp;<span class="ident" id="5850692">state</span>&nbsp;<span class="op" id="5850698">*</span><span class="ident" id="5850699"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5850711">,</span>&nbsp;<span class="ident" id="5850713">value</span>&nbsp;<span class="ident" id="5850719"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5850726">.</span><span class="ident" id="5850727">Value</span><span class="op" id="5850732">)</span>&nbsp;<span class="op" id="5850734">{</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850740"><a href="/encoding/gob/decode.go.html#5850692">state</a></span><span class="op" id="5850745">.</span><span class="ident" id="5850746">dec</span><span class="op" id="5850749">.</span><span class="ident" id="5850750">ignoreInterface</span><span class="op" id="5850765">(</span><span class="ident" id="5850766"><a href="/encoding/gob/decode.go.html#5850692">state</a></span><span class="op" id="5850771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850781">return</span>&nbsp;<span class="ident" id="5850788"><a href="/encoding/gob/decode.go.html#5850461">op</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5850793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5850797">//&nbsp;Special&nbsp;cases</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850816">wire</span>&nbsp;<span class="op" id="5850821">:=</span>&nbsp;<span class="ident" id="5850824"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5850827">.</span><span class="ident" id="5850828">wireType</span><span class="op" id="5850836">[</span><span class="ident" id="5850837"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5850843">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850847">switch</span>&nbsp;<span class="op" id="5850854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850858">case</span>&nbsp;<span class="ident" id="5850863"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span>&nbsp;<span class="op" id="5850868">==</span>&nbsp;<span class="ident" id="5850871">nil</span><span class="op" id="5850874">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850879"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5850885">(</span><span class="string" id="5850886">&#34;bad&nbsp;data:&nbsp;undefined&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5850915">,</span>&nbsp;<span class="ident" id="5850917"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5850923">.</span><span class="builtintype" id="5850924">string</span><span class="op" id="5850930">(</span><span class="op" id="5850931">)</span><span class="op" id="5850932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5850936">case</span>&nbsp;<span class="ident" id="5850941"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5850945">.</span><span class="ident" id="5850946">ArrayT</span>&nbsp;<span class="op" id="5850953">!=</span>&nbsp;<span class="ident" id="5850956">nil</span><span class="op" id="5850959">:</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850964">elemId</span>&nbsp;<span class="op" id="5850971">:=</span>&nbsp;<span class="ident" id="5850974"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5850978">.</span><span class="ident" id="5850979">ArrayT</span><span class="op" id="5850985">.</span><span class="ident" id="5850986">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5850994">elemOp</span>&nbsp;<span class="op" id="5851001">:=</span>&nbsp;<span class="ident" id="5851004"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851007">.</span><span class="ident" id="5851008">decIgnoreOpFor</span><span class="op" id="5851022">(</span><span class="ident" id="5851023"><a href="/encoding/gob/decode.go.html#5850964">elemId</a></span><span class="op" id="5851029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851034"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5851037">=</span>&nbsp;<span class="keyword" id="5851039">func</span><span class="op" id="5851043">(</span><span class="ident" id="5851044">i</span>&nbsp;<span class="op" id="5851046">*</span><span class="ident" id="5851047"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5851055">,</span>&nbsp;<span class="ident" id="5851057">state</span>&nbsp;<span class="op" id="5851063">*</span><span class="ident" id="5851064"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5851076">,</span>&nbsp;<span class="ident" id="5851078">value</span>&nbsp;<span class="ident" id="5851084"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5851091">.</span><span class="ident" id="5851092">Value</span><span class="op" id="5851097">)</span>&nbsp;<span class="op" id="5851099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851105"><a href="/encoding/gob/decode.go.html#5851057">state</a></span><span class="op" id="5851110">.</span><span class="ident" id="5851111">dec</span><span class="op" id="5851114">.</span><span class="ident" id="5851115">ignoreArray</span><span class="op" id="5851126">(</span><span class="ident" id="5851127"><a href="/encoding/gob/decode.go.html#5851057">state</a></span><span class="op" id="5851132">,</span>&nbsp;<span class="ident" id="5851134"><a href="/encoding/gob/decode.go.html#5850994">elemOp</a></span><span class="op" id="5851140">,</span>&nbsp;<span class="ident" id="5851142"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5851146">.</span><span class="ident" id="5851147">ArrayT</span><span class="op" id="5851153">.</span><span class="ident" id="5851154">Len</span><span class="op" id="5851157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5851162">}</span><br>
<span class="lineno">865</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5851167">case</span>&nbsp;<span class="ident" id="5851172"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5851176">.</span><span class="ident" id="5851177">MapT</span>&nbsp;<span class="op" id="5851182">!=</span>&nbsp;<span class="ident" id="5851185">nil</span><span class="op" id="5851188">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851193">keyId</span>&nbsp;<span class="op" id="5851199">:=</span>&nbsp;<span class="ident" id="5851202"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851205">.</span><span class="ident" id="5851206">wireType</span><span class="op" id="5851214">[</span><span class="ident" id="5851215"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5851221">]</span><span class="op" id="5851222">.</span><span class="ident" id="5851223">MapT</span><span class="op" id="5851227">.</span><span class="ident" id="5851228">Key</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851235">elemId</span>&nbsp;<span class="op" id="5851242">:=</span>&nbsp;<span class="ident" id="5851245"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851248">.</span><span class="ident" id="5851249">wireType</span><span class="op" id="5851257">[</span><span class="ident" id="5851258"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5851264">]</span><span class="op" id="5851265">.</span><span class="ident" id="5851266">MapT</span><span class="op" id="5851270">.</span><span class="ident" id="5851271">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851279">keyOp</span>&nbsp;<span class="op" id="5851285">:=</span>&nbsp;<span class="ident" id="5851288"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851291">.</span><span class="ident" id="5851292">decIgnoreOpFor</span><span class="op" id="5851306">(</span><span class="ident" id="5851307"><a href="/encoding/gob/decode.go.html#5851193">keyId</a></span><span class="op" id="5851312">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851317">elemOp</span>&nbsp;<span class="op" id="5851324">:=</span>&nbsp;<span class="ident" id="5851327"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851330">.</span><span class="ident" id="5851331">decIgnoreOpFor</span><span class="op" id="5851345">(</span><span class="ident" id="5851346"><a href="/encoding/gob/decode.go.html#5851235">elemId</a></span><span class="op" id="5851352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851357"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5851360">=</span>&nbsp;<span class="keyword" id="5851362">func</span><span class="op" id="5851366">(</span><span class="ident" id="5851367">i</span>&nbsp;<span class="op" id="5851369">*</span><span class="ident" id="5851370"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5851378">,</span>&nbsp;<span class="ident" id="5851380">state</span>&nbsp;<span class="op" id="5851386">*</span><span class="ident" id="5851387"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5851399">,</span>&nbsp;<span class="ident" id="5851401">value</span>&nbsp;<span class="ident" id="5851407"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5851414">.</span><span class="ident" id="5851415">Value</span><span class="op" id="5851420">)</span>&nbsp;<span class="op" id="5851422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851428"><a href="/encoding/gob/decode.go.html#5851380">state</a></span><span class="op" id="5851433">.</span><span class="ident" id="5851434">dec</span><span class="op" id="5851437">.</span><span class="ident" id="5851438">ignoreMap</span><span class="op" id="5851447">(</span><span class="ident" id="5851448"><a href="/encoding/gob/decode.go.html#5851380">state</a></span><span class="op" id="5851453">,</span>&nbsp;<span class="ident" id="5851455"><a href="/encoding/gob/decode.go.html#5851279">keyOp</a></span><span class="op" id="5851460">,</span>&nbsp;<span class="ident" id="5851462"><a href="/encoding/gob/decode.go.html#5851317">elemOp</a></span><span class="op" id="5851468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5851473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5851478">case</span>&nbsp;<span class="ident" id="5851483"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5851487">.</span><span class="ident" id="5851488">SliceT</span>&nbsp;<span class="op" id="5851495">!=</span>&nbsp;<span class="ident" id="5851498">nil</span><span class="op" id="5851501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851506">elemId</span>&nbsp;<span class="op" id="5851513">:=</span>&nbsp;<span class="ident" id="5851516"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5851520">.</span><span class="ident" id="5851521">SliceT</span><span class="op" id="5851527">.</span><span class="ident" id="5851528">Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851536">elemOp</span>&nbsp;<span class="op" id="5851543">:=</span>&nbsp;<span class="ident" id="5851546"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851549">.</span><span class="ident" id="5851550">decIgnoreOpFor</span><span class="op" id="5851564">(</span><span class="ident" id="5851565"><a href="/encoding/gob/decode.go.html#5851506">elemId</a></span><span class="op" id="5851571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851576"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5851579">=</span>&nbsp;<span class="keyword" id="5851581">func</span><span class="op" id="5851585">(</span><span class="ident" id="5851586">i</span>&nbsp;<span class="op" id="5851588">*</span><span class="ident" id="5851589"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5851597">,</span>&nbsp;<span class="ident" id="5851599">state</span>&nbsp;<span class="op" id="5851605">*</span><span class="ident" id="5851606"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5851618">,</span>&nbsp;<span class="ident" id="5851620">value</span>&nbsp;<span class="ident" id="5851626"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5851633">.</span><span class="ident" id="5851634">Value</span><span class="op" id="5851639">)</span>&nbsp;<span class="op" id="5851641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851647"><a href="/encoding/gob/decode.go.html#5851599">state</a></span><span class="op" id="5851652">.</span><span class="ident" id="5851653">dec</span><span class="op" id="5851656">.</span><span class="ident" id="5851657">ignoreSlice</span><span class="op" id="5851668">(</span><span class="ident" id="5851669"><a href="/encoding/gob/decode.go.html#5851599">state</a></span><span class="op" id="5851674">,</span>&nbsp;<span class="ident" id="5851676"><a href="/encoding/gob/decode.go.html#5851536">elemOp</a></span><span class="op" id="5851682">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5851687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5851692">case</span>&nbsp;<span class="ident" id="5851697"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5851701">.</span><span class="ident" id="5851702">StructT</span>&nbsp;<span class="op" id="5851710">!=</span>&nbsp;<span class="ident" id="5851713">nil</span><span class="op" id="5851716">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5851721">//&nbsp;Generate&nbsp;a&nbsp;closure&nbsp;that&nbsp;calls&nbsp;out&nbsp;to&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;nested&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851796">enginePtr</span><span class="op" id="5851805">,</span>&nbsp;<span class="ident" id="5851807">err</span>&nbsp;<span class="op" id="5851811">:=</span>&nbsp;<span class="ident" id="5851814"><a href="/encoding/gob/decode.go.html#5850408">dec</a></span><span class="op" id="5851817">.</span><span class="ident" id="5851818">getIgnoreEnginePtr</span><span class="op" id="5851836">(</span><span class="ident" id="5851837"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5851843">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5851848">if</span>&nbsp;<span class="ident" id="5851851"><a href="/encoding/gob/decode.go.html#5851807">err</a></span>&nbsp;<span class="op" id="5851855">!=</span>&nbsp;<span class="ident" id="5851858">nil</span>&nbsp;<span class="op" id="5851862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851868"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5851874">(</span><span class="ident" id="5851875"><a href="/encoding/gob/decode.go.html#5851807">err</a></span><span class="op" id="5851878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5851883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5851888"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5851891">=</span>&nbsp;<span class="keyword" id="5851893">func</span><span class="op" id="5851897">(</span><span class="ident" id="5851898">i</span>&nbsp;<span class="op" id="5851900">*</span><span class="ident" id="5851901"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5851909">,</span>&nbsp;<span class="ident" id="5851911">state</span>&nbsp;<span class="op" id="5851917">*</span><span class="ident" id="5851918"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5851930">,</span>&nbsp;<span class="ident" id="5851932">value</span>&nbsp;<span class="ident" id="5851938"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5851945">.</span><span class="ident" id="5851946">Value</span><span class="op" id="5851951">)</span>&nbsp;<span class="op" id="5851953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5851959">//&nbsp;indirect&nbsp;through&nbsp;enginePtr&nbsp;to&nbsp;delay&nbsp;evaluation&nbsp;for&nbsp;recursive&nbsp;structs</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852035"><a href="/encoding/gob/decode.go.html#5851911">state</a></span><span class="op" id="5852040">.</span><span class="ident" id="5852041">dec</span><span class="op" id="5852044">.</span><span class="ident" id="5852045">ignoreStruct</span><span class="op" id="5852057">(</span><span class="op" id="5852058">*</span><span class="ident" id="5852059"><a href="/encoding/gob/decode.go.html#5851796">enginePtr</a></span><span class="op" id="5852068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852078">case</span>&nbsp;<span class="ident" id="5852083"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5852087">.</span><span class="ident" id="5852088">GobEncoderT</span>&nbsp;<span class="op" id="5852100">!=</span>&nbsp;<span class="ident" id="5852103">nil</span><span class="op" id="5852106">,</span>&nbsp;<span class="ident" id="5852108"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5852112">.</span><span class="ident" id="5852113">BinaryMarshalerT</span>&nbsp;<span class="op" id="5852130">!=</span>&nbsp;<span class="ident" id="5852133">nil</span><span class="op" id="5852136">,</span>&nbsp;<span class="ident" id="5852138"><a href="/encoding/gob/decode.go.html#5850816">wire</a></span><span class="op" id="5852142">.</span><span class="ident" id="5852143">TextMarshalerT</span>&nbsp;<span class="op" id="5852158">!=</span>&nbsp;<span class="ident" id="5852161">nil</span><span class="op" id="5852164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852169"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5852172">=</span>&nbsp;<span class="keyword" id="5852174">func</span><span class="op" id="5852178">(</span><span class="ident" id="5852179">i</span>&nbsp;<span class="op" id="5852181">*</span><span class="ident" id="5852182"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5852190">,</span>&nbsp;<span class="ident" id="5852192">state</span>&nbsp;<span class="op" id="5852198">*</span><span class="ident" id="5852199"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5852211">,</span>&nbsp;<span class="ident" id="5852213">value</span>&nbsp;<span class="ident" id="5852219"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5852226">.</span><span class="ident" id="5852227">Value</span><span class="op" id="5852232">)</span>&nbsp;<span class="op" id="5852234">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852240"><a href="/encoding/gob/decode.go.html#5852192">state</a></span><span class="op" id="5852245">.</span><span class="ident" id="5852246">dec</span><span class="op" id="5852249">.</span><span class="ident" id="5852250">ignoreGobDecoder</span><span class="op" id="5852266">(</span><span class="ident" id="5852267"><a href="/encoding/gob/decode.go.html#5852192">state</a></span><span class="op" id="5852272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852287">if</span>&nbsp;<span class="ident" id="5852290"><a href="/encoding/gob/decode.go.html#5850461">op</a></span>&nbsp;<span class="op" id="5852293">==</span>&nbsp;<span class="ident" id="5852296">nil</span>&nbsp;<span class="op" id="5852300">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852304"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5852310">(</span><span class="string" id="5852311">&#34;bad&nbsp;data:&nbsp;ignore&nbsp;can&#39;t&nbsp;handle&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5852350">,</span>&nbsp;<span class="ident" id="5852352"><a href="/encoding/gob/decode.go.html#5850437">wireId</a></span><span class="op" id="5852358">.</span><span class="builtintype" id="5852359">string</span><span class="op" id="5852365">(</span><span class="op" id="5852366">)</span><span class="op" id="5852367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852373">return</span>&nbsp;<span class="ident" id="5852380"><a href="/encoding/gob/decode.go.html#5850461">op</a></span><br>
<span class="lineno"></span><span class="op" id="5852383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">905</span><span class="comment" id="5852386">//&nbsp;gobDecodeOpFor&nbsp;returns&nbsp;the&nbsp;op&nbsp;for&nbsp;a&nbsp;type&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="5852457">//&nbsp;GobDecoder.</span><br>
<span class="lineno"></span><span class="keyword" id="5852472">func</span>&nbsp;<span class="op" id="5852477">(</span><span class="ident" id="5852478">dec</span>&nbsp;<span class="op" id="5852482">*</span><span class="ident" id="5852483"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5852490">)</span>&nbsp;<span class="ident" id="5852492">gobDecodeOpFor</span><span class="op" id="5852506">(</span><span class="ident" id="5852507">ut</span>&nbsp;<span class="op" id="5852510">*</span><span class="ident" id="5852511"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5852523">)</span>&nbsp;<span class="op" id="5852525">*</span><span class="ident" id="5852526"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span>&nbsp;<span class="op" id="5852532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852535">rcvrType</span>&nbsp;<span class="op" id="5852544">:=</span>&nbsp;<span class="ident" id="5852547"><a href="/encoding/gob/decode.go.html#5852507">ut</a></span><span class="op" id="5852549">.</span><span class="ident" id="5852550">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852556">if</span>&nbsp;<span class="ident" id="5852559"><a href="/encoding/gob/decode.go.html#5852507">ut</a></span><span class="op" id="5852561">.</span><span class="ident" id="5852562">decIndir</span>&nbsp;<span class="op" id="5852571">==</span>&nbsp;<span class="op" id="5852574">-</span><span class="num" id="5852575">1</span>&nbsp;<span class="op" id="5852577">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852581"><a href="/encoding/gob/decode.go.html#5852535">rcvrType</a></span>&nbsp;<span class="op" id="5852590">=</span>&nbsp;<span class="ident" id="5852592"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5852599">.</span><span class="ident" id="5852600">PtrTo</span><span class="op" id="5852605">(</span><span class="ident" id="5852606"><a href="/encoding/gob/decode.go.html#5852535">rcvrType</a></span><span class="op" id="5852614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852617">}</span>&nbsp;<span class="keyword" id="5852619">else</span>&nbsp;<span class="keyword" id="5852624">if</span>&nbsp;<span class="ident" id="5852627"><a href="/encoding/gob/decode.go.html#5852507">ut</a></span><span class="op" id="5852629">.</span><span class="ident" id="5852630">decIndir</span>&nbsp;<span class="op" id="5852639">&gt;</span>&nbsp;<span class="num" id="5852641">0</span>&nbsp;<span class="op" id="5852643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852647">for</span>&nbsp;<span class="ident" id="5852651">i</span>&nbsp;<span class="op" id="5852653">:=</span>&nbsp;<span class="builtintype" id="5852656">int8</span><span class="op" id="5852660">(</span><span class="num" id="5852661">0</span><span class="op" id="5852662">)</span><span class="op" id="5852663">;</span>&nbsp;<span class="ident" id="5852665"><a href="/encoding/gob/decode.go.html#5852651">i</a></span>&nbsp;<span class="op" id="5852667">&lt;</span>&nbsp;<span class="ident" id="5852669"><a href="/encoding/gob/decode.go.html#5852507">ut</a></span><span class="op" id="5852671">.</span><span class="ident" id="5852672">decIndir</span><span class="op" id="5852680">;</span>&nbsp;<span class="ident" id="5852682"><a href="/encoding/gob/decode.go.html#5852651">i</a></span><span class="op" id="5852683">++</span>&nbsp;<span class="op" id="5852686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852691"><a href="/encoding/gob/decode.go.html#5852535">rcvrType</a></span>&nbsp;<span class="op" id="5852700">=</span>&nbsp;<span class="ident" id="5852702"><a href="/encoding/gob/decode.go.html#5852535">rcvrType</a></span><span class="op" id="5852710">.</span><span class="ident" id="5852711">Elem</span><span class="op" id="5852715">(</span><span class="op" id="5852716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852720">}</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852726">var</span>&nbsp;<span class="ident" id="5852730">op</span>&nbsp;<span class="ident" id="5852733"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852740"><a href="/encoding/gob/decode.go.html#5852730">op</a></span>&nbsp;<span class="op" id="5852743">=</span>&nbsp;<span class="keyword" id="5852745">func</span><span class="op" id="5852749">(</span><span class="ident" id="5852750">i</span>&nbsp;<span class="op" id="5852752">*</span><span class="ident" id="5852753"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5852761">,</span>&nbsp;<span class="ident" id="5852763">state</span>&nbsp;<span class="op" id="5852769">*</span><span class="ident" id="5852770"><a href="/encoding/gob/decode.go.html#5824999">decoderState</a></span><span class="op" id="5852782">,</span>&nbsp;<span class="ident" id="5852784">value</span>&nbsp;<span class="ident" id="5852790"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5852797">.</span><span class="ident" id="5852798">Value</span><span class="op" id="5852803">)</span>&nbsp;<span class="op" id="5852805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5852809">//&nbsp;We&nbsp;now&nbsp;have&nbsp;the&nbsp;base&nbsp;type.&nbsp;We&nbsp;need&nbsp;its&nbsp;address&nbsp;if&nbsp;the&nbsp;receiver&nbsp;is&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5852891">if</span>&nbsp;<span class="ident" id="5852894"><a href="/encoding/gob/decode.go.html#5852784">value</a></span><span class="op" id="5852899">.</span><span class="ident" id="5852900">Kind</span><span class="op" id="5852904">(</span><span class="op" id="5852905">)</span>&nbsp;<span class="op" id="5852907">!=</span>&nbsp;<span class="ident" id="5852910"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5852917">.</span><span class="ident" id="5852918">Ptr</span>&nbsp;<span class="op" id="5852922">&amp;&amp;</span>&nbsp;<span class="ident" id="5852925"><a href="/encoding/gob/decode.go.html#5852535">rcvrType</a></span><span class="op" id="5852933">.</span><span class="ident" id="5852934">Kind</span><span class="op" id="5852938">(</span><span class="op" id="5852939">)</span>&nbsp;<span class="op" id="5852941">==</span>&nbsp;<span class="ident" id="5852944"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5852951">.</span><span class="ident" id="5852952">Ptr</span>&nbsp;<span class="op" id="5852956">{</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852961"><a href="/encoding/gob/decode.go.html#5852784">value</a></span>&nbsp;<span class="op" id="5852967">=</span>&nbsp;<span class="ident" id="5852969"><a href="/encoding/gob/decode.go.html#5852784">value</a></span><span class="op" id="5852974">.</span><span class="ident" id="5852975">Addr</span><span class="op" id="5852979">(</span><span class="op" id="5852980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5852984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5852988"><a href="/encoding/gob/decode.go.html#5852763">state</a></span><span class="op" id="5852993">.</span><span class="ident" id="5852994">dec</span><span class="op" id="5852997">.</span><span class="ident" id="5852998">decodeGobDecoder</span><span class="op" id="5853014">(</span><span class="ident" id="5853015"><a href="/encoding/gob/decode.go.html#5852507">ut</a></span><span class="op" id="5853017">,</span>&nbsp;<span class="ident" id="5853019"><a href="/encoding/gob/decode.go.html#5852763">state</a></span><span class="op" id="5853024">,</span>&nbsp;<span class="ident" id="5853026"><a href="/encoding/gob/decode.go.html#5852784">value</a></span><span class="op" id="5853031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5853034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5853037">return</span>&nbsp;<span class="op" id="5853044">&amp;</span><span class="ident" id="5853045"><a href="/encoding/gob/decode.go.html#5852730">op</a></span><br>
<span class="lineno">925</span><span class="op" id="5853048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5853051">//&nbsp;compatibleType&nbsp;asks:&nbsp;Are&nbsp;these&nbsp;two&nbsp;gob&nbsp;Types&nbsp;compatible?</span><br>
<span class="lineno"></span><span class="comment" id="5853111">//&nbsp;Answers&nbsp;the&nbsp;question&nbsp;for&nbsp;basic&nbsp;types,&nbsp;arrays,&nbsp;maps&nbsp;and&nbsp;slices,&nbsp;plus</span><br>
<span class="lineno"></span><span class="comment" id="5853182">//&nbsp;GobEncoder/Decoder&nbsp;pairs.</span><br>
<span class="lineno">930</span><span class="comment" id="5853211">//&nbsp;Structs&nbsp;are&nbsp;considered&nbsp;ok;&nbsp;fields&nbsp;will&nbsp;be&nbsp;checked&nbsp;later.</span><br>
<span class="lineno"></span><span class="keyword" id="5853271">func</span>&nbsp;<span class="op" id="5853276">(</span><span class="ident" id="5853277">dec</span>&nbsp;<span class="op" id="5853281">*</span><span class="ident" id="5853282"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5853289">)</span>&nbsp;<span class="ident" id="5853291">compatibleType</span><span class="op" id="5853305">(</span><span class="ident" id="5853306">fr</span>&nbsp;<span class="ident" id="5853309"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5853316">.</span><span class="ident" id="5853317">Type</span><span class="op" id="5853321">,</span>&nbsp;<span class="ident" id="5853323">fw</span>&nbsp;<span class="ident" id="5853326"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5853332">,</span>&nbsp;<span class="ident" id="5853334">inProgress</span>&nbsp;<span class="keyword" id="5853345">map</span><span class="op" id="5853348">[</span><span class="ident" id="5853349"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5853356">.</span><span class="ident" id="5853357">Type</span><span class="op" id="5853361">]</span><span class="ident" id="5853362"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5853368">)</span>&nbsp;<span class="builtintype" id="5853370">bool</span>&nbsp;<span class="op" id="5853375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5853378">if</span>&nbsp;<span class="ident" id="5853381">rhs</span><span class="op" id="5853384">,</span>&nbsp;<span class="ident" id="5853386">ok</span>&nbsp;<span class="op" id="5853389">:=</span>&nbsp;<span class="ident" id="5853392"><a href="/encoding/gob/decode.go.html#5853334">inProgress</a></span><span class="op" id="5853402">[</span><span class="ident" id="5853403"><a href="/encoding/gob/decode.go.html#5853306">fr</a></span><span class="op" id="5853405">]</span><span class="op" id="5853406">;</span>&nbsp;<span class="ident" id="5853408"><a href="/encoding/gob/decode.go.html#5853386">ok</a></span>&nbsp;<span class="op" id="5853411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5853415">return</span>&nbsp;<span class="ident" id="5853422"><a href="/encoding/gob/decode.go.html#5853381">rhs</a></span>&nbsp;<span class="op" id="5853426">==</span>&nbsp;<span class="ident" id="5853429"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5853433">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5853436"><a href="/encoding/gob/decode.go.html#5853334">inProgress</a></span><span class="op" id="5853446">[</span><span class="ident" id="5853447"><a href="/encoding/gob/decode.go.html#5853306">fr</a></span><span class="op" id="5853449">]</span>&nbsp;<span class="op" id="5853451">=</span>&nbsp;<span class="ident" id="5853453"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5853457">ut</span>&nbsp;<span class="op" id="5853460">:=</span>&nbsp;<span class="ident" id="5853463"><a href="/encoding/gob/type.go.html#5929943">userType</a></span><span class="op" id="5853471">(</span><span class="ident" id="5853472"><a href="/encoding/gob/decode.go.html#5853306">fr</a></span><span class="op" id="5853474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5853477">wire</span><span class="op" id="5853481">,</span>&nbsp;<span class="ident" id="5853483">ok</span>&nbsp;<span class="op" id="5853486">:=</span>&nbsp;<span class="ident" id="5853489"><a href="/encoding/gob/decode.go.html#5853277">dec</a></span><span class="op" id="5853492">.</span><span class="ident" id="5853493">wireType</span><span class="op" id="5853501">[</span><span class="ident" id="5853502"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span><span class="op" id="5853504">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5853507">//&nbsp;If&nbsp;wire&nbsp;was&nbsp;encoded&nbsp;with&nbsp;an&nbsp;encoding&nbsp;method,&nbsp;fr&nbsp;must&nbsp;have&nbsp;that&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5853582">//&nbsp;And&nbsp;if&nbsp;not,&nbsp;it&nbsp;must&nbsp;not.</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5853611">//&nbsp;At&nbsp;most&nbsp;one&nbsp;of&nbsp;the&nbsp;booleans&nbsp;in&nbsp;ut&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5853657">//&nbsp;We&nbsp;could&nbsp;possibly&nbsp;relax&nbsp;this&nbsp;constraint&nbsp;in&nbsp;the&nbsp;future&nbsp;in&nbsp;order&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5853727">//&nbsp;choose&nbsp;the&nbsp;decoding&nbsp;method&nbsp;using&nbsp;the&nbsp;data&nbsp;in&nbsp;the&nbsp;wireType.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5853790">//&nbsp;The&nbsp;parentheses&nbsp;look&nbsp;odd&nbsp;but&nbsp;are&nbsp;correct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5853836">if</span>&nbsp;<span class="op" id="5853839">(</span><span class="ident" id="5853840"><a href="/encoding/gob/decode.go.html#5853457">ut</a></span><span class="op" id="5853842">.</span><span class="ident" id="5853843">externalDec</span>&nbsp;<span class="op" id="5853855">==</span>&nbsp;<span class="ident" id="5853858"><a href="/encoding/gob/type.go.html#5925587">xGob</a></span><span class="op" id="5853862">)</span>&nbsp;<span class="op" id="5853864">!=</span>&nbsp;<span class="op" id="5853867">(</span><span class="ident" id="5853868"><a href="/encoding/gob/decode.go.html#5853483">ok</a></span>&nbsp;<span class="op" id="5853871">&amp;&amp;</span>&nbsp;<span class="ident" id="5853874"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5853878">.</span><span class="ident" id="5853879">GobEncoderT</span>&nbsp;<span class="op" id="5853891">!=</span>&nbsp;<span class="ident" id="5853894">nil</span><span class="op" id="5853897">)</span>&nbsp;<span class="op" id="5853899">||</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5853904">(</span><span class="ident" id="5853905"><a href="/encoding/gob/decode.go.html#5853457">ut</a></span><span class="op" id="5853907">.</span><span class="ident" id="5853908">externalDec</span>&nbsp;<span class="op" id="5853920">==</span>&nbsp;<span class="ident" id="5853923"><a href="/encoding/gob/type.go.html#5925635">xBinary</a></span><span class="op" id="5853930">)</span>&nbsp;<span class="op" id="5853932">!=</span>&nbsp;<span class="op" id="5853935">(</span><span class="ident" id="5853936"><a href="/encoding/gob/decode.go.html#5853483">ok</a></span>&nbsp;<span class="op" id="5853939">&amp;&amp;</span>&nbsp;<span class="ident" id="5853942"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5853946">.</span><span class="ident" id="5853947">BinaryMarshalerT</span>&nbsp;<span class="op" id="5853964">!=</span>&nbsp;<span class="ident" id="5853967">nil</span><span class="op" id="5853970">)</span>&nbsp;<span class="op" id="5853972">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5853977">(</span><span class="ident" id="5853978"><a href="/encoding/gob/decode.go.html#5853457">ut</a></span><span class="op" id="5853980">.</span><span class="ident" id="5853981">externalDec</span>&nbsp;<span class="op" id="5853993">==</span>&nbsp;<span class="ident" id="5853996"><a href="/encoding/gob/type.go.html#5925713">xText</a></span><span class="op" id="5854001">)</span>&nbsp;<span class="op" id="5854003">!=</span>&nbsp;<span class="op" id="5854006">(</span><span class="ident" id="5854007"><a href="/encoding/gob/decode.go.html#5853483">ok</a></span>&nbsp;<span class="op" id="5854010">&amp;&amp;</span>&nbsp;<span class="ident" id="5854013"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5854017">.</span><span class="ident" id="5854018">TextMarshalerT</span>&nbsp;<span class="op" id="5854033">!=</span>&nbsp;<span class="ident" id="5854036">nil</span><span class="op" id="5854039">)</span>&nbsp;<span class="op" id="5854041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854045">return</span>&nbsp;<span class="builtintype" id="5854052">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5854059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854062">if</span>&nbsp;<span class="ident" id="5854065"><a href="/encoding/gob/decode.go.html#5853457">ut</a></span><span class="op" id="5854067">.</span><span class="ident" id="5854068">externalDec</span>&nbsp;<span class="op" id="5854080">!=</span>&nbsp;<span class="num" id="5854083">0</span>&nbsp;<span class="op" id="5854085">{</span>&nbsp;<span class="comment" id="5854087">//&nbsp;This&nbsp;test&nbsp;trumps&nbsp;all&nbsp;others.</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854121">return</span>&nbsp;<span class="builtintype" id="5854128">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5854134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854137">switch</span>&nbsp;<span class="ident" id="5854144">t</span>&nbsp;<span class="op" id="5854146">:=</span>&nbsp;<span class="ident" id="5854149"><a href="/encoding/gob/decode.go.html#5853457">ut</a></span><span class="op" id="5854151">.</span><span class="ident" id="5854152">base</span><span class="op" id="5854156">;</span>&nbsp;<span class="ident" id="5854158"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5854159">.</span><span class="ident" id="5854160">Kind</span><span class="op" id="5854164">(</span><span class="op" id="5854165">)</span>&nbsp;<span class="op" id="5854167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854170">default</span><span class="op" id="5854177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5854181">//&nbsp;chan,&nbsp;etc:&nbsp;cannot&nbsp;handle.</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854212">return</span>&nbsp;<span class="builtintype" id="5854219">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854226">case</span>&nbsp;<span class="ident" id="5854231"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854238">.</span><span class="ident" id="5854239">Bool</span><span class="op" id="5854243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854247">return</span>&nbsp;<span class="ident" id="5854254"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854257">==</span>&nbsp;<span class="ident" id="5854260"><a href="/encoding/gob/type.go.html#5932271">tBool</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854267">case</span>&nbsp;<span class="ident" id="5854272"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854279">.</span><span class="ident" id="5854280">Int</span><span class="op" id="5854283">,</span>&nbsp;<span class="ident" id="5854285"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854292">.</span><span class="ident" id="5854293">Int8</span><span class="op" id="5854297">,</span>&nbsp;<span class="ident" id="5854299"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854306">.</span><span class="ident" id="5854307">Int16</span><span class="op" id="5854312">,</span>&nbsp;<span class="ident" id="5854314"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854321">.</span><span class="ident" id="5854322">Int32</span><span class="op" id="5854327">,</span>&nbsp;<span class="ident" id="5854329"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854336">.</span><span class="ident" id="5854337">Int64</span><span class="op" id="5854342">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854346">return</span>&nbsp;<span class="ident" id="5854353"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854356">==</span>&nbsp;<span class="ident" id="5854359"><a href="/encoding/gob/type.go.html#5932324">tInt</a></span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854365">case</span>&nbsp;<span class="ident" id="5854370"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854377">.</span><span class="ident" id="5854378">Uint</span><span class="op" id="5854382">,</span>&nbsp;<span class="ident" id="5854384"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854391">.</span><span class="ident" id="5854392">Uint8</span><span class="op" id="5854397">,</span>&nbsp;<span class="ident" id="5854399"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854406">.</span><span class="ident" id="5854407">Uint16</span><span class="op" id="5854413">,</span>&nbsp;<span class="ident" id="5854415"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854422">.</span><span class="ident" id="5854423">Uint32</span><span class="op" id="5854429">,</span>&nbsp;<span class="ident" id="5854431"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854438">.</span><span class="ident" id="5854439">Uint64</span><span class="op" id="5854445">,</span>&nbsp;<span class="ident" id="5854447"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854454">.</span><span class="ident" id="5854455">Uintptr</span><span class="op" id="5854462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854466">return</span>&nbsp;<span class="ident" id="5854473"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854476">==</span>&nbsp;<span class="ident" id="5854479"><a href="/encoding/gob/type.go.html#5932375">tUint</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854486">case</span>&nbsp;<span class="ident" id="5854491"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854498">.</span><span class="ident" id="5854499">Float32</span><span class="op" id="5854506">,</span>&nbsp;<span class="ident" id="5854508"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854515">.</span><span class="ident" id="5854516">Float64</span><span class="op" id="5854523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854527">return</span>&nbsp;<span class="ident" id="5854534"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854537">==</span>&nbsp;<span class="ident" id="5854540"><a href="/encoding/gob/type.go.html#5932428">tFloat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854548">case</span>&nbsp;<span class="ident" id="5854553"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854560">.</span><span class="ident" id="5854561">Complex64</span><span class="op" id="5854570">,</span>&nbsp;<span class="ident" id="5854572"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854579">.</span><span class="ident" id="5854580">Complex128</span><span class="op" id="5854590">:</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854594">return</span>&nbsp;<span class="ident" id="5854601"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854604">==</span>&nbsp;<span class="ident" id="5854607"><a href="/encoding/gob/type.go.html#5932598">tComplex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854617">case</span>&nbsp;<span class="ident" id="5854622"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854629">.</span><span class="ident" id="5854630">String</span><span class="op" id="5854636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854640">return</span>&nbsp;<span class="ident" id="5854647"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854650">==</span>&nbsp;<span class="ident" id="5854653"><a href="/encoding/gob/type.go.html#5932541">tString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854662">case</span>&nbsp;<span class="ident" id="5854667"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854674">.</span><span class="ident" id="5854675">Interface</span><span class="op" id="5854684">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854688">return</span>&nbsp;<span class="ident" id="5854695"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5854698">==</span>&nbsp;<span class="ident" id="5854701"><a href="/encoding/gob/type.go.html#5932660">tInterface</a></span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854713">case</span>&nbsp;<span class="ident" id="5854718"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854725">.</span><span class="ident" id="5854726">Array</span><span class="op" id="5854731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854735">if</span>&nbsp;<span class="op" id="5854738">!</span><span class="ident" id="5854739"><a href="/encoding/gob/decode.go.html#5853483">ok</a></span>&nbsp;<span class="op" id="5854742">||</span>&nbsp;<span class="ident" id="5854745"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5854749">.</span><span class="ident" id="5854750">ArrayT</span>&nbsp;<span class="op" id="5854757">==</span>&nbsp;<span class="ident" id="5854760">nil</span>&nbsp;<span class="op" id="5854764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854769">return</span>&nbsp;<span class="builtintype" id="5854776">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5854784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5854788">array</span>&nbsp;<span class="op" id="5854794">:=</span>&nbsp;<span class="ident" id="5854797"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5854801">.</span><span class="ident" id="5854802">ArrayT</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854811">return</span>&nbsp;<span class="ident" id="5854818"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5854819">.</span><span class="ident" id="5854820">Len</span><span class="op" id="5854823">(</span><span class="op" id="5854824">)</span>&nbsp;<span class="op" id="5854826">==</span>&nbsp;<span class="ident" id="5854829"><a href="/encoding/gob/decode.go.html#5854788">array</a></span><span class="op" id="5854834">.</span><span class="ident" id="5854835">Len</span>&nbsp;<span class="op" id="5854839">&amp;&amp;</span>&nbsp;<span class="ident" id="5854842"><a href="/encoding/gob/decode.go.html#5853277">dec</a></span><span class="op" id="5854845">.</span><span class="ident" id="5854846">compatibleType</span><span class="op" id="5854860">(</span><span class="ident" id="5854861"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5854862">.</span><span class="ident" id="5854863">Elem</span><span class="op" id="5854867">(</span><span class="op" id="5854868">)</span><span class="op" id="5854869">,</span>&nbsp;<span class="ident" id="5854871"><a href="/encoding/gob/decode.go.html#5854788">array</a></span><span class="op" id="5854876">.</span><span class="ident" id="5854877">Elem</span><span class="op" id="5854881">,</span>&nbsp;<span class="ident" id="5854883"><a href="/encoding/gob/decode.go.html#5853334">inProgress</a></span><span class="op" id="5854893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854896">case</span>&nbsp;<span class="ident" id="5854901"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5854908">.</span><span class="ident" id="5854909">Map</span><span class="op" id="5854912">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854916">if</span>&nbsp;<span class="op" id="5854919">!</span><span class="ident" id="5854920"><a href="/encoding/gob/decode.go.html#5853483">ok</a></span>&nbsp;<span class="op" id="5854923">||</span>&nbsp;<span class="ident" id="5854926"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5854930">.</span><span class="ident" id="5854931">MapT</span>&nbsp;<span class="op" id="5854936">==</span>&nbsp;<span class="ident" id="5854939">nil</span>&nbsp;<span class="op" id="5854943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854948">return</span>&nbsp;<span class="builtintype" id="5854955">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5854963">}</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5854967">MapType</span>&nbsp;<span class="op" id="5854975">:=</span>&nbsp;<span class="ident" id="5854978"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5854982">.</span><span class="ident" id="5854983">MapT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5854990">return</span>&nbsp;<span class="ident" id="5854997"><a href="/encoding/gob/decode.go.html#5853277">dec</a></span><span class="op" id="5855000">.</span><span class="ident" id="5855001">compatibleType</span><span class="op" id="5855015">(</span><span class="ident" id="5855016"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5855017">.</span><span class="ident" id="5855018">Key</span><span class="op" id="5855021">(</span><span class="op" id="5855022">)</span><span class="op" id="5855023">,</span>&nbsp;<span class="ident" id="5855025"><a href="/encoding/gob/decode.go.html#5854967">MapType</a></span><span class="op" id="5855032">.</span><span class="ident" id="5855033">Key</span><span class="op" id="5855036">,</span>&nbsp;<span class="ident" id="5855038"><a href="/encoding/gob/decode.go.html#5853334">inProgress</a></span><span class="op" id="5855048">)</span>&nbsp;<span class="op" id="5855050">&amp;&amp;</span>&nbsp;<span class="ident" id="5855053"><a href="/encoding/gob/decode.go.html#5853277">dec</a></span><span class="op" id="5855056">.</span><span class="ident" id="5855057">compatibleType</span><span class="op" id="5855071">(</span><span class="ident" id="5855072"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5855073">.</span><span class="ident" id="5855074">Elem</span><span class="op" id="5855078">(</span><span class="op" id="5855079">)</span><span class="op" id="5855080">,</span>&nbsp;<span class="ident" id="5855082"><a href="/encoding/gob/decode.go.html#5854967">MapType</a></span><span class="op" id="5855089">.</span><span class="ident" id="5855090">Elem</span><span class="op" id="5855094">,</span>&nbsp;<span class="ident" id="5855096"><a href="/encoding/gob/decode.go.html#5853334">inProgress</a></span><span class="op" id="5855106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855109">case</span>&nbsp;<span class="ident" id="5855114"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5855121">.</span><span class="ident" id="5855122">Slice</span><span class="op" id="5855127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5855131">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;array&nbsp;of&nbsp;bytes?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855161">if</span>&nbsp;<span class="ident" id="5855164"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5855165">.</span><span class="ident" id="5855166">Elem</span><span class="op" id="5855170">(</span><span class="op" id="5855171">)</span><span class="op" id="5855172">.</span><span class="ident" id="5855173">Kind</span><span class="op" id="5855177">(</span><span class="op" id="5855178">)</span>&nbsp;<span class="op" id="5855180">==</span>&nbsp;<span class="ident" id="5855183"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5855190">.</span><span class="ident" id="5855191">Uint8</span>&nbsp;<span class="op" id="5855197">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855202">return</span>&nbsp;<span class="ident" id="5855209"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span>&nbsp;<span class="op" id="5855212">==</span>&nbsp;<span class="ident" id="5855215"><a href="/encoding/gob/type.go.html#5932485">tBytes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5855224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5855228">//&nbsp;Extract&nbsp;and&nbsp;compare&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855268">var</span>&nbsp;<span class="ident" id="5855272">sw</span>&nbsp;<span class="op" id="5855275">*</span><span class="ident" id="5855276"><a href="/encoding/gob/type.go.html#5936040">sliceType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855288">if</span>&nbsp;<span class="ident" id="5855291">tt</span><span class="op" id="5855293">,</span>&nbsp;<span class="ident" id="5855295">ok</span>&nbsp;<span class="op" id="5855298">:=</span>&nbsp;<span class="ident" id="5855301"><a href="/encoding/gob/type.go.html#5930681">builtinIdToType</a></span><span class="op" id="5855316">[</span><span class="ident" id="5855317"><a href="/encoding/gob/decode.go.html#5853323">fw</a></span><span class="op" id="5855319">]</span><span class="op" id="5855320">;</span>&nbsp;<span class="ident" id="5855322"><a href="/encoding/gob/decode.go.html#5855295">ok</a></span>&nbsp;<span class="op" id="5855325">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5855330"><a href="/encoding/gob/decode.go.html#5855272">sw</a></span><span class="op" id="5855332">,</span>&nbsp;<span class="ident" id="5855334">_</span>&nbsp;<span class="op" id="5855336">=</span>&nbsp;<span class="ident" id="5855338"><a href="/encoding/gob/decode.go.html#5855291">tt</a></span><span class="op" id="5855340">.</span><span class="op" id="5855341">(</span><span class="op" id="5855342">*</span><span class="ident" id="5855343"><a href="/encoding/gob/type.go.html#5936040">sliceType</a></span><span class="op" id="5855352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5855356">}</span>&nbsp;<span class="keyword" id="5855358">else</span>&nbsp;<span class="keyword" id="5855363">if</span>&nbsp;<span class="ident" id="5855366"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span>&nbsp;<span class="op" id="5855371">!=</span>&nbsp;<span class="ident" id="5855374">nil</span>&nbsp;<span class="op" id="5855378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5855383"><a href="/encoding/gob/decode.go.html#5855272">sw</a></span>&nbsp;<span class="op" id="5855386">=</span>&nbsp;<span class="ident" id="5855388"><a href="/encoding/gob/decode.go.html#5853477">wire</a></span><span class="op" id="5855392">.</span><span class="ident" id="5855393">SliceT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5855402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5855406">elem</span>&nbsp;<span class="op" id="5855411">:=</span>&nbsp;<span class="ident" id="5855414"><a href="/encoding/gob/type.go.html#5929943">userType</a></span><span class="op" id="5855422">(</span><span class="ident" id="5855423"><a href="/encoding/gob/decode.go.html#5854144">t</a></span><span class="op" id="5855424">.</span><span class="ident" id="5855425">Elem</span><span class="op" id="5855429">(</span><span class="op" id="5855430">)</span><span class="op" id="5855431">)</span><span class="op" id="5855432">.</span><span class="ident" id="5855433">base</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855440">return</span>&nbsp;<span class="ident" id="5855447"><a href="/encoding/gob/decode.go.html#5855272">sw</a></span>&nbsp;<span class="op" id="5855450">!=</span>&nbsp;<span class="ident" id="5855453">nil</span>&nbsp;<span class="op" id="5855457">&amp;&amp;</span>&nbsp;<span class="ident" id="5855460"><a href="/encoding/gob/decode.go.html#5853277">dec</a></span><span class="op" id="5855463">.</span><span class="ident" id="5855464">compatibleType</span><span class="op" id="5855478">(</span><span class="ident" id="5855479"><a href="/encoding/gob/decode.go.html#5855406">elem</a></span><span class="op" id="5855483">,</span>&nbsp;<span class="ident" id="5855485"><a href="/encoding/gob/decode.go.html#5855272">sw</a></span><span class="op" id="5855487">.</span><span class="ident" id="5855488">Elem</span><span class="op" id="5855492">,</span>&nbsp;<span class="ident" id="5855494"><a href="/encoding/gob/decode.go.html#5853334">inProgress</a></span><span class="op" id="5855504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855507">case</span>&nbsp;<span class="ident" id="5855512"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5855519">.</span><span class="ident" id="5855520">Struct</span><span class="op" id="5855526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855530">return</span>&nbsp;<span class="builtintype" id="5855537">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5855543">}</span><br>
<span class="lineno"></span><span class="op" id="5855545">}</span><br>
<span class="lineno">1000</span><br>
<span class="lineno"></span><span class="comment" id="5855548">//&nbsp;typeString&nbsp;returns&nbsp;a&nbsp;human-readable&nbsp;description&nbsp;of&nbsp;the&nbsp;type&nbsp;identified&nbsp;by&nbsp;remoteId.</span><br>
<span class="lineno"></span><span class="keyword" id="5855635">func</span>&nbsp;<span class="op" id="5855640">(</span><span class="ident" id="5855641">dec</span>&nbsp;<span class="op" id="5855645">*</span><span class="ident" id="5855646"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5855653">)</span>&nbsp;<span class="ident" id="5855655">typeString</span><span class="op" id="5855665">(</span><span class="ident" id="5855666">remoteId</span>&nbsp;<span class="ident" id="5855675"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5855681">)</span>&nbsp;<span class="builtintype" id="5855683">string</span>&nbsp;<span class="op" id="5855690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855693">if</span>&nbsp;<span class="ident" id="5855696">t</span>&nbsp;<span class="op" id="5855698">:=</span>&nbsp;<span class="ident" id="5855701"><a href="/encoding/gob/type.go.html#5930641">idToType</a></span><span class="op" id="5855709">[</span><span class="ident" id="5855710"><a href="/encoding/gob/decode.go.html#5855666">remoteId</a></span><span class="op" id="5855718">]</span><span class="op" id="5855719">;</span>&nbsp;<span class="ident" id="5855721"><a href="/encoding/gob/decode.go.html#5855696">t</a></span>&nbsp;<span class="op" id="5855723">!=</span>&nbsp;<span class="ident" id="5855726">nil</span>&nbsp;<span class="op" id="5855730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5855734">//&nbsp;globally&nbsp;known&nbsp;type.</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855760">return</span>&nbsp;<span class="ident" id="5855767"><a href="/encoding/gob/decode.go.html#5855696">t</a></span><span class="op" id="5855768">.</span><span class="builtintype" id="5855769">string</span><span class="op" id="5855775">(</span><span class="op" id="5855776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5855779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5855782">return</span>&nbsp;<span class="ident" id="5855789"><a href="/encoding/gob/decode.go.html#5855641">dec</a></span><span class="op" id="5855792">.</span><span class="ident" id="5855793">wireType</span><span class="op" id="5855801">[</span><span class="ident" id="5855802"><a href="/encoding/gob/decode.go.html#5855666">remoteId</a></span><span class="op" id="5855810">]</span><span class="op" id="5855811">.</span><span class="builtintype" id="5855812">string</span><span class="op" id="5855818">(</span><span class="op" id="5855819">)</span><br>
<span class="lineno"></span><span class="op" id="5855821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1010</span><span class="comment" id="5855824">//&nbsp;compileSingle&nbsp;compiles&nbsp;the&nbsp;decoder&nbsp;engine&nbsp;for&nbsp;a&nbsp;non-struct&nbsp;top-level&nbsp;value,&nbsp;including</span><br>
<span class="lineno"></span><span class="comment" id="5855913">//&nbsp;GobDecoders.</span><br>
<span class="lineno"></span><span class="keyword" id="5855929">func</span>&nbsp;<span class="op" id="5855934">(</span><span class="ident" id="5855935">dec</span>&nbsp;<span class="op" id="5855939">*</span><span class="ident" id="5855940"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5855947">)</span>&nbsp;<span class="ident" id="5855949">compileSingle</span><span class="op" id="5855962">(</span><span class="ident" id="5855963">remoteId</span>&nbsp;<span class="ident" id="5855972"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5855978">,</span>&nbsp;<span class="ident" id="5855980">ut</span>&nbsp;<span class="op" id="5855983">*</span><span class="ident" id="5855984"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5855996">)</span>&nbsp;<span class="op" id="5855998">(</span><span class="ident" id="5855999">engine</span>&nbsp;<span class="op" id="5856006">*</span><span class="ident" id="5856007"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5856016">,</span>&nbsp;<span class="ident" id="5856018">err</span>&nbsp;<span class="builtintype" id="5856022">error</span><span class="op" id="5856027">)</span>&nbsp;<span class="op" id="5856029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856032">rt</span>&nbsp;<span class="op" id="5856035">:=</span>&nbsp;<span class="ident" id="5856038"><a href="/encoding/gob/decode.go.html#5855980">ut</a></span><span class="op" id="5856040">.</span><span class="ident" id="5856041">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856047"><a href="/encoding/gob/decode.go.html#5855999">engine</a></span>&nbsp;<span class="op" id="5856054">=</span>&nbsp;<span class="builtinfunc" id="5856056">new</span><span class="op" id="5856059">(</span><span class="ident" id="5856060"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5856069">)</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856072"><a href="/encoding/gob/decode.go.html#5855999">engine</a></span><span class="op" id="5856078">.</span><span class="ident" id="5856079">instr</span>&nbsp;<span class="op" id="5856085">=</span>&nbsp;<span class="builtinfunc" id="5856087">make</span><span class="op" id="5856091">(</span><span class="op" id="5856092">[</span><span class="op" id="5856093">]</span><span class="ident" id="5856094"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5856102">,</span>&nbsp;<span class="num" id="5856104">1</span><span class="op" id="5856105">)</span>&nbsp;<span class="comment" id="5856107">//&nbsp;one&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856120">name</span>&nbsp;<span class="op" id="5856125">:=</span>&nbsp;<span class="ident" id="5856128"><a href="/encoding/gob/decode.go.html#5856032">rt</a></span><span class="op" id="5856130">.</span><span class="ident" id="5856131">String</span><span class="op" id="5856137">(</span><span class="op" id="5856138">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5856155">//&nbsp;best&nbsp;we&nbsp;can&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5856174">if</span>&nbsp;<span class="op" id="5856177">!</span><span class="ident" id="5856178"><a href="/encoding/gob/decode.go.html#5855935">dec</a></span><span class="op" id="5856181">.</span><span class="ident" id="5856182">compatibleType</span><span class="op" id="5856196">(</span><span class="ident" id="5856197"><a href="/encoding/gob/decode.go.html#5856032">rt</a></span><span class="op" id="5856199">,</span>&nbsp;<span class="ident" id="5856201"><a href="/encoding/gob/decode.go.html#5855963">remoteId</a></span><span class="op" id="5856209">,</span>&nbsp;<span class="builtinfunc" id="5856211">make</span><span class="op" id="5856215">(</span><span class="keyword" id="5856216">map</span><span class="op" id="5856219">[</span><span class="ident" id="5856220"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5856227">.</span><span class="ident" id="5856228">Type</span><span class="op" id="5856232">]</span><span class="ident" id="5856233"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5856239">)</span><span class="op" id="5856240">)</span>&nbsp;<span class="op" id="5856242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856246">remoteType</span>&nbsp;<span class="op" id="5856257">:=</span>&nbsp;<span class="ident" id="5856260"><a href="/encoding/gob/decode.go.html#5855935">dec</a></span><span class="op" id="5856263">.</span><span class="ident" id="5856264">typeString</span><span class="op" id="5856274">(</span><span class="ident" id="5856275"><a href="/encoding/gob/decode.go.html#5855963">remoteId</a></span><span class="op" id="5856283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5856287">//&nbsp;Common&nbsp;confusing&nbsp;case:&nbsp;local&nbsp;interface&nbsp;type,&nbsp;remote&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5856359">if</span>&nbsp;<span class="ident" id="5856362"><a href="/encoding/gob/decode.go.html#5855980">ut</a></span><span class="op" id="5856364">.</span><span class="ident" id="5856365">base</span><span class="op" id="5856369">.</span><span class="ident" id="5856370">Kind</span><span class="op" id="5856374">(</span><span class="op" id="5856375">)</span>&nbsp;<span class="op" id="5856377">==</span>&nbsp;<span class="ident" id="5856380"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5856387">.</span><span class="ident" id="5856388">Interface</span>&nbsp;<span class="op" id="5856398">&amp;&amp;</span>&nbsp;<span class="ident" id="5856401"><a href="/encoding/gob/decode.go.html#5855963">remoteId</a></span>&nbsp;<span class="op" id="5856410">!=</span>&nbsp;<span class="ident" id="5856413"><a href="/encoding/gob/type.go.html#5932660">tInterface</a></span>&nbsp;<span class="op" id="5856424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5856429">return</span>&nbsp;<span class="ident" id="5856436">nil</span><span class="op" id="5856439">,</span>&nbsp;<span class="ident" id="5856441"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5856447">.</span><span class="ident" id="5856448">New</span><span class="op" id="5856451">(</span><span class="string" id="5856452">&#34;gob:&nbsp;local&nbsp;interface&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5856481">+</span>&nbsp;<span class="ident" id="5856483"><a href="/encoding/gob/decode.go.html#5856120">name</a></span>&nbsp;<span class="op" id="5856488">+</span>&nbsp;<span class="string" id="5856490">&#34;&nbsp;can&nbsp;only&nbsp;be&nbsp;decoded&nbsp;from&nbsp;remote&nbsp;interface&nbsp;type;&nbsp;received&nbsp;concrete&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5856565">+</span>&nbsp;<span class="ident" id="5856567"><a href="/encoding/gob/decode.go.html#5856246">remoteType</a></span><span class="op" id="5856577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5856581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5856585">return</span>&nbsp;<span class="ident" id="5856592">nil</span><span class="op" id="5856595">,</span>&nbsp;<span class="ident" id="5856597"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5856603">.</span><span class="ident" id="5856604">New</span><span class="op" id="5856607">(</span><span class="string" id="5856608">&#34;gob:&nbsp;decoding&nbsp;into&nbsp;local&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5856641">+</span>&nbsp;<span class="ident" id="5856643"><a href="/encoding/gob/decode.go.html#5856120">name</a></span>&nbsp;<span class="op" id="5856648">+</span>&nbsp;<span class="string" id="5856650">&#34;,&nbsp;received&nbsp;remote&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5856676">+</span>&nbsp;<span class="ident" id="5856678"><a href="/encoding/gob/decode.go.html#5856246">remoteType</a></span><span class="op" id="5856688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5856691">}</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856694">op</span>&nbsp;<span class="op" id="5856697">:=</span>&nbsp;<span class="ident" id="5856700"><a href="/encoding/gob/decode.go.html#5855935">dec</a></span><span class="op" id="5856703">.</span><span class="ident" id="5856704">decOpFor</span><span class="op" id="5856712">(</span><span class="ident" id="5856713"><a href="/encoding/gob/decode.go.html#5855963">remoteId</a></span><span class="op" id="5856721">,</span>&nbsp;<span class="ident" id="5856723"><a href="/encoding/gob/decode.go.html#5856032">rt</a></span><span class="op" id="5856725">,</span>&nbsp;<span class="ident" id="5856727"><a href="/encoding/gob/decode.go.html#5856120">name</a></span><span class="op" id="5856731">,</span>&nbsp;<span class="builtinfunc" id="5856733">make</span><span class="op" id="5856737">(</span><span class="keyword" id="5856738">map</span><span class="op" id="5856741">[</span><span class="ident" id="5856742"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5856749">.</span><span class="ident" id="5856750">Type</span><span class="op" id="5856754">]</span><span class="op" id="5856755">*</span><span class="ident" id="5856756"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5856761">)</span><span class="op" id="5856762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856765">ovfl</span>&nbsp;<span class="op" id="5856770">:=</span>&nbsp;<span class="ident" id="5856773"><a href="/encoding/gob/decode.go.html#5824535">errors</a></span><span class="op" id="5856779">.</span><span class="ident" id="5856780">New</span><span class="op" id="5856783">(</span><span class="string" id="5856784">`value&nbsp;for&nbsp;&#34;`</span>&nbsp;<span class="op" id="5856798">+</span>&nbsp;<span class="ident" id="5856800"><a href="/encoding/gob/decode.go.html#5856120">name</a></span>&nbsp;<span class="op" id="5856805">+</span>&nbsp;<span class="string" id="5856807">`&#34;&nbsp;out&nbsp;of&nbsp;range`</span><span class="op" id="5856823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856826"><a href="/encoding/gob/decode.go.html#5855999">engine</a></span><span class="op" id="5856832">.</span><span class="ident" id="5856833">instr</span><span class="op" id="5856838">[</span><span class="ident" id="5856839"><a href="/encoding/gob/encode.go.html#5902767">singletonField</a></span><span class="op" id="5856853">]</span>&nbsp;<span class="op" id="5856855">=</span>&nbsp;<span class="ident" id="5856857"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5856865">{</span><span class="op" id="5856866">*</span><span class="ident" id="5856867"><a href="/encoding/gob/decode.go.html#5856694">op</a></span><span class="op" id="5856869">,</span>&nbsp;<span class="ident" id="5856871"><a href="/encoding/gob/encode.go.html#5902767">singletonField</a></span><span class="op" id="5856885">,</span>&nbsp;<span class="ident" id="5856887">nil</span><span class="op" id="5856890">,</span>&nbsp;<span class="ident" id="5856892"><a href="/encoding/gob/decode.go.html#5856765">ovfl</a></span><span class="op" id="5856896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5856899"><a href="/encoding/gob/decode.go.html#5855999">engine</a></span><span class="op" id="5856905">.</span><span class="ident" id="5856906">numInstr</span>&nbsp;<span class="op" id="5856915">=</span>&nbsp;<span class="num" id="5856917">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5856920">return</span><br>
<span class="lineno">1030</span><span class="op" id="5856927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5856930">//&nbsp;compileIgnoreSingle&nbsp;compiles&nbsp;the&nbsp;decoder&nbsp;engine&nbsp;for&nbsp;a&nbsp;non-struct&nbsp;top-level&nbsp;value&nbsp;that&nbsp;will&nbsp;be&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="keyword" id="5857038">func</span>&nbsp;<span class="op" id="5857043">(</span><span class="ident" id="5857044">dec</span>&nbsp;<span class="op" id="5857048">*</span><span class="ident" id="5857049"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5857056">)</span>&nbsp;<span class="ident" id="5857058">compileIgnoreSingle</span><span class="op" id="5857077">(</span><span class="ident" id="5857078">remoteId</span>&nbsp;<span class="ident" id="5857087"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5857093">)</span>&nbsp;<span class="op" id="5857095">(</span><span class="ident" id="5857096">engine</span>&nbsp;<span class="op" id="5857103">*</span><span class="ident" id="5857104"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5857113">,</span>&nbsp;<span class="ident" id="5857115">err</span>&nbsp;<span class="builtintype" id="5857119">error</span><span class="op" id="5857124">)</span>&nbsp;<span class="op" id="5857126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857129"><a href="/encoding/gob/decode.go.html#5857096">engine</a></span>&nbsp;<span class="op" id="5857136">=</span>&nbsp;<span class="builtinfunc" id="5857138">new</span><span class="op" id="5857141">(</span><span class="ident" id="5857142"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5857151">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857154"><a href="/encoding/gob/decode.go.html#5857096">engine</a></span><span class="op" id="5857160">.</span><span class="ident" id="5857161">instr</span>&nbsp;<span class="op" id="5857167">=</span>&nbsp;<span class="builtinfunc" id="5857169">make</span><span class="op" id="5857173">(</span><span class="op" id="5857174">[</span><span class="op" id="5857175">]</span><span class="ident" id="5857176"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5857184">,</span>&nbsp;<span class="num" id="5857186">1</span><span class="op" id="5857187">)</span>&nbsp;<span class="comment" id="5857189">//&nbsp;one&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857202">op</span>&nbsp;<span class="op" id="5857205">:=</span>&nbsp;<span class="ident" id="5857208"><a href="/encoding/gob/decode.go.html#5857044">dec</a></span><span class="op" id="5857211">.</span><span class="ident" id="5857212">decIgnoreOpFor</span><span class="op" id="5857226">(</span><span class="ident" id="5857227"><a href="/encoding/gob/decode.go.html#5857078">remoteId</a></span><span class="op" id="5857235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857238">ovfl</span>&nbsp;<span class="op" id="5857243">:=</span>&nbsp;<span class="ident" id="5857246"><a href="/encoding/gob/decode.go.html#5826892">overflow</a></span><span class="op" id="5857254">(</span><span class="ident" id="5857255"><a href="/encoding/gob/decode.go.html#5857044">dec</a></span><span class="op" id="5857258">.</span><span class="ident" id="5857259">typeString</span><span class="op" id="5857269">(</span><span class="ident" id="5857270"><a href="/encoding/gob/decode.go.html#5857078">remoteId</a></span><span class="op" id="5857278">)</span><span class="op" id="5857279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857282"><a href="/encoding/gob/decode.go.html#5857096">engine</a></span><span class="op" id="5857288">.</span><span class="ident" id="5857289">instr</span><span class="op" id="5857294">[</span><span class="num" id="5857295">0</span><span class="op" id="5857296">]</span>&nbsp;<span class="op" id="5857298">=</span>&nbsp;<span class="ident" id="5857300"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5857308">{</span><span class="ident" id="5857309"><a href="/encoding/gob/decode.go.html#5857202">op</a></span><span class="op" id="5857311">,</span>&nbsp;<span class="num" id="5857313">0</span><span class="op" id="5857314">,</span>&nbsp;<span class="ident" id="5857316">nil</span><span class="op" id="5857319">,</span>&nbsp;<span class="ident" id="5857321"><a href="/encoding/gob/decode.go.html#5857238">ovfl</a></span><span class="op" id="5857325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857328"><a href="/encoding/gob/decode.go.html#5857096">engine</a></span><span class="op" id="5857334">.</span><span class="ident" id="5857335">numInstr</span>&nbsp;<span class="op" id="5857344">=</span>&nbsp;<span class="num" id="5857346">1</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5857349">return</span><br>
<span class="lineno"></span><span class="op" id="5857356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5857359">//&nbsp;compileDec&nbsp;compiles&nbsp;the&nbsp;decoder&nbsp;engine&nbsp;for&nbsp;a&nbsp;value.&nbsp;&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;struct,</span><br>
<span class="lineno"></span><span class="comment" id="5857445">//&nbsp;it&nbsp;calls&nbsp;out&nbsp;to&nbsp;compileSingle.</span><br>
<span class="lineno">1045</span><span class="keyword" id="5857479">func</span>&nbsp;<span class="op" id="5857484">(</span><span class="ident" id="5857485">dec</span>&nbsp;<span class="op" id="5857489">*</span><span class="ident" id="5857490"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5857497">)</span>&nbsp;<span class="ident" id="5857499">compileDec</span><span class="op" id="5857509">(</span><span class="ident" id="5857510">remoteId</span>&nbsp;<span class="ident" id="5857519"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5857525">,</span>&nbsp;<span class="ident" id="5857527">ut</span>&nbsp;<span class="op" id="5857530">*</span><span class="ident" id="5857531"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5857543">)</span>&nbsp;<span class="op" id="5857545">(</span><span class="ident" id="5857546">engine</span>&nbsp;<span class="op" id="5857553">*</span><span class="ident" id="5857554"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5857563">,</span>&nbsp;<span class="ident" id="5857565">err</span>&nbsp;<span class="builtintype" id="5857569">error</span><span class="op" id="5857574">)</span>&nbsp;<span class="op" id="5857576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857579">rt</span>&nbsp;<span class="op" id="5857582">:=</span>&nbsp;<span class="ident" id="5857585"><a href="/encoding/gob/decode.go.html#5857527">ut</a></span><span class="op" id="5857587">.</span><span class="ident" id="5857588">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857594">srt</span>&nbsp;<span class="op" id="5857598">:=</span>&nbsp;<span class="ident" id="5857601"><a href="/encoding/gob/decode.go.html#5857579">rt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5857605">if</span>&nbsp;<span class="ident" id="5857608"><a href="/encoding/gob/decode.go.html#5857594">srt</a></span><span class="op" id="5857611">.</span><span class="ident" id="5857612">Kind</span><span class="op" id="5857616">(</span><span class="op" id="5857617">)</span>&nbsp;<span class="op" id="5857619">!=</span>&nbsp;<span class="ident" id="5857622"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5857629">.</span><span class="ident" id="5857630">Struct</span>&nbsp;<span class="op" id="5857637">||</span>&nbsp;<span class="ident" id="5857640"><a href="/encoding/gob/decode.go.html#5857527">ut</a></span><span class="op" id="5857642">.</span><span class="ident" id="5857643">externalDec</span>&nbsp;<span class="op" id="5857655">!=</span>&nbsp;<span class="num" id="5857658">0</span>&nbsp;<span class="op" id="5857660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5857664">return</span>&nbsp;<span class="ident" id="5857671"><a href="/encoding/gob/decode.go.html#5857485">dec</a></span><span class="op" id="5857674">.</span><span class="ident" id="5857675">compileSingle</span><span class="op" id="5857688">(</span><span class="ident" id="5857689"><a href="/encoding/gob/decode.go.html#5857510">remoteId</a></span><span class="op" id="5857697">,</span>&nbsp;<span class="ident" id="5857699"><a href="/encoding/gob/decode.go.html#5857527">ut</a></span><span class="op" id="5857701">)</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5857704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5857707">var</span>&nbsp;<span class="ident" id="5857711">wireStruct</span>&nbsp;<span class="op" id="5857722">*</span><span class="ident" id="5857723"><a href="/encoding/gob/type.go.html#5936823">structType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5857735">//&nbsp;Builtin&nbsp;types&nbsp;can&nbsp;come&nbsp;from&nbsp;global&nbsp;pool;&nbsp;the&nbsp;rest&nbsp;must&nbsp;be&nbsp;defined&nbsp;by&nbsp;the&nbsp;decoder.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5857821">//&nbsp;Also&nbsp;we&nbsp;know&nbsp;we&#39;re&nbsp;decoding&nbsp;a&nbsp;struct&nbsp;now,&nbsp;so&nbsp;the&nbsp;client&nbsp;must&nbsp;have&nbsp;sent&nbsp;one.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5857901">if</span>&nbsp;<span class="ident" id="5857904">t</span><span class="op" id="5857905">,</span>&nbsp;<span class="ident" id="5857907">ok</span>&nbsp;<span class="op" id="5857910">:=</span>&nbsp;<span class="ident" id="5857913"><a href="/encoding/gob/type.go.html#5930681">builtinIdToType</a></span><span class="op" id="5857928">[</span><span class="ident" id="5857929"><a href="/encoding/gob/decode.go.html#5857510">remoteId</a></span><span class="op" id="5857937">]</span><span class="op" id="5857938">;</span>&nbsp;<span class="ident" id="5857940"><a href="/encoding/gob/decode.go.html#5857907">ok</a></span>&nbsp;<span class="op" id="5857943">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857947"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span><span class="op" id="5857957">,</span>&nbsp;<span class="ident" id="5857959">_</span>&nbsp;<span class="op" id="5857961">=</span>&nbsp;<span class="ident" id="5857963"><a href="/encoding/gob/decode.go.html#5857904">t</a></span><span class="op" id="5857964">.</span><span class="op" id="5857965">(</span><span class="op" id="5857966">*</span><span class="ident" id="5857967"><a href="/encoding/gob/type.go.html#5936823">structType</a></span><span class="op" id="5857977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5857980">}</span>&nbsp;<span class="keyword" id="5857982">else</span>&nbsp;<span class="op" id="5857987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5857991">wire</span>&nbsp;<span class="op" id="5857996">:=</span>&nbsp;<span class="ident" id="5857999"><a href="/encoding/gob/decode.go.html#5857485">dec</a></span><span class="op" id="5858002">.</span><span class="ident" id="5858003">wireType</span><span class="op" id="5858011">[</span><span class="ident" id="5858012"><a href="/encoding/gob/decode.go.html#5857510">remoteId</a></span><span class="op" id="5858020">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858024">if</span>&nbsp;<span class="ident" id="5858027"><a href="/encoding/gob/decode.go.html#5857991">wire</a></span>&nbsp;<span class="op" id="5858032">==</span>&nbsp;<span class="ident" id="5858035">nil</span>&nbsp;<span class="op" id="5858039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858044"><a href="/encoding/gob/error.go.html#5924211">error_</a></span><span class="op" id="5858050">(</span><span class="ident" id="5858051"><a href="/encoding/gob/decode.go.html#5824650">errBadType</a></span><span class="op" id="5858061">)</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5858065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858069"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span>&nbsp;<span class="op" id="5858080">=</span>&nbsp;<span class="ident" id="5858082"><a href="/encoding/gob/decode.go.html#5857991">wire</a></span><span class="op" id="5858086">.</span><span class="ident" id="5858087">StructT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5858096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858099">if</span>&nbsp;<span class="ident" id="5858102"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span>&nbsp;<span class="op" id="5858113">==</span>&nbsp;<span class="ident" id="5858116">nil</span>&nbsp;<span class="op" id="5858120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858124"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5858130">(</span><span class="string" id="5858131">&#34;type&nbsp;mismatch&nbsp;in&nbsp;decoder:&nbsp;want&nbsp;struct&nbsp;type&nbsp;%s;&nbsp;got&nbsp;non-struct&#34;</span><span class="op" id="5858194">,</span>&nbsp;<span class="ident" id="5858196"><a href="/encoding/gob/decode.go.html#5857579">rt</a></span><span class="op" id="5858198">)</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5858201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858204"><a href="/encoding/gob/decode.go.html#5857546">engine</a></span>&nbsp;<span class="op" id="5858211">=</span>&nbsp;<span class="builtinfunc" id="5858213">new</span><span class="op" id="5858216">(</span><span class="ident" id="5858217"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5858226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858229"><a href="/encoding/gob/decode.go.html#5857546">engine</a></span><span class="op" id="5858235">.</span><span class="ident" id="5858236">instr</span>&nbsp;<span class="op" id="5858242">=</span>&nbsp;<span class="builtinfunc" id="5858244">make</span><span class="op" id="5858248">(</span><span class="op" id="5858249">[</span><span class="op" id="5858250">]</span><span class="ident" id="5858251"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5858259">,</span>&nbsp;<span class="builtinfunc" id="5858261">len</span><span class="op" id="5858264">(</span><span class="ident" id="5858265"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span><span class="op" id="5858275">.</span><span class="ident" id="5858276">Field</span><span class="op" id="5858281">)</span><span class="op" id="5858282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858285">seen</span>&nbsp;<span class="op" id="5858290">:=</span>&nbsp;<span class="builtinfunc" id="5858293">make</span><span class="op" id="5858297">(</span><span class="keyword" id="5858298">map</span><span class="op" id="5858301">[</span><span class="ident" id="5858302"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5858309">.</span><span class="ident" id="5858310">Type</span><span class="op" id="5858314">]</span><span class="op" id="5858315">*</span><span class="ident" id="5858316"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><span class="op" id="5858321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5858324">//&nbsp;Loop&nbsp;over&nbsp;the&nbsp;fields&nbsp;of&nbsp;the&nbsp;wire&nbsp;type.</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858367">for</span>&nbsp;<span class="ident" id="5858371">fieldnum</span>&nbsp;<span class="op" id="5858380">:=</span>&nbsp;<span class="num" id="5858383">0</span><span class="op" id="5858384">;</span>&nbsp;<span class="ident" id="5858386"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span>&nbsp;<span class="op" id="5858395">&lt;</span>&nbsp;<span class="builtinfunc" id="5858397">len</span><span class="op" id="5858400">(</span><span class="ident" id="5858401"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span><span class="op" id="5858411">.</span><span class="ident" id="5858412">Field</span><span class="op" id="5858417">)</span><span class="op" id="5858418">;</span>&nbsp;<span class="ident" id="5858420"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span><span class="op" id="5858428">++</span>&nbsp;<span class="op" id="5858431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858435">wireField</span>&nbsp;<span class="op" id="5858445">:=</span>&nbsp;<span class="ident" id="5858448"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span><span class="op" id="5858458">.</span><span class="ident" id="5858459">Field</span><span class="op" id="5858464">[</span><span class="ident" id="5858465"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span><span class="op" id="5858473">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858477">if</span>&nbsp;<span class="ident" id="5858480"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5858489">.</span><span class="ident" id="5858490">Name</span>&nbsp;<span class="op" id="5858495">==</span>&nbsp;<span class="string" id="5858498">&#34;&#34;</span>&nbsp;<span class="op" id="5858501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858506"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5858512">(</span><span class="string" id="5858513">&#34;empty&nbsp;name&nbsp;for&nbsp;remote&nbsp;field&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="5858553">,</span>&nbsp;<span class="ident" id="5858555"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span><span class="op" id="5858565">.</span><span class="ident" id="5858566">Name</span><span class="op" id="5858570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5858574">}</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858578">ovfl</span>&nbsp;<span class="op" id="5858583">:=</span>&nbsp;<span class="ident" id="5858586"><a href="/encoding/gob/decode.go.html#5826892">overflow</a></span><span class="op" id="5858594">(</span><span class="ident" id="5858595"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5858604">.</span><span class="ident" id="5858605">Name</span><span class="op" id="5858609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5858613">//&nbsp;Find&nbsp;the&nbsp;field&nbsp;of&nbsp;the&nbsp;local&nbsp;type&nbsp;with&nbsp;the&nbsp;same&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858671">localField</span><span class="op" id="5858681">,</span>&nbsp;<span class="ident" id="5858683">present</span>&nbsp;<span class="op" id="5858691">:=</span>&nbsp;<span class="ident" id="5858694"><a href="/encoding/gob/decode.go.html#5857594">srt</a></span><span class="op" id="5858697">.</span><span class="ident" id="5858698">FieldByName</span><span class="op" id="5858709">(</span><span class="ident" id="5858710"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5858719">.</span><span class="ident" id="5858720">Name</span><span class="op" id="5858724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5858728">//&nbsp;TODO(r):&nbsp;anonymous&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858758">if</span>&nbsp;<span class="op" id="5858761">!</span><span class="ident" id="5858762"><a href="/encoding/gob/decode.go.html#5858683">present</a></span>&nbsp;<span class="op" id="5858770">||</span>&nbsp;<span class="op" id="5858773">!</span><span class="ident" id="5858774"><a href="/encoding/gob/type.go.html#5941098">isExported</a></span><span class="op" id="5858784">(</span><span class="ident" id="5858785"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5858794">.</span><span class="ident" id="5858795">Name</span><span class="op" id="5858799">)</span>&nbsp;<span class="op" id="5858801">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858806">op</span>&nbsp;<span class="op" id="5858809">:=</span>&nbsp;<span class="ident" id="5858812"><a href="/encoding/gob/decode.go.html#5857485">dec</a></span><span class="op" id="5858815">.</span><span class="ident" id="5858816">decIgnoreOpFor</span><span class="op" id="5858830">(</span><span class="ident" id="5858831"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5858840">.</span><span class="ident" id="5858841">Id</span><span class="op" id="5858843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5858848"><a href="/encoding/gob/decode.go.html#5857546">engine</a></span><span class="op" id="5858854">.</span><span class="ident" id="5858855">instr</span><span class="op" id="5858860">[</span><span class="ident" id="5858861"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span><span class="op" id="5858869">]</span>&nbsp;<span class="op" id="5858871">=</span>&nbsp;<span class="ident" id="5858873"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5858881">{</span><span class="ident" id="5858882"><a href="/encoding/gob/decode.go.html#5858806">op</a></span><span class="op" id="5858884">,</span>&nbsp;<span class="ident" id="5858886"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span><span class="op" id="5858894">,</span>&nbsp;<span class="ident" id="5858896">nil</span><span class="op" id="5858899">,</span>&nbsp;<span class="ident" id="5858901"><a href="/encoding/gob/decode.go.html#5858578">ovfl</a></span><span class="op" id="5858905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858910">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5858921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5858925">if</span>&nbsp;<span class="op" id="5858928">!</span><span class="ident" id="5858929"><a href="/encoding/gob/decode.go.html#5857485">dec</a></span><span class="op" id="5858932">.</span><span class="ident" id="5858933">compatibleType</span><span class="op" id="5858947">(</span><span class="ident" id="5858948"><a href="/encoding/gob/decode.go.html#5858671">localField</a></span><span class="op" id="5858958">.</span><span class="ident" id="5858959">Type</span><span class="op" id="5858963">,</span>&nbsp;<span class="ident" id="5858965"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5858974">.</span><span class="ident" id="5858975">Id</span><span class="op" id="5858977">,</span>&nbsp;<span class="builtinfunc" id="5858979">make</span><span class="op" id="5858983">(</span><span class="keyword" id="5858984">map</span><span class="op" id="5858987">[</span><span class="ident" id="5858988"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5858995">.</span><span class="ident" id="5858996">Type</span><span class="op" id="5859000">]</span><span class="ident" id="5859001"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5859007">)</span><span class="op" id="5859008">)</span>&nbsp;<span class="op" id="5859010">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859015"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5859021">(</span><span class="string" id="5859022">&#34;wrong&nbsp;type&nbsp;(%s)&nbsp;for&nbsp;received&nbsp;field&nbsp;%s.%s&#34;</span><span class="op" id="5859064">,</span>&nbsp;<span class="ident" id="5859066"><a href="/encoding/gob/decode.go.html#5858671">localField</a></span><span class="op" id="5859076">.</span><span class="ident" id="5859077">Type</span><span class="op" id="5859081">,</span>&nbsp;<span class="ident" id="5859083"><a href="/encoding/gob/decode.go.html#5857711">wireStruct</a></span><span class="op" id="5859093">.</span><span class="ident" id="5859094">Name</span><span class="op" id="5859098">,</span>&nbsp;<span class="ident" id="5859100"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5859109">.</span><span class="ident" id="5859110">Name</span><span class="op" id="5859114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5859118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859122">op</span>&nbsp;<span class="op" id="5859125">:=</span>&nbsp;<span class="ident" id="5859128"><a href="/encoding/gob/decode.go.html#5857485">dec</a></span><span class="op" id="5859131">.</span><span class="ident" id="5859132">decOpFor</span><span class="op" id="5859140">(</span><span class="ident" id="5859141"><a href="/encoding/gob/decode.go.html#5858435">wireField</a></span><span class="op" id="5859150">.</span><span class="ident" id="5859151">Id</span><span class="op" id="5859153">,</span>&nbsp;<span class="ident" id="5859155"><a href="/encoding/gob/decode.go.html#5858671">localField</a></span><span class="op" id="5859165">.</span><span class="ident" id="5859166">Type</span><span class="op" id="5859170">,</span>&nbsp;<span class="ident" id="5859172"><a href="/encoding/gob/decode.go.html#5858671">localField</a></span><span class="op" id="5859182">.</span><span class="ident" id="5859183">Name</span><span class="op" id="5859187">,</span>&nbsp;<span class="ident" id="5859189"><a href="/encoding/gob/decode.go.html#5858285">seen</a></span><span class="op" id="5859193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859197"><a href="/encoding/gob/decode.go.html#5857546">engine</a></span><span class="op" id="5859203">.</span><span class="ident" id="5859204">instr</span><span class="op" id="5859209">[</span><span class="ident" id="5859210"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span><span class="op" id="5859218">]</span>&nbsp;<span class="op" id="5859220">=</span>&nbsp;<span class="ident" id="5859222"><a href="/encoding/gob/decode.go.html#5828710">decInstr</a></span><span class="op" id="5859230">{</span><span class="op" id="5859231">*</span><span class="ident" id="5859232"><a href="/encoding/gob/decode.go.html#5859122">op</a></span><span class="op" id="5859234">,</span>&nbsp;<span class="ident" id="5859236"><a href="/encoding/gob/decode.go.html#5858371">fieldnum</a></span><span class="op" id="5859244">,</span>&nbsp;<span class="ident" id="5859246"><a href="/encoding/gob/decode.go.html#5858671">localField</a></span><span class="op" id="5859256">.</span><span class="ident" id="5859257">Index</span><span class="op" id="5859262">,</span>&nbsp;<span class="ident" id="5859264"><a href="/encoding/gob/decode.go.html#5858578">ovfl</a></span><span class="op" id="5859268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859272"><a href="/encoding/gob/decode.go.html#5857546">engine</a></span><span class="op" id="5859278">.</span><span class="ident" id="5859279">numInstr</span><span class="op" id="5859287">++</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5859291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5859294">return</span><br>
<span class="lineno"></span><span class="op" id="5859301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5859304">//&nbsp;getDecEnginePtr&nbsp;returns&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;specified&nbsp;type.</span><br>
<span class="lineno">1095</span><span class="keyword" id="5859366">func</span>&nbsp;<span class="op" id="5859371">(</span><span class="ident" id="5859372">dec</span>&nbsp;<span class="op" id="5859376">*</span><span class="ident" id="5859377"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5859384">)</span>&nbsp;<span class="ident" id="5859386">getDecEnginePtr</span><span class="op" id="5859401">(</span><span class="ident" id="5859402">remoteId</span>&nbsp;<span class="ident" id="5859411"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5859417">,</span>&nbsp;<span class="ident" id="5859419">ut</span>&nbsp;<span class="op" id="5859422">*</span><span class="ident" id="5859423"><a href="/encoding/gob/type.go.html#5925033">userTypeInfo</a></span><span class="op" id="5859435">)</span>&nbsp;<span class="op" id="5859437">(</span><span class="ident" id="5859438">enginePtr</span>&nbsp;<span class="op" id="5859448">*</span><span class="op" id="5859449">*</span><span class="ident" id="5859450"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5859459">,</span>&nbsp;<span class="ident" id="5859461">err</span>&nbsp;<span class="builtintype" id="5859465">error</span><span class="op" id="5859470">)</span>&nbsp;<span class="op" id="5859472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859475">rt</span>&nbsp;<span class="op" id="5859478">:=</span>&nbsp;<span class="ident" id="5859481"><a href="/encoding/gob/decode.go.html#5859419">ut</a></span><span class="op" id="5859483">.</span><span class="ident" id="5859484">user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859490">decoderMap</span><span class="op" id="5859500">,</span>&nbsp;<span class="ident" id="5859502">ok</span>&nbsp;<span class="op" id="5859505">:=</span>&nbsp;<span class="ident" id="5859508"><a href="/encoding/gob/decode.go.html#5859372">dec</a></span><span class="op" id="5859511">.</span><span class="ident" id="5859512">decoderCache</span><span class="op" id="5859524">[</span><span class="ident" id="5859525"><a href="/encoding/gob/decode.go.html#5859475">rt</a></span><span class="op" id="5859527">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5859530">if</span>&nbsp;<span class="op" id="5859533">!</span><span class="ident" id="5859534"><a href="/encoding/gob/decode.go.html#5859502">ok</a></span>&nbsp;<span class="op" id="5859537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859541"><a href="/encoding/gob/decode.go.html#5859490">decoderMap</a></span>&nbsp;<span class="op" id="5859552">=</span>&nbsp;<span class="builtinfunc" id="5859554">make</span><span class="op" id="5859558">(</span><span class="keyword" id="5859559">map</span><span class="op" id="5859562">[</span><span class="ident" id="5859563"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5859569">]</span><span class="op" id="5859570">*</span><span class="op" id="5859571">*</span><span class="ident" id="5859572"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5859581">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859585"><a href="/encoding/gob/decode.go.html#5859372">dec</a></span><span class="op" id="5859588">.</span><span class="ident" id="5859589">decoderCache</span><span class="op" id="5859601">[</span><span class="ident" id="5859602"><a href="/encoding/gob/decode.go.html#5859475">rt</a></span><span class="op" id="5859604">]</span>&nbsp;<span class="op" id="5859606">=</span>&nbsp;<span class="ident" id="5859608"><a href="/encoding/gob/decode.go.html#5859490">decoderMap</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5859620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5859623">if</span>&nbsp;<span class="ident" id="5859626"><a href="/encoding/gob/decode.go.html#5859438">enginePtr</a></span><span class="op" id="5859635">,</span>&nbsp;<span class="ident" id="5859637"><a href="/encoding/gob/decode.go.html#5859502">ok</a></span>&nbsp;<span class="op" id="5859640">=</span>&nbsp;<span class="ident" id="5859642"><a href="/encoding/gob/decode.go.html#5859490">decoderMap</a></span><span class="op" id="5859652">[</span><span class="ident" id="5859653"><a href="/encoding/gob/decode.go.html#5859402">remoteId</a></span><span class="op" id="5859661">]</span><span class="op" id="5859662">;</span>&nbsp;<span class="op" id="5859664">!</span><span class="ident" id="5859665"><a href="/encoding/gob/decode.go.html#5859502">ok</a></span>&nbsp;<span class="op" id="5859668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5859672">//&nbsp;To&nbsp;handle&nbsp;recursive&nbsp;types,&nbsp;mark&nbsp;this&nbsp;engine&nbsp;as&nbsp;underway&nbsp;before&nbsp;compiling.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859751"><a href="/encoding/gob/decode.go.html#5859438">enginePtr</a></span>&nbsp;<span class="op" id="5859761">=</span>&nbsp;<span class="builtinfunc" id="5859763">new</span><span class="op" id="5859766">(</span><span class="op" id="5859767">*</span><span class="ident" id="5859768"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5859777">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5859781"><a href="/encoding/gob/decode.go.html#5859490">decoderMap</a></span><span class="op" id="5859791">[</span><span class="ident" id="5859792"><a href="/encoding/gob/decode.go.html#5859402">remoteId</a></span><span class="op" id="5859800">]</span>&nbsp;<span class="op" id="5859802">=</span>&nbsp;<span class="ident" id="5859804"><a href="/encoding/gob/decode.go.html#5859438">enginePtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5859816">*</span><span class="ident" id="5859817"><a href="/encoding/gob/decode.go.html#5859438">enginePtr</a></span><span class="op" id="5859826">,</span>&nbsp;<span class="ident" id="5859828"><a href="/encoding/gob/decode.go.html#5859461">err</a></span>&nbsp;<span class="op" id="5859832">=</span>&nbsp;<span class="ident" id="5859834"><a href="/encoding/gob/decode.go.html#5859372">dec</a></span><span class="op" id="5859837">.</span><span class="ident" id="5859838">compileDec</span><span class="op" id="5859848">(</span><span class="ident" id="5859849"><a href="/encoding/gob/decode.go.html#5859402">remoteId</a></span><span class="op" id="5859857">,</span>&nbsp;<span class="ident" id="5859859"><a href="/encoding/gob/decode.go.html#5859419">ut</a></span><span class="op" id="5859861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5859865">if</span>&nbsp;<span class="ident" id="5859868"><a href="/encoding/gob/decode.go.html#5859461">err</a></span>&nbsp;<span class="op" id="5859872">!=</span>&nbsp;<span class="ident" id="5859875">nil</span>&nbsp;<span class="op" id="5859879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5859884">delete</span><span class="op" id="5859890">(</span><span class="ident" id="5859891"><a href="/encoding/gob/decode.go.html#5859490">decoderMap</a></span><span class="op" id="5859901">,</span>&nbsp;<span class="ident" id="5859903"><a href="/encoding/gob/decode.go.html#5859402">remoteId</a></span><span class="op" id="5859911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5859915">}</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5859918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5859921">return</span><br>
<span class="lineno"></span><span class="op" id="5859928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5859931">//&nbsp;emptyStruct&nbsp;is&nbsp;the&nbsp;type&nbsp;we&nbsp;compile&nbsp;into&nbsp;when&nbsp;ignoring&nbsp;a&nbsp;struct&nbsp;value.</span><br>
<span class="lineno">1115</span><span class="keyword" id="5860004">type</span>&nbsp;<span class="ident" id="5860009">emptyStruct</span>&nbsp;<span class="keyword" id="5860021">struct</span><span class="op" id="5860027">{</span><span class="op" id="5860028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5860031">var</span>&nbsp;<span class="ident" id="5860035">emptyStructType</span>&nbsp;<span class="op" id="5860051">=</span>&nbsp;<span class="ident" id="5860053"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5860060">.</span><span class="ident" id="5860061">TypeOf</span><span class="op" id="5860067">(</span><span class="ident" id="5860068"><a href="/encoding/gob/decode.go.html#5860009">emptyStruct</a></span><span class="op" id="5860079">{</span><span class="op" id="5860080">}</span><span class="op" id="5860081">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5860084">//&nbsp;getDecEnginePtr&nbsp;returns&nbsp;the&nbsp;engine&nbsp;for&nbsp;the&nbsp;specified&nbsp;type&nbsp;when&nbsp;the&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;discarded.</span><br>
<span class="lineno">1120</span><span class="keyword" id="5860180">func</span>&nbsp;<span class="op" id="5860185">(</span><span class="ident" id="5860186">dec</span>&nbsp;<span class="op" id="5860190">*</span><span class="ident" id="5860191"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5860198">)</span>&nbsp;<span class="ident" id="5860200">getIgnoreEnginePtr</span><span class="op" id="5860218">(</span><span class="ident" id="5860219">wireId</span>&nbsp;<span class="ident" id="5860226"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5860232">)</span>&nbsp;<span class="op" id="5860234">(</span><span class="ident" id="5860235">enginePtr</span>&nbsp;<span class="op" id="5860245">*</span><span class="op" id="5860246">*</span><span class="ident" id="5860247"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5860256">,</span>&nbsp;<span class="ident" id="5860258">err</span>&nbsp;<span class="builtintype" id="5860262">error</span><span class="op" id="5860267">)</span>&nbsp;<span class="op" id="5860269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5860272">var</span>&nbsp;<span class="ident" id="5860276">ok</span>&nbsp;<span class="builtintype" id="5860279">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5860285">if</span>&nbsp;<span class="ident" id="5860288"><a href="/encoding/gob/decode.go.html#5860235">enginePtr</a></span><span class="op" id="5860297">,</span>&nbsp;<span class="ident" id="5860299"><a href="/encoding/gob/decode.go.html#5860276">ok</a></span>&nbsp;<span class="op" id="5860302">=</span>&nbsp;<span class="ident" id="5860304"><a href="/encoding/gob/decode.go.html#5860186">dec</a></span><span class="op" id="5860307">.</span><span class="ident" id="5860308">ignorerCache</span><span class="op" id="5860320">[</span><span class="ident" id="5860321"><a href="/encoding/gob/decode.go.html#5860219">wireId</a></span><span class="op" id="5860327">]</span><span class="op" id="5860328">;</span>&nbsp;<span class="op" id="5860330">!</span><span class="ident" id="5860331"><a href="/encoding/gob/decode.go.html#5860276">ok</a></span>&nbsp;<span class="op" id="5860334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5860338">//&nbsp;To&nbsp;handle&nbsp;recursive&nbsp;types,&nbsp;mark&nbsp;this&nbsp;engine&nbsp;as&nbsp;underway&nbsp;before&nbsp;compiling.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5860417"><a href="/encoding/gob/decode.go.html#5860235">enginePtr</a></span>&nbsp;<span class="op" id="5860427">=</span>&nbsp;<span class="builtinfunc" id="5860429">new</span><span class="op" id="5860432">(</span><span class="op" id="5860433">*</span><span class="ident" id="5860434"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><span class="op" id="5860443">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5860447"><a href="/encoding/gob/decode.go.html#5860186">dec</a></span><span class="op" id="5860450">.</span><span class="ident" id="5860451">ignorerCache</span><span class="op" id="5860463">[</span><span class="ident" id="5860464"><a href="/encoding/gob/decode.go.html#5860219">wireId</a></span><span class="op" id="5860470">]</span>&nbsp;<span class="op" id="5860472">=</span>&nbsp;<span class="ident" id="5860474"><a href="/encoding/gob/decode.go.html#5860235">enginePtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5860486">wire</span>&nbsp;<span class="op" id="5860491">:=</span>&nbsp;<span class="ident" id="5860494"><a href="/encoding/gob/decode.go.html#5860186">dec</a></span><span class="op" id="5860497">.</span><span class="ident" id="5860498">wireType</span><span class="op" id="5860506">[</span><span class="ident" id="5860507"><a href="/encoding/gob/decode.go.html#5860219">wireId</a></span><span class="op" id="5860513">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5860517">if</span>&nbsp;<span class="ident" id="5860520"><a href="/encoding/gob/decode.go.html#5860486">wire</a></span>&nbsp;<span class="op" id="5860525">!=</span>&nbsp;<span class="ident" id="5860528">nil</span>&nbsp;<span class="op" id="5860532">&amp;&amp;</span>&nbsp;<span class="ident" id="5860535"><a href="/encoding/gob/decode.go.html#5860486">wire</a></span><span class="op" id="5860539">.</span><span class="ident" id="5860540">StructT</span>&nbsp;<span class="op" id="5860548">!=</span>&nbsp;<span class="ident" id="5860551">nil</span>&nbsp;<span class="op" id="5860555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5860560">*</span><span class="ident" id="5860561"><a href="/encoding/gob/decode.go.html#5860235">enginePtr</a></span><span class="op" id="5860570">,</span>&nbsp;<span class="ident" id="5860572"><a href="/encoding/gob/decode.go.html#5860258">err</a></span>&nbsp;<span class="op" id="5860576">=</span>&nbsp;<span class="ident" id="5860578"><a href="/encoding/gob/decode.go.html#5860186">dec</a></span><span class="op" id="5860581">.</span><span class="ident" id="5860582">compileDec</span><span class="op" id="5860592">(</span><span class="ident" id="5860593"><a href="/encoding/gob/decode.go.html#5860219">wireId</a></span><span class="op" id="5860599">,</span>&nbsp;<span class="ident" id="5860601"><a href="/encoding/gob/type.go.html#5929943">userType</a></span><span class="op" id="5860609">(</span><span class="ident" id="5860610"><a href="/encoding/gob/decode.go.html#5860035">emptyStructType</a></span><span class="op" id="5860625">)</span><span class="op" id="5860626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5860630">}</span>&nbsp;<span class="keyword" id="5860632">else</span>&nbsp;<span class="op" id="5860637">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5860642">*</span><span class="ident" id="5860643"><a href="/encoding/gob/decode.go.html#5860235">enginePtr</a></span><span class="op" id="5860652">,</span>&nbsp;<span class="ident" id="5860654"><a href="/encoding/gob/decode.go.html#5860258">err</a></span>&nbsp;<span class="op" id="5860658">=</span>&nbsp;<span class="ident" id="5860660"><a href="/encoding/gob/decode.go.html#5860186">dec</a></span><span class="op" id="5860663">.</span><span class="ident" id="5860664">compileIgnoreSingle</span><span class="op" id="5860683">(</span><span class="ident" id="5860684"><a href="/encoding/gob/decode.go.html#5860219">wireId</a></span><span class="op" id="5860690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5860694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5860698">if</span>&nbsp;<span class="ident" id="5860701"><a href="/encoding/gob/decode.go.html#5860258">err</a></span>&nbsp;<span class="op" id="5860705">!=</span>&nbsp;<span class="ident" id="5860708">nil</span>&nbsp;<span class="op" id="5860712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5860717">delete</span><span class="op" id="5860723">(</span><span class="ident" id="5860724"><a href="/encoding/gob/decode.go.html#5860186">dec</a></span><span class="op" id="5860727">.</span><span class="ident" id="5860728">ignorerCache</span><span class="op" id="5860740">,</span>&nbsp;<span class="ident" id="5860742"><a href="/encoding/gob/decode.go.html#5860219">wireId</a></span><span class="op" id="5860748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5860752">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5860755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5860758">return</span><br>
<span class="lineno"></span><span class="op" id="5860765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5860768">//&nbsp;decodeValue&nbsp;decodes&nbsp;the&nbsp;data&nbsp;stream&nbsp;representing&nbsp;a&nbsp;value&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;value.</span><br>
<span class="lineno">1140</span><span class="keyword" id="5860852">func</span>&nbsp;<span class="op" id="5860857">(</span><span class="ident" id="5860858">dec</span>&nbsp;<span class="op" id="5860862">*</span><span class="ident" id="5860863"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5860870">)</span>&nbsp;<span class="ident" id="5860872">decodeValue</span><span class="op" id="5860883">(</span><span class="ident" id="5860884">wireId</span>&nbsp;<span class="ident" id="5860891"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5860897">,</span>&nbsp;<span class="ident" id="5860899">value</span>&nbsp;<span class="ident" id="5860905"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5860912">.</span><span class="ident" id="5860913">Value</span><span class="op" id="5860918">)</span>&nbsp;<span class="op" id="5860920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5860923">defer</span>&nbsp;<span class="ident" id="5860929"><a href="/encoding/gob/error.go.html#5924439">catchError</a></span><span class="op" id="5860939">(</span><span class="op" id="5860940">&amp;</span><span class="ident" id="5860941"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5860944">.</span><span class="ident" id="5860945">err</span><span class="op" id="5860948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5860951">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;nil,&nbsp;it&nbsp;means&nbsp;we&nbsp;should&nbsp;just&nbsp;ignore&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861018">if</span>&nbsp;<span class="op" id="5861021">!</span><span class="ident" id="5861022"><a href="/encoding/gob/decode.go.html#5860899">value</a></span><span class="op" id="5861027">.</span><span class="ident" id="5861028">IsValid</span><span class="op" id="5861035">(</span><span class="op" id="5861036">)</span>&nbsp;<span class="op" id="5861038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861042"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861045">.</span><span class="ident" id="5861046">decodeIgnoredValue</span><span class="op" id="5861064">(</span><span class="ident" id="5861065"><a href="/encoding/gob/decode.go.html#5860884">wireId</a></span><span class="op" id="5861071">)</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861075">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5861083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5861086">//&nbsp;Dereference&nbsp;down&nbsp;to&nbsp;the&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861131">ut</span>&nbsp;<span class="op" id="5861134">:=</span>&nbsp;<span class="ident" id="5861137"><a href="/encoding/gob/type.go.html#5929943">userType</a></span><span class="op" id="5861145">(</span><span class="ident" id="5861146"><a href="/encoding/gob/decode.go.html#5860899">value</a></span><span class="op" id="5861151">.</span><span class="ident" id="5861152">Type</span><span class="op" id="5861156">(</span><span class="op" id="5861157">)</span><span class="op" id="5861158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861161">base</span>&nbsp;<span class="op" id="5861166">:=</span>&nbsp;<span class="ident" id="5861169"><a href="/encoding/gob/decode.go.html#5861131">ut</a></span><span class="op" id="5861171">.</span><span class="ident" id="5861172">base</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861178">var</span>&nbsp;<span class="ident" id="5861182">enginePtr</span>&nbsp;<span class="op" id="5861192">*</span><span class="op" id="5861193">*</span><span class="ident" id="5861194"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861205"><a href="/encoding/gob/decode.go.html#5861182">enginePtr</a></span><span class="op" id="5861214">,</span>&nbsp;<span class="ident" id="5861216"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861219">.</span><span class="ident" id="5861220">err</span>&nbsp;<span class="op" id="5861224">=</span>&nbsp;<span class="ident" id="5861226"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861229">.</span><span class="ident" id="5861230">getDecEnginePtr</span><span class="op" id="5861245">(</span><span class="ident" id="5861246"><a href="/encoding/gob/decode.go.html#5860884">wireId</a></span><span class="op" id="5861252">,</span>&nbsp;<span class="ident" id="5861254"><a href="/encoding/gob/decode.go.html#5861131">ut</a></span><span class="op" id="5861256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861259">if</span>&nbsp;<span class="ident" id="5861262"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861265">.</span><span class="ident" id="5861266">err</span>&nbsp;<span class="op" id="5861270">!=</span>&nbsp;<span class="ident" id="5861273">nil</span>&nbsp;<span class="op" id="5861277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861281">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5861289">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861292"><a href="/encoding/gob/decode.go.html#5860899">value</a></span>&nbsp;<span class="op" id="5861298">=</span>&nbsp;<span class="ident" id="5861300"><a href="/encoding/gob/decode.go.html#5829927">decAlloc</a></span><span class="op" id="5861308">(</span><span class="ident" id="5861309"><a href="/encoding/gob/decode.go.html#5860899">value</a></span><span class="op" id="5861314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861317">engine</span>&nbsp;<span class="op" id="5861324">:=</span>&nbsp;<span class="op" id="5861327">*</span><span class="ident" id="5861328"><a href="/encoding/gob/decode.go.html#5861182">enginePtr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861339">if</span>&nbsp;<span class="ident" id="5861342">st</span>&nbsp;<span class="op" id="5861345">:=</span>&nbsp;<span class="ident" id="5861348"><a href="/encoding/gob/decode.go.html#5861161">base</a></span><span class="op" id="5861352">;</span>&nbsp;<span class="ident" id="5861354"><a href="/encoding/gob/decode.go.html#5861342">st</a></span><span class="op" id="5861356">.</span><span class="ident" id="5861357">Kind</span><span class="op" id="5861361">(</span><span class="op" id="5861362">)</span>&nbsp;<span class="op" id="5861364">==</span>&nbsp;<span class="ident" id="5861367"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5861374">.</span><span class="ident" id="5861375">Struct</span>&nbsp;<span class="op" id="5861382">&amp;&amp;</span>&nbsp;<span class="ident" id="5861385"><a href="/encoding/gob/decode.go.html#5861131">ut</a></span><span class="op" id="5861387">.</span><span class="ident" id="5861388">externalDec</span>&nbsp;<span class="op" id="5861400">==</span>&nbsp;<span class="num" id="5861403">0</span>&nbsp;<span class="op" id="5861405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861409">if</span>&nbsp;<span class="ident" id="5861412"><a href="/encoding/gob/decode.go.html#5861317">engine</a></span><span class="op" id="5861418">.</span><span class="ident" id="5861419">numInstr</span>&nbsp;<span class="op" id="5861428">==</span>&nbsp;<span class="num" id="5861431">0</span>&nbsp;<span class="op" id="5861433">&amp;&amp;</span>&nbsp;<span class="ident" id="5861436"><a href="/encoding/gob/decode.go.html#5861342">st</a></span><span class="op" id="5861438">.</span><span class="ident" id="5861439">NumField</span><span class="op" id="5861447">(</span><span class="op" id="5861448">)</span>&nbsp;<span class="op" id="5861450">&gt;</span>&nbsp;<span class="num" id="5861452">0</span>&nbsp;<span class="op" id="5861454">&amp;&amp;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861460"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861463">.</span><span class="ident" id="5861464">wireType</span><span class="op" id="5861472">[</span><span class="ident" id="5861473"><a href="/encoding/gob/decode.go.html#5860884">wireId</a></span><span class="op" id="5861479">]</span>&nbsp;<span class="op" id="5861481">!=</span>&nbsp;<span class="ident" id="5861484">nil</span>&nbsp;<span class="op" id="5861488">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5861491">len</span><span class="op" id="5861494">(</span><span class="ident" id="5861495"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861498">.</span><span class="ident" id="5861499">wireType</span><span class="op" id="5861507">[</span><span class="ident" id="5861508"><a href="/encoding/gob/decode.go.html#5860884">wireId</a></span><span class="op" id="5861514">]</span><span class="op" id="5861515">.</span><span class="ident" id="5861516">StructT</span><span class="op" id="5861523">.</span><span class="ident" id="5861524">Field</span><span class="op" id="5861529">)</span>&nbsp;<span class="op" id="5861531">&gt;</span>&nbsp;<span class="num" id="5861533">0</span>&nbsp;<span class="op" id="5861535">{</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861540">name</span>&nbsp;<span class="op" id="5861545">:=</span>&nbsp;<span class="ident" id="5861548"><a href="/encoding/gob/decode.go.html#5861161">base</a></span><span class="op" id="5861552">.</span><span class="ident" id="5861553">Name</span><span class="op" id="5861557">(</span><span class="op" id="5861558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861563"><a href="/encoding/gob/error.go.html#5924041">errorf</a></span><span class="op" id="5861569">(</span><span class="string" id="5861570">&#34;type&nbsp;mismatch:&nbsp;no&nbsp;fields&nbsp;matched&nbsp;compiling&nbsp;decoder&nbsp;for&nbsp;%s&#34;</span><span class="op" id="5861629">,</span>&nbsp;<span class="ident" id="5861631"><a href="/encoding/gob/decode.go.html#5861540">name</a></span><span class="op" id="5861635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5861639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861643"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861646">.</span><span class="ident" id="5861647">decodeStruct</span><span class="op" id="5861659">(</span><span class="ident" id="5861660"><a href="/encoding/gob/decode.go.html#5861317">engine</a></span><span class="op" id="5861666">,</span>&nbsp;<span class="ident" id="5861668"><a href="/encoding/gob/decode.go.html#5861131">ut</a></span><span class="op" id="5861670">,</span>&nbsp;<span class="ident" id="5861672"><a href="/encoding/gob/decode.go.html#5860899">value</a></span><span class="op" id="5861677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5861680">}</span>&nbsp;<span class="keyword" id="5861682">else</span>&nbsp;<span class="op" id="5861687">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861691"><a href="/encoding/gob/decode.go.html#5860858">dec</a></span><span class="op" id="5861694">.</span><span class="ident" id="5861695">decodeSingle</span><span class="op" id="5861707">(</span><span class="ident" id="5861708"><a href="/encoding/gob/decode.go.html#5861317">engine</a></span><span class="op" id="5861714">,</span>&nbsp;<span class="ident" id="5861716"><a href="/encoding/gob/decode.go.html#5861131">ut</a></span><span class="op" id="5861718">,</span>&nbsp;<span class="ident" id="5861720"><a href="/encoding/gob/decode.go.html#5860899">value</a></span><span class="op" id="5861725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5861728">}</span><br>
<span class="lineno"></span><span class="op" id="5861730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5861733">//&nbsp;decodeIgnoredValue&nbsp;decodes&nbsp;the&nbsp;data&nbsp;stream&nbsp;representing&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;specified&nbsp;type&nbsp;and&nbsp;discards&nbsp;it.</span><br>
<span class="lineno">1170</span><span class="keyword" id="5861839">func</span>&nbsp;<span class="op" id="5861844">(</span><span class="ident" id="5861845">dec</span>&nbsp;<span class="op" id="5861849">*</span><span class="ident" id="5861850"><a href="/encoding/gob/decoder.go.html#5863440">Decoder</a></span><span class="op" id="5861857">)</span>&nbsp;<span class="ident" id="5861859">decodeIgnoredValue</span><span class="op" id="5861877">(</span><span class="ident" id="5861878">wireId</span>&nbsp;<span class="ident" id="5861885"><a href="/encoding/gob/type.go.html#5930234">typeId</a></span><span class="op" id="5861891">)</span>&nbsp;<span class="op" id="5861893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861896">var</span>&nbsp;<span class="ident" id="5861900">enginePtr</span>&nbsp;<span class="op" id="5861910">*</span><span class="op" id="5861911">*</span><span class="ident" id="5861912"><a href="/encoding/gob/decode.go.html#5836227">decEngine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5861923"><a href="/encoding/gob/decode.go.html#5861900">enginePtr</a></span><span class="op" id="5861932">,</span>&nbsp;<span class="ident" id="5861934"><a href="/encoding/gob/decode.go.html#5861845">dec</a></span><span class="op" id="5861937">.</span><span class="ident" id="5861938">err</span>&nbsp;<span class="op" id="5861942">=</span>&nbsp;<span class="ident" id="5861944"><a href="/encoding/gob/decode.go.html#5861845">dec</a></span><span class="op" id="5861947">.</span><span class="ident" id="5861948">getIgnoreEnginePtr</span><span class="op" id="5861966">(</span><span class="ident" id="5861967"><a href="/encoding/gob/decode.go.html#5861878">wireId</a></span><span class="op" id="5861973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861976">if</span>&nbsp;<span class="ident" id="5861979"><a href="/encoding/gob/decode.go.html#5861845">dec</a></span><span class="op" id="5861982">.</span><span class="ident" id="5861983">err</span>&nbsp;<span class="op" id="5861987">!=</span>&nbsp;<span class="ident" id="5861990">nil</span>&nbsp;<span class="op" id="5861994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5861998">return</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5862006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862009">wire</span>&nbsp;<span class="op" id="5862014">:=</span>&nbsp;<span class="ident" id="5862017"><a href="/encoding/gob/decode.go.html#5861845">dec</a></span><span class="op" id="5862020">.</span><span class="ident" id="5862021">wireType</span><span class="op" id="5862029">[</span><span class="ident" id="5862030"><a href="/encoding/gob/decode.go.html#5861878">wireId</a></span><span class="op" id="5862036">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862039">if</span>&nbsp;<span class="ident" id="5862042"><a href="/encoding/gob/decode.go.html#5862009">wire</a></span>&nbsp;<span class="op" id="5862047">!=</span>&nbsp;<span class="ident" id="5862050">nil</span>&nbsp;<span class="op" id="5862054">&amp;&amp;</span>&nbsp;<span class="ident" id="5862057"><a href="/encoding/gob/decode.go.html#5862009">wire</a></span><span class="op" id="5862061">.</span><span class="ident" id="5862062">StructT</span>&nbsp;<span class="op" id="5862070">!=</span>&nbsp;<span class="ident" id="5862073">nil</span>&nbsp;<span class="op" id="5862077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862081"><a href="/encoding/gob/decode.go.html#5861845">dec</a></span><span class="op" id="5862084">.</span><span class="ident" id="5862085">ignoreStruct</span><span class="op" id="5862097">(</span><span class="op" id="5862098">*</span><span class="ident" id="5862099"><a href="/encoding/gob/decode.go.html#5861900">enginePtr</a></span><span class="op" id="5862108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5862111">}</span>&nbsp;<span class="keyword" id="5862113">else</span>&nbsp;<span class="op" id="5862118">{</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862122"><a href="/encoding/gob/decode.go.html#5861845">dec</a></span><span class="op" id="5862125">.</span><span class="ident" id="5862126">ignoreSingle</span><span class="op" id="5862138">(</span><span class="op" id="5862139">*</span><span class="ident" id="5862140"><a href="/encoding/gob/decode.go.html#5861900">enginePtr</a></span><span class="op" id="5862149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5862152">}</span><br>
<span class="lineno"></span><span class="op" id="5862154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5862157">func</span>&nbsp;<span class="ident" id="5862162">init</span><span class="op" id="5862166">(</span><span class="op" id="5862167">)</span>&nbsp;<span class="op" id="5862169">{</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862172">var</span>&nbsp;<span class="ident" id="5862176">iop</span><span class="op" id="5862179">,</span>&nbsp;<span class="ident" id="5862181">uop</span>&nbsp;<span class="ident" id="5862185"><a href="/encoding/gob/decode.go.html#5828596">decOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862192">switch</span>&nbsp;<span class="ident" id="5862199"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862206">.</span><span class="ident" id="5862207">TypeOf</span><span class="op" id="5862213">(</span><span class="builtintype" id="5862214">int</span><span class="op" id="5862217">(</span><span class="num" id="5862218">0</span><span class="op" id="5862219">)</span><span class="op" id="5862220">)</span><span class="op" id="5862221">.</span><span class="ident" id="5862222">Bits</span><span class="op" id="5862226">(</span><span class="op" id="5862227">)</span>&nbsp;<span class="op" id="5862229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862232">case</span>&nbsp;<span class="num" id="5862237">32</span><span class="op" id="5862239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862243"><a href="/encoding/gob/decode.go.html#5862176">iop</a></span>&nbsp;<span class="op" id="5862247">=</span>&nbsp;<span class="ident" id="5862249"><a href="/encoding/gob/decode.go.html#5831304">decInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862260"><a href="/encoding/gob/decode.go.html#5862181">uop</a></span>&nbsp;<span class="op" id="5862264">=</span>&nbsp;<span class="ident" id="5862266"><a href="/encoding/gob/decode.go.html#5831561">decUint32</a></span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862277">case</span>&nbsp;<span class="num" id="5862282">64</span><span class="op" id="5862284">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862288"><a href="/encoding/gob/decode.go.html#5862176">iop</a></span>&nbsp;<span class="op" id="5862292">=</span>&nbsp;<span class="ident" id="5862294"><a href="/encoding/gob/decode.go.html#5831791">decInt64</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862305"><a href="/encoding/gob/decode.go.html#5862181">uop</a></span>&nbsp;<span class="op" id="5862309">=</span>&nbsp;<span class="ident" id="5862311"><a href="/encoding/gob/decode.go.html#5831983">decUint64</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862322">default</span><span class="op" id="5862329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5862333">panic</span><span class="op" id="5862338">(</span><span class="string" id="5862339">&#34;gob:&nbsp;unknown&nbsp;size&nbsp;of&nbsp;int/uint&#34;</span><span class="op" id="5862370">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5862373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862376"><a href="/encoding/gob/decode.go.html#5846767">decOpTable</a></span><span class="op" id="5862386">[</span><span class="ident" id="5862387"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862394">.</span><span class="ident" id="5862395">Int</span><span class="op" id="5862398">]</span>&nbsp;<span class="op" id="5862400">=</span>&nbsp;<span class="ident" id="5862402"><a href="/encoding/gob/decode.go.html#5862176">iop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862407"><a href="/encoding/gob/decode.go.html#5846767">decOpTable</a></span><span class="op" id="5862417">[</span><span class="ident" id="5862418"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862425">.</span><span class="ident" id="5862426">Uint</span><span class="op" id="5862430">]</span>&nbsp;<span class="op" id="5862432">=</span>&nbsp;<span class="ident" id="5862434"><a href="/encoding/gob/decode.go.html#5862181">uop</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5862440">//&nbsp;Finally&nbsp;uintptr</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862460">switch</span>&nbsp;<span class="ident" id="5862467"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862474">.</span><span class="ident" id="5862475">TypeOf</span><span class="op" id="5862481">(</span><span class="builtintype" id="5862482">uintptr</span><span class="op" id="5862489">(</span><span class="num" id="5862490">0</span><span class="op" id="5862491">)</span><span class="op" id="5862492">)</span><span class="op" id="5862493">.</span><span class="ident" id="5862494">Bits</span><span class="op" id="5862498">(</span><span class="op" id="5862499">)</span>&nbsp;<span class="op" id="5862501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862504">case</span>&nbsp;<span class="num" id="5862509">32</span><span class="op" id="5862511">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862515"><a href="/encoding/gob/decode.go.html#5862181">uop</a></span>&nbsp;<span class="op" id="5862519">=</span>&nbsp;<span class="ident" id="5862521"><a href="/encoding/gob/decode.go.html#5831561">decUint32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862532">case</span>&nbsp;<span class="num" id="5862537">64</span><span class="op" id="5862539">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862543"><a href="/encoding/gob/decode.go.html#5862181">uop</a></span>&nbsp;<span class="op" id="5862547">=</span>&nbsp;<span class="ident" id="5862549"><a href="/encoding/gob/decode.go.html#5831983">decUint64</a></span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862560">default</span><span class="op" id="5862567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5862571">panic</span><span class="op" id="5862576">(</span><span class="string" id="5862577">&#34;gob:&nbsp;unknown&nbsp;size&nbsp;of&nbsp;uintptr&#34;</span><span class="op" id="5862607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5862610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5862613"><a href="/encoding/gob/decode.go.html#5846767">decOpTable</a></span><span class="op" id="5862623">[</span><span class="ident" id="5862624"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862631">.</span><span class="ident" id="5862632">Uintptr</span><span class="op" id="5862639">]</span>&nbsp;<span class="op" id="5862641">=</span>&nbsp;<span class="ident" id="5862643"><a href="/encoding/gob/decode.go.html#5862181">uop</a></span><br>
<span class="lineno"></span><span class="op" id="5862647">}</span><br>
<span class="lineno">1210</span><br>
<span class="lineno"></span><span class="comment" id="5862650">//&nbsp;Gob&nbsp;depends&nbsp;on&nbsp;being&nbsp;able&nbsp;to&nbsp;take&nbsp;the&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="5862699">//&nbsp;of&nbsp;zeroed&nbsp;Values&nbsp;it&nbsp;creates,&nbsp;so&nbsp;use&nbsp;this&nbsp;wrapper&nbsp;instead</span><br>
<span class="lineno"></span><span class="comment" id="5862759">//&nbsp;of&nbsp;the&nbsp;standard&nbsp;reflect.Zero.</span><br>
<span class="lineno"></span><span class="comment" id="5862792">//&nbsp;Each&nbsp;call&nbsp;allocates&nbsp;once.</span><br>
<span class="lineno">1215</span><span class="keyword" id="5862821">func</span>&nbsp;<span class="ident" id="5862826">allocValue</span><span class="op" id="5862836">(</span><span class="ident" id="5862837">t</span>&nbsp;<span class="ident" id="5862839"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862846">.</span><span class="ident" id="5862847">Type</span><span class="op" id="5862851">)</span>&nbsp;<span class="ident" id="5862853"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862860">.</span><span class="ident" id="5862861">Value</span>&nbsp;<span class="op" id="5862867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5862870">return</span>&nbsp;<span class="ident" id="5862877"><a href="/encoding/gob/decode.go.html#5824559">reflect</a></span><span class="op" id="5862884">.</span><span class="ident" id="5862885">New</span><span class="op" id="5862888">(</span><span class="ident" id="5862889"><a href="/encoding/gob/decode.go.html#5862837">t</a></span><span class="op" id="5862890">)</span><span class="op" id="5862891">.</span><span class="ident" id="5862892">Elem</span><span class="op" id="5862896">(</span><span class="op" id="5862897">)</span><br>
<span class="lineno"></span><span class="op" id="5862899">}</span>
</div>
</body>
</html>
